{"items":[{"tags":["java","graphics"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1637984695,"post_id":70131847,"comment_id":123973195,"body_markdown":"It&#39;s been a while since I did anything in swing, but I think you could use a gridbaglayout for this. And if you run out of ideas and nothing works, you could potentially try subclassing an existing LayoutManager and adding custom code to achieve what you&#39;ve mentioned here","body":"It&#39;s been a while since I did anything in swing, but I think you could use a gridbaglayout for this. And if you run out of ideas and nothing works, you could potentially try subclassing an existing LayoutManager and adding custom code to achieve what you&#39;ve mentioned here"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637990050,"post_id":70131847,"comment_id":123973804,"body_markdown":"`B.setText(new Scanner(System.in).nextLine());` ... Why? I&#39;ve wasted a good 5 minutes trying to figure out why your code won&#39;t do anything only to bump my head against this.  As ControlAltDel said - use an appropriate layout manager, it will do it for you for free","body":"<code>B.setText(new Scanner(System.in).nextLine());</code> ... Why? I&#39;ve wasted a good 5 minutes trying to figure out why your code won&#39;t do anything only to bump my head against this.  As ControlAltDel said - use an appropriate layout manager, it will do it for you for free"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637990129,"post_id":70131847,"comment_id":123973812,"body_markdown":"`JSlider width = new JSlider(SwingConstants.VERTICAL, 0, 0, 100);` also causes a `java.lang.IllegalArgumentException: invalid range properties`, you might want to read the JavaDocs to figure out why","body":"<code>JSlider width = new JSlider(SwingConstants.VERTICAL, 0, 0, 100);</code> also causes a <code>java.lang.IllegalArgumentException: invalid range properties</code>, you might want to read the JavaDocs to figure out why"},{"owner":{"account_id":17442825,"reputation":3,"user_id":12834607,"display_name":"TheGuradian"},"score":0,"creation_date":1638137276,"post_id":70131847,"comment_id":124001470,"body_markdown":"Uhh how can I used layout manager to move the center point of a component while simultanustly resizing?","body":"Uhh how can I used layout manager to move the center point of a component while simultanustly resizing?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637990352,"creation_date":1637990352,"answer_id":70132245,"question_id":70131847,"body_markdown":"Use an appropriate layout manager, get it for free...\r\n\r\nNow your button is always in the middle...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(new Insets(50, 50, 50, 50)));\r\n                setLayout(new GridBagLayout());\r\n                JButton btn = new JButton(&quot;Button in the middle&quot;);\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.ipadx = 100;\r\n                gbc.ipady = 100;\r\n                add(btn, gbc);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nChange the text and see what happens ... for free\r\n\r\nSee [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","title":"How to keep the center of a JComponent at the same spot when resizing it?","body":"<p>Use an appropriate layout manager, get it for free...</p>\n<p>Now your button is always in the middle...</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(new Insets(50, 50, 50, 50)));\n            setLayout(new GridBagLayout());\n            JButton btn = new JButton(&quot;Button in the middle&quot;);\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.ipadx = 100;\n            gbc.ipady = 100;\n            add(btn, gbc);\n        }\n\n    }\n}\n</code></pre>\n<p>Change the text and see what happens ... for free</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n"}],"owner":{"account_id":17442825,"reputation":3,"user_id":12834607,"display_name":"TheGuradian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637990352,"creation_date":1637983972,"question_id":70131847,"body_markdown":"I have program that resizes a button.\r\nI just want to keep the center point in the center.\r\nPerhaps by moving it by the distance between the center and…the upper left corner \r\nLike when I resize the box in JSwing.\r\nI want the center point to remain in the same spot.\r\nHow can I change the x, y of the upper left coordinates as the box increases\r\nwhile keeping the center point in the same spot?\r\nWhat woulf be the steps to get this done?\r\nI guess my using the distance between the center and the upper left corner but how would that help\r\nhttps://pastebin.com/0r8Vhez7\r\nhere&#39;s the code for context.\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Buttons\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n         //Buttons.JLabelExperiments JE = new Buttons().new JLabelExperiments();\r\n         //JE.ASY();\r\n         Buttons.JButtonExperiments JEB = new Buttons().new JButtonExperiments();\r\n         JEB.Print();\r\n    }\r\n\r\n    class JLabelExperiments\r\n    {\r\n        public static void ASY()\r\n        {\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(1200, 1200);\r\n            JLabel lol = new JLabel(new Scanner(System.in).nextLine());\r\n            lol.setBounds(500, 400, 380, 200);\r\n            lol.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n            frame.add(lol);\r\n            JSlider J = new JSlider(JSlider.VERTICAL, 0, 200, 0);\r\n            J.setMinorTickSpacing(2);\r\n            J.setMajorTickSpacing(10);\r\n            J.setPaintLabels(true);\r\n            J.setPaintTicks(true);\r\n            J.setPaintTrack(true);\r\n            J.addChangeListener(e -&gt;\r\n            {\r\n                {\r\n                    lol.setHorizontalAlignment(J.getValue());\r\n                    JLabel LOL = new JLabel(String.valueOf(J.getValue()));\r\n                    LOL.setBounds(700, 700, 100, 150);\r\n                    frame.add(LOL);\r\n                }\r\n            });\r\n            frame.add(J);\r\n            JSlider j = new JSlider(JSlider.HORIZONTAL, 0, 100, 0);\r\n            j.setMajorTickSpacing(10);\r\n            j.setMinorTickSpacing(2);\r\n            j.setPaintTrack(true);\r\n            j.setPaintTicks(true);\r\n            j.setPaintLabels(true);\r\n            j.setBounds(200, 700, 400, 100);\r\n            j.addChangeListener(e -&gt;\r\n            {\r\n                      lol.setVerticalAlignment(j.getValue());\r\n                      JLabel HUH = new JLabel(String.valueOf(j.getValue()));\r\n                      HUH.setBounds(950, 700, 100, 150);\r\n                      frame.add(HUH);\r\n            });\r\n            System.out.printf(&quot;%1$s,    %2$s&quot;, J.getChangeListeners(), j.getChangeListeners());\r\n            frame.add(j);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void asy()\r\n        {\r\n\r\n        }\r\n    }\r\n\r\n    class JButtonExperiments\r\n    {\r\n        public static void Print()\r\n        {\r\n            JFrame frame = new JFrame();\r\n            frame.setLayout(null);\r\n            frame.setSize(1200, 1200);\r\n            JButton B = new JButton(&quot;w&quot;);\r\n            B.setBounds(600, 600, 160, 160);\r\n            B.setText(new Scanner(System.in).nextLine());\r\n            frame.add(B);\r\n            JSlider width = new JSlider(SwingConstants.VERTICAL, 0, 0, 100);\r\n            JSlider height = new JSlider(JSlider.VERTICAL, 0, 0, 100);\r\n            width.setLocation(200, 600);\r\n            JLabel widthBox = new JLabel(&quot;Width&quot;);\r\n            widthBox.setBounds(20, 500, 120, 120);\r\n            height.setLocation(1000, 600);\r\n            JLabel heightBox = new JLabel(&quot;Height&quot;);\r\n            heightBox.setBounds(1180, 500, 120, 120);\r\n            width.setSize(100, 600);\r\n            height.setSize(100, 600);\r\n            frame.setVisible(true);\r\n            AtomicInteger counter = new AtomicInteger();\r\n            B.addActionListener(new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    counter.getAndIncrement();\r\n                    if(counter.get() == 1)\r\n                    {\r\n                        frame.add(width, height);\r\n                    }\r\n                    if(counter.get() == 3)\r\n                    {\r\n                         width.addChangeListener(E -&gt;\r\n                         {\r\n                               B.setSize(B.getWidth()+width.getValue(), B.getHeight());\r\n                         }\r\n                         );\r\n\r\n                        height.addChangeListener(E -&gt;\r\n                        {\r\n                              B.setSize(B.getWidth(), B.getHeight()+height.getValue());\r\n                        }\r\n                        );\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis was just a practice project but it seems this information may be more useful so please before forgive any lack of readability.\r\n\r\nThis code when run will make a button if you click it twice it will activate sliders that allow you to change the width and height of the button. By adding the value of the sliders to the value of the Button&#39;s width and height.","title":"How to keep the center of a JComponent at the same spot when resizing it?","body":"<p>I have program that resizes a button.\nI just want to keep the center point in the center.\nPerhaps by moving it by the distance between the center and…the upper left corner\nLike when I resize the box in JSwing.\nI want the center point to remain in the same spot.\nHow can I change the x, y of the upper left coordinates as the box increases\nwhile keeping the center point in the same spot?\nWhat woulf be the steps to get this done?\nI guess my using the distance between the center and the upper left corner but how would that help\n<a href=\"https://pastebin.com/0r8Vhez7\" rel=\"nofollow noreferrer\">https://pastebin.com/0r8Vhez7</a>\nhere's the code for context.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.event.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Buttons\n{\n    public static void main(String[] args)\n    {\n         //Buttons.JLabelExperiments JE = new Buttons().new JLabelExperiments();\n         //JE.ASY();\n         Buttons.JButtonExperiments JEB = new Buttons().new JButtonExperiments();\n         JEB.Print();\n    }\n\n    class JLabelExperiments\n    {\n        public static void ASY()\n        {\n            JFrame frame = new JFrame();\n            frame.setSize(1200, 1200);\n            JLabel lol = new JLabel(new Scanner(System.in).nextLine());\n            lol.setBounds(500, 400, 380, 200);\n            lol.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            frame.add(lol);\n            JSlider J = new JSlider(JSlider.VERTICAL, 0, 200, 0);\n            J.setMinorTickSpacing(2);\n            J.setMajorTickSpacing(10);\n            J.setPaintLabels(true);\n            J.setPaintTicks(true);\n            J.setPaintTrack(true);\n            J.addChangeListener(e -&gt;\n            {\n                {\n                    lol.setHorizontalAlignment(J.getValue());\n                    JLabel LOL = new JLabel(String.valueOf(J.getValue()));\n                    LOL.setBounds(700, 700, 100, 150);\n                    frame.add(LOL);\n                }\n            });\n            frame.add(J);\n            JSlider j = new JSlider(JSlider.HORIZONTAL, 0, 100, 0);\n            j.setMajorTickSpacing(10);\n            j.setMinorTickSpacing(2);\n            j.setPaintTrack(true);\n            j.setPaintTicks(true);\n            j.setPaintLabels(true);\n            j.setBounds(200, 700, 400, 100);\n            j.addChangeListener(e -&gt;\n            {\n                      lol.setVerticalAlignment(j.getValue());\n                      JLabel HUH = new JLabel(String.valueOf(j.getValue()));\n                      HUH.setBounds(950, 700, 100, 150);\n                      frame.add(HUH);\n            });\n            System.out.printf(&quot;%1$s,    %2$s&quot;, J.getChangeListeners(), j.getChangeListeners());\n            frame.add(j);\n            frame.setVisible(true);\n        }\n\n        public static void asy()\n        {\n\n        }\n    }\n\n    class JButtonExperiments\n    {\n        public static void Print()\n        {\n            JFrame frame = new JFrame();\n            frame.setLayout(null);\n            frame.setSize(1200, 1200);\n            JButton B = new JButton(&quot;w&quot;);\n            B.setBounds(600, 600, 160, 160);\n            B.setText(new Scanner(System.in).nextLine());\n            frame.add(B);\n            JSlider width = new JSlider(SwingConstants.VERTICAL, 0, 0, 100);\n            JSlider height = new JSlider(JSlider.VERTICAL, 0, 0, 100);\n            width.setLocation(200, 600);\n            JLabel widthBox = new JLabel(&quot;Width&quot;);\n            widthBox.setBounds(20, 500, 120, 120);\n            height.setLocation(1000, 600);\n            JLabel heightBox = new JLabel(&quot;Height&quot;);\n            heightBox.setBounds(1180, 500, 120, 120);\n            width.setSize(100, 600);\n            height.setSize(100, 600);\n            frame.setVisible(true);\n            AtomicInteger counter = new AtomicInteger();\n            B.addActionListener(new ActionListener()\n            {\n                public void actionPerformed(ActionEvent e)\n                {\n                    counter.getAndIncrement();\n                    if(counter.get() == 1)\n                    {\n                        frame.add(width, height);\n                    }\n                    if(counter.get() == 3)\n                    {\n                         width.addChangeListener(E -&gt;\n                         {\n                               B.setSize(B.getWidth()+width.getValue(), B.getHeight());\n                         }\n                         );\n\n                        height.addChangeListener(E -&gt;\n                        {\n                              B.setSize(B.getWidth(), B.getHeight()+height.getValue());\n                        }\n                        );\n                    }\n\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>This was just a practice project but it seems this information may be more useful so please before forgive any lack of readability.</p>\n<p>This code when run will make a button if you click it twice it will activate sliders that allow you to change the width and height of the button. By adding the value of the sliders to the value of the Button's width and height.</p>\n"},{"tags":["java","riak","riak-kv"],"answers":[{"tags":[],"owner":{"account_id":1792159,"reputation":465,"user_id":1632289,"display_name":"Nicholas Adams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637989680,"creation_date":1637989680,"answer_id":70132204,"question_id":70130074,"body_markdown":"From the sound of it, you may have AAE turned off and have force replaced a node at some point in the past without running a repair. Why do I say this?\r\n\r\nBy default, Riak has `n_val=3`, meaning that three copies of your data are stored in the cluster. When reading, to improve throughput, Riak will return only the first node response to the client i.e. it asks 3 nodes and only sends the first reply back to the client.\r\n\r\nRiak automatically repairs data on read using `read-repair`. When the three values are read, it compares them and, if one is different to the other two, overwrites the one with the data from the other two to make all three consistent (yes, it&#39;s a bit more complex than this involving vclocks but we don&#39;t need to go into that much detail for this case). If you are running AAE then AAE quietly reads every single piece of your data in the background and so these read repairs happen automatically, meaning this issue should not happen.\r\n\r\nIf AAE is turned off, then on a node failure e.g. hard disks grow old and die, the copy of the data on that node is lost. There is no clean way to replace the node, so you have to do a force replace. In the force replace procedure, the new node is allocated empty partitions with the correct namespaces corresponding to the old node. These empty partitions will not be populated until read-repair does this i.e. the data needs to be read by a user, AAE or a partition repair.\r\n\r\nAssuming you didn&#39;t do a partition repair and AAE is turned off, after a force replace, if you try to read information that is stored on that node, it will return a NULL value - they key exists but the value is not yet populated. If you read it again, read-repair should have fixed this issue or, thanks to a node balancer, your read will land on a different node that does have the data. This is how it reads correctly second time for old data. Any data created after the force replace would be fully populated on all nodes, which is why this issue only affects old data.\r\n\r\nIf you know which node(s) were force replaced in the past, you should probably try running an all partition repair on them as detailed here https://www.tiot.jp/riak-docs/riak/kv/2.2.6/using/repair-recovery/repairs/#repairing-all-partitions-on-a-node . Please note that this will increase the load on your cluster whilst the repair is running. The other option would be to turn on AAE and wait for it to cover your entire cluster&#39;s data (usually a week or so depending on load and volume of data).\r\n\r\n","title":"Riak can&#39;t find object by key in first time","body":"<p>From the sound of it, you may have AAE turned off and have force replaced a node at some point in the past without running a repair. Why do I say this?</p>\n<p>By default, Riak has <code>n_val=3</code>, meaning that three copies of your data are stored in the cluster. When reading, to improve throughput, Riak will return only the first node response to the client i.e. it asks 3 nodes and only sends the first reply back to the client.</p>\n<p>Riak automatically repairs data on read using <code>read-repair</code>. When the three values are read, it compares them and, if one is different to the other two, overwrites the one with the data from the other two to make all three consistent (yes, it's a bit more complex than this involving vclocks but we don't need to go into that much detail for this case). If you are running AAE then AAE quietly reads every single piece of your data in the background and so these read repairs happen automatically, meaning this issue should not happen.</p>\n<p>If AAE is turned off, then on a node failure e.g. hard disks grow old and die, the copy of the data on that node is lost. There is no clean way to replace the node, so you have to do a force replace. In the force replace procedure, the new node is allocated empty partitions with the correct namespaces corresponding to the old node. These empty partitions will not be populated until read-repair does this i.e. the data needs to be read by a user, AAE or a partition repair.</p>\n<p>Assuming you didn't do a partition repair and AAE is turned off, after a force replace, if you try to read information that is stored on that node, it will return a NULL value - they key exists but the value is not yet populated. If you read it again, read-repair should have fixed this issue or, thanks to a node balancer, your read will land on a different node that does have the data. This is how it reads correctly second time for old data. Any data created after the force replace would be fully populated on all nodes, which is why this issue only affects old data.</p>\n<p>If you know which node(s) were force replaced in the past, you should probably try running an all partition repair on them as detailed here <a href=\"https://www.tiot.jp/riak-docs/riak/kv/2.2.6/using/repair-recovery/repairs/#repairing-all-partitions-on-a-node\" rel=\"nofollow noreferrer\">https://www.tiot.jp/riak-docs/riak/kv/2.2.6/using/repair-recovery/repairs/#repairing-all-partitions-on-a-node</a> . Please note that this will increase the load on your cluster whilst the repair is running. The other option would be to turn on AAE and wait for it to cover your entire cluster's data (usually a week or so depending on load and volume of data).</p>\n"}],"owner":{"account_id":1453844,"reputation":717,"user_id":1370019,"accept_rate":40,"display_name":"Sprinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637989680,"creation_date":1637961067,"question_id":70130074,"body_markdown":"We have cluster of 5 Riak nodes.\r\nWe use riak-java-client for work with Riak, usually for create, read, delete data.\r\nUnfortunately we have a problem with read old objects from riak. \r\nSometime when we read object by key we getting null. \r\nWhen we trying repeat reading we getting correct object by the same key. It&#39;s look like very strange.\r\nWhat should we do, how can diagnose this problem? \r\nAny ideas, please?\r\nThis is code for reading object from Riak:\r\n\r\n    String uuid = &lt;keyInRiak&gt;;\r\n    \r\n    Namespace bucket = new Namespace(&quot;default&quot;, &quot;default&quot;);\r\n    Location location = new Location(bucket, uuid);\r\n    FetchValue fetchValue = new FetchValue.Builder(location).build();\r\n    FetchValue.Response response = riakClient.execute(fetchValue);\r\n    if (!response.isNotFound()) {\r\n        RiakObject riakObject = response.getValue(RiakObject.class);\r\n        if(riakObject != null) {\r\n            BinaryValue binaryValue = riakObject.getValue();\r\n            byte[] result = binaryValue != null ? binaryValue.getValue() : null;\r\n    \t\t... process result ...\r\n        }\r\n    }","title":"Riak can&#39;t find object by key in first time","body":"<p>We have cluster of 5 Riak nodes.\nWe use riak-java-client for work with Riak, usually for create, read, delete data.\nUnfortunately we have a problem with read old objects from riak.\nSometime when we read object by key we getting null.\nWhen we trying repeat reading we getting correct object by the same key. It's look like very strange.\nWhat should we do, how can diagnose this problem?\nAny ideas, please?\nThis is code for reading object from Riak:</p>\n<pre><code>String uuid = &lt;keyInRiak&gt;;\n\nNamespace bucket = new Namespace(&quot;default&quot;, &quot;default&quot;);\nLocation location = new Location(bucket, uuid);\nFetchValue fetchValue = new FetchValue.Builder(location).build();\nFetchValue.Response response = riakClient.execute(fetchValue);\nif (!response.isNotFound()) {\n    RiakObject riakObject = response.getValue(RiakObject.class);\n    if(riakObject != null) {\n        BinaryValue binaryValue = riakObject.getValue();\n        byte[] result = binaryValue != null ? binaryValue.getValue() : null;\n        ... process result ...\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637989201,"creation_date":1637989201,"answer_id":70132168,"question_id":70046344,"body_markdown":"Hex E2808B is the &quot;ZERO WIDTH SPACE&quot; in UTF-encoding.\r\n\r\nPlease provide `SHOW CREATE TABLE` for the table in question and indicate which column was being stored into.\r\n\r\nNormally, I would point you at https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored for further diagnosis and http://mysql.rjweb.org/doc.php/charcoll#fixes_for_various_cases for how to fix whichever case you have.\r\n\r\nCan you show us some more context?  That is what characters are around those 3 hex characters.\r\n\r\nI can&#39;t quite tell if this is a &quot;double-encoding&quot; case or UTF-8 text incorrectly declared to be latin1 when it was `INSERTed`.  If you can find how the string was inserted, that might help.\r\n\r\n`C280` smells like an incorrectly encoded Eurosign.","title":"migrating mysql 5.5.62 database schema to mysql 8.0.27 - sporadic error java.sql.SQLException: Incorrect string value: &#39;\\xE2\\x80\\x8B&#39; for column","body":"<p>Hex E2808B is the &quot;ZERO WIDTH SPACE&quot; in UTF-encoding.</p>\n<p>Please provide <code>SHOW CREATE TABLE</code> for the table in question and indicate which column was being stored into.</p>\n<p>Normally, I would point you at <a href=\"https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored\">Trouble with UTF-8 characters; what I see is not what I stored</a> for further diagnosis and <a href=\"http://mysql.rjweb.org/doc.php/charcoll#fixes_for_various_cases\" rel=\"nofollow noreferrer\">http://mysql.rjweb.org/doc.php/charcoll#fixes_for_various_cases</a> for how to fix whichever case you have.</p>\n<p>Can you show us some more context?  That is what characters are around those 3 hex characters.</p>\n<p>I can't quite tell if this is a &quot;double-encoding&quot; case or UTF-8 text incorrectly declared to be latin1 when it was <code>INSERTed</code>.  If you can find how the string was inserted, that might help.</p>\n<p><code>C280</code> smells like an incorrectly encoded Eurosign.</p>\n"}],"owner":{"account_id":4294507,"reputation":79,"user_id":3509904,"accept_rate":25,"display_name":"active_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637989201,"creation_date":1637414813,"question_id":70046344,"body_markdown":"Am migrating a schema from mysql 5.5.62 to mysql 8.0.27.\r\n\r\nThe way am doing is getting a mysqldump from 5.5.62 of the required schema and then importing the dump into mysql 8.0.27.\r\n\r\nEverything works normal with the imported data however while doing an insert from a java application in one of the table fails with the following error: java.sql.SQLException: Incorrect string value: &#39;\\xE2\\x80\\x8B&#39; for column \r\n\r\nThe character set in mysql8.0.27 db is as below\r\n\r\n    mysql&gt; show variables like &#39;char%&#39;;\r\n    +--------------------------+--------------------------------+\r\n    | Variable_name            | Value                          |\r\n    +--------------------------+--------------------------------+\r\n    | character_set_client     | utf8mb4                        |\r\n    | character_set_connection | utf8mb4                        |\r\n    | character_set_database   | utf8mb4                        |\r\n    | character_set_filesystem | binary                         |\r\n    | character_set_results    | utf8mb4                        |\r\n    | character_set_server     | utf8mb4                        |\r\n    | character_set_system     | utf8mb3                        |\r\n    | character_sets_dir       | /usr/share/mysql-8.0/charsets/ |\r\n    +--------------------------+--------------------------------+\r\n    8 rows in set (0.00 sec)\r\n\r\n\r\nThe character set in mysql 5.5.62 db is as below\r\n\r\n    mysql&gt; show variables like &#39;char%&#39;;\r\n    +--------------------------+----------------------------+\r\n    | Variable_name            | Value                      |\r\n    +--------------------------+----------------------------+\r\n    | character_set_client     | latin1                     |\r\n    | character_set_connection | latin1                     |\r\n    | character_set_database   | latin1                     |\r\n    | character_set_filesystem | binary                     |\r\n    | character_set_results    | latin1                     |\r\n    | character_set_server     | latin1                     |\r\n    | character_set_system     | utf8                       |\r\n    | character_sets_dir       | /usr/share/mysql/charsets/ |\r\n    +--------------------------+----------------------------+\r\n    8 rows in set (0.01 sec)\r\n\r\nthe jdbc connector used in the java application which is performing the insert via hibernate is **mysql-connector-java-8.0.27.jar**\r\n\r\nWhy should a user needs to play with character_sets explicitly(when migrating the data to a higher version of mysql) when the user has not done anything special while creating the schema/table in the mysql 5.5.62 server?\r\nAny thoughts on what is the best way to deal with issues like these?\r\n\r\n\r\n***Edit on 22-Nov-2021***\r\n-------------------------\r\n\r\n After several days battling with this finally i came to know that the &#39;culprit&#39; was a specific text returned by the Microsoft Azure API having a character &#39;\\u200b&#39; at the end. I could notice this only when i inspected the RAW text of the response returned by the Azure API in PostMan... \r\n\r\nThe description of this &#39;\\u200b&#39; (Zero Width Space) is clearly explained here\r\nhttps://www.fileformat.info/info/unicode/char/200B/index.htm\r\n\r\nEven the UTF-8 (hex) encoding of this character is\t&#39;0xE2 0x80 0x8B (e2808b)&#39;. which is exactly what is the present in the SQL exception\r\n**java.sql.SQLException: Incorrect string value: &#39;\\xE2\\x80\\x8B&#39; for column**\r\n\r\nSo for me i dont think that i need to handle this by tweaking the database character set configurations as can simply remove this character from the response and process the text before inserting to the database. \r\n\r\nHowever i would like to keep this post active as too much of my effort was wasted troubleshooting the issue thinking this was something with the charset configuration of the DB.\r\n\r\nHaving said all this i tried to execute an insert query from MySQLWorkBench with this character into the table in mysql 5.5 and it inserted the data but with a warning 1 row(s) affected, 1 warning(s): 1366 Incorrect string value: &#39;\\xC2\\x80&#39; for column  \r\n**Please note there is only a warning by the db and not an error**\r\n\r\nWhen i tried to do the same insert into the mysql 8.0 (via MySQLWorkBench) **an error was returned by the DB** Error Code: 1366. Incorrect string value: &#39;\\xC2\\x80&#39; for column.\r\n\r\nIn a real scenario if somebody needs to persist this as is in the table column then how is he/she supposed to do this? Any thoughts?\r\n\r\n\r\n","title":"migrating mysql 5.5.62 database schema to mysql 8.0.27 - sporadic error java.sql.SQLException: Incorrect string value: &#39;\\xE2\\x80\\x8B&#39; for column","body":"<p>Am migrating a schema from mysql 5.5.62 to mysql 8.0.27.</p>\n<p>The way am doing is getting a mysqldump from 5.5.62 of the required schema and then importing the dump into mysql 8.0.27.</p>\n<p>Everything works normal with the imported data however while doing an insert from a java application in one of the table fails with the following error: java.sql.SQLException: Incorrect string value: '\\xE2\\x80\\x8B' for column</p>\n<p>The character set in mysql8.0.27 db is as below</p>\n<pre><code>mysql&gt; show variables like 'char%';\n+--------------------------+--------------------------------+\n| Variable_name            | Value                          |\n+--------------------------+--------------------------------+\n| character_set_client     | utf8mb4                        |\n| character_set_connection | utf8mb4                        |\n| character_set_database   | utf8mb4                        |\n| character_set_filesystem | binary                         |\n| character_set_results    | utf8mb4                        |\n| character_set_server     | utf8mb4                        |\n| character_set_system     | utf8mb3                        |\n| character_sets_dir       | /usr/share/mysql-8.0/charsets/ |\n+--------------------------+--------------------------------+\n8 rows in set (0.00 sec)\n</code></pre>\n<p>The character set in mysql 5.5.62 db is as below</p>\n<pre><code>mysql&gt; show variables like 'char%';\n+--------------------------+----------------------------+\n| Variable_name            | Value                      |\n+--------------------------+----------------------------+\n| character_set_client     | latin1                     |\n| character_set_connection | latin1                     |\n| character_set_database   | latin1                     |\n| character_set_filesystem | binary                     |\n| character_set_results    | latin1                     |\n| character_set_server     | latin1                     |\n| character_set_system     | utf8                       |\n| character_sets_dir       | /usr/share/mysql/charsets/ |\n+--------------------------+----------------------------+\n8 rows in set (0.01 sec)\n</code></pre>\n<p>the jdbc connector used in the java application which is performing the insert via hibernate is <strong>mysql-connector-java-8.0.27.jar</strong></p>\n<p>Why should a user needs to play with character_sets explicitly(when migrating the data to a higher version of mysql) when the user has not done anything special while creating the schema/table in the mysql 5.5.62 server?\nAny thoughts on what is the best way to deal with issues like these?</p>\n<h2><em><strong>Edit on 22-Nov-2021</strong></em></h2>\n<p>After several days battling with this finally i came to know that the 'culprit' was a specific text returned by the Microsoft Azure API having a character '\\u200b' at the end. I could notice this only when i inspected the RAW text of the response returned by the Azure API in PostMan...</p>\n<p>The description of this '\\u200b' (Zero Width Space) is clearly explained here\n<a href=\"https://www.fileformat.info/info/unicode/char/200B/index.htm\" rel=\"nofollow noreferrer\">https://www.fileformat.info/info/unicode/char/200B/index.htm</a></p>\n<p>Even the UTF-8 (hex) encoding of this character is  '0xE2 0x80 0x8B (e2808b)'. which is exactly what is the present in the SQL exception\n<strong>java.sql.SQLException: Incorrect string value: '\\xE2\\x80\\x8B' for column</strong></p>\n<p>So for me i dont think that i need to handle this by tweaking the database character set configurations as can simply remove this character from the response and process the text before inserting to the database.</p>\n<p>However i would like to keep this post active as too much of my effort was wasted troubleshooting the issue thinking this was something with the charset configuration of the DB.</p>\n<p>Having said all this i tried to execute an insert query from MySQLWorkBench with this character into the table in mysql 5.5 and it inserted the data but with a warning 1 row(s) affected, 1 warning(s): 1366 Incorrect string value: '\\xC2\\x80' for column<br />\n<strong>Please note there is only a warning by the db and not an error</strong></p>\n<p>When i tried to do the same insert into the mysql 8.0 (via MySQLWorkBench) <strong>an error was returned by the DB</strong> Error Code: 1366. Incorrect string value: '\\xC2\\x80' for column.</p>\n<p>In a real scenario if somebody needs to persist this as is in the table column then how is he/she supposed to do this? Any thoughts?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"score":0,"creation_date":1638082634,"post_id":70132012,"comment_id":123989509,"body_markdown":"Please, try `student` save at first and `setStudent(student)` before save `laptop`.","body":"Please, try <code>student</code> save at first and <code>setStudent(student)</code> before save <code>laptop</code>."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637987612,"creation_date":1637987612,"answer_id":70132072,"question_id":70132012,"body_markdown":"The &quot;many&quot; side of a 1:many relationship is always the owning side.  If the relationship is bidirectional, then the other side will carry a `mappedBy` attribute, just like the non-owning side of a bidirectional 1:1 relationship.  It is the relationship field on the owning side that is meaningful for conveying the relationship to the persistence layer, and you have failed to set that.\r\n\r\nFor example,\r\n\r\n    laptop.setStudent(student);","title":"Hibernate many-to-one mapping sets foreign key null","body":"<p>The &quot;many&quot; side of a 1:many relationship is always the owning side.  If the relationship is bidirectional, then the other side will carry a <code>mappedBy</code> attribute, just like the non-owning side of a bidirectional 1:1 relationship.  It is the relationship field on the owning side that is meaningful for conveying the relationship to the persistence layer, and you have failed to set that.</p>\n<p>For example,</p>\n<pre><code>laptop.setStudent(student);\n</code></pre>\n"}],"owner":{"account_id":23467283,"reputation":3,"user_id":17521246,"display_name":"Rushabh Chalikwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70132072,"answer_count":1,"score":0,"last_activity_date":1637987612,"creation_date":1637986548,"question_id":70132012,"body_markdown":"Student has multiple laptops. Student oneToMany Laptop mapping\r\n\r\nStudent.java\r\n````package com.practice.hibernateDemo.enity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\n\r\n@Entity\r\npublic class Student {\r\n\t\r\n\t@Id\t\r\n\tprivate int id;\r\n\tprivate StudentName studentName;\r\n\tprivate String email;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;student&quot;)\r\n\tprivate List&lt;Laptop&gt; laptops = new ArrayList&lt;Laptop&gt;();\r\n\t\r\n\tpublic Student() {\r\n\t}\r\n\r\n\r\n\tpublic Student(int id, StudentName studentName, String email) {\r\n\t\tthis.id = id;\r\n\t\tthis.studentName = studentName;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\r\n\tpublic StudentName getStudentName() {\r\n\t\treturn studentName;\r\n\t}\r\n\r\n\r\n\tpublic void setStudentName(StudentName studentName) {\r\n\t\tthis.studentName = studentName;\r\n\t}\r\n\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic List&lt;Laptop&gt; getLaptop() {\r\n\t\treturn laptops;\r\n\t}\r\n\r\n\r\n\tpublic void setLaptop(List&lt;Laptop&gt; laptops) {\r\n\t\tthis.laptops = laptops;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [id=&quot; + id + &quot;, studentName=&quot; + studentName + &quot;, email=&quot; + email + &quot;]&quot;;\r\n\t}\t\r\n}\r\n````\r\n\r\nLaptop.java\r\n````\r\npackage com.practice.hibernateDemo.enity;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\n\r\n@Entity\r\npublic class Laptop {\r\n\r\n\t@Id\r\n\tprivate int lid;\r\n\tprivate String lName;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;student_id&quot;, referencedColumnName=&quot;id&quot;)\r\n\tprivate Student student;\r\n\t\r\n\tpublic Laptop() {\r\n\t}\r\n\r\n\t\r\n\tpublic int getLid() {\r\n\t\treturn lid;\r\n\t}\r\n\r\n\tpublic void setLid(int lid) {\r\n\t\tthis.lid = lid;\r\n\t}\r\n\r\n\tpublic String getlName() {\r\n\t\treturn lName;\r\n\t}\r\n\r\n\tpublic void setlName(String lName) {\r\n\t\tthis.lName = lName;\r\n\t}\r\n\r\n\tpublic Student getStudent() {\r\n\t\treturn student;\r\n\t}\r\n\r\n\tpublic void setStudent(Student student) {\r\n\t\tthis.student = student;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Laptop [id=&quot; + lid + &quot;, lName=&quot; + lName + &quot;]&quot;;\r\n\t}\r\n}\r\n````\r\n\r\nMain class\r\n\r\n````\r\npackage com.practice.hibernateDemo;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\nimport com.practice.hibernateDemo.enity.Laptop;\r\nimport com.practice.hibernateDemo.enity.Student;\r\nimport com.practice.hibernateDemo.enity.StudentName;\r\n\r\npublic class CreateStudent {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tLaptop laptop = new Laptop();\r\n\t\tlaptop.setLid(100);\r\n\t\tlaptop.setlName(&quot;HP&quot;);\t\t\r\n\t\t\r\n\t\tStudent student = new Student();\r\n\t\t\r\n\t\tstudent.setId(101);\r\n\t\tstudent.setEmail(&quot;test@gmail.com&quot;);\r\n\t\tstudent.setStudentName(new StudentName(&quot;test1&quot;,&quot;test2&quot;, &quot;test3&quot;));\r\n\t\tstudent.getLaptop().add(laptop);\r\n\t\t\r\n\t\tConfiguration con = new Configuration().configure().addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\r\n\r\n\t\tSessionFactory sf = con.buildSessionFactory();\r\n\r\n\t\tSession session = sf.getCurrentSession();\r\n\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\t\r\n\t\tsession.save(laptop);\r\n\t\tsession.save(student);\r\n\t\t\r\n\t\ttx.commit();\r\n\t}\r\n\r\n}\r\n````\r\n\r\nAfter saving the object , foreign key in laptop table is setting as null\r\n\r\nlid\tlName   student_id\r\n100\tHP\t    NULL\r\n\r\nAnyone know where I did wrong mapping due to which I am getting foreign key as null\r\n\r\nThanksin advance\r\n","title":"Hibernate many-to-one mapping sets foreign key null","body":"<p>Student has multiple laptops. Student oneToMany Laptop mapping</p>\n<p>Student.java</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\n\n@Entity\npublic class Student {\n    \n    @Id \n    private int id;\n    private StudentName studentName;\n    private String email;\n    \n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;Laptop&gt; laptops = new ArrayList&lt;Laptop&gt;();\n    \n    public Student() {\n    }\n\n\n    public Student(int id, StudentName studentName, String email) {\n        this.id = id;\n        this.studentName = studentName;\n        this.email = email;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n\n    public StudentName getStudentName() {\n        return studentName;\n    }\n\n\n    public void setStudentName(StudentName studentName) {\n        this.studentName = studentName;\n    }\n\n\n    public String getEmail() {\n        return email;\n    }\n\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public List&lt;Laptop&gt; getLaptop() {\n        return laptops;\n    }\n\n\n    public void setLaptop(List&lt;Laptop&gt; laptops) {\n        this.laptops = laptops;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;Student [id=&quot; + id + &quot;, studentName=&quot; + studentName + &quot;, email=&quot; + email + &quot;]&quot;;\n    }   \n}\n</code></pre>\n<p>Laptop.java</p>\n<pre><code>package com.practice.hibernateDemo.enity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\n\n@Entity\npublic class Laptop {\n\n    @Id\n    private int lid;\n    private String lName;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;student_id&quot;, referencedColumnName=&quot;id&quot;)\n    private Student student;\n    \n    public Laptop() {\n    }\n\n    \n    public int getLid() {\n        return lid;\n    }\n\n    public void setLid(int lid) {\n        this.lid = lid;\n    }\n\n    public String getlName() {\n        return lName;\n    }\n\n    public void setlName(String lName) {\n        this.lName = lName;\n    }\n\n    public Student getStudent() {\n        return student;\n    }\n\n    public void setStudent(Student student) {\n        this.student = student;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Laptop [id=&quot; + lid + &quot;, lName=&quot; + lName + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>Main class</p>\n<pre><code>package com.practice.hibernateDemo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\nimport com.practice.hibernateDemo.enity.Laptop;\nimport com.practice.hibernateDemo.enity.Student;\nimport com.practice.hibernateDemo.enity.StudentName;\n\npublic class CreateStudent {\n\n    public static void main(String[] args) {\n\n        Laptop laptop = new Laptop();\n        laptop.setLid(100);\n        laptop.setlName(&quot;HP&quot;);      \n        \n        Student student = new Student();\n        \n        student.setId(101);\n        student.setEmail(&quot;test@gmail.com&quot;);\n        student.setStudentName(new StudentName(&quot;test1&quot;,&quot;test2&quot;, &quot;test3&quot;));\n        student.getLaptop().add(laptop);\n        \n        Configuration con = new Configuration().configure().addAnnotatedClass(Student.class).addAnnotatedClass(Laptop.class);\n\n        SessionFactory sf = con.buildSessionFactory();\n\n        Session session = sf.getCurrentSession();\n\n        Transaction tx = session.beginTransaction();\n        \n        session.save(laptop);\n        session.save(student);\n        \n        tx.commit();\n    }\n\n}\n</code></pre>\n<p>After saving the object , foreign key in laptop table is setting as null</p>\n<p>lid lName   student_id\n100 HP      NULL</p>\n<p>Anyone know where I did wrong mapping due to which I am getting foreign key as null</p>\n<p>Thanksin advance</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23461805,"reputation":66,"user_id":17516567,"display_name":"SeungHwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637987354,"creation_date":1637987354,"answer_id":70132056,"question_id":70132019,"body_markdown":"i solved it like this\r\n\r\nSolution\r\n\r\n1. Enter &#39;server.port=&#39;8080&#39; (changed port number) in the following &#39;application.properties&#39; file where you can create a project.\r\n\r\n2. After connecting to the terminal\r\n\r\nType &#39;sudo lsof -i :[port number you want to check]&#39; to see which ports are running.\r\nDelete server.port and run it again.","title":"Change of port number not workingin sprintboot","body":"<p>i solved it like this</p>\n<p>Solution</p>\n<ol>\n<li><p>Enter 'server.port='8080' (changed port number) in the following 'application.properties' file where you can create a project.</p>\n</li>\n<li><p>After connecting to the terminal</p>\n</li>\n</ol>\n<p>Type 'sudo lsof -i :[port number you want to check]' to see which ports are running.\nDelete server.port and run it again.</p>\n"}],"owner":{"account_id":16094768,"reputation":41,"user_id":11617238,"display_name":"Prudhvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637987354,"creation_date":1637986755,"question_id":70132019,"body_markdown":"I changed default port number from 8080 to 8082 in application.properties file using server.port=8082. Even after changing port number, if I try to run sprint boot app, server is taking default port 8080 and application is not starting.\r\nError message; \r\nDescription:\r\n\r\nWeb server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n","title":"Change of port number not workingin sprintboot","body":"<p>I changed default port number from 8080 to 8082 in application.properties file using server.port=8082. Even after changing port number, if I try to run sprint boot app, server is taking default port 8080 and application is not starting.\nError message;\nDescription:</p>\n<p>Web server failed to start. Port 8080 was already in use.</p>\n<p>Action:</p>\n<p>Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.</p>\n"},{"tags":["java","exception","callback"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637902810,"post_id":70119714,"comment_id":123952341,"body_markdown":"What _precisely_ is the error you get?","body":"What <i>precisely</i> is the error you get?"},{"owner":{"account_id":21052554,"reputation":49,"user_id":15472587,"display_name":"Edgar TA"},"score":0,"creation_date":1637938357,"post_id":70119714,"comment_id":123963466,"body_markdown":"**Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\n\tat main.ConnectDB.main(ConnectDB.java:41)**\n\nIn the main method I&#39;m just creating a new ConnectDB and calling `printUsernames` inside a try-catch.","body":"<b>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:   \tat main.ConnectDB.main(ConnectDB.java:41)</b>  In the main method I&#39;m just creating a new ConnectDB and calling <code>printUsernames</code> inside a try-catch."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637940295,"post_id":70119714,"comment_id":123964192,"body_markdown":"Is there an error message that specifically says this has to do with uncaught SQL exceptions?","body":"Is there an error message that specifically says this has to do with uncaught SQL exceptions?"},{"owner":{"account_id":21052554,"reputation":49,"user_id":15472587,"display_name":"Edgar TA"},"score":0,"creation_date":1637940792,"post_id":70119714,"comment_id":123964380,"body_markdown":"Yes; my editor is highlighting `set.next` and `set.getString` (within `printUsernames`) notifying me of **Unhandled exception type SQLException**","body":"Yes; my editor is highlighting <code>set.next</code> and <code>set.getString</code> (within <code>printUsernames</code>) notifying me of <b>Unhandled exception type SQLException</b>"}],"answers":[{"tags":[],"owner":{"account_id":21052554,"reputation":49,"user_id":15472587,"display_name":"Edgar TA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637986516,"creation_date":1637986516,"answer_id":70132009,"question_id":70119714,"body_markdown":"Turns out I can add a **throws** statement in the methods of an interface, so I wrote this:\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Querier {\r\n\tpublic void query(ResultSet res) throws SQLException;\r\n}\r\n```\r\nIf I refactor my previous code a little...\r\n```java\r\npublic void query(String query, Querier callback, String database) throws SQLException {\r\n\tConnection connection;\r\n\t\r\n\ttry { Class.forName(DRIVER_CLASS); } \r\n\tcatch (Exception e) { e.printStackTrace(); }\r\n\t\r\n\tconnection = DriverManager.getConnection(URL + &quot;/&quot; + database, USER, &quot;&quot;);\r\n\t\r\n\tStatement statement = connection.createStatement();\r\n\tResultSet resultSet = statement.executeQuery(query);\r\n\t\r\n\tcallback.query(resultSet);\r\n\t\r\n\tconnection.close();\r\n}\r\n\r\npublic void printUsernames() throws SQLException {\r\n\tquery(&quot;SELECT username FROM users;&quot;, (ResultSet set) -&gt; {\r\n\t\twhile (set.next()) {\r\n\t\t\tString username = set.getString(&quot;username&quot;);\r\n\t\t\tSystem.out.println(username);\r\n\t\t}\r\n\t}, &quot;cloud&quot;);\r\n}\r\n```\r\nNow I don&#39;t get any errors.","title":"Handle Callback Exceptions In Another Method","body":"<p>Turns out I can add a <strong>throws</strong> statement in the methods of an interface, so I wrote this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface Querier {\n    public void query(ResultSet res) throws SQLException;\n}\n</code></pre>\n<p>If I refactor my previous code a little...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void query(String query, Querier callback, String database) throws SQLException {\n    Connection connection;\n    \n    try { Class.forName(DRIVER_CLASS); } \n    catch (Exception e) { e.printStackTrace(); }\n    \n    connection = DriverManager.getConnection(URL + &quot;/&quot; + database, USER, &quot;&quot;);\n    \n    Statement statement = connection.createStatement();\n    ResultSet resultSet = statement.executeQuery(query);\n    \n    callback.query(resultSet);\n    \n    connection.close();\n}\n\npublic void printUsernames() throws SQLException {\n    query(&quot;SELECT username FROM users;&quot;, (ResultSet set) -&gt; {\n        while (set.next()) {\n            String username = set.getString(&quot;username&quot;);\n            System.out.println(username);\n        }\n    }, &quot;cloud&quot;);\n}\n</code></pre>\n<p>Now I don't get any errors.</p>\n"}],"owner":{"account_id":21052554,"reputation":49,"user_id":15472587,"display_name":"Edgar TA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637986516,"creation_date":1637902312,"question_id":70119714,"body_markdown":"I am connecting to a database and I want to make queries using callbacks, so I wrote this:\r\n\r\n```java\r\npublic void query(String query, Consumer&lt;ResultSet&gt; callback, String database) throws SQLException {\r\n\tConnection connection;\r\n\t\r\n\ttry { Class.forName(DRIVER_CLASS); } \r\n\tcatch (Exception e) { e.printStackTrace(); }\r\n\t\r\n\tconnection = DriverManager.getConnection(URL + &quot;/&quot; + database, USER, &quot;&quot;);\r\n\t\r\n\tStatement statement = connection.createStatement();\r\n\tResultSet resultSet = statement.executeQuery(query);\r\n\t\r\n\tcallback.accept(resultSet);\r\n\t\r\n\tconnection.close();\r\n}\r\n\r\npublic void printUsernames() throws SQLException {\r\n\tquery(&quot;SELECT username FROM users;&quot;, (ResultSet set) -&gt; {\r\n\t\t\twhile (set.next()) {\r\n\t\t\t\tString username = set.getString(&quot;username&quot;);\r\n\t\t\t\tSystem.out.println(username);\r\n\t\t\t}\t\t\t\r\n\t}, &quot;cloud&quot;);\r\n}\r\n```\r\n\r\nEven tough the `query` and `printUsernames` methods\r\nboth declare a throws statement, the Consumer I&#39;m passing\r\nin `printUsernames` still gives compiling errors (I&#39;m warned I&#39;m not handling its possible sql exceptions).\r\n\r\nIs there a way to handle the Consumer exceptions within\r\n`query` so that I don&#39;t have to write a try-catch over and over for any other queries?","title":"Handle Callback Exceptions In Another Method","body":"<p>I am connecting to a database and I want to make queries using callbacks, so I wrote this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void query(String query, Consumer&lt;ResultSet&gt; callback, String database) throws SQLException {\n    Connection connection;\n    \n    try { Class.forName(DRIVER_CLASS); } \n    catch (Exception e) { e.printStackTrace(); }\n    \n    connection = DriverManager.getConnection(URL + &quot;/&quot; + database, USER, &quot;&quot;);\n    \n    Statement statement = connection.createStatement();\n    ResultSet resultSet = statement.executeQuery(query);\n    \n    callback.accept(resultSet);\n    \n    connection.close();\n}\n\npublic void printUsernames() throws SQLException {\n    query(&quot;SELECT username FROM users;&quot;, (ResultSet set) -&gt; {\n            while (set.next()) {\n                String username = set.getString(&quot;username&quot;);\n                System.out.println(username);\n            }           \n    }, &quot;cloud&quot;);\n}\n</code></pre>\n<p>Even tough the <code>query</code> and <code>printUsernames</code> methods\nboth declare a throws statement, the Consumer I'm passing\nin <code>printUsernames</code> still gives compiling errors (I'm warned I'm not handling its possible sql exceptions).</p>\n<p>Is there a way to handle the Consumer exceptions within\n<code>query</code> so that I don't have to write a try-catch over and over for any other queries?</p>\n"},{"tags":["java","android","android-activity","datepicker"],"answers":[{"tags":[],"owner":{"account_id":1077191,"reputation":3065,"user_id":1075066,"accept_rate":93,"display_name":"Its not blank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333336628,"creation_date":1333336628,"answer_id":9970499,"question_id":9970171,"body_markdown":"create a clss by extending datepicker to have your functionality and simply use it through xml layouts like any other component.You can use something lke\r\n\r\n     &lt;com.yourpackagename.yourdatepickerclass....\r\n\r\n","title":"Android: reuse datepicker","body":"<p>create a clss by extending datepicker to have your functionality and simply use it through xml layouts like any other component.You can use something lke</p>\n\n<pre><code> &lt;com.yourpackagename.yourdatepickerclass....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":557802,"reputation":13938,"user_id":920375,"display_name":"Akhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333340597,"creation_date":1333340597,"answer_id":9970872,"question_id":9970171,"body_markdown":"Since you have made a custom datepicker, you can reuse it in any of the layouts as a normal view by just specifying it as part of the layout . For example:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res/jembalang.comfest.game&quot;\r\n      android:layout_width=&quot;fill_parent&quot;\r\n      android:layout_height=&quot;fill_parent&quot;&gt;\r\n      &lt;com.game.MyDatePicker\r\n        android:id=&quot;@+id/game_view&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;&gt;\r\n      &lt;/com.game.MyDatePicker&gt;\r\n      &lt;Button \r\n        android:text=&quot;Button&quot; \r\n        android:id=&quot;@+id/button1&quot; \r\n        android:layout_width=&quot;wrap_content&quot; \r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n      &lt;/Button&gt;\r\n    &lt;/LinearLayout&gt;\r\nYou need to use it by specifiting **packagename.customviewname** . Here in the above example, com.game is the package where MyDatePicker is kept.","title":"Android: reuse datepicker","body":"<p>Since you have made a custom datepicker, you can reuse it in any of the layouts as a normal view by just specifying it as part of the layout . For example:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res/jembalang.comfest.game\"\n  android:layout_width=\"fill_parent\"\n  android:layout_height=\"fill_parent\"&gt;\n  &lt;com.game.MyDatePicker\n    android:id=\"@+id/game_view\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n  &lt;/com.game.MyDatePicker&gt;\n  &lt;Button \n    android:text=\"Button\" \n    android:id=\"@+id/button1\" \n    android:layout_width=\"wrap_content\" \n    android:layout_height=\"wrap_content\"&gt;\n  &lt;/Button&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>You need to use it by specifiting <strong>packagename.customviewname</strong> . Here in the above example, com.game is the package where MyDatePicker is kept.</p>\n"},{"tags":[],"owner":{"account_id":349822,"reputation":1257,"user_id":1187342,"display_name":"Ravi1187342"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333383444,"creation_date":1333383444,"answer_id":9979949,"question_id":9970171,"body_markdown":"Check out this\r\n\r\n\r\n\r\n    class MyDataPicker extends DatePickerDialog{\r\n\t\tint year,  monthOfYear, dayOfMonth;\r\n\t\tfinal Calendar c;\r\n\t\tDate d1;\r\n\t\tpublic MyDataPicker(Context context, DatePickerDialog.OnDateSetListener callBack, int year, int monthOfYear, int dayOfMonth){ \r\n\t\t\tsuper(context,  callBack, year, monthOfYear, dayOfMonth);\r\n\t\t\tthis.year=year;  this.monthOfYear=monthOfYear; this.dayOfMonth=dayOfMonth;\r\n\t\t\t d1= new Date(year,  monthOfYear, dayOfMonth);\r\n\t\t\tc = Calendar.getInstance();\r\n\t\t\t// TODO Auto-generated constructor stub\r\n\t\t}\r\n\t\t\r\n\t\tpublic void onDateChanged(DatePicker datepicker, int year, int month, int day){\r\n\t\t\t\tlong timeinmilies = d1.getTime();\r\n\t\t\t\tDate d = new Date(year, month,day);\r\n\t\t\t\tlong millis = d.getTime();\r\n\t\t\t\tif(millis&lt;=timeinmilies){\r\n\t\t\t\t\tthis.year = year; this.monthOfYear = month; this.dayOfMonth = day;\r\n\t\t\t\t}\r\n\t\t\t\tdatepicker.updateDate(this.year,  monthOfYear, dayOfMonth);\r\n\t\t\t\tsuper.onDateChanged(datepicker,this.year,  monthOfYear, dayOfMonth);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private DatePickerDialog.OnDateSetListener myDateSetListener\r\n\t  = new DatePickerDialog.OnDateSetListener(){\r\n\t   @Override\r\n\t   public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n\t      \r\n\t    // TODO Auto-generated method stub\r\n\r\n\t\t// set Date in EditText or textView Here\r\n\r\n\t    DOB.setText((monthOfYear+1)+&quot;-&quot;+dayOfMonth+&quot;-&quot;+year);\r\n\t   }\r\n\r\n\t\r\n\t };\r\n\r\n\r\n\r\n    // button click to open datepicker\r\n\r\n\tpublic void onClickPickDate(View view){\r\n\t\tfinal Calendar c = Calendar.getInstance();\r\n\t   \tint myYear = c.get(Calendar.YEAR);\r\n\t   \tint myMonth = (c.get(Calendar.MONTH));\r\n\t  \tint  myDay = c.get(Calendar.DAY_OF_MONTH);\r\n\t\r\n\t  MyDataPicker datePickerDialog =  new MyDataPicker(this,myDateSetListener,myYear, myMonth, myDay);\r\n\t \r\n\t  datePickerDialog.show();\r\n\t}\r\n\r\n\r\n\r\n","title":"Android: reuse datepicker","body":"<p>Check out this</p>\n\n<pre><code>class MyDataPicker extends DatePickerDialog{\n    int year,  monthOfYear, dayOfMonth;\n    final Calendar c;\n    Date d1;\n    public MyDataPicker(Context context, DatePickerDialog.OnDateSetListener callBack, int year, int monthOfYear, int dayOfMonth){ \n        super(context,  callBack, year, monthOfYear, dayOfMonth);\n        this.year=year;  this.monthOfYear=monthOfYear; this.dayOfMonth=dayOfMonth;\n         d1= new Date(year,  monthOfYear, dayOfMonth);\n        c = Calendar.getInstance();\n        // TODO Auto-generated constructor stub\n    }\n\n    public void onDateChanged(DatePicker datepicker, int year, int month, int day){\n            long timeinmilies = d1.getTime();\n            Date d = new Date(year, month,day);\n            long millis = d.getTime();\n            if(millis&lt;=timeinmilies){\n                this.year = year; this.monthOfYear = month; this.dayOfMonth = day;\n            }\n            datepicker.updateDate(this.year,  monthOfYear, dayOfMonth);\n            super.onDateChanged(datepicker,this.year,  monthOfYear, dayOfMonth);\n    }\n}\n\n\n\n\n\n\nprivate DatePickerDialog.OnDateSetListener myDateSetListener\n  = new DatePickerDialog.OnDateSetListener(){\n   @Override\n   public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n\n    // TODO Auto-generated method stub\n\n    // set Date in EditText or textView Here\n\n    DOB.setText((monthOfYear+1)+\"-\"+dayOfMonth+\"-\"+year);\n   }\n\n\n };\n\n\n\n// button click to open datepicker\n\npublic void onClickPickDate(View view){\n    final Calendar c = Calendar.getInstance();\n    int myYear = c.get(Calendar.YEAR);\n    int myMonth = (c.get(Calendar.MONTH));\n    int  myDay = c.get(Calendar.DAY_OF_MONTH);\n\n  MyDataPicker datePickerDialog =  new MyDataPicker(this,myDateSetListener,myYear, myMonth, myDay);\n\n  datePickerDialog.show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13609541,"reputation":1,"user_id":12228418,"display_name":"ElandroidPcYmax Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637986374,"creation_date":1637986374,"answer_id":70131999,"question_id":9970171,"body_markdown":"first i am goint to explaint on english is not my native languaje but i hope what you undertand what i am writing for you\r\n\r\nI think what i can help with your problem\r\n\r\nfirst create one class wich is goint to be your dialog your screen\r\n\r\n    class DatePickerFragment(\r\n    private val contextP: Context,\r\n    private val listener: DatePickerDialog.OnDateSetListener) : DialogFragment() {\r\n\r\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\r\n        val c = Calendar.getInstance()\r\n        val year = c.get(Calendar.YEAR)\r\n        val month = c.get(Calendar.MONTH)\r\n        val day = c.get(Calendar.DAY_OF_MONTH)\r\n        val picker = DatePickerDialog(contextP, listener, year, month, day)\r\n        val today = c.timeInMillis\r\n        picker.datePicker.minDate = today\r\n        return picker\r\n    }\r\n\r\n    companion object {\r\n        fun newInstance(\r\n            listener: DatePickerDialog.OnDateSetListener,\r\n            contextP: Context\r\n        ): DatePickerFragment {\r\n            return DatePickerFragment(contextP, listener)\r\n        }\r\n    }\r\n     }\r\n\r\n\r\nthen create this function to reuse y one file  or can be in one companion object \r\n\r\n    fun showDatePickerDialog(listener: DatePickerDialog.OnDateSetListener, fragment: Fragment) {\r\n    val newFragment =\r\n        DatePickerFragment.newInstance(listener, fragment.requireContext())\r\n    fragment.activity?.let { newFragment.show(it.supportFragmentManager, &quot;datePicker&quot;) }\r\n    }\r\n\r\n\r\nthen in your fragment implement for this listener\r\n\r\n    DatePickerDialog.OnDateSetListener\r\n\r\nthen override the method\r\n\r\n    override fun onDateSet(datePicker: DatePicker?, year: Int, month: Int, day:Int) {\r\n        //code what fire when the date is is set\r\n    }\r\n\r\n\r\n\r\nthen in your activity or fragment call this funtion for example in one listener\r\n\r\n     binding.selectDate.setOnClickListener {\r\n            showDatePickerDialog(this,this)\r\n        }\r\n\r\nthe first this do reference to your listener(DatePickerDialog.OnDateSetListener) in your fragment and the second this is your fragment and is all \r\nwith this code you can reuse the dialog Where you want\r\n\r\n","title":"Android: reuse datepicker","body":"<p>first i am goint to explaint on english is not my native languaje but i hope what you undertand what i am writing for you</p>\n<p>I think what i can help with your problem</p>\n<p>first create one class wich is goint to be your dialog your screen</p>\n<pre><code>class DatePickerFragment(\nprivate val contextP: Context,\nprivate val listener: DatePickerDialog.OnDateSetListener) : DialogFragment() {\n\noverride fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    val c = Calendar.getInstance()\n    val year = c.get(Calendar.YEAR)\n    val month = c.get(Calendar.MONTH)\n    val day = c.get(Calendar.DAY_OF_MONTH)\n    val picker = DatePickerDialog(contextP, listener, year, month, day)\n    val today = c.timeInMillis\n    picker.datePicker.minDate = today\n    return picker\n}\n\ncompanion object {\n    fun newInstance(\n        listener: DatePickerDialog.OnDateSetListener,\n        contextP: Context\n    ): DatePickerFragment {\n        return DatePickerFragment(contextP, listener)\n    }\n}\n }\n</code></pre>\n<p>then create this function to reuse y one file  or can be in one companion object</p>\n<pre><code>fun showDatePickerDialog(listener: DatePickerDialog.OnDateSetListener, fragment: Fragment) {\nval newFragment =\n    DatePickerFragment.newInstance(listener, fragment.requireContext())\nfragment.activity?.let { newFragment.show(it.supportFragmentManager, &quot;datePicker&quot;) }\n}\n</code></pre>\n<p>then in your fragment implement for this listener</p>\n<pre><code>DatePickerDialog.OnDateSetListener\n</code></pre>\n<p>then override the method</p>\n<pre><code>override fun onDateSet(datePicker: DatePicker?, year: Int, month: Int, day:Int) {\n    //code what fire when the date is is set\n}\n</code></pre>\n<p>then in your activity or fragment call this funtion for example in one listener</p>\n<pre><code> binding.selectDate.setOnClickListener {\n        showDatePickerDialog(this,this)\n    }\n</code></pre>\n<p>the first this do reference to your listener(DatePickerDialog.OnDateSetListener) in your fragment and the second this is your fragment and is all\nwith this code you can reuse the dialog Where you want</p>\n"}],"owner":{"account_id":1372357,"reputation":163,"user_id":1307098,"accept_rate":87,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1815,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637986374,"creation_date":1333333001,"question_id":9970171,"body_markdown":"I need help with a `DatePicker`.I followed the tutorial developer/android.com and I created my datepicker. The problem is that I need to use the datepicker in almost all my actiity..\r\nSo, how do I reuse my `MyDatePicker` class in other activity without having to write all the code each time ? \r\n\r\nedit2:\r\n     \r\n    public class MyDatePicker extends DatePicker {\r\n                \t\r\n                \t    private EditText mDateDisplay; \r\n                \t    private Button mPickDate;\r\n                \t    private int mYear;\r\n                \t    private int mMonth;\r\n                \t    private int mDay;\r\n        \r\n                \t    static final int DATE_DIALOG_ID = 0;\r\n                \t    \r\n                \t    public MyDatePicker(Context context, AttributeSet attrs, int defStyle) {\r\n                \t\t\tsuper(context, attrs, defStyle);\r\n                                               ///all methods \r\n\r\n\r\nI do not need only the simple widget in layout, I would need a widget that opens by pressing a button.. this changes my EditText field.\r\nputting the &quot;address class &quot; in the layout compiler said me: The following classes could not be instantiated: MyDatePicker.","title":"Android: reuse datepicker","body":"<p>I need help with a <code>DatePicker</code>.I followed the tutorial developer/android.com and I created my datepicker. The problem is that I need to use the datepicker in almost all my actiity..\nSo, how do I reuse my <code>MyDatePicker</code> class in other activity without having to write all the code each time ? </p>\n\n<p>edit2:</p>\n\n<pre><code>public class MyDatePicker extends DatePicker {\n\n                    private EditText mDateDisplay; \n                    private Button mPickDate;\n                    private int mYear;\n                    private int mMonth;\n                    private int mDay;\n\n                    static final int DATE_DIALOG_ID = 0;\n\n                    public MyDatePicker(Context context, AttributeSet attrs, int defStyle) {\n                        super(context, attrs, defStyle);\n                                           ///all methods \n</code></pre>\n\n<p>I do not need only the simple widget in layout, I would need a widget that opens by pressing a button.. this changes my EditText field.\nputting the \"address class \" in the layout compiler said me: The following classes could not be instantiated: MyDatePicker.</p>\n"},{"tags":["java","mouseevent"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637544252,"post_id":70059922,"comment_id":123847092,"body_markdown":"Is the reason that your first program doesn&#39;t work that `getElementAt` is returning `null`, or that `move` is not working on `GCompound`? In either case I suggest that you look at the Javadoc and source code of `GCompound`.","body":"Is the reason that your first program doesn&#39;t work that <code>getElementAt</code> is returning <code>null</code>, or that <code>move</code> is not working on <code>GCompound</code>? In either case I suggest that you look at the Javadoc and source code of <code>GCompound</code>."},{"owner":{"account_id":23405175,"reputation":1,"user_id":17467673,"display_name":"fenglw"},"score":0,"creation_date":1637545954,"post_id":70059922,"comment_id":123847332,"body_markdown":"@tgdavies Thanks for the response. It could be, but i am not sure how to check that. I tried clicking everywhere inside the GCompound, but it simply won&#39;t move. When i create one GCompound object and one GRect object in the same program, the GRect object is always responding to drag.","body":"@tgdavies Thanks for the response. It could be, but i am not sure how to check that. I tried clicking everywhere inside the GCompound, but it simply won&#39;t move. When i create one GCompound object and one GRect object in the same program, the GRect object is always responding to drag."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637546911,"post_id":70059922,"comment_id":123847456,"body_markdown":"Add some code to print a message if `getElemenAt` ever returns a non-null value. That will tell you which problem you have. Have you looked at the `GCompound` javadoc and source?","body":"Add some code to print a message if <code>getElemenAt</code> ever returns a non-null value. That will tell you which problem you have. Have you looked at the <code>GCompound</code> javadoc and source?"},{"owner":{"account_id":23405175,"reputation":1,"user_id":17467673,"display_name":"fenglw"},"score":0,"creation_date":1637550889,"post_id":70059922,"comment_id":123848009,"body_markdown":"@tgdavies thanks for the advice. It does return a `null` value whenever I click on the `GCompound` object. And Javadoc says the `GCompound`  class defines graphic object consists of collection of multiple objects and allows the `getElementAt` method.","body":"@tgdavies thanks for the advice. It does return a <code>null</code> value whenever I click on the <code>GCompound</code> object. And Javadoc says the <code>GCompound</code>  class defines graphic object consists of collection of multiple objects and allows the <code>getElementAt</code> method."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637552013,"post_id":70059922,"comment_id":123848194,"body_markdown":"Both your `DragTest` programs above create a `GRect`. Neither creates a `GFace`.","body":"Both your <code>DragTest</code> programs above create a <code>GRect</code>. Neither creates a <code>GFace</code>."},{"owner":{"account_id":23405175,"reputation":1,"user_id":17467673,"display_name":"fenglw"},"score":0,"creation_date":1637557963,"post_id":70059922,"comment_id":123849036,"body_markdown":"@tgdavies thanks for the continued response. Really appreciate it. I&#39;ve removed one version of the program and  created a `GFace` and a `GRect` in the same program. As I kept testing it, the `GFace` was moving for a brief moment, only when i click on the top left portion of the object, which is outside of the graphics. And it moves twice the amount of my mouse movement. Really confused at the moment.","body":"@tgdavies thanks for the continued response. Really appreciate it. I&#39;ve removed one version of the program and  created a <code>GFace</code> and a <code>GRect</code> in the same program. As I kept testing it, the <code>GFace</code> was moving for a brief moment, only when i click on the top left portion of the object, which is outside of the graphics. And it moves twice the amount of my mouse movement. Really confused at the moment."}],"owner":{"account_id":23405175,"reputation":1,"user_id":17467673,"display_name":"fenglw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637985932,"creation_date":1637543144,"question_id":70059922,"body_markdown":"I am learning Java following class CS106A and am having issues that GCompound object is not interacting with mouse events. \r\n\r\nI noticed the issue while doing programming exercises in &quot;the Art and Science of Java&quot; and couldn&#39;t figure out the reason. So i tried to copy the sample code of the book and tried to run it in eclipse, and they didn&#39;t work either.\r\n\r\nBelow is GFace class defined in the book that extends GCompound.\r\n\r\n\r\n        import acm.graphics.*;\r\n\r\n        public class GFace extends GCompound{\r\n\r\n\t/** Constants specifying feature size as a fraction of the head size*/\r\n\tprivate static final double EYE_WIDTH = 0.15;\r\n\tprivate static final double EYE_HEIGHT = 0.15;\r\n\tprivate static final double NOSE_WIDTH = 0.15;\r\n\tprivate static final double NOSE_HEIGHT = 0.10;\r\n\tprivate static final double MOUTH_WIDTH = 0.50;\r\n\tprivate static final double MOUTH_HEIGHT = 0.03;\r\n\t\r\n\t\r\n\t/** Construct a new GFace object with the specified dimensions. */\r\n\tpublic GFace (double width, double height){\r\n\t\thead = new GOval (width, height);\r\n\t\tleftEye = new GOval (EYE_WIDTH * width, EYE_HEIGHT * height);\r\n\t\trightEye = new GOval (EYE_WIDTH * width, EYE_HEIGHT * height);\r\n\t\tnose = createNose (NOSE_WIDTH * width, NOSE_HEIGHT * height);\r\n\t\tmouth = new GRect(MOUTH_WIDTH * width, MOUTH_HEIGHT * height);\r\n\t\tadd(head, 0, 0);\r\n\t\tadd(leftEye, 0.25 * width - EYE_WIDTH * width / 2,\r\n\t\t\t\t\t 0.25 * height - EYE_HEIGHT * height / 2);\r\n\t\tadd(rightEye, 0.75 * width - EYE_WIDTH * width / 2,\r\n\t\t\t\t\t  0.25 * height - EYE_HEIGHT * height / 2);\r\n\t\tadd(nose, 0.50 * width, 0.50 * height);\r\n\t\tadd(mouth, 0.50 * width - MOUTH_WIDTH * width / 2,\r\n\t\t\t\t   0.75 * height - MOUTH_HEIGHT * height / 2);\t\r\n\t}\r\n\r\n\t/** creates a triangle for the nose*/\r\n\tprivate GPolygon createNose(double width, double height){\r\n\t\tGPolygon poly = new GPolygon();\r\n\t\tpoly.addVertex(0, -height/2);\r\n\t\tpoly.addVertex(width / 2, height / 2);\r\n\t\tpoly.addVertex(-width / 2, height / 2);\r\n\t\treturn poly;\r\n\t}\r\n\t\r\n\t/*instance variables*/\t\r\n\tprivate GOval head;\r\n\tprivate GOval leftEye, rightEye;\r\n\tprivate GPolygon nose;\r\n\tprivate GRect mouth;\t\r\n    }\r\n\r\nand then below program is supposed to create a GFace object on Canvas so that user can drag it around with mouse. But, when i ran the program, the GFace object on canvas does not respond to my mouse, while GRect object can ne dragged on canvas. I&#39;ve also added a rectangle to see if by clicking on the GFace, the program returns null, as suggested in the comment(thanks for the advice!), and it does. It just seems the GCompound object cannot be selected.\r\n\r\n        import acm.graphics.*;\r\n        import acm.program.*;\r\n        import java.awt.event.*;\r\n        import java.awt.*;\r\n        import acm.util.*;\r\n\r\n    public class DragFace extends GraphicsProgram{\r\n\r\n\t\r\n\t/** Width of the face */\r\n\tprivate static final double FACE_WIDTH = 200;\r\n\t\r\n\t/** Height of the face */\r\n\tprivate static final double FACE_HEIGHT = 300;\r\n\t\r\n\t/** Runs the program */\r\n\tpublic void run(){\r\n\t\t/*added a filled rectangle to the screen.\r\n\t\t * if no object selected and returns null,\r\n\t\t * rectangle changes color randomly*/\r\n\t\tadd(temp);\r\n\t\ttemp.setFillColor(Color.RED);\r\n\t\ttemp.setFilled(true);\r\n\t\t\r\n\t\tGFace face = new GFace(FACE_WIDTH, FACE_HEIGHT);\r\n\t\tdouble x1 = (getWidth() - FACE_WIDTH) / 2;\r\n\t\tdouble y1 = (getHeight() - FACE_HEIGHT) / 2;\r\n\t\tadd(face, x1, y1);\r\n\t\t\r\n\t\tGObject rect = new GRect(FACE_WIDTH, FACE_HEIGHT);\r\n\t\tdouble x = (getWidth() - FACE_WIDTH) / 2;\r\n\t\tdouble y = (getHeight() - FACE_HEIGHT) / 2;\r\n\t\tadd(rect, x, y);\r\n\t\trect.setColor(Color.RED);\r\n\t\taddMouseListeners();\r\n\t}\r\n\t\r\n\t/** called on mouse press to record the coordinates of the click */\r\n\tpublic void mousePressed(MouseEvent e){\r\n\t\tlastX = e.getX();\r\n\t\tlastY = e.getY();\r\n\t\tgobj = getElementAt(lastX, lastY);\r\n\t\t\r\n\t\t/* if no object selected and returns null,\r\n\t\t * rectangle changes color randomly each time */\r\n\t\tif(gobj == null){\r\n\t\t\ttemp.setFillColor(rgen.nextColor());\r\n\t\t}\r\n\t}\r\n\t\r\n\t/** called on mouse drag to reposition the object*/\r\n\tpublic void mouseDragged(MouseEvent e){\r\n\t\tif(gobj != null){\r\n\t\t\tgobj.move(e.getX() - lastX, e.getY() - lastY);\r\n\t\t\tlastX = e.getX();\r\n\t\t\tlastY = e.getY();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/** called on mouse click to move this object to the front*/\r\n\tpublic void mouseClicked(MouseEvent e){\r\n\t\tif(gobj != null) gobj.sendToFront();\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/*private state*/\r\n\tprivate GObject gobj; /*the object being dragged*/\r\n\tprivate double lastX; /*the last mouse X position*/\r\n\tprivate double lastY; /*the last mouse Y position*/\r\n\tprivate GRect temp = new GRect(0,0,100,100);/* private rectangle*/\r\n\tprivate RandomGenerator rgen = new RandomGenerator();\r\n    }\r\n\t\r\nMY question is \r\n\r\n1. does GCompound object works as a unit like a GRect? If so, can can anyone point out the cause of the issue in the code above? I don&#39;t know if it&#39;s my software that&#39;s causing the issue, or if I am missing something with the use of GCompound class.\r\n\r\n2. the Gface is supposed to be centered on Canvas, but somehow it shows up on the button right corner. The x- and y- coordinate of the Gface is always twice of the coordinate specified in the add call. Any idea how this might have happened?\r\n\r\nAny help will be greatly appreciated.\r\n\r\n\r\n","title":"mouse event not working with GCompound objects","body":"<p>I am learning Java following class CS106A and am having issues that GCompound object is not interacting with mouse events.</p>\n<p>I noticed the issue while doing programming exercises in &quot;the Art and Science of Java&quot; and couldn't figure out the reason. So i tried to copy the sample code of the book and tried to run it in eclipse, and they didn't work either.</p>\n<p>Below is GFace class defined in the book that extends GCompound.</p>\n<pre><code>    import acm.graphics.*;\n\n    public class GFace extends GCompound{\n\n/** Constants specifying feature size as a fraction of the head size*/\nprivate static final double EYE_WIDTH = 0.15;\nprivate static final double EYE_HEIGHT = 0.15;\nprivate static final double NOSE_WIDTH = 0.15;\nprivate static final double NOSE_HEIGHT = 0.10;\nprivate static final double MOUTH_WIDTH = 0.50;\nprivate static final double MOUTH_HEIGHT = 0.03;\n\n\n/** Construct a new GFace object with the specified dimensions. */\npublic GFace (double width, double height){\n    head = new GOval (width, height);\n    leftEye = new GOval (EYE_WIDTH * width, EYE_HEIGHT * height);\n    rightEye = new GOval (EYE_WIDTH * width, EYE_HEIGHT * height);\n    nose = createNose (NOSE_WIDTH * width, NOSE_HEIGHT * height);\n    mouth = new GRect(MOUTH_WIDTH * width, MOUTH_HEIGHT * height);\n    add(head, 0, 0);\n    add(leftEye, 0.25 * width - EYE_WIDTH * width / 2,\n                 0.25 * height - EYE_HEIGHT * height / 2);\n    add(rightEye, 0.75 * width - EYE_WIDTH * width / 2,\n                  0.25 * height - EYE_HEIGHT * height / 2);\n    add(nose, 0.50 * width, 0.50 * height);\n    add(mouth, 0.50 * width - MOUTH_WIDTH * width / 2,\n               0.75 * height - MOUTH_HEIGHT * height / 2);  \n}\n\n/** creates a triangle for the nose*/\nprivate GPolygon createNose(double width, double height){\n    GPolygon poly = new GPolygon();\n    poly.addVertex(0, -height/2);\n    poly.addVertex(width / 2, height / 2);\n    poly.addVertex(-width / 2, height / 2);\n    return poly;\n}\n\n/*instance variables*/  \nprivate GOval head;\nprivate GOval leftEye, rightEye;\nprivate GPolygon nose;\nprivate GRect mouth;    \n}\n</code></pre>\n<p>and then below program is supposed to create a GFace object on Canvas so that user can drag it around with mouse. But, when i ran the program, the GFace object on canvas does not respond to my mouse, while GRect object can ne dragged on canvas. I've also added a rectangle to see if by clicking on the GFace, the program returns null, as suggested in the comment(thanks for the advice!), and it does. It just seems the GCompound object cannot be selected.</p>\n<pre><code>    import acm.graphics.*;\n    import acm.program.*;\n    import java.awt.event.*;\n    import java.awt.*;\n    import acm.util.*;\n\npublic class DragFace extends GraphicsProgram{\n\n\n/** Width of the face */\nprivate static final double FACE_WIDTH = 200;\n\n/** Height of the face */\nprivate static final double FACE_HEIGHT = 300;\n\n/** Runs the program */\npublic void run(){\n    /*added a filled rectangle to the screen.\n     * if no object selected and returns null,\n     * rectangle changes color randomly*/\n    add(temp);\n    temp.setFillColor(Color.RED);\n    temp.setFilled(true);\n    \n    GFace face = new GFace(FACE_WIDTH, FACE_HEIGHT);\n    double x1 = (getWidth() - FACE_WIDTH) / 2;\n    double y1 = (getHeight() - FACE_HEIGHT) / 2;\n    add(face, x1, y1);\n    \n    GObject rect = new GRect(FACE_WIDTH, FACE_HEIGHT);\n    double x = (getWidth() - FACE_WIDTH) / 2;\n    double y = (getHeight() - FACE_HEIGHT) / 2;\n    add(rect, x, y);\n    rect.setColor(Color.RED);\n    addMouseListeners();\n}\n\n/** called on mouse press to record the coordinates of the click */\npublic void mousePressed(MouseEvent e){\n    lastX = e.getX();\n    lastY = e.getY();\n    gobj = getElementAt(lastX, lastY);\n    \n    /* if no object selected and returns null,\n     * rectangle changes color randomly each time */\n    if(gobj == null){\n        temp.setFillColor(rgen.nextColor());\n    }\n}\n\n/** called on mouse drag to reposition the object*/\npublic void mouseDragged(MouseEvent e){\n    if(gobj != null){\n        gobj.move(e.getX() - lastX, e.getY() - lastY);\n        lastX = e.getX();\n        lastY = e.getY();\n    }\n}\n\n/** called on mouse click to move this object to the front*/\npublic void mouseClicked(MouseEvent e){\n    if(gobj != null) gobj.sendToFront();\n}\n\n\n\n/*private state*/\nprivate GObject gobj; /*the object being dragged*/\nprivate double lastX; /*the last mouse X position*/\nprivate double lastY; /*the last mouse Y position*/\nprivate GRect temp = new GRect(0,0,100,100);/* private rectangle*/\nprivate RandomGenerator rgen = new RandomGenerator();\n}\n</code></pre>\n<p>MY question is</p>\n<ol>\n<li><p>does GCompound object works as a unit like a GRect? If so, can can anyone point out the cause of the issue in the code above? I don't know if it's my software that's causing the issue, or if I am missing something with the use of GCompound class.</p>\n</li>\n<li><p>the Gface is supposed to be centered on Canvas, but somehow it shows up on the button right corner. The x- and y- coordinate of the Gface is always twice of the coordinate specified in the add call. Any idea how this might have happened?</p>\n</li>\n</ol>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","amazon-s3","flink-streaming","vpc-endpoint","amazon-s3-access-points"],"answers":[{"tags":[],"owner":{"account_id":4500340,"reputation":698,"user_id":3659012,"display_name":"wxh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637985854,"creation_date":1637985854,"answer_id":70131966,"question_id":70131837,"body_markdown":"It turns out I could use the S3 access point alias which works perfectly for Flink\r\n\r\nSee https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-points-alias.html","title":"Flink FileSync with AWS S3 plugin throw error when accessing S3 access point - &quot;null uri host&quot;","body":"<p>It turns out I could use the S3 access point alias which works perfectly for Flink</p>\n<p>See <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-points-alias.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-points-alias.html</a></p>\n"}],"owner":{"account_id":4500340,"reputation":698,"user_id":3659012,"display_name":"wxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637985854,"creation_date":1637983769,"question_id":70131837,"body_markdown":"After following [this instruction][1] I am able to access the S3 bucket via access point + VPC endpoint perfectly fine from AWS CLI.\r\n\r\nBasically I use\r\n\r\n    s3://arn:aws:s3:ap-southeast-1:&lt;account number&gt;:accesspoint/&lt;bucket name&gt;\r\n\r\nthe same way as I use\r\n\r\n    s3://&lt;bucket name&gt;\r\n\r\nAll `aws s3 ...` commands works great.\r\n\r\nHowever that&#39;s not the case for my my Java based Flink project code. The code works great with `s3://&lt;bucket name&gt;`, but it seems that it does not recognize the new S3 URI. \r\n\r\nHere is how the sink is defined in my code:\r\n\r\n```java\r\nfinal FileSink&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt; sink = FileSink //\r\n                .&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt;forRowFormat(new Path(s3Url),\r\n                        new Encoder&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt;() {\r\n\r\n                            @Override\r\n                            public void encode(ConsumerRecordPOJO&lt;CacheInfo&gt; record, OutputStream stream)\r\n                                    throws IOException {\r\n                                GzipParameters params = new GzipParameters();\r\n                                params.setCompressionLevel(Deflater.BEST_COMPRESSION);\r\n\r\n                                GzipCompressorOutputStream out = new GzipCompressorOutputStream(stream, params);\r\n\r\n                                OBJECT_MAPPER.writeValue(out, record);\r\n\r\n                                out.finish();\r\n                            }\r\n\r\n                        }) //\r\n                // (some extra configuration omitted here)\r\n                .build();\r\n```\r\n\r\n\r\nAfter passing `s3://arn:aws:s3:ap-southeast-1:&lt;account number&gt;:accesspoint/&lt;bucket name&gt;` to the `s3Url` param, the job execution failed with\r\n\r\n```\r\n2021-11-26 22:14:34,085 WARN  org.apache.flink.runtime.taskmanager.Task                    [] - Source: kafka -&gt; Filter -&gt; Map -&gt; Sink file (1/1)#3 (c654160d3fab026c4544ca8a64644796) switched from INITIALIZING to FAILED with failure cause: org.apache.flink.util.FlinkRuntimeException: Could not create writer state serializer.\r\n        at org.apache.flink.connector.file.sink.FileSink.getWriterStateSerializer(FileSink.java:135)\r\n        at org.apache.flink.streaming.runtime.operators.sink.SinkOperatorFactory.createStreamOperator(SinkOperatorFactory.java:63)\r\n        at org.apache.flink.streaming.api.operators.StreamOperatorFactoryUtil.createOperator(StreamOperatorFactoryUtil.java:81)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperator(OperatorChain.java:712)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:686)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:676)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:676)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\r\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.&lt;init&gt;(OperatorChain.java:187)\r\n        at org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.&lt;init&gt;(RegularOperatorChain.java:63)\r\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:666)\r\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:654)\r\n        at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:958)\r\n        at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)\r\n        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:766)\r\n        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:575)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: null uri host.\r\n        at org.apache.flink.fs.s3.common.AbstractS3FileSystemFactory.create(AbstractS3FileSystemFactory.java:162)\r\n        at org.apache.flink.core.fs.PluginFileSystemFactory.create(PluginFileSystemFactory.java:62)\r\n        at org.apache.flink.core.fs.FileSystem.getUnguardedFileSystem(FileSystem.java:508)\r\n        at org.apache.flink.core.fs.FileSystem.get(FileSystem.java:409)\r\n        at org.apache.flink.connector.file.sink.FileSink$RowFormatBuilder.createBucketWriter(FileSink.java:326)\r\n        at org.apache.flink.connector.file.sink.FileSink$RowFormatBuilder.getWriterStateSerializer(FileSink.java:307)\r\n        at org.apache.flink.connector.file.sink.FileSink.getWriterStateSerializer(FileSink.java:130)\r\n        ... 18 more\r\nCaused by: java.lang.NullPointerException: null uri host.\r\n        at java.util.Objects.requireNonNull(Objects.java:228)\r\n        at org.apache.hadoop.fs.s3native.S3xLoginHelper.buildFSURI(S3xLoginHelper.java:71)\r\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.setUri(S3AFileSystem.java:486)\r\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:246)\r\n        at org.apache.flink.fs.s3.common.AbstractS3FileSystemFactory.create(AbstractS3FileSystemFactory.java:123)\r\n        ... 24 more\r\n```\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/storage/managing-amazon-s3-access-with-vpc-endpoints-and-s3-access-points/","title":"Flink FileSync with AWS S3 plugin throw error when accessing S3 access point - &quot;null uri host&quot;","body":"<p>After following <a href=\"https://aws.amazon.com/blogs/storage/managing-amazon-s3-access-with-vpc-endpoints-and-s3-access-points/\" rel=\"nofollow noreferrer\">this instruction</a> I am able to access the S3 bucket via access point + VPC endpoint perfectly fine from AWS CLI.</p>\n<p>Basically I use</p>\n<pre><code>s3://arn:aws:s3:ap-southeast-1:&lt;account number&gt;:accesspoint/&lt;bucket name&gt;\n</code></pre>\n<p>the same way as I use</p>\n<pre><code>s3://&lt;bucket name&gt;\n</code></pre>\n<p>All <code>aws s3 ...</code> commands works great.</p>\n<p>However that's not the case for my my Java based Flink project code. The code works great with <code>s3://&lt;bucket name&gt;</code>, but it seems that it does not recognize the new S3 URI.</p>\n<p>Here is how the sink is defined in my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final FileSink&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt; sink = FileSink //\n                .&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt;forRowFormat(new Path(s3Url),\n                        new Encoder&lt;ConsumerRecordPOJO&lt;CacheInfo&gt;&gt;() {\n\n                            @Override\n                            public void encode(ConsumerRecordPOJO&lt;CacheInfo&gt; record, OutputStream stream)\n                                    throws IOException {\n                                GzipParameters params = new GzipParameters();\n                                params.setCompressionLevel(Deflater.BEST_COMPRESSION);\n\n                                GzipCompressorOutputStream out = new GzipCompressorOutputStream(stream, params);\n\n                                OBJECT_MAPPER.writeValue(out, record);\n\n                                out.finish();\n                            }\n\n                        }) //\n                // (some extra configuration omitted here)\n                .build();\n</code></pre>\n<p>After passing <code>s3://arn:aws:s3:ap-southeast-1:&lt;account number&gt;:accesspoint/&lt;bucket name&gt;</code> to the <code>s3Url</code> param, the job execution failed with</p>\n<pre><code>2021-11-26 22:14:34,085 WARN  org.apache.flink.runtime.taskmanager.Task                    [] - Source: kafka -&gt; Filter -&gt; Map -&gt; Sink file (1/1)#3 (c654160d3fab026c4544ca8a64644796) switched from INITIALIZING to FAILED with failure cause: org.apache.flink.util.FlinkRuntimeException: Could not create writer state serializer.\n        at org.apache.flink.connector.file.sink.FileSink.getWriterStateSerializer(FileSink.java:135)\n        at org.apache.flink.streaming.runtime.operators.sink.SinkOperatorFactory.createStreamOperator(SinkOperatorFactory.java:63)\n        at org.apache.flink.streaming.api.operators.StreamOperatorFactoryUtil.createOperator(StreamOperatorFactoryUtil.java:81)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperator(OperatorChain.java:712)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:686)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:676)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOperatorChain(OperatorChain.java:676)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.createOutputCollector(OperatorChain.java:626)\n        at org.apache.flink.streaming.runtime.tasks.OperatorChain.&lt;init&gt;(OperatorChain.java:187)\n        at org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.&lt;init&gt;(RegularOperatorChain.java:63)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:666)\n        at org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:654)\n        at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:958)\n        at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)\n        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:766)\n        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:575)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: null uri host.\n        at org.apache.flink.fs.s3.common.AbstractS3FileSystemFactory.create(AbstractS3FileSystemFactory.java:162)\n        at org.apache.flink.core.fs.PluginFileSystemFactory.create(PluginFileSystemFactory.java:62)\n        at org.apache.flink.core.fs.FileSystem.getUnguardedFileSystem(FileSystem.java:508)\n        at org.apache.flink.core.fs.FileSystem.get(FileSystem.java:409)\n        at org.apache.flink.connector.file.sink.FileSink$RowFormatBuilder.createBucketWriter(FileSink.java:326)\n        at org.apache.flink.connector.file.sink.FileSink$RowFormatBuilder.getWriterStateSerializer(FileSink.java:307)\n        at org.apache.flink.connector.file.sink.FileSink.getWriterStateSerializer(FileSink.java:130)\n        ... 18 more\nCaused by: java.lang.NullPointerException: null uri host.\n        at java.util.Objects.requireNonNull(Objects.java:228)\n        at org.apache.hadoop.fs.s3native.S3xLoginHelper.buildFSURI(S3xLoginHelper.java:71)\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.setUri(S3AFileSystem.java:486)\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:246)\n        at org.apache.flink.fs.s3.common.AbstractS3FileSystemFactory.create(AbstractS3FileSystemFactory.java:123)\n        ... 24 more\n</code></pre>\n"},{"tags":["java","maven","tomcat","waffle"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1637918013,"post_id":70121084,"comment_id":123956047,"body_markdown":"Your custom component `waffle.apache.MixedAuthenticator` must be in Tomcat&#39;s classpath (`$CATALINA_BASE/lib` for example).","body":"Your custom component <code>waffle.apache.MixedAuthenticator</code> must be in Tomcat&#39;s classpath (<code>$CATALINA_BASE&#47;lib</code> for example)."}],"answers":[{"tags":[],"owner":{"account_id":23461805,"reputation":66,"user_id":17516567,"display_name":"SeungHwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637984395,"creation_date":1637932818,"answer_id":70125070,"question_id":70121084,"body_markdown":"The problem was caused by trying to use the server.xml used in tomcat7 as it is in tomcat9.\r\n\r\n\r\ntomcat 9 \r\nserver.xml\r\n```\r\n &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n&lt;Listener className=&quot;org.apache.catalina.security.SecurityListener&quot; /&gt;\r\n&lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n&lt;!-- Listener className=&quot;org.apache.catalina.core.JasperListener&quot; /--&gt;\r\n&lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\r\n&lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\r\n&lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\r\n```","title":"How do I resolve Java.lang.ClassNotFoundException: waffle. Apache.MixedAuthenticator with Tomcat 9?","body":"<p>The problem was caused by trying to use the server.xml used in tomcat7 as it is in tomcat9.</p>\n<p>tomcat 9\nserver.xml</p>\n<pre><code> &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\n&lt;Listener className=&quot;org.apache.catalina.security.SecurityListener&quot; /&gt;\n&lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\n&lt;!-- Listener className=&quot;org.apache.catalina.core.JasperListener&quot; /--&gt;\n&lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\n&lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\n&lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":14572748,"reputation":1,"user_id":10525567,"display_name":"Anudeep Tangudu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637984395,"creation_date":1637913266,"question_id":70121084,"body_markdown":"I am using Apache Tomcat 9 for running a java project using below pom &amp; encountering the following issue while starting tomcat server. Please provide suggestions to resolve this issue.\r\n\r\nI am not facing any such issues in apache tomcat 7 but while using apache tomcat 9 i am facing this issue from apache tomcat util jar from lib folder. \r\n\r\n\r\n**Pom file used :**\r\n\r\n```\r\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;groupId&gt;AMS&lt;/groupId&gt;\r\n&lt;artifactId&gt;AMS&lt;/artifactId&gt;\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;packaging&gt;war&lt;/packaging&gt;\r\n&lt;name&gt;webservice_app&lt;/name&gt;\r\n&lt;url&gt;Welcome to Apache Maven&lt;/url&gt;\r\n&lt;dependencies&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n&lt;version&gt;20140107&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n&lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n&lt;version&gt;1.4.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n&lt;version&gt;9.4.0.jre16&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-jetty --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n&lt;artifactId&gt;waffle-jetty&lt;/artifactId&gt;\r\n&lt;version&gt;1.9.1&lt;/version&gt;\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-shiro --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n&lt;artifactId&gt;waffle-shiro&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-spring-security4 --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n&lt;artifactId&gt;waffle-spring-security4&lt;/artifactId&gt;\r\n&lt;version&gt;1.8.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n&lt;version&gt;3.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.webjars/datatables --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n&lt;artifactId&gt;datatables&lt;/artifactId&gt;\r\n&lt;version&gt;1.11.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n&lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n&lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna-platform --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n&lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n&lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-jna --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n&lt;artifactId&gt;waffle-jna&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-tomcat9 --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n&lt;artifactId&gt;waffle-tomcat9&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.8.1&lt;/version&gt;\r\n&lt;configuration&gt;\r\n&lt;source&gt;1.8&lt;/source&gt;\r\n&lt;target&gt;1.8&lt;/target&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.3.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n**Error Stack :**\r\n\r\n```\r\nNov 23, 2021 1:29:09 PM org.apache.tomcat.util.digester.Digester startElement\r\nSEVERE: Begin event threw exception\r\njava.lang.ClassNotFoundException: waffle.apache.MixedAuthenticator\r\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\nat org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:104)\r\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1293)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1386)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2725)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:541)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\r\nat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1551)\r\nat org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:617)\r\nat org.apache.catalina.startup.Catalina.load(Catalina.java:709)\r\nat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:302)\r\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:472)\r\nNov 23, 2021 1:29:09 PM org.apache.catalina.startup.Catalina parseServerXml\r\nWARNING: Unable to load server configuration from [C:\\Users\\tangudan\\OtherProjects\\AMS\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\server.xml]\r\norg.xml.sax.SAXParseException; systemId: file:/C:/Users/tangudan/OtherProjects/AMS/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/server.xml; lineNumber: 157; columnNumber: 149; Error at line [157] column [149]: [waffle.apache.MixedAuthenticator]\r\nat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1982)\r\nat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2014)\r\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1296)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1386)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2725)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:541)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\r\nat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1551)\r\nat org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:617)\r\nat org.apache.catalina.startup.Catalina.load(Catalina.java:709)\r\nat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:302)\r\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:472)\r\nCaused by: java.lang.ClassNotFoundException: waffle.apache.MixedAuthenticator\r\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\nat org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:104)\r\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1293)\r\n... 21 more\r\nNov 23, 2021 1:29:09 PM org.apache.catalina.startup.Catalina start\r\nSEVERE: Cannot start server, server instance is not configure\r\n```\r\n","title":"How do I resolve Java.lang.ClassNotFoundException: waffle. Apache.MixedAuthenticator with Tomcat 9?","body":"<p>I am using Apache Tomcat 9 for running a java project using below pom &amp; encountering the following issue while starting tomcat server. Please provide suggestions to resolve this issue.</p>\n<p>I am not facing any such issues in apache tomcat 7 but while using apache tomcat 9 i am facing this issue from apache tomcat util jar from lib folder.</p>\n<p><strong>Pom file used :</strong></p>\n<pre><code> &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;AMS&lt;/groupId&gt;\n&lt;artifactId&gt;AMS&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;webservice_app&lt;/name&gt;\n&lt;url&gt;Welcome to Apache Maven&lt;/url&gt;\n&lt;dependencies&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.json&lt;/groupId&gt;\n&lt;artifactId&gt;json&lt;/artifactId&gt;\n&lt;version&gt;20140107&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n&lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.mail&lt;/groupId&gt;\n&lt;artifactId&gt;mail&lt;/artifactId&gt;\n&lt;version&gt;1.4.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n&lt;version&gt;3.0.1&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n&lt;version&gt;9.4.0.jre16&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-jetty --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n&lt;artifactId&gt;waffle-jetty&lt;/artifactId&gt;\n&lt;version&gt;1.9.1&lt;/version&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-shiro --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n&lt;artifactId&gt;waffle-shiro&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-spring-security4 --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n&lt;artifactId&gt;waffle-spring-security4&lt;/artifactId&gt;\n&lt;version&gt;1.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.webjars&lt;/groupId&gt;\n&lt;artifactId&gt;jquery&lt;/artifactId&gt;\n&lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.webjars/datatables --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.webjars&lt;/groupId&gt;\n&lt;artifactId&gt;datatables&lt;/artifactId&gt;\n&lt;version&gt;1.11.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n&lt;artifactId&gt;guava&lt;/artifactId&gt;\n&lt;version&gt;31.0.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n&lt;artifactId&gt;jna&lt;/artifactId&gt;\n&lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna-platform --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n&lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n&lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n&lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-jna --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n&lt;artifactId&gt;waffle-jna&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.github.waffle/waffle-tomcat9 --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n&lt;artifactId&gt;waffle-tomcat9&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.8.1&lt;/version&gt;\n&lt;configuration&gt;\n&lt;source&gt;1.8&lt;/source&gt;\n&lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Error Stack :</strong></p>\n<pre><code>Nov 23, 2021 1:29:09 PM org.apache.tomcat.util.digester.Digester startElement\nSEVERE: Begin event threw exception\njava.lang.ClassNotFoundException: waffle.apache.MixedAuthenticator\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\nat org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:104)\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1293)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1386)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2725)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:541)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\nat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1551)\nat org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:617)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:709)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:302)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:472)\nNov 23, 2021 1:29:09 PM org.apache.catalina.startup.Catalina parseServerXml\nWARNING: Unable to load server configuration from [C:\\Users\\tangudan\\OtherProjects\\AMS\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\server.xml]\norg.xml.sax.SAXParseException; systemId: file:/C:/Users/tangudan/OtherProjects/AMS/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/server.xml; lineNumber: 157; columnNumber: 149; Error at line [157] column [149]: [waffle.apache.MixedAuthenticator]\nat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:1982)\nat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2014)\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1296)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1386)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2725)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:541)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\nat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1551)\nat org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:617)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:709)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:302)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:472)\nCaused by: java.lang.ClassNotFoundException: waffle.apache.MixedAuthenticator\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\nat org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:104)\nat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1293)\n... 21 more\nNov 23, 2021 1:29:09 PM org.apache.catalina.startup.Catalina start\nSEVERE: Cannot start server, server instance is not configure\n</code></pre>\n"},{"tags":["java","casting","primitive"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1265366888,"creation_date":1265366888,"answer_id":2206604,"question_id":2206598,"body_markdown":"If the object is *actually* a `Boolean` instance, then just cast it:\r\n\r\n    boolean di = (Boolean) someObject;\r\n\r\nThe explicit cast will do the conversion to `Boolean`, and then there&#39;s the auto-unboxing to the primitive value. Or you can do that explicitly:\r\n\r\n    boolean di = ((Boolean) someObject).booleanValue();\r\n\r\nIf `someObject` doesn&#39;t refer to a Boolean value though, what do you want the code to do?","title":"How to cast Object to boolean?","body":"<p>If the object is <em>actually</em> a <code>Boolean</code> instance, then just cast it:</p>\n\n<pre><code>boolean di = (Boolean) someObject;\n</code></pre>\n\n<p>The explicit cast will do the conversion to <code>Boolean</code>, and then there's the auto-unboxing to the primitive value. Or you can do that explicitly:</p>\n\n<pre><code>boolean di = ((Boolean) someObject).booleanValue();\n</code></pre>\n\n<p>If <code>someObject</code> doesn't refer to a Boolean value though, what do you want the code to do?</p>\n"},{"tags":[],"owner":{"account_id":21712,"reputation":4129,"user_id":53009,"accept_rate":80,"display_name":"chburd"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1265367240,"creation_date":1265367240,"answer_id":2206627,"question_id":2206598,"body_markdown":"Assuming that yourObject.toString() returns &quot;true&quot; or &quot;false&quot;, you can try\r\n\r\n    boolean b = Boolean.valueOf(yourObject.toString())\r\n\r\n","title":"How to cast Object to boolean?","body":"<p>Assuming that yourObject.toString() returns \"true\" or \"false\", you can try</p>\n\n<pre><code>boolean b = Boolean.valueOf(yourObject.toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15784263,"reputation":1,"user_id":11389582,"display_name":"carlos oliveira"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1637984101,"creation_date":1637983293,"answer_id":70131812,"question_id":2206598,"body_markdown":"use the conditional operator &quot;?&quot; like this below:\r\n\r\n    int a = 1;   //in case you want to type 1 or 0 values in the constructor call \r\n    Boolean b;   //class var.\r\n    b=(a&gt;0?true:false);   //set it in the constructor body\r\n\r\n","title":"How to cast Object to boolean?","body":"<p>use the conditional operator &quot;?&quot; like this below:</p>\n<pre><code>int a = 1;   //in case you want to type 1 or 0 values in the constructor call \nBoolean b;   //class var.\nb=(a&gt;0?true:false);   //set it in the constructor body\n</code></pre>\n"}],"owner":{"account_id":59405,"reputation":4488,"user_id":177758,"accept_rate":79,"display_name":"Ravi Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232147,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":2206604,"answer_count":3,"score":92,"last_activity_date":1637984101,"creation_date":1265366821,"question_id":2206598,"body_markdown":"How can I cast a Java object into a boolean primitive \r\n\r\nI tried like below but it doesn&#39;t work\r\n\r\n    boolean di = new Boolean(someObject).booleanValue();\r\n\r\n&gt;The constructor Boolean(Object) is undefined\r\n\r\nPlease advise.","title":"How to cast Object to boolean?","body":"<p>How can I cast a Java object into a boolean primitive </p>\n\n<p>I tried like below but it doesn't work</p>\n\n<pre><code>boolean di = new Boolean(someObject).booleanValue();\n</code></pre>\n\n<blockquote>\n  <p>The constructor Boolean(Object) is undefined</p>\n</blockquote>\n\n<p>Please advise.</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":0,"creation_date":1638210873,"post_id":70128184,"comment_id":124022850,"body_markdown":"Are you setting the header at your ISOMsg level? \n\nYou may want to add\n \n`&lt;property name=&#39;override-header&#39; value=&#39;true&#39; /&gt;`\n\nto your channel configuration.","body":"Are you setting the header at your ISOMsg level?   You may want to add   <code>&lt;property name=&#39;override-header&#39; value=&#39;true&#39; &#47;&gt;</code>  to your channel configuration."}],"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637983167,"creation_date":1637948253,"question_id":70128184,"body_markdown":"Here is my client channel adaptor configuration.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;channel-adaptor name=&quot;jpos-client-adaptor&quot; class=&quot;org.jpos.q2.iso.OneShotChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\r\n       &lt;channel class=&quot;org.jpos.iso.channel.NACChannel&quot; logger=&quot;Q2&quot; packager=&quot;org.jpos.iso.packager.ISO87APackager&quot; header=&quot;6000010152&quot;&gt;\r\n          &lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\r\n          &lt;property name=&quot;port&quot; value=&quot;65000&quot; /&gt;\r\n          &lt;!--        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}\\\\isoproperties\\\\iso8583ver87Packager.xml&quot;/&gt;--&gt;\r\n       &lt;/channel&gt;\r\n       &lt;in&gt;channel-Tx&lt;/in&gt;\r\n       &lt;out&gt;channel-Rx&lt;/out&gt;\r\n       &lt;max-connections&gt;1&lt;/max-connections&gt;\r\n       &lt;max-connect-attempts&gt;3&lt;/max-connect-attempts&gt;\r\n    &lt;/channel-adaptor&gt;\r\n\r\nWhile debugging in ISORequestListener class expected header is not seen. Client and server are using the same packager.\r\n[![specified header not seen][1]][1]\r\n\r\n\r\nAlso, the wrong MTI is seen while debugging.\r\n\r\nsent:\r\n&gt; 0200\r\n\r\ngot:\r\n&gt; 23114\r\n\r\n [![got wrong MTI][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TC4k2.png\r\n  [2]: https://i.stack.imgur.com/tcQdH.png","title":"Jpos client ignores header specified in channel configuration file. What`s wrong?","body":"<p>Here is my client channel adaptor configuration.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;channel-adaptor name=&quot;jpos-client-adaptor&quot; class=&quot;org.jpos.q2.iso.OneShotChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\n   &lt;channel class=&quot;org.jpos.iso.channel.NACChannel&quot; logger=&quot;Q2&quot; packager=&quot;org.jpos.iso.packager.ISO87APackager&quot; header=&quot;6000010152&quot;&gt;\n      &lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\n      &lt;property name=&quot;port&quot; value=&quot;65000&quot; /&gt;\n      &lt;!--        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}\\\\isoproperties\\\\iso8583ver87Packager.xml&quot;/&gt;--&gt;\n   &lt;/channel&gt;\n   &lt;in&gt;channel-Tx&lt;/in&gt;\n   &lt;out&gt;channel-Rx&lt;/out&gt;\n   &lt;max-connections&gt;1&lt;/max-connections&gt;\n   &lt;max-connect-attempts&gt;3&lt;/max-connect-attempts&gt;\n&lt;/channel-adaptor&gt;\n</code></pre>\n<p>While debugging in ISORequestListener class expected header is not seen. Client and server are using the same packager.\n<a href=\"https://i.stack.imgur.com/TC4k2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TC4k2.png\" alt=\"specified header not seen\" /></a></p>\n<p>Also, the wrong MTI is seen while debugging.</p>\n<p>sent:</p>\n<blockquote>\n<p>0200</p>\n</blockquote>\n<p>got:</p>\n<blockquote>\n<p>23114</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/tcQdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tcQdH.png\" alt=\"got wrong MTI\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":3,"creation_date":1637983903,"post_id":70131784,"comment_id":123973123,"body_markdown":"Draw a String using a Graphics object: `g.drawString(&quot;Hello World&quot;, x, y)`","body":"Draw a String using a Graphics object: <code>g.drawString(&quot;Hello World&quot;, x, y)</code>"},{"owner":{"account_id":16746537,"reputation":55,"user_id":16769086,"display_name":"FurryDestroyer69"},"score":0,"creation_date":1637983989,"post_id":70131784,"comment_id":123973131,"body_markdown":"You are kidding me, what?! Thanks! :)","body":"You are kidding me, what?! Thanks! :)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1637985144,"post_id":70131784,"comment_id":123973248,"body_markdown":"Tips: 1) Don&#39;t extend `JFrame`. For custom painting. Extend a `JPanel` and override the `paintComponent` method, then add it to the frame. 2) `setBounds(.., size, size);` that&#39;s the wrong size. Even if it is a correct guess for your case, it will be wrong for almost everyone else. The custom painted component should *suggest* a preferred size, then the frame be `pack()`ed around it. 3) Post a [mre]. 4) `I = new BufferedImage(..` attribute names should start with lower case. 5) An overridden paint method should use `@Override` notation &amp; call the super method. 6) GUIs should be started on EDT.","body":"Tips: 1) Don&#39;t extend <code>JFrame</code>. For custom painting. Extend a <code>JPanel</code> and override the <code>paintComponent</code> method, then add it to the frame. 2) <code>setBounds(.., size, size);</code> that&#39;s the wrong size. Even if it is a correct guess for your case, it will be wrong for almost everyone else. The custom painted component should <i>suggest</i> a preferred size, then the frame be <code>pack()</code>ed around it. 3) Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 4) <code>I = new BufferedImage(..</code> attribute names should start with lower case. 5) An overridden paint method should use <code>@Override</code> notation &amp; call the super method. 6) GUIs should be started on EDT."},{"owner":{"account_id":16746537,"reputation":55,"user_id":16769086,"display_name":"FurryDestroyer69"},"score":0,"creation_date":1637986243,"post_id":70131784,"comment_id":123973377,"body_markdown":"Thanks to both of you. I am still working on this, and definitely have a lot to improve.","body":"Thanks to both of you. I am still working on this, and definitely have a lot to improve."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637989627,"post_id":70131784,"comment_id":123973757,"body_markdown":"When would you like to display this text?!","body":"When would you like to display this text?!"}],"owner":{"account_id":16746537,"reputation":55,"user_id":16769086,"display_name":"FurryDestroyer69"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1637983026,"creation_date":1637982955,"question_id":70131784,"body_markdown":"I have a Voronoi diagram being displayed thanks to the Graphics2D class. I would like to know how to display a String in one of black dots located within the patterns. I&#39;ve tried things such as labels, etc., and can&#39;t manage to output a String anywhere in the diagram.\r\n\r\n[![output example][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/SI4Vq.png\r\n\r\nHere&#39;s how the code looks:\r\n \r\n\tpublic Voronoi() {\r\n\t\tsuper(&quot;Voronoi Diagram&quot;);\r\n\t\tsetBounds(0, 0, size, size);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tint n = 0;\r\n\t\t\r\n\t\tRandom rand = new Random();\r\n\t\tI = new BufferedImage(size, size, BufferedImage.TYPE_INT_RGB);\r\n\t\tpx = new int[cells];\r\n\t\tpy = new int[cells];\r\n\t\tcolor = new int[cells];\r\n\t\tfor (int i = 0; i &lt; cells; i++) {\r\n\t\t\tpx[i] = rand.nextInt(size);\r\n\t\t\tpy[i] = rand.nextInt(size);\r\n\t\t\tcolor[i] = rand.nextInt(16777215);\r\n\t\t}\r\n\t\t\r\n\t\tfor (int x = 0; x &lt; size; x++) {\r\n\t\t\tfor (int y = 0; y &lt; size; y++) {\r\n\t\t\t\tn = 0;\r\n\t\t\t\tfor (byte i = 0; i &lt; cells; i++) {\r\n\t\t\t\t\tif (distance(px[i], x, py[i], y) &lt; distance(px[n], x, py[n], y)) {\r\n\t\t\t\t\t\tn = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tI.setRGB(x, y, color[n]);\r\n\t\t\t}\r\n\t\t}\r\n \r\n\t\tGraphics2D g = I.createGraphics();\r\n\t\tg.setColor(Color.BLACK);\r\n\t\tfor (int i = 0; i &lt; cells; i++) {\r\n\t\t\tg.fill(new Ellipse2D .Double(px[i] - 2.5, py[i] - 2.5, 5, 5));\r\n\t\t}\r\n \r\n\t\ttry {\r\n\t\t\tImageIO.write(I, &quot;png&quot;, new File(&quot;voronoi.png&quot;));\r\n\t\t} catch (IOException e) {\r\n \r\n\t\t}\r\n \r\n\t}\r\n \r\n\tpublic void paint(Graphics g) {\r\n\t\tg.drawImage(I, 0, 0, this);\r\n\t}\r\n \r\n\tstatic double distance(int x1, int x2, int y1, int y2) {\r\n\t\tdouble d;\r\n\t    // d = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)); // Euclidian\r\n\t\td = Math.abs(x1 - x2) + Math.abs(y1 - y2); // Manhattan\r\n\t\t// d = Math.pow(Math.pow(Math.abs(x1 - x2), p) + Math.pow(Math.abs(y1 - y2), p), (1 / p)); // Minkovski\r\n\t  \treturn d;\r\n\t}\r\n \r\n\tpublic static void main(String[] args) {\r\n\t\tnew Voronoi().setVisible(true);\r\n\t}\r\n    }","title":"How to display coordinates as Strings with Graphics2D in Java?","body":"<p>I have a Voronoi diagram being displayed thanks to the Graphics2D class. I would like to know how to display a String in one of black dots located within the patterns. I've tried things such as labels, etc., and can't manage to output a String anywhere in the diagram.</p>\n<p><a href=\"https://i.stack.imgur.com/SI4Vq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SI4Vq.png\" alt=\"output example\" /></a></p>\n<p>Here's how the code looks:</p>\n<pre><code>public Voronoi() {\n    super(&quot;Voronoi Diagram&quot;);\n    setBounds(0, 0, size, size);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    int n = 0;\n    \n    Random rand = new Random();\n    I = new BufferedImage(size, size, BufferedImage.TYPE_INT_RGB);\n    px = new int[cells];\n    py = new int[cells];\n    color = new int[cells];\n    for (int i = 0; i &lt; cells; i++) {\n        px[i] = rand.nextInt(size);\n        py[i] = rand.nextInt(size);\n        color[i] = rand.nextInt(16777215);\n    }\n    \n    for (int x = 0; x &lt; size; x++) {\n        for (int y = 0; y &lt; size; y++) {\n            n = 0;\n            for (byte i = 0; i &lt; cells; i++) {\n                if (distance(px[i], x, py[i], y) &lt; distance(px[n], x, py[n], y)) {\n                    n = i;\n                }\n            }\n            I.setRGB(x, y, color[n]);\n        }\n    }\n\n    Graphics2D g = I.createGraphics();\n    g.setColor(Color.BLACK);\n    for (int i = 0; i &lt; cells; i++) {\n        g.fill(new Ellipse2D .Double(px[i] - 2.5, py[i] - 2.5, 5, 5));\n    }\n\n    try {\n        ImageIO.write(I, &quot;png&quot;, new File(&quot;voronoi.png&quot;));\n    } catch (IOException e) {\n\n    }\n\n}\n\npublic void paint(Graphics g) {\n    g.drawImage(I, 0, 0, this);\n}\n\nstatic double distance(int x1, int x2, int y1, int y2) {\n    double d;\n    // d = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)); // Euclidian\n    d = Math.abs(x1 - x2) + Math.abs(y1 - y2); // Manhattan\n    // d = Math.pow(Math.pow(Math.abs(x1 - x2), p) + Math.pow(Math.abs(y1 - y2), p), (1 / p)); // Minkovski\n    return d;\n}\n\npublic static void main(String[] args) {\n    new Voronoi().setVisible(true);\n}\n}\n</code></pre>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1637043412,"post_id":69982979,"comment_id":123712755,"body_markdown":"How do the classes A, B, C look like? Are you trying to load nested classes like described here? https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/ Then you should use multiset","body":"How do the classes A, B, C look like? Are you trying to load nested classes like described here? <a href=\"https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\" rel=\"nofollow noreferrer\">blog.jooq.org/&hellip;</a> Then you should use multiset"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1637047320,"post_id":69982979,"comment_id":123713845,"body_markdown":"Does your actual table `A`&#39;s set of columns correspond exactly to what your jOOQ generated code knows about `A`? There&#39;s always a risk of mismatches, when using `A.asterisk()`","body":"Does your actual table <code>A</code>&#39;s set of columns correspond exactly to what your jOOQ generated code knows about <code>A</code>? There&#39;s always a risk of mismatches, when using <code>A.asterisk()</code>"},{"owner":{"account_id":95007,"reputation":529,"user_id":259017,"accept_rate":86,"display_name":"dougalg"},"score":0,"creation_date":1637942172,"post_id":69982979,"comment_id":123964909,"body_markdown":"@LukasEder yes. But I realised that you&#39;re right, and I switched for `fieldsRow()`\n\n@SimonMartinelli They are just simple POJOs for the above values.\n\nIn the end I resolved this by just fetching full `fieldsRow()`s, and mapping those to the autogenerated JOOQ pojos, then applying translation as needed.","body":"@LukasEder yes. But I realised that you&#39;re right, and I switched for <code>fieldsRow()</code>  @SimonMartinelli They are just simple POJOs for the above values.  In the end I resolved this by just fetching full <code>fieldsRow()</code>s, and mapping those to the autogenerated JOOQ pojos, then applying translation as needed."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1637944649,"post_id":69982979,"comment_id":123965779,"body_markdown":"Cool. You can answer your own question here, so maybe someone might find it useful in the future.","body":"Cool. You can answer your own question here, so maybe someone might find it useful in the future."}],"answers":[{"tags":[],"owner":{"account_id":95007,"reputation":529,"user_id":259017,"accept_rate":86,"display_name":"dougalg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637981588,"creation_date":1637981588,"answer_id":70131710,"question_id":69982979,"body_markdown":"I&#39;m still not sure about the exact root cause of my bug, but I found that with current JOOQ (3.15 at time of writing), it is easiest to use `Record`s, `fieldsRow()` and the auto-generated POJOs as so:\r\n\r\n```Java\r\n// Here ATableRecord and CTableRecord are autogenerated by JOOQ based on the table definitions\r\nrecord ACContainerRecord (ATableRecord a, CTableRecord c);\r\n\r\nselect(\r\n        A_TABLE.fieldsRow().as(&quot;a&quot;).convertFrom(r -&gt; r.into(ATableRecord.class)),\r\n        C_TABLE.fieldsRow().as(&quot;c&quot;).convertFrom(r -&gt; r.into(CTableRecord.class))\r\n).from(ATable)\r\n    .leftOuterJoin(C_TABLE)\r\n        .on(C_TABLE.A_ID.eq(A_TABLE.ID).and(C_TABLE.B_ID.eq(bId)))\r\n    .where(A_TABLE.ID.eq(aId))).as(&quot;a&quot;)\r\n\r\n    // Fetch into the custom holding record\r\n    .fetch(Records.mapping(ACContainerRecord::new))\r\n\r\n    // Map it onto our desired domain classes\r\n    .stream()\r\n    .map(r -&gt; {\r\n        // Imagine that the domain classes know how to construct themselves from JOOQ autogenerated records\r\n        CDomain c = new CDomain(r.c());\r\n        ADomain a = new ADomain(r.a(), c);\r\n        return a;\r\n    });\r\n```","title":"Cannot convert row to model","body":"<p>I'm still not sure about the exact root cause of my bug, but I found that with current JOOQ (3.15 at time of writing), it is easiest to use <code>Record</code>s, <code>fieldsRow()</code> and the auto-generated POJOs as so:</p>\n<pre><code>// Here ATableRecord and CTableRecord are autogenerated by JOOQ based on the table definitions\nrecord ACContainerRecord (ATableRecord a, CTableRecord c);\n\nselect(\n        A_TABLE.fieldsRow().as(&quot;a&quot;).convertFrom(r -&gt; r.into(ATableRecord.class)),\n        C_TABLE.fieldsRow().as(&quot;c&quot;).convertFrom(r -&gt; r.into(CTableRecord.class))\n).from(ATable)\n    .leftOuterJoin(C_TABLE)\n        .on(C_TABLE.A_ID.eq(A_TABLE.ID).and(C_TABLE.B_ID.eq(bId)))\n    .where(A_TABLE.ID.eq(aId))).as(&quot;a&quot;)\n\n    // Fetch into the custom holding record\n    .fetch(Records.mapping(ACContainerRecord::new))\n\n    // Map it onto our desired domain classes\n    .stream()\n    .map(r -&gt; {\n        // Imagine that the domain classes know how to construct themselves from JOOQ autogenerated records\n        CDomain c = new CDomain(r.c());\n        ADomain a = new ADomain(r.a(), c);\n        return a;\n    });\n</code></pre>\n"}],"owner":{"account_id":95007,"reputation":529,"user_id":259017,"accept_rate":86,"display_name":"dougalg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70131710,"answer_count":1,"score":1,"last_activity_date":1637981795,"creation_date":1637028278,"question_id":69982979,"body_markdown":"Using JOOQ 3.15, I attempting to map a nested item.\r\n\r\n```sql\r\nCREATE TABLE a_table (\r\n    id uuid primary key\r\n);\r\n\r\n\r\nCREATE TABLE b_table (\r\n    id uuid primary key\r\n);\r\n\r\nCREATE TABLE c_table (\r\n    a_id uuid REFERENCES a_table(id) NOT NULL,\r\n    b_id uuid REFERENCES b_table(id) NOT NULL,\r\n    started_date timestamp with time zone,\r\n    completed_date timestamp with time zone,\r\n    PRIMARY KEY (a_id, b_id)\r\n);\r\n```\r\n\r\nThe classes are just standard POJOs with getters, setters, for above values.\r\n\r\nThen I have a query like:\r\n\r\n```java\r\n// aId, and bId are passed in as parameters\r\nselect(\r\n\t\tA_TABLE.asterisk(),\r\n\t\trow(\r\n\t\t\t\tC_TABLE.STARTED_DATE.as(&quot;dateStarted&quot;),\r\n\t\t\t\tC_TABLE.COMPLETED_DATE.as(&quot;dateCompleted&quot;)\r\n\t\t).as(&quot;c&quot;).convertFrom(r -&gt; r.into(CDomain.class))\r\n).from(A_TABLE)\r\n.leftOuterJoin(C_TABLE)\r\n\t\t.on(C_TABLE.A_ID.eq(A_TABLE.ID).and(C_TABLE.B_ID.eq(bId)))\r\n.where(A_TABLE.ID.eq(aId))).as(&quot;a&quot;).convertFrom(r -&gt; r.into(ATableRecord.class))\r\n```\r\n\r\nTable `C`&#39;s entry may be non-existant.\r\n\r\nThe error I encounter when I run this code is:\r\n\r\n```none\r\norg.jooq.exception.DataTypeException: Cannot convert from class C {\r\n    dateStarted: null\r\n    dateCompleted: null\r\n} (class com.blah.C_TABLE) to class org.jooq.impl.RecordImpl4\r\n```\r\n\r\nWhy is this error occurring? Why is it trying to convert from my class to a record, when I am asking it to convert the record to a class? How could I fix this?","title":"Cannot convert row to model","body":"<p>Using JOOQ 3.15, I attempting to map a nested item.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE a_table (\n    id uuid primary key\n);\n\n\nCREATE TABLE b_table (\n    id uuid primary key\n);\n\nCREATE TABLE c_table (\n    a_id uuid REFERENCES a_table(id) NOT NULL,\n    b_id uuid REFERENCES b_table(id) NOT NULL,\n    started_date timestamp with time zone,\n    completed_date timestamp with time zone,\n    PRIMARY KEY (a_id, b_id)\n);\n</code></pre>\n<p>The classes are just standard POJOs with getters, setters, for above values.</p>\n<p>Then I have a query like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// aId, and bId are passed in as parameters\nselect(\n        A_TABLE.asterisk(),\n        row(\n                C_TABLE.STARTED_DATE.as(&quot;dateStarted&quot;),\n                C_TABLE.COMPLETED_DATE.as(&quot;dateCompleted&quot;)\n        ).as(&quot;c&quot;).convertFrom(r -&gt; r.into(CDomain.class))\n).from(A_TABLE)\n.leftOuterJoin(C_TABLE)\n        .on(C_TABLE.A_ID.eq(A_TABLE.ID).and(C_TABLE.B_ID.eq(bId)))\n.where(A_TABLE.ID.eq(aId))).as(&quot;a&quot;).convertFrom(r -&gt; r.into(ATableRecord.class))\n</code></pre>\n<p>Table <code>C</code>'s entry may be non-existant.</p>\n<p>The error I encounter when I run this code is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.jooq.exception.DataTypeException: Cannot convert from class C {\n    dateStarted: null\n    dateCompleted: null\n} (class com.blah.C_TABLE) to class org.jooq.impl.RecordImpl4\n</code></pre>\n<p>Why is this error occurring? Why is it trying to convert from my class to a record, when I am asking it to convert the record to a class? How could I fix this?</p>\n"},{"tags":["java","range","guava","jackson-databind"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637973687,"post_id":70131193,"comment_id":123972026,"body_markdown":"Please post a minimal reproducible example https://stackoverflow.com/help/minimal-reproducible-example","body":"Please post a minimal reproducible example <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637974112,"creation_date":1637974112,"answer_id":70131276,"question_id":70131193,"body_markdown":"Try registering `GuavaModule`, found in the `jackson-datatype-guava` artifact.\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new GuavaModule());\r\n```","title":"Issue with Map&lt;Range,List&gt; de/serialization with Object Mapper","body":"<p>Try registering <code>GuavaModule</code>, found in the <code>jackson-datatype-guava</code> artifact.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new GuavaModule());\n</code></pre>\n"}],"owner":{"account_id":14720632,"reputation":51,"user_id":10631371,"display_name":"S K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637979709,"creation_date":1637972621,"question_id":70131193,"body_markdown":"In the following method when trying to use deserialized Map created from object mapper, upon reading the key value JVM is throwing an error.\r\n\r\n```\r\n\r\n\r\npublic void someMethod() {\r\n\r\n        List&lt;String&gt; list = Arrays.asList(&quot;1234&quot;, &quot;12314&quot;);\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        Date date1 = dateFormat.parse(&quot;2021-11-25 00:00:00&quot;);\r\n        Date date2 = dateFormat.parse(&quot;2021-11-26 00:00:00&quot;);\r\n        Range&lt;Instant&gt; range = Range.closed(date1.toInstant(), date2.toInstant());\r\n        \r\n        // Google range\r\n        Map&lt;Range&lt;Instant&gt;, List&lt;String&gt;&gt; map = ImmutableMap.of(\r\n            rangeA, listA,\r\n        );\r\n        \r\n        // Jackson object mapper\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        final String serializedMap = mapper.writeValueAsString(map);\r\n        // both de/serialized object are created as expected.\r\n        Map&lt;Range&lt;Instant&gt;, List&lt;String&gt;&gt; deserializedMap = mapper.readValue(serializedMap, Map.class);\r\n        // \r\n        System.out.println(serializedMap);\r\n        // {&quot;[2021-11-25T08:00:00Z..2021-11-26T08:00:00Z]&quot;:[&quot;1234&quot;,&quot;12314&quot;],&quot;[2021-11-25T20:00:00Z..2021-11-26T20:00:00Z]&quot;:[&quot;9999&quot;,&quot;1010&quot;,&quot;1234&quot;]}\r\n        System.out.println(deserializedMap);\r\n       // {[2021-11-25T08:00:00Z..2021-11-26T08:00:00Z]=[1234, 12314], [2021-11-25T20:00:00Z..2021-11-26T20:00:00Z]=[9999, 1010, 1234]}\r\n\r\n        // This line is throwing error\r\n        deserializedMap.entrySet().stream().map(rangeListEntry -&gt; rangeListEntry.getKey()).forEach(System.out::println); \r\n\r\n}\r\n```\r\n\r\nError: `java.lang.ClassCastException: java.lang.String cannot be cast to com.google.common.collect.Range`\r\n\r\nCouple things I have tried but didn&#39;t work: \r\n\r\n```\r\n        // for Java 8 related feature \r\n        mapper.registerModule(new Jdk8Module()); \r\n        // https://github.com/FasterXML/jackson-modules-java8\r\n        mapper.registerModule(new JavaTimeModule());\r\n       // mapper.registerModule(new JodaModule());\r\n       // for collections.\r\n        mapper.registerModule(new GuavaModule());\r\n```\r\n\r\nAm I doing anything wrong here or is this a bug ? ","title":"Issue with Map&lt;Range,List&gt; de/serialization with Object Mapper","body":"<p>In the following method when trying to use deserialized Map created from object mapper, upon reading the key value JVM is throwing an error.</p>\n<pre><code>\n\npublic void someMethod() {\n\n        List&lt;String&gt; list = Arrays.asList(&quot;1234&quot;, &quot;12314&quot;);\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        Date date1 = dateFormat.parse(&quot;2021-11-25 00:00:00&quot;);\n        Date date2 = dateFormat.parse(&quot;2021-11-26 00:00:00&quot;);\n        Range&lt;Instant&gt; range = Range.closed(date1.toInstant(), date2.toInstant());\n        \n        // Google range\n        Map&lt;Range&lt;Instant&gt;, List&lt;String&gt;&gt; map = ImmutableMap.of(\n            rangeA, listA,\n        );\n        \n        // Jackson object mapper\n        ObjectMapper mapper = new ObjectMapper();\n\n        final String serializedMap = mapper.writeValueAsString(map);\n        // both de/serialized object are created as expected.\n        Map&lt;Range&lt;Instant&gt;, List&lt;String&gt;&gt; deserializedMap = mapper.readValue(serializedMap, Map.class);\n        // \n        System.out.println(serializedMap);\n        // {&quot;[2021-11-25T08:00:00Z..2021-11-26T08:00:00Z]&quot;:[&quot;1234&quot;,&quot;12314&quot;],&quot;[2021-11-25T20:00:00Z..2021-11-26T20:00:00Z]&quot;:[&quot;9999&quot;,&quot;1010&quot;,&quot;1234&quot;]}\n        System.out.println(deserializedMap);\n       // {[2021-11-25T08:00:00Z..2021-11-26T08:00:00Z]=[1234, 12314], [2021-11-25T20:00:00Z..2021-11-26T20:00:00Z]=[9999, 1010, 1234]}\n\n        // This line is throwing error\n        deserializedMap.entrySet().stream().map(rangeListEntry -&gt; rangeListEntry.getKey()).forEach(System.out::println); \n\n}\n</code></pre>\n<p>Error: <code>java.lang.ClassCastException: java.lang.String cannot be cast to com.google.common.collect.Range</code></p>\n<p>Couple things I have tried but didn't work:</p>\n<pre><code>        // for Java 8 related feature \n        mapper.registerModule(new Jdk8Module()); \n        // https://github.com/FasterXML/jackson-modules-java8\n        mapper.registerModule(new JavaTimeModule());\n       // mapper.registerModule(new JodaModule());\n       // for collections.\n        mapper.registerModule(new GuavaModule());\n</code></pre>\n<p>Am I doing anything wrong here or is this a bug ?</p>\n"},{"tags":["java","multithreading","asynchronous","netty","nio"],"answers":[{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1520349393,"creation_date":1520349073,"answer_id":49134068,"question_id":49133447,"body_markdown":"If an operation in Netty takes longer time to complete or is blocking it is advisable to perform that in a `handler that uses a separate ExecutorGroup` so that the main EventLoop thread is not blocked.\r\n\r\nYou can specify that during the pipeline creation.\r\n\r\nQuoting an example that uses executor group for DB operation from [ChannelPipeline javadoc][1] \r\n\r\n    static final EventExecutorGroup group = new DefaultEventExecutorGroup(16);\r\n     ...\r\n    \r\n     ChannelPipeline pipeline = ch.pipeline();\r\n    \r\n     pipeline.addLast(&quot;decoder&quot;, new MyProtocolDecoder());\r\n     pipeline.addLast(&quot;encoder&quot;, new MyProtocolEncoder());\r\n    \r\n     // Tell the pipeline to run MyBusinessLogicHandler&#39;s event handler methods\r\n     // in a different thread than an I/O thread so that the I/O thread is not blocked by\r\n     // a time-consuming task.\r\n     // If your business logic is fully asynchronous or finished very quickly, you don&#39;t\r\n     // need to specify a group.\r\n     pipeline.addLast(group, &quot;handler&quot;, new MyBusinessLogicHandler());\r\n\r\n \r\n\r\n\r\n  [1]: http://netty.io/4.1/api/io/netty/channel/ChannelPipeline.html","title":"How can you safely perform blocking operations in a Netty channel handler?","body":"<p>If an operation in Netty takes longer time to complete or is blocking it is advisable to perform that in a <code>handler that uses a separate ExecutorGroup</code> so that the main EventLoop thread is not blocked.</p>\n\n<p>You can specify that during the pipeline creation.</p>\n\n<p>Quoting an example that uses executor group for DB operation from <a href=\"http://netty.io/4.1/api/io/netty/channel/ChannelPipeline.html\" rel=\"noreferrer\">ChannelPipeline javadoc</a> </p>\n\n<pre><code>static final EventExecutorGroup group = new DefaultEventExecutorGroup(16);\n ...\n\n ChannelPipeline pipeline = ch.pipeline();\n\n pipeline.addLast(\"decoder\", new MyProtocolDecoder());\n pipeline.addLast(\"encoder\", new MyProtocolEncoder());\n\n // Tell the pipeline to run MyBusinessLogicHandler's event handler methods\n // in a different thread than an I/O thread so that the I/O thread is not blocked by\n // a time-consuming task.\n // If your business logic is fully asynchronous or finished very quickly, you don't\n // need to specify a group.\n pipeline.addLast(group, \"handler\", new MyBusinessLogicHandler());\n</code></pre>\n"}],"owner":{"account_id":210278,"reputation":11580,"user_id":461800,"accept_rate":88,"display_name":"Steve Perkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5899,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49134068,"answer_count":1,"score":9,"last_activity_date":1637979201,"creation_date":1520347315,"question_id":49133447,"body_markdown":"I&#39;m building a small Netty-based application that performs I/O operations across a socket connections (i.e. telnet/ssh).  I am starting up my socket server with Netty&#39;s `ServerBootstrap` class, giving it:\r\n\r\n1. An event loop of type `NioEventLoopGroup` (i.e. a pool of shared threads that should not be subjected to blocking operations).\r\n\r\n2. A channel of type `NioServerSocketChannel` (I believe this is required to correspond with #1 above).\r\n\r\n3. A very simple pipeline, with a channel handler that extends `ChannelInboundHandlerAdapter`.\r\n\r\nMy handler&#39;s `channelRead(...)` method is called whenever a command string is received from a client socket connection, and returns some response string depending on the command.\r\n\r\nEverything is fine for the commands which involve no blocking operations.  However, there are SOME commands for which I now need to read from or write to a database.  Those JDBC calls are inherently going to be blocking... although I _could_ use a `CompletableFuture` (or whatever) to handle them in a separate thread.\r\n\r\nBut even if I did &quot;roll-my-own async&quot; by performing blocking operations in separate threads, I&#39;m not sure how I would reconnect the results from those spawned threads back to the Netty channel handler in the main thread.  \r\n\r\nI see that the `ChannelHandlerContext` class has methods like:\r\n\r\n`ChannelFuture writeAndFlush(Object msg, ChannelPromise promise);`\r\n\r\n... as alternatives to the ones I&#39;m currently using:\r\n\r\n`ChannelFuture writeAndFlush(Object msg);`\r\n\r\nBut I can&#39;t find any documentation or guidance (or even helpful Javadocs) explaining how one might use this `ChannelPromise` type in this use case.  It&#39;s name suggests that it _might_ be relevant, but it might not be.  After all, the `writeAndFlush` method still takes the outgoing message as its first parameter... so what good would it do to stuff your blocking operation into a &quot;promise&quot; second parameter, if you need its result to be already on-hand for the first parameter?\r\n\r\nWhat is the right track here?  Is there some way to handle blocking operations in separate threads, so that Netty&#39;s `NioEventLoopGroup` does not block?  Or is this simply not how Netty works, and you should use a different event loop implementation (i.e. one that spawns a separate thread for each client socket connection) if you need to support blocking?","title":"How can you safely perform blocking operations in a Netty channel handler?","body":"<p>I'm building a small Netty-based application that performs I/O operations across a socket connections (i.e. telnet/ssh).  I am starting up my socket server with Netty's <code>ServerBootstrap</code> class, giving it:</p>\n\n<ol>\n<li><p>An event loop of type <code>NioEventLoopGroup</code> (i.e. a pool of shared threads that should not be subjected to blocking operations).</p></li>\n<li><p>A channel of type <code>NioServerSocketChannel</code> (I believe this is required to correspond with #1 above).</p></li>\n<li><p>A very simple pipeline, with a channel handler that extends <code>ChannelInboundHandlerAdapter</code>.</p></li>\n</ol>\n\n<p>My handler's <code>channelRead(...)</code> method is called whenever a command string is received from a client socket connection, and returns some response string depending on the command.</p>\n\n<p>Everything is fine for the commands which involve no blocking operations.  However, there are SOME commands for which I now need to read from or write to a database.  Those JDBC calls are inherently going to be blocking... although I <em>could</em> use a <code>CompletableFuture</code> (or whatever) to handle them in a separate thread.</p>\n\n<p>But even if I did \"roll-my-own async\" by performing blocking operations in separate threads, I'm not sure how I would reconnect the results from those spawned threads back to the Netty channel handler in the main thread.  </p>\n\n<p>I see that the <code>ChannelHandlerContext</code> class has methods like:</p>\n\n<p><code>ChannelFuture writeAndFlush(Object msg, ChannelPromise promise);</code></p>\n\n<p>... as alternatives to the ones I'm currently using:</p>\n\n<p><code>ChannelFuture writeAndFlush(Object msg);</code></p>\n\n<p>But I can't find any documentation or guidance (or even helpful Javadocs) explaining how one might use this <code>ChannelPromise</code> type in this use case.  It's name suggests that it <em>might</em> be relevant, but it might not be.  After all, the <code>writeAndFlush</code> method still takes the outgoing message as its first parameter... so what good would it do to stuff your blocking operation into a \"promise\" second parameter, if you need its result to be already on-hand for the first parameter?</p>\n\n<p>What is the right track here?  Is there some way to handle blocking operations in separate threads, so that Netty's <code>NioEventLoopGroup</code> does not block?  Or is this simply not how Netty works, and you should use a different event loop implementation (i.e. one that spawns a separate thread for each client socket connection) if you need to support blocking?</p>\n"},{"tags":["java","dcm4che"],"answers":[{"tags":[],"owner":{"account_id":59078,"reputation":231,"user_id":176786,"display_name":"Frode Randers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1637979045,"creation_date":1459161721,"answer_id":36260653,"question_id":31728477,"body_markdown":"As you have already observed, the BasicDicomObject is history -- alongside quite a few others.\r\n\r\nThe new &quot;Dicom object&quot; is Attributes -- an object is a collection of attributes.\r\n\r\nTherefore, you create Attributes, populate them with the tags you need for RQ-behaviour (C-FIND, etc) and what you get in return is another Attributes object from which you pull the tags you want.\r\n\r\nIn my opinion, dcm4che 2.x was vague on the subject of dealing with individual value representations. dcm4che 3.x is quite a bit clearer.\r\n\r\nThe migration demands a rewrite of your code regarding how you query and how you treat individual tags. On the other hand, dcm4che 3.x makes the new code less convoluted.\r\n\r\nOn request, I have added the initial setup of a connection to some service class provider (SCP):\r\n\r\n    // Based on org.dcm4che:dcm4che-core:5.25.0 and org.dcm4che:dcm4che-net:5.25.0\r\n    import org.dcm4che3.data.*;\r\n    import org.dcm4che3.net.*;\r\n    import org.dcm4che3.net.pdu.AAssociateRQ;\r\n    import org.dcm4che3.net.pdu.PresentationContext;\r\n    import org.dcm4che3.net.pdu.RoleSelection;\r\n    import org.dcm4che3.net.pdu.UserIdentityRQ;\r\n\r\n\r\n    // Client side representation of the connection. As a client, I will \r\n    // not be listening for incoming traffic (but I could choose to do so\r\n    // if I need to transfer data via MOVE)\r\n    Connection local = new Connection();\r\n    local.setHostname(&quot;client.on.network.com&quot;);\r\n    local.setPort(Connection.NOT_LISTENING);\r\n\r\n    // Remote side representation of the connection\r\n    Connection remote = new Connection();\r\n    remote.setHostname(&quot;pacs.on.network.com&quot;);\r\n    remote.setPort(4100);\r\n\r\n    remote.setTlsProtocols(local.getTlsProtocols());\r\n    remote.setTlsCipherSuites(local.getTlsCipherSuites());\r\n\r\n    // Calling application entity\r\n    ApplicationEntity ae = new ApplicationEntity(&quot;MeAsAServiceClassUser&quot;.toUpperCase());\r\n    ae.setAETitle(&quot;MeAsAServiceClassUser&quot;);\r\n    ae.addConnection(local); // on which we may not be listening\r\n    ae.setAssociationInitiator(true);\r\n    ae.setAssociationAcceptor(false);\r\n\r\n    // Device\r\n    Device device = new Device(&quot;MeAsAServiceClassUser&quot;.toLowerCase());\r\n    device.addConnection(local);\r\n    device.addApplicationEntity(ae);\r\n\r\n    // Configure association\r\n    AAssociateRQ rq = new AAssociateRQ();\r\n    rq.setCallingAET(&quot;MeAsAServiceClassUser&quot;);\r\n    rq.setCalledAET(&quot;NameThatIdentifiesTheProvider&quot;); // e.g. &quot;GEPACS&quot;\r\n    rq.setImplVersionName(&quot;MY-SCU-1.0&quot;); // Max 16 chars\r\n\r\n    // Credentials (if appropriate)\r\n    String username = &quot;username&quot;;\r\n    String passcode = &quot;so secret&quot;;\r\n    if (null != username &amp;&amp; username.length() &gt; 0 &amp;&amp; null != passcode &amp;&amp; passcode.length() &gt; 0) {\r\n        rq.setUserIdentityRQ(UserIdentityRQ.usernamePasscode(username, passcode.toCharArray(), true));\r\n    }\r\n\r\nExample, pinging the PACS (using the setup above):\r\n\r\n    String[] TRANSFER_SYNTAX_CHAIN = {\r\n            UID.ExplicitVRLittleEndian,\r\n            UID.ImplicitVRLittleEndian\r\n    };\r\n\r\n    // Define transfer capabilities for verification SOP class\r\n    ae.addTransferCapability(\r\n            new TransferCapability(null,\r\n                /* SOP Class */ UID.Verification,\r\n                /* Role */ TransferCapability.Role.SCU,\r\n                /* Transfer syntax */ TRANSFER_SYNTAX_CHAIN)\r\n    );\r\n\r\n    // Setup presentation context\r\n    rq.addPresentationContext(\r\n            new PresentationContext(\r\n                    rq.getNumberOfPresentationContexts() * 2 + 1,\r\n                    /* abstract syntax */ UID.Verification,\r\n                    /* transfer syntax */ TRANSFER_SYNTAX_CHAIN\r\n            )\r\n    );\r\n\r\n    rq.addRoleSelection(new RoleSelection(UID.Verification, /* is SCU? */ true, /* is SCP? */ false));\r\n\r\n    try {\r\n        // 1) Open a connection to the SCP\r\n        Association association = ae.connect(local, remote, rq);\r\n\r\n        // 2) PING!\r\n        DimseRSP rsp = association.cecho();\r\n        rsp.next(); // Consume reply, which may fail\r\n\r\n        // Still here? Success!\r\n        // 3) Close the connection to the SCP\r\n        if (as.isReadyForDataTransfer()) {\r\n            as.waitForOutstandingRSP();\r\n            as.release();\r\n        }\r\n    } catch (Throwable ignore) {\r\n        // Failure\r\n    }\r\n\r\nAnother example, retrieving studies from a PACS given accession numbers; setting up the query and handling the result:\r\n\r\n    String modality = null; // e.g. &quot;OT&quot;\r\n    String accessionNumber = &quot;1234567890&quot;;\r\n\r\n    //--------------------------------------------------------\r\n    // HERE follows setup of a query, using an Attributes object\r\n    //--------------------------------------------------------\r\n    Attributes query = new Attributes();\r\n\r\n    // Indicate character set\r\n    {\r\n        int tag = Tag.SpecificCharacterSet;\r\n        VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\r\n        query.setString(tag, vr, &quot;ISO_IR 100&quot;);\r\n    }\r\n\r\n    // Study level query\r\n    {\r\n        int tag = Tag.QueryRetrieveLevel;\r\n        VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\r\n        query.setString(tag, vr, &quot;STUDY&quot;);\r\n    }\r\n\r\n    // Accession number\r\n    {\r\n        int tag = Tag.AccessionNumber;\r\n        VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\r\n        query.setString(tag, vr, accessionNumber);\r\n    }\r\n\r\n    // Optionally filter on modality in study if &#39;modality&#39; is provided,\r\n    // otherwise retrieve modality\r\n    {\r\n        int tag = Tag.ModalitiesInStudy;\r\n        VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\r\n        if (null != modality &amp;&amp; modality.length() &gt; 0) {\r\n            query.setString(tag, vr, modality);\r\n        } else {\r\n            query.setNull(tag, vr);\r\n        }\r\n    }\r\n\r\n    // We are interested in study instance UID\r\n    {\r\n        int tag = Tag.StudyInstanceUID;\r\n        VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\r\n        query.setNull(tag, vr);\r\n    }\r\n\r\n    // Do the actual query, needing an AppliationEntity (ae),\r\n    // a local (local) and remote (remote) Connection, and\r\n    // an AAssociateRQ (rq) set up earlier.\r\n\r\n    try {\r\n        // 1) Open a connection to the SCP\r\n        Association as = ae.connect(local, remote, rq);\r\n\r\n        // 2) Query\r\n        int priority = 0x0002; // low for the sake of demo :)\r\n        as.cfind(UID.StudyRootQueryRetrieveInformationModelFind, priority, query, null,\r\n                new DimseRSPHandler(as.nextMessageID()) {\r\n\r\n                    @Override\r\n                    public void onDimseRSP(Association assoc, Attributes cmd,\r\n                                           Attributes response) {\r\n\r\n                        super.onDimseRSP(assoc, cmd, response);\r\n\r\n                        int status = cmd.getInt(Tag.Status, -1);\r\n                        if (Status.isPending(status)) {\r\n                            //--------------------------------------------------------\r\n                            // HERE follows handling of the response, which\r\n                            // is just another Attributes object\r\n                            //--------------------------------------------------------\r\n                            String studyInstanceUID = response.getString(Tag.StudyInstanceUID);\r\n                            // etc...\r\n                        }\r\n                    }\r\n                });\r\n\r\n        // 3) Close the connection to the SCP\r\n        if (as.isReadyForDataTransfer()) {\r\n            as.waitForOutstandingRSP();\r\n            as.release();\r\n        }\r\n    }\r\n    catch (Exception e) {\r\n        // Failure\r\n    }\r\n\r\nMore on this at https://github.com/FrodeRanders/dicom-tools","title":"Migration from dcm4che2 to dcm4che3","body":"<p>As you have already observed, the BasicDicomObject is history -- alongside quite a few others.</p>\n<p>The new &quot;Dicom object&quot; is Attributes -- an object is a collection of attributes.</p>\n<p>Therefore, you create Attributes, populate them with the tags you need for RQ-behaviour (C-FIND, etc) and what you get in return is another Attributes object from which you pull the tags you want.</p>\n<p>In my opinion, dcm4che 2.x was vague on the subject of dealing with individual value representations. dcm4che 3.x is quite a bit clearer.</p>\n<p>The migration demands a rewrite of your code regarding how you query and how you treat individual tags. On the other hand, dcm4che 3.x makes the new code less convoluted.</p>\n<p>On request, I have added the initial setup of a connection to some service class provider (SCP):</p>\n<pre><code>// Based on org.dcm4che:dcm4che-core:5.25.0 and org.dcm4che:dcm4che-net:5.25.0\nimport org.dcm4che3.data.*;\nimport org.dcm4che3.net.*;\nimport org.dcm4che3.net.pdu.AAssociateRQ;\nimport org.dcm4che3.net.pdu.PresentationContext;\nimport org.dcm4che3.net.pdu.RoleSelection;\nimport org.dcm4che3.net.pdu.UserIdentityRQ;\n\n\n// Client side representation of the connection. As a client, I will \n// not be listening for incoming traffic (but I could choose to do so\n// if I need to transfer data via MOVE)\nConnection local = new Connection();\nlocal.setHostname(&quot;client.on.network.com&quot;);\nlocal.setPort(Connection.NOT_LISTENING);\n\n// Remote side representation of the connection\nConnection remote = new Connection();\nremote.setHostname(&quot;pacs.on.network.com&quot;);\nremote.setPort(4100);\n\nremote.setTlsProtocols(local.getTlsProtocols());\nremote.setTlsCipherSuites(local.getTlsCipherSuites());\n\n// Calling application entity\nApplicationEntity ae = new ApplicationEntity(&quot;MeAsAServiceClassUser&quot;.toUpperCase());\nae.setAETitle(&quot;MeAsAServiceClassUser&quot;);\nae.addConnection(local); // on which we may not be listening\nae.setAssociationInitiator(true);\nae.setAssociationAcceptor(false);\n\n// Device\nDevice device = new Device(&quot;MeAsAServiceClassUser&quot;.toLowerCase());\ndevice.addConnection(local);\ndevice.addApplicationEntity(ae);\n\n// Configure association\nAAssociateRQ rq = new AAssociateRQ();\nrq.setCallingAET(&quot;MeAsAServiceClassUser&quot;);\nrq.setCalledAET(&quot;NameThatIdentifiesTheProvider&quot;); // e.g. &quot;GEPACS&quot;\nrq.setImplVersionName(&quot;MY-SCU-1.0&quot;); // Max 16 chars\n\n// Credentials (if appropriate)\nString username = &quot;username&quot;;\nString passcode = &quot;so secret&quot;;\nif (null != username &amp;&amp; username.length() &gt; 0 &amp;&amp; null != passcode &amp;&amp; passcode.length() &gt; 0) {\n    rq.setUserIdentityRQ(UserIdentityRQ.usernamePasscode(username, passcode.toCharArray(), true));\n}\n</code></pre>\n<p>Example, pinging the PACS (using the setup above):</p>\n<pre><code>String[] TRANSFER_SYNTAX_CHAIN = {\n        UID.ExplicitVRLittleEndian,\n        UID.ImplicitVRLittleEndian\n};\n\n// Define transfer capabilities for verification SOP class\nae.addTransferCapability(\n        new TransferCapability(null,\n            /* SOP Class */ UID.Verification,\n            /* Role */ TransferCapability.Role.SCU,\n            /* Transfer syntax */ TRANSFER_SYNTAX_CHAIN)\n);\n\n// Setup presentation context\nrq.addPresentationContext(\n        new PresentationContext(\n                rq.getNumberOfPresentationContexts() * 2 + 1,\n                /* abstract syntax */ UID.Verification,\n                /* transfer syntax */ TRANSFER_SYNTAX_CHAIN\n        )\n);\n\nrq.addRoleSelection(new RoleSelection(UID.Verification, /* is SCU? */ true, /* is SCP? */ false));\n\ntry {\n    // 1) Open a connection to the SCP\n    Association association = ae.connect(local, remote, rq);\n\n    // 2) PING!\n    DimseRSP rsp = association.cecho();\n    rsp.next(); // Consume reply, which may fail\n\n    // Still here? Success!\n    // 3) Close the connection to the SCP\n    if (as.isReadyForDataTransfer()) {\n        as.waitForOutstandingRSP();\n        as.release();\n    }\n} catch (Throwable ignore) {\n    // Failure\n}\n</code></pre>\n<p>Another example, retrieving studies from a PACS given accession numbers; setting up the query and handling the result:</p>\n<pre><code>String modality = null; // e.g. &quot;OT&quot;\nString accessionNumber = &quot;1234567890&quot;;\n\n//--------------------------------------------------------\n// HERE follows setup of a query, using an Attributes object\n//--------------------------------------------------------\nAttributes query = new Attributes();\n\n// Indicate character set\n{\n    int tag = Tag.SpecificCharacterSet;\n    VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\n    query.setString(tag, vr, &quot;ISO_IR 100&quot;);\n}\n\n// Study level query\n{\n    int tag = Tag.QueryRetrieveLevel;\n    VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\n    query.setString(tag, vr, &quot;STUDY&quot;);\n}\n\n// Accession number\n{\n    int tag = Tag.AccessionNumber;\n    VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\n    query.setString(tag, vr, accessionNumber);\n}\n\n// Optionally filter on modality in study if 'modality' is provided,\n// otherwise retrieve modality\n{\n    int tag = Tag.ModalitiesInStudy;\n    VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\n    if (null != modality &amp;&amp; modality.length() &gt; 0) {\n        query.setString(tag, vr, modality);\n    } else {\n        query.setNull(tag, vr);\n    }\n}\n\n// We are interested in study instance UID\n{\n    int tag = Tag.StudyInstanceUID;\n    VR vr = ElementDictionary.vrOf(tag, query.getPrivateCreator(tag));\n    query.setNull(tag, vr);\n}\n\n// Do the actual query, needing an AppliationEntity (ae),\n// a local (local) and remote (remote) Connection, and\n// an AAssociateRQ (rq) set up earlier.\n\ntry {\n    // 1) Open a connection to the SCP\n    Association as = ae.connect(local, remote, rq);\n\n    // 2) Query\n    int priority = 0x0002; // low for the sake of demo :)\n    as.cfind(UID.StudyRootQueryRetrieveInformationModelFind, priority, query, null,\n            new DimseRSPHandler(as.nextMessageID()) {\n\n                @Override\n                public void onDimseRSP(Association assoc, Attributes cmd,\n                                       Attributes response) {\n\n                    super.onDimseRSP(assoc, cmd, response);\n\n                    int status = cmd.getInt(Tag.Status, -1);\n                    if (Status.isPending(status)) {\n                        //--------------------------------------------------------\n                        // HERE follows handling of the response, which\n                        // is just another Attributes object\n                        //--------------------------------------------------------\n                        String studyInstanceUID = response.getString(Tag.StudyInstanceUID);\n                        // etc...\n                    }\n                }\n            });\n\n    // 3) Close the connection to the SCP\n    if (as.isReadyForDataTransfer()) {\n        as.waitForOutstandingRSP();\n        as.release();\n    }\n}\ncatch (Exception e) {\n    // Failure\n}\n</code></pre>\n<p>More on this at <a href=\"https://github.com/FrodeRanders/dicom-tools\" rel=\"nofollow noreferrer\">https://github.com/FrodeRanders/dicom-tools</a></p>\n"}],"owner":{"account_id":2887799,"reputation":315,"user_id":2640518,"accept_rate":38,"display_name":"Shan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3447,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1637979045,"creation_date":1438271375,"question_id":31728477,"body_markdown":"I have used below mentioned API of dcm4che2 from this repository &lt;http://www.dcm4che.org/maven2/dcm4che/&gt;  in my java project.\r\n\r\n**dcm4che-core-2.0.29.jar**  \r\n\r\n    org.dcm4che2.data.DicomObject  \r\n    org.dcm4che2.io.StopTagInputHandler  \r\n    org.dcm4che2.data.BasicDicomObject  \r\n    org.dcm4che2.data.UIDDictionary  \r\n    org.dcm4che2.data.DicomElement  \r\n    org.dcm4che2.data.SimpleDcmElement  \r\n    org.dcm4che2.net.service.StorageCommitmentService  \r\n    org.dcm4che2.util.CloseUtils  \r\n\r\n**dcm4che-net-2.0.29.jar** \r\n\r\n     \r\n    org.dcm4che2.net.CommandUtils  \r\n    org.dcm4che2.net.ConfigurationException  \r\n    org.dcm4che2.net.NetworkApplicationEntity  \r\n    org.dcm4che2.net.NetworkConnection  \r\n    org.dcm4che2.net.NewThreadExecutor  \r\n    org.dcm4che3.net.service.StorageService  \r\n    org.dcm4che3.net.service.VerificationService  \r\n\r\nCurrently i want to migrate to dcm4che3 but, above listed API is not found in dcm4che3 which i have downloaded from this repository &lt;http://sourceforge.net/projects/dcm4che/files/dcm4che3/&gt;    \r\nCould you please guide me for alternate approach?","title":"Migration from dcm4che2 to dcm4che3","body":"<p>I have used below mentioned API of dcm4che2 from this repository <a href=\"http://www.dcm4che.org/maven2/dcm4che/\">http://www.dcm4che.org/maven2/dcm4che/</a>  in my java project.</p>\n\n<p><strong>dcm4che-core-2.0.29.jar</strong>  </p>\n\n<pre><code>org.dcm4che2.data.DicomObject  \norg.dcm4che2.io.StopTagInputHandler  \norg.dcm4che2.data.BasicDicomObject  \norg.dcm4che2.data.UIDDictionary  \norg.dcm4che2.data.DicomElement  \norg.dcm4che2.data.SimpleDcmElement  \norg.dcm4che2.net.service.StorageCommitmentService  \norg.dcm4che2.util.CloseUtils  \n</code></pre>\n\n<p><strong>dcm4che-net-2.0.29.jar</strong> </p>\n\n<pre><code>org.dcm4che2.net.CommandUtils  \norg.dcm4che2.net.ConfigurationException  \norg.dcm4che2.net.NetworkApplicationEntity  \norg.dcm4che2.net.NetworkConnection  \norg.dcm4che2.net.NewThreadExecutor  \norg.dcm4che3.net.service.StorageService  \norg.dcm4che3.net.service.VerificationService  \n</code></pre>\n\n<p>Currently i want to migrate to dcm4che3 but, above listed API is not found in dcm4che3 which i have downloaded from this repository <a href=\"http://sourceforge.net/projects/dcm4che/files/dcm4che3/\">http://sourceforge.net/projects/dcm4che/files/dcm4che3/</a><br>\nCould you please guide me for alternate approach?</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactor","blockhound"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1637951884,"post_id":70128375,"comment_id":123967797,"body_markdown":"Measure. I very much doubt that it will have an impact, as the file will be cached after the first time.","body":"Measure. I very much doubt that it will have an impact, as the file will be cached after the first time."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638372004,"post_id":70128375,"comment_id":124071121,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637978889,"creation_date":1637978889,"answer_id":70131578,"question_id":70128375,"body_markdown":"Unfortunately there&#39;s no quick answer here - it depends, you&#39;d have to look at the use of `RandomAccessFile.readByte()` in each library, and deem if it&#39;s acceptable or not.\r\n\r\nIn general:\r\n\r\n - If it&#39;s just being used at startup - no problem, as this will then happen outside of any event loop in place;\r\n - If it might happen at some point in the event loop, then that&#39;s absolutely an issue that you need to work around.\r\n\r\nIf `hibernate-validator` is genuinely only using this to read a properties file, then this likely falls under the first category so isn&#39;t an issue. I would be cautious of that however, as it seems a bit odd that a properties file is being loaded as a `RandomAccessFile`, they&#39;re usually read sequentially - so I&#39;d at least double-check that to make sure it&#39;s what&#39;s really happening.","title":"Could java.io.RandomAccessFile.readBytes blocking calls be acceptable in reactive application? In which cases?","body":"<p>Unfortunately there's no quick answer here - it depends, you'd have to look at the use of <code>RandomAccessFile.readByte()</code> in each library, and deem if it's acceptable or not.</p>\n<p>In general:</p>\n<ul>\n<li>If it's just being used at startup - no problem, as this will then happen outside of any event loop in place;</li>\n<li>If it might happen at some point in the event loop, then that's absolutely an issue that you need to work around.</li>\n</ul>\n<p>If <code>hibernate-validator</code> is genuinely only using this to read a properties file, then this likely falls under the first category so isn't an issue. I would be cautious of that however, as it seems a bit odd that a properties file is being loaded as a <code>RandomAccessFile</code>, they're usually read sequentially - so I'd at least double-check that to make sure it's what's really happening.</p>\n"}],"owner":{"account_id":23462879,"reputation":21,"user_id":17517498,"display_name":"Vera Ratkevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637978889,"creation_date":1637949258,"question_id":70128375,"body_markdown":"We have an application utilizing Spring WebFlux which uses Project Reactor. I ran BlockHound evaluation for the application and it reported java.io.RandomAccessFile.readBytes blocking calls in such libraries like hibernate-validator, orika mapper. hibernate-validator reads error messages from its ValidationMessages.properties file.\r\nHow severe is the negative impact of this blocking call (that just read a message from property file) for a reactive application? Could it be ignored or should we find the non-blocking solution for this validation?","title":"Could java.io.RandomAccessFile.readBytes blocking calls be acceptable in reactive application? In which cases?","body":"<p>We have an application utilizing Spring WebFlux which uses Project Reactor. I ran BlockHound evaluation for the application and it reported java.io.RandomAccessFile.readBytes blocking calls in such libraries like hibernate-validator, orika mapper. hibernate-validator reads error messages from its ValidationMessages.properties file.\nHow severe is the negative impact of this blocking call (that just read a message from property file) for a reactive application? Could it be ignored or should we find the non-blocking solution for this validation?</p>\n"},{"tags":["java","variadic-functions","compiler-warnings"],"comments":[{"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"score":0,"creation_date":1542011848,"post_id":53258264,"comment_id":93401291,"body_markdown":"i guess it all depends on how you initialized the array? Do you happen to know the length of the array in advance ? also, why did you go for Arrays.asList if you want a list all along, why not use a list directly?","body":"i guess it all depends on how you initialized the array? Do you happen to know the length of the array in advance ? also, why did you go for Arrays.asList if you want a list all along, why not use a list directly?"},{"owner":{"account_id":24150,"reputation":3059,"user_id":61248,"accept_rate":68,"display_name":"Grumblesaurus"},"score":0,"creation_date":1542012157,"post_id":53258264,"comment_id":93401433,"body_markdown":"I made a collection of columns individually, then I add them to a table. I never use them in the context of a list except to add them to the table using the table&#39;s `addAll` vararg method.","body":"I made a collection of columns individually, then I add them to a table. I never use them in the context of a list except to add them to the table using the table&#39;s <code>addAll</code> vararg method."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542011347,"creation_date":1542011347,"answer_id":53258302,"question_id":53258264,"body_markdown":"This may be a personal preference of mine, but wouldn&#39;t create a list just to avoid this warning. I&#39;d just slap `@SuppressWarnings(&quot;unchecked&quot;)` on the method (or possibly even the class, if you have a lot of these), and move on.","title":"Type Safety - A Generic Array is created for varargs parameter - Is this a good solution?","body":"<p>This may be a personal preference of mine, but wouldn't create a list just to avoid this warning. I'd just slap <code>@SuppressWarnings(\"unchecked\")</code> on the method (or possibly even the class, if you have a lot of these), and move on.</p>\n"},{"tags":[],"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542014633,"creation_date":1542014633,"answer_id":53259133,"question_id":53258264,"body_markdown":"Judging from the way you have coded i.e. \r\n\r\n&gt; made a collection of columns individually, then I add them to a table.\r\n&gt; I never use them in the context of a list except to add them to the\r\n&gt; table using the table&#39;s addAll vararg method.\r\n\r\nthe way you have made use of Arrays could be justified . I could not think of a better reason myself. From my knowledge standpoint you are good to go.\r\n\r\nIf you come to know at some point of time, that this can be achieved in a more discreet manner, feel free to update me here.\r\n","title":"Type Safety - A Generic Array is created for varargs parameter - Is this a good solution?","body":"<p>Judging from the way you have coded i.e. </p>\n\n<blockquote>\n  <p>made a collection of columns individually, then I add them to a table.\n  I never use them in the context of a list except to add them to the\n  table using the table's addAll vararg method.</p>\n</blockquote>\n\n<p>the way you have made use of Arrays could be justified . I could not think of a better reason myself. From my knowledge standpoint you are good to go.</p>\n\n<p>If you come to know at some point of time, that this can be achieved in a more discreet manner, feel free to update me here.</p>\n"}],"owner":{"account_id":24150,"reputation":3059,"user_id":61248,"accept_rate":68,"display_name":"Grumblesaurus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2296,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1637978469,"creation_date":1542011145,"question_id":53258264,"body_markdown":"If I add columns to a JavaFX TableView:\r\n\r\n\ttableView.getColumns().addAll( col1, col2, col3 );\r\n\r\nI get this warning:\r\n\r\n &gt; Type safety: A generic array of TableColumn&lt; T, ? &gt; is created for a varargs parameter\r\n\r\nIf I manually put the vargs into a list, I don&#39;t get the warning:\r\n\r\n\ttableView.getColumns().addAll( Arrays.asList( col1, col2, col3 ) );\r\n\r\nIs this a good way to deal with this warning, or is there a better way? It doesn&#39;t feel right to get a warning for just using a varargs method. ","title":"Type Safety - A Generic Array is created for varargs parameter - Is this a good solution?","body":"<p>If I add columns to a JavaFX TableView:</p>\n<pre><code>tableView.getColumns().addAll( col1, col2, col3 );\n</code></pre>\n<p>I get this warning:</p>\n<blockquote>\n<p>Type safety: A generic array of TableColumn&lt; T, ? &gt; is created for a varargs parameter</p>\n</blockquote>\n<p>If I manually put the vargs into a list, I don't get the warning:</p>\n<pre><code>tableView.getColumns().addAll( Arrays.asList( col1, col2, col3 ) );\n</code></pre>\n<p>Is this a good way to deal with this warning, or is there a better way? It doesn't feel right to get a warning for just using a varargs method.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1637979009,"post_id":70131527,"comment_id":123972637,"body_markdown":"I would advise you to use spring-bom for dependencies and not track them individually.","body":"I would advise you to use spring-bom for dependencies and not track them individually."},{"owner":{"account_id":102708,"reputation":15939,"user_id":275552,"accept_rate":51,"display_name":"herpderp"},"score":0,"creation_date":1637980975,"post_id":70131527,"comment_id":123972822,"body_markdown":"Ok, after implementing spring-bom the error went away","body":"Ok, after implementing spring-bom the error went away"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637983734,"post_id":70131527,"comment_id":123973108,"body_markdown":"good, that was pretty much expected since that surely looked like an incompatibility between versions","body":"good, that was pretty much expected since that surely looked like an incompatibility between versions"}],"owner":{"account_id":102708,"reputation":15939,"user_id":275552,"accept_rate":51,"display_name":"herpderp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637977825,"creation_date":1637977825,"question_id":70131527,"body_markdown":"New to Spring and trying to implement simple web authentication according to [this tutorial](https://www.djamware.com/post/5b2f000880aca77b083240b2/spring-boot-security-and-data-mongodb-authentication-example).\r\nWhen I try to run it, the build fails with this stack trace:\r\n\r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:217) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:139) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:585) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1247) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1236) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat campbell.ScreenshotApplication.main(ScreenshotApplication.java:54) ~[classes/:na]\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n    \tat org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:234) ~[spring-context-5.3.0.jar:5.3.0]\r\n    \tat org.springframework.context.support.GenericApplicationContext.&lt;init&gt;(GenericApplicationContext.java:112) ~[spring-context-5.3.0.jar:5.3.0]\r\n    \tat org.springframework.web.context.support.GenericWebApplicationContext.&lt;init&gt;(GenericWebApplicationContext.java:81) ~[spring-web-5.3.0.jar:5.3.0]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.&lt;init&gt;(ServletWebServerApplicationContext.java:117) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext.&lt;init&gt;(AnnotationConfigServletWebServerApplicationContext.java:72) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:204) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n    \t... 6 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \t... 17 common frames omitted\r\n\r\nHere&#39;s my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;campbell&lt;/groupId&gt;\r\n  &lt;artifactId&gt;security-project&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.7&lt;/source&gt;\r\n          &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;8&lt;/source&gt;\r\n          &lt;target&gt;8&lt;/target&gt;\r\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nScreenshotApplication.java:\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ScreenshotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ScreenshotApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nSSUserDetailsService.java:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport campbell.db.User;\r\nimport campbell.db.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class SSUserDetailsService implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    public User findUserByEmail(String email) {\r\n        return userRepository.findByEmail(email);\r\n    }\r\n\r\n    public void saveUser(User user, String role) {\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        user.setRole(role);\r\n        userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = userRepository.findByEmail(email);\r\n        if (user != null) {\r\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n            authorities.add(new SimpleGrantedAuthority(user.getRole()));\r\n            return buildUserForAuthentication(user, authorities);\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found!&quot;);\r\n        }\r\n    }\r\n\r\n    private UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\r\n    }\r\n\r\n}\r\n```\r\n\r\nLoginController.java:\r\n```\r\nimport campbell.db.User;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport javax.validation.Valid;\r\n\r\n@Controller\r\npublic class LoginController {\r\n\r\n    @Autowired\r\n    private SSUserDetailsService userService;\r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)\r\n    public ModelAndView login() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;login&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.GET)\r\n    public ModelAndView register() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        User user = new User();\r\n        modelAndView.addObject(&quot;user&quot;, user);\r\n        modelAndView.setViewName(&quot;register&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\r\n    public ModelAndView createNewUser(@Valid User user, BindingResult bindingResult) {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        User userExists = userService.findUserByEmail(user.getEmail());\r\n        if (userExists != null) {\r\n            bindingResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;There is already a user with that email.&quot;);\r\n        }\r\n        if (bindingResult.hasErrors()) {\r\n            modelAndView.setViewName(&quot;register&quot;);\r\n        } else {\r\n            userService.saveUser(user,&quot;user&quot;);\r\n            modelAndView.addObject(&quot;successMessage&quot;, &quot;New user registered&quot;);\r\n            modelAndView.addObject(&quot;user&quot;, new User());\r\n            modelAndView.setViewName(&quot;login&quot;);\r\n        }\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/admin&quot;, method = RequestMethod.GET)\r\n    public ModelAndView admin() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        User user = userService.findUserByEmail(auth.getName());\r\n        modelAndView.addObject(&quot;currentUser&quot;, user);\r\n        modelAndView.setViewName(&quot;admin&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView home() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;home&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPageConfig.java:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class PageConfig implements WebMvcConfigurer {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;home&quot;);\r\n        registry.addViewController(&quot;/admin&quot;).setViewName(&quot;admin&quot;);\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWebSecurityConfig.java:\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    CustomAuthenticationSuccessHandler authSuccessHandler;\r\n\r\n    @Bean\r\n    public UserDetailsService mongoUserDetails() {\r\n        return new SSUserDetailsService();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        UserDetailsService userDetailsService = mongoUserDetails();\r\n        auth\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/login&quot;).permitAll()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;admin&quot;).anyRequest()\r\n                .authenticated().and().csrf().disable().formLogin().successHandler(authSuccessHandler)\r\n                .loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .and().logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/&quot;).and().exceptionHandling();\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n                .ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCustomAuthenticationSuccessHandler.java:\r\n```\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request,\r\n                                        HttpServletResponse response, Authentication authentication)\r\n            throws IOException, ServletException {\r\n        //set our response to OK status\r\n        response.setStatus(HttpServletResponse.SC_OK);\r\n\r\n        for (GrantedAuthority auth : authentication.getAuthorities()) {\r\n            if (&quot;admin&quot;.equals(auth.getAuthority())) {\r\n                response.sendRedirect(&quot;/admin&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"BeanInstantiationException when running spring boot web security app","body":"<p>New to Spring and trying to implement simple web authentication according to <a href=\"https://www.djamware.com/post/5b2f000880aca77b083240b2/spring-boot-security-and-data-mongodb-authentication-example\" rel=\"nofollow noreferrer\">this tutorial</a>.\nWhen I try to run it, the build fails with this stack trace:</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:217) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:139) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:585) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1247) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1236) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at campbell.ScreenshotApplication.main(ScreenshotApplication.java:54) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n    at org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:234) ~[spring-context-5.3.0.jar:5.3.0]\n    at org.springframework.context.support.GenericApplicationContext.&lt;init&gt;(GenericApplicationContext.java:112) ~[spring-context-5.3.0.jar:5.3.0]\n    at org.springframework.web.context.support.GenericWebApplicationContext.&lt;init&gt;(GenericWebApplicationContext.java:81) ~[spring-web-5.3.0.jar:5.3.0]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.&lt;init&gt;(ServletWebServerApplicationContext.java:117) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext.&lt;init&gt;(AnnotationConfigServletWebServerApplicationContext.java:72) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:204) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    ... 6 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 17 common frames omitted\n</code></pre>\n<p>Here's my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;campbell&lt;/groupId&gt;\n  &lt;artifactId&gt;security-project&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;8&lt;/source&gt;\n          &lt;target&gt;8&lt;/target&gt;\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n      &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;5.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n      &lt;version&gt;5.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n      &lt;version&gt;5.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n      &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n      &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n      &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>ScreenshotApplication.java:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ScreenshotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ScreenshotApplication.class, args);\n    }\n}\n</code></pre>\n<p>SSUserDetailsService.java:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport campbell.db.User;\nimport campbell.db.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class SSUserDetailsService implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    public User findUserByEmail(String email) {\n        return userRepository.findByEmail(email);\n    }\n\n    public void saveUser(User user, String role) {\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.setRole(role);\n        userRepository.save(user);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userRepository.findByEmail(email);\n        if (user != null) {\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n            authorities.add(new SimpleGrantedAuthority(user.getRole()));\n            return buildUserForAuthentication(user, authorities);\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found!&quot;);\n        }\n    }\n\n    private UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\n    }\n\n}\n</code></pre>\n<p>LoginController.java:</p>\n<pre><code>import campbell.db.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\nimport javax.validation.Valid;\n\n@Controller\npublic class LoginController {\n\n    @Autowired\n    private SSUserDetailsService userService;\n\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)\n    public ModelAndView login() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login&quot;);\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.GET)\n    public ModelAndView register() {\n        ModelAndView modelAndView = new ModelAndView();\n        User user = new User();\n        modelAndView.addObject(&quot;user&quot;, user);\n        modelAndView.setViewName(&quot;register&quot;);\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\n    public ModelAndView createNewUser(@Valid User user, BindingResult bindingResult) {\n        ModelAndView modelAndView = new ModelAndView();\n        User userExists = userService.findUserByEmail(user.getEmail());\n        if (userExists != null) {\n            bindingResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;There is already a user with that email.&quot;);\n        }\n        if (bindingResult.hasErrors()) {\n            modelAndView.setViewName(&quot;register&quot;);\n        } else {\n            userService.saveUser(user,&quot;user&quot;);\n            modelAndView.addObject(&quot;successMessage&quot;, &quot;New user registered&quot;);\n            modelAndView.addObject(&quot;user&quot;, new User());\n            modelAndView.setViewName(&quot;login&quot;);\n        }\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/admin&quot;, method = RequestMethod.GET)\n    public ModelAndView admin() {\n        ModelAndView modelAndView = new ModelAndView();\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        User user = userService.findUserByEmail(auth.getName());\n        modelAndView.addObject(&quot;currentUser&quot;, user);\n        modelAndView.setViewName(&quot;admin&quot;);\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public ModelAndView home() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;home&quot;);\n        return modelAndView;\n    }\n\n}\n</code></pre>\n<p>PageConfig.java:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class PageConfig implements WebMvcConfigurer {\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;home&quot;);\n        registry.addViewController(&quot;/admin&quot;).setViewName(&quot;admin&quot;);\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n    }\n}\n</code></pre>\n<p>WebSecurityConfig.java:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Autowired\n    CustomAuthenticationSuccessHandler authSuccessHandler;\n\n    @Bean\n    public UserDetailsService mongoUserDetails() {\n        return new SSUserDetailsService();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        UserDetailsService userDetailsService = mongoUserDetails();\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .antMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;admin&quot;).anyRequest()\n                .authenticated().and().csrf().disable().formLogin().successHandler(authSuccessHandler)\n                .loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and().logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;).and().exceptionHandling();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;);\n    }\n}\n</code></pre>\n<p>CustomAuthenticationSuccessHandler.java:</p>\n<pre><code>import org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request,\n                                        HttpServletResponse response, Authentication authentication)\n            throws IOException, ServletException {\n        //set our response to OK status\n        response.setStatus(HttpServletResponse.SC_OK);\n\n        for (GrantedAuthority auth : authentication.getAuthorities()) {\n            if (&quot;admin&quot;.equals(auth.getAuthority())) {\n                response.sendRedirect(&quot;/admin&quot;);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1637976855,"post_id":70131455,"comment_id":123972408,"body_markdown":"Do you mean to `return obj2;` after mutating it?","body":"Do you mean to <code>return obj2;</code> after mutating it?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1637977092,"post_id":70131455,"comment_id":123972441,"body_markdown":"Your compilation error is occurring because the value is `obj2.add(obj)` is `true` or `false`.  Read the javadocs! If you want to return `obj2`, use `return obj2;` not `return obj2.add(obj);`.","body":"Your compilation error is occurring because the value is <code>obj2.add(obj)</code> is <code>true</code> or <code>false</code>.  Read the javadocs! If you want to return <code>obj2</code>, use <code>return obj2;</code> not <code>return obj2.add(obj);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13305202,"reputation":39,"user_id":9605251,"display_name":"Matthew Casey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637977180,"creation_date":1637977180,"answer_id":70131482,"question_id":70131455,"body_markdown":"The add method returns a boolean, as per the documentation: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(E)\r\n\r\nThus when you try to return obj2.add(obj) you are actually returning True, since that is what the add method returns. What you should do instead is as follows:\r\n\r\n```\r\nobj2.add(obj);\r\nreturn obj2;\r\n```\r\n\r\nThis won&#39;t give you the functionality that you are looking for, since all you&#39;ve done is copy the input array into a list and put it into another list. If you are looking to return all permutations you will have to do some more work.","title":"Is there a way to generate output from a List&lt;List&lt;Integer&gt;&gt; object?","body":"<p>The add method returns a boolean, as per the documentation: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(E)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(E)</a></p>\n<p>Thus when you try to return obj2.add(obj) you are actually returning True, since that is what the add method returns. What you should do instead is as follows:</p>\n<pre><code>obj2.add(obj);\nreturn obj2;\n</code></pre>\n<p>This won't give you the functionality that you are looking for, since all you've done is copy the input array into a list and put it into another list. If you are looking to return all permutations you will have to do some more work.</p>\n"}],"owner":{"account_id":23466623,"reputation":31,"user_id":17520707,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637977180,"creation_date":1637976541,"question_id":70131455,"body_markdown":"I have the following code and would like to generate output. At this point, generating a functional output of &#39;obj&#39; and &#39;obj2&#39; would help tremendously.\r\n\r\nMain file:\r\n\r\n    public class Main\r\n    {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            int[] nums = {1,2,3};\r\n            Solution obj = new Solution();\r\n            obj.permute(nums);\r\n    \r\n        }\r\n    }\r\n\r\nSolution file:\r\n\r\n    import java.util.*;\r\n    \r\n    class Solution {\r\n    \r\n        public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums)\r\n        {\r\n    \r\n            List&lt;Integer&gt; obj;\r\n            obj = new ArrayList&lt;Integer&gt;();\r\n    \r\n            List&lt;List&lt;Integer&gt;&gt; obj2 = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    \r\n    \r\n            for(int i = 0 ; i &lt; nums.length;i++)\r\n            {\r\n    \r\n                obj.add(nums[i]);\r\n    \r\n    \r\n            }\r\n    \r\n            return obj2.add(obj);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    java: incompatible types: boolean cannot be converted to java.util.List&lt;java.util.List&lt;java.lang.Integer&gt;&gt;\r\n\r\n\r\nExpected Output:\r\n\r\n    [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]\r\n\r\n","title":"Is there a way to generate output from a List&lt;List&lt;Integer&gt;&gt; object?","body":"<p>I have the following code and would like to generate output. At this point, generating a functional output of 'obj' and 'obj2' would help tremendously.</p>\n<p>Main file:</p>\n<pre><code>public class Main\n{\n\n    public static void main(String[] args)\n    {\n        int[] nums = {1,2,3};\n        Solution obj = new Solution();\n        obj.permute(nums);\n\n    }\n}\n</code></pre>\n<p>Solution file:</p>\n<pre><code>import java.util.*;\n\nclass Solution {\n\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums)\n    {\n\n        List&lt;Integer&gt; obj;\n        obj = new ArrayList&lt;Integer&gt;();\n\n        List&lt;List&lt;Integer&gt;&gt; obj2 = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n\n\n        for(int i = 0 ; i &lt; nums.length;i++)\n        {\n\n            obj.add(nums[i]);\n\n\n        }\n\n        return obj2.add(obj);\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>java: incompatible types: boolean cannot be converted to java.util.List&lt;java.util.List&lt;java.lang.Integer&gt;&gt;\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]\n</code></pre>\n"},{"tags":["java","android","android-studio","bitmap"],"answers":[{"tags":[],"owner":{"account_id":18132716,"reputation":397,"user_id":13187633,"display_name":"yan sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637936071,"creation_date":1637936071,"answer_id":70125787,"question_id":70125275,"body_markdown":"create a new blank bitmap  \r\ncreate canvas object  \r\nfill the canvas a background  \r\nput old bitmap in your canvas.\r\n````\r\nBitmap newBitmap = Bitmap.create(bitmap.width,bitmap.height,ARGB_8888)\r\nCanvas canvas = new Canvas(newBitmap)\r\ncanvas.drawColor(Color.white)\r\ncanvas.drawBitmap(bitmap,0F,0F,null)\r\n````","title":"View.getDrawingCache() always return Black area in Bitmap for transparent PNG. Can we change Tranparent Black Area to White Color in Bitmap?","body":"<p>create a new blank bitmap<br />\ncreate canvas object<br />\nfill the canvas a background<br />\nput old bitmap in your canvas.</p>\n<pre><code>Bitmap newBitmap = Bitmap.create(bitmap.width,bitmap.height,ARGB_8888)\nCanvas canvas = new Canvas(newBitmap)\ncanvas.drawColor(Color.white)\ncanvas.drawBitmap(bitmap,0F,0F,null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22154076,"reputation":1,"user_id":16402124,"display_name":"Abdullah Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637976637,"creation_date":1637976637,"answer_id":70131458,"question_id":70125275,"body_markdown":"*finally i figure out the solution as well*\r\n\r\n    View z  = preview;   // get whole layout view\r\n            z.setDrawingCacheEnabled(true);\r\n            Bitmap bitmap = Bitmap.createBitmap(z.getDrawingCache());\r\n            z.destroyDrawingCache();\r\n    \r\n    Bitmap newBitmap = Bitmap.createBitmap(bitmap.getWidth(),bitmap.getHeight(),ARGB_8888);\r\n            newBitmap.eraseColor(Color.WHITE);\r\n            Canvas canvas2 = new Canvas(newBitmap);\r\n            canvas2.drawBitmap(bitmap,0F,0F,null);","title":"View.getDrawingCache() always return Black area in Bitmap for transparent PNG. Can we change Tranparent Black Area to White Color in Bitmap?","body":"<p><em>finally i figure out the solution as well</em></p>\n<pre><code>View z  = preview;   // get whole layout view\n        z.setDrawingCacheEnabled(true);\n        Bitmap bitmap = Bitmap.createBitmap(z.getDrawingCache());\n        z.destroyDrawingCache();\n\nBitmap newBitmap = Bitmap.createBitmap(bitmap.getWidth(),bitmap.getHeight(),ARGB_8888);\n        newBitmap.eraseColor(Color.WHITE);\n        Canvas canvas2 = new Canvas(newBitmap);\n        canvas2.drawBitmap(bitmap,0F,0F,null);\n</code></pre>\n"}],"owner":{"account_id":22154076,"reputation":1,"user_id":16402124,"display_name":"Abdullah Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637976637,"creation_date":1637933716,"question_id":70125275,"body_markdown":"I have a method for screenshot which takes the View from XML and convert to Bitmap object, and I have multiple PNG on layout View. Some PNG have transparent Area which appears as Black color in Bitmap (which i want to change to White) or want to get rid of Black transparent area.\r\n \r\n```java\r\nprivate void takescreenshot(LinearLayout preview) throws IOException\r\n{\r\n    View z  = preview;   // get whole layout view\r\n    z.setDrawingCacheEnabled(true);\r\n    Bitmap bitmap = Bitmap.createBitmap(z.getDrawingCache());\r\n    z.destroyDrawingCache();\r\n}\r\n```","title":"View.getDrawingCache() always return Black area in Bitmap for transparent PNG. Can we change Tranparent Black Area to White Color in Bitmap?","body":"<p>I have a method for screenshot which takes the View from XML and convert to Bitmap object, and I have multiple PNG on layout View. Some PNG have transparent Area which appears as Black color in Bitmap (which i want to change to White) or want to get rid of Black transparent area.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void takescreenshot(LinearLayout preview) throws IOException\n{\n    View z  = preview;   // get whole layout view\n    z.setDrawingCacheEnabled(true);\n    Bitmap bitmap = Bitmap.createBitmap(z.getDrawingCache());\n    z.destroyDrawingCache();\n}\n</code></pre>\n"},{"tags":["java","javassist"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637976194,"post_id":70131403,"comment_id":123972325,"body_markdown":"You&#39;ll want to explore the concept of &quot;custom class loading&quot;.  In the past, I developed a plugin architecture which was basically a `Jar` file, which contained a &quot;plugin&quot; descriptor and each &quot;entry point&quot; would then adhere to a set of different `interface`s, so it was easy to load and make it available to the overall application","body":"You&#39;ll want to explore the concept of &quot;custom class loading&quot;.  In the past, I developed a plugin architecture which was basically a <code>Jar</code> file, which contained a &quot;plugin&quot; descriptor and each &quot;entry point&quot; would then adhere to a set of different <code>interface</code>s, so it was easy to load and make it available to the overall application"},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":1,"creation_date":1637976261,"post_id":70131403,"comment_id":123972330,"body_markdown":"Would the [`Class::forName`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-) method solve your problem?","body":"Would the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Class::forName</code></a> method solve your problem?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637976344,"post_id":70131403,"comment_id":123972341,"body_markdown":"[For a starting point](https://stackoverflow.com/questions/21819278/how-do-i-loadclass-from-outside-project-build/21819525#21819525)","body":"<a href=\"https://stackoverflow.com/questions/21819278/how-do-i-loadclass-from-outside-project-build/21819525#21819525\">For a starting point</a>"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1637976764,"post_id":70131403,"comment_id":123972396,"body_markdown":"Does this answer your question? [Java - Dynamically choosing subclass/object to create](https://stackoverflow.com/questions/61924311/java-dynamically-choosing-subclass-object-to-create)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61924311/java-dynamically-choosing-subclass-object-to-create\">Java - Dynamically choosing subclass/object to create</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637976295,"creation_date":1637976295,"answer_id":70131437,"question_id":70131403,"body_markdown":"Sure. What you&#39;re looking for is [the reflection API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/reflect/package-summary.html).\r\n\r\nFor example:\r\n\r\n```\r\nString cName = askUserForClass();\r\nassert cName.equals(&quot;com.foo.schreiber.PriceyModule&quot;);\r\nClass&lt;?&gt; moduleClass = Class.forName(cName);\r\nMyModule mm = (MyModule) moduleClass.getConstructor().newInstance();\r\n```\r\n\r\nand now you have a variable of type MyModule. You can just invoke `m1` on this, assuming `m1` is in `MyModule` and `MyModule` is in the base version (that&#39;s how you should be setting this up).\r\n\r\nNote, of course, that `com.foo.schreiber.PriceyModule` does need to be on the classpath of the JVM for this to work. If it is not, this answer is going to grow about 3 pages worth, to set up a class loader, set up loading parentages so that you share the `MyModule` definition, and a whole lotta code to reliably find the jar or whatever it might be that is the source of the extra module. So, you know. Would be a lot simpler if you can just ensure it&#39;s on the classpath. As long as its in the jar, that&#39;ll be the case.\r\n","title":"Add classes to project after compile time","body":"<p>Sure. What you're looking for is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">the reflection API</a>.</p>\n<p>For example:</p>\n<pre><code>String cName = askUserForClass();\nassert cName.equals(&quot;com.foo.schreiber.PriceyModule&quot;);\nClass&lt;?&gt; moduleClass = Class.forName(cName);\nMyModule mm = (MyModule) moduleClass.getConstructor().newInstance();\n</code></pre>\n<p>and now you have a variable of type MyModule. You can just invoke <code>m1</code> on this, assuming <code>m1</code> is in <code>MyModule</code> and <code>MyModule</code> is in the base version (that's how you should be setting this up).</p>\n<p>Note, of course, that <code>com.foo.schreiber.PriceyModule</code> does need to be on the classpath of the JVM for this to work. If it is not, this answer is going to grow about 3 pages worth, to set up a class loader, set up loading parentages so that you share the <code>MyModule</code> definition, and a whole lotta code to reliably find the jar or whatever it might be that is the source of the extra module. So, you know. Would be a lot simpler if you can just ensure it's on the classpath. As long as its in the jar, that'll be the case.</p>\n"}],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70131437,"answer_count":1,"score":0,"last_activity_date":1637976295,"creation_date":1637975816,"question_id":70131403,"body_markdown":"I have a project which can contain a lot of modules. Each module is stored in a single `class` file. But when I deliver the software to the customers, it is not clear which modules they will need in the future.\r\n\r\nIs it possible to deliver `class` NewClass to my customer and he can call a method from it without changing the code of the existing program?\r\n\r\nHe could type the name of the `class` in a field, so the program would know which `class` to use. And all the methods names are same in all the added `class`es.\r\n\r\nI guess it could work with Javassist, but I did not find a good tutorial for it.\r\n\r\nI would like to call method m1() from NewClass.\r\n\r\n```\r\nclass NewClass implements MyModule {\r\n  @Override\r\n  public void m1() {\r\n    // do something\r\n  }\r\n}\r\n```\r\n","title":"Add classes to project after compile time","body":"<p>I have a project which can contain a lot of modules. Each module is stored in a single <code>class</code> file. But when I deliver the software to the customers, it is not clear which modules they will need in the future.</p>\n<p>Is it possible to deliver <code>class</code> NewClass to my customer and he can call a method from it without changing the code of the existing program?</p>\n<p>He could type the name of the <code>class</code> in a field, so the program would know which <code>class</code> to use. And all the methods names are same in all the added <code>class</code>es.</p>\n<p>I guess it could work with Javassist, but I did not find a good tutorial for it.</p>\n<p>I would like to call method m1() from NewClass.</p>\n<pre><code>class NewClass implements MyModule {\n  @Override\n  public void m1() {\n    // do something\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","jetty"],"owner":{"account_id":10037631,"reputation":1115,"user_id":7421645,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637975683,"creation_date":1637975683,"question_id":70131389,"body_markdown":"In our project we are deploying a Java web app in Jetty. Jetty warns that it can find the same class in multiple locations (see this earlier SO question https://stackoverflow.com/q/52402360/7421645).\r\n\r\nWe were able to identify that taglibs was in our server classpath as well as being bundled with our application. However we also found some more complicated scenarios, such as dependencies that had bundled common dependencies into their release artifact! And some generated code in a few jars that just had common classes being generated with the same names and classpaths.\r\n\r\nSince Jetty is able to tell us these exist, I was wondering if there was a Gradle plugin that might inform us a little faster? ","title":"Gradle is there a plugin to identify class naming collisions in the configuration","body":"<p>In our project we are deploying a Java web app in Jetty. Jetty warns that it can find the same class in multiple locations (see this earlier SO question <a href=\"https://stackoverflow.com/q/52402360/7421645\">Maven Jetty spams warning &quot;scanned from multiple locations&quot;</a>).</p>\n<p>We were able to identify that taglibs was in our server classpath as well as being bundled with our application. However we also found some more complicated scenarios, such as dependencies that had bundled common dependencies into their release artifact! And some generated code in a few jars that just had common classes being generated with the same names and classpaths.</p>\n<p>Since Jetty is able to tell us these exist, I was wondering if there was a Gradle plugin that might inform us a little faster?</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1637973224,"post_id":70131194,"comment_id":123971985,"body_markdown":"The function ought to `throw` an `IOException` (or have a `try`/`catch` block). You don&#39;t need to `import java.lang.*;` or `extends Object` and you should name the classes you are importing (i.e. `java.io.IOException`) rather than importing using wildcards.","body":"The function ought to <code>throw</code> an <code>IOException</code> (or have a <code>try</code>/<code>catch</code> block). You don&#39;t need to <code>import java.lang.*;</code> or <code>extends Object</code> and you should name the classes you are importing (i.e. <code>java.io.IOException</code>) rather than importing using wildcards."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637974748,"creation_date":1637973942,"answer_id":70131272,"question_id":70131194,"body_markdown":"If you compile it you get the exception:\r\n\r\n```\r\nORA-29535: source requires recompilation\r\nutil:7: error: unreported exception IOException; must be caught or declared to be thrown\r\n \t        Runtime.getRuntime().exec(cmd);\r\n \t                                 ^\r\n\r\n1 error\r\n```\r\n\r\nYou can fix that (and a few other minor things that don&#39;t affect compilation but aren&#39;t necessary to include, and you probably don&#39;t want to use a quoted identifier):\r\n\r\n``` sql\r\nCREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED util\r\nAS\r\nimport java.io.IOException;\r\n\r\npublic class Util\r\n{\r\n    public static String exec(String cmd) throws IOException\r\n    {\r\n        Runtime.getRuntime().exec(cmd);\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThen it compiles [Oracle 18 db&lt;&gt;fiddle](https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=ee68034a96933f2d42b9b2beda3e90e2).\r\n\r\n*Note: this function is a huge security issue for your database and you probably should find an alternative solution rather than allowing arbitrary code execution.*","title":"Can&#39;t compile java in oracle: badly formed source","body":"<p>If you compile it you get the exception:</p>\n<pre><code>ORA-29535: source requires recompilation\nutil:7: error: unreported exception IOException; must be caught or declared to be thrown\n            Runtime.getRuntime().exec(cmd);\n                                     ^\n\n1 error\n</code></pre>\n<p>You can fix that (and a few other minor things that don't affect compilation but aren't necessary to include, and you probably don't want to use a quoted identifier):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED util\nAS\nimport java.io.IOException;\n\npublic class Util\n{\n    public static String exec(String cmd) throws IOException\n    {\n        Runtime.getRuntime().exec(cmd);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Then it compiles <a href=\"https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=ee68034a96933f2d42b9b2beda3e90e2\" rel=\"nofollow noreferrer\">Oracle 18 db&lt;&gt;fiddle</a>.</p>\n<p><em>Note: this function is a huge security issue for your database and you probably should find an alternative solution rather than allowing arbitrary code execution.</em></p>\n"}],"owner":{"account_id":305047,"reputation":22750,"user_id":614944,"accept_rate":73,"display_name":"daisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70131272,"answer_count":1,"score":0,"last_activity_date":1637974748,"creation_date":1637972648,"question_id":70131194,"body_markdown":"I&#39;m executing the following code in Navicat:\r\n\r\n```\r\nCREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;util&quot;\r\nAS\r\nimport java.io.*;\r\nimport java.lang.*;\r\npublic class util extends Object\r\n{\r\n\tpublic static String exec(String cmd)\r\n\t{\r\n\t\tRuntime.getRuntime().exec(cmd);\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nAnd it fails with:\r\n\r\n```\r\nORA-29536: badly formed source: Encountered &quot;&lt;EOF&gt;&quot; at line 1, column 16.\r\nWas expecting:\r\n    &quot;;&quot; ...\r\n    \r\n, Time: 0.059000s\r\n```\r\n\r\nThe source code compiles correctly with javac, why won&#39;t it work in Oracle19?","title":"Can&#39;t compile java in oracle: badly formed source","body":"<p>I'm executing the following code in Navicat:</p>\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;util&quot;\nAS\nimport java.io.*;\nimport java.lang.*;\npublic class util extends Object\n{\n    public static String exec(String cmd)\n    {\n        Runtime.getRuntime().exec(cmd);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>And it fails with:</p>\n<pre><code>ORA-29536: badly formed source: Encountered &quot;&lt;EOF&gt;&quot; at line 1, column 16.\nWas expecting:\n    &quot;;&quot; ...\n    \n, Time: 0.059000s\n</code></pre>\n<p>The source code compiles correctly with javac, why won't it work in Oracle19?</p>\n"},{"tags":["java","android","firebase-authentication","facebook-login"],"answers":[{"tags":[],"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512996518,"creation_date":1512996518,"answer_id":47753361,"question_id":47752215,"body_markdown":"I hope this helps you:\r\n    \r\n    for (UserInfo user:FirebaseAuth.getInstance().getCurrentUser().getProviderData()) {\r\n      if (user.getProviderId().equals(&quot;facebook.com&quot;)) {\r\n        System.out.println(&quot;User is signed in with Facebook&quot;);\r\n      } \r\n    }","title":"How to check if a user is logged in via Facebook in Firebase Auth","body":"<p>I hope this helps you:</p>\n\n<pre><code>for (UserInfo user:FirebaseAuth.getInstance().getCurrentUser().getProviderData()) {\n  if (user.getProviderId().equals(\"facebook.com\")) {\n    System.out.println(\"User is signed in with Facebook\");\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1512996561,"creation_date":1512996561,"answer_id":47753379,"question_id":47752215,"body_markdown":"This is how you can do it:\r\n\r\n\tif (firebaseUser != null) {\r\n\t    for (UserInfo userInfo : firebaseUser.getProviderData()) {\r\n\t\t    if (userInfo.getProviderId().equals(&quot;facebook.com&quot;)) {\r\n\t\t        Log.d(&quot;TAG&quot;, &quot;User is signed in with Facebook&quot;);\r\n\t\t    }\r\n\t    }\r\n\t}","title":"How to check if a user is logged in via Facebook in Firebase Auth","body":"<p>This is how you can do it:</p>\n\n<pre><code>if (firebaseUser != null) {\n    for (UserInfo userInfo : firebaseUser.getProviderData()) {\n        if (userInfo.getProviderId().equals(\"facebook.com\")) {\n            Log.d(\"TAG\", \"User is signed in with Facebook\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11558728,"reputation":202,"user_id":8469107,"accept_rate":33,"display_name":"Suraj Giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1637974638,"accepted_answer_id":47753379,"answer_count":2,"score":2,"last_activity_date":1637974648,"creation_date":1512992657,"question_id":47752215,"body_markdown":"I am trying to determine whether the current user is authenticated in the app via Facebook login or not. I want that because if a user is authenticated via facebook than the signOut() should process                \r\n\r\n\r\n            LoginManager.getInstance().logOut();\r\n\r\nbut if it is authenticated via email than simple \r\n\r\n\r\n\r\n    auth.signOut();\r\nmy cuurent code is\r\n\r\n\r\n\r\n    //sign out method\r\n    public void signOut() {\r\n\r\n        if(auth.getCurrentUser().getProviderId().equals(&quot;facebook.com&quot;)) {\r\n            LoginManager.getInstance().logOut();\r\n            auth.signOut();\r\n        }\r\n        else {\r\n            auth.signOut();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to check if a user is logged in via Facebook in Firebase Auth","body":"<p>I am trying to determine whether the current user is authenticated in the app via Facebook login or not. I want that because if a user is authenticated via facebook than the signOut() should process                </p>\n\n<pre><code>        LoginManager.getInstance().logOut();\n</code></pre>\n\n<p>but if it is authenticated via email than simple </p>\n\n<pre><code>auth.signOut();\n</code></pre>\n\n<p>my cuurent code is</p>\n\n<pre><code>//sign out method\npublic void signOut() {\n\n    if(auth.getCurrentUser().getProviderId().equals(\"facebook.com\")) {\n        LoginManager.getInstance().logOut();\n        auth.signOut();\n    }\n    else {\n        auth.signOut();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jlabel","imageicon"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637956236,"post_id":70128639,"comment_id":123968864,"body_markdown":"Components need to be added to the frame BEFORE the frame is visible.","body":"Components need to be added to the frame BEFORE the frame is visible."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637956763,"post_id":70128639,"comment_id":123968977,"body_markdown":"Take `setVisible(true);` and move it to the end of the constructor OR you need to call `revalidate` and `repaint` on the container you&#39;ve changed in order to trigger a new layout and paint pass","body":"Take <code>setVisible(true);</code> and move it to the end of the constructor OR you need to call <code>revalidate</code> and <code>repaint</code> on the container you&#39;ve changed in order to trigger a new layout and paint pass"},{"owner":{"account_id":18544231,"reputation":13,"user_id":13512002,"display_name":"shashank sahu"},"score":0,"creation_date":1637978137,"post_id":70128639,"comment_id":123972574,"body_markdown":"Thanks, it worked. Is that means I can&#39;t make changes on the window once I make it visible?","body":"Thanks, it worked. Is that means I can&#39;t make changes on the window once I make it visible?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637980717,"post_id":70128639,"comment_id":123972797,"body_markdown":"*&quot;that means I can&#39;t make changes on the window once I make it visible&quot;* No a GUI can be updated with new components in a number of ways, but you want to be certain that it is actually necessary to add components dynamically, as it requires special handling. Given a `JLabel` without a BG color, border, icon or text is invisible, it should not be necessary here. Just add the label when the GUI is created, then set the icon whenever it&#39;s needed.","body":"<i>&quot;that means I can&#39;t make changes on the window once I make it visible&quot;</i> No a GUI can be updated with new components in a number of ways, but you want to be certain that it is actually necessary to add components dynamically, as it requires special handling. Given a <code>JLabel</code> without a BG color, border, icon or text is invisible, it should not be necessary here. Just add the label when the GUI is created, then set the icon whenever it&#39;s needed."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638003076,"post_id":70128639,"comment_id":123975596,"body_markdown":"_Is that means I can&#39;t make changes on the window once I make it visible?_ as MadProgrammer commented: _**you need to call revalidate and repaint on the container you&#39;ve changed in order to trigger a new layout and paint**_","body":"<i>Is that means I can&#39;t make changes on the window once I make it visible?</i> as MadProgrammer commented: <i><b>you need to call revalidate and repaint on the container you&#39;ve changed in order to trigger a new layout and paint</b></i>"}],"owner":{"account_id":18544231,"reputation":13,"user_id":13512002,"display_name":"shashank sahu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637973828,"creation_date":1637950942,"question_id":70128639,"body_markdown":"I am using VS Code and my folder contains one Java file and one image only.\r\n\r\nI was trying to set image in JLabel, so first I access the image by:\r\n\r\n    ImageIcon img = new ImageIcon(getClass().getResource(&quot;img_flag.png&quot;));\r\n\r\nThen I set this to `JLabel` but nothing appears on my screen.\r\n\r\n    JLabel label = new JLabel(img);\r\n\r\nTo confirm that I am accessing the correct image, I set it to the logo of the window and the logo was showing properly. \r\n\r\n    setIconImage(img.getImage());\r\n\r\nI can&#39;t figure out why label can&#39;t show the image.\r\n\r\nHere is my full code:\r\n\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n\r\n    public class Mylable extends JFrame{\r\n\r\n        Mylable(){\r\n     \r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(500,500);\r\n            ImageIcon img = new ImageIcon(getClass().getResource(&quot;img_flag.png&quot;));\r\n            setIconImage(img.getImage());       //working \r\n            JLabel label = new JLabel(img);     //not working \r\n            add(label);\r\n        }\r\n\r\n        public static void main(String[] args)  {\r\n            new Mylable();\r\n        }    \r\n    }\r\n\r\n[![logo is appearing but JLable is not showing][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hACdo.jpg","title":"setIcon of JLabel is not working, but setIconImage of JFrame is","body":"<p>I am using VS Code and my folder contains one Java file and one image only.</p>\n<p>I was trying to set image in JLabel, so first I access the image by:</p>\n<pre><code>ImageIcon img = new ImageIcon(getClass().getResource(&quot;img_flag.png&quot;));\n</code></pre>\n<p>Then I set this to <code>JLabel</code> but nothing appears on my screen.</p>\n<pre><code>JLabel label = new JLabel(img);\n</code></pre>\n<p>To confirm that I am accessing the correct image, I set it to the logo of the window and the logo was showing properly.</p>\n<pre><code>setIconImage(img.getImage());\n</code></pre>\n<p>I can't figure out why label can't show the image.</p>\n<p>Here is my full code:</p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class Mylable extends JFrame{\n\n    Mylable(){\n \n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(500,500);\n        ImageIcon img = new ImageIcon(getClass().getResource(&quot;img_flag.png&quot;));\n        setIconImage(img.getImage());       //working \n        JLabel label = new JLabel(img);     //not working \n        add(label);\n    }\n\n    public static void main(String[] args)  {\n        new Mylable();\n    }    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hACdo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hACdo.jpg\" alt=\"logo is appearing but JLable is not showing\" /></a></p>\n"},{"tags":["java","mysql","oracle","prepared-statement"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1637976024,"post_id":70131066,"comment_id":123972295,"body_markdown":"For Oracle you can just use a MERGE statement","body":"For Oracle you can just use a MERGE statement"},{"owner":{"account_id":23293648,"reputation":25,"user_id":17375350,"display_name":"Joerdan Devera"},"score":0,"creation_date":1637976238,"post_id":70131066,"comment_id":123972327,"body_markdown":"@OldProgrammer but is that efficient rather than using my code?","body":"@OldProgrammer but is that efficient rather than using my code?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1637976934,"post_id":70131066,"comment_id":123972419,"body_markdown":"Yes.  You are replicating functionality already available in the MERGE statement.","body":"Yes.  You are replicating functionality already available in the MERGE statement."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637991848,"post_id":70131066,"comment_id":123974022,"body_markdown":"Why are you using [two accounts](https://stackoverflow.com/users/16983968/average-joe) to ask basically [the same question](https://stackoverflow.com/q/70123848/642706) with the exact same code sample?","body":"Why are you using <a href=\"https://stackoverflow.com/users/16983968/average-joe\">two accounts</a> to ask basically <a href=\"https://stackoverflow.com/q/70123848/642706\">the same question</a> with the exact same code sample?"}],"owner":{"account_id":23293648,"reputation":25,"user_id":17375350,"display_name":"Joerdan Devera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637972804,"creation_date":1637970926,"question_id":70131066,"body_markdown":"my system is having a database either `mySQL` or Oracle. I am writing a function to:\r\n - Check data in the database if id exists, \r\n - if data exists then do an `UPDATE` otherwise do an `INSERT`\r\n\r\nMy question is, is it efficient if I use `UPSERT` statement? Though i may still have 2 SQL string one for `mySQL` and one for Oracle.\r\n\r\nHere is my current code so far:\r\n\r\n    public void insertOrUpdate(Report report) throws DBException {\r\n    \r\n            String id = getId(report.id);\r\n    \r\n            String update =\r\n                    &quot;UPDATE delivery SET url=?, response=?, created_date=? &quot; +\r\n                            &quot;WHERE id=?&quot;;\r\n            String insert = &quot;INSERT INTO delivery (id, external_id, desc, url, response,&quot; +\r\n                    &quot; created_date) VALUES (?,?,?,?,?,?)&quot;;\r\n    \r\n            PreparedStatement ps = null;\r\n            Connection con = null;\r\n            try {\r\n                con = getConnection();\r\n                if (StringUtils.isEmpty(id)) {\r\n                    ps = con.prepareStatement(insert);\r\n                    int idx = 1;\r\n                    ps.setLong(idx++, report.id);\r\n                    ps.setString(idx++, report.externalId);\r\n                    ps.setLong(idx++, report.description);\r\n                    ps.setString(idx++, report.url);\r\n                    ps.setString(idx++, report.response);\r\n                    ps.setString(idx++, report.createdDate);\r\n                    ps.executeUpdate();\r\n                } else {\r\n                    ps = con.prepareStatement(update);\r\n                    int idx = 1;\r\n                    ps.setString(idx++, report.url);\r\n                    ps.setString(idx++, report.response);\r\n                    ps.setString(idx++, report.createdDate);\r\n                    ps.setLong(idx++, report.id);\r\n                    ps.executeUpdate();\r\n                }\r\n            } catch (Exception e) {\r\n                LOG.error(&quot;Error while Inserting/Updating delivery &quot;, e);\r\n                throw new DBException(e.getMessage(), e);\r\n            } finally {\r\n                close(ps);\r\n                returnConnection(con);\r\n            }\r\n        }","title":"UPSERT vs typical INSERT or UPDATE prepared statement","body":"<p>my system is having a database either <code>mySQL</code> or Oracle. I am writing a function to:</p>\n<ul>\n<li>Check data in the database if id exists,</li>\n<li>if data exists then do an <code>UPDATE</code> otherwise do an <code>INSERT</code></li>\n</ul>\n<p>My question is, is it efficient if I use <code>UPSERT</code> statement? Though i may still have 2 SQL string one for <code>mySQL</code> and one for Oracle.</p>\n<p>Here is my current code so far:</p>\n<pre><code>public void insertOrUpdate(Report report) throws DBException {\n\n        String id = getId(report.id);\n\n        String update =\n                &quot;UPDATE delivery SET url=?, response=?, created_date=? &quot; +\n                        &quot;WHERE id=?&quot;;\n        String insert = &quot;INSERT INTO delivery (id, external_id, desc, url, response,&quot; +\n                &quot; created_date) VALUES (?,?,?,?,?,?)&quot;;\n\n        PreparedStatement ps = null;\n        Connection con = null;\n        try {\n            con = getConnection();\n            if (StringUtils.isEmpty(id)) {\n                ps = con.prepareStatement(insert);\n                int idx = 1;\n                ps.setLong(idx++, report.id);\n                ps.setString(idx++, report.externalId);\n                ps.setLong(idx++, report.description);\n                ps.setString(idx++, report.url);\n                ps.setString(idx++, report.response);\n                ps.setString(idx++, report.createdDate);\n                ps.executeUpdate();\n            } else {\n                ps = con.prepareStatement(update);\n                int idx = 1;\n                ps.setString(idx++, report.url);\n                ps.setString(idx++, report.response);\n                ps.setString(idx++, report.createdDate);\n                ps.setLong(idx++, report.id);\n                ps.executeUpdate();\n            }\n        } catch (Exception e) {\n            LOG.error(&quot;Error while Inserting/Updating delivery &quot;, e);\n            throw new DBException(e.getMessage(), e);\n        } finally {\n            close(ps);\n            returnConnection(con);\n        }\n    }\n</code></pre>\n"},{"tags":["java","jboss","permgen"],"comments":[{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1425965676,"post_id":28956631,"comment_id":46166531,"body_markdown":"Do you have `standalone.conf.bat` file in JBoss bin directory ? If yes, then try changing `set &quot;JAVA_OPTS=-Xms1303M -Xmx1303M -XX:MaxPermSize=256M&quot;` value in that file.","body":"Do you have <code>standalone.conf.bat</code> file in JBoss bin directory ? If yes, then try changing <code>set &quot;JAVA_OPTS=-Xms1303M -Xmx1303M -XX:MaxPermSize=256M&quot;</code> value in that file."},{"owner":{"account_id":4196934,"reputation":4083,"user_id":3438128,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1425966153,"post_id":28956631,"comment_id":46166656,"body_markdown":"Sorry @007. I don&#39;t have  standalone.conf.bat in  bin directory. I have run.conf file.","body":"Sorry @007. I don&#39;t have  standalone.conf.bat in  bin directory. I have run.conf file."},{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1425967099,"post_id":28956631,"comment_id":46166925,"body_markdown":"What is the actual size of memory in ur machine &amp; JAVA_OPTS in run.conf file ? Is above configuration is from ur run.conf file ?","body":"What is the actual size of memory in ur machine &amp; JAVA_OPTS in run.conf file ? Is above configuration is from ur run.conf file ?"},{"owner":{"account_id":4196934,"reputation":4083,"user_id":3438128,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1425967287,"post_id":28956631,"comment_id":46167004,"body_markdown":"Memory size - 4GB RAM. Yes, the above configuration is in run.conf file.","body":"Memory size - 4GB RAM. Yes, the above configuration is in run.conf file."},{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1425967591,"post_id":28956631,"comment_id":46167091,"body_markdown":"Try removing `-XX:PermSize=128m -XX:MaxPermSize=512m` from run.conf file. Bcoz on fresh download run.conf file contains `if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\n   JAVA_OPTS=&quot;-Xms128m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000&quot;\nfi`.","body":"Try removing <code>-XX:PermSize=128m -XX:MaxPermSize=512m</code> from run.conf file. Bcoz on fresh download run.conf file contains <code>if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then    JAVA_OPTS=&quot;-Xms128m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000&quot; fi</code>."},{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1425967772,"post_id":28956631,"comment_id":46167164,"body_markdown":"And have a look at [this](http://www.coderanch.com/t/90631/JBoss/java-lang-OutOfMemoryError-PermGen-space) In this post @Yaron Rel gave some advice to solve this error.","body":"And have a look at <a href=\"http://www.coderanch.com/t/90631/JBoss/java-lang-OutOfMemoryError-PermGen-space\" rel=\"nofollow noreferrer\">this</a> In this post @Yaron Rel gave some advice to solve this error."},{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":2,"creation_date":1425969535,"post_id":28956631,"comment_id":46167833,"body_markdown":"The conditional `if &quot;x$JAVA_OPTS&quot; = &quot;x&quot;` is not true. You can clear the JAVA_OPTS just before the conditional if  or remark out the IF. If the settings are applied you will need to check how you starting your server that the memory arguments are not being applied.","body":"The conditional <code>if &quot;x$JAVA_OPTS&quot; = &quot;x&quot;</code> is not true. You can clear the JAVA_OPTS just before the conditional if  or remark out the IF. If the settings are applied you will need to check how you starting your server that the memory arguments are not being applied."},{"owner":{"account_id":4196934,"reputation":4083,"user_id":3438128,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1425970635,"post_id":28956631,"comment_id":46168250,"body_markdown":"Edited my question with new run.conf file. But still getting the same error.","body":"Edited my question with new run.conf file. But still getting the same error."},{"owner":{"account_id":5519215,"reputation":605,"user_id":4382794,"accept_rate":33,"display_name":"alphamikevictor"},"score":1,"creation_date":1425998733,"post_id":28956631,"comment_id":46185091,"body_markdown":"Be aware on Windows7 changing run.conf won&#39;t apply as long as it will try to *source* run.conf.bat file instead. If you don&#39;t have such file, create it and put a line like `set JAVA_OPTS=%JAVA_OPTS% -Xms1303M -Xmx1303M -XX:MaxPermSize=256M` as suggested by @OO7 (or even seting a higher value on MaxPermSize)","body":"Be aware on Windows7 changing run.conf won&#39;t apply as long as it will try to <i>source</i> run.conf.bat file instead. If you don&#39;t have such file, create it and put a line like <code>set JAVA_OPTS=%JAVA_OPTS% -Xms1303M -Xmx1303M -XX:MaxPermSize=256M</code> as suggested by @OO7 (or even seting a higher value on MaxPermSize)"}],"answers":[{"tags":[],"owner":{"account_id":272362,"reputation":4724,"user_id":563394,"accept_rate":67,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637972506,"creation_date":1637972506,"answer_id":70131182,"question_id":28956631,"body_markdown":"Various IDEs with specify JAVA_OPTS, especially when in debug mode, so a more robust development solution is to add `MaxPermSize` to _all_ startup configurations.\r\n\r\n```\r\nif [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\r\n   JAVA_OPTS=&quot;-Xms256m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -XX:PermSize=128m -XX:+UseConcMarkSweepGC -XX:+CMSPermGenSweepingEnabled -XX:+CMSClassUnloadingEnabled &quot;\r\nfi\r\n\r\n# Sample JPDA settings for remote socket debuging\r\n#JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n&quot;\r\n\r\n# Sample JPDA settings for shared memory debugging \r\n#JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_shmem,server=y,suspend=n,address=jboss&quot;\r\n\r\n# Enforce larger MaxPermSize\r\nJAVA_OPTS=&quot;$JAVA_OPTS -XX:MaxPermSize=1024m&quot;\r\n```","title":"Jboss 4.2.1 GA java.lang.OutOfMemoryError: PermGen space","body":"<p>Various IDEs with specify JAVA_OPTS, especially when in debug mode, so a more robust development solution is to add <code>MaxPermSize</code> to <em>all</em> startup configurations.</p>\n<pre><code>if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\n   JAVA_OPTS=&quot;-Xms256m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -XX:PermSize=128m -XX:+UseConcMarkSweepGC -XX:+CMSPermGenSweepingEnabled -XX:+CMSClassUnloadingEnabled &quot;\nfi\n\n# Sample JPDA settings for remote socket debuging\n#JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n&quot;\n\n# Sample JPDA settings for shared memory debugging \n#JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_shmem,server=y,suspend=n,address=jboss&quot;\n\n# Enforce larger MaxPermSize\nJAVA_OPTS=&quot;$JAVA_OPTS -XX:MaxPermSize=1024m&quot;\n</code></pre>\n"}],"owner":{"account_id":4196934,"reputation":4083,"user_id":3438128,"display_name":"Nagarjuna Reddy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637972506,"creation_date":1425964699,"question_id":28956631,"body_markdown":"I am using Jboss 4.2.1 GA in my windows7 system. When I run my application I am getting the following error.\r\n\r\n    2015-03-10 10:33:22,413 ERROR [STDERR] Exception in thread &quot;Thread-30&quot; \r\n    2015-03-10 10:33:23,061 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\r\n    2015-03-10 10:33:23,061 ERROR [STDERR] Exception in thread &quot;Initialize&quot; \r\n    2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Running rollback phase\r\n    2015-03-10 10:33:23,061 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\r\n    2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Finished local commit/rollback method for GlobalTransaction:&lt;null&gt;:9\r\n    2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Finished rollback phase\r\n    2015-03-10 10:33:23,062 ERROR [org.jboss.ejb.plugins.LogInterceptor] Unexpected Error in method: public abstract java.util.Collection com.agnosys.ejb.GroupManagerLocal.loadGroup() throws com.agnosys.ejb.GroupException\r\n    java.lang.OutOfMemoryError: PermGen space\r\n    2015-03-10 10:33:24,288 ERROR [STDERR] Exception in thread &quot;Thread-32&quot; \r\n    2015-03-10 10:33:24,289 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\r\n    2015-03-10 10:33:42,515 ERROR [STDERR] Exception in thread &quot;ScannerThread&quot; \r\n    2015-03-10 10:33:42,515 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\r\n    2015-03-10 10:33:47,766 ERROR [STDERR] Exception in thread &quot;ScannerThread&quot; \r\n    2015-03-10 10:33:47,767 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\r\n\r\nwhen I search it in google, I found the following changes in run.conf file.\r\n\r\n  \r\n\r\n      ## -*- shell-script -*- ######################################################\r\n    ##                                                                          ##\r\n    ##  JBoss Bootstrap Script Configuration                                    ##\r\n    ##                                                                          ##\r\n    ##############################################################################\r\n    \r\n    ### $Id: run.conf 62747 2007-05-02 17:43:36Z dimitris@jboss.org $\r\n    \r\n    #\r\n    # This file is optional; it may be removed if not needed.\r\n    #\r\n    \r\n    #\r\n    # Specify the maximum file descriptor limit, use &quot;max&quot; or &quot;maximum&quot; to use\r\n    # the default, as queried by the system.\r\n    #\r\n    # Defaults to &quot;maximum&quot;\r\n    #\r\n    #MAX_FD=&quot;maximum&quot;\r\n    \r\n    #\r\n    # Specify the profiler configuration file to load.\r\n    #\r\n    # Default is to not load profiler configuration file.\r\n    #\r\n    #PROFILER=&quot;&quot;\r\n    \r\n    #\r\n    # Specify the location of the Java home directory.  If set then $JAVA will\r\n    # be defined to $JAVA_HOME/bin/java, else $JAVA will be &quot;java&quot;.\r\n    #\r\n    #JAVA_HOME=&quot;/opt/java/jdk&quot;\r\n    \r\n    #\r\n    # Specify the exact Java VM executable to use.\r\n    #\r\n    #JAVA=&quot;&quot;\r\n    \r\n    #\r\n    # Specify options to pass to the Java VM.\r\n    #\r\n    if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then\r\n       JAVA_OPTS=&quot;-Xms256m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -XX:PermSize=128m -XX:MaxPermSize=512m -XX:+UseConcMarkSweepGC -XX:+CMSPermGenSweepingEnabled -XX:+CMSClassUnloadingEnabled &quot;\r\n    fi\r\n    \r\n    # Sample JPDA settings for remote socket debuging\r\n    #JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n&quot;\r\n    \r\n    # Sample JPDA settings for shared memory debugging \r\n    #JAVA_OPTS=&quot;$JAVA_OPTS -Xrunjdwp:transport=dt_shmem,server=y,suspend=n,address=jboss&quot;\r\n\r\n\r\nStill I am getting the same error. I don&#39;t know what is the issue.\r\nHelp me. \r\nThanks..","title":"Jboss 4.2.1 GA java.lang.OutOfMemoryError: PermGen space","body":"<p>I am using Jboss 4.2.1 GA in my windows7 system. When I run my application I am getting the following error.</p>\n\n<pre><code>2015-03-10 10:33:22,413 ERROR [STDERR] Exception in thread \"Thread-30\" \n2015-03-10 10:33:23,061 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\n2015-03-10 10:33:23,061 ERROR [STDERR] Exception in thread \"Initialize\" \n2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Running rollback phase\n2015-03-10 10:33:23,061 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\n2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Finished local commit/rollback method for GlobalTransaction:&lt;null&gt;:9\n2015-03-10 10:33:23,061 DEBUG [org.jboss.cache.interceptors.TxInterceptor] Finished rollback phase\n2015-03-10 10:33:23,062 ERROR [org.jboss.ejb.plugins.LogInterceptor] Unexpected Error in method: public abstract java.util.Collection com.agnosys.ejb.GroupManagerLocal.loadGroup() throws com.agnosys.ejb.GroupException\njava.lang.OutOfMemoryError: PermGen space\n2015-03-10 10:33:24,288 ERROR [STDERR] Exception in thread \"Thread-32\" \n2015-03-10 10:33:24,289 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\n2015-03-10 10:33:42,515 ERROR [STDERR] Exception in thread \"ScannerThread\" \n2015-03-10 10:33:42,515 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\n2015-03-10 10:33:47,766 ERROR [STDERR] Exception in thread \"ScannerThread\" \n2015-03-10 10:33:47,767 ERROR [STDERR] java.lang.OutOfMemoryError: PermGen space\n</code></pre>\n\n<p>when I search it in google, I found the following changes in run.conf file.</p>\n\n<pre><code>  ## -*- shell-script -*- ######################################################\n##                                                                          ##\n##  JBoss Bootstrap Script Configuration                                    ##\n##                                                                          ##\n##############################################################################\n\n### $Id: run.conf 62747 2007-05-02 17:43:36Z dimitris@jboss.org $\n\n#\n# This file is optional; it may be removed if not needed.\n#\n\n#\n# Specify the maximum file descriptor limit, use \"max\" or \"maximum\" to use\n# the default, as queried by the system.\n#\n# Defaults to \"maximum\"\n#\n#MAX_FD=\"maximum\"\n\n#\n# Specify the profiler configuration file to load.\n#\n# Default is to not load profiler configuration file.\n#\n#PROFILER=\"\"\n\n#\n# Specify the location of the Java home directory.  If set then $JAVA will\n# be defined to $JAVA_HOME/bin/java, else $JAVA will be \"java\".\n#\n#JAVA_HOME=\"/opt/java/jdk\"\n\n#\n# Specify the exact Java VM executable to use.\n#\n#JAVA=\"\"\n\n#\n# Specify options to pass to the Java VM.\n#\nif [ \"x$JAVA_OPTS\" = \"x\" ]; then\n   JAVA_OPTS=\"-Xms256m -Xmx512m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -XX:PermSize=128m -XX:MaxPermSize=512m -XX:+UseConcMarkSweepGC -XX:+CMSPermGenSweepingEnabled -XX:+CMSClassUnloadingEnabled \"\nfi\n\n# Sample JPDA settings for remote socket debuging\n#JAVA_OPTS=\"$JAVA_OPTS -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n\"\n\n# Sample JPDA settings for shared memory debugging \n#JAVA_OPTS=\"$JAVA_OPTS -Xrunjdwp:transport=dt_shmem,server=y,suspend=n,address=jboss\"\n</code></pre>\n\n<p>Still I am getting the same error. I don't know what is the issue.\nHelp me. \nThanks..</p>\n"},{"tags":["java","spring","model-view-controller","mqtt","mosquitto"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1637662643,"post_id":70078351,"comment_id":123880508,"body_markdown":"I&#39;m not a spring person, but I assume you are missing an annotation to actually subscribe to the topic `mytopic` (or a wildcard that would include it)","body":"I&#39;m not a spring person, but I assume you are missing an annotation to actually subscribe to the topic <code>mytopic</code> (or a wildcard that would include it)"},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1637729358,"post_id":70078351,"comment_id":123901529,"body_markdown":"I checked, it is not the issue. My application is listening to port 1883 in localhost for any messages from broker. Strange part is that the same application is running on spring boot.","body":"I checked, it is not the issue. My application is listening to port 1883 in localhost for any messages from broker. Strange part is that the same application is running on spring boot."},{"owner":{"account_id":3158561,"reputation":6405,"user_id":2670348,"display_name":"romkey"},"score":0,"creation_date":1637731997,"post_id":70078351,"comment_id":123901981,"body_markdown":"If the spring application is running on a different computer or device from the broker, `localhost` is not going to work; you&#39;ll need the actual name or IP address of the computer the broker is running on.","body":"If the spring application is running on a different computer or device from the broker, <code>localhost</code> is not going to work; you&#39;ll need the actual name or IP address of the computer the broker is running on."},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1637732699,"post_id":70078351,"comment_id":123902113,"body_markdown":"I am running spring application and mqtt message broker on same computer, therefore using &#39;localhost&#39;.","body":"I am running spring application and mqtt message broker on same computer, therefore using &#39;localhost&#39;."}],"answers":[{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637971659,"creation_date":1637835001,"answer_id":70109226,"question_id":70078351,"body_markdown":"I made the below separate configuration file and it worked.\r\n    \r\n   \r\n    @EnableIntegration\r\n    @IntegrationComponentScan(basePackages = &quot;com.dr&quot;)\r\n    @Configuration\r\n    public class MqttBeansConfiguration {\r\n    \t@Bean\r\n    \tpublic MqttPahoClientFactory mqttClientFactory() {//config\r\n    \t\tDefaultMqttPahoClientFactory factory = new DefaultMqttPahoClientFactory();\r\n    \t\tMqttConnectOptions options = new MqttConnectOptions();\r\n    //propeties\r\n    \t\toptions.setServerURIs(new String[] { &quot;localhost:1883&quot; });\r\n    \t\t//options.setUserName(&quot;admin&quot;);\r\n    \t\t//String pass = &quot;123456&quot;;\r\n    \t\t//options.setPassword(pass.toCharArray());\r\n    \t\t//options.setCleanSession(true);\r\n    \r\n    \t\tfactory.setConnectionOptions(options);\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic MessageChannel mqttInputChannel() {//config\r\n    \t\treturn new DirectChannel();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic MessageProducer inbound() { //config\r\n    \t\tMqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(&quot;serverIn&quot;,\r\n    \t\t\t\tmqttClientFactory(), &quot;#&quot;);\r\n    \r\n    \t\tadapter.setCompletionTimeout(5000);\r\n    \t\tadapter.setConverter(new DefaultPahoMessageConverter());\r\n    \t\tadapter.setQos(2);\r\n    \t\tadapter.setOutputChannel(mqttInputChannel());\r\n    \t\treturn adapter;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \t@ServiceActivator(inputChannel = &quot;mqttInputChannel&quot;)\r\n    \tpublic MessageHandler handler() {\r\n    \t\treturn new MessageHandler() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n    \t\t\t\tString topic = message.getHeaders().get(MqttHeaders.RECEIVED_TOPIC).toString();\r\n    \t\t\t\tif(topic.equals(&quot;myTopic&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;This is the topic&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(message.getPayload());\r\n    \t\t\t}\r\n    \r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/*@Bean\r\n        public MessageChannel mqttOutboundChannel() {//leave it\r\n            return new DirectChannel();\r\n        }\r\n    \t@Bean\r\n        @ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;) //leave it\r\n        public MessageHandler mqttOutbound() {\r\n            //clientId is generated using a random number\r\n            MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(&quot;serverOut&quot;, mqttClientFactory());\r\n            messageHandler.setAsync(true);\r\n            messageHandler.setDefaultTopic(&quot;#&quot;);\r\n            messageHandler.setDefaultRetained(false);\r\n            return messageHandler;\r\n        }\r\n    \r\n    */\r\n    }\r\n\r\n","title":"Spring MVC MQTT inbound messages not coming","body":"<p>I made the below separate configuration file and it worked.</p>\n<pre><code>@EnableIntegration\n@IntegrationComponentScan(basePackages = &quot;com.dr&quot;)\n@Configuration\npublic class MqttBeansConfiguration {\n    @Bean\n    public MqttPahoClientFactory mqttClientFactory() {//config\n        DefaultMqttPahoClientFactory factory = new DefaultMqttPahoClientFactory();\n        MqttConnectOptions options = new MqttConnectOptions();\n//propeties\n        options.setServerURIs(new String[] { &quot;localhost:1883&quot; });\n        //options.setUserName(&quot;admin&quot;);\n        //String pass = &quot;123456&quot;;\n        //options.setPassword(pass.toCharArray());\n        //options.setCleanSession(true);\n\n        factory.setConnectionOptions(options);\n\n        return factory;\n    }\n    @Bean\n    public MessageChannel mqttInputChannel() {//config\n        return new DirectChannel();\n    }\n    \n    @Bean\n    public MessageProducer inbound() { //config\n        MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(&quot;serverIn&quot;,\n                mqttClientFactory(), &quot;#&quot;);\n\n        adapter.setCompletionTimeout(5000);\n        adapter.setConverter(new DefaultPahoMessageConverter());\n        adapter.setQos(2);\n        adapter.setOutputChannel(mqttInputChannel());\n        return adapter;\n    }\n    \n    \n    @Bean\n    @ServiceActivator(inputChannel = &quot;mqttInputChannel&quot;)\n    public MessageHandler handler() {\n        return new MessageHandler() {\n\n            @Override\n            public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n                String topic = message.getHeaders().get(MqttHeaders.RECEIVED_TOPIC).toString();\n                if(topic.equals(&quot;myTopic&quot;)) {\n                    System.out.println(&quot;This is the topic&quot;);\n                }\n                System.out.println(message.getPayload());\n            }\n\n        };\n    }\n    \n    \n    /*@Bean\n    public MessageChannel mqttOutboundChannel() {//leave it\n        return new DirectChannel();\n    }\n    @Bean\n    @ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;) //leave it\n    public MessageHandler mqttOutbound() {\n        //clientId is generated using a random number\n        MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(&quot;serverOut&quot;, mqttClientFactory());\n        messageHandler.setAsync(true);\n        messageHandler.setDefaultTopic(&quot;#&quot;);\n        messageHandler.setDefaultRetained(false);\n        return messageHandler;\n    }\n\n*/\n}\n</code></pre>\n"}],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637971659,"creation_date":1637659839,"question_id":70078351,"body_markdown":"I configured MQTT in spring mvc application, howewever when I am trying to print something on console from command prompt, it is not printing. Code snnipet is &lt;\t\r\n\r\n    @Bean\r\n    \tpublic MqttPahoClientFactory mqttClientFactory() {\r\n    \t\tDefaultMqttPahoClientFactory factory = new DefaultMqttPahoClientFactory();\r\n    \t\tMqttConnectOptions options = new MqttConnectOptions();\r\n    \r\n    \t\toptions.setServerURIs(new String[] { &quot;tcp://localhost:1883&quot; });\r\n    \t\toptions.setUserName(&quot;admin&quot;);\r\n    \t\tString pass = &quot;123456&quot;;\r\n    \t\toptions.setPassword(pass.toCharArray());\r\n    \t\toptions.setCleanSession(true);\r\n    \r\n    \t\tfactory.setConnectionOptions(options);\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic MessageChannel mqttInputChannel() {\r\n    \t\treturn new DirectChannel();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic MessageProducer inbound() {\r\n    \t\tMqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(&quot;serverIn&quot;,\r\n    \t\t\t\tmqttClientFactory(), &quot;#&quot;);\r\n    \r\n    \t\tadapter.setCompletionTimeout(5000);\r\n    \t\tadapter.setConverter(new DefaultPahoMessageConverter());\r\n    \t\tadapter.setQos(2);\r\n    \t\tadapter.setOutputChannel(mqttInputChannel());\r\n    \t\t//adapter.setOutputChannelName(&quot;mqttInputChannel&quot;);\r\n    \t\treturn adapter;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@ServiceActivator(inputChannel = &quot;mqttInputChannel&quot;)\r\n    \tpublic MessageHandler handler() {\r\n    \t\treturn new MessageHandler() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\t\t\t\t\r\n    \t\t\t\tString topic = message.getHeaders().get(MqttHeaders.RECEIVED_TOPIC).toString();\r\n    \t\t\t\tif(topic.equals(&quot;myTopic&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;This is the topic&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(message.getPayload());\r\n    \t\t\t}\r\n    \r\n    \t\t};\r\n    \t}\r\n\t&gt;\r\nI have installed Mosquitto on my windows and from there I need to check if this handler method is working buy trying to print. But I could not.[![Trying to give this message from cmd][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJ6aI.png","title":"Spring MVC MQTT inbound messages not coming","body":"<p>I configured MQTT in spring mvc application, howewever when I am trying to print something on console from command prompt, it is not printing. Code snnipet is &lt;</p>\n<pre><code>@Bean\n    public MqttPahoClientFactory mqttClientFactory() {\n        DefaultMqttPahoClientFactory factory = new DefaultMqttPahoClientFactory();\n        MqttConnectOptions options = new MqttConnectOptions();\n\n        options.setServerURIs(new String[] { &quot;tcp://localhost:1883&quot; });\n        options.setUserName(&quot;admin&quot;);\n        String pass = &quot;123456&quot;;\n        options.setPassword(pass.toCharArray());\n        options.setCleanSession(true);\n\n        factory.setConnectionOptions(options);\n\n        return factory;\n    }\n    @Bean\n    public MessageChannel mqttInputChannel() {\n        return new DirectChannel();\n    }\n    \n    @Bean\n    public MessageProducer inbound() {\n        MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(&quot;serverIn&quot;,\n                mqttClientFactory(), &quot;#&quot;);\n\n        adapter.setCompletionTimeout(5000);\n        adapter.setConverter(new DefaultPahoMessageConverter());\n        adapter.setQos(2);\n        adapter.setOutputChannel(mqttInputChannel());\n        //adapter.setOutputChannelName(&quot;mqttInputChannel&quot;);\n        return adapter;\n    }\n    \n    @Bean\n    @ServiceActivator(inputChannel = &quot;mqttInputChannel&quot;)\n    public MessageHandler handler() {\n        return new MessageHandler() {\n\n            @Override\n            public void handleMessage(Message&lt;?&gt; message) throws MessagingException {               \n                String topic = message.getHeaders().get(MqttHeaders.RECEIVED_TOPIC).toString();\n                if(topic.equals(&quot;myTopic&quot;)) {\n                    System.out.println(&quot;This is the topic&quot;);\n                }\n                System.out.println(message.getPayload());\n            }\n\n        };\n    }\n&gt;\n</code></pre>\n<p>I have installed Mosquitto on my windows and from there I need to check if this handler method is working buy trying to print. But I could not.<a href=\"https://i.stack.imgur.com/sJ6aI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJ6aI.png\" alt=\"Trying to give this message from cmd\" /></a></p>\n"},{"tags":["java","numbers","fractions"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":5,"creation_date":1300207526,"post_id":5314954,"comment_id":5996012,"body_markdown":"What do you do with things like 1/3?","body":"What do you do with things like 1/3?"},{"owner":{"account_id":694699,"reputation":127,"user_id":562409,"accept_rate":60,"display_name":"FreakShow"},"score":0,"creation_date":1300208018,"post_id":5314954,"comment_id":5996167,"body_markdown":"I need this for validation. There is no 1/3 possible in the database! I found my question is a duplicat to this: http://stackoverflow.com/questions/585237/fraction-length","body":"I need this for validation. There is no 1/3 possible in the database! I found my question is a duplicat to this: <a href=\"http://stackoverflow.com/questions/585237/fraction-length\">stackoverflow.com/questions/585237/fraction-length</a>"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1300209170,"post_id":5314954,"comment_id":5996538,"body_markdown":"the accepted answer is bad there...","body":"the accepted answer is bad there..."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1300212405,"post_id":5314954,"comment_id":5997458,"body_markdown":"The problem with this approach is that you can get overflow with `longValue()` and rounding error with the subtraction which can make it look like there is more digits than there would be. e.g. 1.1 - (long) 1.1 = 0.10000000000000009","body":"The problem with this approach is that you can get overflow with <code>longValue()</code> and rounding error with the subtraction which can make it look like there is more digits than there would be. e.g. 1.1 - (long) 1.1 = 0.10000000000000009"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300209722,"creation_date":1300207980,"answer_id":5315104,"question_id":5314954,"body_markdown":"Try this:\r\n\r\n    public static int getNumberOfFractionDigits(Number number) {\r\n     if( number == null ) return 0; //or throw\r\n     if( number.doubleValue() == 0.0d ) return 0;\r\n     BigDecimal bd = new BigDecimal(number.toString()); \r\n     //BigDecimal bd = BigDecimal.valueOf(number.doubleValue()); // if double precision is ok, just note that you should use BigDecimal.valueOf(double) rather than new BigDecimal(double) due to precision bugs in the latter\r\n     bd = bd.stripTrailingZeros(); //convert 1.00 to 1 -&gt; scale will now be 0, except for 0.0 where this doesn&#39;t work\r\n     return bd.scale();\r\n    } \r\n\r\nEdit: \r\n\r\nIf the number is actually an iteger (i.e. fraction of 0) this would still return 1. Thus you might check whether there actually is a fractional part first.\r\n\r\nEdit2:\r\n\r\n`stripTrailingZeros()` seems to do the trick, except for 0.0d. Updated the code accordingly.\r\n","title":"How to get the length of a numbers fraction part?","body":"<p>Try this:</p>\n\n<pre><code>public static int getNumberOfFractionDigits(Number number) {\n if( number == null ) return 0; //or throw\n if( number.doubleValue() == 0.0d ) return 0;\n BigDecimal bd = new BigDecimal(number.toString()); \n //BigDecimal bd = BigDecimal.valueOf(number.doubleValue()); // if double precision is ok, just note that you should use BigDecimal.valueOf(double) rather than new BigDecimal(double) due to precision bugs in the latter\n bd = bd.stripTrailingZeros(); //convert 1.00 to 1 -&gt; scale will now be 0, except for 0.0 where this doesn't work\n return bd.scale();\n} \n</code></pre>\n\n<p>Edit: </p>\n\n<p>If the number is actually an iteger (i.e. fraction of 0) this would still return 1. Thus you might check whether there actually is a fractional part first.</p>\n\n<p>Edit2:</p>\n\n<p><code>stripTrailingZeros()</code> seems to do the trick, except for 0.0d. Updated the code accordingly.</p>\n"},{"tags":[],"owner":{"account_id":345347,"reputation":372,"user_id":678214,"display_name":"Birhanu Eshete"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1300235634,"creation_date":1300208516,"answer_id":5315235,"question_id":5314954,"body_markdown":"    public static int getNumberOfFractionDigits(double d) {\r\n        String s = Double.toString(d), afterDecimal=&quot;&quot;;\r\n        afterDecimal = s.subString(s.indexOf(&quot;.&quot;) + 1, s.length() - 1);\r\n        return afterDecimal.length();\r\n    }\r\n\r\n","title":"How to get the length of a numbers fraction part?","body":"<pre><code>public static int getNumberOfFractionDigits(double d) {\n    String s = Double.toString(d), afterDecimal=\"\";\n    afterDecimal = s.subString(s.indexOf(\".\") + 1, s.length() - 1);\n    return afterDecimal.length();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300209013,"creation_date":1300209013,"answer_id":5315329,"question_id":5314954,"body_markdown":"You may use java.text.NumberFormat. \r\n\r\n    nf = java.text.NumberFormat.getInstance (); \r\n    // without BigDecimal, you will reach the limit far before 100  \r\n    nf.setMaximumFractionDigits (100);\r\n    String s = nf.format (number.doubleValue ())          \r\n\r\nYou may set the Decimal-Identifier as you like, and use regular expressions to cut off the leading part, and String.length () to evaluate the rest.","title":"How to get the length of a numbers fraction part?","body":"<p>You may use java.text.NumberFormat. </p>\n\n<pre><code>nf = java.text.NumberFormat.getInstance (); \n// without BigDecimal, you will reach the limit far before 100  \nnf.setMaximumFractionDigits (100);\nString s = nf.format (number.doubleValue ())          \n</code></pre>\n\n<p>You may set the Decimal-Identifier as you like, and use regular expressions to cut off the leading part, and String.length () to evaluate the rest.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300212943,"creation_date":1300209892,"answer_id":5315527,"question_id":5314954,"body_markdown":"Looks like many offered the Big Decimal. It&#39;s easy on the eyes at least.\r\nThe code shall work for ya.\r\n\r\n\r\n    package t1;\r\n    \r\n    import java.math.*;\r\n    \r\n    public class ScaleZ {\r\n    \tprivate static final int MAX_PRECISION = 10;\r\n    \tprivate static final MathContext mc = new MathContext(MAX_PRECISION, RoundingMode.HALF_EVEN);\r\n    \tpublic static int getScale(double v){\r\n    \t\tif (v!=v || v == Double.POSITIVE_INFINITY || v == Double.NEGATIVE_INFINITY)\r\n    \t\t\treturn 0;//throw exception or return any other stuff\r\n    \t\t\r\n    \t\tBigDecimal d = new BigDecimal(v, mc);\r\n    \t\treturn Math.max(0, d.stripTrailingZeros().scale());\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttest(0.0);\r\n    \t\ttest(1000d);\r\n    \t\ttest(1d/3);\r\n    \t\ttest(Math.PI);\r\n    \t\ttest(1.244e7);\r\n    \t\ttest(1e11);\r\n    \t}\r\n    \t\r\n    \tprivate static void test(double d) {\r\n    \t\tSystem.out.printf(&quot;%20s digits %d%n&quot;, d, getScale(d));\r\n    \t}\r\n    }","title":"How to get the length of a numbers fraction part?","body":"<p>Looks like many offered the Big Decimal. It's easy on the eyes at least.\nThe code shall work for ya.</p>\n\n<pre><code>package t1;\n\nimport java.math.*;\n\npublic class ScaleZ {\n    private static final int MAX_PRECISION = 10;\n    private static final MathContext mc = new MathContext(MAX_PRECISION, RoundingMode.HALF_EVEN);\n    public static int getScale(double v){\n        if (v!=v || v == Double.POSITIVE_INFINITY || v == Double.NEGATIVE_INFINITY)\n            return 0;//throw exception or return any other stuff\n\n        BigDecimal d = new BigDecimal(v, mc);\n        return Math.max(0, d.stripTrailingZeros().scale());\n    }\n\n\n    public static void main(String[] args) {\n        test(0.0);\n        test(1000d);\n        test(1d/3);\n        test(Math.PI);\n        test(1.244e7);\n        test(1e11);\n    }\n\n    private static void test(double d) {\n        System.out.printf(\"%20s digits %d%n\", d, getScale(d));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355033,"reputation":165,"user_id":4916683,"display_name":"liloargana"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1444506165,"creation_date":1444506165,"answer_id":33058223,"question_id":5314954,"body_markdown":"I just wrote a simple method for this, hope it can help someone.\r\n\r\n    public static int getFractionDigitsCount(double d) {\r\n        if (d &gt;= 1) { //we only need the fraction digits\r\n            d = d - (long) d;\r\n        }\r\n        if (d == 0) { //nothing to count\r\n            return 0;\r\n        }\r\n        d *= 10; //shifts 1 digit to left\r\n        int count = 1;\r\n        while (d - (long) d != 0) { //keeps shifting until there are no more fractions\r\n            d *= 10;\r\n            count++;\r\n        }\r\n        return count;\r\n    }","title":"How to get the length of a numbers fraction part?","body":"<p>I just wrote a simple method for this, hope it can help someone.</p>\n\n<pre><code>public static int getFractionDigitsCount(double d) {\n    if (d &gt;= 1) { //we only need the fraction digits\n        d = d - (long) d;\n    }\n    if (d == 0) { //nothing to count\n        return 0;\n    }\n    d *= 10; //shifts 1 digit to left\n    int count = 1;\n    while (d - (long) d != 0) { //keeps shifting until there are no more fractions\n        d *= 10;\n        count++;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2403587,"reputation":66,"user_id":2100698,"display_name":"groschan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528265946,"creation_date":1528265946,"answer_id":50713382,"question_id":5314954,"body_markdown":"That was my best implementation:\r\n\r\n    public class NumberHandler {\r\n    \r\n        private static NumberFormat formatter = NumberFormat.getInstance(Locale.ENGLISH);\r\n    \r\n        static {\r\n            formatter.setMaximumFractionDigits(Integer.MAX_VALUE);\r\n            formatter.setGroupingUsed(false);\r\n        }\r\n    \r\n        public static int getFractionLength(double doubleNumber) {\r\n            String numberStr = formatter.format(doubleNumber);\r\n            int dotIndex = numberStr.indexOf(&quot;.&quot;);\r\n            if (dotIndex &lt; 0) {\r\n                return 0;\r\n            } else {\r\n                return numberStr.length() - (dotIndex + 1);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nNot effective, probably not perfect, but the other options was worse.","title":"How to get the length of a numbers fraction part?","body":"<p>That was my best implementation:</p>\n\n<pre><code>public class NumberHandler {\n\n    private static NumberFormat formatter = NumberFormat.getInstance(Locale.ENGLISH);\n\n    static {\n        formatter.setMaximumFractionDigits(Integer.MAX_VALUE);\n        formatter.setGroupingUsed(false);\n    }\n\n    public static int getFractionLength(double doubleNumber) {\n        String numberStr = formatter.format(doubleNumber);\n        int dotIndex = numberStr.indexOf(\".\");\n        if (dotIndex &lt; 0) {\n            return 0;\n        } else {\n            return numberStr.length() - (dotIndex + 1);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Not effective, probably not perfect, but the other options was worse.</p>\n"}],"owner":{"account_id":694699,"reputation":127,"user_id":562409,"accept_rate":60,"display_name":"FreakShow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1637971285,"creation_date":1300207323,"question_id":5314954,"body_markdown":"How do I find out the length or the number of digits of the fraction part of a decimal number?\r\n\r\nI can see a few aproaches, e.g. with Strings like this one:\r\n\r\n\tpublic static int getNumberOfFractionDigits(Number number) {\r\n\t\tDouble fractionPart = number.doubleValue() - number.longValue();\r\n\t\treturn fractionPart.toString().length() - 2;\r\n\t}\r\n\r\nBut what is the best way to determine the length?\r\n\r\nI could imagine some problems if I use Strings, e.g. because the locale and number format may be different from system to system. Is there a nice way to calculate it? Maybe without iteration?\r\n\r\nThanks in advance.","title":"How to get the length of a numbers fraction part?","body":"<p>How do I find out the length or the number of digits of the fraction part of a decimal number?</p>\n\n<p>I can see a few aproaches, e.g. with Strings like this one:</p>\n\n<pre><code>public static int getNumberOfFractionDigits(Number number) {\n    Double fractionPart = number.doubleValue() - number.longValue();\n    return fractionPart.toString().length() - 2;\n}\n</code></pre>\n\n<p>But what is the best way to determine the length?</p>\n\n<p>I could imagine some problems if I use Strings, e.g. because the locale and number format may be different from system to system. Is there a nice way to calculate it? Maybe without iteration?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","maven","veracode"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1637938795,"post_id":70126132,"comment_id":123963659,"body_markdown":"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debug","body":"<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#debug\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1640275131,"post_id":70126132,"comment_id":124560081,"body_markdown":"Did either of the answers answer your question? If so, could you please acknowledge our help by giving one of us a check? Thank you!","body":"Did either of the answers answer your question? If so, could you please acknowledge our help by giving one of us a check? Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637951235,"creation_date":1637951235,"answer_id":70128674,"question_id":70126132,"body_markdown":"I think it is possible to set the arguments in the command line with `-D` like this:\r\n\r\n```shell\r\nmvn compile -Dmaven.compiler.debug=true -Dmaven.compiler.debuglevel=lines,vars,source\r\n```","title":"How to compile in debug mode using maven without making changes to pom.xml?","body":"<p>I think it is possible to set the arguments in the command line with <code>-D</code> like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn compile -Dmaven.compiler.debug=true -Dmaven.compiler.debuglevel=lines,vars,source\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637971243,"creation_date":1637971243,"answer_id":70131096,"question_id":70126132,"body_markdown":"You can use profiles.\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;debug&lt;/id&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt; \r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n          &lt;configuration&gt;\r\n            &lt;debug&gt;true&lt;/debug&gt;\r\n            &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nProfiles are activated in the `mvn` command, e.g., `mvn ... -Pdebug`.","title":"How to compile in debug mode using maven without making changes to pom.xml?","body":"<p>You can use profiles.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;debug&lt;/id&gt;\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt; \n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n          &lt;configuration&gt;\n            &lt;debug&gt;true&lt;/debug&gt;\n            &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n  &lt;/profile&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>Profiles are activated in the <code>mvn</code> command, e.g., <code>mvn ... -Pdebug</code>.</p>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70131096,"answer_count":2,"score":1,"last_activity_date":1637971243,"creation_date":1637937644,"question_id":70126132,"body_markdown":"I am trying to run some vulnerability scans(**Veracode**) on a spring boot application. However, the scan provider suggests running the scans with binaries compiled in debug mode using the following in `pom.xml` file.\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt; \r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n      &lt;configuration&gt;\r\n        &lt;debug&gt;true&lt;/debug&gt;\r\n        &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nHowever, we use the same `pom.xml` for production deployment where we don&#39;t want debug level jars.\r\n\r\nIs there a way to create debug jars by passing some argument to the `mvn` command?","title":"How to compile in debug mode using maven without making changes to pom.xml?","body":"<p>I am trying to run some vulnerability scans(<strong>Veracode</strong>) on a spring boot application. However, the scan provider suggests running the scans with binaries compiled in debug mode using the following in <code>pom.xml</code> file.</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt; \n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n      &lt;configuration&gt;\n        &lt;debug&gt;true&lt;/debug&gt;\n        &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>However, we use the same <code>pom.xml</code> for production deployment where we don't want debug level jars.</p>\n<p>Is there a way to create debug jars by passing some argument to the <code>mvn</code> command?</p>\n"},{"tags":["java","return-value"],"comments":[{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":0,"creation_date":1637967963,"post_id":70130789,"comment_id":123971275,"body_markdown":"you do not have to return null, you can simply return an empty string : `return &quot;&quot;`","body":"you do not have to return null, you can simply return an empty string : <code>return &quot;&quot;</code>"},{"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"score":4,"creation_date":1637967972,"post_id":70130789,"comment_id":123971276,"body_markdown":"Don&#39;t print _in_ (anything called from) your `toString` function!","body":"Don&#39;t print <i>in</i> (anything called from) your <code>toString</code> function!"},{"owner":{"account_id":19651039,"reputation":9,"user_id":14384845,"display_name":"Kay"},"score":0,"creation_date":1637968253,"post_id":70130789,"comment_id":123971317,"body_markdown":"@Emad Ali: by returning an empty string &quot;&quot;, I still have an empty line which is still undesirable. The method should only draw the rectangle without printing a &quot;null&quot; string or an empty line.","body":"@Emad Ali: by returning an empty string &quot;&quot;, I still have an empty line which is still undesirable. The method should only draw the rectangle without printing a &quot;null&quot; string or an empty line."},{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":0,"creation_date":1637968453,"post_id":70130789,"comment_id":123971345,"body_markdown":"then i suggest following the other 2 examples from @Ryan Millares and @Davis Herring. having a draw function to return a String to be passed to `toString()` to return it again to your `System.out` is unneccesarly. make your `draw()` method void, remove the return and since you made it a public method, it can be used in your main:  `rectangle.draw();`","body":"then i suggest following the other 2 examples from @Ryan Millares and @Davis Herring. having a draw function to return a String to be passed to <code>toString()</code> to return it again to your <code>System.out</code> is unneccesarly. make your <code>draw()</code> method void, remove the return and since you made it a public method, it can be used in your main:  <code>rectangle.draw();</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637968475,"post_id":70130789,"comment_id":123971351,"body_markdown":"The method doesn&#39;t actually return anything!?","body":"The method doesn&#39;t actually return anything!?"},{"owner":{"account_id":22383200,"reputation":525,"user_id":16596445,"display_name":"Ryan Millares"},"score":0,"creation_date":1637968769,"post_id":70130789,"comment_id":123971394,"body_markdown":"@EmadAli in addition to using `return &quot;&quot;` in your Draw() function, try changing your print statement in class Essay from `println()` to `print()`, like: `\nAlso try changing your final print statement from `println` to `print`\n\n   ` System.out.print(rectangle.toString());` to avoid newline, see if that works","body":"@EmadAli in addition to using <code>return &quot;&quot;</code> in your Draw() function, try changing your print statement in class Essay from <code>println()</code> to <code>print()</code>, like: ` Also try changing your final print statement from <code>println</code> to <code>print</code>     ` System.out.print(rectangle.toString());` to avoid newline, see if that works"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1637969210,"post_id":70130789,"comment_id":123971452,"body_markdown":"How did &quot; Using &quot;void&quot; instead of &quot;String&quot; in the method did not work.&quot;  happened? Did you called the void method inside the `System.out.println()` statement?","body":"How did &quot; Using &quot;void&quot; instead of &quot;String&quot; in the method did not work.&quot;  happened? Did you called the void method inside the <code>System.out.println()</code> statement?"}],"answers":[{"tags":[],"owner":{"account_id":22383200,"reputation":525,"user_id":16596445,"display_name":"Ryan Millares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637968080,"creation_date":1637968080,"answer_id":70130832,"question_id":70130789,"body_markdown":"Easiest solution is to have your `Draw()` return empty string `return &quot;&quot;` to make sure the word &quot;null&quot; isn&#39;t printed.\r\n\r\n    public String draw() {\r\n        for(int i = 1; i &lt;= this.height; i++){\r\n            for(int j = 1; j &lt;= this.width; j++){\r\n                System.out.print(&quot;* &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);   \r\n        }      \r\n        return &quot;&quot;;\r\n    }","title":"Is there a way to avoid the &quot;null&quot; return?","body":"<p>Easiest solution is to have your <code>Draw()</code> return empty string <code>return &quot;&quot;</code> to make sure the word &quot;null&quot; isn't printed.</p>\n<pre><code>public String draw() {\n    for(int i = 1; i &lt;= this.height; i++){\n        for(int j = 1; j &lt;= this.width; j++){\n            System.out.print(&quot;* &quot;);\n        }\n        System.out.print(&quot;\\n&quot;);   \n    }      \n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6142521,"reputation":151,"user_id":4789493,"display_name":"Davipb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1637968603,"creation_date":1637968603,"answer_id":70130865,"question_id":70130789,"body_markdown":"`toString` implementations should return the string value that represents the object instead of printing it directly, as there&#39;s no guarantee that the caller of the method will want to print it. Imagine, for example, that you want to write the result of `toString` to a file -- how would you do it if it just printed to the console and returned nothing?\r\n\r\nThe best way to go about this is to modify your implementation of `toString` to build the asterisk rectangle as a string and return it without printing anything. But if you just want to solve this problem anyway, you can return an empty string instead of null.","title":"Is there a way to avoid the &quot;null&quot; return?","body":"<p><code>toString</code> implementations should return the string value that represents the object instead of printing it directly, as there's no guarantee that the caller of the method will want to print it. Imagine, for example, that you want to write the result of <code>toString</code> to a file -- how would you do it if it just printed to the console and returned nothing?</p>\n<p>The best way to go about this is to modify your implementation of <code>toString</code> to build the asterisk rectangle as a string and return it without printing anything. But if you just want to solve this problem anyway, you can return an empty string instead of null.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637971000,"creation_date":1637968767,"answer_id":70130887,"question_id":70130789,"body_markdown":"So, `draw` doesn&#39;t actually return anything (useful), instead you&#39;re just printing the stars directly to the output stream.\r\n\r\nInstead, what you should (probably be) doing, is building a `String` within the `draw` method which can be returned to the caller, for example...\r\n\r\n    public String draw() {\r\n        StringJoiner outter = new StringJoiner(&quot;\\n&quot;);\r\n        for (int i = 1; i &lt;= this.height; i++) {\r\n            StringJoiner inner = new StringJoiner(&quot; &quot;);\r\n            for (int j = 1; j &lt;= this.width; j++) {\r\n                inner.add(&quot;*&quot;);\r\n            }\r\n            outter.add(inner.toString());\r\n        }\r\n        return outter.toString();\r\n    }\r\n\r\nNow, I&#39;m using `StringJoiner` for simplicity (and because I&#39;m lazy and it&#39;s just an amazing class), but you could equally get away with using `StringBuilder`, but you&#39;d need to inject the additional properties yourself.\r\n\r\nThen calling `System.out.println(rectangle.toString());` would actually print the return result from the `draw` method\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.util.StringJoiner;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            Rectangle rectangle = new Rectangle(5, 3);\r\n\r\n            System.out.println(rectangle.toString());\r\n        }\r\n\r\n        public class Rectangle {\r\n\r\n            int width;\r\n            int height;\r\n\r\n            public Rectangle(int width, int height) {\r\n                this.width = width;\r\n                this.height = height;\r\n            }\r\n\r\n        public String draw() {\r\n            StringJoiner outter = new StringJoiner(&quot;\\n&quot;);\r\n            for (int i = 1; i &lt;= this.height; i++) {\r\n                StringJoiner inner = new StringJoiner(&quot; &quot;);\r\n                for (int j = 1; j &lt;= this.width; j++) {\r\n                    inner.add(&quot;*&quot;);\r\n                }\r\n                outter.add(inner.toString());\r\n            }\r\n            return outter.toString();\r\n        }\r\n\r\n            public String toString() {\r\n                return draw();\r\n            }\r\n        }\r\n    }\r\n","title":"Is there a way to avoid the &quot;null&quot; return?","body":"<p>So, <code>draw</code> doesn't actually return anything (useful), instead you're just printing the stars directly to the output stream.</p>\n<p>Instead, what you should (probably be) doing, is building a <code>String</code> within the <code>draw</code> method which can be returned to the caller, for example...</p>\n<pre><code>public String draw() {\n    StringJoiner outter = new StringJoiner(&quot;\\n&quot;);\n    for (int i = 1; i &lt;= this.height; i++) {\n        StringJoiner inner = new StringJoiner(&quot; &quot;);\n        for (int j = 1; j &lt;= this.width; j++) {\n            inner.add(&quot;*&quot;);\n        }\n        outter.add(inner.toString());\n    }\n    return outter.toString();\n}\n</code></pre>\n<p>Now, I'm using <code>StringJoiner</code> for simplicity (and because I'm lazy and it's just an amazing class), but you could equally get away with using <code>StringBuilder</code>, but you'd need to inject the additional properties yourself.</p>\n<p>Then calling <code>System.out.println(rectangle.toString());</code> would actually print the return result from the <code>draw</code> method</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.util.StringJoiner;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        Rectangle rectangle = new Rectangle(5, 3);\n\n        System.out.println(rectangle.toString());\n    }\n\n    public class Rectangle {\n\n        int width;\n        int height;\n\n        public Rectangle(int width, int height) {\n            this.width = width;\n            this.height = height;\n        }\n\n    public String draw() {\n        StringJoiner outter = new StringJoiner(&quot;\\n&quot;);\n        for (int i = 1; i &lt;= this.height; i++) {\n            StringJoiner inner = new StringJoiner(&quot; &quot;);\n            for (int j = 1; j &lt;= this.width; j++) {\n                inner.add(&quot;*&quot;);\n            }\n            outter.add(inner.toString());\n        }\n        return outter.toString();\n    }\n\n        public String toString() {\n            return draw();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19651039,"reputation":9,"user_id":14384845,"display_name":"Kay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70130887,"answer_count":3,"score":0,"last_activity_date":1637971000,"creation_date":1637967647,"question_id":70130789,"body_markdown":"I&#39;m working on a method which draws a rectangle using asterisks. My method does return the desired rectangle, yet it obliges me to add a return statement with a &quot;null&quot; value. How can I get rid of this &quot;null&quot; value? Using &quot;void&quot; instead of &quot;String&quot; in the method did not work.\r\n\r\nMy code is the following:\r\n\r\n    public class Rectangle {\r\n       \r\n        int width;\r\n        int height;\r\n        \r\n        public Rectangle() {\r\n            this.width = 0;\r\n            this.height = 0; \r\n        }\r\n    \r\n        public String draw() {\r\n            for(int i = 1; i &lt;= this.height; i++){\r\n                for(int j = 1; j &lt;= this.width; j++){\r\n                    System.out.print(&quot;* &quot;);\r\n                }\r\n                System.out.print(&quot;\\n&quot;);   \r\n            }      \r\n            return null;\r\n        }\r\n    \r\n        public String toString() {\r\n            return draw();\r\n        }\r\n    }\r\n\r\nBy running this code:\r\n\r\n    public class Essay {\r\n        public static void main(String[]args) {\r\n            Rectangle rectangle = new Rectangle(5, 3);\r\n\r\n            System.out.println(rectangle.toString());\r\n        }\r\n    }\r\n\r\n\r\nthe result is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U1dJY.png","title":"Is there a way to avoid the &quot;null&quot; return?","body":"<p>I'm working on a method which draws a rectangle using asterisks. My method does return the desired rectangle, yet it obliges me to add a return statement with a &quot;null&quot; value. How can I get rid of this &quot;null&quot; value? Using &quot;void&quot; instead of &quot;String&quot; in the method did not work.</p>\n<p>My code is the following:</p>\n<pre><code>public class Rectangle {\n   \n    int width;\n    int height;\n    \n    public Rectangle() {\n        this.width = 0;\n        this.height = 0; \n    }\n\n    public String draw() {\n        for(int i = 1; i &lt;= this.height; i++){\n            for(int j = 1; j &lt;= this.width; j++){\n                System.out.print(&quot;* &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);   \n        }      \n        return null;\n    }\n\n    public String toString() {\n        return draw();\n    }\n}\n</code></pre>\n<p>By running this code:</p>\n<pre><code>public class Essay {\n    public static void main(String[]args) {\n        Rectangle rectangle = new Rectangle(5, 3);\n\n        System.out.println(rectangle.toString());\n    }\n}\n</code></pre>\n<p>the result is:</p>\n<p><a href=\"https://i.stack.imgur.com/U1dJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1dJY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637968833,"post_id":70130777,"comment_id":123971398,"body_markdown":"Instead of using sleep, listen for the end of the Clip.  See https://stackoverflow.com/questions/44414287/javax-sound-sampled-clip-does-not-play.","body":"Instead of using sleep, listen for the end of the Clip.  See <a href=\"https://stackoverflow.com/questions/44414287/javax-sound-sampled-clip-does-not-play\" title=\"javax sound sampled clip does not play\">stackoverflow.com/questions/44414287/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637970870,"creation_date":1637970870,"answer_id":70131056,"question_id":70130777,"body_markdown":"So, you&#39;re basic problem is, you&#39;re closing the clip before it&#39;s either had a chance to play or play completely.\r\n\r\nRather than relying on `Thread.sleep`, which won&#39;t take into account the variable nature of the playback (ie the source clips been different lengths or the sound system needing more time) you should be trying to use a more imperial measurement.\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.locks.Condition;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.LineEvent;\r\n    import javax.sound.sampled.LineListener;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public enum Note {\r\n            A3_MINOR(Note.class.getResource(&quot;/notes/a-3.wav&quot;)),\r\n            A4_MINOR(Note.class.getResource(&quot;/notes/a-4.wav&quot;)),\r\n            A5_MINOR(Note.class.getResource(&quot;/notes/a-5.wav&quot;)),\r\n            A3(Note.class.getResource(&quot;/notes/a3.wav&quot;)),\r\n            A4(Note.class.getResource(&quot;/notes/a4.wav&quot;)),\r\n            A5(Note.class.getResource(&quot;/notes/a5.wav&quot;)),\r\n            B3(Note.class.getResource(&quot;/notes/b3.wav&quot;)),\r\n            B4(Note.class.getResource(&quot;/notes/b4.wav&quot;)),\r\n            B5(Note.class.getResource(&quot;/notes/b5.wav&quot;)),\r\n            C3_MINOR(Note.class.getResource(&quot;/notes/c-3.wav&quot;)),\r\n            C4_MINOR(Note.class.getResource(&quot;/notes/c-4.wav&quot;)),\r\n            C5_MINOR(Note.class.getResource(&quot;/notes/c-5.wav&quot;)),\r\n            C3(Note.class.getResource(&quot;/notes/c3.wav&quot;)),\r\n            C4(Note.class.getResource(&quot;/notes/c4.wav&quot;)),\r\n            C5(Note.class.getResource(&quot;/notes/c5.wav&quot;)),\r\n            D3_MINOR(Note.class.getResource(&quot;/notes/d-3.wav&quot;)),\r\n            D4_MINOR(Note.class.getResource(&quot;/notes/d-4.wav&quot;)),\r\n            D5_MINOR(Note.class.getResource(&quot;/notes/d-5.wav&quot;)),\r\n            D3(Note.class.getResource(&quot;/notes/d3.wav&quot;)),\r\n            D4(Note.class.getResource(&quot;/notes/d4.wav&quot;)),\r\n            D5(Note.class.getResource(&quot;/notes/d5.wav&quot;)),\r\n            E3(Note.class.getResource(&quot;/notes/e3.wav&quot;)),\r\n            E4(Note.class.getResource(&quot;/notes/e4.wav&quot;)),\r\n            E5(Note.class.getResource(&quot;/notes/e5.wav&quot;)),\r\n            F3_MINOR(Note.class.getResource(&quot;/notes/f-3.wav&quot;)),\r\n            F4_MINOR(Note.class.getResource(&quot;/notes/f-4.wav&quot;)),\r\n            F5_MINOR(Note.class.getResource(&quot;/notes/f-5.wav&quot;)),\r\n            F3(Note.class.getResource(&quot;/notes/f3.wav&quot;)),\r\n            F4(Note.class.getResource(&quot;/notes/f4.wav&quot;)),\r\n            F5(Note.class.getResource(&quot;/notes/f5.wav&quot;)),\r\n            G3_MINOR(Note.class.getResource(&quot;/notes/g-3.wav&quot;)),\r\n            G4_MINOR(Note.class.getResource(&quot;/notes/g-4.wav&quot;)),\r\n            G5_MINOR(Note.class.getResource(&quot;/notes/g-5.wav&quot;)),\r\n            G3(Note.class.getResource(&quot;/notes/g3.wav&quot;)),\r\n            G4(Note.class.getResource(&quot;/notes/g4.wav&quot;)),\r\n            G5(Note.class.getResource(&quot;/notes/g5.wav&quot;)),;\r\n\r\n            private URL source;\r\n\r\n            private Note(URL source) {\r\n                this.source = source;\r\n            }\r\n\r\n            public URL getSource() {\r\n                return source;\r\n            }\r\n\r\n        }\r\n\r\n        public Test() {\r\n            List&lt;Note&gt; notes = new ArrayList&lt;&gt;(16);\r\n            notes.add(Note.A3_MINOR);\r\n            notes.add(Note.A4_MINOR);\r\n            notes.add(Note.A5_MINOR);\r\n            notes.add(Note.A3);\r\n            notes.add(Note.A4);\r\n            notes.add(Note.A5);\r\n            play(notes);\r\n        }\r\n\r\n        protected void play(List&lt;Note&gt; notes) {\r\n            for (Note note : notes) {\r\n                System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\r\n                try {\r\n                    AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\r\n                    Clip clip = AudioSystem.getClip();\r\n                    clip.open(audioInputStream);\r\n                    clip.start();\r\n                    clip.drain();\r\n                } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (InterruptedException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nNow, if you run this, you&#39;ll find one particular problem.  They &quot;seem&quot; to all play at once (like smashing you hands on the keyboard) ... not pretty.\r\n\r\nSo, instead, we need to know more information, specifically, when the clip actually completes.\r\n\r\nSo, I added a `LineListener` to the `Clip` and used a `ReentrantLock` to &quot;wait&quot; till the clip had &quot;stopped&quot;, for example...\r\n\r\n    protected void play(List&lt;Note&gt; notes) {\r\n        ReentrantLock waitLock = new ReentrantLock();\r\n        Condition waitCondition = waitLock.newCondition();\r\n        for (Note note : notes) {\r\n            System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\r\n            try {\r\n                AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\r\n                Clip clip = AudioSystem.getClip();\r\n                clip.addLineListener(new LineListener() {\r\n                    @Override\r\n                    public void update(LineEvent event) {\r\n                        if (event.getType().equals(LineEvent.Type.STOP)) {\r\n                            waitLock.lock();\r\n                            try {\r\n                                waitCondition.signal();\r\n                            } finally {\r\n                                waitLock.unlock();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                clip.open(audioInputStream);\r\n                clip.start();\r\n                clip.drain();\r\n                waitLock.lock();\r\n                try {\r\n                    waitCondition.await();\r\n                } catch (InterruptedException ex) {\r\n                    //Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                } finally {\r\n                    waitLock.unlock();\r\n                }\r\n                clip.close();\r\n            } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\nThis ensures that each note is played immediately after the last note has completed.\r\n\r\nNow, if you prefer to have a little &quot;overlap&quot; of the notes, then simply, don&#39;t `close` the clip, let it play.  \r\n\r\n    protected void play(List&lt;Note&gt; notes) {\r\n        ReentrantLock waitLock = new ReentrantLock();\r\n        Condition waitCondition = waitLock.newCondition();\r\n        for (Note note : notes) {\r\n            System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\r\n            try {\r\n                AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\r\n                Clip clip = AudioSystem.getClip();\r\n                clip.open(audioInputStream);\r\n                clip.start();\r\n                clip.drain();\r\n                Thread.sleep(125);\r\n            } catch (UnsupportedAudioFileException | IOException | LineUnavailableException | InterruptedException ex) {\r\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n\r\nIf needed, you could use the `LineListener` to `close` the clip instead\r\n\r\n*nb: I sourced my note files from https://sound.stackexchange.com/questions/22769/are-there-free-records-of-separate-piano-notes-in-wav-files-for-instance, specifically, http://www.mediafire.com/download/zp8brp1f6q777b1/Midi_Notes.rar and http://www.mediafire.com/download/zd1mqtazulgv28a/mp3_Notes.rar.  I used the MP3 files and converted them to wav files*","title":"About how to create a music player that could play different file one by one to create a music","body":"<p>So, you're basic problem is, you're closing the clip before it's either had a chance to play or play completely.</p>\n<p>Rather than relying on <code>Thread.sleep</code>, which won't take into account the variable nature of the playback (ie the source clips been different lengths or the sound system needing more time) you should be trying to use a more imperial measurement.</p>\n<pre><code>import java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.ReentrantLock;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.LineEvent;\nimport javax.sound.sampled.LineListener;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public enum Note {\n        A3_MINOR(Note.class.getResource(&quot;/notes/a-3.wav&quot;)),\n        A4_MINOR(Note.class.getResource(&quot;/notes/a-4.wav&quot;)),\n        A5_MINOR(Note.class.getResource(&quot;/notes/a-5.wav&quot;)),\n        A3(Note.class.getResource(&quot;/notes/a3.wav&quot;)),\n        A4(Note.class.getResource(&quot;/notes/a4.wav&quot;)),\n        A5(Note.class.getResource(&quot;/notes/a5.wav&quot;)),\n        B3(Note.class.getResource(&quot;/notes/b3.wav&quot;)),\n        B4(Note.class.getResource(&quot;/notes/b4.wav&quot;)),\n        B5(Note.class.getResource(&quot;/notes/b5.wav&quot;)),\n        C3_MINOR(Note.class.getResource(&quot;/notes/c-3.wav&quot;)),\n        C4_MINOR(Note.class.getResource(&quot;/notes/c-4.wav&quot;)),\n        C5_MINOR(Note.class.getResource(&quot;/notes/c-5.wav&quot;)),\n        C3(Note.class.getResource(&quot;/notes/c3.wav&quot;)),\n        C4(Note.class.getResource(&quot;/notes/c4.wav&quot;)),\n        C5(Note.class.getResource(&quot;/notes/c5.wav&quot;)),\n        D3_MINOR(Note.class.getResource(&quot;/notes/d-3.wav&quot;)),\n        D4_MINOR(Note.class.getResource(&quot;/notes/d-4.wav&quot;)),\n        D5_MINOR(Note.class.getResource(&quot;/notes/d-5.wav&quot;)),\n        D3(Note.class.getResource(&quot;/notes/d3.wav&quot;)),\n        D4(Note.class.getResource(&quot;/notes/d4.wav&quot;)),\n        D5(Note.class.getResource(&quot;/notes/d5.wav&quot;)),\n        E3(Note.class.getResource(&quot;/notes/e3.wav&quot;)),\n        E4(Note.class.getResource(&quot;/notes/e4.wav&quot;)),\n        E5(Note.class.getResource(&quot;/notes/e5.wav&quot;)),\n        F3_MINOR(Note.class.getResource(&quot;/notes/f-3.wav&quot;)),\n        F4_MINOR(Note.class.getResource(&quot;/notes/f-4.wav&quot;)),\n        F5_MINOR(Note.class.getResource(&quot;/notes/f-5.wav&quot;)),\n        F3(Note.class.getResource(&quot;/notes/f3.wav&quot;)),\n        F4(Note.class.getResource(&quot;/notes/f4.wav&quot;)),\n        F5(Note.class.getResource(&quot;/notes/f5.wav&quot;)),\n        G3_MINOR(Note.class.getResource(&quot;/notes/g-3.wav&quot;)),\n        G4_MINOR(Note.class.getResource(&quot;/notes/g-4.wav&quot;)),\n        G5_MINOR(Note.class.getResource(&quot;/notes/g-5.wav&quot;)),\n        G3(Note.class.getResource(&quot;/notes/g3.wav&quot;)),\n        G4(Note.class.getResource(&quot;/notes/g4.wav&quot;)),\n        G5(Note.class.getResource(&quot;/notes/g5.wav&quot;)),;\n\n        private URL source;\n\n        private Note(URL source) {\n            this.source = source;\n        }\n\n        public URL getSource() {\n            return source;\n        }\n\n    }\n\n    public Test() {\n        List&lt;Note&gt; notes = new ArrayList&lt;&gt;(16);\n        notes.add(Note.A3_MINOR);\n        notes.add(Note.A4_MINOR);\n        notes.add(Note.A5_MINOR);\n        notes.add(Note.A3);\n        notes.add(Note.A4);\n        notes.add(Note.A5);\n        play(notes);\n    }\n\n    protected void play(List&lt;Note&gt; notes) {\n        for (Note note : notes) {\n            System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\n            try {\n                AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\n                Clip clip = AudioSystem.getClip();\n                clip.open(audioInputStream);\n                clip.start();\n                clip.drain();\n            } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>Now, if you run this, you'll find one particular problem.  They &quot;seem&quot; to all play at once (like smashing you hands on the keyboard) ... not pretty.</p>\n<p>So, instead, we need to know more information, specifically, when the clip actually completes.</p>\n<p>So, I added a <code>LineListener</code> to the <code>Clip</code> and used a <code>ReentrantLock</code> to &quot;wait&quot; till the clip had &quot;stopped&quot;, for example...</p>\n<pre><code>protected void play(List&lt;Note&gt; notes) {\n    ReentrantLock waitLock = new ReentrantLock();\n    Condition waitCondition = waitLock.newCondition();\n    for (Note note : notes) {\n        System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\n        try {\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\n            Clip clip = AudioSystem.getClip();\n            clip.addLineListener(new LineListener() {\n                @Override\n                public void update(LineEvent event) {\n                    if (event.getType().equals(LineEvent.Type.STOP)) {\n                        waitLock.lock();\n                        try {\n                            waitCondition.signal();\n                        } finally {\n                            waitLock.unlock();\n                        }\n                    }\n                }\n            });\n            clip.open(audioInputStream);\n            clip.start();\n            clip.drain();\n            waitLock.lock();\n            try {\n                waitCondition.await();\n            } catch (InterruptedException ex) {\n                //Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            } finally {\n                waitLock.unlock();\n            }\n            clip.close();\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n    try {\n        Thread.sleep(500);\n    } catch (InterruptedException ex) {\n        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n<p>This ensures that each note is played immediately after the last note has completed.</p>\n<p>Now, if you prefer to have a little &quot;overlap&quot; of the notes, then simply, don't <code>close</code> the clip, let it play.</p>\n<pre><code>protected void play(List&lt;Note&gt; notes) {\n    ReentrantLock waitLock = new ReentrantLock();\n    Condition waitCondition = waitLock.newCondition();\n    for (Note note : notes) {\n        System.out.println(&quot;Play &quot; + note + &quot;; &quot; + note.getSource());\n        try {\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(note.getSource());\n            Clip clip = AudioSystem.getClip();\n            clip.open(audioInputStream);\n            clip.start();\n            clip.drain();\n            Thread.sleep(125);\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException | InterruptedException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n    try {\n        Thread.sleep(500);\n    } catch (InterruptedException ex) {\n        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n<p>If needed, you could use the <code>LineListener</code> to <code>close</code> the clip instead</p>\n<p><em>nb: I sourced my note files from <a href=\"https://sound.stackexchange.com/questions/22769/are-there-free-records-of-separate-piano-notes-in-wav-files-for-instance\">https://sound.stackexchange.com/questions/22769/are-there-free-records-of-separate-piano-notes-in-wav-files-for-instance</a>, specifically, <a href=\"http://www.mediafire.com/download/zp8brp1f6q777b1/Midi_Notes.rar\" rel=\"nofollow noreferrer\">http://www.mediafire.com/download/zp8brp1f6q777b1/Midi_Notes.rar</a> and <a href=\"http://www.mediafire.com/download/zd1mqtazulgv28a/mp3_Notes.rar\" rel=\"nofollow noreferrer\">http://www.mediafire.com/download/zd1mqtazulgv28a/mp3_Notes.rar</a>.  I used the MP3 files and converted them to wav files</em></p>\n"}],"owner":{"account_id":23465989,"reputation":1,"user_id":17520185,"display_name":"Chingyam yeung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637970870,"creation_date":1637967430,"question_id":70130777,"body_markdown":"    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import javax.sound.sampled.*;\r\n    public class Main{\r\n            \r\n           static File [] arr= new File[100];\r\n         \r\n            static String[] arrNote = new String[100];\r\n            public void play(File filename)throws UnsupportedAudioFileException, IOException,InterruptedException,\r\n        LineUnavailableException{\r\n                AudioInputStream audioStream = AudioSystem.getAudioInputStream(filename);\r\n                        Clip clip = AudioSystem.getClip();\r\n                        clip.open(audioStream);\r\n                        clip.start();\r\n                    Thread.sleep(500); \r\n                    clip.close();\r\n            }\r\n            \r\n            \r\n        \r\n        public static void main(String[]args) throws UnsupportedAudioFileException, IOException,InterruptedException,\r\n        LineUnavailableException{\r\n            Scanner scanner = new Scanner(System.in);\r\n            String response = &quot;&quot;;\r\n            Main a = new Main();\r\n            int numItems = 0;\r\n             System.out.println(&quot;Store music notes, type in Alphabate + number for example(E3) for the music note you want to store in the array, type Q when finished&quot;);    \r\n            while(!response.equals(&quot;Q&quot;)){\r\n                response = scanner.next();\r\n                response.toUpperCase();\r\n                switch(response){\r\n                    case(&quot;B3&quot;): \r\n                    arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\B3.wav&quot;);\r\n                    arrNote[numItems] = &quot;B3&quot;;\r\n                    numItems++;\r\n                    break;\r\n                    case(&quot;C3&quot;):\r\n                    arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\C3.wav&quot;);\r\n                    arrNote[numItems] = &quot;C3&quot;;\r\n                    numItems++;\r\n                    break;\r\n                    case(&quot;D3&quot;):\r\n                    arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\D3.wav&quot;);\r\n                    arrNote[numItems] = &quot;D3&quot;;\r\n                    numItems++;\r\n                    break;\r\n                    case(&quot;E3&quot;):\r\n                    arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\E3.wav&quot;);\r\n                    arrNote[numItems] = &quot;E3&quot;;\r\n                    numItems++;\r\n                    break;\r\n                    case(&quot;F3&quot;): \r\n                    arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\F3.wav&quot;);\r\n                    arrNote[numItems] = &quot;F3&quot;;\r\n                    numItems++;\r\n                    break;\r\n                    case(&quot;Q&quot;): \r\n                    break; \r\n                    default: System.out.println(&quot;Not a valid response&quot;);\r\n                }\r\n                \r\n            }\r\n            System.out.println(&quot;Your music note sequence: &quot;);\r\n            for (int x = 0; x &lt; numItems; x ++){\r\n                System.out.print(x + 1 + &quot;.&quot; + arrNote[x] + &quot; &quot;);          \r\n            }\r\n            System.out.println(&quot;If you want to play your music, click any key to continue&quot;);\r\n            response = scanner.next();\r\n            while(!response.equals(&quot;Q&quot;)){\r\n                System.out.println(&quot;P = play, S = Stop, R= Reset, Q = Quit&quot;);\r\n                System.out.print(&quot;Enter your choice: &quot;);\r\n                response = scanner.next();\r\n                response = response.toUpperCase();\r\n                \r\n                switch (response) { \r\n                    \r\n                    case(&quot;P&quot;): \r\n                    for (int i = 0; i &lt; numItems; i++){\r\n                      a.play(arr[i]);\r\n                    }\r\n                        \r\n                    default: System.out.println(&quot;Not a valid response&quot;);\r\n                }\r\n                System.out.println(&quot;Bye&quot;);\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nthis is the code I used to play different piano note wav files one by one to create a music, but when I make the Thread.sleep less than 1000, the music note will jam up, it will skipped or play some notes together, is there anyway I can play these files one by one in order, or is there other way I can use to create a music editor that allows me to combine different music notes together to play songs using java?`enter code here.","title":"About how to create a music player that could play different file one by one to create a music","body":"<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport javax.sound.sampled.*;\npublic class Main{\n        \n       static File [] arr= new File[100];\n     \n        static String[] arrNote = new String[100];\n        public void play(File filename)throws UnsupportedAudioFileException, IOException,InterruptedException,\n    LineUnavailableException{\n            AudioInputStream audioStream = AudioSystem.getAudioInputStream(filename);\n                    Clip clip = AudioSystem.getClip();\n                    clip.open(audioStream);\n                    clip.start();\n                Thread.sleep(500); \n                clip.close();\n        }\n        \n        \n    \n    public static void main(String[]args) throws UnsupportedAudioFileException, IOException,InterruptedException,\n    LineUnavailableException{\n        Scanner scanner = new Scanner(System.in);\n        String response = &quot;&quot;;\n        Main a = new Main();\n        int numItems = 0;\n         System.out.println(&quot;Store music notes, type in Alphabate + number for example(E3) for the music note you want to store in the array, type Q when finished&quot;);    \n        while(!response.equals(&quot;Q&quot;)){\n            response = scanner.next();\n            response.toUpperCase();\n            switch(response){\n                case(&quot;B3&quot;): \n                arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\B3.wav&quot;);\n                arrNote[numItems] = &quot;B3&quot;;\n                numItems++;\n                break;\n                case(&quot;C3&quot;):\n                arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\C3.wav&quot;);\n                arrNote[numItems] = &quot;C3&quot;;\n                numItems++;\n                break;\n                case(&quot;D3&quot;):\n                arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\D3.wav&quot;);\n                arrNote[numItems] = &quot;D3&quot;;\n                numItems++;\n                break;\n                case(&quot;E3&quot;):\n                arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\E3.wav&quot;);\n                arrNote[numItems] = &quot;E3&quot;;\n                numItems++;\n                break;\n                case(&quot;F3&quot;): \n                arr[numItems] = new File(&quot;C:\\\\Users\\\\westg\\\\OneDrive\\\\Desktop\\\\piano.wav\\\\F3.wav&quot;);\n                arrNote[numItems] = &quot;F3&quot;;\n                numItems++;\n                break;\n                case(&quot;Q&quot;): \n                break; \n                default: System.out.println(&quot;Not a valid response&quot;);\n            }\n            \n        }\n        System.out.println(&quot;Your music note sequence: &quot;);\n        for (int x = 0; x &lt; numItems; x ++){\n            System.out.print(x + 1 + &quot;.&quot; + arrNote[x] + &quot; &quot;);          \n        }\n        System.out.println(&quot;If you want to play your music, click any key to continue&quot;);\n        response = scanner.next();\n        while(!response.equals(&quot;Q&quot;)){\n            System.out.println(&quot;P = play, S = Stop, R= Reset, Q = Quit&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            response = scanner.next();\n            response = response.toUpperCase();\n            \n            switch (response) { \n                \n                case(&quot;P&quot;): \n                for (int i = 0; i &lt; numItems; i++){\n                  a.play(arr[i]);\n                }\n                    \n                default: System.out.println(&quot;Not a valid response&quot;);\n            }\n            System.out.println(&quot;Bye&quot;);\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>this is the code I used to play different piano note wav files one by one to create a music, but when I make the Thread.sleep less than 1000, the music note will jam up, it will skipped or play some notes together, is there anyway I can play these files one by one in order, or is there other way I can use to create a music editor that allows me to combine different music notes together to play songs using java?`enter code here.</p>\n"},{"tags":["java","xml","saml","canonicalization","c14n"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1638003505,"post_id":70130866,"comment_id":123975665,"body_markdown":"I don&#39;t know the solution, but I can confirm that in canonical XML, namespace declarations should precede other attributes.","body":"I don&#39;t know the solution, but I can confirm that in canonical XML, namespace declarations should precede other attributes."}],"owner":{"account_id":23465800,"reputation":21,"user_id":17520026,"display_name":"Srikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637968605,"creation_date":1637968605,"question_id":70130866,"body_markdown":"Java c14n Canonicalizer is switching up the attribute order of the canonicalized XML assertion.\r\n\r\nThe canonicalizer is outputting the following string post canonicaliztion: \r\n\r\n&lt;saml:Assertion ID=&quot;_llhn27aoVN60ug&quot; IssueInstant=&quot;2021-11-26T22:10:37.067073Z&quot; Version=&quot;2.0&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion \r\n\r\nHowever, according to the canonicalizer documentation , xmlns:saml attribute should come before the SAML: Assertion ID attribute. \r\n\r\nThis change in the ordering of the attributes is preventing the accurate calculation of the digest value. \r\n\r\n\r\nI am using the following canonicalizer: \r\n\r\norg.apache.xml.security.c14n.Canonicalizer\r\n\r\n\r\n\r\nDoes anyone have any idea on as to how this can be fixed ? \r\n\r\n\r\n\r\n","title":"Java c14N Canonicaliser - Attribute name order is in the wrong order","body":"<p>Java c14n Canonicalizer is switching up the attribute order of the canonicalized XML assertion.</p>\n<p>The canonicalizer is outputting the following string post canonicaliztion:</p>\n<p>&lt;saml:Assertion ID=&quot;_llhn27aoVN60ug&quot; IssueInstant=&quot;2021-11-26T22:10:37.067073Z&quot; Version=&quot;2.0&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion</p>\n<p>However, according to the canonicalizer documentation , xmlns:saml attribute should come before the SAML: Assertion ID attribute.</p>\n<p>This change in the ordering of the attributes is preventing the accurate calculation of the digest value.</p>\n<p>I am using the following canonicalizer:</p>\n<p>org.apache.xml.security.c14n.Canonicalizer</p>\n<p>Does anyone have any idea on as to how this can be fixed ?</p>\n"},{"tags":["java","json","jsp","struts2","struts2-jquery"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1637949836,"post_id":70117036,"comment_id":123967306,"body_markdown":"The Struts 2 should *not* accept json values from the request, unless this feature is enabled even via the plugin. You should read the corresponding documentation page to learn how to do it. [This](https://stackoverflow.com/a/16752302/573032) answer has a similar problem and you should read it before if you need a problem solved with the solution.","body":"The Struts 2 should <i>not</i> accept json values from the request, unless this feature is enabled even via the plugin. You should read the corresponding documentation page to learn how to do it. <a href=\"https://stackoverflow.com/a/16752302/573032\">This</a> answer has a similar problem and you should read it before if you need a problem solved with the solution."},{"owner":{"account_id":8341042,"reputation":173,"user_id":6266354,"accept_rate":86,"display_name":"Ersch"},"score":0,"creation_date":1637958687,"post_id":70117036,"comment_id":123969472,"body_markdown":"Hi @RomanC and thanks for your repply. The struts 2 pluggin was already added. I looked the documentation but I don&#39;t see the example with anotations (like my action class in the op). Also can you confirm if the json pluggin is in the projet, can I just send the json data with the same structure than the dto and the pluggin will auto populate the dto fields?","body":"Hi @RomanC and thanks for your repply. The struts 2 pluggin was already added. I looked the documentation but I don&#39;t see the example with anotations (like my action class in the op). Also can you confirm if the json pluggin is in the projet, can I just send the json data with the same structure than the dto and the pluggin will auto populate the dto fields?"},{"owner":{"account_id":8341042,"reputation":173,"user_id":6266354,"accept_rate":86,"display_name":"Ersch"},"score":0,"creation_date":1637960267,"post_id":70117036,"comment_id":123969796,"body_markdown":"@RomanC I did with success the second option that you described without the interceptor and it works but if I understand the first option with the plug-in is faster","body":"@RomanC I did with success the second option that you described without the interceptor and it works but if I understand the first option with the plug-in is faster"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1637965554,"post_id":70117036,"comment_id":123970891,"body_markdown":"The plugin is supported from the Struts 2 framework, so you don&#39;t need to write your own serializer and deserializer.","body":"The plugin is supported from the Struts 2 framework, so you don&#39;t need to write your own serializer and deserializer."},{"owner":{"account_id":8341042,"reputation":173,"user_id":6266354,"accept_rate":86,"display_name":"Ersch"},"score":0,"creation_date":1637967010,"post_id":70117036,"comment_id":123971120,"body_markdown":"thanks @RomanC. ,Tto send the form detail to the DTO called &quot;indicateurDictionnaireForm&quot; in my op, Does the request is correct? I have a doubt about the structure of the JSON, Do I need to wrap with indicateurDictionnaireForm? I tried like that but same prob the dto is not populated:\n$.ajax({\ntype: &quot;POST&quot;,\nasync: true,\nurl: &quot;&lt;%= request.getContextPath() %&gt;/mesures.indicateurs.ce.save.action&quot;,\ndata: {&quot;indicateurDictionnaireForm&quot;: JSON.stringify(this.indicateurDictionnaireForm)},\nsuccess: function (data) {\n},\nerror: function (request, error) {\n}\n});","body":"thanks @RomanC. ,Tto send the form detail to the DTO called &quot;indicateurDictionnaireForm&quot; in my op, Does the request is correct? I have a doubt about the structure of the JSON, Do I need to wrap with indicateurDictionnaireForm? I tried like that but same prob the dto is not populated: $.ajax({ type: &quot;POST&quot;, async: true, url: &quot;&lt;%= request.getContextPath() %&gt;/mesures.indicateurs.ce.save.action&quot;, data: {&quot;indicateurDictionnaireForm&quot;: JSON.stringify(this.indicateurDictionnaireForm)}, success: function (data) { }, error: function (request, error) { } });"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637968558,"creation_date":1637968062,"answer_id":70130830,"question_id":70117036,"body_markdown":"The methods that are mapped to the actions not use any parameters in the method signature. So you need to remove those parameters and add `json` interceptor to the action config. \r\n\r\nThis field is used as [`root` object][1] by the json interceptor and should not be `null`.\r\n```\r\nIndicateurDictionnaire indicateurDictionnaire;\r\n// getter and setter should be added\r\n\r\n@Action(value = &quot;mesures.indicateurs.ce.save&quot;, results = {\r\n    @Result(name = &quot;success&quot;, type = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaire&quot;})\r\n}, interceptorRefs = @InterceptorRef(value = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaire&quot;}))\r\npublic String save() {       \r\n  dictionnaireIndicateurBo.saveIndicateurDictionnaire(indicateurDictionnaire);\r\n  return SUCCESS;\r\n}\r\n```\r\n\r\n  [1]: https://struts.apache.org/plugins/json/#root-object","title":"Post json to struts 2 action","body":"<p>The methods that are mapped to the actions not use any parameters in the method signature. So you need to remove those parameters and add <code>json</code> interceptor to the action config.</p>\n<p>This field is used as <a href=\"https://struts.apache.org/plugins/json/#root-object\" rel=\"nofollow noreferrer\"><code>root</code> object</a> by the json interceptor and should not be <code>null</code>.</p>\n<pre><code>IndicateurDictionnaire indicateurDictionnaire;\n// getter and setter should be added\n\n@Action(value = &quot;mesures.indicateurs.ce.save&quot;, results = {\n    @Result(name = &quot;success&quot;, type = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaire&quot;})\n}, interceptorRefs = @InterceptorRef(value = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaire&quot;}))\npublic String save() {       \n  dictionnaireIndicateurBo.saveIndicateurDictionnaire(indicateurDictionnaire);\n  return SUCCESS;\n}\n</code></pre>\n"}],"owner":{"account_id":8341042,"reputation":173,"user_id":6266354,"accept_rate":86,"display_name":"Ersch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70130830,"answer_count":1,"score":1,"last_activity_date":1637968558,"creation_date":1637872967,"question_id":70117036,"body_markdown":"I need to post a simple json object to a Struts 2 action, could you tell me what I miss with this:\r\n\r\nthe Java object to save:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    private Integer id;\r\n    @Column(name = &quot;code&quot;)\r\n    private String code;\r\n    @Column(name = &quot;libelle_fr&quot;)\r\n    private String libelleFr;\r\n    @Column(name = &quot;libelle_nl&quot;)\r\n    private String libelleNl;\r\n\r\n\r\nI use alpine.js but it&#39;s a detail, the script called to send the request is this one:\r\n\r\n```\r\n&lt;script&gt;\r\n    function postForm() {\r\n        return {\r\n            indicateurDictionnaireForm: {\r\n                libelleFr: &#39;&#39;,\r\n                libelleNl: &#39;&#39;,\r\n                code: &#39;&#39;\r\n            },\r\n            message: &#39;&#39;,\r\n\r\n            submitData() {\r\n                this.message = &#39;&#39;\r\n\r\n                fetch(&#39;&lt;%= request.getContextPath() %&gt;/mesures.ce.save.action&#39;, {\r\n                    method: &#39;POST&#39;,\r\n                    headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },\r\n                    dataType:&quot;json&quot;,\r\n                    body: JSON.stringify(this.indicateurDictionnaireForm)\r\n                })\r\n                    .then(() =&gt; {\r\n                        this.message = &#39;Form sucessfully submitted!&#39;\r\n                    })\r\n                    .catch(() =&gt; {\r\n                        this.message = &#39;Ooops! Something went wrong!&#39;\r\n                    })\r\n            }\r\n        }\r\n    }\r\n&lt;/script&gt;\r\n```\r\n\r\nthe json sent to the action is:\r\n```\r\n{\r\n&quot;libelleFr&quot;:&quot;fr&quot;,\r\n&quot;libelleNl&quot;:&quot;nl&quot;,\r\n&quot;code&quot;:&quot;sample&quot;\r\n}\r\n```\r\n\r\nfrom my action file there is my method called from the front:\r\n\r\n```\r\nprivate IndicateurDictionnaire indicateurDictionnaireForm;\r\n\r\n// Action to save an indicateurDictionnaireto database\r\n@Action(value = &quot;mesures.indicateurs.ce.save&quot;, results = {\r\n            @Result(name = &quot;success&quot;, type = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaireForm&quot;}),\r\n            @Result(name = &quot;input&quot;, type = &quot;tiles&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaireForm&quot;}, location = &quot;viewMesureCoutUnitaire&quot;)})\r\n    public String save(IndicateurDictionnaire indicateurDictionnaire, String libelleFr, String libelleNl, String code) {\r\n        dictionnaireIndicateurBo.saveIndicateurDictionnaire(indicateurDictionnaire);\r\n        return SUCCESS;\r\n    }\r\n```\r\n\r\nAccording the struts2 json pluggin, the json should be mapped to my object if it&#39;s properly formatted but the fields are empty if I look in debug.\r\n\r\nDo you know how I can proceed to at least see the json request in my action method?","title":"Post json to struts 2 action","body":"<p>I need to post a simple json object to a Struts 2 action, could you tell me what I miss with this:</p>\n<p>the Java object to save:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = IDENTITY)\n@Column(name = &quot;id&quot;, unique = true, nullable = false)\nprivate Integer id;\n@Column(name = &quot;code&quot;)\nprivate String code;\n@Column(name = &quot;libelle_fr&quot;)\nprivate String libelleFr;\n@Column(name = &quot;libelle_nl&quot;)\nprivate String libelleNl;\n</code></pre>\n<p>I use alpine.js but it's a detail, the script called to send the request is this one:</p>\n<pre><code>&lt;script&gt;\n    function postForm() {\n        return {\n            indicateurDictionnaireForm: {\n                libelleFr: '',\n                libelleNl: '',\n                code: ''\n            },\n            message: '',\n\n            submitData() {\n                this.message = ''\n\n                fetch('&lt;%= request.getContextPath() %&gt;/mesures.ce.save.action', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    dataType:&quot;json&quot;,\n                    body: JSON.stringify(this.indicateurDictionnaireForm)\n                })\n                    .then(() =&gt; {\n                        this.message = 'Form sucessfully submitted!'\n                    })\n                    .catch(() =&gt; {\n                        this.message = 'Ooops! Something went wrong!'\n                    })\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n<p>the json sent to the action is:</p>\n<pre><code>{\n&quot;libelleFr&quot;:&quot;fr&quot;,\n&quot;libelleNl&quot;:&quot;nl&quot;,\n&quot;code&quot;:&quot;sample&quot;\n}\n</code></pre>\n<p>from my action file there is my method called from the front:</p>\n<pre><code>private IndicateurDictionnaire indicateurDictionnaireForm;\n\n// Action to save an indicateurDictionnaireto database\n@Action(value = &quot;mesures.indicateurs.ce.save&quot;, results = {\n            @Result(name = &quot;success&quot;, type = &quot;json&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaireForm&quot;}),\n            @Result(name = &quot;input&quot;, type = &quot;tiles&quot;, params = {&quot;root&quot;, &quot;indicateurDictionnaireForm&quot;}, location = &quot;viewMesureCoutUnitaire&quot;)})\n    public String save(IndicateurDictionnaire indicateurDictionnaire, String libelleFr, String libelleNl, String code) {\n        dictionnaireIndicateurBo.saveIndicateurDictionnaire(indicateurDictionnaire);\n        return SUCCESS;\n    }\n</code></pre>\n<p>According the struts2 json pluggin, the json should be mapped to my object if it's properly formatted but the fields are empty if I look in debug.</p>\n<p>Do you know how I can proceed to at least see the json request in my action method?</p>\n"},{"tags":["java","compression","priority-queue","huffman-code","lossless-compression"],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637967636,"creation_date":1637961340,"answer_id":70130108,"question_id":70126150,"body_markdown":"Both are valid prefix codes, and both are valid Huffman codes for the set of frequencies 1, 2, 3, 3, 5, 5.\r\n\r\nHowever the ordering of your codes in both cases seems arbitrary. If they are supposed to correspond to the frequencies, then both outputs are wrong. Longer codes correspond to lower frequencies. A sequence of non-decreasing frequencies will correspond to a sequence of non-increasing code lengths.\r\n\r\nThe way you compute the efficiency of a code is not by adding the lengths. You sum the products of the lengths and corresponding frequencies. If I sort and associate the lengths and frequencies appropriately, then the first code is 2x5 + 2x5 + 2x3 + 3x3 + 4x2 + 4x1 = 47. The second code is 2x5 + 2x5 + 3x3 + 3x3 + 3x2 + 3x1 = 47. Both codes are optimal, with both taking 47 bits to represent the message.\r\n\r\nYou can get either code from Huffman&#39;s algorithm because there is an arbitrary choice at one point. After you pair 1 and 2 to get a subtree with frequency 3, you now have two other frequency 3 leaves. So now you can either combine the subtree and one of the leaves, or you can combine the two leaves. Those result in different trees at the end. However both will be optimal.","title":"Is it possible to have two different Huffman encoding scheme yielding different number of bits?","body":"<p>Both are valid prefix codes, and both are valid Huffman codes for the set of frequencies 1, 2, 3, 3, 5, 5.</p>\n<p>However the ordering of your codes in both cases seems arbitrary. If they are supposed to correspond to the frequencies, then both outputs are wrong. Longer codes correspond to lower frequencies. A sequence of non-decreasing frequencies will correspond to a sequence of non-increasing code lengths.</p>\n<p>The way you compute the efficiency of a code is not by adding the lengths. You sum the products of the lengths and corresponding frequencies. If I sort and associate the lengths and frequencies appropriately, then the first code is 2x5 + 2x5 + 2x3 + 3x3 + 4x2 + 4x1 = 47. The second code is 2x5 + 2x5 + 3x3 + 3x3 + 3x2 + 3x1 = 47. Both codes are optimal, with both taking 47 bits to represent the message.</p>\n<p>You can get either code from Huffman's algorithm because there is an arbitrary choice at one point. After you pair 1 and 2 to get a subtree with frequency 3, you now have two other frequency 3 leaves. So now you can either combine the subtree and one of the leaves, or you can combine the two leaves. Those result in different trees at the end. However both will be optimal.</p>\n"}],"owner":{"account_id":9926697,"reputation":180,"user_id":13509950,"display_name":"Piyush Keshari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70130108,"answer_count":1,"score":0,"last_activity_date":1637967636,"creation_date":1637937743,"question_id":70126150,"body_markdown":"I made a solution for Huffman encoding but my code is not yielding expected output.\r\n\r\nI cannot figure out what is wrong.\r\n\r\nAny help is appreciated.\r\n\r\n```For Input:\r\nabcdef\r\n1 2 3 3 5 5\r\n\r\nYour Output: \r\n00 01 10 110 1110 1111 \r\n\r\nExpected Output: \r\n000 001 01 10 110 111 \r\n```\r\n\r\nIt can be seen clearly that number of bits are different expected one being `16` mine being `17`. Is it possible to have different output for different huffman schemes?\r\n\r\n```java\r\nclass Solution {\r\n\r\n    class HuffmanNode {\r\n        char c;\r\n        int freq;\r\n        HuffmanNode left;\r\n        HuffmanNode right;\r\n\r\n        public HuffmanNode(char c, int freq) {\r\n            this.c = c;\r\n            this.freq = freq;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n    }\r\n\r\n    class HuffmanNodeComparator implements Comparator&lt;HuffmanNode&gt; {\r\n        public int compare(HuffmanNode a, HuffmanNode b) {\r\n            return a.freq - b.freq;\r\n        }\r\n    }\r\n\r\n    ArrayList&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\r\n    public ArrayList&lt;String&gt; huffmanCodes(String S, int f[], int N) {\r\n        Queue&lt;HuffmanNode&gt; pq = new PriorityQueue&lt;HuffmanNode&gt;(new HuffmanNodeComparator());\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n            pq.offer(new HuffmanNode(S.charAt(i), f[i]));\r\n        }\r\n\r\n        while (pq.size() &gt; 1) {\r\n            HuffmanNode a = pq.poll();\r\n            HuffmanNode b = pq.poll();\r\n            HuffmanNode newNode = new HuffmanNode(&#39;-&#39;, a.freq + b.freq);\r\n\r\n            newNode.left = a;\r\n            newNode.right = b;\r\n\r\n            pq.offer(newNode);\r\n        }\r\n\r\n        dfs(pq.poll(), &quot;&quot;);\r\n\r\n        return res;\r\n    }\r\n\r\n    public void dfs(HuffmanNode root, String HuffmanCode) {\r\n        if (root == null) return;\r\n        if (root.c != &#39;-&#39;) {\r\n            res.add(HuffmanCode);\r\n            return;\r\n        }\r\n\r\n        dfs(root.left, HuffmanCode + &quot;0&quot;);\r\n        dfs(root.right, HuffmanCode + &quot;1&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to have two different Huffman encoding scheme yielding different number of bits?","body":"<p>I made a solution for Huffman encoding but my code is not yielding expected output.</p>\n<p>I cannot figure out what is wrong.</p>\n<p>Any help is appreciated.</p>\n<pre><code>abcdef\n1 2 3 3 5 5\n\nYour Output: \n00 01 10 110 1110 1111 \n\nExpected Output: \n000 001 01 10 110 111 \n</code></pre>\n<p>It can be seen clearly that number of bits are different expected one being <code>16</code> mine being <code>17</code>. Is it possible to have different output for different huffman schemes?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    class HuffmanNode {\n        char c;\n        int freq;\n        HuffmanNode left;\n        HuffmanNode right;\n\n        public HuffmanNode(char c, int freq) {\n            this.c = c;\n            this.freq = freq;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    class HuffmanNodeComparator implements Comparator&lt;HuffmanNode&gt; {\n        public int compare(HuffmanNode a, HuffmanNode b) {\n            return a.freq - b.freq;\n        }\n    }\n\n    ArrayList&lt;String&gt; res = new ArrayList&lt;&gt;();\n\n    public ArrayList&lt;String&gt; huffmanCodes(String S, int f[], int N) {\n        Queue&lt;HuffmanNode&gt; pq = new PriorityQueue&lt;HuffmanNode&gt;(new HuffmanNodeComparator());\n\n        for (int i = 0; i &lt; N; i++) {\n            pq.offer(new HuffmanNode(S.charAt(i), f[i]));\n        }\n\n        while (pq.size() &gt; 1) {\n            HuffmanNode a = pq.poll();\n            HuffmanNode b = pq.poll();\n            HuffmanNode newNode = new HuffmanNode('-', a.freq + b.freq);\n\n            newNode.left = a;\n            newNode.right = b;\n\n            pq.offer(newNode);\n        }\n\n        dfs(pq.poll(), &quot;&quot;);\n\n        return res;\n    }\n\n    public void dfs(HuffmanNode root, String HuffmanCode) {\n        if (root == null) return;\n        if (root.c != '-') {\n            res.add(HuffmanCode);\n            return;\n        }\n\n        dfs(root.left, HuffmanCode + &quot;0&quot;);\n        dfs(root.right, HuffmanCode + &quot;1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","csv"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1637962822,"post_id":70130249,"comment_id":123970328,"body_markdown":"The reason it still returns a result is because you catch the exception without re-throwing it or exiting the method early. So I can only assume what is returned is only a partial result. As for the exception, either use the debugger or add print statements so you can see for what line it throws. _Edit_ I see now you say it returns the correct result so maybe start by examining if you have an empty line at the and of the file (or some summary line)","body":"The reason it still returns a result is because you catch the exception without re-throwing it or exiting the method early. So I can only assume what is returned is only a partial result. As for the exception, either use the debugger or add print statements so you can see for what line it throws. <i>Edit</i> I see now you say it returns the correct result so maybe start by examining if you have an empty line at the and of the file (or some summary line)"},{"owner":{"account_id":23465430,"reputation":1,"user_id":17519715,"display_name":"Chris"},"score":0,"creation_date":1638027541,"post_id":70130249,"comment_id":123980419,"body_markdown":"Yes it seems like maxLen was the issue. I removed the inner for loop and replaced it with source[x] = row; which has fixed it. Thank you so much!","body":"Yes it seems like maxLen was the issue. I removed the inner for loop and replaced it with source[x] = row; which has fixed it. Thank you so much!"}],"owner":{"account_id":23465430,"reputation":1,"user_id":17519715,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637966124,"creation_date":1637962555,"question_id":70130249,"body_markdown":"I&#39;m trying to import a CSV in a java program to a 2d array. Every time I test to see if it&#39;s been imported correctly it returns the correct result but also throws an Array Index Out of Bounds Exception (Index 45 out of bounds for length 45)\r\n\r\nHere is the code and I appreciate any assistance.\r\n\r\n    public static String[][] readIn(String file){\r\n\t\tBufferedReader reader1 = null;\r\n\t\tBufferedReader reader2 = null;\r\n\t\t  String line = &quot;&quot;;\r\n\t\t  int colCount = 0;\r\n\t\t  int maxLen = 0;\r\n\t\t  String[][] source = null;\r\n\t\t \r\n\t\t  try {\r\n\t\t   reader1 = new BufferedReader(new FileReader(file));\r\n\t\t   while((line = reader1.readLine()) != null) {\r\n\t\t\t   colCount++;\r\n\t\t\t   String[] row = line.split(&quot;,&quot;);\r\n\t\t\t   if (maxLen &lt; row.length) {\r\n\t\t\t\t   maxLen = row.length;\r\n\t\t\t   }\r\n\t\t\t   else {}\r\n\t\t   }\r\n\r\n\t\t   source = new String[colCount][maxLen];\r\n\t\t   reader2 = new BufferedReader(new FileReader(file));\r\n\t\t   \r\n\t\t   for(int x = 0; x &lt; colCount; x++) {\r\n\t\t\t   line = reader2.readLine();\r\n\t\t\t   String[] row = line.split(&quot;,&quot;);\r\n\t\t\t   for (int y = 0; y &lt; maxLen; y++) {\r\n\t\t\t\t   source[x][y]=row[y];\r\n\t\t\t   }   \r\n\t\t   }\r\n\t\t  }\r\n\t\t  catch(Exception e) {\r\n\t\t   e.printStackTrace();\r\n\t\t  }\r\n\t\t  finally {\r\n\t\t   try {\r\n\t\t    reader1.close();\r\n\t\t    reader2.close();\r\n\t\t   } catch (IOException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t   }\r\n\t\t  }\r\n\t\t  return source;\r\n\t}","title":"Array Index Out of Bounds Exception - CSV Import","body":"<p>I'm trying to import a CSV in a java program to a 2d array. Every time I test to see if it's been imported correctly it returns the correct result but also throws an Array Index Out of Bounds Exception (Index 45 out of bounds for length 45)</p>\n<p>Here is the code and I appreciate any assistance.</p>\n<pre><code>public static String[][] readIn(String file){\n    BufferedReader reader1 = null;\n    BufferedReader reader2 = null;\n      String line = &quot;&quot;;\n      int colCount = 0;\n      int maxLen = 0;\n      String[][] source = null;\n     \n      try {\n       reader1 = new BufferedReader(new FileReader(file));\n       while((line = reader1.readLine()) != null) {\n           colCount++;\n           String[] row = line.split(&quot;,&quot;);\n           if (maxLen &lt; row.length) {\n               maxLen = row.length;\n           }\n           else {}\n       }\n\n       source = new String[colCount][maxLen];\n       reader2 = new BufferedReader(new FileReader(file));\n       \n       for(int x = 0; x &lt; colCount; x++) {\n           line = reader2.readLine();\n           String[] row = line.split(&quot;,&quot;);\n           for (int y = 0; y &lt; maxLen; y++) {\n               source[x][y]=row[y];\n           }   \n       }\n      }\n      catch(Exception e) {\n       e.printStackTrace();\n      }\n      finally {\n       try {\n        reader1.close();\n        reader2.close();\n       } catch (IOException e) {\n        e.printStackTrace();\n       }\n      }\n      return source;\n}\n</code></pre>\n"},{"tags":["java","user-interface","animation","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637966785,"post_id":70129147,"comment_id":123971089,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637965617,"creation_date":1637964901,"answer_id":70130497,"question_id":70129147,"body_markdown":"A potential solution: \r\n\r\n * [animation which uses PathTransition as a drawing pen][1]\r\n\r\nThe line is revealed and appears to grow as the pen movement updates a clip set on the line to gradually reveal more of the line. \r\n\r\nTo generate the path, define a line with appropriate start and end locations and appropriate stroke properties, instead of using the text path from the linked Sergey&#39;s answer.\r\n\r\n    Line line = new Line(startX, startY, endX, endY);\r\n    line.setStrokeWidth(10);\r\n    line.setStrokeLineCap(StrokeLineCap.ROUND);\r\n\r\nFor a square (or butt) line cap, you can use a rectangle as the pen (as in the linked answer).\r\n\r\nFor a round line cap, you can use a circle rather than a rectangle for the pen.  \r\n\r\n  [1]: https://stackoverflow.com/questions/14347778/javafx-animation-which-uses-pathtransition-as-a-drawing-pen","title":"JavaFX. How to animate the drawing of a Line from starting point to ending point?","body":"<p>A potential solution:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14347778/javafx-animation-which-uses-pathtransition-as-a-drawing-pen\">animation which uses PathTransition as a drawing pen</a></li>\n</ul>\n<p>The line is revealed and appears to grow as the pen movement updates a clip set on the line to gradually reveal more of the line.</p>\n<p>To generate the path, define a line with appropriate start and end locations and appropriate stroke properties, instead of using the text path from the linked Sergey's answer.</p>\n<pre><code>Line line = new Line(startX, startY, endX, endY);\nline.setStrokeWidth(10);\nline.setStrokeLineCap(StrokeLineCap.ROUND);\n</code></pre>\n<p>For a square (or butt) line cap, you can use a rectangle as the pen (as in the linked answer).</p>\n<p>For a round line cap, you can use a circle rather than a rectangle for the pen.</p>\n"}],"owner":{"account_id":22731676,"reputation":45,"user_id":16894486,"display_name":"alex angulo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637965617,"creation_date":1637954436,"question_id":70129147,"body_markdown":"I wrote this code to animate a circle:\r\n\r\n      Circle animatedCircle = new Circle();\r\n        animatedCircle.setRadius(10);\r\n        animatedCircle.setFill(Color.YELLOW);\r\n        \r\n        Path path = new Path();\r\n        path.getElements().add(new MoveTo(20,20));\r\n        path.getElements().add(new LineTo(50,50));\r\n        PathTransition transicion = new PathTransition();\r\n        transicion.setDuration(Duration.millis(1000));\r\n        transicion.setPath(path);\r\n        transicion.setNode(animatedCircle);\r\n        transicion.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\r\n        transicion.setCycleCount(Timeline.INDEFINITE);\r\n        transicion.play();\r\n\r\nI need the path to keep the same color of the circle, so it actually draws a line, and then the line will stay. How to accomplish this idea? Or is there a better way to draw a permanent line with animations?","title":"JavaFX. How to animate the drawing of a Line from starting point to ending point?","body":"<p>I wrote this code to animate a circle:</p>\n<pre><code>  Circle animatedCircle = new Circle();\n    animatedCircle.setRadius(10);\n    animatedCircle.setFill(Color.YELLOW);\n    \n    Path path = new Path();\n    path.getElements().add(new MoveTo(20,20));\n    path.getElements().add(new LineTo(50,50));\n    PathTransition transicion = new PathTransition();\n    transicion.setDuration(Duration.millis(1000));\n    transicion.setPath(path);\n    transicion.setNode(animatedCircle);\n    transicion.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\n    transicion.setCycleCount(Timeline.INDEFINITE);\n    transicion.play();\n</code></pre>\n<p>I need the path to keep the same color of the circle, so it actually draws a line, and then the line will stay. How to accomplish this idea? Or is there a better way to draw a permanent line with animations?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637960840,"post_id":70130030,"comment_id":123969922,"body_markdown":"What programming language are you using? Is it javascript?","body":"What programming language are you using? Is it javascript?"},{"owner":{"account_id":18536625,"reputation":635,"user_id":13506135,"display_name":"fluffyyboii"},"score":0,"creation_date":1637961040,"post_id":70130030,"comment_id":123969956,"body_markdown":"Do you want to display the key or the value that appears the most? Keys can only appear once in maps.","body":"Do you want to display the key or the value that appears the most? Keys can only appear once in maps."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1637961844,"post_id":70130030,"comment_id":123970137,"body_markdown":"Does this answer your question? [Using Java8 Stream to find the highest values from map](https://stackoverflow.com/questions/42060294/using-java8-stream-to-find-the-highest-values-from-map)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42060294/using-java8-stream-to-find-the-highest-values-from-map\">Using Java8 Stream to find the highest values from map</a>"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637961859,"creation_date":1637961609,"answer_id":70130148,"question_id":70130030,"body_markdown":"You can find the max key using streams like this:\r\n\r\n```java\r\nCharacter maxKey = map.entrySet().stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .get().getKey();\r\n```","title":"Java - Displaying key in map with most occurrences - Java","body":"<p>You can find the max key using streams like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Character maxKey = map.entrySet().stream()\n    .max(Map.Entry.comparingByValue())\n    .get().getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637963097,"creation_date":1637961907,"answer_id":70130180,"question_id":70130030,"body_markdown":"There are many ways.  Here is how I would do it.\r\n\r\nAssuming your keys are strings.\r\n- stream the entry set.\r\n- get the max using the Entry comparator for value.\r\n- get the Entry of the optional and then get the string.\r\n```\r\nMap&lt;String, Integer&gt; maps = Map.of(&quot;c&quot;, 11, &quot;d&quot;, 17, &quot;f&quot;, 12);\r\nString key = maps.entrySet().stream()\r\n\t\t.max(Entry.comparingByValue())\r\n\t\t.get().getKey();\r\nSystem.out.println(key);\r\n```\r\nprints\r\n```\r\nd\r\n\r\n```\r\nYou can also combine the two operations and use the `chars().stream()` method.\r\n\r\n- stream the characters\r\n- map to a Character object.\r\n- and count the characters grouping by the character\r\n- stream the entry set as before \r\n- and return the character.\r\n\r\n```\r\nString str = &quot;aaa bbbb ccccccccccc ddddd eeee&quot;;\r\nchar key = str.chars()\r\n\t\t.mapToObj(ch -&gt; Character.valueOf((char) ch))\r\n\t\t.collect(Collectors.groupingBy(s -&gt; s,\r\n\t\t\t\tCollectors.counting()))\r\n\t\t.entrySet().stream().max(Entry.comparingByValue())\r\n\t\t.get().getKey();\r\n\r\nSystem.out.println(key);\r\n```\r\nIn this case, prints\r\n```\r\nc\r\n```\r\nIf you only want letters to be counted you can filter with `Character.isLetter()`","title":"Java - Displaying key in map with most occurrences - Java","body":"<p>There are many ways.  Here is how I would do it.</p>\n<p>Assuming your keys are strings.</p>\n<ul>\n<li>stream the entry set.</li>\n<li>get the max using the Entry comparator for value.</li>\n<li>get the Entry of the optional and then get the string.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; maps = Map.of(&quot;c&quot;, 11, &quot;d&quot;, 17, &quot;f&quot;, 12);\nString key = maps.entrySet().stream()\n        .max(Entry.comparingByValue())\n        .get().getKey();\nSystem.out.println(key);\n</code></pre>\n<p>prints</p>\n<pre><code>d\n\n</code></pre>\n<p>You can also combine the two operations and use the <code>chars().stream()</code> method.</p>\n<ul>\n<li>stream the characters</li>\n<li>map to a Character object.</li>\n<li>and count the characters grouping by the character</li>\n<li>stream the entry set as before</li>\n<li>and return the character.</li>\n</ul>\n<pre><code>String str = &quot;aaa bbbb ccccccccccc ddddd eeee&quot;;\nchar key = str.chars()\n        .mapToObj(ch -&gt; Character.valueOf((char) ch))\n        .collect(Collectors.groupingBy(s -&gt; s,\n                Collectors.counting()))\n        .entrySet().stream().max(Entry.comparingByValue())\n        .get().getKey();\n\nSystem.out.println(key);\n</code></pre>\n<p>In this case, prints</p>\n<pre><code>c\n</code></pre>\n<p>If you only want letters to be counted you can filter with <code>Character.isLetter()</code></p>\n"}],"owner":{"account_id":20746910,"reputation":29,"user_id":15235313,"display_name":"HMNNikoloz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637965382,"accepted_answer_id":70130148,"answer_count":2,"score":0,"last_activity_date":1637965454,"creation_date":1637960736,"question_id":70130030,"body_markdown":"I have a string and i created a map which schows occurrences of characters:\r\n```\r\nString: &quot;aaa bbbb ccccccccccc ddddd eeee&quot;\r\nmap: {a=3, b=4, c=11, d=5, e=4}\r\n```\r\nAnd i want to display only c, also output: \r\n```\r\nc\r\n```\r\n (because it occurres most of the times).","title":"Java - Displaying key in map with most occurrences - Java","body":"<p>I have a string and i created a map which schows occurrences of characters:</p>\n<pre><code>String: &quot;aaa bbbb ccccccccccc ddddd eeee&quot;\nmap: {a=3, b=4, c=11, d=5, e=4}\n</code></pre>\n<p>And i want to display only c, also output:</p>\n<pre><code>c\n</code></pre>\n<p>(because it occurres most of the times).</p>\n"},{"tags":["java","selenium","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637961065,"creation_date":1637961065,"answer_id":70130073,"question_id":70129766,"body_markdown":"Should work with `.flatMap` and another stream of the `WebElement`-List like this:\r\n\r\n```java\r\nList&lt;String&gt; newfoundValueList = valueListToBeFilter.stream()\r\n    .flatMap(value -&gt; _webElementsErrorList.stream()\r\n        .filter(element -&gt; element.getText().contains(value))\r\n        .map(element -&gt; element.getText()))\r\n    .collect(Collectors.toList());\r\n```","title":"how to convert created new list of matched values from existing list using java stream","body":"<p>Should work with <code>.flatMap</code> and another stream of the <code>WebElement</code>-List like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; newfoundValueList = valueListToBeFilter.stream()\n    .flatMap(value -&gt; _webElementsErrorList.stream()\n        .filter(element -&gt; element.getText().contains(value))\n        .map(element -&gt; element.getText()))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637965290,"creation_date":1637965290,"answer_id":70130546,"question_id":70129766,"body_markdown":"It may be better to swap `map` and `filter` in the &quot;nested&quot; stream to reduce the code a little bit more, but generally it&#39;s a minor improvement:\r\n```java\r\nList&lt;String&gt; newfoundValueList = valueListToBeFilter\r\n    .stream()\r\n    .flatMap(value -&gt; _webElementsErrorList\r\n        .stream()\r\n        .map(WebElement::getText)\r\n        .filter(elementText -&gt; elementText.contains(value))\r\n    )\r\n    .collect(Collectors.toList());\r\n```","title":"how to convert created new list of matched values from existing list using java stream","body":"<p>It may be better to swap <code>map</code> and <code>filter</code> in the &quot;nested&quot; stream to reduce the code a little bit more, but generally it's a minor improvement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; newfoundValueList = valueListToBeFilter\n    .stream()\n    .flatMap(value -&gt; _webElementsErrorList\n        .stream()\n        .map(WebElement::getText)\n        .filter(elementText -&gt; elementText.contains(value))\n    )\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70130546,"answer_count":2,"score":0,"last_activity_date":1637965290,"creation_date":1637958770,"question_id":70129766,"body_markdown":"Currently I used nested for-each loop to achieve the same.\r\n\r\n    List&lt;String&gt; valueListToBeFilter = Arrays.asList(&quot;8 digit mobile number&quot;, &quot;Please enter mobile number.&quot;);\r\n    List&lt;String&gt; newfoundValueList = new ArrayList&lt;&gt;();\r\n    \r\n    for (String value : valueListToBeFilter) {\r\n    \tfor (WebElement element : _webElementsErrorList) {\r\n    \t\tif (element.getText().contains(value))\r\n    \t\t\tnewfoundValueList.add(element.getText());\r\n    \t}\r\n    }\r\n    newfoundValueList.forEach(System.out::println);\r\n\r\nI am getting the required result, but how to achieve the same using stream","title":"how to convert created new list of matched values from existing list using java stream","body":"<p>Currently I used nested for-each loop to achieve the same.</p>\n<pre><code>List&lt;String&gt; valueListToBeFilter = Arrays.asList(&quot;8 digit mobile number&quot;, &quot;Please enter mobile number.&quot;);\nList&lt;String&gt; newfoundValueList = new ArrayList&lt;&gt;();\n\nfor (String value : valueListToBeFilter) {\n    for (WebElement element : _webElementsErrorList) {\n        if (element.getText().contains(value))\n            newfoundValueList.add(element.getText());\n    }\n}\nnewfoundValueList.forEach(System.out::println);\n</code></pre>\n<p>I am getting the required result, but how to achieve the same using stream</p>\n"},{"tags":["java","kotlin","junit","jvm","hamcrest"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1637964959,"post_id":70130395,"comment_id":123970776,"body_markdown":"Related question: https://stackoverflow.com/questions/10932941/difference-between-hamcrest-library-matchers-and-hamcrest-core-corematchers","body":"Related question: <a href=\"https://stackoverflow.com/questions/10932941/difference-between-hamcrest-library-matchers-and-hamcrest-core-corematchers\" title=\"difference between hamcrest library matchers and hamcrest core corematchers\">stackoverflow.com/questions/10932941/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637965094,"creation_date":1637965094,"answer_id":70130525,"question_id":70130395,"body_markdown":"You can import all of these functions like this:\r\n\r\n    import static org.hamcrest.Matchers.*;","title":"Which Hamcrest matcher to import","body":"<p>You can import all of these functions like this:</p>\n<pre><code>import static org.hamcrest.Matchers.*;\n</code></pre>\n"}],"owner":{"account_id":4132097,"reputation":1122,"user_id":3732058,"display_name":"hughjdavey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1637965094,"creation_date":1637963808,"question_id":70130395,"body_markdown":"I am using Hamcrest in a gradle/JVM project via the `org.hamcrest:hamcrest:2.2` artifact which is what the [Hamcrest website recommends](http://hamcrest.org/JavaHamcrest/distributables). When I go to static import a matcher, e.g. `is` or `notNullValue`, I am presented with 3 options of where to import it from. In the case of `notNullValue` these are:\r\n\r\n* `org.hamcrest.CoreMatchers`\r\n* `org.hamcrest.Matchers`\r\n* `org.hamcrest.core.IsNull`\r\n\r\nI was wondering if there was a &#39;best practice&#39; one to choose?\r\n\r\n[![choice of imports][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kSslM.png","title":"Which Hamcrest matcher to import","body":"<p>I am using Hamcrest in a gradle/JVM project via the <code>org.hamcrest:hamcrest:2.2</code> artifact which is what the <a href=\"http://hamcrest.org/JavaHamcrest/distributables\" rel=\"nofollow noreferrer\">Hamcrest website recommends</a>. When I go to static import a matcher, e.g. <code>is</code> or <code>notNullValue</code>, I am presented with 3 options of where to import it from. In the case of <code>notNullValue</code> these are:</p>\n<ul>\n<li><code>org.hamcrest.CoreMatchers</code></li>\n<li><code>org.hamcrest.Matchers</code></li>\n<li><code>org.hamcrest.core.IsNull</code></li>\n</ul>\n<p>I was wondering if there was a 'best practice' one to choose?</p>\n<p><a href=\"https://i.stack.imgur.com/kSslM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSslM.png\" alt=\"choice of imports\" /></a></p>\n"},{"tags":["java","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":10669891,"reputation":549,"user_id":10767161,"display_name":"Metin Bulak"},"score":0,"creation_date":1637965160,"post_id":70130446,"comment_id":123970813,"body_markdown":"what is the type returned $.id, can you check type  blogpost entity","body":"what is the type returned $.id, can you check type  blogpost entity"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1637965300,"post_id":70130446,"comment_id":123970833,"body_markdown":"in blogpost entity&#39;s getId() method&#39;s returns Long but when i get id from jsonPath(&quot;$.id&quot;... it&#39;s returning integer.","body":"in blogpost entity&#39;s getId() method&#39;s returns Long but when i get id from jsonPath(&quot;$.id&quot;... it&#39;s returning integer."},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":1,"creation_date":1637965533,"post_id":70130446,"comment_id":123970886,"body_markdown":"You would want to try `blogPost.getId().intValue()`.","body":"You would want to try <code>blogPost.getId().intValue()</code>."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1637965616,"post_id":70130446,"comment_id":123970906,"body_markdown":"@ErvinSzilagyi very clear solution. It works thanks!","body":"@ErvinSzilagyi very clear solution. It works thanks!"},{"owner":{"account_id":10669891,"reputation":549,"user_id":10767161,"display_name":"Metin Bulak"},"score":1,"creation_date":1637965625,"post_id":70130446,"comment_id":123970907,"body_markdown":"Have you tryed .andExpect(jsonPath(&quot;$.id&quot;).value(&quot;1&quot;))","body":"Have you tryed .andExpect(jsonPath(&quot;$.id&quot;).value(&quot;1&quot;))"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1637965760,"post_id":70130446,"comment_id":123970929,"body_markdown":"@MetinBulak I can&#39;t try because actually id value is setting from database.  But  ```blogPost.getId().intValue()``` worked for me. Thanks.","body":"@MetinBulak I can&#39;t try because actually id value is setting from database.  But  <code>blogPost.getId().intValue()</code> worked for me. Thanks."}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637964319,"creation_date":1637964319,"question_id":70130446,"body_markdown":"I am checking id after save process but it&#39;s giving error like that:\r\n\r\n    java.lang.AssertionError: JSON path &quot;$.id&quot;\r\n    Expected: is &lt;1L&gt;\r\n         but: was &lt;1&gt;\r\n    &lt;Click to see difference&gt;\r\n\r\nI think error is because of Long and int comparison. I tried to convert int to long but I couldn&#39;t solve.\r\n\r\n\r\nSo here is my code:\r\n\r\n \r\n\r\n    @Test\r\n        public void testGetBlogPostById_whenBlogPostIdExist_shouldReturnBlogPostDto() throws Exception {\r\n            BlogPost blogPost = generateBlogPost(1L, &quot;postName&quot;);\r\n            blogPost = blogPostRepository.save(blogPost);\r\n    \r\n            this.mockMvc.perform(get(baseUrl + &quot;/post/&quot; + blogPost.getId())\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().is2xxSuccessful())\r\n                    .andExpect(jsonPath(&quot;$.id&quot;, is(blogPost.getId())));\r\n        }\r\n\r\n","title":"spring boot integration test check Long id","body":"<p>I am checking id after save process but it's giving error like that:</p>\n<pre><code>java.lang.AssertionError: JSON path &quot;$.id&quot;\nExpected: is &lt;1L&gt;\n     but: was &lt;1&gt;\n&lt;Click to see difference&gt;\n</code></pre>\n<p>I think error is because of Long and int comparison. I tried to convert int to long but I couldn't solve.</p>\n<p>So here is my code:</p>\n<pre><code>@Test\n    public void testGetBlogPostById_whenBlogPostIdExist_shouldReturnBlogPostDto() throws Exception {\n        BlogPost blogPost = generateBlogPost(1L, &quot;postName&quot;);\n        blogPost = blogPostRepository.save(blogPost);\n\n        this.mockMvc.perform(get(baseUrl + &quot;/post/&quot; + blogPost.getId())\n                .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(jsonPath(&quot;$.id&quot;, is(blogPost.getId())));\n    }\n</code></pre>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637959808,"post_id":70129888,"comment_id":123969685,"body_markdown":"By using `add` method of a List","body":"By using <code>add</code> method of a List"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1637959926,"post_id":70129888,"comment_id":123969711,"body_markdown":"Of course the `inputList` has an `add` method. But maybe you mean something different as you talk about adding a &quot;character&quot; to a list of `String`s?","body":"Of course the <code>inputList</code> has an <code>add</code> method. But maybe you mean something different as you talk about adding a &quot;character&quot; to a list of <code>String</code>s?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1637960003,"post_id":70129888,"comment_id":123969730,"body_markdown":"Because you get an immutable `List`? `List&lt;String&gt; inputList = new ArrayList&lt;&gt;(Arrays.asList(inputArr));`","body":"Because you get an immutable <code>List</code>? <code>List&lt;String&gt; inputList = new ArrayList&lt;&gt;(Arrays.asList(inputArr));</code>"},{"owner":{"account_id":9559434,"reputation":47,"user_id":7100827,"display_name":"ANewProgrammer"},"score":0,"creation_date":1637960068,"post_id":70129888,"comment_id":123969742,"body_markdown":"@floxbr I had wanted to add &quot;$&quot; to the end of the list, to signal my parser to stop at the end when it sees $","body":"@floxbr I had wanted to add &quot;$&quot; to the end of the list, to signal my parser to stop at the end when it sees $"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637960079,"post_id":70129888,"comment_id":123969743,"body_markdown":"@Ellio It&#39;s not an immutable list. It&#39;s normal ArrayList","body":"@Ellio It&#39;s not an immutable list. It&#39;s normal ArrayList"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1637960455,"post_id":70129888,"comment_id":123969842,"body_markdown":"Not quite: @ElliottFrisch is almost right in that the result of `Arrays.asList` in unmodifiable (not immutable, though). Therefore, you cannot actually append elements to it. You can e.g. create a new `ArrayList` from it in various ways (which you could then edit) or not even start with an array if you don&#39;t absolutely have to for some reason.","body":"Not quite: @ElliottFrisch is almost right in that the result of <code>Arrays.asList</code> in unmodifiable (not immutable, though). Therefore, you cannot actually append elements to it. You can e.g. create a new <code>ArrayList</code> from it in various ways (which you could then edit) or not even start with an array if you don&#39;t absolutely have to for some reason."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637963993,"creation_date":1637961074,"answer_id":70130075,"question_id":70129888,"body_markdown":"1. you have an array of `String` and convert it to `List` of `String` so you cannot add a `char` to it.\r\n\r\n2. When you do `Arrays.asList` you get `java.util.Arrays.ArrayList` (which is not a `java.util.ArrayList`). The former has not `add` function implemented, so you cannot add anything there.\r\n\r\n3. You can construct a &quot;normal&quot; list (`java.util.ArrayList`) using what you currently have as a constructor parameter.\r\n\r\n&gt; ***N.B.*** you won&#39;t be able to add a `char` but you can add a `String`\r\n\r\nSo that the final solution would be:\r\n\r\n```java\r\nString[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\r\nList&lt;String&gt; inputList = new ArrayList&lt;&gt;(Arrays.asList(inputArr));\r\ninputList.add(&quot;$&quot;);\r\n```\r\n\r\nProbably you want to achieve something like this:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass Main{\r\n\r\n    public static void main(String[] args) {\r\n        String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\r\n        InQueue inQueue = new InQueue(inputArr);\r\n        inQueue.printQueue();\r\n    }\r\n}\r\n\r\nclass InQueue {\r\n\r\n    List&lt;String&gt; tokens;\r\n\r\n    public InQueue(String[] input){\r\n        tokens = new ArrayList&lt;&gt;(Arrays.asList(input));\r\n        tokens.add(&quot;$&quot;);\r\n    }\r\n\r\n    public void printQueue(){\r\n        System.out.println(tokens);\r\n    }\r\n}\r\n```\r\n","title":"Adding an element to the end of a List in java","body":"<ol>\n<li><p>you have an array of <code>String</code> and convert it to <code>List</code> of <code>String</code> so you cannot add a <code>char</code> to it.</p>\n</li>\n<li><p>When you do <code>Arrays.asList</code> you get <code>java.util.Arrays.ArrayList</code> (which is not a <code>java.util.ArrayList</code>). The former has not <code>add</code> function implemented, so you cannot add anything there.</p>\n</li>\n<li><p>You can construct a &quot;normal&quot; list (<code>java.util.ArrayList</code>) using what you currently have as a constructor parameter.</p>\n</li>\n</ol>\n<blockquote>\n<p><em><strong>N.B.</strong></em> you won't be able to add a <code>char</code> but you can add a <code>String</code></p>\n</blockquote>\n<p>So that the final solution would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\nList&lt;String&gt; inputList = new ArrayList&lt;&gt;(Arrays.asList(inputArr));\ninputList.add(&quot;$&quot;);\n</code></pre>\n<p>Probably you want to achieve something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Main{\n\n    public static void main(String[] args) {\n        String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\n        InQueue inQueue = new InQueue(inputArr);\n        inQueue.printQueue();\n    }\n}\n\nclass InQueue {\n\n    List&lt;String&gt; tokens;\n\n    public InQueue(String[] input){\n        tokens = new ArrayList&lt;&gt;(Arrays.asList(input));\n        tokens.add(&quot;$&quot;);\n    }\n\n    public void printQueue(){\n        System.out.println(tokens);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9559434,"reputation":47,"user_id":7100827,"display_name":"ANewProgrammer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70130075,"answer_count":1,"score":-1,"last_activity_date":1637963993,"creation_date":1637959685,"question_id":70129888,"body_markdown":"I have this array that I converted into a list:\r\n\r\n    String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\r\n    List&lt;String&gt; inputList = Arrays.asList(inputArr);\r\n\r\nHow would I go about adding a character to the end of the list since there isn&#39;t a specific add function for Lists?\r\n\r\nEdit: Both my classes and code\r\n\r\n    import java.util.*;\r\n    public class Main{\r\n\r\n    public static void main(String[] args) {\r\n        String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\r\n        //InQueue inQueue = new InQueue(inputArr);\r\n        InQueue inQueue = new InQueue();\r\n\r\n    }\r\n    }\r\n\r\n    import java.util.*;\r\n\r\n    public class InQueue {\r\n        public static String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\r\n        public static List&lt;String&gt; inputList = Arrays.asList(inputArr);\r\n    }\r\n","title":"Adding an element to the end of a List in java","body":"<p>I have this array that I converted into a list:</p>\n<pre><code>String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\nList&lt;String&gt; inputList = Arrays.asList(inputArr);\n</code></pre>\n<p>How would I go about adding a character to the end of the list since there isn't a specific add function for Lists?</p>\n<p>Edit: Both my classes and code</p>\n<pre><code>import java.util.*;\npublic class Main{\n\npublic static void main(String[] args) {\n    String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\n    //InQueue inQueue = new InQueue(inputArr);\n    InQueue inQueue = new InQueue();\n\n}\n}\n\nimport java.util.*;\n\npublic class InQueue {\n    public static String[] inputArr = {&quot;id&quot;, &quot;+&quot;, &quot;id&quot;, &quot;*&quot;, &quot;id&quot;};\n    public static List&lt;String&gt; inputList = Arrays.asList(inputArr);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user3174746"},"score":3,"creation_date":1423615672,"post_id":28444662,"comment_id":45218871,"body_markdown":"What do you mean by, &quot;...im [sic] struggling to create strings...&quot;?","body":"What do you mean by, &quot;...im [sic] struggling to create strings...&quot;?"},{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":0,"creation_date":1423615819,"post_id":28444662,"comment_id":45218906,"body_markdown":"You are creating string with code `String str = new String(...)` or `String str = &quot;...&quot;`","body":"You are creating string with code <code>String str = new String(...)</code> or <code>String str = &quot;...&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":3175071,"reputation":20715,"user_id":2683146,"accept_rate":85,"display_name":"Jean-Fran&#231;ois Savard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1423615743,"creation_date":1423615743,"answer_id":28444701,"question_id":28444662,"body_markdown":"    return str1.to.LowerCase().compareTo(str2.toLowerCase()) &lt;0;\r\n\r\nReplace `str1.to.lowerCase()` the same way you did for `str2`... so `str1.toLowerCase()``\r\n\r\n    return str1.to.LowerCase().compareTo(Str2.toLowerCase()) &gt;0;\r\n\r\nReplace `Str2` with `str2`.. `Java` is case sensitive..\r\n\r\nThat should fix the issue I think you meant when saying &quot;*i can&#39;t get it to work*&quot;","title":"How do i output this correctly","body":"<pre><code>return str1.to.LowerCase().compareTo(str2.toLowerCase()) &lt;0;\n</code></pre>\n\n<p>Replace <code>str1.to.lowerCase()</code> the same way you did for <code>str2</code>... so `str1.toLowerCase()``</p>\n\n<pre><code>return str1.to.LowerCase().compareTo(Str2.toLowerCase()) &gt;0;\n</code></pre>\n\n<p>Replace <code>Str2</code> with <code>str2</code>.. <code>Java</code> is case sensitive..</p>\n\n<p>That should fix the issue I think you meant when saying \"<em>i can't get it to work</em>\"</p>\n"}],"owner":{"account_id":5735748,"reputation":43,"user_id":4529989,"accept_rate":50,"display_name":"Alamin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28444701,"answer_count":1,"score":-1,"last_activity_date":1637963926,"creation_date":1423615507,"question_id":28444662,"body_markdown":"So i managed to create this program but im struggling to  output the boolean lessThan and greatherThan. I tried to create the strings str1 and str2 and mess around with them but i can&#39;t get it to work. New to java, sorry!\r\n\r\n\r\n    public class Task2{\r\n    \t\r\n    \tpublic static void main (String args []){\r\n    \t\tString str = &quot;abccccc23&quot;;\r\n    \t\tstr  = pad (str, 10, &#39;*&#39;);\r\n    \t\tSystem.out.println(str);\r\n    \t\tSystem.out.println(str + &quot; {&quot; + timesCharOccures(str, &#39;*&#39;) + &quot;}&quot;);\r\n    \t\t//String str1 = &quot;aoallalaal&quot;;\r\n    \t\t//String str2 = &quot;bobob&quot;; \r\n    \t\t//System.out.println(&quot;lol&quot; + str1 + str2 );\r\n    }\r\n    \tpublic static String pad(String base, int n, char c){\r\n    \t\twhile (base.length()&lt;n ){\r\n    \t\t\tbase = base +c;\r\n    \t}\r\n    \treturn base;\r\n    \t}\r\n    \tpublic static int timesCharOccures(String str, char c){\r\n    \t\tint counter = 0;\r\n    \t\tfor( int i=0; i&lt;str.length(); i++ ) {\r\n    \t\t    if( str.charAt(i) == &#39;c&#39; ) {\r\n    \t\t        counter++;\t        \r\n    \t\t    } \t    \r\n    \t\t}\r\n    \t\treturn counter;\r\n    \t}\r\n    \tpublic static boolean lessThan(String str1, String str2){\r\n    \t\t{\r\n    \t\t\treturn str1.to.LowerCase().compareTo(str2.toLowerCase()) &lt;0;\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \tpublic static boolean greaterThan(String str1, String str2){\r\n    \t\t{\r\n    \t\t\treturn str1.to.LowerCase().compareTo(Str2.toLowerCase()) &gt;0;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How do i output this correctly","body":"<p>So i managed to create this program but im struggling to  output the boolean lessThan and greatherThan. I tried to create the strings str1 and str2 and mess around with them but i can't get it to work. New to java, sorry!</p>\n<pre><code>public class Task2{\n    \n    public static void main (String args []){\n        String str = &quot;abccccc23&quot;;\n        str  = pad (str, 10, '*');\n        System.out.println(str);\n        System.out.println(str + &quot; {&quot; + timesCharOccures(str, '*') + &quot;}&quot;);\n        //String str1 = &quot;aoallalaal&quot;;\n        //String str2 = &quot;bobob&quot;; \n        //System.out.println(&quot;lol&quot; + str1 + str2 );\n}\n    public static String pad(String base, int n, char c){\n        while (base.length()&lt;n ){\n            base = base +c;\n    }\n    return base;\n    }\n    public static int timesCharOccures(String str, char c){\n        int counter = 0;\n        for( int i=0; i&lt;str.length(); i++ ) {\n            if( str.charAt(i) == 'c' ) {\n                counter++;          \n            }       \n        }\n        return counter;\n    }\n    public static boolean lessThan(String str1, String str2){\n        {\n            return str1.to.LowerCase().compareTo(str2.toLowerCase()) &lt;0;\n            \n        }\n    }\n    public static boolean greaterThan(String str1, String str2){\n        {\n            return str1.to.LowerCase().compareTo(Str2.toLowerCase()) &gt;0;\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","glassfish"],"owner":{"account_id":2316543,"reputation":3271,"user_id":2502360,"accept_rate":60,"display_name":"Curtis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637963512,"creation_date":1637963512,"question_id":70130365,"body_markdown":"I am currently using a Glassfish 4 Server to host a web API. I have developed an angular front end that I want Glassfish to host.\r\n\r\nThe angular front end uses a javascript routing object which requires a server rewrite rule to work.\r\n\r\nThis is the current `web.config` file I am using with IIS to serve my angular code\r\n\r\n    &lt;configuration&gt;\r\n      &lt;system.webServer&gt;\r\n        &lt;rewrite&gt;\r\n          &lt;rules&gt;\r\n            &lt;rule name=&quot;Angular Routes&quot; stopProcessing=&quot;true&quot;&gt;\r\n              &lt;match url=&quot;.*&quot; /&gt;\r\n              &lt;conditions logicalGrouping=&quot;MatchAll&quot;&gt;\r\n                &lt;add input=&quot;{REQUEST_FILENAME}&quot; matchType=&quot;IsFile&quot; negate=&quot;true&quot; /&gt;\r\n                &lt;add input=&quot;{REQUEST_FILENAME}&quot; matchType=&quot;IsDirectory&quot; negate=&quot;true&quot; /&gt;\r\n              &lt;/conditions&gt;\r\n              &lt;action type=&quot;Rewrite&quot; url=&quot;/v1/&quot; /&gt;\r\n            &lt;/rule&gt;\r\n          &lt;/rules&gt;\r\n        &lt;/rewrite&gt;\r\n      &lt;/system.webServer&gt;\r\n    &lt;/configuration&gt;\r\n\r\nHow can I set up glassfish to do the same thing for the docroot web server?","title":"Glassfish docroot URL rewrite rule to support angular router","body":"<p>I am currently using a Glassfish 4 Server to host a web API. I have developed an angular front end that I want Glassfish to host.</p>\n<p>The angular front end uses a javascript routing object which requires a server rewrite rule to work.</p>\n<p>This is the current <code>web.config</code> file I am using with IIS to serve my angular code</p>\n<pre><code>&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;rewrite&gt;\n      &lt;rules&gt;\n        &lt;rule name=&quot;Angular Routes&quot; stopProcessing=&quot;true&quot;&gt;\n          &lt;match url=&quot;.*&quot; /&gt;\n          &lt;conditions logicalGrouping=&quot;MatchAll&quot;&gt;\n            &lt;add input=&quot;{REQUEST_FILENAME}&quot; matchType=&quot;IsFile&quot; negate=&quot;true&quot; /&gt;\n            &lt;add input=&quot;{REQUEST_FILENAME}&quot; matchType=&quot;IsDirectory&quot; negate=&quot;true&quot; /&gt;\n          &lt;/conditions&gt;\n          &lt;action type=&quot;Rewrite&quot; url=&quot;/v1/&quot; /&gt;\n        &lt;/rule&gt;\n      &lt;/rules&gt;\n    &lt;/rewrite&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>How can I set up glassfish to do the same thing for the docroot web server?</p>\n"},{"tags":["java","html","api","intellij-idea","web-applications"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":6,"creation_date":1637961399,"post_id":70130095,"comment_id":123970038,"body_markdown":"&quot;My question is very concise.&quot;.  No, it&#39;s actually hopelessly broad.  There are many, many alternatives.  There is no one, simple answer.  FIRST QUESTION: Are you accessing this API as a &quot;user&quot; (interactively), or as a &quot;back end service&quot;?  Who/what is the &quot;client&quot;?  NEXT QUESTION: are you familiar with (or are you willing to learn) frameworks like Spring Boot (if back-end)?  Choice of &quot;language&quot; (e.g. &quot;Java&quot;) should actually be one of your LAST questions...","body":"&quot;My question is very concise.&quot;.  No, it&#39;s actually hopelessly broad.  There are many, many alternatives.  There is no one, simple answer.  FIRST QUESTION: Are you accessing this API as a &quot;user&quot; (interactively), or as a &quot;back end service&quot;?  Who/what is the &quot;client&quot;?  NEXT QUESTION: are you familiar with (or are you willing to learn) frameworks like Spring Boot (if back-end)?  Choice of &quot;language&quot; (e.g. &quot;Java&quot;) should actually be one of your LAST questions..."},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637961463,"post_id":70130095,"comment_id":123970052,"body_markdown":"What do you mean by &quot;I have an API&quot; ? You need to provide details. API is just very general term without any correlation on how this API is provided.","body":"What do you mean by &quot;I have an API&quot; ? You need to provide details. API is just very general term without any correlation on how this API is provided."}],"answers":[{"tags":[],"owner":{"account_id":1007292,"reputation":166,"user_id":1020692,"display_name":"The Bartman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637962391,"creation_date":1637961942,"answer_id":70130183,"question_id":70130095,"body_markdown":"The API will most probably be a REST API. Have a look at https://restfulapi.net/ for background info.\r\n\r\nThe process of interacting with a REST API is called &quot;consuming&quot; the API. \r\n\r\nBasically you just launch a HTTP request to the API, and the result is a JSON data structure.\r\n\r\nThe details of the HTTP Requests (URL, HTTP methods to use, and data to send), and the JSON return format are documented by the API.\r\n\r\nAlthough it can be done without using any specific framework, it is probably easier with a framework like Spring.\r\n\r\nIf you know the basic concepts of Spring you could follow one of their guides about this topic: https://spring.io/guides/gs/consuming-rest/\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n","title":"How can I integrate an API from a website in Java?","body":"<p>The API will most probably be a REST API. Have a look at <a href=\"https://restfulapi.net/\" rel=\"nofollow noreferrer\">https://restfulapi.net/</a> for background info.</p>\n<p>The process of interacting with a REST API is called &quot;consuming&quot; the API.</p>\n<p>Basically you just launch a HTTP request to the API, and the result is a JSON data structure.</p>\n<p>The details of the HTTP Requests (URL, HTTP methods to use, and data to send), and the JSON return format are documented by the API.</p>\n<p>Although it can be done without using any specific framework, it is probably easier with a framework like Spring.</p>\n<p>If you know the basic concepts of Spring you could follow one of their guides about this topic: <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n"}],"owner":{"account_id":21534223,"reputation":13,"user_id":15873141,"display_name":"catalinarm1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1637965274,"answer_count":1,"score":-4,"last_activity_date":1637963435,"creation_date":1637961208,"question_id":70130095,"body_markdown":"My question is very concise. I have an API from RapidApi and I am looking to make a interactive Web Application. How can I integrate the API into Java in order to get access to all the methods that the API provides? Thank you.","title":"How can I integrate an API from a website in Java?","body":"<p>My question is very concise. I have an API from RapidApi and I am looking to make a interactive Web Application. How can I integrate the API into Java in order to get access to all the methods that the API provides? Thank you.</p>\n"},{"tags":["java","protocol-buffers","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637963309,"creation_date":1637963309,"answer_id":70130338,"question_id":70121156,"body_markdown":"The fact that it is registered in `SimpleFunctionRegistry.messageConverter` is enough. The `initDefaultConverters` is outdated functionality from the annotation-based support in s-c-stream and is not affecting you here (assuming you are using function-based programming model). \r\n\r\nAnyway, in the list of converters in  `SimpleFunctionRegistry` your converter should be the first one and should be the first one to be tried by [SmartCompositeMessageConverter](https://github.com/spring-cloud/spring-cloud-function/blob/main/spring-cloud-function-context/src/main/java/org/springframework/cloud/function/context/config/SmartCompositeMessageConverter.java).\r\nWhat I suspect is that something is wring with the implementation of your `ProtobufMessageConverter` since it does not respond to `application/x-protobuf;charset=UTF-8` content type when it test if this converter supports a particular message. But without seeing the implementation or having a reproducible sample it is hard to say what that may be. Perhaps you can create a bare minimum sample and push i to github somewhere so we can take a look?","title":"How to use org.springframework.messaging.converter.ProtobufMessageConverter","body":"<p>The fact that it is registered in <code>SimpleFunctionRegistry.messageConverter</code> is enough. The <code>initDefaultConverters</code> is outdated functionality from the annotation-based support in s-c-stream and is not affecting you here (assuming you are using function-based programming model).</p>\n<p>Anyway, in the list of converters in  <code>SimpleFunctionRegistry</code> your converter should be the first one and should be the first one to be tried by <a href=\"https://github.com/spring-cloud/spring-cloud-function/blob/main/spring-cloud-function-context/src/main/java/org/springframework/cloud/function/context/config/SmartCompositeMessageConverter.java\" rel=\"nofollow noreferrer\">SmartCompositeMessageConverter</a>.\nWhat I suspect is that something is wring with the implementation of your <code>ProtobufMessageConverter</code> since it does not respond to <code>application/x-protobuf;charset=UTF-8</code> content type when it test if this converter supports a particular message. But without seeing the implementation or having a reproducible sample it is hard to say what that may be. Perhaps you can create a bare minimum sample and push i to github somewhere so we can take a look?</p>\n"}],"owner":{"account_id":23459179,"reputation":3,"user_id":17514247,"display_name":"Cecil Wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70130338,"answer_count":1,"score":0,"last_activity_date":1637963309,"creation_date":1637913656,"question_id":70121156,"body_markdown":"I was trying to use Spring framework built-in ```ProtobufMessageConverter``` to convert my kafka message but I couldn&#39;t seem to find a way to have this converter being used.\r\n\r\nThe configuration of my binding is as the following:\r\n\r\n```spring.cloud.stream:\r\n  bindings:\r\n    input-in-0:\r\n      destination: test-input\r\n      group: test-group\r\n      content-type: application/x-protobuf;charset=UTF-8\r\n```\r\n\r\nWhen I use my custom message converter, I can see it registered in ```SimpleFunctionRegistry.messageConverter``` which is a list of customer converter and default ones. However, ```ProtobufMessageConverter``` doesn&#39;t seem to be included in default converters (they are registered in ```CompositeMessageConverterFactory.initDefaultConverters```) and also filtered out by ```ContentTypeConfiguration.isConverterEligible``` if I try to instantiate it manually.\r\n\r\nI checked the official document but it doesn&#39;t mention how to properly use the converter.I would be grateful if anyone can share your experience on how to use it.","title":"How to use org.springframework.messaging.converter.ProtobufMessageConverter","body":"<p>I was trying to use Spring framework built-in <code>ProtobufMessageConverter</code> to convert my kafka message but I couldn't seem to find a way to have this converter being used.</p>\n<p>The configuration of my binding is as the following:</p>\n<pre><code>  bindings:\n    input-in-0:\n      destination: test-input\n      group: test-group\n      content-type: application/x-protobuf;charset=UTF-8\n</code></pre>\n<p>When I use my custom message converter, I can see it registered in <code>SimpleFunctionRegistry.messageConverter</code> which is a list of customer converter and default ones. However, <code>ProtobufMessageConverter</code> doesn't seem to be included in default converters (they are registered in <code>CompositeMessageConverterFactory.initDefaultConverters</code>) and also filtered out by <code>ContentTypeConfiguration.isConverterEligible</code> if I try to instantiate it manually.</p>\n<p>I checked the official document but it doesn't mention how to properly use the converter.I would be grateful if anyone can share your experience on how to use it.</p>\n"},{"tags":["java","android","android-glide"],"answers":[{"tags":[],"owner":{"account_id":15820995,"reputation":155,"user_id":11415346,"display_name":"Miftah Classifieds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637962945,"creation_date":1637962945,"answer_id":70130294,"question_id":66849579,"body_markdown":"I think I have the same issue. by reading your request I suppose that the problem is with &quot;this&quot; because it refers to the listener and not to the activity.so  you should put MainActivity.this instead if your code is inside MainActivity hope this helps","title":"RequestManagerRetriever Error in bumptech.glide","body":"<p>I think I have the same issue. by reading your request I suppose that the problem is with &quot;this&quot; because it refers to the listener and not to the activity.so  you should put MainActivity.this instead if your code is inside MainActivity hope this helps</p>\n"}],"owner":{"account_id":5574637,"reputation":1759,"user_id":4418481,"accept_rate":55,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637962945,"creation_date":1616999341,"question_id":66849579,"body_markdown":"I recently upgraded the Glide package to 4.12.0 and I get the following error in one of my activities:\r\n\r\n\r\n    Fatal Exception: java.lang.IllegalArgumentException\r\n    You cannot start a load for a destroyed activity\r\n\r\n    com.bumptech.glide.manager.RequestManagerRetriever.assertNotDestroyed (RequestManagerRetriever.java:13)\r\n\r\nFrom what I read it could be from the way I call `glide.with()` so I updated it according to what I saw (in this [link][1]) like this:\r\n\r\n    Glide.with( this )\r\n\r\nHowever, it still crashes.\r\n\r\nIt crashes inside a firestore `.addOnCompleteListener`. Like this:\r\n\r\n    db.collection( &quot;Items&quot; ).whereEqualTo( &quot;visibility&quot;, true ).orderBy( &quot;dateCreated&quot;, Query.Direction.DESCENDING ).limit( AppConstants.QUERY_SIZE ).get()\r\n            .addOnCompleteListener( task -&gt; {\r\n                if (task.isSuccessful()) {\r\n\r\n                    ItemAdapter = new ItemsAdapter( Glide.with( this ) );\r\n                    ItemAdapter.notifyDataSetChanged();\r\n                    rv_Items.setAdapter( ItemAdapter );\r\n\r\n                }\r\n            } );\r\n\r\nShould it be something else than `this` in this case?\r\n\r\nThank you\r\n\r\n  [1]: https://stackoverflow.com/questions/39093730/you-cannot-start-a-load-for-a-destroyed-activity-in-relativelayout-image-using-g","title":"RequestManagerRetriever Error in bumptech.glide","body":"<p>I recently upgraded the Glide package to 4.12.0 and I get the following error in one of my activities:</p>\n<pre><code>Fatal Exception: java.lang.IllegalArgumentException\nYou cannot start a load for a destroyed activity\n\ncom.bumptech.glide.manager.RequestManagerRetriever.assertNotDestroyed (RequestManagerRetriever.java:13)\n</code></pre>\n<p>From what I read it could be from the way I call <code>glide.with()</code> so I updated it according to what I saw (in this <a href=\"https://stackoverflow.com/questions/39093730/you-cannot-start-a-load-for-a-destroyed-activity-in-relativelayout-image-using-g\">link</a>) like this:</p>\n<pre><code>Glide.with( this )\n</code></pre>\n<p>However, it still crashes.</p>\n<p>It crashes inside a firestore <code>.addOnCompleteListener</code>. Like this:</p>\n<pre><code>db.collection( &quot;Items&quot; ).whereEqualTo( &quot;visibility&quot;, true ).orderBy( &quot;dateCreated&quot;, Query.Direction.DESCENDING ).limit( AppConstants.QUERY_SIZE ).get()\n        .addOnCompleteListener( task -&gt; {\n            if (task.isSuccessful()) {\n\n                ItemAdapter = new ItemsAdapter( Glide.with( this ) );\n                ItemAdapter.notifyDataSetChanged();\n                rv_Items.setAdapter( ItemAdapter );\n\n            }\n        } );\n</code></pre>\n<p>Should it be something else than <code>this</code> in this case?</p>\n<p>Thank you</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637958678,"creation_date":1637957998,"answer_id":70129671,"question_id":70129576,"body_markdown":"The problem is that your `Inventory` points to `Branch` and your `Branch` has a reference to `Inventory`. The problem is coming from Jackson, you need to explain it how to follow these references that form a circular dependency.\r\n\r\n**Option 1)**\r\n\r\n Don&#39;t use Entities for serialization. Normally you don&#39;t want to expose the DB entities - these should be internal objects. If you map them to some DTO representation and serialize that the problem will disappear.\r\n\r\n**Option 2)** \r\n\r\n Explain to Jackson how to follow those references - you need to look at [`JsonManagedReference`][1] and [`JsonBackReference`][2].\r\n\r\n\r\nIn your case you need to try something like (but also check number 7 in this [blogpost][3]):\r\n\r\n\r\n    @Entity(name=&quot;Inventory&quot;)\r\n    @Table(name = &quot;tblBookCopies&quot;)\r\n    public class Inventory {\r\n        ... \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;branch_id&quot;)\r\n        @JsonManagedReference // &lt;-------- THIS\r\n        private Branch branch;\r\n        ...\r\n    }\r\n\r\nand\r\n\r\n    @Entity(name=&quot;Branch&quot;)\r\n    @Table(name=&quot;tblLibraryBranch&quot;)\r\n    public class Branch {\r\n        ...\r\n        @OneToMany(mappedBy = &quot;branch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @JsonBackReference // &lt;--------- THIS\r\n        private Set&lt;Inventory&gt; inventory = new HashSet&lt;&gt;();\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonManagedReference.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonBackReference.html\r\n  [3]: http://www.cowtowncoder.com/blog/archives/2010/11/entry_434.html","title":"JPA Hibernate many to many IllegalStateException","body":"<p>The problem is that your <code>Inventory</code> points to <code>Branch</code> and your <code>Branch</code> has a reference to <code>Inventory</code>. The problem is coming from Jackson, you need to explain it how to follow these references that form a circular dependency.</p>\n<p><strong>Option 1)</strong></p>\n<p>Don't use Entities for serialization. Normally you don't want to expose the DB entities - these should be internal objects. If you map them to some DTO representation and serialize that the problem will disappear.</p>\n<p><strong>Option 2)</strong></p>\n<p>Explain to Jackson how to follow those references - you need to look at <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonManagedReference.html\" rel=\"nofollow noreferrer\"><code>JsonManagedReference</code></a> and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonBackReference.html\" rel=\"nofollow noreferrer\"><code>JsonBackReference</code></a>.</p>\n<p>In your case you need to try something like (but also check number 7 in this <a href=\"http://www.cowtowncoder.com/blog/archives/2010/11/entry_434.html\" rel=\"nofollow noreferrer\">blogpost</a>):</p>\n<pre><code>@Entity(name=&quot;Inventory&quot;)\n@Table(name = &quot;tblBookCopies&quot;)\npublic class Inventory {\n    ... \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;branch_id&quot;)\n    @JsonManagedReference // &lt;-------- THIS\n    private Branch branch;\n    ...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity(name=&quot;Branch&quot;)\n@Table(name=&quot;tblLibraryBranch&quot;)\npublic class Branch {\n    ...\n    @OneToMany(mappedBy = &quot;branch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JsonBackReference // &lt;--------- THIS\n    private Set&lt;Inventory&gt; inventory = new HashSet&lt;&gt;();\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":7356285,"reputation":1027,"user_id":5600930,"accept_rate":56,"display_name":"Mint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70129671,"answer_count":1,"score":0,"last_activity_date":1637962239,"creation_date":1637957306,"question_id":70129576,"body_markdown":"I&#39;m attempting to create a many to many relationship. I have a table &#39;library_branch&#39; and i want to join &#39;BookCopies&#39; which contains &#39;bookId&#39;, &#39;branchId&#39; and &#39;noOfCopies&#39;. I have an error `ErrorMvcAutoConfiguration$StaticView`. I&#39;m not sure where I&#39;m causing this infinite recursion, any help will be greatly appreciated.\r\n\r\n`2021-11-26 14:54:43.544 ERROR 22348 --- [nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/api/branch] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: com.example.demo.branch.Branch[&quot;inventory&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.example.demo.inventory.Inventory[&quot;branch&quot;]-&gt;com.example.demo.branch.Branch[&quot;inventory&quot;]`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInventoryId.java\r\n\r\n    package com.example.demo.inventory;\r\n    \r\n    ...\r\n    \r\n    @Data @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Embeddable\r\n    public class InventoryId implements Serializable {\r\n    \r\n        @Column(name = &quot;book_id&quot;)\r\n        private int bookId;\r\n    \r\n        @Column(name = &quot;branch_id&quot;)\r\n        private int branchId;\r\n    \r\n    }\r\n\r\nInventory.java\r\n\r\n    package com.example.demo.inventory;\r\n    \r\n    ...\r\n    \r\n    @Entity(name=&quot;Inventory&quot;)\r\n    @Table(name = &quot;tblBookCopies&quot;)\r\n    public class Inventory {\r\n        @EmbeddedId\r\n        private InventoryId id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;branch_id&quot;)\r\n        private Branch branch;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;book_id&quot;)\r\n        private Book book;\r\n    \r\n        @Column(name=&quot;no_of_copies&quot;)\r\n        private int qty;\r\n    \r\n        public Inventory( Branch branch, Book book, int qty) {\r\n            this.id = new InventoryId(branch.getId(),book.getId());\r\n            this.branch = branch;\r\n            this.book = book;\r\n            this.qty = qty;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nBranch.java\r\n\r\n    package com.example.demo.branch;\r\n    \r\n    ...\r\n    \r\n    @Entity(name=&quot;Branch&quot;)\r\n    @Table(name=&quot;tblLibraryBranch&quot;)\r\n    public class Branch {\r\n    \r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private int id;\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n        @Column(name=&quot;address&quot;)\r\n        private String address;\r\n        @OneToMany(mappedBy = &quot;branch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;Inventory&gt; inventory = new HashSet&lt;&gt;();\r\n    \r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WsImp.png","title":"JPA Hibernate many to many IllegalStateException","body":"<p>I'm attempting to create a many to many relationship. I have a table 'library_branch' and i want to join 'BookCopies' which contains 'bookId', 'branchId' and 'noOfCopies'. I have an error <code>ErrorMvcAutoConfiguration$StaticView</code>. I'm not sure where I'm causing this infinite recursion, any help will be greatly appreciated.</p>\n<p><code>2021-11-26 14:54:43.544 ERROR 22348 --- [nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/api/branch] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: com.example.demo.branch.Branch[&quot;inventory&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;com.example.demo.inventory.Inventory[&quot;branch&quot;]-&gt;com.example.demo.branch.Branch[&quot;inventory&quot;]</code></p>\n<p><a href=\"https://i.stack.imgur.com/WsImp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WsImp.png\" alt=\"enter image description here\" /></a></p>\n<p>InventoryId.java</p>\n<pre><code>package com.example.demo.inventory;\n\n...\n\n@Data @AllArgsConstructor\n@NoArgsConstructor\n@Embeddable\npublic class InventoryId implements Serializable {\n\n    @Column(name = &quot;book_id&quot;)\n    private int bookId;\n\n    @Column(name = &quot;branch_id&quot;)\n    private int branchId;\n\n}\n</code></pre>\n<p>Inventory.java</p>\n<pre><code>package com.example.demo.inventory;\n\n...\n\n@Entity(name=&quot;Inventory&quot;)\n@Table(name = &quot;tblBookCopies&quot;)\npublic class Inventory {\n    @EmbeddedId\n    private InventoryId id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;branch_id&quot;)\n    private Branch branch;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;book_id&quot;)\n    private Book book;\n\n    @Column(name=&quot;no_of_copies&quot;)\n    private int qty;\n\n    public Inventory( Branch branch, Book book, int qty) {\n        this.id = new InventoryId(branch.getId(),book.getId());\n        this.branch = branch;\n        this.book = book;\n        this.qty = qty;\n    }\n\n    ...\n}\n</code></pre>\n<p>Branch.java</p>\n<pre><code>package com.example.demo.branch;\n\n...\n\n@Entity(name=&quot;Branch&quot;)\n@Table(name=&quot;tblLibraryBranch&quot;)\npublic class Branch {\n\n    @Id\n    @Column(name=&quot;id&quot;)\n    private int id;\n    @Column(name=&quot;name&quot;)\n    private String name;\n    @Column(name=&quot;address&quot;)\n    private String address;\n    @OneToMany(mappedBy = &quot;branch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Inventory&gt; inventory = new HashSet&lt;&gt;();\n\n    ...\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1637957671,"post_id":70129554,"comment_id":123969231,"body_markdown":"The array would be created where you declared your `countX` variables since it&#39;s going to substitute them. And the counter to increment would be `count[line.charAt(i) - &#39;0&#39;]`","body":"The array would be created where you declared your <code>countX</code> variables since it&#39;s going to substitute them. And the counter to increment would be <code>count[line.charAt(i) - &#39;0&#39;]</code>"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637957845,"post_id":70129554,"comment_id":123969278,"body_markdown":"I&#39;d suggest following: 1) Improve digit detection (check ascii table for value of digits 0-9), 2) use `int[]` or size 10 ( to track count of all digits) 3) when you detected a digit (from point 1) increment corresponding element of array by 1.","body":"I&#39;d suggest following: 1) Improve digit detection (check ascii table for value of digits 0-9), 2) use <code>int[]</code> or size 10 ( to track count of all digits) 3) when you detected a digit (from point 1) increment corresponding element of array by 1."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1637958867,"post_id":70129554,"comment_id":123969508,"body_markdown":"The cleanest solution I can think of is to use a `Map&lt;Character, Integer&gt;`, filter each line&#39;s character using `if(Character.isDigit(line.charAt(i))`, then merge into the map matching chars: `counts.merge(line.charAt(i), 1, (a, b) -&gt; a + b);`. You may need a special loop to print values in that order: `for (char c = &#39;0&#39;; c &lt;= &#39;9&#39;; c++) System.out.println(c + &quot;  &quot; + counts.get(c));`","body":"The cleanest solution I can think of is to use a <code>Map&lt;Character, Integer&gt;</code>, filter each line&#39;s character using <code>if(Character.isDigit(line.charAt(i))</code>, then merge into the map matching chars: <code>counts.merge(line.charAt(i), 1, (a, b) -&gt; a + b);</code>. You may need a special loop to print values in that order: <code>for (char c = &#39;0&#39;; c &lt;= &#39;9&#39;; c++) System.out.println(c + &quot;  &quot; + counts.get(c));</code>"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637959609,"creation_date":1637958469,"answer_id":70129734,"question_id":70129554,"body_markdown":"As you stated, you could use arrays.\r\n\r\nI would suggest 2 arrays\r\n\r\n - One to hold the digits to catch\r\n - Second one for the counts\r\n\r\nInitialization of the arrays\r\n\r\n```java\r\nchar[] numbers = new char[10];\r\n\r\n//initialize of numbers(char) to count\r\nfor(int i = 0; i &lt; numbers.length; i++) {\r\n  numbers[i] = (char) (&#39;0&#39; + i);\r\n}\r\n\r\nint[] counts = new int[10]; //no initialization needed because int is default 0\r\n```\r\nIn the `for`-loop where you iterate over the line, add a nested for loop, that iterates over the `numbers`-array. Here is the whole `while` loop:\r\n\r\n```java\r\nwhile (inFile.hasNextLine()) {\r\n  String line = inFile.nextLine();\r\n  for (int i = 0; i &lt; line.length(); i++) {\r\n    for(int j = 0; j &lt; numbers.length; j++) {\r\n      if(line.charAt(i) == numbers[j]) {\r\n        counts[j]++;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nFor the output just use another for over the arrays:\r\n```java\r\nfor(int i = 0; i &lt; numbers.length; i++) {\r\n  System.out.println(&quot;         &quot;+ numbers[i] +&quot;      &quot; + counts[i]);\r\n}\r\n```\r\n**Edit: Another solution using a Map**\r\n\r\n```java\r\n\r\n//...\r\n\r\nMap&lt;Character, Integer&gt; charCounts = new HashMap&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 10; i++) {\r\n  charCounts.put((char) (&#39;0&#39; + i), 0);\r\n}\r\n\r\nwhile (inFile.hasNextLine()) {\r\n  String line = inFile.nextLine();\r\n  for (int i = 0; i &lt; line.length(); i++) {\r\n    charCounts.computeIfPresent(line.charAt(i), (key, val) -&gt; val + 1);\r\n  }\r\n}\r\n\r\n//...\r\n\r\nfor (Character number : charCounts.keySet()) {\r\n  System.out.println(&quot;         &quot; + number + &quot;      &quot; + charCounts.get(number));\r\n}\r\n```\r\nWith this solution you can easily extend your program to count any occuring character. Just remove the initialization of the map and add this line below the `computeIfPresent`.\r\n```java\r\ncharCounts.putIfAbsent(line.charAt(i), 1);\r\n```","title":"Can this lengthy if-else Java code be improved by using arrays?","body":"<p>As you stated, you could use arrays.</p>\n<p>I would suggest 2 arrays</p>\n<ul>\n<li>One to hold the digits to catch</li>\n<li>Second one for the counts</li>\n</ul>\n<p>Initialization of the arrays</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] numbers = new char[10];\n\n//initialize of numbers(char) to count\nfor(int i = 0; i &lt; numbers.length; i++) {\n  numbers[i] = (char) ('0' + i);\n}\n\nint[] counts = new int[10]; //no initialization needed because int is default 0\n</code></pre>\n<p>In the <code>for</code>-loop where you iterate over the line, add a nested for loop, that iterates over the <code>numbers</code>-array. Here is the whole <code>while</code> loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (inFile.hasNextLine()) {\n  String line = inFile.nextLine();\n  for (int i = 0; i &lt; line.length(); i++) {\n    for(int j = 0; j &lt; numbers.length; j++) {\n      if(line.charAt(i) == numbers[j]) {\n        counts[j]++;\n      }\n    }\n  }\n}\n</code></pre>\n<p>For the output just use another for over the arrays:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; numbers.length; i++) {\n  System.out.println(&quot;         &quot;+ numbers[i] +&quot;      &quot; + counts[i]);\n}\n</code></pre>\n<p><strong>Edit: Another solution using a Map</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//...\n\nMap&lt;Character, Integer&gt; charCounts = new HashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; 10; i++) {\n  charCounts.put((char) ('0' + i), 0);\n}\n\nwhile (inFile.hasNextLine()) {\n  String line = inFile.nextLine();\n  for (int i = 0; i &lt; line.length(); i++) {\n    charCounts.computeIfPresent(line.charAt(i), (key, val) -&gt; val + 1);\n  }\n}\n\n//...\n\nfor (Character number : charCounts.keySet()) {\n  System.out.println(&quot;         &quot; + number + &quot;      &quot; + charCounts.get(number));\n}\n</code></pre>\n<p>With this solution you can easily extend your program to count any occuring character. Just remove the initialization of the map and add this line below the <code>computeIfPresent</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>charCounts.putIfAbsent(line.charAt(i), 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8210940,"reputation":109,"user_id":6179098,"display_name":"Walisson Cardoso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637958695,"creation_date":1637958695,"answer_id":70129752,"question_id":70129554,"body_markdown":"You can use a single array for this and index notation. Each array index should hold the quantity of digits. Much more clear.\r\n\r\n```\r\nimport java.io.FileReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n    \r\npublic class Homework4A {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter name of the input file: &quot;);\r\n        String fileName = scan.next();\r\n        try (Scanner inFile = new Scanner(new FileReader(fileName))) {\r\n            \r\n            int[] count = new int[10];\r\n            \r\n            while (inFile.hasNextLine()) {\r\n                String line = inFile.nextLine();\r\n                for (int i = 0; i &lt; line.length(); i++) {\r\n                    try {\r\n                        int c = Character.getNumericValue(line.charAt(i));\r\n                        count[c] += 1;\r\n                    } catch (Exception e) { }\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\r\n            System.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\r\n            System.out.println(&quot;        -----------&quot;);\r\n            System.out.println(&quot;        type  count&quot;);\r\n            System.out.println(&quot;        -----------&quot;);\r\n            for (int i = 0; i &lt; 10; i++)\r\n                System.out.println(&quot;         &quot; + i + &quot;      &quot; + count[i]);\r\n            System.out.println(&quot;        -----------&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Can this lengthy if-else Java code be improved by using arrays?","body":"<p>You can use a single array for this and index notation. Each array index should hold the quantity of digits. Much more clear.</p>\n<pre><code>import java.io.FileReader;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n    \npublic class Homework4A {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter name of the input file: &quot;);\n        String fileName = scan.next();\n        try (Scanner inFile = new Scanner(new FileReader(fileName))) {\n            \n            int[] count = new int[10];\n            \n            while (inFile.hasNextLine()) {\n                String line = inFile.nextLine();\n                for (int i = 0; i &lt; line.length(); i++) {\n                    try {\n                        int c = Character.getNumericValue(line.charAt(i));\n                        count[c] += 1;\n                    } catch (Exception e) { }\n                }\n            }\n            \n            System.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\n            System.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\n            System.out.println(&quot;        -----------&quot;);\n            System.out.println(&quot;        type  count&quot;);\n            System.out.println(&quot;        -----------&quot;);\n            for (int i = 0; i &lt; 10; i++)\n                System.out.println(&quot;         &quot; + i + &quot;      &quot; + count[i]);\n            System.out.println(&quot;        -----------&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637958801,"creation_date":1637958801,"answer_id":70129771,"question_id":70129554,"body_markdown":"Yes. I would say it can be simplified a great deal with an array. You don&#39;t need seperate sentinels for the values, you can check they are in range and then use `Character.digit` to parse them. Something like,\r\n\r\n\tScanner scan = new Scanner(System.in);\r\n\tSystem.out.print(&quot;Enter name of the input file: &quot;);\r\n\tString fileName = scan.next();\r\n\ttry (Scanner inFile = new Scanner(new FileReader(fileName))) {\r\n\t\tint[] count = new int[10];\r\n\t\twhile (inFile.hasNextLine()) {\r\n\t\t\tString line = inFile.nextLine();\r\n\t\t\tfor (int i = 0; i &lt; line.length(); i++) {\r\n\t\t\t\tif (line.charAt(i) &gt;= &#39;0&#39; &amp;&amp; line.charAt(i) &lt;= &#39;9&#39;) {\r\n\t\t\t\t\tcount[Character.digit(line.charAt(i), 10)]++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\r\n\t\tSystem.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\r\n\t\tSystem.out.println(&quot;        -----------&quot;);\r\n\t\tSystem.out.println(&quot;        type  count&quot;);\r\n\t\tSystem.out.println(&quot;        -----------&quot;);\r\n\t\tfor (int i = 0; i &lt; count.length; i++) {\r\n\t\t\tSystem.out.printf(&quot;         %d      %d%n&quot;, i, count[i]);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;        -----------&quot;);\r\n\t}\r\n\r\n","title":"Can this lengthy if-else Java code be improved by using arrays?","body":"<p>Yes. I would say it can be simplified a great deal with an array. You don't need seperate sentinels for the values, you can check they are in range and then use <code>Character.digit</code> to parse them. Something like,</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nSystem.out.print(&quot;Enter name of the input file: &quot;);\nString fileName = scan.next();\ntry (Scanner inFile = new Scanner(new FileReader(fileName))) {\n    int[] count = new int[10];\n    while (inFile.hasNextLine()) {\n        String line = inFile.nextLine();\n        for (int i = 0; i &lt; line.length(); i++) {\n            if (line.charAt(i) &gt;= '0' &amp;&amp; line.charAt(i) &lt;= '9') {\n                count[Character.digit(line.charAt(i), 10)]++;\n            }\n        }\n    }\n    System.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\n    System.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\n    System.out.println(&quot;        -----------&quot;);\n    System.out.println(&quot;        type  count&quot;);\n    System.out.println(&quot;        -----------&quot;);\n    for (int i = 0; i &lt; count.length; i++) {\n        System.out.printf(&quot;         %d      %d%n&quot;, i, count[i]);\n    }\n    System.out.println(&quot;        -----------&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637962067,"creation_date":1637962067,"answer_id":70130200,"question_id":70129554,"body_markdown":"With Java 8 you can use `Files.lines` to get a `Stream` of all the lines in a file. \r\nThen you can transform the stream to a stream over every `char` using `flatMap` and in the end collect it to a map that has the `Character` as key and the count of the character as value.\r\n\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName)) {\r\n        Map&lt;Character, Long&gt; charCountMap = stream\r\n            .flatMap(line -&gt; line.chars().mapToObj(c -&gt; (char) c))\r\n            .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting()));\r\n        System.out.println(&quot;         0      &quot; + charCountMap.getOrDefault(&#39;0&#39;, 0));\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nProbably the way I would do it in a real world scenario, because it&#39;s short, but just for practice the other answers are better.","title":"Can this lengthy if-else Java code be improved by using arrays?","body":"<p>With Java 8 you can use <code>Files.lines</code> to get a <code>Stream</code> of all the lines in a file.\nThen you can transform the stream to a stream over every <code>char</code> using <code>flatMap</code> and in the end collect it to a map that has the <code>Character</code> as key and the count of the character as value.</p>\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName)) {\n    Map&lt;Character, Long&gt; charCountMap = stream\n        .flatMap(line -&gt; line.chars().mapToObj(c -&gt; (char) c))\n        .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting()));\n    System.out.println(&quot;         0      &quot; + charCountMap.getOrDefault('0', 0));\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Probably the way I would do it in a real world scenario, because it's short, but just for practice the other answers are better.</p>\n"}],"owner":{"account_id":23464847,"reputation":53,"user_id":17519219,"display_name":"eeck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70129734,"answer_count":4,"score":5,"last_activity_date":1637962067,"creation_date":1637957193,"question_id":70129554,"body_markdown":"I&#39;m trying to simplify this Java code by adding arrays, but I&#39;m having difficulty.\r\n\r\nThe code that I have so far that works:\r\n\r\n```\r\nimport java.io.FileReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n    \r\npublic class Homework4A {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter name of the input file: &quot;);\r\n        String fileName = scan.next();\r\n        try (Scanner inFile = new Scanner(new FileReader(fileName))) {\r\n            char number0 = &#39;0&#39;;\r\n            char number1 = &#39;1&#39;;\r\n            char number2 = &#39;2&#39;;\r\n            char number3 = &#39;3&#39;;\r\n            char number4 = &#39;4&#39;;\r\n            char number5 = &#39;5&#39;;\r\n            char number6 = &#39;6&#39;;\r\n            char number7 = &#39;7&#39;;\r\n            char number8 = &#39;8&#39;;\r\n            char number9 = &#39;9&#39;;\r\n            int count0 = 0;\r\n            int count1 = 0;\r\n            int count2 = 0;\r\n            int count3 = 0;\r\n            int count4 = 0;\r\n            int count5 = 0;\r\n            int count6 = 0;\r\n            int count7 = 0;\r\n            int count8 = 0;\r\n            int count9 = 0;\r\n            \r\n            while (inFile.hasNextLine()) {\r\n                String line = inFile.nextLine();\r\n                for (int i = 0; i &lt; line.length(); i++) {\r\n                    if (line.charAt(i) == number0) {\r\n                        count0++;\r\n                    }\r\n                    else if (line.charAt(i) == number1) {\r\n                        count1++;\r\n                    }\r\n                    else if (line.charAt(i) == number2) {\r\n                        count2++;\r\n                    }\r\n                    else if (line.charAt(i) == number3) {\r\n                        count3++;\r\n                    }\r\n                    else if (line.charAt(i) == number4) {\r\n                        count4++;\r\n                    }\r\n                    else if (line.charAt(i) == number5) {\r\n                        count5++;\r\n                    }\r\n                    else if (line.charAt(i) == number6) {\r\n                        count6++;\r\n                    }\r\n                    else if (line.charAt(i) == number7) {\r\n                        count7++;\r\n                    }\r\n                    else if (line.charAt(i) == number8) {\r\n                        count8++;\r\n                    }\r\n                    else if (line.charAt(i) == number9) {\r\n                        count9++;\r\n                    }\r\n                    \r\n                }\r\n                \r\n            }\r\n            \r\n            System.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\r\n            System.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\r\n            System.out.println(&quot;        -----------&quot;);\r\n            System.out.println(&quot;        type  count&quot;);\r\n            System.out.println(&quot;        -----------&quot;);\r\n            System.out.println(&quot;         0      &quot; + count0);\r\n            System.out.println(&quot;         1      &quot; + count1);\r\n            System.out.println(&quot;         2      &quot; + count2);\r\n            System.out.println(&quot;         3      &quot; + count3);\r\n            System.out.println(&quot;         4      &quot; + count4);\r\n            System.out.println(&quot;         5      &quot; + count5);\r\n            System.out.println(&quot;         6      &quot; + count6);\r\n            System.out.println(&quot;         7      &quot; + count7);\r\n            System.out.println(&quot;         8      &quot; + count8);\r\n            System.out.println(&quot;         9      &quot; + count9);\r\n            System.out.println(&quot;        -----------&quot;);\r\n        }\r\n\r\n    }\r\n    \r\n}\r\n```\r\nHowever, it&#39;s kind of a brute-force attack.  The spot of difficulty I&#39;m running into is figuring out where to create and pass arrays.  Since the code has to read the external file, should the arrays be created and passed in the while statement?\r\n\r\nFor further reference, the text file that is being read looks like this:\r\n\r\n[Thistle Map][1]\r\n\r\nThe goal is to count the occurrences of digits only.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gyv4A.png","title":"Can this lengthy if-else Java code be improved by using arrays?","body":"<p>I'm trying to simplify this Java code by adding arrays, but I'm having difficulty.</p>\n<p>The code that I have so far that works:</p>\n<pre><code>import java.io.FileReader;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n    \npublic class Homework4A {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter name of the input file: &quot;);\n        String fileName = scan.next();\n        try (Scanner inFile = new Scanner(new FileReader(fileName))) {\n            char number0 = '0';\n            char number1 = '1';\n            char number2 = '2';\n            char number3 = '3';\n            char number4 = '4';\n            char number5 = '5';\n            char number6 = '6';\n            char number7 = '7';\n            char number8 = '8';\n            char number9 = '9';\n            int count0 = 0;\n            int count1 = 0;\n            int count2 = 0;\n            int count3 = 0;\n            int count4 = 0;\n            int count5 = 0;\n            int count6 = 0;\n            int count7 = 0;\n            int count8 = 0;\n            int count9 = 0;\n            \n            while (inFile.hasNextLine()) {\n                String line = inFile.nextLine();\n                for (int i = 0; i &lt; line.length(); i++) {\n                    if (line.charAt(i) == number0) {\n                        count0++;\n                    }\n                    else if (line.charAt(i) == number1) {\n                        count1++;\n                    }\n                    else if (line.charAt(i) == number2) {\n                        count2++;\n                    }\n                    else if (line.charAt(i) == number3) {\n                        count3++;\n                    }\n                    else if (line.charAt(i) == number4) {\n                        count4++;\n                    }\n                    else if (line.charAt(i) == number5) {\n                        count5++;\n                    }\n                    else if (line.charAt(i) == number6) {\n                        count6++;\n                    }\n                    else if (line.charAt(i) == number7) {\n                        count7++;\n                    }\n                    else if (line.charAt(i) == number8) {\n                        count8++;\n                    }\n                    else if (line.charAt(i) == number9) {\n                        count9++;\n                    }\n                    \n                }\n                \n            }\n            \n            System.out.println(&quot;\\n-= Count of Thistles in  =-&quot;);\n            System.out.println(&quot;-= the Hundred Acre Wood =-\\n&quot;);\n            System.out.println(&quot;        -----------&quot;);\n            System.out.println(&quot;        type  count&quot;);\n            System.out.println(&quot;        -----------&quot;);\n            System.out.println(&quot;         0      &quot; + count0);\n            System.out.println(&quot;         1      &quot; + count1);\n            System.out.println(&quot;         2      &quot; + count2);\n            System.out.println(&quot;         3      &quot; + count3);\n            System.out.println(&quot;         4      &quot; + count4);\n            System.out.println(&quot;         5      &quot; + count5);\n            System.out.println(&quot;         6      &quot; + count6);\n            System.out.println(&quot;         7      &quot; + count7);\n            System.out.println(&quot;         8      &quot; + count8);\n            System.out.println(&quot;         9      &quot; + count9);\n            System.out.println(&quot;        -----------&quot;);\n        }\n\n    }\n    \n}\n</code></pre>\n<p>However, it's kind of a brute-force attack.  The spot of difficulty I'm running into is figuring out where to create and pass arrays.  Since the code has to read the external file, should the arrays be created and passed in the while statement?</p>\n<p>For further reference, the text file that is being read looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/gyv4A.png\" rel=\"noreferrer\">Thistle Map</a></p>\n<p>The goal is to count the occurrences of digits only.</p>\n"},{"tags":["java","javafx","clipboard","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407012476,"creation_date":1407012476,"answer_id":25099267,"question_id":25098813,"body_markdown":"No, there isn&#39;t a better way. There are no events sent round when the clipboard contents change (especially if it&#39;s from outside of the Java application) and so only a polling approach is appropriate.","title":"Listening on system clipboard using JavaFx","body":"<p>No, there isn't a better way. There are no events sent round when the clipboard contents change (especially if it's from outside of the Java application) and so only a polling approach is appropriate.</p>\n"},{"tags":[],"owner":{"account_id":6481377,"reputation":171,"user_id":5018249,"display_name":"Александр Савостьянов"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511949943,"creation_date":1511949943,"answer_id":47550034,"question_id":25098813,"body_markdown":"    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.Clipboard;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n    \r\n            final Clipboard systemClipboard = Clipboard.getSystemClipboard();\r\n    \r\n            new com.sun.glass.ui.ClipboardAssistance(com.sun.glass.ui.Clipboard.SYSTEM) {\r\n                @Override\r\n                public void contentChanged() {\r\n                    System.out.print(&quot;System clipboard content changed: &quot;);\r\n                    if ( systemClipboard.hasImage() ) {\r\n                        System.out.println(&quot;image&quot;);\r\n                    } else if ( systemClipboard.hasString() ) {\r\n                        System.out.println(&quot;string&quot;);\r\n                    } else if ( systemClipboard.hasFiles() ) {\r\n                        System.out.println(&quot;files&quot;);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            primaryStage.setScene(new Scene(new StackPane()));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    }\r\n\r\nTest:\r\n\r\n - Press key Print Screen\r\n - Ctrl+C for selected string\r\n - Ctrl+c for selected files","title":"Listening on system clipboard using JavaFx","body":"<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.input.Clipboard;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n        final Clipboard systemClipboard = Clipboard.getSystemClipboard();\n\n        new com.sun.glass.ui.ClipboardAssistance(com.sun.glass.ui.Clipboard.SYSTEM) {\n            @Override\n            public void contentChanged() {\n                System.out.print(\"System clipboard content changed: \");\n                if ( systemClipboard.hasImage() ) {\n                    System.out.println(\"image\");\n                } else if ( systemClipboard.hasString() ) {\n                    System.out.println(\"string\");\n                } else if ( systemClipboard.hasFiles() ) {\n                    System.out.println(\"files\");\n                }\n            }\n        };\n\n        primaryStage.setScene(new Scene(new StackPane()));\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n\n<p>Test:</p>\n\n<ul>\n<li>Press key Print Screen</li>\n<li>Ctrl+C for selected string</li>\n<li>Ctrl+c for selected files</li>\n</ul>\n"}],"owner":{"account_id":271602,"reputation":22478,"user_id":562222,"accept_rate":57,"display_name":"qed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1637961505,"creation_date":1407009177,"question_id":25098813,"body_markdown":"As stated in the answer to this question, one can setup a Timeline to check whether there is a change in the system clipboard:\r\n\r\nhttps://stackoverflow.com/questions/25082220/set-and-use-variables-outside-timeline-in-javafx-8\r\n\r\nBut is there a better way? For example, an event listener? I have searched JavaFx 8 doc and didn&#39;t find anything obviously helpful. \r\n\r\nSolutions using JavaFx is preferred, but all answers are welcome.","title":"Listening on system clipboard using JavaFx","body":"<p>As stated in the answer to this question, one can setup a Timeline to check whether there is a change in the system clipboard:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25082220/set-and-use-variables-outside-timeline-in-javafx-8\">Set and use variables outside timeline in javafx 8</a></p>\n\n<p>But is there a better way? For example, an event listener? I have searched JavaFx 8 doc and didn't find anything obviously helpful. </p>\n\n<p>Solutions using JavaFx is preferred, but all answers are welcome.</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1637960275,"post_id":70129929,"comment_id":123969799,"body_markdown":"The basic answer is, you don&#39;t.  And most certainly you don&#39;t try and do it the way you are.  Don&#39;t modify the state o the UI from within a paint pass (like adding buttons).  Why are you using AWT?  Why not Swing or event JavaFX?","body":"The basic answer is, you don&#39;t.  And most certainly you don&#39;t try and do it the way you are.  Don&#39;t modify the state o the UI from within a paint pass (like adding buttons).  Why are you using AWT?  Why not Swing or event JavaFX?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1637960359,"post_id":70129929,"comment_id":123969826,"body_markdown":"*Any remarks about how to make this code cleaner* 1) Don&#39;t use AWT. Instead use Swing or JavaFX. 2) If using Swing then read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). There are sections on `Custom Painting` and `How to Use Timers` which will help for animating your colors. 3) Don&#39;t create components in a painting method. The components should be created and added to the frame in the constructor of your class.","body":"<i>Any remarks about how to make this code cleaner</i> 1) Don&#39;t use AWT. Instead use Swing or JavaFX. 2) If using Swing then read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. There are sections on <code>Custom Painting</code> and <code>How to Use Timers</code> which will help for animating your colors. 3) Don&#39;t create components in a painting method. The components should be created and added to the frame in the constructor of your class."},{"owner":{"account_id":20645385,"reputation":333,"user_id":15157024,"display_name":"Marwane"},"score":0,"creation_date":1637960713,"post_id":70129929,"comment_id":123969900,"body_markdown":"@MadProgrammer Our java professor is forcing us to work with AWT :( !","body":"@MadProgrammer Our java professor is forcing us to work with AWT :( !"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637960766,"post_id":70129929,"comment_id":123969914,"body_markdown":"@Marwane Time to find a new teacher.  While AWT makes up the foundation of Swing, almost no one actually uses it any more","body":"@Marwane Time to find a new teacher.  While AWT makes up the foundation of Swing, almost no one actually uses it any more"},{"owner":{"account_id":20645385,"reputation":333,"user_id":15157024,"display_name":"Marwane"},"score":0,"creation_date":1637960787,"post_id":70129929,"comment_id":123969918,"body_markdown":"@camickr I have to use AWT :(","body":"@camickr I have to use AWT :("},{"owner":{"account_id":20645385,"reputation":333,"user_id":15157024,"display_name":"Marwane"},"score":0,"creation_date":1637960955,"post_id":70129929,"comment_id":123969943,"body_markdown":"Thanks for the advice ! i will try to mix SWING  and AWT.","body":"Thanks for the advice ! i will try to mix SWING  and AWT."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637961287,"creation_date":1637960748,"answer_id":70130033,"question_id":70129929,"body_markdown":"Before you begin on something as complex as custom painting, make sure you have a firm understanding of the basics of the language and the APIs\r\n\r\nSee [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/), [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) for more details.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Color desiredColor = Color.BLACK;\r\n            private List&lt;Color&gt; avaliableColors = new ArrayList&lt;&gt;(16);\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                avaliableColors.add(Color.BLACK);\r\n                avaliableColors.add(Color.BLUE);\r\n                avaliableColors.add(Color.CYAN);\r\n                avaliableColors.add(Color.DARK_GRAY);\r\n                avaliableColors.add(Color.GRAY);\r\n                avaliableColors.add(Color.GREEN);\r\n                avaliableColors.add(Color.LIGHT_GRAY);\r\n                avaliableColors.add(Color.MAGENTA);\r\n                avaliableColors.add(Color.ORANGE);\r\n                avaliableColors.add(Color.PINK);\r\n                avaliableColors.add(Color.RED);\r\n                avaliableColors.add(Color.WHITE);\r\n                avaliableColors.add(Color.YELLOW);\r\n\r\n                JButton btn = new JButton(&quot;Change color&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Randomise the colors\r\n                        Collections.shuffle(avaliableColors);\r\n                        desiredColor = avaliableColors.get(0);\r\n                        repaint();\r\n                    }\r\n                });\r\n                add(btn, BorderLayout.SOUTH);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(desiredColor);\r\n                g2d.drawOval(108, 110, 200, 200);\r\n                g2d.drawOval(160, 150, 20, 20);\r\n                g2d.drawOval(240, 150, 20, 20);\r\n                g2d.drawRect(160, 220, 100, 40);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nSince you&#39;re just starting out, I might suggest getting started with [JavaFX](https://openjfx.io/openjfx-docs/) instead\r\n\r\n&gt; AWT\r\n\r\n**!! Warning !!**\r\n\r\nNo one uses AWT anymore and you&#39;re not likely to get much in the way of support for it here.  This is a &quot;basic&quot; concept converted from the previous example, beware, AWT isn&#39;t double buffered by default\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Frame frame = new Frame();\r\n                    frame.add(new TestCanvas());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestCanvas extends Container {\r\n\r\n            private Color desiredColor = Color.BLACK;\r\n            private List&lt;Color&gt; avaliableColors = new ArrayList&lt;&gt;(16);\r\n\r\n            public TestCanvas() {\r\n                setLayout(new BorderLayout());\r\n                avaliableColors.add(Color.BLACK);\r\n                avaliableColors.add(Color.BLUE);\r\n                avaliableColors.add(Color.CYAN);\r\n                avaliableColors.add(Color.DARK_GRAY);\r\n                avaliableColors.add(Color.GRAY);\r\n                avaliableColors.add(Color.GREEN);\r\n                avaliableColors.add(Color.LIGHT_GRAY);\r\n                avaliableColors.add(Color.MAGENTA);\r\n                avaliableColors.add(Color.ORANGE);\r\n                avaliableColors.add(Color.PINK);\r\n                avaliableColors.add(Color.RED);\r\n                avaliableColors.add(Color.WHITE);\r\n                avaliableColors.add(Color.YELLOW);\r\n\r\n                JButton btn = new JButton(&quot;Change color&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Randomise the colors\r\n                        Collections.shuffle(avaliableColors);\r\n                        desiredColor = avaliableColors.get(0);\r\n                        repaint();\r\n                    }\r\n                });\r\n                add(btn, BorderLayout.SOUTH);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(desiredColor);\r\n                g2d.drawOval(108, 110, 200, 200);\r\n                g2d.drawOval(160, 150, 20, 20);\r\n                g2d.drawOval(240, 150, 20, 20);\r\n                g2d.drawRect(160, 220, 100, 40);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"change color of already drawn Graphics object in java AWT not working","body":"<p>Before you begin on something as complex as custom painting, make sure you have a firm understanding of the basics of the language and the APIs</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> for more details.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Color desiredColor = Color.BLACK;\n        private List&lt;Color&gt; avaliableColors = new ArrayList&lt;&gt;(16);\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            avaliableColors.add(Color.BLACK);\n            avaliableColors.add(Color.BLUE);\n            avaliableColors.add(Color.CYAN);\n            avaliableColors.add(Color.DARK_GRAY);\n            avaliableColors.add(Color.GRAY);\n            avaliableColors.add(Color.GREEN);\n            avaliableColors.add(Color.LIGHT_GRAY);\n            avaliableColors.add(Color.MAGENTA);\n            avaliableColors.add(Color.ORANGE);\n            avaliableColors.add(Color.PINK);\n            avaliableColors.add(Color.RED);\n            avaliableColors.add(Color.WHITE);\n            avaliableColors.add(Color.YELLOW);\n\n            JButton btn = new JButton(&quot;Change color&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Randomise the colors\n                    Collections.shuffle(avaliableColors);\n                    desiredColor = avaliableColors.get(0);\n                    repaint();\n                }\n            });\n            add(btn, BorderLayout.SOUTH);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(desiredColor);\n            g2d.drawOval(108, 110, 200, 200);\n            g2d.drawOval(160, 150, 20, 20);\n            g2d.drawOval(240, 150, 20, 20);\n            g2d.drawRect(160, 220, 100, 40);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Since you're just starting out, I might suggest getting started with <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">JavaFX</a> instead</p>\n<blockquote>\n<p>AWT</p>\n</blockquote>\n<p><strong>!! Warning !!</strong></p>\n<p>No one uses AWT anymore and you're not likely to get much in the way of support for it here.  This is a &quot;basic&quot; concept converted from the previous example, beware, AWT isn't double buffered by default</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.swing.JButton;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                Frame frame = new Frame();\n                frame.add(new TestCanvas());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestCanvas extends Container {\n\n        private Color desiredColor = Color.BLACK;\n        private List&lt;Color&gt; avaliableColors = new ArrayList&lt;&gt;(16);\n\n        public TestCanvas() {\n            setLayout(new BorderLayout());\n            avaliableColors.add(Color.BLACK);\n            avaliableColors.add(Color.BLUE);\n            avaliableColors.add(Color.CYAN);\n            avaliableColors.add(Color.DARK_GRAY);\n            avaliableColors.add(Color.GRAY);\n            avaliableColors.add(Color.GREEN);\n            avaliableColors.add(Color.LIGHT_GRAY);\n            avaliableColors.add(Color.MAGENTA);\n            avaliableColors.add(Color.ORANGE);\n            avaliableColors.add(Color.PINK);\n            avaliableColors.add(Color.RED);\n            avaliableColors.add(Color.WHITE);\n            avaliableColors.add(Color.YELLOW);\n\n            JButton btn = new JButton(&quot;Change color&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Randomise the colors\n                    Collections.shuffle(avaliableColors);\n                    desiredColor = avaliableColors.get(0);\n                    repaint();\n                }\n            });\n            add(btn, BorderLayout.SOUTH);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        public void paint(Graphics g) {\n            super.paint(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(desiredColor);\n            g2d.drawOval(108, 110, 200, 200);\n            g2d.drawOval(160, 150, 20, 20);\n            g2d.drawOval(240, 150, 20, 20);\n            g2d.drawRect(160, 220, 100, 40);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20645385,"reputation":333,"user_id":15157024,"display_name":"Marwane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70130033,"answer_count":1,"score":0,"last_activity_date":1637961287,"creation_date":1637959949,"question_id":70129929,"body_markdown":"Am trying to change color after drawing the object in window, this is what i came up with, am a beginner so this is messy.\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.event.WindowEvent;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    public class TestGraphic extends Figure {\r\n\t\r\n\tTestGraphic(){\r\n\t\tsetSize(600,600);\r\n\t\tcloseFrame();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTestGraphic test = new TestGraphic();\r\n\t\ttest.setVisible(true);\r\n\r\n\t}\r\n\tpublic void paint(Graphics gui) {\r\n\t\tdrawComponent(gui);\r\n\t\t\r\n\t}\r\n\tpublic void drawComponent(Graphics gui) {\r\n\t\t gui.drawOval(108,110,200,200);\r\n\t\t gui.drawOval(160,150,20,20);\r\n\t\t gui.drawOval(240,150,20,20);\r\n\t\t gui.drawRect(160,220,100,40);\r\n\t\t Button btn = new Button(&quot;Change color&quot;);\r\n\t\t btn.setBounds(30,100,80,30);\r\n\t     add(btn);\r\n\t     changeColor(gui,btn);\r\n\t\t\r\n\t     \r\n\t}\r\n\t@Override\r\n\tvoid draw(Graphics gui) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic boolean contains(int x, int y) {\r\n\t\t  \r\n\t\t  return false;\r\n\t}\r\n\t private void closeFrame(){\r\n\t      addWindowListener(new WindowAdapter() {\r\n\t         public void windowClosing(WindowEvent windowEvent){\r\n\t            System.exit(0);\r\n\t         }        \r\n\t      }); \r\n\t }\r\n\t \r\n\t\r\n\t void changeColor(Graphics gui,Button btn) {\r\n\t\t List&lt;Color&gt; colorList;\r\n\t\t colorList = Arrays.asList(Color.black, Color.blue , Color.cyan, Color.red, Color.green, Color.magenta, Color.orange, Color.yellow);\r\n\t\t  \r\n\t\t  btn.addActionListener(new ActionListener() { \r\n\t\t     \t public void actionPerformed (ActionEvent e) {  \r\n\t\t     \t\t for(int i = 0;i &lt; colorList.size(); i++) {\r\n\t\t \t\t\t\tgui.setColor(colorList.get(i));\r\n\t\t \t    \t}\r\n\t\t\t\t\t  }    \r\n\t\t\t\t  }); \r\n\t\t \r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nThe class **Figure** is an abstract class that is inheriting from **java.awt.Frame**\r\nAny remarks about how to make this code cleaner will be appreciated, thanks.\r\n\r\n","title":"change color of already drawn Graphics object in java AWT not working","body":"<p>Am trying to change color after drawing the object in window, this is what i came up with, am a beginner so this is messy.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.event.WindowEvent;\nimport java.util.Arrays;\nimport java.util.List;\npublic class TestGraphic extends Figure {\n\nTestGraphic(){\n    setSize(600,600);\n    closeFrame();\n}\n\npublic static void main(String[] args) {\n    TestGraphic test = new TestGraphic();\n    test.setVisible(true);\n\n}\npublic void paint(Graphics gui) {\n    drawComponent(gui);\n    \n}\npublic void drawComponent(Graphics gui) {\n     gui.drawOval(108,110,200,200);\n     gui.drawOval(160,150,20,20);\n     gui.drawOval(240,150,20,20);\n     gui.drawRect(160,220,100,40);\n     Button btn = new Button(&quot;Change color&quot;);\n     btn.setBounds(30,100,80,30);\n     add(btn);\n     changeColor(gui,btn);\n    \n     \n}\n@Override\nvoid draw(Graphics gui) {\n    // TODO Auto-generated method stub\n    \n}\n@Override\npublic boolean contains(int x, int y) {\n      \n      return false;\n}\n private void closeFrame(){\n      addWindowListener(new WindowAdapter() {\n         public void windowClosing(WindowEvent windowEvent){\n            System.exit(0);\n         }        \n      }); \n }\n \n\n void changeColor(Graphics gui,Button btn) {\n     List&lt;Color&gt; colorList;\n     colorList = Arrays.asList(Color.black, Color.blue , Color.cyan, Color.red, Color.green, Color.magenta, Color.orange, Color.yellow);\n      \n      btn.addActionListener(new ActionListener() { \n             public void actionPerformed (ActionEvent e) {  \n                 for(int i = 0;i &lt; colorList.size(); i++) {\n                    gui.setColor(colorList.get(i));\n                }\n                  }    \n              }); \n     \n    \n}\n</code></pre>\n<p>}</p>\n<p>The class <strong>Figure</strong> is an abstract class that is inheriting from <strong>java.awt.Frame</strong>\nAny remarks about how to make this code cleaner will be appreciated, thanks.</p>\n"},{"tags":["java","reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1602177092,"post_id":64241208,"comment_id":113645108,"body_markdown":"Does findAnotherName  depend on the result of findByName?","body":"Does findAnotherName  depend on the result of findByName?"},{"owner":{"account_id":1601464,"reputation":37,"user_id":1482416,"accept_rate":80,"display_name":"Steven.Tien"},"score":0,"creation_date":1602469080,"post_id":64241208,"comment_id":113720801,"body_markdown":"Yes, it depends on the result of findByName . \n\nAccording to the result , handle business logic , then return a Mono of computed result.","body":"Yes, it depends on the result of findByName .   According to the result , handle business logic , then return a Mono of computed result."}],"answers":[{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637960370,"creation_date":1637960370,"answer_id":70129982,"question_id":64241208,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-\r\n\r\nIf your `//do some logic` is sync then I can suggest something like\r\n\r\n```\r\nprivate Mono&lt;List&lt;Student&gt;&gt; find(String name) {\r\n\r\n    return repo.findByName(name)\r\n            .zipWhen((List&lt;Student&gt; students) -&gt; {\r\n                return repo.findAnotherName(anothName, 1).collectList();\r\n            }, (students, anotherStudents) -&gt; {\r\n                //some sync logic\r\n                return students;\r\n            });\r\n}\r\n```\r\n\r\nBut if the logic is also async, then\r\n\r\n```\r\nprivate Mono&lt;List&lt;Student&gt;&gt; find(String name) {\r\n\r\n    return repo.findByName(name)\r\n            .zipWhen((List&lt;Student&gt; students) -&gt; {\r\n                return repo.findAnotherName(anothName, 1).collectList()\r\n                        .flatMap(anotherStudents -&gt; someAsyncMethod(anotherStudents));\r\n            }, ((students, o) -&gt; students));\r\n}\r\n```","title":"Smart way to handle nested flux operations","body":"<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-java.util.function.BiFunction-</a></p>\n<p>If your <code>//do some logic</code> is sync then I can suggest something like</p>\n<pre><code>private Mono&lt;List&lt;Student&gt;&gt; find(String name) {\n\n    return repo.findByName(name)\n            .zipWhen((List&lt;Student&gt; students) -&gt; {\n                return repo.findAnotherName(anothName, 1).collectList();\n            }, (students, anotherStudents) -&gt; {\n                //some sync logic\n                return students;\n            });\n}\n</code></pre>\n<p>But if the logic is also async, then</p>\n<pre><code>private Mono&lt;List&lt;Student&gt;&gt; find(String name) {\n\n    return repo.findByName(name)\n            .zipWhen((List&lt;Student&gt; students) -&gt; {\n                return repo.findAnotherName(anothName, 1).collectList()\n                        .flatMap(anotherStudents -&gt; someAsyncMethod(anotherStudents));\n            }, ((students, o) -&gt; students));\n}\n</code></pre>\n"}],"owner":{"account_id":1601464,"reputation":37,"user_id":1482416,"accept_rate":80,"display_name":"Steven.Tien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70129982,"answer_count":1,"score":0,"last_activity_date":1637960370,"creation_date":1602063184,"question_id":64241208,"body_markdown":"I have 2 query methods (findByName/findAnotherName) . \r\n\r\nBoth of them return Mono&lt;List&lt;Student&gt;&gt; .\r\n\r\nI do some logic by compare results of these two methods, and then return one of them in a nested Flux operation.\r\n\r\nIt may have a smart way to achieve same result though.\r\n    \r\nFollowing is code snippet:\r\n\r\n\r\n    private Mono&lt;List&lt;Student&gt;&gt; find(String name) {\r\n\r\n\t\treturn repo.findByName(name)\r\n\t\t\t\t.flatMap((List&lt;Student&gt; students) -&gt; {\r\n\r\n\t\t\t\t\treturn repo.findAnotherName(anothName, 1).collectList()\r\n\t\t\t\t\t\t\t.flatMap((List&lt;Student&gt; anotherStudents) -&gt; {\r\n\r\n\t\t\t\t\t\t\t\t//do some logic\r\n\r\n\t\t\t\t\t\t\t\treturn Mono.just(students);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t}\r\n\r\nThanks in advance.","title":"Smart way to handle nested flux operations","body":"<p>I have 2 query methods (findByName/findAnotherName) .</p>\n<p>Both of them return Mono&lt;List&gt; .</p>\n<p>I do some logic by compare results of these two methods, and then return one of them in a nested Flux operation.</p>\n<p>It may have a smart way to achieve same result though.</p>\n<p>Following is code snippet:</p>\n<pre><code>private Mono&lt;List&lt;Student&gt;&gt; find(String name) {\n\n    return repo.findByName(name)\n            .flatMap((List&lt;Student&gt; students) -&gt; {\n\n                return repo.findAnotherName(anothName, 1).collectList()\n                        .flatMap((List&lt;Student&gt; anotherStudents) -&gt; {\n\n                            //do some logic\n\n                            return Mono.just(students);\n                        });\n\n            });\n\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","image","file","text","bufferedreader"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386295169,"post_id":20414515,"comment_id":30489188,"body_markdown":"How is the image data formatted?  Is it represented in binary form or Base64?","body":"How is the image data formatted?  Is it represented in binary form or Base64?"},{"owner":{"account_id":2063213,"reputation":235,"user_id":1839321,"accept_rate":60,"display_name":"Above"},"score":0,"creation_date":1386295474,"post_id":20414515,"comment_id":30489302,"body_markdown":"It is represented in binary form. \n(I load a PNG image file with ImageIO.read, store it into a BufferedImage and write it with ImageIO.write)","body":"It is represented in binary form.  (I load a PNG image file with ImageIO.read, store it into a BufferedImage and write it with ImageIO.write)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386296131,"post_id":20414515,"comment_id":30489472,"body_markdown":"If the image data is mixed in with other data, then you need to read that binary data into another stream input stream so that it can be read correctly from the file.  You &quot;might&quot; be able to use the same `InputStream` you read the file and simply read to the start of the image data...","body":"If the image data is mixed in with other data, then you need to read that binary data into another stream input stream so that it can be read correctly from the file.  You &quot;might&quot; be able to use the same <code>InputStream</code> you read the file and simply read to the start of the image data..."},{"owner":{"account_id":2063213,"reputation":235,"user_id":1839321,"accept_rate":60,"display_name":"Above"},"score":0,"creation_date":1386297169,"post_id":20414515,"comment_id":30489733,"body_markdown":"@MadProgrammer I understand and appreciate your idea, but maybe actual code would help me a lot :)","body":"@MadProgrammer I understand and appreciate your idea, but maybe actual code would help me a lot :)"},{"owner":{"account_id":2063213,"reputation":235,"user_id":1839321,"accept_rate":60,"display_name":"Above"},"score":0,"creation_date":1386297201,"post_id":20414515,"comment_id":30489743,"body_markdown":"@Loc I didn&#39;t downvote your question :O","body":"@Loc I didn&#39;t downvote your question :O"}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386296184,"creation_date":1386296184,"answer_id":20414713,"question_id":20414515,"body_markdown":"### Approach given your example:\n\nThis simple, if you only have 3 lines of text as listed in your example, then you can just read each line of `Text` when you detect the `\\n`, when you get to the third one you know the image data is next and then just read from that offset into your image.\n\nA better way to do it is to write a simple index header first with the offset of the `binary` data and then you don&#39;t have to do the parsing of the `\\n` you can just read up to the offset and treat all that as text and then read from the offset on and treat the rest as your image.\n\nThere is no reason you need to encode anything to Base64 or anything like that, that will just bloat your file format and cause more complication than good.","title":"How can I read a file containing text and image data?","body":"<h3>Approach given your example:</h3>\n<p>This simple, if you only have 3 lines of text as listed in your example, then you can just read each line of <code>Text</code> when you detect the <code>\\n</code>, when you get to the third one you know the image data is next and then just read from that offset into your image.</p>\n<p>A better way to do it is to write a simple index header first with the offset of the <code>binary</code> data and then you don't have to do the parsing of the <code>\\n</code> you can just read up to the offset and treat all that as text and then read from the offset on and treat the rest as your image.</p>\n<p>There is no reason you need to encode anything to Base64 or anything like that, that will just bloat your file format and cause more complication than good.</p>\n"},{"tags":[],"owner":{"account_id":1310801,"reputation":261,"user_id":1258836,"display_name":"Catalin Pol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386297570,"creation_date":1386297570,"answer_id":20414935,"question_id":20414515,"body_markdown":"Not sure if it will work, but as @MadProgrammer said, use the same reader from the BufferedReader initialization in the ImageIO.read call:\r\n\r\n    Reader fileReader = new FileReader(...);\r\n    BufferedReader reader = new BufferedReader(fileReader);\r\n    ...\r\n    BufferedImage img = ImageIO.read(fileReader);\r\n\r\nOr, with FileReader(FileInputStream)... after all, you are doing something very similar when writting. Lesson here to be learned: symmetry always helps in situations like this. ","title":"How can I read a file containing text and image data?","body":"<p>Not sure if it will work, but as @MadProgrammer said, use the same reader from the BufferedReader initialization in the ImageIO.read call:</p>\n\n<pre><code>Reader fileReader = new FileReader(...);\nBufferedReader reader = new BufferedReader(fileReader);\n...\nBufferedImage img = ImageIO.read(fileReader);\n</code></pre>\n\n<p>Or, with FileReader(FileInputStream)... after all, you are doing something very similar when writting. Lesson here to be learned: symmetry always helps in situations like this. </p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637960167,"creation_date":1386298742,"answer_id":20415104,"question_id":20414515,"body_markdown":"The problem, as I can see it, is the mixing of the readers and streams..\r\n\r\nNow, I tried using...\r\n\r\n    try (OutputStream output = new FileOutputStream(filepath);\r\n                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output))) {\r\n        \r\n        writer.write(&quot;Number: 176&quot;);\r\n        writer.newLine();\r\n        writer.write(&quot;Title: Elephant&quot;);\r\n        writer.newLine();\r\n        writer.write(&quot;Text: This image shows a cute elephant.&quot;);\r\n        writer.newLine();\r\n\r\n        writer.flush();\r\n\r\n        ImageIO.write(image, &quot;png&quot;, output);\r\n\r\n        output.flush();\r\n    } catch (Exception exp) {\r\n        exp.printStackTrace();\r\n    }\r\n\r\nTo write the file.  The hope was that the input stream position would be updated and the content would be written to the end of the file...\r\n\r\nAnd\r\n\r\n    String filepath = &quot;myfile.txt&quot;;\r\n    BufferedImage image = null;\r\n    try (InputStream is = new FileInputStream(new File(filepath));\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\r\n        \r\n        String number = br.readLine();\r\n        String title = br.readLine();\r\n        String text = br.readLine();\r\n        \r\n        System.out.println(number);\r\n        System.out.println(title);\r\n        System.out.println(text);\r\n\r\n        ImageInputStream iis = ImageIO.createImageInputStream(is);\r\n        image = ImageIO.read(iis);\r\n        ImageIO.write(image, &quot;png&quot;, new File(&quot;test.png&quot;));\r\n    } catch (Exception exp) {\r\n        exp.printStackTrace();\r\n    }\r\n\r\nTo read it.\r\n\r\nBut this didn&#39;t seem to work.  What &quot;might&quot; be happening is the file position isn&#39;t being updated to the correct position that we need it to read the image properly.\r\n\r\nWhat I did instead was this...\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.stream.ImageInputStream;\r\n\r\n    public class ReadWriteImage {\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                writeTest();\r\n                readTest();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public static void readTest() throws IOException {\r\n            String filepath = &quot;myfile.txt&quot;;\r\n            BufferedImage image = null;\r\n            try (InputStream is = new FileInputStream(new File(filepath))) {\r\n            \r\n                int lineCount = 0;\r\n                StringBuilder sb = new StringBuilder(128);\r\n            \r\n                String number = null;\r\n                String title = null;\r\n                String text = null;\r\n            \r\n                int b = -1;\r\n                while (lineCount &lt; 3 &amp;&amp; (b = is.read()) != -1) {\r\n                    if ((char)b == &#39;\\n&#39;) {\r\n                        switch (lineCount) {\r\n                            case 0:\r\n                                number = sb.toString();\r\n                                break;\r\n                            case 1:\r\n                                title = sb.toString();\r\n                                break;\r\n                            case 2:\r\n                                text = sb.toString();\r\n                                break;\r\n                        }\r\n                        sb.delete(0, sb.length());\r\n                        lineCount++;\r\n                    } else {\r\n                        sb.append((char)b);\r\n                    }\r\n                }\r\n            \r\n                System.out.println(number);\r\n                System.out.println(title);\r\n                System.out.println(text);\r\n\r\n                ImageInputStream iis = ImageIO.createImageInputStream(is);\r\n                image = ImageIO.read(iis);\r\n                ImageIO.write(image, &quot;png&quot;, new File(&quot;test.png&quot;));\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public static void writeTest() throws IOException {\r\n            String filepath = &quot;myfile.txt&quot;;\r\n            BufferedImage image = ImageIO.read(new File(&quot;/Users/swhitehead/Dropbox/MegaTokyo/thumnails/2005-09-29-3957_400.jpg&quot;));\r\n\r\n            try (FileOutputStream output = new FileOutputStream(filepath)) {\r\n            \r\n                output.write(&quot;Number: 176\\n&quot;.getBytes());\r\n                output.write(&quot;Title: Elephant\\n&quot;.getBytes());\r\n                output.write(&quot;Text: This image shows a cute elephant.\\n&quot;.getBytes());\r\n\r\n                ImageIO.write(image, &quot;png&quot;, output);\r\n\r\n                output.flush();\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nBasically, I just used the `OutputStream` and `InputStream` directly...\r\n\r\n**Updated**\r\n\r\nThe file contents starts with...\r\n\r\n    Number: 176\r\n    Title: Elephant\r\n    Text: This image shows a cute elephant.\r\n    &#226;PNG\r\n\r\n# Welcome to 2021\r\n\r\nSo, the ordinal answer was made some time ago, the world has moved on.  Unless you have a very specific need not to (ie transport speed/bandwidth restrictions), I would highly recommend making use of things like JSON and Base64 to send binary and text mixed together.\r\n\r\nThe main reason, it&#39;s actually much simpler to encode/decode and maintain.  The original solution is rather difficult to add new content to, as both ends need to be able to support the changes, where as something like JSON can (if done properly) get away with adding and removing content.  It&#39;s also easier to build much more complex parsing workflows, as you&#39;re not reliant on the &quot;read/write&quot; position of the stream.\r\n\r\nThis example makes use of the [org.json](https://github.com/stleary/JSON-java) library, but you can use what ever library you want.\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import org.json.JSONObject;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() throws IOException {\r\n            read(write());\r\n        }\r\n\r\n        public String write() throws IOException {\r\n            BufferedImage image = ImageIO.read(getClass().getResource(&quot;/images/Background.png&quot;));\r\n\r\n            JSONObject jobj = new JSONObject();\r\n            jobj.put(&quot;number&quot;, 176);\r\n            jobj.put(&quot;title&quot;, &quot;Elephant&quot;);\r\n            jobj.put(&quot;text&quot;, &quot;This image shows a cute elepant&quot;);\r\n\r\n            try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n                ImageIO.write(image, &quot;png&quot;, baos);\r\n                baos.flush();\r\n                byte[] encode = Base64.getEncoder().encode(baos.toByteArray());\r\n                String text = new String(encode, StandardCharsets.UTF_8);\r\n                jobj.put(&quot;image&quot;, text);\r\n            }\r\n\r\n            String text = jobj.toString();\r\n\r\n            return text;\r\n        }\r\n\r\n        public void read(String jsonText) throws IOException {\r\n            JSONObject jobj = new JSONObject(jsonText);\r\n            System.out.println(&quot;Number = &quot; + jobj.getInt(&quot;number&quot;));\r\n            System.out.println(&quot;Title = &quot; + jobj.getString(&quot;title&quot;));\r\n            System.out.println(&quot;Text = &quot; + jobj.getString(&quot;text&quot;));\r\n\r\n            String encodedImage = jobj.getString(&quot;image&quot;);\r\n            byte[] imageBytes = Base64.getDecoder().decode(encodedImage.getBytes(StandardCharsets.UTF_8));\r\n            try (ByteArrayInputStream bais = new ByteArrayInputStream(imageBytes)) {\r\n                BufferedImage image = ImageIO.read(bais);\r\n\r\n                JLabel label = new JLabel(new ImageIcon(image));\r\n                label.setText(&quot;&lt;html&gt;Number = &quot; + jobj.getInt(&quot;number&quot;) + &quot;&lt;br&gt;Title = &quot; + jobj.getString(&quot;title&quot;) + &quot;&lt;br&gt;Text = &quot; + jobj.getString(&quot;text&quot;));\r\n\r\n                JOptionPane.showMessageDialog(null, label);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n&gt; What if I want to send 2 files?\r\n\r\nThen use a `JSONArray`. `org.json` is reasonably powerful, see [Introduction to JSON-Java ](https://www.baeldung.com/java-org-json) for more details.  The Google implementation (GSON?) also provides a lot of functionality which can be used to encode/decode json from/to POJOs, if that&#39;s your thing","title":"How can I read a file containing text and image data?","body":"<p>The problem, as I can see it, is the mixing of the readers and streams..</p>\n<p>Now, I tried using...</p>\n<pre><code>try (OutputStream output = new FileOutputStream(filepath);\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output))) {\n    \n    writer.write(&quot;Number: 176&quot;);\n    writer.newLine();\n    writer.write(&quot;Title: Elephant&quot;);\n    writer.newLine();\n    writer.write(&quot;Text: This image shows a cute elephant.&quot;);\n    writer.newLine();\n\n    writer.flush();\n\n    ImageIO.write(image, &quot;png&quot;, output);\n\n    output.flush();\n} catch (Exception exp) {\n    exp.printStackTrace();\n}\n</code></pre>\n<p>To write the file.  The hope was that the input stream position would be updated and the content would be written to the end of the file...</p>\n<p>And</p>\n<pre><code>String filepath = &quot;myfile.txt&quot;;\nBufferedImage image = null;\ntry (InputStream is = new FileInputStream(new File(filepath));\n                BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n    \n    String number = br.readLine();\n    String title = br.readLine();\n    String text = br.readLine();\n    \n    System.out.println(number);\n    System.out.println(title);\n    System.out.println(text);\n\n    ImageInputStream iis = ImageIO.createImageInputStream(is);\n    image = ImageIO.read(iis);\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;test.png&quot;));\n} catch (Exception exp) {\n    exp.printStackTrace();\n}\n</code></pre>\n<p>To read it.</p>\n<p>But this didn't seem to work.  What &quot;might&quot; be happening is the file position isn't being updated to the correct position that we need it to read the image properly.</p>\n<p>What I did instead was this...</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport javax.imageio.ImageIO;\nimport javax.imageio.stream.ImageInputStream;\n\npublic class ReadWriteImage {\n\n    public static void main(String[] args) {\n        try {\n            writeTest();\n            readTest();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void readTest() throws IOException {\n        String filepath = &quot;myfile.txt&quot;;\n        BufferedImage image = null;\n        try (InputStream is = new FileInputStream(new File(filepath))) {\n        \n            int lineCount = 0;\n            StringBuilder sb = new StringBuilder(128);\n        \n            String number = null;\n            String title = null;\n            String text = null;\n        \n            int b = -1;\n            while (lineCount &lt; 3 &amp;&amp; (b = is.read()) != -1) {\n                if ((char)b == '\\n') {\n                    switch (lineCount) {\n                        case 0:\n                            number = sb.toString();\n                            break;\n                        case 1:\n                            title = sb.toString();\n                            break;\n                        case 2:\n                            text = sb.toString();\n                            break;\n                    }\n                    sb.delete(0, sb.length());\n                    lineCount++;\n                } else {\n                    sb.append((char)b);\n                }\n            }\n        \n            System.out.println(number);\n            System.out.println(title);\n            System.out.println(text);\n\n            ImageInputStream iis = ImageIO.createImageInputStream(is);\n            image = ImageIO.read(iis);\n            ImageIO.write(image, &quot;png&quot;, new File(&quot;test.png&quot;));\n        } catch (Exception exp) {\n            exp.printStackTrace();\n        }\n    }\n\n    public static void writeTest() throws IOException {\n        String filepath = &quot;myfile.txt&quot;;\n        BufferedImage image = ImageIO.read(new File(&quot;/Users/swhitehead/Dropbox/MegaTokyo/thumnails/2005-09-29-3957_400.jpg&quot;));\n\n        try (FileOutputStream output = new FileOutputStream(filepath)) {\n        \n            output.write(&quot;Number: 176\\n&quot;.getBytes());\n            output.write(&quot;Title: Elephant\\n&quot;.getBytes());\n            output.write(&quot;Text: This image shows a cute elephant.\\n&quot;.getBytes());\n\n            ImageIO.write(image, &quot;png&quot;, output);\n\n            output.flush();\n        } catch (Exception exp) {\n            exp.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Basically, I just used the <code>OutputStream</code> and <code>InputStream</code> directly...</p>\n<p><strong>Updated</strong></p>\n<p>The file contents starts with...</p>\n<pre><code>Number: 176\nTitle: Elephant\nText: This image shows a cute elephant.\nâPNG\n</code></pre>\n<h1>Welcome to 2021</h1>\n<p>So, the ordinal answer was made some time ago, the world has moved on.  Unless you have a very specific need not to (ie transport speed/bandwidth restrictions), I would highly recommend making use of things like JSON and Base64 to send binary and text mixed together.</p>\n<p>The main reason, it's actually much simpler to encode/decode and maintain.  The original solution is rather difficult to add new content to, as both ends need to be able to support the changes, where as something like JSON can (if done properly) get away with adding and removing content.  It's also easier to build much more complex parsing workflows, as you're not reliant on the &quot;read/write&quot; position of the stream.</p>\n<p>This example makes use of the <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">org.json</a> library, but you can use what ever library you want.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport org.json.JSONObject;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        new Main();\n    }\n\n    public Main() throws IOException {\n        read(write());\n    }\n\n    public String write() throws IOException {\n        BufferedImage image = ImageIO.read(getClass().getResource(&quot;/images/Background.png&quot;));\n\n        JSONObject jobj = new JSONObject();\n        jobj.put(&quot;number&quot;, 176);\n        jobj.put(&quot;title&quot;, &quot;Elephant&quot;);\n        jobj.put(&quot;text&quot;, &quot;This image shows a cute elepant&quot;);\n\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n            ImageIO.write(image, &quot;png&quot;, baos);\n            baos.flush();\n            byte[] encode = Base64.getEncoder().encode(baos.toByteArray());\n            String text = new String(encode, StandardCharsets.UTF_8);\n            jobj.put(&quot;image&quot;, text);\n        }\n\n        String text = jobj.toString();\n\n        return text;\n    }\n\n    public void read(String jsonText) throws IOException {\n        JSONObject jobj = new JSONObject(jsonText);\n        System.out.println(&quot;Number = &quot; + jobj.getInt(&quot;number&quot;));\n        System.out.println(&quot;Title = &quot; + jobj.getString(&quot;title&quot;));\n        System.out.println(&quot;Text = &quot; + jobj.getString(&quot;text&quot;));\n\n        String encodedImage = jobj.getString(&quot;image&quot;);\n        byte[] imageBytes = Base64.getDecoder().decode(encodedImage.getBytes(StandardCharsets.UTF_8));\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(imageBytes)) {\n            BufferedImage image = ImageIO.read(bais);\n\n            JLabel label = new JLabel(new ImageIcon(image));\n            label.setText(&quot;&lt;html&gt;Number = &quot; + jobj.getInt(&quot;number&quot;) + &quot;&lt;br&gt;Title = &quot; + jobj.getString(&quot;title&quot;) + &quot;&lt;br&gt;Text = &quot; + jobj.getString(&quot;text&quot;));\n\n            JOptionPane.showMessageDialog(null, label);\n        }\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>What if I want to send 2 files?</p>\n</blockquote>\n<p>Then use a <code>JSONArray</code>. <code>org.json</code> is reasonably powerful, see <a href=\"https://www.baeldung.com/java-org-json\" rel=\"nofollow noreferrer\">Introduction to JSON-Java </a> for more details.  The Google implementation (GSON?) also provides a lot of functionality which can be used to encode/decode json from/to POJOs, if that's your thing</p>\n"}],"owner":{"account_id":2063213,"reputation":235,"user_id":1839321,"accept_rate":60,"display_name":"Above"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10766,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20415104,"answer_count":3,"score":0,"last_activity_date":1637960167,"creation_date":1386294852,"question_id":20414515,"body_markdown":"I&#39;ve got a file with the following structure:\r\n\r\n    &lt;number&gt;\r\n    &lt;title&gt;\r\n    &lt;text&gt;\r\n    &lt;image data&gt;\r\n\r\nFor example:\r\n\r\n    176\r\n    Elephant\r\n    This image shows a cute elephant.\r\n    &lt;image data bytes go here&gt;\r\n\r\n\r\nI write the example above like this:\r\n\r\n    String filepath = &quot;myfile.txt&quot;;\r\n    BufferedImage image = ...; //load some image here\r\n\r\n    try(FileOutputStream output = new FileOutputStream(filepath);\r\n    BufferedWriter writer = new BufferedWriter(new FileWriter(filepath)))\r\n    {\r\n        writer.write(&quot;Number: 176&quot;);\r\n        writer.newLine();\r\n        writer.write(&quot;Title: Elephant&quot;);\r\n        writer.newLine();\r\n        writer.write(&quot;Text: This image shows a cute elephant.&quot;);\r\n        writer.newLine();\r\n\r\n        ImageIO.write(image, &quot;png&quot;, output);\r\n\r\n        writer.flush();\r\n    }\r\n    catch (Exception) {//exception handling}\r\n\r\n\r\n\r\nThis works fine. However, I do not know how to read the file.\r\nThe problem is that I need to call ImageIO.read() to parse the image, but I can&#39;t call it with a BufferedReader. My draft looks like this:\r\n\r\n\r\n    String filepath = &quot;myfile.txt&quot;;\r\n\r\n    try (BufferedReader reader = new BufferedReader(new java.io.FileReader(filepath)))\r\n    {\r\n        String number = reader.readLine();\r\n        reader.readLine(); //skip a free line\r\n\r\n        String title = reader.readLine();\r\n        reader.readLine(); //skip a free line\r\n\r\n        String text = reader.readLine();\r\n        reader.readLine(); //skip a free line\r\n\r\n        BufferedImage image = ???; //how can I read the image here? &lt;----------------\r\n\r\n    }\r\n    catch (Exception e) {//error handling ...}\r\n\r\n**So: How can I read the image (using ImageIO)?**\r\n\r\nAny help is very appreciated :)\r\n\r\n-------------------------------------\r\n\r\n**EDIT: Like  I do the writing with two different Writers, is it possible to make use of two Readers while reading? Like &quot;Read 3 lines of Strings, then read one line of binary data&quot;.**","title":"How can I read a file containing text and image data?","body":"<p>I've got a file with the following structure:</p>\n\n<pre><code>&lt;number&gt;\n&lt;title&gt;\n&lt;text&gt;\n&lt;image data&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>176\nElephant\nThis image shows a cute elephant.\n&lt;image data bytes go here&gt;\n</code></pre>\n\n<p>I write the example above like this:</p>\n\n<pre><code>String filepath = \"myfile.txt\";\nBufferedImage image = ...; //load some image here\n\ntry(FileOutputStream output = new FileOutputStream(filepath);\nBufferedWriter writer = new BufferedWriter(new FileWriter(filepath)))\n{\n    writer.write(\"Number: 176\");\n    writer.newLine();\n    writer.write(\"Title: Elephant\");\n    writer.newLine();\n    writer.write(\"Text: This image shows a cute elephant.\");\n    writer.newLine();\n\n    ImageIO.write(image, \"png\", output);\n\n    writer.flush();\n}\ncatch (Exception) {//exception handling}\n</code></pre>\n\n<p>This works fine. However, I do not know how to read the file.\nThe problem is that I need to call ImageIO.read() to parse the image, but I can't call it with a BufferedReader. My draft looks like this:</p>\n\n<pre><code>String filepath = \"myfile.txt\";\n\ntry (BufferedReader reader = new BufferedReader(new java.io.FileReader(filepath)))\n{\n    String number = reader.readLine();\n    reader.readLine(); //skip a free line\n\n    String title = reader.readLine();\n    reader.readLine(); //skip a free line\n\n    String text = reader.readLine();\n    reader.readLine(); //skip a free line\n\n    BufferedImage image = ???; //how can I read the image here? &lt;----------------\n\n}\ncatch (Exception e) {//error handling ...}\n</code></pre>\n\n<p><strong>So: How can I read the image (using ImageIO)?</strong></p>\n\n<p>Any help is very appreciated :)</p>\n\n<hr>\n\n<p><strong>EDIT: Like  I do the writing with two different Writers, is it possible to make use of two Readers while reading? Like \"Read 3 lines of Strings, then read one line of binary data\".</strong></p>\n"},{"tags":["java","list","hashmap","cartesian-product"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1637874539,"post_id":70117188,"comment_id":123947846,"body_markdown":"Please share examples with values. How do you join 2 hashmap ? You make one hashmap with 2 ?","body":"Please share examples with values. How do you join 2 hashmap ? You make one hashmap with 2 ?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1637877854,"post_id":70117188,"comment_id":123948559,"body_markdown":"A map can&#39;t have duplicate keys : that is the purpose of a Map. like not 2 PersonID","body":"A map can&#39;t have duplicate keys : that is the purpose of a Map. like not 2 PersonID"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637910591,"creation_date":1637874693,"answer_id":70117281,"question_id":70117188,"body_markdown":"You may use `Map.putAll`, to merge 2 maps into one\r\n\r\n    public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, \r\n                                                             List&lt;Map&lt;String, String&gt;&gt; d2) {\r\n        List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\r\n        Map&lt;String, String&gt; map3;\r\n\r\n        for (int i = 0; i &lt; d1.size(); i++) {\r\n            for (int j = 0; j &lt; d2.size(); j++) {\r\n                map3 = new HashMap&lt;&gt;();\r\n                map3.putAll(d1.get(i));\r\n                map3.putAll(d2.get(j));\r\n                d3.add(map3);\r\n            }\r\n        }    \r\n        return d3;\r\n    }\r\n\r\n\r\n----\r\n\r\nCould be nicer with foreach loops\r\n\r\n\r\n    Map&lt;String, String&gt; map3;\r\n    for (Map&lt;String, String&gt; i : d1) {\r\n        for (Map&lt;String, String&gt; j : d2) {\r\n            map3 = new HashMap&lt;&gt;();\r\n            map3.putAll(i);\r\n            map3.putAll(j);\r\n            d3.add(map3);\r\n        }\r\n    }","title":"Cartesian product in java with two lists of hashmaps&lt;String,String&gt;","body":"<p>You may use <code>Map.putAll</code>, to merge 2 maps into one</p>\n<pre><code>public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, \n                                                         List&lt;Map&lt;String, String&gt;&gt; d2) {\n    List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\n    Map&lt;String, String&gt; map3;\n\n    for (int i = 0; i &lt; d1.size(); i++) {\n        for (int j = 0; j &lt; d2.size(); j++) {\n            map3 = new HashMap&lt;&gt;();\n            map3.putAll(d1.get(i));\n            map3.putAll(d2.get(j));\n            d3.add(map3);\n        }\n    }    \n    return d3;\n}\n</code></pre>\n<hr />\n<p>Could be nicer with foreach loops</p>\n<pre><code>Map&lt;String, String&gt; map3;\nfor (Map&lt;String, String&gt; i : d1) {\n    for (Map&lt;String, String&gt; j : d2) {\n        map3 = new HashMap&lt;&gt;();\n        map3.putAll(i);\n        map3.putAll(j);\n        d3.add(map3);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637960018,"creation_date":1637960018,"answer_id":70129943,"question_id":70117188,"body_markdown":"In your first Code, you declare d3 to be a List of (Maps from (String to String)).\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\r\n\r\nThen you try to add a concatenation of 2 Strings, which is again a String(a single String) to d3, which expects a Map to be added. \r\n\r\n    for (int i = 0; i &lt; s1; i++) {\r\n        for (int j = 0; j &lt; s2; j++) {\r\n            d3.add(d1.get(i) + d2.get(j));\r\n        }\r\n    }\r\n\r\nIn the second code, you declare a **result** in the same way, as above, but still refer to **d3**:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    int s1 = d1.size();\r\n    int s2 = d2.size();\r\n\r\n    for (int i = 0; i &lt; s1; i++) {\r\n        for (int j = 0; j &lt; s2; j++) {\r\n            d3.add(d1.get(i));\r\n            d3.add(d2.get(j));\r\n        }\r\n    }\r\n\r\nTest your code before sending it! \r\n\r\nThen, your sample data looks like this:\r\n\r\n    d1 = [{Year = 1976, PersonID = 1},\r\n    {Year = 1987, PersonID = 3},\r\n    {Year = 1974, PersonID = 2}]\r\n\r\nSo there is a list of 3 Maps, each Map contains two pairs of String, the first element is in each case constantly &quot;Year&quot; and matches to an int, which is treated as String, the second is constantly &quot;PersonID&quot;? \r\n\r\nThis looks like a bad data structure choice. Like a simple class hiding in it, waiting for a name: \r\n\r\n    class PY {int year, int pid}; \r\n\r\nAnalog for the relation pid, hid (houseId). \r\n\r\nSo this could be a list of 3 objects and a second one of 2 objects, easily to be combined. Maybe a Map (person -&gt; year) and a map (house -&gt; person) - we don&#39;t know whether one person may be related to two houses or one house to two persons or both. \r\n\r\nIt&#39;s a mess from ground up. ","title":"Cartesian product in java with two lists of hashmaps&lt;String,String&gt;","body":"<p>In your first Code, you declare d3 to be a List of (Maps from (String to String)).</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then you try to add a concatenation of 2 Strings, which is again a String(a single String) to d3, which expects a Map to be added.</p>\n<pre><code>for (int i = 0; i &lt; s1; i++) {\n    for (int j = 0; j &lt; s2; j++) {\n        d3.add(d1.get(i) + d2.get(j));\n    }\n}\n</code></pre>\n<p>In the second code, you declare a <strong>result</strong> in the same way, as above, but still refer to <strong>d3</strong>:</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\n\nint s1 = d1.size();\nint s2 = d2.size();\n\nfor (int i = 0; i &lt; s1; i++) {\n    for (int j = 0; j &lt; s2; j++) {\n        d3.add(d1.get(i));\n        d3.add(d2.get(j));\n    }\n}\n</code></pre>\n<p>Test your code before sending it!</p>\n<p>Then, your sample data looks like this:</p>\n<pre><code>d1 = [{Year = 1976, PersonID = 1},\n{Year = 1987, PersonID = 3},\n{Year = 1974, PersonID = 2}]\n</code></pre>\n<p>So there is a list of 3 Maps, each Map contains two pairs of String, the first element is in each case constantly &quot;Year&quot; and matches to an int, which is treated as String, the second is constantly &quot;PersonID&quot;?</p>\n<p>This looks like a bad data structure choice. Like a simple class hiding in it, waiting for a name:</p>\n<pre><code>class PY {int year, int pid}; \n</code></pre>\n<p>Analog for the relation pid, hid (houseId).</p>\n<p>So this could be a list of 3 objects and a second one of 2 objects, easily to be combined. Maybe a Map (person -&gt; year) and a map (house -&gt; person) - we don't know whether one person may be related to two houses or one house to two persons or both.</p>\n<p>It's a mess from ground up.</p>\n"}],"owner":{"account_id":20028399,"reputation":99,"user_id":14681746,"display_name":"green tea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70117281,"answer_count":2,"score":0,"last_activity_date":1637960018,"creation_date":1637874070,"question_id":70117188,"body_markdown":"I&#39;m trying to construct a cartesian product in java stored in d3 from d1 and d2, I&#39;m getting an error that my + can&#39;t be used on two hashmap entrys. I want to join every entry in d1 with every entry in d2.\r\n\r\n    public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, List&lt;Map&lt;String, String&gt;&gt; d2) {\r\n        List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\r\n\r\n        int s1 = d1.size();\r\n        int s2 = d2.size();\r\n\r\n        for (int i = 0; i &lt; s1; i++) {\r\n            for (int j = 0; j &lt; s2; j++) {\r\n                d3.add(d1.get(i) + d2.get(j));\r\n            }\r\n        }\r\n\r\n        return d3;\r\n    }\r\n\r\n\r\nI&#39;ve came this far, but I&#39;m not able to join the content of the hashmaps together. Here I get the cartesian product but not joint in the same entry.\r\n\r\n    public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, List&lt;Map&lt;String, String&gt;&gt; d2) {\r\n        List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        int s1 = d1.size();\r\n        int s2 = d2.size();\r\n\r\n        for (int i = 0; i &lt; s1; i++) {\r\n            for (int j = 0; j &lt; s2; j++) {\r\n                d3.add(d1.get(i));\r\n                d3.add(d2.get(j));\r\n            }\r\n        }\r\n\r\n        return d3;\r\n    }\r\n\r\n\r\nExample:\r\n\r\n    d1 = [{Year = 1976, PersonID = 1},\r\n    {Year = 1987, PersonID = 3},\r\n    {Year = 1974, PersonID = 2}]\r\n    \r\n    d2 = [{PersonID = 0,houseID = H-101},\r\n    {PersonID = 1, houseID = H-202}]\r\n    \r\n    d3 = [{Year = 1976, PersonID = 1,PersonID = 0,houseID = H-101},\r\n    {Year = 1976, PersonID = 1,PersonID = 1, houseID = H-202},\r\n    {Year = 1987, PersonID = 3,PersonID = 0,houseID = H-101},\r\n    {Year = 1987, PersonID = 3,PersonID = 1, houseID = H-202},\r\n    {Year = 1974, PersonID = 2,PersonID = 0,houseID = H-101},\r\n    {Year = 1974, PersonID = 2,PersonID = 1, houseID = H-202}]\r\n\r\n\r\nBasically I need to join the values of the d1 and d2 together into one entry, how can this be done?","title":"Cartesian product in java with two lists of hashmaps&lt;String,String&gt;","body":"<p>I'm trying to construct a cartesian product in java stored in d3 from d1 and d2, I'm getting an error that my + can't be used on two hashmap entrys. I want to join every entry in d1 with every entry in d2.</p>\n<pre><code>public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, List&lt;Map&lt;String, String&gt;&gt; d2) {\n    List&lt;Map&lt;String, String&gt;&gt; d3 = new ArrayList&lt;&gt;();\n\n    int s1 = d1.size();\n    int s2 = d2.size();\n\n    for (int i = 0; i &lt; s1; i++) {\n        for (int j = 0; j &lt; s2; j++) {\n            d3.add(d1.get(i) + d2.get(j));\n        }\n    }\n\n    return d3;\n}\n</code></pre>\n<p>I've came this far, but I'm not able to join the content of the hashmaps together. Here I get the cartesian product but not joint in the same entry.</p>\n<pre><code>public static List&lt;Map&lt;String, String&gt;&gt; cartesianProduct(List&lt;Map&lt;String, String&gt;&gt; d1, List&lt;Map&lt;String, String&gt;&gt; d2) {\n    List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\n\n    int s1 = d1.size();\n    int s2 = d2.size();\n\n    for (int i = 0; i &lt; s1; i++) {\n        for (int j = 0; j &lt; s2; j++) {\n            d3.add(d1.get(i));\n            d3.add(d2.get(j));\n        }\n    }\n\n    return d3;\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>d1 = [{Year = 1976, PersonID = 1},\n{Year = 1987, PersonID = 3},\n{Year = 1974, PersonID = 2}]\n\nd2 = [{PersonID = 0,houseID = H-101},\n{PersonID = 1, houseID = H-202}]\n\nd3 = [{Year = 1976, PersonID = 1,PersonID = 0,houseID = H-101},\n{Year = 1976, PersonID = 1,PersonID = 1, houseID = H-202},\n{Year = 1987, PersonID = 3,PersonID = 0,houseID = H-101},\n{Year = 1987, PersonID = 3,PersonID = 1, houseID = H-202},\n{Year = 1974, PersonID = 2,PersonID = 0,houseID = H-101},\n{Year = 1974, PersonID = 2,PersonID = 1, houseID = H-202}]\n</code></pre>\n<p>Basically I need to join the values of the d1 and d2 together into one entry, how can this be done?</p>\n"},{"tags":["java","sqlite","jdbc"],"answers":[{"tags":[],"owner":{"account_id":6308784,"reputation":640,"user_id":4901031,"accept_rate":22,"display_name":"Gian Lorenzo Aba&#241;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637958725,"creation_date":1637958725,"answer_id":70129762,"question_id":70128794,"body_markdown":"OK I got it! You should create a `Properties` object with `transaction_mode` key and a desired transaction mode value. and put the `Properties` object as a parameter when your creating your new SQL `Connection` instance.\r\n\r\n    import java.sql.*; // &lt;-- bad practice.. just too lazy to put the needed modules one by one for this example\r\n\r\n    public void immediate_transaction_example() throws SQLException {\r\n    \r\n    \t// create a properties with a transaction_mode value\r\n    \tProperties sqlprop = new Properties();\r\n    \tproperties.put(&quot;transaction_mode&quot;, &quot;IMMEDIATE&quot;); // &lt;-- can be DEFERRED, IMMEDIATE, or EXCLUSIVE\r\n    \r\n    \r\n    \tdb = new DriverManager.getConection(&quot;jdbc:sqlite:sqlite.db&quot;, sqlprop); // &lt;-- pass the properties to the new sql connection instance.\r\n    \tdb.setAutoCommit(false); // &lt;-- this will automatically begin the transaction with the specified transaction mode...\r\n    \t// other new transactions attempts with immediate transaction mode will be blocked until the connection is closed.\r\n    \ttry {\r\n    \t\t// proceed the transactions here...\r\n    \t\tdb.createStatement().execute(&quot;INSERT INTO table (id, value) VALUES (1, &#39;myvalue&#39;)&quot;);\r\n    \t\tdb.createStatement().execute(&quot;INSERT INTO table (id, value) VALUES (2, &#39;myvalue&#39;)&quot;);\r\n    \r\n    \t\t// no errors proceed\r\n    \t\tdb.commit();\r\n    \t} catch (SQLException ex) {\r\n    \t\t// there is an error!\r\n    \t\tdb.rollback();\r\n    \t}\r\n    \tdb.close() // &lt;-- you need to close the connection for sqlite to create a new immediate transaction.\r\n    }\r\n\r\nNote: This uses xerial&#39;s sqlite-jdbc module.\r\n\r\nModule Link: https://github.com/xerial/sqlite-jdbc\r\n\r\n","title":"How to start an IMMEDIATE TRANSACTION in SQLITE JDBC","body":"<p>OK I got it! You should create a <code>Properties</code> object with <code>transaction_mode</code> key and a desired transaction mode value. and put the <code>Properties</code> object as a parameter when your creating your new SQL <code>Connection</code> instance.</p>\n<pre><code>import java.sql.*; // &lt;-- bad practice.. just too lazy to put the needed modules one by one for this example\n\npublic void immediate_transaction_example() throws SQLException {\n\n    // create a properties with a transaction_mode value\n    Properties sqlprop = new Properties();\n    properties.put(&quot;transaction_mode&quot;, &quot;IMMEDIATE&quot;); // &lt;-- can be DEFERRED, IMMEDIATE, or EXCLUSIVE\n\n\n    db = new DriverManager.getConection(&quot;jdbc:sqlite:sqlite.db&quot;, sqlprop); // &lt;-- pass the properties to the new sql connection instance.\n    db.setAutoCommit(false); // &lt;-- this will automatically begin the transaction with the specified transaction mode...\n    // other new transactions attempts with immediate transaction mode will be blocked until the connection is closed.\n    try {\n        // proceed the transactions here...\n        db.createStatement().execute(&quot;INSERT INTO table (id, value) VALUES (1, 'myvalue')&quot;);\n        db.createStatement().execute(&quot;INSERT INTO table (id, value) VALUES (2, 'myvalue')&quot;);\n\n        // no errors proceed\n        db.commit();\n    } catch (SQLException ex) {\n        // there is an error!\n        db.rollback();\n    }\n    db.close() // &lt;-- you need to close the connection for sqlite to create a new immediate transaction.\n}\n</code></pre>\n<p>Note: This uses xerial's sqlite-jdbc module.</p>\n<p>Module Link: <a href=\"https://github.com/xerial/sqlite-jdbc\" rel=\"nofollow noreferrer\">https://github.com/xerial/sqlite-jdbc</a></p>\n"}],"owner":{"account_id":6308784,"reputation":640,"user_id":4901031,"accept_rate":22,"display_name":"Gian Lorenzo Aba&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70129762,"answer_count":1,"score":1,"last_activity_date":1637958725,"creation_date":1637952131,"question_id":70128794,"body_markdown":"I&#39;m having a little problem with transactions using JDBC.\r\nI want to start an `IMMEDIATE` transaction which in pure SQL is:\r\n\r\n    BEGIN IMMEDIATE;\r\n\r\nIn Java JDBC SQLite, you cannot do this. You can&#39;t call BEGIN IMMEDIATE on a statement if you have autocommit enabled. Committing queries will result in an &quot;autocommit is enabled&quot; error.\r\n\r\n     db = DriverManager.getConnection(&quot;jdbc:sqlite:sqlite.db&quot;);\r\n    \r\n     // start a transaction using an sql query...\r\n     db.createStatement().execute(&quot;BEGIN IMMEDIATE&quot;);\r\n    \r\n     // create another statement because this is running from another method...\r\n     stmt = db.createStatement();\r\n     stmt.executeUpdate(&quot;UPDATE table SET column=&#39;value&#39; WHERE id=1&quot;);\r\n    \r\n     // this will cause an error(exception): AUTOCOMMIT IS ENABLED.\r\n     db.commit();\r\n\r\nThe code above will throw an `AUTOCOMMIT IS ENABLED` exception.\r\n\r\nHowever, there is also a problem when disabling autocommit because it starts the transaction after using that code. consider the code below:\r\n\r\n    db = DriverManager.getConnection(&quot;jdbc:sqlite:ez-inventory.db&quot;);\r\n    // doing the createstatement and setautocommit reciprocally still produce the same exception.\r\n    db.setAutoCommit(false);\r\n    db.createStatement().execute(&quot;BEGIN IMMEDIATE&quot;);\r\n\r\nThis code will throw another exception: \r\n\r\n&gt; [SQLITE_ERROR] SQL error or missing database (cannot start a\r\n&gt; transaction within a transaction)\r\n\r\nThere is a `setTransactionIsolation` method in the connection but it&#39;s not for transaction locking. It&#39;s for isolation. I need to start a transaction using any of the SQLite transaction modes: `DEFFERED`, `IMMEDIATE`, or `EXCLUSIVE`\r\n\r\nIs this possible with SQLite JDBC?\r\n\r\n","title":"How to start an IMMEDIATE TRANSACTION in SQLITE JDBC","body":"<p>I'm having a little problem with transactions using JDBC.\nI want to start an <code>IMMEDIATE</code> transaction which in pure SQL is:</p>\n<pre><code>BEGIN IMMEDIATE;\n</code></pre>\n<p>In Java JDBC SQLite, you cannot do this. You can't call BEGIN IMMEDIATE on a statement if you have autocommit enabled. Committing queries will result in an &quot;autocommit is enabled&quot; error.</p>\n<pre><code> db = DriverManager.getConnection(&quot;jdbc:sqlite:sqlite.db&quot;);\n\n // start a transaction using an sql query...\n db.createStatement().execute(&quot;BEGIN IMMEDIATE&quot;);\n\n // create another statement because this is running from another method...\n stmt = db.createStatement();\n stmt.executeUpdate(&quot;UPDATE table SET column='value' WHERE id=1&quot;);\n\n // this will cause an error(exception): AUTOCOMMIT IS ENABLED.\n db.commit();\n</code></pre>\n<p>The code above will throw an <code>AUTOCOMMIT IS ENABLED</code> exception.</p>\n<p>However, there is also a problem when disabling autocommit because it starts the transaction after using that code. consider the code below:</p>\n<pre><code>db = DriverManager.getConnection(&quot;jdbc:sqlite:ez-inventory.db&quot;);\n// doing the createstatement and setautocommit reciprocally still produce the same exception.\ndb.setAutoCommit(false);\ndb.createStatement().execute(&quot;BEGIN IMMEDIATE&quot;);\n</code></pre>\n<p>This code will throw another exception:</p>\n<blockquote>\n<p>[SQLITE_ERROR] SQL error or missing database (cannot start a\ntransaction within a transaction)</p>\n</blockquote>\n<p>There is a <code>setTransactionIsolation</code> method in the connection but it's not for transaction locking. It's for isolation. I need to start a transaction using any of the SQLite transaction modes: <code>DEFFERED</code>, <code>IMMEDIATE</code>, or <code>EXCLUSIVE</code></p>\n<p>Is this possible with SQLite JDBC?</p>\n"},{"tags":["java","web-applications","memcached","connection-timeout","spymemcached"],"owner":{"account_id":22426854,"reputation":13,"user_id":16633327,"display_name":"Testuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637958245,"creation_date":1637934078,"question_id":70125360,"body_markdown":"We have hosted a web application using memcache.\r\nEverything has been working fine for the past few years.\r\n\r\nAll of a sudden I am facing the following error in the application logs, This causes application slowness.\r\n\r\n**net.spy.memcached.internal.CheckedOperationTimeoutException: Timed out waiting for operation - failing node: /localhost:11211**\r\n\r\nAlso I am unable view the existing memcache configuration using stats command\r\n\r\nCan anyone help me on this please.\r\n\r\nFYI,\r\nWe are using the following version \r\n**memcached-win64-1.4.4-14**\r\n\r\nThanks for the help in advance.\r\n\r\n\r\n\r\n\r\n","title":"Cannot connect to memcache (Timed out waiting for operation - failing node: /localhost:11211)","body":"<p>We have hosted a web application using memcache.\nEverything has been working fine for the past few years.</p>\n<p>All of a sudden I am facing the following error in the application logs, This causes application slowness.</p>\n<p><strong>net.spy.memcached.internal.CheckedOperationTimeoutException: Timed out waiting for operation - failing node: /localhost:11211</strong></p>\n<p>Also I am unable view the existing memcache configuration using stats command</p>\n<p>Can anyone help me on this please.</p>\n<p>FYI,\nWe are using the following version\n<strong>memcached-win64-1.4.4-14</strong></p>\n<p>Thanks for the help in advance.</p>\n"},{"tags":["java","android","bluetooth","nfc"],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637957217,"creation_date":1637956648,"answer_id":70129470,"question_id":70129276,"body_markdown":"Usually, these Bluetooth readers come with a library. The product you provided sells some development tools that would probably help you integrate it into your application. Though very costly.\r\n\r\nI found a [github repository][1], which provides a library to connect to NFC Readers via USB. Bluetooth connections are supported as Beta for exactly your linked product. So, I think the repository is a good starting point for you. \r\n\r\nI personally worked with [these readers][2], where a fully functional [library][3] was provided. I can 100% recommend them, however I think they were pretty costly.\r\n\r\n***EDIT:*** I looked again on the [website][4] of your product and they provide some downloads. Two of the downloads are for their sample Android application, which includes the application&#39;s source code as well as their library. So, if you got that product simply download their resources and integrate the parts you want in your applcation.\r\n\r\n\r\n  [1]: https://github.com/skjolber/external-nfc-api\r\n  [2]: https://www.tertiumtechnology.com/en/product/nfc-scanner/\r\n  [3]: https://github.com/tertiumtechnology/tt-rfid-passive-api-lib-android\r\n  [4]: https://www.acs.com.hk/en/products/403/acr1255u-j1-acs-secure-bluetooth%C2%AE-nfc-reader/","title":"Read information from Bluetooth NFC reader","body":"<p>Usually, these Bluetooth readers come with a library. The product you provided sells some development tools that would probably help you integrate it into your application. Though very costly.</p>\n<p>I found a <a href=\"https://github.com/skjolber/external-nfc-api\" rel=\"nofollow noreferrer\">github repository</a>, which provides a library to connect to NFC Readers via USB. Bluetooth connections are supported as Beta for exactly your linked product. So, I think the repository is a good starting point for you.</p>\n<p>I personally worked with <a href=\"https://www.tertiumtechnology.com/en/product/nfc-scanner/\" rel=\"nofollow noreferrer\">these readers</a>, where a fully functional <a href=\"https://github.com/tertiumtechnology/tt-rfid-passive-api-lib-android\" rel=\"nofollow noreferrer\">library</a> was provided. I can 100% recommend them, however I think they were pretty costly.</p>\n<p><em><strong>EDIT:</strong></em> I looked again on the <a href=\"https://www.acs.com.hk/en/products/403/acr1255u-j1-acs-secure-bluetooth%C2%AE-nfc-reader/\" rel=\"nofollow noreferrer\">website</a> of your product and they provide some downloads. Two of the downloads are for their sample Android application, which includes the application's source code as well as their library. So, if you got that product simply download their resources and integrate the parts you want in your applcation.</p>\n"}],"owner":{"account_id":13747877,"reputation":675,"user_id":9920930,"display_name":"unglinh279"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70129470,"answer_count":1,"score":1,"last_activity_date":1637957217,"creation_date":1637955344,"question_id":70129276,"body_markdown":"I&#39;m trying to make an Android app (Java) that reads the information from an &quot;NFC to Bluetooth reader&quot; (like [this one][1]). \r\n\r\nBasically, the device will read the information from the NFC and transfer it to Bluetooth.\r\n\r\nI&#39;m trying to make an app that reads the information from that device via Bluetooth, but I haven&#39;t found any solution.\r\n\r\nIs there any link or keyword that could help?\r\n\r\n\r\n\r\n\r\n  [1]: https://www.alibaba.com/product-detail/ACR1255U-J1-Android-IOS-Smart-acr1255_62045811087.html","title":"Read information from Bluetooth NFC reader","body":"<p>I'm trying to make an Android app (Java) that reads the information from an &quot;NFC to Bluetooth reader&quot; (like <a href=\"https://www.alibaba.com/product-detail/ACR1255U-J1-Android-IOS-Smart-acr1255_62045811087.html\" rel=\"nofollow noreferrer\">this one</a>).</p>\n<p>Basically, the device will read the information from the NFC and transfer it to Bluetooth.</p>\n<p>I'm trying to make an app that reads the information from that device via Bluetooth, but I haven't found any solution.</p>\n<p>Is there any link or keyword that could help?</p>\n"},{"tags":["java","sockets","networking","echo-server"],"answers":[{"tags":[],"owner":{"account_id":11743324,"reputation":339,"user_id":8594842,"display_name":"absuu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636809612,"creation_date":1636809612,"answer_id":69954634,"question_id":69950915,"body_markdown":"To be frankly, there are too much to read through, it would be better if you described some part of your codes more specifically, and there would be more people be willing to help you. Nonetheless, here are some suggestions for your codes, hope this helps.\r\n\r\n---\r\n\r\nFor your 1st question **&quot;...I don&#39;t receive an echo until the next message on the client side...&quot;** : \r\n\r\nChanges in **EchoClient** :\r\n\r\n```java\r\n    // ...\r\n\r\n    CaesarCipher caesarCipher = new CaesarCipher();\r\n    String serverKeyMessage = message;\r\n\r\n    /* --- Delete 1 line : */\r\n    // int serverKey = Integer.parseInt(serverKeyMessage.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n\r\n    /* +++ Add 5 lines : */\r\n    int serverKey;\r\n    java.util.regex.Matcher m = Pattern.compile(&quot;.*([0-9]+).*&quot;).matcher(serverKeyMessage);\r\n    if (m.matches()) serverKey = Integer.parseInt(m.group(1));\r\n    else serverKey = 0;\r\n    System.out.println(serverKeyMessage);\r\n\r\n    // ...\r\n\r\n```\r\n\r\nFor your 2nd question ***&quot;...doesn&#39;t begin to perform the function until 2 subsequent...&quot;*** :\r\n\r\nChanges in  **EchoServer** :\r\n\r\n```java\r\n    // ...\r\n\r\n    CaesarCipher caesarCipher = new CaesarCipher();\r\n    //  currentMessage = input.readLine();   // delete this line\r\n    currentMessage = inputLine;   // add this line\r\n    String decryptedMessage = caesarCipher.decrypt(currentMessage, randomKey);\r\n    \r\n    // ...\r\n```\r\n\r\n","title":"How do I fixed skipped input/output lines in Java Echo Server?","body":"<p>To be frankly, there are too much to read through, it would be better if you described some part of your codes more specifically, and there would be more people be willing to help you. Nonetheless, here are some suggestions for your codes, hope this helps.</p>\n<hr />\n<p>For your 1st question <strong>&quot;...I don't receive an echo until the next message on the client side...&quot;</strong> :</p>\n<p>Changes in <strong>EchoClient</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // ...\n\n    CaesarCipher caesarCipher = new CaesarCipher();\n    String serverKeyMessage = message;\n\n    /* --- Delete 1 line : */\n    // int serverKey = Integer.parseInt(serverKeyMessage.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n\n    /* +++ Add 5 lines : */\n    int serverKey;\n    java.util.regex.Matcher m = Pattern.compile(&quot;.*([0-9]+).*&quot;).matcher(serverKeyMessage);\n    if (m.matches()) serverKey = Integer.parseInt(m.group(1));\n    else serverKey = 0;\n    System.out.println(serverKeyMessage);\n\n    // ...\n\n</code></pre>\n<p>For your 2nd question <em><strong>&quot;...doesn't begin to perform the function until 2 subsequent...&quot;</strong></em> :</p>\n<p>Changes in  <strong>EchoServer</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // ...\n\n    CaesarCipher caesarCipher = new CaesarCipher();\n    //  currentMessage = input.readLine();   // delete this line\n    currentMessage = inputLine;   // add this line\n    String decryptedMessage = caesarCipher.decrypt(currentMessage, randomKey);\n    \n    // ...\n</code></pre>\n"}],"owner":{"account_id":19856610,"reputation":3,"user_id":14545902,"display_name":"Yames"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69954634,"answer_count":1,"score":0,"last_activity_date":1637955382,"creation_date":1636769370,"question_id":69950915,"body_markdown":"New to network computing, so forgive my ignorance:\r\n\r\nAll of my commands work except for the /caesarcipher - when I enter it, I don&#39;t receive an echo until the next message on the client side, and the server doesn&#39;t begin to perform the function until 2 subsequent messages have been sent. \r\n\r\nAny help would be appreciated!\r\n\r\n```java\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class EchoServer{\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t//Initializes and attempts to connect server\r\n\t\tServerSocket serverSock = null;\r\n\t\ttry{\r\n\t\t\tserverSock = new ServerSocket(8000);\r\n\t\t}\r\n\t\tcatch (IOException ie){\r\n\t\t\tSystem.out.println(&quot;[SERVER DISCONNECTED!] Can&#39;t listen on 8000&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\tSocket link = null;\r\n\t\tSystem.out.println(&quot;[SERVER CONNECTED!] Listening for connection ...&quot;);\r\n\t\ttry {\r\n\t\t\tlink = serverSock.accept();\r\n\t\t}\r\n\t\tcatch (IOException ie){\r\n\t\t\tSystem.out.println(&quot;[SERVER DISCONNECTED!] Accept failed&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\n\t\t//Connects client if handshake is successful\r\n\t\tSystem.out.println(&quot;[CLIENT CONNECTED!] Link Information:&quot; + link);\r\n\t\tSystem.out.println(&quot;Listening for input ...&quot;);\r\n\r\n\t\t//Initializes input and output streams\r\n\t\tPrintWriter output = new PrintWriter(link.getOutputStream(), true);\r\n\t\tBufferedReader input = new BufferedReader(new InputStreamReader(link.getInputStream()));\r\n\t\tString inputLine;\r\n\t\twhile ((inputLine = input.readLine())!=null) {\r\n\t\t\tString currentMessage = inputLine;\r\n\t\t\tSystem.out.println(&quot;[SERVER:] &quot; + currentMessage);\r\n\t\t\tswitch(currentMessage){\r\n\t\t\t\tcase &quot;/myip&quot;:\t\t\t\t\t\t\t\t\t\t\t//Looks up local IP address of client\r\n\t\t\t\t\tMyLocalIPAddress myIP = new MyLocalIPAddress();\r\n\t\t\t\t\tString ip = myIP.run();\r\n\t\t\t\t\toutput.println(ip);\r\n\t\t\t\t\tSystem.out.println(ip);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;/iplookup&quot;:\t\t\t\t\t\t\t\t\t\t//Looks up IP of user input website\r\n\t\t\t\t\tIPFinder ipFinder = new IPFinder();\r\n//\tTO DO:\t\t\t\tUrlValidator validator = new UrlValidator();\r\n\t\t\t\t\tSystem.out.println(&quot;[REQUESTING URL FROM CLIENT!]&quot;);\r\n\t\t\t\t\toutput.println(&quot;Enter Website URL:&quot;);\r\n\t\t\t\t\tinputLine = input.readLine();\r\n\t\t\t\t\tSystem.out.println(&quot;Server: &quot; + inputLine);\r\n//\tTO DO:\t\t\tif(validator.isValid(inputLine)) {                    //Regex to validate user input\r\n\t\t\t\t\tString ipAddress = ipFinder.find(inputLine) + &quot; ==&gt;  [IPLOOKUP TERMINATING]&quot;;\r\n\t\t\t\t\tSystem.out.println(ipAddress);\r\n\t\t\t\t\toutput.println(ipAddress);\r\n\t\t\t\t\tSystem.out.println(&quot;[IPLOOKUP FUNCTION TERMINATING!]&quot;);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &quot;/numbergame&quot;:\t\t\t\t\t\t\t\t\t\t\t//Starts a number guessing game\r\n\t\t\t\t\tboolean isPlaying;\r\n\t\t\t\t\tint randomNumber = -1;\r\n\t\t\t\t\tfinal int maxNum = 100;\r\n\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS INITIATED GUESS THE NUMBER GAME!]&quot;);\r\n\t\t\t\t\toutput.println(&quot;Would you like to play the number game (Y/N)?&quot;);\r\n\t\t\t\t\tinputLine = input.readLine();\r\n\t\t\t\t\tif(inputLine.equalsIgnoreCase(&quot;Y&quot;)){\r\n\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT REQUESTS TO BEGIN A GAME!]&quot;);\r\n\t\t\t\t\t\tisPlaying = true;\r\n\t\t\t\t\t\tSystem.out.println(&quot;[SERVER IS PICKING A RANDOM NUMBER!]&quot;);\r\n\t\t\t\t\t\toutput.println(&quot;Enter A Number Between 0-100 (/endgame to quit)&quot;);\r\n\t\t\t\t\t\trandomNumber = (int) Math.floor(Math.random() * maxNum + 1);\r\n\t\t\t\t\t\tSystem.out.println(&quot;[RANDOM NUMBER IS: &quot; + randomNumber + &quot;]&quot;);\r\n\t\t\t\t\t}else if(inputLine.equalsIgnoreCase(&quot;N&quot;)){\r\n\t\t\t\t\t\tSystem.out.println(&quot;[GUESS THE NUMBER GAME ABORTING]&quot;);\r\n\t\t\t\t\t\toutput.println(&quot;Quitting guess the number game&quot;);\r\n\t\t\t\t\t\tisPlaying = false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT PROVIDED FAULTY INPUT, GAME ABORTING!]&quot;);\r\n\t\t\t\t\t\toutput.println(&quot;Input not recognized, game aborting!&quot;);\r\n\t\t\t\t\t\tisPlaying = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile(isPlaying) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;[REQUESTING NUMBER FROM CLIENT!]&quot;);\r\n\t\t\t\t\t\tinputLine = input.readLine();\r\n\t\t\t\t\t\tif (inputLine.equalsIgnoreCase(&quot;/endgame&quot;)) {\r\n\t\t\t\t\t\t\tisPlaying = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNumeric(inputLine)) {\r\n\t\t\t\t\t\t\tint currentGuess = Integer.parseInt(inputLine);\r\n\t\t\t\t\t\t\tif (randomNumber == currentGuess) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS GUESSED THE CORRECT NUMBER, GAME TERMINATING!]&quot;);\r\n\t\t\t\t\t\t\t\toutput.println(&quot;You have guessed correctly! Game ending!&quot;);\r\n\t\t\t\t\t\t\t\tisPlaying = false;\r\n\t\t\t\t\t\t\t} else if (currentGuess &gt; randomNumber) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT GUESSED TOO HIGH!]&quot;);\r\n\t\t\t\t\t\t\t\toutput.println(&quot;Too high! Guess again!&quot;);\r\n\t\t\t\t\t\t\t} else if (currentGuess &lt; randomNumber) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT GUESSED TOO LOW!]&quot;);\r\n\t\t\t\t\t\t\t\toutput.println(&quot;Too low! Guess again!&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(inputLine.equalsIgnoreCase(&quot;/endgame&quot;)){\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS REQUESTED TO END GAME - TERMINATING...]&quot;);\r\n\t\t\t\t\t\t\toutput.println(&quot;Quitting game, better luck next time!&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS PROVIDED INCORRECT INPUT]&quot;);\r\n\t\t\t\t\t\t\toutput.println(&quot;You have not entered a valid number, try again!&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &quot;/caesarcipher&quot;:\r\n\t\t\t\t\tint maxKeyValue = 25;\r\n\r\n\t\t\t\t\tint randomKey = (int) Math.floor(Math.random() * maxKeyValue + 1);\r\n\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS INITIATED CAESAR CIPHER PROGRAM ----- CLIENT CAESAR CIPHER IS &quot;\r\n\t\t\t\t\t\t\t+ randomKey + &quot; (Type &#39;bye&#39; to exit)!]&quot;);\r\n\t\t\t\t\toutput.println(&quot;Your Caesar Cipher is &quot; + randomKey + &quot;. Enter a message to encrypt: &quot;);\r\n\r\n\t\t\t\t\twhile((inputLine = input.readLine()) != null) {\r\n\t\t\t\t\t\tif (inputLine.equalsIgnoreCase(&quot;/caesarcipher&quot;)) {\r\n\t\t\t\t\t\t\toutput.println(&quot;Your Caesar Cipher is &quot; + randomKey + &quot;. Enter a message to encrypt: &quot;);\r\n\t\t\t\t\t\t\toutput.flush();\r\n\t\t\t\t\t\t}else if (inputLine.equalsIgnoreCase(&quot;/bye&quot;) ||\r\n\t\t\t\t\t\t\t\tinputLine.equalsIgnoreCase(&quot;bye&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[CLIENT HAS REQUESTED TO END CAESAR CIPHER MODE!]&quot;);\r\n\t\t\t\t\t\t\toutput.println(&quot;Quitting Caesar cipher mode...&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tCaesarCipher caesarCipher = new CaesarCipher();\r\n\t\t\t\t\t\t\tcurrentMessage = input.readLine();\r\n\t\t\t\t\t\t\tString decryptedMessage = caesarCipher.decrypt(currentMessage, randomKey);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[SERVER:] Received: &quot; + currentMessage + &quot; ==&gt; &quot; +\r\n\t\t\t\t\t\t\t\t\tdecryptedMessage);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\r\n\r\n\t\t\t\tcase &quot;/killserver&quot;:\r\n\t\t\t\t\tSystem.out.println(&quot;[CLIENT REQUESTED SERVER SHUTDOWN!]&quot;);\r\n\t\t\t\t\tTimeUnit.SECONDS.sleep(1);\r\n\t\t\t\t\tSystem.out.println(&quot;[SERVER IS SHUTTING DOWN!&quot;);\r\n\t\t\t\t\tTimeUnit.SECONDS.sleep(1);\r\n\t\t\t\t\tcloseServer(output, input, link, serverSock);\r\n\t\t\t\t\tSystem.exit(1);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &quot;exit&quot;:\r\n\t\t\t\tcase &quot;quit&quot;:\r\n\t\t\t\tcase &quot;disconnect&quot;:\r\n\t\t\t\t\tdisconnectClient(output, input, link, serverSock);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\toutput.println(currentMessage);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic static void closeServer(PrintWriter output, BufferedReader input, Socket link, ServerSocket serverSock)\r\n\t\t\tthrows IOException {\r\n\t\tSystem.out.println(&quot;[CLIENT REQUESTED TO CLOSE SERVER!&quot;);\r\n\t\toutput.close();\r\n\t\tinput.close();\r\n\t\tlink.close();\r\n\t\tserverSock.close();\r\n\t}\r\n\r\n\tpublic static void disconnectClient(PrintWriter output, BufferedReader input, Socket link, ServerSocket serverSock)\r\n\t\t\tthrows IOException, InterruptedException {\r\n\t\toutput.println(&quot;[CLIENT REQUESTED TO CLOSE CONNECTION!&quot;);\r\n\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\toutput.println(&quot;[DISCONNECTING!&quot;);\r\n\t\toutput.close();\r\n\t\tinput.close();\r\n\t\tlink.close();\r\n\t}\r\n\r\n\t//Tests to see if a string contains all numeric values\r\n\tpublic static boolean isNumeric(String str) {\r\n\t\tfor (char c : str.toCharArray()){\r\n\t\t\tif (!Character.isDigit(c)) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class EchoClient{\r\n\tpublic static void main(String[] args) throws IOException{\r\n\t\tSocket link = null;\r\n\t\tPrintWriter output = null;\r\n\t\tBufferedReader input = null;\r\n\t\tBoolean cipherModeActive = true;\r\n\r\n\t\ttry{\r\n\t\t\tSystem.out.println(&quot;[CONNECTING TO SERVER ON PORT 8000]&quot;);\r\n\t\t\tlink = new Socket(InetAddress.getLocalHost(), 8000);\r\n\t\t\toutput = new PrintWriter(link.getOutputStream(), true);\r\n\t\t\tinput = new BufferedReader(new InputStreamReader(link.getInputStream()));\r\n\t\t\tSystem.out.println(&quot;[CONNECTED TO SERVER]&quot;);\r\n\t\t}\r\n\t\tcatch(UnknownHostException e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Unknown Host&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\tcatch (IOException e){\r\n\t\t\tSystem.out.println(&quot;Cannot connect to host&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\n\t\tBufferedReader stdIn = new BufferedReader((new InputStreamReader(System.in)));\r\n\t\tString usrInput;\r\n\r\n\t\tSystem.out.println(&quot;Welcome to the Server!\\n\\n&quot; +\r\n\t\t\t\t&quot;----- Here is a List Options: ----- \\n &quot; +\r\n\t\t\t\t&quot;/myip ----- will allow you to look up your ip address\\n&quot; +\r\n\t\t\t\t&quot;/iplookup ----- will allow you to look up the ip of a URL\\n&quot; +\r\n\t\t\t\t&quot;/numbergame ----- allows you to play a guess the number game\\n&quot; +\r\n\t\t\t\t&quot;/caesarcipher ----- allows you to encrypt and decrypt server messages using a caesar cipher\\n&quot; +\r\n\t\t\t\t&quot;/exit, /quit, /disconnect ---- allows you to disconnect from the server\\n\\n&quot; +\r\n\t\t\t\t&quot;Enter a message:&quot;);\r\n\r\n\t\t//User Input\r\n\t\tboolean cipherActive = false;\r\n\t\twhile ((usrInput = stdIn.readLine())!=null){\r\n\t\t\toutput.println(usrInput);\r\n\t\t\tString message = input.readLine();\r\n\r\n\t\t\tif(usrInput.equalsIgnoreCase(&quot;/caesarcipher&quot;)){\r\n\t\t\t\tcipherActive = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(!cipherActive){\r\n\t\t\t\tSystem.out.println(&quot;echo: &quot; + message);\r\n\t\t\t\toutput.flush();\r\n\t\t\t}\r\n\t\t\tif(cipherActive) {\r\n\t\t\t\tCaesarCipher caesarCipher = new CaesarCipher();\r\n\t\t\t\tString serverKeyMessage = message;\r\n\t\t\t\tint serverKey = Integer.parseInt(serverKeyMessage.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n\t\t\t\twhile ((usrInput = stdIn.readLine()) != null) {\r\n\t\t\t\t\tmessage = usrInput;\r\n\t\t\t\t\tif (usrInput.equalsIgnoreCase(&quot;/caesarcipher&quot;)){\r\n\t\t\t\t\t\toutput.flush();\r\n\t\t\t\t\t}else if (usrInput.equalsIgnoreCase(&quot;/bye&quot;)\r\n\t\t\t\t\t\t\t|| usrInput.equalsIgnoreCase(&quot;bye&quot;)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Encrypts message to send to server\r\n\r\n\t\t\t\t\t//Prints server response to client\r\n\t\t\t\t\tif (!message.equalsIgnoreCase(&quot;/caesarcipher&quot;)) {\r\n\t\t\t\t\t\tString currentMessage = usrInput;\r\n\t\t\t\t\t\tString encryptedMessage = caesarCipher.encrypt(currentMessage, serverKey);\r\n\t\t\t\t\t\toutput.println(encryptedMessage);\r\n\t\t\t\t\t\tSystem.out.println(&quot;echo: &quot; + message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch(usrInput) {\r\n//\t\t\tcase &quot;echo: Enter Website URL:&quot;:\r\n//\t\t\tcase &quot;iplookup terminating...&quot;:\r\n//\t\t\tcase &quot;Would you like to play the number game (Y/N)?&quot;:\r\n//\t\t\tcase &quot;You have guessed correctly! Game ending!&quot;:\r\n//\t\t\tcase &quot;echo: Enter a message to encrypt: &quot;:\r\n//\t\t\t\toutput.flush();\r\n\r\n\t\t\tcase &quot;echo: /quit&quot;:\r\n\t\t\tcase &quot;echo: /disconnect&quot;:\r\n\t\t\tcase &quot;echo: /killserver&quot;:\r\n\t\t\t\toutput.close();\r\n\t\t\t\tinput.close();\r\n\t\t\t\tstdIn.close();\r\n\t\t\t\tlink.close();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t//Flushes output for number game\r\n\t\tif(isNumeric(usrInput)){\r\n\t\t\toutput.flush();\r\n\t\t}\r\n\t}\r\n\t//Checks string for numerical values and returns true if all numeric, false if other characters are present\r\n\r\n\tpublic static boolean isNumeric(String str) {\r\n\t\tfor (char c : str.toCharArray()){\r\n\t\t\tif(!Character.isDigit(c)) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n","title":"How do I fixed skipped input/output lines in Java Echo Server?","body":"<p>New to network computing, so forgive my ignorance:</p>\n<p>All of my commands work except for the /caesarcipher - when I enter it, I don't receive an echo until the next message on the client side, and the server doesn't begin to perform the function until 2 subsequent messages have been sent.</p>\n<p>Any help would be appreciated!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.*;\nimport java.io.*;\nimport java.util.concurrent.TimeUnit;\n\npublic class EchoServer{\n\n    public static void main(String[] args) throws Exception {\n        //Initializes and attempts to connect server\n        ServerSocket serverSock = null;\n        try{\n            serverSock = new ServerSocket(8000);\n        }\n        catch (IOException ie){\n            System.out.println(&quot;[SERVER DISCONNECTED!] Can't listen on 8000&quot;);\n            System.exit(1);\n        }\n        Socket link = null;\n        System.out.println(&quot;[SERVER CONNECTED!] Listening for connection ...&quot;);\n        try {\n            link = serverSock.accept();\n        }\n        catch (IOException ie){\n            System.out.println(&quot;[SERVER DISCONNECTED!] Accept failed&quot;);\n            System.exit(1);\n        }\n\n        //Connects client if handshake is successful\n        System.out.println(&quot;[CLIENT CONNECTED!] Link Information:&quot; + link);\n        System.out.println(&quot;Listening for input ...&quot;);\n\n        //Initializes input and output streams\n        PrintWriter output = new PrintWriter(link.getOutputStream(), true);\n        BufferedReader input = new BufferedReader(new InputStreamReader(link.getInputStream()));\n        String inputLine;\n        while ((inputLine = input.readLine())!=null) {\n            String currentMessage = inputLine;\n            System.out.println(&quot;[SERVER:] &quot; + currentMessage);\n            switch(currentMessage){\n                case &quot;/myip&quot;:                                           //Looks up local IP address of client\n                    MyLocalIPAddress myIP = new MyLocalIPAddress();\n                    String ip = myIP.run();\n                    output.println(ip);\n                    System.out.println(ip);\n                    break;\n                case &quot;/iplookup&quot;:                                       //Looks up IP of user input website\n                    IPFinder ipFinder = new IPFinder();\n//  TO DO:              UrlValidator validator = new UrlValidator();\n                    System.out.println(&quot;[REQUESTING URL FROM CLIENT!]&quot;);\n                    output.println(&quot;Enter Website URL:&quot;);\n                    inputLine = input.readLine();\n                    System.out.println(&quot;Server: &quot; + inputLine);\n//  TO DO:          if(validator.isValid(inputLine)) {                    //Regex to validate user input\n                    String ipAddress = ipFinder.find(inputLine) + &quot; ==&gt;  [IPLOOKUP TERMINATING]&quot;;\n                    System.out.println(ipAddress);\n                    output.println(ipAddress);\n                    System.out.println(&quot;[IPLOOKUP FUNCTION TERMINATING!]&quot;);\n                    break;\n\n                case &quot;/numbergame&quot;:                                         //Starts a number guessing game\n                    boolean isPlaying;\n                    int randomNumber = -1;\n                    final int maxNum = 100;\n                    System.out.println(&quot;[CLIENT HAS INITIATED GUESS THE NUMBER GAME!]&quot;);\n                    output.println(&quot;Would you like to play the number game (Y/N)?&quot;);\n                    inputLine = input.readLine();\n                    if(inputLine.equalsIgnoreCase(&quot;Y&quot;)){\n                        System.out.println(&quot;[CLIENT REQUESTS TO BEGIN A GAME!]&quot;);\n                        isPlaying = true;\n                        System.out.println(&quot;[SERVER IS PICKING A RANDOM NUMBER!]&quot;);\n                        output.println(&quot;Enter A Number Between 0-100 (/endgame to quit)&quot;);\n                        randomNumber = (int) Math.floor(Math.random() * maxNum + 1);\n                        System.out.println(&quot;[RANDOM NUMBER IS: &quot; + randomNumber + &quot;]&quot;);\n                    }else if(inputLine.equalsIgnoreCase(&quot;N&quot;)){\n                        System.out.println(&quot;[GUESS THE NUMBER GAME ABORTING]&quot;);\n                        output.println(&quot;Quitting guess the number game&quot;);\n                        isPlaying = false;\n                    }else{\n                        System.out.println(&quot;[CLIENT PROVIDED FAULTY INPUT, GAME ABORTING!]&quot;);\n                        output.println(&quot;Input not recognized, game aborting!&quot;);\n                        isPlaying = false;\n                    }\n\n                    while(isPlaying) {\n                        System.out.println(&quot;[REQUESTING NUMBER FROM CLIENT!]&quot;);\n                        inputLine = input.readLine();\n                        if (inputLine.equalsIgnoreCase(&quot;/endgame&quot;)) {\n                            isPlaying = false;\n                        }\n                        if (isNumeric(inputLine)) {\n                            int currentGuess = Integer.parseInt(inputLine);\n                            if (randomNumber == currentGuess) {\n                                System.out.println(&quot;[CLIENT HAS GUESSED THE CORRECT NUMBER, GAME TERMINATING!]&quot;);\n                                output.println(&quot;You have guessed correctly! Game ending!&quot;);\n                                isPlaying = false;\n                            } else if (currentGuess &gt; randomNumber) {\n                                System.out.println(&quot;[CLIENT GUESSED TOO HIGH!]&quot;);\n                                output.println(&quot;Too high! Guess again!&quot;);\n                            } else if (currentGuess &lt; randomNumber) {\n                                System.out.println(&quot;[CLIENT GUESSED TOO LOW!]&quot;);\n                                output.println(&quot;Too low! Guess again!&quot;);\n                            }\n                        }else if(inputLine.equalsIgnoreCase(&quot;/endgame&quot;)){\n                            System.out.println(&quot;[CLIENT HAS REQUESTED TO END GAME - TERMINATING...]&quot;);\n                            output.println(&quot;Quitting game, better luck next time!&quot;);\n                            break;\n\n                        }else{\n                            System.out.println(&quot;[CLIENT HAS PROVIDED INCORRECT INPUT]&quot;);\n                            output.println(&quot;You have not entered a valid number, try again!&quot;);\n                        }\n                    }\n                    break;\n\n                case &quot;/caesarcipher&quot;:\n                    int maxKeyValue = 25;\n\n                    int randomKey = (int) Math.floor(Math.random() * maxKeyValue + 1);\n                    System.out.println(&quot;[CLIENT HAS INITIATED CAESAR CIPHER PROGRAM ----- CLIENT CAESAR CIPHER IS &quot;\n                            + randomKey + &quot; (Type 'bye' to exit)!]&quot;);\n                    output.println(&quot;Your Caesar Cipher is &quot; + randomKey + &quot;. Enter a message to encrypt: &quot;);\n\n                    while((inputLine = input.readLine()) != null) {\n                        if (inputLine.equalsIgnoreCase(&quot;/caesarcipher&quot;)) {\n                            output.println(&quot;Your Caesar Cipher is &quot; + randomKey + &quot;. Enter a message to encrypt: &quot;);\n                            output.flush();\n                        }else if (inputLine.equalsIgnoreCase(&quot;/bye&quot;) ||\n                                inputLine.equalsIgnoreCase(&quot;bye&quot;)) {\n                            System.out.println(&quot;[CLIENT HAS REQUESTED TO END CAESAR CIPHER MODE!]&quot;);\n                            output.println(&quot;Quitting Caesar cipher mode...&quot;);\n                            break;\n                        }else{\n                            CaesarCipher caesarCipher = new CaesarCipher();\n                            currentMessage = input.readLine();\n                            String decryptedMessage = caesarCipher.decrypt(currentMessage, randomKey);\n                            System.out.println(&quot;[SERVER:] Received: &quot; + currentMessage + &quot; ==&gt; &quot; +\n                                    decryptedMessage);\n                        }\n                    }\n\n                    break;\n\n            \n\n                case &quot;/killserver&quot;:\n                    System.out.println(&quot;[CLIENT REQUESTED SERVER SHUTDOWN!]&quot;);\n                    TimeUnit.SECONDS.sleep(1);\n                    System.out.println(&quot;[SERVER IS SHUTTING DOWN!&quot;);\n                    TimeUnit.SECONDS.sleep(1);\n                    closeServer(output, input, link, serverSock);\n                    System.exit(1);\n                    break;\n\n                case &quot;exit&quot;:\n                case &quot;quit&quot;:\n                case &quot;disconnect&quot;:\n                    disconnectClient(output, input, link, serverSock);\n                    break;\n                default:\n                    output.println(currentMessage);\n            }\n        }\n    }\n    public static void closeServer(PrintWriter output, BufferedReader input, Socket link, ServerSocket serverSock)\n            throws IOException {\n        System.out.println(&quot;[CLIENT REQUESTED TO CLOSE SERVER!&quot;);\n        output.close();\n        input.close();\n        link.close();\n        serverSock.close();\n    }\n\n    public static void disconnectClient(PrintWriter output, BufferedReader input, Socket link, ServerSocket serverSock)\n            throws IOException, InterruptedException {\n        output.println(&quot;[CLIENT REQUESTED TO CLOSE CONNECTION!&quot;);\n        TimeUnit.SECONDS.sleep(5);\n        output.println(&quot;[DISCONNECTING!&quot;);\n        output.close();\n        input.close();\n        link.close();\n    }\n\n    //Tests to see if a string contains all numeric values\n    public static boolean isNumeric(String str) {\n        for (char c : str.toCharArray()){\n            if (!Character.isDigit(c)) return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\n\npublic class EchoClient{\n    public static void main(String[] args) throws IOException{\n        Socket link = null;\n        PrintWriter output = null;\n        BufferedReader input = null;\n        Boolean cipherModeActive = true;\n\n        try{\n            System.out.println(&quot;[CONNECTING TO SERVER ON PORT 8000]&quot;);\n            link = new Socket(InetAddress.getLocalHost(), 8000);\n            output = new PrintWriter(link.getOutputStream(), true);\n            input = new BufferedReader(new InputStreamReader(link.getInputStream()));\n            System.out.println(&quot;[CONNECTED TO SERVER]&quot;);\n        }\n        catch(UnknownHostException e)\n        {\n            System.out.println(&quot;Unknown Host&quot;);\n            System.exit(1);\n        }\n        catch (IOException e){\n            System.out.println(&quot;Cannot connect to host&quot;);\n            System.exit(1);\n        }\n\n        BufferedReader stdIn = new BufferedReader((new InputStreamReader(System.in)));\n        String usrInput;\n\n        System.out.println(&quot;Welcome to the Server!\\n\\n&quot; +\n                &quot;----- Here is a List Options: ----- \\n &quot; +\n                &quot;/myip ----- will allow you to look up your ip address\\n&quot; +\n                &quot;/iplookup ----- will allow you to look up the ip of a URL\\n&quot; +\n                &quot;/numbergame ----- allows you to play a guess the number game\\n&quot; +\n                &quot;/caesarcipher ----- allows you to encrypt and decrypt server messages using a caesar cipher\\n&quot; +\n                &quot;/exit, /quit, /disconnect ---- allows you to disconnect from the server\\n\\n&quot; +\n                &quot;Enter a message:&quot;);\n\n        //User Input\n        boolean cipherActive = false;\n        while ((usrInput = stdIn.readLine())!=null){\n            output.println(usrInput);\n            String message = input.readLine();\n\n            if(usrInput.equalsIgnoreCase(&quot;/caesarcipher&quot;)){\n                cipherActive = true;\n            }\n\n            if(!cipherActive){\n                System.out.println(&quot;echo: &quot; + message);\n                output.flush();\n            }\n            if(cipherActive) {\n                CaesarCipher caesarCipher = new CaesarCipher();\n                String serverKeyMessage = message;\n                int serverKey = Integer.parseInt(serverKeyMessage.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                while ((usrInput = stdIn.readLine()) != null) {\n                    message = usrInput;\n                    if (usrInput.equalsIgnoreCase(&quot;/caesarcipher&quot;)){\n                        output.flush();\n                    }else if (usrInput.equalsIgnoreCase(&quot;/bye&quot;)\n                            || usrInput.equalsIgnoreCase(&quot;bye&quot;)) {\n                        break;\n                    }\n                    //Encrypts message to send to server\n\n                    //Prints server response to client\n                    if (!message.equalsIgnoreCase(&quot;/caesarcipher&quot;)) {\n                        String currentMessage = usrInput;\n                        String encryptedMessage = caesarCipher.encrypt(currentMessage, serverKey);\n                        output.println(encryptedMessage);\n                        System.out.println(&quot;echo: &quot; + message);\n                    }\n                }\n                break;\n            }\n        }\n\n        switch(usrInput) {\n//          case &quot;echo: Enter Website URL:&quot;:\n//          case &quot;iplookup terminating...&quot;:\n//          case &quot;Would you like to play the number game (Y/N)?&quot;:\n//          case &quot;You have guessed correctly! Game ending!&quot;:\n//          case &quot;echo: Enter a message to encrypt: &quot;:\n//              output.flush();\n\n            case &quot;echo: /quit&quot;:\n            case &quot;echo: /disconnect&quot;:\n            case &quot;echo: /killserver&quot;:\n                output.close();\n                input.close();\n                stdIn.close();\n                link.close();\n                break;\n        }\n        //Flushes output for number game\n        if(isNumeric(usrInput)){\n            output.flush();\n        }\n    }\n    //Checks string for numerical values and returns true if all numeric, false if other characters are present\n\n    public static boolean isNumeric(String str) {\n        for (char c : str.toCharArray()){\n            if(!Character.isDigit(c)) return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637955283,"creation_date":1637947808,"answer_id":70128113,"question_id":70127553,"body_markdown":"This will probably go away if you don&#39;t override `onBackPressed` in `CollegeDetailsActivity`. Instead of going back to an activity that had a valid &quot;Title&quot; string extra, the code you posted will go to a new activity where &quot;Title&quot; isn&#39;t defined, then get a NullPointerException since `courseName` will be null in `initData` (which the error message tells you results in an error on line 81 in that method). Using a null string in a switch results in [that type of error](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case)\r\n\r\nJust remove your `onBackPressed` entirely in `CollegeDetailsActivity`.","title":"(Android) When Back pressed, Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference","body":"<p>This will probably go away if you don't override <code>onBackPressed</code> in <code>CollegeDetailsActivity</code>. Instead of going back to an activity that had a valid &quot;Title&quot; string extra, the code you posted will go to a new activity where &quot;Title&quot; isn't defined, then get a NullPointerException since <code>courseName</code> will be null in <code>initData</code> (which the error message tells you results in an error on line 81 in that method). Using a null string in a switch results in <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case\">that type of error</a></p>\n<p>Just remove your <code>onBackPressed</code> entirely in <code>CollegeDetailsActivity</code>.</p>\n"}],"owner":{"account_id":22141376,"reputation":61,"user_id":17289995,"display_name":"AnuragK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3630,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70128113,"answer_count":1,"score":3,"last_activity_date":1637955283,"creation_date":1637944761,"question_id":70127553,"body_markdown":"I&#39;ve been working on a Android Project (A Basic College Information App), I have three main activities, the user goes in like, ```Goal/Course Select activity```-&gt; ```CollegeList activity```-&gt; ```College Details Activity```. Now When I press back on ```College Details Activity``` it crashes with this Error:\r\n\r\n&gt;Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference\r\n\r\nBelow are the files/code which I think might be responsible for this.....\r\n\r\n**CollegeListActivity.java file**\r\n\r\n```\r\npackage com.anurag.college_information.activities;\r\n\r\nimport static com.anurag.college_information.activities.CareerGoalActivity.GOAL;\r\nimport static com.anurag.college_information.activities.CareerGoalActivity.SHARED_PREFS;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.anurag.college_information.R;\r\nimport com.anurag.college_information.adapters.RecyclerAdapter;\r\nimport com.anurag.college_information.models.ModelClass;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CollegeListActivity extends AppCompatActivity {\r\n\r\n    private RecyclerAdapter.RecyclerViewClickListener listener;\r\n\r\n    //ListView collegeList;\r\n    TextView collegeListTitle;\r\n    Button courseChange;\r\n    RecyclerView recyclerView;\r\n    LinearLayoutManager LayoutManager;\r\n    RecyclerAdapter recyclerAdapter;\r\n    List&lt;ModelClass&gt; cList;\r\n\r\n    String courseName;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_college_list);\r\n\r\n        collegeListTitle = findViewById(R.id.college_list_title);\r\n        courseChange = findViewById(R.id.btn_change_course);\r\n\r\n        //collegeListTitle.setText(goal + &quot;Colleges&quot;);\r\n\r\n        collegeListTitle.setText(getIntent().getStringExtra(&quot;Title&quot;) + &quot; Colleges&quot;);\r\n\r\n        initData();\r\n        initRecyclerView();\r\n\r\n        //collegeList = findViewById(R.id.lv_college_list);\r\n\r\n\r\n        courseChange.setTransformationMethod(null);\r\n        courseChange.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.clear();\r\n                editor.apply();\r\n\r\n                Intent i = new Intent(CollegeListActivity.this, CareerGoalActivity.class);\r\n                startActivity(i);\r\n                //finish();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void initData() {\r\n        cList = new ArrayList&lt;&gt;();\r\n        courseName = getIntent().getStringExtra(&quot;Title&quot;);\r\n\r\n        switch (courseName) {\r\n\r\n            case &quot;BE/BTech&quot;:\r\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/1479294300b-5.jpg&quot;, &quot;A.P. Shah College of Engineering&quot;, &quot;Thane&quot;, &quot;8.0&quot;));\r\n                break;\r\n\r\n            case &quot;Pharmacy&quot;:\r\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/14382400753.jpg&quot;, &quot;Bombay College Of Pharmacy&quot;, &quot;Mumbai&quot;, &quot;9.0&quot;));\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void initRecyclerView() {\r\n        setOnClickListener();\r\n\r\n        recyclerView = findViewById(R.id.recycler_view);\r\n        LayoutManager = new LinearLayoutManager(this);\r\n        LayoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        recyclerView.setLayoutManager(LayoutManager);\r\n        recyclerAdapter = new RecyclerAdapter(cList, listener);\r\n        recyclerView.setAdapter(recyclerAdapter);\r\n    }\r\n\r\n    private void setOnClickListener() {\r\n        listener = new RecyclerAdapter.RecyclerViewClickListener() {\r\n            @Override\r\n            public void onClick(View v, int position) {\r\n                Intent i = new Intent(CollegeListActivity.this, CollegeDetailsActivity.class);\r\n                startActivity(i);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        new AlertDialog.Builder(this)\r\n                .setMessage(&quot;Are you sure you want to exit?&quot;)\r\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        finish();\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, null)\r\n                .show();\r\n    }\r\n}\r\n```\r\n\r\n**RecyclerAdapter.java**\r\n```\r\npackage com.anurag.college_information.adapters;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.telecom.Call;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.anurag.college_information.activities.CollegeDetailsActivity;\r\nimport com.anurag.college_information.models.ModelClass;\r\nimport com.anurag.college_information.R;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.List;\r\n\r\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n\r\n\r\n    private List&lt;ModelClass&gt; collegeList ;\r\n    private RecyclerViewClickListener listener;\r\n\r\n    List&lt;String&gt; imageUrl, collegeName, collegeLocation, collegeRating;\r\n\r\n\r\n    public RecyclerAdapter(List&lt;ModelClass&gt; collegeList, RecyclerViewClickListener listener){\r\n        this.collegeList=collegeList;\r\n        this.listener = listener;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.college_list_single_row, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n\r\n        String imageLink = collegeList.get(position).getImageLink();\r\n        //int img = collegeList.get(position).getCollegeImage();\r\n        String cName = collegeList.get(position).getCollegeName();\r\n        String cRating = collegeList.get(position).getCollegeRating();\r\n        String cLocation = collegeList.get(position).getLocation();\r\n        Picasso.get().load(imageLink).into(holder.imageView);\r\n\r\n        //holder.setData(img, cName, cRating);\r\n        holder.setData(imageLink, cName, cLocation ,cRating);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return collegeList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        private ImageView imageView;\r\n        private TextView collegeName, collegeRating, collegeLocation;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.college_image);\r\n            collegeName = itemView.findViewById(R.id.college_name);\r\n            collegeRating = itemView.findViewById(R.id.college_rating);\r\n            collegeLocation = itemView.findViewById(R.id.college_location);\r\n\r\n            itemView.setOnClickListener(this);\r\n\r\n        }\r\n\r\n        public void setData(String imageLink, String cName, String cLocation, String cRating) {\r\n\r\n            //imageView.setImageResource(img);\r\n            Picasso.get().load(imageLink).error(R.drawable.error).into(imageView);\r\n            collegeName.setText(cName);\r\n            collegeRating.setText(cRating);\r\n            collegeLocation.setText(cLocation);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            listener.onClick(v, getAdapterPosition());\r\n\r\n            Intent i = new Intent(v.getContext(), CollegeDetailsActivity.class);\r\n\r\n            i.putExtra(&quot;collegeImage&quot;, collegeList.get(getAdapterPosition()).getImageLink());\r\n            i.putExtra(&quot;collegeName&quot;, collegeList.get(getAdapterPosition()).getCollegeName());\r\n            i.putExtra(&quot;collegeRating&quot;, collegeList.get(getAdapterPosition()).getCollegeRating());\r\n            i.putExtra(&quot;collegeLocation&quot;, collegeList.get(getAdapterPosition()).getLocation());\r\n\r\n            v.getContext().startActivity(i);\r\n\r\n        }\r\n\r\n    }\r\n    public interface RecyclerViewClickListener{\r\n        void onClick(View v, int position);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**CollegeDetailsActivity.java**\r\n```\r\npackage com.anurag.college_information.activities;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.anurag.college_information.R;\r\nimport com.squareup.picasso.Picasso;\r\n\r\npublic class CollegeDetailsActivity extends AppCompatActivity {\r\n\r\n    Button btnApply;\r\n    ImageView dCollegeImage;\r\n    TextView dCollegeName, dCollegeRating, dCollegeLocation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_college_details);\r\n\r\n        dCollegeImage = findViewById(R.id.details_college_image);\r\n        dCollegeName = findViewById(R.id.details_college_name);\r\n        dCollegeRating = findViewById(R.id.details_college_rating);\r\n        dCollegeLocation = findViewById(R.id.details_college_location);\r\n\r\n        btnApply = findViewById(R.id.btn_apply);\r\n\r\n        Intent i = getIntent();\r\n        String cn = i.getStringExtra(&quot;collegeName&quot;);\r\n        String cr = i.getStringExtra(&quot;collegeRating&quot;);\r\n        String ci = i.getStringExtra(&quot;collegeImage&quot;);\r\n        String cl = i.getStringExtra(&quot;collegeLocation&quot;);\r\n\r\n        Picasso.get().load(ci).error(R.drawable.error).into(dCollegeImage);\r\n        dCollegeName.setText(cn);\r\n        dCollegeRating.setText(cr);\r\n        dCollegeLocation.setText(cl);\r\n\r\n\r\n        btnApply.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getApplicationContext(), &quot;The institute will be notified, of your application&quot;, Toast.LENGTH_LONG).show();\r\n                Toast.makeText(getApplicationContext(), &quot;The college will contact you, Thank you&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        Intent i = new Intent(CollegeDetailsActivity.this, CollegeListActivity.class);\r\n        startActivity(i);\r\n    }\r\n\r\n}\r\n```\r\nThis is the Error Screenshot:\r\n[![This is the Error Screenshot][1]][1]\r\n\r\nI&#39;m pretty new to android I&#39;ve just worked on just 4 to 5 projects,\r\nAny Assistance will be appreciated, Thank You\r\n\r\n&gt;The commented Out code, is just a normal listview I implemented just In Case, I have to remove the recycler view.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cR7F9.png","title":"(Android) When Back pressed, Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference","body":"<p>I've been working on a Android Project (A Basic College Information App), I have three main activities, the user goes in like, <code>Goal/Course Select activity</code>-&gt; <code>CollegeList activity</code>-&gt; <code>College Details Activity</code>. Now When I press back on <code>College Details Activity</code> it crashes with this Error:</p>\n<blockquote>\n<p>Attempt to invoke virtual method 'int java.lang.String.hashCode()' on a null object reference</p>\n</blockquote>\n<p>Below are the files/code which I think might be responsible for this.....</p>\n<p><strong>CollegeListActivity.java file</strong></p>\n<pre><code>package com.anurag.college_information.activities;\n\nimport static com.anurag.college_information.activities.CareerGoalActivity.GOAL;\nimport static com.anurag.college_information.activities.CareerGoalActivity.SHARED_PREFS;\n\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.anurag.college_information.R;\nimport com.anurag.college_information.adapters.RecyclerAdapter;\nimport com.anurag.college_information.models.ModelClass;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CollegeListActivity extends AppCompatActivity {\n\n    private RecyclerAdapter.RecyclerViewClickListener listener;\n\n    //ListView collegeList;\n    TextView collegeListTitle;\n    Button courseChange;\n    RecyclerView recyclerView;\n    LinearLayoutManager LayoutManager;\n    RecyclerAdapter recyclerAdapter;\n    List&lt;ModelClass&gt; cList;\n\n    String courseName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_college_list);\n\n        collegeListTitle = findViewById(R.id.college_list_title);\n        courseChange = findViewById(R.id.btn_change_course);\n\n        //collegeListTitle.setText(goal + &quot;Colleges&quot;);\n\n        collegeListTitle.setText(getIntent().getStringExtra(&quot;Title&quot;) + &quot; Colleges&quot;);\n\n        initData();\n        initRecyclerView();\n\n        //collegeList = findViewById(R.id.lv_college_list);\n\n\n        courseChange.setTransformationMethod(null);\n        courseChange.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                editor.clear();\n                editor.apply();\n\n                Intent i = new Intent(CollegeListActivity.this, CareerGoalActivity.class);\n                startActivity(i);\n                //finish();\n\n            }\n        });\n\n    }\n\n    private void initData() {\n        cList = new ArrayList&lt;&gt;();\n        courseName = getIntent().getStringExtra(&quot;Title&quot;);\n\n        switch (courseName) {\n\n            case &quot;BE/BTech&quot;:\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/1479294300b-5.jpg&quot;, &quot;A.P. Shah College of Engineering&quot;, &quot;Thane&quot;, &quot;8.0&quot;));\n                break;\n\n            case &quot;Pharmacy&quot;:\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/14382400753.jpg&quot;, &quot;Bombay College Of Pharmacy&quot;, &quot;Mumbai&quot;, &quot;9.0&quot;));\n                break;\n        }\n    }\n\n    private void initRecyclerView() {\n        setOnClickListener();\n\n        recyclerView = findViewById(R.id.recycler_view);\n        LayoutManager = new LinearLayoutManager(this);\n        LayoutManager.setOrientation(RecyclerView.VERTICAL);\n        recyclerView.setLayoutManager(LayoutManager);\n        recyclerAdapter = new RecyclerAdapter(cList, listener);\n        recyclerView.setAdapter(recyclerAdapter);\n    }\n\n    private void setOnClickListener() {\n        listener = new RecyclerAdapter.RecyclerViewClickListener() {\n            @Override\n            public void onClick(View v, int position) {\n                Intent i = new Intent(CollegeListActivity.this, CollegeDetailsActivity.class);\n                startActivity(i);\n            }\n        };\n    }\n\n    @Override\n    public void onBackPressed() {\n        new AlertDialog.Builder(this)\n                .setMessage(&quot;Are you sure you want to exit?&quot;)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        finish();\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, null)\n                .show();\n    }\n}\n</code></pre>\n<p><strong>RecyclerAdapter.java</strong></p>\n<pre><code>package com.anurag.college_information.adapters;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.telecom.Call;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.anurag.college_information.activities.CollegeDetailsActivity;\nimport com.anurag.college_information.models.ModelClass;\nimport com.anurag.college_information.R;\nimport com.squareup.picasso.Picasso;\n\nimport java.util.List;\n\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n\n\n    private List&lt;ModelClass&gt; collegeList ;\n    private RecyclerViewClickListener listener;\n\n    List&lt;String&gt; imageUrl, collegeName, collegeLocation, collegeRating;\n\n\n    public RecyclerAdapter(List&lt;ModelClass&gt; collegeList, RecyclerViewClickListener listener){\n        this.collegeList=collegeList;\n        this.listener = listener;\n\n    }\n\n    @NonNull\n    @Override\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.college_list_single_row, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n\n        String imageLink = collegeList.get(position).getImageLink();\n        //int img = collegeList.get(position).getCollegeImage();\n        String cName = collegeList.get(position).getCollegeName();\n        String cRating = collegeList.get(position).getCollegeRating();\n        String cLocation = collegeList.get(position).getLocation();\n        Picasso.get().load(imageLink).into(holder.imageView);\n\n        //holder.setData(img, cName, cRating);\n        holder.setData(imageLink, cName, cLocation ,cRating);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return collegeList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n        private ImageView imageView;\n        private TextView collegeName, collegeRating, collegeLocation;\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView = itemView.findViewById(R.id.college_image);\n            collegeName = itemView.findViewById(R.id.college_name);\n            collegeRating = itemView.findViewById(R.id.college_rating);\n            collegeLocation = itemView.findViewById(R.id.college_location);\n\n            itemView.setOnClickListener(this);\n\n        }\n\n        public void setData(String imageLink, String cName, String cLocation, String cRating) {\n\n            //imageView.setImageResource(img);\n            Picasso.get().load(imageLink).error(R.drawable.error).into(imageView);\n            collegeName.setText(cName);\n            collegeRating.setText(cRating);\n            collegeLocation.setText(cLocation);\n\n\n        }\n\n        @Override\n        public void onClick(View v) {\n            listener.onClick(v, getAdapterPosition());\n\n            Intent i = new Intent(v.getContext(), CollegeDetailsActivity.class);\n\n            i.putExtra(&quot;collegeImage&quot;, collegeList.get(getAdapterPosition()).getImageLink());\n            i.putExtra(&quot;collegeName&quot;, collegeList.get(getAdapterPosition()).getCollegeName());\n            i.putExtra(&quot;collegeRating&quot;, collegeList.get(getAdapterPosition()).getCollegeRating());\n            i.putExtra(&quot;collegeLocation&quot;, collegeList.get(getAdapterPosition()).getLocation());\n\n            v.getContext().startActivity(i);\n\n        }\n\n    }\n    public interface RecyclerViewClickListener{\n        void onClick(View v, int position);\n    }\n}\n\n</code></pre>\n<p><strong>CollegeDetailsActivity.java</strong></p>\n<pre><code>package com.anurag.college_information.activities;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.anurag.college_information.R;\nimport com.squareup.picasso.Picasso;\n\npublic class CollegeDetailsActivity extends AppCompatActivity {\n\n    Button btnApply;\n    ImageView dCollegeImage;\n    TextView dCollegeName, dCollegeRating, dCollegeLocation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_college_details);\n\n        dCollegeImage = findViewById(R.id.details_college_image);\n        dCollegeName = findViewById(R.id.details_college_name);\n        dCollegeRating = findViewById(R.id.details_college_rating);\n        dCollegeLocation = findViewById(R.id.details_college_location);\n\n        btnApply = findViewById(R.id.btn_apply);\n\n        Intent i = getIntent();\n        String cn = i.getStringExtra(&quot;collegeName&quot;);\n        String cr = i.getStringExtra(&quot;collegeRating&quot;);\n        String ci = i.getStringExtra(&quot;collegeImage&quot;);\n        String cl = i.getStringExtra(&quot;collegeLocation&quot;);\n\n        Picasso.get().load(ci).error(R.drawable.error).into(dCollegeImage);\n        dCollegeName.setText(cn);\n        dCollegeRating.setText(cr);\n        dCollegeLocation.setText(cl);\n\n\n        btnApply.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getApplicationContext(), &quot;The institute will be notified, of your application&quot;, Toast.LENGTH_LONG).show();\n                Toast.makeText(getApplicationContext(), &quot;The college will contact you, Thank you&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        Intent i = new Intent(CollegeDetailsActivity.this, CollegeListActivity.class);\n        startActivity(i);\n    }\n\n}\n</code></pre>\n<p>This is the Error Screenshot:\n<a href=\"https://i.stack.imgur.com/cR7F9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cR7F9.png\" alt=\"This is the Error Screenshot\" /></a></p>\n<p>I'm pretty new to android I've just worked on just 4 to 5 projects,\nAny Assistance will be appreciated, Thank You</p>\n<blockquote>\n<p>The commented Out code, is just a normal listview I implemented just In Case, I have to remove the recycler view.</p>\n</blockquote>\n"},{"tags":["java","selenium","testing","pseudocode"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931867,"creation_date":1637931867,"answer_id":70124880,"question_id":70123754,"body_markdown":"Pseudo code is a &quot;pseudo&quot; because it has not necessarily operate with existing methods. Just use the common sense for you code like\r\n\r\n```\r\nelements = Selenium.find(locator)\r\nfor each element in elements \r\ndo:\r\n  assert that element.text is not empty\r\nod\r\n```","title":"How to write a pseudocode of an Selenium automation test?","body":"<p>Pseudo code is a &quot;pseudo&quot; because it has not necessarily operate with existing methods. Just use the common sense for you code like</p>\n<pre><code>elements = Selenium.find(locator)\nfor each element in elements \ndo:\n  assert that element.text is not empty\nod\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637955253,"creation_date":1637955253,"answer_id":70129259,"question_id":70123754,"body_markdown":"Pseudocode\r\n----------\r\n[_Pseudocode_](https://www.javatpoint.com/pseudocode-java) is written in the form of annotations and informational text that is written in plain English only. Just like programming languages, it doesn&#39;t have any syntax, so it cannot be compiled or interpreted by the compiler.\r\n\r\n\r\n----------\r\n\r\n\r\nWays to write Pseudocode in Java\r\n-------------------------------\r\nIn order to write the Pseudocode in [tag:java], you can follow the steps below:\r\n\r\n- You need to maintain the arrangement of the sequence of the tasks and, based on that, write the pseudocode.\r\n- The pseudocode starts with the statement that establishes the aim or goal.\r\n\r\nPoints which we need to keep in mind while designing the pseudocode of a program in Java:\r\n\r\n- You should have to use the appropriate naming convention. By doing that, it is very easy to understand the pseudocode. So, the naming should be simple and distinct.\r\n- You should have to use the appropriate sentence casings. For methods, we use the CamelCase, for constants, we use the upper case, and for variables, we use the lower case.\r\n- The pseudocode should not be abstract, and the thing which is going to happen in the actual code should be elaborated.\r\n- We use the _`if-then`_, _`for`_, _`while`_, _`cases`_ standard programming structures in the same way as we use it in programming.\r\n- All the sections of the pseudocode should be completed, finite and clear to understand.\r\n- The pseudocode should be as simple as it can be understood by a layman having no sufficient knowledge of technical terms. \r\n- Ensure that the pseudocode isn&#39;t written in a complete programmatic manner.\r\n\r\n\r\n----------\r\n\r\n\r\nSample Pseudocode\r\n-----------------\r\n\r\n\tInitialize c to zero.\r\n\tInitialize n to a random number to check Armstrong.\r\n\tInitialize temp to n.\r\n\tRepeat steps until the value of n are greater than zero.\r\n\tFind a reminder of n by using n%10.\r\n\tRemove the last digit from the number by using n/10.\r\n\tFind the thrice of the reminder and add it to c.\r\n\tIf temp == c\r\n\tPrint &quot;Armstrong number&quot;\r\n\telse\r\n\tNot an Armstrong number&quot;","title":"How to write a pseudocode of an Selenium automation test?","body":"<h2>Pseudocode</h2>\n<p><a href=\"https://www.javatpoint.com/pseudocode-java\" rel=\"nofollow noreferrer\"><em>Pseudocode</em></a> is written in the form of annotations and informational text that is written in plain English only. Just like programming languages, it doesn't have any syntax, so it cannot be compiled or interpreted by the compiler.</p>\n<hr />\n<h2>Ways to write Pseudocode in Java</h2>\n<p>In order to write the Pseudocode in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a>, you can follow the steps below:</p>\n<ul>\n<li>You need to maintain the arrangement of the sequence of the tasks and, based on that, write the pseudocode.</li>\n<li>The pseudocode starts with the statement that establishes the aim or goal.</li>\n</ul>\n<p>Points which we need to keep in mind while designing the pseudocode of a program in Java:</p>\n<ul>\n<li>You should have to use the appropriate naming convention. By doing that, it is very easy to understand the pseudocode. So, the naming should be simple and distinct.</li>\n<li>You should have to use the appropriate sentence casings. For methods, we use the CamelCase, for constants, we use the upper case, and for variables, we use the lower case.</li>\n<li>The pseudocode should not be abstract, and the thing which is going to happen in the actual code should be elaborated.</li>\n<li>We use the <em><code>if-then</code></em>, <em><code>for</code></em>, <em><code>while</code></em>, <em><code>cases</code></em> standard programming structures in the same way as we use it in programming.</li>\n<li>All the sections of the pseudocode should be completed, finite and clear to understand.</li>\n<li>The pseudocode should be as simple as it can be understood by a layman having no sufficient knowledge of technical terms.</li>\n<li>Ensure that the pseudocode isn't written in a complete programmatic manner.</li>\n</ul>\n<hr />\n<h2>Sample Pseudocode</h2>\n<pre><code>Initialize c to zero.\nInitialize n to a random number to check Armstrong.\nInitialize temp to n.\nRepeat steps until the value of n are greater than zero.\nFind a reminder of n by using n%10.\nRemove the last digit from the number by using n/10.\nFind the thrice of the reminder and add it to c.\nIf temp == c\nPrint &quot;Armstrong number&quot;\nelse\nNot an Armstrong number&quot;\n</code></pre>\n"}],"owner":{"account_id":22199679,"reputation":11,"user_id":16440566,"display_name":"Noelen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637955253,"creation_date":1637926338,"question_id":70123754,"body_markdown":"I need to write a pseudocode, but I&#39;ve never write a pseudocode before. Searching about I have finded basic and simples algorithms pseudocode examples, but I don&#39;t have any idea to write a pseudocode that have Selenium methods.\r\n\r\nDo you have an example of pseudocode for an automation test? \r\n\r\nI have in my mind Java and selenium, automation tests from cucumber scenarios. I need just a example to guide me to write my pseudocode.\r\n\r\n  ","title":"How to write a pseudocode of an Selenium automation test?","body":"<p>I need to write a pseudocode, but I've never write a pseudocode before. Searching about I have finded basic and simples algorithms pseudocode examples, but I don't have any idea to write a pseudocode that have Selenium methods.</p>\n<p>Do you have an example of pseudocode for an automation test?</p>\n<p>I have in my mind Java and selenium, automation tests from cucumber scenarios. I need just a example to guide me to write my pseudocode.</p>\n"},{"tags":["java","json","struts2","struts2-json-plugin"],"comments":[{"owner":{"account_id":1939875,"reputation":409,"user_id":1746307,"accept_rate":45,"display_name":"Armaggedon"},"score":3,"creation_date":1369488565,"post_id":16749885,"comment_id":24126956,"body_markdown":"Why without getter and setter? I could explain to you otherwise.","body":"Why without getter and setter? I could explain to you otherwise."},{"owner":{"account_id":48583,"reputation":2213,"user_id":144414,"accept_rate":68,"display_name":"Laxmikanth Samudrala"},"score":0,"creation_date":1369491753,"post_id":16749885,"comment_id":24127739,"body_markdown":"I have many static json formats embedded in java script files based on the context of the page i need to send those static json string to corresponding action classes","body":"I have many static json formats embedded in java script files based on the context of the page i need to send those static json string to corresponding action classes"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1369496989,"post_id":16749885,"comment_id":24129161,"body_markdown":"XSS paradise O_O Load them from server, instead of from client :////","body":"XSS paradise O_O Load them from server, instead of from client :////"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1369498354,"post_id":16749885,"comment_id":24129554,"body_markdown":"It makes no sense to expect this to be possible w/o a setter. A JSON string is just that: a string. Expose a string property. Set it. Simple. You can *parse* it however you want, like with Google GSON, etc.","body":"It makes no sense to expect this to be possible w/o a setter. A JSON string is just that: a string. Expose a string property. Set it. Simple. You can <i>parse</i> it however you want, like with Google GSON, etc."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637954565,"creation_date":1369504024,"answer_id":16752302,"question_id":16749885,"body_markdown":"Post them as content with type `&quot;application/json&quot;`. You may do it with a simple jQuery Ajax call where you could specify the `content-type` and `dataType`. \r\n\r\n    $.ajax({\r\n       type: &quot;POST&quot;,\r\n       url: &quot;/the/action/url&quot;,     \r\n       data : {},\r\n       dataType:&quot;JSON&quot;,\r\n       contentType: &quot;application/json; charset=utf-8&quot;\r\n    });\r\n\r\n\r\nAdd [json plugin][1] to the project dependencies with `json-lib-2.3-jdk15.jar`. The plugin supplied with the [interceptor `json`][2] that reads and populates an action from the request. \r\n\r\nIf you don&#39;t want to populate the action then you should not use this interceptor. Instead manually parse the request with this or any other third party library to get the [`JSONObject` class][3]. Or you could rewrite the interceptor and comment that code that is using [`JSONPopulator` class][4] but deserialize the object with [`JSONUtil` class][5].\r\n\r\nAlso, you might find [this][6] examples useful when manually creating/parsing JSON data.    \r\n\r\n\r\n  [1]: https://struts.apache.org/plugins/json/\r\n  [2]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONInterceptor.html\r\n  [3]: http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html\r\n  [4]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONPopulator.html\r\n  [5]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONUtil.html\r\n  [6]: https://viralpatel.net/blogs/creating-parsing-json-data-with-java-servlet-struts-jsp-json/","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>Post them as content with type <code>&quot;application/json&quot;</code>. You may do it with a simple jQuery Ajax call where you could specify the <code>content-type</code> and <code>dataType</code>.</p>\n<pre><code>$.ajax({\n   type: &quot;POST&quot;,\n   url: &quot;/the/action/url&quot;,     \n   data : {},\n   dataType:&quot;JSON&quot;,\n   contentType: &quot;application/json; charset=utf-8&quot;\n});\n</code></pre>\n<p>Add <a href=\"https://struts.apache.org/plugins/json/\" rel=\"nofollow noreferrer\">json plugin</a> to the project dependencies with <code>json-lib-2.3-jdk15.jar</code>. The plugin supplied with the <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONInterceptor.html\" rel=\"nofollow noreferrer\">interceptor <code>json</code></a> that reads and populates an action from the request.</p>\n<p>If you don't want to populate the action then you should not use this interceptor. Instead manually parse the request with this or any other third party library to get the <a href=\"http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html\" rel=\"nofollow noreferrer\"><code>JSONObject</code> class</a>. Or you could rewrite the interceptor and comment that code that is using <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONPopulator.html\" rel=\"nofollow noreferrer\"><code>JSONPopulator</code> class</a> but deserialize the object with <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONUtil.html\" rel=\"nofollow noreferrer\"><code>JSONUtil</code> class</a>.</p>\n<p>Also, you might find <a href=\"https://viralpatel.net/blogs/creating-parsing-json-data-with-java-servlet-struts-jsp-json/\" rel=\"nofollow noreferrer\">this</a> examples useful when manually creating/parsing JSON data.</p>\n"},{"tags":[],"owner":{"account_id":1654877,"reputation":31,"user_id":1524708,"display_name":"Shibaram Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398687112,"creation_date":1398687112,"answer_id":23340824,"question_id":16749885,"body_markdown":"If you want to send JSON object with multiple key-value pair in it and you want to get these key-values in your  action class without creating any setters/getters, \r\n\r\nIn the Action class decleration, we should implement ServletRequestAware and we should override the setServletRequest() method and set the HttpServletRequest attribute \r\n\r\n    public class YourClass extends ActionSupport implements ServletRequestAware\r\n\r\n    private HttpServletRequest request;\r\n\r\n    @Override\r\n    public void setServletRequest(HttpServletRequest request) {\r\n\t\tthis.request = request;\r\n    }\r\n\r\n    public HttpServletRequest getServletRequest() {\r\n      return this.request;\r\n    }\r\n\r\nAnd in our targeted function, we should use above request object to get the parameter (by its name as it is set in the json as the key):\r\n\r\n    public String fetchData() {\r\n      String key1Data = getServletRequest().getParameter(&quot;key1&quot;);\r\n       String key2Data = getServletRequest().getParameter(&quot;key2&quot;); \r\n      return SUCCESS;\r\n     }\r\n\r\n\r\nWhere your JSON object should have data something like:\r\n     \r\n\r\n    var jsonData = {&quot;key1&quot;: &quot;Hello&quot;, &quot;key2&quot;:&quot;There&quot;};","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>If you want to send JSON object with multiple key-value pair in it and you want to get these key-values in your  action class without creating any setters/getters, </p>\n\n<p>In the Action class decleration, we should implement ServletRequestAware and we should override the setServletRequest() method and set the HttpServletRequest attribute </p>\n\n<pre><code>public class YourClass extends ActionSupport implements ServletRequestAware\n\nprivate HttpServletRequest request;\n\n@Override\npublic void setServletRequest(HttpServletRequest request) {\n    this.request = request;\n}\n\npublic HttpServletRequest getServletRequest() {\n  return this.request;\n}\n</code></pre>\n\n<p>And in our targeted function, we should use above request object to get the parameter (by its name as it is set in the json as the key):</p>\n\n<pre><code>public String fetchData() {\n  String key1Data = getServletRequest().getParameter(\"key1\");\n   String key2Data = getServletRequest().getParameter(\"key2\"); \n  return SUCCESS;\n }\n</code></pre>\n\n<p>Where your JSON object should have data something like:</p>\n\n<pre><code>var jsonData = {\"key1\": \"Hello\", \"key2\":\"There\"};\n</code></pre>\n"}],"owner":{"account_id":48583,"reputation":2213,"user_id":144414,"accept_rate":68,"display_name":"Laxmikanth Samudrala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16752302,"answer_count":2,"score":3,"last_activity_date":1637955126,"creation_date":1369487468,"question_id":16749885,"body_markdown":"I would like to have an `Action` class which should accept a JSON string constructed from user interface with no setter and getter in the `Action` class. \r\n\r\nIs it possible? If so, what conventions would I need to follow in `Action` class and in configuration files (`struts.xml`)?","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>I would like to have an <code>Action</code> class which should accept a JSON string constructed from user interface with no setter and getter in the <code>Action</code> class. </p>\n\n<p>Is it possible? If so, what conventions would I need to follow in <code>Action</code> class and in configuration files (<code>struts.xml</code>)?</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":3,"creation_date":1637946071,"post_id":70127126,"comment_id":123966199,"body_markdown":"I guess that since there is still a submat, the reference counting observes another reference and the memory isnt deallocated","body":"I guess that since there is still a submat, the reference counting observes another reference and the memory isnt deallocated"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":3,"creation_date":1637948033,"post_id":70127126,"comment_id":123966784,"body_markdown":"reference counting is exactly what happens.","body":"reference counting is exactly what happens."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1637949096,"post_id":70127126,"comment_id":123967087,"body_markdown":"Ah, ok, thanks for the info :)  If one of you would mind to phrase that as a quick answer, I&#39;d mark that as the solution ;)","body":"Ah, ok, thanks for the info :)  If one of you would mind to phrase that as a quick answer, I&#39;d mark that as the solution ;)"}],"answers":[{"tags":[],"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637954431,"creation_date":1637952212,"answer_id":70128807,"question_id":70127126,"body_markdown":"OpenCV uses reference counting.\r\n\r\nsubmat adds another reference to the data memory.\r\n\r\n.release() does not deallocate the memory, unless the last reference was removed/decremented.\r\n\r\n","title":"What happens to submats if the original mat is released","body":"<p>OpenCV uses reference counting.</p>\n<p>submat adds another reference to the data memory.</p>\n<p>.release() does not deallocate the memory, unless the last reference was removed/decremented.</p>\n"}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70128807,"answer_count":1,"score":0,"last_activity_date":1637954431,"creation_date":1637942570,"question_id":70127126,"body_markdown":"In OpenCV, I am getting an image and crop some ROIs out (using `mat.submat(...)`). I would like to avoid cloning the submats to save time and memory, but I am afraid that the image might be released before the rois are. Given that `submat` returns a `Mat` that uses the original `Mat` as its backing storage, my question is: What happens to sub-mats after their parent mat has been released? Is it safe to use the submats afterwards?\r\n\r\nHere&#39;s the code to explain the question:\r\n\r\n    // Some big image that I get from somewhere\r\n    Mat image = Mat.zeros(1080, 1920, CvType.CV_8UC3);\r\n    \r\n    Mat roi = image.submat(10, 20, 10, 20);\r\n    \r\n    image.release();\r\n\r\n    // Still safe to use roi? \r\n    Mat blurredRoi = new Mat();\r\n    Imgproc.blur(roi, blurredRoi, new Size(5, 5));","title":"What happens to submats if the original mat is released","body":"<p>In OpenCV, I am getting an image and crop some ROIs out (using <code>mat.submat(...)</code>). I would like to avoid cloning the submats to save time and memory, but I am afraid that the image might be released before the rois are. Given that <code>submat</code> returns a <code>Mat</code> that uses the original <code>Mat</code> as its backing storage, my question is: What happens to sub-mats after their parent mat has been released? Is it safe to use the submats afterwards?</p>\n<p>Here's the code to explain the question:</p>\n<pre><code>// Some big image that I get from somewhere\nMat image = Mat.zeros(1080, 1920, CvType.CV_8UC3);\n\nMat roi = image.submat(10, 20, 10, 20);\n\nimage.release();\n\n// Still safe to use roi? \nMat blurredRoi = new Mat();\nImgproc.blur(roi, blurredRoi, new Size(5, 5));\n</code></pre>\n"},{"tags":["java","com","jna","com4j","imapi"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1637868782,"post_id":70109741,"comment_id":123946428,"body_markdown":"Does this answer your question? [Mapping a COM interface method in JNA](https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna\">Mapping a COM interface method in JNA</a>"},{"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"score":0,"creation_date":1637929696,"post_id":70109741,"comment_id":123960330,"body_markdown":"I think it helps me realise JNA would require me to have much more knowledge of COM internals than I have!  IDiscMaster2 implements IDisplatch which I&#39;m guessing is in a layer above IUnkown.","body":"I think it helps me realise JNA would require me to have much more knowledge of COM internals than I have!  IDiscMaster2 implements IDisplatch which I&#39;m guessing is in a layer above IUnkown."},{"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"score":0,"creation_date":1637929974,"post_id":70109741,"comment_id":123960433,"body_markdown":"I think if I could get the most basic call to work then the information you&#39;ve presented in the link would begin to make sense.","body":"I think if I could get the most basic call to work then the information you&#39;ve presented in the link would begin to make sense."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1637952209,"post_id":70109741,"comment_id":123967877,"body_markdown":"It may seem overwhelming at first but there&#39;s a basic pattern to it that becomes obvious after you get a couple done.  There&#39;s some WinAPI call that gets a pointer to the COM object.   Then you map the com object and call its functions at offsets from that pointer (0, 1, 2, etc...).  It&#39;s mostly boilerplate from there.","body":"It may seem overwhelming at first but there&#39;s a basic pattern to it that becomes obvious after you get a couple done.  There&#39;s some WinAPI call that gets a pointer to the COM object.   Then you map the com object and call its functions at offsets from that pointer (0, 1, 2, etc...).  It&#39;s mostly boilerplate from there."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637954103,"creation_date":1637953338,"answer_id":70128995,"question_id":70109741,"body_markdown":"I&#39;ve answered this in [a similar question](https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna) which I originally marked this as a duplicate of.  However, given the difficulty loading this, your case is unique enough that I&#39;ll attempt to give a separate answer.\r\n\r\nThe general case for COM is that there is an API function that creates the object.  You have mapped this as `createMsftDiscMaster2()`.  Note that you have allocated a resource here and it needs to be disposed of when you are done with it; the API documentation should tell you how to do that (possibly by calling `Release()` from `IUnknown`.)\r\n\r\nYour next step is to map the `IDiscMaster2` COM class. I see two mappings here, so I&#39;m confused as to which one you want.  The one at the top of your question is incorrect, but the one extending Dispatch later is the correct way to start, but I&#39;m not clear where you&#39;ve gone after that.  The rest of the class [should look similar to the internals][1] of the `Dispatch` class in JNA.   \r\n\r\nIn that class you can see the boilerplate that you will follow. Note that it extends `Unknown` which [follows the same boilerplate][2] for offsets 0, 1, and 2 for the first 3 COM functions `QueryInterface`, `AddRef`, and `Release`.  Dispatch picks up with offsets 3, 4, 5, and 6 for COM functions `GetTypeInfoCount`, `GetTypeInfo`, `GetIDsOfNames`, and `Invoke`.\r\n\r\nSo in your mapping for `DiskMaster2` you will pick up with offset 7, and your mapping will look like:\r\n```java\r\npublic HRESULT TheFunctionName(FOO foo, BAR bar) {\r\n    return (HRESULT) this._invokeNativeObject(7,\r\n            new Object[] { this.getPointer(), foo, bar },\r\n            HRESULT.class);\r\n}\r\n```\r\nThis is where you need to locate the actual header file for this class to determine the order in which the functions appear in the Vtbl.  It looks like you attempted to do this with your code, but the offset 2 is already assigned in Unknown, the lowest one you&#39;ll be able to use is 7 (and continue on with 8, 9, 10 [for each function in this COM interface][3], in the correct order -- which you must determine from the Vtbl.)\r\n\r\nBased on [this header][4], you can see those functions mapped in order and your offsets should be: 7: get__NewEnum, 8: get_Item, 9: get_Count, and 10: get_IsSupportedEnvironment.  Use those header function mappings as a start and change them to the `_invokeNativeObject()` format above.  (They all return `HRESULT`, you&#39;ll just be changing the argument list.)\r\n\r\n  [1]: https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Dispatch.java\r\n  [2]: https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Unknown.java\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/imapi2/nn-imapi2-idiscmaster2\r\n  [4]: https://github.com/nihon-tc/Rtest/blob/8246e4d21323802fb84c406edc1a005991304f5a/header/Microsoft%20SDKs/Windows/v7.0A/Include/imapi2.h#L879","title":"Can JNA be used for a complex Windows DLL like IMAPI","body":"<p>I've answered this in <a href=\"https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna\">a similar question</a> which I originally marked this as a duplicate of.  However, given the difficulty loading this, your case is unique enough that I'll attempt to give a separate answer.</p>\n<p>The general case for COM is that there is an API function that creates the object.  You have mapped this as <code>createMsftDiscMaster2()</code>.  Note that you have allocated a resource here and it needs to be disposed of when you are done with it; the API documentation should tell you how to do that (possibly by calling <code>Release()</code> from <code>IUnknown</code>.)</p>\n<p>Your next step is to map the <code>IDiscMaster2</code> COM class. I see two mappings here, so I'm confused as to which one you want.  The one at the top of your question is incorrect, but the one extending Dispatch later is the correct way to start, but I'm not clear where you've gone after that.  The rest of the class <a href=\"https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Dispatch.java\" rel=\"nofollow noreferrer\">should look similar to the internals</a> of the <code>Dispatch</code> class in JNA.</p>\n<p>In that class you can see the boilerplate that you will follow. Note that it extends <code>Unknown</code> which <a href=\"https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Unknown.java\" rel=\"nofollow noreferrer\">follows the same boilerplate</a> for offsets 0, 1, and 2 for the first 3 COM functions <code>QueryInterface</code>, <code>AddRef</code>, and <code>Release</code>.  Dispatch picks up with offsets 3, 4, 5, and 6 for COM functions <code>GetTypeInfoCount</code>, <code>GetTypeInfo</code>, <code>GetIDsOfNames</code>, and <code>Invoke</code>.</p>\n<p>So in your mapping for <code>DiskMaster2</code> you will pick up with offset 7, and your mapping will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HRESULT TheFunctionName(FOO foo, BAR bar) {\n    return (HRESULT) this._invokeNativeObject(7,\n            new Object[] { this.getPointer(), foo, bar },\n            HRESULT.class);\n}\n</code></pre>\n<p>This is where you need to locate the actual header file for this class to determine the order in which the functions appear in the Vtbl.  It looks like you attempted to do this with your code, but the offset 2 is already assigned in Unknown, the lowest one you'll be able to use is 7 (and continue on with 8, 9, 10 <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/imapi2/nn-imapi2-idiscmaster2\" rel=\"nofollow noreferrer\">for each function in this COM interface</a>, in the correct order -- which you must determine from the Vtbl.)</p>\n<p>Based on <a href=\"https://github.com/nihon-tc/Rtest/blob/8246e4d21323802fb84c406edc1a005991304f5a/header/Microsoft%20SDKs/Windows/v7.0A/Include/imapi2.h#L879\" rel=\"nofollow noreferrer\">this header</a>, you can see those functions mapped in order and your offsets should be: 7: get__NewEnum, 8: get_Item, 9: get_Count, and 10: get_IsSupportedEnvironment.  Use those header function mappings as a start and change them to the <code>_invokeNativeObject()</code> format above.  (They all return <code>HRESULT</code>, you'll just be changing the argument list.)</p>\n"}],"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70128995,"answer_count":1,"score":2,"last_activity_date":1637954103,"creation_date":1637837174,"question_id":70109741,"body_markdown":"I&#39;ve managed to get COM4J to use some functionality in the windows IMAPI (CD writing).\r\n \r\nHowever I&#39;ve failed to get any of the calls that return SAFEARRAYs working, but this project doesn&#39;t appear to be currently active ...\r\n\r\nThe DLL is usually in C:\\Windows\\System32\\imapi2.dll, and using it also requires using C:\\Windows\\System32\\imapi2fs.dll\r\n\r\nLooking around for a JAVA-COM bridge project that is active led me to JNA.\r\n\r\nThe remit of the project to simplify JAVA-COM bridging intrigued me .... however I fell at the first hurdle, and am hoping someone can help.\r\n\r\nSo far I&#39;ve taken the Microsoft IMAPI examples and written a Powershell application, from which I have the series of calls I need to make to the API.[CDInterface][1]\r\n\r\nThe first thing you need to do with IMAPI is create an Instance of IDiskMaster2, so I&#39;ve declared that via an Imapi2 interface, like so\r\n```\r\npublic interface Imapi2 extends Library {\r\n        Imapi2 INSTANCE = (Imapi2)\r\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\r\n\r\n        public static class IDiscMaster2 extends Structure {\r\n            int getCount;\r\n\r\n            public int getCount() {\r\n                return getCount;\r\n            }\r\n        }\r\n        IDiscMaster2 createMsftDiscMaster2();\r\n    }\r\n```\r\nThen in the main code\r\n```\r\n Imapi2.IDiscMaster2 recorderList = Imapi2.INSTANCE.createMsftDiscMaster2();\r\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\r\n```\r\nJust putting &#39;imapi2&#39; in the call to Native.load() didn&#39;t work either.\r\n\r\nI&#39;m guessing I&#39;m doing something fundamentally wrong, but it&#39;s not clear how you get JNA to &#39;see&#39; a new dll you want to interface to ..... and also I am kind of afraid there is something very different about this API from the othe APIs that people are using JNA to talk to, so may not be worth trying!\r\n\r\n```\r\npublic interface Imapi2 extends Library {\r\n        Imapi2 INSTANCE = (Imapi2)\r\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\r\n\r\n        public class IDiscMaster2 extends Dispatch {\r\n\r\n            public static final CLSID CLSID_MsftDiscMaster2 = new CLSID(&quot;2735412F-7F64-5B0F-8F00-5D77AFBE261E&quot;);\r\n\r\n            public IDiscMaster2() {\r\n            }\r\n\r\n            private IDiscMaster2(Pointer pvInstance) {\r\n                super(pvInstance);\r\n            }\r\n\r\n            public static IDiscMaster2 create() {\r\n                PointerByReference pbr = new PointerByReference();\r\n\r\n                WinNT.HRESULT hres = Ole32.INSTANCE.CoCreateInstance(CLSID_MsftDiscMaster2, null, WTypes.CLSCTX_ALL, null, pbr);\r\n                if (COMUtils.FAILED(hres)) {\r\n                    System.out.println(&quot;ERROR: Failed to create instance&quot;);\r\n                    return null;\r\n                }\r\n\r\n                return new IDiscMaster2(pbr.getValue());\r\n            }\r\n\r\n            public WinNT.HRESULT _getCount(Pointer count ){\r\n                return (WinNT.HRESULT) _invokeNativeObject(2, new Object[]{count}, WinNT.HRESULT.class);\r\n            }\r\n\r\n            public long getCount() {\r\n                try {\r\n                    long count = -1;\r\n                    Pointer ptr = new Pointer(count);\r\n                    WinNT.HRESULT result = _getCount(ptr);\r\n\r\n                    COMUtils.checkRC(result);\r\n\r\n                    return count;\r\n                } catch ( Exception e ) {\r\n                    System.out.println(&quot;Error : &quot; + e.getMessage());\r\n                }\r\n                return -1;\r\n            }\r\n} \r\n```\r\nThen invocation in main changed to\r\n```\r\nImapi2 imapi2Lib = Imapi2.INSTANCE;\r\n        Imapi2.IDiscMaster2 recorderList = new Imapi2.IDiscMaster2();\r\n\r\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\r\n```\r\n\r\nIntelliJ shows up uninvoked methods, so it doesn&#39;t look like create() is getting called. Not sure if this is because I need to call it, or down to the function implementing IDispatch not IUnknown.\r\n  [1]: https://github.com/nosdod/CDInterface","title":"Can JNA be used for a complex Windows DLL like IMAPI","body":"<p>I've managed to get COM4J to use some functionality in the windows IMAPI (CD writing).</p>\n<p>However I've failed to get any of the calls that return SAFEARRAYs working, but this project doesn't appear to be currently active ...</p>\n<p>The DLL is usually in C:\\Windows\\System32\\imapi2.dll, and using it also requires using C:\\Windows\\System32\\imapi2fs.dll</p>\n<p>Looking around for a JAVA-COM bridge project that is active led me to JNA.</p>\n<p>The remit of the project to simplify JAVA-COM bridging intrigued me .... however I fell at the first hurdle, and am hoping someone can help.</p>\n<p>So far I've taken the Microsoft IMAPI examples and written a Powershell application, from which I have the series of calls I need to make to the API.[CDInterface][1]</p>\n<p>The first thing you need to do with IMAPI is create an Instance of IDiskMaster2, so I've declared that via an Imapi2 interface, like so</p>\n<pre><code>public interface Imapi2 extends Library {\n        Imapi2 INSTANCE = (Imapi2)\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\n\n        public static class IDiscMaster2 extends Structure {\n            int getCount;\n\n            public int getCount() {\n                return getCount;\n            }\n        }\n        IDiscMaster2 createMsftDiscMaster2();\n    }\n</code></pre>\n<p>Then in the main code</p>\n<pre><code> Imapi2.IDiscMaster2 recorderList = Imapi2.INSTANCE.createMsftDiscMaster2();\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\n</code></pre>\n<p>Just putting 'imapi2' in the call to Native.load() didn't work either.</p>\n<p>I'm guessing I'm doing something fundamentally wrong, but it's not clear how you get JNA to 'see' a new dll you want to interface to ..... and also I am kind of afraid there is something very different about this API from the othe APIs that people are using JNA to talk to, so may not be worth trying!</p>\n<pre><code>public interface Imapi2 extends Library {\n        Imapi2 INSTANCE = (Imapi2)\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\n\n        public class IDiscMaster2 extends Dispatch {\n\n            public static final CLSID CLSID_MsftDiscMaster2 = new CLSID(&quot;2735412F-7F64-5B0F-8F00-5D77AFBE261E&quot;);\n\n            public IDiscMaster2() {\n            }\n\n            private IDiscMaster2(Pointer pvInstance) {\n                super(pvInstance);\n            }\n\n            public static IDiscMaster2 create() {\n                PointerByReference pbr = new PointerByReference();\n\n                WinNT.HRESULT hres = Ole32.INSTANCE.CoCreateInstance(CLSID_MsftDiscMaster2, null, WTypes.CLSCTX_ALL, null, pbr);\n                if (COMUtils.FAILED(hres)) {\n                    System.out.println(&quot;ERROR: Failed to create instance&quot;);\n                    return null;\n                }\n\n                return new IDiscMaster2(pbr.getValue());\n            }\n\n            public WinNT.HRESULT _getCount(Pointer count ){\n                return (WinNT.HRESULT) _invokeNativeObject(2, new Object[]{count}, WinNT.HRESULT.class);\n            }\n\n            public long getCount() {\n                try {\n                    long count = -1;\n                    Pointer ptr = new Pointer(count);\n                    WinNT.HRESULT result = _getCount(ptr);\n\n                    COMUtils.checkRC(result);\n\n                    return count;\n                } catch ( Exception e ) {\n                    System.out.println(&quot;Error : &quot; + e.getMessage());\n                }\n                return -1;\n            }\n} \n</code></pre>\n<p>Then invocation in main changed to</p>\n<pre><code>Imapi2 imapi2Lib = Imapi2.INSTANCE;\n        Imapi2.IDiscMaster2 recorderList = new Imapi2.IDiscMaster2();\n\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\n</code></pre>\n<p>IntelliJ shows up uninvoked methods, so it doesn't look like create() is getting called. Not sure if this is because I need to call it, or down to the function implementing IDispatch not IUnknown.\n[1]: <a href=\"https://github.com/nosdod/CDInterface\" rel=\"nofollow noreferrer\">https://github.com/nosdod/CDInterface</a></p>\n"},{"tags":["java","spring-boot","api","testing","mocking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637924929,"post_id":70123383,"comment_id":123958704,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925007,"post_id":70123383,"comment_id":123958731,"body_markdown":"At the point at which you create `controllerAPI`, `companiaService` has not been created. Create `controllerAPI` in an `@Before` method.","body":"At the point at which you create <code>controllerAPI</code>, <code>companiaService</code> has not been created. Create <code>controllerAPI</code> in an <code>@Before</code> method."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637925045,"post_id":70123383,"comment_id":123958741,"body_markdown":"@tgdavies No, but thanks anyway! I think is something related to mocking that it is not instantiating it or something like that :S","body":"@tgdavies No, but thanks anyway! I think is something related to mocking that it is not instantiating it or something like that :S"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925592,"post_id":70123383,"comment_id":123958937,"body_markdown":"You need to show the code at controller.ControllerAPI.GetCompanias(ControllerAPI.java:114) in your question.","body":"You need to show the code at controller.ControllerAPI.GetCompanias(ControllerAPI.java:114&zwnj;&#8203;) in your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925969,"post_id":70123383,"comment_id":123959070,"body_markdown":"See my previous comment.","body":"See my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637953979,"creation_date":1637953979,"answer_id":70129084,"question_id":70123383,"body_markdown":"The test setup has a lot of issues, and my suggestion would be to read through the mockito and spring test basics, for instance [here][1] and [here][2] .\r\n\r\n**Test setup**  \r\nFor starters, the code mixes up different test setups. The annotation `@RunWith(SpringRunner.class)` suggests a JUnit4 setup, but the strack trace indicates the use of JUnit5, as the jupiter package is on the classpath (`org.junit.jupiter.engine.execution....`). The `@RunWith` can be removed as JUnit5 relies on extensions, and the spring extention (`@ExtendWith(SpringExtension.class)`) is already present as a meta annotation in the `@SpringBootTest` annotation ([source][3]).\r\n\r\n**Use of mock annotations**  \r\nWhen you plan to create a Spring boot test, mocks can be injected in the TestApplicationContext using the `@MockBean` annotation. However, by using `@Mock` together with `@InjectMocks`, the mocks will be created by Mockito only, without being registered in the application context. More info on the differences can be found [here][4].\r\n\r\n**Mock preparation**  \r\nMocks are &quot;fake&quot; implementations of classes, and are used to mimic the behaviour of a real object. Its not a real object and it only performs the tasks you have assigned to it. In the setup() however, the method attempt to access the mock as a real object. This won&#39;t work as its not the correct way to set up mock:\r\n\r\n```java\r\n    // The CompaniaRepository is annotated as being a mock\r\n    @Mock\r\n    CompaniaRepository companiaRepository;\r\n    ...\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        Compania compania = new Compania();\r\n        ...\r\n\r\n        // Here a method on the mock is invoked, which has no use\r\n        companiaRepository.save(compania);\r\n    }\r\n```\r\nMore info on setting up a Mockito mock can be found [here][5].\r\n\r\nFurthermore, if you plan to set up a database test I wouldn&#39;t suggest on mocking the repositories as it diminishes the requirement of using a database (assuming there isn&#39;t a third repository which does require H2). \r\n\r\nA final thing; Spring controllers are best tested by performing tests via the web layer. Instantiating the controller under test using `new ControllerApi(...)` will only test the methods, and not the endpoints they are mapped to. A great tutorial on how to test the web layer can be found [here][6].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-series\r\n  [2]: https://www.baeldung.com/spring-boot-testing\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L81\r\n  [4]: https://www.baeldung.com/java-spring-mockito-mock-mockbean\r\n  [5]: https://www.baeldung.com/mockito-behavior\r\n  [6]: https://spring.io/guides/gs/testing-web/","title":"Spring Boot API test throwing nullPointerException","body":"<p>The test setup has a lot of issues, and my suggestion would be to read through the mockito and spring test basics, for instance <a href=\"https://www.baeldung.com/mockito-series\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">here</a> .</p>\n<p><strong>Test setup</strong><br />\nFor starters, the code mixes up different test setups. The annotation <code>@RunWith(SpringRunner.class)</code> suggests a JUnit4 setup, but the strack trace indicates the use of JUnit5, as the jupiter package is on the classpath (<code>org.junit.jupiter.engine.execution....</code>). The <code>@RunWith</code> can be removed as JUnit5 relies on extensions, and the spring extention (<code>@ExtendWith(SpringExtension.class)</code>) is already present as a meta annotation in the <code>@SpringBootTest</code> annotation (<a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L81\" rel=\"nofollow noreferrer\">source</a>).</p>\n<p><strong>Use of mock annotations</strong><br />\nWhen you plan to create a Spring boot test, mocks can be injected in the TestApplicationContext using the <code>@MockBean</code> annotation. However, by using <code>@Mock</code> together with <code>@InjectMocks</code>, the mocks will be created by Mockito only, without being registered in the application context. More info on the differences can be found <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Mock preparation</strong><br />\nMocks are &quot;fake&quot; implementations of classes, and are used to mimic the behaviour of a real object. Its not a real object and it only performs the tasks you have assigned to it. In the setup() however, the method attempt to access the mock as a real object. This won't work as its not the correct way to set up mock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // The CompaniaRepository is annotated as being a mock\n    @Mock\n    CompaniaRepository companiaRepository;\n    ...\n\n    @BeforeEach\n    void setUp() {\n        Compania compania = new Compania();\n        ...\n\n        // Here a method on the mock is invoked, which has no use\n        companiaRepository.save(compania);\n    }\n</code></pre>\n<p>More info on setting up a Mockito mock can be found <a href=\"https://www.baeldung.com/mockito-behavior\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Furthermore, if you plan to set up a database test I wouldn't suggest on mocking the repositories as it diminishes the requirement of using a database (assuming there isn't a third repository which does require H2).</p>\n<p>A final thing; Spring controllers are best tested by performing tests via the web layer. Instantiating the controller under test using <code>new ControllerApi(...)</code> will only test the methods, and not the endpoints they are mapped to. A great tutorial on how to test the web layer can be found <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70129084,"answer_count":1,"score":1,"last_activity_date":1637953979,"creation_date":1637924514,"question_id":70123383,"body_markdown":"So I&#39;m trying to test my api and its giving me a nullpointer exception when I try to use the repository.\r\n\r\nSupposedly I have a h2 database for testing in my application.yml(inside test/resources) like this:\r\n\r\n    spring:\r\n      profiles:\r\n        active: test\r\n      datasource:\r\n        username:\r\n        password:\r\n        url: jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE;\r\n        platform: h2\r\n\r\nHere is my ControllerAPItest.java\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureTestDatabase\r\n    class ControllerAPITest {\r\n    \r\n    \r\n    \r\n        @Mock\r\n        CompaniaRepository companiaRepository;\r\n        @Mock\r\n        DefaultGroupRepository defaultGroupRepository;\r\n        @Mock\r\n        OfficeRepository officeRepository;\r\n    \r\n        @InjectMocks\r\n        CompaniaServiceImpl companiaService;\r\n    \r\n        ControllerAPI controllerAPI = new ControllerAPI(companiaService);\r\n    \r\n    \r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            Compania compania = new Compania();\r\n            compania.setName(&quot;companiaTest&quot;);\r\n            compania.setDominio(&quot;dominioTest&quot;);\r\n            compania.setAltas(&quot;altasTest&quot;);\r\n            compania.setBajas(&quot;bajasTest&quot;);\r\n            compania.setDefault_group(null);\r\n            compania.setOffice(null);\r\n    \r\n            companiaRepository.save(compania);\r\n        }\r\n    \r\n        @AfterEach\r\n        void tearDown() {\r\n            companiaRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        void getByField() {\r\n        }\r\n    \r\n        @Test\r\n        void getCompanias() {\r\n            System.out.println(controllerAPI.GetCompanias());\r\n        }\r\n    }\r\n\r\nAnd here is the output of the error I&#39;m getting:\r\n\r\n&gt; java.lang.NullPointerException \tat\r\n&gt; controller.ControllerAPI.GetCompanias(ControllerAPI.java:114) \tat\r\n&gt; controller.ControllerAPITest.getCompanias(ControllerAPITest.java:65)\r\n\r\nIt is pointing to the line that says:\r\n\r\n&gt;companiaRepository.save(compania);\r\n\r\nHere is the full Error: https://textdoc.co/eGmu72wa1ydEoJ4T\r\n\r\nWhat is happening with my code?\r\n\r\nThanks!\r\n\r\nEdit. here is my getCompanias in my controller.\r\n\r\n    @ResponseStatus(HttpStatus.OK)\r\n        @GetMapping()\r\n        public Map&lt;String, List&lt;Compania&gt;&gt; GetCompanias() {\r\n            Map&lt;String, List&lt;Compania&gt;&gt; mappedResult = Collections.singletonMap(&quot;result&quot;, companiaService.getCompanias());\r\n            return mappedResult;\r\n            // return companiaService.getCompanias();\r\n        }\r\nThat uses the companiaService here:\r\n\r\n    public List&lt;Compania&gt; getCompanias() {\r\n            return companiaRepository.findAll();\r\n        }\r\n\r\nThanks!","title":"Spring Boot API test throwing nullPointerException","body":"<p>So I'm trying to test my api and its giving me a nullpointer exception when I try to use the repository.</p>\n<p>Supposedly I have a h2 database for testing in my application.yml(inside test/resources) like this:</p>\n<pre><code>spring:\n  profiles:\n    active: test\n  datasource:\n    username:\n    password:\n    url: jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE;\n    platform: h2\n</code></pre>\n<p>Here is my ControllerAPItest.java</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureTestDatabase\nclass ControllerAPITest {\n\n\n\n    @Mock\n    CompaniaRepository companiaRepository;\n    @Mock\n    DefaultGroupRepository defaultGroupRepository;\n    @Mock\n    OfficeRepository officeRepository;\n\n    @InjectMocks\n    CompaniaServiceImpl companiaService;\n\n    ControllerAPI controllerAPI = new ControllerAPI(companiaService);\n\n\n\n    @BeforeEach\n    void setUp() {\n        Compania compania = new Compania();\n        compania.setName(&quot;companiaTest&quot;);\n        compania.setDominio(&quot;dominioTest&quot;);\n        compania.setAltas(&quot;altasTest&quot;);\n        compania.setBajas(&quot;bajasTest&quot;);\n        compania.setDefault_group(null);\n        compania.setOffice(null);\n\n        companiaRepository.save(compania);\n    }\n\n    @AfterEach\n    void tearDown() {\n        companiaRepository.deleteAll();\n    }\n\n    @Test\n    void getByField() {\n    }\n\n    @Test\n    void getCompanias() {\n        System.out.println(controllerAPI.GetCompanias());\n    }\n}\n</code></pre>\n<p>And here is the output of the error I'm getting:</p>\n<blockquote>\n<p>java.lang.NullPointerException    at\ncontroller.ControllerAPI.GetCompanias(ControllerAPI.java:114)     at\ncontroller.ControllerAPITest.getCompanias(ControllerAPITest.java:65)</p>\n</blockquote>\n<p>It is pointing to the line that says:</p>\n<blockquote>\n<p>companiaRepository.save(compania);</p>\n</blockquote>\n<p>Here is the full Error: <a href=\"https://textdoc.co/eGmu72wa1ydEoJ4T\" rel=\"nofollow noreferrer\">https://textdoc.co/eGmu72wa1ydEoJ4T</a></p>\n<p>What is happening with my code?</p>\n<p>Thanks!</p>\n<p>Edit. here is my getCompanias in my controller.</p>\n<pre><code>@ResponseStatus(HttpStatus.OK)\n    @GetMapping()\n    public Map&lt;String, List&lt;Compania&gt;&gt; GetCompanias() {\n        Map&lt;String, List&lt;Compania&gt;&gt; mappedResult = Collections.singletonMap(&quot;result&quot;, companiaService.getCompanias());\n        return mappedResult;\n        // return companiaService.getCompanias();\n    }\n</code></pre>\n<p>That uses the companiaService here:</p>\n<pre><code>public List&lt;Compania&gt; getCompanias() {\n        return companiaRepository.findAll();\n    }\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","api","github"],"comments":[{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637950209,"post_id":70128290,"comment_id":123967396,"body_markdown":"What datatype is `repositoriesUserData`?","body":"What datatype is <code>repositoriesUserData</code>?"},{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1637950469,"post_id":70128290,"comment_id":123967462,"body_markdown":"it&#39;s, private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();. Forgot to mention it.","body":"it&#39;s, private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();. Forgot to mention it."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637951177,"post_id":70128290,"comment_id":123967623,"body_markdown":"your code does not even compile, what is `GHUser`, `GHRepository`, `fillList`, `githubLogin`?","body":"your code does not even compile, what is <code>GHUser</code>, <code>GHRepository</code>, <code>fillList</code>, <code>githubLogin</code>?"},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637951352,"post_id":70128290,"comment_id":123967680,"body_markdown":"Its from the package https://github-api.kohsuke.org/. But even if you add the dependency it will not compile","body":"Its from the package <a href=\"https://github-api.kohsuke.org/\" rel=\"nofollow noreferrer\">github-api.kohsuke.org</a>. But even if you add the dependency it will not compile"},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637951474,"post_id":70128290,"comment_id":123967707,"body_markdown":"@Box I think you should provide a runnable code","body":"@Box I think you should provide a runnable code"},{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1637952068,"post_id":70128290,"comment_id":123967846,"body_markdown":"I&#39;ve added the functions for a runnable code. You will need to generate a GITHUB token with access to ALL of the READS and your LOGIN, this is not the email but the username. In REPO_NAME, just give it the name of a public repository you own.","body":"I&#39;ve added the functions for a runnable code. You will need to generate a GITHUB token with access to ALL of the READS and your LOGIN, this is not the email but the username. In REPO_NAME, just give it the name of a public repository you own."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637953963,"creation_date":1637952694,"answer_id":70128888,"question_id":70128290,"body_markdown":"I&#39;ll give it a try (code in question still not working for me):\r\n\r\nIf I understood correctly, you want a Map, that contains the repositories for each user.\r\nSo therefore i think the `repositoriesUserData` should be a `Map&lt;String, List&lt;String&gt;`.\r\n\r\nWith that in mind, lets fill the map in each loop-cycle with the user from the lists as key and the list of repository-names as value.\r\n\r\nThe method would look like this (removed the temporary return and replaced it with void)\r\n\r\n```java\r\n  public static String repositoriesUnderUser() throws IOException {\r\n    for (int i = 0; i &lt; fillList().size(); i++) {\r\n      GHUser user = githubLogin.getUser(fillList().get(i));\r\n\r\n      Map&lt;String, GHRepository&gt; temp = user.getRepositories();\r\n      repositoriesUserData.put(user.getLogin(), temp.values().stream().map(GHRepository::getName).collect(Collectors.toList()));\r\n      }\r\n    return &quot;temporaryReturn&quot;;\r\n  }\r\n```\r\n**Edit: (Short explanation what is happening in your code)**\r\n\r\n - You are collecting all usernames to the local List `names` and also adding all repository-names to the local List &#39;repoNames&#39;.\r\n - At the end of the method you put a new entry to your map `repositoriesUserData`.\r\n\r\nThat means at the end of the method you just added one single entry to the map where \r\n\r\n - key = all of the users\r\n - value = all of the repositories from the users (because its a list, if two users have the same repository, they are added twice to this list)","title":"Grouping and sorting Lists into a Map","body":"<p>I'll give it a try (code in question still not working for me):</p>\n<p>If I understood correctly, you want a Map, that contains the repositories for each user.\nSo therefore i think the <code>repositoriesUserData</code> should be a <code>Map&lt;String, List&lt;String&gt;</code>.</p>\n<p>With that in mind, lets fill the map in each loop-cycle with the user from the lists as key and the list of repository-names as value.</p>\n<p>The method would look like this (removed the temporary return and replaced it with void)</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String repositoriesUnderUser() throws IOException {\n    for (int i = 0; i &lt; fillList().size(); i++) {\n      GHUser user = githubLogin.getUser(fillList().get(i));\n\n      Map&lt;String, GHRepository&gt; temp = user.getRepositories();\n      repositoriesUserData.put(user.getLogin(), temp.values().stream().map(GHRepository::getName).collect(Collectors.toList()));\n      }\n    return &quot;temporaryReturn&quot;;\n  }\n</code></pre>\n<p><strong>Edit: (Short explanation what is happening in your code)</strong></p>\n<ul>\n<li>You are collecting all usernames to the local List <code>names</code> and also adding all repository-names to the local List 'repoNames'.</li>\n<li>At the end of the method you put a new entry to your map <code>repositoriesUserData</code>.</li>\n</ul>\n<p>That means at the end of the method you just added one single entry to the map where</p>\n<ul>\n<li>key = all of the users</li>\n<li>value = all of the repositories from the users (because its a list, if two users have the same repository, they are added twice to this list)</li>\n</ul>\n"}],"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70128888,"answer_count":1,"score":0,"last_activity_date":1637953963,"creation_date":1637948814,"question_id":70128290,"body_markdown":"Before anything, the title doesn&#39;t convey what I really want to ask.\r\nWhat I want to know is, how can I make a map, where for several users, it collects their Data and then groups it all together. I&#39;m currently using two lists, one for the users&#39; names and another for their works. I tried using a map.put but it kept overwriting the previous entry. So what I&#39;d like to obtain is as follows;\r\n\r\nDesired output:\r\n\r\n    {user1 = work1, work2, work3 , user2 = work1, work2 , userN = workN} \r\nCurrent output:\r\n\r\n    {[user1, user2, user3, user4]=[work1, work2, work3, work4, work5  (user1) , work1 (user2), work1, work2, work3 ( user3 )]}\r\n\r\nThis is the code that I&#39;m currently using to achieve the above.\r\n\r\n    private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();\r\n    private static Set&lt;String&gt; collaboratorNames = new HashSet&lt;&gt;();\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        login();\r\n        getCollabs(GITHUB_REPO_NAME);\r\n        repositoriesUnderUser();\r\n    }\r\n\r\n    public GitManager(String AUTH, String USERNAME, String REPO_NAME) throws IOException {\r\n        this.GITHUB_LOGIN = USERNAME;\r\n        this.GITHUB_OAUTH = AUTH;\r\n        this.GITHUB_REPO_NAME = REPO_NAME;\r\n        this.githubLogin = new GitHubBuilder().withOAuthToken(this.GITHUB_OAUTH, this.GITHUB_LOGIN).build();\r\n        this.userOfLogin = this.githubLogin.getUser(GITHUB_LOGIN);\r\n    }\r\n\r\n    public static void login() throws IOException { \r\n            new GitManager(GIT_TOKEN, GIT_LOGIN, GITHUB_REPO_NAME);\r\n            connect();\r\n\r\n    }\r\n\r\n        public static void connect() throws IOException {\r\n        if (githubLogin.isCredentialValid()) {\r\n            valid = true;\r\n            githubLogin.connect(GITHUB_LOGIN, GITHUB_OAUTH);\r\n            userOfLogin = githubLogin.getUser(GITHUB_LOGIN);\r\n        }\r\n    }\r\n\r\n    public static String getCollabs(String repositoryName) throws IOException {\r\n        GHRepository collaboratorsRepository = userOfLogin.getRepository(repositoryName);\r\n\r\n        collaboratorNames = collaboratorsRepository.getCollaboratorNames();\r\n        String collaborators = collaboratorNames.toString();\r\n\r\n        System.out.println(&quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators);\r\n        String out = &quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators;\r\n        return out;\r\n    }\r\n    \r\n       public static List&lt;String&gt; fillList() {\r\n        List&lt;String&gt; collaborators = new ArrayList&lt;&gt;();\r\n\r\n        collaboratorNames.forEach(s -&gt; {\r\n            collaborators.add(s);\r\n        });\r\n        return collaborators;\r\n    }\r\n\r\n       public static String repositoriesUnderUser() throws IOException {\r\n        GHUser user;\r\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; repoNames = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; fillList().size(); i++) {\r\n            user = githubLogin.getUser(fillList().get(i));\r\n\r\n            Map&lt;String, GHRepository&gt; temp = user.getRepositories();\r\n            names.add(user.getLogin());\r\n\r\n            temp.forEach((c, b) -&gt; {\r\n            repoNames.add(b.getName());\r\n\r\n            });\r\n        }\r\n        repositoriesUserData.put(names,repoNames);\r\n        System.out.println(repositoriesUserData);\r\n    return &quot;temporaryReturn&quot;;\r\n    }\r\n\r\nAll help is appreciated! ","title":"Grouping and sorting Lists into a Map","body":"<p>Before anything, the title doesn't convey what I really want to ask.\nWhat I want to know is, how can I make a map, where for several users, it collects their Data and then groups it all together. I'm currently using two lists, one for the users' names and another for their works. I tried using a map.put but it kept overwriting the previous entry. So what I'd like to obtain is as follows;</p>\n<p>Desired output:</p>\n<pre><code>{user1 = work1, work2, work3 , user2 = work1, work2 , userN = workN} \n</code></pre>\n<p>Current output:</p>\n<pre><code>{[user1, user2, user3, user4]=[work1, work2, work3, work4, work5  (user1) , work1 (user2), work1, work2, work3 ( user3 )]}\n</code></pre>\n<p>This is the code that I'm currently using to achieve the above.</p>\n<pre><code>private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();\nprivate static Set&lt;String&gt; collaboratorNames = new HashSet&lt;&gt;();\n\npublic static void main(String[] args) throws Exception {\n    login();\n    getCollabs(GITHUB_REPO_NAME);\n    repositoriesUnderUser();\n}\n\npublic GitManager(String AUTH, String USERNAME, String REPO_NAME) throws IOException {\n    this.GITHUB_LOGIN = USERNAME;\n    this.GITHUB_OAUTH = AUTH;\n    this.GITHUB_REPO_NAME = REPO_NAME;\n    this.githubLogin = new GitHubBuilder().withOAuthToken(this.GITHUB_OAUTH, this.GITHUB_LOGIN).build();\n    this.userOfLogin = this.githubLogin.getUser(GITHUB_LOGIN);\n}\n\npublic static void login() throws IOException { \n        new GitManager(GIT_TOKEN, GIT_LOGIN, GITHUB_REPO_NAME);\n        connect();\n\n}\n\n    public static void connect() throws IOException {\n    if (githubLogin.isCredentialValid()) {\n        valid = true;\n        githubLogin.connect(GITHUB_LOGIN, GITHUB_OAUTH);\n        userOfLogin = githubLogin.getUser(GITHUB_LOGIN);\n    }\n}\n\npublic static String getCollabs(String repositoryName) throws IOException {\n    GHRepository collaboratorsRepository = userOfLogin.getRepository(repositoryName);\n\n    collaboratorNames = collaboratorsRepository.getCollaboratorNames();\n    String collaborators = collaboratorNames.toString();\n\n    System.out.println(&quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators);\n    String out = &quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators;\n    return out;\n}\n\n   public static List&lt;String&gt; fillList() {\n    List&lt;String&gt; collaborators = new ArrayList&lt;&gt;();\n\n    collaboratorNames.forEach(s -&gt; {\n        collaborators.add(s);\n    });\n    return collaborators;\n}\n\n   public static String repositoriesUnderUser() throws IOException {\n    GHUser user;\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    List&lt;String&gt; repoNames = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; fillList().size(); i++) {\n        user = githubLogin.getUser(fillList().get(i));\n\n        Map&lt;String, GHRepository&gt; temp = user.getRepositories();\n        names.add(user.getLogin());\n\n        temp.forEach((c, b) -&gt; {\n        repoNames.add(b.getName());\n\n        });\n    }\n    repositoriesUserData.put(names,repoNames);\n    System.out.println(repositoriesUserData);\nreturn &quot;temporaryReturn&quot;;\n}\n</code></pre>\n<p>All help is appreciated!</p>\n"},{"tags":["java","classloader","java-11","java-resources"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1637942831,"post_id":70126893,"comment_id":123965173,"body_markdown":"I found [this answer](https://stackoverflow.com/a/5193884/7525132) here on SO. I do not feel like it answers this question perfectly, so I did not immediately flag a dupe, but it might help anyway.","body":"I found <a href=\"https://stackoverflow.com/a/5193884/7525132\">this answer</a> here on SO. I do not feel like it answers this question perfectly, so I did not immediately flag a dupe, but it might help anyway."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638179668,"post_id":70126893,"comment_id":124010049,"body_markdown":"`getResources(…)` with a directory name only works when the underlying storage has directories, e.g. the default file system or in case of a jar file, when it has pseudo directory entries (which they usually don’t have).","body":"<code>getResources(…)</code> with a directory name only works when the underlying storage has directories, e.g. the default file system or in case of a jar file, when it has pseudo directory entries (which they usually don’t have)."}],"answers":[{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637942873,"creation_date":1637942873,"answer_id":70127183,"question_id":70126893,"body_markdown":"Try with\r\n```java\r\nEnumeration&lt;URL&gt; urls = ClassLoader.getSystemClassLoader().getResources(&quot;path/to/my/package&quot;);\r\n\r\nwhile (urls.hasMoreElements()) {\r\n    System.out.println(urls.nextElement());\r\n}\r\n```","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>Try with</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;URL&gt; urls = ClassLoader.getSystemClassLoader().getResources(&quot;path/to/my/package&quot;);\n\nwhile (urls.hasMoreElements()) {\n    System.out.println(urls.nextElement());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637946046,"creation_date":1637946046,"answer_id":70127768,"question_id":70126893,"body_markdown":"You cannot walk a class path like you can walk a file path. Walking a file path is done on the file system, which does not apply to a class path.\r\n\r\nWhile a java class path entries are formed like file paths and usually are folders and files (either on the file system or inside a JAR archive), it does not necessarily have to be that way. In fact, the classes of one single package may originate from various locations of differing nature: one might be loaded from a local JAR file while another one might be loaded from a remote URL.\r\n\r\nThe method `ClassLoader.getResources()` exists to provide access to all &quot;occurrences&quot; of a resource if it has the same name in different JAR files (or other locations). For example you can use\r\n\r\n    ClassLoader.getSystemClassLoader().getResources(&quot;META-INF/MANIFEST.MF&quot;);\r\n\r\nto access the manifest file of each JAR file in your class path.","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>You cannot walk a class path like you can walk a file path. Walking a file path is done on the file system, which does not apply to a class path.</p>\n<p>While a java class path entries are formed like file paths and usually are folders and files (either on the file system or inside a JAR archive), it does not necessarily have to be that way. In fact, the classes of one single package may originate from various locations of differing nature: one might be loaded from a local JAR file while another one might be loaded from a remote URL.</p>\n<p>The method <code>ClassLoader.getResources()</code> exists to provide access to all &quot;occurrences&quot; of a resource if it has the same name in different JAR files (or other locations). For example you can use</p>\n<pre><code>ClassLoader.getSystemClassLoader().getResources(&quot;META-INF/MANIFEST.MF&quot;);\n</code></pre>\n<p>to access the manifest file of each JAR file in your class path.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637953881,"creation_date":1637941386,"question_id":70126893,"body_markdown":"I am trying to enumerate classes in the package with\r\n\r\n    Enumeration&lt;URL&gt; resourceUrls = myObject.getClassLoader().getResources(&quot;path/to/my/package/&quot;);\r\n    while (resourceUrls.hasMoreElements()) {\r\n       ...\r\n\r\nUnfortunately it returns nothing. Why?\r\n\r\nAssuming path is correct. Path starts with no slash and ends with slash. There are several `public classes` under `path.to.my.package` package.\r\n\r\n***\r\n\r\nI took this code from Spring.","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>I am trying to enumerate classes in the package with</p>\n<pre><code>Enumeration&lt;URL&gt; resourceUrls = myObject.getClassLoader().getResources(&quot;path/to/my/package/&quot;);\nwhile (resourceUrls.hasMoreElements()) {\n   ...\n</code></pre>\n<p>Unfortunately it returns nothing. Why?</p>\n<p>Assuming path is correct. Path starts with no slash and ends with slash. There are several <code>public classes</code> under <code>path.to.my.package</code> package.</p>\n<hr />\n<p>I took this code from Spring.</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438692472,"creation_date":1438692472,"answer_id":31809752,"question_id":31805698,"body_markdown":"If you put your caret on the class name, the &quot;Copy Reference&quot; action (Ctrl-Alt-Shift-C) will put exactly what you need into the clipboard.\r\n\r\nNote that IntelliJ IDEA supports class name completion in application-context.xml as well.","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>If you put your caret on the class name, the \"Copy Reference\" action (Ctrl-Alt-Shift-C) will put exactly what you need into the clipboard.</p>\n\n<p>Note that IntelliJ IDEA supports class name completion in application-context.xml as well.</p>\n"},{"tags":[],"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637953697,"creation_date":1637953697,"answer_id":70129043,"question_id":31805698,"body_markdown":"&quot;Copy Reference&quot; puts multiple formats to the clipboard. At least that&#39;s what I presume after a quick test. IIRC, this behaviour changed some month ago.\r\n\r\n - Pasting into a javadoc comment section puts the fully qualified class or method name.\r\n - Pasting somewhere else in the file, or into another application, only gives you the class or method name.\r\n\r\n","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>&quot;Copy Reference&quot; puts multiple formats to the clipboard. At least that's what I presume after a quick test. IIRC, this behaviour changed some month ago.</p>\n<ul>\n<li>Pasting into a javadoc comment section puts the fully qualified class or method name.</li>\n<li>Pasting somewhere else in the file, or into another application, only gives you the class or method name.</li>\n</ul>\n"}],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637953697,"creation_date":1438680988,"question_id":31805698,"body_markdown":"Is there a **quick way to copy class package + name to the clip board**, e.g.\r\n\r\n    de.mypackage.unit.HelloWorld\r\n\r\nAs a Spring developer I need this on a regular basis to define beans in the `application-context.xml` and I find myself copy and pasting the stuff manually this wasting valuable seconds.\r\n\r\nI am aware of *Ctrl + Alt + Shift + c* to copy class references, but the format is not quite right:\r\n\r\n    de/mypackage/unit/HelloWorld.java:73","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>Is there a <strong>quick way to copy class package + name to the clip board</strong>, e.g.</p>\n\n<pre><code>de.mypackage.unit.HelloWorld\n</code></pre>\n\n<p>As a Spring developer I need this on a regular basis to define beans in the <code>application-context.xml</code> and I find myself copy and pasting the stuff manually this wasting valuable seconds.</p>\n\n<p>I am aware of <em>Ctrl + Alt + Shift + c</em> to copy class references, but the format is not quite right:</p>\n\n<pre><code>de/mypackage/unit/HelloWorld.java:73\n</code></pre>\n"},{"tags":["java","el","check-constraints","jsr380"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1638304627,"post_id":70129030,"comment_id":124052202,"body_markdown":"A not very good solution would be something like: `foo.stream().count() == 1`. I&#39;ve opened an issue for that: https://github.com/eclipse-ee4j/el-ri/issues/175","body":"A not very good solution would be something like: <code>foo.stream().count() == 1</code>. I&#39;ve opened an issue for that: <a href=\"https://github.com/eclipse-ee4j/el-ri/issues/175\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/el-ri/issues/175</a>"},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638305161,"post_id":70129030,"comment_id":124052379,"body_markdown":"Just to explain a little more, the specification of ArrayELResolver::getValue states that `It accepts any object as a property and coerces that object into an integer index into the array`. You can see that in the exception, it tried to coerce the length to int.","body":"Just to explain a little more, the specification of ArrayELResolver::getValue states that <code>It accepts any object as a property and coerces that object into an integer index into the array</code>. You can see that in the exception, it tried to coerce the length to int."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638305163,"post_id":70129030,"comment_id":124052382,"body_markdown":"https://javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html","body":"<a href=\"https://javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html</a>"},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1638396767,"post_id":70129030,"comment_id":124080626,"body_markdown":"@ThiagoHenriqueHupner _that&#39;s_ why it did that! I thought it was because I was comparing it with a number. This is more than a comment, this is an answer.","body":"@ThiagoHenriqueHupner <i>that&#39;s</i> why it did that! I thought it was because I was comparing it with a number. This is more than a comment, this is an answer."},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1638443267,"post_id":70129030,"comment_id":124091566,"body_markdown":"@ThiagoHenriqueHupner Unfortunately, your &quot;not very good solution&quot; as you call it, leads to a DisabledFeatureELException telling me that &quot;Method execution is not supported when only enabling Expression Language bean property resolution&quot;, a message so rare that it yields just one single result on Google. I understand what it means, but have no idea how to proceed.","body":"@ThiagoHenriqueHupner Unfortunately, your &quot;not very good solution&quot; as you call it, leads to a DisabledFeatureELException telling me that &quot;Method execution is not supported when only enabling Expression Language bean property resolution&quot;, a message so rare that it yields just one single result on Google. I understand what it means, but have no idea how to proceed."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638450245,"post_id":70129030,"comment_id":124094531,"body_markdown":"Oh, that&#39;s unfortunate. I don&#39;t have a lot of experience with Bean Validation, so it seems that it doesn&#39;t like method calls in their expressions.","body":"Oh, that&#39;s unfortunate. I don&#39;t have a lot of experience with Bean Validation, so it seems that it doesn&#39;t like method calls in their expressions."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1638450256,"post_id":70129030,"comment_id":124094538,"body_markdown":"Maybe this can help: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-interpolation-with-message-expressions","body":"Maybe this can help: <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-interpolation-with-message-expressions\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/validator/6.2/reference/en-US/&hellip;</a>"},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1684155734,"post_id":70129030,"comment_id":134471146,"body_markdown":"@ThiagoHenriqueHupner since it is now fixed (thanks!), perhaps add an answer that states that?","body":"@ThiagoHenriqueHupner since it is now fixed (thanks!), perhaps add an answer that states that?"}],"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637953580,"creation_date":1637953580,"question_id":70129030,"body_markdown":"I have a constraint on which I want to use EL to tune the message to the circumstances. Dependent on the length of an array, I want to show a different message. However, I&#39;m having trouble getting the length of that array. \r\n\r\nWhat am I doing wrong?\r\n\r\n```lang-java\r\nimport org.junit.jupiter.api.Test;\r\nimport javax.validation.*;\r\nimport java.lang.annotation.*;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class FooTest {\r\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\n    @Test\r\n    public void foo() {\r\n        var violations = validator.validate(new ObjectWithFoo());\r\n        assertThat(violations).extracting(&quot;message&quot;)\r\n            .containsExactly(&quot;Field value should be foo&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void foos() {\r\n        var violations = validator.validate(new ObjectWithFoos());\r\n        assertThat(violations).extracting(&quot;message&quot;)\r\n            .containsExactly(&quot;Field value should be one of [foo, bar, baz]&quot;);\r\n    }\r\n\r\n    @Foo(foos = {&quot;foo&quot;})\r\n    private static class ObjectWithFoo{}\r\n\r\n    @Foo(foos = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\r\n    private static class ObjectWithFoos{}\r\n\r\n    @Constraint(validatedBy = FooValidator.class)\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Foo{\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n        String[] foos();\r\n\r\n        // This is the message I want to tune to the length of the array.\r\n        // If the array contains just one element, I want to show a different message.\r\n        // Note that &#39;one of foos&#39; is a placeholder; I still need to figure out \r\n        // how to display the array in that case.\r\n        String message() default &quot;Field value should be ${foos.length == 1 ? foos[0] : &#39;one of foos&#39;}&quot;;\r\n        @Target({ElementType.TYPE})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @interface List {\r\n            Foo[] value();\r\n        }\r\n    }\r\n\r\n    public static class FooValidator implements ConstraintValidator&lt;Foo, Object&gt; {\r\n        @Override\r\n        public void initialize(Foo constraintAnnotation) {\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(Object o, ConstraintValidatorContext constraintValidatorContext) {\r\n            return false; // for this test, we want the validation to fail\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, this throws an exception:\r\n\r\n    20:03:52.810 [main] WARN org.hibernate.validator.internal.engine.messageinterpolation.ElTermResolver - \r\n    HV000148: An exception occurred during evaluation of EL expression &#39;${foos.length == 1 ? foos[0] : &#39;one of $foos&#39;}&#39;\r\n    java.lang.NumberFormatException: For input string: &quot;length&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n","title":"How do I use EL to evaluate the length of an array in a (JSR 380) constraint message?","body":"<p>I have a constraint on which I want to use EL to tune the message to the circumstances. Dependent on the length of an array, I want to show a different message. However, I'm having trouble getting the length of that array.</p>\n<p>What am I doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport javax.validation.*;\nimport java.lang.annotation.*;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class FooTest {\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n\n    @Test\n    public void foo() {\n        var violations = validator.validate(new ObjectWithFoo());\n        assertThat(violations).extracting(&quot;message&quot;)\n            .containsExactly(&quot;Field value should be foo&quot;);\n    }\n\n    @Test\n    public void foos() {\n        var violations = validator.validate(new ObjectWithFoos());\n        assertThat(violations).extracting(&quot;message&quot;)\n            .containsExactly(&quot;Field value should be one of [foo, bar, baz]&quot;);\n    }\n\n    @Foo(foos = {&quot;foo&quot;})\n    private static class ObjectWithFoo{}\n\n    @Foo(foos = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\n    private static class ObjectWithFoos{}\n\n    @Constraint(validatedBy = FooValidator.class)\n    @Target({ElementType.TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface Foo{\n        Class&lt;?&gt;[] groups() default {};\n        Class&lt;? extends Payload&gt;[] payload() default {};\n\n        String[] foos();\n\n        // This is the message I want to tune to the length of the array.\n        // If the array contains just one element, I want to show a different message.\n        // Note that 'one of foos' is a placeholder; I still need to figure out \n        // how to display the array in that case.\n        String message() default &quot;Field value should be ${foos.length == 1 ? foos[0] : 'one of foos'}&quot;;\n        @Target({ElementType.TYPE})\n        @Retention(RetentionPolicy.RUNTIME)\n        @interface List {\n            Foo[] value();\n        }\n    }\n\n    public static class FooValidator implements ConstraintValidator&lt;Foo, Object&gt; {\n        @Override\n        public void initialize(Foo constraintAnnotation) {\n        }\n\n        @Override\n        public boolean isValid(Object o, ConstraintValidatorContext constraintValidatorContext) {\n            return false; // for this test, we want the validation to fail\n        }\n    }\n}\n</code></pre>\n<p>Unfortunately, this throws an exception:</p>\n<pre><code>20:03:52.810 [main] WARN org.hibernate.validator.internal.engine.messageinterpolation.ElTermResolver - \nHV000148: An exception occurred during evaluation of EL expression '${foos.length == 1 ? foos[0] : 'one of $foos'}'\njava.lang.NumberFormatException: For input string: &quot;length&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.base/java.lang.Integer.parseInt(Integer.java:652)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","dsl"],"comments":[{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1637355603,"post_id":70008693,"comment_id":123813477,"body_markdown":"will you be able to share your whole code or GitHub link for this?","body":"will you be able to share your whole code or GitHub link for this?"},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1637394089,"post_id":70008693,"comment_id":123819179,"body_markdown":"@Raj I added a repository with a minimal reproduction to GitHub. See the last paragraph of the question.","body":"@Raj I added a repository with a minimal reproduction to GitHub. See the last paragraph of the question."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637944011,"post_id":70008693,"comment_id":123965566,"body_markdown":"*can* reproduce (..with annotation config, it works like charm)! please file an issue (best [here](https://github.com/spring-projects/spring-framework/issues) i think). Wait for fix/ stick to/mix with annotation config /star [Spring Fu](https://github.com/spring-projects-experimental/spring-fu).","body":"<i>can</i> reproduce (..with annotation config, it works like charm)! please file an issue (best <a href=\"https://github.com/spring-projects/spring-framework/issues\" rel=\"nofollow noreferrer\">here</a> i think). Wait for fix/ stick to/mix with annotation config /star <a href=\"https://github.com/spring-projects-experimental/spring-fu\" rel=\"nofollow noreferrer\">Spring Fu</a>."},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1637944435,"post_id":70008693,"comment_id":123965717,"body_markdown":"@xerx593 Thanks for you reply. I will probably file an issue in the GitHub repository for Spring soon. I know about and look forward to the advance &quot;Spring Fu&quot;, which has been put on halt for now sadly.","body":"@xerx593 Thanks for you reply. I will probably file an issue in the GitHub repository for Spring soon. I know about and look forward to the advance &quot;Spring Fu&quot;, which has been put on halt for now sadly."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637944451,"post_id":70008693,"comment_id":123965721,"body_markdown":"..i think, the guys (implementing DSL support) just forgot about that ([also in the Test](https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/test/kotlin/org/springframework/context/support/BeanDefinitionDslTests.kt)) [The documentation](https://docs.spring.io/spring-framework/docs/current/kdoc-api/spring-context/org.springframework.context.support/-bean-definition-dsl/-scope/-p-r-o-t-o-t-y-p-e/index.html) also needs some effort. (dead links, incorrect/copy&amp;paste)","body":"..i think, the guys (implementing DSL support) just forgot about that (<a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/test/kotlin/org/springframework/context/support/BeanDefinitionDslTests.kt\" rel=\"nofollow noreferrer\">also in the Test</a>) <a href=\"https://docs.spring.io/spring-framework/docs/current/kdoc-api/spring-context/org.springframework.context.support/-bean-definition-dsl/-scope/-p-r-o-t-o-t-y-p-e/index.html\" rel=\"nofollow noreferrer\">The documentation</a> also needs some effort. (dead links, incorrect/copy&amp;paste)"}],"answers":[{"tags":[],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637359577,"creation_date":1637359577,"answer_id":70041403,"question_id":70008693,"body_markdown":"I am not an expert in Kotlin but can you please try this \r\n\r\n    fun beans() = beans {\r\n        bean&lt;InjectionPoint&gt;()\r\n        bean(scope = PROTOTYPE) {\r\n            val injectionPoint = ref&lt;InjectionPoint&gt;()\r\n        \r\n            LoggerFactory.getLogger(\r\n                injectionPoint.methodParameter?.containingClass // constructor\r\n                    ?: injectionPoint.field?.declaringClass // or field injection\r\n            )\r\n        }\r\n    }","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>I am not an expert in Kotlin but can you please try this</p>\n<pre><code>fun beans() = beans {\n    bean&lt;InjectionPoint&gt;()\n    bean(scope = PROTOTYPE) {\n        val injectionPoint = ref&lt;InjectionPoint&gt;()\n    \n        LoggerFactory.getLogger(\n            injectionPoint.methodParameter?.containingClass // constructor\n                ?: injectionPoint.field?.declaringClass // or field injection\n        )\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637929400,"creation_date":1637928533,"answer_id":70124184,"question_id":70008693,"body_markdown":"I don&#39;t think you will get an instance of `InjectionPoint` because it is created in response to the demand a component makes for an injection of a managed bean.\r\n\r\n`InjectionPoint` class is not annotated with `@Component` or any of its derivatives like `@Service`. Hence, it is not a managed bean and you will not get a reference using `ref&lt;InjectionPoint&gt;`.\r\n\r\n`InjectionPoint` only contains meta information about the class or method that is requesting an instance of the managed bean. *That is, it not a functional object and hence, not managed.* However, it can be optionally accepted by the bean factory method to make some decisions about the instance to be returned. Hence, your bean factory method (whatever it is called in Kotlin) must accept an instance of `InjectionPoint`, which is what you are doing in your first version in the post.\r\n\r\nAlso, from the minimal I could understand from the docs of Kotlin Bean DSL [here][1], I couldn&#39;t see **a way to accept it as a parameter** (but that could simply be due to my lack of knowledge of Kotlin. So, in summary, this may not be useful for bean definitions where injection point is needed, unless you can go through the docs and find out a way which I may have missed.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/kdoc-api/spring-framework/org.springframework.context.support/-bean-definition-dsl/","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>I don't think you will get an instance of <code>InjectionPoint</code> because it is created in response to the demand a component makes for an injection of a managed bean.</p>\n<p><code>InjectionPoint</code> class is not annotated with <code>@Component</code> or any of its derivatives like <code>@Service</code>. Hence, it is not a managed bean and you will not get a reference using <code>ref&lt;InjectionPoint&gt;</code>.</p>\n<p><code>InjectionPoint</code> only contains meta information about the class or method that is requesting an instance of the managed bean. <em>That is, it not a functional object and hence, not managed.</em> However, it can be optionally accepted by the bean factory method to make some decisions about the instance to be returned. Hence, your bean factory method (whatever it is called in Kotlin) must accept an instance of <code>InjectionPoint</code>, which is what you are doing in your first version in the post.</p>\n<p>Also, from the minimal I could understand from the docs of Kotlin Bean DSL <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/kdoc-api/spring-framework/org.springframework.context.support/-bean-definition-dsl/\" rel=\"nofollow noreferrer\">here</a>, I couldn't see <strong>a way to accept it as a parameter</strong> (but that could simply be due to my lack of knowledge of Kotlin. So, in summary, this may not be useful for bean definitions where injection point is needed, unless you can go through the docs and find out a way which I may have missed.</p>\n"}],"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1637952097,"creation_date":1637168816,"question_id":70008693,"body_markdown":"We use a Bean factory function to allow injection of Logger objects into our Beans. \r\nThis looks similar to what Simar Paul Singh describes in his article &quot;[Inject loggers in Spring](https://medium.com/simars/inject-loggers-in-spring-java-or-kotlin-87162d02d068)&quot; \r\n\r\n    import org.slf4j.*\r\n    import org.springframework.beans.factory.InjectionPoint\r\n    import org.springframework.context.annotation.*\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    fun logger(injectionPoint: InjectionPoint): Logger {\r\n      return LoggerFactory.getLogger(\r\n          injectionPoint.methodParameter?.containingClass // constructor\r\n              ?: injectionPoint.field?.declaringClass // or field injection\r\n      )\r\n    }\r\n\r\nToday I attempted to convert this declaration into a Bean declaration using [Springs functional bean definition DSL](https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/spring-framework-reference/kotlin.html#bean-definition-dsl).  However I did not succeed to get a hold of the `InjectionPoint` used to retrieve the class the Logger is injected into. \r\n\r\n    import org.slf4j.*\r\n    import org.springframework.beans.factory.InjectionPoint\r\n    import org.springframework.context.support.beans\r\n    import org.springframework.context.support.BeanDefinitionDsl.Scope.PROTOTYPE\r\n\r\n    fun beans() = beans {\r\n        bean(scope = PROTOTYPE) {\r\n            val injectionPoint = ref&lt;InjectionPoint&gt;()\r\n        \r\n            LoggerFactory.getLogger(\r\n                injectionPoint.methodParameter?.containingClass // constructor\r\n                    ?: injectionPoint.field?.declaringClass // or field injection\r\n            )\r\n        }\r\n    }\r\n\r\n   \r\nThe above results in an exception along the lines of:\r\n\r\n    NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.beans.factory.InjectionPoint&#39; available\r\n\r\n\r\nIs there a way to retrieve the `InjectionPoint` or at least the class to provide a behaviour similar to the Bean declaration without DSL?\r\n\r\nA minimal reproduction repository can be found on [GitHub][1].\r\nRun `./gradlew bootRun` or `.\\gradlew.bat bootRun` on Windows to reproduce the error.\r\n\r\n---\r\n\r\nI&#39;ve opened [issue #27738][2] on the GitHub repository of Spring.\r\n\r\n\r\n  [1]: https://github.com/EndzeitBegins/spring-bean-dsl-injection-point\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27738","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>We use a Bean factory function to allow injection of Logger objects into our Beans.\nThis looks similar to what Simar Paul Singh describes in his article &quot;<a href=\"https://medium.com/simars/inject-loggers-in-spring-java-or-kotlin-87162d02d068\" rel=\"nofollow noreferrer\">Inject loggers in Spring</a>&quot;</p>\n<pre><code>import org.slf4j.*\nimport org.springframework.beans.factory.InjectionPoint\nimport org.springframework.context.annotation.*\n\n@Bean\n@Scope(&quot;prototype&quot;)\nfun logger(injectionPoint: InjectionPoint): Logger {\n  return LoggerFactory.getLogger(\n      injectionPoint.methodParameter?.containingClass // constructor\n          ?: injectionPoint.field?.declaringClass // or field injection\n  )\n}\n</code></pre>\n<p>Today I attempted to convert this declaration into a Bean declaration using <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/spring-framework-reference/kotlin.html#bean-definition-dsl\" rel=\"nofollow noreferrer\">Springs functional bean definition DSL</a>.  However I did not succeed to get a hold of the <code>InjectionPoint</code> used to retrieve the class the Logger is injected into.</p>\n<pre><code>import org.slf4j.*\nimport org.springframework.beans.factory.InjectionPoint\nimport org.springframework.context.support.beans\nimport org.springframework.context.support.BeanDefinitionDsl.Scope.PROTOTYPE\n\nfun beans() = beans {\n    bean(scope = PROTOTYPE) {\n        val injectionPoint = ref&lt;InjectionPoint&gt;()\n    \n        LoggerFactory.getLogger(\n            injectionPoint.methodParameter?.containingClass // constructor\n                ?: injectionPoint.field?.declaringClass // or field injection\n        )\n    }\n}\n</code></pre>\n<p>The above results in an exception along the lines of:</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.beans.factory.InjectionPoint' available\n</code></pre>\n<p>Is there a way to retrieve the <code>InjectionPoint</code> or at least the class to provide a behaviour similar to the Bean declaration without DSL?</p>\n<p>A minimal reproduction repository can be found on <a href=\"https://github.com/EndzeitBegins/spring-bean-dsl-injection-point\" rel=\"nofollow noreferrer\">GitHub</a>.\nRun <code>./gradlew bootRun</code> or <code>.\\gradlew.bat bootRun</code> on Windows to reproduce the error.</p>\n<hr />\n<p>I've opened <a href=\"https://github.com/spring-projects/spring-framework/issues/27738\" rel=\"nofollow noreferrer\">issue #27738</a> on the GitHub repository of Spring.</p>\n"},{"tags":["java","maven","jdbc","netbeans","jar"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1637867650,"post_id":70116125,"comment_id":123946127,"body_markdown":"Look in `Window &gt; Services &gt; Databases &gt; Drivers`; right-click to configure.","body":"Look in <code>Window &gt; Services &gt; Databases &gt; Drivers</code>; right-click to configure."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637868720,"post_id":70116125,"comment_id":123946416,"body_markdown":"@trashgod Have you any post or refference about how to use it that way?, because I have it working the way you said, I can see the tables and views but when calling Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); i&#39;m still getting the same error about the driver missing.","body":"@trashgod Have you any post or refference about how to use it that way?, because I have it working the way you said, I can see the tables and views but when calling Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); i&#39;m still getting the same error about the driver missing."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637871442,"post_id":70116125,"comment_id":123947078,"body_markdown":"For clarification: Do you want to add a JAR to one specific Java project in NetBeans? If that is the case, then it depends on what type of Java project you have - for example Ant-based, Maven-based, Gradle-based. You made that choice when you created the project. And the steps will be different depending on that choice. (Personally I very rarely make changes to the NetBeans-wide libraries in the way you show - instead I add JARs to specific projects.)","body":"For clarification: Do you want to add a JAR to one specific Java project in NetBeans? If that is the case, then it depends on what type of Java project you have - for example Ant-based, Maven-based, Gradle-based. You made that choice when you created the project. And the steps will be different depending on that choice. (Personally I very rarely make changes to the NetBeans-wide libraries in the way you show - instead I add JARs to specific projects.)"},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637873840,"post_id":70116125,"comment_id":123947685,"body_markdown":"@andrewJames Yes, I just need it in this project, it is a maven-based project, I used to work with eclipse and that is the way we added libraries there and as fas as I know, netbeans used to work the same way but the company where I work decided that we are just allowed to work with netbeans and now i&#39;m stuck in this part and can&#39;t find a way to do it. For more clarification if it is possible to add it global I have no problem with that either.","body":"@andrewJames Yes, I just need it in this project, it is a maven-based project, I used to work with eclipse and that is the way we added libraries there and as fas as I know, netbeans used to work the same way but the company where I work decided that we are just allowed to work with netbeans and now i&#39;m stuck in this part and can&#39;t find a way to do it. For more clarification if it is possible to add it global I have no problem with that either."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1637874805,"post_id":70116125,"comment_id":123947921,"body_markdown":"A Maven-based project has a POM (`pom.xml`), which is where you add your library dependencies. I feel like I may be missing the point, since that should be true regardless of the IDE you are using.","body":"A Maven-based project has a POM (<code>pom.xml</code>), which is where you add your library dependencies. I feel like I may be missing the point, since that should be true regardless of the IDE you are using."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1637884662,"post_id":70116125,"comment_id":123949821,"body_markdown":"@andrewJames is correct; your use of the Ant Library Manager led me to infer that you were working on an [tag:ant] project; you may want to look [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjava%5d%20oracle%20jdbc%20maven) and [edit] your question to clarify.","body":"@andrewJames is correct; your use of the Ant Library Manager led me to infer that you were working on an <a href=\"https://stackoverflow.com/questions/tagged/ant\">ant</a> project; you may want to look <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjava%5d%20oracle%20jdbc%20maven\">here</a> and <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to clarify."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637888353,"post_id":70116125,"comment_id":123950344,"body_markdown":"Another question for clarification: Is your application a web-app, which is deployed as a WAR (or maybe a EAR) in a container such as Tomcat, Glassfish, etc.? Or is it a standalone Java application? I ask because that can affect where/how you need to add your database driver&#39;s JAR file. Please [edit] your question to provide all of this missing information. (And be aware there are many, many questions already about DB driver `ClassNotFoundException` problems on SO - so your problem has probably already been asked and answered here).","body":"Another question for clarification: Is your application a web-app, which is deployed as a WAR (or maybe a EAR) in a container such as Tomcat, Glassfish, etc.? Or is it a standalone Java application? I ask because that can affect where/how you need to add your database driver&#39;s JAR file. Please <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to provide all of this missing information. (And be aware there are many, many questions already about DB driver <code>ClassNotFoundException</code> problems on SO - so your problem has probably already been asked and answered here)."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637939137,"post_id":70116125,"comment_id":123963806,"body_markdown":"@andrewJames hmm well thats weird I don&#39;t seem to find any pom.xml file on any of my projects that I made in eclipse (which is where I started working with java like half a year ago), all I can find is a .project file and a .classpath file which contains the path for the jar files I added. Forgive me if im doing something wrong but its my first time working with ant-maven-gradle kind of projects. If I find a way to do it that is already here then i&#39;m closing the post","body":"@andrewJames hmm well thats weird I don&#39;t seem to find any pom.xml file on any of my projects that I made in eclipse (which is where I started working with java like half a year ago), all I can find is a .project file and a .classpath file which contains the path for the jar files I added. Forgive me if im doing something wrong but its my first time working with ant-maven-gradle kind of projects. If I find a way to do it that is already here then i&#39;m closing the post"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637941873,"post_id":70116125,"comment_id":123964778,"body_markdown":"(1) What version of NetBeans are you using? (2) How did you create the project in NetBeans? Did you import it from existing sources? Create a new NetBeans project?  Something else? Can you describe the specific steps? Please [edit] your question to provide the missing info.","body":"(1) What version of NetBeans are you using? (2) How did you create the project in NetBeans? Did you import it from existing sources? Create a new NetBeans project?  Something else? Can you describe the specific steps? Please <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to provide the missing info."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637944202,"post_id":70116125,"comment_id":123965627,"body_markdown":"Thanks - and sorry, you mentioned the version in the title (I missed that). So you _are_ creating a Maven project, and therefore there _should_ be a `pom.xml` file, automatically created - it should be in the &quot;Project Files&quot; folder.","body":"Thanks - and sorry, you mentioned the version in the title (I missed that). So you <i>are</i> creating a Maven project, and therefore there <i>should</i> be a <code>pom.xml</code> file, automatically created - it should be in the &quot;Project Files&quot; folder."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637945147,"post_id":70116125,"comment_id":123965911,"body_markdown":"@andrewJames yes, in the current project I have that file, I was looking at some of the post that trashgod told me [like](https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343) but idk where to get the artifactid, etc that is asking and where to add that, tried to add it in the dependencies folder then add dependency but it doesn&#39;t seems like that is what I want. Might just be because i&#39;m new to the IDE.","body":"@andrewJames yes, in the current project I have that file, I was looking at some of the post that trashgod told me <a href=\"https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">like</a> but idk where to get the artifactid, etc that is asking and where to add that, tried to add it in the dependencies folder then add dependency but it doesn&#39;t seems like that is what I want. Might just be because i&#39;m new to the IDE."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637945751,"post_id":70116125,"comment_id":123966103,"body_markdown":"You edit your `pom.xml` and create a `&lt;dependencies&gt; ... &lt;/dependencies&gt;` section (if it does not already exist). To know what specific dependency you need to add, you can use the [Maven Central repository](https://mvnrepository.com/). For example, if you want to add an Oracle driver, [here is one example](https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc10/19.12.0.0). That shows you the group and artifact IDs. However, I don&#39;t know which of the _many, many_ Oracle drivers you need (there are different versions of the driver for different versions of Oracle DB &amp; Java).","body":"You edit your <code>pom.xml</code> and create a <code>&lt;dependencies&gt; ... &lt;&#47;dependencies&gt;</code> section (if it does not already exist). To know what specific dependency you need to add, you can use the <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">Maven Central repository</a>. For example, if you want to add an Oracle driver, <a href=\"https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc10/19.12.0.0\" rel=\"nofollow noreferrer\">here is one example</a>. That shows you the group and artifact IDs. However, I don&#39;t know which of the <i>many, many</i> Oracle drivers you need (there are different versions of the driver for different versions of Oracle DB &amp; Java)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637945826,"post_id":70116125,"comment_id":123966129,"body_markdown":"Once you find the right driver, you can copy/paste that XML from Maven into your POM file, in the `dependencies` section. See also tutorials such as [this one](http://tutorials.jenkov.com/maven/maven-tutorial.html) and others.","body":"Once you find the right driver, you can copy/paste that XML from Maven into your POM file, in the <code>dependencies</code> section. See also tutorials such as <a href=\"http://tutorials.jenkov.com/maven/maven-tutorial.html\" rel=\"nofollow noreferrer\">this one</a> and others."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637946903,"post_id":70116125,"comment_id":123966434,"body_markdown":"@andrewJames That just worked, had to add the &lt;dependencies&gt;&lt;/dependencies&gt; section (it was not in the POM file) and inside that add the dependency from the repository link you gave me, just one last thing, I have to delete this question right?","body":"@andrewJames That just worked, had to add the &lt;dependencies&gt;&lt;/dependencies&gt; section (it was not in the POM file) and inside that add the dependency from the repository link you gave me, just one last thing, I have to delete this question right?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637948069,"post_id":70116125,"comment_id":123966797,"body_markdown":"Good news. You do not _have_ to delete this question. The community may _vote_ to have it deleted. You can _choose_ to delete it if you think it will not be helpful to anyone else in the future. You can _choose_ to [write your own answer](https://stackoverflow.com/help/self-answer) if you want to. You may also want to check if there is already another question and answer which covers the same material - in which case you can flag your question as a _duplicate_ of that other question.","body":"Good news. You do not <i>have</i> to delete this question. The community may <i>vote</i> to have it deleted. You can <i>choose</i> to delete it if you think it will not be helpful to anyone else in the future. You can <i>choose</i> to <a href=\"https://stackoverflow.com/help/self-answer\">write your own answer</a> if you want to. You may also want to check if there is already another question and answer which covers the same material - in which case you can flag your question as a <i>duplicate</i> of that other question."}],"answers":[{"tags":[],"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637952009,"creation_date":1637951480,"answer_id":70128706,"question_id":70116125,"body_markdown":"What worked for me was what @andrewJames said, editing POM.xml by adding the tag `&lt;dependencies&gt; ... &lt;/dependencies&gt;` which was not automatically created by Netbeans and inside that adding the xml from [Maven Central repository ojdbc8][1] (or whatever version you need), after that just run the project and it will download automatically the driver.\r\n\r\nI&#39;m keeping the question because as a new user of Netbeans, if the program doesn&#39;t add important tags like `&lt;dependencies&gt; ... &lt;/dependencies&gt;` and you just come and try to add the `&lt;dependency&gt; ... &lt;/dependency&gt;` tag which is suggested in many questions, but none of them tells you that you should have such a tag in the first place, even if its correct you will be getting an error.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc8/21.3.0.0","title":"how to add external libraries in netbeans 12.4","body":"<p>What worked for me was what @andrewJames said, editing POM.xml by adding the tag <code>&lt;dependencies&gt; ... &lt;/dependencies&gt;</code> which was not automatically created by Netbeans and inside that adding the xml from <a href=\"https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc8/21.3.0.0\" rel=\"nofollow noreferrer\">Maven Central repository ojdbc8</a> (or whatever version you need), after that just run the project and it will download automatically the driver.</p>\n<p>I'm keeping the question because as a new user of Netbeans, if the program doesn't add important tags like <code>&lt;dependencies&gt; ... &lt;/dependencies&gt;</code> and you just come and try to add the <code>&lt;dependency&gt; ... &lt;/dependency&gt;</code> tag which is suggested in many questions, but none of them tells you that you should have such a tag in the first place, even if its correct you will be getting an error.</p>\n"}],"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70128706,"answer_count":1,"score":0,"last_activity_date":1637952009,"creation_date":1637866807,"question_id":70116125,"body_markdown":"So, I was looking to solve this error java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver, but idk why my folder configuration is different from all the post i&#39;ve found.\r\n\r\nThe steps i&#39;m doing:\r\n\r\nTools&gt;Libraries&gt;Add jar/Folder\r\n\r\n[![Library Menu][1]][1]\r\n\r\nAfter that I don&#39;t know what to do there is like 50 different folders and I&#39;ve added the libreries to Java DB Driver and even added a folder called Oracle but i&#39;m nowhere near to make this work.\r\n\r\nI even installed older versions of netbeans but I get the same window and options when it is supposed to just let me right click on project then Library&gt;Add jar/Folder as mentioned [here][2].\r\n\r\n**Edit:** This is a desktop project, I&#39;m using Netbeans 12.4 (but I also downloaded version 12.3, 12.0), the project was created from 0 with Netbeans 12.4 with these steps:\r\n\r\nNew project&gt;Java with Maven&gt;Java application&gt;Change name and other information&gt;Finish\r\n\r\nAfter that just added a package then a JFrame, JPanel and a button and tried to add the ojdbc8.jar\r\n\r\nI configured the service as @Trashgod said and was able to see the tables, views, etc but still got the same error.\r\n\r\n  [1]: https://i.stack.imgur.com/mkGAM.jpg\r\n  [2]: https://stackoverflow.com/questions/5893349/java-how-to-add-library-files-in-netbeans","title":"how to add external libraries in netbeans 12.4","body":"<p>So, I was looking to solve this error java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver, but idk why my folder configuration is different from all the post i've found.</p>\n<p>The steps i'm doing:</p>\n<p>Tools&gt;Libraries&gt;Add jar/Folder</p>\n<p><a href=\"https://i.stack.imgur.com/mkGAM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkGAM.jpg\" alt=\"Library Menu\" /></a></p>\n<p>After that I don't know what to do there is like 50 different folders and I've added the libreries to Java DB Driver and even added a folder called Oracle but i'm nowhere near to make this work.</p>\n<p>I even installed older versions of netbeans but I get the same window and options when it is supposed to just let me right click on project then Library&gt;Add jar/Folder as mentioned <a href=\"https://stackoverflow.com/questions/5893349/java-how-to-add-library-files-in-netbeans\">here</a>.</p>\n<p><strong>Edit:</strong> This is a desktop project, I'm using Netbeans 12.4 (but I also downloaded version 12.3, 12.0), the project was created from 0 with Netbeans 12.4 with these steps:</p>\n<p>New project&gt;Java with Maven&gt;Java application&gt;Change name and other information&gt;Finish</p>\n<p>After that just added a package then a JFrame, JPanel and a button and tried to add the ojdbc8.jar</p>\n<p>I configured the service as @Trashgod said and was able to see the tables, views, etc but still got the same error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":0,"creation_date":1637951251,"post_id":70128653,"comment_id":123967651,"body_markdown":"you have a problem in your forloop, you using the value of `i`, but instead you should use the value of `arr.get(i)`","body":"you have a problem in your forloop, you using the value of <code>i</code>, but instead you should use the value of <code>arr.get(i)</code>"},{"owner":{"account_id":12076656,"reputation":1362,"user_id":10951873,"display_name":"Shourya Shikhar"},"score":0,"creation_date":1637951301,"post_id":70128653,"comment_id":123967667,"body_markdown":"Your question is not clear. What do you exactly want to do?\nYou&#39;re obviously printing out the size under the for loop.","body":"Your question is not clear. What do you exactly want to do? You&#39;re obviously printing out the size under the for loop."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1637951384,"post_id":70128653,"comment_id":123967686,"body_markdown":"Your `System.out.println` statement is inside the loop. Java uses braces `{` ... `}`, not indentation, to denote blocks of code.","body":"Your <code>System.out.println</code> statement is inside the loop. Java uses braces <code>{</code> ... <code>}</code>, not indentation, to denote blocks of code."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637951463,"post_id":70128653,"comment_id":123967703,"body_markdown":"You have messed up your indentation, and now you are printing the size *within* the for loop.","body":"You have messed up your indentation, and now you are printing the size <i>within</i> the for loop."},{"owner":{"account_id":22761603,"reputation":21,"user_id":16920336,"display_name":"potstickerNut"},"score":0,"creation_date":1637951976,"post_id":70128653,"comment_id":123967822,"body_markdown":"Thank you, I didn&#39;t realize I was still in the for loop.","body":"Thank you, I didn&#39;t realize I was still in the for loop."}],"answers":[{"tags":[],"owner":{"account_id":13091561,"reputation":962,"user_id":9458852,"display_name":"amarildo.xyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637951860,"creation_date":1637951288,"answer_id":70128681,"question_id":70128653,"body_markdown":"Move size printing and portion calculation outside the loop, like this:\r\n\r\n    public static void plusMinus(List&lt;Integer&gt; arr) {\r\n        int plus = 0;\r\n        int minus = 0;\r\n        int zero = 0;\r\n    \r\n        for (int i = 0; i &lt; arr.size(); ++i) {\r\n            if (i == 0) {\r\n                zero++;\r\n            } else if (i &lt; 0) {\r\n                minus++;\r\n            } else if (i &gt; 0) {\r\n                plus++;\r\n            }\r\n        }\r\n        //calculate portions\r\n        double plusPortion = plus / arr.size();\r\n        double minusPortion = minus / arr.size();\r\n        double zeroPortion = zero / arr.size();\r\n        //log results\r\n        System.out.println(&quot;Array size:&quot; + arr.size());\r\n        //System.out.println(plusPortion);\r\n        //System.out.println(minusPortion);\r\n        //System.out.println(zeroPortion);   \r\n    }\r\n\r\nYou need to make &#39;calculations&#39; in the for loop, then print the results. In the code you posted, you were printing results for each step/element of the list.","title":"size() is printing multiple times","body":"<p>Move size printing and portion calculation outside the loop, like this:</p>\n<pre><code>public static void plusMinus(List&lt;Integer&gt; arr) {\n    int plus = 0;\n    int minus = 0;\n    int zero = 0;\n\n    for (int i = 0; i &lt; arr.size(); ++i) {\n        if (i == 0) {\n            zero++;\n        } else if (i &lt; 0) {\n            minus++;\n        } else if (i &gt; 0) {\n            plus++;\n        }\n    }\n    //calculate portions\n    double plusPortion = plus / arr.size();\n    double minusPortion = minus / arr.size();\n    double zeroPortion = zero / arr.size();\n    //log results\n    System.out.println(&quot;Array size:&quot; + arr.size());\n    //System.out.println(plusPortion);\n    //System.out.println(minusPortion);\n    //System.out.println(zeroPortion);   \n}\n</code></pre>\n<p>You need to make 'calculations' in the for loop, then print the results. In the code you posted, you were printing results for each step/element of the list.</p>\n"}],"owner":{"account_id":22761603,"reputation":21,"user_id":16920336,"display_name":"potstickerNut"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1637957884,"accepted_answer_id":70128681,"answer_count":1,"score":-3,"last_activity_date":1637951860,"creation_date":1637951032,"question_id":70128653,"body_markdown":"I am trying to figure out why the arr.size() is printing multiple times (the same number as the size).\r\n\r\nI&#39;m supposed to take an array and state, to an accuracy of 6 decimal places, what portion of the array is positive, negative, or zero. But, I can&#39;t seem to get past the multiple lines printing.\r\n\r\n```\r\nclass Result {\r\n\r\n    public static void plusMinus(List&lt;Integer&gt; arr) {\r\n        int plus = 0;\r\n        int minus = 0;\r\n        int zero = 0;\r\n    \r\n        for (int i = 0; i &lt; arr.size(); ++i) {\r\n            if (i == 0) {\r\n                zero++;\r\n            } else if (i &lt; 0) {\r\n                minus++;\r\n            } else if (i &gt; 0) {\r\n                plus++;\r\n            }\r\n        \r\n        double plusPortion = plus / arr.size();\r\n        double minusPortion = minus / arr.size();\r\n        double zeroPortion = zero / arr.size();\r\n        \r\n        System.out.println(arr.size());\r\n        //System.out.println(plusPortion);\r\n        //System.out.println(minusPortion);\r\n        //System.out.println(zeroPortion);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n}\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        int n = Integer.parseInt(bufferedReader.readLine().trim());\r\n\r\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n            .map(Integer::parseInt)\r\n            .collect(toList());\r\n\r\n        Result.plusMinus(arr);\r\n\r\n        bufferedReader.close();\r\n    }\r\n}\r\n```\r\n\r\nThe Solution class was provided as part of the challenge.","title":"size() is printing multiple times","body":"<p>I am trying to figure out why the arr.size() is printing multiple times (the same number as the size).</p>\n<p>I'm supposed to take an array and state, to an accuracy of 6 decimal places, what portion of the array is positive, negative, or zero. But, I can't seem to get past the multiple lines printing.</p>\n<pre><code>class Result {\n\n    public static void plusMinus(List&lt;Integer&gt; arr) {\n        int plus = 0;\n        int minus = 0;\n        int zero = 0;\n    \n        for (int i = 0; i &lt; arr.size(); ++i) {\n            if (i == 0) {\n                zero++;\n            } else if (i &lt; 0) {\n                minus++;\n            } else if (i &gt; 0) {\n                plus++;\n            }\n        \n        double plusPortion = plus / arr.size();\n        double minusPortion = minus / arr.size();\n        double zeroPortion = zero / arr.size();\n        \n        System.out.println(arr.size());\n        //System.out.println(plusPortion);\n        //System.out.println(minusPortion);\n        //System.out.println(zeroPortion);\n        }\n        \n        \n    }\n\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\n        int n = Integer.parseInt(bufferedReader.readLine().trim());\n\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .collect(toList());\n\n        Result.plusMinus(arr);\n\n        bufferedReader.close();\n    }\n}\n</code></pre>\n<p>The Solution class was provided as part of the challenge.</p>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1638390662,"post_id":70128637,"comment_id":124078708,"body_markdown":"This is a common feature request, tracked as [MB-35297](https://issues.couchbase.com/browse/MB-35297) (currently targeting the &quot;Morpheus&quot; release, which will probably be 7.2). In the meantime you could use a [View](https://docs.couchbase.com/server/current/learn/views/views-intro.html), but that would just create a different kind of index and would still use space on your server.","body":"This is a common feature request, tracked as <a href=\"https://issues.couchbase.com/browse/MB-35297\" rel=\"nofollow noreferrer\">MB-35297</a> (currently targeting the &quot;Morpheus&quot; release, which will probably be 7.2). In the meantime you could use a <a href=\"https://docs.couchbase.com/server/current/learn/views/views-intro.html\" rel=\"nofollow noreferrer\">View</a>, but that would just create a different kind of index and would still use space on your server."},{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":0,"creation_date":1638434831,"post_id":70128637,"comment_id":124088477,"body_markdown":"Hello @dnault - thank you for your answer, good to know that it&#39;s coming! On my side, I&#39;m considering the following workaround: what about making a REST call to `${lb_in_front_of_couchbase}/pools/default/buckets/Entity/docs?skip=0&amp;include_docs=true&amp;limit=100&amp;startkey=&quot;Address%3A%3A1000&quot;&amp;endkey=&quot;Address%3A%3A2000&quot;`? That seems to work","body":"Hello @dnault - thank you for your answer, good to know that it&#39;s coming! On my side, I&#39;m considering the following workaround: what about making a REST call to <code>${lb_in_front_of_couchbase}&#47;pools&#47;default&#47;buckets&#47;Entity&#47;doc&zwnj;&#8203;s?skip=0&amp;include_doc&zwnj;&#8203;s=true&amp;limit=100&amp;sta&zwnj;&#8203;rtkey=&quot;Address%3A%3A&zwnj;&#8203;1000&quot;&amp;endkey=&quot;Addres&zwnj;&#8203;s%3A%3A2000&quot;</code>? That seems to work"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1638477292,"post_id":70128637,"comment_id":124105848,"body_markdown":"Hi! I don&#39;t believe that&#39;s a supported API, but if you can accept the risk the API might change or be removed, then go ahead. For what it&#39;s worth, it looks like the API hasn&#39;t changed since at least 2017, if [this forum post](https://forums.couchbase.com/t/is-it-possible-to-select-data-by-key-pattern-without-adding-extra-index/14695) is any indication.","body":"Hi! I don&#39;t believe that&#39;s a supported API, but if you can accept the risk the API might change or be removed, then go ahead. For what it&#39;s worth, it looks like the API hasn&#39;t changed since at least 2017, if <a href=\"https://forums.couchbase.com/t/is-it-possible-to-select-data-by-key-pattern-without-adding-extra-index/14695\" rel=\"nofollow noreferrer\">this forum post</a> is any indication."},{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":0,"creation_date":1638479869,"post_id":70128637,"comment_id":124106732,"body_markdown":"Dear @dnault, copy-paste your comments in an answer and I&#39;ll gladly accept it! Thanks a lot","body":"Dear @dnault, copy-paste your comments in an answer and I&#39;ll gladly accept it! Thanks a lot"}],"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637950924,"creation_date":1637950924,"question_id":70128637,"body_markdown":"Using the couchbase SDK or spring data couchbase, is there a way to look up documents in a [low, high] range of ids, without using an index?\r\n\r\nIn more details, I have a bucket with document ids structured in the [standard](https://blog.couchbase.com/key-pattern-delimiter-in-couchbase/) `${entityType}::${id}` format, and I would like to get all documents in a certain [low, high] range of ids.\r\n\r\nFor instance, for the Address entity type, I would like to get all Address documents whose ids are between 1000 and 2000, inclusive. Given only Address::1234, Address::1567 and Address::2222 are in my bucket, only the two first documents should be returned.\r\n\r\nI would expect that it is possible since it seems possible in the GUI\r\n[![Bucket &gt; Documents - show range][1]][1]\r\nbut I can&#39;t seem to find how.\r\n\r\nLastly, I don&#39;t want to use indexes because\r\n1. I&#39;m using couchbase community and [index replicas are only available in the enterprise edition](https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/createindex.html), which makes manually duplicating them and managing them a pain\r\n2. I&#39;m trying to save space on my couchbase server\r\n\r\nCouchbase SDK version: 3+, using java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZcrP8.png","title":"Couchbase Java SDK: look up a range of document keys","body":"<p>Using the couchbase SDK or spring data couchbase, is there a way to look up documents in a [low, high] range of ids, without using an index?</p>\n<p>In more details, I have a bucket with document ids structured in the <a href=\"https://blog.couchbase.com/key-pattern-delimiter-in-couchbase/\" rel=\"nofollow noreferrer\">standard</a> <code>${entityType}::${id}</code> format, and I would like to get all documents in a certain [low, high] range of ids.</p>\n<p>For instance, for the Address entity type, I would like to get all Address documents whose ids are between 1000 and 2000, inclusive. Given only Address::1234, Address::1567 and Address::2222 are in my bucket, only the two first documents should be returned.</p>\n<p>I would expect that it is possible since it seems possible in the GUI\n<a href=\"https://i.stack.imgur.com/ZcrP8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZcrP8.png\" alt=\"Bucket &gt; Documents - show range\" /></a>\nbut I can't seem to find how.</p>\n<p>Lastly, I don't want to use indexes because</p>\n<ol>\n<li>I'm using couchbase community and <a href=\"https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/createindex.html\" rel=\"nofollow noreferrer\">index replicas are only available in the enterprise edition</a>, which makes manually duplicating them and managing them a pain</li>\n<li>I'm trying to save space on my couchbase server</li>\n</ol>\n<p>Couchbase SDK version: 3+, using java</p>\n"},{"tags":["java","eclipse","git"],"comments":[{"owner":{"account_id":1376086,"reputation":824,"user_id":1310063,"display_name":"Gambotic"},"score":0,"creation_date":1523891136,"post_id":49859734,"comment_id":86736096,"body_markdown":"you should provide a concrete Stack Trace (open Error Log, double click on a Message and c&amp;p)","body":"you should provide a concrete Stack Trace (open Error Log, double click on a Message and c&amp;p)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523892236,"post_id":49859734,"comment_id":86736913,"body_markdown":"See https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3","body":"See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3</a>"},{"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"score":0,"creation_date":1523892286,"post_id":49859734,"comment_id":86736962,"body_markdown":"This is all when i try and pull in egit so it doesnt update the error log. I am not sure where to find any sort of error message to help out","body":"This is all when i try and pull in egit so it doesnt update the error log. I am not sure where to find any sort of error message to help out"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523892534,"post_id":49859734,"comment_id":86737138,"body_markdown":"[_&quot;Check if you have any &quot;&lt;refname&gt;.lock&quot; file under .git/refs/&quot;_](https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3). Which EGit version do you use? The current version is 4.11 (update site: `http://download.eclipse.org/egit/updates`).","body":"<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3\" rel=\"nofollow noreferrer\"><i>&quot;Check if you have any &quot;&lt;refname&gt;.lock&quot; file under .git/refs/&quot;</i></a>. Which EGit version do you use? The current version is 4.11 (update site: <code>http:&#47;&#47;download.eclipse.org&#47;egit&#47;updates</code>)."},{"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"score":1,"creation_date":1523893178,"post_id":49859734,"comment_id":86737539,"body_markdown":"Git is updated and there is a lockfile under eclipse -&gt; workspace -&gt; .metadata. but every time i delete it and reboot eclipse it just comes back.","body":"Git is updated and there is a lockfile under eclipse -&gt; workspace -&gt; .metadata. but every time i delete it and reboot eclipse it just comes back."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523949688,"post_id":49859734,"comment_id":86759391,"body_markdown":"You have to search for lock files in the `git/refs` folder in your Git repository folder, not in the workspace `.metadata` folder (which also contains a lock file but for other purposes).","body":"You have to search for lock files in the <code>git&#47;refs</code> folder in your Git repository folder, not in the workspace <code>.metadata</code> folder (which also contains a lock file but for other purposes)."}],"answers":[{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1530103238,"creation_date":1530088329,"answer_id":51058122,"question_id":49859734,"body_markdown":"I could neither fetch nor push nor rebase, and got a &quot;lock fail&quot; error in eclipse too.\r\n\r\nThe solution I found was to open git bash, go to git folder, then do a `git fetch`. After this I was able to rebase and push with eclipse.\r\n\r\nYou can also check in your eclipse preferences/team/git/configuration that you have not set `fetch.prune=true` because it may cause this problem.","title":"egit lock fail eclipse","body":"<p>I could neither fetch nor push nor rebase, and got a \"lock fail\" error in eclipse too.</p>\n\n<p>The solution I found was to open git bash, go to git folder, then do a <code>git fetch</code>. After this I was able to rebase and push with eclipse.</p>\n\n<p>You can also check in your eclipse preferences/team/git/configuration that you have not set <code>fetch.prune=true</code> because it may cause this problem.</p>\n"},{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563314095,"creation_date":1563314095,"answer_id":57065952,"question_id":49859734,"body_markdown":"I&#39;ve seen this a couple times in Eclipse 2019-06 now.  Possibly related to tag-creation as it seems to have occurred recently after those events.  In any event, I think if you close Eclipse, and delete eclipse-workspace/.metadata/.lock file (and possibly eclipse-workspace/.metadata/.log) it gets better on restart.","title":"egit lock fail eclipse","body":"<p>I've seen this a couple times in Eclipse 2019-06 now.  Possibly related to tag-creation as it seems to have occurred recently after those events.  In any event, I think if you close Eclipse, and delete eclipse-workspace/.metadata/.lock file (and possibly eclipse-workspace/.metadata/.log) it gets better on restart.</p>\n"},{"tags":[],"owner":{"account_id":6848221,"reputation":303,"user_id":5266245,"display_name":"Arash Kamangir"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1563447331,"creation_date":1563447331,"answer_id":57092900,"question_id":49859734,"body_markdown":"    git remote prune origin\r\nsolved it for me.","title":"egit lock fail eclipse","body":"<pre><code>git remote prune origin\n</code></pre>\n\n<p>solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":9056602,"reputation":59,"user_id":6744690,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571537030,"creation_date":1571499789,"answer_id":58465314,"question_id":49859734,"body_markdown":"The issue for me was that I had a bunch of branches that I had pulled as `feature/somename` but when I pushed it to `remote`, they appeared as `Feature/somename`. Once I solved this `f` to `F` issue, things started working as expected. \r\n\r\n\r\n----------\r\n## Prune using EGIT ##\r\n\r\nAlso, if you want to `prune` the repository, you should use GIT GC in order to achieve this. EGIT has an option called `Collect Garbage` to trigger this. Simply, right click on the repository in the EGIT perspective to see this option.","title":"egit lock fail eclipse","body":"<p>The issue for me was that I had a bunch of branches that I had pulled as <code>feature/somename</code> but when I pushed it to <code>remote</code>, they appeared as <code>Feature/somename</code>. Once I solved this <code>f</code> to <code>F</code> issue, things started working as expected. </p>\n\n<hr>\n\n<h2>Prune using EGIT</h2>\n\n<p>Also, if you want to <code>prune</code> the repository, you should use GIT GC in order to achieve this. EGIT has an option called <code>Collect Garbage</code> to trigger this. Simply, right click on the repository in the EGIT perspective to see this option.</p>\n"},{"tags":[],"owner":{"account_id":1644869,"reputation":216,"user_id":1516571,"display_name":"M Kaweepatt Churcharoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572589668,"creation_date":1572589668,"answer_id":58654994,"question_id":49859734,"body_markdown":"For me, I encountered the lock fail problem in tags, so I do following steps:\r\n\r\n1. Reset current branch\r\n2. Delete all local tags.\r\n3. Fetch\r\n4. Pull.\r\nIt solves the problem.","title":"egit lock fail eclipse","body":"<p>For me, I encountered the lock fail problem in tags, so I do following steps:</p>\n\n<ol>\n<li>Reset current branch</li>\n<li>Delete all local tags.</li>\n<li>Fetch</li>\n<li>Pull.\nIt solves the problem.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582292308,"creation_date":1582241156,"answer_id":60330035,"question_id":49859734,"body_markdown":"I used Arash&#39;s \r\n\r\n    git remote prune origin\r\n\r\nBut this left me with a situation in which an egit pull put me way ahead of the remote/origin. An egit or git push brought be back in sync, but then the next egit pull put me ahead again.   To fix that, I tried various thing including Resetting the repo, but to no avail.  This is probably similar to starting with a new workspace, but in my case that was not an option.  The following seems to have worked:\r\n\r\n 1. Make sure you have pushed all changes to the remote repo.\r\n 2. In the Project Explorer view, delete all projects that have been imported into eclipse from the repository in question. Don&#39;t delete files in the file system (check box in dialog box that pops).\r\n 3. In the Repositories view, right click on repository and Remove Repository From\r\n    View \r\n 4. At the command line. move or delete the root of the git repo.\r\n 5. Back to Eclipse and add the repository (in the Repository View, paste the URL/ssh link as copied from github).\r\n 6. Re-import the desired projects into Eclipse by right-clicking on the repo and selecting Import Projects...\r\n\r\nUgly but does the trick.","title":"egit lock fail eclipse","body":"<p>I used Arash's </p>\n\n<pre><code>git remote prune origin\n</code></pre>\n\n<p>But this left me with a situation in which an egit pull put me way ahead of the remote/origin. An egit or git push brought be back in sync, but then the next egit pull put me ahead again.   To fix that, I tried various thing including Resetting the repo, but to no avail.  This is probably similar to starting with a new workspace, but in my case that was not an option.  The following seems to have worked:</p>\n\n<ol>\n<li>Make sure you have pushed all changes to the remote repo.</li>\n<li>In the Project Explorer view, delete all projects that have been imported into eclipse from the repository in question. Don't delete files in the file system (check box in dialog box that pops).</li>\n<li>In the Repositories view, right click on repository and Remove Repository From\nView </li>\n<li>At the command line. move or delete the root of the git repo.</li>\n<li>Back to Eclipse and add the repository (in the Repository View, paste the URL/ssh link as copied from github).</li>\n<li>Re-import the desired projects into Eclipse by right-clicking on the repo and selecting Import Projects...</li>\n</ol>\n\n<p>Ugly but does the trick.</p>\n"},{"tags":[],"owner":{"account_id":1515815,"reputation":155,"user_id":1416845,"accept_rate":50,"display_name":"pierreonthenet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594055115,"creation_date":1594055115,"answer_id":62761016,"question_id":49859734,"body_markdown":"For the others : I had this error too, and that was because I had 2 branches on the repo with similar names (&quot;v10&quot; and &quot;V10&quot;).\r\nI fixed it by &quot;renaming&quot; the repo branch &quot;V10&quot; (i.e. creating another &quot;V10b&quot; from &quot;V10&quot;, then deleting &quot;V10&quot;).","title":"egit lock fail eclipse","body":"<p>For the others : I had this error too, and that was because I had 2 branches on the repo with similar names (&quot;v10&quot; and &quot;V10&quot;).\nI fixed it by &quot;renaming&quot; the repo branch &quot;V10&quot; (i.e. creating another &quot;V10b&quot; from &quot;V10&quot;, then deleting &quot;V10&quot;).</p>\n"},{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626443691,"creation_date":1626443691,"answer_id":68410278,"question_id":49859734,"body_markdown":"I&#39;ve seen this happen in Windows, because the underlying DOS filesystem is case-insensitive, although git is not.  When git writes a file named &quot;foo&quot;, Windows thinks that the attempt to write the file &quot;Foo&quot; is writing to the same file.  I don&#39;t know the exact mechanism that creates the &quot;lock fail&quot; error, but I assume it is something like this.\r\n\r\nI wrote a script to detect this situation.  Our SCM is BitBucket, which has a REST api.  I use the &quot;projects/repos/branches&quot; endpoint in a loop to get all the branches from a repository, execute the following pseudocode:\r\n\r\n    echo $list | tr &#39;[:upper:]&#39; &#39;[:lower:]&#39; | sort | uniq -d\r\n\r\nThe result is a list of the branch names, converted to lowercase, that have two or more versions, varying by case.","title":"egit lock fail eclipse","body":"<p>I've seen this happen in Windows, because the underlying DOS filesystem is case-insensitive, although git is not.  When git writes a file named &quot;foo&quot;, Windows thinks that the attempt to write the file &quot;Foo&quot; is writing to the same file.  I don't know the exact mechanism that creates the &quot;lock fail&quot; error, but I assume it is something like this.</p>\n<p>I wrote a script to detect this situation.  Our SCM is BitBucket, which has a REST api.  I use the &quot;projects/repos/branches&quot; endpoint in a loop to get all the branches from a repository, execute the following pseudocode:</p>\n<pre><code>echo $list | tr '[:upper:]' '[:lower:]' | sort | uniq -d\n</code></pre>\n<p>The result is a list of the branch names, converted to lowercase, that have two or more versions, varying by case.</p>\n"},{"tags":[],"owner":{"account_id":6440797,"reputation":3488,"user_id":4990883,"accept_rate":60,"display_name":"Amirouche Zeggagh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626945038,"creation_date":1626945038,"answer_id":68482152,"question_id":49859734,"body_markdown":"in eclipse right Click in Project \r\n\r\n - team &gt;remote&gt; Configure fetch for Upstream&gt;\r\n - Advanced&gt; selecte in ‘source ref’ and ‘destination ref’ your branch\r\n - Click ‘Add Spec’\r\n - Check the Force update&gt; Finish &gt;Save and Fetch\r\n","title":"egit lock fail eclipse","body":"<p>in eclipse right Click in Project</p>\n<ul>\n<li>team &gt;remote&gt; Configure fetch for Upstream&gt;</li>\n<li>Advanced&gt; selecte in ‘source ref’ and ‘destination ref’ your branch</li>\n<li>Click ‘Add Spec’</li>\n<li>Check the Force update&gt; Finish &gt;Save and Fetch</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20317523,"reputation":51,"user_id":14903055,"display_name":"Francisco Cunha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637950676,"creation_date":1637950676,"answer_id":70128600,"question_id":49859734,"body_markdown":"It&#180;s simple.\r\n\r\n1 - Close Eclipse IDE; \r\n2 - Go to the project directory; \r\n3 - Type: `git pull`; \r\n4 - Type: `git gc`; \r\n5 - Reopen the Eclipse IDE; \r\n6 - Pulling the project;\r\n\r\nAlways works for me!\r\n","title":"egit lock fail eclipse","body":"<p>It´s simple.</p>\n<p>1 - Close Eclipse IDE;\n2 - Go to the project directory;\n3 - Type: <code>git pull</code>;\n4 - Type: <code>git gc</code>;\n5 - Reopen the Eclipse IDE;\n6 - Pulling the project;</p>\n<p>Always works for me!</p>\n"}],"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49384,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":10,"score":24,"last_activity_date":1637950676,"creation_date":1523888755,"question_id":49859734,"body_markdown":"So at work we all share the same stash were we push and pull our branches and all that good git stuff. So i usually do my pull and push from egit in eclipse (I am not the only one most people here do it this way). but some of my branches have started giving me the [lock fail] &quot;couldn&#39;t lock local tracking ref for update&quot;. But the thing is there are 75+ people doing it the same way and no one has seen this error. I have done some research and most of it says it is based off name conflicts for example Foo and foo. Egit would get confused on which one to pull because the only difference is a capital letter, but other people are having no issues. I don&#39;t know what is going on. Any help would be greatly appreciated.\r\n\r\n","title":"egit lock fail eclipse","body":"<p>So at work we all share the same stash were we push and pull our branches and all that good git stuff. So i usually do my pull and push from egit in eclipse (I am not the only one most people here do it this way). but some of my branches have started giving me the [lock fail] \"couldn't lock local tracking ref for update\". But the thing is there are 75+ people doing it the same way and no one has seen this error. I have done some research and most of it says it is based off name conflicts for example Foo and foo. Egit would get confused on which one to pull because the only difference is a capital letter, but other people are having no issues. I don't know what is going on. Any help would be greatly appreciated.</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1637932144,"post_id":70124845,"comment_id":123961191,"body_markdown":"Don&#39;t force yourself to write lambda, just use normal code with for loop and we can convert to lambda later.","body":"Don&#39;t force yourself to write lambda, just use normal code with for loop and we can convert to lambda later."},{"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"score":0,"creation_date":1637932229,"post_id":70124845,"comment_id":123961231,"body_markdown":"@huy So I tried to do it without lambda, but it didn&#39;t work...","body":"@huy So I tried to do it without lambda, but it didn&#39;t work..."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1637932303,"post_id":70124845,"comment_id":123961256,"body_markdown":"i don&#39;t see your code to convert from select to expected data.","body":"i don&#39;t see your code to convert from select to expected data."},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637933147,"post_id":70124845,"comment_id":123961595,"body_markdown":"How does your select look like?","body":"How does your select look like?"},{"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"score":0,"creation_date":1637933388,"post_id":70124845,"comment_id":123961693,"body_markdown":"it&#39;s a procedure that I perform, and when I set the values, I set the way I&#39;m going to post in the question","body":"it&#39;s a procedure that I perform, and when I set the values, I set the way I&#39;m going to post in the question"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637950269,"creation_date":1637947426,"answer_id":70128033,"question_id":70124845,"body_markdown":"I&#39;ll give it a try. \r\n\r\n&gt; **WARNING** | Beware that this is only a POC and not good readable code.\r\n\r\nWhat you need is a method, that takes a `List&lt;QuestionEventDTO&gt;` and transforms it to another `List&lt;QuestionEventDTO&gt;`.\r\n\r\nIt is possible to do it with streams and nested streams in the map-methods.\r\n\r\nHere is the steps this streams will take:\r\n\r\n---\r\n1. Group the `QuestionDTO` by the ID of the `QuestionEventDTO`&#39;s\r\n   * Input: `List&lt;QuestionEventDTO&gt;`\r\n   * Output: `Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;`\r\n2. Transform the grouped Lists to `Map&lt;Long, List&lt;QuestionDTO&gt;`\r\n   * Input: `Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;`\r\n   * Output: `Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;`\r\n3. Transform the grouped `QuestionDTO` to a `Map&lt;Long, OptionDTO&gt;`\r\n   * Input: `Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;`\r\n   * Output: `Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt;`\r\n---\r\n4. Transform the grouped objects to new `QuestionEventDTO` where the Lists are filled.\r\n\r\n---\r\nHere is what the code would look like (heavy usage of `Collectors.groupingBy` and `Collectors.toMap`):\r\n\r\n```java\r\nprivate static List&lt;QuestionEventDTO&gt; transform(List&lt;QuestionEventDTO&gt; events) {\r\n  //Step1\r\n  Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt; groupedByQuestionEventId = events.stream()\r\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId));\r\n  \r\n  //Step 2\r\n  Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt; alsoGroupedQuestionID = groupedByQuestionEventId\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue().stream()\r\n              .map(v -&gt; v.getQuestion())\r\n              .collect(Collectors.groupingBy(QuestionDTO::getId)))\r\n      );\r\n\r\n  //Step 3\r\n  Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt; alsoGroupedByOptionID = alsoGroupedQuestionID\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue()\r\n              .entrySet().stream()\r\n              .collect(Collectors.toMap(Map.Entry::getKey,\r\n                  v -&gt; v.getValue().stream()\r\n                      .map(QuestionDTO::getOption)\r\n                      .collect(Collectors.toMap(OptionDTO::getId, t -&gt; t))))));\r\n\r\n  //Step 4\r\n  List&lt;QuestionEventDTO&gt; transformedBack = alsoGroupedByOptionID.entrySet().stream()\r\n      .map(e -&gt; {\r\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\r\n        eventDTO.setId(e.getKey());\r\n\r\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\r\n            .map(q -&gt; {\r\n              QuestionDTO questionDTO = new QuestionDTO();\r\n              questionDTO.setId(q.getKey());\r\n              questionDTO.setOptions(new ArrayList&lt;&gt;(q.getValue().values()));\r\n              return questionDTO;\r\n            }).collect(Collectors.toList());\r\n\r\n        eventDTO.setQuestions(questions);\r\n        return eventDTO;\r\n      })\r\n      .collect(Collectors.toList());\r\n\r\n  return transformedBack;\r\n}\r\n```\r\nOf course you don&#39;t need the variables for each step and you also could combine step 2 and 3. Then the code would look like this (not very readable):\r\n\r\n```java\r\nprivate static List&lt;QuestionEventDTO&gt; transformShorter(List&lt;QuestionEventDTO&gt; events) {\r\n  return events.stream()\r\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId))\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue().stream()\r\n              .map(QuestionEventDTO::getQuestion)\r\n              .collect(Collectors.groupingBy(QuestionDTO::getId))\r\n              .entrySet().stream()\r\n              .collect(Collectors.toMap(Map.Entry::getKey, \r\n                  q -&gt; q.getValue().stream()\r\n                      .map(QuestionDTO::getOption)\r\n                      .collect(Collectors.toList()))))\r\n      )\r\n      .entrySet().stream()\r\n      .map(e -&gt; {\r\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\r\n        eventDTO.setId(e.getKey());\r\n\r\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\r\n            .map(q -&gt; {\r\n              QuestionDTO questionDTO = new QuestionDTO();\r\n              questionDTO.setId(q.getKey());\r\n              questionDTO.setOptions(q.getValue());\r\n              return questionDTO;\r\n            }).collect(Collectors.toList());\r\n\r\n        eventDTO.setQuestions(questions);\r\n        return eventDTO;\r\n      })\r\n      .collect(Collectors.toList());\r\n}\r\n```\r\n","title":"Grouping objects to list using lambda","body":"<p>I'll give it a try.</p>\n<blockquote>\n<p><strong>WARNING</strong> | Beware that this is only a POC and not good readable code.</p>\n</blockquote>\n<p>What you need is a method, that takes a <code>List&lt;QuestionEventDTO&gt;</code> and transforms it to another <code>List&lt;QuestionEventDTO&gt;</code>.</p>\n<p>It is possible to do it with streams and nested streams in the map-methods.</p>\n<p>Here is the steps this streams will take:</p>\n<hr />\n<ol>\n<li>Group the <code>QuestionDTO</code> by the ID of the <code>QuestionEventDTO</code>'s\n<ul>\n<li>Input: <code>List&lt;QuestionEventDTO&gt;</code></li>\n<li>Output: <code>Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;</code></li>\n</ul>\n</li>\n<li>Transform the grouped Lists to <code>Map&lt;Long, List&lt;QuestionDTO&gt;</code>\n<ul>\n<li>Input: <code>Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;</code></li>\n<li>Output: <code>Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;</code></li>\n</ul>\n</li>\n<li>Transform the grouped <code>QuestionDTO</code> to a <code>Map&lt;Long, OptionDTO&gt;</code>\n<ul>\n<li>Input: <code>Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;</code></li>\n<li>Output: <code>Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt;</code></li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li>Transform the grouped objects to new <code>QuestionEventDTO</code> where the Lists are filled.</li>\n</ol>\n<hr />\n<p>Here is what the code would look like (heavy usage of <code>Collectors.groupingBy</code> and <code>Collectors.toMap</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;QuestionEventDTO&gt; transform(List&lt;QuestionEventDTO&gt; events) {\n  //Step1\n  Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt; groupedByQuestionEventId = events.stream()\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId));\n  \n  //Step 2\n  Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt; alsoGroupedQuestionID = groupedByQuestionEventId\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue().stream()\n              .map(v -&gt; v.getQuestion())\n              .collect(Collectors.groupingBy(QuestionDTO::getId)))\n      );\n\n  //Step 3\n  Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt; alsoGroupedByOptionID = alsoGroupedQuestionID\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue()\n              .entrySet().stream()\n              .collect(Collectors.toMap(Map.Entry::getKey,\n                  v -&gt; v.getValue().stream()\n                      .map(QuestionDTO::getOption)\n                      .collect(Collectors.toMap(OptionDTO::getId, t -&gt; t))))));\n\n  //Step 4\n  List&lt;QuestionEventDTO&gt; transformedBack = alsoGroupedByOptionID.entrySet().stream()\n      .map(e -&gt; {\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\n        eventDTO.setId(e.getKey());\n\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\n            .map(q -&gt; {\n              QuestionDTO questionDTO = new QuestionDTO();\n              questionDTO.setId(q.getKey());\n              questionDTO.setOptions(new ArrayList&lt;&gt;(q.getValue().values()));\n              return questionDTO;\n            }).collect(Collectors.toList());\n\n        eventDTO.setQuestions(questions);\n        return eventDTO;\n      })\n      .collect(Collectors.toList());\n\n  return transformedBack;\n}\n</code></pre>\n<p>Of course you don't need the variables for each step and you also could combine step 2 and 3. Then the code would look like this (not very readable):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;QuestionEventDTO&gt; transformShorter(List&lt;QuestionEventDTO&gt; events) {\n  return events.stream()\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId))\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue().stream()\n              .map(QuestionEventDTO::getQuestion)\n              .collect(Collectors.groupingBy(QuestionDTO::getId))\n              .entrySet().stream()\n              .collect(Collectors.toMap(Map.Entry::getKey, \n                  q -&gt; q.getValue().stream()\n                      .map(QuestionDTO::getOption)\n                      .collect(Collectors.toList()))))\n      )\n      .entrySet().stream()\n      .map(e -&gt; {\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\n        eventDTO.setId(e.getKey());\n\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\n            .map(q -&gt; {\n              QuestionDTO questionDTO = new QuestionDTO();\n              questionDTO.setId(q.getKey());\n              questionDTO.setOptions(q.getValue());\n              return questionDTO;\n            }).collect(Collectors.toList());\n\n        eventDTO.setQuestions(questions);\n        return eventDTO;\n      })\n      .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637950269,"creation_date":1637931637,"question_id":70124845,"body_markdown":"I&#39;m having problems because my select is returning several lines of result due to an Options object that has several different options, and I needed to group this result in java.\r\n\r\n**I have the parent class which is the QuestionEventDTO:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class QuestionEventDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic QuestionDTO question;\r\n    public List&lt;QuestionDTO&gt; questions;\r\n\r\n}\r\n```\r\n**And I have the daughter class:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class QuestionDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic OptionDTO option;\r\n    public List&lt;OptionDTO&gt; options;\r\n\r\n}\r\n```\r\n**And I have the granddaughter class:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class OptionDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic String description;\r\n\r\n}\r\n```\r\n**After hitting the procedure, I set the response fields:**\r\n```\r\npublic class QuestionEventMapper implements RowMapper&lt;QuestionEventDTO&gt; {\r\n\r\n\t@Override\r\n\tpublic QuestionEventDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\tQuestionEventDTO dto = new QuestionEventDTO();\r\n\t\tdto.setId(rs.getLong(1));\r\n\t\tdto.setQuestion(new QuestionDTO(rs.getLong(2), new QuestionOptionDTO(rs.getLong(3), rs.getString(4)), null));\r\n\t\t\r\n\t\treturn dto;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=1, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=2, description=&quot;What&#39;s rating?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=4, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\r\n```\r\n**But I would like it to stay like this:**\r\n```\r\nQuestionEventDTO [id=1, question= null, questions = QuestionDTO [id=1, option= null, options = [OptionDTO [id=1, description=&quot;Are you Dev?&quot;], OptionDTO [id=2, description=&quot;What&#39;s rating?&quot;]]]]\r\nQuestionEventDTO [id=2, question= null, questions = QuestionDTO [id=2, option= null, options = [OptionDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], OptionDTO [id=4, description=&quot;Are you Dev?&quot;]]]]\r\n```\r\n\r\nI don&#39;t have much experience in lambda, I would like a solution to this problem, could someone help me?","title":"Grouping objects to list using lambda","body":"<p>I'm having problems because my select is returning several lines of result due to an Options object that has several different options, and I needed to group this result in java.</p>\n<p><strong>I have the parent class which is the QuestionEventDTO:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class QuestionEventDTO {\n    \n    public Long id;\n    public QuestionDTO question;\n    public List&lt;QuestionDTO&gt; questions;\n\n}\n</code></pre>\n<p><strong>And I have the daughter class:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class QuestionDTO {\n    \n    public Long id;\n    public OptionDTO option;\n    public List&lt;OptionDTO&gt; options;\n\n}\n</code></pre>\n<p><strong>And I have the granddaughter class:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class OptionDTO {\n    \n    public Long id;\n    public String description;\n\n}\n</code></pre>\n<p><strong>After hitting the procedure, I set the response fields:</strong></p>\n<pre><code>public class QuestionEventMapper implements RowMapper&lt;QuestionEventDTO&gt; {\n\n    @Override\n    public QuestionEventDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\n        QuestionEventDTO dto = new QuestionEventDTO();\n        dto.setId(rs.getLong(1));\n        dto.setQuestion(new QuestionDTO(rs.getLong(2), new QuestionOptionDTO(rs.getLong(3), rs.getString(4)), null));\n        \n        return dto;\n    }\n\n}\n</code></pre>\n<pre><code>QuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=1, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=2, description=&quot;What's rating?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=3, description=&quot;What's your dog's name?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=4, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\n</code></pre>\n<p><strong>But I would like it to stay like this:</strong></p>\n<pre><code>QuestionEventDTO [id=1, question= null, questions = QuestionDTO [id=1, option= null, options = [OptionDTO [id=1, description=&quot;Are you Dev?&quot;], OptionDTO [id=2, description=&quot;What's rating?&quot;]]]]\nQuestionEventDTO [id=2, question= null, questions = QuestionDTO [id=2, option= null, options = [OptionDTO [id=3, description=&quot;What's your dog's name?&quot;], OptionDTO [id=4, description=&quot;Are you Dev?&quot;]]]]\n</code></pre>\n<p>I don't have much experience in lambda, I would like a solution to this problem, could someone help me?</p>\n"},{"tags":["java","tomcat","jdbc","jakarta-ee","web-applications"],"comments":[{"owner":{"account_id":1370827,"reputation":1380,"user_id":1306079,"display_name":"Oliver"},"score":1,"creation_date":1637946936,"post_id":70127816,"comment_id":123966440,"body_markdown":"Isnthe Driver in your classpath? (in the pom file)","body":"Isnthe Driver in your classpath? (in the pom file)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637950200,"post_id":70127816,"comment_id":123967392,"body_markdown":"`java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource` would suggest the driver is not on the classpath. Have you checked if it is actually included in the WEB-INF/lib of your WAR?","body":"<code>java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource</code> would suggest the driver is not on the classpath. Have you checked if it is actually included in the WEB-INF/lib of your WAR?"},{"owner":{"account_id":23454940,"reputation":1,"user_id":17510588,"display_name":"Kač"},"score":0,"creation_date":1637950525,"post_id":70127816,"comment_id":123967475,"body_markdown":"@MarkRotteveel I have the library as external library (see the picture in the link)","body":"@MarkRotteveel I have the library as external library (see the picture in the link)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637953461,"post_id":70127816,"comment_id":123968167,"body_markdown":"If you&#39;re using Maven to build, and if you&#39;re using a war project type, then the library should be automatically included in the `WEB-INF/lib` of the generated WAR. If that is not the case, then that is the problem. If you&#39;re not using Maven to build the WAR, then you should, or you need to configure whatever you&#39;re using to ensure the library ends up in the `WEB-INF/lib`.","body":"If you&#39;re using Maven to build, and if you&#39;re using a war project type, then the library should be automatically included in the <code>WEB-INF&#47;lib</code> of the generated WAR. If that is not the case, then that is the problem. If you&#39;re not using Maven to build the WAR, then you should, or you need to configure whatever you&#39;re using to ensure the library ends up in the <code>WEB-INF&#47;lib</code>."}],"owner":{"account_id":23454940,"reputation":1,"user_id":17510588,"display_name":"Kač"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637950155,"creation_date":1637946322,"question_id":70127816,"body_markdown":"I am trying to connect to local SQL server (Windows Authentication) from my first Java EE WebApplication.\r\n\r\nFrom tutorials I managed to create this\r\n\r\n    private static Connection con;\r\n\r\n    @Resource(name = &quot;java:com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;)\r\n    private static SQLServerDataSource ds;\r\n\r\n    public static boolean Connect(String dbName){\r\n\r\n        String conStrUrl = &quot;jdbc:sqlserver://DESKTOP-UF0PE6E\\\\SQLEXPRESS:57411;integratedSecurity=true;databaseName=&quot; +dbName;\r\n\r\n        try {\r\n            \r\n            ds = new SQLServerDataSource();\r\n            ds.setURL(conStrUrl);\r\n            con = ds.getConnection();\r\n            \r\n            return true;\r\n        } catch (SQLException e) {\r\n            //..printStack\r\n            return false;\r\n        } catch (Exception ex){\r\n            //..printStack\r\n            return false;\r\n        }\r\n    }\r\nI Have downloaded jdbc jar (mssql-jdbc-9.4.0.jre11.jar)\r\n[downloaded Jar File][1]\r\n\r\nI have added dependency for it (hopefully correctly)\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.0.jre11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I get this error:\r\n\r\n    26-Nov-2021 17:17:45.679 SEVERE [http-nio-8080-exec-1] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/helloWorld.xhtml]\r\n\tjavax.el.ELException: /helloWorld.xhtml: Error reading [s1] on type [com.journaldev.jsf.helloworld.HelloWorld]\r\n\t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:88)\r\n\t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\r\n\t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\r\n\t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:424)\r\n\t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:124)\r\n\t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)\r\n\t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\r\n\t\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: java.lang.NoClassDefFoundError: com/microsoft/sqlserver/jdbc/SQLServerDataSource\r\n\t\tat com.journaldev.jsf.helloworld.DataLayer.DbConnect.Connect(DbConnect.java:34)\r\n\t\tat com.journaldev.jsf.helloworld.HelloWorld.getS1(HelloWorld.java:17)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:85)\r\n\t\tat com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\r\n\t\tat com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\r\n\t\tat org.apache.el.parser.AstValue.getValue(AstValue.java:168)\r\n\t\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189)\r\n\t\tat com.sun.faces.facelets.el.ELText$ELTextVariable.writeText(ELText.java:227)\r\n\t\tat com.sun.faces.facelets.el.ELText$ELTextComposite.writeText(ELText.java:150)\r\n\t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:85)\r\n\t\t... 32 more\r\n\tCaused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\t\t... 46 more\r\n\r\nI have tried conecting with DriverManager it also doesn&#39;t work for me.\r\n\r\nAdditional Info:\r\n\r\n - using InteliJ IDEA\r\n - integrated Maven\r\n - Tomcat 9.0.55\r\n\r\nCould someone tell me what steps I should take to connect with JDBC in Java EE WebApp?\r\n\r\n  [1]: https://i.stack.imgur.com/HBebb.png","title":"How to connect to MS SQL Server with JDBC in java EE WebApplication","body":"<p>I am trying to connect to local SQL server (Windows Authentication) from my first Java EE WebApplication.</p>\n<p>From tutorials I managed to create this</p>\n<pre><code>private static Connection con;\n\n@Resource(name = &quot;java:com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;)\nprivate static SQLServerDataSource ds;\n\npublic static boolean Connect(String dbName){\n\n    String conStrUrl = &quot;jdbc:sqlserver://DESKTOP-UF0PE6E\\\\SQLEXPRESS:57411;integratedSecurity=true;databaseName=&quot; +dbName;\n\n    try {\n        \n        ds = new SQLServerDataSource();\n        ds.setURL(conStrUrl);\n        con = ds.getConnection();\n        \n        return true;\n    } catch (SQLException e) {\n        //..printStack\n        return false;\n    } catch (Exception ex){\n        //..printStack\n        return false;\n    }\n}\n</code></pre>\n<p>I Have downloaded jdbc jar (mssql-jdbc-9.4.0.jre11.jar)\n<a href=\"https://i.stack.imgur.com/HBebb.png\" rel=\"nofollow noreferrer\">downloaded Jar File</a></p>\n<p>I have added dependency for it (hopefully correctly)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.4.0.jre11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>26-Nov-2021 17:17:45.679 SEVERE [http-nio-8080-exec-1] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/helloWorld.xhtml]\njavax.el.ELException: /helloWorld.xhtml: Error reading [s1] on type [com.journaldev.jsf.helloworld.HelloWorld]\n    at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:88)\n    at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\n    at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:424)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:124)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: com/microsoft/sqlserver/jdbc/SQLServerDataSource\n    at com.journaldev.jsf.helloworld.DataLayer.DbConnect.Connect(DbConnect.java:34)\n    at com.journaldev.jsf.helloworld.HelloWorld.getS1(HelloWorld.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javax.el.BeanELResolver.getValue(BeanELResolver.java:85)\n    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\n    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\n    at org.apache.el.parser.AstValue.getValue(AstValue.java:168)\n    at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189)\n    at com.sun.faces.facelets.el.ELText$ELTextVariable.writeText(ELText.java:227)\n    at com.sun.faces.facelets.el.ELText$ELTextComposite.writeText(ELText.java:150)\n    at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:85)\n    ... 32 more\nCaused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    ... 46 more\n</code></pre>\n<p>I have tried conecting with DriverManager it also doesn't work for me.</p>\n<p>Additional Info:</p>\n<ul>\n<li>using InteliJ IDEA</li>\n<li>integrated Maven</li>\n<li>Tomcat 9.0.55</li>\n</ul>\n<p>Could someone tell me what steps I should take to connect with JDBC in Java EE WebApp?</p>\n"},{"tags":["java","spring","elasticsearch","jpa","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"score":0,"creation_date":1637940055,"post_id":70126246,"comment_id":123964123,"body_markdown":"Take a look at this link https://stackoverflow.com/a/54987837/14474468","body":"Take a look at this link <a href=\"https://stackoverflow.com/a/54987837/14474468\">stackoverflow.com/a/54987837/14474468</a>"},{"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"score":0,"creation_date":1637943153,"post_id":70126246,"comment_id":123965282,"body_markdown":"Thank you but this does not solve my problem as I already have repositories separated in different packages.","body":"Thank you but this does not solve my problem as I already have repositories separated in different packages."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637944230,"creation_date":1637944230,"answer_id":70127444,"question_id":70126246,"body_markdown":"Looking at the error message it&#39;s pretty obvious what the problem is:\r\n\r\n&gt;  java.net.ConnectException: Connection refused\r\n\r\nWhen you put `@Document` on your entity, Spring Data Elasticsearch tries to initialize the repository and tries to connect to the Elasticsearch cluster. \r\n\r\nEither your configuration is wrong or not existent, in the latter case Spring Data Elasticsearch tries to connect to a local instance running at `localhost:9200`.","title":"Using @Document notation in an @Entity","body":"<p>Looking at the error message it's pretty obvious what the problem is:</p>\n<blockquote>\n<p>java.net.ConnectException: Connection refused</p>\n</blockquote>\n<p>When you put <code>@Document</code> on your entity, Spring Data Elasticsearch tries to initialize the repository and tries to connect to the Elasticsearch cluster.</p>\n<p>Either your configuration is wrong or not existent, in the latter case Spring Data Elasticsearch tries to connect to a local instance running at <code>localhost:9200</code>.</p>\n"}],"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637949945,"creation_date":1637938180,"question_id":70126246,"body_markdown":"I have entities marked with the `@Entity` notation for jpa, such as\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;category&quot;, schema = &quot;\\&quot;public\\&quot;&quot;)\r\n    public class Category extends AbstractBaseEntity {\r\n    ...\r\nBut I also want to use elastic search repository and for such I need to use the `@Document` notation, however, if I use both I get an exception:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryController&#39;: Unsatisfied dependency expressed through field &#39;categoryService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;elasticsearchRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;categoryElasticSearchRepository&#39; defined in br.com.gwcloud.smartplace.catalog.elasticsearch.repositories.CategoryElasticSearchRepository defined in @EnableElasticsearchRepositories declared on ElasticSearchConfig: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.dao.DataAccessResourceFailureException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]; nested exception is java.lang.RuntimeException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]\r\n\r\nMy configuration file is as following:\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(&quot;br.com.gwcloud.smartplace.catalog.elasticsearch.repositories&quot;)\r\n        public class ElasticSearchConfig {    \r\n            @Bean\r\n            public RestHighLevelClient client() {\r\n                ClientConfiguration clientConfiguration \r\n                    = ClientConfiguration.builder()\r\n                        .connectedTo(&quot;localhost:9200&quot;)\r\n                        .build();\r\n        \r\n                return RestClients.create(clientConfiguration).rest();\r\n            }    \r\n            @Bean\r\n            public ElasticsearchOperations elasticsearchTemplate() {\r\n                return new ElasticsearchRestTemplate(client());\r\n            }    \r\n        }","title":"Using @Document notation in an @Entity","body":"<p>I have entities marked with the <code>@Entity</code> notation for jpa, such as</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;category&quot;, schema = &quot;\\&quot;public\\&quot;&quot;)\npublic class Category extends AbstractBaseEntity {\n...\n</code></pre>\n<p>But I also want to use elastic search repository and for such I need to use the <code>@Document</code> notation, however, if I use both I get an exception:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryController': Unsatisfied dependency expressed through field 'categoryService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryServiceImpl': Unsatisfied dependency expressed through field 'elasticsearchRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryElasticSearchRepository' defined in br.com.gwcloud.smartplace.catalog.elasticsearch.repositories.CategoryElasticSearchRepository defined in @EnableElasticsearchRepositories declared on ElasticSearchConfig: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.dao.DataAccessResourceFailureException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]; nested exception is java.lang.RuntimeException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]\n</code></pre>\n<p>My configuration file is as following:</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(&quot;br.com.gwcloud.smartplace.catalog.elasticsearch.repositories&quot;)\n    public class ElasticSearchConfig {    \n        @Bean\n        public RestHighLevelClient client() {\n            ClientConfiguration clientConfiguration \n                = ClientConfiguration.builder()\n                    .connectedTo(&quot;localhost:9200&quot;)\n                    .build();\n    \n            return RestClients.create(clientConfiguration).rest();\n        }    \n        @Bean\n        public ElasticsearchOperations elasticsearchTemplate() {\n            return new ElasticsearchRestTemplate(client());\n        }    \n    }\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1637949229,"post_id":70128233,"comment_id":123967138,"body_markdown":"What does Lombok have to do with this question?","body":"What does Lombok have to do with this question?"},{"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"score":0,"creation_date":1637949438,"post_id":70128233,"comment_id":123967188,"body_markdown":"Oops, it&#39;s Jackson","body":"Oops, it&#39;s Jackson"},{"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"score":0,"creation_date":1637960577,"post_id":70128233,"comment_id":123969868,"body_markdown":"Have you tried to implement a custom Deserializer? This is a class implementing the StdDeserializer. In there you should be able to do all dirty stuff :-)","body":"Have you tried to implement a custom Deserializer? This is a class implementing the StdDeserializer. In there you should be able to do all dirty stuff :-)"},{"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"score":0,"creation_date":1637964517,"post_id":70128233,"comment_id":123970685,"body_markdown":"Yes, tried but could not get hold of documentId field inside the Details object which is created by Jackson.","body":"Yes, tried but could not get hold of documentId field inside the Details object which is created by Jackson."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1638032225,"post_id":70128233,"comment_id":123981599,"body_markdown":"A deserializer is one of the ways to solve your issue, but if the attribute you want to copy is variable you can also modify the json string accordly to your expected result.","body":"A deserializer is one of the ways to solve your issue, but if the attribute you want to copy is variable you can also modify the json string accordly to your expected result."}],"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637949894,"creation_date":1637948528,"question_id":70128233,"body_markdown":"I would like to know is there a way (probably using deserialiser) in Jackson to copy one attribute value to another object attribute the container has.\r\n\r\nFor example, `documentId` from the `TestData` class also needs to be persisted in the `Details.documentId` attribute. \r\n\r\njson/TestData.json\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;documentId&quot; : &quot;234234&quot;,\r\n  &quot;details&quot; : {\r\n    &quot;name&quot;: &quot;test&quot;,\r\n    &quot;lastName&quot;: &quot;asdf&quot;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\r\n@SpringBootTest(classes = ExampleMicroserviceApplication.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class TestDocumentId {\r\n\r\n    final ObjectMapper objectMapper;\r\n\r\n    @Value(&quot;classpath:json/TestData.json&quot;)\r\n    Resource testData;\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    void testDocumentIdPresentInDetails() {\r\n        var data = objectMapper.readValue(testData.getFile(), TestData.class);\r\n        assertThat(data.documentId).isNotNull();\r\n        assertThat(data.getDetails().name).isNotNull();\r\n        assertThat(data.getDetails().documentId).isNotNull();\r\n    }\r\n\r\n    @Data\r\n    public static class TestData {\r\n        private String id;\r\n        private String documentId;\r\n        private Details details;\r\n\r\n\r\n        @Data\r\n        public static class Details {\r\n            private String documentId;\r\n            private String name;\r\n            private String lastName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to map attribute value into two fields during Jackson deserialisation","body":"<p>I would like to know is there a way (probably using deserialiser) in Jackson to copy one attribute value to another object attribute the container has.</p>\n<p>For example, <code>documentId</code> from the <code>TestData</code> class also needs to be persisted in the <code>Details.documentId</code> attribute.</p>\n<p>json/TestData.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;documentId&quot; : &quot;234234&quot;,\n  &quot;details&quot; : {\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;lastName&quot;: &quot;asdf&quot;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(onConstructor_ = @Autowired)\n@SpringBootTest(classes = ExampleMicroserviceApplication.class,\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\n@ActiveProfiles(&quot;test&quot;)\npublic class TestDocumentId {\n\n    final ObjectMapper objectMapper;\n\n    @Value(&quot;classpath:json/TestData.json&quot;)\n    Resource testData;\n\n    @SneakyThrows\n    @Test\n    void testDocumentIdPresentInDetails() {\n        var data = objectMapper.readValue(testData.getFile(), TestData.class);\n        assertThat(data.documentId).isNotNull();\n        assertThat(data.getDetails().name).isNotNull();\n        assertThat(data.getDetails().documentId).isNotNull();\n    }\n\n    @Data\n    public static class TestData {\n        private String id;\n        private String documentId;\n        private Details details;\n\n\n        @Data\n        public static class Details {\n            private String documentId;\n            private String name;\n            private String lastName;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","linux"],"answers":[{"tags":[],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637949819,"creation_date":1473533728,"answer_id":39429514,"question_id":39380993,"body_markdown":"Wrapping the `FileInputStream` in a `BufferedInputStream` seems to fix the issue.","title":"Reading /dev/input/js0 from Java","body":"<p>Wrapping the <code>FileInputStream</code> in a <code>BufferedInputStream</code> seems to fix the issue.</p>\n"}],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39429514,"answer_count":1,"score":5,"last_activity_date":1637949819,"creation_date":1473295696,"question_id":39380993,"body_markdown":"I&#39;m trying to read `/dev/input/js0` from Java but I keep getting\r\n\r\n    java.io.IOException: Invalid argument\r\n\tat java.io.FileInputStream.read0(Native Method)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:207)\r\n\tat Test.main(Test.java:7)\r\n\r\nMy code is\r\n\r\n    import java.io.*;\r\n\r\n    final class Test {\r\n        public static final void main(String[] args) {\r\n                try {\r\n                        FileInputStream in = new FileInputStream(&quot;/dev/input/js0&quot;);\r\n                        System.out.println(in.read());\r\n                } catch(IOException e) {\r\n                        e.printStackTrace();\r\n                }\r\n        }\r\n    }\r\nMy end goal is to be able to read input from my controller but I can&#39;t even seem to read one byte. What am I doing wrong? My user does have read and write access to the file.","title":"Reading /dev/input/js0 from Java","body":"<p>I'm trying to read <code>/dev/input/js0</code> from Java but I keep getting</p>\n\n<pre><code>java.io.IOException: Invalid argument\nat java.io.FileInputStream.read0(Native Method)\nat java.io.FileInputStream.read(FileInputStream.java:207)\nat Test.main(Test.java:7)\n</code></pre>\n\n<p>My code is</p>\n\n<pre><code>import java.io.*;\n\nfinal class Test {\n    public static final void main(String[] args) {\n            try {\n                    FileInputStream in = new FileInputStream(\"/dev/input/js0\");\n                    System.out.println(in.read());\n            } catch(IOException e) {\n                    e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n\n<p>My end goal is to be able to read input from my controller but I can't even seem to read one byte. What am I doing wrong? My user does have read and write access to the file.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":23463564,"reputation":23,"user_id":17518112,"display_name":"Makko"},"score":0,"creation_date":1637946336,"post_id":70127774,"comment_id":123966272,"body_markdown":"I am aware that I could pass method names as Strings and use reflection but that does not help with the clarity and tidiness of the code. ;)","body":"I am aware that I could pass method names as Strings and use reflection but that does not help with the clarity and tidiness of the code. ;)"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637949231,"creation_date":1637948819,"answer_id":70128291,"question_id":70127774,"body_markdown":"You need to tell the compiler which sort of lambda you intend to implent. &lt;br/&gt;\r\nSo you need to cast your lambda to a `Function&lt;String, String&gt;` like this:\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; generateArguments() {\r\n  return Stream.of(\r\n      Arguments.of(\r\n          &quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;,\r\n          (Function&lt;String, String&gt;) JUnitFeatureTest::generateStringFromInput\r\n      )\r\n  );\r\n}\r\n```\r\n\r\nor this\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; generateArguments() {\r\n  return Stream.of(\r\n      Arguments.of(\r\n          &quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;, \r\n          (Function&lt;String, String&gt;) input -&gt; generateStringFromInput(input)\r\n      )\r\n  );\r\n}\r\n```","title":"Function&lt;T, R&gt; as additional argument in Junit 5","body":"<p>You need to tell the compiler which sort of lambda you intend to implent. <br/>\nSo you need to cast your lambda to a <code>Function&lt;String, String&gt;</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; generateArguments() {\n  return Stream.of(\n      Arguments.of(\n          &quot;Return 'expected' if argument is 'input'&quot;,\n          (Function&lt;String, String&gt;) JUnitFeatureTest::generateStringFromInput\n      )\n  );\n}\n</code></pre>\n<p>or this</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; generateArguments() {\n  return Stream.of(\n      Arguments.of(\n          &quot;Return 'expected' if argument is 'input'&quot;, \n          (Function&lt;String, String&gt;) input -&gt; generateStringFromInput(input)\n      )\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":23463564,"reputation":23,"user_id":17518112,"display_name":"Makko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70128291,"answer_count":1,"score":2,"last_activity_date":1637949231,"creation_date":1637946063,"question_id":70127774,"body_markdown":"I am trying to pass test arguments to JUnit 5 that include Java&#39;s `Function&lt;T, R&gt;` interface type as shown in the following code snippet. I am getting a &quot;Target type of a lambda conversion must be an interface&quot; error because JUnit 5&#39;s `Arguments` type uses an Object array to store the parameters.\r\n\r\n```\r\n  @ParameterizedTest(name = &quot;Test description: {0}&quot;)\r\n  @MethodSource(&quot;generateArguments&quot;)\r\n  void passFunctionAsAnArgumentTest(final String description, final Function&lt;String, String&gt; testMethod) {\r\n\r\n    // Fetch initial preactivation value.\r\n    final String result = testMethod.apply(&quot;input&quot;);\r\n    assertThat(result, is(&quot;expected&quot;));\r\n  }\r\n\r\n  private static Stream&lt;Arguments&gt; generateArguments() {\r\n\r\n    return Stream.of(\r\n        // Error: &quot;Target type of a lambda conversion must be an interface&quot;.\r\n        Arguments.of(&quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;, (String input) -&gt; generateStringFromInput(input))\r\n    );\r\n  }\r\n\r\n  private static String generateStringFromInput(final String input) {\r\n\r\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\r\n  }\r\n```\r\n\r\nIf I generate a stream that *only* uses the `Function&lt;T, R&gt;` interface type the test compiles  and runs fine.\r\n\r\n```\r\n  @ParameterizedTest(name = &quot;No test description :(&quot;)\r\n  @MethodSource(&quot;generateStream&quot;)\r\n  void passFunctionAsAnArgumentTest(final Function&lt;String, String&gt; testMethod) {\r\n\r\n    // Fetch initial preactivation value.\r\n    final String result = testMethod.apply(&quot;input&quot;);\r\n    assertThat(result, is(&quot;expected&quot;));\r\n  }\r\n\r\n  private static Stream&lt;Function&lt;String, String&gt;&gt; generateStream() {\r\n\r\n    return Stream.of(\r\n        JUnitFeatureTest::generateStringFromInput\r\n    );\r\n  }\r\n\r\n  private static String generateStringFromInput(final String input) {\r\n\r\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\r\n  }\r\n```\r\n\r\nObviously the actual code is a bit more complex. The reason why I want to pass functions instead of test data objects is because we call different methods with a different set of parameters. It is just a lot tidier to encapsulate that in helper methods.","title":"Function&lt;T, R&gt; as additional argument in Junit 5","body":"<p>I am trying to pass test arguments to JUnit 5 that include Java's <code>Function&lt;T, R&gt;</code> interface type as shown in the following code snippet. I am getting a &quot;Target type of a lambda conversion must be an interface&quot; error because JUnit 5's <code>Arguments</code> type uses an Object array to store the parameters.</p>\n<pre><code>  @ParameterizedTest(name = &quot;Test description: {0}&quot;)\n  @MethodSource(&quot;generateArguments&quot;)\n  void passFunctionAsAnArgumentTest(final String description, final Function&lt;String, String&gt; testMethod) {\n\n    // Fetch initial preactivation value.\n    final String result = testMethod.apply(&quot;input&quot;);\n    assertThat(result, is(&quot;expected&quot;));\n  }\n\n  private static Stream&lt;Arguments&gt; generateArguments() {\n\n    return Stream.of(\n        // Error: &quot;Target type of a lambda conversion must be an interface&quot;.\n        Arguments.of(&quot;Return 'expected' if argument is 'input'&quot;, (String input) -&gt; generateStringFromInput(input))\n    );\n  }\n\n  private static String generateStringFromInput(final String input) {\n\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\n  }\n</code></pre>\n<p>If I generate a stream that <em>only</em> uses the <code>Function&lt;T, R&gt;</code> interface type the test compiles  and runs fine.</p>\n<pre><code>  @ParameterizedTest(name = &quot;No test description :(&quot;)\n  @MethodSource(&quot;generateStream&quot;)\n  void passFunctionAsAnArgumentTest(final Function&lt;String, String&gt; testMethod) {\n\n    // Fetch initial preactivation value.\n    final String result = testMethod.apply(&quot;input&quot;);\n    assertThat(result, is(&quot;expected&quot;));\n  }\n\n  private static Stream&lt;Function&lt;String, String&gt;&gt; generateStream() {\n\n    return Stream.of(\n        JUnitFeatureTest::generateStringFromInput\n    );\n  }\n\n  private static String generateStringFromInput(final String input) {\n\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\n  }\n</code></pre>\n<p>Obviously the actual code is a bit more complex. The reason why I want to pass functions instead of test data objects is because we call different methods with a different set of parameters. It is just a lot tidier to encapsulate that in helper methods.</p>\n"},{"tags":["java","class","object","generics"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1637545357,"post_id":70060035,"comment_id":123847241,"body_markdown":"trying to understand your question a little better, so in your generic function commonFunction, you want to invoke a method get_token that is in both classA and classB and return whatever is the result of that?","body":"trying to understand your question a little better, so in your generic function commonFunction, you want to invoke a method get_token that is in both classA and classB and return whatever is the result of that?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1637545433,"post_id":70060035,"comment_id":123847263,"body_markdown":"Your &quot;classA&quot; doesn&#39;t have a method `get_token`. `Class&lt;T&gt;` refers to `java.lang.Class`. You call your class `classA` with a lowercase in one snippet and `ClassA` with uppercase in the next. Neither class A or B extend/implement `Class&lt;T&gt;`. Not really clear what you&#39;re asking or trying to achieve.","body":"Your &quot;classA&quot; doesn&#39;t have a method <code>get_token</code>. <code>Class&lt;T&gt;</code> refers to <code>java.lang.Class</code>. You call your class <code>classA</code> with a lowercase in one snippet and <code>ClassA</code> with uppercase in the next. Neither class A or B extend/implement <code>Class&lt;T&gt;</code>. Not really clear what you&#39;re asking or trying to achieve."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637545454,"post_id":70060035,"comment_id":123847269,"body_markdown":"You need some way to tie the two classes together, such as an `interface` (as `Class` doesn&#39;t define a `getToken` method)","body":"You need some way to tie the two classes together, such as an <code>interface</code> (as <code>Class</code> doesn&#39;t define a <code>getToken</code> method)"},{"owner":{"account_id":9531943,"reputation":593,"user_id":7083303,"accept_rate":89,"display_name":"JJ123"},"score":0,"creation_date":1637545883,"post_id":70060035,"comment_id":123847320,"body_markdown":"I added a few statements for clarification. @scigs","body":"I added a few statements for clarification. @scigs"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637545746,"creation_date":1637545746,"answer_id":70060112,"question_id":70060035,"body_markdown":"You need some way to tie the classes together which says &quot;this instance implements a method called `getToken` which returns some kind of result&quot;\r\n\r\nThe simplest place to start would be a `interface`, for example...\r\n\r\n    public interface Tokenable&lt;T&gt; {\r\n        public T getToken();\r\n    }\r\n\r\nThen both `ClassA` and `ClassB` would need to implement this `interface` as required, for example...\r\n\r\n    public class ClassA implements Tokenable&lt;Boolean&gt; {\r\n\r\n        private Boolean started;\r\n\r\n        public ClassA(Boolean started) {\r\n            this.started = started;\r\n        }\r\n\r\n        @Override\r\n        public Boolean getToken() {\r\n            return started;\r\n        }\r\n\r\n    }\r\n\r\n    public class ClassB implements Tokenable&lt;String&gt; {\r\n\r\n        private String token;\r\n\r\n        public ClassB(String token) {\r\n            this.token = token;\r\n        }\r\n\r\n        @Override\r\n        public String getToken() {\r\n            return token;\r\n        }\r\n\r\n    }\r\n\r\nAnd then you can communalise the call back...\r\n\r\n    public class CallingClass {\r\n\r\n        public void function1() {\r\n            ClassA stepA = new ClassA(false);\r\n            commonFunction(stepA);\r\n        }\r\n\r\n        public void function2() {\r\n            ClassB stepB = new ClassB(&quot;hello&quot;);\r\n            commonFunction(stepB);\r\n        }\r\n\r\n        public &lt;T&gt; void commonFunction(Tokenable&lt;T&gt; dataObject) {\r\n            T token = dataObject.getToken();\r\n        }\r\n\r\n    }\r\n\r\nWithout providing some kind of common ancestor, you&#39;re not really going to be able to get it to work - `Class` doesn&#39;t define a `getToken` method, so you need some kind of common ancestor in order to call it (there is a &quot;hacky&quot; way to do it, but you really, really, really don&#39;t want to go down that rabbit hole)","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>You need some way to tie the classes together which says &quot;this instance implements a method called <code>getToken</code> which returns some kind of result&quot;</p>\n<p>The simplest place to start would be a <code>interface</code>, for example...</p>\n<pre><code>public interface Tokenable&lt;T&gt; {\n    public T getToken();\n}\n</code></pre>\n<p>Then both <code>ClassA</code> and <code>ClassB</code> would need to implement this <code>interface</code> as required, for example...</p>\n<pre><code>public class ClassA implements Tokenable&lt;Boolean&gt; {\n\n    private Boolean started;\n\n    public ClassA(Boolean started) {\n        this.started = started;\n    }\n\n    @Override\n    public Boolean getToken() {\n        return started;\n    }\n\n}\n\npublic class ClassB implements Tokenable&lt;String&gt; {\n\n    private String token;\n\n    public ClassB(String token) {\n        this.token = token;\n    }\n\n    @Override\n    public String getToken() {\n        return token;\n    }\n\n}\n</code></pre>\n<p>And then you can communalise the call back...</p>\n<pre><code>public class CallingClass {\n\n    public void function1() {\n        ClassA stepA = new ClassA(false);\n        commonFunction(stepA);\n    }\n\n    public void function2() {\n        ClassB stepB = new ClassB(&quot;hello&quot;);\n        commonFunction(stepB);\n    }\n\n    public &lt;T&gt; void commonFunction(Tokenable&lt;T&gt; dataObject) {\n        T token = dataObject.getToken();\n    }\n\n}\n</code></pre>\n<p>Without providing some kind of common ancestor, you're not really going to be able to get it to work - <code>Class</code> doesn't define a <code>getToken</code> method, so you need some kind of common ancestor in order to call it (there is a &quot;hacky&quot; way to do it, but you really, really, really don't want to go down that rabbit hole)</p>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637549451,"creation_date":1637549451,"answer_id":70060409,"question_id":70060035,"body_markdown":"It could be that there&#39;s something I&#39;m missing about your question because it&#39;s not entirely clear what you are trying to achieve but something doesn&#39;t seem quite right about the way you&#39;re trying to do this.\r\n\r\nYou have logic in `commonFunction` that behaves one way if the argument is one type and another way if the argument is the other type.  It seems like what you really should do is have that logic inside ClassA and ClassB.  So they should both implement some method that behaves one way inside ClassA and the other way inside ClassB.  Then `commonFunction` can treat all arguments the same.\r\n\r\nIn general, if you are testing the type of an argument and triggering different behaviour in different cases then it&#39;s a pretty good indication that the behaviour really belongs inside those classes themselves, provided you are the one defining the classes which you are in this case.\r\n\r\n","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>It could be that there's something I'm missing about your question because it's not entirely clear what you are trying to achieve but something doesn't seem quite right about the way you're trying to do this.</p>\n<p>You have logic in <code>commonFunction</code> that behaves one way if the argument is one type and another way if the argument is the other type.  It seems like what you really should do is have that logic inside ClassA and ClassB.  So they should both implement some method that behaves one way inside ClassA and the other way inside ClassB.  Then <code>commonFunction</code> can treat all arguments the same.</p>\n<p>In general, if you are testing the type of an argument and triggering different behaviour in different cases then it's a pretty good indication that the behaviour really belongs inside those classes themselves, provided you are the one defining the classes which you are in this case.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637949144,"creation_date":1637949144,"answer_id":70128350,"question_id":70060035,"body_markdown":"The direct answer to your literal question would be that the only supertype of `classA` and `classB` is `Object`, so your parameter type must be `Object`, and you can use `instanceof` to test if it&#39;s an instance of a particular type, and if so, cast to that type to do stuff that can only be done with that type:\r\n\r\n    public void commonFunction(Object dataObject) {\r\n        if (dataObject instanceof classB) {\r\n            String token = ((classB)dataObject).get_token();\r\n        }\r\n        if (dataObject instanceof classA) {\r\n            Boolean is_started = ((classA)dataObject).getIS_started();\r\n        }\r\n    }\r\n\r\nHowever, using `instanceof` like this is evidence of bad design. If the logic for the two different types is separate, then why put them in the same function? If the &quot;token&quot; and &quot;is_started&quot; are supposed to represent the same kind of information, then refactoring them to the same method provided in an interface, like other answers suggested, makes more sense.","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>The direct answer to your literal question would be that the only supertype of <code>classA</code> and <code>classB</code> is <code>Object</code>, so your parameter type must be <code>Object</code>, and you can use <code>instanceof</code> to test if it's an instance of a particular type, and if so, cast to that type to do stuff that can only be done with that type:</p>\n<pre><code>public void commonFunction(Object dataObject) {\n    if (dataObject instanceof classB) {\n        String token = ((classB)dataObject).get_token();\n    }\n    if (dataObject instanceof classA) {\n        Boolean is_started = ((classA)dataObject).getIS_started();\n    }\n}\n</code></pre>\n<p>However, using <code>instanceof</code> like this is evidence of bad design. If the logic for the two different types is separate, then why put them in the same function? If the &quot;token&quot; and &quot;is_started&quot; are supposed to represent the same kind of information, then refactoring them to the same method provided in an interface, like other answers suggested, makes more sense.</p>\n"}],"owner":{"account_id":9531943,"reputation":593,"user_id":7083303,"accept_rate":89,"display_name":"JJ123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70060112,"answer_count":3,"score":0,"last_activity_date":1637949144,"creation_date":1637544744,"question_id":70060035,"body_markdown":"Let&#39;s say, I have two classes that look like this:\r\n\r\n    public class classA {\r\n        private Boolean is_started;\r\n    \r\n        public classA(Boolean is_started) {\r\n            this.is_started = started;\r\n        }\r\n        public Boolean getIs_started(){\r\n            return this.is_started;\r\n        }\r\n    }\r\n\r\n    public class classB {\r\n        private String token;\r\n    \r\n        public classA(String token) {\r\n            this.token = token;\r\n        }\r\n        public String get_token(){\r\n            return this.token;\r\n        }\r\n    }\r\n\r\nI am calling those two classes from another class like this:\r\n\r\n    public class CallingClass {\r\n    \r\n        public void function1() {\r\n            ClassA stepA = new ClassA(&lt;some boolean&gt;);\r\n            commonFunction(stepA);\r\n    }\r\n        public void function2() {\r\n            ClassB stepB = new ClassB(&lt;some string&gt;);\r\n            commonFunction(stepB);\r\n    }\r\n        public &lt;T&gt; void commonFunction(Class&lt;T&gt; dataObject) {\r\n            //An if statement that has a condition that only calls a function in classB {\r\n                String token = dataObject.get_token();\r\n            }\r\n            //An if statement that has a condition that only calls a function in classA {\r\n            Boolean is_started = dataObject.getIS_started();\r\n            }\r\n    //It returns error : The method [get_token()/getIS_started()] is undefined for the type Class&lt;T&gt;\r\n\r\nI want to make sure that I can call different objects without specifying them in the function. For example, I want to supply `ClassA` and `ClassB` as an argument to the `commonFunction` as in the example above. How do I make it happen with generics?\r\n\r\n","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>Let's say, I have two classes that look like this:</p>\n<pre><code>public class classA {\n    private Boolean is_started;\n\n    public classA(Boolean is_started) {\n        this.is_started = started;\n    }\n    public Boolean getIs_started(){\n        return this.is_started;\n    }\n}\n\npublic class classB {\n    private String token;\n\n    public classA(String token) {\n        this.token = token;\n    }\n    public String get_token(){\n        return this.token;\n    }\n}\n</code></pre>\n<p>I am calling those two classes from another class like this:</p>\n<pre><code>public class CallingClass {\n\n    public void function1() {\n        ClassA stepA = new ClassA(&lt;some boolean&gt;);\n        commonFunction(stepA);\n}\n    public void function2() {\n        ClassB stepB = new ClassB(&lt;some string&gt;);\n        commonFunction(stepB);\n}\n    public &lt;T&gt; void commonFunction(Class&lt;T&gt; dataObject) {\n        //An if statement that has a condition that only calls a function in classB {\n            String token = dataObject.get_token();\n        }\n        //An if statement that has a condition that only calls a function in classA {\n        Boolean is_started = dataObject.getIS_started();\n        }\n//It returns error : The method [get_token()/getIS_started()] is undefined for the type Class&lt;T&gt;\n</code></pre>\n<p>I want to make sure that I can call different objects without specifying them in the function. For example, I want to supply <code>ClassA</code> and <code>ClassB</code> as an argument to the <code>commonFunction</code> as in the example above. How do I make it happen with generics?</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","wiremock"],"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1637942742,"post_id":70127076,"comment_id":123965151,"body_markdown":"Out of curiosity, how are you sure it is WireMock causing the issue?","body":"Out of curiosity, how are you sure it is WireMock causing the issue?"},{"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"score":0,"creation_date":1637942874,"post_id":70127076,"comment_id":123965187,"body_markdown":"@Oozeerally when I remove the entire class, everything is working","body":"@Oozeerally when I remove the entire class, everything is working"}],"answers":[{"tags":[],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637947987,"creation_date":1637944220,"answer_id":70127442,"question_id":70127076,"body_markdown":"I found the solution. I have\r\n\r\n    ddl-auto: create-drop \r\n\r\nin my config, but it should be \r\n\r\n    ddl-auto: create-only","title":"WireMock affects other tests","body":"<p>I found the solution. I have</p>\n<pre><code>ddl-auto: create-drop \n</code></pre>\n<p>in my config, but it should be</p>\n<pre><code>ddl-auto: create-only\n</code></pre>\n"}],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637947987,"creation_date":1637942269,"question_id":70127076,"body_markdown":"All existing tests are annotated with \r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles({&quot;test&quot;})\r\n```\r\n\r\nI have added \r\n\r\nspring-cloud-contract-wiremock\r\n\r\nto my project and created a test with the following annotations: \r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 10000, stubs = {&quot;classpath:stubs/mappings&quot;})\r\n@ActiveProfiles({&quot;test&quot;})\r\n```\r\n\r\nWhen I run all the tests together, then all the tests followed after that WireMock test are starting to fail. \r\n\r\nIssues are like:\r\n\r\n```\r\nCaught exception while invoking &#39;beforeTestMethod&#39; callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42f3156d] for test method [public void com.example.MyClass.foo1()] and test instance [com.example.MyClassTest@5e3569e8]\r\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource...\r\n```\r\n\r\nThese failing methods are annotated with:\r\n```\r\n@Test\r\n@SqlGroup\r\n``` \r\n","title":"WireMock affects other tests","body":"<p>All existing tests are annotated with</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles({&quot;test&quot;})\n</code></pre>\n<p>I have added</p>\n<p>spring-cloud-contract-wiremock</p>\n<p>to my project and created a test with the following annotations:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWireMock(port = 10000, stubs = {&quot;classpath:stubs/mappings&quot;})\n@ActiveProfiles({&quot;test&quot;})\n</code></pre>\n<p>When I run all the tests together, then all the tests followed after that WireMock test are starting to fail.</p>\n<p>Issues are like:</p>\n<pre><code>Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42f3156d] for test method [public void com.example.MyClass.foo1()] and test instance [com.example.MyClassTest@5e3569e8]\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource...\n</code></pre>\n<p>These failing methods are annotated with:</p>\n<pre><code>@Test\n@SqlGroup\n</code></pre>\n"},{"tags":["java","spring","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518782010,"creation_date":1518782010,"answer_id":48826213,"question_id":48825727,"body_markdown":"Surprisingly my server was running, and so my integration test was failing. I stopped my running server and started the test, and it worked fine, without any explicit version definition.","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>Surprisingly my server was running, and so my integration test was failing. I stopped my running server and started the test, and it worked fine, without any explicit version definition.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1518791542,"creation_date":1518791542,"answer_id":48828952,"question_id":48825727,"body_markdown":"&gt;java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n\r\nThis is caused by a mismatched `kafka_2.11` and `kafka-clients` jars; they must be the same version. `SecurityProtocol` was moved to a different package in the 1.0.0 `kafka_clients` jar.\r\n\r\n&gt;java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\r\n\r\nThis one is because spring-kafka 2.x requires Spring Framework 5.0 which is not compatible with boot 1.5; it uses Spring Framework 4.3.x.\r\n\r\nSpring Boot 2.0 will be released soon, which will work with the latest Spring Kafka.\r\n\r\n&gt;java.lang.NoClassDefFoundError: kafka/utils/Time\r\n\r\nThat&#39;s another jar mismatch\r\n\r\n    KAFKA-2247; Merge kafka.utils.Time and kafka.common.utils.Time\r\n\r\n\r\nBecause of the way boot does dependency management, when you override the versions of, say, `spring-kafka` - you also have to override the dependencies to the right versions too (kafka-clients, kafka_2.11).","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<blockquote>\n  <p>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol</p>\n</blockquote>\n\n<p>This is caused by a mismatched <code>kafka_2.11</code> and <code>kafka-clients</code> jars; they must be the same version. <code>SecurityProtocol</code> was moved to a different package in the 1.0.0 <code>kafka_clients</code> jar.</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V</p>\n</blockquote>\n\n<p>This one is because spring-kafka 2.x requires Spring Framework 5.0 which is not compatible with boot 1.5; it uses Spring Framework 4.3.x.</p>\n\n<p>Spring Boot 2.0 will be released soon, which will work with the latest Spring Kafka.</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: kafka/utils/Time</p>\n</blockquote>\n\n<p>That's another jar mismatch</p>\n\n<pre><code>KAFKA-2247; Merge kafka.utils.Time and kafka.common.utils.Time\n</code></pre>\n\n<p>Because of the way boot does dependency management, when you override the versions of, say, <code>spring-kafka</code> - you also have to override the dependencies to the right versions too (kafka-clients, kafka_2.11).</p>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637947307,"creation_date":1637947307,"answer_id":70128015,"question_id":48825727,"body_markdown":"As a complement to the accepted answer I will described my solution because in my case the class not found was [protocol/SecurityProtocol](https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/protocol/SecurityProtocol.java)\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/kafka/common/protocol/SecurityProtocol\r\n```\r\nwhich is different of the [security/auth/SecurityProtocol](https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/security/auth/SecurityProtocol.java)\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n```\r\nI basically had to check all my dependencies using `./mvnw dependency:tree` and exclude `kafka-clients` that was not on the version that my project was.\r\n```\r\n&lt;exclusions&gt;\r\n  &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\r\n  &lt;/exclusion&gt;\r\n  &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n  &lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n```\r\nmost of them was version 3.0. At the [Apache Kafka repo](https://github.com/a0x8o/kafka) there is a hint showing that it has to be compatible with the scala version. Then it was also necessary to verify all the scala version on the project. I had a few that were using different version.\r\n&gt; Scala 2.12 support has been deprecated since Apache Kafka 3.0\r\n\r\nand add the only version that has the `org/apache/kafka/common/protocol/SecurityProtocol` class and it is compatible with scala 2.11.\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n  &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n  &lt;version&gt;0.11.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>As a complement to the accepted answer I will described my solution because in my case the class not found was <a href=\"https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/protocol/SecurityProtocol.java\" rel=\"nofollow noreferrer\">protocol/SecurityProtocol</a></p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/protocol/SecurityProtocol\n</code></pre>\n<p>which is different of the <a href=\"https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/security/auth/SecurityProtocol.java\" rel=\"nofollow noreferrer\">security/auth/SecurityProtocol</a></p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\n</code></pre>\n<p>I basically had to check all my dependencies using <code>./mvnw dependency:tree</code> and exclude <code>kafka-clients</code> that was not on the version that my project was.</p>\n<pre><code>&lt;exclusions&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>most of them was version 3.0. At the <a href=\"https://github.com/a0x8o/kafka\" rel=\"nofollow noreferrer\">Apache Kafka repo</a> there is a hint showing that it has to be compatible with the scala version. Then it was also necessary to verify all the scala version on the project. I had a few that were using different version.</p>\n<blockquote>\n<p>Scala 2.12 support has been deprecated since Apache Kafka 3.0</p>\n</blockquote>\n<p>and add the only version that has the <code>org/apache/kafka/common/protocol/SecurityProtocol</code> class and it is compatible with scala 2.11.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n  &lt;version&gt;0.11.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17039,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48828952,"answer_count":3,"score":7,"last_activity_date":1637947307,"creation_date":1518780220,"question_id":48825727,"body_markdown":"My production code is working fine, but my integration test is throwing ClassNotFoundException for SecurityProtocol. I am using spring-boot-parent 1.5.10.RELEASE.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI am getting the below exception:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n    \r\n    \tat kafka.server.KafkaConfig$.&lt;init&gt;(KafkaConfig.scala:578)\r\n    \tat kafka.server.KafkaConfig$.&lt;clinit&gt;(KafkaConfig.scala)\r\n    \tat kafka.utils.TestUtils$.createBrokerConfig(TestUtils.scala:228)\r\n    \tat kafka.utils.TestUtils.createBrokerConfig(TestUtils.scala)\r\n    \tat org.springframework.kafka.test.rule.KafkaEmbedded.createProperties(KafkaEmbedded.java:214)\r\n    \tat org.springframework.kafka.test.rule.KafkaEmbedded.before(KafkaEmbedded.java:191)\r\n    \tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.security.auth.SecurityProtocol\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 15 more\r\n\r\nWhen I am using this pom, I am getting a different error:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    java.lang.NoClassDefFoundError: kafka/utils/Time\r\n    \tat com.betstars.eventdata.app.kafka.message.KafkaMessageSenderTest.&lt;clinit&gt;(KafkaMessageSenderTest.java:39)\r\n    \tat sun.misc.Unsafe.ensureClassInitialized(Native Method)\r\n    \tat sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:43)\r\n    \tat sun.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:156)\r\n    \tat java.lang.reflect.Field.acquireFieldAccessor(Field.java:1088)\r\n    \tat java.lang.reflect.Field.getFieldAccessor(Field.java:1069)\r\n    \tat java.lang.reflect.Field.get(Field.java:393)\r\n    \tat org.junit.runners.model.FrameworkField.get(FrameworkField.java:73)\r\n    \tat org.junit.runners.model.TestClass.getAnnotatedFieldValues(TestClass.java:230)\r\n    \tat org.junit.runners.ParentRunner.classRules(ParentRunner.java:255)\r\n    \tat org.junit.runners.ParentRunner.withClassRules(ParentRunner.java:244)\r\n    \tat org.junit.runners.ParentRunner.classBlock(ParentRunner.java:194)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:362)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: java.lang.ClassNotFoundException: kafka.utils.Time\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 19 more\r\n\r\nAnd when I use the latest version, I am getting a different error:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\r\n    \r\n    \tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.determineInferredType(MessagingMessageListenerAdapter.java:396)\r\n    \tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:100)\r\n    \tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:61)\r\n    \tat org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:172)\r\n    \tat org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:132)\r\n    \tat org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:355)\r\n    \tat org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:340)\r\n\r\n","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>My production code is working fine, but my integration test is throwing ClassNotFoundException for SecurityProtocol. I am using spring-boot-parent 1.5.10.RELEASE.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I am getting the below exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\n\n    at kafka.server.KafkaConfig$.&lt;init&gt;(KafkaConfig.scala:578)\n    at kafka.server.KafkaConfig$.&lt;clinit&gt;(KafkaConfig.scala)\n    at kafka.utils.TestUtils$.createBrokerConfig(TestUtils.scala:228)\n    at kafka.utils.TestUtils.createBrokerConfig(TestUtils.scala)\n    at org.springframework.kafka.test.rule.KafkaEmbedded.createProperties(KafkaEmbedded.java:214)\n    at org.springframework.kafka.test.rule.KafkaEmbedded.before(KafkaEmbedded.java:191)\n    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.security.auth.SecurityProtocol\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 15 more\n</code></pre>\n\n<p>When I am using this pom, I am getting a different error:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\njava.lang.NoClassDefFoundError: kafka/utils/Time\n    at com.betstars.eventdata.app.kafka.message.KafkaMessageSenderTest.&lt;clinit&gt;(KafkaMessageSenderTest.java:39)\n    at sun.misc.Unsafe.ensureClassInitialized(Native Method)\n    at sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:43)\n    at sun.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:156)\n    at java.lang.reflect.Field.acquireFieldAccessor(Field.java:1088)\n    at java.lang.reflect.Field.getFieldAccessor(Field.java:1069)\n    at java.lang.reflect.Field.get(Field.java:393)\n    at org.junit.runners.model.FrameworkField.get(FrameworkField.java:73)\n    at org.junit.runners.model.TestClass.getAnnotatedFieldValues(TestClass.java:230)\n    at org.junit.runners.ParentRunner.classRules(ParentRunner.java:255)\n    at org.junit.runners.ParentRunner.withClassRules(ParentRunner.java:244)\n    at org.junit.runners.ParentRunner.classBlock(ParentRunner.java:194)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:362)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: kafka.utils.Time\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 19 more\n</code></pre>\n\n<p>And when I use the latest version, I am getting a different error:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\njava.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\n\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.determineInferredType(MessagingMessageListenerAdapter.java:396)\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:100)\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:61)\n    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:172)\n    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:132)\n    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:355)\n    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:340)\n</code></pre>\n"},{"tags":["java","algorithm","collections","refactoring"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637947119,"creation_date":1637946018,"answer_id":70127763,"question_id":70127383,"body_markdown":"A simple solution would be\r\n\r\n```java\r\nList&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;(currentCodes);\r\ncodesToRemove.removeAll(newCodes);\r\nList&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;(newCodes);\r\ncodesToAdd.removeAll(currentCodes);\r\n```\r\n\r\nbut, like your original approach, it has a high time complexity, O(n&#215;m), which means, it will be very inefficient when both lists are very large. But it may run with reasonable performance for a lot of scenarios.\r\n\r\nIf you have to consider the possibility that both lists can be large, a solution running in linear time would be\r\n\r\n```java\r\nList&lt;String&gt; codesToRemove, codesToAdd;\r\n\r\nif(currentCodes.isEmpty() || newCodes.isEmpty()) { // short-cut\r\n    codesToRemove = currentCodes;\r\n    codesToAdd = newCodes;\r\n}\r\nelse {\r\n    HashSet&lt;String&gt; set = new LinkedHashSet&lt;&gt;(currentCodes);\r\n    codesToAdd = new ArrayList&lt;&gt;();\r\n    for(String newObj: newCodes) if(!set.remove(newObj)) codesToAdd.add(newObj);\r\n    codesToRemove = new ArrayList&lt;&gt;(set);\r\n}\r\n```\r\n\r\nIf you really need the maximum performance for all scenarios, you may set a threshold for `currentCodes.size() * newCodes.size()`, use the short-cut for zero, the plain `ArrayList` operation when the product is below the threshold and the `HashSet` based solution otherwise.\r\n","title":"code improvement when collecting elements for add and removal","body":"<p>A simple solution would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;(currentCodes);\ncodesToRemove.removeAll(newCodes);\nList&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;(newCodes);\ncodesToAdd.removeAll(currentCodes);\n</code></pre>\n<p>but, like your original approach, it has a high time complexity, O(n×m), which means, it will be very inefficient when both lists are very large. But it may run with reasonable performance for a lot of scenarios.</p>\n<p>If you have to consider the possibility that both lists can be large, a solution running in linear time would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; codesToRemove, codesToAdd;\n\nif(currentCodes.isEmpty() || newCodes.isEmpty()) { // short-cut\n    codesToRemove = currentCodes;\n    codesToAdd = newCodes;\n}\nelse {\n    HashSet&lt;String&gt; set = new LinkedHashSet&lt;&gt;(currentCodes);\n    codesToAdd = new ArrayList&lt;&gt;();\n    for(String newObj: newCodes) if(!set.remove(newObj)) codesToAdd.add(newObj);\n    codesToRemove = new ArrayList&lt;&gt;(set);\n}\n</code></pre>\n<p>If you really need the maximum performance for all scenarios, you may set a threshold for <code>currentCodes.size() * newCodes.size()</code>, use the short-cut for zero, the plain <code>ArrayList</code> operation when the product is below the threshold and the <code>HashSet</code> based solution otherwise.</p>\n"}],"owner":{"account_id":3227370,"reputation":988,"user_id":2723401,"accept_rate":95,"display_name":"Kapparino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70127763,"answer_count":1,"score":1,"last_activity_date":1637947119,"creation_date":1637943867,"question_id":70127383,"body_markdown":"I made a little program for testing, where I collect elements for add and removal. Below is a list of the test cases, where &quot;current&quot; and &quot;new&quot; are given parameters, and sign &quot;=&gt;&quot; is expected result of add and remove collection:\r\n\r\n    current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\r\n    current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\r\n    current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\r\n    current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\r\n    current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\r\n\r\nBelow is my code which works fine with expected results above:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; currentList = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code3&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;, &quot;code3&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code3&quot;));\r\n            test(currentList, newList);\r\n        }\r\n    \r\n        // Test cases:\r\n        // current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\r\n        // current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\r\n        // current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\r\n        // current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\r\n        // current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\r\n        public static void test(List&lt;String&gt; currentCodes, List&lt;String&gt; newCodes) {\r\n            System.out.println(&quot;current&quot; + currentCodes + &quot; ; new&quot; + newCodes);\r\n    \r\n            List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;();\r\n            for (String currentCode : currentCodes) {\r\n                if (!newCodes.contains(currentCode)) {\r\n                    // just a note: call some service\r\n                    codesToRemove.add(currentCode);\r\n                }\r\n            }\r\n    \r\n            List&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;();\r\n            for (String newCode : newCodes) {\r\n                if (!currentCodes.contains(newCode)) {\r\n                    // just a note: call some service\r\n                    codesToAdd.add(newCode);\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;removeResult&quot; + codesToRemove);\r\n            System.out.println(&quot;addResult&quot; + codesToAdd);\r\n            System.out.println(&quot;......................................&quot;);\r\n        }\r\n    }\r\n\r\nReason why I am writing, is that I am under impression that this code when iterating and adding to collections add and remove, could be written better (eg. perform faster).\r\nAny suggestions?","title":"code improvement when collecting elements for add and removal","body":"<p>I made a little program for testing, where I collect elements for add and removal. Below is a list of the test cases, where &quot;current&quot; and &quot;new&quot; are given parameters, and sign &quot;=&gt;&quot; is expected result of add and remove collection:</p>\n<pre><code>current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\ncurrent[code1,code2]       ; new[]             =&gt; remove[code1,code2]\ncurrent[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\ncurrent[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\ncurrent[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\n</code></pre>\n<p>Below is my code which works fine with expected results above:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; currentList = new ArrayList&lt;&gt;();\n        List&lt;String&gt; newList = new ArrayList&lt;&gt;();\n\n        currentList.clear();\n        newList.clear();\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        newList.addAll(Arrays.asList(&quot;code3&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;, &quot;code3&quot;));\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code3&quot;));\n        test(currentList, newList);\n    }\n\n    // Test cases:\n    // current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\n    // current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\n    // current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\n    // current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\n    // current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\n    public static void test(List&lt;String&gt; currentCodes, List&lt;String&gt; newCodes) {\n        System.out.println(&quot;current&quot; + currentCodes + &quot; ; new&quot; + newCodes);\n\n        List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;();\n        for (String currentCode : currentCodes) {\n            if (!newCodes.contains(currentCode)) {\n                // just a note: call some service\n                codesToRemove.add(currentCode);\n            }\n        }\n\n        List&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;();\n        for (String newCode : newCodes) {\n            if (!currentCodes.contains(newCode)) {\n                // just a note: call some service\n                codesToAdd.add(newCode);\n            }\n        }\n\n        System.out.println(&quot;removeResult&quot; + codesToRemove);\n        System.out.println(&quot;addResult&quot; + codesToAdd);\n        System.out.println(&quot;......................................&quot;);\n    }\n}\n</code></pre>\n<p>Reason why I am writing, is that I am under impression that this code when iterating and adding to collections add and remove, could be written better (eg. perform faster).\nAny suggestions?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1429542248,"post_id":29751416,"comment_id":47635091,"body_markdown":"Not sure whether [`Order`](http://docs.spring.io/spring-framework/docs/3.2.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html) annotation will affect handler mapping logic (you can give it a try). If not, you can map to a different URL and implement some sort of rewriting (e.g. via [URLRewriteFilter](http://tuckey.org/urlrewrite/)).","body":"Not sure whether <a href=\"http://docs.spring.io/spring-framework/docs/3.2.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\"><code>Order</code></a> annotation will affect handler mapping logic (you can give it a try). If not, you can map to a different URL and implement some sort of rewriting (e.g. via <a href=\"http://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">URLRewriteFilter</a>)."},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1429543127,"post_id":29751416,"comment_id":47635774,"body_markdown":"Have to correct myself - `Order` won&#39;t work because duplicate mapping is not allowed in Spring (as Jordi pointed out in his answer).","body":"Have to correct myself - <code>Order</code> won&#39;t work because duplicate mapping is not allowed in Spring (as Jordi pointed out in his answer)."}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1429542915,"creation_date":1429542614,"answer_id":29751684,"question_id":29751416,"body_markdown":"**Each mapping must be unique.**. There is no way to overrule an existing `@RequestMapping`. \r\n\r\n----------------------\r\n\r\n&lt;br&gt;\r\n**BUT** You can always do some workarounds:\r\n\r\nUse a param in the request like this will create a new `@RequestMapping` that will differ from the existing one. \r\n\r\n    @RequestMapping(&quot;/helloWorld/{someDataId}&quot;, method = RequestMethod.GET)\r\n    public String helloWorld(@PathVariable(&quot;someDataId&quot;) final long id, Model model) {\r\n     /* your code here */ \r\n    }\r\n\r\n\r\nOr creating another `@Controller` extending the existing one: \r\n\r\n    public class YourController extends BaseController {\r\n    \r\n        @Override\r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public void renderDashboard(Model model){\r\n            // Call to default functionallity (if you want...)\r\n            super.renderDashboard(patientId, map);\r\n        }\r\n    }   \r\n      ","title":"How to override @RequestMapping in another controller?","body":"<p><strong>Each mapping must be unique.</strong>. There is no way to overrule an existing <code>@RequestMapping</code>. </p>\n\n<hr>\n\n<p><br>\n<strong>BUT</strong> You can always do some workarounds:</p>\n\n<p>Use a param in the request like this will create a new <code>@RequestMapping</code> that will differ from the existing one. </p>\n\n<pre><code>@RequestMapping(\"/helloWorld/{someDataId}\", method = RequestMethod.GET)\npublic String helloWorld(@PathVariable(\"someDataId\") final long id, Model model) {\n /* your code here */ \n}\n</code></pre>\n\n<p>Or creating another <code>@Controller</code> extending the existing one: </p>\n\n<pre><code>public class YourController extends BaseController {\n\n    @Override\n    @RequestMapping(\"/helloWorld\")\n    public void renderDashboard(Model model){\n        // Call to default functionallity (if you want...)\n        super.renderDashboard(patientId, map);\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1479220771,"creation_date":1429607605,"answer_id":29767812,"question_id":29751416,"body_markdown":"Url mapping as annotation can not be overridden. You will get an error if two or more Controllers are configured with the same request url and request method. \r\n\r\nWhat you can do is to extend the request mapping:\r\n\r\n    @Controller\r\n    public class MyHelloWorldController {\r\n\r\n        @RequestMapping(&quot;/helloWorld&quot;, params = { &quot;type=42&quot; })\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World from my new controller&quot;);\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n\r\n    }\r\n\r\nExample: Now if you call **yourhost/helloWorld?type=42** `MyHelloWorldController` will response the request\r\n\r\n---------------------------------\r\n\r\nBy the way.\r\nController should not be a dynamic content provider. You need a `@Service` instance. So you can implement Controller once and use multiple Service implementation. This is the main idea of [Spring MVC and DI][1]\r\n\r\n    @Controller\r\n    public class HelloWorldController {\r\n\r\n        @Autowired\r\n        private MessageService _messageService; // -&gt; new MessageServiceImpl1() or new MessageServiceImpl2() ...\r\n\r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, messageService.getMessage());\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping","title":"How to override @RequestMapping in another controller?","body":"<p>Url mapping as annotation can not be overridden. You will get an error if two or more Controllers are configured with the same request url and request method. </p>\n\n<p>What you can do is to extend the request mapping:</p>\n\n<pre><code>@Controller\npublic class MyHelloWorldController {\n\n    @RequestMapping(\"/helloWorld\", params = { \"type=42\" })\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World from my new controller\");\n        return \"helloWorld\";\n    }\n\n}\n</code></pre>\n\n<p>Example: Now if you call <strong>yourhost/helloWorld?type=42</strong> <code>MyHelloWorldController</code> will response the request</p>\n\n<hr>\n\n<p>By the way.\nController should not be a dynamic content provider. You need a <code>@Service</code> instance. So you can implement Controller once and use multiple Service implementation. This is the main idea of <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping\" rel=\"noreferrer\">Spring MVC and DI</a></p>\n\n<pre><code>@Controller\npublic class HelloWorldController {\n\n    @Autowired\n    private MessageService _messageService; // -&gt; new MessageServiceImpl1() or new MessageServiceImpl2() ...\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", messageService.getMessage());\n        return \"helloWorld\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3355359,"reputation":41,"user_id":9457688,"display_name":"Bruce Grobler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520490589,"creation_date":1520438532,"answer_id":49156303,"question_id":29751416,"body_markdown":"Here is another workaround, that may or may not be dangerous.\r\n\r\nCreate the below class &quot;MyRequestMappingHandler&quot;, then wire it up in your MvcConfig \r\n\r\n\r\n\r\n\t@Bean\r\n\tpublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n\r\n\t\treturn new MyRequestMappingHandler();\r\n\t}\r\n\r\n\r\nRequestMappingHandlerMapping: *** THIS IS NOT PRODUCTION CODE - UP TO YOU ***\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.aop.support.AopUtils;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.servlet.mvc.method.RequestMappingInfo;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n \r\n    public class MyRequestMappingHandler extends RequestMappingHandlerMapping {\r\n\r\n\t@Override\r\n\tprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n\r\n\t\t    RequestMappingInfo mappingForMethod = super.getMappingForMethod(method, handlerType);\r\n\r\n            // Check if this class extends a super. and that super is annotated with @Controller.\r\n\t\t    Class superClass = handlerType.getSuperclass();\r\n\r\n\t\t    if (superClass.isAnnotationPresent(Controller.class)) {\r\n\t\t\t    // We have a super class controller.\r\n\r\n\t\t\t    if (handlerType.isAnnotationPresent(Primary.class)) {\r\n\t\t\t\t// We have a @Primary on the child.\r\n\t\t\t\treturn mappingForMethod;\r\n\t\t\t    }\r\n\t\t    } else {\r\n\t\t\t    // We do not have a super class, therefore we need to look for other implementations of this class.\r\n\t\t\t    Map&lt;String, Object&gt; controllerBeans = getApplicationContext().getBeansWithAnnotation(Controller.class);\r\n\r\n\t\t\t    List&lt;Map.Entry&lt;String, Object&gt;&gt; classesExtendingHandler = controllerBeans.entrySet().stream().filter(e -&gt;\r\n\t\t\t\t\tAopUtils.getTargetClass(e.getValue()).getSuperclass().getName().equalsIgnoreCase(handlerType\r\n\t\t\t\t\t\t\t.getName()) &amp;&amp;\r\n\t\t\t\t\t\t\t!AopUtils.getTargetClass(e.getValue()).getName().equalsIgnoreCase(handlerType.getName()))\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\r\n\t\t\t    if (classesExtendingHandler == null || classesExtendingHandler.isEmpty()) {\r\n\t\t\t\t    // No classes extend this handler, therefore it is the only one.\r\n\t\t\t\t    return mappingForMethod;\r\n\t\t\t    } else {\r\n\t\t\t\t    // Classes extend this handler,\r\n\r\n\t\t\t\t    // If this handler is marked with @Primary and no others are then return info;\r\n\t\t\t\t    List&lt;Map.Entry&lt;String, Object&gt;&gt; classesWithPrimary = classesExtendingHandler\r\n\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t.filter(e -&gt; e.getValue().getClass().isAnnotationPresent(Primary.class) &amp;&amp;\r\n\t\t\t\t\t\t\t\t!AopUtils.getTargetClass(e.getValue().getClass()).getName().equalsIgnoreCase\r\n\t\t\t\t\t\t\t\t\t\t(handlerType.getName()))\r\n\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\t\t    if (classesWithPrimary == null || classesWithPrimary.isEmpty()) {\r\n\t\t\t\t\t    // No classes are marked with primary.\r\n\t\t\t\t\t    return null;\r\n\t\t\t\t    } else {\r\n\t\t\t\t\t    // One or more classes are marked with @Primary,\r\n\r\n\t\t\t\t\t    if (classesWithPrimary.size() == 1 &amp;&amp; AopUtils.getTargetClass(classesWithPrimary.get(0).getValue\r\n\t\t\t\t\t\t\t()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\r\n\t\t\t\t\t\t    // We have only one and it is this one, return it.\r\n\t\t\t\t\t\t    return mappingForMethod;\r\n\t\t\t\t\t    } else if (classesWithPrimary.size() == 1 &amp;&amp; !AopUtils.getTargetClass(classesWithPrimary.get(0)\r\n\t\t\t\t\t\t\t.getValue()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\r\n\t\t\t\t\t\t    // Nothing.\r\n\t\t\t\t\t    } else {\r\n\t\t\t\t\t\t    // nothing.\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t  \t    }\r\n\r\n\r\n\r\n\t\t    // If it does, and it is marked with @Primary, then return info.\r\n\r\n\t\t    // else If it does not extend a super with @Controller and there are no children, then return info;\r\n\r\n\t     \treturn null;\r\n\t    }\r\n    }\r\n\r\n\r\nWhat this allows you to do is, extend a @Controller class, and mark it with @Primary, and override a method on that class, your new class will now be loaded up when spring starts up instead of blowing up with &quot;multiple beans / request mappings etc&quot;\r\n\r\n\r\nExample of &quot;super&quot; Controller : \r\n\r\n    @Controller \r\n    public class Foobar {\r\n \r\n        @RequestMapping(method = &quot;GET&quot;)\r\n        private String index() {\r\n          return &quot;view&quot;;\r\n        }\r\n\r\n    } \r\n\r\nExample of implementation :\r\n\r\n    @Primary\r\n    @Controller \r\n    public class MyFoobar extends Foobar {\r\n       \r\n        @Override\r\n        private String index() {\r\n          return &quot;myView&quot;;\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to override @RequestMapping in another controller?","body":"<p>Here is another workaround, that may or may not be dangerous.</p>\n\n<p>Create the below class \"MyRequestMappingHandler\", then wire it up in your MvcConfig </p>\n\n<pre><code>@Bean\npublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\n\n    return new MyRequestMappingHandler();\n}\n</code></pre>\n\n<p>RequestMappingHandlerMapping: <strong>* THIS IS NOT PRODUCTION CODE - UP TO YOU *</strong></p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.aop.support.AopUtils;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.servlet.mvc.method.RequestMappingInfo;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport java.lang.reflect.Method;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class MyRequestMappingHandler extends RequestMappingHandlerMapping {\n\n@Override\nprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n\n        RequestMappingInfo mappingForMethod = super.getMappingForMethod(method, handlerType);\n\n        // Check if this class extends a super. and that super is annotated with @Controller.\n        Class superClass = handlerType.getSuperclass();\n\n        if (superClass.isAnnotationPresent(Controller.class)) {\n            // We have a super class controller.\n\n            if (handlerType.isAnnotationPresent(Primary.class)) {\n            // We have a @Primary on the child.\n            return mappingForMethod;\n            }\n        } else {\n            // We do not have a super class, therefore we need to look for other implementations of this class.\n            Map&lt;String, Object&gt; controllerBeans = getApplicationContext().getBeansWithAnnotation(Controller.class);\n\n            List&lt;Map.Entry&lt;String, Object&gt;&gt; classesExtendingHandler = controllerBeans.entrySet().stream().filter(e -&gt;\n                AopUtils.getTargetClass(e.getValue()).getSuperclass().getName().equalsIgnoreCase(handlerType\n                        .getName()) &amp;&amp;\n                        !AopUtils.getTargetClass(e.getValue()).getName().equalsIgnoreCase(handlerType.getName()))\n                .collect(Collectors.toList());\n\n\n            if (classesExtendingHandler == null || classesExtendingHandler.isEmpty()) {\n                // No classes extend this handler, therefore it is the only one.\n                return mappingForMethod;\n            } else {\n                // Classes extend this handler,\n\n                // If this handler is marked with @Primary and no others are then return info;\n                List&lt;Map.Entry&lt;String, Object&gt;&gt; classesWithPrimary = classesExtendingHandler\n                    .stream()\n                    .filter(e -&gt; e.getValue().getClass().isAnnotationPresent(Primary.class) &amp;&amp;\n                            !AopUtils.getTargetClass(e.getValue().getClass()).getName().equalsIgnoreCase\n                                    (handlerType.getName()))\n                    .collect(Collectors.toList());\n                if (classesWithPrimary == null || classesWithPrimary.isEmpty()) {\n                    // No classes are marked with primary.\n                    return null;\n                } else {\n                    // One or more classes are marked with @Primary,\n\n                    if (classesWithPrimary.size() == 1 &amp;&amp; AopUtils.getTargetClass(classesWithPrimary.get(0).getValue\n                        ()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\n                        // We have only one and it is this one, return it.\n                        return mappingForMethod;\n                    } else if (classesWithPrimary.size() == 1 &amp;&amp; !AopUtils.getTargetClass(classesWithPrimary.get(0)\n                        .getValue()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\n                        // Nothing.\n                    } else {\n                        // nothing.\n                    }\n                }\n            }\n        }\n\n\n\n        // If it does, and it is marked with @Primary, then return info.\n\n        // else If it does not extend a super with @Controller and there are no children, then return info;\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>What this allows you to do is, extend a @Controller class, and mark it with @Primary, and override a method on that class, your new class will now be loaded up when spring starts up instead of blowing up with \"multiple beans / request mappings etc\"</p>\n\n<p>Example of \"super\" Controller : </p>\n\n<pre><code>@Controller \npublic class Foobar {\n\n    @RequestMapping(method = \"GET\")\n    private String index() {\n      return \"view\";\n    }\n\n} \n</code></pre>\n\n<p>Example of implementation :</p>\n\n<pre><code>@Primary\n@Controller \npublic class MyFoobar extends Foobar {\n\n    @Override\n    private String index() {\n      return \"myView\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946958,"creation_date":1637946958,"answer_id":70127945,"question_id":29751416,"body_markdown":"You can dynamically (on application startup) deregister the existing handler methods from the `RequestMappingHandlerMapping`, and register your (new) handler method instead. \r\nThis could be done as follows:\r\n\r\n```java\r\nclass ApplicationConfig {\r\n\r\n    @Bean\r\n    NewController newController() {\r\n        return new NewController();\r\n    }\r\n\r\n    @Autowired\r\n    public void registerOverriddenControllerEndpoint(final RequestMappingHandlerMapping handlerMapping,\r\n            final NewController controller) throws NoSuchMethodException {\r\n\r\n        final RequestMappingInfo mapping = RequestMappingInfo.paths(&quot;path/to/be/overridden&quot;)\r\n           .methods(RequestMethod.GET) // or any other request method\r\n           .build();\r\n\r\n        handlerMapping.unregisterMapping(mapping);\r\n        Class[] argTypes = new Class[]{/* The parameter types needed for the &#39;methodThatHandlesTheEndpoint&#39; method */};\r\n        handlerMapping.registerMapping(mapping, controller, NewController.class.getMethod(&quot;methodThatHandlesTheEndpoint&quot;, argTypes));\r\n    }\r\n}\r\n```\r\nThis means, that I have now two methods with the same mapping:\r\n```java\r\nclass ExistingController {\r\n   // This will be now ignored\r\n   @GetMapping(&quot;path/to/be/overridden&quot;)\r\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\r\n   }\r\n}\r\n```\r\nand\r\n```java\r\nclass NewController {\r\n   // This will be now the main handler\r\n   @GetMapping(&quot;path/to/be/overridden&quot;)\r\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\r\n   }\r\n}\r\n```","title":"How to override @RequestMapping in another controller?","body":"<p>You can dynamically (on application startup) deregister the existing handler methods from the <code>RequestMappingHandlerMapping</code>, and register your (new) handler method instead.\nThis could be done as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationConfig {\n\n    @Bean\n    NewController newController() {\n        return new NewController();\n    }\n\n    @Autowired\n    public void registerOverriddenControllerEndpoint(final RequestMappingHandlerMapping handlerMapping,\n            final NewController controller) throws NoSuchMethodException {\n\n        final RequestMappingInfo mapping = RequestMappingInfo.paths(&quot;path/to/be/overridden&quot;)\n           .methods(RequestMethod.GET) // or any other request method\n           .build();\n\n        handlerMapping.unregisterMapping(mapping);\n        Class[] argTypes = new Class[]{/* The parameter types needed for the 'methodThatHandlesTheEndpoint' method */};\n        handlerMapping.registerMapping(mapping, controller, NewController.class.getMethod(&quot;methodThatHandlesTheEndpoint&quot;, argTypes));\n    }\n}\n</code></pre>\n<p>This means, that I have now two methods with the same mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExistingController {\n   // This will be now ignored\n   @GetMapping(&quot;path/to/be/overridden&quot;)\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\n   }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NewController {\n   // This will be now the main handler\n   @GetMapping(&quot;path/to/be/overridden&quot;)\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":242419,"reputation":4071,"user_id":513919,"accept_rate":75,"display_name":"Victor Ribeiro da Silva Eloy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40431,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":29767812,"answer_count":4,"score":30,"last_activity_date":1637946958,"creation_date":1429541932,"question_id":29751416,"body_markdown":"I need to extend an existing controller and add some functionality to it. But as a project requirement I can&#39;t touch in the original controller, the problem is that this controller have an `@RequestMapping` annotation on it. So my question is how can I make requests to `/someUrl` go to my new controller instead of the old one.\r\n\r\nhere is a example just to clarify what I&#39;m talking about:\r\n\r\nOriginal controller:\r\n\r\n    @Controller\r\n    public class HelloWorldController {\r\n    \r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n    }\r\n\r\n\r\nnew Controller:\r\n\r\n    @Controller\r\n    public class MyHelloWorldController {\r\n    \r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World from my new controller&quot;);\r\n            // a lot of new logic\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n    }\r\n\r\nhow can I override the original mapping without editing `HelloWorldController`?","title":"How to override @RequestMapping in another controller?","body":"<p>I need to extend an existing controller and add some functionality to it. But as a project requirement I can't touch in the original controller, the problem is that this controller have an <code>@RequestMapping</code> annotation on it. So my question is how can I make requests to <code>/someUrl</code> go to my new controller instead of the old one.</p>\n\n<p>here is a example just to clarify what I'm talking about:</p>\n\n<p>Original controller:</p>\n\n<pre><code>@Controller\npublic class HelloWorldController {\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World!\");\n        return \"helloWorld\";\n    }\n}\n</code></pre>\n\n<p>new Controller:</p>\n\n<pre><code>@Controller\npublic class MyHelloWorldController {\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World from my new controller\");\n        // a lot of new logic\n        return \"helloWorld\";\n    }\n}\n</code></pre>\n\n<p>how can I override the original mapping without editing <code>HelloWorldController</code>?</p>\n"},{"tags":["java","selenium-webdriver","shadow-dom"],"answers":[{"tags":[],"owner":{"account_id":3533449,"reputation":11,"user_id":2952339,"display_name":"Dodge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637438376,"creation_date":1637438376,"answer_id":70049422,"question_id":70040330,"body_markdown":"\r\nHere&#39;s my own solution in case it helps someone:\r\n\r\n1. download automation-0.1.3.jar from maven and add to project. see\r\nhttps://github.com/sukgu/shadow-automation-selenium/wiki\r\n2. new code:\r\n\r\n\t\t\t\t Shadow shadow = new Shadow(driver);\r\n\t\t\t\t  \r\n\t\t\t\t WebElement myWebElement=shadow.findElement(&quot;div.content&quot;);","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>Here's my own solution in case it helps someone:</p>\n<ol>\n<li><p>download automation-0.1.3.jar from maven and add to project. see\n<a href=\"https://github.com/sukgu/shadow-automation-selenium/wiki\" rel=\"nofollow noreferrer\">https://github.com/sukgu/shadow-automation-selenium/wiki</a></p>\n</li>\n<li><p>new code:</p>\n<pre><code>          Shadow shadow = new Shadow(driver);\n\n          WebElement myWebElement=shadow.findElement(&quot;div.content&quot;);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6773755,"reputation":1,"user_id":5216295,"display_name":"Domino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637759484,"creation_date":1637759484,"answer_id":70096709,"question_id":70040330,"body_markdown":"Instead of &quot;children&quot; use &quot;childNodes&quot;.\r\n\r\nExamples: [https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples][1]\r\n\r\n    List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\r\n                .executeScript(&quot;return arguments[0].shadowRoot.childNodes&quot;, element);\r\n                    return eleList.get(0);\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>Instead of &quot;children&quot; use &quot;childNodes&quot;.</p>\n<p>Examples: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples</a></p>\n<pre><code>List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\n            .executeScript(&quot;return arguments[0].shadowRoot.childNodes&quot;, element);\n                return eleList.get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5074573,"reputation":4134,"user_id":4072371,"display_name":"titusfortner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946880,"creation_date":1637946880,"answer_id":70127934,"question_id":70040330,"body_markdown":"You can&#39;t cast to `WebElement` any longer, it needs to be `SearchContext` (this works for all versions of Chrome, not just Chrome 96).\r\n\r\nRead all the details here: https://titusfortner.com/2021/11/22/shadow-dom-selenium.html","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>You can't cast to <code>WebElement</code> any longer, it needs to be <code>SearchContext</code> (this works for all versions of Chrome, not just Chrome 96).</p>\n<p>Read all the details here: <a href=\"https://titusfortner.com/2021/11/22/shadow-dom-selenium.html\" rel=\"nofollow noreferrer\">https://titusfortner.com/2021/11/22/shadow-dom-selenium.html</a></p>\n"}],"owner":{"account_id":3533449,"reputation":11,"user_id":2952339,"display_name":"Dodge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1637946880,"creation_date":1637352009,"question_id":70040330,"body_markdown":"I&#39;m trying to access the shadow root DOM on a web page using Java with Selenium and Chrome Webdriver. Up until today, I&#39;ve been doing this successfully using the following line\r\n\r\n    WebElement ele = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\r\n\r\nHowever, after Google Chrome updated itself today, I was forced to update Chrome Webdriver, and now I get the following exception:\r\n\r\nError: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader &#39;app&#39;)\r\n\r\nMy configuration is\r\nGoogle Chrome  96.0.4664.45,\r\nSelenium 4.0, \r\nEclipse 4.21.0/JDK jdk-15.0.2\r\n\r\nI can avoid an exception by doing this:\r\n\r\n    List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\r\n    \t\t\t\t.executeScript(&quot;return arguments[0].shadowRoot.children&quot;, element);\r\n    \t\t\t\t\treturn eleList.get(0);\r\n\r\nbut it doesn&#39;t open up the shadow root element for me. Any suggestions?","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>I'm trying to access the shadow root DOM on a web page using Java with Selenium and Chrome Webdriver. Up until today, I've been doing this successfully using the following line</p>\n<pre><code>WebElement ele = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\n</code></pre>\n<p>However, after Google Chrome updated itself today, I was forced to update Chrome Webdriver, and now I get the following exception:</p>\n<p>Error: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader 'app')</p>\n<p>My configuration is\nGoogle Chrome  96.0.4664.45,\nSelenium 4.0,\nEclipse 4.21.0/JDK jdk-15.0.2</p>\n<p>I can avoid an exception by doing this:</p>\n<pre><code>List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\n                .executeScript(&quot;return arguments[0].shadowRoot.children&quot;, element);\n                    return eleList.get(0);\n</code></pre>\n<p>but it doesn't open up the shadow root element for me. Any suggestions?</p>\n"},{"tags":["java","websocket","socket.io","aws-api-gateway","netty-socketio"],"comments":[{"owner":{"account_id":8154308,"reputation":141,"user_id":8260652,"display_name":"Daniil Volkov"},"score":0,"creation_date":1637951645,"post_id":67022625,"comment_id":123967749,"body_markdown":"Did you solve it? In case yes, please share the solution. Faced into the same issue","body":"Did you solve it? In case yes, please share the solution. Faced into the same issue"}],"owner":{"account_id":15267628,"reputation":147,"user_id":11015715,"display_name":"Trupti Prajapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637946801,"creation_date":1617977268,"question_id":67022625,"body_markdown":"I have implemented Socket.io in the backend with netty SocketIO in java spring boot. And client connects to WebSocket using\r\nws://{server.ip.address}:5291/socket/?transport=websocket \r\nhttp://{server.ip.address}:5291/socket/?transport=websocket \r\n\r\nThese both work as expected. \r\nNow I have configured WebSocket on API gateway with HTTP integration. \r\n\r\n[![WebSocket Connet][1]][1]\r\n\r\nAnd trying to connect using a gateway URL \r\nwss://{app-id}.execute-api.{region}.amazonaws.com/{stage}/?transport=websocket\r\n\r\nBut it gives error: Execution failed due to configuration error: Unexpected response: HTTP/1.1 101 Switching Protocols\r\n\r\nI have tried to diable proxy and enable Add Integration reponse option-&gt; on Integration reposne add the response key &#39;/101/&#39; but nothing woked. \r\n\r\nAlso Route Response seems disabled.\r\n\r\nCan Anyone tell me how to overcome from this issue and where I have to set respose code 101?\r\n\r\nDo I need to change anyhting in Backend code for API gateway?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Vz7y.png","title":"AWS API Gateway WebSocket Error: Unexpected response: HTTP/1.1 101 Switching Protocols","body":"<p>I have implemented Socket.io in the backend with netty SocketIO in java spring boot. And client connects to WebSocket using\nws://{server.ip.address}:5291/socket/?transport=websocket\nhttp://{server.ip.address}:5291/socket/?transport=websocket</p>\n<p>These both work as expected.\nNow I have configured WebSocket on API gateway with HTTP integration.</p>\n<p><a href=\"https://i.stack.imgur.com/1Vz7y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Vz7y.png\" alt=\"WebSocket Connet\" /></a></p>\n<p>And trying to connect using a gateway URL\nwss://{app-id}.execute-api.{region}.amazonaws.com/{stage}/?transport=websocket</p>\n<p>But it gives error: Execution failed due to configuration error: Unexpected response: HTTP/1.1 101 Switching Protocols</p>\n<p>I have tried to diable proxy and enable Add Integration reponse option-&gt; on Integration reposne add the response key '/101/' but nothing woked.</p>\n<p>Also Route Response seems disabled.</p>\n<p>Can Anyone tell me how to overcome from this issue and where I have to set respose code 101?</p>\n<p>Do I need to change anyhting in Backend code for API gateway?</p>\n"},{"tags":["java","sonarqube","unused-variables"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1637942758,"post_id":70127143,"comment_id":123965154,"body_markdown":"`s = reader.readLine()` is assigning `s`, but after it is assigned it isn&#39;t used anywhere, because the while loop does nothing with that assigned value. You could just as well delete the variable and just do `while (reader.readLine() != null)` and the code would work exactly the same. That&#39;s why it is considered unused.","body":"<code>s = reader.readLine()</code> is assigning <code>s</code>, but after it is assigned it isn&#39;t used anywhere, because the while loop does nothing with that assigned value. You could just as well delete the variable and just do <code>while (reader.readLine() != null)</code> and the code would work exactly the same. That&#39;s why it is considered unused."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637942848,"post_id":70127143,"comment_id":123965178,"body_markdown":"Isn&#39;t it used while checking `!= null`","body":"Isn&#39;t it used while checking <code>!= null</code>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1637942866,"post_id":70127143,"comment_id":123965184,"body_markdown":"`while (reader.readLine() != null){}` achieves the same result but without an unused local variable","body":"<code>while (reader.readLine() != null){}</code> achieves the same result but without an unused local variable"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943067,"post_id":70127143,"comment_id":123965253,"body_markdown":"@OHGODSPIDERS I edited it to make my doubt more clear","body":"@OHGODSPIDERS I edited it to make my doubt more clear"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637943221,"post_id":70127143,"comment_id":123965307,"body_markdown":"Still, the point of sonarqube is to detect that this variable is useless, the code can be reduced to my comment without any other adverse effects. `s` is never to used to assign it to anyhting else. The second snippet is too complex for sonarqube to understand. This is not a false positive but a very good normal positive and you should change your code to my comment or actually use `s` or drop the method entirely. Depends on what you actually want the method to do.","body":"Still, the point of sonarqube is to detect that this variable is useless, the code can be reduced to my comment without any other adverse effects. <code>s</code> is never to used to assign it to anyhting else. The second snippet is too complex for sonarqube to understand. This is not a false positive but a very good normal positive and you should change your code to my comment or actually use <code>s</code> or drop the method entirely. Depends on what you actually want the method to do."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637943341,"post_id":70127143,"comment_id":123965344,"body_markdown":"`(s = reader.readLine()) != null`  is not using/reading the variable `s`, it is the result of the assignment expression that is compared to `null` (I wonder how you do consider you first example as a false positive (obviously there is no use for `s`; which is not the case for all other examples (including following comment))","body":"<code>(s = reader.readLine()) != null</code>  is not using/reading the variable <code>s</code>, it is the result of the assignment expression that is compared to <code>null</code> (I wonder how you do consider you first example as a false positive (obviously there is no use for <code>s</code>; which is not the case for all other examples (including following comment))"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943396,"post_id":70127143,"comment_id":123965370,"body_markdown":"So other examples where a boolean is just used as a flag and never updated are not FP&#39;s. eg- `boolean a = true; if(a) {}` here a is not considered as unused.","body":"So other examples where a boolean is just used as a flag and never updated are not FP&#39;s. eg- <code>boolean a = true; if(a) {}</code> here a is not considered as unused."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637943585,"post_id":70127143,"comment_id":123965425,"body_markdown":"but `if ((a = true) == true) {}` makes `a` unused.","body":"but <code>if ((a = true) == true) {}</code> makes <code>a</code> unused."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943801,"post_id":70127143,"comment_id":123965492,"body_markdown":"@user16320675 How it is not reading the variable `s`?","body":"@user16320675 How it is not reading the variable <code>s</code>?"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943933,"post_id":70127143,"comment_id":123965540,"body_markdown":"@user16320675 I am a bit confused can you explain in a more detailed way what you are trying to tell.","body":"@user16320675 I am a bit confused can you explain in a more detailed way what you are trying to tell."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637944158,"post_id":70127143,"comment_id":123965616,"body_markdown":"first explain how `(s = reader.readLine())`  is reading the value of `s` ? or better, using its stored value (not the value being stored into it that is, being assigned? (from a logical/processing view, obviously at the end it is the same value)","body":"first explain how <code>(s = reader.readLine())</code>  is reading the value of <code>s</code> ? or better, using its stored value (not the value being stored into it that is, being assigned? (from a logical/processing view, obviously at the end it is the same value)"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637944310,"post_id":70127143,"comment_id":123965670,"body_markdown":"it is not reading, this is just assignment, isn&#39;t it reading when compared to null, I mean to ask isn&#39;t `if((s = reader.readLine()) != null)` same as `s = reader.readLine(); if(s != null)`","body":"it is not reading, this is just assignment, isn&#39;t it reading when compared to null, I mean to ask isn&#39;t <code>if((s = reader.readLine()) != null)</code> same as <code>s = reader.readLine(); if(s != null)</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1637944760,"post_id":70127143,"comment_id":123965806,"body_markdown":"Oh man. You are not comparing `s` to `null`! You are comparing the value of the expression `(s = reader.readLine())` to `null`!","body":"Oh man. You are not comparing <code>s</code> to <code>null</code>! You are comparing the value of the expression <code>(s = reader.readLine())</code> to <code>null</code>!"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637944823,"post_id":70127143,"comment_id":123965822,"body_markdown":"Though I agree that (a) `s` counts as unused, and (b) there is no reason at all for the generated code to fetch the value of `s` after assigning it, it is nevertheless true that the result of the assignment is the value of the variable `s`.   From the [JLS](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26): *At run time, the result of the assignment expression is the value of the variable after the assignment has occurred*.  But pragmatically, I suggest taking the sonarcube recommendation as meaning &quot;there is no point to having this variable, so remove it&quot;.","body":"Though I agree that (a) <code>s</code> counts as unused, and (b) there is no reason at all for the generated code to fetch the value of <code>s</code> after assigning it, it is nevertheless true that the result of the assignment is the value of the variable <code>s</code>.   From the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26\" rel=\"nofollow noreferrer\">JLS</a>: <i>At run time, the result of the assignment expression is the value of the variable after the assignment has occurred</i>.  But pragmatically, I suggest taking the sonarcube recommendation as meaning &quot;there is no point to having this variable, so remove it&quot;."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637945675,"post_id":70127143,"comment_id":123966079,"body_markdown":"Logical point yes it is unused but at runtime, the variable is used, in the end, I think logical reasoning will stand out.","body":"Logical point yes it is unused but at runtime, the variable is used, in the end, I think logical reasoning will stand out."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637955616,"post_id":70127143,"comment_id":123968715,"body_markdown":"It is not &#39;used&#39;. See the [JLS](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5) for the distinction between &#39;assigned/initialized&#39; and &#39;used&#39;.  *A local variable (&#167;14.4, &#167;14.14) must be explicitly given a value before it is used, by either initialization (&#167;14.4) or assignment (&#167;15.26), in a way that can be verified using the rules for definite assignment (&#167;16 (Definite Assignment)).*  The quoted sentence would be vacuous if assigning a value counted as &#39;using&#39; the variable.","body":"It is not &#39;used&#39;. See the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">JLS</a> for the distinction between &#39;assigned/initialized&#39; and &#39;used&#39;.  <i>A local variable (&#167;14.4, &#167;14.14) must be explicitly given a value before it is used, by either initialization (&#167;14.4) or assignment (&#167;15.26), in a way that can be verified using the rules for definite assignment (&#167;16 (Definite Assignment)).</i>  The quoted sentence would be vacuous if assigning a value counted as &#39;using&#39; the variable."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637995201,"post_id":70127143,"comment_id":123974481,"body_markdown":"@user16632363 After reading the JLS links you mentioned I have come to some decisions. The variable `s` is used as it has been assigned a value during runtime and while comparing it to null i.e. `(s = reader.readLine()) != null` the assignment happens first and then the value is read as at run time, the result of the assignment expression is the value of the variable after the assignment has occurred. The result of an assignment expression is not itself a variable. So it will access the value of variable only to check, correct if I am wrong. Though `s` isn&#39;t of any use, it is used in boolean.","body":"@user16632363 After reading the JLS links you mentioned I have come to some decisions. The variable <code>s</code> is used as it has been assigned a value during runtime and while comparing it to null i.e. <code>(s = reader.readLine()) != null</code> the assignment happens first and then the value is read as at run time, the result of the assignment expression is the value of the variable after the assignment has occurred. The result of an assignment expression is not itself a variable. So it will access the value of variable only to check, correct if I am wrong. Though <code>s</code> isn&#39;t of any use, it is used in boolean."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1638006558,"post_id":70127143,"comment_id":123976193,"body_markdown":"NO. The variable is not used, the assignment returns the value assigned, but not the value of s, but the value that is assigned during assignment, it is the same value but it is not read from s. And therefore s is only ever assigned, never read, never compared, never used.","body":"NO. The variable is not used, the assignment returns the value assigned, but not the value of s, but the value that is assigned during assignment, it is the same value but it is not read from s. And therefore s is only ever assigned, never read, never compared, never used."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1638008488,"post_id":70127143,"comment_id":123976554,"body_markdown":"@luk2302 How are you saying that assignment returns the value assigned when it is mentioned that The result of an assignment expression is not itself a variable.","body":"@luk2302 How are you saying that assignment returns the value assigned when it is mentioned that The result of an assignment expression is not itself a variable."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1638022067,"post_id":70127143,"comment_id":123979215,"body_markdown":"Because when you write (for example) `x = y + z`, the generated code has the sum of `y` and `z` somewhere, probably a register.  The sum does not somehow vanish when a copy of the value is stored into `x`; and therefore that sum is available to further computations without have to be &quot;read&quot; from `x`.","body":"Because when you write (for example) <code>x = y + z</code>, the generated code has the sum of <code>y</code> and <code>z</code> somewhere, probably a register.  The sum does not somehow vanish when a copy of the value is stored into <code>x</code>; and therefore that sum is available to further computations without have to be &quot;read&quot; from <code>x</code>."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1638022742,"post_id":70127143,"comment_id":123979358,"body_markdown":"@user16632363 I really appreciate your time and effort but is this for sure true, I mean can you point out some documentation regarding it, actually I am unit testing and I need to be sure to add such a case.","body":"@user16632363 I really appreciate your time and effort but is this for sure true, I mean can you point out some documentation regarding it, actually I am unit testing and I need to be sure to add such a case."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1638022886,"post_id":70127143,"comment_id":123979389,"body_markdown":"In my opinion, [the link I posted before](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5) covers it.","body":"In my opinion, <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">the link I posted before</a> covers it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946733,"creation_date":1637946733,"answer_id":70127906,"question_id":70127143,"body_markdown":"For this code\r\n\r\n    void read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // unused local variable &#39;s&#39;\r\n        while ((s = reader.readLine()) != null) {\r\n        }\r\n    }\r\n\r\nThe variable `s` can be removed completely without side effects as shown below.\r\n\r\n    void read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        while ((reader.readLine()) != null) {\r\n        }\r\n    }\r\n\r\nThis is why these code analyzers will point out that the variable in question is never used. Setting a value in a variable is not enough to deem a variable as &quot;used&quot;. In the second snippet, the variable `s` can&#39;t be removed because it is used to make a decision:\r\n\r\n        while (s != null) {...}\r\n\r\nBecause of the line above, removing the variable will result in a compilation error. Therefore, the variable is an important part of the code.\r\n\r\n\r\n\r\n\r\n","title":"Unused local variable false positive","body":"<p>For this code</p>\n<pre><code>void read() throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    String s; // unused local variable 's'\n    while ((s = reader.readLine()) != null) {\n    }\n}\n</code></pre>\n<p>The variable <code>s</code> can be removed completely without side effects as shown below.</p>\n<pre><code>void read() throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    while ((reader.readLine()) != null) {\n    }\n}\n</code></pre>\n<p>This is why these code analyzers will point out that the variable in question is never used. Setting a value in a variable is not enough to deem a variable as &quot;used&quot;. In the second snippet, the variable <code>s</code> can't be removed because it is used to make a decision:</p>\n<pre><code>    while (s != null) {...}\n</code></pre>\n<p>Because of the line above, removing the variable will result in a compilation error. Therefore, the variable is an important part of the code.</p>\n"}],"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637946733,"creation_date":1637942638,"question_id":70127143,"body_markdown":"While using sonar lint version 6.3.0.39716, it reports the following variable as unused.\r\n```\r\nvoid read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // unused local variable &#39;s&#39;\r\n        while ((s = reader.readLine()) != null) {\r\n        }\r\n}\r\n```\r\nBut the variable `s` is used in the next line, should this be considered as unused as `s` is just assigned a value? &lt;br&gt;\r\nEdit-\r\nThis is not considered an unused local variable.\r\n```\r\nvoid read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // ok\r\n        s = reader.readLine();\r\n        while (s != null) {\r\n            s = reader.readLine();\r\n        }\r\n}\r\n\r\n```\r\nHere also s is just assigned value apart from being used in a boolean condition which it is used in the above case also.","title":"Unused local variable false positive","body":"<p>While using sonar lint version 6.3.0.39716, it reports the following variable as unused.</p>\n<pre><code>void read() throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String s; // unused local variable 's'\n        while ((s = reader.readLine()) != null) {\n        }\n}\n</code></pre>\n<p>But the variable <code>s</code> is used in the next line, should this be considered as unused as <code>s</code> is just assigned a value? <br>\nEdit-\nThis is not considered an unused local variable.</p>\n<pre><code>void read() throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String s; // ok\n        s = reader.readLine();\n        while (s != null) {\n            s = reader.readLine();\n        }\n}\n\n</code></pre>\n<p>Here also s is just assigned value apart from being used in a boolean condition which it is used in the above case also.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":7003534,"reputation":61,"user_id":5368761,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637945847,"creation_date":1637945847,"answer_id":70127735,"question_id":70127604,"body_markdown":"I understand you wan to create a producer and consumer on a Kafka topic. Have you checked https://www.baeldung.com/spring-cloud-stream","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>I understand you wan to create a producer and consumer on a Kafka topic. Have you checked <a href=\"https://www.baeldung.com/spring-cloud-stream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-stream</a></p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637946717,"creation_date":1637946717,"answer_id":70127901,"question_id":70127604,"body_markdown":"Kafka uses its own [binary protocol over TCP](https://kafka.apache.org/0100/protocol.html) for publishing messages to topics for polling messages with subscriptions.\r\nFor being able to connect to a Kafka cluster from a Spring Boot project, you may want to use [`spring-kafka`](https://docs.spring.io/spring-kafka/reference/html/) which provides an implementation for this protocol:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n  &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nA minimalist set-up for a publisher and a consumer can be found in the official [spring-kafka docs](https://docs.spring.io/spring-kafka/reference/html/#getting-started).","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>Kafka uses its own <a href=\"https://kafka.apache.org/0100/protocol.html\" rel=\"nofollow noreferrer\">binary protocol over TCP</a> for publishing messages to topics for polling messages with subscriptions.\nFor being able to connect to a Kafka cluster from a Spring Boot project, you may want to use <a href=\"https://docs.spring.io/spring-kafka/reference/html/\" rel=\"nofollow noreferrer\"><code>spring-kafka</code></a> which provides an implementation for this protocol:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n  &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A minimalist set-up for a publisher and a consumer can be found in the official <a href=\"https://docs.spring.io/spring-kafka/reference/html/#getting-started\" rel=\"nofollow noreferrer\">spring-kafka docs</a>.</p>\n"}],"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70127901,"answer_count":2,"score":1,"last_activity_date":1637946717,"creation_date":1637945063,"question_id":70127604,"body_markdown":"Please excuse the ambiguity as I&#39;m trying to be as clear as possible with the little knowledge that I have.\r\n\r\nWe have a Kafka cluster and the idea is to have a Spring Boot application to serve as the bridge between the Producers, Consumers and Kafka.\r\n\r\nI&#39;ve worked with simple REST, CRUD applications, in which I basically interact with the server on a request basis.\r\n\r\n---\r\n**Question:**\r\n\r\nHow do I go about creating a persistent connection between Spring and Kafka to send and receive messages?\r\n\r\nDoes the protocol matter?","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>Please excuse the ambiguity as I'm trying to be as clear as possible with the little knowledge that I have.</p>\n<p>We have a Kafka cluster and the idea is to have a Spring Boot application to serve as the bridge between the Producers, Consumers and Kafka.</p>\n<p>I've worked with simple REST, CRUD applications, in which I basically interact with the server on a request basis.</p>\n<hr />\n<p><strong>Question:</strong></p>\n<p>How do I go about creating a persistent connection between Spring and Kafka to send and receive messages?</p>\n<p>Does the protocol matter?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":2,"creation_date":1472125226,"post_id":39144136,"comment_id":65632534,"body_markdown":"To be honest, do you even want to test that? I would just create an additional profile, exclude the bean when that profile is used, use the profile in your integration tests and done. To test the `run()` method does what it should do you can always write an unit test, you don&#39;t have to start your application for that.","body":"To be honest, do you even want to test that? I would just create an additional profile, exclude the bean when that profile is used, use the profile in your integration tests and done. To test the <code>run()</code> method does what it should do you can always write an unit test, you don&#39;t have to start your application for that."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1472125467,"post_id":39144136,"comment_id":65632692,"body_markdown":"Also... you didn&#39;t show how you&#39;re starting the test, which gives us no clue about how you&#39;re trying to pass the arguments.","body":"Also... you didn&#39;t show how you&#39;re starting the test, which gives us no clue about how you&#39;re trying to pass the arguments."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1472125834,"post_id":39144136,"comment_id":65632948,"body_markdown":"I have updated the JUnit class from where the application is called.","body":"I have updated the JUnit class from where the application is called."},{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1472138378,"post_id":39144136,"comment_id":65641578,"body_markdown":"You should specify at leas one `command line` argument.","body":"You should specify at leas one <code>command line</code> argument."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1472185585,"post_id":39144136,"comment_id":65660019,"body_markdown":"@AntonNovopashin I want to provide, but that is the question all about. Where should I specify that. I can do it in eclipse when I run it there, but what about if I want to run this on a CI.","body":"@AntonNovopashin I want to provide, but that is the question all about. Where should I specify that. I can do it in eclipse when I run it there, but what about if I want to run this on a CI."}],"answers":[{"tags":[],"owner":{"account_id":1681659,"reputation":3633,"user_id":1545775,"display_name":"Maciej Marczuk"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1472154858,"creation_date":1472151124,"answer_id":39152753,"question_id":39144136,"body_markdown":"I&#39;m affraid that your solution will not work in a way that you presented (until you implement your own test framework for Spring).\r\n\r\nThis is because when you are running tests, Spring (its test `SpringBootContextLoader` to be more specific) runs your application in its own way. It instantiates `SpringApplication` and invokes its `run` method without any arguments. It also never uses your `main` method implemented in application.\r\n\r\nHowever, you could refactor your application in a way that it&#39;ll be possible to test it. \r\n\r\nI think (since you are using Spring) the easiest solution could be implemented using spring configuration properties instead of pure command line arguments. (But you should be aware that this solution should be used rather for &quot;configuration arguments&quot;, because that&#39;s the main purpose of springs `configuration properties` mechanism)\r\n\r\nReading parameters using `@Value` annotation:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n    \r\n    \t@Value(&quot;${myCustomArgs.customArg1}&quot;)\r\n    \tprivate String customArg1;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tAssert.notNull(customArg1);\r\n    \t\t//...\r\n    \t}\r\n    }\r\n\r\n\r\nSample test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest({&quot;myCustomArgs.customArg1=testValue&quot;})\r\n    public class CityApplicationTests {\r\n    \r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    }\r\n\r\nAnd when running your command line app just add your custom params:\r\n\r\n`--myCustomArgs.customArg1=testValue`\r\n\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I'm affraid that your solution will not work in a way that you presented (until you implement your own test framework for Spring).</p>\n\n<p>This is because when you are running tests, Spring (its test <code>SpringBootContextLoader</code> to be more specific) runs your application in its own way. It instantiates <code>SpringApplication</code> and invokes its <code>run</code> method without any arguments. It also never uses your <code>main</code> method implemented in application.</p>\n\n<p>However, you could refactor your application in a way that it'll be possible to test it. </p>\n\n<p>I think (since you are using Spring) the easiest solution could be implemented using spring configuration properties instead of pure command line arguments. (But you should be aware that this solution should be used rather for \"configuration arguments\", because that's the main purpose of springs <code>configuration properties</code> mechanism)</p>\n\n<p>Reading parameters using <code>@Value</code> annotation:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n\n    @Value(\"${myCustomArgs.customArg1}\")\n    private String customArg1;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        Assert.notNull(customArg1);\n        //...\n    }\n}\n</code></pre>\n\n<p>Sample test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest({\"myCustomArgs.customArg1=testValue\"})\npublic class CityApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n\n<p>And when running your command line app just add your custom params:</p>\n\n<p><code>--myCustomArgs.customArg1=testValue</code></p>\n"},{"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1472151638,"creation_date":1472151178,"answer_id":39152768,"question_id":39144136,"body_markdown":"I would leave SpringBoot out of the equation.\r\n\r\nYou simply need to test the `run` method, without going through Spring Boot, since your goal is not to test spring boot, isn&#39;t it ?\r\nI suppose, the purpose of this test is more for regression, ensuring that your application always throws an `IllegalArgumentException` when no args are provided? Good old unit test still works to test a single method:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ApplicationTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate Application app = new Application();\r\n    \r\n    \t@Mock\r\n    \tprivate Reader reader;\r\n    \t\r\n    \t@Mock\r\n    \tprivate Writer writer;\r\n    \t\r\n    \t@Test(expected = IllegalArgumentException.class)\r\n    \tpublic void testNoArgs() throws Exception {\r\n    \t\tapp.run();\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testWithArgs() throws Exception {\r\n    \t\tList list = new ArrayList();\r\n    \t\tlist.add(&quot;test&quot;);\r\n    \t\tMockito.when(reader.get(Mockito.anyString())).thenReturn(list);\r\n    \t\t\r\n    \t\tapp.run(&quot;myarg&quot;);\r\n    \t\t\r\n    \t\tMockito.verify(reader, VerificationModeFactory.times(1)).get(Mockito.anyString());\r\n    \t\tMockito.verify(writer, VerificationModeFactory.times(1)).write(list);\r\n    \t}\r\n    }\r\n\r\nI used Mockito to inject mocks for Reader and Writer:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.0&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I would leave SpringBoot out of the equation.</p>\n\n<p>You simply need to test the <code>run</code> method, without going through Spring Boot, since your goal is not to test spring boot, isn't it ?\nI suppose, the purpose of this test is more for regression, ensuring that your application always throws an <code>IllegalArgumentException</code> when no args are provided? Good old unit test still works to test a single method:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ApplicationTest {\n\n    @InjectMocks\n    private Application app = new Application();\n\n    @Mock\n    private Reader reader;\n\n    @Mock\n    private Writer writer;\n\n    @Test(expected = IllegalArgumentException.class)\n    public void testNoArgs() throws Exception {\n        app.run();\n    }\n\n    @Test\n    public void testWithArgs() throws Exception {\n        List list = new ArrayList();\n        list.add(\"test\");\n        Mockito.when(reader.get(Mockito.anyString())).thenReturn(list);\n\n        app.run(\"myarg\");\n\n        Mockito.verify(reader, VerificationModeFactory.times(1)).get(Mockito.anyString());\n        Mockito.verify(writer, VerificationModeFactory.times(1)).write(list);\n    }\n}\n</code></pre>\n\n<p>I used Mockito to inject mocks for Reader and Writer:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1409850,"reputation":974,"user_id":1336680,"display_name":"Philippe Sevestre"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1536126184,"creation_date":1486701904,"answer_id":42151694,"question_id":39144136,"body_markdown":"I&#180;ve managed to find a way to create Junit tests that worked fine with SpringBoot by injecting the ApplicationContext in my test and calling a CommandLineRunner with the required parameters.\r\n\r\nThe final code looks like that:\r\n\r\n    package my.package.\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class AsgardBpmClientApplicationIT {\r\n\t\r\n\t    @Autowired\r\n\t    ApplicationContext ctx;\r\n\r\n\t \t@Test\r\n\t    public void testRun() {\r\n\t\t    CommandLineRunner runner = ctx.getBean(CommandLineRunner.class);\r\n\t\t    runner.run ( &quot;-k&quot;, &quot;arg1&quot;, &quot;-i&quot;, &quot;arg2&quot;);\r\n\t    }\r\n\r\n    }\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I´ve managed to find a way to create Junit tests that worked fine with SpringBoot by injecting the ApplicationContext in my test and calling a CommandLineRunner with the required parameters.</p>\n\n<p>The final code looks like that:</p>\n\n<pre><code>package my.package.\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\nclass AsgardBpmClientApplicationIT {\n\n    @Autowired\n    ApplicationContext ctx;\n\n    @Test\n    public void testRun() {\n        CommandLineRunner runner = ctx.getBean(CommandLineRunner.class);\n        runner.run ( \"-k\", \"arg1\", \"-i\", \"arg2\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41716,"reputation":1091,"user_id":121324,"display_name":"itzg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488556941,"creation_date":1488556941,"answer_id":42583422,"question_id":39144136,"body_markdown":"As mentioned [in this answer](https://stackoverflow.com/a/39152753/121324), Spring Boot currently doesn&#39;t offer a way to intercept/replace the [DefaultApplicationArguments][1] that it uses. A natural-Boot-way that I used to solve this was to enhance my runner logic and use some autowired properties.\r\n\r\nFirst, I created a properties component:\r\n\r\n    @ConfigurationProperties(&quot;app&quot;) @Component @Data\r\n    public class AppProperties {\r\n        boolean failOnEmptyFileList = true;\r\n        boolean exitWhenFinished = true;\r\n    }\r\n\r\n...autowired the properties component into my runner:\r\n\r\n    @Service\r\n    public class Loader implements ApplicationRunner {\r\n    \r\n        private AppProperties properties;\r\n    \r\n        @Autowired\r\n        public Loader(AppProperties properties) {\r\n            this.properties = properties;\r\n        }\r\n        ...\r\n\r\n...and, in the `run` I only assert&#39;ed when that property is enabled, which is defaulted to `true` for normal application usage:\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        if (properties.isFailOnEmptyFileList()) {\r\n            Assert.notEmpty(args.getNonOptionArgs(), &quot;Pass at least one filename on the command line&quot;);\r\n        }\r\n\r\n        // ...do some loading of files and such\r\n\r\n        if (properties.isExitWhenFinished()) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\nWith that, I can tweak those properties to execute in a unit test friendly manner:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(properties = {\r\n            &quot;app.failOnEmptyFileList=false&quot;,\r\n            &quot;app.exitWhenFinished=false&quot;\r\n    })\r\n    public class InconsistentJsonApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }\r\n\r\nI needed the `exitWhenFinished` part since my particular runner normally calls `System.exit(0)` and exiting that way leaves the unit test in a semi-failed state.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/DefaultApplicationArguments.html\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>As mentioned <a href=\"https://stackoverflow.com/a/39152753/121324\">in this answer</a>, Spring Boot currently doesn't offer a way to intercept/replace the <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/DefaultApplicationArguments.html\" rel=\"nofollow noreferrer\">DefaultApplicationArguments</a> that it uses. A natural-Boot-way that I used to solve this was to enhance my runner logic and use some autowired properties.</p>\n\n<p>First, I created a properties component:</p>\n\n<pre><code>@ConfigurationProperties(\"app\") @Component @Data\npublic class AppProperties {\n    boolean failOnEmptyFileList = true;\n    boolean exitWhenFinished = true;\n}\n</code></pre>\n\n<p>...autowired the properties component into my runner:</p>\n\n<pre><code>@Service\npublic class Loader implements ApplicationRunner {\n\n    private AppProperties properties;\n\n    @Autowired\n    public Loader(AppProperties properties) {\n        this.properties = properties;\n    }\n    ...\n</code></pre>\n\n<p>...and, in the <code>run</code> I only assert'ed when that property is enabled, which is defaulted to <code>true</code> for normal application usage:</p>\n\n<pre><code>@Override\npublic void run(ApplicationArguments args) throws Exception {\n    if (properties.isFailOnEmptyFileList()) {\n        Assert.notEmpty(args.getNonOptionArgs(), \"Pass at least one filename on the command line\");\n    }\n\n    // ...do some loading of files and such\n\n    if (properties.isExitWhenFinished()) {\n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>With that, I can tweak those properties to execute in a unit test friendly manner:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(properties = {\n        \"app.failOnEmptyFileList=false\",\n        \"app.exitWhenFinished=false\"\n})\npublic class InconsistentJsonApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>I needed the <code>exitWhenFinished</code> part since my particular runner normally calls <code>System.exit(0)</code> and exiting that way leaves the unit test in a semi-failed state.</p>\n"},{"tags":[],"owner":{"account_id":4972328,"reputation":949,"user_id":3999686,"display_name":"Torsten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541763504,"creation_date":1532353584,"answer_id":51480361,"question_id":39144136,"body_markdown":"In your code autowire springs `ApplicationArguments`. Use `getSourceArgs()` to retrieve the commandline arguments.\r\n\r\n\tpublic CityApplicationService(ApplicationArguments args, Writer writer){\t\t\r\n\t\tpublic void writeFirstArg(){\r\n\t\t\twriter.write(args.getSourceArgs()[0]);\r\n\t\t}\r\n\t}\r\n\r\nIn your test mock the ApplicationArguments.\r\n\r\n\t@RunWith(SpringRunner.class)\r\n\t@SpringBootTest\r\n\tpublic class CityApplicationTests {\r\n\t@MockBean\r\n\tprivate ApplicationArguments args;\r\n\r\n\t\t@Test\r\n\t\tpublic void contextLoads() {\r\n\t\t\t// given\r\n\t\t\tMockito.when(args.getSourceArgs()).thenReturn(new String[]{&quot;Berlin&quot;});\r\n\t\t\t\r\n\t\t\t// when\r\n\t\t\tctx.getBean(CityApplicationService.class).writeFirstArg();\r\n\t\t\t\r\n\t\t\t// then\r\n\t\t\tMockito.verify(writer).write(Matchers.eq(&quot;Berlin&quot;));\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n----------\r\nLike *Maciej Marczuk* suggested, I also prefer to use Springs `Environment` properties instead of commandline arguments. But if you cannot use the springs syntax `--argument=value` you could write an own `PropertySource`, fill it with your commandline arguments syntax and add it to the `ConfigurableEnvironment`. Then all your classes only need to use springs Environment properties.\r\n\r\nE.g.\r\n\r\n\tpublic class ArgsPropertySource extends PropertySource&lt;Map&lt;String, String&gt;&gt; {\r\n\t\t\r\n\t\tArgsPropertySource(List&lt;CmdArg&gt; cmdArgs, List&lt;String&gt; arguments) {\r\n\t\t\tsuper(&quot;My special commandline arguments&quot;, new HashMap&lt;&gt;());\r\n\r\n\t\t\t// CmdArgs maps the property name to the argument value.\r\n\t\t\tcmdArgs.forEach(cmd -&gt; cmd.mapArgument(source, arguments));\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object getProperty(String name) {\r\n\t\t\treturn source.get(name);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\t\r\n\tpublic class SetupArgs {\r\n\t\t\r\n\t\tSetupArgs(ConfigurableEnvironment env, ArgsMapping mapping) {\t\t\t\r\n\t\t\t// In real world, this code would be in an own method.\r\n\t\t\tArgsPropertySource = new ArgsPropertySource(mapping.get(), args.getSourceArgs());\r\n\t\t\tenvironment\r\n\t\t\t\t.getPropertySources()\r\n\t\t\t\t.addFirst(propertySource);\r\n\t\t}\r\n    }\r\n\t\r\n\t\r\n----------\r\nBTW: \r\n\r\nSince I do not have enough reputation points to comment an answer, I would still like to leave a hard learned lesson here:\r\n\r\nThe `CommandlineRunner` is not such a good alternative. Since its `run()` method alwyas gets executed right after the creation of the spring context. Even in a test-class. So it will run, before your Test started ... \r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>In your code autowire springs <code>ApplicationArguments</code>. Use <code>getSourceArgs()</code> to retrieve the commandline arguments.</p>\n\n<pre><code>public CityApplicationService(ApplicationArguments args, Writer writer){        \n    public void writeFirstArg(){\n        writer.write(args.getSourceArgs()[0]);\n    }\n}\n</code></pre>\n\n<p>In your test mock the ApplicationArguments.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class CityApplicationTests {\n@MockBean\nprivate ApplicationArguments args;\n\n    @Test\n    public void contextLoads() {\n        // given\n        Mockito.when(args.getSourceArgs()).thenReturn(new String[]{\"Berlin\"});\n\n        // when\n        ctx.getBean(CityApplicationService.class).writeFirstArg();\n\n        // then\n        Mockito.verify(writer).write(Matchers.eq(\"Berlin\"));\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Like <em>Maciej Marczuk</em> suggested, I also prefer to use Springs <code>Environment</code> properties instead of commandline arguments. But if you cannot use the springs syntax <code>--argument=value</code> you could write an own <code>PropertySource</code>, fill it with your commandline arguments syntax and add it to the <code>ConfigurableEnvironment</code>. Then all your classes only need to use springs Environment properties.</p>\n\n<p>E.g.</p>\n\n<pre><code>public class ArgsPropertySource extends PropertySource&lt;Map&lt;String, String&gt;&gt; {\n\n    ArgsPropertySource(List&lt;CmdArg&gt; cmdArgs, List&lt;String&gt; arguments) {\n        super(\"My special commandline arguments\", new HashMap&lt;&gt;());\n\n        // CmdArgs maps the property name to the argument value.\n        cmdArgs.forEach(cmd -&gt; cmd.mapArgument(source, arguments));\n    }\n\n    @Override\n    public Object getProperty(String name) {\n        return source.get(name);\n    }\n}\n\n\npublic class SetupArgs {\n\n    SetupArgs(ConfigurableEnvironment env, ArgsMapping mapping) {           \n        // In real world, this code would be in an own method.\n        ArgsPropertySource = new ArgsPropertySource(mapping.get(), args.getSourceArgs());\n        environment\n            .getPropertySources()\n            .addFirst(propertySource);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>BTW: </p>\n\n<p>Since I do not have enough reputation points to comment an answer, I would still like to leave a hard learned lesson here:</p>\n\n<p>The <code>CommandlineRunner</code> is not such a good alternative. Since its <code>run()</code> method alwyas gets executed right after the creation of the spring context. Even in a test-class. So it will run, before your Test started ... </p>\n"},{"tags":[],"owner":{"account_id":887475,"reputation":3622,"user_id":926568,"accept_rate":100,"display_name":"deviant"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1580314358,"creation_date":1580314358,"answer_id":59971211,"question_id":39144136,"body_markdown":"`@SpringBootTest` has `args` param. You can pass cli arguments there\r\n\r\nsee https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p><code>@SpringBootTest</code> has <code>args</code> param. You can pass cli arguments there</p>\n\n<p>see <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--</a></p>\n"},{"tags":[],"owner":{"account_id":19401614,"reputation":41,"user_id":14188064,"display_name":"SAM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620999978,"creation_date":1601796196,"answer_id":64192086,"question_id":39144136,"body_markdown":"You simply need to\r\n\r\n    @SpringBootTest(args = &quot;test&quot;)\r\n    class YourApplicationTests {\r\n      @Test\r\n      public void contextLoads() {\r\n      }\r\n    }","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>You simply need to</p>\n<pre><code>@SpringBootTest(args = &quot;test&quot;)\nclass YourApplicationTests {\n  @Test\n  public void contextLoads() {\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946531,"creation_date":1637946531,"answer_id":70127860,"question_id":39144136,"body_markdown":"In Junit 5, simply we can pass commanline arguments using args parm present in @SpringBootTest(args = &quot;20210831&quot;)\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(args = &quot;20210831&quot;)\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @ContextConfiguration(classes = {Test.class, TestConfig.class})\r\n    public class AppleTest {","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>In Junit 5, simply we can pass commanline arguments using args parm present in @SpringBootTest(args = &quot;20210831&quot;)</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(args = &quot;20210831&quot;)\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@ContextConfiguration(classes = {Test.class, TestConfig.class})\npublic class AppleTest {\n</code></pre>\n"}],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39007,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":59971211,"answer_count":8,"score":22,"last_activity_date":1637946531,"creation_date":1472124719,"question_id":39144136,"body_markdown":"I have a very basic Spring Boot application, which is expecting an argument from command line, and without it doesn&#39;t work. Here is the code.\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(Application.class);\r\n\r\n        @Autowired\r\n        private Reader reader;\r\n\r\n        @Autowired\r\n        private Writer writer;\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n\r\n            Assert.notEmpty(args);\r\n\r\n            List&lt;&gt; cities = reader.get(&quot;Berlin&quot;);\r\n             writer.write(cities);\r\n        }\r\n    }\r\n\r\nHere is my JUnit test class.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class CityApplicationTests {\r\n\r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    }\r\n\r\nNow, ````Assert.notEmpty()```` mandates for passing an argument. However, now, I am writing JUnit test for the same. But, I get following exception raise from the ````Assert````.\r\n\r\n    2016-08-25 16:59:38.714 ERROR 9734 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:769) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111) [spring-boot-test-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.boot.test.autoconfigure.AutoConfigureReportTestExecutionListener.prepareTestInstance(AutoConfigureReportTestExecutionListener.java:46) [spring-boot-test-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\r\n    Caused by: java.lang.IllegalArgumentException: [Assertion failed] - this array must not be empty: it must contain at least 1 element\r\n        at org.springframework.util.Assert.notEmpty(Assert.java:222) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.util.Assert.notEmpty(Assert.java:234) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at com.deepakshakya.dev.Application.run(Application.java:33) ~[classes/:na]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        ... 32 common frames omitted\r\n\r\nAny idea, how to pass the parameter?","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I have a very basic Spring Boot application, which is expecting an argument from command line, and without it doesn't work. Here is the code.</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\n\n    @Autowired\n    private Reader reader;\n\n    @Autowired\n    private Writer writer;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        Assert.notEmpty(args);\n\n        List&lt;&gt; cities = reader.get(\"Berlin\");\n         writer.write(cities);\n    }\n}\n</code></pre>\n\n<p>Here is my JUnit test class.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class CityApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n\n<p>Now, <code>Assert.notEmpty()</code> mandates for passing an argument. However, now, I am writing JUnit test for the same. But, I get following exception raise from the <code>Assert</code>.</p>\n\n<pre><code>2016-08-25 16:59:38.714 ERROR 9734 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:769) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111) [spring-boot-test-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.test.autoconfigure.AutoConfigureReportTestExecutionListener.prepareTestInstance(AutoConfigureReportTestExecutionListener.java:46) [spring-boot-test-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this array must not be empty: it must contain at least 1 element\n    at org.springframework.util.Assert.notEmpty(Assert.java:222) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.util.Assert.notEmpty(Assert.java:234) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.deepakshakya.dev.Application.run(Application.java:33) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    ... 32 common frames omitted\n</code></pre>\n\n<p>Any idea, how to pass the parameter?</p>\n"},{"tags":["java","java-8","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637931062,"creation_date":1637926291,"answer_id":70123738,"question_id":70122889,"body_markdown":"`map` and `filter` are intermediate operations. A stream is not processed unless a terminal operation is invoked. Here in your code you are not invoking any terminal operation so that the stream is processed. Since `close` is **not** a terminal operation, it does not process the stream. It just resets everything and ends the stream. You could refer `AbstractPipeline` to see the source code for `close`. Only thing that is executed is the code, if any, which was passed using the `onClose` method. (i.e If you used `onClose` on the stream, `stream().onClose(() -&gt; myCloseAction())....`).\r\n\r\nAlso, `close` is not really required in the code which you have posted. As you mentioned in the question itself, you could use `forEach`. It definitely works with parallel streams as well ([forEach](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-)). Only thing is that your code seems to be updating a map. Make sure that is a concurrent map. Or it is much better to use `toMap` or `toConcurrentMap` from the `Collectors` class instead of putting elements inside a map using `forEach`.","title":"Why the nested stream not processing map or filter functions when there is close() in the end","body":"<p><code>map</code> and <code>filter</code> are intermediate operations. A stream is not processed unless a terminal operation is invoked. Here in your code you are not invoking any terminal operation so that the stream is processed. Since <code>close</code> is <strong>not</strong> a terminal operation, it does not process the stream. It just resets everything and ends the stream. You could refer <code>AbstractPipeline</code> to see the source code for <code>close</code>. Only thing that is executed is the code, if any, which was passed using the <code>onClose</code> method. (i.e If you used <code>onClose</code> on the stream, <code>stream().onClose(() -&gt; myCloseAction())....</code>).</p>\n<p>Also, <code>close</code> is not really required in the code which you have posted. As you mentioned in the question itself, you could use <code>forEach</code>. It definitely works with parallel streams as well (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">forEach</a>). Only thing is that your code seems to be updating a map. Make sure that is a concurrent map. Or it is much better to use <code>toMap</code> or <code>toConcurrentMap</code> from the <code>Collectors</code> class instead of putting elements inside a map using <code>forEach</code>.</p>\n"}],"owner":{"account_id":8674249,"reputation":869,"user_id":6492094,"display_name":"Ayeshmantha Perera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70123738,"answer_count":1,"score":-2,"last_activity_date":1637945786,"creation_date":1637922263,"question_id":70122889,"body_markdown":"I have a nested stream that I am using in order to process some data related to a requirement \r\n\r\n       \r\n    final Map&lt;String, Long&gt; productModelQuantityReturnedMap = new HashMap&lt;&gt;();\r\n    \r\n    sampleList.stream()\r\n              .map(sampleModel -&gt; {\r\n                  sampleModel.getEntries()\r\n                             .stream()\r\n                             .filter(entryModel -&gt; Objects.nonNull(entryModel.getOrderEntry()))\r\n                             .map(returnEntryModel -&gt; {\r\n                                sampleMap.put(\r\n                                  key,\r\n                                  val);\r\n                                return null;\r\n                          }).close();\r\n                  return null;\r\n            }).close();\r\n\r\nYeah am aware that using for each or for would be ideal but yeah. I wanted to extend this to a parallel thread going forward since it has a lot of data points that don&#39;t depend on each other.\r\n\r\nAlthough it says stream or the parallel stream will wait until the inner part is done this goes directly to the `close()` of the outer stream which I don&#39;t understand why.\r\n\r\nCan someone please help me on finding the issue here? ","title":"Why the nested stream not processing map or filter functions when there is close() in the end","body":"<p>I have a nested stream that I am using in order to process some data related to a requirement</p>\n<pre><code>final Map&lt;String, Long&gt; productModelQuantityReturnedMap = new HashMap&lt;&gt;();\n\nsampleList.stream()\n          .map(sampleModel -&gt; {\n              sampleModel.getEntries()\n                         .stream()\n                         .filter(entryModel -&gt; Objects.nonNull(entryModel.getOrderEntry()))\n                         .map(returnEntryModel -&gt; {\n                            sampleMap.put(\n                              key,\n                              val);\n                            return null;\n                      }).close();\n              return null;\n        }).close();\n</code></pre>\n<p>Yeah am aware that using for each or for would be ideal but yeah. I wanted to extend this to a parallel thread going forward since it has a lot of data points that don't depend on each other.</p>\n<p>Although it says stream or the parallel stream will wait until the inner part is done this goes directly to the <code>close()</code> of the outer stream which I don't understand why.</p>\n<p>Can someone please help me on finding the issue here?</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637945384,"creation_date":1637932763,"answer_id":70125054,"question_id":70123585,"body_markdown":"there is no if/switch in this case. \r\n\r\nyou have to find/evaluate what was the month&amp;year 14 days before the given date\r\n\r\n```\r\n&#39;2021-04-25&#39; - 14days = &#39;2021-04-11&#39;  -&gt;  Apr 2021\r\n&#39;2021-04-15&#39; - 14days = &#39;2021-04-01&#39;  -&gt;  Apr 2021\r\n&#39;2021-04-14&#39; - 14days = &#39;2021-03-31&#39;  -&gt;  Mar 2021\r\n```\r\n\r\nthe code to evaluate `the date 14 days ago` and format it looks simple:\r\n\r\n```\r\ndef generateFileName(base, now=new Date()){\r\n    def d14 = now - 14\r\n    return &quot;${base}_${d14.format(&#39;MMMyy&#39;)}&quot;\r\n}\r\n\r\n\r\nassert &#39;XYZ_Mar21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-14 23:59:59&#39;))\r\nassert &#39;XYZ_Apr21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-15 00:00:00&#39;))\r\nassert &#39;XYZ_Apr21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-15 01:00:00&#39;))\r\n\r\n\r\nprintln generateFileName(&#39;XYZ&#39;)\r\n\r\n```\r\n","title":"Want to create a file name based on date range in groovy script","body":"<p>there is no if/switch in this case.</p>\n<p>you have to find/evaluate what was the month&amp;year 14 days before the given date</p>\n<pre><code>'2021-04-25' - 14days = '2021-04-11'  -&gt;  Apr 2021\n'2021-04-15' - 14days = '2021-04-01'  -&gt;  Apr 2021\n'2021-04-14' - 14days = '2021-03-31'  -&gt;  Mar 2021\n</code></pre>\n<p>the code to evaluate <code>the date 14 days ago</code> and format it looks simple:</p>\n<pre><code>def generateFileName(base, now=new Date()){\n    def d14 = now - 14\n    return &quot;${base}_${d14.format('MMMyy')}&quot;\n}\n\n\nassert 'XYZ_Mar21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-14 23:59:59'))\nassert 'XYZ_Apr21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-15 00:00:00'))\nassert 'XYZ_Apr21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-15 01:00:00'))\n\n\nprintln generateFileName('XYZ')\n\n</code></pre>\n"}],"owner":{"account_id":19524412,"reputation":3,"user_id":14285509,"display_name":"DilipSInghMehra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70125054,"answer_count":1,"score":0,"last_activity_date":1637945384,"creation_date":1637925558,"question_id":70123585,"body_markdown":"I am not much into programming and struggling with the below requirement.\r\nOn any particular date a file would be generate by a system and my script has to read the file name which would be example XYZ and rename is using groovy script to XYZ_&lt;Period&gt;_&lt;Month&gt;&lt;year&gt;_&lt;Timestamp&gt; based on which date its run on. If it runs between 15th on this month and 14 of next month then the month name in the file would be of this month.\r\nExample : If its run on 25th April 2021 then the file name should be : XYZ_P1_APR21_20210425777.csv since it falls between 15 Apr to 14 May 2021.\r\n\r\nchallenge is how do I put this in if/ switch condition since these conditions should be valid forever so in condition if I have to compare current date with the range then the range is also dynamic -since next year he range would be 15 Apr to 14 May 2022.\r\n\r\nPlease help.\r\nThanks .","title":"Want to create a file name based on date range in groovy script","body":"<p>I am not much into programming and struggling with the below requirement.\nOn any particular date a file would be generate by a system and my script has to read the file name which would be example XYZ and rename is using groovy script to XYZ_<em></em> based on which date its run on. If it runs between 15th on this month and 14 of next month then the month name in the file would be of this month.\nExample : If its run on 25th April 2021 then the file name should be : XYZ_P1_APR21_20210425777.csv since it falls between 15 Apr to 14 May 2021.</p>\n<p>challenge is how do I put this in if/ switch condition since these conditions should be valid forever so in condition if I have to compare current date with the range then the range is also dynamic -since next year he range would be 15 Apr to 14 May 2022.</p>\n<p>Please help.\nThanks .</p>\n"},{"tags":["java","google-api","apache-httpclient-4.x","google-http-client"],"comments":[{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1625119027,"post_id":68002387,"comment_id":120543109,"body_markdown":"issue opened on github project: https://github.com/googleapis/google-http-java-client/issues/1398","body":"issue opened on github project: <a href=\"https://github.com/googleapis/google-http-java-client/issues/1398\" rel=\"nofollow noreferrer\">github.com/googleapis/google-http-java-client/issues/1398</a>"},{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":0,"creation_date":1637767327,"post_id":68002387,"comment_id":123914974,"body_markdown":"This is not an issue from both the Google HTTP Client and Apache HttpClient libraries, and the GitHub issue is closed as &quot;working as intended.&quot; For the interested folks, follow the answer in the GitHub issue.","body":"This is not an issue from both the Google HTTP Client and Apache HttpClient libraries, and the GitHub issue is closed as &quot;working as intended.&quot; For the interested folks, follow the answer in the GitHub issue."}],"answers":[{"tags":[],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1637695718,"creation_date":1625641542,"answer_id":68281488,"question_id":68002387,"body_markdown":"Workaround I posted on [github][1] in case it helps someone:\r\n\r\nAs workaround what I&#39;m trying is to wrap **ApacheHttpTransport** in **CustomApacheHttpTransport**, which delegate the result of methods to **ApacheHttpTransport** except for **_buildRequest_** method.\r\n\r\nThis **_buildRequest_** method in **CustomApacheHttpTransport** builds a custom request of type **CustomApacheHttpRequest**.\r\n```\r\npublic final class CustomApacheHttpTransport extends HttpTransport {\r\n\t\r\n\tprivate ApacheHttpTransport apacheHttpTransport;\r\n\t\r\n\tpublic CustomApacheHttpTransport (HttpClient httpClient) {\r\n\t\tthis.apacheHttpTransport = new ApacheHttpTransport(httpClient);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected LowLevelHttpRequest buildRequest (String method, String url) {\r\n\t\tHttpRequestBase requestBase;\r\n\t\tif (method.equals(&quot;DELETE&quot;)) {\r\n\t\t\trequestBase = new HttpDelete(url);\r\n\t\t} else if (method.equals(&quot;GET&quot;)) {\r\n\t\t\trequestBase = new HttpGet(url);\r\n\t\t} else if (method.equals(&quot;HEAD&quot;)) {\r\n\t\t\trequestBase = new HttpHead(url);\r\n\t\t} else if (method.equals(&quot;PATCH&quot;)) {\r\n\t\t\trequestBase = new HttpPatch(url);\r\n\t\t} else if (method.equals(&quot;POST&quot;)) {\r\n\t\t\t..\r\n\t\t}\r\n\t\treturn new CustomApacheHttpRequest(apacheHttpTransport.getHttpClient(), requestBase);\r\n\t}\r\n}\r\n```\r\n\r\nThis custom request is like **ApacheHttpRequest** except for when it is executed it creates a custom entity, **CustomContentEntity**, which will be repeatable depending on whether the request content supports retries.\r\n\r\n```\r\nfinal class CustomApacheHttpRequest extends LowLevelHttpRequest {\r\n\t\r\n\tprivate final HttpClient httpClient;\r\n\tprivate final HttpRequestBase request;\r\n\tprivate RequestConfig.Builder requestConfig;\r\n\t\r\n\tCustomApacheHttpRequest (HttpClient httpClient, HttpRequestBase request) {\r\n\t\tthis.httpClient = httpClient;\r\n\t\tthis.request = request;\r\n\t\tthis.requestConfig = RequestConfig.custom().setRedirectsEnabled(false).setNormalizeUri(false).setStaleConnectionCheckEnabled(false);\r\n\t}\r\n\t\r\n\t...\r\n\t\t\r\n\t@Override\r\n\tpublic LowLevelHttpResponse execute () throws IOException {\r\n\t\tif (this.getStreamingContent() != null) {\r\n\t\t\tPreconditions.checkState(request instanceof HttpEntityEnclosingRequest, &quot;Apache HTTP client does not support %s requests with content.&quot;, request.getRequestLine().getMethod());\r\n\t\t\t\r\n\t\t\tCustomContentEntity entity = new CustomContentEntity(this.getContentLength(), this.getStreamingContent());\r\n\t\t\tentity.setContentEncoding(this.getContentEncoding());\r\n\t\t\tentity.setContentType(this.getContentType());\r\n\t\t\tif (this.getContentLength() == -1L) {\r\n\t\t\t\tentity.setChunked(true);\r\n\t\t\t}\r\n\t\t\t((HttpEntityEnclosingRequest) request).setEntity(entity);\r\n\t\t}\r\n\t\t\r\n\t\trequest.setConfig(requestConfig.build());\r\n\t\treturn new CustomApacheHttpResponse(request, httpClient.execute(request));\r\n\t}\r\n}\r\n```\r\n\r\nThe key in **CustomContentEntity** is **_isRepeatable_** method wich do not returns always **false** as **ContentEntity** does.\r\n```\r\nfinal class CustomContentEntity extends AbstractHttpEntity {\r\n\t\r\n\tprivate final long contentLength;\r\n\tprivate final StreamingContent streamingContent;\r\n\t\r\n\tCustomContentEntity (long contentLength, StreamingContent streamingContent) {\r\n\t\tthis.contentLength = contentLength;\r\n\t\tthis.streamingContent = streamingContent;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean isRepeatable () {\r\n\t\treturn ((HttpContent) streamingContent).retrySupported();\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nAlso I have to create **CustomApacheHttpResponse** as response for **CustomApacheHttpRequest** because **ApacheHttpResponse** is package-private (**CustomApacheHttpResponse** is exactly like **ApacheHttpResponse**).\r\n\r\n\r\n  [1]: http://github.com/googleapis/google-http-java-client/issues/1398","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>Workaround I posted on <a href=\"http://github.com/googleapis/google-http-java-client/issues/1398\" rel=\"nofollow noreferrer\">github</a> in case it helps someone:</p>\n<p>As workaround what I'm trying is to wrap <strong>ApacheHttpTransport</strong> in <strong>CustomApacheHttpTransport</strong>, which delegate the result of methods to <strong>ApacheHttpTransport</strong> except for <strong><em>buildRequest</em></strong> method.</p>\n<p>This <strong><em>buildRequest</em></strong> method in <strong>CustomApacheHttpTransport</strong> builds a custom request of type <strong>CustomApacheHttpRequest</strong>.</p>\n<pre><code>public final class CustomApacheHttpTransport extends HttpTransport {\n    \n    private ApacheHttpTransport apacheHttpTransport;\n    \n    public CustomApacheHttpTransport (HttpClient httpClient) {\n        this.apacheHttpTransport = new ApacheHttpTransport(httpClient);\n    }\n    \n    @Override\n    protected LowLevelHttpRequest buildRequest (String method, String url) {\n        HttpRequestBase requestBase;\n        if (method.equals(&quot;DELETE&quot;)) {\n            requestBase = new HttpDelete(url);\n        } else if (method.equals(&quot;GET&quot;)) {\n            requestBase = new HttpGet(url);\n        } else if (method.equals(&quot;HEAD&quot;)) {\n            requestBase = new HttpHead(url);\n        } else if (method.equals(&quot;PATCH&quot;)) {\n            requestBase = new HttpPatch(url);\n        } else if (method.equals(&quot;POST&quot;)) {\n            ..\n        }\n        return new CustomApacheHttpRequest(apacheHttpTransport.getHttpClient(), requestBase);\n    }\n}\n</code></pre>\n<p>This custom request is like <strong>ApacheHttpRequest</strong> except for when it is executed it creates a custom entity, <strong>CustomContentEntity</strong>, which will be repeatable depending on whether the request content supports retries.</p>\n<pre><code>final class CustomApacheHttpRequest extends LowLevelHttpRequest {\n    \n    private final HttpClient httpClient;\n    private final HttpRequestBase request;\n    private RequestConfig.Builder requestConfig;\n    \n    CustomApacheHttpRequest (HttpClient httpClient, HttpRequestBase request) {\n        this.httpClient = httpClient;\n        this.request = request;\n        this.requestConfig = RequestConfig.custom().setRedirectsEnabled(false).setNormalizeUri(false).setStaleConnectionCheckEnabled(false);\n    }\n    \n    ...\n        \n    @Override\n    public LowLevelHttpResponse execute () throws IOException {\n        if (this.getStreamingContent() != null) {\n            Preconditions.checkState(request instanceof HttpEntityEnclosingRequest, &quot;Apache HTTP client does not support %s requests with content.&quot;, request.getRequestLine().getMethod());\n            \n            CustomContentEntity entity = new CustomContentEntity(this.getContentLength(), this.getStreamingContent());\n            entity.setContentEncoding(this.getContentEncoding());\n            entity.setContentType(this.getContentType());\n            if (this.getContentLength() == -1L) {\n                entity.setChunked(true);\n            }\n            ((HttpEntityEnclosingRequest) request).setEntity(entity);\n        }\n        \n        request.setConfig(requestConfig.build());\n        return new CustomApacheHttpResponse(request, httpClient.execute(request));\n    }\n}\n</code></pre>\n<p>The key in <strong>CustomContentEntity</strong> is <strong><em>isRepeatable</em></strong> method wich do not returns always <strong>false</strong> as <strong>ContentEntity</strong> does.</p>\n<pre><code>final class CustomContentEntity extends AbstractHttpEntity {\n    \n    private final long contentLength;\n    private final StreamingContent streamingContent;\n    \n    CustomContentEntity (long contentLength, StreamingContent streamingContent) {\n        this.contentLength = contentLength;\n        this.streamingContent = streamingContent;\n    }\n    \n    @Override\n    public boolean isRepeatable () {\n        return ((HttpContent) streamingContent).retrySupported();\n    }\n    ...\n}\n</code></pre>\n<p>Also I have to create <strong>CustomApacheHttpResponse</strong> as response for <strong>CustomApacheHttpRequest</strong> because <strong>ApacheHttpResponse</strong> is package-private (<strong>CustomApacheHttpResponse</strong> is exactly like <strong>ApacheHttpResponse</strong>).</p>\n"},{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637945284,"creation_date":1637612651,"answer_id":70071963,"question_id":68002387,"body_markdown":"It is correct that the library returns with the error saying &quot;your request is not retryable.&quot; It is working as intended.\r\n\r\nPOST requests are fundamentally considered non-retryable, as they are most likely to [have a server store data](https://en.wikipedia.org/wiki/POST_(HTTP)). For example, a server is recommended to [return 201 (Created) as a response](https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.3) when the server successfully created one or more resources. Retrying a POST request may end up inserting, uploading, or posting data multiple times. This is why sometimes web browsers show the following prompt to avoid &quot;a duplicate credit card transaction&quot;:\r\n\r\n![image](https://user-images.githubusercontent.com/10523105/142929079-c06c480c-5e93-4957-9759-8024101ca3c6.png)\r\n\r\nA potential retry logic for POST should be implemented at the user application level, not at the library level.\r\n\r\nIn your case, the cause of the error is that you are not authorized to use the proxy. Therefore, you need to authenticate with the proxy first before attempting to use it, and then send (or re-send) a POST request.\r\n\r\n---\r\n\r\n**UPDATES for the questions asked later in the comment as well as in the [GitHub issue][1].**\r\n\r\n\r\n&gt; Why is the library who tries to repeat the request? (failling on a POST request).\r\n\r\nThe question reads weird, so I&#39;m not sure what you&#39;re asking. Anyways, the library is designed to intentionally not repeat a request for POST. For GET, it&#39;s a different story.\r\n\r\n&gt; Why the library have the same behaviour (retrying the request) with a GET request? (but in this case sucessfully because GET request do not have entity and do not matters if it is repeatable or not).\r\n\r\nGET is by its nature considered a repeatable request. See [this doc](https://www.w3schools.com/tags/ref_httpmethods.asp) for example to understand the nature of the difference of GET and POST.\r\n\r\n&gt; GET requests are only used to request data (not modify)\r\n\r\n&gt; POST is used to send data to a server to create/update a resource.\r\n\r\n. | GET | POST\r\n-- | -- | --\r\nBACK button/Reload | Harmless | Data will be re-submitted (the browser should alert the user that the data are about to be re-submitted)\r\n\r\n&gt; Why if I change the entity, as show in workaround, to make it repeatable, the POST request works successfully through the proxy for which you say I&#39;m not authorized to use?\r\n\r\nYou programmed your app to repeat the request when it fails at the application level through the use of the Apache API. Nothing prevents you from whatever you want with the Apache library. And of course, if we change the Google library to do what you are trying to do, it is technically possible to make it work that way. However, what I am saying is that it is wrong for the library to do so. And lastly, auth is not really relevant; it&#39;s just one kind of many failures you may encounter. For POST, in almost all cases, it doesn&#39;t make sense to automatically re-send the request regardless of which kind of error you encounter.\r\n\r\n&gt; If as you say I&#39;m not authorized to use the proxy:\r\n\r\nYou are not authorized to use the server for the initial request. That&#39;s why you get [`407 Proxy Authentication Required`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/407) from the proxy server. A client most likely needs to check the returned `Proxy-Authenticate` value and take an appropriate action to figure out the credentials. What action it needs to take depends on the value of the header, as explained in the doc:\r\n\r\n&gt; This status is sent with a `Proxy-Authenticate` header that contains information on how to authorize correctly.\r\n\r\nThe form of the credentials you provide may not be the final form the proxy may expect. Often, your initial credentials are used to obtain the final form of the credentials that the server wants. Later once you have obtained them, the client will have to provide these credentials in subsequent requests. In any case, the truth is that, the server did return 407, saying &quot;I&#39;m denying your request, because authentication is required.&quot;\r\n\r\n---\r\n\r\n**UPDATE2**\r\n\r\n&gt; Apache HttpClient is retrying the request\r\n\r\nYes, of course. And you manually programmed your app to allow Apache HttpClient to re-send a request for POST (which may be a viable workaround for you but this shouldn&#39;t be generalized for other cases).\r\n\r\nNow I see what you are missing and where you have a wrong idea. When interacting with a proxy (or a non-proxy) that requires auth, generally you (whether it is you or the Apache library) will _have to make at least two requests_. First, you try without sending any sensitive information (why would you disclose your information upfront to someone who cannot be trusted? Even if you trust them, you don&#39;t really know if they are going to need your info at all. Moreover, even so, you don&#39;t know how correctly you should present your sensitive info). That first request may (or may not) fail with an error like &quot;407 Proxy Authentication Required&quot; (people call this that the server is &quot;challenging&quot; you), and _based on what kinds of challenges the server gives you_, you will need to take the right action to prepare an auth header for _the second request_. And the Apache library does that for you.\r\n\r\n&gt;  despite I provide the credentials\r\n\r\nWhat did you expect that calling `.setDefaultCredentialsProvider()` would do? It doesn&#39;t do what you are currently thinking. The Apache library does nothing about your password in the first request. As I said earlier, in the end, you need to provide the right form of credentials that the server wants after checking the value of `Proxy-Authenticate`, which tells you how you should _correctly_ auth with the server. That is why generally you _have to repeat a request_. If all these sound alien to you, please take a moment to read [this introductory doc](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) to understand how this challenge-based HTTP auth framework works. (The doc makes a note that it will explain only with the &quot;Basic&quot; scheme for educational purposes, but note that there are other non-basic schemes.)\r\n\r\n  [1]: https://github.com/googleapis/google-http-java-client/issues/1398#issuecomment-976722535","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>It is correct that the library returns with the error saying &quot;your request is not retryable.&quot; It is working as intended.</p>\n<p>POST requests are fundamentally considered non-retryable, as they are most likely to <a href=\"https://en.wikipedia.org/wiki/POST_(HTTP)\" rel=\"nofollow noreferrer\">have a server store data</a>. For example, a server is recommended to <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.3\" rel=\"nofollow noreferrer\">return 201 (Created) as a response</a> when the server successfully created one or more resources. Retrying a POST request may end up inserting, uploading, or posting data multiple times. This is why sometimes web browsers show the following prompt to avoid &quot;a duplicate credit card transaction&quot;:</p>\n<p><img src=\"https://user-images.githubusercontent.com/10523105/142929079-c06c480c-5e93-4957-9759-8024101ca3c6.png\" alt=\"image\" /></p>\n<p>A potential retry logic for POST should be implemented at the user application level, not at the library level.</p>\n<p>In your case, the cause of the error is that you are not authorized to use the proxy. Therefore, you need to authenticate with the proxy first before attempting to use it, and then send (or re-send) a POST request.</p>\n<hr />\n<p><strong>UPDATES for the questions asked later in the comment as well as in the <a href=\"https://github.com/googleapis/google-http-java-client/issues/1398#issuecomment-976722535\" rel=\"nofollow noreferrer\">GitHub issue</a>.</strong></p>\n<blockquote>\n<p>Why is the library who tries to repeat the request? (failling on a POST request).</p>\n</blockquote>\n<p>The question reads weird, so I'm not sure what you're asking. Anyways, the library is designed to intentionally not repeat a request for POST. For GET, it's a different story.</p>\n<blockquote>\n<p>Why the library have the same behaviour (retrying the request) with a GET request? (but in this case sucessfully because GET request do not have entity and do not matters if it is repeatable or not).</p>\n</blockquote>\n<p>GET is by its nature considered a repeatable request. See <a href=\"https://www.w3schools.com/tags/ref_httpmethods.asp\" rel=\"nofollow noreferrer\">this doc</a> for example to understand the nature of the difference of GET and POST.</p>\n<blockquote>\n<p>GET requests are only used to request data (not modify)</p>\n</blockquote>\n<blockquote>\n<p>POST is used to send data to a server to create/update a resource.</p>\n</blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>.</th>\n<th>GET</th>\n<th>POST</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BACK button/Reload</td>\n<td>Harmless</td>\n<td>Data will be re-submitted (the browser should alert the user that the data are about to be re-submitted)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>Why if I change the entity, as show in workaround, to make it repeatable, the POST request works successfully through the proxy for which you say I'm not authorized to use?</p>\n</blockquote>\n<p>You programmed your app to repeat the request when it fails at the application level through the use of the Apache API. Nothing prevents you from whatever you want with the Apache library. And of course, if we change the Google library to do what you are trying to do, it is technically possible to make it work that way. However, what I am saying is that it is wrong for the library to do so. And lastly, auth is not really relevant; it's just one kind of many failures you may encounter. For POST, in almost all cases, it doesn't make sense to automatically re-send the request regardless of which kind of error you encounter.</p>\n<blockquote>\n<p>If as you say I'm not authorized to use the proxy:</p>\n</blockquote>\n<p>You are not authorized to use the server for the initial request. That's why you get <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/407\" rel=\"nofollow noreferrer\"><code>407 Proxy Authentication Required</code></a> from the proxy server. A client most likely needs to check the returned <code>Proxy-Authenticate</code> value and take an appropriate action to figure out the credentials. What action it needs to take depends on the value of the header, as explained in the doc:</p>\n<blockquote>\n<p>This status is sent with a <code>Proxy-Authenticate</code> header that contains information on how to authorize correctly.</p>\n</blockquote>\n<p>The form of the credentials you provide may not be the final form the proxy may expect. Often, your initial credentials are used to obtain the final form of the credentials that the server wants. Later once you have obtained them, the client will have to provide these credentials in subsequent requests. In any case, the truth is that, the server did return 407, saying &quot;I'm denying your request, because authentication is required.&quot;</p>\n<hr />\n<p><strong>UPDATE2</strong></p>\n<blockquote>\n<p>Apache HttpClient is retrying the request</p>\n</blockquote>\n<p>Yes, of course. And you manually programmed your app to allow Apache HttpClient to re-send a request for POST (which may be a viable workaround for you but this shouldn't be generalized for other cases).</p>\n<p>Now I see what you are missing and where you have a wrong idea. When interacting with a proxy (or a non-proxy) that requires auth, generally you (whether it is you or the Apache library) will <em>have to make at least two requests</em>. First, you try without sending any sensitive information (why would you disclose your information upfront to someone who cannot be trusted? Even if you trust them, you don't really know if they are going to need your info at all. Moreover, even so, you don't know how correctly you should present your sensitive info). That first request may (or may not) fail with an error like &quot;407 Proxy Authentication Required&quot; (people call this that the server is &quot;challenging&quot; you), and <em>based on what kinds of challenges the server gives you</em>, you will need to take the right action to prepare an auth header for <em>the second request</em>. And the Apache library does that for you.</p>\n<blockquote>\n<p>despite I provide the credentials</p>\n</blockquote>\n<p>What did you expect that calling <code>.setDefaultCredentialsProvider()</code> would do? It doesn't do what you are currently thinking. The Apache library does nothing about your password in the first request. As I said earlier, in the end, you need to provide the right form of credentials that the server wants after checking the value of <code>Proxy-Authenticate</code>, which tells you how you should <em>correctly</em> auth with the server. That is why generally you <em>have to repeat a request</em>. If all these sound alien to you, please take a moment to read <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication\" rel=\"nofollow noreferrer\">this introductory doc</a> to understand how this challenge-based HTTP auth framework works. (The doc makes a note that it will explain only with the &quot;Basic&quot; scheme for educational purposes, but note that there are other non-basic schemes.)</p>\n"}],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68281488,"answer_count":2,"score":0,"last_activity_date":1637945284,"creation_date":1623845372,"question_id":68002387,"body_markdown":"I&#39;m using **google-http-client** and **google-http-client-apache-v2** libraries to make a **POST** request **behind a proxy**.\r\n\r\n```code\t\t\r\n// 1.- Setting ssl and proxy\r\nHttpClientBuilder builder = HttpClientBuilder.create();\r\n\t\t\t\r\nSSLContext sslContext = SslUtils.getTlsSslContext();\r\nSslUtils.initSslContext(sslContext, GoogleUtils.getCertificateTrustStore(), SslUtils.getPkixTrustManagerFactory());\r\nbuilder.setSSLSocketFactory(new SSLConnectionSocketFactory(sslContext));\r\n\t\t\t\r\nbuilder.setProxy(new HttpHost(host, port));\r\nCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\ncredentialsProvider.setCredentials(new AuthScope(host, port), new UsernamePasswordCredentials(user, pass));\r\nbuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\r\n// 2.- Build request\r\nHttpTransport httpTransport = new ApacheHttpTransport(builder.build());\r\nHttpRequestFactory factory = httpTransport.createRequestFactory(credential);\r\n\r\nHttpContent httpContent = new ByteArrayContent(&quot;application/json&quot;, &quot;{}&quot;)\r\nHttpRequest request = factory.buildRequest(&quot;POST&quot;, new GenericUrl(url), httpContent);\r\n\r\n// 3.- Execute request\r\nHttpResponse httpResponse = request.execute();\r\n```\r\n\r\nThat request produces a **NonRepeatableRequestException**:\r\n\r\n    org.apache.http.client.ClientProtocolException\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\r\n    \tat \r\n    \t...\r\n    Caused by: org.apache.http.client.NonRepeatableRequestException: Cannot retry request with a non-repeatable request entity.\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:225) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\r\n\r\n    \t\t\r\nIt seems like **ApacheHttpRequest** wraps **ByteArrayContent** that is **repeatable** (see [JavaDoc][1]) inside a **ContentEntity** that is **non-repeatable**.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDebuging execution inside google libraries, proxy is returning &quot;407 Proxy Authentication Required&quot;, then it tries to repeat the request (guess that including the credentials) and that exception arises because ContentEntity used by google library is non-repeatable.\r\n\r\nIs there any way to avoid handshake with proxy including credentials in first request to avoid reuse of the entity?\r\n\r\nIs there any way to tell google libraries that uses a repeatable entity?\r\n\r\nTryed with follwing library versions:\r\n\r\n - google-api-client-1.31.5\r\n - google-http-client-jackson2-1.39.2\r\n - google-oauth-client-1.31.5\r\n - google-http-client-apache-v2-1.39.2\r\n - google-http-client-1.39.2\r\n - httpclient-4.5.13\r\n - httpcore-4.4.14\r\n\r\n  [1]: https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/ByteArrayContent.html\r\n  [2]: https://i.stack.imgur.com/JXqIj.png","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>I'm using <strong>google-http-client</strong> and <strong>google-http-client-apache-v2</strong> libraries to make a <strong>POST</strong> request <strong>behind a proxy</strong>.</p>\n<pre><code>// 1.- Setting ssl and proxy\nHttpClientBuilder builder = HttpClientBuilder.create();\n            \nSSLContext sslContext = SslUtils.getTlsSslContext();\nSslUtils.initSslContext(sslContext, GoogleUtils.getCertificateTrustStore(), SslUtils.getPkixTrustManagerFactory());\nbuilder.setSSLSocketFactory(new SSLConnectionSocketFactory(sslContext));\n            \nbuilder.setProxy(new HttpHost(host, port));\nCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\ncredentialsProvider.setCredentials(new AuthScope(host, port), new UsernamePasswordCredentials(user, pass));\nbuilder.setDefaultCredentialsProvider(credentialsProvider);\n\n// 2.- Build request\nHttpTransport httpTransport = new ApacheHttpTransport(builder.build());\nHttpRequestFactory factory = httpTransport.createRequestFactory(credential);\n\nHttpContent httpContent = new ByteArrayContent(&quot;application/json&quot;, &quot;{}&quot;)\nHttpRequest request = factory.buildRequest(&quot;POST&quot;, new GenericUrl(url), httpContent);\n\n// 3.- Execute request\nHttpResponse httpResponse = request.execute();\n</code></pre>\n<p>That request produces a <strong>NonRepeatableRequestException</strong>:</p>\n<pre><code>org.apache.http.client.ClientProtocolException\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\n    at \n    ...\nCaused by: org.apache.http.client.NonRepeatableRequestException: Cannot retry request with a non-repeatable request entity.\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:225) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\n\n        \n</code></pre>\n<p>It seems like <strong>ApacheHttpRequest</strong> wraps <strong>ByteArrayContent</strong> that is <strong>repeatable</strong> (see <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/ByteArrayContent.html\" rel=\"nofollow noreferrer\">JavaDoc</a>) inside a <strong>ContentEntity</strong> that is <strong>non-repeatable</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/JXqIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXqIj.png\" alt=\"enter image description here\" /></a></p>\n<p>Debuging execution inside google libraries, proxy is returning &quot;407 Proxy Authentication Required&quot;, then it tries to repeat the request (guess that including the credentials) and that exception arises because ContentEntity used by google library is non-repeatable.</p>\n<p>Is there any way to avoid handshake with proxy including credentials in first request to avoid reuse of the entity?</p>\n<p>Is there any way to tell google libraries that uses a repeatable entity?</p>\n<p>Tryed with follwing library versions:</p>\n<ul>\n<li>google-api-client-1.31.5</li>\n<li>google-http-client-jackson2-1.39.2</li>\n<li>google-oauth-client-1.31.5</li>\n<li>google-http-client-apache-v2-1.39.2</li>\n<li>google-http-client-1.39.2</li>\n<li>httpclient-4.5.13</li>\n<li>httpcore-4.4.14</li>\n</ul>\n"},{"tags":["java","excel","formatting","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1418219226,"creation_date":1418215361,"answer_id":27401312,"question_id":27400825,"body_markdown":"Just `#,###` or `#,##0` should be sufficient. Excel interprets this as having thousands separators every three digits (not just before the last three, which I infer is what you were expecting).\r\n\r\n![enter image description here][1]\r\n\r\nIn the spirit of teaching a man to fish, this is how you can find out for yourself:\r\n\r\nFormat as Number, 0 decimal places, with 1000 separator:\r\n\r\n![enter image description here][2]\r\n\r\nClick OK, then re-open the number format dialog and go to Custom. Have a look at the formatting code (&quot;Type&quot;). It says `#,##0`, which for me gives the exact same result as `#,###`.\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zSBNk.png\r\n  [2]: http://i.stack.imgur.com/TVqFg.png\r\n  [3]: http://i.stack.imgur.com/7RFst.png","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>Just <code>#,###</code> or <code>#,##0</code> should be sufficient. Excel interprets this as having thousands separators every three digits (not just before the last three, which I infer is what you were expecting).</p>\n\n<p><img src=\"https://i.stack.imgur.com/zSBNk.png\" alt=\"enter image description here\"></p>\n\n<p>In the spirit of teaching a man to fish, this is how you can find out for yourself:</p>\n\n<p>Format as Number, 0 decimal places, with 1000 separator:</p>\n\n<p><img src=\"https://i.stack.imgur.com/TVqFg.png\" alt=\"enter image description here\"></p>\n\n<p>Click OK, then re-open the number format dialog and go to Custom. Have a look at the formatting code (\"Type\"). It says <code>#,##0</code>, which for me gives the exact same result as <code>#,###</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/7RFst.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2839361,"reputation":391,"user_id":2439253,"accept_rate":50,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637945125,"creation_date":1421805075,"answer_id":28058309,"question_id":27400825,"body_markdown":"Just add this:\r\n\r\n    style.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00&quot;));\r\n\r\nand it will follow the format you want.\r\n\r\n","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>Just add this:</p>\n<pre><code>style.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00&quot;));\n</code></pre>\n<p>and it will follow the format you want.</p>\n"}],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30507,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27401312,"answer_count":2,"score":13,"last_activity_date":1637945125,"creation_date":1418213899,"question_id":27400825,"body_markdown":"I want to format some number cells, with a comma as thousands separator. For example:\r\n\r\n    12        -&gt; 12\r\n    1200      -&gt; 1,200\r\n    12000     -&gt; 12,000\r\n    12000000  -&gt; 12,000,000\r\n    120000000 -&gt; 120,000,000\r\n\r\nI have the following code. What should I use as `formatStr`? Is there an easy way? Or do I have to detect the number of zeros in order to produce something like this `#,###,###`?\r\n\r\n    String formatStr = &quot;&quot;;\r\n    HSSFCellStyle style = workbook.createCellStyle();\r\n    HSSFDataFormat format = workbook.createDataFormat();\r\n    style.setDataFormat(format.getFormat(formatStr));\r\n    cell.setCellStyle(style);\r\n    cell.setCellType(HSSFCell.CELL_TYPE_NUMERIC);\r\n\r\nKeep in mind that I&#39;m dealing with numbers. The cell type will be numeric, not string.\r\n\r\n\r\n**Update**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YCIP7.png","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>I want to format some number cells, with a comma as thousands separator. For example:</p>\n\n<pre><code>12        -&gt; 12\n1200      -&gt; 1,200\n12000     -&gt; 12,000\n12000000  -&gt; 12,000,000\n120000000 -&gt; 120,000,000\n</code></pre>\n\n<p>I have the following code. What should I use as <code>formatStr</code>? Is there an easy way? Or do I have to detect the number of zeros in order to produce something like this <code>#,###,###</code>?</p>\n\n<pre><code>String formatStr = \"\";\nHSSFCellStyle style = workbook.createCellStyle();\nHSSFDataFormat format = workbook.createDataFormat();\nstyle.setDataFormat(format.getFormat(formatStr));\ncell.setCellStyle(style);\ncell.setCellType(HSSFCell.CELL_TYPE_NUMERIC);\n</code></pre>\n\n<p>Keep in mind that I'm dealing with numbers. The cell type will be numeric, not string.</p>\n\n<p><strong>Update</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/YCIP7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","swing","window","jpanel"],"comments":[{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1637945966,"post_id":70127571,"comment_id":123966162,"body_markdown":"Have you tried using a card layout? https://www.google.com/amp/s/www.geeksforgeeks.org/java-awt-cardlayout-class/amp/. This allows for easy switching between panels.","body":"Have you tried using a card layout? <a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/java-awt-cardlayout-class/amp/\" rel=\"nofollow noreferrer\">google.com/amp/s/www.geeksforgeeks.org/&hellip;</a>. This allows for easy switching between panels."},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637955321,"post_id":70127571,"comment_id":123968635,"body_markdown":"the frame is set to absoluteLayout and LayeredPane is set to CardLayout(), do you mean that? or do you mean something else?","body":"the frame is set to absoluteLayout and LayeredPane is set to CardLayout(), do you mean that? or do you mean something else?"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1637955561,"post_id":70127571,"comment_id":123968704,"body_markdown":"Oh now I see that you have a card layout. However, why are you not utilizing the card layouts methods? Refer to the link I sent, a card layout can show a certain panel and hide all other panels very easily. Right now, you have your own method called switchPanels() which is extra work. I encourage you to implement the card layout to its full capability. Look at the examples used in the link","body":"Oh now I see that you have a card layout. However, why are you not utilizing the card layouts methods? Refer to the link I sent, a card layout can show a certain panel and hide all other panels very easily. Right now, you have your own method called switchPanels() which is extra work. I encourage you to implement the card layout to its full capability. Look at the examples used in the link"},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637968344,"post_id":70127571,"comment_id":123971328,"body_markdown":"So I tried doing that too but still nothing happens! I tried next(), last() and first() as well as show(), but no change idk what I&#39;m doing wrong!","body":"So I tried doing that too but still nothing happens! I tried next(), last() and first() as well as show(), but no change idk what I&#39;m doing wrong!"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":1,"creation_date":1637968466,"post_id":70127571,"comment_id":123971349,"body_markdown":"Alright so my last suggestion would be to open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton. This should be doable and, even though small, can help you understand how the card layout works. Then, you go into this project and see the differences between the 2 and hopefully find any mistakes. If it still does not work, ask a new question asking “why does the card layout not work here” and put your latest attempt, hope it helps.","body":"Alright so my last suggestion would be to open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton. This should be doable and, even though small, can help you understand how the card layout works. Then, you go into this project and see the differences between the 2 and hopefully find any mistakes. If it still does not work, ask a new question asking “why does the card layout not work here” and put your latest attempt, hope it helps."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637969322,"post_id":70127571,"comment_id":123971462,"body_markdown":"@LuckyBandit74 *&quot;open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton&quot;* Good idea. Cut the problem down to the most basic form. Doing so might solve the problem &amp; demonstrate to you how to use a card layout in the actual GUI. But if not, [edit] to add that [mre] and thereby raise the chance of getting help.","body":"@LuckyBandit74 <i>&quot;open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton&quot;</i> Good idea. Cut the problem down to the most basic form. Doing so might solve the problem &amp; demonstrate to you how to use a card layout in the actual GUI. But if not, <a href=\"https://stackoverflow.com/posts/70127571/edit\">edit</a> to add that <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and thereby raise the chance of getting help."},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637990676,"post_id":70127571,"comment_id":123973888,"body_markdown":"So I tried that and it seems when the button is in the main window class it can send you to any panel including the ones that were implemented in their own class, but for some reason it does not work when I press the button in let say register panel even though everything else looks good and there is no runtime issue or anything else. So for now I am implementing all the panels in the same class which will be way way too long (because I might have to add up to 20 panels) cause I&#39;m running out of time. Hopefully I can figure it out later.","body":"So I tried that and it seems when the button is in the main window class it can send you to any panel including the ones that were implemented in their own class, but for some reason it does not work when I press the button in let say register panel even though everything else looks good and there is no runtime issue or anything else. So for now I am implementing all the panels in the same class which will be way way too long (because I might have to add up to 20 panels) cause I&#39;m running out of time. Hopefully I can figure it out later."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637991100,"post_id":70127571,"comment_id":123973946,"body_markdown":"*&quot;So I tried that..&quot;* Tried what? Who are you replying to? Tip: Add @LuckyBandit74 (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;So I tried that..&quot;</i> Tried what? Who are you replying to? Tip: Add @LuckyBandit74 (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638003697,"post_id":70127571,"comment_id":123975702,"body_markdown":"Start with a simple working example and modify it to your needs: [1](https://stackoverflow.com/a/46013230/3992939) , [2](https://stackoverflow.com/a/61121540/3992939)","body":"Start with a simple working example and modify it to your needs: <a href=\"https://stackoverflow.com/a/46013230/3992939\">1</a> , <a href=\"https://stackoverflow.com/a/61121540/3992939\">2</a>"}],"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637944837,"creation_date":1637944837,"question_id":70127571,"body_markdown":"I have a login and a register panel and a window to hold all the panels. What I am trying to do is to go to the login panel when the register button is pressed. But it does not work. The method that I use would work if the login panel is inside the window but when it is in its own class it doesn&#39;t. Can someone please let me know how to do this? \r\nHere is my code for the Window\r\n\r\n```\r\npackage userInterface;\r\n\r\nimport java.awt.*;\r\nimport java.awt.EventQueue;\r\n\r\nimport java.sql.*;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\nimport company.CompanySys;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.CardLayout;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\n\r\npublic class FrontEnd {\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\t\r\n\tprivate static FrontEnd  front = new FrontEnd();\r\n\t\r\n\tprivate JFrame frame;\r\n\tprivate final JLayeredPane layeredPane = new JLayeredPane();\r\n\tpublic final RegisterPanel registerPan = new RegisterPanel();\r\n\tpublic final LoginPanel loginPan = new LoginPanel();\r\n\t\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFrontEnd window = new FrontEnd();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tprivate FrontEnd() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\t\r\n\t\t\r\n\t\tthis.setFrame();\r\n\t\tthis.setLayout();\r\n\t\tthis.addPanels();\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n\t/**\r\n\t * Setting up the main frame \r\n\t */\r\n\tprivate void setFrame() {\r\n\t\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.setBounds(100, 100, 900, 700);\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tlayeredPane.setBounds(0, 0, 900, 700);\r\n\t\tframe.getContentPane().add(layeredPane);\r\n\t\tlayeredPane.setLayout(new CardLayout(0, 0));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Setting Layout\r\n\t */\r\n\t\r\n\tpublic void setLayout() {\r\n//\t\tframe.getContentPane().add(layeredPane, &quot;name_2578740971832500&quot;);\r\n//\t\tlayeredPane.setLayout(new CardLayout(0, 0));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void SetSizeandLocation() {\r\n\t\t\r\n\t\tthis.registerPan.setBounds(10, 10, 900, 700);\r\n\t\tlayeredPane.setLayer(loginPan, 0);\r\n\t\tthis.loginPan.setBounds(10, 10, 900, 700);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set visibility of the components\r\n\t */\r\n\tprivate void setVisibility() {\r\n\r\n//\t\tthis.registerPan.setVisible(true);\r\n//\t\tthis.loginPan.setVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding panels to the window\r\n\t */\r\n\tprivate void addPanels() {\r\n\t\t\r\n\t\tlayeredPane.add(registerPan);\r\n\t\tlayeredPane.add(loginPan);\r\n\t}\r\n\t\r\n\tpublic static FrontEnd getFront() {\r\n\t\t\r\n\t\treturn front;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Switching Panels\r\n\t * @param panel\r\n\t */\r\n\tpublic void switchPanels(JPanel panel) {\r\n\t\tlayeredPane.removeAll();\r\n\t\tlayeredPane.add(panel);\r\n\t\tlayeredPane.repaint();\r\n\t\tlayeredPane.revalidate();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic LoginPanel getLoginPan() {\r\n\t\treturn this.loginPan;\r\n\t}\r\n\t\r\n\t\r\n}\r\n``` \r\n\r\nHere is the code for Register Panel\r\n\r\n```\r\npackage userInterface;\r\nimport company.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class RegisterPanel extends JPanel implements ActionListener{\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\tFrontEnd front = FrontEnd.getFront();\r\n\t\r\n\t// Input fields\r\n\tprivate JTextField usernameTextField = new JTextField();\r\n\tprivate JPasswordField passwordField1 = new JPasswordField();\r\n\tprivate JPasswordField passwordField2 = new JPasswordField();\r\n\t\r\n\t\r\n\t// Labels\r\n\tprivate JLabel usernameLabel = new JLabel(&quot;Username&quot;);\r\n\tprivate JLabel password1Label = new JLabel(&quot;Password&quot;);\r\n\tprivate JLabel password2Label = new JLabel(&quot;Password&quot;);\r\n\t\r\n\t\r\n\t\r\n\t// Buttons\r\n\tprivate JButton registerButton = new JButton(&quot;REGISTER&quot;);\r\n\tprivate JButton cancelButton = new JButton(&quot;CANCEL&quot;);\r\n\tprivate JButton haveAccount = new JButton(&quot;Already have an account? Login&quot;);\r\n\tprivate JButton clearButton = new JButton(&quot;CLEAR&quot;);\r\n\t\r\n\t// Others\r\n\tprivate JCheckBox showPasswordCheckBox = new JCheckBox(&quot;Show Password&quot;);\r\n\t\r\n\r\n\t/**\r\n\t * Create the panel.\r\n\t */\r\n\tpublic RegisterPanel() {\r\n\t\tsetLayout(null);\r\n\t\tthis.addComponents();\r\n\t\tthis.setSizeandLocations();\t\t\r\n\t\tthis.addActionEvent();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Methods\r\n\t */\r\n\t\r\n\t// Set size and location of the components\r\n\tpublic void setSizeandLocations() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tusernameLabel.setBounds(312, 106, 64, 14);\r\n\t\tpassword1Label.setBounds(324, 175, 64, 14);\r\n\t\tpassword2Label.setBounds(312, 237, 64, 14);\r\n\t\t\r\n\t\t// Input Fields\r\n\t\tusernameTextField.setBounds(493, 103, 96, 20);\r\n\t\tpasswordField1.setBounds(493, 173, 97, 17);\r\n\t\tpasswordField2.setBounds(494, 234, 96, 20);\r\n\t\t\r\n\t\tpasswordField1.setEchoChar(&#39;*&#39;);\r\n\t\tpasswordField2.setEchoChar(&#39;*&#39;);\r\n\t\t\r\n\t\t//Buttons\r\n\t\tregisterButton.setBounds(337, 301, 89, 23);\r\n\t\tcancelButton.setBounds(479, 301, 89, 23);\r\n\t\thaveAccount.setBounds(366, 363, 196, 23);\r\n\t\tclearButton.setBounds(606, 301, 89, 23);\r\n\t\t\r\n\t\t// Others\r\n\t\tshowPasswordCheckBox.setBounds(493, 261, 141, 23);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t// Add all components to the panel\r\n\tpublic void addComponents() {\r\n\t\t\r\n\t\t// Add Labels \r\n\t\tadd(usernameLabel);\r\n\t\tadd(password1Label);\r\n\t\tadd(password2Label);\r\n\t\t\r\n\t\t// Add input fields\r\n\t\tadd(usernameTextField);\r\n\t\tadd(passwordField1);\r\n\t\tadd(passwordField2);\r\n\t\t\r\n\t\t// Add Buttons\r\n\t\tadd(registerButton);\t\r\n\t\tadd(cancelButton);\t\t\r\n\t\tadd(haveAccount);\r\n\t\tadd(clearButton);\r\n\t\t\r\n\t\t// Others\r\n\t\tadd(showPasswordCheckBox);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adding Action listener\r\n\t */\r\n\tpublic void addActionEvent() {\r\n\t\t\r\n\t\tthis.registerButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tfront.switchPanels(front.getLoginPan());\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.cancelButton.addActionListener(this);\r\n\t\tthis.haveAccount.addActionListener(this);\r\n\t\tthis.clearButton.addActionListener(this);\r\n\t\tthis.showPasswordCheckBox.addActionListener(this);\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Main method of the panel \r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tRegisterPanel frame = new RegisterPanel();\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setBounds(10, 10, 900, 500);\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding the functionality to the components \r\n\t */\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tString usr = this.usernameTextField.getText();\r\n\t\tString pass1 = String.valueOf(this.passwordField1.getPassword());\r\n\t\tString pass2 = String.valueOf(this.passwordField2.getPassword());\r\n\t\t\r\n//\t\tif (e.getSource() == this.registerButton) {\r\n//\t\t\tif (sys.register(usr, pass1, pass2)) {\r\n//\t\t\t//\tJOptionPane.showConfirmDialog(null, &quot;Success&quot;, getName(), JOptionPane.DEFAULT_OPTION);\r\n//\t\t\t\t\r\n//\t\t\t\tfront.switchPanels(front.getLoginPan());\r\n//\t\t\t}\r\n//\t\t\telse {\r\n//\t\t\t\tJOptionPane.showConfirmDialog(null, &quot;fail&quot;, getName(), JOptionPane.DEFAULT_OPTION);\r\n//\t\t\t}\r\n//\t\t}\r\n\t\tif (e.getSource() == this.cancelButton) {\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.haveAccount) {\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.showPasswordCheckBox) {\r\n\t\t\t\r\n\t\t\tif(this.showPasswordCheckBox.isSelected()) {\r\n\t\t\t\tthis.passwordField1.setEchoChar((char) 0);\r\n\t\t\t\tthis.passwordField2.setEchoChar((char) 0);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.passwordField1.setEchoChar(&#39;*&#39;);\r\n\t\t\t\tthis.passwordField2.setEchoChar(&#39;*&#39;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.clearButton) {\r\n\t\t\tthis.passwordField1.setText(&quot;&quot;);\r\n\t\t\tthis.passwordField2.setText(&quot;&quot;);\r\n\t\t\tthis.usernameTextField.setText(&quot;&quot;);\r\n\t\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nHere is code for login panel\r\n```\r\npackage userInterface;\r\nimport company.CompanySys;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class LoginPanel extends JPanel implements ActionListener{\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\t// Fields\r\n\tprivate JTextField userNameTextField = new JTextField();;\r\n\tprivate JPasswordField passwordField = new JPasswordField();;\r\n\t\r\n\t// Labels\r\n\tJLabel userNameLabel = new JLabel(&quot;Username&quot;);\r\n\tJLabel passwordLabel = new JLabel(&quot;Password&quot;);\r\n\t\r\n\t// Buttons\r\n\tJButton cancelButton = new JButton(&quot;CANCEL&quot;);\r\n\tJButton loginButton = new JButton(&quot;LOGIN&quot;);\r\n\tJButton noAccountButton = new JButton(&quot;Don&#39;t have an acount? register&quot;);\r\n\tJButton clearButton = new JButton(&quot;CLEAR&quot;);\r\n\t\r\n\t// Others\r\n\tJCheckBox showPassCheckBox = new JCheckBox(&quot;Show Password&quot;);\r\n\r\n\t\r\n\t/**\r\n\t *  Constructor\r\n\t */\r\n\tpublic LoginPanel() {\r\n\t\tsetLayout(null);\r\n\t\tthis.setSizeAndLocation();\r\n\t\tthis.addComponent();\r\n\t\tthis.addAction();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Setting size and location of the components \r\n\t */\r\n\tpublic void setSizeAndLocation() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tuserNameLabel.setBounds(97, 52, 69, 14);\r\n\t\tpasswordLabel.setBounds(97, 88, 48, 14);\r\n\t\t\r\n\t\t// TextFields\r\n\t\tpasswordField.setBounds(197, 85, 103, 20);\r\n\t\tuserNameTextField.setBounds(197, 49, 96, 20);\r\n\t\t\r\n\t\t// Buttons\r\n\t\tclearButton.setBounds(325, 146, 89, 23);\r\n\t\tnoAccountButton.setBounds(85, 196, 208, 23);\r\n\t\tcancelButton.setBounds(209, 146, 89, 23);\r\n\t\tloginButton.setBounds(85, 146, 89, 23);\r\n\t\t\r\n\t\t// Others\r\n\t\tshowPassCheckBox.setBounds(197, 116, 130, 23);\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adding components to the Panel\r\n\t */\r\n\tpublic void addComponent() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tthis.add(userNameLabel);\r\n\t\tthis.add(passwordLabel);\r\n\t\t\t\t\r\n\t\t// TextFields\r\n\t\tthis.add(userNameTextField);\r\n\t\tthis.add(passwordField);\r\n\t\t\t\t\r\n\t\t// Buttons\r\n\t\tthis.add(loginButton);\r\n\t\tthis.add(cancelButton);\r\n\t\tthis.add(noAccountButton);\r\n\t\tthis.add(clearButton);\r\n\t\t\t\t\r\n\t\t// Others\r\n\t\tthis.add(showPassCheckBox);\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding ActionListener to the interactive components\r\n\t */\r\n\tpublic void addAction() {\r\n\t\t\r\n\t\t// Buttons\r\n\t\tthis.clearButton.addActionListener(this);\r\n\t\tthis.cancelButton.addActionListener(this);\r\n\t\tthis.loginButton.addActionListener(this);\r\n\t\tthis.noAccountButton.addActionListener(this);\r\n\t\t\r\n\t\t\r\n\t\t// Others\r\n\t\tthis.showPassCheckBox.addActionListener(this);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tLoginPanel frame = new LoginPanel();\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setBounds(10, 10, 900, 700);\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI have tried other ways too but it doesnt work!","title":"calling a JPanel from another JPanel in a window","body":"<p>I have a login and a register panel and a window to hold all the panels. What I am trying to do is to go to the login panel when the register button is pressed. But it does not work. The method that I use would work if the login panel is inside the window but when it is in its own class it doesn't. Can someone please let me know how to do this?\nHere is my code for the Window</p>\n<pre><code>package userInterface;\n\nimport java.awt.*;\nimport java.awt.EventQueue;\n\nimport java.sql.*;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport company.CompanySys;\n\nimport javax.swing.*;\nimport java.awt.CardLayout;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\n\npublic class FrontEnd {\n    \n    /**\n     * Variables\n     */\n    \n    // System\n    CompanySys sys = CompanySys.getSystem();\n    \n    private static FrontEnd  front = new FrontEnd();\n    \n    private JFrame frame;\n    private final JLayeredPane layeredPane = new JLayeredPane();\n    public final RegisterPanel registerPan = new RegisterPanel();\n    public final LoginPanel loginPan = new LoginPanel();\n    \n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    FrontEnd window = new FrontEnd();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    private FrontEnd() {\n        initialize();\n    }\n\n    \n    \n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        \n        \n        this.setFrame();\n        this.setLayout();\n        this.addPanels();\n    \n        \n    }\n    \n    \n    \n\n    /**\n     * Setting up the main frame \n     */\n    private void setFrame() {\n        \n        frame = new JFrame();\n        frame.setBounds(100, 100, 900, 700);    \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        layeredPane.setBounds(0, 0, 900, 700);\n        frame.getContentPane().add(layeredPane);\n        layeredPane.setLayout(new CardLayout(0, 0));\n    }\n    \n    /**\n     * Setting Layout\n     */\n    \n    public void setLayout() {\n//      frame.getContentPane().add(layeredPane, &quot;name_2578740971832500&quot;);\n//      layeredPane.setLayout(new CardLayout(0, 0));\n        \n    }\n    \n    \n    public void SetSizeandLocation() {\n        \n        this.registerPan.setBounds(10, 10, 900, 700);\n        layeredPane.setLayer(loginPan, 0);\n        this.loginPan.setBounds(10, 10, 900, 700);\n    }\n    \n    /**\n     * Set visibility of the components\n     */\n    private void setVisibility() {\n\n//      this.registerPan.setVisible(true);\n//      this.loginPan.setVisible(true);\n        \n    }\n    \n    /**\n     * Adding panels to the window\n     */\n    private void addPanels() {\n        \n        layeredPane.add(registerPan);\n        layeredPane.add(loginPan);\n    }\n    \n    public static FrontEnd getFront() {\n        \n        return front;\n    }\n    \n    /**\n     * Switching Panels\n     * @param panel\n     */\n    public void switchPanels(JPanel panel) {\n        layeredPane.removeAll();\n        layeredPane.add(panel);\n        layeredPane.repaint();\n        layeredPane.revalidate();\n        \n    }\n    \n    public LoginPanel getLoginPan() {\n        return this.loginPan;\n    }\n    \n    \n}\n</code></pre>\n<p>Here is the code for Register Panel</p>\n<pre><code>package userInterface;\nimport company.*;\n\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class RegisterPanel extends JPanel implements ActionListener{\n    \n    /**\n     * Variables\n     */\n    // System\n    CompanySys sys = CompanySys.getSystem();\n    FrontEnd front = FrontEnd.getFront();\n    \n    // Input fields\n    private JTextField usernameTextField = new JTextField();\n    private JPasswordField passwordField1 = new JPasswordField();\n    private JPasswordField passwordField2 = new JPasswordField();\n    \n    \n    // Labels\n    private JLabel usernameLabel = new JLabel(&quot;Username&quot;);\n    private JLabel password1Label = new JLabel(&quot;Password&quot;);\n    private JLabel password2Label = new JLabel(&quot;Password&quot;);\n    \n    \n    \n    // Buttons\n    private JButton registerButton = new JButton(&quot;REGISTER&quot;);\n    private JButton cancelButton = new JButton(&quot;CANCEL&quot;);\n    private JButton haveAccount = new JButton(&quot;Already have an account? Login&quot;);\n    private JButton clearButton = new JButton(&quot;CLEAR&quot;);\n    \n    // Others\n    private JCheckBox showPasswordCheckBox = new JCheckBox(&quot;Show Password&quot;);\n    \n\n    /**\n     * Create the panel.\n     */\n    public RegisterPanel() {\n        setLayout(null);\n        this.addComponents();\n        this.setSizeandLocations();     \n        this.addActionEvent();\n    }\n    \n    /**\n     * Methods\n     */\n    \n    // Set size and location of the components\n    public void setSizeandLocations() {\n        \n        // Labels\n        usernameLabel.setBounds(312, 106, 64, 14);\n        password1Label.setBounds(324, 175, 64, 14);\n        password2Label.setBounds(312, 237, 64, 14);\n        \n        // Input Fields\n        usernameTextField.setBounds(493, 103, 96, 20);\n        passwordField1.setBounds(493, 173, 97, 17);\n        passwordField2.setBounds(494, 234, 96, 20);\n        \n        passwordField1.setEchoChar('*');\n        passwordField2.setEchoChar('*');\n        \n        //Buttons\n        registerButton.setBounds(337, 301, 89, 23);\n        cancelButton.setBounds(479, 301, 89, 23);\n        haveAccount.setBounds(366, 363, 196, 23);\n        clearButton.setBounds(606, 301, 89, 23);\n        \n        // Others\n        showPasswordCheckBox.setBounds(493, 261, 141, 23);\n        \n    }\n    \n    \n    // Add all components to the panel\n    public void addComponents() {\n        \n        // Add Labels \n        add(usernameLabel);\n        add(password1Label);\n        add(password2Label);\n        \n        // Add input fields\n        add(usernameTextField);\n        add(passwordField1);\n        add(passwordField2);\n        \n        // Add Buttons\n        add(registerButton);    \n        add(cancelButton);      \n        add(haveAccount);\n        add(clearButton);\n        \n        // Others\n        add(showPasswordCheckBox);\n        \n    }\n    \n    \n    /**\n     * Adding Action listener\n     */\n    public void addActionEvent() {\n        \n        this.registerButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                front.switchPanels(front.getLoginPan());\n            }\n        });\n        this.cancelButton.addActionListener(this);\n        this.haveAccount.addActionListener(this);\n        this.clearButton.addActionListener(this);\n        this.showPasswordCheckBox.addActionListener(this);\n        \n    }\n    \n    /**\n     * Main method of the panel \n     * @param args\n     */\n    public static void main(String args[]) {\n        \n        RegisterPanel frame = new RegisterPanel();\n        frame.setVisible(true);\n        frame.setBounds(10, 10, 900, 500);      \n    }\n    \n    /**\n     * Adding the functionality to the components \n     */\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        String usr = this.usernameTextField.getText();\n        String pass1 = String.valueOf(this.passwordField1.getPassword());\n        String pass2 = String.valueOf(this.passwordField2.getPassword());\n        \n//      if (e.getSource() == this.registerButton) {\n//          if (sys.register(usr, pass1, pass2)) {\n//          //  JOptionPane.showConfirmDialog(null, &quot;Success&quot;, getName(), JOptionPane.DEFAULT_OPTION);\n//              \n//              front.switchPanels(front.getLoginPan());\n//          }\n//          else {\n//              JOptionPane.showConfirmDialog(null, &quot;fail&quot;, getName(), JOptionPane.DEFAULT_OPTION);\n//          }\n//      }\n        if (e.getSource() == this.cancelButton) {\n            \n        }\n        else if (e.getSource() == this.haveAccount) {\n            \n        }\n        else if (e.getSource() == this.showPasswordCheckBox) {\n            \n            if(this.showPasswordCheckBox.isSelected()) {\n                this.passwordField1.setEchoChar((char) 0);\n                this.passwordField2.setEchoChar((char) 0);\n            }\n            else {\n                this.passwordField1.setEchoChar('*');\n                this.passwordField2.setEchoChar('*');\n            }\n            \n        }\n        else if (e.getSource() == this.clearButton) {\n            this.passwordField1.setText(&quot;&quot;);\n            this.passwordField2.setText(&quot;&quot;);\n            this.usernameTextField.setText(&quot;&quot;);\n        }\n    \n    \n    }\n    \n\n    \n    \n\n}\n\n</code></pre>\n<p>Here is code for login panel</p>\n<pre><code>package userInterface;\nimport company.CompanySys;\n\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class LoginPanel extends JPanel implements ActionListener{\n    \n    /**\n     * Variables\n     */\n    // System\n    CompanySys sys = CompanySys.getSystem();\n    // Fields\n    private JTextField userNameTextField = new JTextField();;\n    private JPasswordField passwordField = new JPasswordField();;\n    \n    // Labels\n    JLabel userNameLabel = new JLabel(&quot;Username&quot;);\n    JLabel passwordLabel = new JLabel(&quot;Password&quot;);\n    \n    // Buttons\n    JButton cancelButton = new JButton(&quot;CANCEL&quot;);\n    JButton loginButton = new JButton(&quot;LOGIN&quot;);\n    JButton noAccountButton = new JButton(&quot;Don't have an acount? register&quot;);\n    JButton clearButton = new JButton(&quot;CLEAR&quot;);\n    \n    // Others\n    JCheckBox showPassCheckBox = new JCheckBox(&quot;Show Password&quot;);\n\n    \n    /**\n     *  Constructor\n     */\n    public LoginPanel() {\n        setLayout(null);\n        this.setSizeAndLocation();\n        this.addComponent();\n        this.addAction();\n    }\n    \n    /**\n     * Setting size and location of the components \n     */\n    public void setSizeAndLocation() {\n        \n        // Labels\n        userNameLabel.setBounds(97, 52, 69, 14);\n        passwordLabel.setBounds(97, 88, 48, 14);\n        \n        // TextFields\n        passwordField.setBounds(197, 85, 103, 20);\n        userNameTextField.setBounds(197, 49, 96, 20);\n        \n        // Buttons\n        clearButton.setBounds(325, 146, 89, 23);\n        noAccountButton.setBounds(85, 196, 208, 23);\n        cancelButton.setBounds(209, 146, 89, 23);\n        loginButton.setBounds(85, 146, 89, 23);\n        \n        // Others\n        showPassCheckBox.setBounds(197, 116, 130, 23);\n    }\n    \n    \n    /**\n     * Adding components to the Panel\n     */\n    public void addComponent() {\n        \n        // Labels\n        this.add(userNameLabel);\n        this.add(passwordLabel);\n                \n        // TextFields\n        this.add(userNameTextField);\n        this.add(passwordField);\n                \n        // Buttons\n        this.add(loginButton);\n        this.add(cancelButton);\n        this.add(noAccountButton);\n        this.add(clearButton);\n                \n        // Others\n        this.add(showPassCheckBox);\n\n    }\n    \n    /**\n     * Adding ActionListener to the interactive components\n     */\n    public void addAction() {\n        \n        // Buttons\n        this.clearButton.addActionListener(this);\n        this.cancelButton.addActionListener(this);\n        this.loginButton.addActionListener(this);\n        this.noAccountButton.addActionListener(this);\n        \n        \n        // Others\n        this.showPassCheckBox.addActionListener(this);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n    }\n    \n    public static void main(String args[]) {\n        \n        LoginPanel frame = new LoginPanel();\n        frame.setVisible(true);\n        frame.setBounds(10, 10, 900, 700);      \n    }\n\n}\n</code></pre>\n<p>I have tried other ways too but it doesnt work!</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1636871,"reputation":798,"user_id":1510130,"display_name":"AAV"},"score":0,"creation_date":1602068557,"post_id":64242642,"comment_id":113601085,"body_markdown":"can you show log of android studio exception","body":"can you show log of android studio exception"},{"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"score":0,"creation_date":1602068998,"post_id":64242642,"comment_id":113601292,"body_markdown":"at android.app.Activity.startActivity(Activity.java:4800)\n        at android.app.Activity.startActivity(Activity.java:4768)\n        at app.xxxx.app.flip$onCreate$4.onClick(flip.kt:97)\n        at android.view.View.performClick(View.java:6259)\n        at android.view.View$PerformClick.run(View.java:24732)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6694)","body":"at android.app.Activity.startActivity(Activity.java:4800)         at android.app.Activity.startActivity(Activity.java:4768)         at app.xxxx.app.flip$onCreate$4.onClick(flip.kt:97)         at android.view.View.performClick(View.java:6259)         at android.view.View$PerformClick.run(View.java:24732)         at android.os.Handler.handleCallback(Handler.java:789)         at android.os.Handler.dispatchMessage(Handler.java:98)         at android.os.Looper.loop(Looper.java:164)         at android.app.ActivityThread.main(ActivityThread.java:6694)"},{"owner":{"account_id":1636871,"reputation":798,"user_id":1510130,"display_name":"AAV"},"score":0,"creation_date":1602069233,"post_id":64242642,"comment_id":113601405,"body_markdown":"this log has no enough vision","body":"this log has no enough vision"},{"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"score":0,"creation_date":1602069779,"post_id":64242642,"comment_id":113601653,"body_markdown":"ok, add in the cuestion","body":"ok, add in the cuestion"}],"answers":[{"tags":[],"owner":{"account_id":15815289,"reputation":1149,"user_id":11411224,"display_name":"James Riordan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637944592,"creation_date":1602071664,"answer_id":64243485,"question_id":64242642,"body_markdown":"The exception raised is \r\n```\r\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\r\n```\r\n[FileUriExposedException][1] is caused by \r\n\r\n&gt; The exception that is thrown when an application exposes a file:// Uri\r\n&gt; to another app.\r\n\r\n\r\nWhen targeting Api 24 or higher you need to use a [content provider][2] to share a file with another app.\r\n\r\n  [1]: https://developer.android.com/reference/android/os/FileUriExposedException\r\n  [2]: https://developer.android.com/guide/topics/providers/content-providers","title":"shared image file in Kotlin android studio","body":"<p>The exception raised is</p>\n<pre><code>android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\n</code></pre>\n<p><a href=\"https://developer.android.com/reference/android/os/FileUriExposedException\" rel=\"nofollow noreferrer\">FileUriExposedException</a> is caused by</p>\n<blockquote>\n<p>The exception that is thrown when an application exposes a file:// Uri\nto another app.</p>\n</blockquote>\n<p>When targeting Api 24 or higher you need to use a <a href=\"https://developer.android.com/guide/topics/providers/content-providers\" rel=\"nofollow noreferrer\">content provider</a> to share a file with another app.</p>\n"}],"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64243485,"answer_count":1,"score":0,"last_activity_date":1637944592,"creation_date":1602068303,"question_id":64242642,"body_markdown":"I have an application in which I try to share a photo, but when you share the application it crashes.\r\n\r\n```            \r\n    val bitmap = (imageViewx1.drawable as BitmapDrawable).bitmap\r\n    val nombreArchivo:String=&quot;Shared.jpg&quot;\r\n    val patchload= getExternalFilesDir(Environment.DIRECTORY_PICTURES).toString() + nombreArchivo\r\n    val mifile2 =File(patchload)\r\n    val stream: OutputStream = FileOutputStream(mifile2)\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream)\r\n    stream.flush()\r\n    stream.close()\r\n    val shareIntent = Intent(Intent.ACTION_SEND)\r\n    shareIntent.type = &quot;image/jpg&quot;\r\n    val photoFile = File(filesDir, &quot;PicturesShared.jpg&quot;)\r\n    Toast.makeText(this, photoFile.toString(), Toast.LENGTH_SHORT).show()\r\n    shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(photoFile))\r\n    startActivity(Intent.createChooser(shareIntent, &quot;Share image using&quot;))\r\n```\r\n\r\nlog:\r\n\r\n```\r\nProcess: app.xxxx.appimage, PID: 21588\r\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\r\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1967)\r\n    at android.net.Uri.checkFileUriExposed(Uri.java:2364)\r\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:941)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9747)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9753)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9732)\r\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1679)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4477)\r\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4435)\r\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\r\n    at android.app.Activity.startActivity(Activity.java:4800)\r\n    at android.app.Activity.startActivity(Activity.java:4768)\r\n    at app.xxxx.appimage.flip$onCreate$4.onClick(flip.kt:97)\r\n    at android.view.View.performClick(View.java:6259)\r\n    at android.view.View$PerformClick.run(View.java:24732)\r\n    at android.os.Handler.handleCallback(Handler.java:789)\r\n    at android.os.Handler.dispatchMessage(Handler.java:98)\r\n    at android.os.Looper.loop(Looper.java:164)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6694)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\r\n```","title":"shared image file in Kotlin android studio","body":"<p>I have an application in which I try to share a photo, but when you share the application it crashes.</p>\n<pre><code>    val bitmap = (imageViewx1.drawable as BitmapDrawable).bitmap\n    val nombreArchivo:String=&quot;Shared.jpg&quot;\n    val patchload= getExternalFilesDir(Environment.DIRECTORY_PICTURES).toString() + nombreArchivo\n    val mifile2 =File(patchload)\n    val stream: OutputStream = FileOutputStream(mifile2)\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream)\n    stream.flush()\n    stream.close()\n    val shareIntent = Intent(Intent.ACTION_SEND)\n    shareIntent.type = &quot;image/jpg&quot;\n    val photoFile = File(filesDir, &quot;PicturesShared.jpg&quot;)\n    Toast.makeText(this, photoFile.toString(), Toast.LENGTH_SHORT).show()\n    shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(photoFile))\n    startActivity(Intent.createChooser(shareIntent, &quot;Share image using&quot;))\n</code></pre>\n<p>log:</p>\n<pre><code>Process: app.xxxx.appimage, PID: 21588\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1967)\n    at android.net.Uri.checkFileUriExposed(Uri.java:2364)\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:941)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9747)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9753)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9732)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1679)\n    at android.app.Activity.startActivityForResult(Activity.java:4477)\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\n    at android.app.Activity.startActivityForResult(Activity.java:4435)\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\n    at android.app.Activity.startActivity(Activity.java:4800)\n    at android.app.Activity.startActivity(Activity.java:4768)\n    at app.xxxx.appimage.flip$onCreate$4.onClick(flip.kt:97)\n    at android.view.View.performClick(View.java:6259)\n    at android.view.View$PerformClick.run(View.java:24732)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6694)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n</code></pre>\n"},{"tags":["python","java","heroku","jvm"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1637916915,"post_id":70116238,"comment_id":123955702,"body_markdown":"Are you using Maven?","body":"Are you using Maven?"},{"owner":{"account_id":22296981,"reputation":1,"user_id":16522848,"display_name":"New"},"score":0,"creation_date":1637942050,"post_id":70116238,"comment_id":123964844,"body_markdown":"Yes I actually am using it now when im thinking of it","body":"Yes I actually am using it now when im thinking of it"}],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637943961,"creation_date":1637943961,"answer_id":70127400,"question_id":70116238,"body_markdown":"When dealing with memory footprint in Java applications you need to consider the following:\r\n\r\n - metaspace: it stores the class definitions and metadata\r\n - heap: it stores the Java objects allocated and used by the application\r\n\r\n**Reduce metaspace memory**  \r\nThis could be the first step: remove from `pom.xml` the dependencies that are not necessary (if any). When this is possible the memory can be reduced without major code refactoring.\r\n\r\nConsider refactoring existing code to remove large dependencies: this might require some rework/re-test but it can really help.\r\n\r\nAnalyse also [transitive dependencies][1] (imported by dependencies defined in the `pom.xml`) and exclude what is not necessary \r\n\r\n**Reduce heap memory**  \r\n\r\nThe next step is to understand (profile) the memory usage of your application to identify where memory allocation can be reduced.\r\n\r\nIt is easier to perform this on your local dev environment (Java IDEs have a built-in profiler or you can use JVM tools like VisualV), however it is possible to do it on [on Heroku][2].\r\n\r\nFind here a good [resource][3] about Java memory and [Medium][4] post about Java on Heroku\r\n\r\n\r\n \r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\r\n  [2]: https://devcenter.heroku.com/articles/java-memory-issues#profiling-a-java-application-on-heroku\r\n  [3]: https://rollbar.com/blog/how-to-detect-memory-leaks-in-java-causes-types-tools/\r\n  [4]: https://medium.com/geekculture/java-on-heroku-common-pitfalls-and-mistakes-40f8ea32f104","title":"heroku out of memory issue r14","body":"<p>When dealing with memory footprint in Java applications you need to consider the following:</p>\n<ul>\n<li>metaspace: it stores the class definitions and metadata</li>\n<li>heap: it stores the Java objects allocated and used by the application</li>\n</ul>\n<p><strong>Reduce metaspace memory</strong><br />\nThis could be the first step: remove from <code>pom.xml</code> the dependencies that are not necessary (if any). When this is possible the memory can be reduced without major code refactoring.</p>\n<p>Consider refactoring existing code to remove large dependencies: this might require some rework/re-test but it can really help.</p>\n<p>Analyse also <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\" rel=\"nofollow noreferrer\">transitive dependencies</a> (imported by dependencies defined in the <code>pom.xml</code>) and exclude what is not necessary</p>\n<p><strong>Reduce heap memory</strong></p>\n<p>The next step is to understand (profile) the memory usage of your application to identify where memory allocation can be reduced.</p>\n<p>It is easier to perform this on your local dev environment (Java IDEs have a built-in profiler or you can use JVM tools like VisualV), however it is possible to do it on <a href=\"https://devcenter.heroku.com/articles/java-memory-issues#profiling-a-java-application-on-heroku\" rel=\"nofollow noreferrer\">on Heroku</a>.</p>\n<p>Find here a good <a href=\"https://rollbar.com/blog/how-to-detect-memory-leaks-in-java-causes-types-tools/\" rel=\"nofollow noreferrer\">resource</a> about Java memory and <a href=\"https://medium.com/geekculture/java-on-heroku-common-pitfalls-and-mistakes-40f8ea32f104\" rel=\"nofollow noreferrer\">Medium</a> post about Java on Heroku</p>\n"}],"owner":{"account_id":22296981,"reputation":1,"user_id":16522848,"display_name":"New"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637943961,"creation_date":1637867490,"question_id":70116238,"body_markdown":"im running a python code on heroku with java and jvm and for some reason java and jvm seems to take all of the memory. Ive tried lowering the max it can use in config vals with java options, but it doesnt seem to work. Heres the logs\r\n\r\n    2021-11-25T19:08:05.685313+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00MB\r\n    2021-11-25T19:08:26.682574+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#load_avg_1m=0.07 sample#load_avg_5m=0.08 sample#load_avg_15m=0.08\r\n    2021-11-25T19:08:26.728173+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00M\r\n\r\nAre there any solutions to lower the memory usage without making any major changes. also sorry if i didnt give a lot of information about the issue. Im in the middle of something. \r\n\r\n**edit**\r\nJust realized i didnt put all of the error logs in here","title":"heroku out of memory issue r14","body":"<p>im running a python code on heroku with java and jvm and for some reason java and jvm seems to take all of the memory. Ive tried lowering the max it can use in config vals with java options, but it doesnt seem to work. Heres the logs</p>\n<pre><code>2021-11-25T19:08:05.685313+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00MB\n2021-11-25T19:08:26.682574+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#load_avg_1m=0.07 sample#load_avg_5m=0.08 sample#load_avg_15m=0.08\n2021-11-25T19:08:26.728173+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00M\n</code></pre>\n<p>Are there any solutions to lower the memory usage without making any major changes. also sorry if i didnt give a lot of information about the issue. Im in the middle of something.</p>\n<p><strong>edit</strong>\nJust realized i didnt put all of the error logs in here</p>\n"},{"tags":["java","algorithm","performance"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637945878,"post_id":70127174,"comment_id":123966141,"body_markdown":"Can you please post the listing of `constructPattern()`? It seems that you don&#39;t need any pattern matching at all. Simply string compare should do. Pattern matching being a costly operation should be avoided if possible.","body":"Can you please post the listing of <code>constructPattern()</code>? It seems that you don&#39;t need any pattern matching at all. Simply string compare should do. Pattern matching being a costly operation should be avoided if possible."},{"owner":{"account_id":6417458,"reputation":333,"user_id":4975198,"accept_rate":36,"display_name":"Jacob "},"score":0,"creation_date":1637949899,"post_id":70127174,"comment_id":123967320,"body_markdown":"I was under the impression that the compilation of the pattern was the expensive step but checking for a match is inexpensive. The function returns a regex like “^[abc]+c[abc]+$” where a and b are optional and c is required.","body":"I was under the impression that the compilation of the pattern was the expensive step but checking for a match is inexpensive. The function returns a regex like “^[abc]+c[abc]+$” where a and b are optional and c is required."}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637943682,"creation_date":1637943682,"answer_id":70127350,"question_id":70127174,"body_markdown":"I would go the other way around for this and loop over the list of known words instead.\r\n\r\nE.g. in pseudocode:\r\n\r\n```\r\nMap&lt;String,Integer&gt; combination2Count = new HashMap&lt;&gt;();\r\nfor (word in list){\r\n  String sortedCharacters = sortCharactersAlphabetically(word);\r\n  combination2Count.put(sortedCharacters, current count + 1);\r\n}\r\n```\r\n\r\nand now you search for the entry with the highest count. That gives you the combination of characters with the most valid words.\r\n\r\nIf you also need the words, you can adjust the map to a `Map&lt;String,List&lt;String&gt;&gt;` where the `List&lt;String&gt;` contains the words for that combination of characters.","title":"How to generate unique combinations of the alphabet up to length 6?","body":"<p>I would go the other way around for this and loop over the list of known words instead.</p>\n<p>E.g. in pseudocode:</p>\n<pre><code>Map&lt;String,Integer&gt; combination2Count = new HashMap&lt;&gt;();\nfor (word in list){\n  String sortedCharacters = sortCharactersAlphabetically(word);\n  combination2Count.put(sortedCharacters, current count + 1);\n}\n</code></pre>\n<p>and now you search for the entry with the highest count. That gives you the combination of characters with the most valid words.</p>\n<p>If you also need the words, you can adjust the map to a <code>Map&lt;String,List&lt;String&gt;&gt;</code> where the <code>List&lt;String&gt;</code> contains the words for that combination of characters.</p>\n"}],"owner":{"account_id":6417458,"reputation":333,"user_id":4975198,"accept_rate":36,"display_name":"Jacob "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127350,"answer_count":1,"score":0,"last_activity_date":1637943682,"creation_date":1637942823,"question_id":70127174,"body_markdown":"I am creating a simple program to see which combination of letters generates the most possible words for the NY Times Spelling Bee puzzle. What I have so far is a text file containing 80,000+ words and the below code which naively selects a required char and then generates a random combination of 6 characters. I then compile my pattern and test against the collection of known words. This solution needs to be optimized because there are 26^7 combinations to test.\r\n\r\nThis solution can be optimized in a few ways:\r\n\r\n - Do no regenerate optional character arrays that are similar or contain duplicate letters. &quot;abcdef&quot; would have the same results as &quot;fedcba&quot;. Likewise, &quot;aaabcd&quot; wont have as many solutions as &quot;abcdef&quot; because all letters can be reused.\r\n - Do no generate optional character arrays that contain the required character. The spot in the optional character array is best used to introduce a new character into the solution.\r\n - **Something else i cant think of?**\r\n\r\n```\r\nint numMaxSolutions = 0;\r\nchar[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\nfor (char keyChar : alphabet) {\r\n  for (char a : alphabet) {\r\n  for (char b : alphabet) {\r\n  for (char c : alphabet) {\r\n  for (char d : alphabet) {\r\n  for (char e : alphabet) {\r\n  for (char f : alphabet) {\r\n    char[] optionalChars = new char[]{a,b,c,d,e,f};\r\n    Pattern pattern = this.constructPattern(keyChar, optionalChars);\r\n    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n    for (String word : words) {\r\n      if (word.length() &gt;= this.minLength &amp;&amp; pattern.matcher(word).matches()) {\r\n        results.add(word);\r\n      }\r\n    }\r\n    if (results.size() &gt; numMaxSolutions) {\r\n      numMaxSolutions = results.size();\r\n      System.out.println(String.format(&quot;Max: %c-%s (%d)&quot;, keyChar, String.valueOf(optionalChars), numMaxSolutions));\r\n    }\r\n  }\r\n  }\r\n  }\r\n  }\r\n  }\r\n  }\r\n}\r\n```\r\n\r\n**How can i acheive the first two?**","title":"How to generate unique combinations of the alphabet up to length 6?","body":"<p>I am creating a simple program to see which combination of letters generates the most possible words for the NY Times Spelling Bee puzzle. What I have so far is a text file containing 80,000+ words and the below code which naively selects a required char and then generates a random combination of 6 characters. I then compile my pattern and test against the collection of known words. This solution needs to be optimized because there are 26^7 combinations to test.</p>\n<p>This solution can be optimized in a few ways:</p>\n<ul>\n<li>Do no regenerate optional character arrays that are similar or contain duplicate letters. &quot;abcdef&quot; would have the same results as &quot;fedcba&quot;. Likewise, &quot;aaabcd&quot; wont have as many solutions as &quot;abcdef&quot; because all letters can be reused.</li>\n<li>Do no generate optional character arrays that contain the required character. The spot in the optional character array is best used to introduce a new character into the solution.</li>\n<li><strong>Something else i cant think of?</strong></li>\n</ul>\n<pre><code>int numMaxSolutions = 0;\nchar[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\nfor (char keyChar : alphabet) {\n  for (char a : alphabet) {\n  for (char b : alphabet) {\n  for (char c : alphabet) {\n  for (char d : alphabet) {\n  for (char e : alphabet) {\n  for (char f : alphabet) {\n    char[] optionalChars = new char[]{a,b,c,d,e,f};\n    Pattern pattern = this.constructPattern(keyChar, optionalChars);\n    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\n    for (String word : words) {\n      if (word.length() &gt;= this.minLength &amp;&amp; pattern.matcher(word).matches()) {\n        results.add(word);\n      }\n    }\n    if (results.size() &gt; numMaxSolutions) {\n      numMaxSolutions = results.size();\n      System.out.println(String.format(&quot;Max: %c-%s (%d)&quot;, keyChar, String.valueOf(optionalChars), numMaxSolutions));\n    }\n  }\n  }\n  }\n  }\n  }\n  }\n}\n</code></pre>\n<p><strong>How can i acheive the first two?</strong></p>\n"},{"tags":["java","class","for-loop","random"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637929402,"post_id":70124268,"comment_id":123960235,"body_markdown":"fill everything with `L` and overwrite 8 random positions with `K` afterwards (make sure you don&#39;t pick the same location multiple times)? By the way, you could use loops for printing the board at the end.","body":"fill everything with <code>L</code> and overwrite 8 random positions with <code>K</code> afterwards (make sure you don&#39;t pick the same location multiple times)? By the way, you could use loops for printing the board at the end."}],"answers":[{"tags":[],"owner":{"account_id":23266854,"reputation":1,"user_id":17352268,"display_name":"Dawid Zienkiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637929600,"creation_date":1637929600,"answer_id":70124418,"question_id":70124268,"body_markdown":"I will try to fill whole array with &#39;L&#39; and as a next step pick 8 random places for &#39;K&#39;.\r\n\r\nYou should use sth like this to print\r\n\r\n    for(int i=0; i&lt;board.length; i++) {\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        for(int j=0; j&lt;board[0].length; j++) {\r\n            System.out.print(board[i][j]);\r\n        }\r\n    }\r\n    System.out.println(&quot; ─────────────&quot;);\r\n\r\n","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>I will try to fill whole array with 'L' and as a next step pick 8 random places for 'K'.</p>\n<p>You should use sth like this to print</p>\n<pre><code>for(int i=0; i&lt;board.length; i++) {\n    System.out.println(&quot; ─────────────&quot;);\n    for(int j=0; j&lt;board[0].length; j++) {\n        System.out.print(board[i][j]);\n    }\n}\nSystem.out.println(&quot; ─────────────&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637943551,"creation_date":1637943551,"answer_id":70127325,"question_id":70124268,"body_markdown":"The simplest way is to fill your `board` array with `K` and then randomly replace 8 of them with `L` as suggested by @dan1st. The following should work:\r\n```java\r\npublic class SimpsonsBoard {\r\n    public static void main(String[] args) {\r\n        String[][] board = new String[6][6];\r\n        for (String[] row : board) {\r\n            Arrays.fill(row, &quot;K&quot;);\r\n        }\r\n\r\n        Random random = new Random();\r\n        for(int i = 1; i &lt;= 8; i++) {\r\n            int x = random.nextInt(6);\r\n            int y = random.nextInt(6);\r\n            board[x][y]= &quot;L&quot;;\r\n        }\r\n\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n    }\r\n}\r\n```","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>The simplest way is to fill your <code>board</code> array with <code>K</code> and then randomly replace 8 of them with <code>L</code> as suggested by @dan1st. The following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpsonsBoard {\n    public static void main(String[] args) {\n        String[][] board = new String[6][6];\n        for (String[] row : board) {\n            Arrays.fill(row, &quot;K&quot;);\n        }\n\n        Random random = new Random();\n        for(int i = 1; i &lt;= 8; i++) {\n            int x = random.nextInt(6);\n            int y = random.nextInt(6);\n            board[x][y]= &quot;L&quot;;\n        }\n\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17660267,"reputation":3,"user_id":12818873,"display_name":"Vicente Mateu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127325,"answer_count":2,"score":0,"last_activity_date":1637943551,"creation_date":1637928942,"question_id":70124268,"body_markdown":" I have board made from class in Java with values (K, L) that will randomly fill the board. I wonder how to make the value &quot;K&quot; fill only certain number of cells (8 cells) randomly and the rest &quot;L&quot; would fill the board. My aim is to get a board where &quot;K&quot; appears 8 times and the rest would be &quot;L&quot; all randomly.\r\n\r\n```\r\npublic class SimpsonsBoard {\r\n    public static void main(String[] args) {\r\n        String[][] board = new String[6][6];\r\n\r\n        for(int i=0; i&lt;board.length; i++) {\r\n            for(int j=0; j&lt;board.length; j++) {\r\n                double random = Math.random();\r\n                if (random &lt; .8 ) {\r\n                    board[i][j]= String.valueOf(&#39;K&#39;);\r\n                }else {\r\n                    board[i][j]= String.valueOf(&#39;L&#39;);\r\n                }\r\n                System.out.print(board[i][j]);\r\n            }\r\n        }\r\n\r\n\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n\r\n\r\n    }\r\n}\r\n```","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>I have board made from class in Java with values (K, L) that will randomly fill the board. I wonder how to make the value &quot;K&quot; fill only certain number of cells (8 cells) randomly and the rest &quot;L&quot; would fill the board. My aim is to get a board where &quot;K&quot; appears 8 times and the rest would be &quot;L&quot; all randomly.</p>\n<pre><code>public class SimpsonsBoard {\n    public static void main(String[] args) {\n        String[][] board = new String[6][6];\n\n        for(int i=0; i&lt;board.length; i++) {\n            for(int j=0; j&lt;board.length; j++) {\n                double random = Math.random();\n                if (random &lt; .8 ) {\n                    board[i][j]= String.valueOf('K');\n                }else {\n                    board[i][j]= String.valueOf('L');\n                }\n                System.out.print(board[i][j]);\n            }\n        }\n\n\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n\n\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8177,"page":1815,"page_size":100}
