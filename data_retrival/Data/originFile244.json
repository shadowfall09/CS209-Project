{"items":[{"tags":["java","maven","dependencies","spring-saml","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683853899,"creation_date":1683853899,"answer_id":76232531,"question_id":76225938,"body_markdown":"I do believe that I have previously answered this identical question  previously on SO, but to save us both the trouble of looking it up, instead just download the esapi-2.5.2.0-configuration.jar found under the &#39;Assets&#39; section at https://github.com/ESAPI/esapi-java-legacy/releases/tag/esapi-2.5.2.0. Unjar that jar file, find the **ESAPI.properties** file and replace that 2.5.2.0 version of **ESAPI.properties** one with the old one that you presumably kept from ESAPI 2.2.0.0. That ought to fix your problem. (If you are using the ESAPI `Encryptor`, you may also want to copy your **Encryptor.MasterKey** and **Encryptor.MasterSalt** properties from your 2.2.0.0 **ESAPI.properties** file. But unless you made configuration changes, that&#39;s probably all that you need to preserve.)\r\n\r\nBTW, the reason you are getting that error is because the package namespace of `JavaLogFactory` changed when we started supporting SLF4J somewhere around 2.3.0.0. If you follow instructions in the release notes and read all the intervening release notes (well, at least through 2.3.0.0 or so), it probably would have been obvious.\r\n\r\nAnyhow, HTH. -kevin","title":"ESAPI-java.lang.ClassNotFoundException: org.owasp.esapi.reference.JavaLogFactory","body":"<p>I do believe that I have previously answered this identical question  previously on SO, but to save us both the trouble of looking it up, instead just download the esapi-2.5.2.0-configuration.jar found under the 'Assets' section at <a href=\"https://github.com/ESAPI/esapi-java-legacy/releases/tag/esapi-2.5.2.0\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/releases/tag/esapi-2.5.2.0</a>. Unjar that jar file, find the <strong>ESAPI.properties</strong> file and replace that 2.5.2.0 version of <strong>ESAPI.properties</strong> one with the old one that you presumably kept from ESAPI 2.2.0.0. That ought to fix your problem. (If you are using the ESAPI <code>Encryptor</code>, you may also want to copy your <strong>Encryptor.MasterKey</strong> and <strong>Encryptor.MasterSalt</strong> properties from your 2.2.0.0 <strong>ESAPI.properties</strong> file. But unless you made configuration changes, that's probably all that you need to preserve.)</p>\n<p>BTW, the reason you are getting that error is because the package namespace of <code>JavaLogFactory</code> changed when we started supporting SLF4J somewhere around 2.3.0.0. If you follow instructions in the release notes and read all the intervening release notes (well, at least through 2.3.0.0 or so), it probably would have been obvious.</p>\n<p>Anyhow, HTH. -kevin</p>\n"}],"owner":{"account_id":28577773,"reputation":1,"user_id":21879139,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692199704,"creation_date":1683796158,"question_id":76225938,"body_markdown":"Iam currently using esapi 2.2.0.0 version. When i tried to upgrade 2.2.0.0 to 2.5.2.0 iam getting this error..java.lang.ClassNotFoundException: org.owasp.esapi.reference.JavaLogFactory LogFactory class (org.owasp.esapi.reference.JavaLogFactory) must be in class path.\r\nI tried to add ESAPI.properties also but its not helped\r\n","title":"ESAPI-java.lang.ClassNotFoundException: org.owasp.esapi.reference.JavaLogFactory","body":"<p>Iam currently using esapi 2.2.0.0 version. When i tried to upgrade 2.2.0.0 to 2.5.2.0 iam getting this error..java.lang.ClassNotFoundException: org.owasp.esapi.reference.JavaLogFactory LogFactory class (org.owasp.esapi.reference.JavaLogFactory) must be in class path.\nI tried to add ESAPI.properties also but its not helped</p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1692030979,"post_id":76900607,"comment_id":135567650,"body_markdown":"Does it work for classes compiled in an earlier version?","body":"Does it work for classes compiled in an earlier version?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1692060710,"post_id":76900607,"comment_id":135571531,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. You did not even mention the exact ASM version use or show the source code for the compiled code.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. You did not even mention the exact ASM version use or show the source code for the compiled code."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692083351,"post_id":76900607,"comment_id":135573301,"body_markdown":"@Olivier I tried to run one more example with 52 version (Java 8) and exception is the same.","body":"@Olivier I tried to run one more example with 52 version (Java 8) and exception is the same."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692084294,"post_id":76900607,"comment_id":135573422,"body_markdown":"@kriegaex I added a bit of context. Thank you for your comment.","body":"@kriegaex I added a bit of context. Thank you for your comment."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692090218,"post_id":76900607,"comment_id":135574414,"body_markdown":"[That path](https://gitlab.ow2.org/asm/asm/-/blob/ASM_9_5/asm/src/main/java/org/objectweb/asm/ClassReader.java?ref_type=tags#L262) is only taken when it is not a valid class file.","body":"<a href=\"https://gitlab.ow2.org/asm/asm/-/blob/ASM_9_5/asm/src/main/java/org/objectweb/asm/ClassReader.java?ref_type=tags#L262\" rel=\"nofollow noreferrer\">That path</a> is only taken when it is not a valid class file."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692093212,"post_id":76900607,"comment_id":135574909,"body_markdown":"@JohannesKuhn Do you know how I can check &quot;validity&quot;? I tried to use `javap` and it parses bytecode successfully","body":"@JohannesKuhn Do you know how I can check &quot;validity&quot;? I tried to use <code>javap</code> and it parses bytecode successfully"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692095211,"post_id":76900607,"comment_id":135575249,"body_markdown":"Debugging. Did you try to set a breakpoint at the location where the exception is thrown? What is the value of the tag? What index is it? What does `javap` say about that constant pool index?","body":"Debugging. Did you try to set a breakpoint at the location where the exception is thrown? What is the value of the tag? What index is it? What does <code>javap</code> say about that constant pool index?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692097058,"post_id":76900607,"comment_id":135575547,"body_markdown":"@JohannesKuhn Location where the exception is thrown:\n\n`currentCpInfoOffset` = `10`\ntag (`classFileBuffer[currentCpInfoOffset]`) = `-65`\nActually the first twelve bytes are negative:\n`[-17, -65, -67, -17, -65, -67, -17, -65, -67, -17, -65, -67, 0, 0, 0, 60, 0, 41, 10, 0,  +more]`","body":"@JohannesKuhn Location where the exception is thrown:  <code>currentCpInfoOffset</code> = <code>10</code> tag (<code>classFileBuffer[currentCpInfoOffset]</code>) = <code>-65</code> Actually the first twelve bytes are negative: <code>[-17, -65, -67, -17, -65, -67, -17, -65, -67, -17, -65, -67, 0, 0, 0, 60, 0, 41, 10, 0,  +more]</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692098633,"post_id":76900607,"comment_id":135575838,"body_markdown":"And what about the index? What does javap say about the constant pool at that index?\nAlso, a class file should start with `0xCAFEBABE`.","body":"And what about the index? What does javap say about the constant pool at that index? Also, a class file should start with <code>0xCAFEBABE</code>."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692099129,"post_id":76900607,"comment_id":135575948,"body_markdown":"@JohannesKuhn `javap` constant pool entry: `#10 = Utf8               java/lang/System`","body":"@JohannesKuhn <code>javap</code> constant pool entry: <code>#10 = Utf8               java&#47;lang&#47;System</code>"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692099420,"post_id":76900607,"comment_id":135576017,"body_markdown":"@JohannesKuhn `hexdump -n 16 -C MethodByte.class ` gives me: `00000000  ca fe ba be 00 00 00 3c  00 29 0a 00 02 00 03 07`","body":"@JohannesKuhn <code>hexdump -n 16 -C MethodByte.class </code> gives me: <code>00000000  ca fe ba be 00 00 00 3c  00 29 0a 00 02 00 03 07</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692101021,"post_id":76900607,"comment_id":135576353,"body_markdown":"This does not look right to me. The hexdump does not match the contents of the array you showed, for some reason. The hexdump looks like a valid class file, the array does not.","body":"This does not look right to me. The hexdump does not match the contents of the array you showed, for some reason. The hexdump looks like a valid class file, the array does not."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1692101568,"post_id":76900607,"comment_id":135576475,"body_markdown":"What was unclear about my comment? An MCVE is meant to be a **complete reproducer**. &quot;A bit of context&quot; does not do the job here, I am afraid. Where is the class file you are trying to parse or the source code you compiled to create it? This is not a discussion forum where problems are meant to be debated in multiple iterations. Just ask a clear question and be happy to get a straight, spot-on answer.","body":"What was unclear about my comment? An MCVE is meant to be a <b>complete reproducer</b>. &quot;A bit of context&quot; does not do the job here, I am afraid. Where is the class file you are trying to parse or the source code you compiled to create it? This is not a discussion forum where problems are meant to be debated in multiple iterations. Just ask a clear question and be happy to get a straight, spot-on answer."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692108988,"post_id":76900607,"comment_id":135577949,"body_markdown":"@JohannesKuhn I added content of the `MethodByte` class and steps which I perform. Maybe this will help?","body":"@JohannesKuhn I added content of the <code>MethodByte</code> class and steps which I perform. Maybe this will help?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1692109211,"post_id":76900607,"comment_id":135577987,"body_markdown":"@kriegaex I tried to keep the question as small as possible at the cost of incompleteness. So, I added source code of the file to make the example fully complete. Hope it will help. Thank you four your comment.","body":"@kriegaex I tried to keep the question as small as possible at the cost of incompleteness. So, I added source code of the file to make the example fully complete. Hope it will help. Thank you four your comment."}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692198101,"creation_date":1692198101,"answer_id":76914822,"question_id":76900607,"body_markdown":"As [Johannes Kuhn](https://stackoverflow.com/users/845414/johannes-kuhn) mentioned, the binary representation of the original class didn&#39;t match the byte array passed into the `org.objectweb.asm.ClassReader` class. The root of the problem lies in the [Maven Resource Filtering](https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html) mechanism. To put it simply, Maven triggers the `resources:3.3.1:testResources` goal during the `generate-test-sources` phase, which replaces placeholders in resource files with actual values. When Maven attempts to apply this filtering to binary files, it can encounter encoding issues, leading to the exception I mentioned in my question.\r\n\r\n\r\nWhile the `src/test/resources` folder contained the correct bytecode, it was corrupted when I ran the tests (using `mvn clean test` command), subsequently causing the `IllegalArgumentException`.\r\n\r\nTo address this, I excluded `.class` files from filtering:\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;testResources&gt;\r\n    &lt;testResource&gt;\r\n      &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n      &lt;filtering&gt;false&lt;/filtering&gt;\r\n      &lt;includes&gt;\r\n        &lt;include&gt;**/*.class&lt;/include&gt;\r\n      &lt;/includes&gt;\r\n    &lt;/testResource&gt;\r\n  &lt;/testResources&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nWith this configuration, everything now works as expected without exceptions.\r\n","title":"Exception when parsing Java 16 bytecode with ASM library","body":"<p>As <a href=\"https://stackoverflow.com/users/845414/johannes-kuhn\">Johannes Kuhn</a> mentioned, the binary representation of the original class didn't match the byte array passed into the <code>org.objectweb.asm.ClassReader</code> class. The root of the problem lies in the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">Maven Resource Filtering</a> mechanism. To put it simply, Maven triggers the <code>resources:3.3.1:testResources</code> goal during the <code>generate-test-sources</code> phase, which replaces placeholders in resource files with actual values. When Maven attempts to apply this filtering to binary files, it can encounter encoding issues, leading to the exception I mentioned in my question.</p>\n<p>While the <code>src/test/resources</code> folder contained the correct bytecode, it was corrupted when I ran the tests (using <code>mvn clean test</code> command), subsequently causing the <code>IllegalArgumentException</code>.</p>\n<p>To address this, I excluded <code>.class</code> files from filtering:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;testResources&gt;\n    &lt;testResource&gt;\n      &lt;directory&gt;src/test/resources&lt;/directory&gt;\n      &lt;filtering&gt;false&lt;/filtering&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/*.class&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/testResource&gt;\n  &lt;/testResources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>With this configuration, everything now works as expected without exceptions.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76914822,"answer_count":1,"score":0,"last_activity_date":1692198101,"creation_date":1692030029,"question_id":76900607,"body_markdown":"I&#39;m trying to parse bytecode from Java 16 (bytecode version 60) using the [ObjectWeb ASM](https://asm.ow2.io). I&#39;ve written the following code:\r\n```java\r\n@Test\r\nvoid parseBytecode() {\r\n    try (InputStream stream = this.getClass()\r\n         .getClassLoader()\r\n         .getResourceAsStream(&quot;MethodByte.class&quot;)) {\r\n         //MethodByte.class has 60 version (Java 16)\r\n        new ClassReader(stream).accept(new ClassPrinter(), 0);\r\n    } catch (Exception ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n}\r\n\r\nprivate class ClassPrinter extends ClassVisitor {\r\n    protected ClassPrinter() {\r\n        super(Opcodes.ASM9);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the code, I&#39;m getting an `IllegalArgumentException`:\r\n```\r\nCaused by: java.lang.IllegalArgumentException\r\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:262)\r\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n```\r\n\r\nVersion of ASM library is `9.5` (from `pom.xml`):\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n  &lt;version&gt;9.5&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso, it&#39;s worth mentioning that I checked the `MethodByte.class` lies in the correct place. I printed its content to ensure that it is reachable in the test.\r\n\r\n\r\nFrom my understanding, ASM 9 should support java 16. I suspect the error might be due to the ASM version I&#39;m using, and its incompatibility with Java 16 bytecode, so I tried `Opcodes.V16` instead of `Opcodes.ASM9` and it didn&#39;t help.\r\n\r\nAlso I tried to parse the bytecode with 52 version (Java 8) and it didn&#39;t help either.\r\n \r\nHas anyone encountered this before?\r\n___\r\n**Update:** How I get `MethodByte.class`.\r\n\r\nI&#39;m using `maven` to build project and run the tests. So, I have the next pipeline:\r\n\r\n1. I create a java class with the next content:\r\n```java\r\npackage org.eolang.jeo;\r\n\r\npublic class MethodByte {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(method());\r\n\t\tSystem.out.println(&quot;passed&quot;);\r\n\t}\r\n\tstatic byte method() {\r\n\t\treturn 52;\r\n\t}\r\n}\r\n```\r\n2. I run `mvn clean compile` in order to build that class. I use the next maven configuration properties for that:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n  &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\n3. Then I copy that class under resource directory:\r\n```\r\ncp target/classes/org/eolang/jeo/MethodByte.class src/test/resources/.\r\n```\r\n\r\n4. Finally I run tests and get the exception which I mention above.","title":"Exception when parsing Java 16 bytecode with ASM library","body":"<p>I'm trying to parse bytecode from Java 16 (bytecode version 60) using the <a href=\"https://asm.ow2.io\" rel=\"nofollow noreferrer\">ObjectWeb ASM</a>. I've written the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid parseBytecode() {\n    try (InputStream stream = this.getClass()\n         .getClassLoader()\n         .getResourceAsStream(&quot;MethodByte.class&quot;)) {\n         //MethodByte.class has 60 version (Java 16)\n        new ClassReader(stream).accept(new ClassPrinter(), 0);\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n}\n\nprivate class ClassPrinter extends ClassVisitor {\n    protected ClassPrinter() {\n        super(Opcodes.ASM9);\n    }\n}\n</code></pre>\n<p>When I run the code, I'm getting an <code>IllegalArgumentException</code>:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:262)\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n   at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n</code></pre>\n<p>Version of ASM library is <code>9.5</code> (from <code>pom.xml</code>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\n  &lt;version&gt;9.5&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, it's worth mentioning that I checked the <code>MethodByte.class</code> lies in the correct place. I printed its content to ensure that it is reachable in the test.</p>\n<p>From my understanding, ASM 9 should support java 16. I suspect the error might be due to the ASM version I'm using, and its incompatibility with Java 16 bytecode, so I tried <code>Opcodes.V16</code> instead of <code>Opcodes.ASM9</code> and it didn't help.</p>\n<p>Also I tried to parse the bytecode with 52 version (Java 8) and it didn't help either.</p>\n<p>Has anyone encountered this before?</p>\n<hr />\n<p><strong>Update:</strong> How I get <code>MethodByte.class</code>.</p>\n<p>I'm using <code>maven</code> to build project and run the tests. So, I have the next pipeline:</p>\n<ol>\n<li>I create a java class with the next content:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package org.eolang.jeo;\n\npublic class MethodByte {\n    public static void main(String[] args) {\n        System.out.println(method());\n        System.out.println(&quot;passed&quot;);\n    }\n    static byte method() {\n        return 52;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>I run <code>mvn clean compile</code> in order to build that class. I use the next maven configuration properties for that:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Then I copy that class under resource directory:</li>\n</ol>\n<pre><code>cp target/classes/org/eolang/jeo/MethodByte.class src/test/resources/.\n</code></pre>\n<ol start=\"4\">\n<li>Finally I run tests and get the exception which I mention above.</li>\n</ol>\n"},{"tags":["java","string","encoding","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1692188060,"post_id":76913323,"comment_id":135589308,"body_markdown":"Changing the prototype of `GetStringCritical` would break existing applications that depend on the return value being &quot;pointer to a UTF-16 buffer&quot;. Have you benchmarked the overhead of doing `GetStringUTFChars`?","body":"Changing the prototype of <code>GetStringCritical</code> would break existing applications that depend on the return value being &quot;pointer to a UTF-16 buffer&quot;. Have you benchmarked the overhead of doing <code>GetStringUTFChars</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692191208,"creation_date":1692191208,"answer_id":76913867,"question_id":76913323,"body_markdown":"You can always disable it with `-XX:-CompactStrings`, if UTF-16 is acceptable Java heap-wise.","title":"&quot;String Compact&quot; has introduced some performance issues for the current JNI, How to avoid","body":"<p>You can always disable it with <code>-XX:-CompactStrings</code>, if UTF-16 is acceptable Java heap-wise.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692198090,"creation_date":1692197530,"answer_id":76914742,"question_id":76913323,"body_markdown":"&gt; Is there still a way to directly access the string content on the C++ side?\r\n\r\nNot in a safe and portable way.  If you tried to access the string content direct in C++ (i.e. without using `GetString` or `GetCriticalString`), you could get unlucky and find that the GC moves the heap node containing content it while you are accessing it.\r\n\r\n&gt; Do we really have to resort to reflection to retrieve the `byte[]` value from the `String`?\r\n\r\nThat would be a bad idea.  It would be non-portable ... and using reflection from JNI/C++ is liable to be *more expensive* than from Java.\r\n\r\nNote that sometime between Java 11 and Java 17, the C++ implementation of JNI `GetStringCritical` changed so that it now *always* copies the characters.\r\n\r\nI haven&#39;t researched why they changed this, but if you cared to put in the effort, there *could be* clues in the commit messages and associated issues in the issue trackers.  The code is in &quot;src/hotspot/share/prims/jni.cpp&quot; or &quot;hotspot/src/share/prims/jni.cpp&quot; depending on the OpenJDK version.\r\n\r\nIn my opinion, you are better off not trying to optimize this.  If you do optimize it, you will find that you need to optimize it differently for different Java versions.\r\n","title":"&quot;String Compact&quot; has introduced some performance issues for the current JNI, How to avoid","body":"<blockquote>\n<p>Is there still a way to directly access the string content on the C++ side?</p>\n</blockquote>\n<p>Not in a safe and portable way.  If you tried to access the string content direct in C++ (i.e. without using <code>GetString</code> or <code>GetCriticalString</code>), you could get unlucky and find that the GC moves the heap node containing content it while you are accessing it.</p>\n<blockquote>\n<p>Do we really have to resort to reflection to retrieve the <code>byte[]</code> value from the <code>String</code>?</p>\n</blockquote>\n<p>That would be a bad idea.  It would be non-portable ... and using reflection from JNI/C++ is liable to be <em>more expensive</em> than from Java.</p>\n<p>Note that sometime between Java 11 and Java 17, the C++ implementation of JNI <code>GetStringCritical</code> changed so that it now <em>always</em> copies the characters.</p>\n<p>I haven't researched why they changed this, but if you cared to put in the effort, there <em>could be</em> clues in the commit messages and associated issues in the issue trackers.  The code is in &quot;src/hotspot/share/prims/jni.cpp&quot; or &quot;hotspot/src/share/prims/jni.cpp&quot; depending on the OpenJDK version.</p>\n<p>In my opinion, you are better off not trying to optimize this.  If you do optimize it, you will find that you need to optimize it differently for different Java versions.</p>\n"}],"owner":{"account_id":11562141,"reputation":53,"user_id":8471533,"display_name":"pippo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76914742,"answer_count":2,"score":2,"last_activity_date":1692198090,"creation_date":1692187053,"question_id":76913323,"body_markdown":"To minimize copy operations and directly access the string content of String, JNI provides GetStringCritical, which has always worked well. However, with the introduction of &quot;String Compact&quot; in Java, the string encoding could either be Latin1 or UTF16. In English-speaking regions, the vast majority of characters can be represented using Latin1, so most String objects internally use Latin1 storage. This creates an awkward situation when using GetStringCritical, as the contained string will be forcibly transcoded to UTF16, implying a definite copy operation.\r\n\r\nIs there still a way to directly access the string content on the C++ side? Do we really have to resort to reflection to retrieve the byte[] value from the String?","title":"&quot;String Compact&quot; has introduced some performance issues for the current JNI, How to avoid","body":"<p>To minimize copy operations and directly access the string content of String, JNI provides GetStringCritical, which has always worked well. However, with the introduction of &quot;String Compact&quot; in Java, the string encoding could either be Latin1 or UTF16. In English-speaking regions, the vast majority of characters can be represented using Latin1, so most String objects internally use Latin1 storage. This creates an awkward situation when using GetStringCritical, as the contained string will be forcibly transcoded to UTF16, implying a definite copy operation.</p>\n<p>Is there still a way to directly access the string content on the C++ side? Do we really have to resort to reflection to retrieve the byte[] value from the String?</p>\n"},{"tags":["java","json","spring-boot","spring-data-jpa"],"owner":{"account_id":23077784,"reputation":1,"user_id":17190503,"display_name":"GreenEngineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692198029,"creation_date":1692197991,"question_id":76914805,"body_markdown":"I am coding an application by using Spring Boot and etc. I have 2 tables called Book and User. There is a relationship between them called One-To-Many(User-Book). Book entity has a foreign key in its table. I want to do to that sometimes I want to fill the foreign data sometimes I do not want. How can I do that? In addition, When I enter a json object to postman, it gives an error. I want to write like an object and I want that the code can be work with any issue.\r\n\r\nThe json is that:\r\n\r\n`{`\r\n\r\n`&quot;name&quot;:&quot;Bomb&quot;,  `\r\n\r\n`&quot;date&quot;:&quot;March 1913&quot;,`\r\n\r\n`&quot;categoryId&quot;:2,`\r\n\r\n`&quot;authorId&quot;:2`\r\n\r\n`}`\r\n\r\nBook Entity\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;Book&quot;)\r\n@Data\r\npublic class Book {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String date;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;,nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Category category;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;,nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Author author;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\r\n    private User user;\r\n}\r\n```\r\n\r\nBookCreateRequest\r\n\r\n```\r\n@Data\r\npublic class BookCreateRequest {\r\n    private String name;\r\n    private String date;\r\n    private Long categoryId;\r\n    private Long authorId;\r\n    @Nullable\r\n    private Long userId;\r\n}\r\n```\r\n\r\nBookService&#39;s createOneBook method\r\n\r\n```\r\npublic Book createOneBook(BookCreateRequest bookCreateRequest){\r\n    Book book = new Book();\r\n\r\n    Author author = authorRepository.findById(bookCreateRequest.getAuthorId()).orElse(null);\r\n    User user = userRepository.findById(bookCreateRequest.getUserId()).orElse(null);\r\n    Category category = categoryRepository.findById(bookCreateRequest.getCategoryId()).orElse(null);\r\n\r\n    book.setAuthor(author);\r\n    book.setUser(user);\r\n    book.setCategory(category);\r\n    book.setName(bookCreateRequest.getName());\r\n    book.setDate(bookCreateRequest.getDate());\r\n\r\n    bookRepository.save(book);\r\n    return book;\r\n}\r\n```\r\n\r\nI am coding an application by using Spring Boot and etc. I have 2 tables called Book and User. There is a relationship between them called One-To-Many(User-Book). Book entity has a foreign key in its table. I want to do to that sometimes I want to fill the foreign data sometimes I do not want. How can I do that? In addition, When I enter a json object to postman, it gives an error. I want to write like an object and I want that the code can be work with any issue.","title":"Foreign Key Null Issue in Spring Boot","body":"<p>I am coding an application by using Spring Boot and etc. I have 2 tables called Book and User. There is a relationship between them called One-To-Many(User-Book). Book entity has a foreign key in its table. I want to do to that sometimes I want to fill the foreign data sometimes I do not want. How can I do that? In addition, When I enter a json object to postman, it gives an error. I want to write like an object and I want that the code can be work with any issue.</p>\n<p>The json is that:</p>\n<p><code>{</code></p>\n<p><code>&quot;name&quot;:&quot;Bomb&quot;,  </code></p>\n<p><code>&quot;date&quot;:&quot;March 1913&quot;,</code></p>\n<p><code>&quot;categoryId&quot;:2,</code></p>\n<p><code>&quot;authorId&quot;:2</code></p>\n<p><code>}</code></p>\n<p>Book Entity</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;Book&quot;)\n@Data\npublic class Book {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n    private String name;\n    private String date;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;,nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Category category;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;,nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Author author;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\n    private User user;\n}\n</code></pre>\n<p>BookCreateRequest</p>\n<pre><code>@Data\npublic class BookCreateRequest {\n    private String name;\n    private String date;\n    private Long categoryId;\n    private Long authorId;\n    @Nullable\n    private Long userId;\n}\n</code></pre>\n<p>BookService's createOneBook method</p>\n<pre><code>public Book createOneBook(BookCreateRequest bookCreateRequest){\n    Book book = new Book();\n\n    Author author = authorRepository.findById(bookCreateRequest.getAuthorId()).orElse(null);\n    User user = userRepository.findById(bookCreateRequest.getUserId()).orElse(null);\n    Category category = categoryRepository.findById(bookCreateRequest.getCategoryId()).orElse(null);\n\n    book.setAuthor(author);\n    book.setUser(user);\n    book.setCategory(category);\n    book.setName(bookCreateRequest.getName());\n    book.setDate(bookCreateRequest.getDate());\n\n    bookRepository.save(book);\n    return book;\n}\n</code></pre>\n<p>I am coding an application by using Spring Boot and etc. I have 2 tables called Book and User. There is a relationship between them called One-To-Many(User-Book). Book entity has a foreign key in its table. I want to do to that sometimes I want to fill the foreign data sometimes I do not want. How can I do that? In addition, When I enter a json object to postman, it gives an error. I want to write like an object and I want that the code can be work with any issue.</p>\n"},{"tags":["java","selenium-webdriver","server","automation","cucumber"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":2,"creation_date":1692203286,"post_id":76914801,"comment_id":135592770,"body_markdown":"you can just build the jar or executable and set that to run as a scheduled task.  (or &quot;CRON&quot; for linux?)","body":"you can just build the jar or executable and set that to run as a scheduled task.  (or &quot;CRON&quot; for linux?)"},{"owner":{"account_id":21839941,"reputation":1,"user_id":16133577,"display_name":"Tata pramod"},"score":0,"creation_date":1692349406,"post_id":76914801,"comment_id":135613760,"body_markdown":"I want it to be in such a way that it should run everyday by itself and send me a mail for detailing the test execution and how many passed or failed. is it possible in that way?","body":"I want it to be in such a way that it should run everyday by itself and send me a mail for detailing the test execution and how many passed or failed. is it possible in that way?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1692379547,"post_id":76914801,"comment_id":135619925,"body_markdown":"yes it is possible.","body":"yes it is possible."}],"owner":{"account_id":21839941,"reputation":1,"user_id":16133577,"display_name":"Tata pramod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692197968,"creation_date":1692197968,"question_id":76914801,"body_markdown":"So I&#39;m running automation scripts for the past few weeks and I noticed that these scripts don&#39;t require manual intervention, I just have to click on run that&#39;s all, So I was thinking whether it could be possible to auto run the scripts everyday without any intervention, like a batch run or something like that?\r\n\r\nI&#39;m using Eclipse IDE and the scripts are in selenium java with cucumber\r\n\r\nI tried manual runs and I was expecting something like auto run everyday without the need to click on run every time","title":"Can we use Eclipse IDE such that we can perform auto runs everyday without intervention? The scripts are selenium using java","body":"<p>So I'm running automation scripts for the past few weeks and I noticed that these scripts don't require manual intervention, I just have to click on run that's all, So I was thinking whether it could be possible to auto run the scripts everyday without any intervention, like a batch run or something like that?</p>\n<p>I'm using Eclipse IDE and the scripts are in selenium java with cucumber</p>\n<p>I tried manual runs and I was expecting something like auto run everyday without the need to click on run every time</p>\n"},{"tags":["java","spring","postgresql","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692197624,"creation_date":1692197624,"answer_id":76914762,"question_id":76914681,"body_markdown":"You cannot compare a column with a list in SQL, using `=`. Just use the [`IN` predicate][1] instead:\r\n\r\n```java\r\nfield(&quot;send.m_id&quot;).in(memId)\r\n```\r\n\r\nPlease note: [I strongly recommend you use jOOQ with code generation][2], unless your schema is dynamic. But given you&#39;re passing constant string literals for your table/column names, it probably isn&#39;t.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/in-predicate/\r\n  [2]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How I can use ArrayList field in Jooq with update statement","body":"<p>You cannot compare a column with a list in SQL, using <code>=</code>. Just use the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/in-predicate/\" rel=\"nofollow noreferrer\"><code>IN</code> predicate</a> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(&quot;send.m_id&quot;).in(memId)\n</code></pre>\n<p>Please note: <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">I strongly recommend you use jOOQ with code generation</a>, unless your schema is dynamic. But given you're passing constant string literals for your table/column names, it probably isn't.</p>\n"}],"owner":{"account_id":11402627,"reputation":53,"user_id":8359115,"display_name":"Dr.Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76914762,"answer_count":1,"score":0,"last_activity_date":1692197624,"creation_date":1692197049,"question_id":76914681,"body_markdown":"I have a problem with jooq version 3.14.6. I wanna to use an update statement for fields search - pr_id and m_id like this:\r\n\r\n    public Result&lt;?&gt; save(Long id, Request req) {\r\n       Condition condition = field(&quot;send.pr_id&quot;).eq(id)\r\n                    .and(field(&quot;send.m_id&quot;).eq(req.getMemId));\r\n    \r\n       condition = req.applyConditions(condition);\r\n    \r\n       return ctx.update(table(snp).as(&quot;send&quot;))\r\n                  .set(field(&quot;status&quot;), &quot;D&quot;)\r\n                  .where(condition)\r\n                  .returning()\r\n                  .fetch();\r\n    } \r\n\r\nAlso in class Request i have this code:\r\n\r\n    public class Request {\r\n       Integer prId;\r\n    \r\n       List&lt;Long&gt; memId;\r\n    \r\n       public Condition applyConditions(Condition condition) {\r\n           Condition mod = condition;\r\n    \r\n           if(Objects.nonNull(prId)) {\r\n              mod = mod.and(field(&quot;send.pr_id&quot;)).eq(prId);\r\n           }\r\n    \r\n           if(Objects.nonNull(memId)) {\r\n              mod = mod.and(field(&quot;send.m_id&quot;)).eq(memId);\r\n           }\r\n           return modified;\r\n       }\r\n    } \r\n\r\nin my table i have columns - `pr_id bigint not null, status char(1) not null, m_id bigint not null etc..`\r\n\r\nWhen i start my project and use rest request(http://localhost:8080/api/v1/pr/17) in postman like so:\r\n\r\n&gt; {    &quot;memId&quot;: [\r\n&gt;        2, 4, 6\r\n&gt;     ] }\r\n\r\n i get error:\r\n\r\n&gt; &quot;Type class java.util.ArrayList is not supported in dialect postgres&quot;\r\n\r\nThis error tied with uncorrect field memId\r\n\r\nHow can i correct this code?\r\n\r\n","title":"How I can use ArrayList field in Jooq with update statement","body":"<p>I have a problem with jooq version 3.14.6. I wanna to use an update statement for fields search - pr_id and m_id like this:</p>\n<pre><code>public Result&lt;?&gt; save(Long id, Request req) {\n   Condition condition = field(&quot;send.pr_id&quot;).eq(id)\n                .and(field(&quot;send.m_id&quot;).eq(req.getMemId));\n\n   condition = req.applyConditions(condition);\n\n   return ctx.update(table(snp).as(&quot;send&quot;))\n              .set(field(&quot;status&quot;), &quot;D&quot;)\n              .where(condition)\n              .returning()\n              .fetch();\n} \n</code></pre>\n<p>Also in class Request i have this code:</p>\n<pre><code>public class Request {\n   Integer prId;\n\n   List&lt;Long&gt; memId;\n\n   public Condition applyConditions(Condition condition) {\n       Condition mod = condition;\n\n       if(Objects.nonNull(prId)) {\n          mod = mod.and(field(&quot;send.pr_id&quot;)).eq(prId);\n       }\n\n       if(Objects.nonNull(memId)) {\n          mod = mod.and(field(&quot;send.m_id&quot;)).eq(memId);\n       }\n       return modified;\n   }\n} \n</code></pre>\n<p>in my table i have columns - <code>pr_id bigint not null, status char(1) not null, m_id bigint not null etc..</code></p>\n<p>When i start my project and use rest request(http://localhost:8080/api/v1/pr/17) in postman like so:</p>\n<blockquote>\n<p>{    &quot;memId&quot;: [\n2, 4, 6\n] }</p>\n</blockquote>\n<p>i get error:</p>\n<blockquote>\n<p>&quot;Type class java.util.ArrayList is not supported in dialect postgres&quot;</p>\n</blockquote>\n<p>This error tied with uncorrect field memId</p>\n<p>How can i correct this code?</p>\n"},{"tags":["java","android","unity-game-engine","gradle"],"answers":[{"tags":[],"owner":{"account_id":11165107,"reputation":453,"user_id":8194026,"display_name":"John Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692197607,"creation_date":1692197607,"answer_id":76914759,"question_id":76914441,"body_markdown":"Looks like you need to set gradle&#39;s compileSdkVersion to 33 *(or higher?)*\r\n\r\n\r\n&gt; Mobile Notifications require SDK 33 to compile the code. By default\r\n&gt; Unity set compile SDK to the same as target SDK. This can be altered\r\n&gt; by using custom gradle template:\r\n&gt; - Enable Custom Main Gradle Template in Player Settings (Publishing)\r\n&gt; - Open the template file in text Editor and modify compileSdkVersion to 33 instead of default **TARGETSDKVERSION**\r\n\r\nSource: https://issuetracker.unity3d.com/issues/unitynotificationmanager-dot-java-164-error-cannot-find-symbol-error-when-targeting-sdk-api-lower-than-33-with-mobile-notifications","title":"Gradle error trying to build a project in unity","body":"<p>Looks like you need to set gradle's compileSdkVersion to 33 <em>(or higher?)</em></p>\n<blockquote>\n<p>Mobile Notifications require SDK 33 to compile the code. By default\nUnity set compile SDK to the same as target SDK. This can be altered\nby using custom gradle template:</p>\n<ul>\n<li>Enable Custom Main Gradle Template in Player Settings (Publishing)</li>\n<li>Open the template file in text Editor and modify compileSdkVersion to 33 instead of default <strong>TARGETSDKVERSION</strong></li>\n</ul>\n</blockquote>\n<p>Source: <a href=\"https://issuetracker.unity3d.com/issues/unitynotificationmanager-dot-java-164-error-cannot-find-symbol-error-when-targeting-sdk-api-lower-than-33-with-mobile-notifications\" rel=\"nofollow noreferrer\">https://issuetracker.unity3d.com/issues/unitynotificationmanager-dot-java-164-error-cannot-find-symbol-error-when-targeting-sdk-api-lower-than-33-with-mobile-notifications</a></p>\n"}],"owner":{"account_id":28973207,"reputation":3,"user_id":22193002,"display_name":"Guillermo Emmanuel Gantcheff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76914759,"answer_count":1,"score":0,"last_activity_date":1692197607,"creation_date":1692195211,"question_id":76914441,"body_markdown":"I tried to build my project to export it to another computer but it failed.\r\nThis is the debug log:\r\n\r\n```\r\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\r\n&gt; Task :launcher:preBuild UP-TO-DATE\r\n&gt; Task :unityLibrary:preBuild UP-TO-DATE\r\n&gt; Task :launcher:preReleaseBuild UP-TO-DATE\r\n&gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\r\n&gt; Task :unityLibrary:compileReleaseAidl NO-SOURCE\r\n&gt; Task :unityLibrary:mergeReleaseJniLibFolders UP-TO-DATE\r\n&gt; Task :launcher:generateReleaseBuildConfig UP-TO-DATE\r\n&gt; Task :launcher:compileReleaseAidl NO-SOURCE\r\n&gt; Task :launcher:javaPreCompileRelease UP-TO-DATE\r\n&gt; Task :launcher:generateReleaseResValues UP-TO-DATE\r\n&gt; Task :launcher:createReleaseCompatibleScreenManifests UP-TO-DATE\r\n&gt; Task :launcher:extractDeepLinksRelease UP-TO-DATE\r\n&gt; Task :launcher:extractProguardFiles UP-TO-DATE\r\n&gt; Task :unityLibrary:mergeReleaseNativeLibs UP-TO-DATE\r\n&gt; Task :launcher:mergeReleaseJniLibFolders UP-TO-DATE\r\n&gt; Task :unityLibrary:stripReleaseDebugSymbols UP-TO-DATE\r\n&gt; Task :unityLibrary:copyReleaseJniLibsProjectAndLocalJars UP-TO-DATE\r\n&gt; Task :unityLibrary:compileReleaseRenderscript NO-SOURCE\r\n&gt; Task :unityLibrary:generateReleaseBuildConfig UP-TO-DATE\r\n&gt; Task :unityLibrary:generateReleaseResValues UP-TO-DATE\r\n&gt; Task :unityLibrary:generateReleaseResources UP-TO-DATE\r\n&gt; Task :unityLibrary:packageReleaseResources UP-TO-DATE\r\n&gt; Task :unityLibrary:parseReleaseLocalResources UP-TO-DATE\r\n&gt; Task :launcher:checkReleaseDuplicateClasses UP-TO-DATE\r\n&gt; Task :unityLibrary:processReleaseManifest UP-TO-DATE\r\n&gt; Task :launcher:desugarReleaseFileDependencies UP-TO-DATE\r\n&gt; Task :launcher:mergeExtDexRelease UP-TO-DATE\r\n&gt; Task :launcher:mergeReleaseShaders UP-TO-DATE\r\n&gt; Task :launcher:compileReleaseShaders NO-SOURCE\r\n&gt; Task :launcher:generateReleaseAssets UP-TO-DATE\r\n&gt; Task :launcher:processReleaseJavaRes NO-SOURCE\r\n&gt; Task :launcher:collectReleaseDependencies UP-TO-DATE\r\n&gt; Task :unityLibrary:generateReleaseRFile UP-TO-DATE\r\n&gt; Task :launcher:sdkReleaseDependencyData UP-TO-DATE\r\n&gt; Task :launcher:validateSigningRelease UP-TO-DATE\r\n&gt; Task :launcher:writeReleaseAppMetadata UP-TO-DATE\r\n&gt; Task :launcher:writeReleaseSigningConfigVersions UP-TO-DATE\r\n&gt; Task :unityLibrary:extractReleaseAnnotations UP-TO-DATE\r\n&gt; Task :unityLibrary:javaPreCompileRelease UP-TO-DATE\r\n\r\n&gt; Task :unityLibrary:compileReleaseJavaWithJavac FAILED\r\n29 actionable tasks: 1 executed, 28 up-to-date\r\n\r\n0x00007ff6373e8e4d (Unity) StackWalker::GetCurrentCallstack\r\n0x00007ff6373eddf9 (Unity) StackWalker::ShowCallstack\r\n0x00007ff6383bb121 (Unity) GetStacktrace\r\n0x00007ff638a7d922 (Unity) DebugStringToFile\r\n0x00007ff6363397f6 (Unity) DebugLogHandler_CUSTOM_Internal_Log\r\n0x000001c85db9f8ea (Mono JIT Code) (wrapper managed-to-native) UnityEngine.DebugLogHandler:Internal_Log (UnityEngine.LogType,UnityEngine.LogOption,string,UnityEngine.Object)\r\n0x000001c85db9f75b (Mono JIT Code) UnityEngine.DebugLogHandler:LogFormat (UnityEngine.LogType,UnityEngine.Object,string,object[])\r\n0x000001c85db9ebde (Mono JIT Code) UnityEngine.Logger:Log (UnityEngine.LogType,object)\r\n0x000001c85db9e87a (Mono JIT Code) UnityEngine.Debug:LogError (object)\r\n0x000001c85db9db13 (Mono JIT Code) UnityEditor.Android.GradleInvokationException:ParseAndShowException ()\r\n0x000001c85ec5c99b (Mono JIT Code) UnityEditor.Android.PostProcessor.PostProcessRunner:RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext)\r\n0x000001c85db3d8f3 (Mono JIT Code) UnityEditor.Android.PostProcessAndroidPlayer:PostProcess (UnityEditor.Modules.BuildPostProcessArgs,AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput)\r\n0x000001c85dac3023 (Mono JIT Code) UnityEditor.Android.AndroidBuildPostprocessor:PostProcess (UnityEditor.Modules.BuildPostProcessArgs,UnityEditor.BuildProperties&amp;)\r\n0x000001c85dac1c8d (Mono JIT Code) UnityEditor.PostprocessBuildPlayer:Postprocess (UnityEditor.BuildTargetGroup,UnityEditor.BuildTarget,int,string,string,string,int,int,UnityEditor.BuildOptions,UnityEditor.RuntimeClassRegistry,UnityEditor.Build.Reporting.BuildReport)\r\n0x000001c85dac234f (Mono JIT Code) (wrapper runtime-invoke) &lt;Module&gt;:runtime_invoke_void_int_int_int_object_object_object_int_int_int_object_object (object,intptr,intptr,intptr)\r\n0x00007fff078ee0d4 (mono-2.0-bdwgc) mono_jit_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/mini/mini-runtime.c:3445)\r\n0x00007fff0782eb74 (mono-2.0-bdwgc) do_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3066)\r\n0x00007fff0782ed0c (mono-2.0-bdwgc) mono_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3113)\r\n0x00007ff637307bc4 (Unity) scripting_method_invoke\r\n0x00007ff6372e6844 (Unity) ScriptingInvocation::Invoke\r\n0x00007ff638df23b1 (Unity) CallMono\r\n0x00007ff638dfb267 (Unity) PostprocessPlayer\r\n0x00007ff638df5653 (Unity) DoBuildPlayer_PostBuild\r\n0x00007ff638df374e (Unity) DoBuildPlayer\r\n0x00007ff638de7085 (Unity) BuildPlayer\r\n0x00007ff636b8432f (Unity) BuildPipeline::BuildPlayerInternalNoCheck\r\n0x00007ff636914ffc (Unity) BuildPipeline_CUSTOM_BuildPlayerInternalNoCheck\r\n0x000001c85d89bce8 (Mono JIT Code) (wrapper managed-to-native) UnityEditor.BuildPipeline:BuildPlayerInternalNoCheck (string[],string,string,UnityEditor.BuildTargetGroup,UnityEditor.BuildTarget,int,UnityEditor.BuildOptions,string[],bool)\r\n0x000001c85d89a763 (Mono JIT Code) UnityEditor.BuildPlayerWindow/DefaultBuildMethods:BuildPlayer (UnityEditor.BuildPlayerOptions)\r\n0x000001c85d88db1b (Mono JIT Code) UnityEditor.BuildPlayerWindow:CallBuildMethods (bool,UnityEditor.BuildOptions)\r\n0x000001c85d7ce91b (Mono JIT Code) UnityEditor.BuildPlayerWindow:GUIBuildButtons (UnityEditor.Modules.IBuildWindowExtension,bool,bool,bool,UnityEditor.Build.BuildPlatform,UnityEditor.Modules.IBuildPostprocessor)\r\n0x000001c85d7b657b (Mono JIT Code) UnityEditor.BuildPlayerWindow:ShowBuildTargetSettings ()\r\n0x000001c85d78d7d3 (Mono JIT Code) UnityEditor.BuildPlayerWindow:OnGUI ()\r\n0x000001c84659caaa (Mono JIT Code) UnityEditor.HostView:InvokeOnGUI (UnityEngine.Rect)\r\n0x000001c84659c533 (Mono JIT Code) UnityEditor.DockArea:DrawView (UnityEngine.Rect)\r\n0x000001c84657251b (Mono JIT Code) UnityEditor.DockArea:OldOnGUI ()\r\n0x000001c6abf87371 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:DoOnGUI (UnityEngine.Event,UnityEngine.Matrix4x4,UnityEngine.Rect,bool,UnityEngine.Rect,System.Action,bool)\r\n0x000001c8464e80b3 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,UnityEngine.Matrix4x4,UnityEngine.Rect,System.Action,bool)\r\n0x000001c85d740fdb (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,System.Action,bool)\r\n0x000001c85d740cc3 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,bool)\r\n0x000001c85d72f2eb (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:SendEventToIMGUIRaw (UnityEngine.UIElements.EventBase,bool,bool)\r\n0x000001c85d738793 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:SendEventToIMGUI (UnityEngine.UIElements.EventBase,bool,bool)\r\n0x000001c8025fae23 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:ProcessEvent (UnityEngine.UIElements.EventBase)\r\n0x000001c8025f9e83 (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEvent (UnityEngine.UIElements.EventBase)\r\n0x000001c8025f932c (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEventAtCurrentTargetAndPhase (UnityEngine.UIElements.EventBase)\r\n0x000001c8025f87fb (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEventAtTargetPhase (UnityEngine.UIElements.EventBase)\r\n0x000001c85d731213 (Mono JIT Code) UnityEngine.UIElements.MouseCaptureDispatchingStrategy:DispatchEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\r\n0x000001c8047fbc76 (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ApplyDispatchingStrategies (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel,bool)\r\n0x000001c8047fa50b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\r\n0x000001c8025c035b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEventQueue ()\r\n0x000001c8025bfc2b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:OpenGate ()\r\n0x000001c8025bf9ab (Mono JIT Code) UnityEngine.UIElements.EventDispatcherGate:Dispose ()\r\n0x000001c8047fb4e3 (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\r\n0x000001c8047f945b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:Dispatch (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel,UnityEngine.UIElements.DispatchMode)\r\n0x000001c8047f8f6b (Mono JIT Code) UnityEngine.UIElements.BaseVisualElementPanel:SendEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.DispatchMode)\r\n0x000001c83eaa0c63 (Mono JIT Code) UnityEngine.UIElements.UIElementsUtility:DoDispatch (UnityEngine.UIElements.BaseVisualElementPanel)\r\n0x000001c806e5f0d3 (Mono JIT Code) UnityEngine.UIElements.UIElementsUtility:UnityEngine.UIElements.IUIElementsUtility.ProcessEvent (int,intptr,bool&amp;)\r\n0x000001c806e5ea44 (Mono JIT Code) UnityEngine.UIElements.UIEventRegistration:ProcessEvent (int,intptr)\r\n0x000001c806e5e73b (Mono JIT Code) UnityEngine.UIElements.UIEventRegistration/&lt;&gt;c:&lt;.cctor&gt;b__1_2 (int,intptr)\r\n0x000001c806e5e1e5 (Mono JIT Code) UnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\r\n0x000001c806e5e426 (Mono JIT Code) (wrapper runtime-invoke) &lt;Module&gt;:runtime_invoke_void_int_intptr_intptr&amp; (object,intptr,intptr,intptr)\r\n0x00007fff078ee0d4 (mono-2.0-bdwgc) mono_jit_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/mini/mini-runtime.c:3445)\r\n0x00007fff0782eb74 (mono-2.0-bdwgc) do_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3066)\r\n0x00007fff0782ed0c (mono-2.0-bdwgc) mono_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3113)\r\n0x00007ff637307bc4 (Unity) scripting_method_invoke\r\n0x00007ff6372e6844 (Unity) ScriptingInvocation::Invoke\r\n0x00007ff6372e1495 (Unity) ScriptingInvocation::Invoke&lt;void&gt;\r\n0x00007ff63743356a (Unity) Scripting::UnityEngine::GUIUtilityProxy::ProcessEvent\r\n0x00007ff637e26518 (Unity) GUIView::ProcessRetainedMode\r\n0x00007ff6383ed414 (Unity) GUIView::OnInputEvent\r\n0x00007ff637e26463 (Unity) GUIView::ProcessInputEventFromAPI\r\n0x00007ff637e26338 (Unity) GUIView::ProcessInputEvent\r\n0x00007ff6383ee21c (Unity) GUIView::ProcessEventMessages\r\n0x00007ff6383e7fa5 (Unity) GUIView::GUIViewWndProc\r\n0x00007fff939fe858 (USER32) CallWindowProcW\r\n0x00007fff939fe299 (USER32) DispatchMessageW\r\n0x00007ff6383c1693 (Unity) MainMessageLoop\r\n0x00007ff6383c6910 (Unity) WinMain\r\n0x00007ff6397b133e (Unity) __scrt_common_main_seh\r\n0x00007fff93bb7614 (KERNEL32) BaseThreadInitThunk\r\n0x00007fff950626b1 (ntdll) RtlUserThreadStart\r\n\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\nC:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java:164: error: cannot find symbol\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU)\r\n                                                        ^\r\n  symbol:   variable TIRAMISU\r\n  location: class VERSION_CODES\r\nC:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java:165: error: cannot find symbol\r\n            permissionGranted = mContext.checkCallingOrSelfPermission(Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED;\r\n                                                                                         ^\r\n  symbol:   variable POST_NOTIFICATIONS\r\n  location: class permission\r\nNote: C:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:unityLibrary:compileReleaseJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\nCommandInvokationFailure: Gradle build failed. \r\nD:\\UNITY\\2022.3.5f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;D:\\UNITY\\2022.3.5f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-7.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\r\n```\r\n\r\nThe project works fine on the editor, and the play option gives no error.\r\nTried a lot of thing but nothing could help. Google and stackoverflow doesnt seem to have the answer.\r\n \r\nAny advice?\r\n\r\nI tried deleting library folder in my project directory, tried reimporting assets and fix the dependencies issues.","title":"Gradle error trying to build a project in unity","body":"<p>I tried to build my project to export it to another computer but it failed.\nThis is the debug log:</p>\n<pre><code>Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\n&gt; Task :launcher:preBuild UP-TO-DATE\n&gt; Task :unityLibrary:preBuild UP-TO-DATE\n&gt; Task :launcher:preReleaseBuild UP-TO-DATE\n&gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\n&gt; Task :unityLibrary:compileReleaseAidl NO-SOURCE\n&gt; Task :unityLibrary:mergeReleaseJniLibFolders UP-TO-DATE\n&gt; Task :launcher:generateReleaseBuildConfig UP-TO-DATE\n&gt; Task :launcher:compileReleaseAidl NO-SOURCE\n&gt; Task :launcher:javaPreCompileRelease UP-TO-DATE\n&gt; Task :launcher:generateReleaseResValues UP-TO-DATE\n&gt; Task :launcher:createReleaseCompatibleScreenManifests UP-TO-DATE\n&gt; Task :launcher:extractDeepLinksRelease UP-TO-DATE\n&gt; Task :launcher:extractProguardFiles UP-TO-DATE\n&gt; Task :unityLibrary:mergeReleaseNativeLibs UP-TO-DATE\n&gt; Task :launcher:mergeReleaseJniLibFolders UP-TO-DATE\n&gt; Task :unityLibrary:stripReleaseDebugSymbols UP-TO-DATE\n&gt; Task :unityLibrary:copyReleaseJniLibsProjectAndLocalJars UP-TO-DATE\n&gt; Task :unityLibrary:compileReleaseRenderscript NO-SOURCE\n&gt; Task :unityLibrary:generateReleaseBuildConfig UP-TO-DATE\n&gt; Task :unityLibrary:generateReleaseResValues UP-TO-DATE\n&gt; Task :unityLibrary:generateReleaseResources UP-TO-DATE\n&gt; Task :unityLibrary:packageReleaseResources UP-TO-DATE\n&gt; Task :unityLibrary:parseReleaseLocalResources UP-TO-DATE\n&gt; Task :launcher:checkReleaseDuplicateClasses UP-TO-DATE\n&gt; Task :unityLibrary:processReleaseManifest UP-TO-DATE\n&gt; Task :launcher:desugarReleaseFileDependencies UP-TO-DATE\n&gt; Task :launcher:mergeExtDexRelease UP-TO-DATE\n&gt; Task :launcher:mergeReleaseShaders UP-TO-DATE\n&gt; Task :launcher:compileReleaseShaders NO-SOURCE\n&gt; Task :launcher:generateReleaseAssets UP-TO-DATE\n&gt; Task :launcher:processReleaseJavaRes NO-SOURCE\n&gt; Task :launcher:collectReleaseDependencies UP-TO-DATE\n&gt; Task :unityLibrary:generateReleaseRFile UP-TO-DATE\n&gt; Task :launcher:sdkReleaseDependencyData UP-TO-DATE\n&gt; Task :launcher:validateSigningRelease UP-TO-DATE\n&gt; Task :launcher:writeReleaseAppMetadata UP-TO-DATE\n&gt; Task :launcher:writeReleaseSigningConfigVersions UP-TO-DATE\n&gt; Task :unityLibrary:extractReleaseAnnotations UP-TO-DATE\n&gt; Task :unityLibrary:javaPreCompileRelease UP-TO-DATE\n\n&gt; Task :unityLibrary:compileReleaseJavaWithJavac FAILED\n29 actionable tasks: 1 executed, 28 up-to-date\n\n0x00007ff6373e8e4d (Unity) StackWalker::GetCurrentCallstack\n0x00007ff6373eddf9 (Unity) StackWalker::ShowCallstack\n0x00007ff6383bb121 (Unity) GetStacktrace\n0x00007ff638a7d922 (Unity) DebugStringToFile\n0x00007ff6363397f6 (Unity) DebugLogHandler_CUSTOM_Internal_Log\n0x000001c85db9f8ea (Mono JIT Code) (wrapper managed-to-native) UnityEngine.DebugLogHandler:Internal_Log (UnityEngine.LogType,UnityEngine.LogOption,string,UnityEngine.Object)\n0x000001c85db9f75b (Mono JIT Code) UnityEngine.DebugLogHandler:LogFormat (UnityEngine.LogType,UnityEngine.Object,string,object[])\n0x000001c85db9ebde (Mono JIT Code) UnityEngine.Logger:Log (UnityEngine.LogType,object)\n0x000001c85db9e87a (Mono JIT Code) UnityEngine.Debug:LogError (object)\n0x000001c85db9db13 (Mono JIT Code) UnityEditor.Android.GradleInvokationException:ParseAndShowException ()\n0x000001c85ec5c99b (Mono JIT Code) UnityEditor.Android.PostProcessor.PostProcessRunner:RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext)\n0x000001c85db3d8f3 (Mono JIT Code) UnityEditor.Android.PostProcessAndroidPlayer:PostProcess (UnityEditor.Modules.BuildPostProcessArgs,AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput)\n0x000001c85dac3023 (Mono JIT Code) UnityEditor.Android.AndroidBuildPostprocessor:PostProcess (UnityEditor.Modules.BuildPostProcessArgs,UnityEditor.BuildProperties&amp;)\n0x000001c85dac1c8d (Mono JIT Code) UnityEditor.PostprocessBuildPlayer:Postprocess (UnityEditor.BuildTargetGroup,UnityEditor.BuildTarget,int,string,string,string,int,int,UnityEditor.BuildOptions,UnityEditor.RuntimeClassRegistry,UnityEditor.Build.Reporting.BuildReport)\n0x000001c85dac234f (Mono JIT Code) (wrapper runtime-invoke) &lt;Module&gt;:runtime_invoke_void_int_int_int_object_object_object_int_int_int_object_object (object,intptr,intptr,intptr)\n0x00007fff078ee0d4 (mono-2.0-bdwgc) mono_jit_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/mini/mini-runtime.c:3445)\n0x00007fff0782eb74 (mono-2.0-bdwgc) do_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3066)\n0x00007fff0782ed0c (mono-2.0-bdwgc) mono_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3113)\n0x00007ff637307bc4 (Unity) scripting_method_invoke\n0x00007ff6372e6844 (Unity) ScriptingInvocation::Invoke\n0x00007ff638df23b1 (Unity) CallMono\n0x00007ff638dfb267 (Unity) PostprocessPlayer\n0x00007ff638df5653 (Unity) DoBuildPlayer_PostBuild\n0x00007ff638df374e (Unity) DoBuildPlayer\n0x00007ff638de7085 (Unity) BuildPlayer\n0x00007ff636b8432f (Unity) BuildPipeline::BuildPlayerInternalNoCheck\n0x00007ff636914ffc (Unity) BuildPipeline_CUSTOM_BuildPlayerInternalNoCheck\n0x000001c85d89bce8 (Mono JIT Code) (wrapper managed-to-native) UnityEditor.BuildPipeline:BuildPlayerInternalNoCheck (string[],string,string,UnityEditor.BuildTargetGroup,UnityEditor.BuildTarget,int,UnityEditor.BuildOptions,string[],bool)\n0x000001c85d89a763 (Mono JIT Code) UnityEditor.BuildPlayerWindow/DefaultBuildMethods:BuildPlayer (UnityEditor.BuildPlayerOptions)\n0x000001c85d88db1b (Mono JIT Code) UnityEditor.BuildPlayerWindow:CallBuildMethods (bool,UnityEditor.BuildOptions)\n0x000001c85d7ce91b (Mono JIT Code) UnityEditor.BuildPlayerWindow:GUIBuildButtons (UnityEditor.Modules.IBuildWindowExtension,bool,bool,bool,UnityEditor.Build.BuildPlatform,UnityEditor.Modules.IBuildPostprocessor)\n0x000001c85d7b657b (Mono JIT Code) UnityEditor.BuildPlayerWindow:ShowBuildTargetSettings ()\n0x000001c85d78d7d3 (Mono JIT Code) UnityEditor.BuildPlayerWindow:OnGUI ()\n0x000001c84659caaa (Mono JIT Code) UnityEditor.HostView:InvokeOnGUI (UnityEngine.Rect)\n0x000001c84659c533 (Mono JIT Code) UnityEditor.DockArea:DrawView (UnityEngine.Rect)\n0x000001c84657251b (Mono JIT Code) UnityEditor.DockArea:OldOnGUI ()\n0x000001c6abf87371 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:DoOnGUI (UnityEngine.Event,UnityEngine.Matrix4x4,UnityEngine.Rect,bool,UnityEngine.Rect,System.Action,bool)\n0x000001c8464e80b3 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,UnityEngine.Matrix4x4,UnityEngine.Rect,System.Action,bool)\n0x000001c85d740fdb (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,System.Action,bool)\n0x000001c85d740cc3 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:HandleIMGUIEvent (UnityEngine.Event,bool)\n0x000001c85d72f2eb (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:SendEventToIMGUIRaw (UnityEngine.UIElements.EventBase,bool,bool)\n0x000001c85d738793 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:SendEventToIMGUI (UnityEngine.UIElements.EventBase,bool,bool)\n0x000001c8025fae23 (Mono JIT Code) UnityEngine.UIElements.IMGUIContainer:ProcessEvent (UnityEngine.UIElements.EventBase)\n0x000001c8025f9e83 (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEvent (UnityEngine.UIElements.EventBase)\n0x000001c8025f932c (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEventAtCurrentTargetAndPhase (UnityEngine.UIElements.EventBase)\n0x000001c8025f87fb (Mono JIT Code) UnityEngine.UIElements.CallbackEventHandler:HandleEventAtTargetPhase (UnityEngine.UIElements.EventBase)\n0x000001c85d731213 (Mono JIT Code) UnityEngine.UIElements.MouseCaptureDispatchingStrategy:DispatchEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\n0x000001c8047fbc76 (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ApplyDispatchingStrategies (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel,bool)\n0x000001c8047fa50b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\n0x000001c8025c035b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEventQueue ()\n0x000001c8025bfc2b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:OpenGate ()\n0x000001c8025bf9ab (Mono JIT Code) UnityEngine.UIElements.EventDispatcherGate:Dispose ()\n0x000001c8047fb4e3 (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:ProcessEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel)\n0x000001c8047f945b (Mono JIT Code) UnityEngine.UIElements.EventDispatcher:Dispatch (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.IPanel,UnityEngine.UIElements.DispatchMode)\n0x000001c8047f8f6b (Mono JIT Code) UnityEngine.UIElements.BaseVisualElementPanel:SendEvent (UnityEngine.UIElements.EventBase,UnityEngine.UIElements.DispatchMode)\n0x000001c83eaa0c63 (Mono JIT Code) UnityEngine.UIElements.UIElementsUtility:DoDispatch (UnityEngine.UIElements.BaseVisualElementPanel)\n0x000001c806e5f0d3 (Mono JIT Code) UnityEngine.UIElements.UIElementsUtility:UnityEngine.UIElements.IUIElementsUtility.ProcessEvent (int,intptr,bool&amp;)\n0x000001c806e5ea44 (Mono JIT Code) UnityEngine.UIElements.UIEventRegistration:ProcessEvent (int,intptr)\n0x000001c806e5e73b (Mono JIT Code) UnityEngine.UIElements.UIEventRegistration/&lt;&gt;c:&lt;.cctor&gt;b__1_2 (int,intptr)\n0x000001c806e5e1e5 (Mono JIT Code) UnityEngine.GUIUtility:ProcessEvent (int,intptr,bool&amp;)\n0x000001c806e5e426 (Mono JIT Code) (wrapper runtime-invoke) &lt;Module&gt;:runtime_invoke_void_int_intptr_intptr&amp; (object,intptr,intptr,intptr)\n0x00007fff078ee0d4 (mono-2.0-bdwgc) mono_jit_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/mini/mini-runtime.c:3445)\n0x00007fff0782eb74 (mono-2.0-bdwgc) do_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3066)\n0x00007fff0782ed0c (mono-2.0-bdwgc) mono_runtime_invoke (at C:/build/output/Unity-Technologies/mono/mono/metadata/object.c:3113)\n0x00007ff637307bc4 (Unity) scripting_method_invoke\n0x00007ff6372e6844 (Unity) ScriptingInvocation::Invoke\n0x00007ff6372e1495 (Unity) ScriptingInvocation::Invoke&lt;void&gt;\n0x00007ff63743356a (Unity) Scripting::UnityEngine::GUIUtilityProxy::ProcessEvent\n0x00007ff637e26518 (Unity) GUIView::ProcessRetainedMode\n0x00007ff6383ed414 (Unity) GUIView::OnInputEvent\n0x00007ff637e26463 (Unity) GUIView::ProcessInputEventFromAPI\n0x00007ff637e26338 (Unity) GUIView::ProcessInputEvent\n0x00007ff6383ee21c (Unity) GUIView::ProcessEventMessages\n0x00007ff6383e7fa5 (Unity) GUIView::GUIViewWndProc\n0x00007fff939fe858 (USER32) CallWindowProcW\n0x00007fff939fe299 (USER32) DispatchMessageW\n0x00007ff6383c1693 (Unity) MainMessageLoop\n0x00007ff6383c6910 (Unity) WinMain\n0x00007ff6397b133e (Unity) __scrt_common_main_seh\n0x00007fff93bb7614 (KERNEL32) BaseThreadInitThunk\n0x00007fff950626b1 (ntdll) RtlUserThreadStart\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\nC:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java:164: error: cannot find symbol\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU)\n                                                        ^\n  symbol:   variable TIRAMISU\n  location: class VERSION_CODES\nC:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java:165: error: cannot find symbol\n            permissionGranted = mContext.checkCallingOrSelfPermission(Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED;\n                                                                                         ^\n  symbol:   variable POST_NOTIFICATIONS\n  location: class permission\nNote: C:\\Users\\guill\\Omni Android\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':unityLibrary:compileReleaseJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\nCommandInvokationFailure: Gradle build failed. \nD:\\UNITY\\2022.3.5f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;D:\\UNITY\\2022.3.5f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-7.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\n</code></pre>\n<p>The project works fine on the editor, and the play option gives no error.\nTried a lot of thing but nothing could help. Google and stackoverflow doesnt seem to have the answer.</p>\n<p>Any advice?</p>\n<p>I tried deleting library folder in my project directory, tried reimporting assets and fix the dependencies issues.</p>\n"},{"tags":["java","sql","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692197373,"post_id":76912647,"comment_id":135591549,"body_markdown":"Are you sure Flink supports Java 20? Have you tried using 11 or 17?","body":"Are you sure Flink supports Java 20? Have you tried using 11 or 17?"}],"owner":{"account_id":28786435,"reputation":1,"user_id":22046802,"display_name":"Hsgh775"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692197350,"creation_date":1692181170,"question_id":76912647,"body_markdown":"Hello I &#39;m using Flink SQL Client  1.13.6 to consume data on my local kafka this is my code \r\n\r\n    -- Set the job name SET &#39;pipeline.name&#39; = &#39;SQL&#39;;\r\n    \r\n    SET &#39;execution.runtime-mode&#39; = &#39;streaming&#39;;  SET &#39;sql-client.execution.result-mode&#39; = &#39;tableau&#39;; SET &#39;sql-client.execution.max-table-result.rows&#39; = &#39;10000&#39;;  SET &#39;parallelism.default&#39; = &#39;1&#39;;  SET &#39;pipeline.auto-watermark-interval&#39;\r\n    = &#39;200&#39;; SET &#39;pipeline.max-parallelism&#39; = &#39;10&#39;;  SET &#39;table.exec.state.ttl&#39; = &#39;1000&#39;;  SET &#39;restart-strategy.type&#39; = &#39;fixed-delay&#39;; SET &#39;table.optimizer.join-reorder-enabled&#39; = &#39;true&#39;; SET &#39;table.exec.spill-compression.enabled&#39; = &#39;true&#39;; SET &#39;table.exec.spill-compression.block-size&#39; = &#39;128kb&#39;;\r\n    \r\n    CREATE TABLE user_created (\r\n    \r\n      -- one column mapped to the Kafka raw UTF-8 key   id INT,\r\n         -- a few columns mapped to the Avro fields of the Kafka value   IMde STRING,   p STRING,   d STRING,   mued STRING\r\n    \r\n    ) WITH (\r\n    \r\n      &#39;connector&#39; = &#39;kafka&#39;,   &#39;topic&#39; = &#39;topic-sr&#39;,   &#39;properties.bootstrap.servers&#39; = &#39;localhost:9092&#39;,\r\n    \r\n    \r\n      &#39;key.format&#39; = &#39;raw&#39;,   &#39;key.fields&#39; = &#39;id&#39;,\r\n    \r\n      &#39;value.format&#39; = &#39;avro-confluent&#39;,   &#39;value.avro-confluent.schema-registry.url&#39; = &#39;http://localhost:8081&#39;,   &#39;value.fields-include&#39; = &#39;EXCEPT_KEY&#39; );\r\n    \r\n    SELECT * FROM user_created;\r\n\r\nI got this error : \r\n\r\n&gt; [ERROR] Could not execute SQL statement. Reason:  \r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field private static final long java.util.Properties.serialVersionUID accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @d6da883\r\n\r\n\r\n\r\nAny Idea what this error means ? \r\n\r\nI&#39;m using this version of Java : \r\n \r\njava 20.0.1 2023-04-18  \r\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)  \r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n\r\n","title":"java.util.Properties.serialVersionUID accessible: module java.base does not &quot;opens java.util&quot; to unnamed module","body":"<p>Hello I 'm using Flink SQL Client  1.13.6 to consume data on my local kafka this is my code</p>\n<pre><code>-- Set the job name SET 'pipeline.name' = 'SQL';\n\nSET 'execution.runtime-mode' = 'streaming';  SET 'sql-client.execution.result-mode' = 'tableau'; SET 'sql-client.execution.max-table-result.rows' = '10000';  SET 'parallelism.default' = '1';  SET 'pipeline.auto-watermark-interval'\n= '200'; SET 'pipeline.max-parallelism' = '10';  SET 'table.exec.state.ttl' = '1000';  SET 'restart-strategy.type' = 'fixed-delay'; SET 'table.optimizer.join-reorder-enabled' = 'true'; SET 'table.exec.spill-compression.enabled' = 'true'; SET 'table.exec.spill-compression.block-size' = '128kb';\n\nCREATE TABLE user_created (\n\n  -- one column mapped to the Kafka raw UTF-8 key   id INT,\n     -- a few columns mapped to the Avro fields of the Kafka value   IMde STRING,   p STRING,   d STRING,   mued STRING\n\n) WITH (\n\n  'connector' = 'kafka',   'topic' = 'topic-sr',   'properties.bootstrap.servers' = 'localhost:9092',\n\n\n  'key.format' = 'raw',   'key.fields' = 'id',\n\n  'value.format' = 'avro-confluent',   'value.avro-confluent.schema-registry.url' = 'http://localhost:8081',   'value.fields-include' = 'EXCEPT_KEY' );\n\nSELECT * FROM user_created;\n</code></pre>\n<p>I got this error :</p>\n<blockquote>\n<p>[ERROR] Could not execute SQL statement. Reason:<br />\njava.lang.reflect.InaccessibleObjectException: Unable to make field private static final long java.util.Properties.serialVersionUID accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @d6da883</p>\n</blockquote>\n<p>Any Idea what this error means ?</p>\n<p>I'm using this version of Java :</p>\n<p>java 20.0.1 2023-04-18<br />\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)<br />\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)</p>\n"},{"tags":["java","react-native","android-studio","build.gradle","maven-central"],"owner":{"account_id":29229211,"reputation":1,"user_id":22393284,"display_name":"adob360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692196833,"creation_date":1692100259,"question_id":76905734,"body_markdown":"I am building a react-native library with java and so I need to use the package &#39;com.facebook.react:react-native&#39;. To use the package I added the line `implementation &#39;com.facebook.react:react-native:0.71.0-rc.0&#39;` to my build.gradle file. The code runs without any error, but I don&#39;t have intellisense for the library in Android Studio. It seems to not be able to download the package descriptions for some reason and I can&#39;t figure out why this is not working but the app is. Did someone have the same issue and was able to get intellisense to work? My Android Studio version is: &#39;Android Studio Giraffe | 2022.3.1&#39;.\r\n\r\nI tried synching the build.gradle file again and looked at the logs, but apparently the download of the pom file failed as can be seen in this picture. [Fetching pom files failed](https://i.stack.imgur.com/PtcUD.png). When I looked up the url&#39;s in my browser I get an 404 Not Found error from both websites.\r\n\r\nI also tried clearing the cache and restarting Android Studio, but that did not help as well and the same problem occured.\r\n\r\nThen I tried to download it manually from the maven central website https://central.sonatype.com/artifact/com.facebook.react/react-native/0.71.0-rc.0/versions. When I click on browse, I get an 404 Not Found error. It seems like something is not online that should be there and I wasn&#39;t able to download it manually. \r\nI have waited a week to see if something just happened to the server and someone fix it, but that was not the case so I need another solution. ","title":"No intellisense for &#39;com.facebook.react:react-native&#39; in Android Studio","body":"<p>I am building a react-native library with java and so I need to use the package 'com.facebook.react:react-native'. To use the package I added the line <code>implementation 'com.facebook.react:react-native:0.71.0-rc.0'</code> to my build.gradle file. The code runs without any error, but I don't have intellisense for the library in Android Studio. It seems to not be able to download the package descriptions for some reason and I can't figure out why this is not working but the app is. Did someone have the same issue and was able to get intellisense to work? My Android Studio version is: 'Android Studio Giraffe | 2022.3.1'.</p>\n<p>I tried synching the build.gradle file again and looked at the logs, but apparently the download of the pom file failed as can be seen in this picture. <a href=\"https://i.stack.imgur.com/PtcUD.png\" rel=\"nofollow noreferrer\">Fetching pom files failed</a>. When I looked up the url's in my browser I get an 404 Not Found error from both websites.</p>\n<p>I also tried clearing the cache and restarting Android Studio, but that did not help as well and the same problem occured.</p>\n<p>Then I tried to download it manually from the maven central website <a href=\"https://central.sonatype.com/artifact/com.facebook.react/react-native/0.71.0-rc.0/versions\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/com.facebook.react/react-native/0.71.0-rc.0/versions</a>. When I click on browse, I get an 404 Not Found error. It seems like something is not online that should be there and I wasn't able to download it manually.\nI have waited a week to see if something just happened to the server and someone fix it, but that was not the case so I need another solution.</p>\n"},{"tags":["java","owl-api","hermit","dlquery"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1692781253,"post_id":76911610,"comment_id":135669765,"body_markdown":"If you can share the whole code and create an issue in the HermiT project (in the OWLCS organisation, it&#39;s a sibling project of OWLAPI on GitHub) it might be easier to replicate and investigate the problem.","body":"If you can share the whole code and create an issue in the HermiT project (in the OWLCS organisation, it&#39;s a sibling project of OWLAPI on GitHub) it might be easier to replicate and investigate the problem."}],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692196097,"creation_date":1692196097,"answer_id":76914563,"question_id":76911610,"body_markdown":"OWLReasoner instances can be buffering or non buffering - HermiT reasoners can be created with either setting.\r\nA buffering reasoner will see changes you make to the ontology but not apply these changes to its internal models until you call the flush() method on it. A non buffering reasoner will apply changes to its internal models immediately.\r\n\r\nTo confirm if this is the reason behind your issues, please show how you create the OWLReasoner instance. OWLReasonerFactory has methods for creating both buffering and non buffering reasoners.","title":"OWLAPI and HermiT reasoner: non-asserted deleted individuals are still inferred","body":"<p>OWLReasoner instances can be buffering or non buffering - HermiT reasoners can be created with either setting.\nA buffering reasoner will see changes you make to the ontology but not apply these changes to its internal models until you call the flush() method on it. A non buffering reasoner will apply changes to its internal models immediately.</p>\n<p>To confirm if this is the reason behind your issues, please show how you create the OWLReasoner instance. OWLReasonerFactory has methods for creating both buffering and non buffering reasoners.</p>\n"}],"owner":{"account_id":22198269,"reputation":113,"user_id":16439343,"display_name":"Chaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692196097,"creation_date":1692172972,"question_id":76911610,"body_markdown":"I am currently using OWLAPI jointly with HermiT reasoner and I am experiencing what appears to me as a bug.\r\nI defined several methods that update the ontology and during unit testing I reached several contradictory results.\r\n\r\nMy methods can add, remove and test the presence of an individual, let it belong to some specific class or let it belong to `owl:Thing`.\r\n\r\nHere&#39;s an example of contradiction: a removed individual is still present as an instance of `owl:Thing`.\r\n```java\r\nboolean added = ontology.addIndividualToClass(&quot;Person&quot;, login);\r\nAssert.isTrue(added, &quot;The individual must be present.&quot;);\r\nontology.think();\r\n\r\nboolean exists = ontology.doesIndividualBelongToClass(&quot;Person&quot;, login);\r\nAssert.isTrue(exists, &quot;The individual must be found.&quot;);\r\n\r\nboolean removed = ontology.removeIndividualFromClass(&quot;Person&quot;, login);\r\nAssert.isTrue(removed, &quot;The individual must be removed.&quot;);\r\nontology.think();\r\n\r\n// The next assertions is satisfied.\r\nexists = ontology.doesIndividualBelongToClass(&quot;Person&quot;, login);\r\nAssert.isTrue(!exists, &quot;The individual must not be found.&quot;);\r\n\r\n// The next assertions will fire, interrupting the test.\r\nexists = ontology.doesIndividualExist(login);\r\nAssert.isTrue(!exists, &quot;The individual must not be present.&quot;);\r\n```\r\n\r\nMy methods operate in this way:\r\n1. the add method generates a new class assertion,\r\n2. the remove method finds and removes the corresponding class assertion in case it exist,\r\n3. finally, the test method checks both inferred and asserted individuals for name and possibly class.\r\n\r\nAll methods seem to operate correctly, but when an existing individual is removed it still appears as inferred. The method `think()` is basically the wrapping of `flush()` and forces the ontology to apply all pending changes. I am using HermiT in buffering mode and I noticed that switching to non-buffering does not solve the problem.\r\n```java\r\npublic boolean addIndividualToClass(String className, String login) {\r\n\t[...]  // Checks on parameters.\r\n\tOWLNamedIndividual individual = dataFactory.getOWLNamedIndividual(individualName, prefixManager);\r\n\tif (individual == null) throw new IllegalArgumentException(&quot;Could not get named individual.&quot;);\r\n\tOWLClassAssertionAxiom classAssertion = dataFactory.getOWLClassAssertionAxiom(clazz, individual);\r\n\tChangeApplied changed = ontology.add(classAssertion);\r\n\treturn changed.equals(ChangeApplied.SUCCESSFULLY) || changed.equals(ChangeApplied.NO_OPERATION);\r\n}\r\n```\r\n\r\n```java\r\npublic boolean removeIndividualFromClass(String clazz, String individualName) { \r\n\t[...] // Checks on parameters.\r\n\tOptional&lt;OWLClassAssertionAxiom&gt; individualAssertionOpt =\r\n\t\t\tontology\r\n\t\t\t\t\t.getClassAssertionAxioms(clazz)\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\ti -&gt; i.getIndividual().asOWLNamedIndividual().getIRI().getRemainder().orElse(&quot;&quot;).matches(individualName)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.findFirst();\r\n\r\n\tif (!individualAssertionOpt.isPresent())\r\n\t\treturn false;\r\n\telse {\r\n\t\tChangeApplied changed = ontology.remove(individualAssertionOpt.get());\r\n\r\n\t\treturn changed.equals(ChangeApplied.SUCCESSFULLY) || changed.equals(ChangeApplied.NO_OPERATION);\r\n\t}\r\n}\r\n```\r\nI am experiencing problems with the following two methods:\r\n```java\r\npublic boolean doesIndividualBelongToClass(String className, String name) {\r\n\t[...] // Parameters tests and retrieval of &#39;clazz&#39;.\r\n\tSet&lt;OWLNamedIndividual&gt; inferredIndividuals =\r\n\t\t\treasoner\r\n\t\t\t\t\t.getInstances(clazz, false)\r\n\t\t\t\t\t.getFlattened()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(i -&gt; i.getIRI().getRemainder().orElse(&quot;&quot;).equals(name))\r\n\t\t\t\t\t.collect(Collectors.toSet());\r\n\r\n\tSet&lt;OWLNamedIndividual&gt; assertedIndividuals = ontology\r\n\t\t\t.individualsInSignature()\r\n\t\t\t.filter(i -&gt; i.getIRI().getRemainder().orElse(&quot;&quot;).equals(name))\r\n\t\t\t.filter(\r\n\t\t\t\t\ti -&gt; reasoner\r\n\t\t\t\t\t\t\t.getTypes(i)\r\n\t\t\t\t\t\t\t.entities()\r\n\t\t\t\t\t\t\t.filter(t -&gt; t.getIRI().getRemainder().orElse(&quot;&quot;).equals(className))\r\n\t\t\t\t\t\t\t.findFirst()\r\n\t\t\t\t\t\t\t.isPresent()\r\n\t\t\t).collect(Collectors.toSet());\r\n\r\n\tinferredIndividuals.addAll(assertedIndividuals);\r\n\r\n\treturn inferredIndividuals\r\n\t\t\t.stream()\r\n\t\t\t.findFirst()\r\n\t\t\t.isPresent();\r\n}\r\n```\r\n```java\r\npublic boolean doesIndividualExist(String login)  {\r\n\treturn doesIndividualBelongToClass(&quot;owl:Thing&quot;, login);\r\n}\r\n```\r\n\r\n\r\nOnce an individual has been removed `doesIndividualExist()` returns true, where `doesIndividualBelongToClass()` returns false. During debugging I noticed that removed individuals are still present as instances of the `owl:Thing` class.\r\n\r\nI double checked and started asking DL queries through the method `resoner.isSatisfiable()`:\r\nthe DL query `{X}` where `X` is a deleted individual name turns out to be satisfiable.\r\n\r\nI made another test: I saved the ontology, browsed it with Protege and found that deleted individuals where not present, *neither inferred*.\r\n\r\nIs someone aware of a workaround or an actual solution?\r\nAm I missing something?","title":"OWLAPI and HermiT reasoner: non-asserted deleted individuals are still inferred","body":"<p>I am currently using OWLAPI jointly with HermiT reasoner and I am experiencing what appears to me as a bug.\nI defined several methods that update the ontology and during unit testing I reached several contradictory results.</p>\n<p>My methods can add, remove and test the presence of an individual, let it belong to some specific class or let it belong to <code>owl:Thing</code>.</p>\n<p>Here's an example of contradiction: a removed individual is still present as an instance of <code>owl:Thing</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean added = ontology.addIndividualToClass(&quot;Person&quot;, login);\nAssert.isTrue(added, &quot;The individual must be present.&quot;);\nontology.think();\n\nboolean exists = ontology.doesIndividualBelongToClass(&quot;Person&quot;, login);\nAssert.isTrue(exists, &quot;The individual must be found.&quot;);\n\nboolean removed = ontology.removeIndividualFromClass(&quot;Person&quot;, login);\nAssert.isTrue(removed, &quot;The individual must be removed.&quot;);\nontology.think();\n\n// The next assertions is satisfied.\nexists = ontology.doesIndividualBelongToClass(&quot;Person&quot;, login);\nAssert.isTrue(!exists, &quot;The individual must not be found.&quot;);\n\n// The next assertions will fire, interrupting the test.\nexists = ontology.doesIndividualExist(login);\nAssert.isTrue(!exists, &quot;The individual must not be present.&quot;);\n</code></pre>\n<p>My methods operate in this way:</p>\n<ol>\n<li>the add method generates a new class assertion,</li>\n<li>the remove method finds and removes the corresponding class assertion in case it exist,</li>\n<li>finally, the test method checks both inferred and asserted individuals for name and possibly class.</li>\n</ol>\n<p>All methods seem to operate correctly, but when an existing individual is removed it still appears as inferred. The method <code>think()</code> is basically the wrapping of <code>flush()</code> and forces the ontology to apply all pending changes. I am using HermiT in buffering mode and I noticed that switching to non-buffering does not solve the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean addIndividualToClass(String className, String login) {\n    [...]  // Checks on parameters.\n    OWLNamedIndividual individual = dataFactory.getOWLNamedIndividual(individualName, prefixManager);\n    if (individual == null) throw new IllegalArgumentException(&quot;Could not get named individual.&quot;);\n    OWLClassAssertionAxiom classAssertion = dataFactory.getOWLClassAssertionAxiom(clazz, individual);\n    ChangeApplied changed = ontology.add(classAssertion);\n    return changed.equals(ChangeApplied.SUCCESSFULLY) || changed.equals(ChangeApplied.NO_OPERATION);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean removeIndividualFromClass(String clazz, String individualName) { \n    [...] // Checks on parameters.\n    Optional&lt;OWLClassAssertionAxiom&gt; individualAssertionOpt =\n            ontology\n                    .getClassAssertionAxioms(clazz)\n                    .stream()\n                    .filter(\n                            i -&gt; i.getIndividual().asOWLNamedIndividual().getIRI().getRemainder().orElse(&quot;&quot;).matches(individualName)\n                    )\n                    .findFirst();\n\n    if (!individualAssertionOpt.isPresent())\n        return false;\n    else {\n        ChangeApplied changed = ontology.remove(individualAssertionOpt.get());\n\n        return changed.equals(ChangeApplied.SUCCESSFULLY) || changed.equals(ChangeApplied.NO_OPERATION);\n    }\n}\n</code></pre>\n<p>I am experiencing problems with the following two methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean doesIndividualBelongToClass(String className, String name) {\n    [...] // Parameters tests and retrieval of 'clazz'.\n    Set&lt;OWLNamedIndividual&gt; inferredIndividuals =\n            reasoner\n                    .getInstances(clazz, false)\n                    .getFlattened()\n                    .stream()\n                    .filter(i -&gt; i.getIRI().getRemainder().orElse(&quot;&quot;).equals(name))\n                    .collect(Collectors.toSet());\n\n    Set&lt;OWLNamedIndividual&gt; assertedIndividuals = ontology\n            .individualsInSignature()\n            .filter(i -&gt; i.getIRI().getRemainder().orElse(&quot;&quot;).equals(name))\n            .filter(\n                    i -&gt; reasoner\n                            .getTypes(i)\n                            .entities()\n                            .filter(t -&gt; t.getIRI().getRemainder().orElse(&quot;&quot;).equals(className))\n                            .findFirst()\n                            .isPresent()\n            ).collect(Collectors.toSet());\n\n    inferredIndividuals.addAll(assertedIndividuals);\n\n    return inferredIndividuals\n            .stream()\n            .findFirst()\n            .isPresent();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean doesIndividualExist(String login)  {\n    return doesIndividualBelongToClass(&quot;owl:Thing&quot;, login);\n}\n</code></pre>\n<p>Once an individual has been removed <code>doesIndividualExist()</code> returns true, where <code>doesIndividualBelongToClass()</code> returns false. During debugging I noticed that removed individuals are still present as instances of the <code>owl:Thing</code> class.</p>\n<p>I double checked and started asking DL queries through the method <code>resoner.isSatisfiable()</code>:\nthe DL query <code>{X}</code> where <code>X</code> is a deleted individual name turns out to be satisfiable.</p>\n<p>I made another test: I saved the ontology, browsed it with Protege and found that deleted individuals where not present, <em>neither inferred</em>.</p>\n<p>Is someone aware of a workaround or an actual solution?\nAm I missing something?</p>\n"},{"tags":["java","heap-memory","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423816907,"creation_date":1378606270,"answer_id":18679737,"question_id":18664571,"body_markdown":"You shouldn&#39;t be running into MaxPermSize, so just setting a larger Xmx flag should be all that is needed.\r\n\r\nIt may also help to add the `--dataOutputDirectory=DIR_YOU_WANT` flag. That will cause Liquibase to output the data in CSV files which will be less mmemory intensive to create. The resulting XML+CSV is usually more manageable than a huge XML file as well \r\n\r\nSomething like:\r\n\r\n    C:\\liquibase-3.0.2-bin&gt;liquibase \\ \r\n    --driver=com.ibm.db2.jcc.DB2Driver \\ \r\n    --classpat h=&quot;C:\\db2jcc.jar&quot; \\ \r\n    --changeLogFile=&quot;C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml&quot; \\ \r\n    --url=&quot;jdbc:db2://__ip__here__:9008/MYDB&quot; \\ \r\n    --username=&quot;user&quot; \\ \r\n    --password=&quot;12345&quot; \\ \r\n    --defaultSchemaName=&quot;MYSCHEMA&quot; \\ \r\n    --diffTypes=data \\ \r\n    --dataOutputDirectory=C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.out \\ \r\n    generateChangeLog","title":"Liquibase generateChangeLog Failed: Java heap space","body":"<p>You shouldn't be running into MaxPermSize, so just setting a larger Xmx flag should be all that is needed.</p>\n\n<p>It may also help to add the <code>--dataOutputDirectory=DIR_YOU_WANT</code> flag. That will cause Liquibase to output the data in CSV files which will be less mmemory intensive to create. The resulting XML+CSV is usually more manageable than a huge XML file as well </p>\n\n<p>Something like:</p>\n\n<pre><code>C:\\liquibase-3.0.2-bin&gt;liquibase \\ \n--driver=com.ibm.db2.jcc.DB2Driver \\ \n--classpat h=\"C:\\db2jcc.jar\" \\ \n--changeLogFile=\"C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml\" \\ \n--url=\"jdbc:db2://__ip__here__:9008/MYDB\" \\ \n--username=\"user\" \\ \n--password=\"12345\" \\ \n--defaultSchemaName=\"MYSCHEMA\" \\ \n--diffTypes=data \\ \n--dataOutputDirectory=C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.out \\ \ngenerateChangeLog\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1491916,"reputation":873,"user_id":1398821,"display_name":"arbuzov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692195976,"creation_date":1692195976,"answer_id":76914550,"question_id":18664571,"body_markdown":"also, you can call a jar file directly, in this case you can just add -Xmx2g property. -Xmx2g - 2 gigabytes of memory\r\n\r\nin another words: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: text --&gt;\r\n\r\n    C:\\liquibase-3.0.2-bin&gt;java -Xmx2g -jar liquibase.jar \\ \r\n    --classpath h=&quot;C:\\db2jcc.jar&quot; \\ \r\n    --changeLogFile=&quot;C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml&quot; \\ \r\n    --url=&quot;jdbc:db2://__ip__here__:9008/MYDB&quot; \\ \r\n    --username=&quot;user&quot; \\ \r\n    --password=&quot;12345&quot; \\ \r\n    --defaultSchemaName=&quot;MYSCHEMA&quot; \\ \r\n    --diffTypes=data \\ \r\n    --dataOutputDirectory=C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.out \\ \r\n    generateChangeLog\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nalso you may get an error about database driver, so you should add something like --driver=com.ibm.db2.jcc.DB2Driver (for oracle)\r\n\r\n","title":"Liquibase generateChangeLog Failed: Java heap space","body":"<p>also, you can call a jar file directly, in this case you can just add -Xmx2g property. -Xmx2g - 2 gigabytes of memory</p>\n<p>in another words:</p>\n<pre><code>C:\\liquibase-3.0.2-bin&gt;java -Xmx2g -jar liquibase.jar \\ \n--classpath h=&quot;C:\\db2jcc.jar&quot; \\ \n--changeLogFile=&quot;C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml&quot; \\ \n--url=&quot;jdbc:db2://__ip__here__:9008/MYDB&quot; \\ \n--username=&quot;user&quot; \\ \n--password=&quot;12345&quot; \\ \n--defaultSchemaName=&quot;MYSCHEMA&quot; \\ \n--diffTypes=data \\ \n--dataOutputDirectory=C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.out \\ \ngenerateChangeLog\n</code></pre>\n<p>also you may get an error about database driver, so you should add something like --driver=com.ibm.db2.jcc.DB2Driver (for oracle)</p>\n"}],"owner":{"account_id":3171292,"reputation":187,"user_id":2680204,"accept_rate":43,"display_name":"Srini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6095,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1692195976,"creation_date":1378493320,"question_id":18664571,"body_markdown":"When I try to generate SQL data from a DB2 database, I am getting Java Heap space issue. There are around 25 tables with approx 1000 records. \r\n\r\nI use the below scripts in generating the changeset data:\r\n\r\n    C:\\liquibase-3.0.2-bin&gt;liquibase --driver=com.ibm.db2.jcc.DB2Driver \\\r\n    --classpath=&quot;C:\\db2jcc.jar&quot; \\\r\n    --changeLogFile=&quot;C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml&quot; \\\r\n    --url=&quot;jdbc:db2://__ip__here__:9008/MYDB&quot; \\\r\n    --username=&quot;user&quot; \\\r\n    --password=&quot;12345&quot; \\\r\n    --defaultSchemaName=&quot;MYSCHEMA&quot; \\\r\n    --diffTypes=data  \\\r\n    generateChangeLog\r\n\r\n\r\nI tried to increase the memory by setting JAVA_OPTS in liquibase.bat file, but this did not yield any solution:\r\n\r\n- `set JAVA_OPTS=&quot;-XX:MaxPermSize=1024m&quot;`\r\n- `set JAVA_OPTS=&quot;-Xms512m -Xmx1024m&quot;`","title":"Liquibase generateChangeLog Failed: Java heap space","body":"<p>When I try to generate SQL data from a DB2 database, I am getting Java Heap space issue. There are around 25 tables with approx 1000 records. </p>\n\n<p>I use the below scripts in generating the changeset data:</p>\n\n<pre><code>C:\\liquibase-3.0.2-bin&gt;liquibase --driver=com.ibm.db2.jcc.DB2Driver \\\n--classpath=\"C:\\db2jcc.jar\" \\\n--changeLogFile=\"C:\\Liquibase Release\\liqui_MYDB_MYSCHEMA_Data.xml\" \\\n--url=\"jdbc:db2://__ip__here__:9008/MYDB\" \\\n--username=\"user\" \\\n--password=\"12345\" \\\n--defaultSchemaName=\"MYSCHEMA\" \\\n--diffTypes=data  \\\ngenerateChangeLog\n</code></pre>\n\n<p>I tried to increase the memory by setting JAVA_OPTS in liquibase.bat file, but this did not yield any solution:</p>\n\n<ul>\n<li><code>set JAVA_OPTS=\"-XX:MaxPermSize=1024m\"</code></li>\n<li><code>set JAVA_OPTS=\"-Xms512m -Xmx1024m\"</code></li>\n</ul>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692195956,"creation_date":1558673928,"answer_id":56286105,"question_id":56274144,"body_markdown":"This is currently not implemented. There are a variety of possible `DEFAULT` expressions that need to be evaluated, possibly by the database, in order to get the correct value. A simple case is `CURRENT_TIMESTAMP`, which should correspond:\r\n\r\n1. To the server (database) time, not the client time\r\n2. To the time the record is actually created, not some prior moment when a client creates the client record model.\r\n\r\nIn your particular case, it would obviously work as it is a constant without any contextual ambiguity. [You could extend the code generator and generate some custom code sections in records][1] (and POJOs if you use them). That custom code section would then contain an instance initialiser, which would be run with every constructor call:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    {\r\n        set(KAMPAGNE.AKTIV, true);\r\n        // Other default initialisations\r\n    }\r\n\r\nAlternatively, you could use the parser to reverse engineer the `DataType.default_()` value and extract the constant value from the `Param` (if it is a `Param`, or something compatible with a `Param`, such as e.g. `CAST(1 AS INT)`)\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/","title":"Apply Default Values when Instantiating a new Record","body":"<p>This is currently not implemented. There are a variety of possible <code>DEFAULT</code> expressions that need to be evaluated, possibly by the database, in order to get the correct value. A simple case is <code>CURRENT_TIMESTAMP</code>, which should correspond:</p>\n<ol>\n<li>To the server (database) time, not the client time</li>\n<li>To the time the record is actually created, not some prior moment when a client creates the client record model.</li>\n</ol>\n<p>In your particular case, it would obviously work as it is a constant without any contextual ambiguity. <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/\" rel=\"nofollow noreferrer\">You could extend the code generator and generate some custom code sections in records</a> (and POJOs if you use them). That custom code section would then contain an instance initialiser, which would be run with every constructor call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n    set(KAMPAGNE.AKTIV, true);\n    // Other default initialisations\n}\n</code></pre>\n<p>Alternatively, you could use the parser to reverse engineer the <code>DataType.default_()</code> value and extract the constant value from the <code>Param</code> (if it is a <code>Param</code>, or something compatible with a <code>Param</code>, such as e.g. <code>CAST(1 AS INT)</code>)</p>\n"}],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56286105,"answer_count":1,"score":2,"last_activity_date":1692195956,"creation_date":1558610599,"question_id":56274144,"body_markdown":"I see that jOOQ is also adding the default value to its metadata:\r\n\r\n    public class Kampagne extends TableImpl&lt;KampagneRecord&gt; {\r\n\r\n      this.AKTIV = createField(&quot;AKTIV&quot;, \r\n                   SQLDataType.VARCHAR(1).nullable(false)\r\n                     .defaultValue(DSL.field(&quot;&#39;J&#39; &quot;, SQLDataType.VARCHAR)), \r\n                   this, \r\n                   &quot;die Kampagne ist aktiv, d.h. noch nicht abgeschlossen (markiert) resp. ist abgeschlossen (nicht markiert)&quot;, \r\n                   new Varchar2ToBooleanConverter());\r\n\r\nIs there a way to add these default values when creating a new Record?\r\n\r\nSo that this test will succeed?\r\n\r\n    KampagneRecord record = new KampagneRecord();\r\n    \r\n    assertTrue(record.getAktiv();\r\n\r\nWhy I need this you may ask? I use the Record in a UI and want that the checkboxes are already set to the default value based on the Record that is bound to the model.","title":"Apply Default Values when Instantiating a new Record","body":"<p>I see that jOOQ is also adding the default value to its metadata:</p>\n\n<pre><code>public class Kampagne extends TableImpl&lt;KampagneRecord&gt; {\n\n  this.AKTIV = createField(\"AKTIV\", \n               SQLDataType.VARCHAR(1).nullable(false)\n                 .defaultValue(DSL.field(\"'J' \", SQLDataType.VARCHAR)), \n               this, \n               \"die Kampagne ist aktiv, d.h. noch nicht abgeschlossen (markiert) resp. ist abgeschlossen (nicht markiert)\", \n               new Varchar2ToBooleanConverter());\n</code></pre>\n\n<p>Is there a way to add these default values when creating a new Record?</p>\n\n<p>So that this test will succeed?</p>\n\n<pre><code>KampagneRecord record = new KampagneRecord();\n\nassertTrue(record.getAktiv();\n</code></pre>\n\n<p>Why I need this you may ask? I use the Record in a UI and want that the checkboxes are already set to the default value based on the Record that is bound to the model.</p>\n"},{"tags":["java","docker","ubuntu","dockerfile"],"comments":[{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":0,"creation_date":1692190789,"post_id":76913667,"comment_id":135589963,"body_markdown":"It&#39;s not part of Jammy, hence you can&#39;t find it. The question is, what do you need from it, so that you can figure out what would be the appropriate replacement.","body":"It&#39;s not part of Jammy, hence you can&#39;t find it. The question is, what do you need from it, so that you can figure out what would be the appropriate replacement."},{"owner":{"account_id":8343209,"reputation":1167,"user_id":10012856,"display_name":"MaxDragonheart"},"score":0,"creation_date":1692193533,"post_id":76913667,"comment_id":135590662,"body_markdown":"@RickRackow I&#39;ve to expand the list of file format that Geoserver can read as mentioned [here](https://docs.geoserver.org/stable/en/user/data/raster/gdal.html#linux-packages-and-setup)","body":"@RickRackow I&#39;ve to expand the list of file format that Geoserver can read as mentioned <a href=\"https://docs.geoserver.org/stable/en/user/data/raster/gdal.html#linux-packages-and-setup\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692194026,"post_id":76913667,"comment_id":135590783,"body_markdown":"You can search https://packages.ubuntu.com/ to try to find a package.  If it&#39;s a native Java library that you want to use in a Java application, listing it in your `pom.xml` or `build.gradle` will probably be easier and more portable.","body":"You can search <a href=\"https://packages.ubuntu.com/\" rel=\"nofollow noreferrer\">packages.ubuntu.com</a> to try to find a package.  If it&#39;s a native Java library that you want to use in a Java application, listing it in your <code>pom.xml</code> or <code>build.gradle</code> will probably be easier and more portable."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1692195806,"post_id":76913667,"comment_id":135591189,"body_markdown":"Easy solution could be to use a different base image, the package is available in Ubuntu 20.04. @DavidMaze unfortunately the maven package does not contain the native lib, so you would have to build this on your own and add it to the image.","body":"Easy solution could be to use a different base image, the package is available in Ubuntu 20.04. @DavidMaze unfortunately the maven package does not contain the native lib, so you would have to build this on your own and add it to the image."},{"owner":{"account_id":8343209,"reputation":1167,"user_id":10012856,"display_name":"MaxDragonheart"},"score":0,"creation_date":1692196035,"post_id":76913667,"comment_id":135591238,"body_markdown":"@cyberbrain I know that with 20.04 there are no trouble. I would be use 22.04, but if there isn&#39;t a solution I&#39;ll use 20.04. I don&#39;t understand why `libgdal-java` is not in the list of package for 22.04","body":"@cyberbrain I know that with 20.04 there are no trouble. I would be use 22.04, but if there isn&#39;t a solution I&#39;ll use 20.04. I don&#39;t understand why <code>libgdal-java</code> is not in the list of package for 22.04"},{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":1,"creation_date":1692256365,"post_id":76913667,"comment_id":135599208,"body_markdown":"https://osgeo-org.atlassian.net/browse/GEOT-7412?focusedCommentId=84733 I think they&#39;re not really ready yet to upgrade to ubuntu 22.04 but evaluating","body":"<a href=\"https://osgeo-org.atlassian.net/browse/GEOT-7412?focusedCommentId=84733\" rel=\"nofollow noreferrer\">osgeo-org.atlassian.net/browse/GEOT-7412?focusedCommentId=84&zwnj;&#8203;733</a> I think they&#39;re not really ready yet to upgrade to ubuntu 22.04 but evaluating"},{"owner":{"account_id":4774314,"reputation":1575,"user_id":6336357,"display_name":"Rick Rackow"},"score":1,"creation_date":1692259333,"post_id":76913667,"comment_id":135599714,"body_markdown":"You can probably solve this with a multistage docker build too, where you build the package yourself in the first stage","body":"You can probably solve this with a multistage docker build too, where you build the package yourself in the first stage"},{"owner":{"account_id":8343209,"reputation":1167,"user_id":10012856,"display_name":"MaxDragonheart"},"score":0,"creation_date":1692259885,"post_id":76913667,"comment_id":135599816,"body_markdown":"Probably this solve the trouble but for me now isn&#39;t a real need use Ubuntu 22.04, so I will use 20.04 in meanwhile.","body":"Probably this solve the trouble but for me now isn&#39;t a real need use Ubuntu 22.04, so I will use 20.04 in meanwhile."}],"owner":{"account_id":8343209,"reputation":1167,"user_id":10012856,"display_name":"MaxDragonheart"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692195780,"creation_date":1692189879,"question_id":76913667,"body_markdown":"I&#39;m trying to build a Dockerfile based on Ubuntu 22.04 in which I need to add `libgdal-java`.\r\n```\r\nFROM ubuntu:22.04\r\nRUN apt update -y &amp;&amp; apt upgrade -y &amp;&amp; apt -y autoremove\r\nRUN apt install -y gdal-bin\r\nRUN apt install -y libgdal-java\r\n```\r\nWhen I run docker build I see the error below:\r\n```\r\n =&gt; ERROR [5/5] RUN apt install -y libgdal-java                                                                                                                                                                              1.4s\r\n------\r\n &gt; [5/5] RUN apt install -y libgdal-java:\r\n0.479 \r\n0.479 WARNING: apt does not have a stable CLI interface. Use with caution in scripts.\r\n0.479 \r\n0.507 Reading package lists...\r\n1.209 Building dependency tree...\r\n1.359 Reading state information...\r\n1.365 E: Unable to locate package libgdal-java\r\n------\r\nDockerfile:7\r\n--------------------\r\n   5 |     RUN apt install -y default-jdk\r\n   6 |     RUN apt install -y libgdal-dev\r\n   7 | &gt;&gt;&gt; RUN apt install -y libgdal-java\r\n   8 |     \r\n   9 |     \r\n--------------------\r\nERROR: failed to solve: process &quot;/bin/sh -c apt install -y libgdal-java&quot; did not complete successfully: exit code: 100\r\n```\r\nHow I can solve it?\r\n\r\n**EDIT**\r\n\r\nNo trouble with Ubuntu 20.04","title":"Unable to locate package libgdal-java","body":"<p>I'm trying to build a Dockerfile based on Ubuntu 22.04 in which I need to add <code>libgdal-java</code>.</p>\n<pre><code>FROM ubuntu:22.04\nRUN apt update -y &amp;&amp; apt upgrade -y &amp;&amp; apt -y autoremove\nRUN apt install -y gdal-bin\nRUN apt install -y libgdal-java\n</code></pre>\n<p>When I run docker build I see the error below:</p>\n<pre><code> =&gt; ERROR [5/5] RUN apt install -y libgdal-java                                                                                                                                                                              1.4s\n------\n &gt; [5/5] RUN apt install -y libgdal-java:\n0.479 \n0.479 WARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n0.479 \n0.507 Reading package lists...\n1.209 Building dependency tree...\n1.359 Reading state information...\n1.365 E: Unable to locate package libgdal-java\n------\nDockerfile:7\n--------------------\n   5 |     RUN apt install -y default-jdk\n   6 |     RUN apt install -y libgdal-dev\n   7 | &gt;&gt;&gt; RUN apt install -y libgdal-java\n   8 |     \n   9 |     \n--------------------\nERROR: failed to solve: process &quot;/bin/sh -c apt install -y libgdal-java&quot; did not complete successfully: exit code: 100\n</code></pre>\n<p>How I can solve it?</p>\n<p><strong>EDIT</strong></p>\n<p>No trouble with Ubuntu 20.04</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692195762,"creation_date":1692195234,"answer_id":76914447,"question_id":76914338,"body_markdown":"While `void Operation#identify(String[])` exists, `Optional&lt;T&gt; Stream#findFirst(Predicate&lt;? super T&gt;)` does not.\r\n\r\n[`Stream#findFirst()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--) is parameterless method.\r\n\r\nSince there is no parameter, the Java compiler cannot infer the type of the lambda `op` parameter. It can only do that if there is a SAM type available to match against.\r\n\r\nIf you want to find the first item based on a given predicate, you have to [`filter`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-) the stream first:\r\n\r\n```\r\nOptional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\r\n        .filter(op -&gt; op.identify(args))\r\n        .findFirst();\r\n```","title":"A stream &quot;cannot resolve method&quot; that exists","body":"<p>While <code>void Operation#identify(String[])</code> exists, <code>Optional&lt;T&gt; Stream#findFirst(Predicate&lt;? super T&gt;)</code> does not.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"nofollow noreferrer\"><code>Stream#findFirst()</code></a> is parameterless method.</p>\n<p>Since there is no parameter, the Java compiler cannot infer the type of the lambda <code>op</code> parameter. It can only do that if there is a SAM type available to match against.</p>\n<p>If you want to find the first item based on a given predicate, you have to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>filter</code></a> the stream first:</p>\n<pre><code>Optional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\n        .filter(op -&gt; op.identify(args))\n        .findFirst();\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76914447,"answer_count":1,"score":-3,"last_activity_date":1692195762,"creation_date":1692194456,"question_id":76914338,"body_markdown":"Why doesn&#39;t the problematic line work? The IDE says\r\n\r\n&gt; Cannot resolve method &#39;identify(String[])&#39;&quot;\r\n\r\nbut it&#39;s right. there\r\n```java\r\npublic class PersonApp {\r\n    public static void main(String[] args) {\r\n        if (areValidArgs(args)) {\r\n            Operations.findAppropriateOperation(args).execute();\r\n        }\r\n    }\r\n\r\n    public static boolean areValidArgs(String[] args) {\r\n        return args.length &gt; 0;\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class Operations {\r\n    private static Operation[] operations; // let Spring inject all beans of type Operation\r\n    \r\n    @Autowired\r\n    public void setOperations(Operation[] operations) {\r\n        Operations.operations = operations;\r\n    } \r\n\r\n    public static Operation findAppropriateOperation(String[] args) {\r\n        Optional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\r\n                .findFirst(op -&gt; op.identify(args)); // this line is problematic\r\n/*\r\nIf I change the statement above to\r\n\r\n        Optional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\r\n                .filter(op -&gt; op.identify(args))\r\n                .findFirst();\r\n\r\nit works, but I can&#39;t stop thinking why the initial code didn&#39;t\r\n*/\r\n        return operationOptional\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unsupported argument&quot;));\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic abstract class Operation {\r\n    protected final PersonService personService;\r\n\r\n    public abstract boolean identify(String[] args); // here!\r\n    public abstract void execute();\r\n}\r\n```\r\n```java\r\n// sample operation\r\n\r\n@Component\r\npublic class CreatePersonTableOperation extends Operation {\r\n    public CreatePersonTableOperation(PersonService personService) {\r\n        super(personService);\r\n    }\r\n\r\n    @Override\r\n    public boolean identify(String[] args) {\r\n        return args.length == 1 &amp;&amp; args[0].equals(&quot;1&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void execute() {\r\n        personService.createPersonTable();\r\n    }\r\n}\r\n```\r\nI thought maybe `Arrays.stream()` returns a stream of `Object`s (for example, `stream.toArray()` returns an array of `Object`s so streams and arrays don&#39;t get along very well), but I checked the docs, and it doesn&#39;t\r\n\r\n&gt; `public static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)`\r\n&gt;\r\n&gt; Returns a sequential Stream with the specified array as its source.\r\n&gt;\r\n&gt; **Type Parameters:**\r\n&gt;\r\n&gt; T - The type of the array elements\r\n&gt;\r\n&gt; **Parameters:**\r\n&gt;\r\n&gt; array - The array, assumed to be unmodified during use\r\n&gt;\r\n&gt; **Returns:**\r\n&gt;\r\n&gt; a Stream for the array\r\n","title":"A stream &quot;cannot resolve method&quot; that exists","body":"<p>Why doesn't the problematic line work? The IDE says</p>\n<blockquote>\n<p>Cannot resolve method 'identify(String[])'&quot;</p>\n</blockquote>\n<p>but it's right. there</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonApp {\n    public static void main(String[] args) {\n        if (areValidArgs(args)) {\n            Operations.findAppropriateOperation(args).execute();\n        }\n    }\n\n    public static boolean areValidArgs(String[] args) {\n        return args.length &gt; 0;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Operations {\n    private static Operation[] operations; // let Spring inject all beans of type Operation\n    \n    @Autowired\n    public void setOperations(Operation[] operations) {\n        Operations.operations = operations;\n    } \n\n    public static Operation findAppropriateOperation(String[] args) {\n        Optional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\n                .findFirst(op -&gt; op.identify(args)); // this line is problematic\n/*\nIf I change the statement above to\n\n        Optional&lt;Operation&gt; operationOptional = Arrays.stream(operations)\n                .filter(op -&gt; op.identify(args))\n                .findFirst();\n\nit works, but I can't stop thinking why the initial code didn't\n*/\n        return operationOptional\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unsupported argument&quot;));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic abstract class Operation {\n    protected final PersonService personService;\n\n    public abstract boolean identify(String[] args); // here!\n    public abstract void execute();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// sample operation\n\n@Component\npublic class CreatePersonTableOperation extends Operation {\n    public CreatePersonTableOperation(PersonService personService) {\n        super(personService);\n    }\n\n    @Override\n    public boolean identify(String[] args) {\n        return args.length == 1 &amp;&amp; args[0].equals(&quot;1&quot;);\n    }\n\n    @Override\n    public void execute() {\n        personService.createPersonTable();\n    }\n}\n</code></pre>\n<p>I thought maybe <code>Arrays.stream()</code> returns a stream of <code>Object</code>s (for example, <code>stream.toArray()</code> returns an array of <code>Object</code>s so streams and arrays don't get along very well), but I checked the docs, and it doesn't</p>\n<blockquote>\n<p><code>public static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)</code></p>\n<p>Returns a sequential Stream with the specified array as its source.</p>\n<p><strong>Type Parameters:</strong></p>\n<p>T - The type of the array elements</p>\n<p><strong>Parameters:</strong></p>\n<p>array - The array, assumed to be unmodified during use</p>\n<p><strong>Returns:</strong></p>\n<p>a Stream for the array</p>\n</blockquote>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":16189920,"reputation":3,"user_id":11689006,"display_name":"SerializedCoffee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692195565,"creation_date":1692195565,"question_id":76914492,"body_markdown":"I am more of a JS guy and I need to resolve a issue related to Android(React Native) where in I need to pass and get the callback function to the following Java interface - \r\n\r\ncom.facebook.react.bridge.ReadableArray\r\n\r\nhttps://appdoc.app/artifact/cn.ransj.rn/react-native/0.38.c/com/facebook/react/bridge/ReadableArray.html\r\n\r\nHere is the JAVA code from the library - \r\n\r\n\r\n```\r\n@Override\r\n    public void receiveCommand(SketchCanvas view, int commandType, @Nullable ReadableArray args) {\r\n        switch (commandType)\r\n            // Other casses\r\n            case COMMAND_TRANSFER_BASE64: {\r\n                view.getBase64(args.getString(0), args.getBoolean(1), args.getBoolean(2), args.getBoolean(3), args.getBoolean(4), **args.getJSModule(5)**);\r\n                return;\r\n            }\r\n            default:\r\n                throw new IllegalArgumentException(String.format(\r\n                        &quot;Unsupported command %d received by %s.&quot;,\r\n                        commandType,\r\n                        getClass().getSimpleName()));\r\n        }\r\n    }\r\n```\r\n\r\nI am trying to access the 6th argument in COMMAND_TRANSFER_BASE64 case above from args, but there isn&#39;t a specific type to receive a function. Is there any work around? This is the getBase64 Method for reference -\r\n\r\n\r\n```\r\npublic void getBase64(String format, boolean transparent, boolean includeImage, boolean includeText, boolean cropToImageSize, Callback callback) {\r\n        WritableMap event = Arguments.createMap();\r\n        Bitmap bitmap = createImage(format.equals(&quot;png&quot;) &amp;&amp; transparent, includeImage, includeText, cropToImageSize);\r\n        ByteArrayOutputStream byteArrayOS = new ByteArrayOutputStream();\r\n\r\n        bitmap.compress(\r\n            format.equals(&quot;png&quot;) ? Bitmap.CompressFormat.PNG : Bitmap.CompressFormat.JPEG,\r\n            format.equals(&quot;png&quot;) ? 100 : 90,\r\n            byteArrayOS);\r\n        callback.invoke(null, Base64.encodeToString(byteArrayOS.toByteArray(), Base64.DEFAULT));\r\n    }\r\n```\r\n\r\n\r\nI have tried most of the provided methods but no luck.\r\n\r\n","title":"Can we pass a callback function to com.facebook.react.bridge.ReadableArray?","body":"<p>I am more of a JS guy and I need to resolve a issue related to Android(React Native) where in I need to pass and get the callback function to the following Java interface -</p>\n<p>com.facebook.react.bridge.ReadableArray</p>\n<p><a href=\"https://appdoc.app/artifact/cn.ransj.rn/react-native/0.38.c/com/facebook/react/bridge/ReadableArray.html\" rel=\"nofollow noreferrer\">https://appdoc.app/artifact/cn.ransj.rn/react-native/0.38.c/com/facebook/react/bridge/ReadableArray.html</a></p>\n<p>Here is the JAVA code from the library -</p>\n<pre><code>@Override\n    public void receiveCommand(SketchCanvas view, int commandType, @Nullable ReadableArray args) {\n        switch (commandType)\n            // Other casses\n            case COMMAND_TRANSFER_BASE64: {\n                view.getBase64(args.getString(0), args.getBoolean(1), args.getBoolean(2), args.getBoolean(3), args.getBoolean(4), **args.getJSModule(5)**);\n                return;\n            }\n            default:\n                throw new IllegalArgumentException(String.format(\n                        &quot;Unsupported command %d received by %s.&quot;,\n                        commandType,\n                        getClass().getSimpleName()));\n        }\n    }\n</code></pre>\n<p>I am trying to access the 6th argument in COMMAND_TRANSFER_BASE64 case above from args, but there isn't a specific type to receive a function. Is there any work around? This is the getBase64 Method for reference -</p>\n<pre><code>public void getBase64(String format, boolean transparent, boolean includeImage, boolean includeText, boolean cropToImageSize, Callback callback) {\n        WritableMap event = Arguments.createMap();\n        Bitmap bitmap = createImage(format.equals(&quot;png&quot;) &amp;&amp; transparent, includeImage, includeText, cropToImageSize);\n        ByteArrayOutputStream byteArrayOS = new ByteArrayOutputStream();\n\n        bitmap.compress(\n            format.equals(&quot;png&quot;) ? Bitmap.CompressFormat.PNG : Bitmap.CompressFormat.JPEG,\n            format.equals(&quot;png&quot;) ? 100 : 90,\n            byteArrayOS);\n        callback.invoke(null, Base64.encodeToString(byteArrayOS.toByteArray(), Base64.DEFAULT));\n    }\n</code></pre>\n<p>I have tried most of the provided methods but no luck.</p>\n"},{"tags":["java","awt","desktop"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1692197710,"post_id":76914415,"comment_id":135591630,"body_markdown":"I think this code will use the default program for the extension type. You should not have to worry about that.","body":"I think this code will use the default program for the extension type. You should not have to worry about that."},{"owner":{"account_id":2736960,"reputation":1329,"user_id":2359430,"accept_rate":76,"display_name":"Bruno"},"score":0,"creation_date":1692201496,"post_id":76914415,"comment_id":135592431,"body_markdown":"That was my hope too. I got in touch with the developer of ABC.exe. I think they need to fix something with it. Let&#39;s see if the code I shared will work after that.","body":"That was my hope too. I got in touch with the developer of ABC.exe. I think they need to fix something with it. Let&#39;s see if the code I shared will work after that."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1692202607,"post_id":76914415,"comment_id":135592647,"body_markdown":"Normally, when you install ABC.exe, it should set the file types it opens during the installation process. I am speaking of Windows. If it doesn&#39;t, the user must set it manually using `Open With` and `Always` from the mouse context menu. Once it is set, calling `Desktiop.getDesktop().open(abcFile.xyz)` should open using that default app.","body":"Normally, when you install ABC.exe, it should set the file types it opens during the installation process. I am speaking of Windows. If it doesn&#39;t, the user must set it manually using <code>Open With</code> and <code>Always</code> from the mouse context menu. Once it is set, calling <code>Desktiop.getDesktop().open(abcFile.xyz)</code> should open using that default app."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692205706,"post_id":76914415,"comment_id":135593235,"body_markdown":"Not easily.  You’ll need to execute some system-specific commands to find the association.  I suspect on Windows you’ll have to traverse the registry.","body":"Not easily.  You’ll need to execute some system-specific commands to find the association.  I suspect on Windows you’ll have to traverse the registry."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1692249683,"post_id":76914415,"comment_id":135598340,"body_markdown":"An easy way might be to make use of the windows start command,.Give that the file associations are setup, it will find your ABC.exe.","body":"An easy way might be to make use of the windows start command,.Give that the file associations are setup, it will find your ABC.exe."}],"owner":{"account_id":2736960,"reputation":1329,"user_id":2359430,"accept_rate":76,"display_name":"Bruno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692195035,"creation_date":1692195035,"question_id":76914415,"body_markdown":"Is it possible to get the path to the executable of a default application? For example, suppose I set that files with the extension &quot;.abc&quot; should be opened with executable ABC.exe. I&#39;d like to use something like the following code (using `java.awt.Desktop`):\r\n\r\n```\r\nDesktop.getDesktop().open(abcFile);\r\n```\r\nbut is it possible to know where ABC.exe is stored in the user&#39;s computer? In my situation, `ABC.exe someFile.abc` only seems to work if I set the current directory to be that including the ABC.exe (e.g., I first have to `cd` into the directory containing ABC.exe), because it needs to find some libraries in that directory.","title":"Java Get Path to Executable of Default Application","body":"<p>Is it possible to get the path to the executable of a default application? For example, suppose I set that files with the extension &quot;.abc&quot; should be opened with executable ABC.exe. I'd like to use something like the following code (using <code>java.awt.Desktop</code>):</p>\n<pre><code>Desktop.getDesktop().open(abcFile);\n</code></pre>\n<p>but is it possible to know where ABC.exe is stored in the user's computer? In my situation, <code>ABC.exe someFile.abc</code> only seems to work if I set the current directory to be that including the ABC.exe (e.g., I first have to <code>cd</code> into the directory containing ABC.exe), because it needs to find some libraries in that directory.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692195231,"post_id":76914411,"comment_id":135591051,"body_markdown":"What do you think `exclude = {DataSourceAutoConfiguration.class}` does? Do you think JPA will work without a datasource connection?","body":"What do you think <code>exclude = {DataSourceAutoConfiguration.class}</code> does? Do you think JPA will work without a datasource connection?"},{"owner":{"account_id":29237397,"reputation":1,"user_id":22399748,"display_name":"ArmasLaparking"},"score":0,"creation_date":1692196781,"post_id":76914411,"comment_id":135591421,"body_markdown":"Thank you very much, in the course I was following the teacher added because it gave him other errors and it worked perfect, once removed that I jumped an error related to the PublicKeyRetrieval but searching the internet has been easy to solve. Thank you very much for your help and your quick response.","body":"Thank you very much, in the course I was following the teacher added because it gave him other errors and it worked perfect, once removed that I jumped an error related to the PublicKeyRetrieval but searching the internet has been easy to solve. Thank you very much for your help and your quick response."}],"owner":{"account_id":29237397,"reputation":1,"user_id":22399748,"display_name":"ArmasLaparking"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692195014,"creation_date":1692195014,"question_id":76914411,"body_markdown":"Doing a course I found that at the time of performing the dependency injection following the instructions I encountered the following error:\r\n\r\n[enter image description here](https://i.stack.imgur.com/Mtof1.png)\r\n\r\nI leave you the classes I have used:\r\n\r\n# UserControllers.java:\r\n\r\n````\r\npackage com.cursito.curso.controllers;\r\n\r\nimport com.cursito.curso.dao.UserDao;\r\nimport com.cursito.curso.models.User;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@EnableJpaRepositories\r\n@RestController\r\npublic class UserControllers {\r\n\r\n    @Autowired\r\n    private UserDao userDao;\r\n    \r\n    @RequestMapping(value = &quot;userss&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        return userDao.getUsers();\r\n    }\r\n\r\n}\r\n\r\n# \r\n\r\n# UserDao.java:\r\n\r\npackage com.cursito.curso.dao;\r\n\r\nimport com.cursito.curso.models.User;\r\nimport java.util.List;\r\n\r\npublic interface UserDao  {\r\nList\\&lt;User\\&gt; getUsers();\r\n}\r\n````\r\n\r\n# UserDaoImplementation.java:\r\n\r\n````\r\nimport com.cursito.curso.models.User;\r\nimport jakarta.persistence.\\*;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@EnableJpaRepositories\r\n@Repository\r\n@Transactional\r\npublic class UserDaoImplementation implements UserDao {\r\n\r\n@PersistenceContext\r\nEntityManager entityManager;\r\n\r\n    @Override\r\n    @Transactional\r\n    public List&lt;User&gt; getUsers() {\r\n        String query = &quot;FROM User&quot;;\r\n        return entityManager.createQuery(query).getResultList();\r\n    \r\n    }\r\n\r\n}\r\n````\r\n\r\n# User.java:\r\n\r\n````\r\npackage com.cursito.curso.models;\r\n\r\nimport jakarta.persistence.\\*;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Table(name = &quot;usuarios&quot;)\r\n@ToString @EqualsAndHashCode\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Getter @Setter @Column(name = &quot;id&quot;)\r\n    private long id;\r\n    \r\n    @Getter @Setter @Column(name = &quot;nombre&quot;)\r\n    private String nombre;\r\n    \r\n    @Getter @Setter @Column(name = &quot;apellido&quot;)\r\n    private String apellido;\r\n    \r\n    @Getter @Setter @Column(name = &quot;telefono&quot;)\r\n    private String telefono;\r\n    \r\n    @Getter @Setter @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    \r\n    @Getter @Setter @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n}\r\n````\r\n\r\n# CursoApplication.java (Main):\r\n\r\n````\r\npackage com.cursito.curso;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class CursoApplication {\r\n\r\n    public static void main(String[] args) {\r\n    \tSpringApplication.run(CursoApplication.class, args);\r\n    }\r\n\r\n}\r\n````\r\n\r\n# Application.properties:\r\n\r\n````\r\n\\#GENERAL\r\nserver.port=8081\r\n\r\n\\#DATABASE\r\nspring.datasource.url=jdbc:mysql://localhost/cursospring?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n````\r\n# pom.xml:\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\\&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\\&gt;\r\n\\&lt;modelVersion\\&gt;4.0.0\\&lt;/modelVersion\\&gt;\r\n\\&lt;parent\\&gt;\r\n\\&lt;groupId\\&gt;org.springframework.boot\\&lt;/groupId\\&gt;\r\n\\&lt;artifactId\\&gt;spring-boot-starter-parent\\&lt;/artifactId\\&gt;\r\n\\&lt;version\\&gt;3.1.2\\&lt;/version\\&gt;\r\n\\&lt;relativePath/\\&gt; \\&lt;!-- lookup parent from repository --\\&gt;\r\n\\&lt;/parent\\&gt;\r\n\\&lt;groupId\\&gt;com.cursito\\&lt;/groupId\\&gt;\r\n\\&lt;artifactId\\&gt;curso\\&lt;/artifactId\\&gt;\r\n\\&lt;version\\&gt;0.0.1-SNAPSHOT\\&lt;/version\\&gt;\r\n\\&lt;packaging\\&gt;war\\&lt;/packaging\\&gt;\r\n\\&lt;name\\&gt;curso\\&lt;/name\\&gt;\r\n\\&lt;description\\&gt;Demo project for Spring Boot\\&lt;/description\\&gt;\r\n\\&lt;properties\\&gt;\r\n\\&lt;java.version\\&gt;11\\&lt;/java.version\\&gt;\r\n\\&lt;/properties\\&gt;\r\n\\&lt;dependencies\\&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.28&lt;/version&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.18.28&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n````\r\nI have tried everything I have searched the internet , even instantiating objects of the EntityManagerFactory class in a thousand ways but I can not get it to work.Thanks to anyone who can help","title":"Field userDao in com.curso.controllers.UserControllers required a bean of type &#39;jakarta.persistence.EntityManagerFactory&#39; that could not be found","body":"<p>Doing a course I found that at the time of performing the dependency injection following the instructions I encountered the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/Mtof1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I leave you the classes I have used:</p>\n<h1>UserControllers.java:</h1>\n<pre><code>package com.cursito.curso.controllers;\n\nimport com.cursito.curso.dao.UserDao;\nimport com.cursito.curso.models.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@EnableJpaRepositories\n@RestController\npublic class UserControllers {\n\n    @Autowired\n    private UserDao userDao;\n    \n    @RequestMapping(value = &quot;userss&quot;)\n    public List&lt;User&gt; getUsers() {\n        return userDao.getUsers();\n    }\n\n}\n\n# \n\n# UserDao.java:\n\npackage com.cursito.curso.dao;\n\nimport com.cursito.curso.models.User;\nimport java.util.List;\n\npublic interface UserDao  {\nList\\&lt;User\\&gt; getUsers();\n}\n</code></pre>\n<h1>UserDaoImplementation.java:</h1>\n<pre><code>import com.cursito.curso.models.User;\nimport jakarta.persistence.\\*;\nimport jakarta.transaction.Transactional;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@EnableJpaRepositories\n@Repository\n@Transactional\npublic class UserDaoImplementation implements UserDao {\n\n@PersistenceContext\nEntityManager entityManager;\n\n    @Override\n    @Transactional\n    public List&lt;User&gt; getUsers() {\n        String query = &quot;FROM User&quot;;\n        return entityManager.createQuery(query).getResultList();\n    \n    }\n\n}\n</code></pre>\n<h1>User.java:</h1>\n<pre><code>package com.cursito.curso.models;\n\nimport jakarta.persistence.\\*;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name = &quot;usuarios&quot;)\n@ToString @EqualsAndHashCode\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Getter @Setter @Column(name = &quot;id&quot;)\n    private long id;\n    \n    @Getter @Setter @Column(name = &quot;nombre&quot;)\n    private String nombre;\n    \n    @Getter @Setter @Column(name = &quot;apellido&quot;)\n    private String apellido;\n    \n    @Getter @Setter @Column(name = &quot;telefono&quot;)\n    private String telefono;\n    \n    @Getter @Setter @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Getter @Setter @Column(name = &quot;password&quot;)\n    private String password;\n\n}\n</code></pre>\n<h1>CursoApplication.java (Main):</h1>\n<pre><code>package com.cursito.curso;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class CursoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CursoApplication.class, args);\n    }\n\n}\n</code></pre>\n<h1>Application.properties:</h1>\n<pre><code>\\#GENERAL\nserver.port=8081\n\n\\#DATABASE\nspring.datasource.url=jdbc:mysql://localhost/cursospring?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\n\n</code></pre>\n<h1>pom.xml:</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\\&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\\&gt;\n\\&lt;modelVersion\\&gt;4.0.0\\&lt;/modelVersion\\&gt;\n\\&lt;parent\\&gt;\n\\&lt;groupId\\&gt;org.springframework.boot\\&lt;/groupId\\&gt;\n\\&lt;artifactId\\&gt;spring-boot-starter-parent\\&lt;/artifactId\\&gt;\n\\&lt;version\\&gt;3.1.2\\&lt;/version\\&gt;\n\\&lt;relativePath/\\&gt; \\&lt;!-- lookup parent from repository --\\&gt;\n\\&lt;/parent\\&gt;\n\\&lt;groupId\\&gt;com.cursito\\&lt;/groupId\\&gt;\n\\&lt;artifactId\\&gt;curso\\&lt;/artifactId\\&gt;\n\\&lt;version\\&gt;0.0.1-SNAPSHOT\\&lt;/version\\&gt;\n\\&lt;packaging\\&gt;war\\&lt;/packaging\\&gt;\n\\&lt;name\\&gt;curso\\&lt;/name\\&gt;\n\\&lt;description\\&gt;Demo project for Spring Boot\\&lt;/description\\&gt;\n\\&lt;properties\\&gt;\n\\&lt;java.version\\&gt;11\\&lt;/java.version\\&gt;\n\\&lt;/properties\\&gt;\n\\&lt;dependencies\\&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>I have tried everything I have searched the internet , even instantiating objects of the EntityManagerFactory class in a thousand ways but I can not get it to work.Thanks to anyone who can help</p>\n"},{"tags":["java","spring-cloud","netflix-eureka","wiremock","testcontainers"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1687797763,"post_id":76558466,"comment_id":134983850,"body_markdown":"There&#39;s an alternative to the answer below. You can use a static service instance list supplier you can use instead of registering wiremock with eureka. I&#39;m on mobile or is point you to examples in spring cloud&#39;s own tests","body":"There&#39;s an alternative to the answer below. You can use a static service instance list supplier you can use instead of registering wiremock with eureka. I&#39;m on mobile or is point you to examples in spring cloud&#39;s own tests"},{"owner":{"account_id":8821600,"reputation":568,"user_id":15059968,"display_name":"Andrei Kulik"},"score":0,"creation_date":1687805068,"post_id":76558466,"comment_id":134985258,"body_markdown":"Do you mean to implement a custom Feign client configuration? But then the Feign client will no longer rely on Eureka for service discovery, does not it? Instead, it will use the static list of service instances provided by the `ServiceInstanceListSupplier` bean.","body":"Do you mean to implement a custom Feign client configuration? But then the Feign client will no longer rely on Eureka for service discovery, does not it? Instead, it will use the static list of service instances provided by the <code>ServiceInstanceListSupplier</code> bean."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1687896101,"post_id":76558466,"comment_id":135000645,"body_markdown":"No. I mean to do something like this https://github.com/spring-cloud/spring-cloud-gateway/blob/98ccd635e0c98f5c6bf5b580d7db3f877bceddff/spring-cloud-gateway-server/src/test/java/org/springframework/cloud/gateway/test/BaseWebClientTests.java#L139-L150 and this https://github.com/spring-cloud/spring-cloud-gateway/blob/98ccd635e0c98f5c6bf5b580d7db3f877bceddff/spring-cloud-gateway-server/src/test/java/org/springframework/cloud/gateway/test/BaseWebClientTests.java#L83 in your test. Disable eureka, but plug into the load balancer framework to point to a preconfigured HTTP service.","body":"No. I mean to do something like this <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/98ccd635e0c98f5c6bf5b580d7db3f877bceddff/spring-cloud-gateway-server/src/test/java/org/springframework/cloud/gateway/test/BaseWebClientTests.java#L139-L150\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/blob/&hellip;</a> and this <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/98ccd635e0c98f5c6bf5b580d7db3f877bceddff/spring-cloud-gateway-server/src/test/java/org/springframework/cloud/gateway/test/BaseWebClientTests.java#L83\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/blob/&hellip;</a> in your test. Disable eureka, but plug into the load balancer framework to point to a preconfigured HTTP service."}],"answers":[{"tags":[],"owner":{"account_id":8821600,"reputation":568,"user_id":15059968,"display_name":"Andrei Kulik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692194926,"creation_date":1692194926,"answer_id":76914395,"question_id":76558466,"body_markdown":"@spencergibb shared a hint in a comment. \r\n\r\n&gt; No. I mean to do something like this github.com/spring-cloud/spring-cloud-gateway/blob/… and this github.com/spring-cloud/spring-cloud-gateway/blob/… in your test. Disable eureka, but plug into the load balancer framework to point to a preconfigured HTTP service. \r\n\r\nI will put my solution here to make it answer visible to everyone.\r\n\r\nThe Spring presents the `@LoadBalancerClient` annotation to implement a client-side load balancer. There are two steps only.\r\n\r\nFirstly, need to create the client-side load balancer:\r\n```java\r\npublic static class TestClientLoadBalancer {\r\n\r\n    private static final String SERVICE_ID = &quot;session-service&quot;;\r\n\r\n    @Bean\r\n    public ServiceInstanceListSupplier staticServiceInstanceListSupplier() {\r\n          return ServiceInstanceListSuppliers.from(SERVICE_ID,\r\n                  new DefaultServiceInstance(SERVICE_ID + &quot;-1&quot;, SERVICE_ID, &quot;localhost&quot;, LOAD_BALANCER_PORT, false));\r\n    }\r\n\r\n}\r\n```\r\n\r\nSecond step put it above the integration test:\r\n```java\r\n@WireMockTest\r\n@Testcontainers\r\n@LoadBalancerClient(name = &quot;test-client-side-load-balancer&quot;, configuration = TestClientLoadBalancer.class)\r\npublic abstract class IntegrationBaseTest {\r\n```\r\n\r\nAlso, I had to get a port for the client load balancer and I got it from wiremock server.\r\n```java\r\npublic static int LOAD_BALANCER_PORT;\r\n\r\n@BeforeAll\r\nstatic void beforeAll() {\r\n    LOAD_BALANCER_PORT = WIREMOCK_SERVER.getPort();\r\n}\r\n```\r\n\r\n","title":"Spring Eureka in integration tests","body":"<p>@spencergibb shared a hint in a comment.</p>\n<blockquote>\n<p>No. I mean to do something like this github.com/spring-cloud/spring-cloud-gateway/blob/… and this github.com/spring-cloud/spring-cloud-gateway/blob/… in your test. Disable eureka, but plug into the load balancer framework to point to a preconfigured HTTP service.</p>\n</blockquote>\n<p>I will put my solution here to make it answer visible to everyone.</p>\n<p>The Spring presents the <code>@LoadBalancerClient</code> annotation to implement a client-side load balancer. There are two steps only.</p>\n<p>Firstly, need to create the client-side load balancer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class TestClientLoadBalancer {\n\n    private static final String SERVICE_ID = &quot;session-service&quot;;\n\n    @Bean\n    public ServiceInstanceListSupplier staticServiceInstanceListSupplier() {\n          return ServiceInstanceListSuppliers.from(SERVICE_ID,\n                  new DefaultServiceInstance(SERVICE_ID + &quot;-1&quot;, SERVICE_ID, &quot;localhost&quot;, LOAD_BALANCER_PORT, false));\n    }\n\n}\n</code></pre>\n<p>Second step put it above the integration test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WireMockTest\n@Testcontainers\n@LoadBalancerClient(name = &quot;test-client-side-load-balancer&quot;, configuration = TestClientLoadBalancer.class)\npublic abstract class IntegrationBaseTest {\n</code></pre>\n<p>Also, I had to get a port for the client load balancer and I got it from wiremock server.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int LOAD_BALANCER_PORT;\n\n@BeforeAll\nstatic void beforeAll() {\n    LOAD_BALANCER_PORT = WIREMOCK_SERVER.getPort();\n}\n</code></pre>\n"}],"owner":{"account_id":8821600,"reputation":568,"user_id":15059968,"display_name":"Andrei Kulik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76914395,"answer_count":1,"score":1,"last_activity_date":1692194926,"creation_date":1687795907,"question_id":76558466,"body_markdown":"We have a web service `A` (`Java 17`, `spring-cloud-starter-openfeign: 3.1.6`, `spring-cloud-starter-netflix-eureka-client: 3.1.6`, `testcontainers: 1.18.0`, `wiremock: 2.35.0`) that calls service `B` using openfeign. Since service `B` is registered in Eureka we send a call into the `B` service using the openfeign client below:\r\n```java\r\n@FeignClient(&quot;SESSION-MANAGER&quot;)\r\npublic interface SessionManagerClient {\r\n\r\n    @PostMapping(path = &quot;/session/get&quot;, consumes = &quot;application/json&quot;)\r\n    Session getSession(SessionRequstBody sessionRequstBody);\r\n\r\n}\r\n```\r\nOpenfeign configuration (*we don&#39;t have any other openfeign configurations or beans*):\r\n```yml\r\nfeign:\r\n  client:\r\n    config:\r\n      default:\r\n        connectTimeout: 600000\r\n        readTimeout: 600000\r\n        logger-level: basic\r\n```\r\n\r\nThis code finds the appropriate service in Eureka by the `SESSION-MANAGER` name and sends the request. It works well in the environment.\r\nBut I don&#39;t quite understand how to mock this `/session/get` call (using wiremock) in integration tests. Because there is Eureka (implicitly) between the code call and the openfeign client. So because of it openfeign thinks about the `@FeignClient(&quot;SESSION-MANAGER&quot;)` as a host and sends such request `http://SESSION-MANAGER/session/get` leads to this error: \r\n```java\r\n[WARN ] 2023-06-26 13:56:52.069 [simpleMessageListenerContainer-2]  o.s.c.l.c.RoundRobinLoadBalancer - No servers available for service: SESSION-MANAGER\r\n[DEBUG] 2023-06-26 13:56:52.070 [simpleMessageListenerContainer-2]  o.s.c.o.l.RetryableFeignBlockingLoadBalancerClient - Selected service instance: null\r\n[WARN ] 2023-06-26 13:56:52.070 [simpleMessageListenerContainer-2]  o.s.c.o.l.RetryableFeignBlockingLoadBalancerClient - Service instance was not resolved, executing the original request\r\n[ERROR] 2023-06-26 13:56:52.074 [simpleMessageListenerContainer-2]  c.o.t.s.s.MyService - Error in getting Session\r\nfeign.RetryableException: SESSION-MANAGER executing POST http://SESSION-MANAGER/session/get\r\n\tat feign.FeignException.errorExecuting(FeignException.java:268)\r\n\t...\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.net.UnknownHostException: SESSION-MANAGER\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n\t...\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)\r\n\t... 42 common frames omitted\r\n[DEBUG] 2023-06-26 13:56:52.386 [SpringApplicationShutdownHook]  o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@748904e8, started on Mon Jun 26 13:56:49 EEST 2023\r\n[INFO ] 2023-06-26 13:56:52.386 [SpringApplicationShutdownHook]  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application MY-SERVICE with eureka with status DOWN\r\n```\r\n\r\nThe question is could you please help me understand what should I mock in this case? Should I directly mock a call to the service `B` or maybe I even should up the Eureka in Testcontainers and manage it on this level?\r\n\r\nEureka configuration:\r\n```yml\r\neureka:\r\n  client:\r\n    registerWithEureka: false\r\n    fetchRegistry: true\r\n    healthcheck:\r\n      enabled: false\r\n    serviceUrl:\r\n      defaultZone: &quot;http://localhost:8761/eureka/&quot;\r\n  instance:\r\n    statusPageUrl: &quot;http://${eureka.hostname}/info&quot;\r\n    healthCheckUrl: &quot;http://${eureka.hostname}/health&quot;\r\n    homePageUrl: &quot;http://${eureka.hostname}/&quot;\r\n    nonSecurePortEnabled: true\r\n```\r\n\r\nWiremock:\r\n```java\r\nWIREMOCK_SERVER.stubFor(WireMock.post(WireMock.urlPathEqualTo(&quot;/session/get&quot;))\r\n        .withRequestBody(WireMock.equalToJson(SESSION_MANAGER_REQUEST_BODY))\r\n        .willReturn(WireMock.aResponse()\r\n            .withStatus(200)\r\n            .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .withBody(SESSION_MANAGER_RESPONSE))\r\n);\r\n```","title":"Spring Eureka in integration tests","body":"<p>We have a web service <code>A</code> (<code>Java 17</code>, <code>spring-cloud-starter-openfeign: 3.1.6</code>, <code>spring-cloud-starter-netflix-eureka-client: 3.1.6</code>, <code>testcontainers: 1.18.0</code>, <code>wiremock: 2.35.0</code>) that calls service <code>B</code> using openfeign. Since service <code>B</code> is registered in Eureka we send a call into the <code>B</code> service using the openfeign client below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(&quot;SESSION-MANAGER&quot;)\npublic interface SessionManagerClient {\n\n    @PostMapping(path = &quot;/session/get&quot;, consumes = &quot;application/json&quot;)\n    Session getSession(SessionRequstBody sessionRequstBody);\n\n}\n</code></pre>\n<p>Openfeign configuration (<em>we don't have any other openfeign configurations or beans</em>):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>feign:\n  client:\n    config:\n      default:\n        connectTimeout: 600000\n        readTimeout: 600000\n        logger-level: basic\n</code></pre>\n<p>This code finds the appropriate service in Eureka by the <code>SESSION-MANAGER</code> name and sends the request. It works well in the environment.\nBut I don't quite understand how to mock this <code>/session/get</code> call (using wiremock) in integration tests. Because there is Eureka (implicitly) between the code call and the openfeign client. So because of it openfeign thinks about the <code>@FeignClient(&quot;SESSION-MANAGER&quot;)</code> as a host and sends such request <code>http://SESSION-MANAGER/session/get</code> leads to this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[WARN ] 2023-06-26 13:56:52.069 [simpleMessageListenerContainer-2]  o.s.c.l.c.RoundRobinLoadBalancer - No servers available for service: SESSION-MANAGER\n[DEBUG] 2023-06-26 13:56:52.070 [simpleMessageListenerContainer-2]  o.s.c.o.l.RetryableFeignBlockingLoadBalancerClient - Selected service instance: null\n[WARN ] 2023-06-26 13:56:52.070 [simpleMessageListenerContainer-2]  o.s.c.o.l.RetryableFeignBlockingLoadBalancerClient - Service instance was not resolved, executing the original request\n[ERROR] 2023-06-26 13:56:52.074 [simpleMessageListenerContainer-2]  c.o.t.s.s.MyService - Error in getting Session\nfeign.RetryableException: SESSION-MANAGER executing POST http://SESSION-MANAGER/session/get\n    at feign.FeignException.errorExecuting(FeignException.java:268)\n    ...\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.UnknownHostException: SESSION-MANAGER\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    ...\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)\n    ... 42 common frames omitted\n[DEBUG] 2023-06-26 13:56:52.386 [SpringApplicationShutdownHook]  o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@748904e8, started on Mon Jun 26 13:56:49 EEST 2023\n[INFO ] 2023-06-26 13:56:52.386 [SpringApplicationShutdownHook]  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application MY-SERVICE with eureka with status DOWN\n</code></pre>\n<p>The question is could you please help me understand what should I mock in this case? Should I directly mock a call to the service <code>B</code> or maybe I even should up the Eureka in Testcontainers and manage it on this level?</p>\n<p>Eureka configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>eureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: true\n    healthcheck:\n      enabled: false\n    serviceUrl:\n      defaultZone: &quot;http://localhost:8761/eureka/&quot;\n  instance:\n    statusPageUrl: &quot;http://${eureka.hostname}/info&quot;\n    healthCheckUrl: &quot;http://${eureka.hostname}/health&quot;\n    homePageUrl: &quot;http://${eureka.hostname}/&quot;\n    nonSecurePortEnabled: true\n</code></pre>\n<p>Wiremock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WIREMOCK_SERVER.stubFor(WireMock.post(WireMock.urlPathEqualTo(&quot;/session/get&quot;))\n        .withRequestBody(WireMock.equalToJson(SESSION_MANAGER_REQUEST_BODY))\n        .willReturn(WireMock.aResponse()\n            .withStatus(200)\n            .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .withBody(SESSION_MANAGER_RESPONSE))\n);\n</code></pre>\n"},{"tags":["java","classpath","classnotfoundexception","classnotfound"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692197584,"post_id":76914336,"comment_id":135591601,"body_markdown":"`java -jar` is likely how you are running this application / how that shell script (jazzer is probably a shell script? is running it). `java -jar` __completely__ disregards both `CLASSPATH` as well as any `-cp` option. It uses the classpath as listed in the manifest of that jar file. Hence, &#39;my $CLASSPATH is blank&#39; is irrelevant (in general, using CLASSPATH isn&#39;t a good approach; one system has one CLASSPATH variable but many different java apps you could run should make that obvious.","body":"<code>java -jar</code> is likely how you are running this application / how that shell script (jazzer is probably a shell script? is running it). <code>java -jar</code> <b>completely</b> disregards both <code>CLASSPATH</code> as well as any <code>-cp</code> option. It uses the classpath as listed in the manifest of that jar file. Hence, &#39;my $CLASSPATH is blank&#39; is irrelevant (in general, using CLASSPATH isn&#39;t a good approach; one system has one CLASSPATH variable but many different java apps you could run should make that obvious."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692197711,"post_id":76914336,"comment_id":135591631,"body_markdown":"Note that the image of the error (kind of a bad idea; you should paste actual errors, as text, that&#39;s much easier to scan) says &#39;use `--cp` and you are using `-cp`. Maybe just.. use `--cp` exactly like the error message is telling you? It might be a bit brash to say &#39;RTFEM&#39; (Read the Freaking Error Message), but.. did you try what it is telling you to do? If you did, you should edit the question with what happens when you do. If you didn&#39;t.. go do that first :)","body":"Note that the image of the error (kind of a bad idea; you should paste actual errors, as text, that&#39;s much easier to scan) says &#39;use <code>--cp</code> and you are using <code>-cp</code>. Maybe just.. use <code>--cp</code> exactly like the error message is telling you? It might be a bit brash to say &#39;RTFEM&#39; (Read the Freaking Error Message), but.. did you try what it is telling you to do? If you did, you should edit the question with what happens when you do. If you didn&#39;t.. go do that first :)"}],"owner":{"account_id":29237128,"reputation":1,"user_id":22399544,"display_name":"rendoteru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692194450,"creation_date":1692194450,"question_id":76914336,"body_markdown":"Good evening!\r\n\r\nI have a problem. I want to fuzz a  from [this link](https://github.com/ispras/oss-sydr-fuzz/wiki/Fuzzing-json%E2%80%90sanitizer-%28Java%29-project-with-sydr%E2%80%90fuzz-%28Jazzer-backend%29-%28rus%29#%D0%BF%D0%BE%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5).\r\nI&#39;ve created a project, it&#39;s his sctructure if it&#39;s important:\r\n```\r\n├── BUILD\r\n├── build.sh\r\n├── DenylistFuzzer.iml\r\n├── pom.xml\r\n├── project.yaml\r\n├── src\r\n│&#160;&#160; └── Deny\r\n│&#160;&#160;     └── DenylistFuzzer.java\r\n└── target\r\n    ├── archive-tmp\r\n    ├── Deny\r\n    │&#160;&#160; └── DenylistFuzzer.class\r\n    ├── DenylistFuzzer-1.0.jar\r\n    ├── DenylistFuzzer-1.0-SNAPSHOT.jar\r\n    └── maven-archiver\r\n        └── pom.properties\r\n```\r\n\r\nI have json-sanitazer and jazzer-api dependencies for the build in the `pom.xml` file. After all, I&#39;ve run `mvn package` command (just like it&#39;s recommended) and wanted to build fuzz-target. But I ran into the problem that even though I use the javac command as instructed and the .jar file is created, I can&#39;t access the created class: \r\n[Class not found error](https://i.stack.imgur.com/namhI.png)\r\nI really don&#39;t understand how to how to deal with this. Please help me.\r\n\r\nTo start with, I tried looking at what&#39;s in my classspath. It was totally empty:\r\n```\r\n$ echo $CLASSPATH\r\n$\r\n$ &gt;\r\n```\r\n\r\nI decided to add the jar files I need manually to it. Now I have a list of .jars inside it and it didn&#39;t help anyway:\r\n[list of jars](https://i.stack.imgur.com/mEicq.png)\r\n","title":"Class not found in the classpath","body":"<p>Good evening!</p>\n<p>I have a problem. I want to fuzz a  from <a href=\"https://github.com/ispras/oss-sydr-fuzz/wiki/Fuzzing-json%E2%80%90sanitizer-%28Java%29-project-with-sydr%E2%80%90fuzz-%28Jazzer-backend%29-%28rus%29#%D0%BF%D0%BE%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5\" rel=\"nofollow noreferrer\">this link</a>.\nI've created a project, it's his sctructure if it's important:</p>\n<pre><code>├── BUILD\n├── build.sh\n├── DenylistFuzzer.iml\n├── pom.xml\n├── project.yaml\n├── src\n│   └── Deny\n│       └── DenylistFuzzer.java\n└── target\n    ├── archive-tmp\n    ├── Deny\n    │   └── DenylistFuzzer.class\n    ├── DenylistFuzzer-1.0.jar\n    ├── DenylistFuzzer-1.0-SNAPSHOT.jar\n    └── maven-archiver\n        └── pom.properties\n</code></pre>\n<p>I have json-sanitazer and jazzer-api dependencies for the build in the <code>pom.xml</code> file. After all, I've run <code>mvn package</code> command (just like it's recommended) and wanted to build fuzz-target. But I ran into the problem that even though I use the javac command as instructed and the .jar file is created, I can't access the created class:\n<a href=\"https://i.stack.imgur.com/namhI.png\" rel=\"nofollow noreferrer\">Class not found error</a>\nI really don't understand how to how to deal with this. Please help me.</p>\n<p>To start with, I tried looking at what's in my classspath. It was totally empty:</p>\n<pre><code>$ echo $CLASSPATH\n$\n$ &gt;\n</code></pre>\n<p>I decided to add the jar files I need manually to it. Now I have a list of .jars inside it and it didn't help anyway:\n<a href=\"https://i.stack.imgur.com/mEicq.png\" rel=\"nofollow noreferrer\">list of jars</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1692194414,"post_id":76913697,"comment_id":135590862,"body_markdown":"Do not use the `dsa` tag.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not use the <code>dsa</code> tag.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":29224088,"reputation":11,"user_id":22389236,"display_name":"Aditya Guha"},"score":0,"creation_date":1692362333,"post_id":76913697,"comment_id":135616304,"body_markdown":"ohh okay sorry;","body":"ohh okay sorry;"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692193673,"creation_date":1692193673,"answer_id":76914229,"question_id":76913697,"body_markdown":"You&#39;ve not applied the algorithm correctly: in the second phase of the algorithm -- once the cycle has been detected -- you need to:\r\n\r\n1. have one of the two references (let&#39;s say `hare`) start from the point where the cycle was detected, and only have the other start at the head. But your code is having both references start at the `head`, not knowing anymore at which node the cycle was detected.\r\n\r\n2. Both references should move with *equal speeds*, but your code is still moving `hare` with double speed in that second phase\r\n\r\n3. Both references should *keep doing* that until they meet, but your code does no have this loop and just makes both references move once. \r\n\r\n4. If after this single move the two references have not coincided, you still return `null`, even though you had detected a cycle. Obviously when there is a cycle, there is a first node in that cycle, and you must return it. `null` is not an option.\r\n\r\n5. If both references *do* coincide after this single move, your code resets `hare` to `head` and returns `hare.next`. So the code **always** returns `head.next` or `null`. It cannot return anything else. Obviously, any other node *could* potentially be the first node of the cycle, so your code will fail on such inputs.\r\n\r\nHere is the correction of your code, with comments where I made changes:\r\n\r\n```\r\npublic class Solution {\r\n    public ListNode cycle(ListNode head) { // Return type is ListNode now\r\n        ListNode hare = head;\r\n        ListNode turtle = head;\r\n\r\n        while (hare != null &amp;&amp; hare.next != null) { // Order of the conditions matters!\r\n            hare = hare.next.next;\r\n            turtle = turtle.next;\r\n            if (hare == turtle) {\r\n                return hare; // The caller needs this node!\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    public ListNode detectCycle(ListNode head) {\r\n        ListNode hare = cycle(head); // We need to remember where we ended up\r\n        if (hare != null) {\r\n            ListNode turtle = head;\r\n            while (hare != turtle) { // Need to loop \r\n                hare = hare.next; // ...and step at equal speeds now\r\n                turtle = turtle.next;\r\n            }\r\n            return hare;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```","title":"Linked List Cycle , leetcode problem 142, i cannot find the cycle","body":"<p>You've not applied the algorithm correctly: in the second phase of the algorithm -- once the cycle has been detected -- you need to:</p>\n<ol>\n<li><p>have one of the two references (let's say <code>hare</code>) start from the point where the cycle was detected, and only have the other start at the head. But your code is having both references start at the <code>head</code>, not knowing anymore at which node the cycle was detected.</p>\n</li>\n<li><p>Both references should move with <em>equal speeds</em>, but your code is still moving <code>hare</code> with double speed in that second phase</p>\n</li>\n<li><p>Both references should <em>keep doing</em> that until they meet, but your code does no have this loop and just makes both references move once.</p>\n</li>\n<li><p>If after this single move the two references have not coincided, you still return <code>null</code>, even though you had detected a cycle. Obviously when there is a cycle, there is a first node in that cycle, and you must return it. <code>null</code> is not an option.</p>\n</li>\n<li><p>If both references <em>do</em> coincide after this single move, your code resets <code>hare</code> to <code>head</code> and returns <code>hare.next</code>. So the code <strong>always</strong> returns <code>head.next</code> or <code>null</code>. It cannot return anything else. Obviously, any other node <em>could</em> potentially be the first node of the cycle, so your code will fail on such inputs.</p>\n</li>\n</ol>\n<p>Here is the correction of your code, with comments where I made changes:</p>\n<pre><code>public class Solution {\n    public ListNode cycle(ListNode head) { // Return type is ListNode now\n        ListNode hare = head;\n        ListNode turtle = head;\n\n        while (hare != null &amp;&amp; hare.next != null) { // Order of the conditions matters!\n            hare = hare.next.next;\n            turtle = turtle.next;\n            if (hare == turtle) {\n                return hare; // The caller needs this node!\n            }\n        }\n        return null;\n    }\n    public ListNode detectCycle(ListNode head) {\n        ListNode hare = cycle(head); // We need to remember where we ended up\n        if (hare != null) {\n            ListNode turtle = head;\n            while (hare != turtle) { // Need to loop \n                hare = hare.next; // ...and step at equal speeds now\n                turtle = turtle.next;\n            }\n            return hare;\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29224088,"reputation":11,"user_id":22389236,"display_name":"Aditya Guha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76914229,"answer_count":1,"score":0,"last_activity_date":1692194421,"creation_date":1692190029,"question_id":76913697,"body_markdown":"**why is this not detecting the cyle,someone help**\r\n[i want to get 2 that means 2nd node from this,](https://i.stack.imgur.com/8ovlr.png)\r\n[this is another example, i want to get 1st node(1) here; ](https://i.stack.imgur.com/B6GQ0.png)\r\n\r\nits not detecting the cycles;i dont understand, the next time hare and turtle meets next node of that should be the node where the cycle is pointed \r\n\r\n```\r\npublic class Solution {\r\n    public boolean cycle(ListNode head){\r\n        ListNode hare=head;\r\n        ListNode turtle=head;\r\n\r\n        while(hare.next!=null &amp;&amp; hare!=null){\r\n            hare=hare.next.next;\r\n            turtle=turtle.next;\r\n            if(hare==turtle){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    public ListNode detectCycle(ListNode head) {\r\n        ListNode hare=head;\r\n        ListNode turtle=head;\r\n        if(cycle(head)){\r\n            hare=hare.next.next;\r\n            turtle=turtle.next;\r\n            if(hare==turtle){\r\n                hare=head;\r\n                return hare.next;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nplease help someone!\r\n","title":"Linked List Cycle , leetcode problem 142, i cannot find the cycle","body":"<p><strong>why is this not detecting the cyle,someone help</strong>\n<a href=\"https://i.stack.imgur.com/8ovlr.png\" rel=\"nofollow noreferrer\">i want to get 2 that means 2nd node from this,</a>\n<a href=\"https://i.stack.imgur.com/B6GQ0.png\" rel=\"nofollow noreferrer\">this is another example, i want to get 1st node(1) here; </a></p>\n<p>its not detecting the cycles;i dont understand, the next time hare and turtle meets next node of that should be the node where the cycle is pointed</p>\n<pre><code>public class Solution {\n    public boolean cycle(ListNode head){\n        ListNode hare=head;\n        ListNode turtle=head;\n\n        while(hare.next!=null &amp;&amp; hare!=null){\n            hare=hare.next.next;\n            turtle=turtle.next;\n            if(hare==turtle){\n                return true;\n            }\n        }\n        return false;\n    }\n    public ListNode detectCycle(ListNode head) {\n        ListNode hare=head;\n        ListNode turtle=head;\n        if(cycle(head)){\n            hare=hare.next.next;\n            turtle=turtle.next;\n            if(hare==turtle){\n                hare=head;\n                return hare.next;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>please help someone!</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1526,"user_id":3290745,"display_name":"Tristate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692193814,"creation_date":1692193488,"answer_id":76914201,"question_id":76914104,"body_markdown":"Try to put your Runner into same package or a subpackage as the place where your Main class is.\r\n\r\nThe primary requirement is that the CommandLineRunner bean is picked up by Spring&#39;s Component-Scan. As long as the CommandLineRunner is in a package recognized by Spring Boots Component-Scanning mechanism, it will be executed properly.\r\n\r\nSo you have two options.\r\n\r\n1. Move your CommandLineRunner  to the package (sub package) of the Main class.\r\n\r\n2. Define the location of the CommandLineRunner via annotation.\r\n\r\n\r\n```\r\n    @ComponentScan({&quot;com.example.mypackage&quot;,&quot;com.jpa.tutorialjpa&quot;})\r\n    @SpringBootApplication\r\n    public class MyMainClass\r\n```\r\n","title":"CommandLineRunner in springboot is not executed","body":"<p>Try to put your Runner into same package or a subpackage as the place where your Main class is.</p>\n<p>The primary requirement is that the CommandLineRunner bean is picked up by Spring's Component-Scan. As long as the CommandLineRunner is in a package recognized by Spring Boots Component-Scanning mechanism, it will be executed properly.</p>\n<p>So you have two options.</p>\n<ol>\n<li><p>Move your CommandLineRunner  to the package (sub package) of the Main class.</p>\n</li>\n<li><p>Define the location of the CommandLineRunner via annotation.</p>\n</li>\n</ol>\n<pre><code>    @ComponentScan({&quot;com.example.mypackage&quot;,&quot;com.jpa.tutorialjpa&quot;})\n    @SpringBootApplication\n    public class MyMainClass\n</code></pre>\n"}],"owner":{"account_id":8719312,"reputation":33,"user_id":6522935,"display_name":"aayush mohanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76914201,"answer_count":1,"score":0,"last_activity_date":1692194416,"creation_date":1692192852,"question_id":76914104,"body_markdown":"My CommandLineRunner class\r\n\r\n```\r\npackage course;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CourseCommandLineRunner implements CommandLineRunner {\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        System.out.println(&quot;======started ============&quot;);\r\n        System.out.println(&quot;======doneeee ============&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy Main class\r\n```\r\npackage com.jpa.tutorialjpa;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class TutorialJpaApplication{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TutorialJpaApplication.class, args);\r\n\t\tSystem.out.println(&quot;======LOADED=&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\npackage structure\r\npackage1\r\n---Main Class\r\npackage2\r\n--package2.1\r\n----CommandLineRunner class\r\n\r\n\r\nI was expecting my loggers in commandlinerunner will get printed.","title":"CommandLineRunner in springboot is not executed","body":"<p>My CommandLineRunner class</p>\n<pre><code>package course;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CourseCommandLineRunner implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;======started ============&quot;);\n        System.out.println(&quot;======doneeee ============&quot;);\n    }\n}\n</code></pre>\n<p>My Main class</p>\n<pre><code>package com.jpa.tutorialjpa;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class TutorialJpaApplication{\n\n    public static void main(String[] args) {\n        SpringApplication.run(TutorialJpaApplication.class, args);\n        System.out.println(&quot;======LOADED=&quot;);\n    }\n\n}\n</code></pre>\n<p>package structure\npackage1\n---Main Class\npackage2\n--package2.1\n----CommandLineRunner class</p>\n<p>I was expecting my loggers in commandlinerunner will get printed.</p>\n"},{"tags":["java","php","jasper-reports","php-java-bridge"],"owner":{"account_id":20232421,"reputation":43,"user_id":14838626,"display_name":"youra_halloween"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692194350,"creation_date":1692192079,"question_id":76914005,"body_markdown":"I’m using Docker to run a PHP script that uses JavaBridge to connect to a Java server. I have installed JavaBridge, Tomcat, and JasperReports. When I run my PHP script, standard Java classes such as **java.util.ArrayList** work fine, but I’m unable to load JasperReports classes such as **net.sf.jasperreports.engine.JasperFillManager**.\r\n\r\nI’ve tried setting the **CLASSPATH** environment variable in various ways, including in my **docker-compose** configuration **(CLASSPATH=/opt/bitnami/jasperreports/WEB-INF/lib/*)**, through the terminal, and in an environment file. I’ve also tried adding different folders containing JAR files to the **CLASSPATH**. However, the JasperReports classes still cannot be found.\r\n\r\nDoes anyone have any suggestions on how to resolve this issue? Any help would be greatly appreciated!","title":"Unable to load JasperReports classes in PHP script using JavaBridge and Docker","body":"<p>I’m using Docker to run a PHP script that uses JavaBridge to connect to a Java server. I have installed JavaBridge, Tomcat, and JasperReports. When I run my PHP script, standard Java classes such as <strong>java.util.ArrayList</strong> work fine, but I’m unable to load JasperReports classes such as <strong>net.sf.jasperreports.engine.JasperFillManager</strong>.</p>\n<p>I’ve tried setting the <strong>CLASSPATH</strong> environment variable in various ways, including in my <strong>docker-compose</strong> configuration <strong>(CLASSPATH=/opt/bitnami/jasperreports/WEB-INF/lib/*)</strong>, through the terminal, and in an environment file. I’ve also tried adding different folders containing JAR files to the <strong>CLASSPATH</strong>. However, the JasperReports classes still cannot be found.</p>\n<p>Does anyone have any suggestions on how to resolve this issue? Any help would be greatly appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10974,"reputation":98215,"user_id":20972,"accept_rate":86,"display_name":"Dominic Rodger"},"score":10,"creation_date":1267611421,"post_id":2370288,"comment_id":2346177,"body_markdown":"You might find http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html interesting reading (which incidentally, was the first result I got when googling for &quot;sizeof Java&quot;).","body":"You might find <a href=\"http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.htm&zwnj;&#8203;l</a> interesting reading (which incidentally, was the first result I got when googling for &quot;sizeof Java&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":9,"up_vote_count":79,"is_accepted":true,"score":70,"last_activity_date":1600861750,"creation_date":1267611550,"answer_id":2370320,"question_id":2370288,"body_markdown":"No.  There is no such method in the standard Java SE class library.\r\n\r\nThe designers&#39; view is that it is not needed in Java, since the language removes the need for an application&lt;sup&gt;1&lt;/sup&gt; to know about how much space needs to be reserved for a primitive value, an object or an array with a given number of elements.\r\n\r\nYou might think that a sizeof operator would be useful for people that need to know how much space their data structures take.  However you can also get this information and more, simply and reliably using a Java memory profiler, so there is no need for a sizeof method.\r\n\r\n-----------------\r\n\r\nPrevious commenters made the point that `sizeof(someType)` would be more readable than `4`.  If you accept that readability argument, then the remedy is in your hands.  Simply define a class like this ...\r\n\r\n    public class PrimitiveSizes {\r\n        public static int sizeof(byte b) { return 1; } \r\n        public static int sizeof(short s) { return 2; }\r\n        // etcetera\r\n    }\r\n\r\n... and statically import it ...\r\n\r\n    import static PrimitiveSizes.*;\r\n\r\nOr define some named constants; e.g.\r\n\r\n    public static final int SIZE_OF_INT = 4;\r\n\r\nOr (Java 8 and later) use the `Integer.BYTES` constant, and so on.\r\n\r\n---------------------------\r\n\r\nWhy haven&#39;t the Java designers implemented this in standard libraries?  My guess is that:\r\n\r\n  - they don&#39;t think there is a need for it,\r\n  - they don&#39;t think there is sufficient demand for it, and\r\n  - they don&#39;t think it is worth the effort.\r\n\r\nThere is also the issue that the next demand would be for a `sizeof(Object o)` method, which is fraught with technical difficulties.\r\n\r\nThe key word in the above is &quot;they&quot;!  \r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - A programmer may need to know in order to design space efficient data structures.  However, I can&#39;t imagine why that information would be needed in application code at runtime via a method call.&lt;/sup&gt;","title":"Is there any sizeof-like method in Java?","body":"<p>No.  There is no such method in the standard Java SE class library.</p>\n<p>The designers' view is that it is not needed in Java, since the language removes the need for an application<sup>1</sup> to know about how much space needs to be reserved for a primitive value, an object or an array with a given number of elements.</p>\n<p>You might think that a sizeof operator would be useful for people that need to know how much space their data structures take.  However you can also get this information and more, simply and reliably using a Java memory profiler, so there is no need for a sizeof method.</p>\n<hr />\n<p>Previous commenters made the point that <code>sizeof(someType)</code> would be more readable than <code>4</code>.  If you accept that readability argument, then the remedy is in your hands.  Simply define a class like this ...</p>\n<pre><code>public class PrimitiveSizes {\n    public static int sizeof(byte b) { return 1; } \n    public static int sizeof(short s) { return 2; }\n    // etcetera\n}\n</code></pre>\n<p>... and statically import it ...</p>\n<pre><code>import static PrimitiveSizes.*;\n</code></pre>\n<p>Or define some named constants; e.g.</p>\n<pre><code>public static final int SIZE_OF_INT = 4;\n</code></pre>\n<p>Or (Java 8 and later) use the <code>Integer.BYTES</code> constant, and so on.</p>\n<hr />\n<p>Why haven't the Java designers implemented this in standard libraries?  My guess is that:</p>\n<ul>\n<li>they don't think there is a need for it,</li>\n<li>they don't think there is sufficient demand for it, and</li>\n<li>they don't think it is worth the effort.</li>\n</ul>\n<p>There is also the issue that the next demand would be for a <code>sizeof(Object o)</code> method, which is fraught with technical difficulties.</p>\n<p>The key word in the above is &quot;they&quot;!</p>\n<hr />\n<p><sup>1 - A programmer may need to know in order to design space efficient data structures.  However, I can't imagine why that information would be needed in application code at runtime via a method call.</sup></p>\n"},{"tags":[],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1267611650,"creation_date":1267611650,"answer_id":2370337,"question_id":2370288,"body_markdown":"I don&#39;t think it is in the java API. but most datatypes which have a number of elements in it, have a `size()` method. I think you can easily write a function to check for size yourself?","title":"Is there any sizeof-like method in Java?","body":"<p>I don't think it is in the java API. but most datatypes which have a number of elements in it, have a <code>size()</code> method. I think you can easily write a function to check for size yourself?</p>\n"},{"tags":[],"owner":{"account_id":882150,"reputation":277,"user_id":285181,"accept_rate":11,"display_name":"Ramesh"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1383846560,"creation_date":1267612198,"answer_id":2370392,"question_id":2370288,"body_markdown":"From the [article in JavaWorld][1]\r\n\r\n&gt; A superficial answer is that Java does not provide anything like C&#39;s sizeof(). However, \r\n&gt; let&#39;s consider why a Java programmer might occasionally want it.\r\n&gt;\r\n&gt; A C programmer manages most datastructure memory allocations himself,\r\n&gt; and sizeof() is indispensable for knowing memory block sizes to\r\n&gt; allocate. Additionally, C memory allocators like malloc() do almost\r\n&gt; nothing as far as object initialization is concerned: a programmer\r\n&gt; must set all object fields that are pointers to further objects. But\r\n&gt; when all is said and coded, C/C++ memory allocation is quite\r\n&gt; efficient.\r\n&gt; \r\n&gt; By comparison, Java object allocation and construction are tied\r\n&gt; together (it is impossible to use an allocated but uninitialized\r\n&gt; object instance). If a Java class defines fields that are references\r\n&gt; to further objects, it is also common to set them at construction\r\n&gt; time. Allocating a Java object therefore frequently allocates numerous\r\n&gt; interconnected object instances: an object graph. Coupled with\r\n&gt; automatic garbage collection, this is all too convenient and can make\r\n&gt; you feel like you never have to worry about Java memory allocation\r\n&gt; details.\r\n&gt; \r\n&gt; Of course, this works only for simple Java applications. Compared with\r\n&gt; C/C++, equivalent Java datastructures tend to occupy more physical\r\n&gt; memory. In enterprise software development, getting close to the\r\n&gt; maximum available virtual memory on today&#39;s 32-bit JVMs is a common\r\n&gt; scalability constraint. Thus, a Java programmer could benefit from\r\n&gt; sizeof() or something similar to keep an eye on whether his\r\n&gt; datastructures are getting too large or contain memory bottlenecks.\r\n&gt; Fortunately, Java reflection allows you to write such a tool quite\r\n&gt; easily.\r\n&gt; \r\n&gt; Before proceeding, I will dispense with some frequent but incorrect\r\n&gt; answers to this article&#39;s question. Fallacy: Sizeof() is not needed\r\n&gt; because Java basic types&#39; sizes are fixed\r\n&gt; \r\n&gt; Yes, a Java int is 32 bits in all JVMs and on all platforms, but this\r\n&gt; is only a language specification requirement for the\r\n&gt; programmer-perceivable width of this data type. Such an int is\r\n&gt; essentially an abstract data type and can be backed up by, say, a\r\n&gt; 64-bit physical memory word on a 64-bit machine. The same goes for\r\n&gt; nonprimitive types: the Java language specification says nothing about\r\n&gt; how class fields should be aligned in physical memory or that an array\r\n&gt; of booleans couldn&#39;t be implemented as a compact bitvector inside the\r\n&gt; JVM. Fallacy: You can measure an object&#39;s size by serializing it into\r\n&gt; a byte stream and looking at the resulting stream length\r\n&gt; \r\n&gt; The reason this does not work is because the serialization layout is\r\n&gt; only a remote reflection of the true in-memory layout. One easy way to\r\n&gt; see it is by looking at how Strings get serialized: in memory every\r\n&gt; char is at least 2 bytes, but in serialized form Strings are UTF-8\r\n&gt; encoded and so any ASCII content takes half as much space\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html","title":"Is there any sizeof-like method in Java?","body":"<p>From the <a href=\"http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html\" rel=\"noreferrer\">article in JavaWorld</a></p>\n\n<blockquote>\n  <p>A superficial answer is that Java does not provide anything like C's sizeof(). However, \n  let's consider why a Java programmer might occasionally want it.</p>\n  \n  <p>A C programmer manages most datastructure memory allocations himself,\n  and sizeof() is indispensable for knowing memory block sizes to\n  allocate. Additionally, C memory allocators like malloc() do almost\n  nothing as far as object initialization is concerned: a programmer\n  must set all object fields that are pointers to further objects. But\n  when all is said and coded, C/C++ memory allocation is quite\n  efficient.</p>\n  \n  <p>By comparison, Java object allocation and construction are tied\n  together (it is impossible to use an allocated but uninitialized\n  object instance). If a Java class defines fields that are references\n  to further objects, it is also common to set them at construction\n  time. Allocating a Java object therefore frequently allocates numerous\n  interconnected object instances: an object graph. Coupled with\n  automatic garbage collection, this is all too convenient and can make\n  you feel like you never have to worry about Java memory allocation\n  details.</p>\n  \n  <p>Of course, this works only for simple Java applications. Compared with\n  C/C++, equivalent Java datastructures tend to occupy more physical\n  memory. In enterprise software development, getting close to the\n  maximum available virtual memory on today's 32-bit JVMs is a common\n  scalability constraint. Thus, a Java programmer could benefit from\n  sizeof() or something similar to keep an eye on whether his\n  datastructures are getting too large or contain memory bottlenecks.\n  Fortunately, Java reflection allows you to write such a tool quite\n  easily.</p>\n  \n  <p>Before proceeding, I will dispense with some frequent but incorrect\n  answers to this article's question. Fallacy: Sizeof() is not needed\n  because Java basic types' sizes are fixed</p>\n  \n  <p>Yes, a Java int is 32 bits in all JVMs and on all platforms, but this\n  is only a language specification requirement for the\n  programmer-perceivable width of this data type. Such an int is\n  essentially an abstract data type and can be backed up by, say, a\n  64-bit physical memory word on a 64-bit machine. The same goes for\n  nonprimitive types: the Java language specification says nothing about\n  how class fields should be aligned in physical memory or that an array\n  of booleans couldn't be implemented as a compact bitvector inside the\n  JVM. Fallacy: You can measure an object's size by serializing it into\n  a byte stream and looking at the resulting stream length</p>\n  \n  <p>The reason this does not work is because the serialization layout is\n  only a remote reflection of the true in-memory layout. One easy way to\n  see it is by looking at how Strings get serialized: in memory every\n  char is at least 2 bytes, but in serialized form Strings are UTF-8\n  encoded and so any ASCII content takes half as much space</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47494,"reputation":5220,"user_id":140731,"accept_rate":79,"display_name":"Iain Sproat"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1422613749,"creation_date":1288893720,"answer_id":4099717,"question_id":2370288,"body_markdown":"The [Java Native Access][1] library is typically used for calling native shared libraries from Java.  Within this library there exist methods for determining the size of Java objects:\r\n\r\nThe [`getNativeSize(Class cls)`][2] method and its overloads will provide the size for most classes.\r\n\r\nAlternatively, if your classes inherit from JNA&#39;s Structure class the [`calculateSize(boolean force)`][4] method will be available.\r\n\r\n  [1]: https://github.com/twall/jna/\r\n  [2]: http://twall.github.io/jna/4.1.0/com/sun/jna/Native.html#getNativeSize%28java.lang.Class%29\r\n  [4]: http://twall.github.io/jna/4.1.0/com/sun/jna/Structure.html#calculateSize%28boolean,%20boolean%29","title":"Is there any sizeof-like method in Java?","body":"<p>The <a href=\"https://github.com/twall/jna/\" rel=\"noreferrer\">Java Native Access</a> library is typically used for calling native shared libraries from Java.  Within this library there exist methods for determining the size of Java objects:</p>\n\n<p>The <a href=\"http://twall.github.io/jna/4.1.0/com/sun/jna/Native.html#getNativeSize%28java.lang.Class%29\" rel=\"noreferrer\"><code>getNativeSize(Class cls)</code></a> method and its overloads will provide the size for most classes.</p>\n\n<p>Alternatively, if your classes inherit from JNA's Structure class the <a href=\"http://twall.github.io/jna/4.1.0/com/sun/jna/Structure.html#calculateSize%28boolean,%20boolean%29\" rel=\"noreferrer\"><code>calculateSize(boolean force)</code></a> method will be available.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288900324,"creation_date":1288900324,"answer_id":4100691,"question_id":2370288,"body_markdown":"The Instrumentation class has a getObjectSize() method however, you shouldn&#39;t need to use it at runtime.  The easiest way to examine memory usage is to use a profiler which is designed to help you track memory usage.","title":"Is there any sizeof-like method in Java?","body":"<p>The Instrumentation class has a getObjectSize() method however, you shouldn't need to use it at runtime.  The easiest way to examine memory usage is to use a profiler which is designed to help you track memory usage.</p>\n"},{"tags":[],"owner":{"account_id":53073,"reputation":24000,"user_id":158658,"accept_rate":75,"display_name":"sourcedelica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366667884,"creation_date":1366667884,"answer_id":16157444,"question_id":2370288,"body_markdown":"EhCache provides a [SizeOf][1] class that will try to use the [Instrumentation][2] agent and will fall back to a different approach if the agent is not loaded or cannot be loaded ([details here][3]). \r\n\r\nAlso see [the agent from Heinz Kabutz][4].\r\n\r\n\r\n  [1]: http://ehcache.org/apidocs/net/sf/ehcache/pool/sizeof/SizeOf.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\r\n  [3]: http://codespot.net/2012/01/04/measuring-java-object-sizes/\r\n  [4]: http://www.javaspecialists.eu/archive/Issue142.html","title":"Is there any sizeof-like method in Java?","body":"<p>EhCache provides a <a href=\"http://ehcache.org/apidocs/net/sf/ehcache/pool/sizeof/SizeOf.html\" rel=\"nofollow\">SizeOf</a> class that will try to use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\" rel=\"nofollow\">Instrumentation</a> agent and will fall back to a different approach if the agent is not loaded or cannot be loaded (<a href=\"http://codespot.net/2012/01/04/measuring-java-object-sizes/\" rel=\"nofollow\">details here</a>). </p>\n\n<p>Also see <a href=\"http://www.javaspecialists.eu/archive/Issue142.html\" rel=\"nofollow\">the agent from Heinz Kabutz</a>.</p>\n"},{"tags":[],"owner":{"account_id":94508,"reputation":729,"user_id":258001,"display_name":"Murali Mohan"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1477794608,"creation_date":1367343972,"answer_id":16305932,"question_id":2370288,"body_markdown":"You can do bit manipulations like below to obtain the size of primitives:\r\n\r\n    public int sizeofInt() {\r\n    \tint i = 1, j = 0;\r\n    \twhile (i != 0) {\r\n    \t\ti = (i&lt;&lt;1); j++;\r\n    \t}\r\n    \treturn j;\r\n    }\r\n\r\n    public int sizeofChar() {\r\n\t\tchar i = 1, j = 0;\r\n\t\twhile (i != 0) {\r\n\t\t\ti = (char) (i&lt;&lt;1); j++;\r\n\t\t}\r\n\t\treturn j;\r\n\t}","title":"Is there any sizeof-like method in Java?","body":"<p>You can do bit manipulations like below to obtain the size of primitives:</p>\n\n<pre><code>public int sizeofInt() {\n    int i = 1, j = 0;\n    while (i != 0) {\n        i = (i&lt;&lt;1); j++;\n    }\n    return j;\n}\n\npublic int sizeofChar() {\n    char i = 1, j = 0;\n    while (i != 0) {\n        i = (char) (i&lt;&lt;1); j++;\n    }\n    return j;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1380970,"reputation":1642,"user_id":1313968,"accept_rate":77,"display_name":"Andy King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412715288,"creation_date":1412715288,"answer_id":26245129,"question_id":2370288,"body_markdown":"There&#39;s a class/jar available on SourceForge.net that uses Java instrumentation to calculate the size of any object. Here&#39;s a link to the description: [java.sizeOf][1]\r\n\r\n\r\n  [1]: http://sizeof.sourceforge.net/ &quot;java.sizeOf&quot;","title":"Is there any sizeof-like method in Java?","body":"<p>There's a class/jar available on SourceForge.net that uses Java instrumentation to calculate the size of any object. Here's a link to the description: <a href=\"http://sizeof.sourceforge.net/\" rel=\"nofollow\" title=\"java.sizeOf\">java.sizeOf</a></p>\n"},{"tags":[],"owner":{"account_id":3600665,"reputation":10795,"user_id":3004042,"accept_rate":61,"display_name":"zeodtr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428642762,"creation_date":1428639809,"answer_id":29553341,"question_id":2370288,"body_markdown":"You can use Integer.SIZE / 8, Double.SIZE / 8, etc. for primitive types from Java 1.5.\r\n","title":"Is there any sizeof-like method in Java?","body":"<p>You can use Integer.SIZE / 8, Double.SIZE / 8, etc. for primitive types from Java 1.5.</p>\n"},{"tags":[],"owner":{"account_id":5289064,"reputation":2836,"user_id":4375377,"accept_rate":87,"display_name":"Mr Tsjolder from codidact"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1475073858,"creation_date":1451926744,"answer_id":34596054,"question_id":2370288,"body_markdown":"As mentioned [here][1], there are possibilities to get the size of primitive types through their wrappers. \r\n\r\ne.g. for a `long` this could be `Long.SIZE / Byte.SIZE` from java 1.5 (as mentioned by [zeodtr][2] already) or `Long.BYTES` as from java 8\r\n\r\n[1]: https://stackoverflow.com/questions/6766343/best-practice-for-getting-datatype-sizesizeof-in-java\r\n[2]: https://stackoverflow.com/a/29553341/4375377","title":"Is there any sizeof-like method in Java?","body":"<p>As mentioned <a href=\"https://stackoverflow.com/questions/6766343/best-practice-for-getting-datatype-sizesizeof-in-java\">here</a>, there are possibilities to get the size of primitive types through their wrappers. </p>\n\n<p>e.g. for a <code>long</code> this could be <code>Long.SIZE / Byte.SIZE</code> from java 1.5 (as mentioned by <a href=\"https://stackoverflow.com/a/29553341/4375377\">zeodtr</a> already) or <code>Long.BYTES</code> as from java 8</p>\n"},{"tags":[],"owner":{"account_id":4507477,"reputation":965,"user_id":3664461,"accept_rate":45,"display_name":"Siamaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477834034,"creation_date":1477834034,"answer_id":40329618,"question_id":2370288,"body_markdown":"I decided to create an enum without following the standard Java conventions. Perhaps you like this.\r\n\r\n    public enum sizeof {\r\n        ;\r\n        public static final int FLOAT = Float.SIZE / 8;\r\n        public static final int INTEGER = Integer.SIZE / 8;\r\n        public static final int DOUBLE = Double.SIZE / 8;\r\n    }","title":"Is there any sizeof-like method in Java?","body":"<p>I decided to create an enum without following the standard Java conventions. Perhaps you like this.</p>\n\n<pre><code>public enum sizeof {\n    ;\n    public static final int FLOAT = Float.SIZE / 8;\n    public static final int INTEGER = Integer.SIZE / 8;\n    public static final int DOUBLE = Double.SIZE / 8;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448148,"reputation":14121,"user_id":1365960,"accept_rate":65,"display_name":"StarPinkER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524133669,"creation_date":1524133669,"answer_id":49918776,"question_id":2370288,"body_markdown":"Try [java.lang.Instrumentation.getObjectSize(Object)][1]. But please be aware that\r\n\r\n&gt; It returns an implementation-specific approximation of the amount of storage consumed by the specified object. The result may include some or all of the object&#39;s overhead, and thus is useful for comparison within an implementation but not between implementations. The estimate may change during a single invocation of the JVM.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#getObjectSize-java.lang.Object-","title":"Is there any sizeof-like method in Java?","body":"<p>Try <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#getObjectSize-java.lang.Object-\" rel=\"nofollow noreferrer\">java.lang.Instrumentation.getObjectSize(Object)</a>. But please be aware that</p>\n\n<blockquote>\n  <p>It returns an implementation-specific approximation of the amount of storage consumed by the specified object. The result may include some or all of the object's overhead, and thus is useful for comparison within an implementation but not between implementations. The estimate may change during a single invocation of the JVM.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1533614326,"creation_date":1533614326,"answer_id":51718622,"question_id":2370288,"body_markdown":"There is a contemporary way to do that for primitives. Use `BYTES` of types.\r\n\r\n    System.out.println(&quot;byte &quot; + Byte.BYTES);\r\n    System.out.println(&quot;char &quot; + Character.BYTES);\r\n    System.out.println(&quot;int &quot; + Integer.BYTES);\r\n    System.out.println(&quot;long &quot; + Long.BYTES);\r\n    System.out.println(&quot;short &quot; + Short.BYTES);\r\n    System.out.println(&quot;double &quot; + Double.BYTES);\r\n    System.out.println(&quot;float &quot; + Float.BYTES);\r\n\r\nIt results in,\r\n\r\n    byte 1\r\n    char 2\r\n    int 4\r\n    long 8\r\n    short 2\r\n    double 8\r\n    float 4","title":"Is there any sizeof-like method in Java?","body":"<p>There is a contemporary way to do that for primitives. Use <code>BYTES</code> of types.</p>\n\n<pre><code>System.out.println(\"byte \" + Byte.BYTES);\nSystem.out.println(\"char \" + Character.BYTES);\nSystem.out.println(\"int \" + Integer.BYTES);\nSystem.out.println(\"long \" + Long.BYTES);\nSystem.out.println(\"short \" + Short.BYTES);\nSystem.out.println(\"double \" + Double.BYTES);\nSystem.out.println(\"float \" + Float.BYTES);\n</code></pre>\n\n<p>It results in,</p>\n\n<pre><code>byte 1\nchar 2\nint 4\nlong 8\nshort 2\ndouble 8\nfloat 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18654892,"reputation":1,"user_id":13597526,"display_name":"Akash-_-"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590161841,"creation_date":1590161841,"answer_id":61958633,"question_id":2370288,"body_markdown":"yes..in JAVA\r\n\r\n    System.out.println(Integer.SIZE/8);  //gives you 4.\r\n    System.out.println(Integer.SIZE);   //gives you 32.\r\n\r\n    //Similary for Byte,Long,Double....\r\n    ","title":"Is there any sizeof-like method in Java?","body":"<p>yes..in JAVA</p>\n\n<pre><code>System.out.println(Integer.SIZE/8);  //gives you 4.\nSystem.out.println(Integer.SIZE);   //gives you 32.\n\n//Similary for Byte,Long,Double....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7807381,"reputation":11,"user_id":5904808,"display_name":"Javier Puche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603737537,"creation_date":1602962586,"answer_id":64406445,"question_id":2370288,"body_markdown":"Just some testing about it:\r\n\r\n    public class PrimitiveTypesV2 {\r\n\r\n\tpublic static void main (String[] args) {\r\n\t\tClass typesList[] = {\r\n\t\t\t\tBoolean.class , Byte.class, Character.class, Short.class, Integer.class,\r\n\t\t\t\tLong.class, Float.class, Double.class, Boolean.TYPE, Byte.TYPE, Character.TYPE,\r\n\t\t\t\tShort.TYPE, Integer.TYPE, Long.TYPE, Float.TYPE, Double.TYPE\r\n\t\t\t};\r\n\t\t\r\n\t\ttry {\t\t\t\t\r\n\t\t\tfor ( Class type : typesList ) {\r\n\t\t\t\tif (type.isPrimitive()) {\r\n\t\t\t\t\tSystem.out.println(&quot;Primitive type:\\t&quot; + type);\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tboolean hasSize = false;\r\n\t\t\t\t\tjava.lang.reflect.Field fields[] = type.getFields();\r\n\t\t\t\t\tfor (int count=0; count&lt;fields.length; count++) {\r\n\t\t\t\t\t\tif (fields[count].getName().contains(&quot;SIZE&quot;)) hasSize = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasSize) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Bits size of type &quot; + type + &quot; :\\t\\t\\t&quot; + type.getField(&quot;SIZE&quot;).getInt(type) );\r\n\t\t\t\t\t\tdouble value = type.getField(&quot;MIN_VALUE&quot;).getDouble(type);\r\n\t\t\t\t\t\tlong longVal = Math.round(value);\r\n\t\t\t\t\t\tif ( (value - longVal) == 0) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Min value for type &quot; + type + &quot; :\\t\\t&quot; + longVal );\r\n\t\t\t\t\t\t\tlongVal = Math.round(type.getField(&quot;MAX_VALUE&quot;).getDouble(type));\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Max value for type &quot; + type + &quot; :\\t\\t&quot; + longVal );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Min value for type &quot; + type + &quot; :\\t\\t&quot; + value );\r\n\t\t\t\t\t\t\tvalue = type.getField(&quot;MAX_VALUE&quot;).getDouble(type);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Max value for type &quot; + type + &quot; :\\t\\t&quot; + value );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(type + &quot;\\t\\t\\t type without SIZE field.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} // if not primitive\r\n\t\t\t} // for typesList\r\n\t\t} catch (Exception e) {e.printStackTrace();}\r\n\t} // main\r\n    } // class PrimitiveTypes","title":"Is there any sizeof-like method in Java?","body":"<p>Just some testing about it:</p>\n<pre><code>public class PrimitiveTypesV2 {\n\npublic static void main (String[] args) {\n    Class typesList[] = {\n            Boolean.class , Byte.class, Character.class, Short.class, Integer.class,\n            Long.class, Float.class, Double.class, Boolean.TYPE, Byte.TYPE, Character.TYPE,\n            Short.TYPE, Integer.TYPE, Long.TYPE, Float.TYPE, Double.TYPE\n        };\n    \n    try {               \n        for ( Class type : typesList ) {\n            if (type.isPrimitive()) {\n                System.out.println(&quot;Primitive type:\\t&quot; + type); \n            }\n            else {\n                boolean hasSize = false;\n                java.lang.reflect.Field fields[] = type.getFields();\n                for (int count=0; count&lt;fields.length; count++) {\n                    if (fields[count].getName().contains(&quot;SIZE&quot;)) hasSize = true;\n                }\n                if (hasSize) {\n                    System.out.println(&quot;Bits size of type &quot; + type + &quot; :\\t\\t\\t&quot; + type.getField(&quot;SIZE&quot;).getInt(type) );\n                    double value = type.getField(&quot;MIN_VALUE&quot;).getDouble(type);\n                    long longVal = Math.round(value);\n                    if ( (value - longVal) == 0) {\n                        System.out.println(&quot;Min value for type &quot; + type + &quot; :\\t\\t&quot; + longVal );\n                        longVal = Math.round(type.getField(&quot;MAX_VALUE&quot;).getDouble(type));\n                        System.out.println(&quot;Max value for type &quot; + type + &quot; :\\t\\t&quot; + longVal );\n                    }\n                    else {\n                        System.out.println(&quot;Min value for type &quot; + type + &quot; :\\t\\t&quot; + value );\n                        value = type.getField(&quot;MAX_VALUE&quot;).getDouble(type);\n                        System.out.println(&quot;Max value for type &quot; + type + &quot; :\\t\\t&quot; + value );\n                    }\n                }\n                else {\n                    System.out.println(type + &quot;\\t\\t\\t type without SIZE field.&quot;);\n                }\n            } // if not primitive\n        } // for typesList\n    } catch (Exception e) {e.printStackTrace();}\n} // main\n} // class PrimitiveTypes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14636270,"reputation":133,"user_id":10570318,"display_name":"BeatEngine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692193695,"creation_date":1692193695,"answer_id":76914235,"question_id":2370288,"body_markdown":"Here is a Class I have used for estimating how the memory behaves in my application.\r\n\r\nhttps://github.com/BeatEngine/java-sizeof-object/blob/main/MemoryObjectSizeCalculation.java\r\n\r\nIt parses the objects and sum the size of (native) simple types.\r\n\r\n    private void parse(final Object someObject) {\r\n            boolean couldBeNative = true;\r\n            for (Field field : getAllFields(someObject)) {\r\n                Object value;\r\n                try {\r\n                    field.setAccessible(true);\r\n                    value = field.get(someObject);\r\n                    couldBeNative = false;\r\n                } catch (IllegalAccessException | InaccessibleObjectException e) {\r\n                    continue;\r\n                }\r\n                if (value != null) {\r\n                    if (visitedObjects.add(value)) {\r\n                        if (addSizeNeedToParse(value)) {\r\n                            parse(value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (couldBeNative) {\r\n                addSizeNeedToParse(someObject);\r\n            }\r\n        }","title":"Is there any sizeof-like method in Java?","body":"<p>Here is a Class I have used for estimating how the memory behaves in my application.</p>\n<p><a href=\"https://github.com/BeatEngine/java-sizeof-object/blob/main/MemoryObjectSizeCalculation.java\" rel=\"nofollow noreferrer\">https://github.com/BeatEngine/java-sizeof-object/blob/main/MemoryObjectSizeCalculation.java</a></p>\n<p>It parses the objects and sum the size of (native) simple types.</p>\n<pre><code>private void parse(final Object someObject) {\n        boolean couldBeNative = true;\n        for (Field field : getAllFields(someObject)) {\n            Object value;\n            try {\n                field.setAccessible(true);\n                value = field.get(someObject);\n                couldBeNative = false;\n            } catch (IllegalAccessException | InaccessibleObjectException e) {\n                continue;\n            }\n            if (value != null) {\n                if (visitedObjects.add(value)) {\n                    if (addSizeNeedToParse(value)) {\n                        parse(value);\n                    }\n                }\n            }\n        }\n        if (couldBeNative) {\n            addSizeNeedToParse(someObject);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":66674,"reputation":7720,"user_id":195504,"accept_rate":83,"display_name":"Ankit Sachan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137767,"favorite_count":0,"down_vote_count":2,"up_vote_count":102,"accepted_answer_id":2370320,"answer_count":16,"score":100,"last_activity_date":1692193695,"creation_date":1267611301,"question_id":2370288,"body_markdown":"Is there any built-in method in Java to find the size of any datatype?\r\nIs there any way to find size?\r\n\r\n","title":"Is there any sizeof-like method in Java?","body":"<p>Is there any built-in method in Java to find the size of any datatype?\nIs there any way to find size?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1692130666,"post_id":76908690,"comment_id":135581923,"body_markdown":"Thinking out loud, could it be that variables not marked as volatile could be read from a cache/register, and a write may not be reflected in a successive read?","body":"Thinking out loud, could it be that variables not marked as volatile could be read from a cache/register, and a write may not be reflected in a successive read?"},{"owner":{"account_id":15301236,"reputation":1,"user_id":11039569,"display_name":"J. Kek"},"score":0,"creation_date":1692132706,"post_id":76908690,"comment_id":135582227,"body_markdown":"Of course, but wouldn&#39;t that be a data race since we&#39;re speaking of shared variables where reads and writes are not ordered by the happens-before order?","body":"Of course, but wouldn&#39;t that be a data race since we&#39;re speaking of shared variables where reads and writes are not ordered by the happens-before order?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692133693,"post_id":76908690,"comment_id":135582370,"body_markdown":"I guess in the second example, &quot;but now linearizable&quot; has a typo.  Surely it should be &quot;but *not* linearizable&quot;, else the comparison does not make sense.  I guess the second alternative also implicitly assumes that the shared-variable accesses are not guarded by a lock.","body":"I guess in the second example, &quot;but now linearizable&quot; has a typo.  Surely it should be &quot;but <i>not</i> linearizable&quot;, else the comparison does not make sense.  I guess the second alternative also implicitly assumes that the shared-variable accesses are not guarded by a lock."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692134139,"post_id":76908690,"comment_id":135582430,"body_markdown":"I guess the second alternative also means that program histories are not *guaranteed* to be linearizable. It can&#39;t mean that every such history exhibits behavior that contradicts linearizability.","body":"I guess the second alternative also means that program histories are not <i>guaranteed</i> to be linearizable. It can&#39;t mean that every such history exhibits behavior that contradicts linearizability."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692134609,"post_id":76908690,"comment_id":135582505,"body_markdown":"Side note: the edition (first, I guess) of *The Art of Multiprocessor Programming* that I am looking at does contain comments along lines similar to those presented in the question, but they do not appear in an appendix, and Appendix 3.2 of that edition isn&#39;t even about Java.","body":"Side note: the edition (first, I guess) of <i>The Art of Multiprocessor Programming</i> that I am looking at does contain comments along lines similar to those presented in the question, but they do not appear in an appendix, and Appendix 3.2 of that edition isn&#39;t even about Java."},{"owner":{"account_id":15301236,"reputation":1,"user_id":11039569,"display_name":"J. Kek"},"score":0,"creation_date":1692135271,"post_id":76908690,"comment_id":135582594,"body_markdown":"I corrected all misleading formulations and apologize for that. My copy is the second edition.","body":"I corrected all misleading formulations and apologize for that. My copy is the second edition."}],"owner":{"account_id":15301236,"reputation":1,"user_id":11039569,"display_name":"J. Kek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692193590,"creation_date":1692128187,"question_id":76908690,"body_markdown":"I&#39;m currently reading the book *The Art of Multiprocessor Programming*, 2&lt;sup&gt;nd&lt;/sup&gt; edition. According to its appendix on the Java Memory Model (A.3.2), `volatile` fields (as well as any amount of fields where all accesses to these fields are guarded by the same lock) are linearizable. Now according to my lecture, which is heavily based on the book, the following is true:\r\n\r\n1. If we have a shared java memory system where all accesses to shared data are guarded by the same lock, then all well-formed histories produced by this system are linearizable. \r\n\r\n2. If we have a shared java memory system where all accesses to shared data are made on volatile variables, then all well-formed histories produced by this system are sequentially consistent but not necessarily linearizable. \r\n\r\nI&#39;ve been trying my best to find an example that satisfies the second assumptions and which is not linearizable but I couldn&#39;t find one. I think that the second point is indeed linearizable (referring to *The Art of Multiprocessor Programming*).\r\nI hope someone could tell me what I did wrong.","title":"Java Memory Model consistency guarantees","body":"<p>I'm currently reading the book <em>The Art of Multiprocessor Programming</em>, 2<sup>nd</sup> edition. According to its appendix on the Java Memory Model (A.3.2), <code>volatile</code> fields (as well as any amount of fields where all accesses to these fields are guarded by the same lock) are linearizable. Now according to my lecture, which is heavily based on the book, the following is true:</p>\n<ol>\n<li><p>If we have a shared java memory system where all accesses to shared data are guarded by the same lock, then all well-formed histories produced by this system are linearizable.</p>\n</li>\n<li><p>If we have a shared java memory system where all accesses to shared data are made on volatile variables, then all well-formed histories produced by this system are sequentially consistent but not necessarily linearizable.</p>\n</li>\n</ol>\n<p>I've been trying my best to find an example that satisfies the second assumptions and which is not linearizable but I couldn't find one. I think that the second point is indeed linearizable (referring to <em>The Art of Multiprocessor Programming</em>).\nI hope someone could tell me what I did wrong.</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":8719618,"reputation":3164,"user_id":6523173,"display_name":"looptheloop88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172897,"creation_date":1692172897,"answer_id":76911605,"question_id":76910534,"body_markdown":"Firebase Cloud Messaging server key is used to authorize an app server to access Google services, including sending messages via deprecated legacy HTTP API. **It shouldn&#39;t be included anywhere in your client code.**\r\n\r\nYou may refer to this [documentation][1] on how to migrate from FCM legacy HTTP API to FCM HTTP v1 API. Here is also a sample [quickstart project][2] on how to send messages using Node.js.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/migrate-v1\r\n  [2]: https://github.com/firebase/quickstart-nodejs/tree/master/messaging","title":"Exposed Firebase cloud messaging server key","body":"<p>Firebase Cloud Messaging server key is used to authorize an app server to access Google services, including sending messages via deprecated legacy HTTP API. <strong>It shouldn't be included anywhere in your client code.</strong></p>\n<p>You may refer to this <a href=\"https://firebase.google.com/docs/cloud-messaging/migrate-v1\" rel=\"nofollow noreferrer\">documentation</a> on how to migrate from FCM legacy HTTP API to FCM HTTP v1 API. Here is also a sample <a href=\"https://github.com/firebase/quickstart-nodejs/tree/master/messaging\" rel=\"nofollow noreferrer\">quickstart project</a> on how to send messages using Node.js.</p>\n"}],"owner":{"account_id":21199080,"reputation":1,"user_id":15590068,"display_name":"Islems19 Zeblah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692193568,"creation_date":1692160279,"question_id":76910534,"body_markdown":"When I uploaded my app into paly store I got an email from Google console says Leaked GCP FCM Server Keys\r\n\r\n&gt;Your app(s) expose FCM server keys.\r\n&gt;\r\n&gt;To address this issue, follow the steps in this Google Help Center article.\r\n\r\nI&#39;m just new into this and I gave a deadline to fix it so what to do?\r\n\r\nI did my research and I found that I need to Migrate from legacy FCM APIs to HTTP v1 but I don&#39;t know how to do it in android studio ","title":"Exposed Firebase cloud messaging server key","body":"<p>When I uploaded my app into paly store I got an email from Google console says Leaked GCP FCM Server Keys</p>\n<blockquote>\n<p>Your app(s) expose FCM server keys.</p>\n<p>To address this issue, follow the steps in this Google Help Center article.</p>\n</blockquote>\n<p>I'm just new into this and I gave a deadline to fix it so what to do?</p>\n<p>I did my research and I found that I need to Migrate from legacy FCM APIs to HTTP v1 but I don't know how to do it in android studio</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15797607,"reputation":53,"user_id":11399028,"display_name":"Oussama Hadj Aissa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649771426,"creation_date":1649771426,"answer_id":71843916,"question_id":67156478,"body_markdown":"You can use ```@Transient``` annotation like this: \r\n\r\n    ...\r\n    import org.springframework.data.annotation.Transient;\r\n    ...\r\n    @Data\r\n    public class Base {\r\n      @Id\r\n      private long id;\r\n  \r\n      @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n      @Column(&quot;created_on&quot;)\r\n      @CreatedDate\r\n      @Transient\r\n      private LocalDateTime createdOn;\r\n\r\n      @Column(&quot;created_by&quot;)\r\n      @CreatedBy\r\n      @Transient \r\n      private Long createdBy;\r\n\r\n      @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n      @Column(&quot;updated_on&quot;)\r\n      @LastModifiedDate\r\n      private LocalDateTime updatedOn;\r\n\r\n      @Column(&quot;updated_by&quot;)\r\n      @LastModifiedBy`enter code here`\r\n      private Long updatedBy;\r\n    }\r\n","title":"Ignore createdBy and CreatedDate in update query","body":"<p>You can use <code>@Transient</code> annotation like this:</p>\n<pre><code>...\nimport org.springframework.data.annotation.Transient;\n...\n@Data\npublic class Base {\n  @Id\n  private long id;\n\n  @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n  @Column(&quot;created_on&quot;)\n  @CreatedDate\n  @Transient\n  private LocalDateTime createdOn;\n\n  @Column(&quot;created_by&quot;)\n  @CreatedBy\n  @Transient \n  private Long createdBy;\n\n  @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n  @Column(&quot;updated_on&quot;)\n  @LastModifiedDate\n  private LocalDateTime updatedOn;\n\n  @Column(&quot;updated_by&quot;)\n  @LastModifiedBy`enter code here`\n  private Long updatedBy;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11183953,"reputation":1,"user_id":8207051,"display_name":"Marcel R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692193508,"creation_date":1692193508,"answer_id":76914203,"question_id":67156478,"body_markdown":"You can use the `@InsertOnlyProperty` annotation from `org.springframework.data.relational.core.mapping.InsertOnlyProperty` as follows:\r\n\r\n    @Data\r\n    public class Base {\r\n        @Id\r\n         private long id;\r\n       \r\n         @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n         @Column(&quot;created_on&quot;)\r\n         @CreatedDate\r\n         @InsertOnlyProperty\r\n         private LocalDateTime createdOn;\r\n     \r\n         @Column(&quot;created_by&quot;)\r\n         @CreatedBy\r\n         @InsertOnlyProperty\r\n         private Long createdBy;\r\n     \r\n         @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n         @Column(&quot;updated_on&quot;)\r\n         @LastModifiedDate\r\n         private LocalDateTime updatedOn;\r\n     \r\n         @Column(&quot;updated_by&quot;)\r\n         @LastModifiedBy\r\n         private Long updatedBy;\r\n    }\r\n\r\n`@Transient` is not the ideal solution because it will completely ignore the property during persisting. This means that the columns `created_on` and `created_by` will be `NULL` in the database after `INSERT`.","title":"Ignore createdBy and CreatedDate in update query","body":"<p>You can use the <code>@InsertOnlyProperty</code> annotation from <code>org.springframework.data.relational.core.mapping.InsertOnlyProperty</code> as follows:</p>\n<pre><code>@Data\npublic class Base {\n    @Id\n     private long id;\n   \n     @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n     @Column(&quot;created_on&quot;)\n     @CreatedDate\n     @InsertOnlyProperty\n     private LocalDateTime createdOn;\n \n     @Column(&quot;created_by&quot;)\n     @CreatedBy\n     @InsertOnlyProperty\n     private Long createdBy;\n \n     @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n     @Column(&quot;updated_on&quot;)\n     @LastModifiedDate\n     private LocalDateTime updatedOn;\n \n     @Column(&quot;updated_by&quot;)\n     @LastModifiedBy\n     private Long updatedBy;\n}\n</code></pre>\n<p><code>@Transient</code> is not the ideal solution because it will completely ignore the property during persisting. This means that the columns <code>created_on</code> and <code>created_by</code> will be <code>NULL</code> in the database after <code>INSERT</code>.</p>\n"}],"owner":{"account_id":21310250,"reputation":31,"user_id":15684751,"display_name":"Manikandan B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692193508,"creation_date":1618810759,"question_id":67156478,"body_markdown":"I am using spring r2dbc and ReactiveCrudRepository, How can I ignore `createdBy` and `CreatedDate` in the update query.\r\n\r\n```lang-java\r\n@Data\r\npublic class Base {\r\n    @Id\r\n     private long id;\r\n   \r\n     @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n     @Column(&quot;created_on&quot;)\r\n     @CreatedDate\r\n     private LocalDateTime createdOn;\r\n \r\n     @Column(&quot;created_by&quot;)\r\n     @CreatedBy\r\n     private Long createdBy;\r\n \r\n     @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n     @Column(&quot;updated_on&quot;)\r\n     @LastModifiedDate\r\n     private LocalDateTime updatedOn;\r\n \r\n     @Column(&quot;updated_by&quot;)\r\n     @LastModifiedBy\r\n     private Long updatedBy;\r\n}\r\n```\r\n","title":"Ignore createdBy and CreatedDate in update query","body":"<p>I am using spring r2dbc and ReactiveCrudRepository, How can I ignore <code>createdBy</code> and <code>CreatedDate</code> in the update query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Base {\n    @Id\n     private long id;\n   \n     @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n     @Column(&quot;created_on&quot;)\n     @CreatedDate\n     private LocalDateTime createdOn;\n \n     @Column(&quot;created_by&quot;)\n     @CreatedBy\n     private Long createdBy;\n \n     @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n     @Column(&quot;updated_on&quot;)\n     @LastModifiedDate\n     private LocalDateTime updatedOn;\n \n     @Column(&quot;updated_by&quot;)\n     @LastModifiedBy\n     private Long updatedBy;\n}\n</code></pre>\n"},{"tags":["java","preferences"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1262956003,"post_id":2027566,"comment_id":1950784,"body_markdown":"give some code, don&#39;t expect us to guess","body":"give some code, don&#39;t expect us to guess"},{"owner":{"account_id":51996,"reputation":1907,"user_id":155362,"display_name":"BryanD"},"score":1,"creation_date":1262980414,"post_id":2027566,"comment_id":1953772,"body_markdown":"Definitely sounds like it&#39;d be related to having multiple JVMs trying to work with the same file.  People tend to use databases for centralizing data to be shared and modified concurrently by multiple processes.","body":"Definitely sounds like it&#39;d be related to having multiple JVMs trying to work with the same file.  People tend to use databases for centralizing data to be shared and modified concurrently by multiple processes."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1263074370,"post_id":2027566,"comment_id":1959666,"body_markdown":"The `java.util.prefs` API is a turkey. I suggest ignoring it and using something that other people actually use, like a database.","body":"The <code>java.util.prefs</code> API is a turkey. I suggest ignoring it and using something that other people actually use, like a database."},{"owner":{"account_id":23009,"reputation":1241,"user_id":57344,"accept_rate":44,"display_name":"HaveAGuess"},"score":0,"creation_date":1265726636,"post_id":2027566,"comment_id":2184801,"body_markdown":"I actually don&#39;t want to share the data at all, Im just trying to create a cheap config (from a SOAP call) cache. DB is too heavy-weight","body":"I actually don&#39;t want to share the data at all, Im just trying to create a cheap config (from a SOAP call) cache. DB is too heavy-weight"},{"owner":{"account_id":23009,"reputation":1241,"user_id":57344,"accept_rate":44,"display_name":"HaveAGuess"},"score":0,"creation_date":1302601899,"post_id":2027566,"comment_id":6420551,"body_markdown":"For those who are voting up Bozho: There is no code, this is one of the Java SYSTEM threads that is failing! lol","body":"For those who are voting up Bozho: There is no code, this is one of the Java SYSTEM threads that is failing! lol"},{"owner":{"account_id":23009,"reputation":1241,"user_id":57344,"accept_rate":44,"display_name":"HaveAGuess"},"score":0,"creation_date":1302603160,"post_id":2027566,"comment_id":79288645,"body_markdown":"This is an excellent critique of the Preferences API, and what can be done to work around issues such as Exceptions in the sync timer. http://www.allaboutbalance.com/articles/disableprefs/ I wrote my own File locking/caching using Java NIO into System.getProperty(&quot;java.io.tmpdir&quot;) Good luck!","body":"This is an excellent critique of the Preferences API, and what can be done to work around issues such as Exceptions in the sync timer. <a href=\"http://www.allaboutbalance.com/articles/disableprefs/\" rel=\"nofollow noreferrer\">allaboutbalance.com/articles/disableprefs</a> I wrote my own File locking/caching using Java NIO into System.getProperty(&quot;java.io.tmpdir&quot;) Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":55108,"reputation":49619,"user_id":165009,"accept_rate":100,"display_name":"Kevin Wright"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1263074100,"creation_date":1263074100,"answer_id":2035109,"question_id":2027566,"body_markdown":"*&quot;I now suspect that it might be because we have multiple JVMs sharing this Backing Store&quot;*\r\n\r\nThis could absolutely be the case!\r\nIf two JVMs attempt to lock the file at the same then this is what you&#39;ll see.\r\n\r\nThe exact details will depend on the type of lock, operating system and file system.\r\n\r\nYou might want to try wrapping the operation that causes this in a try/catch block, then retry the operation if it fails.","title":"java.util.Prefs throwing BackingStoreException - Why?","body":"<p><em>\"I now suspect that it might be because we have multiple JVMs sharing this Backing Store\"</em></p>\n\n<p>This could absolutely be the case!\nIf two JVMs attempt to lock the file at the same then this is what you'll see.</p>\n\n<p>The exact details will depend on the type of lock, operating system and file system.</p>\n\n<p>You might want to try wrapping the operation that causes this in a try/catch block, then retry the operation if it fails.</p>\n"},{"tags":[],"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302603847,"creation_date":1302603847,"answer_id":5633743,"question_id":2027566,"body_markdown":"Instead of using Preferences, just use any serializable Map and make a very simple cache class which serializes and deserializes it to a randomly-generated temporary filename (the filename being generated on first initialisation). Since it is only a cache, you can just catch any exceptions and reset the cache back to its initial state when an exception happens, so it will re-fetch from the original data source (the SOAP service in your case). So there&#39;s no need to worry about serialVersionUID or any of that compatibility stuff, if you don&#39;t want to.","title":"java.util.Prefs throwing BackingStoreException - Why?","body":"<p>Instead of using Preferences, just use any serializable Map and make a very simple cache class which serializes and deserializes it to a randomly-generated temporary filename (the filename being generated on first initialisation). Since it is only a cache, you can just catch any exceptions and reset the cache back to its initial state when an exception happens, so it will re-fetch from the original data source (the SOAP service in your case). So there's no need to worry about serialVersionUID or any of that compatibility stuff, if you don't want to.</p>\n"},{"tags":[],"owner":{"account_id":3571646,"reputation":379,"user_id":2981810,"accept_rate":100,"display_name":"user2981810"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454125860,"creation_date":1411080517,"answer_id":25923667,"question_id":2027566,"body_markdown":"I ran into the same issue with jetty.  I found the following fixed the issue.\r\n\r\nAdd a `.systemPrefs` to your JRE directory and provide access to the user who is running the process which is complaining.\r\n\r\nOnce that is done, go to the Jetty directory and open the `start.ini` file\r\n\r\n-`Djava.util.prefs.userRoot={user&#39;s home directory}`\r\n\r\n-`Djava.util.prefs.systemRoot={user&#39;s home directory}`\r\n\r\nOnce finished adding those lines I restarted jetty and found that the errors were gone.","title":"java.util.Prefs throwing BackingStoreException - Why?","body":"<p>I ran into the same issue with jetty.  I found the following fixed the issue.</p>\n\n<p>Add a <code>.systemPrefs</code> to your JRE directory and provide access to the user who is running the process which is complaining.</p>\n\n<p>Once that is done, go to the Jetty directory and open the <code>start.ini</code> file</p>\n\n<p>-<code>Djava.util.prefs.userRoot={user's home directory}</code></p>\n\n<p>-<code>Djava.util.prefs.systemRoot={user's home directory}</code></p>\n\n<p>Once finished adding those lines I restarted jetty and found that the errors were gone.</p>\n"},{"tags":[],"owner":{"account_id":20918952,"reputation":11,"user_id":15368020,"display_name":"Eduardo Vila&#231;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692193148,"creation_date":1692187368,"answer_id":76913367,"question_id":2027566,"body_markdown":"To fix this alter ownership of the /etc/.java/.systemPrefs folder to your user and root like this:\r\n\r\n    sudo chown 777 user /etc/.java/.systemPrefs","title":"java.util.Prefs throwing BackingStoreException - Why?","body":"<p>To fix this alter ownership of the /etc/.java/.systemPrefs folder to your user and root like this:</p>\n<pre><code>sudo chown 777 user /etc/.java/.systemPrefs\n</code></pre>\n"}],"owner":{"account_id":23009,"reputation":1241,"user_id":57344,"accept_rate":44,"display_name":"HaveAGuess"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63501,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1692193148,"creation_date":1262954337,"question_id":2027566,"body_markdown":"I have a system that caches the tiny/simple results of an on-startup SOAP call\r\n\r\nI need instances to be able to reload their cache on startup (in case the SOAP service is dead) and ALSO handle the possibility of multiple instances using this cache file\r\n\r\nI chose to use `java.util.prefs` but Java&#39;s builtin automatic sync thread is intermittently failing (1% of time using default JVM 30s backing store sync) dumping the following the exception:\r\n\r\n    Jan 8, 2010 12:30:07 PM java.util.prefs.FileSystemPreferences syncWorld\r\n    WARNING: Couldn&#39;t flush user prefs: java.util.prefs.BackingStoreException: Couldn&#39;t get file lock.\r\n\r\nI suspected [this bug](https://bugs.java.com/bugdatabase/view_bug?bug_id=4947349) but this was fixed in 1.5(tiger-b40) and our java 5 on this box is &quot;1.5.0_16-b02&quot;.\r\n\r\nI now suspect that it might be because we have multiple JVMs sharing this Backing Store, although this doesn&#39;t seem to happen on our other machines. \r\n\r\nCan anyone confirm this?\r\nWhat are the risks, if any?\r\n\r\nIf my approach is flawed what should I be using as an alternative?\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4947349 ","title":"java.util.Prefs throwing BackingStoreException - Why?","body":"<p>I have a system that caches the tiny/simple results of an on-startup SOAP call</p>\n<p>I need instances to be able to reload their cache on startup (in case the SOAP service is dead) and ALSO handle the possibility of multiple instances using this cache file</p>\n<p>I chose to use <code>java.util.prefs</code> but Java's builtin automatic sync thread is intermittently failing (1% of time using default JVM 30s backing store sync) dumping the following the exception:</p>\n<pre><code>Jan 8, 2010 12:30:07 PM java.util.prefs.FileSystemPreferences syncWorld\nWARNING: Couldn't flush user prefs: java.util.prefs.BackingStoreException: Couldn't get file lock.\n</code></pre>\n<p>I suspected <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4947349\" rel=\"nofollow noreferrer\">this bug</a> but this was fixed in 1.5(tiger-b40) and our java 5 on this box is &quot;1.5.0_16-b02&quot;.</p>\n<p>I now suspect that it might be because we have multiple JVMs sharing this Backing Store, although this doesn't seem to happen on our other machines.</p>\n<p>Can anyone confirm this?\nWhat are the risks, if any?</p>\n<p>If my approach is flawed what should I be using as an alternative?</p>\n"},{"tags":["java","spring","rest","spring-boot","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1504013990,"post_id":45940630,"comment_id":78839440,"body_markdown":"There isn&#39;t. Properties are applied at load-time... Changing them requires a restart or recreation of beans (hence the `@RefreshScope`). You might be able to use JMX to change some properties in a running application but this won&#39;t be reflected in your `application.properties`.","body":"There isn&#39;t. Properties are applied at load-time... Changing them requires a restart or recreation of beans (hence the <code>@RefreshScope</code>). You might be able to use JMX to change some properties in a running application but this won&#39;t be reflected in your <code>application.properties</code>."},{"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"score":0,"creation_date":1504014183,"post_id":45940630,"comment_id":78839569,"body_markdown":"Yes, thanks, the properties do not need to be reflected in the properties file. They just need to be applied to the current running instance.","body":"Yes, thanks, the properties do not need to be reflected in the properties file. They just need to be applied to the current running instance."},{"owner":{"account_id":2839317,"reputation":2313,"user_id":2439220,"display_name":"gtonic"},"score":2,"creation_date":1504014268,"post_id":45940630,"comment_id":78839629,"body_markdown":"You can with Spring-Boot Cloud. See https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties#26717273","body":"You can with Spring-Boot Cloud. See <a href=\"https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties#26717273\" title=\"refreshing spring boot properties%2326717273\">stackoverflow.com/questions/26717187/&hellip;</a>"},{"owner":{"account_id":2839317,"reputation":2313,"user_id":2439220,"display_name":"gtonic"},"score":0,"creation_date":1504014279,"post_id":45940630,"comment_id":78839639,"body_markdown":"Possible duplicate of [refreshing spring boot properties](https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties\">refreshing spring boot properties</a>"},{"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"score":0,"creation_date":1504014574,"post_id":45940630,"comment_id":78839861,"body_markdown":"@gtonic I would like to see, if possible, specific examples for the property described in my post, which keep things as simple as possible.","body":"@gtonic I would like to see, if possible, specific examples for the property described in my post, which keep things as simple as possible."},{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1504015509,"post_id":45940630,"comment_id":78840584,"body_markdown":"I&#39;ve done this using [this answer](https://stackoverflow.com/questions/40287771/how-to-reload-a-value-property-from-application-properties-in-spring/40288822#40288822)","body":"I&#39;ve done this using <a href=\"https://stackoverflow.com/questions/40287771/how-to-reload-a-value-property-from-application-properties-in-spring/40288822#40288822\">this answer</a>"},{"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"score":0,"creation_date":1504166284,"post_id":45940630,"comment_id":78910944,"body_markdown":"@Essex Boy This still requires changing the the application.properties file, which is something I would like to avoid.","body":"@Essex Boy This still requires changing the the application.properties file, which is something I would like to avoid."},{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1504166517,"post_id":45940630,"comment_id":78911084,"body_markdown":"If you want to change a property you&#39;re going to have to tell it what the new property is somehow!!","body":"If you want to change a property you&#39;re going to have to tell it what the new property is somehow!!"},{"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"score":0,"creation_date":1504166642,"post_id":45940630,"comment_id":78911165,"body_markdown":"As far as I know, you can set properties programatically. So it would require setting/resetting that property programatically, then refreshing the application scope.","body":"As far as I know, you can set properties programatically. So it would require setting/resetting that property programatically, then refreshing the application scope."},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1538663071,"post_id":45940630,"comment_id":92230137,"body_markdown":"This answer exactly what you are looking for https://stackoverflow.com/a/52648630/39998","body":"This answer exactly what you are looking for <a href=\"https://stackoverflow.com/a/52648630/39998\">stackoverflow.com/a/52648630/39998</a>"},{"owner":{"account_id":5247548,"reputation":580,"user_id":4192735,"accept_rate":88,"display_name":"Bhaumik Thakkar"},"score":0,"creation_date":1692684757,"post_id":45940630,"comment_id":135653586,"body_markdown":"I would go with Consul KV, instead of any custom implementation, as the third party would have been thoroughly tested and provide more features.","body":"I would go with Consul KV, instead of any custom implementation, as the third party would have been thoroughly tested and provide more features."}],"answers":[{"tags":[],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538663155,"creation_date":1538663155,"answer_id":52649172,"question_id":45940630,"body_markdown":"Some answers recommends Spring Cloud Config Server. It may be an overkill for some. This SO answer is exactly what you are looking for. [How to hot reload properties in Spring Boot and Java EE][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52648630/39998","title":"Better way to update Spring Boot properties while app is running","body":"<p>Some answers recommends Spring Cloud Config Server. It may be an overkill for some. This SO answer is exactly what you are looking for. <a href=\"https://stackoverflow.com/a/52648630/39998\">How to hot reload properties in Spring Boot and Java EE</a></p>\n"},{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684752180,"creation_date":1684752180,"answer_id":76305368,"question_id":45940630,"body_markdown":"If an application has special requirements regarding its availability, it is probably desired that changes on configuration files can be done without the need for a restart. The application should automatically detect such changes an react accordingly. This feature is referred to as automatic reloading.\r\n\r\nThe reloading mechanism defined by Apache Commons Configuration library which has multiple components you can use for this approach. you can learn about how to use it in this link\r\nhttps://commons.apache.org/proper/commons-configuration/userguide/howto_reloading.html\r\n\r\n\r\n","title":"Better way to update Spring Boot properties while app is running","body":"<p>If an application has special requirements regarding its availability, it is probably desired that changes on configuration files can be done without the need for a restart. The application should automatically detect such changes an react accordingly. This feature is referred to as automatic reloading.</p>\n<p>The reloading mechanism defined by Apache Commons Configuration library which has multiple components you can use for this approach. you can learn about how to use it in this link\n<a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_reloading.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-configuration/userguide/howto_reloading.html</a></p>\n"},{"tags":[],"owner":{"account_id":14448481,"reputation":21,"user_id":10436817,"display_name":"ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692192837,"creation_date":1692192837,"answer_id":76914098,"question_id":45940630,"body_markdown":"You can use [kubernetes env][1] like below:\r\n\r\n    spec:\r\n      containers:\r\n      - name: envar-demo-container\r\n        image: gcr.io/google-samples/node-hello:1.0\r\n        env:\r\n        - name: SPRING_PROFILES_ACTIVE\r\n          value: &quot;prod&quot;\r\n\r\n\r\nIf not use kubernetes, you can use database(I prefer NoSql for this solution) to changing your properties.\r\nwrite `schedule` for getting data from your database and update your properties\r\n\r\n\r\n  [1]: https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/","title":"Better way to update Spring Boot properties while app is running","body":"<p>You can use <a href=\"https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/\" rel=\"nofollow noreferrer\">kubernetes env</a> like below:</p>\n<pre><code>spec:\n  containers:\n  - name: envar-demo-container\n    image: gcr.io/google-samples/node-hello:1.0\n    env:\n    - name: SPRING_PROFILES_ACTIVE\n      value: &quot;prod&quot;\n</code></pre>\n<p>If not use kubernetes, you can use database(I prefer NoSql for this solution) to changing your properties.\nwrite <code>schedule</code> for getting data from your database and update your properties</p>\n"}],"owner":{"account_id":2381386,"reputation":1052,"user_id":2083341,"accept_rate":61,"display_name":"Wilhelm Sorban"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14891,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1692192837,"creation_date":1504013770,"question_id":45940630,"body_markdown":"So far, I have seen methods to update a Spring boot application, by changing the property file itself, then reloading the file, or by using `@RefreshScope` annotation, or by Spring Cloud Config.\r\n\r\nI was not able to find anything straight forward (something like `getEnvironment().updateProperty(key, value)` ).\r\n\r\nIs there such a way to do that?\r\n\r\nFor example, I need to change the logging type of my application, to show the SQL;\r\nMy `application.properties` file contains this line: `spring.jpa.show-sql=false`.\r\n\r\nBut what if I want to set this to `true` while the application is running, through a REST call?\r\n\r\nCan you suggest a simpler way to do this? And/Or show examples of how you would do it yourself, for this specific property?\r\n\r\nEDIT: The changes do not need to be reflected in the `application.properties` file. So when the application is restarted, it would use the properties that were initially set in the `application.properties` file.","title":"Better way to update Spring Boot properties while app is running","body":"<p>So far, I have seen methods to update a Spring boot application, by changing the property file itself, then reloading the file, or by using <code>@RefreshScope</code> annotation, or by Spring Cloud Config.</p>\n\n<p>I was not able to find anything straight forward (something like <code>getEnvironment().updateProperty(key, value)</code> ).</p>\n\n<p>Is there such a way to do that?</p>\n\n<p>For example, I need to change the logging type of my application, to show the SQL;\nMy <code>application.properties</code> file contains this line: <code>spring.jpa.show-sql=false</code>.</p>\n\n<p>But what if I want to set this to <code>true</code> while the application is running, through a REST call?</p>\n\n<p>Can you suggest a simpler way to do this? And/Or show examples of how you would do it yourself, for this specific property?</p>\n\n<p>EDIT: The changes do not need to be reflected in the <code>application.properties</code> file. So when the application is restarted, it would use the properties that were initially set in the <code>application.properties</code> file.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1692686440,"post_id":76914035,"comment_id":135653853,"body_markdown":"Is it possible that you configured the collection mapping strategies with ADDER_PREFERRED. https://mapstruct.org/documentation/stable/reference/html/#collection-mapping-strategies","body":"Is it possible that you configured the collection mapping strategies with ADDER_PREFERRED. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#collection-mapping-strategies\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692192313,"creation_date":1692192313,"question_id":76914035,"body_markdown":"I have the following class structure - \r\n```\r\n@Getter\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\n@ToString\r\n@NoArgsConstructor\r\npublic abstract class ParentDTO {\r\n\r\nString type;\r\nList&lt;String&gt; tags;\r\n}\r\n\r\n@SuperBuilder(toBuilder = true)\r\n@Getter\r\n@ToString(callSuper = true)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic ChildDTO extends ParentDTO {\r\n  String child;\r\n  ....  \r\n}\r\n\r\n\r\n@Getter\r\n@SuperBuilder(toBuilder = true)\r\n@ToString\r\n@NoArgsConstructor\r\npublic abstract class ParentBO {\r\n  String type;\r\n  List&lt;String&gt; tags;\r\n}\r\n\r\n@Getter\r\n@SuperBuilder(toBuilder = true)\r\n@ToString(callSuper = true)\r\n@AllArgsConstructor\r\npublic class ChildBO extends ParentBO {\r\n  String child;\r\n}\r\n\r\n```\r\n\r\nI am using mapstruct to map from DTO to BO and the mapper has the following code - \r\n\r\n```\r\n    @SubclassMapping(target = ChildBO.class, source = ChildDTO.class)\r\n    ParentBO backward(ParentDTO parentDTO);\r\n```\r\n\r\nFor some reason when the Mapstruct generates code for this mapping it checks for null in target childBO object&#39;s list attribute before assigning the list value from the DTO object, which results in ChildBO&#39;s list always being null. \r\n\r\n```\r\n    @Override\r\n    public ParentBO backward(ParentDTO parentDTO) {\r\n        if ( parentDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        if (parentDTO instanceof ChildDTO) {\r\n            return childDTOToChildBO( (ChildDTO) parentDTO );\r\n        }\r\n        else {\r\n            throw new IllegalArgumentException(&quot;Not all subclasses are supported for this mapping. Missing for &quot; + parentDTO.getClass());\r\n        }\r\n    }\r\n\r\n    protected ChildBO childDTOToChildBO(ChildDTO childDTO) {\r\n      if (childDTO == null) {\r\n        return null;\r\n      }\r\n      String child = childDTO.getChild();\r\n      ChildBO childBO = new ChildBO(child);\r\n      if (childBO.getTags() != null) { // Why this check\r\n        List&lt;String&gt; list = childDTO.getTags();\r\n        if (list != null) {\r\n           childBO.getTags().addAll(list); // And why not a new list here?\r\n        }\r\n      }\r\n    }\r\n\r\n```\r\n\r\nCan someone help me understand why it is happening? I have mapped other lists before and have never faced this problem.\r\n","title":"Mapstruct null checking target field for no reason","body":"<p>I have the following class structure -</p>\n<pre><code>@Getter\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@ToString\n@NoArgsConstructor\npublic abstract class ParentDTO {\n\nString type;\nList&lt;String&gt; tags;\n}\n\n@SuperBuilder(toBuilder = true)\n@Getter\n@ToString(callSuper = true)\n@AllArgsConstructor\n@NoArgsConstructor\npublic ChildDTO extends ParentDTO {\n  String child;\n  ....  \n}\n\n\n@Getter\n@SuperBuilder(toBuilder = true)\n@ToString\n@NoArgsConstructor\npublic abstract class ParentBO {\n  String type;\n  List&lt;String&gt; tags;\n}\n\n@Getter\n@SuperBuilder(toBuilder = true)\n@ToString(callSuper = true)\n@AllArgsConstructor\npublic class ChildBO extends ParentBO {\n  String child;\n}\n\n</code></pre>\n<p>I am using mapstruct to map from DTO to BO and the mapper has the following code -</p>\n<pre><code>    @SubclassMapping(target = ChildBO.class, source = ChildDTO.class)\n    ParentBO backward(ParentDTO parentDTO);\n</code></pre>\n<p>For some reason when the Mapstruct generates code for this mapping it checks for null in target childBO object's list attribute before assigning the list value from the DTO object, which results in ChildBO's list always being null.</p>\n<pre><code>    @Override\n    public ParentBO backward(ParentDTO parentDTO) {\n        if ( parentDTO == null ) {\n            return null;\n        }\n\n        if (parentDTO instanceof ChildDTO) {\n            return childDTOToChildBO( (ChildDTO) parentDTO );\n        }\n        else {\n            throw new IllegalArgumentException(&quot;Not all subclasses are supported for this mapping. Missing for &quot; + parentDTO.getClass());\n        }\n    }\n\n    protected ChildBO childDTOToChildBO(ChildDTO childDTO) {\n      if (childDTO == null) {\n        return null;\n      }\n      String child = childDTO.getChild();\n      ChildBO childBO = new ChildBO(child);\n      if (childBO.getTags() != null) { // Why this check\n        List&lt;String&gt; list = childDTO.getTags();\n        if (list != null) {\n           childBO.getTags().addAll(list); // And why not a new list here?\n        }\n      }\n    }\n\n</code></pre>\n<p>Can someone help me understand why it is happening? I have mapped other lists before and have never faced this problem.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601047928,"creation_date":1600988438,"answer_id":64055516,"question_id":64055427,"body_markdown":"You can create a list named `duplicates`, and to that list add all duplicates values. But before adding check if that list already contains that value. \r\n\r\n```\r\npublic class Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int[] array1 = {2, 4, 6, 8, 10, 12, 14, 16, 18, 20};\r\n        int[] array2 = {2, 4, 6, 8, 10, 10, 6, 7, 20, 20};\r\n\r\n        System.out.println(&quot;Array 1: &quot; + java.util.Arrays.toString(array1)); // faster way to print array\r\n        System.out.println(&quot;Array 2: &quot; + java.util.Arrays.toString(array2));\r\n\r\n        List&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;(); // list for all duplicates\r\n\r\n        for (int k : array1)\r\n        {\r\n            if (duplicates.contains(k)) // check if You have already added this value to duplicates\r\n            {\r\n                break;\r\n            }\r\n\r\n            for (int i : array2)\r\n            {\r\n                if (k == i)\r\n                {\r\n                    duplicates.add(k);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Duplicates: &quot; + duplicates); // [2, 4, 6, 8, 10, 20]\r\n    }\r\n}\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\n*I am not sure but I think this is not the most efficient way to search duplicates in two lists. Maybe sorting both arrays and then searching duplicates would be better. Your two nested loops will run very long in bigger data sets. (but it&#39;s just my opinion, I&#39;m not sure)*","title":"Finding duplicate numbers in two arrays","body":"<p>You can create a list named <code>duplicates</code>, and to that list add all duplicates values. But before adding check if that list already contains that value.</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        int[] array1 = {2, 4, 6, 8, 10, 12, 14, 16, 18, 20};\n        int[] array2 = {2, 4, 6, 8, 10, 10, 6, 7, 20, 20};\n\n        System.out.println(&quot;Array 1: &quot; + java.util.Arrays.toString(array1)); // faster way to print array\n        System.out.println(&quot;Array 2: &quot; + java.util.Arrays.toString(array2));\n\n        List&lt;Integer&gt; duplicates = new ArrayList&lt;&gt;(); // list for all duplicates\n\n        for (int k : array1)\n        {\n            if (duplicates.contains(k)) // check if You have already added this value to duplicates\n            {\n                break;\n            }\n\n            for (int i : array2)\n            {\n                if (k == i)\n                {\n                    duplicates.add(k);\n                    break;\n                }\n            }\n        }\n\n        System.out.println(&quot;Duplicates: &quot; + duplicates); // [2, 4, 6, 8, 10, 20]\n    }\n}\n</code></pre>\n<hr>\n<p><em>I am not sure but I think this is not the most efficient way to search duplicates in two lists. Maybe sorting both arrays and then searching duplicates would be better. Your two nested loops will run very long in bigger data sets. (but it's just my opinion, I'm not sure)</em></p>\n"},{"tags":[],"owner":{"account_id":18856238,"reputation":404,"user_id":13754100,"display_name":"sunrise"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600988531,"creation_date":1600988531,"answer_id":64055524,"question_id":64055427,"body_markdown":"You need a way of logging which numbers have already been identified as duplicates.\r\n\r\nI suggust: make a new collection, e.g. a HashSet, and add duplicate values to that instead of printing them.  Once you have gone through all values in the original arrays, print whatever is in the duplicates collection.","title":"Finding duplicate numbers in two arrays","body":"<p>You need a way of logging which numbers have already been identified as duplicates.</p>\n<p>I suggust: make a new collection, e.g. a HashSet, and add duplicate values to that instead of printing them.  Once you have gone through all values in the original arrays, print whatever is in the duplicates collection.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601041992,"creation_date":1600990874,"answer_id":64055832,"question_id":64055427,"body_markdown":"Here is another way.  Just convert the two arrays to `Set&lt;Integer&gt;` and use [Set#retainAll](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Set.html#retainAll(java.util.Collection)). I am using more diverse arrays to demonstrate.\r\n\r\n```\r\nInteger[] array1 = { 2, 3, 1, 9, 7, 10, 11, 2, 4, 5, 10 };\r\nInteger[] array2 = { 2, 10, 5, 19, 20, 7, 19, 8, 7, 6 };\r\n\t\t\r\n\r\nSet&lt;Integer&gt; set1 = new HashSet&lt;&gt;(List.of(array1));\r\nSet&lt;Integer&gt; set2 = new HashSet&lt;&gt;(List.of(array2));\r\n\r\nset2.retainAll(set1);\r\n\r\nSystem.out.println(set2);\r\n```\r\nPrints\r\n```\r\n[2, 5, 7, 10]\r\n```\r\nIf you want to use primitive arrays, you can just create the sets and copy in the values.\r\n\r\nAnd here is a more traditional way of doing it.\r\n```\r\nint[] array1 = { 2, 3, 1, 9, 7, 10, 11, 2, 4, 5, 10 };\r\nint[] array2 = { 2, 10, 5, 19, 20, 7, 19, 8, 7, 6 };\r\n```        \r\nCreate a set of one of the source arrays.\r\n```\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nfor (int i : array1) {\r\n\tset.add(i);\r\n}\r\n```\r\nCreate an empty set to hold the duplicates\r\n```\r\nSet&lt;Integer&gt; dups = new HashSet&lt;&gt;();\r\n```\r\nNow iterate thru the other array.  If an element is found\r\nin the previously created set, add it to the set of duplicates\r\n```\r\nfor(int i : array2) {\r\n\tif (set.contains(i)) {\r\n\t\tdups.add(i);\r\n\t}\r\n}\r\n\r\nSystem.out.println(dups);\r\n```\r\nPrints\r\n```\r\n[2, 5, 7, 10]\r\n```\r\nUsing sets here has two advantages.\r\n- `contains` for sets is efficient since it only needs to check the bucket associated with the hashcode of the object one is trying to find.\r\n- when accumulating duplicates, multiple duplicates will only be recorded once","title":"Finding duplicate numbers in two arrays","body":"<p>Here is another way.  Just convert the two arrays to <code>Set&lt;Integer&gt;</code> and use <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Set.html#retainAll(java.util.Collection)\" rel=\"nofollow noreferrer\">Set#retainAll</a>. I am using more diverse arrays to demonstrate.</p>\n<pre><code>Integer[] array1 = { 2, 3, 1, 9, 7, 10, 11, 2, 4, 5, 10 };\nInteger[] array2 = { 2, 10, 5, 19, 20, 7, 19, 8, 7, 6 };\n        \n\nSet&lt;Integer&gt; set1 = new HashSet&lt;&gt;(List.of(array1));\nSet&lt;Integer&gt; set2 = new HashSet&lt;&gt;(List.of(array2));\n\nset2.retainAll(set1);\n\nSystem.out.println(set2);\n</code></pre>\n<p>Prints</p>\n<pre><code>[2, 5, 7, 10]\n</code></pre>\n<p>If you want to use primitive arrays, you can just create the sets and copy in the values.</p>\n<p>And here is a more traditional way of doing it.</p>\n<pre><code>int[] array1 = { 2, 3, 1, 9, 7, 10, 11, 2, 4, 5, 10 };\nint[] array2 = { 2, 10, 5, 19, 20, 7, 19, 8, 7, 6 };\n</code></pre>\n<p>Create a set of one of the source arrays.</p>\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nfor (int i : array1) {\n    set.add(i);\n}\n</code></pre>\n<p>Create an empty set to hold the duplicates</p>\n<pre><code>Set&lt;Integer&gt; dups = new HashSet&lt;&gt;();\n</code></pre>\n<p>Now iterate thru the other array.  If an element is found\nin the previously created set, add it to the set of duplicates</p>\n<pre><code>for(int i : array2) {\n    if (set.contains(i)) {\n        dups.add(i);\n    }\n}\n\nSystem.out.println(dups);\n</code></pre>\n<p>Prints</p>\n<pre><code>[2, 5, 7, 10]\n</code></pre>\n<p>Using sets here has two advantages.</p>\n<ul>\n<li><code>contains</code> for sets is efficient since it only needs to check the bucket associated with the hashcode of the object one is trying to find.</li>\n<li>when accumulating duplicates, multiple duplicates will only be recorded once</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29237263,"reputation":1,"user_id":22399647,"display_name":"karra sankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692192121,"creation_date":1692192121,"answer_id":76914012,"question_id":64055427,"body_markdown":"    *//Finding Duplicates in two Arrays\r\n    public static void main(String[] args) {\r\n    \t\tInteger arr1[]= {2, 4, 5, 6, 3, 2, 4};\r\n    \t\tInteger arr2[]= {5, 4, 9, 10, 23, 5, 4};\r\n    \r\n    \t\tSet&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t\tfor(int i=0;i&lt;arr1.length;i++) {\r\n    \t\t\tfor(int j=0;j&lt;arr1.length;j++) {\r\n    \t\t\t\tif(arr1[i]==arr2[j]) {\r\n    \t\t\t\t\tset.add(arr2[j]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(set);//[4,5]\r\n    \t}*","title":"Finding duplicate numbers in two arrays","body":"<pre><code>*//Finding Duplicates in two Arrays\npublic static void main(String[] args) {\n        Integer arr1[]= {2, 4, 5, 6, 3, 2, 4};\n        Integer arr2[]= {5, 4, 9, 10, 23, 5, 4};\n\n        Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n        for(int i=0;i&lt;arr1.length;i++) {\n            for(int j=0;j&lt;arr1.length;j++) {\n                if(arr1[i]==arr2[j]) {\n                    set.add(arr2[j]);\n                }\n            }\n        }\n        System.out.println(set);//[4,5]\n    }*\n</code></pre>\n"}],"owner":{"account_id":16372930,"reputation":29,"user_id":14336957,"display_name":"Jonathan DaSilva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1692192121,"creation_date":1600987731,"question_id":64055427,"body_markdown":"I have been asked to make a program that can find duplicate numbers within two arrays. I have figured out how to get the duplicate numbers to print out but I am having a problem getting them to print out with only one number of the duplicated. ie; \r\n```\r\nint[] array1 = new int[2,4,6,8,10,12,14,16,18,20]\r\nint[] array1 = new int[2,4,6,8,10,10,6,7,20,20]\r\n```\r\n\r\noutput:\r\n```\r\n2, 4, 6, 8, 10, 10, 6, 20, 20\r\n```\r\n\r\nHow would I get it to only output one `20` and one `10`?\r\n\r\n```\r\nimport java.security.SecureRandom;\r\n\r\npublic class Duplicates \r\n{\r\n\r\n    public static void main(String []args)\r\n    {\r\n        int[] array1 = new int[10];\r\n        int[] array2 = new int[10];\r\n\r\n        SecureRandom randomNumbers = new SecureRandom();\r\n\r\n        for(int i = 0; i &lt; array1.length; i++)\r\n        {\r\n            array1[i] = randomNumbers.nextInt(19);\r\n        }\r\n        for(int i = 0; i &lt; array2.length; i++)\r\n        {\r\n            array2[i] = randomNumbers.nextInt(19);\r\n        }\r\n        System.out.printf(&quot;Array 1: &quot;);\r\n        for(int i: array1)\r\n        {\r\n            System.out.print(i + &quot;,&quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.printf(&quot;Array 2: &quot;);\r\n\r\n        for(int i: array2)\r\n        {\r\n            System.out.print(i + &quot;,&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;\\nValues the exist in both arrays are... &quot;);\r\n\r\n        for(int i = 0; i &lt; array1.length;i++)\r\n        {\r\n            for(int j = 0; j &lt; array2.length; j++)\r\n            {\r\n                if(array1[i]==array2[j])\r\n                {\r\n                    System.out.printf(array1[i] + &quot;,&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```    ","title":"Finding duplicate numbers in two arrays","body":"<p>I have been asked to make a program that can find duplicate numbers within two arrays. I have figured out how to get the duplicate numbers to print out but I am having a problem getting them to print out with only one number of the duplicated. ie;</p>\n<pre><code>int[] array1 = new int[2,4,6,8,10,12,14,16,18,20]\nint[] array1 = new int[2,4,6,8,10,10,6,7,20,20]\n</code></pre>\n<p>output:</p>\n<pre><code>2, 4, 6, 8, 10, 10, 6, 20, 20\n</code></pre>\n<p>How would I get it to only output one <code>20</code> and one <code>10</code>?</p>\n<pre><code>import java.security.SecureRandom;\n\npublic class Duplicates \n{\n\n    public static void main(String []args)\n    {\n        int[] array1 = new int[10];\n        int[] array2 = new int[10];\n\n        SecureRandom randomNumbers = new SecureRandom();\n\n        for(int i = 0; i &lt; array1.length; i++)\n        {\n            array1[i] = randomNumbers.nextInt(19);\n        }\n        for(int i = 0; i &lt; array2.length; i++)\n        {\n            array2[i] = randomNumbers.nextInt(19);\n        }\n        System.out.printf(&quot;Array 1: &quot;);\n        for(int i: array1)\n        {\n            System.out.print(i + &quot;,&quot;);\n        }\n        System.out.println();\n\n        System.out.printf(&quot;Array 2: &quot;);\n\n        for(int i: array2)\n        {\n            System.out.print(i + &quot;,&quot;);\n        }\n\n        System.out.println(&quot;\\nValues the exist in both arrays are... &quot;);\n\n        for(int i = 0; i &lt; array1.length;i++)\n        {\n            for(int j = 0; j &lt; array2.length; j++)\n            {\n                if(array1[i]==array2[j])\n                {\n                    System.out.printf(array1[i] + &quot;,&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","java-11","lombok"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692011554,"post_id":76897782,"comment_id":135563560,"body_markdown":"Does `ParameterThree` extend `ParameterOne`?","body":"Does <code>ParameterThree</code> extend <code>ParameterOne</code>?"},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1692011914,"post_id":76897782,"comment_id":135563615,"body_markdown":"No, they are independant classes.","body":"No, they are independant classes."}],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692130301,"creation_date":1692130301,"answer_id":76908862,"question_id":76897782,"body_markdown":"I am surprised it works locally because it should not. By default Spring beans are singletons and with your code example you inject the same bean in all `ClassOne`, `ClassTwo` and `ClassThree` services. In the `PostConstruct` method you just override the parameter class.\r\n\r\nTo address this, you create three `PostgresDAOImpl` repositories in a `@Configuration` annotated class and inject each one in the relevant service. If you go like this most likely you don&#39;t even need the `PostConstruct` method at all.","title":"@PostConstruct on parametrised bean","body":"<p>I am surprised it works locally because it should not. By default Spring beans are singletons and with your code example you inject the same bean in all <code>ClassOne</code>, <code>ClassTwo</code> and <code>ClassThree</code> services. In the <code>PostConstruct</code> method you just override the parameter class.</p>\n<p>To address this, you create three <code>PostgresDAOImpl</code> repositories in a <code>@Configuration</code> annotated class and inject each one in the relevant service. If you go like this most likely you don't even need the <code>PostConstruct</code> method at all.</p>\n"}],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76908862,"answer_count":1,"score":0,"last_activity_date":1692191901,"creation_date":1692005472,"question_id":76897782,"body_markdown":"I have parametrised interface and parametrised class that implements this interface. Than I inject this class into 3 services and set typeParameterClass in @PostConstruct method. 2 classes return correct typeParameterClass, but other one returns typeParameterClass from another service and not the one that was setted in this class in @PostConstruct. \r\n\r\nLike \r\n```\r\nClassOneServiceImpl.getParameter() = ClassOne.class;\r\nClassTwoServiceImpl.getParameter() = ClassTwo.class;\r\nClassThreeServiceImpl.getParameter() = ClassOne.class;\r\n```\r\n\r\nI&#39;ve added logging to initialisation, however I see that setted TypeParameterClass in setTypeParameterClass(Class&lt;T&gt; clazz) is correct. \r\n\r\nIn local environment on jdk-17 Temurin the program is working fine. \r\n\r\nAny suggestions why @PostCOnstruct not working as expected? Or may be the problem can occur in other places?\r\n\r\n```\r\npublic interface PostgresDAO&lt;T&gt; {\r\n    void setTypeParameterClass(Class&lt;T&gt; clazz);\r\n    Entity findEntityById(Long id);\r\n}\r\n\r\n\r\n@Repository\r\n@NoArgsConstructor\r\n@Getter\r\npublic class PostgresDAOImpl&lt;T&gt; implements PostgresDAO&lt;T&gt; {\r\n\r\n    private Class&lt;T&gt; typeParameterClass\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Override\r\n    public void setTypeParameterClass(Class&lt;T&gt; clazz) {\r\n        this.typeParameterClass = clazz;\r\n    }\r\n\r\n    **** some code with EntityManager\r\n    \r\n}\r\n```\r\n\r\nAnd I have 3 services that are using PostgresDAOImpl with different parameter.\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ClassOneServiceImpl implements ClassOneService {\r\n\r\n    private final PostgresDAO&lt;ParameterOne&gt; dao;\r\n\r\n    @PostConstruct\r\n    public void enrichDao() {\r\n        dao.setTypeParameterClass(ParameterOne.class);\r\n    }\r\n\r\n    public Class getParameter() {\r\n        return dao.getTypeParameterClass();\r\n    }\r\n\r\n    ***** some code\r\n\r\n}\r\n\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ClassTwoServiceImpl implements ClassTwoService {\r\n\r\n    private final PostgresDAO&lt;ParameterTwo&gt; dao;\r\n\r\n    @PostConstruct\r\n    public void enrichDao() {\r\n        dao.setTypeParameterClass(ParameterTwo.class);\r\n    }\r\n\r\n    public Class getParameter() {\r\n        return dao.getTypeParameterClass();\r\n    }\r\n\r\n    ***** some code\r\n\r\n}\r\n\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ClassThreeServiceImpl implements ClassThreeService {\r\n\r\n    private final PostgresDAO&lt;ParameterThree&gt; dao;\r\n\r\n    @PostConstruct\r\n    public void enrichDao() {\r\n        dao.setTypeParameterClass(ParameterThree.class);\r\n    }\r\n\r\n    public Class getParameter() {\r\n        return dao.getTypeParameterClass();\r\n    }\r\n\r\n    ***** some other code\r\n\r\n}\r\n```\r\n\r\njavax.annotation dependency added\r\n\r\n```\r\n        &lt;!--need for postconstruct annotation in java 11 https://www.baeldung.com/spring-postconstruct-predestroy--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nSetup \r\n- lombok 1.18.22\r\n- spring-boot 2.7.0\r\n\r\nopenjdk version &quot;11.0.4&quot; 2019-07-16 LTS\r\n\r\nOpenJDK Runtime Environment 18.9 (build 11.0.4+11-LTS)\r\n\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11-LTS, mixed mode, sharing)\r\n\r\nAnswer code:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class PostgresDAOConfig {\r\n    @Bean\r\n    public PostgresDAO&lt;ParameterOne&gt; deceptionDAO() {\r\n        PostgresDAOImpl&lt;ParameterOne&gt; result = new PostgresDAOImpl&lt;&gt;();\r\n        result.setParameterClass(ParameterOne.class);\r\n        return result;\r\n    }\r\n    @Bean\r\n    public PostgresDAO&lt;ParameterTwo&gt; deceptionDAO() {\r\n        PostgresDAOImpl&lt;ParameterTwo&gt; result = new PostgresDAOImpl&lt;&gt;();\r\n        result.setParameterClass(ParameterTwo.class);\r\n        return result;\r\n    }\r\n    @Bean\r\n    public PostgresDAO&lt;ParameterThree&gt; deceptionDAO() {\r\n        PostgresDAOImpl&lt;ParameterThree&gt; result = new PostgresDAOImpl&lt;&gt;();\r\n        result.setParameterClass(ParameterThree.class);\r\n        return result;\r\n    }\r\n}\r\n```\r\n","title":"@PostConstruct on parametrised bean","body":"<p>I have parametrised interface and parametrised class that implements this interface. Than I inject this class into 3 services and set typeParameterClass in @PostConstruct method. 2 classes return correct typeParameterClass, but other one returns typeParameterClass from another service and not the one that was setted in this class in @PostConstruct.</p>\n<p>Like</p>\n<pre><code>ClassOneServiceImpl.getParameter() = ClassOne.class;\nClassTwoServiceImpl.getParameter() = ClassTwo.class;\nClassThreeServiceImpl.getParameter() = ClassOne.class;\n</code></pre>\n<p>I've added logging to initialisation, however I see that setted TypeParameterClass in setTypeParameterClass(Class clazz) is correct.</p>\n<p>In local environment on jdk-17 Temurin the program is working fine.</p>\n<p>Any suggestions why @PostCOnstruct not working as expected? Or may be the problem can occur in other places?</p>\n<pre><code>public interface PostgresDAO&lt;T&gt; {\n    void setTypeParameterClass(Class&lt;T&gt; clazz);\n    Entity findEntityById(Long id);\n}\n\n\n@Repository\n@NoArgsConstructor\n@Getter\npublic class PostgresDAOImpl&lt;T&gt; implements PostgresDAO&lt;T&gt; {\n\n    private Class&lt;T&gt; typeParameterClass\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public void setTypeParameterClass(Class&lt;T&gt; clazz) {\n        this.typeParameterClass = clazz;\n    }\n\n    **** some code with EntityManager\n    \n}\n</code></pre>\n<p>And I have 3 services that are using PostgresDAOImpl with different parameter.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ClassOneServiceImpl implements ClassOneService {\n\n    private final PostgresDAO&lt;ParameterOne&gt; dao;\n\n    @PostConstruct\n    public void enrichDao() {\n        dao.setTypeParameterClass(ParameterOne.class);\n    }\n\n    public Class getParameter() {\n        return dao.getTypeParameterClass();\n    }\n\n    ***** some code\n\n}\n\n\n@Service\n@RequiredArgsConstructor\npublic class ClassTwoServiceImpl implements ClassTwoService {\n\n    private final PostgresDAO&lt;ParameterTwo&gt; dao;\n\n    @PostConstruct\n    public void enrichDao() {\n        dao.setTypeParameterClass(ParameterTwo.class);\n    }\n\n    public Class getParameter() {\n        return dao.getTypeParameterClass();\n    }\n\n    ***** some code\n\n}\n\n\n@Service\n@RequiredArgsConstructor\npublic class ClassThreeServiceImpl implements ClassThreeService {\n\n    private final PostgresDAO&lt;ParameterThree&gt; dao;\n\n    @PostConstruct\n    public void enrichDao() {\n        dao.setTypeParameterClass(ParameterThree.class);\n    }\n\n    public Class getParameter() {\n        return dao.getTypeParameterClass();\n    }\n\n    ***** some other code\n\n}\n</code></pre>\n<p>javax.annotation dependency added</p>\n<pre><code>        &lt;!--need for postconstruct annotation in java 11 https://www.baeldung.com/spring-postconstruct-predestroy--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Setup</p>\n<ul>\n<li>lombok 1.18.22</li>\n<li>spring-boot 2.7.0</li>\n</ul>\n<p>openjdk version &quot;11.0.4&quot; 2019-07-16 LTS</p>\n<p>OpenJDK Runtime Environment 18.9 (build 11.0.4+11-LTS)</p>\n<p>OpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11-LTS, mixed mode, sharing)</p>\n<p>Answer code:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class PostgresDAOConfig {\n    @Bean\n    public PostgresDAO&lt;ParameterOne&gt; deceptionDAO() {\n        PostgresDAOImpl&lt;ParameterOne&gt; result = new PostgresDAOImpl&lt;&gt;();\n        result.setParameterClass(ParameterOne.class);\n        return result;\n    }\n    @Bean\n    public PostgresDAO&lt;ParameterTwo&gt; deceptionDAO() {\n        PostgresDAOImpl&lt;ParameterTwo&gt; result = new PostgresDAOImpl&lt;&gt;();\n        result.setParameterClass(ParameterTwo.class);\n        return result;\n    }\n    @Bean\n    public PostgresDAO&lt;ParameterThree&gt; deceptionDAO() {\n        PostgresDAOImpl&lt;ParameterThree&gt; result = new PostgresDAOImpl&lt;&gt;();\n        result.setParameterClass(ParameterThree.class);\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","autowired"],"comments":[{"owner":{"account_id":1120990,"reputation":1117,"user_id":1109301,"accept_rate":88,"display_name":"Kannan Thangadurai"},"score":0,"creation_date":1447314709,"post_id":33666502,"comment_id":55106196,"body_markdown":"refer http://stackoverflow.com/questions/30908648/spring-autowired-vs-using-new-keyword-to-create-object","body":"refer <a href=\"http://stackoverflow.com/questions/30908648/spring-autowired-vs-using-new-keyword-to-create-object\" title=\"spring autowired vs using new keyword to create object\">stackoverflow.com/questions/30908648/&hellip;</a>"},{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":1,"creation_date":1447314745,"post_id":33666502,"comment_id":55106208,"body_markdown":"Your example may be wrong, you have two different types.","body":"Your example may be wrong, you have two different types."},{"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"score":2,"creation_date":1447314746,"post_id":33666502,"comment_id":55106209,"body_markdown":"Can you please provide more complete examples? I&#39;m not sure how your two examples relate, in first it&#39;s not clear where `userName` and `password` come from, in the second one it&#39;s unclear where `userService` comes from.","body":"Can you please provide more complete examples? I&#39;m not sure how your two examples relate, in first it&#39;s not clear where <code>userName</code> and <code>password</code> come from, in the second one it&#39;s unclear where <code>userService</code> comes from."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447314924,"creation_date":1447314924,"answer_id":33666625,"question_id":33666502,"body_markdown":"Your example doesn&#39;t make a lot of sense; this `User` class, which looks like some plain data object, isn&#39;t adding anything to the second snippet.\r\n\r\nThe idea of &quot;autowiring&quot; is that some class, like maybe a Web controller, will need a `UserService` in order to get its work done. When Spring autowires the `UserService`, it goes into the context and finds a matching object and provides it to the class that needs it. This is technically separate from creating the object.\r\n\r\nThat said, the best practice is to use *constructor injection*--simply declare the other objects you need as constructor parameters and annotate the constructor with `@Autowired` (or `@Inject`). Spring will know to look up all the dependencies you need and call the constructor with them. This means that it&#39;s also very simple to provide mocks of those objects for testing or development.","title":"What is the difference between autowiring and object creation?","body":"<p>Your example doesn't make a lot of sense; this <code>User</code> class, which looks like some plain data object, isn't adding anything to the second snippet.</p>\n\n<p>The idea of \"autowiring\" is that some class, like maybe a Web controller, will need a <code>UserService</code> in order to get its work done. When Spring autowires the <code>UserService</code>, it goes into the context and finds a matching object and provides it to the class that needs it. This is technically separate from creating the object.</p>\n\n<p>That said, the best practice is to use <em>constructor injection</em>--simply declare the other objects you need as constructor parameters and annotate the constructor with <code>@Autowired</code> (or <code>@Inject</code>). Spring will know to look up all the dependencies you need and call the constructor with them. This means that it's also very simple to provide mocks of those objects for testing or development.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447314999,"creation_date":1447314999,"answer_id":33666646,"question_id":33666502,"body_markdown":"When you use `@Autowired` you are leaving it up to the Spring framework to find and instantiate the `userService`. This is usually controlled through some configuration file or some other configuration, which allows you to change the behaviour of your application *without* changing the code itself.\r\n\r\nOn the other hand, when you instantiate the object yourself, you are specifying which object you are after and what type of class you want. This *could* leave you with less ambiguous code since you *know* what type of object is being initialized, but to make a change in your application&#39;s behaviour you would need to change your code.\r\n\r\nIn essence, the first option is *less coupled* than the second option, which is *usually* the recommended way of building things.","title":"What is the difference between autowiring and object creation?","body":"<p>When you use <code>@Autowired</code> you are leaving it up to the Spring framework to find and instantiate the <code>userService</code>. This is usually controlled through some configuration file or some other configuration, which allows you to change the behaviour of your application <em>without</em> changing the code itself.</p>\n\n<p>On the other hand, when you instantiate the object yourself, you are specifying which object you are after and what type of class you want. This <em>could</em> leave you with less ambiguous code since you <em>know</em> what type of object is being initialized, but to make a change in your application's behaviour you would need to change your code.</p>\n\n<p>In essence, the first option is <em>less coupled</em> than the second option, which is <em>usually</em> the recommended way of building things.</p>\n"},{"tags":[],"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447315089,"creation_date":1447315089,"answer_id":33666663,"question_id":33666502,"body_markdown":"Well, the main difference is that in case u use @Autowired the object is also created, however, it&#39;s created by container and container decide when to do that.\r\nI want to give you a simple example:\r\nYou have four classes 1,2,3 and 4. Three of them (1,2,3) uses the 4th. So, if you use new(), it`s hard to decide where to create object(in class 1, or 2, or 3, or even in each of them) of 4th class. Moreover, later you can delete class with object initialization and other 2 classes won&#39;t work (in case you created one object). Autowired annotation injects the object but you don&#39;t initialize object in class, so no problems appear\r\nThis is like the simplest answer.\r\n","title":"What is the difference between autowiring and object creation?","body":"<p>Well, the main difference is that in case u use @Autowired the object is also created, however, it's created by container and container decide when to do that.\nI want to give you a simple example:\nYou have four classes 1,2,3 and 4. Three of them (1,2,3) uses the 4th. So, if you use new(), it`s hard to decide where to create object(in class 1, or 2, or 3, or even in each of them) of 4th class. Moreover, later you can delete class with object initialization and other 2 classes won't work (in case you created one object). Autowired annotation injects the object but you don't initialize object in class, so no problems appear\nThis is like the simplest answer.</p>\n"},{"tags":[],"owner":{"account_id":6063356,"reputation":714,"user_id":4831142,"display_name":"Robert Ellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447318194,"creation_date":1447318194,"answer_id":33667475,"question_id":33666502,"body_markdown":"the above answers are good i would like to tell a major  difference  between them .the purpose of autowiring is to avoid the dependencies between the class \r\nif you are creating objects with new making a change to one class will effect all the classes.","title":"What is the difference between autowiring and object creation?","body":"<p>the above answers are good i would like to tell a major  difference  between them .the purpose of autowiring is to avoid the dependencies between the class \nif you are creating objects with new making a change to one class will effect all the classes.</p>\n"},{"tags":[],"owner":{"account_id":4669748,"reputation":15,"user_id":4061733,"display_name":"Malith Hirantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692191811,"creation_date":1692191811,"answer_id":76913968,"question_id":33666502,"body_markdown":"The typical use of @Autowire is to automatically fill a property, when initializing a bean, with a singleton dependency. It does not matter if it&#39;s your code or a Third Party class. You need to consider if it is part of your program&#39;s logic or if it is really a dependency that should be initialized once and reused.\r\n\r\nIf your RestTemplate needs to have the same initialization before each exchange then you can consider using @Autowire and initialize the bean in Spring&#39;s configuration. In this sense it would be similar to a DataSource, for example. But if you see it as an utility class that is used as part of the program&#39;s logic (like a connection or a file) then do not consider it for @Autowire. It will make your program more complex without a significant gain.","title":"What is the difference between autowiring and object creation?","body":"<p>The typical use of @Autowire is to automatically fill a property, when initializing a bean, with a singleton dependency. It does not matter if it's your code or a Third Party class. You need to consider if it is part of your program's logic or if it is really a dependency that should be initialized once and reused.</p>\n<p>If your RestTemplate needs to have the same initialization before each exchange then you can consider using @Autowire and initialize the bean in Spring's configuration. In this sense it would be similar to a DataSource, for example. But if you see it as an utility class that is used as part of the program's logic (like a connection or a file) then do not consider it for @Autowire. It will make your program more complex without a significant gain.</p>\n"}],"owner":{"account_id":6941698,"reputation":1659,"user_id":5327791,"accept_rate":20,"display_name":"Protagonist"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1692191811,"creation_date":1447314427,"question_id":33666502,"body_markdown":"What is the difference, if I autowire a class and provide value and instantiate an object of class and provide some value?\r\nFor example-\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n    userService.findUser(userName, password);\r\nAnd\r\n\r\n    User user = new user();\r\n    userService.findUser(user.getuserName(),user.getpassword());\r\n\r\nWhat is the difference in Autowiring and sending the data and instantiating the object and sending the data to some service class?\r\n\r\nI&#39;m trying to clarify the concepts in spring.\r\n","title":"What is the difference between autowiring and object creation?","body":"<p>What is the difference, if I autowire a class and provide value and instantiate an object of class and provide some value?\nFor example-</p>\n\n<pre><code>@Autowired\nprivate UserService userService;\nuserService.findUser(userName, password);\n</code></pre>\n\n<p>And</p>\n\n<pre><code>User user = new user();\nuserService.findUser(user.getuserName(),user.getpassword());\n</code></pre>\n\n<p>What is the difference in Autowiring and sending the data and instantiating the object and sending the data to some service class?</p>\n\n<p>I'm trying to clarify the concepts in spring.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1692169515,"post_id":76911215,"comment_id":135585692,"body_markdown":"you have two if statements and one else statement. Use if ... else-if ... else","body":"you have two if statements and one else statement. Use if ... else-if ... else"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692169779,"post_id":76911215,"comment_id":135585735,"body_markdown":"Maybe you want the if-else statement inside the first if statement? Please give appropriate examples of input, expected output and which line is printed in addition so we can better tell. Still more important, paste your code as text so we can try it out. Images of code are frowned upon here.","body":"Maybe you want the if-else statement inside the first if statement? Please give appropriate examples of input, expected output and which line is printed in addition so we can better tell. Still more important, paste your code as text so we can try it out. Images of code are frowned upon here."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1692170005,"post_id":76911215,"comment_id":135585772,"body_markdown":"Everything here is sequential. There is nothing &quot;simultaneous&quot;. Just follow the logic line by line in a sequence.","body":"Everything here is sequential. There is nothing &quot;simultaneous&quot;. Just follow the logic line by line in a sequence."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692190949,"post_id":76911215,"comment_id":135590005,"body_markdown":"Hi and welcome to Stack Overflow. I was nervous too, so know what you mean. And admitted, it takes a bit to learn to [write a good question](https://stackoverflow.com/help/how-to-ask) (not sure I have learned completely yet). Good thing is you can always edit your question to improve it, which will be welcome. If my suggestions in the previous comment were not enough or hard to grasp, there’s more help for example here: [Stack Overflow question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/).","body":"Hi and welcome to Stack Overflow. I was nervous too, so know what you mean. And admitted, it takes a bit to learn to <a href=\"https://stackoverflow.com/help/how-to-ask\">write a good question</a> (not sure I have learned completely yet). Good thing is you can always edit your question to improve it, which will be welcome. If my suggestions in the previous comment were not enough or hard to grasp, there’s more help for example here: <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">Stack Overflow question checklist</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692191800,"post_id":76911215,"comment_id":135590253,"body_markdown":"I have tried to word your question in a clearer way. I am just a little bit unsure whether I have understood it correctly, so please check. And I still suggest that you should paste your program and also the sample run (input and output) *as text* into your question so we can experiment with it ourselves and try some possible repairs out for you.","body":"I have tried to word your question in a clearer way. I am just a little bit unsure whether I have understood it correctly, so please check. And I still suggest that you should paste your program and also the sample run (input and output) <i>as text</i> into your question so we can experiment with it ourselves and try some possible repairs out for you."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692192289,"post_id":76911215,"comment_id":135590364,"body_markdown":"BTW the title &quot;...print only the if output since it is true?&quot; is wrong! [This](https://i.stack.imgur.com/MSFVr.png) `if` is **not** true since the age is 21, which is not greater nor equals to `22`","body":"BTW the title &quot;...print only the if output since it is true?&quot; is wrong! <a href=\"https://i.stack.imgur.com/MSFVr.png\" rel=\"nofollow noreferrer\">This</a> <code>if</code> is <b>not</b> true since the age is 21, which is not greater nor equals to <code>22</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692192404,"post_id":76911215,"comment_id":135590397,"body_markdown":"I think that you wanted the second `if` statement *inside* the first one, so above the right curly brace, `}`, and you wanted the `else` part belong to the first  if  statement. As your code currently stands, `else` belongs to the second `if` statement.","body":"I think that you wanted the second <code>if</code> statement <i>inside</i> the first one, so above the right curly brace, <code>}</code>, and you wanted the <code>else</code> part belong to the first  if  statement. As your code currently stands, <code>else</code> belongs to the second <code>if</code> statement."}],"answers":[{"tags":[],"owner":{"account_id":14406044,"reputation":11,"user_id":10406084,"display_name":"Eisuto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692169911,"creation_date":1692169773,"answer_id":76911266,"question_id":76911215,"body_markdown":"Because, when age = 21, the result of `if ((age&gt;=22) &amp;&amp; (age&lt;=60))` is false, so it will execute `System.out.println(&quot;Disqualified&quot;);`.\r\n\r\nEach if statement can only have one corresponding else. In your code, the first if does not have an else, while the second if does. When the second if condition is not satisfied, it will execute the corresponding else statement.\r\n\r\nHope this helps you.","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>Because, when age = 21, the result of <code>if ((age&gt;=22) &amp;&amp; (age&lt;=60))</code> is false, so it will execute <code>System.out.println(&quot;Disqualified&quot;);</code>.</p>\n<p>Each if statement can only have one corresponding else. In your code, the first if does not have an else, while the second if does. When the second if condition is not satisfied, it will execute the corresponding else statement.</p>\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":28856369,"reputation":41,"user_id":22101094,"display_name":"Henrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692170009,"creation_date":1692170009,"answer_id":76911285,"question_id":76911215,"body_markdown":"First of all it&#39;s better to paste your code directly into the question rather than taking a screenshot.See this [markdown guide][1].\r\n\r\nNow to your question, the else block only belongs to the second if (`if(age&gt;=22 &amp;&amp; age &lt;=60`) and not to the first if (`if(age&gt;=18`). What you want is `else if(age&gt;=22 &amp;&amp; age&lt;=60)`.\r\nsee https://www.javatpoint.com/java-if-else\r\n\r\n\r\n  [1]: https://stackoverflow.com/editing-help","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>First of all it's better to paste your code directly into the question rather than taking a screenshot.See this <a href=\"https://stackoverflow.com/editing-help\">markdown guide</a>.</p>\n<p>Now to your question, the else block only belongs to the second if (<code>if(age&gt;=22 &amp;&amp; age &lt;=60</code>) and not to the first if (<code>if(age&gt;=18</code>). What you want is <code>else if(age&gt;=22 &amp;&amp; age&lt;=60)</code>.\nsee <a href=\"https://www.javatpoint.com/java-if-else\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-if-else</a></p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186946,"creation_date":1692170421,"answer_id":76911335,"question_id":76911215,"body_markdown":"You should use *if , else if and else conditions* for such scenarios.\r\nI have updated the code as shown below:\r\n\r\n**Code:**\r\n\r\n    import java.util.*;\r\n    \r\n    public class Condition {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int age;\r\n            System.out.println(&quot;Enter age = &quot;);\r\n            age = in.nextInt();\r\n            if (age &gt;= 18 &amp;&amp; age &lt; 22) {\r\n                System.out.println(&quot;Qualified for DL&quot;);\r\n            } else if (age &gt;= 22 &amp;&amp; age &lt;=60){\r\n                System.out.println(&quot;Working Individuals&quot;);\r\n            } else {\r\n                System.out.println(&quot;Disqualified&quot;);\r\n            }\r\n        }\r\n    }","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>You should use <em>if , else if and else conditions</em> for such scenarios.\nI have updated the code as shown below:</p>\n<p><strong>Code:</strong></p>\n<pre><code>import java.util.*;\n\npublic class Condition {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int age;\n        System.out.println(&quot;Enter age = &quot;);\n        age = in.nextInt();\n        if (age &gt;= 18 &amp;&amp; age &lt; 22) {\n            System.out.println(&quot;Qualified for DL&quot;);\n        } else if (age &gt;= 22 &amp;&amp; age &lt;=60){\n            System.out.println(&quot;Working Individuals&quot;);\n        } else {\n            System.out.println(&quot;Disqualified&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19687312,"reputation":11,"user_id":14413007,"display_name":"Zahid Hussain Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692170507,"creation_date":1692170507,"answer_id":76911345,"question_id":76911215,"body_markdown":"I don&#39;t get what you are trying to achieve here.\r\n\r\nSo I will just eloborate your code.\r\n\r\n    // this statment gets executed if age is greater than 18.\r\n    if (age &gt;= 18) {\r\n        System.out.println(&quot;Qualified for DL&quot;);\r\n    }\r\n    \r\n    // Control comes here and checks this condition.\r\n    if (age &gt;= 22 &amp;&amp; age &lt;= 60) {\r\n        System.out.println(&quot;Working individuals&quot;);\r\n\r\n    }\r\n    // if the above condition is false then control comes to this else part \r\n    else {\r\n        System.out.println(&quot;Unqualified&quot;);\r\n    }\r\n \r\nThere are 2 different if conditions due to which 2 outputs are there.\r\n\r\n","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>I don't get what you are trying to achieve here.</p>\n<p>So I will just eloborate your code.</p>\n<pre><code>// this statment gets executed if age is greater than 18.\nif (age &gt;= 18) {\n    System.out.println(&quot;Qualified for DL&quot;);\n}\n\n// Control comes here and checks this condition.\nif (age &gt;= 22 &amp;&amp; age &lt;= 60) {\n    System.out.println(&quot;Working individuals&quot;);\n\n}\n// if the above condition is false then control comes to this else part \nelse {\n    System.out.println(&quot;Unqualified&quot;);\n}\n</code></pre>\n<p>There are 2 different if conditions due to which 2 outputs are there.</p>\n"},{"tags":[],"owner":{"account_id":28811544,"reputation":1,"user_id":22066140,"display_name":"Madhav Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692173329,"creation_date":1692173329,"answer_id":76911649,"question_id":76911215,"body_markdown":"In Java each if has a corresponding else. So when you did not write the else case for the first if. The control passes to second if case and when the second if case fails, the else case which cooresponds to the second if case gets the control and prints the output as the second if has failed.\r\nA better solution would be to use : if, else-if. In this the final else case runs only when all the if and else-ifs have failed. It is the motive here in your case too:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class RunAge {\r\n        public static void main(String[] args) {\r\n            Scanner sc= new Scanner(System.in);\r\n            System.out.println(&quot;Enter your age: &quot;);\r\n            int age=sc.nextInt();\r\n            ageChecker(age);\r\n        }\r\n        private static  void ageChecker(int age){\r\n            if(age&gt;18){\r\n                System.out.println(&quot;Try after 4 Years&quot;);\r\n            } else if (age&gt;=22 &amp;&amp; age&lt;=60) {\r\n                System.out.println(&quot;Hurrah You&#39;re eligible&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Sorry You&#39;re Disqualified&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>In Java each if has a corresponding else. So when you did not write the else case for the first if. The control passes to second if case and when the second if case fails, the else case which cooresponds to the second if case gets the control and prints the output as the second if has failed.\nA better solution would be to use : if, else-if. In this the final else case runs only when all the if and else-ifs have failed. It is the motive here in your case too:</p>\n<pre><code>import java.util.Scanner;\n\npublic class RunAge {\n    public static void main(String[] args) {\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;Enter your age: &quot;);\n        int age=sc.nextInt();\n        ageChecker(age);\n    }\n    private static  void ageChecker(int age){\n        if(age&gt;18){\n            System.out.println(&quot;Try after 4 Years&quot;);\n        } else if (age&gt;=22 &amp;&amp; age&lt;=60) {\n            System.out.println(&quot;Hurrah You're eligible&quot;);\n        }\n        else {\n            System.out.println(&quot;Sorry You're Disqualified&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692189976,"creation_date":1692189976,"answer_id":76913685,"question_id":76911215,"body_markdown":"When you are using an `if` statement remember this -&gt;\r\n\r\n`if` - Executes the body if the parameters return true.\r\n\r\n`else if` - Executes the body if the parameters return true and the previous `if`/`else if` statement was false.\r\n\r\n`else` - Executes the body if all the previous `if` statements return false.\r\n\r\nEach `if` statement can get continued by an `else`/`else if` statement which I call a chain. When you create a new `if` statement then the previous chain is ended. Which means if you write another `if` statement and write and `else` it will only run based on which chain it is.\r\n\r\n**So what is the mistake you are making?** Well take a look at your if statements\r\n```\r\nif(age&gt;=18) {\r\n\tSystem.out.println(&quot;Qualified for DL&quot;);\r\n}\r\n\r\nif((age&gt;=22) &amp;&amp; (age&lt;=60)) {\r\n\tSystem.out.println(&quot;Working individuals&quot;);\r\n}\r\n\r\nelse {\r\n\tSystem.out.println(&quot;Disqualified&quot;);\r\n}\r\n```\r\nThe first `if` statement runs as usual so it moves on to the second `if` statement. Now using what we had learned earlier we can see that the `else` statement runs when `if((age&gt;=22) &amp;&amp; (age&lt;=60))` is false because it is in it&#39;s chain. In your case, 21 is less that 22 so that statement is false, which means it runs the `else` statement\r\n\r\n**How can you fix this problem?**\r\nChange the second `if` statement into and `else if`. Here&#39;s the fixed code\r\n```\r\nif(age&gt;=18) {\r\n\tSystem.out.println(&quot;Qualified for DL&quot;);\r\n}\r\n\r\nelse if((age&gt;=22) &amp;&amp; (age&lt;=60)) {\r\n\tSystem.out.println(&quot;Working individuals&quot;);\r\n}\r\n\r\nelse {\r\n\tSystem.out.println(&quot;Disqualified&quot;);\r\n}\r\n```","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>When you are using an <code>if</code> statement remember this -&gt;</p>\n<p><code>if</code> - Executes the body if the parameters return true.</p>\n<p><code>else if</code> - Executes the body if the parameters return true and the previous <code>if</code>/<code>else if</code> statement was false.</p>\n<p><code>else</code> - Executes the body if all the previous <code>if</code> statements return false.</p>\n<p>Each <code>if</code> statement can get continued by an <code>else</code>/<code>else if</code> statement which I call a chain. When you create a new <code>if</code> statement then the previous chain is ended. Which means if you write another <code>if</code> statement and write and <code>else</code> it will only run based on which chain it is.</p>\n<p><strong>So what is the mistake you are making?</strong> Well take a look at your if statements</p>\n<pre><code>if(age&gt;=18) {\n    System.out.println(&quot;Qualified for DL&quot;);\n}\n\nif((age&gt;=22) &amp;&amp; (age&lt;=60)) {\n    System.out.println(&quot;Working individuals&quot;);\n}\n\nelse {\n    System.out.println(&quot;Disqualified&quot;);\n}\n</code></pre>\n<p>The first <code>if</code> statement runs as usual so it moves on to the second <code>if</code> statement. Now using what we had learned earlier we can see that the <code>else</code> statement runs when <code>if((age&gt;=22) &amp;&amp; (age&lt;=60))</code> is false because it is in it's chain. In your case, 21 is less that 22 so that statement is false, which means it runs the <code>else</code> statement</p>\n<p><strong>How can you fix this problem?</strong>\nChange the second <code>if</code> statement into and <code>else if</code>. Here's the fixed code</p>\n<pre><code>if(age&gt;=18) {\n    System.out.println(&quot;Qualified for DL&quot;);\n}\n\nelse if((age&gt;=22) &amp;&amp; (age&lt;=60)) {\n    System.out.println(&quot;Working individuals&quot;);\n}\n\nelse {\n    System.out.println(&quot;Disqualified&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":29234677,"reputation":11,"user_id":22397550,"display_name":"He-Man1350"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1692191596,"creation_date":1692169348,"question_id":76911215,"body_markdown":"My program was supposed to print “Qualified” if the age entered is 18 or higher, and “Disqualified” if under 18. But if I enter for example 21, it prints *both*, which the user obviously sees as a self contradiction. Since the condition `age&gt;=18` is true, it should print only “Qualified”. Why does it print “Disqualified” too?\r\n\r\nThe image shows my code (left) and a sample run with unexpected output (right).\r\n\r\n[![Code and sample run][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3DauA.jpg","title":"Why does my code print both if and else statement? Rather it should print only the if output since it is true?","body":"<p>My program was supposed to print “Qualified” if the age entered is 18 or higher, and “Disqualified” if under 18. But if I enter for example 21, it prints <em>both</em>, which the user obviously sees as a self contradiction. Since the condition <code>age&gt;=18</code> is true, it should print only “Qualified”. Why does it print “Disqualified” too?</p>\n<p>The image shows my code (left) and a sample run with unexpected output (right).</p>\n<p><a href=\"https://i.stack.imgur.com/3DauA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3DauA.jpg\" alt=\"Code and sample run\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5928656,"reputation":683,"user_id":4663831,"display_name":"Nithin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692191532,"creation_date":1586191354,"answer_id":61064721,"question_id":61062721,"body_markdown":"I think you misunderstood the meaning of the `lazy` flag you are passing,\r\nIt means that the object will be created only when it is invoked but it does not say that it will not scan that package. Spring will scan all packages and store bean definition names but it will create the objects only when it is invoked, if you have passed the `lazy` flag to it.\r\n\r\nYou can verify this behaviour by checking the number of beans created when you pass the `lazy` flag as true and false.\r\nyou can check it as given below\r\n\r\n```\r\nApplicationContext context = SpringApplication.run(SpringBootApplication.class, args);\r\nSystem.out.println(&quot;count:&quot;+context.getBeanDefinitionCount());\r\n```   \r\n#### Edit on Apr/7th 2020 start\r\n\r\nAnother way to do that is create  a constructor and use that to inject the autowired properties and print out a log when they enter the constructor.\r\n\r\nI did the same in a sample project and below is he result, first one is for eager initialization and next one for lazy.\r\n\r\n`spring.main.lazy-initialization=false`\r\nApplication logs \r\n```\r\nInside Constructor\r\ncalling bean\r\ninside bean method\r\n```\r\n\r\n`spring.main.lazy-initialization=true`\r\nApplication logs \r\n```\r\ncalling bean\r\nInside Constructor\r\ninside bean method\r\n```\r\n\r\n#### Edit on Apr/7th 2020 end\r\n\r\nPlease mark this as answered if I answered your question.\r\nThank you","title":"How to Lazy load all the Spring beans whether it is defined by @Bean or @Component in Springboot 2.2","body":"<p>I think you misunderstood the meaning of the <code>lazy</code> flag you are passing,\nIt means that the object will be created only when it is invoked but it does not say that it will not scan that package. Spring will scan all packages and store bean definition names but it will create the objects only when it is invoked, if you have passed the <code>lazy</code> flag to it.</p>\n<p>You can verify this behaviour by checking the number of beans created when you pass the <code>lazy</code> flag as true and false.\nyou can check it as given below</p>\n<pre><code>ApplicationContext context = SpringApplication.run(SpringBootApplication.class, args);\nSystem.out.println(&quot;count:&quot;+context.getBeanDefinitionCount());\n</code></pre>\n<h4>Edit on Apr/7th 2020 start</h4>\n<p>Another way to do that is create  a constructor and use that to inject the autowired properties and print out a log when they enter the constructor.</p>\n<p>I did the same in a sample project and below is he result, first one is for eager initialization and next one for lazy.</p>\n<p><code>spring.main.lazy-initialization=false</code>\nApplication logs</p>\n<pre><code>Inside Constructor\ncalling bean\ninside bean method\n</code></pre>\n<p><code>spring.main.lazy-initialization=true</code>\nApplication logs</p>\n<pre><code>calling bean\nInside Constructor\ninside bean method\n</code></pre>\n<h4>Edit on Apr/7th 2020 end</h4>\n<p>Please mark this as answered if I answered your question.\nThank you</p>\n"},{"tags":[],"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623853458,"creation_date":1623853458,"answer_id":68004623,"question_id":61062721,"body_markdown":"Long story short:\r\nFor anyone wanting to lazily initialize their whole Spring Boot context, setting this property to true is the way to go:\r\n\r\n    spring.main.lazy-initialization=true\r\n\r\n**Pro tip:** \r\nIt can be used in combination with the ***@Lazy*** annotation, set to false; so all the defined beans will use lazy initialization, except for those that we explicitly configure with ***@Lazy(false)***.\r\n\r\nIn such a way, the lazy initialization becomes **opt-out** instead of the default **opt-in**.\r\n\r\n","title":"How to Lazy load all the Spring beans whether it is defined by @Bean or @Component in Springboot 2.2","body":"<p>Long story short:\nFor anyone wanting to lazily initialize their whole Spring Boot context, setting this property to true is the way to go:</p>\n<pre><code>spring.main.lazy-initialization=true\n</code></pre>\n<p><strong>Pro tip:</strong>\nIt can be used in combination with the <em><strong>@Lazy</strong></em> annotation, set to false; so all the defined beans will use lazy initialization, except for those that we explicitly configure with <em><strong>@Lazy(false)</strong></em>.</p>\n<p>In such a way, the lazy initialization becomes <strong>opt-out</strong> instead of the default <strong>opt-in</strong>.</p>\n"}],"owner":{"account_id":8327519,"reputation":1743,"user_id":6257144,"display_name":"CodeTalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61064721,"answer_count":2,"score":3,"last_activity_date":1692191532,"creation_date":1586185244,"question_id":61062721,"body_markdown":"I am writing a spring application which is interactive and basically handles lots of commands like create, list, update, delete various types of resources. \r\n\r\nFor now, just assume a single run of the application handles only a single command and the program exits.\r\n\r\nFor all the classes to validate command, execute the command, required factory classes for each resource there is a separate class and each class is annotated with `@Component` annotation for spring to manage all the components. \r\n\r\nThere are also some of the manually defined beans by `@Bean` method.\r\n\r\nNow that my application first identifies what kind of command is executed (create, delete, list, update, etc), I want the only beans of that command to be created and Autowired wherever required (after taking command from user) and I want to avoid the creation of dozens of beans related to other commands.\r\n\r\nOn searching, I came to know about *Lazy instantiation* of Beans that spring provides. \r\nHowever, I am not sure if it is the weapon I am searching for.\r\n\r\n**What I tried**\r\n\r\n - Very first I found @Lazy annotation, but since I want to lazily load all the Beans, I don&#39;t want to write @Lazy everywhere in each class. \r\n - Then I found setting below property in application.yml does the work.\r\n\r\n```\r\nspring:\r\n  main:\r\n    lazy-initialization: true\r\n```\r\n\r\nI tried that but still, it is not lazily creating the beans.\r\n\r\n\r\nMy *application.yml* files looks like this \r\n\r\n```\r\nspring:\r\n  main:\r\n    lazy-initialization: true\r\n```\r\n\r\nMy main *SpringBootApplication* file looks like this:\r\n\r\n```\r\n@Slf4j\r\n@SpringBootApplication\r\npublic class SpringBootApplication {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Loading Application...&quot;);\r\n        ApplicationContext context = SpringApplication.run(SpringBootApplication.class, args);\r\n\r\n\r\n\r\n        final AtomicInteger counter = new AtomicInteger(0);\r\n        log.info(&quot;**************** START: Total Bean Objects: {} ******************&quot;, context.getBeanDefinitionCount());\r\n\r\n        Arrays.asList(context.getBeanDefinitionNames())\r\n                .forEach(beanName -&gt; {\r\n                    log.info(&quot;{}) Bean Name: {} &quot;, counter.incrementAndGet(), beanName);\r\n                });\r\n\r\n        log.info(&quot;**************** END: Total Bean: {} ******************&quot;, context.getBeanDefinitionCount());\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy other classes looks like this:\r\n\r\n```\r\n\r\n@Component\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class MyClass1 implements ResourceCreator&lt;MyClass2, MyClass3&gt; {\r\n    private final RequestValidatorImpl requestValidator;\r\n    private final ResourceCreator resourceCreator;\r\n\r\n@Override\r\npublic MyClass2 toImplementFunction(MyClass3 myclass3) {\r\n//logic\r\n}\r\n\r\n```\r\n\r\nOn running the application, It prints all the classes where I annotated @Component as well as beans created by @Bean method.\r\n\r\nI have also tried using below in `Application.properties` but still no use.\r\n```\r\nspring.main.lazy-initialization=true\r\n```\r\n\r\nAlso, if you wish, please comment on whether I should use @Component for each Class like I am using or not and what is better practice instead.","title":"How to Lazy load all the Spring beans whether it is defined by @Bean or @Component in Springboot 2.2","body":"<p>I am writing a spring application which is interactive and basically handles lots of commands like create, list, update, delete various types of resources. </p>\n\n<p>For now, just assume a single run of the application handles only a single command and the program exits.</p>\n\n<p>For all the classes to validate command, execute the command, required factory classes for each resource there is a separate class and each class is annotated with <code>@Component</code> annotation for spring to manage all the components. </p>\n\n<p>There are also some of the manually defined beans by <code>@Bean</code> method.</p>\n\n<p>Now that my application first identifies what kind of command is executed (create, delete, list, update, etc), I want the only beans of that command to be created and Autowired wherever required (after taking command from user) and I want to avoid the creation of dozens of beans related to other commands.</p>\n\n<p>On searching, I came to know about <em>Lazy instantiation</em> of Beans that spring provides. \nHowever, I am not sure if it is the weapon I am searching for.</p>\n\n<p><strong>What I tried</strong></p>\n\n<ul>\n<li>Very first I found @Lazy annotation, but since I want to lazily load all the Beans, I don't want to write @Lazy everywhere in each class. </li>\n<li>Then I found setting below property in application.yml does the work.</li>\n</ul>\n\n<pre><code>spring:\n  main:\n    lazy-initialization: true\n</code></pre>\n\n<p>I tried that but still, it is not lazily creating the beans.</p>\n\n<p>My <em>application.yml</em> files looks like this </p>\n\n<pre><code>spring:\n  main:\n    lazy-initialization: true\n</code></pre>\n\n<p>My main <em>SpringBootApplication</em> file looks like this:</p>\n\n<pre><code>@Slf4j\n@SpringBootApplication\npublic class SpringBootApplication {\n    public static void main(String[] args) {\n        System.out.println(\"Loading Application...\");\n        ApplicationContext context = SpringApplication.run(SpringBootApplication.class, args);\n\n\n\n        final AtomicInteger counter = new AtomicInteger(0);\n        log.info(\"**************** START: Total Bean Objects: {} ******************\", context.getBeanDefinitionCount());\n\n        Arrays.asList(context.getBeanDefinitionNames())\n                .forEach(beanName -&gt; {\n                    log.info(\"{}) Bean Name: {} \", counter.incrementAndGet(), beanName);\n                });\n\n        log.info(\"**************** END: Total Bean: {} ******************\", context.getBeanDefinitionCount());\n    }\n}\n\n</code></pre>\n\n<p>My other classes looks like this:</p>\n\n<pre><code>\n@Component\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class MyClass1 implements ResourceCreator&lt;MyClass2, MyClass3&gt; {\n    private final RequestValidatorImpl requestValidator;\n    private final ResourceCreator resourceCreator;\n\n@Override\npublic MyClass2 toImplementFunction(MyClass3 myclass3) {\n//logic\n}\n\n</code></pre>\n\n<p>On running the application, It prints all the classes where I annotated @Component as well as beans created by @Bean method.</p>\n\n<p>I have also tried using below in <code>Application.properties</code> but still no use.</p>\n\n<pre><code>spring.main.lazy-initialization=true\n</code></pre>\n\n<p>Also, if you wish, please comment on whether I should use @Component for each Class like I am using or not and what is better practice instead.</p>\n"},{"tags":["java","spring-boot","testing","mockito"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692191089,"post_id":76913729,"comment_id":135590041,"body_markdown":"Please share some more error logs that you are getting while running the test case.","body":"Please share some more error logs that you are getting while running the test case."},{"owner":{"account_id":29146166,"reputation":11,"user_id":22328037,"display_name":"DRn"},"score":0,"creation_date":1692191610,"post_id":76913729,"comment_id":135590190,"body_markdown":"@GD07     i added it","body":"@GD07     i added it"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692191770,"post_id":76913729,"comment_id":135590243,"body_markdown":"Have you override the toString method? Please check that method once.","body":"Have you override the toString method? Please check that method once."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1692202284,"post_id":76913729,"comment_id":135592586,"body_markdown":"`when(service.verifyStock(anyList())` is definitely wrong. Your service is not a mock. And if it were, what are you testing? (Correct: you are only testing mockito and _nothing_ of your production code)","body":"<code>when(service.verifyStock(anyList())</code> is definitely wrong. Your service is not a mock. And if it were, what are you testing? (Correct: you are only testing mockito and <i>nothing</i> of your production code)"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1692224745,"post_id":76913729,"comment_id":135596363,"body_markdown":"can u show the service class code as well ?","body":"can u show the service class code as well ?"}],"owner":{"account_id":29146166,"reputation":11,"user_id":22328037,"display_name":"DRn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692191437,"creation_date":1692190205,"question_id":76913729,"body_markdown":"I want to test my method using mockito but I got an error `ArrayList cannot be returned by toString()`, below my code:\r\n\r\nMethod : \r\n\r\n    `    @Transactional(readOnly = true)\r\n        @Override\r\n        public List&lt;InventoryInfo&gt; verifyStock(List&lt;InventoryInfo&gt; inventoryList) {\r\n            return inventoryList.stream()\r\n                                .map(inventory -&gt; {\r\n                                    int availableQuantity = sumAvailableBySkuAndMerchantId(inventory.getSku(), inventory.getMerchantId());\r\n                                    inventory.setAvailable(availableQuantity &gt;= inventory.getAvailableQuantity());\r\n                                    log.info(&quot;Available quantity for sku {} and merchant ID {} is {}&quot;, inventory.getSku(), inventory.getMerchantId(), availableQuantity);\r\n                                    return inventory;\r\n                                })\r\n                                .collect(Collectors.toList());\r\n        }`\r\n\r\n\r\nthe mockito test where i got the error  : \r\n\r\n    `\r\n    @ExtendWith(MockitoExtension.class)\r\n    class StandardInventoryInfraServiceTest {\r\n    \r\n    \r\n        @InjectMocks\r\n        private StandardInventoryInfraService service;\r\n    \r\n        @Mock\r\n        private InventoryRepository repository;\r\n        @Test\r\n        public void testVerifyStock() {\r\n            List&lt;InventoryInfo&gt; mockInventoryList = Arrays.asList(\r\n                    new InventoryInfo(1L, &quot;product1&quot;, 2, false),\r\n                    new InventoryInfo(1L, &quot;product2&quot;, 2, false));\r\n    \r\n            when(service.verifyStock(anyList())).thenReturn(mockInventoryList);\r\n    \r\n            verify(service, times(1)).verifyStock(mockInventoryList);\r\n        }\r\n    \r\n    }`\r\n\r\n    \r\nHow can i fix the error please? \r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    ArrayList cannot be returned by toString()\r\n    toString() should return String\r\n    ***\r\n\r\n","title":"How to dix error ArrayList cannot be returned by toString() in mock test?","body":"<p>I want to test my method using mockito but I got an error <code>ArrayList cannot be returned by toString()</code>, below my code:</p>\n<p>Method :</p>\n<pre><code>`    @Transactional(readOnly = true)\n    @Override\n    public List&lt;InventoryInfo&gt; verifyStock(List&lt;InventoryInfo&gt; inventoryList) {\n        return inventoryList.stream()\n                            .map(inventory -&gt; {\n                                int availableQuantity = sumAvailableBySkuAndMerchantId(inventory.getSku(), inventory.getMerchantId());\n                                inventory.setAvailable(availableQuantity &gt;= inventory.getAvailableQuantity());\n                                log.info(&quot;Available quantity for sku {} and merchant ID {} is {}&quot;, inventory.getSku(), inventory.getMerchantId(), availableQuantity);\n                                return inventory;\n                            })\n                            .collect(Collectors.toList());\n    }`\n</code></pre>\n<p>the mockito test where i got the error  :</p>\n<pre><code>`\n@ExtendWith(MockitoExtension.class)\nclass StandardInventoryInfraServiceTest {\n\n\n    @InjectMocks\n    private StandardInventoryInfraService service;\n\n    @Mock\n    private InventoryRepository repository;\n    @Test\n    public void testVerifyStock() {\n        List&lt;InventoryInfo&gt; mockInventoryList = Arrays.asList(\n                new InventoryInfo(1L, &quot;product1&quot;, 2, false),\n                new InventoryInfo(1L, &quot;product2&quot;, 2, false));\n\n        when(service.verifyStock(anyList())).thenReturn(mockInventoryList);\n\n        verify(service, times(1)).verifyStock(mockInventoryList);\n    }\n\n}`\n</code></pre>\n<p>How can i fix the error please?</p>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nArrayList cannot be returned by toString()\ntoString() should return String\n***\n</code></pre>\n"},{"tags":["java","dictionary","stream"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1692187280,"post_id":76913326,"comment_id":135589148,"body_markdown":"Please post the error as text, not an image of text.","body":"Please post the error as text, not an image of text."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1692187385,"post_id":76913326,"comment_id":135589171,"body_markdown":"1) The conditional operator is supposed to return a value. `setName` returns nothing. 2) `map` expects a lambda that returns a value. What do you expect that conditional operator to return?","body":"1) The conditional operator is supposed to return a value. <code>setName</code> returns nothing. 2) <code>map</code> expects a lambda that returns a value. What do you expect that conditional operator to return?"},{"owner":{"account_id":29236647,"reputation":11,"user_id":22399143,"display_name":"Legday"},"score":0,"creation_date":1692187842,"post_id":76913326,"comment_id":135589266,"body_markdown":"Changing the return value from setName() from void to String solved the problem. thank you!","body":"Changing the return value from setName() from void to String solved the problem. thank you!"}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692191320,"creation_date":1692187967,"answer_id":76913437,"question_id":76913326,"body_markdown":"You use `map` when you want to change each value of the stream. This means that the lambda you put inside `map` must have a return type. In your case however, `setName` is a `void` function.\r\n\r\nUsing `map` is therefore not the correct function to use when you want to do side effects, like mutating a property. You could use the `.peek`-method instead for this, but in your case I would rather just use a normal for-loop. Streams are not really the tool for the job when you are only doing side-effecting operations.\r\n\r\nWith peek:\r\n```java\r\ncustomerList.stream()\r\n    .peek(x -&gt; x.getAge() &gt;= 20 \r\n        ? x.setName(x.getName() + &quot; 5000원&quot;)\r\n        : x.setName(x.getName() + &quot; 무료&quot;))\r\n    .forEach(System.out::println);\r\n```\r\n\r\nWith a for-loop:\r\n```java\r\nfor (var customer : customerList) {\r\n    var newName = customer.getAge() &gt;= 20 \r\n        ? customer.getName() + &quot; 5000원&quot;\r\n        : customer.getName() + &quot; 무료&quot;;\r\n\r\n    customer.setName(newName);\r\n    System.out.println(customer);\r\n}\r\n```","title":"Java8 Stream() throws an error when using ternary operator using lambda expression in map() method","body":"<p>You use <code>map</code> when you want to change each value of the stream. This means that the lambda you put inside <code>map</code> must have a return type. In your case however, <code>setName</code> is a <code>void</code> function.</p>\n<p>Using <code>map</code> is therefore not the correct function to use when you want to do side effects, like mutating a property. You could use the <code>.peek</code>-method instead for this, but in your case I would rather just use a normal for-loop. Streams are not really the tool for the job when you are only doing side-effecting operations.</p>\n<p>With peek:</p>\n<pre class=\"lang-java prettyprint-override\"><code>customerList.stream()\n    .peek(x -&gt; x.getAge() &gt;= 20 \n        ? x.setName(x.getName() + &quot; 5000원&quot;)\n        : x.setName(x.getName() + &quot; 무료&quot;))\n    .forEach(System.out::println);\n</code></pre>\n<p>With a for-loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (var customer : customerList) {\n    var newName = customer.getAge() &gt;= 20 \n        ? customer.getName() + &quot; 5000원&quot;\n        : customer.getName() + &quot; 무료&quot;;\n\n    customer.setName(newName);\n    System.out.println(customer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692189631,"creation_date":1692188870,"answer_id":76913547,"question_id":76913326,"body_markdown":"Here, it seems there is no need to use the `map` function instead you can iterate over the list using `forEach` in which you can update the attribute name of the object based on the condition and print the output as shown below:\r\n\r\n**Code:**\r\n\r\n    customerList.forEach(x -&gt; {\r\n                if(x.getAge()&gt;=20){\r\n                    x.setName(x.getName() + &quot; 5000원&quot;);\r\n                } else {\r\n                    x.setName(x.getName() + &quot; 무료&quot;);\r\n                }\r\n                System.out.println(x);\r\n        });\r\n\r\n**Output:**\r\n\r\n    미술관 입장료\r\n    ==================\r\n    Customer{name=&#39;챈들러 5000원&#39;, age=50}\r\n    Customer{name=&#39;레이첼 5000원&#39;, age=42}\r\n    Customer{name=&#39;모니카 5000원&#39;, age=21}\r\n    Customer{name=&#39;벤자민 무료&#39;, age=18}\r\n    Customer{name=&#39;제임스 무료&#39;, age=5}","title":"Java8 Stream() throws an error when using ternary operator using lambda expression in map() method","body":"<p>Here, it seems there is no need to use the <code>map</code> function instead you can iterate over the list using <code>forEach</code> in which you can update the attribute name of the object based on the condition and print the output as shown below:</p>\n<p><strong>Code:</strong></p>\n<pre><code>customerList.forEach(x -&gt; {\n            if(x.getAge()&gt;=20){\n                x.setName(x.getName() + &quot; 5000원&quot;);\n            } else {\n                x.setName(x.getName() + &quot; 무료&quot;);\n            }\n            System.out.println(x);\n    });\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>미술관 입장료\n==================\nCustomer{name='챈들러 5000원', age=50}\nCustomer{name='레이첼 5000원', age=42}\nCustomer{name='모니카 5000원', age=21}\nCustomer{name='벤자민 무료', age=18}\nCustomer{name='제임스 무료', age=5}\n</code></pre>\n"}],"owner":{"account_id":29236647,"reputation":11,"user_id":22399143,"display_name":"Legday"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692191320,"creation_date":1692187062,"question_id":76913326,"body_markdown":"```java\r\npackage chap_10;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n/**\r\n * 손님 이름 및 나이 정보를 위한 Customer 클래스 생성\r\n * 입장료는 1인당 5000원 고정\r\n * 20세 이상의 손님들에게만 입장료 부과( 그 외에는 무료 )\r\n */\r\npublic class _Quiz_10 {\r\n    public static void main(String[] args) {\r\n        List&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\r\n\r\n        customerList.add(new Customer(&quot;챈들러&quot;,50));\r\n        customerList.add(new Customer(&quot;레이첼&quot;, 42));\r\n        customerList.add(new Customer(&quot;모니카&quot;, 21));\r\n        customerList.add(new Customer(&quot;벤자민&quot;, 18));\r\n        customerList.add(new Customer(&quot;제임스&quot;, 5));\r\n\r\n        System.out.println(&quot;미술관 입장료&quot;);\r\n        System.out.println(&quot;==================&quot;);\r\n\r\n        customerList.stream()\r\n                .map(x-&gt;x.getAge()&gt;=20 ? x.setName(x.getName() + &quot; 5000원&quot;):x.setName(x.getName()+ &quot; 무료&quot;)) // error\r\n                .forEach(System.out::println);\r\n\r\n    }\r\n}\r\n\r\nclass Customer{\r\n    private String name;\r\n    private int age;\r\n\r\n    public Customer(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\nBy using the conditional operator in the map() function, if the age is 20 or more, &#39;5000 won&#39; is attached to the end of the string, and otherwise, &#39;free&#39; is tried, but an error occurs.\r\n\r\nIn the Customer class, setter and getter are used to compare the value using the ternary operator, and if it is true, a new string is inserted using setName(), but the following error appears.\r\n[enter image description here](https://i.stack.imgur.com/i8QFM.png)","title":"Java8 Stream() throws an error when using ternary operator using lambda expression in map() method","body":"<pre class=\"lang-java prettyprint-override\"><code>package chap_10;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n/**\n * 손님 이름 및 나이 정보를 위한 Customer 클래스 생성\n * 입장료는 1인당 5000원 고정\n * 20세 이상의 손님들에게만 입장료 부과( 그 외에는 무료 )\n */\npublic class _Quiz_10 {\n    public static void main(String[] args) {\n        List&lt;Customer&gt; customerList = new ArrayList&lt;&gt;();\n\n        customerList.add(new Customer(&quot;챈들러&quot;,50));\n        customerList.add(new Customer(&quot;레이첼&quot;, 42));\n        customerList.add(new Customer(&quot;모니카&quot;, 21));\n        customerList.add(new Customer(&quot;벤자민&quot;, 18));\n        customerList.add(new Customer(&quot;제임스&quot;, 5));\n\n        System.out.println(&quot;미술관 입장료&quot;);\n        System.out.println(&quot;==================&quot;);\n\n        customerList.stream()\n                .map(x-&gt;x.getAge()&gt;=20 ? x.setName(x.getName() + &quot; 5000원&quot;):x.setName(x.getName()+ &quot; 무료&quot;)) // error\n                .forEach(System.out::println);\n\n    }\n}\n\nclass Customer{\n    private String name;\n    private int age;\n\n    public Customer(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p>By using the conditional operator in the map() function, if the age is 20 or more, '5000 won' is attached to the end of the string, and otherwise, 'free' is tried, but an error occurs.</p>\n<p>In the Customer class, setter and getter are used to compare the value using the ternary operator, and if it is true, a new string is inserted using setName(), but the following error appears.\n<a href=\"https://i.stack.imgur.com/i8QFM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","java-17","offsetdatetime"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1692191041,"post_id":76913790,"comment_id":135590021,"body_markdown":"The best clock available on your colleague&#39;s machine is just not as good as yours. It is not required that `now` should give you a different value every time you call it. Just don&#39;t expect this behaviour and you&#39;re fine.","body":"The best clock available on your colleague&#39;s machine is just not as good as yours. It is not required that <code>now</code> should give you a different value every time you call it. Just don&#39;t expect this behaviour and you&#39;re fine."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692202052,"post_id":76913790,"comment_id":135592548,"body_markdown":"It&#39;s not even required that OffsetDateTime.now() give you an ascending value over time.  (And not likely that it does 100% of the time.)","body":"It&#39;s not even required that OffsetDateTime.now() give you an ascending value over time.  (And not likely that it does 100% of the time.)"}],"owner":{"account_id":18852824,"reputation":3,"user_id":13751555,"display_name":"Reda Red"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692191215,"answer_count":0,"score":0,"last_activity_date":1692191023,"creation_date":1692190681,"question_id":76913790,"body_markdown":"I&#39;ve encountered a peculiar issue while using OffsetDateTime.now() in my Java code. On my machine, repeated calls to OffsetDateTime.now() return different values each time, which is what I expect. However, on my colleague&#39;s Windows machine, multiple consecutive calls to OffsetDateTime.now() are returning the same value, as if there&#39;s a temporary freeze in the values.\r\n\r\nHere&#39;s a snippet of the test code I&#39;m using:\r\n\r\n```\r\n@Test\r\nvoid should_() {\r\n    // Given\r\n    for (int i = 0; i &lt; 20; i++) {\r\n        System.out.println(&quot;OffsetDateTime.now() = &quot; + OffsetDateTime.now());\r\n    }\r\n    // When\r\n\r\n    // Then\r\n}\r\n```\r\nAnd here&#39;s a sample of the result we&#39;re observing on my colleague&#39;s machine:\r\n\r\n```\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.125425800+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\r\n```\r\n\r\nWhy might this be happening and how could I effectively handle this issue?\r\n","title":"Unusual Behavior of OffsetDateTime.now() on Different Machines","body":"<p>I've encountered a peculiar issue while using OffsetDateTime.now() in my Java code. On my machine, repeated calls to OffsetDateTime.now() return different values each time, which is what I expect. However, on my colleague's Windows machine, multiple consecutive calls to OffsetDateTime.now() are returning the same value, as if there's a temporary freeze in the values.</p>\n<p>Here's a snippet of the test code I'm using:</p>\n<pre><code>@Test\nvoid should_() {\n    // Given\n    for (int i = 0; i &lt; 20; i++) {\n        System.out.println(&quot;OffsetDateTime.now() = &quot; + OffsetDateTime.now());\n    }\n    // When\n\n    // Then\n}\n</code></pre>\n<p>And here's a sample of the result we're observing on my colleague's machine:</p>\n<pre><code>OffsetDateTime.now() = 2023-08-16T12:28:42.125425800+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.127644700+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\nOffsetDateTime.now() = 2023-08-16T12:28:42.128145600+02:00\n</code></pre>\n<p>Why might this be happening and how could I effectively handle this issue?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1692191044,"post_id":76913651,"comment_id":135590022,"body_markdown":"`int alpha = (int)(0.59 * 255)` or `int alpha = 255 * 59 / 100`  (evaluation order **is** important)","body":"<code>int alpha = (int)(0.59 * 255)</code> or <code>int alpha = 255 * 59 &#47; 100</code>  (evaluation order <b>is</b> important)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692193628,"post_id":76913651,"comment_id":135590695,"body_markdown":"But also note that Swing does not handle semi-transparency very well or with ease. For example, please check out [MadProgrammer&#39;s answer here](https://stackoverflow.com/a/20876300/)","body":"But also note that Swing does not handle semi-transparency very well or with ease. For example, please check out <a href=\"https://stackoverflow.com/a/20876300/\">MadProgrammer&#39;s answer here</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692193853,"post_id":76913651,"comment_id":135590741,"body_markdown":"Also, please note that ChatGPT is a very convincing bullshit generator and its output should not be trusted. For example, the code above is in error (as noted both above and below) and recommends use of known poor Swing practices, such as calling `setBounds(...)` on Swing components.","body":"Also, please note that ChatGPT is a very convincing bullshit generator and its output should not be trusted. For example, the code above is in error (as noted both above and below) and recommends use of known poor Swing practices, such as calling <code>setBounds(...)</code> on Swing components."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692190632,"creation_date":1692190632,"answer_id":76913784,"question_id":76913651,"body_markdown":"Change `alpha` from an `int` to a `double` then add a `int` cast when creating the color else the value of `alpha` is going to be 0.\r\nTry this -&gt;\r\n```\r\ndouble alpha= 0.59*255;\r\n        \r\nJLabel LoginNameText=new JLabel();\r\nLoginNameText.setBounds(0,170,500,100);\r\nLoginNameText.setText(&quot;Name&quot;);\r\nLoginNameText.setFont(new Font(&quot;Arials&quot;,Font.BOLD,30));\r\nLoginNameText.setForeground(new Color(30,30,30,(int) alpha));\r\n```","title":"How can I change the &#39;LoginNameText&#39;&#39;s color&#39;s opacity in java swing?","body":"<p>Change <code>alpha</code> from an <code>int</code> to a <code>double</code> then add a <code>int</code> cast when creating the color else the value of <code>alpha</code> is going to be 0.\nTry this -&gt;</p>\n<pre><code>double alpha= 0.59*255;\n        \nJLabel LoginNameText=new JLabel();\nLoginNameText.setBounds(0,170,500,100);\nLoginNameText.setText(&quot;Name&quot;);\nLoginNameText.setFont(new Font(&quot;Arials&quot;,Font.BOLD,30));\nLoginNameText.setForeground(new Color(30,30,30,(int) alpha));\n</code></pre>\n"}],"owner":{"account_id":25415399,"reputation":27,"user_id":19222416,"display_name":"cihan toker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76913784,"answer_count":1,"score":0,"last_activity_date":1692190632,"creation_date":1692189761,"question_id":76913651,"body_markdown":"I just finished the java swing course and I am trying to make a login page with java and java swing.\r\nI designed a login page with Figma but I couldn&#39;t convert it to the java swing code so I decided to code something similar to the design in Figma with java Swing. I set &#39;LoginNameText&#39; &#39;s color to RGB(30,30,30) with 59% opacity in Figma but I can not do it in java Swing. I asked ChatGPT for it and it gave me this code but it did not work either. How can I solve it ?\r\n\r\n\r\n\r\n```\r\n\t\tint alpha=(int) 0.59*255;\r\n\t\t\r\n\t\tJLabel LoginNameText=new JLabel();\r\n\t\tLoginNameText.setBounds(0,170,500,100);\r\n\t\tLoginNameText.setText(&quot;Name&quot;);\r\n\t\tLoginNameText.setFont(new Font(&quot;Arials&quot;,Font.BOLD,30));\r\n\t\tLoginNameText.setHorizontalAlignment(JLabel.CENTER);\r\n\t\tLoginNameText.setForeground(new Color(30,30,30,alpha));\r\n\t\t\r\n\t\t\r\n```","title":"How can I change the &#39;LoginNameText&#39;&#39;s color&#39;s opacity in java swing?","body":"<p>I just finished the java swing course and I am trying to make a login page with java and java swing.\nI designed a login page with Figma but I couldn't convert it to the java swing code so I decided to code something similar to the design in Figma with java Swing. I set 'LoginNameText' 's color to RGB(30,30,30) with 59% opacity in Figma but I can not do it in java Swing. I asked ChatGPT for it and it gave me this code but it did not work either. How can I solve it ?</p>\n<pre><code>        int alpha=(int) 0.59*255;\n        \n        JLabel LoginNameText=new JLabel();\n        LoginNameText.setBounds(0,170,500,100);\n        LoginNameText.setText(&quot;Name&quot;);\n        LoginNameText.setFont(new Font(&quot;Arials&quot;,Font.BOLD,30));\n        LoginNameText.setHorizontalAlignment(JLabel.CENTER);\n        LoginNameText.setForeground(new Color(30,30,30,alpha));\n        \n        \n</code></pre>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"score":5,"creation_date":1371462695,"post_id":17144646,"comment_id":24814407,"body_markdown":"Unit tests should be independent/isolated. Making one test dependent on another is a bad idea.","body":"Unit tests should be independent/isolated. Making one test dependent on another is a bad idea."},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":4,"creation_date":1371470622,"post_id":17144646,"comment_id":24818530,"body_markdown":"@Karna: use case: your app/framework supports several databases. so you have one base test class which contains tests for all features and one extension per database which creates the connection, loads the initial DDL/data, etc.","body":"@Karna: use case: your app/framework supports several databases. so you have one base test class which contains tests for all features and one extension per database which creates the connection, loads the initial DDL/data, etc."},{"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"score":0,"creation_date":1371535444,"post_id":17144646,"comment_id":24844863,"body_markdown":"@AaronDigulla: Its a bad idea and sometimes being bad is good :)","body":"@AaronDigulla: Its a bad idea and sometimes being bad is good :)"}],"answers":[{"tags":[],"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1371462764,"creation_date":1371462764,"answer_id":17144712,"question_id":17144646,"body_markdown":"Logically, there is no reason to call one test method from another. Any tool that runs one test would just as easily all tests in the package. But if you need to, you&#39;d call it like any other method in any other class.\r\n\r\nWhat you most likely want to do, is perform some common setup for both test methods. You could put `that` code in a utility method in a common class, and invoke the common code in both tests.","title":"How to reuse existing JUnit tests in another test class?","body":"<p>Logically, there is no reason to call one test method from another. Any tool that runs one test would just as easily all tests in the package. But if you need to, you'd call it like any other method in any other class.</p>\n\n<p>What you most likely want to do, is perform some common setup for both test methods. You could put <code>that</code> code in a utility method in a common class, and invoke the common code in both tests.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1371462885,"creation_date":1371462885,"answer_id":17144747,"question_id":17144646,"body_markdown":"As usual you can:\r\n\r\n 1. Extends `TestClass2` from `TestClass1`\r\n 2. Access `TestClass1` from `TestClass2` using delegation:\r\n\r\nExample 1:\r\n\r\n    // Instantiate TestClass1 inside test method\r\n    public TestClass2 {\r\n        public void testSomethingAndSomethingElse1() {\r\n             new TestClass1().testSomething();\r\n        }\r\n    }\r\n\r\nExample 2:\r\n\r\n    // Instantiate TestClass1 as a member of TestClass2\r\n    public TestClass2 {\r\n        private TestClass1 one = new TestClass1();\r\n        public void testSomethingAndSomethingElse1() {\r\n             one.testSomething();\r\n        }\r\n    }\r\n","title":"How to reuse existing JUnit tests in another test class?","body":"<p>As usual you can:</p>\n\n<ol>\n<li>Extends <code>TestClass2</code> from <code>TestClass1</code></li>\n<li>Access <code>TestClass1</code> from <code>TestClass2</code> using delegation:</li>\n</ol>\n\n<p>Example 1:</p>\n\n<pre><code>// Instantiate TestClass1 inside test method\npublic TestClass2 {\n    public void testSomethingAndSomethingElse1() {\n         new TestClass1().testSomething();\n    }\n}\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>// Instantiate TestClass1 as a member of TestClass2\npublic TestClass2 {\n    private TestClass1 one = new TestClass1();\n    public void testSomethingAndSomethingElse1() {\n         one.testSomething();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18858,"reputation":17426,"user_id":43662,"accept_rate":92,"display_name":"seanhodges"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1467242473,"creation_date":1371462901,"answer_id":17144752,"question_id":17144646,"body_markdown":"Avoid the scenario, in general. It is prone to making tests much more brittle. If `TestClass1` fails, then `TestClass2` implicitly fails, which isn&#39;t desirable for at least the following reasons:\r\n\r\n- Code is tested more than once, which wastes execution time.\r\n- Tests should not rely on each other, they should be as decoupled as possible\r\n- If this becomes a pattern, it will become harder to identify what section of code is broken by looking at which tests are failing, which is part of the point of tests\r\n\r\nOccasionally sharing sections of test code is useful, particularly for integration tests. Here&#39;s how you might do it without depending on the tests themselves: \r\n\r\n    public abstract BaseTests {\r\n    \r\n        protected void somethingHelper() {\r\n            // Test something\r\n        }\r\n    }\r\n    \r\n    public TestClass1 extends BaseTests {\r\n        @Test\r\n        public void testSomething(){\r\n            somethingHelper();\r\n        }\r\n    }\r\n    \r\n    public TestClass2 extends BaseTests {\r\n        @Test\r\n        public void testSomethingAndSomethingElse() {\r\n            somethingHelper();\r\n            // and then test something else\r\n        }\r\n    }\r\n\r\nAlternatively, you could use a helper class and avoid the inheritance altogether. Asserts and the like can go in the `somethingHelper()` method.\r\n\r\nDon&#39;t call a method from `TestClass1` in `TestClass2` directly. The test cases become less readable this way, and can lead to [spaghetti frittata][1].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spaghetti_code","title":"How to reuse existing JUnit tests in another test class?","body":"<p>Avoid the scenario, in general. It is prone to making tests much more brittle. If <code>TestClass1</code> fails, then <code>TestClass2</code> implicitly fails, which isn't desirable for at least the following reasons:</p>\n\n<ul>\n<li>Code is tested more than once, which wastes execution time.</li>\n<li>Tests should not rely on each other, they should be as decoupled as possible</li>\n<li>If this becomes a pattern, it will become harder to identify what section of code is broken by looking at which tests are failing, which is part of the point of tests</li>\n</ul>\n\n<p>Occasionally sharing sections of test code is useful, particularly for integration tests. Here's how you might do it without depending on the tests themselves: </p>\n\n<pre><code>public abstract BaseTests {\n\n    protected void somethingHelper() {\n        // Test something\n    }\n}\n\npublic TestClass1 extends BaseTests {\n    @Test\n    public void testSomething(){\n        somethingHelper();\n    }\n}\n\npublic TestClass2 extends BaseTests {\n    @Test\n    public void testSomethingAndSomethingElse() {\n        somethingHelper();\n        // and then test something else\n    }\n}\n</code></pre>\n\n<p>Alternatively, you could use a helper class and avoid the inheritance altogether. Asserts and the like can go in the <code>somethingHelper()</code> method.</p>\n\n<p>Don't call a method from <code>TestClass1</code> in <code>TestClass2</code> directly. The test cases become less readable this way, and can lead to <a href=\"https://en.wikipedia.org/wiki/Spaghetti_code\" rel=\"noreferrer\">spaghetti frittata</a>.</p>\n"},{"tags":[],"owner":{"account_id":318586,"reputation":1889,"user_id":635891,"accept_rate":62,"display_name":"Mostafa Barmshory"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534335488,"creation_date":1534335488,"answer_id":51858563,"question_id":17144646,"body_markdown":"This is common to run a test with a different configuration. Do not worry about and go ahead.\r\n\r\nAt the first step create your own test without considering any configuration:\r\n\r\n    public abstract BaseTests {\r\n        @Test\r\n        protected void somethingHelper() {\r\n            // Test something\r\n        }\r\n    }\r\n\r\nThen, extend the test class and add some configuration:\r\n\r\n    public TestClass1 extends BaseTests {\r\n        @Before\r\n        public void setup(){\r\n             // TODO: config\r\n        }\r\n    }\r\n\r\nIt is not necessary to do specific configuration but it is very common with a configurable system (the main functionality of the system must be valid for each config).\r\n\r\nIn the other test case:\r\n\r\n    public TestClass2 extends BaseTests {\r\n        @Before\r\n        public void setup(){\r\n             // TODO: other config\r\n        }\r\n    }\r\n\r\nFor example, there may be an encryption and decryption process where the sequence of encryption&gt;decryption must be identified. On the other hand, there is a different algorithm to use while the test process is unique.","title":"How to reuse existing JUnit tests in another test class?","body":"<p>This is common to run a test with a different configuration. Do not worry about and go ahead.</p>\n\n<p>At the first step create your own test without considering any configuration:</p>\n\n<pre><code>public abstract BaseTests {\n    @Test\n    protected void somethingHelper() {\n        // Test something\n    }\n}\n</code></pre>\n\n<p>Then, extend the test class and add some configuration:</p>\n\n<pre><code>public TestClass1 extends BaseTests {\n    @Before\n    public void setup(){\n         // TODO: config\n    }\n}\n</code></pre>\n\n<p>It is not necessary to do specific configuration but it is very common with a configurable system (the main functionality of the system must be valid for each config).</p>\n\n<p>In the other test case:</p>\n\n<pre><code>public TestClass2 extends BaseTests {\n    @Before\n    public void setup(){\n         // TODO: other config\n    }\n}\n</code></pre>\n\n<p>For example, there may be an encryption and decryption process where the sequence of encryption>decryption must be identified. On the other hand, there is a different algorithm to use while the test process is unique.</p>\n"},{"tags":[],"owner":{"account_id":15195949,"reputation":406,"user_id":11282562,"display_name":"Saarthak Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692190560,"creation_date":1692190560,"answer_id":76913779,"question_id":17144646,"body_markdown":"As per all the above answers, extending the class will work primarily when your parent class has `Autowired` dependencies. \r\n\r\nTo follow up, don&#39;t forget to add `@Disabled` to your parent class. This will ensure that your tests will only run once. When you extend a test class, all the parent test cases run first and then the child class tests run afterwards. This creates duplicity. Adding `@Disabled` to your parent class won&#39;t run the parent class test cases directly. Those test cases will be run when the child class test cases are run.","title":"How to reuse existing JUnit tests in another test class?","body":"<p>As per all the above answers, extending the class will work primarily when your parent class has <code>Autowired</code> dependencies.</p>\n<p>To follow up, don't forget to add <code>@Disabled</code> to your parent class. This will ensure that your tests will only run once. When you extend a test class, all the parent test cases run first and then the child class tests run afterwards. This creates duplicity. Adding <code>@Disabled</code> to your parent class won't run the parent class test cases directly. Those test cases will be run when the child class test cases are run.</p>\n"}],"owner":{"account_id":306809,"reputation":631,"user_id":617774,"accept_rate":86,"display_name":"tk2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53857,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":17144747,"answer_count":5,"score":41,"last_activity_date":1692190560,"creation_date":1371462458,"question_id":17144646,"body_markdown":"how can I reuse JUnit tests in another testclass?\r\n\r\nFor example:\r\n\r\n    public TestClass1 {\r\n        @Test\r\n        public void testSomething(){...}\r\n    }\r\n\r\n    public TestClass2 {\r\n        @Test\r\n        public void testSomethingAndSomethingElse() {\r\n            // Somehow execute testSomething()\r\n            // and then test something else\r\n        }\r\n    }","title":"How to reuse existing JUnit tests in another test class?","body":"<p>how can I reuse JUnit tests in another testclass?</p>\n\n<p>For example:</p>\n\n<pre><code>public TestClass1 {\n    @Test\n    public void testSomething(){...}\n}\n\npublic TestClass2 {\n    @Test\n    public void testSomethingAndSomethingElse() {\n        // Somehow execute testSomething()\n        // and then test something else\n    }\n}\n</code></pre>\n"},{"tags":["java","xpath","pmd"],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692151294,"creation_date":1692149746,"answer_id":76909971,"question_id":76908938,"body_markdown":"Given this java code\r\n\r\n    public class PMDSource{\r\n    \r\n    public void detectMe(final String value) {\r\n        log.info(value);\r\n        // must take\r\n      }\r\n    \r\n      public void doNotDetectMe1(final String value) {\r\n        log.info(value); \r\n        this.otherMethod(value);\r\n        // must not take\r\n      }\r\n    \r\n      public void doNotDetectMe2() {\r\n        log.info(&quot;value&quot;);\r\n        // must not take\r\n      }\r\n      \r\n      public void detectMe2(final Integer speed) {\r\n        log.info(speed);\r\n        // must take\r\n      }\r\n    }\r\n\r\n\r\nThis XPath expression will detect `detectMe`and `detectMe2` methods\r\n\r\n    //MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name = ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]\r\n\r\nCan be tested generating an AST XML dump\r\n\r\n    pmd ast-dump --format xml --language java --file PMDSource.java &gt; PMDSource.java.xml\r\n\r\nAnd then testing the XPath\r\n\r\n    xmllint --xpath &#39;//MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name = ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]/@Name&#39; PMDSource.java.xml\r\n\r\nResult \r\n \r\n     Name=&quot;detectMe&quot;\r\n     Name=&quot;detectMe2&quot;\r\n\r\nXpath expression parts applied as comments\r\n\r\n    /* get Name of only formal parameter\r\n     * //MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name\r\n     */\r\n    public void detectMe(final String value) {\r\n        /* get Name of log.info() only argument\r\n         * ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]\r\n         * the dot in ./Block makes it relative to MethodDeclaration node\r\n         */\r\n        log.info(value);\r\n      }\r\n\r\nRight side of the equal could also be more precise by adding possible names as `(@MethodName=&quot;info&quot; or @MethodName=&quot;debug&quot;)`\r\n\r\n`./Block[@Size=1]//MethodCall[(@MethodName=&quot;info&quot; or @MethodName=&quot;debug&quot;) and AmbiguousName/@Name =&quot;log&quot;`\r\n","title":"Xpath expression that takes a method parameter is being used only in the log call","body":"<p>Given this java code</p>\n<pre><code>public class PMDSource{\n\npublic void detectMe(final String value) {\n    log.info(value);\n    // must take\n  }\n\n  public void doNotDetectMe1(final String value) {\n    log.info(value); \n    this.otherMethod(value);\n    // must not take\n  }\n\n  public void doNotDetectMe2() {\n    log.info(&quot;value&quot;);\n    // must not take\n  }\n  \n  public void detectMe2(final Integer speed) {\n    log.info(speed);\n    // must take\n  }\n}\n</code></pre>\n<p>This XPath expression will detect <code>detectMe</code>and <code>detectMe2</code> methods</p>\n<pre><code>//MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name = ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]\n</code></pre>\n<p>Can be tested generating an AST XML dump</p>\n<pre><code>pmd ast-dump --format xml --language java --file PMDSource.java &gt; PMDSource.java.xml\n</code></pre>\n<p>And then testing the XPath</p>\n<pre><code>xmllint --xpath '//MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name = ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]/@Name' PMDSource.java.xml\n</code></pre>\n<p>Result</p>\n<pre><code> Name=&quot;detectMe&quot;\n Name=&quot;detectMe2&quot;\n</code></pre>\n<p>Xpath expression parts applied as comments</p>\n<pre><code>/* get Name of only formal parameter\n * //MethodDeclaration[FormalParameters[@Size=1]/FormalParameter/VariableDeclaratorId/@Name\n */\npublic void detectMe(final String value) {\n    /* get Name of log.info() only argument\n     * ./Block[@Size=1]//MethodCall[AmbiguousName/@Name =&quot;log&quot;]/ArgumentList/VariableAccess/@Name]\n     * the dot in ./Block makes it relative to MethodDeclaration node\n     */\n    log.info(value);\n  }\n</code></pre>\n<p>Right side of the equal could also be more precise by adding possible names as <code>(@MethodName=&quot;info&quot; or @MethodName=&quot;debug&quot;)</code></p>\n<p><code>./Block[@Size=1]//MethodCall[(@MethodName=&quot;info&quot; or @MethodName=&quot;debug&quot;) and AmbiguousName/@Name =&quot;log&quot;</code></p>\n"}],"owner":{"account_id":29232278,"reputation":1,"user_id":22395691,"display_name":"Matheus Ferreira de Araujo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692190433,"creation_date":1692131233,"question_id":76908938,"body_markdown":"I want to create a PMD rule using the XPATH expression with the following scenario:\r\n\r\nWhen a parameter of a method is only used in log like log.info, log.error, log.warn or log.debug from @Slf4j I want XPATH to catch that case. To prevent a parameter not being used (including for logs)\r\n\r\n\r\nThe AST tree generated was this:\r\n```\r\n└─ CompilationUnit\r\n   └─ ClassOrInterfaceDeclaration\r\n      ├─ ModifierList\r\n      └─ ClassOrInterfaceBody\r\n         ├─ MethodDeclaration\r\n         │  ├─ ModifierList\r\n         │  ├─ VoidType\r\n         │  ├─ FormalParameters\r\n         │  │  └─ FormalParameter\r\n         │  │     ├─ ModifierList\r\n         │  │     ├─ ClassOrInterfaceType\r\n         │  │     └─ VariableDeclaratorId\r\n         │  └─ Block\r\n         │     └─ ExpressionStatement\r\n         │        └─ MethodCall\r\n         │           ├─ AmbiguousName\r\n         │           └─ ArgumentList\r\n         │              └─ VariableAccess\r\n         └─ MethodDeclaration\r\n            ├─ ModifierList\r\n            ├─ VoidType\r\n            ├─ FormalParameters\r\n            └─ Block\r\n               └─ ExpressionStatement\r\n                  └─ MethodCall\r\n                     ├─ AmbiguousName\r\n                     └─ ArgumentList\r\n```\r\n\r\n  \r\n```\r\npublic void test(final String value) {\r\n    log.info(value);\r\n    \r\n    // must take\r\n  }\r\n\r\n  public void method(final String value) {\r\n    log.info(value); \r\n    \r\n    this.otherMethod(value);\r\n    \r\n    // must not take\r\n  }\r\n\r\n  public void method() {\r\n    log.info(&quot;value&quot;);\r\n\r\n    // must not take\r\n  }\r\n```\r\n\r\nI&#39;ve tried many things, the last attempt was this but without success:\r\n```\r\n//MethodDeclaration[string(FormalParameters/FormalParameter/VariableDeclaratorId/@name) = string(//MethodCall/ArgumentList/VariableAccess/@name) and Block/ExpressionStatement/MethodCall]\r\n```","title":"Xpath expression that takes a method parameter is being used only in the log call","body":"<p>I want to create a PMD rule using the XPATH expression with the following scenario:</p>\n<p>When a parameter of a method is only used in log like log.info, log.error, log.warn or log.debug from @Slf4j I want XPATH to catch that case. To prevent a parameter not being used (including for logs)</p>\n<p>The AST tree generated was this:</p>\n<pre><code>└─ CompilationUnit\n   └─ ClassOrInterfaceDeclaration\n      ├─ ModifierList\n      └─ ClassOrInterfaceBody\n         ├─ MethodDeclaration\n         │  ├─ ModifierList\n         │  ├─ VoidType\n         │  ├─ FormalParameters\n         │  │  └─ FormalParameter\n         │  │     ├─ ModifierList\n         │  │     ├─ ClassOrInterfaceType\n         │  │     └─ VariableDeclaratorId\n         │  └─ Block\n         │     └─ ExpressionStatement\n         │        └─ MethodCall\n         │           ├─ AmbiguousName\n         │           └─ ArgumentList\n         │              └─ VariableAccess\n         └─ MethodDeclaration\n            ├─ ModifierList\n            ├─ VoidType\n            ├─ FormalParameters\n            └─ Block\n               └─ ExpressionStatement\n                  └─ MethodCall\n                     ├─ AmbiguousName\n                     └─ ArgumentList\n</code></pre>\n<pre><code>public void test(final String value) {\n    log.info(value);\n    \n    // must take\n  }\n\n  public void method(final String value) {\n    log.info(value); \n    \n    this.otherMethod(value);\n    \n    // must not take\n  }\n\n  public void method() {\n    log.info(&quot;value&quot;);\n\n    // must not take\n  }\n</code></pre>\n<p>I've tried many things, the last attempt was this but without success:</p>\n<pre><code>//MethodDeclaration[string(FormalParameters/FormalParameter/VariableDeclaratorId/@name) = string(//MethodCall/ArgumentList/VariableAccess/@name) and Block/ExpressionStatement/MethodCall]\n</code></pre>\n"},{"tags":["java","linux","smb","amazon-fsx","smbj"],"answers":[{"tags":[],"owner":{"account_id":3028611,"reputation":11,"user_id":2568080,"display_name":"Guna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692189978,"creation_date":1692189978,"answer_id":76913686,"question_id":75667411,"body_markdown":"    DiskShare share = getSmbSession();\r\n            Set&lt;SMB2ShareAccess&gt; shareAccessSet = new HashSet();\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_READ);\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_WRITE);\r\n            shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_DELETE);\r\n            Set&lt;FileAttributes&gt; fileAttributes = new HashSet();\r\n            fileAttributes.add(FileAttributes.FILE_ATTRIBUTE_NORMAL);\r\n            Set&lt;SMB2CreateOptions&gt; createOptions = new HashSet();\r\n            SMB2CreateDisposition smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\r\n            createOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\r\n            smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\r\n            Directory directory = share.openDirectory(pathFrom, EnumSet.of(AccessMask.MAXIMUM_ALLOWED), fileAttributes,\r\n                    shareAccessSet, smb2CreateDisposition, createOptions);","title":"Trouble with setting file mode in SMBJ","body":"<pre><code>DiskShare share = getSmbSession();\n        Set&lt;SMB2ShareAccess&gt; shareAccessSet = new HashSet();\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_READ);\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_WRITE);\n        shareAccessSet.add(SMB2ShareAccess.FILE_SHARE_DELETE);\n        Set&lt;FileAttributes&gt; fileAttributes = new HashSet();\n        fileAttributes.add(FileAttributes.FILE_ATTRIBUTE_NORMAL);\n        Set&lt;SMB2CreateOptions&gt; createOptions = new HashSet();\n        SMB2CreateDisposition smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\n        createOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\n        smb2CreateDisposition = SMB2CreateDisposition.FILE_OPEN_IF;\n        Directory directory = share.openDirectory(pathFrom, EnumSet.of(AccessMask.MAXIMUM_ALLOWED), fileAttributes,\n                shareAccessSet, smb2CreateDisposition, createOptions);\n</code></pre>\n"}],"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692189978,"creation_date":1678225152,"question_id":75667411,"body_markdown":"I&#39;m trying to set the file mode of a remote located file in a SMB share though SMBJ library. But I get STATUS_INVALID_PARAMETER error.\r\n\r\nThis is my code snippet:\r\n\r\n```java\r\nSet&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;(Arrays.asList(FileAttributes.FILE_ATTRIBUTE_DIRECTORY));\r\nSet&lt;SMB2CreateOptions&gt; createOptions = new HashSet&lt;&gt;();\r\ncreateOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\r\nFile f = share.openFile(&quot;folder01/abc.sh&quot;, new HashSet&lt;(Collections.singletonList(AccessMask.GENERIC_ALL)), fileAttributes, SMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_OPEN_IF, createOptions);\r\nf.setFileInformation(new FileModeInformation(755));\r\n```\r\n\r\nAnd this is the stack trace I&#39;m seeing\r\n\r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_INVALID_PARAMETER (0xc000000d): SetInfo failed for SMB2FileId{persistentHandle=f2 29 00 00 01 00 00 01}\r\n    at com.hierynomus.smbj.share.Share.receive(Share.java:380)\r\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\r\n    at com.hierynomus.smbj.share.Share.setInfo(Share.java:191)\r\n    at com.hierynomus.smbj.share.DiskShare.setFileInformation(DiskShare.java:330)\r\n    at com.hierynomus.smbj.share.DiskEntry.setFileInformation(DiskEntry.java:89)\r\n```\r\n","title":"Trouble with setting file mode in SMBJ","body":"<p>I'm trying to set the file mode of a remote located file in a SMB share though SMBJ library. But I get STATUS_INVALID_PARAMETER error.</p>\n<p>This is my code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;(Arrays.asList(FileAttributes.FILE_ATTRIBUTE_DIRECTORY));\nSet&lt;SMB2CreateOptions&gt; createOptions = new HashSet&lt;&gt;();\ncreateOptions.add(SMB2CreateOptions.FILE_DIRECTORY_FILE);\nFile f = share.openFile(&quot;folder01/abc.sh&quot;, new HashSet&lt;(Collections.singletonList(AccessMask.GENERIC_ALL)), fileAttributes, SMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_OPEN_IF, createOptions);\nf.setFileInformation(new FileModeInformation(755));\n</code></pre>\n<p>And this is the stack trace I'm seeing</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_INVALID_PARAMETER (0xc000000d): SetInfo failed for SMB2FileId{persistentHandle=f2 29 00 00 01 00 00 01}\n    at com.hierynomus.smbj.share.Share.receive(Share.java:380)\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\n    at com.hierynomus.smbj.share.Share.setInfo(Share.java:191)\n    at com.hierynomus.smbj.share.DiskShare.setFileInformation(DiskShare.java:330)\n    at com.hierynomus.smbj.share.DiskEntry.setFileInformation(DiskEntry.java:89)\n</code></pre>\n"},{"tags":["java","spring","apache","websocket","wildfly"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692189165,"creation_date":1692189165,"question_id":76913581,"body_markdown":"When i deploy my spring application i get this problem with websocket\r\n\r\n      Forwarding to error page from request [/active-users] due to exception [Servlet request failed to upgrade to WebSocket: https://remote-host/test/active-users; nested exception is javax.servlet.ServletException: java.lang.IllegalStateException: UT000077: The underlying transport does not support HTTP upgrade]\r\n\r\nI currently using Apache 2.2 and wildfly 18 (i can&#39;t update them)\r\n\r\nin my wildfly i have this configuration for websocket:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:10.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                &lt;buffer-cache name=&quot;default&quot;/&gt;\r\n                &lt;server name=&quot;default-server&quot;&gt;\r\n                    &lt;ajp-listener name=&quot;ajp&quot; socket-binding=&quot;ajp&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;http&quot;/&gt;\r\n                    &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\r\n                    &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\r\n                        &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\r\n                        &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\r\n                    &lt;/host&gt;\r\n                &lt;/server&gt;\r\n                &lt;servlet-container name=&quot;default&quot;&gt;\r\n                    &lt;jsp-config/&gt;\r\n                    &lt;websockets/&gt;\r\n                &lt;/servlet-container&gt;\r\n                &lt;handlers&gt;\r\n                    &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\r\n                &lt;/handlers&gt;\r\n            &lt;/subsystem&gt;\r\n\r\nIn my spring application i have this 2 classes:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \r\n        @Autowired\r\n        private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\r\n    \r\n        @Bean\r\n        public TaskScheduler defaultSockJsTaskScheduler() {\r\n            return new ThreadPoolTaskScheduler();\r\n        }\r\n    \r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\r\n               .setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n\r\nand:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class ActiveUsersWebSocketHandler extends TextWebSocketHandler {\r\n    \r\n        private Set&lt;WebSocketSession&gt; activeSessions = new HashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n            log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionEstablished&quot;);\r\n            activeSessions.add(session);\r\n            sendActiveUsersCount();\r\n        }\r\n    \r\n        @Override\r\n        public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\r\n            log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionClosed&quot;);\r\n            activeSessions.remove(session);\r\n            sendActiveUsersCount();\r\n        }\r\n    \r\n        private void sendActiveUsersCount() {\r\n            log.info(&quot;{}.{} sending users count&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;);\r\n            Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\r\n            payload.put(&quot;activeUsersCount&quot;, activeSessions.size());\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String jsonPayload;\r\n            try {\r\n                jsonPayload = objectMapper.writeValueAsString(payload);\r\n            } catch (JsonProcessingException e) {\r\n                log.error(&quot;{}.{} error: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\r\n                throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\r\n            }\r\n    \r\n            for (WebSocketSession session : activeSessions) {\r\n                try {\r\n                    session.sendMessage(new TextMessage(jsonPayload));\r\n                } catch (IOException e) {\r\n                    log.error(&quot;{}.{} error while sending message: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\r\n                    throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nDo you suggest me anything i can fix the error without update apache to 2.4 also this are my apache config:\r\n\r\n    80:\r\n    # WebSocket proxy\r\n    ProxyPass /ws/ ws://localhost:8009/\r\n    ProxyPassReverse /ws/ ws://localhost:8009/test\r\n    \r\n    # WebSocket Secure proxy\r\n    ProxyPass /wss/ wss://localhost:8009/nnn\r\n    ProxyPassReverse /wss/ wss://localhost:8009/test\r\n    443:\r\n    # WebSocket proxy\r\n    ProxyPass /ws/ ws://localhost:8009/\r\n    ProxyPassReverse /ws/ ws://localhost:8009/test\r\n    \r\n    # WebSocket Secure proxy\r\n    ProxyPass /wss/ wss://localhost:8009/test\r\n    ProxyPassReverse /wss/ wss://localhost:8009/test","title":"WebSocket problem with Apache and Wildfly","body":"<p>When i deploy my spring application i get this problem with websocket</p>\n<pre><code>  Forwarding to error page from request [/active-users] due to exception [Servlet request failed to upgrade to WebSocket: https://remote-host/test/active-users; nested exception is javax.servlet.ServletException: java.lang.IllegalStateException: UT000077: The underlying transport does not support HTTP upgrade]\n</code></pre>\n<p>I currently using Apache 2.2 and wildfly 18 (i can't update them)</p>\n<p>in my wildfly i have this configuration for websocket:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:10.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;true&quot;&gt;\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\n            &lt;server name=&quot;default-server&quot;&gt;\n                &lt;ajp-listener name=&quot;ajp&quot; socket-binding=&quot;ajp&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;http&quot;/&gt;\n                &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; record-request-start-time=&quot;true&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; record-request-start-time=&quot;true&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\n                    &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\n                &lt;/host&gt;\n            &lt;/server&gt;\n            &lt;servlet-container name=&quot;default&quot;&gt;\n                &lt;jsp-config/&gt;\n                &lt;websockets/&gt;\n            &lt;/servlet-container&gt;\n            &lt;handlers&gt;\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\n            &lt;/handlers&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>In my spring application i have this 2 classes:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Autowired\n    private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\n\n    @Bean\n    public TaskScheduler defaultSockJsTaskScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\n           .setAllowedOrigins(&quot;*&quot;);\n    }\n</code></pre>\n<p>and:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class ActiveUsersWebSocketHandler extends TextWebSocketHandler {\n\n    private Set&lt;WebSocketSession&gt; activeSessions = new HashSet&lt;&gt;();\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionEstablished&quot;);\n        activeSessions.add(session);\n        sendActiveUsersCount();\n    }\n\n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\n        log.info(&quot;{}.{} &quot;, this.getClass().getName(), &quot;afterConnectionClosed&quot;);\n        activeSessions.remove(session);\n        sendActiveUsersCount();\n    }\n\n    private void sendActiveUsersCount() {\n        log.info(&quot;{}.{} sending users count&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;);\n        Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\n        payload.put(&quot;activeUsersCount&quot;, activeSessions.size());\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonPayload;\n        try {\n            jsonPayload = objectMapper.writeValueAsString(payload);\n        } catch (JsonProcessingException e) {\n            log.error(&quot;{}.{} error: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\n            throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\n        }\n\n        for (WebSocketSession session : activeSessions) {\n            try {\n                session.sendMessage(new TextMessage(jsonPayload));\n            } catch (IOException e) {\n                log.error(&quot;{}.{} error while sending message: {}&quot;, this.getClass().getName(), &quot;sendActiveUsersCount&quot;, e.getMessage());\n                throw new CustomException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error&quot;, e.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>Do you suggest me anything i can fix the error without update apache to 2.4 also this are my apache config:</p>\n<pre><code>80:\n# WebSocket proxy\nProxyPass /ws/ ws://localhost:8009/\nProxyPassReverse /ws/ ws://localhost:8009/test\n\n# WebSocket Secure proxy\nProxyPass /wss/ wss://localhost:8009/nnn\nProxyPassReverse /wss/ wss://localhost:8009/test\n443:\n# WebSocket proxy\nProxyPass /ws/ ws://localhost:8009/\nProxyPassReverse /ws/ ws://localhost:8009/test\n\n# WebSocket Secure proxy\nProxyPass /wss/ wss://localhost:8009/test\nProxyPassReverse /wss/ wss://localhost:8009/test\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1631104705,"creation_date":1631095256,"answer_id":69100958,"question_id":69100888,"body_markdown":"The maven plugin was [removed][1] in Gradle 7. The documentation suggests to use `maven-publish` plugin instead.\r\n\r\n\r\n  [1]: https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin","title":"Plugin with id &#39;maven&#39; not found","body":"<p>The maven plugin was <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">removed</a> in Gradle 7. The documentation suggests to use <code>maven-publish</code> plugin instead.</p>\n"},{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1631095313,"creation_date":1631095313,"answer_id":69100971,"question_id":69100888,"body_markdown":"In Gradle 7.x, \r\n\r\n&gt; The maven plugin has been removed. You should use the maven-publish\r\n&gt; plugin instead.\r\n\r\n**Reference:** https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin","title":"Plugin with id &#39;maven&#39; not found","body":"<p>In Gradle 7.x,</p>\n<blockquote>\n<p>The maven plugin has been removed. You should use the maven-publish\nplugin instead.</p>\n</blockquote>\n<p><strong>Reference:</strong> <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin</a></p>\n"},{"tags":[],"owner":{"account_id":18984426,"reputation":418,"user_id":13855094,"display_name":"Krithick S"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631122872,"creation_date":1631122872,"answer_id":69107530,"question_id":69100888,"body_markdown":"As the [docs][1] says that the _maven plugin was removed and to use the maven-publish plugin instead_\r\n\r\nAnother approach was to use the *gradle wrapper* with version less than 7. Since wrapper is customizable. Creating a wrapper could be found [here][2]\r\n\r\nSo for example\r\n`gradle clean build`\r\nis equivalent to \r\n`./gradlew clean build`\r\n\r\nSince the version of wrapper is less than 7 every task can be ran with the help of `./gradlew &lt;task&gt;` or `./gradlew.bat &lt;task&gt;` \r\n\r\nThis worked for me.\r\n\r\n  [1]: https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\r\n  [2]: https://stackoverflow.com/a/25770202/13855094","title":"Plugin with id &#39;maven&#39; not found","body":"<p>As the <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_6.html#removal_of_the_legacy_maven_plugin\" rel=\"noreferrer\">docs</a> says that the <em>maven plugin was removed and to use the maven-publish plugin instead</em></p>\n<p>Another approach was to use the <em>gradle wrapper</em> with version less than 7. Since wrapper is customizable. Creating a wrapper could be found <a href=\"https://stackoverflow.com/a/25770202/13855094\">here</a></p>\n<p>So for example\n<code>gradle clean build</code>\nis equivalent to\n<code>./gradlew clean build</code></p>\n<p>Since the version of wrapper is less than 7 every task can be ran with the help of <code>./gradlew &lt;task&gt;</code> or <code>./gradlew.bat &lt;task&gt;</code></p>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23490185,"reputation":69,"user_id":17541309,"display_name":"Ajay Parambath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692189065,"creation_date":1664214759,"answer_id":73858068,"question_id":69100888,"body_markdown":"I had this same Error when I tried to build a Project.\r\nThe problem was The Gradle version\r\n\r\nmy  Gradle version was above 7 and it showed id &#39;maven&#39; not found error.\r\n\r\n\r\nAndroid Studio go to File-&gt;Project Structure and select:\r\n\r\n&gt; Android Gradle Plugin Version: 4.2.2 \r\n&gt; Gradle Version: 6.7.1\r\n\r\nThis seems to make things work again.\r\n\r\n[Refer github][1]\r\n\r\n\r\n  [1]: https://github.com/auth0/react-native-auth0/issues/403#issuecomment-908874945","title":"Plugin with id &#39;maven&#39; not found","body":"<p>I had this same Error when I tried to build a Project.\nThe problem was The Gradle version</p>\n<p>my  Gradle version was above 7 and it showed id 'maven' not found error.</p>\n<p>Android Studio go to File-&gt;Project Structure and select:</p>\n<blockquote>\n<p>Android Gradle Plugin Version: 4.2.2\nGradle Version: 6.7.1</p>\n</blockquote>\n<p>This seems to make things work again.</p>\n<p><a href=\"https://github.com/auth0/react-native-auth0/issues/403#issuecomment-908874945\" rel=\"nofollow noreferrer\">Refer github</a></p>\n"},{"tags":[],"owner":{"account_id":9252895,"reputation":563,"user_id":6872808,"display_name":"Luisa Restrepo"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1666132082,"creation_date":1666132082,"answer_id":74118097,"question_id":69100888,"body_markdown":"Search for the file build.gradle. It should be in your project directory and change the \r\n\r\n    apply plugin: &#39;maven&#39;\r\n\r\n to \r\n\r\n    apply plugin: &#39;maven-publish&#39;","title":"Plugin with id &#39;maven&#39; not found","body":"<p>Search for the file build.gradle. It should be in your project directory and change the</p>\n<pre><code>apply plugin: 'maven'\n</code></pre>\n<p>to</p>\n<pre><code>apply plugin: 'maven-publish'\n</code></pre>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127323,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":69100971,"answer_count":5,"score":64,"last_activity_date":1692189065,"creation_date":1631095006,"question_id":69100888,"body_markdown":"&gt; Plugin with id &#39;maven&#39; not found.\r\n\r\nI got this error in IDEA that uses with 7.1, that is strange as `maven` is built-in plugin, and should be distributed with gradle.\r\n\r\n```\r\nsubprojects {\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;maven&#39;\r\n```\r\n\r\nWhen running Gradle 6.3, it seems there is no such error.\r\n","title":"Plugin with id &#39;maven&#39; not found","body":"<blockquote>\n<p>Plugin with id 'maven' not found.</p>\n</blockquote>\n<p>I got this error in IDEA that uses with 7.1, that is strange as <code>maven</code> is built-in plugin, and should be distributed with gradle.</p>\n<pre><code>subprojects {\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n    apply plugin: 'maven'\n</code></pre>\n<p>When running Gradle 6.3, it seems there is no such error.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692082018,"post_id":76903815,"comment_id":135573112,"body_markdown":"There&#39;s no loop in your gameloop.","body":"There&#39;s no loop in your gameloop."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1692082067,"post_id":76903815,"comment_id":135573123,"body_markdown":"additionally to previous comment, `new Display()` being added to the frame is not the same as `new Display()` used in the loop -- the loop is calling `repaint()` from an instance that is not the one being displayed -- solution: create only one single instance of `Display`","body":"additionally to previous comment, <code>new Display()</code> being added to the frame is not the same as <code>new Display()</code> used in the loop -- the loop is calling <code>repaint()</code> from an instance that is not the one being displayed -- solution: create only one single instance of <code>Display</code>"},{"owner":{"account_id":29227471,"reputation":9,"user_id":22391852,"display_name":"SomeoneMissing"},"score":0,"creation_date":1692085905,"post_id":76903815,"comment_id":135573670,"body_markdown":"Didn&#39;t see that coming, it was a silly mistake and thank you so much","body":"Didn&#39;t see that coming, it was a silly mistake and thank you so much"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692087922,"post_id":76903815,"comment_id":135574028,"body_markdown":"You create an instance of Display in GameLoop AND GUI - they are disconnected, so when calling repaint on the instance created in GameLoop, it’s not the instance thats displayed on the screen - see “dependency injection” for a solution","body":"You create an instance of Display in GameLoop AND GUI - they are disconnected, so when calling repaint on the instance created in GameLoop, it’s not the instance thats displayed on the screen - see “dependency injection” for a solution"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692130904,"creation_date":1692100089,"answer_id":76905710,"question_id":76903815,"body_markdown":"The instance of `Display` you create here...\r\n\r\n    Gameloop() {\r\n        display = new Display();\r\n        handler = new Handler();\r\n        \r\n        try {\r\n            t = new Thread(this);\r\n            t.start();\r\n        } catch(Exception ex) { }        \r\n    }\r\n\r\nhas nothing to do with the instance you create here...\r\n\r\n    GUI() {        \r\n        setTitle(&quot;Pong&quot;);\r\n        setSize(600, 400);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(3);\r\n        add(new Display());\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);        \r\n    }\r\n\r\nso, calling `repaint` on the instance of `Display` in the `GameLoop` will have no effect, as it&#39;s not actually displayed on the screen.\r\n\r\nInstead, you should be passing the same instance of `Display` to both `GUI` and `GameLoop` ... although I&#39;d be making use of `interface`s to do this, as `GameLoop` should be doing NOTHING else to the component.\r\n\r\nThis is a concept known as [Dependency Injection](https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae)\r\n\r\nThis...\r\n\r\n    @Override\r\n    public void run() {\r\n        display.getVariableValues();\r\n        display.repaint();\r\n    }\r\n\r\nis some what pointless.  As it&#39;s only going to execute once and then exit (and the associated thread will be terminated).\r\n\r\nInstead, you should be setting up some kind of loop which will continue to run (until you request it to stop via some kind of flag).  This is pretty basic socket handling.\r\n\r\nYou should also consider either making a `protected` inner class that implements `Runnable` or make use of anonymous class instead, for example...\r\n\r\n    t = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do you game loop logic here\r\n            // or call a protected method to do it\r\n        }\r\n    });\r\n\r\nImplementing the `run` interface will expose the `public` `run` method, and realistically, no one else should be calling `run`\r\n\r\n`setSize(600, 400);` and `int PANEL_WIDTH = 584;`/`int PANEL_HEIGHT = 362;` are bad ideas.\r\n\r\nA window&#39;s viewable area is it&#39;s size minus it&#39;s decoration insets, this will  always make the viewable area smaller then the actual window size.\r\n\r\nInstead, the components should report their `preferredSize` and then the window should be `pack`ed around it.\r\n\r\nI can tell you straight up, on my system, those values are going to produce some very bad results.\r\n\r\nFor example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) throws InterruptedException {\r\n            new Main().start();\r\n        }\r\n\r\n        public void start() throws InterruptedException {\r\n            Display display = new Display();\r\n            Handler handler = new Handler();\r\n            new GUI(display);\r\n            new Gameloop(display, handler);\r\n\r\n        }\r\n\r\n        public class GUI extends JFrame {\r\n\r\n            GUI(Display display) {\r\n\r\n                setTitle(&quot;Pong&quot;);\r\n                //setSize(600, 400);\r\n                //setResizable(false);\r\n                //setDefaultCloseOperation(3);\r\n                add(display);\r\n                setLocationRelativeTo(null);\r\n                pack();\r\n                setVisible(true);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class Display extends JPanel {\r\n\r\n            private static final long serialVersionUID = 1L;\r\n            int PANEL_WIDTH = 600;\r\n            int PANEL_HEIGHT = 400;\r\n            private int BALL_X;\r\n            private int BALL_Y;\r\n            private int BALL_SIZE;\r\n            private int BALL_X_VELOCITY;\r\n            private int BALL_Y_VELOCITY;\r\n            private int PLAYER_WIDTH;\r\n            private int PLAYER_HEIGHT;\r\n            private int SELF_X;\r\n            private int SELF_Y;\r\n            private int OP_X;\r\n            private int OP_Y;\r\n            boolean gameRunning = true;\r\n            Handler handler;\r\n\r\n            Display() {\r\n                handler = new Handler();\r\n                getConcreteValues();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(PANEL_WIDTH, PANEL_HEIGHT);\r\n            }\r\n\r\n            public void getConcreteValues() {\r\n                BALL_SIZE = handler.getBallSize();\r\n                PLAYER_WIDTH = handler.getPlayerWidth();\r\n                PLAYER_HEIGHT = handler.getPlayerHeight();\r\n            }\r\n\r\n            public void getVariableValues() {\r\n                int[] recievedData = handler.getData();\r\n                BALL_X = recievedData[0];\r\n                BALL_Y = recievedData[1];\r\n                BALL_X_VELOCITY = recievedData[2];\r\n                BALL_Y_VELOCITY = recievedData[3];\r\n                SELF_X = recievedData[4];\r\n                SELF_Y = recievedData[5];\r\n                OP_X = recievedData[6];\r\n                OP_Y = recievedData[7];\r\n\r\n            }\r\n\r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n\r\n                super.paintComponent(g);\r\n\r\n                g.setColor(Color.DARK_GRAY);\r\n                g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\r\n                g.setColor(Color.WHITE);\r\n                g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\r\n                g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n                g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\r\n            }\r\n        }\r\n\r\n        public class Handler {\r\n\r\n            private int BALL_X = 100;\r\n            private int BALL_Y = 100;\r\n            private int BALL_SIZE = 15;\r\n            private int BALL_X_VELOCITY = 5;\r\n            private int BALL_Y_VELOCITY;\r\n            private int PLAYER_WIDTH = 8;\r\n            private int PLAYER_HEIGHT = 70;\r\n            private int SELF_X;\r\n            private int SELF_Y;\r\n            private int OP_X;\r\n            private int OP_Y;\r\n\r\n            private PrintWriter writer;\r\n            private BufferedReader reader;\r\n\r\n            public void setUpConnection(String SERVER_IP, int PORT) {\r\n\r\n                try (Socket socket = new Socket(SERVER_IP, PORT)) {\r\n\r\n                    writer = new PrintWriter(socket.getOutputStream());\r\n                    reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    System.out.println(&quot;Network established!&quot;);\r\n\r\n                } catch (Exception ex) {\r\n\r\n                    System.out.println(&quot;Failed, try again later&quot;);\r\n                    ex.printStackTrace();\r\n\r\n                }\r\n\r\n            }\r\n\r\n            public int[] getData() {\r\n\r\n                BALL_X += BALL_X_VELOCITY;\r\n\r\n                int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\r\n\r\n                return data;\r\n\r\n            }\r\n\r\n            public int getBallSize() {\r\n                return BALL_SIZE;\r\n            }\r\n\r\n            public int getPlayerWidth() {\r\n                return PLAYER_WIDTH;\r\n            }\r\n\r\n            public int getPlayerHeight() {\r\n                return PLAYER_HEIGHT;\r\n            }\r\n        }\r\n\r\n        public class Gameloop implements Runnable {\r\n\r\n            Thread t;\r\n            Display display;\r\n            Handler handler;\r\n\r\n            public Gameloop(Display display, Handler handler) throws InterruptedException {\r\n                this.display = display;\r\n                this.handler = handler;\r\n                t = new Thread(this);\r\n                t.start();\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                display.getVariableValues();\r\n                display.repaint();\r\n            }\r\n        }\r\n    }\r\n\r\nThis...\r\n\r\n    public void getVariableValues() {\r\n        int[] recievedData = handler.getData();\r\n        BALL_X = recievedData[0];\r\n        BALL_Y = recievedData[1];\r\n        BALL_X_VELOCITY = recievedData[2];\r\n        BALL_Y_VELOCITY = recievedData[3];\r\n        SELF_X = recievedData[4];\r\n        SELF_Y = recievedData[5];\r\n        OP_X = recievedData[6];\r\n        OP_Y = recievedData[7];\r\n    }\r\n\r\nis problematic.  Swing is NOT thread safe (and is single threaded).  This means that you should not be modifying the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.  It also means that you shouldn&#39;t be performing long running or blocking operations on the Event Dispatching Thread either.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nYou&#39;ve, instead, used a `Thread` to poll a `Socket` for data, which is read in the above method, and then which updates state information used by the UI.\r\n\r\nThis can lead to dirty reads (data is not updated correctly across the thread contexts) and/or dirty paints.\r\n\r\nThere is also a potential for long and variable delays between the reads, which would cause the paint pass to also be delayed.\r\n\r\nSo, what&#39;s the solution?  Well, that&#39;s a more difficult answer.\r\n\r\nI would first, have a clock which ticked at a regular interval and repainted the component.  As you seem to have done the past, this could be simply implemented by a Swing `Timer`.\r\n\r\nI would then have a `SwingWorker` read the data from the `Socket` and `publish` the results, which would then be `process`ed safely within the context of the Event Dispatching Thread.  In order to facilitate this, I would wrap this information in some kind of object.\r\n\r\nAt this point, this information would be synced back to the UI via the &quot;main game loop&quot;, but in your case that would probably just mean taking the latest response and updating the &quot;remote player&quot; information on the `Display`.\r\n\r\nRealistically, you should have a `Player` class, you&#39;d then pass two instances to `Display`, one representing the local player and one representing the remote player.\r\n\r\nYour game loop would then be required to process local events and update the local player (possibly submitting those updates to the other party) and updating the remote player instance with the events from the other party.","title":"I need to clear my doubts about the repaint() method","body":"<p>The instance of <code>Display</code> you create here...</p>\n<pre><code>Gameloop() {\n    display = new Display();\n    handler = new Handler();\n    \n    try {\n        t = new Thread(this);\n        t.start();\n    } catch(Exception ex) { }        \n}\n</code></pre>\n<p>has nothing to do with the instance you create here...</p>\n<pre><code>GUI() {        \n    setTitle(&quot;Pong&quot;);\n    setSize(600, 400);\n    setResizable(false);\n    setDefaultCloseOperation(3);\n    add(new Display());\n    setLocationRelativeTo(null);\n    setVisible(true);        \n}\n</code></pre>\n<p>so, calling <code>repaint</code> on the instance of <code>Display</code> in the <code>GameLoop</code> will have no effect, as it's not actually displayed on the screen.</p>\n<p>Instead, you should be passing the same instance of <code>Display</code> to both <code>GUI</code> and <code>GameLoop</code> ... although I'd be making use of <code>interface</code>s to do this, as <code>GameLoop</code> should be doing NOTHING else to the component.</p>\n<p>This is a concept known as <a href=\"https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae\" rel=\"nofollow noreferrer\">Dependency Injection</a></p>\n<p>This...</p>\n<pre><code>@Override\npublic void run() {\n    display.getVariableValues();\n    display.repaint();\n}\n</code></pre>\n<p>is some what pointless.  As it's only going to execute once and then exit (and the associated thread will be terminated).</p>\n<p>Instead, you should be setting up some kind of loop which will continue to run (until you request it to stop via some kind of flag).  This is pretty basic socket handling.</p>\n<p>You should also consider either making a <code>protected</code> inner class that implements <code>Runnable</code> or make use of anonymous class instead, for example...</p>\n<pre><code>t = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do you game loop logic here\n        // or call a protected method to do it\n    }\n});\n</code></pre>\n<p>Implementing the <code>run</code> interface will expose the <code>public</code> <code>run</code> method, and realistically, no one else should be calling <code>run</code></p>\n<p><code>setSize(600, 400);</code> and <code>int PANEL_WIDTH = 584;</code>/<code>int PANEL_HEIGHT = 362;</code> are bad ideas.</p>\n<p>A window's viewable area is it's size minus it's decoration insets, this will  always make the viewable area smaller then the actual window size.</p>\n<p>Instead, the components should report their <code>preferredSize</code> and then the window should be <code>pack</code>ed around it.</p>\n<p>I can tell you straight up, on my system, those values are going to produce some very bad results.</p>\n<p>For example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String args[]) throws InterruptedException {\n        new Main().start();\n    }\n\n    public void start() throws InterruptedException {\n        Display display = new Display();\n        Handler handler = new Handler();\n        new GUI(display);\n        new Gameloop(display, handler);\n\n    }\n\n    public class GUI extends JFrame {\n\n        GUI(Display display) {\n\n            setTitle(&quot;Pong&quot;);\n            //setSize(600, 400);\n            //setResizable(false);\n            //setDefaultCloseOperation(3);\n            add(display);\n            setLocationRelativeTo(null);\n            pack();\n            setVisible(true);\n\n        }\n\n    }\n\n    public class Display extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        int PANEL_WIDTH = 600;\n        int PANEL_HEIGHT = 400;\n        private int BALL_X;\n        private int BALL_Y;\n        private int BALL_SIZE;\n        private int BALL_X_VELOCITY;\n        private int BALL_Y_VELOCITY;\n        private int PLAYER_WIDTH;\n        private int PLAYER_HEIGHT;\n        private int SELF_X;\n        private int SELF_Y;\n        private int OP_X;\n        private int OP_Y;\n        boolean gameRunning = true;\n        Handler handler;\n\n        Display() {\n            handler = new Handler();\n            getConcreteValues();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(PANEL_WIDTH, PANEL_HEIGHT);\n        }\n\n        public void getConcreteValues() {\n            BALL_SIZE = handler.getBallSize();\n            PLAYER_WIDTH = handler.getPlayerWidth();\n            PLAYER_HEIGHT = handler.getPlayerHeight();\n        }\n\n        public void getVariableValues() {\n            int[] recievedData = handler.getData();\n            BALL_X = recievedData[0];\n            BALL_Y = recievedData[1];\n            BALL_X_VELOCITY = recievedData[2];\n            BALL_Y_VELOCITY = recievedData[3];\n            SELF_X = recievedData[4];\n            SELF_Y = recievedData[5];\n            OP_X = recievedData[6];\n            OP_Y = recievedData[7];\n\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n\n            super.paintComponent(g);\n\n            g.setColor(Color.DARK_GRAY);\n            g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\n            g.setColor(Color.WHITE);\n            g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\n            g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n            g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n\n        }\n    }\n\n    public class Handler {\n\n        private int BALL_X = 100;\n        private int BALL_Y = 100;\n        private int BALL_SIZE = 15;\n        private int BALL_X_VELOCITY = 5;\n        private int BALL_Y_VELOCITY;\n        private int PLAYER_WIDTH = 8;\n        private int PLAYER_HEIGHT = 70;\n        private int SELF_X;\n        private int SELF_Y;\n        private int OP_X;\n        private int OP_Y;\n\n        private PrintWriter writer;\n        private BufferedReader reader;\n\n        public void setUpConnection(String SERVER_IP, int PORT) {\n\n            try (Socket socket = new Socket(SERVER_IP, PORT)) {\n\n                writer = new PrintWriter(socket.getOutputStream());\n                reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                System.out.println(&quot;Network established!&quot;);\n\n            } catch (Exception ex) {\n\n                System.out.println(&quot;Failed, try again later&quot;);\n                ex.printStackTrace();\n\n            }\n\n        }\n\n        public int[] getData() {\n\n            BALL_X += BALL_X_VELOCITY;\n\n            int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\n\n            return data;\n\n        }\n\n        public int getBallSize() {\n            return BALL_SIZE;\n        }\n\n        public int getPlayerWidth() {\n            return PLAYER_WIDTH;\n        }\n\n        public int getPlayerHeight() {\n            return PLAYER_HEIGHT;\n        }\n    }\n\n    public class Gameloop implements Runnable {\n\n        Thread t;\n        Display display;\n        Handler handler;\n\n        public Gameloop(Display display, Handler handler) throws InterruptedException {\n            this.display = display;\n            this.handler = handler;\n            t = new Thread(this);\n            t.start();\n        }\n\n        @Override\n        public void run() {\n            display.getVariableValues();\n            display.repaint();\n        }\n    }\n}\n</code></pre>\n<p>This...</p>\n<pre><code>public void getVariableValues() {\n    int[] recievedData = handler.getData();\n    BALL_X = recievedData[0];\n    BALL_Y = recievedData[1];\n    BALL_X_VELOCITY = recievedData[2];\n    BALL_Y_VELOCITY = recievedData[3];\n    SELF_X = recievedData[4];\n    SELF_Y = recievedData[5];\n    OP_X = recievedData[6];\n    OP_Y = recievedData[7];\n}\n</code></pre>\n<p>is problematic.  Swing is NOT thread safe (and is single threaded).  This means that you should not be modifying the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.  It also means that you shouldn't be performing long running or blocking operations on the Event Dispatching Thread either.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>You've, instead, used a <code>Thread</code> to poll a <code>Socket</code> for data, which is read in the above method, and then which updates state information used by the UI.</p>\n<p>This can lead to dirty reads (data is not updated correctly across the thread contexts) and/or dirty paints.</p>\n<p>There is also a potential for long and variable delays between the reads, which would cause the paint pass to also be delayed.</p>\n<p>So, what's the solution?  Well, that's a more difficult answer.</p>\n<p>I would first, have a clock which ticked at a regular interval and repainted the component.  As you seem to have done the past, this could be simply implemented by a Swing <code>Timer</code>.</p>\n<p>I would then have a <code>SwingWorker</code> read the data from the <code>Socket</code> and <code>publish</code> the results, which would then be <code>process</code>ed safely within the context of the Event Dispatching Thread.  In order to facilitate this, I would wrap this information in some kind of object.</p>\n<p>At this point, this information would be synced back to the UI via the &quot;main game loop&quot;, but in your case that would probably just mean taking the latest response and updating the &quot;remote player&quot; information on the <code>Display</code>.</p>\n<p>Realistically, you should have a <code>Player</code> class, you'd then pass two instances to <code>Display</code>, one representing the local player and one representing the remote player.</p>\n<p>Your game loop would then be required to process local events and update the local player (possibly submitting those updates to the other party) and updating the remote player instance with the events from the other party.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188910,"creation_date":1692186757,"answer_id":76913286,"question_id":76903815,"body_markdown":"Try using a while loop like so -&gt;\r\n```\r\n@Override\r\npublic void run() {\r\n\twhile(t!=null) {\r\n\t\t display.getVariableValues();\r\n\t\t display.repaint();\r\n\t}\r\n}\r\n```\r\nAlso your `GUI` class uses one instance of Display, while your `Gameloop` class uses another one. Maybe remove the constructor from your `Main` class and change the `GUI` constructor to this instead -&gt;\r\n```\r\n  GUI() {\r\n        \r\n        setTitle(&quot;Pong&quot;);\r\n        setSize(600, 400);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(3);\r\n        Display display = new Display();\r\n        add(display);\r\n        new Gameloop(display);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n        \r\n    }\r\n```\r\nChange your `Gameloop` class to use this `Display` passed by GUI\r\n```\r\n Gameloop(Display display) {\r\n        \r\n        this.display = display;\r\n        handler = new Handler();\r\n        \r\n        try {\r\n            t = new Thread(this);\r\n            t.start();\r\n        } catch(Exception ex) { }\r\n        \r\n    }\r\n```","title":"I need to clear my doubts about the repaint() method","body":"<p>Try using a while loop like so -&gt;</p>\n<pre><code>@Override\npublic void run() {\n    while(t!=null) {\n         display.getVariableValues();\n         display.repaint();\n    }\n}\n</code></pre>\n<p>Also your <code>GUI</code> class uses one instance of Display, while your <code>Gameloop</code> class uses another one. Maybe remove the constructor from your <code>Main</code> class and change the <code>GUI</code> constructor to this instead -&gt;</p>\n<pre><code>  GUI() {\n        \n        setTitle(&quot;Pong&quot;);\n        setSize(600, 400);\n        setResizable(false);\n        setDefaultCloseOperation(3);\n        Display display = new Display();\n        add(display);\n        new Gameloop(display);\n        setLocationRelativeTo(null);\n        setVisible(true);\n        \n    }\n</code></pre>\n<p>Change your <code>Gameloop</code> class to use this <code>Display</code> passed by GUI</p>\n<pre><code> Gameloop(Display display) {\n        \n        this.display = display;\n        handler = new Handler();\n        \n        try {\n            t = new Thread(this);\n            t.start();\n        } catch(Exception ex) { }\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":29227471,"reputation":9,"user_id":22391852,"display_name":"SomeoneMissing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1692188910,"creation_date":1692081228,"question_id":76903815,"body_markdown":"So I have been trying to make a pong game using javax.swing and as many of you know that I will need to call the repaint() method in a loop. It works just fine when I put the timer in the class that extends JPanel (Display.class) but when I use another class as a &quot;gameloop&quot; and call it in a loop (with the help of a timer or a thread) it simply doesn.t work I don&#39;t know what is going on.\r\n\r\nIf someone has a different approach on how to do it please let me know (I would prefer if the timer stayed in the Gameloop.class).\r\n\r\nAnd I want to know the EXACT reason on what&#39;s causing this behavior so I don&#39;t run into the same problem again.\r\n\r\nAny and all help is appreciated. Thanks in advance.\r\n\r\nHere&#39;s the code if you wanna review it, the problems are in the &quot;Display&quot; and &quot;Gameloop&quot; classes\r\n\r\n\r\n```\r\npackage pong;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tnew Main().start();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void start() {\r\n\r\n\t\tnew GUI();\r\n\t\tnew Gameloop();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GUI extends JFrame {\r\n\r\n\tGUI() {\r\n\t\t\r\n\t\tsetTitle(&quot;Pong&quot;);\r\n\t\tsetSize(600, 400);\r\n\t\tsetResizable(false);\r\n\t\tsetDefaultCloseOperation(3);\r\n\t\tadd(new Display());\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Display extends JPanel {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tint PANEL_WIDTH = 584;\r\n\tint PANEL_HEIGHT = 362;\r\n\tprivate int BALL_X;\r\n\tprivate int BALL_Y;\r\n\tprivate int BALL_SIZE;\r\n\tprivate int BALL_X_VELOCITY;\r\n\tprivate int BALL_Y_VELOCITY;\r\n\tprivate int PLAYER_WIDTH;\r\n\tprivate int PLAYER_HEIGHT;\r\n\tprivate int SELF_X;\r\n\tprivate int SELF_Y;\r\n\tprivate int OP_X;\r\n\tprivate int OP_Y;\r\n\tboolean gameRunning = true;\r\n\tHandler handler;\r\n\t\r\n\tDisplay() {\r\n\t\t\r\n\t\thandler = new Handler();\r\n\t\tgetConcreteValues();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void getConcreteValues() {\r\n\t\t\r\n\t\tBALL_SIZE = handler.getBallSize();\r\n\t\tPLAYER_WIDTH = handler.getPlayerWidth();\r\n\t\tPLAYER_HEIGHT = handler.getPlayerHeight();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void getVariableValues() {\r\n\t\t\r\n\t\tint[] recievedData = handler.getData();\r\n\t\tBALL_X = recievedData[0];\r\n\t\tBALL_Y = recievedData[1];\r\n\t\tBALL_X_VELOCITY = recievedData[2];\r\n\t\tBALL_Y_VELOCITY = recievedData[3];\r\n\t\tSELF_X = recievedData[4];\r\n\t\tSELF_Y = recievedData[5];\r\n\t\tOP_X = recievedData[6];\r\n\t\tOP_Y = recievedData[7];\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tg.setColor(Color.DARK_GRAY);\r\n\t\tg.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\r\n\t\tg.setColor(Color.WHITE);\r\n\t\tg.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\r\n\t\tg.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\t\tg.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Handler {\r\n\t\r\n\tprivate int BALL_X = 100;\r\n\tprivate int BALL_Y = 100;\r\n\tprivate int BALL_SIZE = 15;\r\n\tprivate int BALL_X_VELOCITY = 5;\r\n\tprivate int BALL_Y_VELOCITY;\r\n\tprivate int PLAYER_WIDTH = 8;\r\n\tprivate int PLAYER_HEIGHT = 70;\r\n\tprivate int SELF_X;\r\n\tprivate int SELF_Y;\r\n\tprivate int OP_X;\r\n\tprivate int OP_Y;\r\n\t\r\n\tprivate PrintWriter writer;\r\n\tprivate BufferedReader reader;\r\n\t\r\n\tpublic void setUpConnection(String SERVER_IP, int PORT) {\r\n\t\t\r\n\t\ttry(Socket socket = new Socket(SERVER_IP, PORT)) {\r\n\t\t\t\r\n\t\t\twriter = new PrintWriter(socket.getOutputStream());\r\n\t\t\treader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t\tSystem.out.println(&quot;Network established!&quot;);\r\n\t\t\t\r\n\t\t} catch (Exception ex) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Failed, try again later&quot;);\r\n\t\t\tex.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int[] getData() {\r\n\t\t\r\n\t\tBALL_X+=BALL_X_VELOCITY;\r\n\t\t\r\n\t\tint[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\r\n\t\t\r\n\t\treturn data;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getBallSize() {\r\n\t\treturn BALL_SIZE;\r\n\t}\r\n\t\r\n\tpublic int getPlayerWidth() {\r\n\t\treturn PLAYER_WIDTH;\r\n\t}\r\n\t\r\n\tpublic int getPlayerHeight() {\r\n\t\treturn PLAYER_HEIGHT;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage pong;\r\n\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Gameloop implements Runnable {\r\n\t\r\n\tThread t;\r\n\tDisplay display;\r\n\tHandler handler;\r\n\t\r\n\tGameloop() {\r\n\t\t\r\n\t\tdisplay = new Display();\r\n\t\thandler = new Handler();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tt = new Thread(this);\r\n\t\t\tt.start();\r\n\t\t} catch(Exception ex) { }\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t\r\n\t\tdisplay.getVariableValues();\r\n\t\tdisplay.repaint();\r\n\t\t\r\n\t}\r\n\r\n}\t\r\n```\r\n\r\nI hope this is all the info you will need.\r\n\r\nI don&#39;t expect (or ask) anybody to just solve my problem but I want a detailed explanation as to why this behavior is happening.\r\n\r\nAnd yes I also tried using Timer in java.swing to execute the gameloop as well and it still didn&#39;t work","title":"I need to clear my doubts about the repaint() method","body":"<p>So I have been trying to make a pong game using javax.swing and as many of you know that I will need to call the repaint() method in a loop. It works just fine when I put the timer in the class that extends JPanel (Display.class) but when I use another class as a &quot;gameloop&quot; and call it in a loop (with the help of a timer or a thread) it simply doesn.t work I don't know what is going on.</p>\n<p>If someone has a different approach on how to do it please let me know (I would prefer if the timer stayed in the Gameloop.class).</p>\n<p>And I want to know the EXACT reason on what's causing this behavior so I don't run into the same problem again.</p>\n<p>Any and all help is appreciated. Thanks in advance.</p>\n<p>Here's the code if you wanna review it, the problems are in the &quot;Display&quot; and &quot;Gameloop&quot; classes</p>\n<pre><code>package pong;\n\npublic class Main {\n\n    public static void main(String args[]) {\n        \n        new Main().start();\n        \n    }\n    \n    public void start() {\n\n        new GUI();\n        new Gameloop();\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport javax.swing.*;\n\npublic class GUI extends JFrame {\n\n    GUI() {\n        \n        setTitle(&quot;Pong&quot;);\n        setSize(600, 400);\n        setResizable(false);\n        setDefaultCloseOperation(3);\n        add(new Display());\n        setLocationRelativeTo(null);\n        setVisible(true);\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Display extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    int PANEL_WIDTH = 584;\n    int PANEL_HEIGHT = 362;\n    private int BALL_X;\n    private int BALL_Y;\n    private int BALL_SIZE;\n    private int BALL_X_VELOCITY;\n    private int BALL_Y_VELOCITY;\n    private int PLAYER_WIDTH;\n    private int PLAYER_HEIGHT;\n    private int SELF_X;\n    private int SELF_Y;\n    private int OP_X;\n    private int OP_Y;\n    boolean gameRunning = true;\n    Handler handler;\n    \n    Display() {\n        \n        handler = new Handler();\n        getConcreteValues();\n        \n    }\n    \n    public void getConcreteValues() {\n        \n        BALL_SIZE = handler.getBallSize();\n        PLAYER_WIDTH = handler.getPlayerWidth();\n        PLAYER_HEIGHT = handler.getPlayerHeight();\n        \n    }\n    \n    public void getVariableValues() {\n        \n        int[] recievedData = handler.getData();\n        BALL_X = recievedData[0];\n        BALL_Y = recievedData[1];\n        BALL_X_VELOCITY = recievedData[2];\n        BALL_Y_VELOCITY = recievedData[3];\n        SELF_X = recievedData[4];\n        SELF_Y = recievedData[5];\n        OP_X = recievedData[6];\n        OP_Y = recievedData[7];\n        \n    }\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        \n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, PANEL_WIDTH, PANEL_HEIGHT);\n        g.setColor(Color.WHITE);\n        g.fillOval(BALL_X, BALL_Y, BALL_SIZE, BALL_SIZE);\n        g.fillRect(SELF_X, SELF_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        g.fillRect(OP_X, OP_Y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        \n    }\n    \n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.io.*;\nimport java.net.*;\n\npublic class Handler {\n    \n    private int BALL_X = 100;\n    private int BALL_Y = 100;\n    private int BALL_SIZE = 15;\n    private int BALL_X_VELOCITY = 5;\n    private int BALL_Y_VELOCITY;\n    private int PLAYER_WIDTH = 8;\n    private int PLAYER_HEIGHT = 70;\n    private int SELF_X;\n    private int SELF_Y;\n    private int OP_X;\n    private int OP_Y;\n    \n    private PrintWriter writer;\n    private BufferedReader reader;\n    \n    public void setUpConnection(String SERVER_IP, int PORT) {\n        \n        try(Socket socket = new Socket(SERVER_IP, PORT)) {\n            \n            writer = new PrintWriter(socket.getOutputStream());\n            reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            System.out.println(&quot;Network established!&quot;);\n            \n        } catch (Exception ex) {\n            \n            System.out.println(&quot;Failed, try again later&quot;);\n            ex.printStackTrace();\n            \n        }\n        \n    }\n    \n    public int[] getData() {\n        \n        BALL_X+=BALL_X_VELOCITY;\n        \n        int[] data = {BALL_X, BALL_Y, BALL_X_VELOCITY, BALL_Y_VELOCITY, SELF_X, SELF_Y, OP_X, OP_Y};\n        \n        return data;\n        \n    }\n    \n    public int getBallSize() {\n        return BALL_SIZE;\n    }\n    \n    public int getPlayerWidth() {\n        return PLAYER_WIDTH;\n    }\n    \n    public int getPlayerHeight() {\n        return PLAYER_HEIGHT;\n    }\n\n}\n</code></pre>\n<pre><code>package pong;\n\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Gameloop implements Runnable {\n    \n    Thread t;\n    Display display;\n    Handler handler;\n    \n    Gameloop() {\n        \n        display = new Display();\n        handler = new Handler();\n        \n        try {\n            t = new Thread(this);\n            t.start();\n        } catch(Exception ex) { }\n        \n    }\n\n    @Override\n    public void run() {\n        \n        display.getVariableValues();\n        display.repaint();\n        \n    }\n\n}   \n</code></pre>\n<p>I hope this is all the info you will need.</p>\n<p>I don't expect (or ask) anybody to just solve my problem but I want a detailed explanation as to why this behavior is happening.</p>\n<p>And yes I also tried using Timer in java.swing to execute the gameloop as well and it still didn't work</p>\n"},{"tags":["java","caching"],"comments":[{"owner":{"account_id":915836,"reputation":6730,"user_id":948652,"accept_rate":85,"display_name":"arynaq"},"score":1,"creation_date":1371131572,"post_id":17088812,"comment_id":24718162,"body_markdown":"Simplest would be using a HashMap with a timer that releases it every 2 minutes.","body":"Simplest would be using a HashMap with a timer that releases it every 2 minutes."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1371131629,"post_id":17088812,"comment_id":24718205,"body_markdown":"@arynaq That&#39;s hardly the simplest :) You can go simpler by storing the last update, because you do not need to clear unless there&#39;s another request.","body":"@arynaq That&#39;s hardly the simplest :) You can go simpler by storing the last update, because you do not need to clear unless there&#39;s another request."},{"owner":{"account_id":402018,"reputation":16610,"user_id":768935,"accept_rate":93,"display_name":"allprog"},"score":0,"creation_date":1371132228,"post_id":17088812,"comment_id":24718569,"body_markdown":"@arynaq take a look at Google Guava&#39;s LoadingCache. That does this for you. Implementing such functionality is far from simple.","body":"@arynaq take a look at Google Guava&#39;s LoadingCache. That does this for you. Implementing such functionality is far from simple."}],"answers":[{"tags":[],"owner":{"account_id":176297,"reputation":4545,"user_id":406896,"accept_rate":64,"display_name":"Arnab Biswas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692188771,"creation_date":1371131701,"answer_id":17088883,"question_id":17088812,"body_markdown":"Check [Guava Cache Builder][1]. It may be useful.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained\r\n","title":"Caching the result of a method in Java","body":"<p>Check <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow noreferrer\">Guava Cache Builder</a>. It may be useful.</p>\n"},{"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1371132413,"creation_date":1371131809,"answer_id":17088928,"question_id":17088812,"body_markdown":"Use Guava&#39;s [Suppliers.memoizeWithExpiration(Supplier&lt;T&gt; delegate, long duration, TimeUnit unit)][1]:\r\n\r\n    private final Supplier&lt;List&lt;Something&gt;&gt; cache =\r\n        Suppliers.memoizeWithExpiration(new Supplier&lt;List&lt;Something&gt;&gt;() {\r\n            public List&lt;Something&gt; get() {\r\n                return loadFromDb();\r\n            }\r\n        }, 2, MINUTES);\r\n    \r\n    private List&lt;Something&gt; loadFromDbCached() {\r\n        return cache.get();\r\n    }\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Suppliers.html#memoizeWithExpiration%28com.google.common.base.Supplier,%20long,%20java.util.concurrent.TimeUnit%29","title":"Caching the result of a method in Java","body":"<p>Use Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Suppliers.html#memoizeWithExpiration%28com.google.common.base.Supplier,%20long,%20java.util.concurrent.TimeUnit%29\">Suppliers.memoizeWithExpiration(Supplier delegate, long duration, TimeUnit unit)</a>:</p>\n\n<pre><code>private final Supplier&lt;List&lt;Something&gt;&gt; cache =\n    Suppliers.memoizeWithExpiration(new Supplier&lt;List&lt;Something&gt;&gt;() {\n        public List&lt;Something&gt; get() {\n            return loadFromDb();\n        }\n    }, 2, MINUTES);\n\nprivate List&lt;Something&gt; loadFromDbCached() {\n    return cache.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1691060352,"creation_date":1407136171,"answer_id":25113382,"question_id":17088812,"body_markdown":"You can use [`@Cacheable`](http://aspects.jcabi.com/annotation-cacheable.html) annotation from [jcabi-aspects](http://aspects.jcabi.com/):\r\n\r\n    public class Resource {\r\n      @Cacheable(lifetime = 5, unit = TimeUnit.SECONDS)\r\n      public String load(URL url) {\r\n        return url.openConnection().getContent();\r\n      }\r\n    }\r\n\r\nThe result of `load()` will be cached for five seconds. This blog post of mine may help you understand it better: [Cache Java Method Results (2014)](http://www.yegor256.com/2014/08/03/cacheable-java-annotation.html)","title":"Caching the result of a method in Java","body":"<p>You can use <a href=\"http://aspects.jcabi.com/annotation-cacheable.html\" rel=\"nofollow noreferrer\"><code>@Cacheable</code></a> annotation from <a href=\"http://aspects.jcabi.com/\" rel=\"nofollow noreferrer\">jcabi-aspects</a>:</p>\n<pre><code>public class Resource {\n  @Cacheable(lifetime = 5, unit = TimeUnit.SECONDS)\n  public String load(URL url) {\n    return url.openConnection().getContent();\n  }\n}\n</code></pre>\n<p>The result of <code>load()</code> will be cached for five seconds. This blog post of mine may help you understand it better: <a href=\"http://www.yegor256.com/2014/08/03/cacheable-java-annotation.html\" rel=\"nofollow noreferrer\">Cache Java Method Results (2014)</a></p>\n"}],"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17991,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1484847005,"accepted_answer_id":17088928,"answer_count":3,"score":6,"last_activity_date":1692188771,"creation_date":1371131455,"question_id":17088812,"body_markdown":"I have this method that loads a lot of data from the database:\r\n\r\n    private List&lt;Something&gt; loadFromDb() {\r\n        // Some loading which can take a lot of time\r\n    }\r\n\r\nI am looking for a ***simple*** way to cache the results for some fixed time (2 minutes for example). I do not need to intercept the method invocation itself, just to cache the _returned data_. I can write another method that does the caching if necessary.\r\n\r\nI don&#39;t want to:\r\n\r\n- Use [AOP][1] compile time weaving like [this one][2] - it requires changes in the build\r\n- Use `@Cacheable` in Spring. I have to define a cache for each cacheable method\r\n\r\nIs there a library which can simplify this task, or should I do something else? An example use of such library would be\r\n\r\n    private List&lt;Something&gt; loadFromDbCached() {\r\n        // In Java 8, &#39;this::loadFromDb&#39; would be possible instead of a String\r\n        return SimpleCaching.cache(this, &quot;loadFromDb&quot;, 2, MINUTES).call();\r\n    }\r\n\r\nI am looking for a library that does that, managing the cache is more trouble than it seems, especially if you have concurrent access\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Aspect-oriented_programming\r\n  [2]: https://stackoverflow.com/a/14670421/1047448\r\n","title":"Caching the result of a method in Java","body":"<p>I have this method that loads a lot of data from the database:</p>\n<pre><code>private List&lt;Something&gt; loadFromDb() {\n    // Some loading which can take a lot of time\n}\n</code></pre>\n<p>I am looking for a <em><strong>simple</strong></em> way to cache the results for some fixed time (2 minutes for example). I do not need to intercept the method invocation itself, just to cache the <em>returned data</em>. I can write another method that does the caching if necessary.</p>\n<p>I don't want to:</p>\n<ul>\n<li>Use <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\">AOP</a> compile time weaving like <a href=\"https://stackoverflow.com/a/14670421/1047448\">this one</a> - it requires changes in the build</li>\n<li>Use <code>@Cacheable</code> in Spring. I have to define a cache for each cacheable method</li>\n</ul>\n<p>Is there a library which can simplify this task, or should I do something else? An example use of such library would be</p>\n<pre><code>private List&lt;Something&gt; loadFromDbCached() {\n    // In Java 8, 'this::loadFromDb' would be possible instead of a String\n    return SimpleCaching.cache(this, &quot;loadFromDb&quot;, 2, MINUTES).call();\n}\n</code></pre>\n<p>I am looking for a library that does that, managing the cache is more trouble than it seems, especially if you have concurrent access</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188678,"creation_date":1692188678,"answer_id":76913524,"question_id":76913404,"body_markdown":"The problem lies in the usage of flatMap within the forEach loop. The flatMap operation is used to transform a value and unwrap it from a Mono or Flux. However, in your current code, you are using flatMap within a forEach loop, which does not allow you to return a Mono from inside the forEach loop. You are instead returning values from within the inner subscribe block, which doesn&#39;t work as expected.\r\n\r\n\r\nHere&#39;s a modified version of your saveDeviceDetails method that uses Flux and flatMap correctly to handle the asynchronous operations and compose the final response:\r\n\r\n\r\n    @Override\r\n    public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\r\n    // ... (previous code)\r\n\r\n    // Process the list of device details using Flux\r\n    return Flux.fromIterable(activeDeviceList)\r\n            .flatMap(activeDevice -&gt; {\r\n                String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\r\n                String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\r\n                LocalDate addedOn = LocalDate.parse(addedOnDate);\r\n                LocalDate updatedOn = LocalDate.parse(updatedOnDate);\r\n                String deviceId = activeDevice.getDeviceId();\r\n\r\n                if (!addedOn.isEqual(updatedOn)) {\r\n                    return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\r\n                            .flatMap(deviceDetails2 -&gt; {\r\n                                // Update device details and save\r\n                                deviceDetails2.setContractId(activeDevice.getContractId());\r\n                                deviceDetails2.setCustomerId(activeDevice.getCustomerId());\r\n                                // ... (set other properties)\r\n                                \r\n                                return activeDevicesRepo.save(deviceDetails2)\r\n                                        .map(savedDeviceDetails -&gt; {\r\n                                            responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\r\n                                            responseDTO.setStatusCode(201);\r\n                                            return responseDTO;\r\n                                        });\r\n                            });\r\n                } else {\r\n                    // Handle the case where addedOn is equal to updatedOn\r\n                    // (You might want to return an appropriate response here)\r\n                    return Mono.empty();\r\n                }\r\n            })\r\n            .last()  // Collect the last emitted value (responseDTO) from the Flux\r\n            .switchIfEmpty(Mono.defer(() -&gt; {\r\n                responseDTO.setResponseMessage(&quot;No records updated&quot;);\r\n                responseDTO.setStatusCode(200);\r\n                return Mono.just(responseDTO);\r\n            }));\r\n    }","title":"SpringBoot WebFlux Update List of Object data and return a Mono","body":"<p>The problem lies in the usage of flatMap within the forEach loop. The flatMap operation is used to transform a value and unwrap it from a Mono or Flux. However, in your current code, you are using flatMap within a forEach loop, which does not allow you to return a Mono from inside the forEach loop. You are instead returning values from within the inner subscribe block, which doesn't work as expected.</p>\n<p>Here's a modified version of your saveDeviceDetails method that uses Flux and flatMap correctly to handle the asynchronous operations and compose the final response:</p>\n<pre><code>@Override\npublic Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\n// ... (previous code)\n\n// Process the list of device details using Flux\nreturn Flux.fromIterable(activeDeviceList)\n        .flatMap(activeDevice -&gt; {\n            String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\n            String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\n            LocalDate addedOn = LocalDate.parse(addedOnDate);\n            LocalDate updatedOn = LocalDate.parse(updatedOnDate);\n            String deviceId = activeDevice.getDeviceId();\n\n            if (!addedOn.isEqual(updatedOn)) {\n                return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\n                        .flatMap(deviceDetails2 -&gt; {\n                            // Update device details and save\n                            deviceDetails2.setContractId(activeDevice.getContractId());\n                            deviceDetails2.setCustomerId(activeDevice.getCustomerId());\n                            // ... (set other properties)\n                            \n                            return activeDevicesRepo.save(deviceDetails2)\n                                    .map(savedDeviceDetails -&gt; {\n                                        responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\n                                        responseDTO.setStatusCode(201);\n                                        return responseDTO;\n                                    });\n                        });\n            } else {\n                // Handle the case where addedOn is equal to updatedOn\n                // (You might want to return an appropriate response here)\n                return Mono.empty();\n            }\n        })\n        .last()  // Collect the last emitted value (responseDTO) from the Flux\n        .switchIfEmpty(Mono.defer(() -&gt; {\n            responseDTO.setResponseMessage(&quot;No records updated&quot;);\n            responseDTO.setStatusCode(200);\n            return Mono.just(responseDTO);\n        }));\n}\n</code></pre>\n"}],"owner":{"account_id":13765213,"reputation":31,"user_id":13387964,"display_name":"Balachander K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692188678,"creation_date":1692187688,"question_id":76913404,"body_markdown":"Im passing a List&lt;Object&gt; in the request body and i need to return a Mono&lt;Object&gt; as the output response.  But while using flatMap after single update the return statement works and it throws error on the IDE.  Is there any way to achieve this?\r\n\r\nReportController.java\r\n\r\n      @ApiOperation(&quot;This is a POST API for saving active Device details.&quot;)\r\n        @PostMapping(value = UrlPaths.ACTIVE_DEVICE_WITH_DISCOUNT)\r\n        public Mono&lt;UserEventsResponseDTO&gt; activeDeviceWithDiscount(\r\n                @Valid @RequestBody List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; userEventsDTOList) {\r\n            logger.info(&quot;Devices details....{}&quot;, userEventsDTOList);\r\n    \r\n            return reportService.saveDeviceDetails(userEventsDTOList);\r\n        }\r\n\r\nReportServiceImpl.java\r\n\r\n     @Override\r\n        public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(\r\n                List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\r\n            final UserEventsResponseDTO responseDTO = new UserEventsResponseDTO();\r\n            final List&lt;SelectedEventsForActiveDevicesWithDiscount&gt; activeDeviceList = new ArrayList&lt;SelectedEventsForActiveDevicesWithDiscount&gt;();\r\n            deviceList.forEach(device -&gt; {\r\n                SelectedEventsForActiveDevicesWithDiscount deviceDetails = new SelectedEventsForActiveDevicesWithDiscount();\r\n                deviceDetails.setAddedOn(device.getAddedOn());\r\n                deviceDetails.setUpdatedOn(device.getUpdatedOn());\r\n                deviceDetails.setContractId(device.getContractId());\r\n                deviceDetails.setCustomerId(device.getCustomerId());\r\n                deviceDetails.setEventName(device.getEventName());\r\n                deviceDetails.setIsSubscribed(device.getIsSubscribed());\r\n                deviceDetails.setMonthYear(device.getMonthYear());\r\n                deviceDetails.setDeviceType(device.getDeviceType());\r\n                deviceDetails.setProfileId(device.getProfileId());\r\n                deviceDetails.setSourceId(device.getSourceId());\r\n                deviceDetails.setDeviceId(device.getDeviceId());\r\n                activeDeviceList.add(deviceDetails);\r\n            });\r\n            logger.info(&quot;Device Details...{}&quot;, activeDeviceList);\r\n            activeDeviceList.forEach(activeDevice -&gt; {\r\n                String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\r\n                logger.info(&quot;Added on...{}&quot;, addedOnDate);\r\n                String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\r\n                logger.info(&quot;Updated on....{}&quot;, updatedOnDate);\r\n                LocalDate addedOn = LocalDate.parse(addedOnDate);\r\n                LocalDate updatedOn = LocalDate.parse(updatedOnDate);\r\n                String deviceId = activeDevice.getDeviceId();\r\n                logger.info(&quot;Device ID...{}&quot;, deviceId);\r\n                if (!addedOn.isEqual(updatedOn)) {\r\n                    logger.info(&quot;It is a new record...{}&quot;);\r\n                    return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\r\n                            .flatMap(deviceDetails2 -&gt; {\r\n                                logger.info(&quot;Device Details...{}&quot;, deviceDetails2);\r\n                                deviceDetails2.setContractId(activeDevice.getContractId());\r\n                                deviceDetails2.setCustomerId(activeDevice.getCustomerId());\r\n                                deviceDetails2.setDeviceId(activeDevice.getDeviceId());\r\n                                deviceDetails2.setDeviceType(activeDevice.getDeviceType());\r\n                                deviceDetails2.setEventName(activeDevice.getEventName());\r\n                                deviceDetails2.setIsSubscribed(activeDevice.getIsSubscribed());\r\n                                deviceDetails2.setMonthYear(activeDevice.getMonthYear());\r\n                                deviceDetails2.setProfileId(activeDevice.getProfileId());\r\n                                deviceDetails2.setSourceId(activeDevice.getSourceId());\r\n                                deviceDetails2.setUpdatedOn(activeDevice.getUpdatedOn());\r\n                                deviceDetails2.setAddedOn(activeDevice.getAddedOn());\r\n                                activeDevicesRepo.save(deviceDetails2).subscribe(deviceDetails3 -&gt; {\r\n                                    logger.info(&quot;Record updated Successfully...{}&quot;, deviceDetails3);\r\n                                    responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\r\n                                    responseDTO.setStatusCode(201);\r\n                                    return Mono.just(responseDTO);\r\n                                });\r\n                                \r\n                            });\r\n                }\r\n            });\r\n        }","title":"SpringBoot WebFlux Update List of Object data and return a Mono","body":"<p>Im passing a List in the request body and i need to return a Mono as the output response.  But while using flatMap after single update the return statement works and it throws error on the IDE.  Is there any way to achieve this?</p>\n<p>ReportController.java</p>\n<pre><code>  @ApiOperation(&quot;This is a POST API for saving active Device details.&quot;)\n    @PostMapping(value = UrlPaths.ACTIVE_DEVICE_WITH_DISCOUNT)\n    public Mono&lt;UserEventsResponseDTO&gt; activeDeviceWithDiscount(\n            @Valid @RequestBody List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; userEventsDTOList) {\n        logger.info(&quot;Devices details....{}&quot;, userEventsDTOList);\n\n        return reportService.saveDeviceDetails(userEventsDTOList);\n    }\n</code></pre>\n<p>ReportServiceImpl.java</p>\n<pre><code> @Override\n    public Mono&lt;UserEventsResponseDTO&gt; saveDeviceDetails(\n            List&lt;SelectedEventsForActiveDevicesWithDiscountDTO&gt; deviceList) {\n        final UserEventsResponseDTO responseDTO = new UserEventsResponseDTO();\n        final List&lt;SelectedEventsForActiveDevicesWithDiscount&gt; activeDeviceList = new ArrayList&lt;SelectedEventsForActiveDevicesWithDiscount&gt;();\n        deviceList.forEach(device -&gt; {\n            SelectedEventsForActiveDevicesWithDiscount deviceDetails = new SelectedEventsForActiveDevicesWithDiscount();\n            deviceDetails.setAddedOn(device.getAddedOn());\n            deviceDetails.setUpdatedOn(device.getUpdatedOn());\n            deviceDetails.setContractId(device.getContractId());\n            deviceDetails.setCustomerId(device.getCustomerId());\n            deviceDetails.setEventName(device.getEventName());\n            deviceDetails.setIsSubscribed(device.getIsSubscribed());\n            deviceDetails.setMonthYear(device.getMonthYear());\n            deviceDetails.setDeviceType(device.getDeviceType());\n            deviceDetails.setProfileId(device.getProfileId());\n            deviceDetails.setSourceId(device.getSourceId());\n            deviceDetails.setDeviceId(device.getDeviceId());\n            activeDeviceList.add(deviceDetails);\n        });\n        logger.info(&quot;Device Details...{}&quot;, activeDeviceList);\n        activeDeviceList.forEach(activeDevice -&gt; {\n            String addedOnDate = activeDevice.getAddedOn().split(&quot;T&quot;)[0];\n            logger.info(&quot;Added on...{}&quot;, addedOnDate);\n            String updatedOnDate = activeDevice.getUpdatedOn().split(&quot;T&quot;)[0];\n            logger.info(&quot;Updated on....{}&quot;, updatedOnDate);\n            LocalDate addedOn = LocalDate.parse(addedOnDate);\n            LocalDate updatedOn = LocalDate.parse(updatedOnDate);\n            String deviceId = activeDevice.getDeviceId();\n            logger.info(&quot;Device ID...{}&quot;, deviceId);\n            if (!addedOn.isEqual(updatedOn)) {\n                logger.info(&quot;It is a new record...{}&quot;);\n                return activeDevicesRepo.findByDeviceIdAndAddedOn(deviceId, activeDevice.getAddedOn())\n                        .flatMap(deviceDetails2 -&gt; {\n                            logger.info(&quot;Device Details...{}&quot;, deviceDetails2);\n                            deviceDetails2.setContractId(activeDevice.getContractId());\n                            deviceDetails2.setCustomerId(activeDevice.getCustomerId());\n                            deviceDetails2.setDeviceId(activeDevice.getDeviceId());\n                            deviceDetails2.setDeviceType(activeDevice.getDeviceType());\n                            deviceDetails2.setEventName(activeDevice.getEventName());\n                            deviceDetails2.setIsSubscribed(activeDevice.getIsSubscribed());\n                            deviceDetails2.setMonthYear(activeDevice.getMonthYear());\n                            deviceDetails2.setProfileId(activeDevice.getProfileId());\n                            deviceDetails2.setSourceId(activeDevice.getSourceId());\n                            deviceDetails2.setUpdatedOn(activeDevice.getUpdatedOn());\n                            deviceDetails2.setAddedOn(activeDevice.getAddedOn());\n                            activeDevicesRepo.save(deviceDetails2).subscribe(deviceDetails3 -&gt; {\n                                logger.info(&quot;Record updated Successfully...{}&quot;, deviceDetails3);\n                                responseDTO.setResponseMessage(&quot;Updated Successfully&quot;);\n                                responseDTO.setStatusCode(201);\n                                return Mono.just(responseDTO);\n                            });\n                            \n                        });\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring","database","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":2454359,"reputation":77,"user_id":2139911,"accept_rate":0,"display_name":"Guillermo Garcia"},"score":0,"creation_date":1691195910,"post_id":72701126,"comment_id":135463944,"body_markdown":"Did you found a way to do it?","body":"Did you found a way to do it?"}],"answers":[{"tags":[],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692188192,"creation_date":1692188192,"answer_id":76913471,"question_id":72701126,"body_markdown":"First of all, you have to find the exact time when the password was going to reset. In my case we are using AWS SecretManager bind with RDS, and password was auto-rotated based on cron expression at 00:00 on the first day of the month. I created scheduler which fetch password just after it was get auto-rotated and update in hikari.\r\n\r\n    @Scheduled(cron = &quot;2 0 1 * *&quot;&quot;)\r\n\tpublic void autoRotatePassword() throws Exception {\r\n\t\tHikariDataSource datasource = (HikariDataSource) dataSource();\r\n\t\tHikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\r\n\t\t\r\n\t\tLOGGER.info(String.format(&quot;Start refreshing passowrd in %s...&quot;, hikariConfigMXBean.getPoolName()));\r\n\t\thikariConfigMXBean.setPassword(getPassword());\r\n\t\t\r\n\t\t HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\r\n\t     if (pool != null) {\r\n\t    \t  pool.softEvictConnections();  // Close unused cnxns &amp; mark open ones for disposal\r\n\t\t      pool.resumePool(); \t// Re-enable connections \r\n\t    }\r\n\t}\r\n\r\nWhere getPassword() contains the mechanism for fetching the password from the SecretManager.","title":"HikariCp change password dynamically after setPassword","body":"<p>First of all, you have to find the exact time when the password was going to reset. In my case we are using AWS SecretManager bind with RDS, and password was auto-rotated based on cron expression at 00:00 on the first day of the month. I created scheduler which fetch password just after it was get auto-rotated and update in hikari.</p>\n<pre><code>@Scheduled(cron = &quot;2 0 1 * *&quot;&quot;)\npublic void autoRotatePassword() throws Exception {\n    HikariDataSource datasource = (HikariDataSource) dataSource();\n    HikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\n    \n    LOGGER.info(String.format(&quot;Start refreshing passowrd in %s...&quot;, hikariConfigMXBean.getPoolName()));\n    hikariConfigMXBean.setPassword(getPassword());\n    \n     HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\n     if (pool != null) {\n          pool.softEvictConnections();  // Close unused cnxns &amp; mark open ones for disposal\n          pool.resumePool();    // Re-enable connections \n    }\n}\n</code></pre>\n<p>Where getPassword() contains the mechanism for fetching the password from the SecretManager.</p>\n"}],"owner":{"account_id":3969072,"reputation":181,"user_id":3274100,"accept_rate":0,"display_name":"user3274100"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692188192,"creation_date":1655815894,"question_id":72701126,"body_markdown":"I developed a spring boot restfull aplication that talk with db2 .\r\n\r\nI used Hikari datasource for good pooling handling (maybe)\r\n\r\nThe password is taken from a safe system and for each getconnection i set the password that i recieved from the safe.\r\n\r\nthe reason why i set the password for each connection is because that The password can be changed in the safe Once a week at an unknown time so i must before get connection to get the new password and set it instead the exist.\r\n\r\nthe problem is that the Hikari keep the old password even if the pool empty and i give the new password\r\n\r\nany idea how can i change the password for each get connection ?\r\n\r\n&gt; this is the configuration file for Hikari\r\n\r\n    #maximum number of milliseconds that a client will wait for a connection\r\n    spring.datasource.connectionTimeout=20000\r\n    #minimum number of idle connections maintained by HikariCP in a connection pool\r\n    spring.datasource.minimumIdle=0\r\n    #maximum pool size\r\n    spring.datasource.maximumPoolSize=100 \r\n    #maximum idle time for connection\r\n    spring.datasource.idleTimeout=30000\r\n    # maximum lifetime in milliseconds of a connection in the pool after it is closed.\r\n    spring.datasource.maxLifetime=0 \r\n    #default auto-commit behavior.\r\n    spring.datasource.autocommit=true \r\n    spring.datasource.poolName=db2Pool\r\n\r\n&gt; create the dataSource\r\n\r\n   \r\n\r\n     @Bean(&quot;dataSourceMF&quot;)\r\n    \t@Order(PriorityOrdered.HIGHEST_PRECEDENCE)\r\n    \tpublic DataSource dataSourceMF() {\r\n    \r\n           PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\r\n    \t   String userPassword = passwordsMessage.getPassword();\r\n    \r\n            Properties configProps = new Properties();\r\n    \t\tconfigProps.put(&quot;poolName&quot;, poolName);\r\n    \t\tconfigProps.put(&quot;jdbcUrl&quot;, db2Url);\r\n    \t\tconfigProps.put(&quot;driverClassName&quot;, db2Driver);\r\n    \t\tconfigProps.put(&quot;username&quot;, db2User);\r\n    \t\tconfigProps.put(&quot;catalog&quot;, db2Catalog);\r\n    \t\tconfigProps.put(&quot;maximumPoolSize&quot;, maximumPoolSize);\r\n    \t\tconfigProps.put(&quot;minimumIdle&quot;, minimumIdle);\r\n    \t\tconfigProps.put(&quot;connectionTimeout&quot;, connectionTimeout);\r\n    \t\tconfigProps.put(&quot;idleTimeout&quot;, idleTimeout);\r\n    \t\tconfigProps.put(&quot;autoCommit&quot;, autoCommit);\r\n    \t\tconfigProps.put(&quot;dataSource.prepStmtCacheSize&quot;, 250);\r\n    \t\tconfigProps.put(&quot;dataSource.prepStmtCacheSqlLimit&quot;, 2048);\r\n    \t\tconfigProps.put(&quot;dataSource.cachePrepStmts&quot;, Boolean.TRUE);\r\n    \t\tconfigProps.put(&quot;dataSource.useServerPrepStmts&quot;, Boolean.TRUE);\r\n    \t\tconfigProps.put(&quot;password&quot;, userPassword);\r\n    \r\n    \t\tHikariConfig hc = new HikariConfig(configProps);\r\n    \t\tdataSource = new HikariDataSource(hc);\r\n    \r\n            return dataSource;\r\n    \t}\r\n\r\n&gt; get connection\r\n\r\n    public Connection getConnection() throws SQLException, Exception {\r\n    \t\t\r\n    \t\tPasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\r\n    \t\tString userPassword = passwordsMessage.getPassword();\r\n    \t\r\n    \t\ttry {\r\n    \t\t\tdataSource.setPassword(userPassword);\r\n    \t\t\treturn dataSource.getConnection();\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n&gt; pom.xml\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QPH1N.png\r\n  [2]: https://i.stack.imgur.com/hR6P9.png","title":"HikariCp change password dynamically after setPassword","body":"<p>I developed a spring boot restfull aplication that talk with db2 .</p>\n<p>I used Hikari datasource for good pooling handling (maybe)</p>\n<p>The password is taken from a safe system and for each getconnection i set the password that i recieved from the safe.</p>\n<p>the reason why i set the password for each connection is because that The password can be changed in the safe Once a week at an unknown time so i must before get connection to get the new password and set it instead the exist.</p>\n<p>the problem is that the Hikari keep the old password even if the pool empty and i give the new password</p>\n<p>any idea how can i change the password for each get connection ?</p>\n<blockquote>\n<p>this is the configuration file for Hikari</p>\n</blockquote>\n<pre><code>#maximum number of milliseconds that a client will wait for a connection\nspring.datasource.connectionTimeout=20000\n#minimum number of idle connections maintained by HikariCP in a connection pool\nspring.datasource.minimumIdle=0\n#maximum pool size\nspring.datasource.maximumPoolSize=100 \n#maximum idle time for connection\nspring.datasource.idleTimeout=30000\n# maximum lifetime in milliseconds of a connection in the pool after it is closed.\nspring.datasource.maxLifetime=0 \n#default auto-commit behavior.\nspring.datasource.autocommit=true \nspring.datasource.poolName=db2Pool\n</code></pre>\n<blockquote>\n<p>create the dataSource</p>\n</blockquote>\n<pre><code> @Bean(&quot;dataSourceMF&quot;)\n    @Order(PriorityOrdered.HIGHEST_PRECEDENCE)\n    public DataSource dataSourceMF() {\n\n       PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\n       String userPassword = passwordsMessage.getPassword();\n\n        Properties configProps = new Properties();\n        configProps.put(&quot;poolName&quot;, poolName);\n        configProps.put(&quot;jdbcUrl&quot;, db2Url);\n        configProps.put(&quot;driverClassName&quot;, db2Driver);\n        configProps.put(&quot;username&quot;, db2User);\n        configProps.put(&quot;catalog&quot;, db2Catalog);\n        configProps.put(&quot;maximumPoolSize&quot;, maximumPoolSize);\n        configProps.put(&quot;minimumIdle&quot;, minimumIdle);\n        configProps.put(&quot;connectionTimeout&quot;, connectionTimeout);\n        configProps.put(&quot;idleTimeout&quot;, idleTimeout);\n        configProps.put(&quot;autoCommit&quot;, autoCommit);\n        configProps.put(&quot;dataSource.prepStmtCacheSize&quot;, 250);\n        configProps.put(&quot;dataSource.prepStmtCacheSqlLimit&quot;, 2048);\n        configProps.put(&quot;dataSource.cachePrepStmts&quot;, Boolean.TRUE);\n        configProps.put(&quot;dataSource.useServerPrepStmts&quot;, Boolean.TRUE);\n        configProps.put(&quot;password&quot;, userPassword);\n\n        HikariConfig hc = new HikariConfig(configProps);\n        dataSource = new HikariDataSource(hc);\n\n        return dataSource;\n    }\n</code></pre>\n<blockquote>\n<p>get connection</p>\n</blockquote>\n<pre><code>public Connection getConnection() throws SQLException, Exception {\n        \n        PasswordsMessage passwordsMessage = passwordApi.getPassword(&quot;username&quot;);\n        String userPassword = passwordsMessage.getPassword();\n    \n        try {\n            dataSource.setPassword(userPassword);\n            return dataSource.getConnection();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;version&gt;2.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QPH1N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPH1N.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hR6P9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hR6P9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-camera","android-camera2"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1692195520,"post_id":76913420,"comment_id":135591126,"body_markdown":"What is the reason for scaling the computed red and blue values by 2 - that would potentially put the values out of normalized range of [0.0f, 1.0f].  Algorithm (other than constructor) matches other sources.","body":"What is the reason for scaling the computed red and blue values by 2 - that would potentially put the values out of normalized range of [0.0f, 1.0f].  Algorithm (other than constructor) matches other sources."}],"owner":{"account_id":28678219,"reputation":1,"user_id":21959923,"display_name":"LazyIonEs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187945,"creation_date":1692187813,"question_id":76913420,"body_markdown":"How can I convert kelvin to RggbChannelVector object and pass it to Camera\r\n\r\nCurrently, my code is like this\r\n\r\n    val c2cc = Camera2CameraControl.from(camera.cameraControl)\r\n            c2cc.clearCaptureRequestOptions()\r\n            c2cc.captureRequestOptions = CaptureRequestOptions.Builder()\r\n                .setCaptureRequestOption(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_OFF)\r\n                .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_MODE, CaptureRequest.COLOR_CORRECTION_MODE_TRANSFORM_MATRIX)\r\n                .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_GAINS, ColorTemperatureConverter.colorTemperature(kelvin))\r\n                .build()\r\n\r\nThe formula I found on the Internet does not convert correctly, it is like this\r\n\r\n    fun colorTemperature(kelvin: Int): RggbChannelVector {\r\n        val temperature = kelvin / 100f\r\n        var red: Float\r\n        var green: Float\r\n        var blue: Float\r\n\r\n        // Calculate red\r\n        if (temperature &lt;= 66) {\r\n            red = 255f\r\n        } else {\r\n            red = temperature - 60\r\n\r\n            red = (329.698727446 * red.toDouble().pow(-0.1332047592)).toFloat()\r\n            if (red &lt; 0) red = 0f\r\n            if (red &gt; 255) red = 255f\r\n        }\r\n\r\n        // Calculate green\r\n        if (temperature &lt;= 66) {\r\n            green = temperature\r\n            green = (99.4708025861 * ln(green.toDouble()) - 161.1195681661).toFloat()\r\n            if (green &lt; 0) {\r\n                green = 0f\r\n            }\r\n            if (green &gt; 255) {\r\n                green = 255f\r\n            }\r\n        } else {\r\n            green = temperature - 60\r\n            green = (288.1221695283 * green.toDouble().pow(-0.0755148492)).toFloat()\r\n            if (green &lt; 0) green = 0f\r\n            if (green &gt; 255) green = 255f\r\n        }\r\n\r\n        // Calculate blue\r\n        if (temperature &gt;= 66) blue = 255f\r\n        else if (temperature &lt;= 19) blue = 0f\r\n        else {\r\n            blue = temperature - 10;\r\n            blue = (138.5177312231 * ln(blue.toDouble()) - 305.0447927307).toFloat()\r\n            if (blue &lt; 0) blue = 0f\r\n            if (blue &gt; 255) blue = 255f\r\n        }\r\n        return RggbChannelVector((red / 255) * 2, green / 255, green / 255, (blue / 255) * 2)\r\n    }\r\n\r\nI want to convert kelvin to RggbChannelVector object, and RggbChannelVector object can also deduce kelvin, thank you","title":"How can I convert kelvin to RggbChannelVector object and pass it to Camera","body":"<p>How can I convert kelvin to RggbChannelVector object and pass it to Camera</p>\n<p>Currently, my code is like this</p>\n<pre><code>val c2cc = Camera2CameraControl.from(camera.cameraControl)\n        c2cc.clearCaptureRequestOptions()\n        c2cc.captureRequestOptions = CaptureRequestOptions.Builder()\n            .setCaptureRequestOption(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_OFF)\n            .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_MODE, CaptureRequest.COLOR_CORRECTION_MODE_TRANSFORM_MATRIX)\n            .setCaptureRequestOption(CaptureRequest.COLOR_CORRECTION_GAINS, ColorTemperatureConverter.colorTemperature(kelvin))\n            .build()\n</code></pre>\n<p>The formula I found on the Internet does not convert correctly, it is like this</p>\n<pre><code>fun colorTemperature(kelvin: Int): RggbChannelVector {\n    val temperature = kelvin / 100f\n    var red: Float\n    var green: Float\n    var blue: Float\n\n    // Calculate red\n    if (temperature &lt;= 66) {\n        red = 255f\n    } else {\n        red = temperature - 60\n\n        red = (329.698727446 * red.toDouble().pow(-0.1332047592)).toFloat()\n        if (red &lt; 0) red = 0f\n        if (red &gt; 255) red = 255f\n    }\n\n    // Calculate green\n    if (temperature &lt;= 66) {\n        green = temperature\n        green = (99.4708025861 * ln(green.toDouble()) - 161.1195681661).toFloat()\n        if (green &lt; 0) {\n            green = 0f\n        }\n        if (green &gt; 255) {\n            green = 255f\n        }\n    } else {\n        green = temperature - 60\n        green = (288.1221695283 * green.toDouble().pow(-0.0755148492)).toFloat()\n        if (green &lt; 0) green = 0f\n        if (green &gt; 255) green = 255f\n    }\n\n    // Calculate blue\n    if (temperature &gt;= 66) blue = 255f\n    else if (temperature &lt;= 19) blue = 0f\n    else {\n        blue = temperature - 10;\n        blue = (138.5177312231 * ln(blue.toDouble()) - 305.0447927307).toFloat()\n        if (blue &lt; 0) blue = 0f\n        if (blue &gt; 255) blue = 255f\n    }\n    return RggbChannelVector((red / 255) * 2, green / 255, green / 255, (blue / 255) * 2)\n}\n</code></pre>\n<p>I want to convert kelvin to RggbChannelVector object, and RggbChannelVector object can also deduce kelvin, thank you</p>\n"},{"tags":["java","angular","spring-boot","pdf","spring-webflux"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692129139,"post_id":76907924,"comment_id":135581726,"body_markdown":"Maybe I don&#39;t understand how you want to do that, but I don&#39;t see how you split the `resource` in parts","body":"Maybe I don&#39;t understand how you want to do that, but I don&#39;t see how you split the <code>resource</code> in parts"},{"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"score":0,"creation_date":1692130505,"post_id":76907924,"comment_id":135581907,"body_markdown":"@IgorArtamonov No need to split resource in part when using ngx-pdf-viewer it&#39;s automatic.","body":"@IgorArtamonov No need to split resource in part when using ngx-pdf-viewer it&#39;s automatic."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692130862,"post_id":76907924,"comment_id":135581952,"body_markdown":"I&#39;m talking about the backend part, are you sure that only the requested slice of the  `resource` is read into memory?","body":"I&#39;m talking about the backend part, are you sure that only the requested slice of the  <code>resource</code> is read into memory?"},{"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"score":0,"creation_date":1692171779,"post_id":76907924,"comment_id":135586114,"body_markdown":"@IgorArtamonov I modified the code by implementing MinIO which allows to store data remotely and allows to retrieve slices of the resource (offset/length). When I use this code, I receive a lot of client requests in partial content and the streaming is not functional (for large files). The resource is waiting for the end of the download to be displayed.","body":"@IgorArtamonov I modified the code by implementing MinIO which allows to store data remotely and allows to retrieve slices of the resource (offset/length). When I use this code, I receive a lot of client requests in partial content and the streaming is not functional (for large files). The resource is waiting for the end of the download to be displayed."}],"owner":{"account_id":29231318,"reputation":1,"user_id":22394962,"display_name":"PaoloBL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187828,"creation_date":1692120038,"question_id":76907924,"body_markdown":"I&#39;ve been stuck for several days.\r\nI would like to be able to stream PDF files with many pages.\r\nFor the moment, it works for big files with a number of pages less than thousands.\r\n\r\nHere is my service side backend (My controller is just a call to this function)\r\n  \r\n    public HashMap&lt;String, Long&gt; getRanges(HttpHeaders headers, long size){\r\n        List&lt;HttpRange&gt; rangeHeader = headers.getRange();\r\n        Long start;\r\n        Long end;\r\n        Long contentLength;\r\n        HashMap&lt;String, Long&gt; ranges = new HashMap&lt;&gt;();\r\n        ranges.put(&quot;size&quot;, size);\r\n\r\n        if (!rangeHeader.isEmpty()) {\r\n            start = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeStart(size)));\r\n            ranges.put(&quot;start&quot;, start);\r\n            end = size - 1;\r\n\r\n            if (rangeHeader.get(0).getRangeEnd(size) &gt; 0) {\r\n                end = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeEnd(size)));\r\n            }\r\n\r\n            ranges.put(&quot;end&quot;, end);\r\n\r\n            contentLength = end - start+1;\r\n\r\n            ranges.put(&quot;contentLength&quot;, contentLength);\r\n\r\n        } else {\r\n            ranges.put(&quot;start&quot;, 0L);\r\n            ranges.put(&quot;end&quot;, size-1);\r\n            ranges.put(&quot;contentLength&quot;, size);\r\n\r\n        }\r\n\r\n        return ranges;\r\n    }\r\n\r\n    public Mono&lt;ResponseEntity&lt;Resource&gt;&gt; getStreaming(String path, HttpHeaders headers) {\r\n        return Mono.fromCallable(() -&gt; {\r\n            try {\r\n\r\n                MinioClient minioClient = MinioClient.builder()\r\n                        .endpoint(&quot;http://127.0.0.1:9000&quot;)\r\n                        .credentials(&quot;admin&quot;, &quot;password1&quot;)\r\n                        .build();\r\n\r\n                long size = minioClient.statObject(\r\n                        StatObjectArgs.builder()\r\n                                .bucket(&quot;test&quot;)\r\n                                .object(path)\r\n                                .build()\r\n                ).size();\r\n\r\n                String typeFormat = minioClient.statObject(\r\n                        StatObjectArgs.builder()\r\n                                .bucket(&quot;test&quot;)\r\n                                .object(path)\r\n                                .build()\r\n                ).contentType();\r\n\r\n                GetObjectArgs.Builder argsBuilder = GetObjectArgs\r\n                        .builder()\r\n                        .bucket(&quot;test&quot;)\r\n                        .object(path);\r\n\r\n\r\n                HashMap&lt;String, Long&gt; ranges = getRanges(headers, size);\r\n\r\n                InputStream obj = minioClient.getObject(argsBuilder\r\n                        .offset(ranges.get(&quot;start&quot;))\r\n                        .length(ranges.get(&quot;contentLength&quot;))\r\n                        .build());\r\n\r\n                InputStreamResource resource = new InputStreamResource(obj);\r\n\r\n                HttpHeaders headers1 = new HttpHeaders();\r\n\r\n                headers1.set(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n\r\n                headers1.setContentLength(ranges.get(&quot;contentLength&quot;));\r\n                headers1.set(&quot;Content-Range&quot;, &quot;bytes &quot; + ranges.get(&quot;start&quot;) + &quot;-&quot; + ranges.get(&quot;end&quot;) + &quot;/&quot; + ranges.get(&quot;size&quot;));\r\n\r\n                if(!headers.getRange().isEmpty()){\r\n\r\n                    return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\r\n                            .contentType(MediaType.valueOf(typeFormat))\r\n                            .headers(headers1)\r\n                            .body(resource);\r\n                }else {\r\n                    return ResponseEntity.ok()\r\n                            .contentType(MediaType.valueOf(typeFormat))\r\n                            .headers(headers1)\r\n                            .body(resource);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nFront-end side I make a very simple call with ngx-pdf-viewer\r\n`&lt;ngx-pdf-viewer [src]=&quot;&#39;/service?path=pdf/test_262MB.pdf&#39;&quot;&gt;&lt;/ngx-pdf-viewer&gt;\r\n`\r\n\r\nI expect to be able to stream large PDFs\r\n\r\nUPDATE :\r\nAfter several tests I managed to stream PDF files of 226Mb (only 304 pages) and 453Mb (only 608 pages). I concluded that it depends on the number of pages. When I test with some files with big number of pages, I have to download all the content for the viewer to start displaying it. But for others, the viewer only needs a small part to display it. Example on my 226Mb file, the viewer downloads 32Mb and begins to display the PDF. And I can jump between pages, and the content downloads with each page jump. Same for the 453Mb, the viewer downloads 61Mb to start the display. \r\n\r\nIf anyone knows why some files are required to be fully downloaded? \r\nThank you","title":"Streaming big files (pdf) with springboot webflux &amp; angular","body":"<p>I've been stuck for several days.\nI would like to be able to stream PDF files with many pages.\nFor the moment, it works for big files with a number of pages less than thousands.</p>\n<p>Here is my service side backend (My controller is just a call to this function)</p>\n<pre><code>public HashMap&lt;String, Long&gt; getRanges(HttpHeaders headers, long size){\n    List&lt;HttpRange&gt; rangeHeader = headers.getRange();\n    Long start;\n    Long end;\n    Long contentLength;\n    HashMap&lt;String, Long&gt; ranges = new HashMap&lt;&gt;();\n    ranges.put(&quot;size&quot;, size);\n\n    if (!rangeHeader.isEmpty()) {\n        start = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeStart(size)));\n        ranges.put(&quot;start&quot;, start);\n        end = size - 1;\n\n        if (rangeHeader.get(0).getRangeEnd(size) &gt; 0) {\n            end = Long.parseLong(String.valueOf(rangeHeader.get(0).getRangeEnd(size)));\n        }\n\n        ranges.put(&quot;end&quot;, end);\n\n        contentLength = end - start+1;\n\n        ranges.put(&quot;contentLength&quot;, contentLength);\n\n    } else {\n        ranges.put(&quot;start&quot;, 0L);\n        ranges.put(&quot;end&quot;, size-1);\n        ranges.put(&quot;contentLength&quot;, size);\n\n    }\n\n    return ranges;\n}\n\npublic Mono&lt;ResponseEntity&lt;Resource&gt;&gt; getStreaming(String path, HttpHeaders headers) {\n    return Mono.fromCallable(() -&gt; {\n        try {\n\n            MinioClient minioClient = MinioClient.builder()\n                    .endpoint(&quot;http://127.0.0.1:9000&quot;)\n                    .credentials(&quot;admin&quot;, &quot;password1&quot;)\n                    .build();\n\n            long size = minioClient.statObject(\n                    StatObjectArgs.builder()\n                            .bucket(&quot;test&quot;)\n                            .object(path)\n                            .build()\n            ).size();\n\n            String typeFormat = minioClient.statObject(\n                    StatObjectArgs.builder()\n                            .bucket(&quot;test&quot;)\n                            .object(path)\n                            .build()\n            ).contentType();\n\n            GetObjectArgs.Builder argsBuilder = GetObjectArgs\n                    .builder()\n                    .bucket(&quot;test&quot;)\n                    .object(path);\n\n\n            HashMap&lt;String, Long&gt; ranges = getRanges(headers, size);\n\n            InputStream obj = minioClient.getObject(argsBuilder\n                    .offset(ranges.get(&quot;start&quot;))\n                    .length(ranges.get(&quot;contentLength&quot;))\n                    .build());\n\n            InputStreamResource resource = new InputStreamResource(obj);\n\n            HttpHeaders headers1 = new HttpHeaders();\n\n            headers1.set(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n\n            headers1.setContentLength(ranges.get(&quot;contentLength&quot;));\n            headers1.set(&quot;Content-Range&quot;, &quot;bytes &quot; + ranges.get(&quot;start&quot;) + &quot;-&quot; + ranges.get(&quot;end&quot;) + &quot;/&quot; + ranges.get(&quot;size&quot;));\n\n            if(!headers.getRange().isEmpty()){\n\n                return ResponseEntity.status(HttpStatus.PARTIAL_CONTENT)\n                        .contentType(MediaType.valueOf(typeFormat))\n                        .headers(headers1)\n                        .body(resource);\n            }else {\n                return ResponseEntity.ok()\n                        .contentType(MediaType.valueOf(typeFormat))\n                        .headers(headers1)\n                        .body(resource);\n            }\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n</code></pre>\n<p>Front-end side I make a very simple call with ngx-pdf-viewer\n<code>&lt;ngx-pdf-viewer [src]=&quot;'/service?path=pdf/test_262MB.pdf'&quot;&gt;&lt;/ngx-pdf-viewer&gt; </code></p>\n<p>I expect to be able to stream large PDFs</p>\n<p>UPDATE :\nAfter several tests I managed to stream PDF files of 226Mb (only 304 pages) and 453Mb (only 608 pages). I concluded that it depends on the number of pages. When I test with some files with big number of pages, I have to download all the content for the viewer to start displaying it. But for others, the viewer only needs a small part to display it. Example on my 226Mb file, the viewer downloads 32Mb and begins to display the PDF. And I can jump between pages, and the content downloads with each page jump. Same for the 453Mb, the viewer downloads 61Mb to start the display.</p>\n<p>If anyone knows why some files are required to be fully downloaded?\nThank you</p>\n"},{"tags":["python","java","groovy","jmeter"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692172115,"post_id":76911476,"comment_id":135586177,"body_markdown":"Why don&#39;t you include the results (or a few bytes from the start).","body":"Why don&#39;t you include the results (or a few bytes from the start)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692176270,"post_id":76911476,"comment_id":135586969,"body_markdown":"There&#39;s nothing wrong with the code. What are your inputs?","body":"There&#39;s nothing wrong with the code. What are your inputs?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692172576,"creation_date":1692172576,"answer_id":76911573,"question_id":76911476,"body_markdown":"There is [__digest() function][1] in JMeter which can encrypt the value using various algorithms.\r\n\r\nIn your case it would be as simple as:\r\n\r\n    ${__digest(SHA-256,string,,,hashedValue)}\r\n\r\nSee [Apache JMeter Functions - An Introduction][2] article to learn more about JMeter Functions concept. \r\n\r\nIf you still want to use Groovy the easiest would be going for [DigestUtils.sha256Hex()][3] function:\r\n\r\n    vars.put(&#39;hashedValue&#39;, org.apache.commons.codec.digest.DigestUtils.sha256Hex(&#39;string&#39;))\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html#__digest\r\n  [2]: https://www.blazemeter.com/blog/jmeter-functions\r\n  [3]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha256Hex-java.lang.String-","title":"Hash string with sha-256 in Java Groovy on JMeter","body":"<p>There is <a href=\"https://jmeter.apache.org/usermanual/functions.html#__digest\" rel=\"nofollow noreferrer\">__digest() function</a> in JMeter which can encrypt the value using various algorithms.</p>\n<p>In your case it would be as simple as:</p>\n<pre><code>${__digest(SHA-256,string,,,hashedValue)}\n</code></pre>\n<p>See <a href=\"https://www.blazemeter.com/blog/jmeter-functions\" rel=\"nofollow noreferrer\">Apache JMeter Functions - An Introduction</a> article to learn more about JMeter Functions concept.</p>\n<p>If you still want to use Groovy the easiest would be going for <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha256Hex-java.lang.String-\" rel=\"nofollow noreferrer\">DigestUtils.sha256Hex()</a> function:</p>\n<pre><code>vars.put('hashedValue', org.apache.commons.codec.digest.DigestUtils.sha256Hex('string'))\n</code></pre>\n"}],"owner":{"account_id":16710727,"reputation":23,"user_id":12078009,"display_name":"phamthainb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692202787,"accepted_answer_id":76911573,"answer_count":1,"score":0,"last_activity_date":1692187321,"creation_date":1692171658,"question_id":76911476,"body_markdown":"I&#39;m trying to convert a Python script that calculates a SHA-256 hash into Java Groovy for use in JMeter. However, I&#39;m encountering differences in the hash values generated between Python and Groovy. I would appreciate some guidance on how to achieve consistent results.\r\n\r\nPython Code:\r\n```python\r\nimport hashlib\r\n\r\ndef get256SHA(string):\r\n    m = hashlib.sha256()\r\n    m.update(string.encode(&#39;utf-8&#39;))\r\n    return m.hexdigest()\r\n\r\nhashedValue = get256SHA(&quot;string&quot;)\r\n```\r\n\r\nJava Groovy Code:\r\n```groovy\r\nimport java.security.MessageDigest\r\n\r\nString get256SHA(String string) {\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;)\r\n    byte[] bytes = string.getBytes(&quot;UTF-8&quot;)\r\n    byte[] digest = md.digest(bytes)\r\n    StringBuffer hexString = new StringBuffer()\r\n\r\n    for (byte b : digest) {\r\n        hexString.append(String.format(&quot;%02x&quot;, b &amp; 0xff))\r\n    }\r\n\r\n    return hexString.toString()\r\n}\r\n\r\nString input = &quot;string&quot;\r\nString hashedValue = get256SHA(input)\r\nvars.put(&quot;hashedValue&quot;, hashedValue)\r\n```\r\n\r\nIn the Java Groovy code, I&#39;ve attempted to replicate the Python logic to calculate a SHA-256 hash. However, the resulting hash values are not matching between Python and Groovy implementations. Could someone help me identify the potential differences causing this inconsistency and suggest corrections to the Java Groovy code?\r\n\r\nAfter debug again, I got the code below is not wrong, the wrong is my input not trim. And this is the long way, you can try below answer, it&#39;s a good way.","title":"Hash string with sha-256 in Java Groovy on JMeter","body":"<p>I'm trying to convert a Python script that calculates a SHA-256 hash into Java Groovy for use in JMeter. However, I'm encountering differences in the hash values generated between Python and Groovy. I would appreciate some guidance on how to achieve consistent results.</p>\n<p>Python Code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import hashlib\n\ndef get256SHA(string):\n    m = hashlib.sha256()\n    m.update(string.encode('utf-8'))\n    return m.hexdigest()\n\nhashedValue = get256SHA(&quot;string&quot;)\n</code></pre>\n<p>Java Groovy Code:</p>\n<pre><code>import java.security.MessageDigest\n\nString get256SHA(String string) {\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;)\n    byte[] bytes = string.getBytes(&quot;UTF-8&quot;)\n    byte[] digest = md.digest(bytes)\n    StringBuffer hexString = new StringBuffer()\n\n    for (byte b : digest) {\n        hexString.append(String.format(&quot;%02x&quot;, b &amp; 0xff))\n    }\n\n    return hexString.toString()\n}\n\nString input = &quot;string&quot;\nString hashedValue = get256SHA(input)\nvars.put(&quot;hashedValue&quot;, hashedValue)\n</code></pre>\n<p>In the Java Groovy code, I've attempted to replicate the Python logic to calculate a SHA-256 hash. However, the resulting hash values are not matching between Python and Groovy implementations. Could someone help me identify the potential differences causing this inconsistency and suggest corrections to the Java Groovy code?</p>\n<p>After debug again, I got the code below is not wrong, the wrong is my input not trim. And this is the long way, you can try below answer, it's a good way.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692187823,"post_id":76913351,"comment_id":135589264,"body_markdown":"First fix your class, use `JdbcTemplate` instead of the contraption you have now. Also you aren&#39;t testing anything only if you are calling the method (which you do as you can see that).","body":"First fix your class, use <code>JdbcTemplate</code> instead of the contraption you have now. Also you aren&#39;t testing anything only if you are calling the method (which you do as you can see that)."},{"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"score":0,"creation_date":1692188932,"post_id":76913351,"comment_id":135589504,"body_markdown":"I can&#39;t modify the actual code because that is written by other team member. my responsibility is to write test case. is there a way to do so?","body":"I can&#39;t modify the actual code because that is written by other team member. my responsibility is to write test case. is there a way to do so?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692189493,"post_id":76913351,"comment_id":135589646,"body_markdown":"Convince them, this is the wrong way to write JDBC code with Spring. You would need to mock the JDBC stuff and verify that, I doubt you can intercept the internal method call to get the connection.","body":"Convince them, this is the wrong way to write JDBC code with Spring. You would need to mock the JDBC stuff and verify that, I doubt you can intercept the internal method call to get the connection."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1692189755,"post_id":76913351,"comment_id":135589720,"body_markdown":"I don&#39;t agree with this approach.  Mocking a database?  What is that proving?  If you&#39;re testing a repository, connect to a real database and execute the operations.  Make them transactional so you leave the database in the same state that you found it in.  Mocks aren&#39;t helpful or illustrative in this case.","body":"I don&#39;t agree with this approach.  Mocking a database?  What is that proving?  If you&#39;re testing a repository, connect to a real database and execute the operations.  Make them transactional so you leave the database in the same state that you found it in.  Mocks aren&#39;t helpful or illustrative in this case."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1692189820,"post_id":76913351,"comment_id":135589734,"body_markdown":"That JDBC code is awful.  I thought you were using Spring. Why are you not using JdbcTemplate?  I&#39;d scrap that code and start again.","body":"That JDBC code is awful.  I thought you were using Spring. Why are you not using JdbcTemplate?  I&#39;d scrap that code and start again."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1692202454,"post_id":76913351,"comment_id":135592621,"body_markdown":"What is your test testing? Nothing really: `crud.delete(); verify(crud, times(1)).delete();` – what do you want to verify here; that the Java compiler is generating the correct bytecode and the JVM really called the method?","body":"What is your test testing? Nothing really: <code>crud.delete(); verify(crud, times(1)).delete();</code> – what do you want to verify here; that the Java compiler is generating the correct bytecode and the JVM really called the method?"},{"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"score":0,"creation_date":1692210344,"post_id":76913351,"comment_id":135594005,"body_markdown":"@knittl : please tell me what changes I should make in the test case.","body":"@knittl : please tell me what changes I should make in the test case."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1692215294,"post_id":76913351,"comment_id":135594914,"body_markdown":"1. Run your test against a real DB (ideally embedded or dockerized) 2. Check that `deleteEmployee` does what it advertises - removes existing employees. How: add employee - check if select query finds them - delete the employee - now same query should not find them. +1 for JdbcTemplate.","body":"1. Run your test against a real DB (ideally embedded or dockerized) 2. Check that <code>deleteEmployee</code> does what it advertises - removes existing employees. How: add employee - check if select query finds them - delete the employee - now same query should not find them. +1 for JdbcTemplate."}],"owner":{"account_id":1698884,"reputation":47,"user_id":1559561,"accept_rate":0,"display_name":"Gopal Lal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692187248,"creation_date":1692187248,"question_id":76913351,"body_markdown":"Below is my main class where main logic delete operation is written:\r\n\r\n    public class EmployeeCrudOperation {\r\n        \r\n    public void deleteEmployee(String id) {\r\n       StringBuilder deleteQuery = new StringBuilder(&quot;DELETE FROM EMPLOYEE WHERE ID = ?&quot;);\r\n       PreparedStatement preparedStapreparedStatement tement = null;\r\n       Connection = null;\r\n\r\n       try{\r\n           //connection = DBConnection.getInstance().getConnection();\r\n           //it contains JNDI connection code called under static block\r\n           connection = getConnection();\r\n           if(connection == null) {\r\n\t           logger.logMessage(&quot;some text&quot;);\r\n        \t   return;\r\n        }\r\n        preparedStatement = connection.PreparedStatement(deleteQuery.toString());\r\n        preparedStatement.setString(1, id);\r\n        int n = preparedStatement.executeUpdate();\r\n        if(n == 0) {\r\n\t        logger.logMessage(&quot;some message&quot;);\r\n        }\r\n        if(preparedStatement != null) {\r\n\t          preparedStatement.close();\r\n        }\r\n       } catch(SQLException e) {\r\n\t     logger.logMessage(&quot;some message&quot;);\r\n       } catch(Exception e) {\r\n    \t logger.logMessage(&quot;some message&quot;);\r\n       } finally {\r\n\t     try {\r\n\t\t    if(preparedStatement != null) {\r\n\t\t\t    preparedStatement.close();\r\n\t\t    }\r\n\t     } catch(Exception e) {\r\n\r\n\t     }\r\n\t     try {\r\n\t\t      if(connection != null) {\r\n\t\t\t         connection.close();\r\n\t\t      }\r\n\t     } catch(Exception e) {}\r\n     }\r\n     }\r\n    public Connection getConnection() {\r\n        return DBConnection.getInstance().getConnection(); \r\n         //it contains JNDI connection code called under static block\r\n    }\r\n\r\n    }\r\n\r\n\r\nJUnit Test case in which I used mockito framework, mock function etc:\r\n\r\n    public class TestEmployeeCrudOperation {\r\n    \r\n    @Mock\r\n    Connection connection;\r\n    \r\n    @Mock\r\n    PreparedStatement preparedStatement;\r\n    \r\n    @Test\r\n    public void testDeleteEmployee() {\r\n    EmployeeCrudOperation employeeCrudOperation = new EmployeeCrudOperation();\r\n    EmployeeCrudOperation spyEmployeeCrudOperation = Mockito.spy(employeeCrudOperation);\r\n    \r\n    try {\r\n    \t\r\n    \twhen(spyEmployeeCrudOperation.getConnection()).thenReturn(connection);\r\n    \twhen(connection.preparedStatement(Mockito.any())).thenReturn(preparedStatement);\r\n    \twhen(preparedStatement.executeUpdate()).thenReturn(1);\r\n    \t\r\n    \tspyEmployeeCrudOperation.deleteEmplotee(&quot;1&quot;);\r\n    \t\r\n    \tverify(spyEmployeeCrudOperation, times(1)).deleteEmplotee(&quot;1&quot;);\r\n    \r\n    } catch(Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    }\r\n    }\r\n\r\nIs this test case correct? Also  code coverage is showing very low. How can I increase the code coverage? \r\nAlso while debugging code is not going inside the actual class. please guide.\r\nThanks in advance.","title":"Junit Test Case Issue With Mockito &amp; Spring Boot","body":"<p>Below is my main class where main logic delete operation is written:</p>\n<pre><code>public class EmployeeCrudOperation {\n    \npublic void deleteEmployee(String id) {\n   StringBuilder deleteQuery = new StringBuilder(&quot;DELETE FROM EMPLOYEE WHERE ID = ?&quot;);\n   PreparedStatement preparedStapreparedStatement tement = null;\n   Connection = null;\n\n   try{\n       //connection = DBConnection.getInstance().getConnection();\n       //it contains JNDI connection code called under static block\n       connection = getConnection();\n       if(connection == null) {\n           logger.logMessage(&quot;some text&quot;);\n           return;\n    }\n    preparedStatement = connection.PreparedStatement(deleteQuery.toString());\n    preparedStatement.setString(1, id);\n    int n = preparedStatement.executeUpdate();\n    if(n == 0) {\n        logger.logMessage(&quot;some message&quot;);\n    }\n    if(preparedStatement != null) {\n          preparedStatement.close();\n    }\n   } catch(SQLException e) {\n     logger.logMessage(&quot;some message&quot;);\n   } catch(Exception e) {\n     logger.logMessage(&quot;some message&quot;);\n   } finally {\n     try {\n        if(preparedStatement != null) {\n            preparedStatement.close();\n        }\n     } catch(Exception e) {\n\n     }\n     try {\n          if(connection != null) {\n                 connection.close();\n          }\n     } catch(Exception e) {}\n }\n }\npublic Connection getConnection() {\n    return DBConnection.getInstance().getConnection(); \n     //it contains JNDI connection code called under static block\n}\n\n}\n</code></pre>\n<p>JUnit Test case in which I used mockito framework, mock function etc:</p>\n<pre><code>public class TestEmployeeCrudOperation {\n\n@Mock\nConnection connection;\n\n@Mock\nPreparedStatement preparedStatement;\n\n@Test\npublic void testDeleteEmployee() {\nEmployeeCrudOperation employeeCrudOperation = new EmployeeCrudOperation();\nEmployeeCrudOperation spyEmployeeCrudOperation = Mockito.spy(employeeCrudOperation);\n\ntry {\n    \n    when(spyEmployeeCrudOperation.getConnection()).thenReturn(connection);\n    when(connection.preparedStatement(Mockito.any())).thenReturn(preparedStatement);\n    when(preparedStatement.executeUpdate()).thenReturn(1);\n    \n    spyEmployeeCrudOperation.deleteEmplotee(&quot;1&quot;);\n    \n    verify(spyEmployeeCrudOperation, times(1)).deleteEmplotee(&quot;1&quot;);\n\n} catch(Exception e) {\n    e.printStackTrace();\n}\n\n}\n}\n</code></pre>\n<p>Is this test case correct? Also  code coverage is showing very low. How can I increase the code coverage?\nAlso while debugging code is not going inside the actual class. please guide.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1691430811,"post_id":76854018,"comment_id":135487762,"body_markdown":"The setup of the `@OneToMany`/`@ManyToOne` relation seems wrong. The `@ManyToOne`-side should be the the owning side, defining the `joinColum`, while the `@OneToMany`-side should use `mappedBy`, and no `@JoinColumn`: `@OneToMany(mappedBy = &quot;hour&quot;, ...)`.","body":"The setup of the <code>@OneToMany</code>/<code>@ManyToOne</code> relation seems wrong. The <code>@ManyToOne</code>-side should be the the owning side, defining the <code>joinColum</code>, while the <code>@OneToMany</code>-side should use <code>mappedBy</code>, and no <code>@JoinColumn</code>: <code>@OneToMany(mappedBy = &quot;hour&quot;, ...)</code>."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691431212,"post_id":76854018,"comment_id":135487830,"body_markdown":"@Turing85 With these suggestions I have the same error","body":"@Turing85 With these suggestions I have the same error"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1691438518,"post_id":76854018,"comment_id":135489116,"body_markdown":"You created a bidirectional relationship with parent(`Hour`) and children(`RegularHour`). If you want to save parent and its children with cascade you need to set the parent on you children also otherwise you will have your error. What about, loop on request and  so you will have the fields values by setter methods ?","body":"You created a bidirectional relationship with parent(<code>Hour</code>) and children(<code>RegularHour</code>). If you want to save parent and its children with cascade you need to set the parent on you children also otherwise you will have your error. What about, loop on request and  so you will have the fields values by setter methods ?"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691482239,"post_id":76854018,"comment_id":135493980,"body_markdown":"What is the SQL command for creation of the table(s) with the column id_hour?","body":"What is the SQL command for creation of the table(s) with the column id_hour?"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691486683,"post_id":76854018,"comment_id":135494884,"body_markdown":"@dimirsenZ it&#39;s writing on the question. Part of `the error that I am getting`. Which starts with &quot;insert&quot; after &quot;Hibernate:&quot;","body":"@dimirsenZ it&#39;s writing on the question. Part of <code>the error that I am getting</code>. Which starts with &quot;insert&quot; after &quot;Hibernate:&quot;"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691487237,"post_id":76854018,"comment_id":135494998,"body_markdown":"it&#39;s INSERT command as I can see. Do you have CREATE TABLE command? You can see it if you inspect your DB with say Valentina Studio or some  other GUI for DB navigation.\nThere is a possibility, that you created the table with field description like\nid_hour bigint not null\nIn this case your DB won&#39;t let you insert a null value\nAs a fix I can see\nid_hour bigint not null default &lt;put your default value here&gt;","body":"it&#39;s INSERT command as I can see. Do you have CREATE TABLE command? You can see it if you inspect your DB with say Valentina Studio or some  other GUI for DB navigation. There is a possibility, that you created the table with field description like id_hour bigint not null In this case your DB won&#39;t let you insert a null value As a fix I can see id_hour bigint not null default &lt;put your default value here&gt;"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1691487774,"post_id":76854018,"comment_id":135495107,"body_markdown":"if you want DB to generate hour_id for you, you need to use a specific column type like bigserial","body":"if you want DB to generate hour_id for you, you need to use a specific column type like bigserial"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691495226,"post_id":76854018,"comment_id":135496615,"body_markdown":"@dimirsenZ oh my bad. here is my table creation CREATE TABLE `hour` (\n  `id_hour` int unsigned NOT NULL AUTO_INCREMENT,\n  `twentyfourseven` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id_hour`)","body":"@dimirsenZ oh my bad. here is my table creation CREATE TABLE <code>hour</code> (   <code>id_hour</code> int unsigned NOT NULL AUTO_INCREMENT,   <code>twentyfourseven</code> tinyint(1) NOT NULL,   PRIMARY KEY (<code>id_hour</code>)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1691503225,"post_id":76854018,"comment_id":135498487,"body_markdown":"As someone else commented you need to ensure all references are set. In this case, you have not set the RegularHour.hour reference, which causes the foreign key to be set to null. Set that value, and change your Hour-&gt;RegularHour OneToMany to use mappedby=&quot;hour&quot; and remove the join column definition, and it will work as you expect.","body":"As someone else commented you need to ensure all references are set. In this case, you have not set the RegularHour.hour reference, which causes the foreign key to be set to null. Set that value, and change your Hour-&gt;RegularHour OneToMany to use mappedby=&quot;hour&quot; and remove the join column definition, and it will work as you expect."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1691838350,"post_id":76854018,"comment_id":135547589,"body_markdown":"@Chris I changed the relation and updated the question as you mentioned but I am having the same error. On the other hand, I can not set `id_hour` because that is a new record.","body":"@Chris I changed the relation and updated the question as you mentioned but I am having the same error. On the other hand, I can not set <code>id_hour</code> because that is a new record."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1691941598,"post_id":76854018,"comment_id":135555889,"body_markdown":"With the SQL - is the Hour instance being inserted? Unless there is a major bug in Hibernate, there must be some RegularHour instance getting into the context that hasn&#39;t had its hour reference set. Since there is a 1:M from Hour-&gt;RegularHour, are you sure every RegularHour instance managed or persisted in the context has a Hour instance reference? Maybe relax the constraint for testing and see all the RegularHour instances being inserted to make sure they are what you expect and that some other piece of code isn&#39;t doing something wrong","body":"With the SQL - is the Hour instance being inserted? Unless there is a major bug in Hibernate, there must be some RegularHour instance getting into the context that hasn&#39;t had its hour reference set. Since there is a 1:M from Hour-&gt;RegularHour, are you sure every RegularHour instance managed or persisted in the context has a Hour instance reference? Maybe relax the constraint for testing and see all the RegularHour instances being inserted to make sure they are what you expect and that some other piece of code isn&#39;t doing something wrong"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1692337668,"post_id":76854018,"comment_id":135611947,"body_markdown":"Might be related to [this](https://stackoverflow.com/questions/69884667/jpa-hibernate-springboot-inserting-onetomany-relationship-entities/69890168#69890168)","body":"Might be related to <a href=\"https://stackoverflow.com/questions/69884667/jpa-hibernate-springboot-inserting-onetomany-relationship-entities/69890168#69890168\">this</a>"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692187137,"creation_date":1691430173,"question_id":76854018,"body_markdown":"I have 3 classes as below.\r\n\r\nLocation class\r\n```java\r\n@ToString @Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity @Getter @Setter\r\n@Table(name = &quot;location&quot;)\r\npublic class Location {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;id_hour&quot;)\r\n\tprivate Hour hour;\r\n}\r\n```\r\n\r\nHour class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;hour&quot;)\r\npublic class Hour {\r\n\t@Id\r\n\t@Column(name = &quot;id_hour&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idHour;\r\n\t\r\n\t@Column(name = &quot;twentyfourseven&quot;)\r\n\tprivate Boolean twentyfourseven;\r\n\r\n\t@OneToMany(mappedBy=&quot;hour&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;RegularHour&gt; regularHours;\r\n}\r\n```\r\n\r\nRegularHour class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;regular_hour&quot;)\r\npublic class RegularHour {\r\n\t@Id\r\n\t@Column(name = &quot;id_regular_hour&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idRegularHour;\r\n\t\r\n\t@Column(name = &quot;weekday&quot;)\r\n\tprivate Integer weekday;\r\n\t\r\n\t@Column(name = &quot;period_begin&quot;)\r\n\tprivate String periodBegin;\r\n\r\n\t@Column(name = &quot;period_end&quot;)\r\n\tprivate String periodEnd;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;id_hour&quot;)\r\n\tprivate Hour hour;\r\n}\r\n```\r\n**The Problem:**\r\n\r\nI am trying to save my location object like this `locationRepository.save(location);` Then I am having &quot;Column &#39;id_hour&#39; cannot be null&quot; error while hibernate tries to insert data to `regular_hour` table\r\n\r\n\r\n**What I am trying:**\r\n\r\nWhen I run `locationRepository.save(location);` I want all of them saved in the related tables. **PLEASE NOT THAT, I CANNOT SET `id_hour` BECAUSE I AM CREATING NEW RECORD IN DB**\r\n\r\n**What I have tried:**\r\n\r\nI have tried to change `CascadeType` from location and Hour, I replaced `ALL` with `PERSIST` and `MERGE` but none of them worked. \r\n\r\nI tried to change label of Hour class as below\r\n```java\r\n@OneToMany(mappedBy = &quot;hour&quot;, cascade = CascadeType.ALL)\r\nprivate List&lt;HourExceptionalPeriod&gt; exceptionalOpenings;\r\n```\r\nThat didn&#39;t work too.\r\n\r\n**The error that I am getting**\r\n```text\r\nHibernate: \r\n    insert \r\n    into\r\n        regular_hour\r\n        (id_hour, period_begin, period_end, weekday) \r\n    values\r\n        (?, ?, ?, ?)\r\n2023-08-07 20:02:54.802 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [null]\r\n2023-08-07 20:02:54.805 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [07:00]\r\n2023-08-07 20:02:54.808 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [18:00]\r\n2023-08-07 20:02:54.812 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]\r\n2023-08-07 20:02:54.960  WARN 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n2023-08-07 20:02:54.962 ERROR 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;id_hour&#39; cannot be null\r\n```","title":"I can&#39;t save related objects with a single repository - JPA","body":"<p>I have 3 classes as below.</p>\n<p>Location class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString @Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity @Getter @Setter\n@Table(name = &quot;location&quot;)\npublic class Location {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_hour&quot;)\n    private Hour hour;\n}\n</code></pre>\n<p>Hour class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;hour&quot;)\npublic class Hour {\n    @Id\n    @Column(name = &quot;id_hour&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idHour;\n    \n    @Column(name = &quot;twentyfourseven&quot;)\n    private Boolean twentyfourseven;\n\n    @OneToMany(mappedBy=&quot;hour&quot;, cascade = CascadeType.ALL)\n    private List&lt;RegularHour&gt; regularHours;\n}\n</code></pre>\n<p>RegularHour class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;regular_hour&quot;)\npublic class RegularHour {\n    @Id\n    @Column(name = &quot;id_regular_hour&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idRegularHour;\n    \n    @Column(name = &quot;weekday&quot;)\n    private Integer weekday;\n    \n    @Column(name = &quot;period_begin&quot;)\n    private String periodBegin;\n\n    @Column(name = &quot;period_end&quot;)\n    private String periodEnd;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_hour&quot;)\n    private Hour hour;\n}\n</code></pre>\n<p><strong>The Problem:</strong></p>\n<p>I am trying to save my location object like this <code>locationRepository.save(location);</code> Then I am having &quot;Column 'id_hour' cannot be null&quot; error while hibernate tries to insert data to <code>regular_hour</code> table</p>\n<p><strong>What I am trying:</strong></p>\n<p>When I run <code>locationRepository.save(location);</code> I want all of them saved in the related tables. <strong>PLEASE NOT THAT, I CANNOT SET <code>id_hour</code> BECAUSE I AM CREATING NEW RECORD IN DB</strong></p>\n<p><strong>What I have tried:</strong></p>\n<p>I have tried to change <code>CascadeType</code> from location and Hour, I replaced <code>ALL</code> with <code>PERSIST</code> and <code>MERGE</code> but none of them worked.</p>\n<p>I tried to change label of Hour class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;hour&quot;, cascade = CascadeType.ALL)\nprivate List&lt;HourExceptionalPeriod&gt; exceptionalOpenings;\n</code></pre>\n<p>That didn't work too.</p>\n<p><strong>The error that I am getting</strong></p>\n<pre><code>Hibernate: \n    insert \n    into\n        regular_hour\n        (id_hour, period_begin, period_end, weekday) \n    values\n        (?, ?, ?, ?)\n2023-08-07 20:02:54.802 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [null]\n2023-08-07 20:02:54.805 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [07:00]\n2023-08-07 20:02:54.808 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [18:00]\n2023-08-07 20:02:54.812 TRACE 24457 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]\n2023-08-07 20:02:54.960  WARN 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2023-08-07 20:02:54.962 ERROR 24457 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'id_hour' cannot be null\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186638,"creation_date":1692183765,"answer_id":76912939,"question_id":76912732,"body_markdown":"`sendKeys` can enter data into numeric input.\r\nYou can do it just passing number, converted to `String`.\r\n\r\n```java\r\nint number = 42;\r\nelement.sendKeys(String.valueOf(number));\r\n```\r\n\r\nyou can test it by executing code below\r\n\r\n```java\r\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n\r\ndriver.get(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-16.html&quot;);\r\nWebElement numInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ById(&quot;textFieldLength&quot;)));\r\nint number = 52;\r\nnumInput.sendKeys(String.valueOf(number));\r\n```","title":"unable to update number input type using selenium","body":"<p><code>sendKeys</code> can enter data into numeric input.\nYou can do it just passing number, converted to <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = 42;\nelement.sendKeys(String.valueOf(number));\n</code></pre>\n<p>you can test it by executing code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wdwait = new WebDriverWait(driver, 10);\n\ndriver.get(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-16.html&quot;);\nWebElement numInput = wdwait.until(ExpectedConditions.visibilityOfElementLocated(new By.ById(&quot;textFieldLength&quot;)));\nint number = 52;\nnumInput.sendKeys(String.valueOf(number));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24284619,"reputation":1,"user_id":18230553,"display_name":"Hasan Gunduz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186360,"creation_date":1692186179,"answer_id":76913217,"question_id":76912732,"body_markdown":"You can use the JavaScript Executor in Selenium to set the value of the input field directly, bypassing the sendKeys method. This allows you to work with numeric values while still adhering to the pattern attribute.\r\n\r\n```\r\nWebElement numberInput = driver.findElement(By.id(&quot;textFieldLength&quot;));\r\nString valueToSet = &quot;123&quot;; \r\nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\njsExecutor.executeScript(&quot;arguments[0].value = arguments[1]&quot;, numberInput, valueToSet);\r\n\r\n```\r\n  \r\n\r\n      ","title":"unable to update number input type using selenium","body":"<p>You can use the JavaScript Executor in Selenium to set the value of the input field directly, bypassing the sendKeys method. This allows you to work with numeric values while still adhering to the pattern attribute.</p>\n<pre><code>WebElement numberInput = driver.findElement(By.id(&quot;textFieldLength&quot;));\nString valueToSet = &quot;123&quot;; \nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\njsExecutor.executeScript(&quot;arguments[0].value = arguments[1]&quot;, numberInput, valueToSet);\n\n</code></pre>\n"}],"owner":{"account_id":21482511,"reputation":3,"user_id":15829656,"display_name":"jijesh vu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692186638,"creation_date":1692181935,"question_id":76912732,"body_markdown":"Im trying to enter value to number input type text box with pattern using `sendKeys` method, since `sendKeys` only support string data type. Is there any other way i achieve this?\r\n\r\n\r\n\r\n    &lt;input type=&quot;number&quot; pattern=&quot;[0-9]*&quot; id=&quot;textFieldLength&quot;&gt;","title":"unable to update number input type using selenium","body":"<p>Im trying to enter value to number input type text box with pattern using <code>sendKeys</code> method, since <code>sendKeys</code> only support string data type. Is there any other way i achieve this?</p>\n<pre><code>&lt;input type=&quot;number&quot; pattern=&quot;[0-9]*&quot; id=&quot;textFieldLength&quot;&gt;\n</code></pre>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1666321391,"creation_date":1517242987,"answer_id":48505724,"question_id":48432837,"body_markdown":"\r\n\r\n```verify(exactly(0), postRequestedFor(urlEqualTo(&quot;/login&quot;)));```\r\n\r\nBasically checking if exactly 0 calls were made.\r\nTo read more about it. see [here][1]\r\n\r\n\r\n  [1]: http://wiremock.org/docs/verifying/","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p><code>verify(exactly(0), postRequestedFor(urlEqualTo(&quot;/login&quot;)));</code></p>\n<p>Basically checking if exactly 0 calls were made.\nTo read more about it. see <a href=\"http://wiremock.org/docs/verifying/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1785286,"reputation":2281,"user_id":1626868,"display_name":"Oleg Nenashev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692186230,"creation_date":1692186230,"answer_id":76913227,"question_id":48432837,"body_markdown":"There response above works. For more complex asserts, WireMock Admin REST API allows retrieving all requests in the journal - [GET: \r\n/__admin/requests][1]. In your unit tests, e.g. with a Native Java library JUnit rules or with a Testcontainers module, you can:\r\n\r\n 1. Provision a fresh instance via a test rule, or do s [DELETE: \r\n/__admin/requests][1] request over the REST API\r\n 2. Run whatever test logic you have\r\n 3. Call [GET: /__admin/requests][1] REST API to retrieve the list of requests\r\n 4. Process this list to see that what actually was received by WireMock and how it was matched\r\n\r\n\r\n  [1]: https://wiremock.org/docs/standalone/admin-api-reference/","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p>There response above works. For more complex asserts, WireMock Admin REST API allows retrieving all requests in the journal - <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">GET:\n/__admin/requests</a>. In your unit tests, e.g. with a Native Java library JUnit rules or with a Testcontainers module, you can:</p>\n<ol>\n<li>Provision a fresh instance via a test rule, or do s <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">DELETE:\n/__admin/requests</a> request over the REST API</li>\n<li>Run whatever test logic you have</li>\n<li>Call <a href=\"https://wiremock.org/docs/standalone/admin-api-reference/\" rel=\"nofollow noreferrer\">GET: /__admin/requests</a> REST API to retrieve the list of requests</li>\n<li>Process this list to see that what actually was received by WireMock and how it was matched</li>\n</ol>\n"}],"owner":{"account_id":12804307,"reputation":301,"user_id":9264595,"display_name":"TyrionWebDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29821,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":2,"score":30,"last_activity_date":1692186230,"creation_date":1516833340,"question_id":48432837,"body_markdown":"Given the following unit test, I can easily test if a request of a particular url has been made.  Is there a way to do the opposite, verify that a request of a particular url has NOT been made? \r\n\r\ni.e. verify that a request was made: \r\n\r\n    stubFor(post(urlEqualTo(&quot;/login&quot;)));\r\n\r\n    webclient.submit(testLogin);\r\n\r\n    verify(postRequestedFor(urlMatching(&quot;/login&quot;)\r\n    \r\n\r\n\r\n\r\n\r\nWhat I&#39;d like to do - Verify that a request was NOT made: \r\n\r\n    stubFor(post(urlEqualTo(&quot;/login&quot;)));\r\n\r\n    webclient.submit(testLogin);\r\n\r\n    verify(postRequestedFor(urlNotMatching(&quot;/login&quot;)\r\n\r\n","title":"Using WireMock how can we verify that a request of a given url has NOT been made?","body":"<p>Given the following unit test, I can easily test if a request of a particular url has been made.  Is there a way to do the opposite, verify that a request of a particular url has NOT been made? </p>\n\n<p>i.e. verify that a request was made: </p>\n\n<pre><code>stubFor(post(urlEqualTo(\"/login\")));\n\nwebclient.submit(testLogin);\n\nverify(postRequestedFor(urlMatching(\"/login\")\n</code></pre>\n\n<p>What I'd like to do - Verify that a request was NOT made: </p>\n\n<pre><code>stubFor(post(urlEqualTo(\"/login\")));\n\nwebclient.submit(testLogin);\n\nverify(postRequestedFor(urlNotMatching(\"/login\")\n</code></pre>\n"},{"tags":["java","spring","jwt"],"comments":[{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1606257909,"post_id":64995790,"comment_id":114908924,"body_markdown":"Is your jwtFilter extending OncePerRequestFilter?","body":"Is your jwtFilter extending OncePerRequestFilter?"},{"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"score":0,"creation_date":1606258081,"post_id":64995790,"comment_id":114908974,"body_markdown":"I edited with my jwt filter as u can see yes ! @OnomeSotu","body":"I edited with my jwt filter as u can see yes ! @OnomeSotu"},{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1606258330,"post_id":64995790,"comment_id":114909047,"body_markdown":"Can you check your package structure? What are the package names for your filter and securityConfig class?","body":"Can you check your package structure? What are the package names for your filter and securityConfig class?"},{"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"score":0,"creation_date":1606258614,"post_id":64995790,"comment_id":114909114,"body_markdown":"I edited with the package bro ! @OnomeSotu","body":"I edited with the package bro ! @OnomeSotu"}],"answers":[{"tags":[],"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1606259227,"creation_date":1606259125,"answer_id":64996153,"question_id":64995790,"body_markdown":"I think the problem is in your package structure. Springboot will scan your app for autoconfiguration starting from the package where you have a class of this structure\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \t}\r\n    \r\n    }\r\n    \r\nIt should be in the package `com.soheibKehal.CashApi`.\r\n\r\nThe solution will be to move the filter package into the `com.soheibKehal.CashApi` just beside your `config` package.\r\n\r\nThen spring will be able to locate the `JwtFilter` for autoconfiguration. ","title":"Field jwtFilter required a bean of type &#39;filter.JwtFilter&#39; that could not be found.?","body":"<p>I think the problem is in your package structure. Springboot will scan your app for autoconfiguration starting from the package where you have a class of this structure</p>\n<pre><code>@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n}\n</code></pre>\n<p>It should be in the package <code>com.soheibKehal.CashApi</code>.</p>\n<p>The solution will be to move the filter package into the <code>com.soheibKehal.CashApi</code> just beside your <code>config</code> package.</p>\n<p>Then spring will be able to locate the <code>JwtFilter</code> for autoconfiguration.</p>\n"}],"owner":{"account_id":19518008,"reputation":13,"user_id":14280469,"display_name":"marcOlivr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64996153,"answer_count":1,"score":0,"last_activity_date":1692186202,"creation_date":1606257004,"question_id":64995790,"body_markdown":"I want to start my spring app after i made some jwt authentification configuration. but i have this issues :\r\n\r\nDescription:\r\n\r\n    Field jwtFilter in com.soheibKehal.CashApi.config.SecurityConfig required a bean of type &#39;filter.JwtFilter&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;filter.JwtFilter&#39; in your configuration.\r\n\r\nThe thing is in my SecurityConfig class, i already Beaned my AuthentificationManager method, so i dont know what is the problem ? \r\n     \r\n        package com.soheibKehal.CashApi.config;\r\n    \r\n    import com.soheibKehal.CashApi.services.CustomUserDetailService;\r\n    import filter.JwtFilter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n            @Autowired\r\n            private CustomUserDetailService userDetailsService;\r\n        \r\n            @Autowired\r\n            private JwtFilter jwtFilter;\r\n        \r\n            @Override\r\n            protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                auth.userDetailsService(userDetailsService);\r\n            }\r\n            @Bean\r\n            public PasswordEncoder passwordEncoder(){\r\n                return NoOpPasswordEncoder.getInstance();\r\n            }\r\n        \r\n            @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n            @Override\r\n            public AuthenticationManager authenticationManagerBean() throws Exception {\r\n                return super.authenticationManagerBean();\r\n            }\r\n        \r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;)\r\n                        .permitAll().anyRequest().authenticated()\r\n                        .and().exceptionHandling().and().sessionManagement()\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n                http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);;\r\n            }\r\n        }\r\n\r\nmy jwtFilter class : \r\n    \r\n  \r\n\r\n      package filter;\r\n    \r\n    import com.soheibKehal.CashApi.Util.JwtUtil;\r\n    import com.soheibKehal.CashApi.services.CustomUserDetailService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n        @Component\r\n        public class JwtFilter extends OncePerRequestFilter {\r\n        \r\n            @Autowired\r\n            private JwtUtil jwtUtil;\r\n            @Autowired\r\n            private CustomUserDetailService service;\r\n        \r\n        \r\n            @Override\r\n            protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException, IOException, ServletException {\r\n        \r\n                String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n        \r\n                String token = null;\r\n                String userName = null;\r\n        \r\n                if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                    token = authorizationHeader.substring(7);\r\n                    userName = jwtUtil.extractUsername(token);\r\n                }\r\n        \r\n                if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n        \r\n                    UserDetails userDetails = service.loadUserByUsername(userName);\r\n        \r\n                    if (jwtUtil.validateToken(token, userDetails)) {\r\n        \r\n                        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                        usernamePasswordAuthenticationToken\r\n                                .setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n                        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    }\r\n                }\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n        }\r\n\r\nDo you have any idea what is the problem ?\r\n\r\n","title":"Field jwtFilter required a bean of type &#39;filter.JwtFilter&#39; that could not be found.?","body":"<p>I want to start my spring app after i made some jwt authentification configuration. but i have this issues :</p>\n<p>Description:</p>\n<pre><code>Field jwtFilter in com.soheibKehal.CashApi.config.SecurityConfig required a bean of type 'filter.JwtFilter' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'filter.JwtFilter' in your configuration.\n</code></pre>\n<p>The thing is in my SecurityConfig class, i already Beaned my AuthentificationManager method, so i dont know what is the problem ?</p>\n<pre><code>    package com.soheibKehal.CashApi.config;\n\nimport com.soheibKehal.CashApi.services.CustomUserDetailService;\nimport filter.JwtFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n        @Autowired\n        private CustomUserDetailService userDetailsService;\n    \n        @Autowired\n        private JwtFilter jwtFilter;\n    \n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService);\n        }\n        @Bean\n        public PasswordEncoder passwordEncoder(){\n            return NoOpPasswordEncoder.getInstance();\n        }\n    \n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;)\n                    .permitAll().anyRequest().authenticated()\n                    .and().exceptionHandling().and().sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n            http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);;\n        }\n    }\n</code></pre>\n<p>my jwtFilter class :</p>\n<pre><code>  package filter;\n\nimport com.soheibKehal.CashApi.Util.JwtUtil;\nimport com.soheibKehal.CashApi.services.CustomUserDetailService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n    @Component\n    public class JwtFilter extends OncePerRequestFilter {\n    \n        @Autowired\n        private JwtUtil jwtUtil;\n        @Autowired\n        private CustomUserDetailService service;\n    \n    \n        @Override\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException, IOException, ServletException {\n    \n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n    \n            String token = null;\n            String userName = null;\n    \n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                token = authorizationHeader.substring(7);\n                userName = jwtUtil.extractUsername(token);\n            }\n    \n            if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n    \n                UserDetails userDetails = service.loadUserByUsername(userName);\n    \n                if (jwtUtil.validateToken(token, userDetails)) {\n    \n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken\n                            .setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n    }\n</code></pre>\n<p>Do you have any idea what is the problem ?</p>\n"},{"tags":["java","hibernate","hibernate3"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692129516,"post_id":76908728,"comment_id":135581771,"body_markdown":"So is the issue that the updates are failing?  Because if they are succeeding then either you are updating existing entities, possibly on account of re-using IDs, or else the entities *are* being inserted at some point.","body":"So is the issue that the updates are failing?  Because if they are succeeding then either you are updating existing entities, possibly on account of re-using IDs, or else the entities <i>are</i> being inserted at some point."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692130449,"post_id":76908728,"comment_id":135581901,"body_markdown":"Also, to the best of my knowledge and ability to search documentation, the `unsaved-value` property is relevant only to *generated* IDs, not to assigned ones.  Hibernate does not rely on ID values to determine how to handle a cascading save for child entities with assigned IDs (except inasmuch as it must fail if such entities have not, in fact, been assigned an ID).","body":"Also, to the best of my knowledge and ability to search documentation, the <code>unsaved-value</code> property is relevant only to <i>generated</i> IDs, not to assigned ones.  Hibernate does not rely on ID values to determine how to handle a cascading save for child entities with assigned IDs (except inasmuch as it must fail if such entities have not, in fact, been assigned an ID)."},{"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"score":0,"creation_date":1692166705,"post_id":76908728,"comment_id":135585230,"body_markdown":"Hi John, thank you for you comments.\n\nAll entities should be inserted, not updated. I&#39;m basically copying everything from one structure to another in db. That&#39;s why I know the ids already.\n\nI&#39;ve checked the logs and there is never an insert for Nested entity, it tries to update a record, which doesn&#39;t exist, so I get ```org.hibernate.StaleStateException```","body":"Hi John, thank you for you comments.  All entities should be inserted, not updated. I&#39;m basically copying everything from one structure to another in db. That&#39;s why I know the ids already.  I&#39;ve checked the logs and there is never an insert for Nested entity, it tries to update a record, which doesn&#39;t exist, so I get <code>org.hibernate.StaleStateException</code>"}],"answers":[{"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692186052,"creation_date":1692186052,"answer_id":76913202,"question_id":76908728,"body_markdown":"If you don&#39;t want to save each Nested entity separately, you could use a custom interceptor to modify the Hibernate behaviour for saving the entities.\r\n\r\nBelow is a sample implementation that could be used for the same\r\n\r\n1. Implement a custom interceptor that extends org.hibernate.EmptyInterceptor\r\n\r\n```\r\nimport org.hibernate.EmptyInterceptor;\r\n\r\npublic class CustomSaveInterceptor extends EmptyInterceptor {\r\n\r\n    @Override\r\n    public boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\r\n        if (entity instanceof Main) {\r\n            Main main = (Main) entity;\r\n            for (Nested nested : main.getNested()) {\r\n                getSession().save(nested); // Manually save each nested entity\r\n            }\r\n        }\r\n        return super.onSave(entity, id, state, propertyNames, types);\r\n    }\r\n}\r\n```\r\n\r\n2. Configure the custom interceptor in Hibernate configuration\r\n```\r\nSessionFactory sessionFactory = configuration.buildSessionFactory(\r\n    new CustomSaveInterceptor()); // Pass your interceptor instance here\r\n```\r\n\r\n3. Use the configured SessionFactory to save your entities\r\n```\r\nMain main = new Main();\r\n// Set properties for the Main object\r\n\r\nNested nested1 = new Nested();\r\n// Set properties for the Nested object 1\r\n\r\nNested nested2 = new Nested();\r\n// Set properties for the Nested object 2\r\n\r\nmain.getNested().add(nested1);\r\nmain.getNested().add(nested2);\r\n\r\nsessionFactory.getCurrentSession().save(main); // Trigger saving with the interceptor\r\n```\r\n\r\nThis approach involves intercepting saving process for Main entities using custom interceptor. When a Main entity is saved, the interceptor will manually save each associated Nested entity before proceeding with the normal process for Saving Main entity.\r\n\r\nP.S.: This solution can affect the behaviour of the Hibernate session globally. As always, make sure to thoroughly test the change to make sure it works correctly for your specific use case.","title":"How to save an entity with a nested entity in Hibernate when both have id?","body":"<p>If you don't want to save each Nested entity separately, you could use a custom interceptor to modify the Hibernate behaviour for saving the entities.</p>\n<p>Below is a sample implementation that could be used for the same</p>\n<ol>\n<li>Implement a custom interceptor that extends org.hibernate.EmptyInterceptor</li>\n</ol>\n<pre><code>import org.hibernate.EmptyInterceptor;\n\npublic class CustomSaveInterceptor extends EmptyInterceptor {\n\n    @Override\n    public boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\n        if (entity instanceof Main) {\n            Main main = (Main) entity;\n            for (Nested nested : main.getNested()) {\n                getSession().save(nested); // Manually save each nested entity\n            }\n        }\n        return super.onSave(entity, id, state, propertyNames, types);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Configure the custom interceptor in Hibernate configuration</li>\n</ol>\n<pre><code>SessionFactory sessionFactory = configuration.buildSessionFactory(\n    new CustomSaveInterceptor()); // Pass your interceptor instance here\n</code></pre>\n<ol start=\"3\">\n<li>Use the configured SessionFactory to save your entities</li>\n</ol>\n<pre><code>Main main = new Main();\n// Set properties for the Main object\n\nNested nested1 = new Nested();\n// Set properties for the Nested object 1\n\nNested nested2 = new Nested();\n// Set properties for the Nested object 2\n\nmain.getNested().add(nested1);\nmain.getNested().add(nested2);\n\nsessionFactory.getCurrentSession().save(main); // Trigger saving with the interceptor\n</code></pre>\n<p>This approach involves intercepting saving process for Main entities using custom interceptor. When a Main entity is saved, the interceptor will manually save each associated Nested entity before proceeding with the normal process for Saving Main entity.</p>\n<p>P.S.: This solution can affect the behaviour of the Hibernate session globally. As always, make sure to thoroughly test the change to make sure it works correctly for your specific use case.</p>\n"}],"owner":{"account_id":5207240,"reputation":120,"user_id":4164758,"accept_rate":75,"display_name":"ComeOn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692186052,"creation_date":1692128667,"question_id":76908728,"body_markdown":"We are using old Hibernate on our project (version 3.6.10), upgrade is not an option at this moment unfortunately. \r\n\r\nI&#39;m trying to save entities **with assigned ids** that have the following structure:\r\n\r\nI have a ```Base``` class that contains ```id``` field. Please note ```generator-class=&quot;assigned&quot;```\r\n\r\n```\r\npublic abstract class Base {\r\n\r\n    private Long id;\r\n\r\n    // contructor\r\n\r\n    /**\r\n     * @hibernate.id generator-class=&quot;assigned&quot; unsaved-value=&quot;null&quot;\r\n     */\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    // setter\r\n}\r\n```\r\n\r\nThen I have a class ```Nested```\r\n\r\n\r\n```\r\npublic class Nested extends Base {\r\n\r\n    private Main main;\r\n\r\n    // constructor\r\n\r\n    /**\r\n     * @hibernate.many-to-one column=&quot;main_id&quot; not-null=&quot;true&quot; fetch=&quot;join&quot;\r\n     * lazy=&quot;false&quot; cascade=&quot;all&quot;\r\n     * class=&quot;Main&quot;\r\n     */\r\n    public Main getMain() {\r\n        return main;\r\n    }\r\n    \r\n    // setter\r\n}\r\n```\r\n\r\nAnd class ```Main```:\r\n\r\n\r\n```\r\n\r\npublic class Main extends Base {\r\n\r\n    private List&lt;Nested&gt; nested;\r\n\r\n    /**\r\n     * @hibernate.bag cascade=&quot;all-delete-orphan&quot; inverse=&quot;true&quot; batch-size=&quot;10&quot; lazy=&quot;false&quot;\r\n     * @hibernate.key column=&quot;main_id&quot; on-delete=&quot;cascade&quot;\r\n     * @hibernate.one-to-many class=&quot;Nested&quot;\r\n     */\r\n    public List&lt;Nested&gt; getNested() {\r\n        return nested;\r\n    }\r\n    // setter\r\n}\r\n```\r\n\r\nWhen I construct Main object with a list of Nested object (all of them have ids) and try to save it (```getHibernateTemplate().save(main)```), I see in generated SQL queries:\r\n\r\n```insert into main... ```\r\n\r\nand then\r\n\r\n```update nested ...``` I assume that&#39;s because nested records have ids already.\r\n\r\nHow can I make Hibernate insert records for ```Nested``` instances? \r\n\r\nI know that I can save each entity separately, but I&#39;d prefer to avoid that.\r\n\r\n","title":"How to save an entity with a nested entity in Hibernate when both have id?","body":"<p>We are using old Hibernate on our project (version 3.6.10), upgrade is not an option at this moment unfortunately.</p>\n<p>I'm trying to save entities <strong>with assigned ids</strong> that have the following structure:</p>\n<p>I have a <code>Base</code> class that contains <code>id</code> field. Please note <code>generator-class=&quot;assigned&quot;</code></p>\n<pre><code>public abstract class Base {\n\n    private Long id;\n\n    // contructor\n\n    /**\n     * @hibernate.id generator-class=&quot;assigned&quot; unsaved-value=&quot;null&quot;\n     */\n    public Long getId() {\n        return id;\n    }\n\n    // setter\n}\n</code></pre>\n<p>Then I have a class <code>Nested</code></p>\n<pre><code>public class Nested extends Base {\n\n    private Main main;\n\n    // constructor\n\n    /**\n     * @hibernate.many-to-one column=&quot;main_id&quot; not-null=&quot;true&quot; fetch=&quot;join&quot;\n     * lazy=&quot;false&quot; cascade=&quot;all&quot;\n     * class=&quot;Main&quot;\n     */\n    public Main getMain() {\n        return main;\n    }\n    \n    // setter\n}\n</code></pre>\n<p>And class <code>Main</code>:</p>\n<pre><code>\npublic class Main extends Base {\n\n    private List&lt;Nested&gt; nested;\n\n    /**\n     * @hibernate.bag cascade=&quot;all-delete-orphan&quot; inverse=&quot;true&quot; batch-size=&quot;10&quot; lazy=&quot;false&quot;\n     * @hibernate.key column=&quot;main_id&quot; on-delete=&quot;cascade&quot;\n     * @hibernate.one-to-many class=&quot;Nested&quot;\n     */\n    public List&lt;Nested&gt; getNested() {\n        return nested;\n    }\n    // setter\n}\n</code></pre>\n<p>When I construct Main object with a list of Nested object (all of them have ids) and try to save it (<code>getHibernateTemplate().save(main)</code>), I see in generated SQL queries:</p>\n<p><code>insert into main... </code></p>\n<p>and then</p>\n<p><code>update nested ...</code> I assume that's because nested records have ids already.</p>\n<p>How can I make Hibernate insert records for <code>Nested</code> instances?</p>\n<p>I know that I can save each entity separately, but I'd prefer to avoid that.</p>\n"},{"tags":["java","urlconnection"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1560328072,"post_id":56557647,"comment_id":99695663,"body_markdown":"he just doesn&#39;t know the content type","body":"he just doesn&#39;t know the content type"},{"owner":{"account_id":14331879,"reputation":177,"user_id":10352428,"display_name":"萝莉w"},"score":0,"creation_date":1560328310,"post_id":56557647,"comment_id":99695796,"body_markdown":"I used F12 to check, and found that this link doesn&#39;t have context type.","body":"I used F12 to check, and found that this link doesn&#39;t have context type."},{"owner":{"account_id":7952758,"reputation":73,"user_id":6003099,"display_name":"Rahul Pandey"},"score":0,"creation_date":1560331313,"post_id":56557647,"comment_id":99697474,"body_markdown":"what can be the solution because I am using this in my project where I have to save the content type in JSON ?","body":"what can be the solution because I am using this in my project where I have to save the content type in JSON ?"}],"answers":[{"tags":[],"owner":{"account_id":13191407,"reputation":1054,"user_id":9527593,"display_name":"z11i"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560329234,"creation_date":1560328184,"answer_id":56557777,"question_id":56557647,"body_markdown":"In the URLConnection#getContentType [documentation](https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getContentType--), it says\r\n&gt; Returns the value of the content-type header field.\r\n\r\nSo if the header value is missing the `content-type` header, the method will return null.\r\n\r\nUse `curl` to check:\r\n```\r\ncurl -I https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\r\n\r\nHTTP/1.1 200 OK\r\nCache-Control: public, max-age=31622400\r\nContent-Length: 2794649\r\nLast-Modified: Sun, 02 Jun 2019 00:25:00 GMT\r\nETag: 0x8D6E6F0BFBA22BC\r\nVary: Origin\r\nServer: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0\r\nx-ms-request-id: f5962c19-901e-0083-78f8-20a0ca000000\r\nx-ms-version: 2009-09-19\r\nx-ms-lease-status: unlocked\r\nx-ms-blob-type: BlockBlob\r\nDate: Wed, 12 Jun 2019 08:24:58 GMT\r\n```\r\n\r\n```\r\ncurl -I https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\r\n\r\nHTTP/1.1 200 OK\r\nx-amz-id-2: LXyjyXfMWNmwYfkUhiGnbyJBE4WovVwUTNi7ELXmDYpLtwGHVl1BfBPYgxgDazK44sIIwXFMv+4=\r\nx-amz-request-id: FF7CE75150E28EB3\r\nDate: Wed, 12 Jun 2019 08:25:15 GMT\r\nLast-Modified: Thu, 11 Oct 2018 02:15:15 GMT\r\nETag: &quot;15ad210d28be6a37af2c0e37a5c30e6b&quot;\r\nx-amz-storage-class: STANDARD_IA\r\nAccept-Ranges: bytes\r\nContent-Type: image/jpeg\r\nContent-Length: 200785\r\nServer: AmazonS3\r\n```\r\n\r\nAs you can see, only one of them has the `content-type` field in the response headers.\r\n\r\nAn alternative way is to download the file and check. See: https://www.baeldung.com/java-file-mime-type","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>In the URLConnection#getContentType <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getContentType--\" rel=\"nofollow noreferrer\">documentation</a>, it says</p>\n\n<blockquote>\n  <p>Returns the value of the content-type header field.</p>\n</blockquote>\n\n<p>So if the header value is missing the <code>content-type</code> header, the method will return null.</p>\n\n<p>Use <code>curl</code> to check:</p>\n\n<pre><code>curl -I https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\n\nHTTP/1.1 200 OK\nCache-Control: public, max-age=31622400\nContent-Length: 2794649\nLast-Modified: Sun, 02 Jun 2019 00:25:00 GMT\nETag: 0x8D6E6F0BFBA22BC\nVary: Origin\nServer: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0\nx-ms-request-id: f5962c19-901e-0083-78f8-20a0ca000000\nx-ms-version: 2009-09-19\nx-ms-lease-status: unlocked\nx-ms-blob-type: BlockBlob\nDate: Wed, 12 Jun 2019 08:24:58 GMT\n</code></pre>\n\n<pre><code>curl -I https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\n\nHTTP/1.1 200 OK\nx-amz-id-2: LXyjyXfMWNmwYfkUhiGnbyJBE4WovVwUTNi7ELXmDYpLtwGHVl1BfBPYgxgDazK44sIIwXFMv+4=\nx-amz-request-id: FF7CE75150E28EB3\nDate: Wed, 12 Jun 2019 08:25:15 GMT\nLast-Modified: Thu, 11 Oct 2018 02:15:15 GMT\nETag: \"15ad210d28be6a37af2c0e37a5c30e6b\"\nx-amz-storage-class: STANDARD_IA\nAccept-Ranges: bytes\nContent-Type: image/jpeg\nContent-Length: 200785\nServer: AmazonS3\n</code></pre>\n\n<p>As you can see, only one of them has the <code>content-type</code> field in the response headers.</p>\n\n<p>An alternative way is to download the file and check. See: <a href=\"https://www.baeldung.com/java-file-mime-type\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-file-mime-type</a></p>\n"},{"tags":[],"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560328185,"creation_date":1560328185,"answer_id":56557778,"question_id":56557647,"body_markdown":"According to the API documentation\r\n\r\nReturns:\r\nthe content type of the resource that the URL references, or null if not known.\r\n\r\nIf the server does not return the Content-Type header the getContentType() method cannot know the type.","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>According to the API documentation</p>\n\n<p>Returns:\nthe content type of the resource that the URL references, or null if not known.</p>\n\n<p>If the server does not return the Content-Type header the getContentType() method cannot know the type.</p>\n"},{"tags":[],"owner":{"account_id":3311735,"reputation":21,"user_id":2785082,"display_name":"user2785082"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692185668,"creation_date":1692185668,"answer_id":76913166,"question_id":56557647,"body_markdown":"    URLConnection.getFileNameMap().getContentTypeFor(fileName)\r\nwas returning **null** to me, because the **fileName** contained &quot; &quot; - space character.\r\nFixed it by:\r\n\r\n    URLConnection.getFileNameMap().getContentTypeFor(fileName.substringAfterLast(&quot; &quot;))\r\n\r\n*This may not be exactly your problem, but i decided to leave it here for others searching for similar issue.*","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<pre><code>URLConnection.getFileNameMap().getContentTypeFor(fileName)\n</code></pre>\n<p>was returning <strong>null</strong> to me, because the <strong>fileName</strong> contained &quot; &quot; - space character.\nFixed it by:</p>\n<pre><code>URLConnection.getFileNameMap().getContentTypeFor(fileName.substringAfterLast(&quot; &quot;))\n</code></pre>\n<p><em>This may not be exactly your problem, but i decided to leave it here for others searching for similar issue.</em></p>\n"}],"owner":{"account_id":7952758,"reputation":73,"user_id":6003099,"display_name":"Rahul Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56557777,"answer_count":3,"score":2,"last_activity_date":1692185668,"creation_date":1560327725,"question_id":56557647,"body_markdown":"I am working on Java 7 and tried to read mime type from an URL by below code. In maximum scenario urlConnection.getContentType() gives content type but in some specific scenario it gives null.\r\n\r\nFor example, in the below code, I am able to read mime type for url2 but url1 is giving null.  \r\n\r\n```import javax.net.ssl.HttpsURLConnection;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\n\r\nclass readMimeType{\r\n\r\n    public static void main(String args[]) {\r\n        String url1 = &quot;https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg&quot;;\r\n        String url2 = &quot;https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3&quot;;\r\n\r\n        try {\r\n            URL serverUrl = new URL(url1);\r\n            URLConnection urlConnection = serverUrl.openConnection();\r\n            HttpsURLConnection httpConnection = (HttpsURLConnection) urlConnection;\r\n            httpConnection.setInstanceFollowRedirects(false);\r\n            httpConnection.setDoOutput(true);\r\n\r\n            InputStream initialStream = httpConnection.getInputStream();\r\n\r\n            String mimeType = urlConnection.getContentType();\r\n\r\n            System.out.println(&quot;mimeType::::&quot; + mimeType);\r\n        } catch (Exception exception) {\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"why urlConnection.getContentType() is giving null for some images reading from an url?","body":"<p>I am working on Java 7 and tried to read mime type from an URL by below code. In maximum scenario urlConnection.getContentType() gives content type but in some specific scenario it gives null.</p>\n\n<p>For example, in the below code, I am able to read mime type for url2 but url1 is giving null.  </p>\n\n<pre><code>import java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nclass readMimeType{\n\n    public static void main(String args[]) {\n        String url1 = \"https://akumyndigitalcontent.blob.core.windows.net/visitattachments/1804915_0_2_87_.jpeg\";\n        String url2 = \"https://gigwalk-multitenant-api-server.s3.amazonaws.com/public_uploads/62ae090584074fefeeada538c5ceb206fedf58f9e9a2aef463908fb53793bd64a28ed152427f96eb923cb789e947a6984db1c3460fcf373fb589b9e3051f6ef8/9a71308d-3da2-4e96-88b9-cc75a7470db3\";\n\n        try {\n            URL serverUrl = new URL(url1);\n            URLConnection urlConnection = serverUrl.openConnection();\n            HttpsURLConnection httpConnection = (HttpsURLConnection) urlConnection;\n            httpConnection.setInstanceFollowRedirects(false);\n            httpConnection.setDoOutput(true);\n\n            InputStream initialStream = httpConnection.getInputStream();\n\n            String mimeType = urlConnection.getContentType();\n\n            System.out.println(\"mimeType::::\" + mimeType);\n        } catch (Exception exception) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691937208,"post_id":76893800,"comment_id":135555457,"body_markdown":"`a.var` would work, but that code won&#39;t compile since the `fun()` method cannot be declared abstract in the anonymous class. So, in class B, it is not `public abstract void fun() {` but rather `public void fun() {`","body":"<code>a.var</code> would work, but that code won&#39;t compile since the <code>fun()</code> method cannot be declared abstract in the anonymous class. So, in class B, it is not <code>public abstract void fun() {</code> but rather <code>public void fun() {</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1691937355,"post_id":76893800,"comment_id":135555475,"body_markdown":"What&#39;s wrong with simply `var`? https://ideone.com/NE8Kye","body":"What&#39;s wrong with simply <code>var</code>? <a href=\"https://ideone.com/NE8Kye\" rel=\"nofollow noreferrer\">ideone.com/NE8Kye</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691937382,"post_id":76893800,"comment_id":135555480,"body_markdown":"Within the anonymous class implementation of `A`, using `this` references the instance of said implementation. In other words, using `this.var`, or simply just `var`, inside the `fun()` method override will work.","body":"Within the anonymous class implementation of <code>A</code>, using <code>this</code> references the instance of said implementation. In other words, using <code>this.var</code>, or simply just <code>var</code>, inside the <code>fun()</code> method override will work."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692185266,"creation_date":1691943120,"answer_id":76894211,"question_id":76893800,"body_markdown":"In an anonymous class, you can use `this.var`, `a.var` or the variable `var` itself. Since it is an anonymous class you can access all its public or its package visible fields\r\nHere&#39;s and example\r\n```\r\nabstract class A {\r\n\tpublic int var = 0;\r\n\tpublic abstract void fun();\r\n}\r\nclass B {\r\n\tA a;\r\n\tpublic B() {\r\n\t\ta = new A() {\r\n\t\t\tpublic void fun() {\r\n\t\t\t\tSystem.out.println(var);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew B().a.fun();\r\n\t}\r\n}\r\n```\r\nIn other cases where `a == null` or `a != this` you cannot use `a.var` for example\r\n```\r\nclass B {\r\n\tA a;\r\n\tA a2;\r\n\tpublic B() {\r\n\t\ta2 = new A() {\r\n\t\t\tpublic void fun() {\r\n\t\t\t\tSystem.out.println(a.var);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nYou would end up getting a `NullPointerException`","title":"How can I access the var member inside anonymous class?","body":"<p>In an anonymous class, you can use <code>this.var</code>, <code>a.var</code> or the variable <code>var</code> itself. Since it is an anonymous class you can access all its public or its package visible fields\nHere's and example</p>\n<pre><code>abstract class A {\n    public int var = 0;\n    public abstract void fun();\n}\nclass B {\n    A a;\n    public B() {\n        a = new A() {\n            public void fun() {\n                System.out.println(var);\n            }\n        };\n    }\n}\npublic class Main {\n    public static void main(String[] args) {\n        new B().a.fun();\n    }\n}\n</code></pre>\n<p>In other cases where <code>a == null</code> or <code>a != this</code> you cannot use <code>a.var</code> for example</p>\n<pre><code>class B {\n    A a;\n    A a2;\n    public B() {\n        a2 = new A() {\n            public void fun() {\n                System.out.println(a.var);\n            }\n        };\n    }\n}\n</code></pre>\n<p>You would end up getting a <code>NullPointerException</code></p>\n"}],"owner":{"account_id":1430866,"reputation":177,"user_id":1353368,"accept_rate":40,"display_name":"Jackey Cheung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76894211,"answer_count":1,"score":0,"last_activity_date":1692185266,"creation_date":1691936876,"question_id":76893800,"body_markdown":"I suddenly found myself facing a problem:\r\n\r\n```\r\npublic abstract class A {\r\n  public int var = 0;\r\n  public abstract void fun();\r\n}\r\n\r\npublic class B {\r\n  private A a;\r\n\r\n  public B() {\r\n    a = new A() {\r\n      public abstract void fun() {\r\n        // How to access A.var\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nAs the above comment goes: How can I access the `var` member? Or am I making mistake?\r\n\r\nP.S. I&#39;m not accessing containing class member (not B.this).","title":"How can I access the var member inside anonymous class?","body":"<p>I suddenly found myself facing a problem:</p>\n<pre><code>public abstract class A {\n  public int var = 0;\n  public abstract void fun();\n}\n\npublic class B {\n  private A a;\n\n  public B() {\n    a = new A() {\n      public abstract void fun() {\n        // How to access A.var\n      }\n    };\n  }\n}\n</code></pre>\n<p>As the above comment goes: How can I access the <code>var</code> member? Or am I making mistake?</p>\n<p>P.S. I'm not accessing containing class member (not B.this).</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":28864428,"reputation":1,"user_id":22107499,"display_name":"Himanshu Satone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692185254,"creation_date":1692185157,"answer_id":76913110,"question_id":76831755,"body_markdown":"Suppose you want to delete an item from the list, you have to specify some things before proceed to delete it.\r\n\r\n 1. Define the position of the item you want to delete. You can achieve it using getAdapterPosition() method.\r\n 2. Pass this position to you delete function(User defined function).\r\n    \r\n   \r\n\r\n      deleteItem(int position){\r\n          listItem.remove(position);\r\n          notifyItemRemoved(position);\r\n         }\r\n\r\n 3. The above code will simply remove the item from your array list and then notify the adapter that particular item from particular position have been removed so rearrange the RecyclerView accordingly. \r\n\r\nYou can refer this answer [notifyItemRemoved()][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28189371/using-notifyitemremoved-or-notifydatasetchanged-with-recyclerview-in-android","title":"Does Android provide a RecyclerView/Dyanmic List tutorial outlining how deletion of items and refreshing the list?","body":"<p>Suppose you want to delete an item from the list, you have to specify some things before proceed to delete it.</p>\n<ol>\n<li><p>Define the position of the item you want to delete. You can achieve it using getAdapterPosition() method.</p>\n</li>\n<li><p>Pass this position to you delete function(User defined function).</p>\n<p>deleteItem(int position){\nlistItem.remove(position);\nnotifyItemRemoved(position);\n}</p>\n</li>\n<li><p>The above code will simply remove the item from your array list and then notify the adapter that particular item from particular position have been removed so rearrange the RecyclerView accordingly.</p>\n</li>\n</ol>\n<p>You can refer this answer <a href=\"https://stackoverflow.com/questions/28189371/using-notifyitemremoved-or-notifydatasetchanged-with-recyclerview-in-android\">notifyItemRemoved()</a></p>\n"}],"owner":{"account_id":4780772,"reputation":798,"user_id":3862607,"accept_rate":0,"display_name":"Drew Gallagher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692185254,"creation_date":1691098834,"question_id":76831755,"body_markdown":"I am struggling to find a Android official document for updating recycler view/dynamic list items upon a delete item operation. This for Java primarily, or Kotlin if applicable.\r\n\r\nThis is the only doc section I found and the one listed below it. The examples appear to lack this info too.\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources\r\n\r\nI know how to do it from past experience and other guides, but I&#39;m trying to share an official reference from Android with a student of mine.\r\n\r\nAll of the docs I have seen just demonstrate adding items to a list but not deleting them. \r\n\r\nThere also appear to be no docs that show refreshing the list after an item has been deleted/added (i.e. notifyDataSetChanged and related functions)\r\n\r\nWhere are the official docs?\r\n\r\n","title":"Does Android provide a RecyclerView/Dyanmic List tutorial outlining how deletion of items and refreshing the list?","body":"<p>I am struggling to find a Android official document for updating recycler view/dynamic list items upon a delete item operation. This for Java primarily, or Kotlin if applicable.</p>\n<p>This is the only doc section I found and the one listed below it. The examples appear to lack this info too.</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/recyclerview#additional-resources</a></p>\n<p>I know how to do it from past experience and other guides, but I'm trying to share an official reference from Android with a student of mine.</p>\n<p>All of the docs I have seen just demonstrate adding items to a list but not deleting them.</p>\n<p>There also appear to be no docs that show refreshing the list after an item has been deleted/added (i.e. notifyDataSetChanged and related functions)</p>\n<p>Where are the official docs?</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":1658045,"reputation":8000,"user_id":1527018,"accept_rate":33,"display_name":"mic4ael"},"score":2,"creation_date":1386429020,"post_id":20442862,"comment_id":30540029,"body_markdown":"Try [link](http://stackoverflow.com/questions/1615352/why-doesnt-mavens-mvn-clean-ever-work-the-first-time)","body":"Try <a href=\"http://stackoverflow.com/questions/1615352/why-doesnt-mavens-mvn-clean-ever-work-the-first-time\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1386430621,"creation_date":1386430621,"answer_id":20443141,"question_id":20442862,"body_markdown":"&gt; Failed to delete\r\n&gt; C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar\r\n\r\nBecause of the path `C:\\EclipseProjects` i guess you have eclipse running on that project. If you application runs, you cannot clean the output, because it may be in use.\r\n\r\nStop the application and maybe eclipse and try again.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<blockquote>\n  <p>Failed to delete\n  C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar</p>\n</blockquote>\n\n<p>Because of the path <code>C:\\EclipseProjects</code> i guess you have eclipse running on that project. If you application runs, you cannot clean the output, because it may be in use.</p>\n\n<p>Stop the application and maybe eclipse and try again.</p>\n"},{"tags":[],"owner":{"account_id":2167953,"reputation":773,"user_id":1920619,"accept_rate":82,"display_name":"Kworks"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1399646857,"creation_date":1399646857,"answer_id":23567587,"question_id":20442862,"body_markdown":"Make sure that your permissions are correct on the folder.As i faced same problem and after changing the ownership of the folder and files the problem was solved.\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Make sure that your permissions are correct on the folder.As i faced same problem and after changing the ownership of the folder and files the problem was solved.</p>\n"},{"tags":[],"owner":{"display_name":"user2208931"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402048694,"creation_date":1402048694,"answer_id":24079095,"question_id":20442862,"body_markdown":"if you run a server instance, stop it for the time of build process. worked for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>if you run a server instance, stop it for the time of build process. worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1373850,"reputation":730,"user_id":1308262,"accept_rate":50,"display_name":"shashi009"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402375020,"creation_date":1402298096,"answer_id":24115382,"question_id":20442862,"body_markdown":"Try changing the permissions on the workspace folder. Make sure you have sufficient permissions to delete files in this folder.\r\nI faced the same problem and when i provided full control over the project folder (changing windows security permissions), it worked fine for me.\r\n\r\nJust to update, this morning it again started giving the same error even when i have given all the permissions. So i tried to delete the particular file (pointed in the error logs) manually to find out what&#39;s exactly the problem.\r\n\r\nI got the error &quot;can not delete file because it&#39;s in use by Java TM SE&quot;. So the file was being used by java process due to which eclipse was not able to delete it.\r\n\r\nI closed the java process from task manager and after that it worked fine. Although its kinda hectic to close the java process every time I need to execute my project, its the working solution right now for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Try changing the permissions on the workspace folder. Make sure you have sufficient permissions to delete files in this folder.\nI faced the same problem and when i provided full control over the project folder (changing windows security permissions), it worked fine for me.</p>\n\n<p>Just to update, this morning it again started giving the same error even when i have given all the permissions. So i tried to delete the particular file (pointed in the error logs) manually to find out what's exactly the problem.</p>\n\n<p>I got the error \"can not delete file because it's in use by Java TM SE\". So the file was being used by java process due to which eclipse was not able to delete it.</p>\n\n<p>I closed the java process from task manager and after that it worked fine. Although its kinda hectic to close the java process every time I need to execute my project, its the working solution right now for me.</p>\n"},{"tags":[],"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404736114,"creation_date":1404736114,"answer_id":24610642,"question_id":20442862,"body_markdown":"In my case, it was Subversion, TortoiseSVN clinging to those files, so I just clicked on SVN in the Eclipse menu and then disconnect. Worked for me. ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case, it was Subversion, TortoiseSVN clinging to those files, so I just clicked on SVN in the Eclipse menu and then disconnect. Worked for me. </p>\n"},{"tags":[],"owner":{"account_id":5688780,"reputation":1,"user_id":4497432,"display_name":"masthan rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422362919,"creation_date":1422362919,"answer_id":28170920,"question_id":20442862,"body_markdown":"If you open the directory which it is trying to delete then also you will face same error so first close the folder.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you open the directory which it is trying to delete then also you will face same error so first close the folder.</p>\n"},{"tags":[],"owner":{"account_id":991147,"reputation":2131,"user_id":1008424,"accept_rate":82,"display_name":"Anuruddha Lanka Liyanarachchi"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1427884465,"creation_date":1427884465,"answer_id":29388554,"question_id":20442862,"body_markdown":"In my case I changed the owner of all the files and it worked.\r\n\r\n    sudo chown -R anuruddha *\r\n\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case I changed the owner of all the files and it worked.</p>\n\n<pre><code>sudo chown -R anuruddha *\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937090,"reputation":947,"user_id":965830,"accept_rate":65,"display_name":"tanvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449118005,"creation_date":1449118005,"answer_id":34058063,"question_id":20442862,"body_markdown":"For me it worked by closing the Eclipse and using the command line to build the project. Seems like Eclipse had taken a lock on the files.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me it worked by closing the Eclipse and using the command line to build the project. Seems like Eclipse had taken a lock on the files.</p>\n"},{"tags":[],"owner":{"account_id":7253967,"reputation":11,"user_id":5826279,"display_name":"mak k"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1639071093,"creation_date":1459169859,"answer_id":36262854,"question_id":20442862,"body_markdown":"Kill the &quot;Java (TM)&quot; process from processes in your computer. Re-run the `mvn` command. It should work now.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Kill the &quot;Java (TM)&quot; process from processes in your computer. Re-run the <code>mvn</code> command. It should work now.</p>\n"},{"tags":[],"owner":{"account_id":8596228,"reputation":191,"user_id":6439168,"display_name":"sdfs"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1465373764,"creation_date":1465373764,"answer_id":37696887,"question_id":20442862,"body_markdown":"Delete the java.exe process in Task Manager and re-execute.It worked for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>Delete the java.exe process in Task Manager and re-execute.It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11153685,"reputation":461,"user_id":8186067,"display_name":"Vic.Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506650488,"creation_date":1506650488,"answer_id":46480680,"question_id":20442862,"body_markdown":"you may need to check whether the **`settings.xml`** file is correct.\r\nsuch as user name, password, third party url.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>you may need to check whether the <strong><code>settings.xml</code></strong> file is correct.\nsuch as user name, password, third party url.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533725459,"creation_date":1533725459,"answer_id":51744842,"question_id":20442862,"body_markdown":"I&#39;ve noticed that sometimes eclipse somehow picks up some of the jars and keeps a lock on them (in Windows only) and when you try to do mvn clean it says:\r\n\r\n`[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.2:clean (default-clean) on project`\r\n\r\nThe only solution so far is to close eclipse and run the mvn build again.\r\n\r\nAnd these are random jars - it can pick up anything it wants... \r\nWhy that happens is a mystery to me. Probably eclipse opens the jars when you do Type Search or Resource Search and forgets to close them / release the file handlers..","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>I've noticed that sometimes eclipse somehow picks up some of the jars and keeps a lock on them (in Windows only) and when you try to do mvn clean it says:</p>\n\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.2:clean (default-clean) on project</code></p>\n\n<p>The only solution so far is to close eclipse and run the mvn build again.</p>\n\n<p>And these are random jars - it can pick up anything it wants... \nWhy that happens is a mystery to me. Probably eclipse opens the jars when you do Type Search or Resource Search and forgets to close them / release the file handlers..</p>\n"},{"tags":[],"owner":{"account_id":6953348,"reputation":629,"user_id":5335255,"display_name":"PulkitRajput"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556541346,"creation_date":1556541346,"answer_id":55903540,"question_id":20442862,"body_markdown":"**Reason and solution-**\r\n\r\nEverything happens for a reason :)\r\n\r\n**[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.1.0:clean (default-clean) on project**\r\n\r\n- The reason of this problem is that the target folder is already in use. That means any jar or any war or any application is using that target folder\r\n\r\n**Solution-**\r\n1) Check the war and jar (also check jar if any running in background), terminate it.\r\n\r\n2) if u have opened command prompt (cmd), and are using that path to execute the jar, close it or change the path in cmd. This was the reason in my case. Do check this.\r\n\r\nOnce u do this , u would be able to delete the contents of the target folder and and can also perform maven clean and maven install.\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p><strong>Reason and solution-</strong></p>\n\n<p>Everything happens for a reason :)</p>\n\n<p><strong>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.1.0:clean (default-clean) on project</strong></p>\n\n<ul>\n<li>The reason of this problem is that the target folder is already in use. That means any jar or any war or any application is using that target folder</li>\n</ul>\n\n<p><strong>Solution-</strong>\n1) Check the war and jar (also check jar if any running in background), terminate it.</p>\n\n<p>2) if u have opened command prompt (cmd), and are using that path to execute the jar, close it or change the path in cmd. This was the reason in my case. Do check this.</p>\n\n<p>Once u do this , u would be able to delete the contents of the target folder and and can also perform maven clean and maven install.</p>\n"},{"tags":[],"owner":{"account_id":16819303,"reputation":1,"user_id":12160197,"display_name":"Debasis Parida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570117352,"creation_date":1570117352,"answer_id":58222629,"question_id":20442862,"body_markdown":"If you have opened the command prompt(cmd) to run the jar on current folder,then the error will come as above.so close the command prompt and try maven clean and install,it will work definitely.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you have opened the command prompt(cmd) to run the jar on current folder,then the error will come as above.so close the command prompt and try maven clean and install,it will work definitely.</p>\n"},{"tags":[],"owner":{"account_id":11129738,"reputation":101,"user_id":8170051,"display_name":"PrathiSaiHarika"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1583312473,"creation_date":1580793862,"answer_id":60051085,"question_id":20442862,"body_markdown":"* Solution 1:\r\n  Sometimes the build fails because, the target folder cannot be deleted.\r\n  (It might be open in the backend due to the previous builds.)\r\n\r\n    -&gt; Open Task Manager\r\n\r\n    -&gt; In the Process tab\r\n\r\n    -&gt; Do &quot;End Process&quot; for the running &quot;java.exe&quot; processess\r\n* Solution 2:\r\n\r\n    -&gt; Restart eclipse\r\n\r\n    -&gt; Perform Maven Build with command : clean install -DSkipTests\r\n\r\n    ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<ul>\n<li><p>Solution 1:\nSometimes the build fails because, the target folder cannot be deleted.\n(It might be open in the backend due to the previous builds.)</p>\n\n<p>-> Open Task Manager</p>\n\n<p>-> In the Process tab</p>\n\n<p>-> Do \"End Process\" for the running \"java.exe\" processess</p></li>\n<li><p>Solution 2:</p>\n\n<p>-> Restart eclipse</p>\n\n<p>-> Perform Maven Build with command : clean install -DSkipTests</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2186,"user_id":1908827,"display_name":"Akash Yellappa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581092781,"creation_date":1581092781,"answer_id":60117430,"question_id":20442862,"body_markdown":"For IntelliJ users, \r\n\r\n    1. File -&gt; Invalidate your cache/restart the ide \r\n    2. clean install -DSkipTests\r\n\r\n","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For IntelliJ users, </p>\n\n<pre><code>1. File -&gt; Invalidate your cache/restart the ide \n2. clean install -DSkipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329338,"reputation":31,"user_id":3535249,"display_name":"Mohammed Furquan Shaikh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591859582,"creation_date":1591859582,"answer_id":62318967,"question_id":20442862,"body_markdown":"On Windows, I got &quot;Unable to delete directory&quot;. What&#39;s wrong?\r\nFor instance, clean could fail if you already have opened a command line with target as the current dir. Windows locks some ressources and you need to close the handles on these ressources.\r\n\r\nThis works for me.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>On Windows, I got \"Unable to delete directory\". What's wrong?\nFor instance, clean could fail if you already have opened a command line with target as the current dir. Windows locks some ressources and you need to close the handles on these ressources.</p>\n\n<p>This works for me.</p>\n"},{"tags":[],"owner":{"account_id":19319731,"reputation":13,"user_id":14123660,"display_name":"Akhilesh Raturi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639070938,"creation_date":1639070938,"answer_id":70294177,"question_id":20442862,"body_markdown":"In my case in my background I was inside the folder from command prompt after closing the command prompt. I was able to run the maven clean command.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>In my case in my background I was inside the folder from command prompt after closing the command prompt. I was able to run the maven clean command.</p>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655682202,"creation_date":1655682202,"answer_id":72681002,"question_id":20442862,"body_markdown":"For me clearing the previous maven tasks worked.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Taenq.png\r\n\r\nAfter clearing this, from eclipse project properties &gt; run as &gt; maven &gt; clean followed by try maven build. \r\n\r\nBest luck!","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me clearing the previous maven tasks worked.\n<a href=\"https://i.stack.imgur.com/Taenq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Taenq.png\" alt=\"enter image description here\" /></a></p>\n<p>After clearing this, from eclipse project properties &gt; run as &gt; maven &gt; clean followed by try maven build.</p>\n<p>Best luck!</p>\n"},{"tags":[],"owner":{"account_id":3786709,"reputation":71,"user_id":3144447,"display_name":"wi7sonjoseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663042618,"creation_date":1663042618,"answer_id":73697504,"question_id":20442862,"body_markdown":"For me manually deleting the files in target folder using sudo worked. It&#39;s the need for root permission to delete files in the target folder.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>For me manually deleting the files in target folder using sudo worked. It's the need for root permission to delete files in the target folder.</p>\n"},{"tags":[],"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692184531,"creation_date":1692184531,"answer_id":76913037,"question_id":20442862,"body_markdown":"If you were doing some changes in maven build part in pom.xml. And you have a cmd window opened before making those changes. Then close / kill cmd process first, then rerun Clean/Build and it succeeds.","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>If you were doing some changes in maven build part in pom.xml. And you have a cmd window opened before making those changes. Then close / kill cmd process first, then rerun Clean/Build and it succeeds.</p>\n"}],"owner":{"account_id":2627294,"reputation":906,"user_id":2274060,"accept_rate":0,"display_name":"user2274060"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159287,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":21,"score":18,"last_activity_date":1692184531,"creation_date":1386428799,"question_id":20442862,"body_markdown":"I&#39;ve a problem with the following dependency in my pom.xml where org.springframework.version = 3.1.0.RELEASE:\r\n\r\n    &lt;!-- Spring MVC framework --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I execute the command line &#39;mvn clean install&#39;, I&#39;ve the following error : \r\n\r\n     [INFO] BUILD FAILURE\r\n     [INFO] ------------------------------------------------------------------------\r\n     [INFO] Total time: 1.052s\r\n     [INFO] Finished at: Sat Dec 07 15:49:04 CET 2013\r\n     [INFO] Final Memory: 4M/15M\r\n     [INFO] ------------------------------------------------------------------------\r\n     [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project myGoogleAppEngine: Failed to clean project: Failed to delete C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar -&gt; [Help 1]\r\n     [ERROR] \r\n     [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n     [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n     [ERROR] \r\n     [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n     [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nBy seeing on http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE , there aren&#39;t any errors in my dependency.\r\n\r\nDo you have any solutions? ","title":"Maven - Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean","body":"<p>I've a problem with the following dependency in my pom.xml where org.springframework.version = 3.1.0.RELEASE:</p>\n\n<pre><code>&lt;!-- Spring MVC framework --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I execute the command line 'mvn clean install', I've the following error : </p>\n\n<pre><code> [INFO] BUILD FAILURE\n [INFO] ------------------------------------------------------------------------\n [INFO] Total time: 1.052s\n [INFO] Finished at: Sat Dec 07 15:49:04 CET 2013\n [INFO] Final Memory: 4M/15M\n [INFO] ------------------------------------------------------------------------\n [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project myGoogleAppEngine: Failed to clean project: Failed to delete C:\\EclipseProjects\\myGoogleAppEngine\\target\\myGoogleAppEngine-0.0.1-SNAPSHOT\\WEB-INF\\lib\\spring-webmvc-3.1.0.RELEASE.jar -&gt; [Help 1]\n [ERROR] \n [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n [ERROR] \n [ERROR] For more information about the errors and possible solutions, please read the following articles:\n [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>By seeing on <a href=\"http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.springframework/spring-webmvc/3.1.0.RELEASE</a> , there aren't any errors in my dependency.</p>\n\n<p>Do you have any solutions? </p>\n"},{"tags":["java","hibernate","playframework"],"comments":[{"owner":{"account_id":877405,"reputation":6423,"user_id":103605,"accept_rate":60,"display_name":"rapha&#235;λ"},"score":0,"creation_date":1337495563,"post_id":10671050,"comment_id":13844646,"body_markdown":"Can you show the `Photo` class as well? The `mappedBy` value looks suspicious.  Something btw to always give a try is drop your database and have your JPA impl generate it again.","body":"Can you show the <code>Photo</code> class as well? The <code>mappedBy</code> value looks suspicious.  Something btw to always give a try is drop your database and have your JPA impl generate it again."}],"answers":[{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337494125,"creation_date":1337494125,"answer_id":10671205,"question_id":10671050,"body_markdown":"Check that your entity isn&#39;t missing any required fields when it&#39;s being persisted / updated. Also check what constraints are set on the User-table in the DB (unique keys, foreign keys, non nulls...).","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Check that your entity isn't missing any required fields when it's being persisted / updated. Also check what constraints are set on the User-table in the DB (unique keys, foreign keys, non nulls...).</p>\n"},{"tags":[],"owner":{"account_id":877405,"reputation":6423,"user_id":103605,"accept_rate":60,"display_name":"rapha&#235;λ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337496153,"creation_date":1337496153,"answer_id":10671351,"question_id":10671050,"body_markdown":"Your `mappedBy` value makes little sense. It is used on the passive end of a bi-directional association. In those cases it points to the attribute on the other class on the other side of the relationship. You are pointing it to one of the attributes of the `User` class. Perhaps your Photo class has a `email` attribute, but is that of type `User` ( i am guessing not). So if this is a bi-directional association, set the `mappedBy` value to the attribute on `Photo` having the corresponding `@ManyToOne` &quot;back&quot; to the `User`. If it is a unidirectional association, remove the mappedBy and perhaps use @JoinColumn to use the foreign key mapping strategy of unidirectional one-to-many","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Your <code>mappedBy</code> value makes little sense. It is used on the passive end of a bi-directional association. In those cases it points to the attribute on the other class on the other side of the relationship. You are pointing it to one of the attributes of the <code>User</code> class. Perhaps your Photo class has a <code>email</code> attribute, but is that of type <code>User</code> ( i am guessing not). So if this is a bi-directional association, set the <code>mappedBy</code> value to the attribute on <code>Photo</code> having the corresponding <code>@ManyToOne</code> \"back\" to the <code>User</code>. If it is a unidirectional association, remove the mappedBy and perhaps use @JoinColumn to use the foreign key mapping strategy of unidirectional one-to-many</p>\n"},{"tags":[],"owner":{"account_id":2972271,"reputation":53,"user_id":2524094,"display_name":"Abhishek Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372258131,"creation_date":1372250617,"answer_id":17320384,"question_id":10671050,"body_markdown":"I was facing same issue and it got resolved by changing relationship related notation from `OneToMany` to `ManyToMany`. In My case there was `ManyToMany` relation between Job and Person Table and I was trying to add same jobList to multiple person object in a loop.\r\n\r\nThe problem was with the annotation used in Person Entity class for Job Entity:\r\n \r\n    @ManyToMany // Changed from OneToMany to ManyToMany\r\n    private List&lt;Job&gt; jobList = new ArrayList&lt;Job&gt;();","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>I was facing same issue and it got resolved by changing relationship related notation from <code>OneToMany</code> to <code>ManyToMany</code>. In My case there was <code>ManyToMany</code> relation between Job and Person Table and I was trying to add same jobList to multiple person object in a loop.</p>\n\n<p>The problem was with the annotation used in Person Entity class for Job Entity:</p>\n\n<pre><code>@ManyToMany // Changed from OneToMany to ManyToMany\nprivate List&lt;Job&gt; jobList = new ArrayList&lt;Job&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083121,"reputation":126,"user_id":1079542,"display_name":"developer9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384773668,"creation_date":1384773668,"answer_id":20046510,"question_id":10671050,"body_markdown":"Try editing the code as below - \r\nIn User Model\r\n\r\n        @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n\t    public List&lt;Photo&gt; photos;\r\n\r\nIn Photo Model        \r\n\r\n        @ManyToOne\r\n\t    @NotFound(action = NotFoundAction.IGNORE)\r\n\t    @JoinColumn(name = &quot;email&quot;, nullable = false, insertable = false, updatable = false)\r\n\t    public User user;\r\n\r\nCheck this for reference - http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>Try editing the code as below - \nIn User Model</p>\n\n<pre><code>    @OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\n    public List&lt;Photo&gt; photos;\n</code></pre>\n\n<p>In Photo Model        </p>\n\n<pre><code>    @ManyToOne\n    @NotFound(action = NotFoundAction.IGNORE)\n    @JoinColumn(name = \"email\", nullable = false, insertable = false, updatable = false)\n    public User user;\n</code></pre>\n\n<p>Check this for reference - <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations\" rel=\"nofollow\">http://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_relationship_and_inverse_ManyToOne_annotations</a></p>\n"}],"owner":{"account_id":1501365,"reputation":11,"user_id":1405888,"accept_rate":0,"display_name":"Bj bhatta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692184080,"creation_date":1337491945,"question_id":10671050,"body_markdown":"I have got this exception!!\r\nhere is my model class\r\n\r\n\r\n    @Entity\r\n    public class User extends Model {\r\n    \r\n        @OneToMany(mappedBy=&quot;email&quot;, cascade=CascadeType.ALL)\r\n        public List&lt;Photo&gt; photo;\r\n        \r\n        @Email\r\n        @Required\r\n        @Unique\r\n        public String email;\r\n        \r\n        @Required\r\n        public String passwordHash;\r\n        \r\n        @Required\r\n        public String education;\r\n        \r\n        @Required\r\n        public String fname;\r\n        \r\n        @Required\r\n        public String lname;\r\n        \r\n        @Required\r\n        public Date dob;\r\n        \r\n        @Required\r\n        public String gender;\r\n        \r\n        @Required\r\n        public String country;\r\n        \r\n        @Required\r\n        public Long phone;\r\n        \r\n        @Required\r\n        public String status;\r\n        \r\n        @Required\r\n        public String jobtitle;\r\n        \r\n        @Required\r\n        public String company;\r\n        \r\n        @Required\r\n        public String industry;\r\n        \r\n        @Required\r\n        public Date addDate;\r\n        \r\n        public String needConfirmation;\r\n    \r\n    public User(String email, String password, String fname,\r\n                    String lname, Date dob, String gender, String country,\r\n                    Long phone, String status, String education, String jobtitle, String company, String industry) {\r\n            //all initialization here\r\n        }\r\n    }\r\n\r\ncan you please tell me where I am going wrong\r\nplayframework&#215; 2289\r\n\r\n\r\n---\r\n\r\n    this is my photo class, and please tell me how can I allow JPA to generate my database\r\n    \r\n    \r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package models;\r\n    \r\n    import controllers.Users;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.ManyToOne;\r\n    import play.db.jpa.Model;\r\n    \r\n    /**\r\n     *\r\n     * @author nPandey\r\n     */\r\n    @Entity\r\n    public class Photo extends Model{\r\n        \r\n        public String photoname;\r\n        \r\n        @ManyToOne\r\n        public User email;\r\n        \r\n        public String owner;\r\n        \r\n        public Photo(){\r\n            \r\n        }\r\n        \r\n        public Photo(User email, String photo){\r\n            this.photoname=photo;\r\n            this.email=email;\r\n            this.owner=email.email;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"PersistenceException occured : org.hibernate.exception.ConstraintViolationException: could not insert: [models.User]","body":"<p>I have got this exception!!\nhere is my model class</p>\n\n<pre><code>@Entity\npublic class User extends Model {\n\n    @OneToMany(mappedBy=\"email\", cascade=CascadeType.ALL)\n    public List&lt;Photo&gt; photo;\n\n    @Email\n    @Required\n    @Unique\n    public String email;\n\n    @Required\n    public String passwordHash;\n\n    @Required\n    public String education;\n\n    @Required\n    public String fname;\n\n    @Required\n    public String lname;\n\n    @Required\n    public Date dob;\n\n    @Required\n    public String gender;\n\n    @Required\n    public String country;\n\n    @Required\n    public Long phone;\n\n    @Required\n    public String status;\n\n    @Required\n    public String jobtitle;\n\n    @Required\n    public String company;\n\n    @Required\n    public String industry;\n\n    @Required\n    public Date addDate;\n\n    public String needConfirmation;\n\npublic User(String email, String password, String fname,\n                String lname, Date dob, String gender, String country,\n                Long phone, String status, String education, String jobtitle, String company, String industry) {\n        //all initialization here\n    }\n}\n</code></pre>\n\n<p>can you please tell me where I am going wrong\nplayframework× 2289</p>\n\n<hr>\n\n<pre><code>this is my photo class, and please tell me how can I allow JPA to generate my database\n\n\n/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage models;\n\nimport controllers.Users;\nimport javax.persistence.Entity;\nimport javax.persistence.ManyToOne;\nimport play.db.jpa.Model;\n\n/**\n *\n * @author nPandey\n */\n@Entity\npublic class Photo extends Model{\n\n    public String photoname;\n\n    @ManyToOne\n    public User email;\n\n    public String owner;\n\n    public Photo(){\n\n    }\n\n    public Photo(User email, String photo){\n        this.photoname=photo;\n        this.email=email;\n        this.owner=email.email;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","methods"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1428616758,"post_id":29549771,"comment_id":47251132,"body_markdown":"What do you imagine this would do if it existed?","body":"What do you imagine this would do if it existed?"},{"owner":{"account_id":5425943,"reputation":1238,"user_id":4318200,"display_name":"fzzfzzfzz"},"score":0,"creation_date":1428616795,"post_id":29549771,"comment_id":47251149,"body_markdown":"I don&#39;t think so. If you extend the class, you can call `super()` in the methods you override. That&#39;s the most similar thing I can think of.","body":"I don&#39;t think so. If you extend the class, you can call <code>super()</code> in the methods you override. That&#39;s the most similar thing I can think of."}],"answers":[{"tags":[],"owner":{"account_id":4687954,"reputation":58,"user_id":3794870,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428616878,"creation_date":1428616878,"answer_id":29549832,"question_id":29549771,"body_markdown":"If they are in the same class, no. However, assuming you want to run all of generateAnimal() then add your generateDog() specific code you could do this: \r\n\r\n    public void generateDog(){\r\n        generateAnimal();\r\n        ///do the rest of generateDog()\r\n    }\r\n\r\nI hope that helps.","title":"Is it possible to extend Methods in Java?","body":"<p>If they are in the same class, no. However, assuming you want to run all of generateAnimal() then add your generateDog() specific code you could do this: </p>\n\n<pre><code>public void generateDog(){\n    generateAnimal();\n    ///do the rest of generateDog()\n}\n</code></pre>\n\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428616921,"creation_date":1428616921,"answer_id":29549840,"question_id":29549771,"body_markdown":"Yes.\r\n\r\nIt was done exactly as you showed there, without the `extends generateAnimal()` and by changing that method name to `generateAnimal()`.\r\n\r\nThis is called Overriding. And allows you to utilize the annotation `@Override`.\r\n\r\n---\r\n\r\n    public class A {\r\n    \r\n        public void print(){\r\n            System.out.println(&quot;Hello from A!&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public class B extends A {\r\n    \r\n        @Override  // This method overrides A#print() \r\n        public void print(){\r\n            System.out.println(&quot;Hello from B!&quot;);\r\n        }\r\n\r\n    }\r\n\r\nThen, calling some action like:\r\n\r\n    B b = new B();\r\n    b.print();\r\n\r\nWill print out:\r\n\r\n    Hello from B!\r\n\r\n---\r\n\r\nThis is more widely known as [Inheritance](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)","title":"Is it possible to extend Methods in Java?","body":"<p>Yes.</p>\n\n<p>It was done exactly as you showed there, without the <code>extends generateAnimal()</code> and by changing that method name to <code>generateAnimal()</code>.</p>\n\n<p>This is called Overriding. And allows you to utilize the annotation <code>@Override</code>.</p>\n\n<hr>\n\n<pre><code>public class A {\n\n    public void print(){\n        System.out.println(\"Hello from A!\");\n    }\n\n}\n\npublic class B extends A {\n\n    @Override  // This method overrides A#print() \n    public void print(){\n        System.out.println(\"Hello from B!\");\n    }\n\n}\n</code></pre>\n\n<p>Then, calling some action like:</p>\n\n<pre><code>B b = new B();\nb.print();\n</code></pre>\n\n<p>Will print out:</p>\n\n<pre><code>Hello from B!\n</code></pre>\n\n<hr>\n\n<p>This is more widely known as <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow\">Inheritance</a></p>\n"},{"tags":[],"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692183964,"creation_date":1428616964,"answer_id":29549850,"question_id":29549771,"body_markdown":"Yes.\r\n\r\n    public class Animal {\r\n       public void someAction() {\r\n          System.out.println(&quot;from Animal class&quot;);\r\n       }\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n       public void someAction() {\r\n          super.someAction();\r\n          System.out.println(&quot;from Dog class&quot;);\r\n       }\r\n    }\r\n\r\n    public class Main {\r\n\r\n      public static void main(String[] args){\r\n          Animal dog = new Dog();\r\n          dog.someAction();\r\n      }\r\n    }\r\n\r\n\r\nOutput:\r\n&lt;!-- language: lang-none --&gt;\r\n    from Animal class    \r\n    from Dog class\r\n\r\nSo you extend functionality of method, but better to use composition instead of inheritance.","title":"Is it possible to extend Methods in Java?","body":"<p>Yes.</p>\n<pre><code>public class Animal {\n   public void someAction() {\n      System.out.println(&quot;from Animal class&quot;);\n   }\n}\n\npublic class Dog extends Animal {\n   public void someAction() {\n      super.someAction();\n      System.out.println(&quot;from Dog class&quot;);\n   }\n}\n\npublic class Main {\n\n  public static void main(String[] args){\n      Animal dog = new Dog();\n      dog.someAction();\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>from Animal class    \nfrom Dog class\n</code></pre>\n<p>So you extend functionality of method, but better to use composition instead of inheritance.</p>\n"},{"tags":[],"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428617095,"creation_date":1428617095,"answer_id":29549876,"question_id":29549771,"body_markdown":"You cannot extend a method the way you are describing but you can inherit the method and then call the method from the superclass as follows:\r\n\r\n    @Override\r\n    public void inheritedMethod() {\r\n        super.inheritedMethod(); // This will call method from super class\r\n    \r\n        // Do subclass specific work here\r\n    }\r\n\r\nA method is not an object by itself. Methods are meant to be called.","title":"Is it possible to extend Methods in Java?","body":"<p>You cannot extend a method the way you are describing but you can inherit the method and then call the method from the superclass as follows:</p>\n\n<pre><code>@Override\npublic void inheritedMethod() {\n    super.inheritedMethod(); // This will call method from super class\n\n    // Do subclass specific work here\n}\n</code></pre>\n\n<p>A method is not an object by itself. Methods are meant to be called.</p>\n"}],"owner":{"account_id":5845072,"reputation":1689,"user_id":4605456,"accept_rate":70,"display_name":"Fish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7772,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":29549850,"answer_count":4,"score":0,"last_activity_date":1692183964,"creation_date":1428616643,"question_id":29549771,"body_markdown":"I know it is possible to do this in Java:\r\n\r\n    public class animal {...}\r\n\r\nAnd then \r\n\r\n    public class dog extends animal {...}\r\n\r\nThen you can write whatever dog methods that can access animal method.\r\n\r\nHowever, I am wondering is there a way to extend methods\r\n\r\nfor example\r\n\r\n    public void generateAnimal() {...}\r\n\r\nand then \r\n\r\n    public void generateDog() extends generateAnimal() {...}\r\n\r\nBut this is not passing the compiler.\r\nSo my question is: \r\n\r\nIs it possible to inherit methods in Java?\r\n\r\n","title":"Is it possible to extend Methods in Java?","body":"<p>I know it is possible to do this in Java:</p>\n\n<pre><code>public class animal {...}\n</code></pre>\n\n<p>And then </p>\n\n<pre><code>public class dog extends animal {...}\n</code></pre>\n\n<p>Then you can write whatever dog methods that can access animal method.</p>\n\n<p>However, I am wondering is there a way to extend methods</p>\n\n<p>for example</p>\n\n<pre><code>public void generateAnimal() {...}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>public void generateDog() extends generateAnimal() {...}\n</code></pre>\n\n<p>But this is not passing the compiler.\nSo my question is: </p>\n\n<p>Is it possible to inherit methods in Java?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1692166424,"post_id":76910719,"comment_id":135585194,"body_markdown":"[Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>"}],"answers":[{"tags":[],"owner":{"account_id":29220915,"reputation":1,"user_id":22386656,"display_name":"Souhaila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692167128,"creation_date":1692167128,"answer_id":76910987,"question_id":76910719,"body_markdown":"Check Java Build Path of the JAR.\r\n\r\nIf you are deploying it and running it on a server try to put the JAR file in the \\lib subfolder of the Apache Tomcat installation.","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>Check Java Build Path of the JAR.</p>\n<p>If you are deploying it and running it on a server try to put the JAR file in the \\lib subfolder of the Apache Tomcat installation.</p>\n"},{"tags":[],"owner":{"account_id":29067225,"reputation":1,"user_id":22266510,"display_name":"shuai shao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692173711,"creation_date":1692173711,"answer_id":76911699,"question_id":76910719,"body_markdown":"i think you may import this package\r\nimport org.springframework.util.StringUtils;","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>i think you may import this package\nimport org.springframework.util.StringUtils;</p>\n"}],"owner":{"account_id":26666644,"reputation":11,"user_id":20278635,"display_name":"AlpacaWarrior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692183398,"creation_date":1692163649,"question_id":76910719,"body_markdown":"I&#39;m using Spring Boot to develop a community website, when I try to test the &quot;registration&quot; function it shows this error:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Wed Aug 16 01:02:01 EDT 2023\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    org/apache/commons/lang3/StringUtils\r\n    java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\r\n    \tat com.nowcoder.community.service.UserService.register(UserService.java:48)\r\n    \tat com.nowcoder.community.controller.LoginController.register(LoginController.java:26)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nAs it mentions the line 48 staring from &quot;if(StringUtils.isBlank(user.getUsername())) &quot;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public Map&lt;String, Object&gt; register(User user) {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n            // Empty value\r\n            if (user == null) {\r\n                throw new IllegalArgumentException(&quot;User cannot be null!&quot;);\r\n            }\r\n            if (StringUtils.isBlank(user.getUsername())) {\r\n                map.put(&quot;usernameMsg&quot;, &quot;Username cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n            if (StringUtils.isBlank(user.getPassword())) {\r\n                map.put(&quot;passwordMsg&quot;, &quot;Password cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n            if (StringUtils.isBlank(user.getEmail())) {\r\n                map.put(&quot;emailMsg&quot;, &quot;Email cannot be empty!&quot;);\r\n                return map;\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have added commons-lang3 in the pom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m using IntelliJ, not sure if it&#39;s related.\r\nI have imported the import org.apache.commons.lang3.StringUtils;\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils","body":"<p>I'm using Spring Boot to develop a community website, when I try to test the &quot;registration&quot; function it shows this error:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Aug 16 01:02:01 EDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\norg/apache/commons/lang3/StringUtils\njava.lang.NoClassDefFoundError: org/apache/commons/lang3/StringUtils\n    at com.nowcoder.community.service.UserService.register(UserService.java:48)\n    at com.nowcoder.community.controller.LoginController.register(LoginController.java:26)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As it mentions the line 48 staring from &quot;if(StringUtils.isBlank(user.getUsername())) &quot;</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public Map&lt;String, Object&gt; register(User user) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n        // Empty value\n        if (user == null) {\n            throw new IllegalArgumentException(\"User cannot be null!\");\n        }\n        if (StringUtils.isBlank(user.getUsername())) {\n            map.put(\"usernameMsg\", \"Username cannot be empty!\");\n            return map;\n        }\n        if (StringUtils.isBlank(user.getPassword())) {\n            map.put(\"passwordMsg\", \"Password cannot be empty!\");\n            return map;\n        }\n        if (StringUtils.isBlank(user.getEmail())) {\n            map.put(\"emailMsg\", \"Email cannot be empty!\");\n            return map;\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have added commons-lang3 in the pom.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm using IntelliJ, not sure if it's related.\nI have imported the import org.apache.commons.lang3.StringUtils;</p>\n"},{"tags":["java","spring","spring-boot","list","spring-data-jpa"],"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1692180403,"post_id":76911684,"comment_id":135587826,"body_markdown":"can you post your repository code","body":"can you post your repository code"}],"answers":[{"tags":[],"owner":{"account_id":22096745,"reputation":11,"user_id":16353902,"display_name":"Innocent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692183236,"creation_date":1692183236,"answer_id":76912869,"question_id":76911684,"body_markdown":"Have you tried saving the courier first before adding it to the list?\r\n\r\nAlso `List.of()` creates an immutable list. \r\nhttps://www.baeldung.com/java-9-collections-factory-methods\r\n\r\nIf the courier list is empty, you can add the new courier to it and set it to the group.\r\n\r\nP.S: I guess this line `GroupResponse groupToAdd = getGroupById(id);` is converting the Group entity to GroupResponse and `mapToGroup(groupToAdd)` is mapping the GroupResponse to Group entity before saving.","title":"Can not set List&lt;Entity&gt; in another Entity using Java Spring?","body":"<p>Have you tried saving the courier first before adding it to the list?</p>\n<p>Also <code>List.of()</code> creates an immutable list.\n<a href=\"https://www.baeldung.com/java-9-collections-factory-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-9-collections-factory-methods</a></p>\n<p>If the courier list is empty, you can add the new courier to it and set it to the group.</p>\n<p>P.S: I guess this line <code>GroupResponse groupToAdd = getGroupById(id);</code> is converting the Group entity to GroupResponse and <code>mapToGroup(groupToAdd)</code> is mapping the GroupResponse to Group entity before saving.</p>\n"}],"owner":{"account_id":28530763,"reputation":11,"user_id":21838225,"display_name":"ubovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692183236,"creation_date":1692173630,"question_id":76911684,"body_markdown":"I want to create a Tree structure like;\r\n\r\n```\r\n\r\n    istanbul fleet\r\n    \teurope group\r\n    \t\ta\r\n    \t\tb\r\n    \t\tc\r\n    \t\teurope courier\r\n    \t\t\td\r\n    \t\t\te\r\n    \tasia group\r\n    \t\tf\r\n    \t\tg\r\n    ankara fleet\r\n    \th\r\n    \tı\r\n\r\n```\r\n\r\nI have repository, service, controller structure and I have 4 models Fleet,Group and Corrier, the hiearchy will be as shown in the tree. I have mapped entities as OneToMany as you can see in the entity classes.\r\n\r\nI have service as;\r\n\r\n\r\n```\r\npublic void createCourierForGroup(CourierRequest request, Integer id) {\r\n        Courier courier = Courier.builder()\r\n                .courierName(request.getCourierName())\r\n                .build();\r\n\r\n        GroupResponse groupToAdd = getGroupById(id);\r\n\r\n        List&lt;Courier&gt; courierList = groupToAdd.getCouriers();\r\n\r\n\r\n        if (courierList.isEmpty()) {\r\n            groupToAdd.setCouriers(List.of(courier));\r\n        } else {\r\n            courierList.add(courier);\r\n            groupToAdd.setCouriers(courierList);\r\n        }\r\n\r\n        groupRepository.save(mapToGroup(groupToAdd));\r\n        log.info(&quot;Group with name: {} is updated with inner groups of: {}&quot;, groupToAdd.getGroupName(),groupToAdd.getCouriers());\r\n    }\r\n```\r\n\r\nFleet entity;\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Fleet{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    \r\n    private String fleetName;\r\n    \r\n    @ManyToMany(cascade = CascadeType.REMOVE)\r\n    private List&lt;CarRegistry&gt; carRegistries;\r\n    \r\n    @OneToMany(mappedBy = &quot;fleet&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private List&lt;Group&gt; groups;\r\n\r\n}\r\n```\r\n\r\nGroup entity;\r\n\r\n```\r\n@Entity(name = &quot;group_table&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Group {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String groupName;\r\n\r\n    @ManyToMany(cascade = CascadeType.REMOVE)\r\n    private List&lt;CarRegistry&gt; carRegistries;\r\n\r\n    @ManyToOne\r\n    private Fleet fleet;\r\n\r\n    @OneToMany(mappedBy = &quot;group&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private List&lt;Courier&gt; couriers;\r\n\r\n\r\n}\r\n```\r\n\r\nand response as\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;fleetName&quot;: &quot;Avrupa fleet&quot;,\r\n            &quot;carRegistries&quot;: [],\r\n            &quot;groups&quot;: []\r\n        }\r\n    ],\r\n    &quot;message&quot;: &quot;Fleets are listed successfully.&quot;,\r\n    &quot;status&quot;: 200\r\n}\r\n```\r\n\r\nMy repositories are like this, nothing fancy just data jpa.\r\n\r\n```\r\n@Repository\r\npublic interface GroupRepository extends JpaRepository&lt;Group, Integer&gt; {\r\n}\r\n\r\n```\r\n\r\nAs you can see groups are empty, what can be wrong?\r\n\r\nI did try List.Of() method or creating new List and passing it to save method but it didn&#39;t work.","title":"Can not set List&lt;Entity&gt; in another Entity using Java Spring?","body":"<p>I want to create a Tree structure like;</p>\n<pre><code>\n    istanbul fleet\n        europe group\n            a\n            b\n            c\n            europe courier\n                d\n                e\n        asia group\n            f\n            g\n    ankara fleet\n        h\n        ı\n\n</code></pre>\n<p>I have repository, service, controller structure and I have 4 models Fleet,Group and Corrier, the hiearchy will be as shown in the tree. I have mapped entities as OneToMany as you can see in the entity classes.</p>\n<p>I have service as;</p>\n<pre><code>public void createCourierForGroup(CourierRequest request, Integer id) {\n        Courier courier = Courier.builder()\n                .courierName(request.getCourierName())\n                .build();\n\n        GroupResponse groupToAdd = getGroupById(id);\n\n        List&lt;Courier&gt; courierList = groupToAdd.getCouriers();\n\n\n        if (courierList.isEmpty()) {\n            groupToAdd.setCouriers(List.of(courier));\n        } else {\n            courierList.add(courier);\n            groupToAdd.setCouriers(courierList);\n        }\n\n        groupRepository.save(mapToGroup(groupToAdd));\n        log.info(&quot;Group with name: {} is updated with inner groups of: {}&quot;, groupToAdd.getGroupName(),groupToAdd.getCouriers());\n    }\n</code></pre>\n<p>Fleet entity;</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Fleet{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String fleetName;\n    \n    @ManyToMany(cascade = CascadeType.REMOVE)\n    private List&lt;CarRegistry&gt; carRegistries;\n    \n    @OneToMany(mappedBy = &quot;fleet&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\n    private List&lt;Group&gt; groups;\n\n}\n</code></pre>\n<p>Group entity;</p>\n<pre><code>@Entity(name = &quot;group_table&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Group {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String groupName;\n\n    @ManyToMany(cascade = CascadeType.REMOVE)\n    private List&lt;CarRegistry&gt; carRegistries;\n\n    @ManyToOne\n    private Fleet fleet;\n\n    @OneToMany(mappedBy = &quot;group&quot;,fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\n    private List&lt;Courier&gt; couriers;\n\n\n}\n</code></pre>\n<p>and response as</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;fleetName&quot;: &quot;Avrupa fleet&quot;,\n            &quot;carRegistries&quot;: [],\n            &quot;groups&quot;: []\n        }\n    ],\n    &quot;message&quot;: &quot;Fleets are listed successfully.&quot;,\n    &quot;status&quot;: 200\n}\n</code></pre>\n<p>My repositories are like this, nothing fancy just data jpa.</p>\n<pre><code>@Repository\npublic interface GroupRepository extends JpaRepository&lt;Group, Integer&gt; {\n}\n\n</code></pre>\n<p>As you can see groups are empty, what can be wrong?</p>\n<p>I did try List.Of() method or creating new List and passing it to save method but it didn't work.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692002680,"post_id":76896286,"comment_id":135561913,"body_markdown":"Your `InstanceConfig` class should be annotated with `@Configuration` (and the class name should start with an uppercase `I`).","body":"Your <code>InstanceConfig</code> class should be annotated with <code>@Configuration</code> (and the class name should start with an uppercase <code>I</code>)."}],"answers":[{"tags":[],"owner":{"account_id":21731885,"reputation":165,"user_id":16040518,"display_name":"SWARNAVA DUTTA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691988010,"creation_date":1691988010,"answer_id":76896304,"question_id":76896286,"body_markdown":"You should create a Spring **@Bean** method which will return a new instance of a class in the following cases:\r\n\r\n - When you need to create a bean that is state-full, meaning that it has its own internal state that is not shared with other beans. For example, a bean that holds a connection to a database or a file.\r\n - When you need to create a bean that is dependent on other beans, and you want to control the order in which the beans are created. For example, you might have a bean that depends on a database connection, and you want to make sure that the database connection is created before the bean that depends on it.\r\n - When you want to create a bean that is not a singleton, meaning that there can be multiple instances of the bean in the Spring container. This is useful for beans that are expensive to create, or for beans that need to be customized for each request.\r\n\r\n\r\nIn your example, the RunInstancesRequest bean is state-full, because it has its own internal state (the list of instances to create). It is also dependent on other beans, because it needs a database connection to create the instances. Finally, it is not a singleton, because there can be multiple requests to create instances at the same time.\r\n\r\nThe someClass bean uses the **@Autowired** annotation to inject the RunInstancesRequest bean into its own instance. This allows the someClass bean to use the RunInstancesRequest bean to create instances.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>You should create a Spring <strong>@Bean</strong> method which will return a new instance of a class in the following cases:</p>\n<ul>\n<li>When you need to create a bean that is state-full, meaning that it has its own internal state that is not shared with other beans. For example, a bean that holds a connection to a database or a file.</li>\n<li>When you need to create a bean that is dependent on other beans, and you want to control the order in which the beans are created. For example, you might have a bean that depends on a database connection, and you want to make sure that the database connection is created before the bean that depends on it.</li>\n<li>When you want to create a bean that is not a singleton, meaning that there can be multiple instances of the bean in the Spring container. This is useful for beans that are expensive to create, or for beans that need to be customized for each request.</li>\n</ul>\n<p>In your example, the RunInstancesRequest bean is state-full, because it has its own internal state (the list of instances to create). It is also dependent on other beans, because it needs a database connection to create the instances. Finally, it is not a singleton, because there can be multiple requests to create instances at the same time.</p>\n<p>The someClass bean uses the <strong>@Autowired</strong> annotation to inject the RunInstancesRequest bean into its own instance. This allows the someClass bean to use the RunInstancesRequest bean to create instances.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691990729,"creation_date":1691990352,"answer_id":76896423,"question_id":76896286,"body_markdown":"Generally, `@Bean` is used to define application level configurations which can be used by other components when needed. For example, if I am using ***Kafka*** in my project, I will be using `@Bean` annotation to define its configurations.\r\n\r\n    @Configuration\r\n    public class KafkaConfig {\r\n    \r\n      @Bean\r\n      public Map&lt;String, Object&gt; kafkaConfigs() {\r\n\r\n         Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    \r\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                JsonSerializer.class);\r\n        return config;\r\n      }\r\n\r\nNow, you can autowire this Bean inside any class that needs the ***Kafka*** configuration.\r\n\r\nNote that ```@Bean``` is defined inside the ```@Configuration``` class.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Generally, <code>@Bean</code> is used to define application level configurations which can be used by other components when needed. For example, if I am using <em><strong>Kafka</strong></em> in my project, I will be using <code>@Bean</code> annotation to define its configurations.</p>\n<pre><code>@Configuration\npublic class KafkaConfig {\n\n  @Bean\n  public Map&lt;String, Object&gt; kafkaConfigs() {\n\n     Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n            StringSerializer.class);\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n            JsonSerializer.class);\n    return config;\n  }\n</code></pre>\n<p>Now, you can autowire this Bean inside any class that needs the <em><strong>Kafka</strong></em> configuration.</p>\n<p>Note that <code>@Bean</code> is defined inside the <code>@Configuration</code> class.</p>\n"},{"tags":[],"owner":{"account_id":8396586,"reputation":16,"user_id":6452025,"display_name":"Kasun Udayanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691991905,"creation_date":1691991905,"answer_id":76896511,"question_id":76896286,"body_markdown":"`@Bean` is a method-level annotation that is used to declare a bean and register with the spring container.\r\n\r\nIn simple terms, `@Bean` annotation will tell to the Spring container here is my instance of the class, Keep hold and give it back when I asked.\r\n\r\nExample:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n          @Bean\r\n          public MultiplierService multiplier() {\r\n              return new MultiplierService(2);\r\n          }\r\n\r\n    }\r\n\r\nIn this example, MultiplierService is a class that provides some service that other components might use. The multiplier() method is annotated with @Bean, which tells Spring to treat it as a bean. When the Spring container starts up, it will call this method to create a new instance of MultiplierService. This instance will be managed by Spring and can be injected into other components that depend on it.\r\n\r\n**Please note that `@Bean` annotation is used within a `@Configuration` class, Which is a special type of Spring component that defines the configuration for the application.**\r\n\r\nYou have created `@Bean` inside the Spring Container. Now problem arises **How to use that Bean?**\r\n\r\nNow `@Autowiring` come to a place,\r\n\r\nHere is the example of autowiring the **MultiplerService** into the AppService class\r\n\r\n    @Service\r\n    public class AppService {\r\n\r\n           private final MultiplierService multiplierService;\r\n\r\n           public AppService(@Autowired MultiplierService multiplierService) {\r\n                 this.multiplierService = multiplierService;\r\n           }\r\n\r\n           public int calculate(int aValue) {\r\n                 return multiplierService.multiply(aValue);\r\n           }\r\n\r\n    }\r\n\r\n\r\n**Conclusion:**\r\n\r\n`@Bean` is an object that is managed by Spring Framework and it can be used to provide services or functionality to other parts of the application. Also `@Beans` should be under `@Configuration` which treated as a **source of bean definition**\r\n\r\n`@Autowired` is an annotation used in Spring Boot to enable automatic dependency injection. It allows the Spring container to provide an instance of a required dependency when a bean is created. This annotation can be used on fields, constructors, and methods to have Spring provide the dependencies automatically.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p><code>@Bean</code> is a method-level annotation that is used to declare a bean and register with the spring container.</p>\n<p>In simple terms, <code>@Bean</code> annotation will tell to the Spring container here is my instance of the class, Keep hold and give it back when I asked.</p>\n<p>Example:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n      @Bean\n      public MultiplierService multiplier() {\n          return new MultiplierService(2);\n      }\n\n}\n</code></pre>\n<p>In this example, MultiplierService is a class that provides some service that other components might use. The multiplier() method is annotated with @Bean, which tells Spring to treat it as a bean. When the Spring container starts up, it will call this method to create a new instance of MultiplierService. This instance will be managed by Spring and can be injected into other components that depend on it.</p>\n<p><strong>Please note that <code>@Bean</code> annotation is used within a <code>@Configuration</code> class, Which is a special type of Spring component that defines the configuration for the application.</strong></p>\n<p>You have created <code>@Bean</code> inside the Spring Container. Now problem arises <strong>How to use that Bean?</strong></p>\n<p>Now <code>@Autowiring</code> come to a place,</p>\n<p>Here is the example of autowiring the <strong>MultiplerService</strong> into the AppService class</p>\n<pre><code>@Service\npublic class AppService {\n\n       private final MultiplierService multiplierService;\n\n       public AppService(@Autowired MultiplierService multiplierService) {\n             this.multiplierService = multiplierService;\n       }\n\n       public int calculate(int aValue) {\n             return multiplierService.multiply(aValue);\n       }\n\n}\n</code></pre>\n<p><strong>Conclusion:</strong></p>\n<p><code>@Bean</code> is an object that is managed by Spring Framework and it can be used to provide services or functionality to other parts of the application. Also <code>@Beans</code> should be under <code>@Configuration</code> which treated as a <strong>source of bean definition</strong></p>\n<p><code>@Autowired</code> is an annotation used in Spring Boot to enable automatic dependency injection. It allows the Spring container to provide an instance of a required dependency when a bean is created. This annotation can be used on fields, constructors, and methods to have Spring provide the dependencies automatically.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691992287,"creation_date":1691992287,"answer_id":76896536,"question_id":76896286,"body_markdown":"When we annotate a method with `@Bean`, it tells Spring to instantiate and configure an object of that class as a bean. We typically use `@Bean` in a configuration class (annotated with `@Configuration`) to define beans that are managed by Spring&#39;s container. It gives us fine-grained control over the instantiation and configuration of beans.\r\n\r\n        @Component\r\n        public class instanceConfig {\r\n                \r\n                @Bean\r\n                public RunInstancesRequest runInstancesRequest() {\r\n                        return new RunInstancesRequest();\r\n                }\r\n        }\r\n\r\n`@Autowired` annotation is used for automatic dependency injection. When we  annotate a field, constructor, or setter method with `@Autowired`, Spring will automatically wire (inject) the dependencies at runtime. Spring looks for a bean of the required type and injects it into the annotated field or method parameter. It enables us to achieve loose coupling and promotes easier testing and maintainability.\r\n\r\nRelationship between `@Bean` and `@Autowired`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you donot declare a method with @Bean and try to inject it in some class using @Autowired, then spring will not be able to find the instance of that particular class to be injected in spring container and could give errors like:\r\n\r\n - **NoSuchBeanDefinitionException:** This exception is thrown when Spring\r\n   cannot find a bean of the required type. It usually occurs if you\r\n   haven&#39;t defined the bean using @Bean or if there is a typo in the\r\n   bean name.\r\n\r\n - **BeanCreationException:** This exception is a general exception that can\r\n   occur for various reasons, including missing dependencies.\r\n\r\n  [1]: https://i.stack.imgur.com/dIdme.png","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>When we annotate a method with <code>@Bean</code>, it tells Spring to instantiate and configure an object of that class as a bean. We typically use <code>@Bean</code> in a configuration class (annotated with <code>@Configuration</code>) to define beans that are managed by Spring's container. It gives us fine-grained control over the instantiation and configuration of beans.</p>\n<pre><code>    @Component\n    public class instanceConfig {\n            \n            @Bean\n            public RunInstancesRequest runInstancesRequest() {\n                    return new RunInstancesRequest();\n            }\n    }\n</code></pre>\n<p><code>@Autowired</code> annotation is used for automatic dependency injection. When we  annotate a field, constructor, or setter method with <code>@Autowired</code>, Spring will automatically wire (inject) the dependencies at runtime. Spring looks for a bean of the required type and injects it into the annotated field or method parameter. It enables us to achieve loose coupling and promotes easier testing and maintainability.</p>\n<p>Relationship between <code>@Bean</code> and <code>@Autowired</code></p>\n<p><a href=\"https://i.stack.imgur.com/dIdme.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIdme.png\" alt=\"enter image description here\" /></a></p>\n<p>If you donot declare a method with @Bean and try to inject it in some class using @Autowired, then spring will not be able to find the instance of that particular class to be injected in spring container and could give errors like:</p>\n<ul>\n<li><p><strong>NoSuchBeanDefinitionException:</strong> This exception is thrown when Spring\ncannot find a bean of the required type. It usually occurs if you\nhaven't defined the bean using @Bean or if there is a typo in the\nbean name.</p>\n</li>\n<li><p><strong>BeanCreationException:</strong> This exception is a general exception that can\noccur for various reasons, including missing dependencies.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692183049,"creation_date":1692000523,"answer_id":76897283,"question_id":76896286,"body_markdown":"Just Imagine you want to create spring managed instance of a class whose source code you don&#39;t have in your project but you are using it from some library in your project class path. In this case you can&#39;t use `@Component` or `@Configuration` because you don&#39;t have the source code of that class. You can use `@Bean` annotation to create the spring managed instance of that class e.g. datasource, Kafka etc.\r\n\r\n`@Autowired` annotation is used only to create a relationship among these spring managed objects.\r\n\r\nSo if you have created an instance on your own like using a `new` operator. In this case spring is not responsible to manage it hence you can&#39;t autowire it.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Just Imagine you want to create spring managed instance of a class whose source code you don't have in your project but you are using it from some library in your project class path. In this case you can't use <code>@Component</code> or <code>@Configuration</code> because you don't have the source code of that class. You can use <code>@Bean</code> annotation to create the spring managed instance of that class e.g. datasource, Kafka etc.</p>\n<p><code>@Autowired</code> annotation is used only to create a relationship among these spring managed objects.</p>\n<p>So if you have created an instance on your own like using a <code>new</code> operator. In this case spring is not responsible to manage it hence you can't autowire it.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692004172,"creation_date":1692002967,"answer_id":76897532,"question_id":76896286,"body_markdown":"Let me answer this question, because this question has troubled me for a long time.\r\n\r\nFirst, let&#39;s agree on:\r\n\r\n 1. I&#39;m your housekeeper, my name is spring;\r\n 2. You like to eat beans, but you neither grow beans nor distinguish beans by shape;\r\n 3. The buyer will go to buy various kinds of beans, put the bags of beans into boxes, and put labels on the bags of various beans;\r\n 4. Whenever you want a certain bean, you can always ask me for it;\r\n 5. There are several packages of special beans, which are breakfast beans, lunch beans, and dinner beans;\r\n 6. As a housekeeper, I will make your breakfast nutritionally balanced (put in a variety of beans).\r\n\r\nThen, let&#39;s look at the code:\r\n\r\n    package com;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.*;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    public class Index {\r\n        public static void main(String[] args) {\r\n            // The housekeeper got a box of beans. \r\n            // At the same time, he needs to manage a breakfast of beans\r\n            ApplicationContext housekeeper = new AnnotationConfigApplicationContext(BeanBox.class, BreakfastBeans.class);\r\n            \r\n            // If you want breakfast, just ask the butler for breakfast beans\r\n            BreakfastBeans breakfast = housekeeper.getBean(&quot;breakfastBeans&quot;, BreakfastBeans.class);\r\n            breakfast.eat();\r\n    \r\n            System.out.println();\r\n    \r\n            System.out.println(&quot;It&#39;s ten o&#39;clock in the morning, I&#39;ve worked for two hours, I&#39;m in a bad mood, I want to eat sweet red beans&quot;);\r\n            // If you want red beans, ask the butler directly for red beans\r\n            EdibleBeans wantToEatRedBeans = housekeeper.getBean(&quot;redBean&quot;, EdibleBeans.class);\r\n            wantToEatRedBeans.eat();\r\n        }\r\n    }\r\n    \r\n    // This is a box of beans I bought back. @Configuration tell the housekeeper that he need to manage these beans according to the labels inside\r\n    @Configuration\r\n    class BeanBox {\r\n        // label the coffee beans\r\n        @Bean(name=&quot;coffeeBean&quot;)\r\n        public EdibleBeans oh_thisIsCoffeeBeans() { return new CoffeeBeans(); }\r\n    \r\n        // label the kidney beans\r\n        @Bean(name=&quot;kidneyBean&quot;)\r\n        public EdibleBeans oh_thisIsKidneyBeans() { return new KidneyBeans(); }\r\n    \r\n        // label the red beans\r\n        @Bean(name=&quot;redBean&quot;)\r\n        public EdibleBeans oh_thisIsRedBeans() { return new RedBeans(); }\r\n    \r\n        // label the green beans\r\n        @Bean(name=&quot;greenBean&quot;)\r\n        public EdibleBeans oh_thisIsGreenBeans() { return new GreenBeans(); }\r\n    }\r\n    \r\n    // Mark a special class of beans\r\n    @Component\r\n    class BreakfastBeans {\r\n        // I am a housekeeper. \r\n        // I think there should be some coffee beans and kidney beans for breakfast. \r\n        // I want to see if there are such beans in the beans I manage. \r\n        // If there are, then put them directly in the breakfast bean category\r\n        @Autowired\r\n        private EdibleBeans coffeeBean;\r\n        @Autowired\r\n        private EdibleBeans kidneyBean;\r\n    \r\n        public void eat() {\r\n            System.out.println(&quot;breakfast time:&quot;);\r\n            coffeeBean.eat();\r\n            kidneyBean.eat();\r\n        }\r\n    }\r\n    \r\n    interface EdibleBeans {\r\n        public void eat();\r\n    }\r\n    \r\n    class CoffeeBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Coffee Beans&quot;);\r\n        }\r\n    }\r\n    class KidneyBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Kidney Beans&quot;);\r\n        }\r\n    }\r\n    class RedBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Red Beans&quot;);\r\n        }\r\n    }\r\n    class GreenBeans implements EdibleBeans {\r\n        public void eat() {\r\n            System.out.println(&quot;\\tEat Green Beans&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe result of code execution is:\r\n\r\n    breakfast time:\r\n    \tEat Coffee Beans\r\n    \tEat Kidney Beans\r\n    It&#39;s ten o&#39;clock in the morning, I&#39;ve worked for two hours, I&#39;m in a bad mood, I want to eat sweet red beans\r\n    \tEat Red Beans\r\n\r\nSee, you don&#39;t need to manage any beans yourself, you just tell the housekeeper what beans you want and you will get it.","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>Let me answer this question, because this question has troubled me for a long time.</p>\n<p>First, let's agree on:</p>\n<ol>\n<li>I'm your housekeeper, my name is spring;</li>\n<li>You like to eat beans, but you neither grow beans nor distinguish beans by shape;</li>\n<li>The buyer will go to buy various kinds of beans, put the bags of beans into boxes, and put labels on the bags of various beans;</li>\n<li>Whenever you want a certain bean, you can always ask me for it;</li>\n<li>There are several packages of special beans, which are breakfast beans, lunch beans, and dinner beans;</li>\n<li>As a housekeeper, I will make your breakfast nutritionally balanced (put in a variety of beans).</li>\n</ol>\n<p>Then, let's look at the code:</p>\n<pre><code>package com;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.*;\nimport org.springframework.stereotype.Component;\n\npublic class Index {\n    public static void main(String[] args) {\n        // The housekeeper got a box of beans. \n        // At the same time, he needs to manage a breakfast of beans\n        ApplicationContext housekeeper = new AnnotationConfigApplicationContext(BeanBox.class, BreakfastBeans.class);\n        \n        // If you want breakfast, just ask the butler for breakfast beans\n        BreakfastBeans breakfast = housekeeper.getBean(&quot;breakfastBeans&quot;, BreakfastBeans.class);\n        breakfast.eat();\n\n        System.out.println();\n\n        System.out.println(&quot;It's ten o'clock in the morning, I've worked for two hours, I'm in a bad mood, I want to eat sweet red beans&quot;);\n        // If you want red beans, ask the butler directly for red beans\n        EdibleBeans wantToEatRedBeans = housekeeper.getBean(&quot;redBean&quot;, EdibleBeans.class);\n        wantToEatRedBeans.eat();\n    }\n}\n\n// This is a box of beans I bought back. @Configuration tell the housekeeper that he need to manage these beans according to the labels inside\n@Configuration\nclass BeanBox {\n    // label the coffee beans\n    @Bean(name=&quot;coffeeBean&quot;)\n    public EdibleBeans oh_thisIsCoffeeBeans() { return new CoffeeBeans(); }\n\n    // label the kidney beans\n    @Bean(name=&quot;kidneyBean&quot;)\n    public EdibleBeans oh_thisIsKidneyBeans() { return new KidneyBeans(); }\n\n    // label the red beans\n    @Bean(name=&quot;redBean&quot;)\n    public EdibleBeans oh_thisIsRedBeans() { return new RedBeans(); }\n\n    // label the green beans\n    @Bean(name=&quot;greenBean&quot;)\n    public EdibleBeans oh_thisIsGreenBeans() { return new GreenBeans(); }\n}\n\n// Mark a special class of beans\n@Component\nclass BreakfastBeans {\n    // I am a housekeeper. \n    // I think there should be some coffee beans and kidney beans for breakfast. \n    // I want to see if there are such beans in the beans I manage. \n    // If there are, then put them directly in the breakfast bean category\n    @Autowired\n    private EdibleBeans coffeeBean;\n    @Autowired\n    private EdibleBeans kidneyBean;\n\n    public void eat() {\n        System.out.println(&quot;breakfast time:&quot;);\n        coffeeBean.eat();\n        kidneyBean.eat();\n    }\n}\n\ninterface EdibleBeans {\n    public void eat();\n}\n\nclass CoffeeBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Coffee Beans&quot;);\n    }\n}\nclass KidneyBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Kidney Beans&quot;);\n    }\n}\nclass RedBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Red Beans&quot;);\n    }\n}\nclass GreenBeans implements EdibleBeans {\n    public void eat() {\n        System.out.println(&quot;\\tEat Green Beans&quot;);\n    }\n}\n</code></pre>\n<p>The result of code execution is:</p>\n<pre><code>breakfast time:\n    Eat Coffee Beans\n    Eat Kidney Beans\nIt's ten o'clock in the morning, I've worked for two hours, I'm in a bad mood, I want to eat sweet red beans\n    Eat Red Beans\n</code></pre>\n<p>See, you don't need to manage any beans yourself, you just tell the housekeeper what beans you want and you will get it.</p>\n"}],"owner":{"account_id":4141233,"reputation":177,"user_id":3396478,"accept_rate":50,"display_name":"user3396478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":6,"score":1,"last_activity_date":1692183049,"creation_date":1691987552,"question_id":76896286,"body_markdown":"I&#39;m trying to understand exactly in which cases I should create a spring @Bean method which will return a new instance of a class. and I will @autowired that @Bean method in other classes to use it. I know this is at the very basic of spring but I don&#39;t seems to get hold on to it. Here are some code sample to clarify my need in more details. I understand the basic theory behind it but want to get in more depth knowledge. \r\n\r\n```\r\n@Component\r\n\r\npublic class instanceConfig {\r\n        \r\n        @Bean\r\n        public RunInstancesRequest runInstancesRequest() {\r\n                return new RunInstancesRequest();\r\n        }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class someClsss {\r\n        \r\n        @Autowired\r\n        private RunInstancesRequest runInstancesRequest; \r\n\r\n        //do some work using the runInstancesRequest\r\n}\r\n``` ","title":"When should I use Spring @Bean and use @Autowired in it?","body":"<p>I'm trying to understand exactly in which cases I should create a spring @Bean method which will return a new instance of a class. and I will @autowired that @Bean method in other classes to use it. I know this is at the very basic of spring but I don't seems to get hold on to it. Here are some code sample to clarify my need in more details. I understand the basic theory behind it but want to get in more depth knowledge.</p>\n<pre><code>@Component\n\npublic class instanceConfig {\n        \n        @Bean\n        public RunInstancesRequest runInstancesRequest() {\n                return new RunInstancesRequest();\n        }\n}\n</code></pre>\n<pre><code>@Component\npublic class someClsss {\n        \n        @Autowired\n        private RunInstancesRequest runInstancesRequest; \n\n        //do some work using the runInstancesRequest\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","dependencies","nosuchmethoderror"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692179418,"post_id":76912334,"comment_id":135587615,"body_markdown":"So you are using incompatible versions in different modules and expect everything to work... Change your expectations or unify the dependencies.","body":"So you are using incompatible versions in different modules and expect everything to work... Change your expectations or unify the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692182627,"creation_date":1692182627,"answer_id":76912802,"question_id":76912334,"body_markdown":"At runtime, ordinarily, java just tosses it all on a big pile, hence, if you depend (transitively or not) on library &#39;SomeLib&#39; version X, and you _also_ depend on &#39;SomeLib&#39; version Y, where X and Y aren&#39;t compatible, then it&#39;s just not going to work and you need to put in a lot of effort to fix it.\r\n\r\n## Option A: Unify\r\n\r\nUpdate some of your dependencies (possibly using &#39;overrides&#39; if the reason you depend on SomeLib@X is because it&#39;s a 3-ways-removed transitive (you want to use `LibA@most recent version`, which itself needs `LibB@v20`, which needs `LibC@v5`, and that in turn requires `SomeLib@X`, which is the problem. it is possible/likely that LibA&#39;s dep on `LibB@v20` could be upgraded to use `LibB@v25` instead (that this doesn&#39;t break stuff), and that needs `LibC@8`, and that depends on `SomeLib@Y`, thus getting rid of your SomeLib@X problem.\r\n\r\nThere are various dependency chain checkers; they make nice graphs showing how your `LibA` ends up needing `SomeLib@X` via LibB and LibC. You can use these to figure out which deps you want to try newer versions of, or alternatively if they are already at newest, which of _their_ deps you can force upwards.\r\n\r\nIf this is not possible, the more drastic solution is to __downgrade__ whatever dependency(ies) require `SomeFoo@Y`.\r\n\r\n## Option B: Per-dep-shading\r\n\r\nIf `LibA` is causing a problem (directly or transitively pulling `SomeFoo@X`), __as long as__ its API does not communicate in terms of `SomeFoo` (none of its parameters and none of its return types amongst methods you actually invoke), you can use a shading tool to rewrite `com.someFoo.SomeClass` into `shade.lib.libA.com.someFoo.SomeClass` in every constant pool of LibA and its chain of dependencies, and at the same time rename the class itself. Customarily all of libA&#39;s deps are not just modified like that but then also packed up into one much larger `jar` file that now appears to have no further dependencies.\r\n\r\nFolks usually do this to _their entire project_ to end up with a single jar, but you can do that to a single dependency as well, and now a JVM _can_ load conflicting versions, because one of them is no longer called `com.someFoo.SomeClass`.\r\n\r\n## Option C: ClassLoaders\r\n\r\nJVMs can load 2 classes with the same name - by using class loaders. OSGi is one such framework, that uses classloaders to modularize a project such that individual parts can&#39;t see each other at all, _and_ can therefore both load a library without that being a &#39;global choice&#39;. JVM Runtimes don&#39;t do this by default and there is no way to make them do this with a setting - you do it with code, writing a ClassLoader (`public class MyLoader extends ClassLoader`) and carefully managing the fact that any types involved in chat between libraries (such as `java.lang.String`) isn&#39;t loaded separately - that has to be loaded &#39;globally&#39; (by the parent loader - classloaders have a hierarchy). This is rather tricky, so I suggest some framework or other.\r\n\r\nOne advantage of classloaders is that you can make a new one and thus load the same class again - many web frameworks therefore have this setup, because it means you can just &#39;reload&#39; a web page without shutting down the JVM and still see the effects of that code update you just made: It&#39;s convenient for debugging if you aren&#39;t using a hot-code-replace debugger like eclipse has. There are also more generalized &#39;app frameworks&#39; that are designed to let you run lots of simple applications on a single JVM.\r\n\r\nThat&#39;s another source of ready-made classloader-based runtime-modularization systems.\r\n\r\nBut note that especially those web framework getups aren&#39;t necessarily designed to enable this, they just do it &#39;by accident&#39;. And the current trend is to microservice everything.\r\n\r\n## Option D: Microservices\r\n\r\nLet your libraries chat to each other over HTTPS and run a ton of little JVMs on multiple machines in an IAAS fleet setup. This is incredibly inefficient (JVMs have overhead; not to mention virtual machines. Running multiple JVMs on a single physical box is inefficient) and is mostly a silly application of [Conway&#39;s Law](https://en.wikipedia.org/wiki/Conway%27s_law) - a solution to a development management problem. But then I might just be old man yelling at cloud (literally) on that one.\r\n\r\nStill, it of course solves the problem too. Each microservice is in its own JVM and thus no library conflicts to trip you up.\r\n","title":"Java NoSuchMethodError - Imported Third Party Library Call Wrong Package (There Are Packagaes With Same Name)","body":"<p>At runtime, ordinarily, java just tosses it all on a big pile, hence, if you depend (transitively or not) on library 'SomeLib' version X, and you <em>also</em> depend on 'SomeLib' version Y, where X and Y aren't compatible, then it's just not going to work and you need to put in a lot of effort to fix it.</p>\n<h2>Option A: Unify</h2>\n<p>Update some of your dependencies (possibly using 'overrides' if the reason you depend on SomeLib@X is because it's a 3-ways-removed transitive (you want to use <code>LibA@most recent version</code>, which itself needs <code>LibB@v20</code>, which needs <code>LibC@v5</code>, and that in turn requires <code>SomeLib@X</code>, which is the problem. it is possible/likely that LibA's dep on <code>LibB@v20</code> could be upgraded to use <code>LibB@v25</code> instead (that this doesn't break stuff), and that needs <code>LibC@8</code>, and that depends on <code>SomeLib@Y</code>, thus getting rid of your SomeLib@X problem.</p>\n<p>There are various dependency chain checkers; they make nice graphs showing how your <code>LibA</code> ends up needing <code>SomeLib@X</code> via LibB and LibC. You can use these to figure out which deps you want to try newer versions of, or alternatively if they are already at newest, which of <em>their</em> deps you can force upwards.</p>\n<p>If this is not possible, the more drastic solution is to <strong>downgrade</strong> whatever dependency(ies) require <code>SomeFoo@Y</code>.</p>\n<h2>Option B: Per-dep-shading</h2>\n<p>If <code>LibA</code> is causing a problem (directly or transitively pulling <code>SomeFoo@X</code>), <strong>as long as</strong> its API does not communicate in terms of <code>SomeFoo</code> (none of its parameters and none of its return types amongst methods you actually invoke), you can use a shading tool to rewrite <code>com.someFoo.SomeClass</code> into <code>shade.lib.libA.com.someFoo.SomeClass</code> in every constant pool of LibA and its chain of dependencies, and at the same time rename the class itself. Customarily all of libA's deps are not just modified like that but then also packed up into one much larger <code>jar</code> file that now appears to have no further dependencies.</p>\n<p>Folks usually do this to <em>their entire project</em> to end up with a single jar, but you can do that to a single dependency as well, and now a JVM <em>can</em> load conflicting versions, because one of them is no longer called <code>com.someFoo.SomeClass</code>.</p>\n<h2>Option C: ClassLoaders</h2>\n<p>JVMs can load 2 classes with the same name - by using class loaders. OSGi is one such framework, that uses classloaders to modularize a project such that individual parts can't see each other at all, <em>and</em> can therefore both load a library without that being a 'global choice'. JVM Runtimes don't do this by default and there is no way to make them do this with a setting - you do it with code, writing a ClassLoader (<code>public class MyLoader extends ClassLoader</code>) and carefully managing the fact that any types involved in chat between libraries (such as <code>java.lang.String</code>) isn't loaded separately - that has to be loaded 'globally' (by the parent loader - classloaders have a hierarchy). This is rather tricky, so I suggest some framework or other.</p>\n<p>One advantage of classloaders is that you can make a new one and thus load the same class again - many web frameworks therefore have this setup, because it means you can just 'reload' a web page without shutting down the JVM and still see the effects of that code update you just made: It's convenient for debugging if you aren't using a hot-code-replace debugger like eclipse has. There are also more generalized 'app frameworks' that are designed to let you run lots of simple applications on a single JVM.</p>\n<p>That's another source of ready-made classloader-based runtime-modularization systems.</p>\n<p>But note that especially those web framework getups aren't necessarily designed to enable this, they just do it 'by accident'. And the current trend is to microservice everything.</p>\n<h2>Option D: Microservices</h2>\n<p>Let your libraries chat to each other over HTTPS and run a ton of little JVMs on multiple machines in an IAAS fleet setup. This is incredibly inefficient (JVMs have overhead; not to mention virtual machines. Running multiple JVMs on a single physical box is inefficient) and is mostly a silly application of <a href=\"https://en.wikipedia.org/wiki/Conway%27s_law\" rel=\"nofollow noreferrer\">Conway's Law</a> - a solution to a development management problem. But then I might just be old man yelling at cloud (literally) on that one.</p>\n<p>Still, it of course solves the problem too. Each microservice is in its own JVM and thus no library conflicts to trip you up.</p>\n"}],"owner":{"account_id":11613250,"reputation":13,"user_id":8506870,"display_name":"nairsirk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912802,"answer_count":1,"score":0,"last_activity_date":1692182627,"creation_date":1692178610,"question_id":76912334,"body_markdown":"I failed to run my Java app due to NoSuchMethodError exception. Exception is coming from a third party library initializing an object which has dependency to a certain class name.\r\n\r\nThis certain class name is actually available from two different transitive packages from two different libraries.\r\n\r\nLet say there is a dependency mapping like this:\r\n\r\n- Library A -\\&gt; Dependency to class B (package p) (lib C)\r\n- Library B -\\&gt; Dependency to class B (package p) (lib D)\r\n\r\nInstead of using its own dependency mapping, somehow library A uses the dependency of class B on second point.\r\n\r\nThis is the full error logs.\r\n\r\n```\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.mongodb.MongoClientOptions.&lt;init&gt;(MongoClientOptions.java:157)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;com.mongodb.connection.ConnectionPoolSettings$Builder com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&#39;\r\n\r\nThe calling method&#39;s class, com.mongodb.MongoClientOptions, was loaded from the following location:\r\n\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/MongoClientOptions.class\r\n\r\nThe called method&#39;s class, com.mongodb.connection.ConnectionPoolSettings$Builder, is available from the following locations:\r\n\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\r\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    com.mongodb.connection.ConnectionPoolSettings.Builder: file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes com.mongodb.MongoClientOptions and com.mongodb.connection.ConnectionPoolSettings$Builder\r\n```\r\n\r\nAnyone knows how to fix this issue?\r\n\r\nLibraries I used:\r\n\r\n- org.mongodb:mongodb-driver-core\r\n- org.mongodb:mongo-java-driver\r\n\r\nI expect the app is running fine without exception.","title":"Java NoSuchMethodError - Imported Third Party Library Call Wrong Package (There Are Packagaes With Same Name)","body":"<p>I failed to run my Java app due to NoSuchMethodError exception. Exception is coming from a third party library initializing an object which has dependency to a certain class name.</p>\n<p>This certain class name is actually available from two different transitive packages from two different libraries.</p>\n<p>Let say there is a dependency mapping like this:</p>\n<ul>\n<li>Library A -&gt; Dependency to class B (package p) (lib C)</li>\n<li>Library B -&gt; Dependency to class B (package p) (lib D)</li>\n</ul>\n<p>Instead of using its own dependency mapping, somehow library A uses the dependency of class B on second point.</p>\n<p>This is the full error logs.</p>\n<pre><code>Description:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.mongodb.MongoClientOptions.&lt;init&gt;(MongoClientOptions.java:157)\n\nThe following method did not exist:\n\n    'com.mongodb.connection.ConnectionPoolSettings$Builder com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)'\n\nThe calling method's class, com.mongodb.MongoClientOptions, was loaded from the following location:\n\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/MongoClientOptions.class\n\nThe called method's class, com.mongodb.connection.ConnectionPoolSettings$Builder, is available from the following locations:\n\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\n    jar:file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongo-java-driver/3.12.5/7299fe510c0c7d9b228297ddc41a359909899388/mongo-java-driver-3.12.5.jar!/com/mongodb/connection/ConnectionPoolSettings$Builder.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    com.mongodb.connection.ConnectionPoolSettings.Builder: file:/Users/rian.krishandi/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.4.2/331b96942f7fac72d4334b38176890c4b80cb7dc/mongodb-driver-core-4.4.2.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes com.mongodb.MongoClientOptions and com.mongodb.connection.ConnectionPoolSettings$Builder\n</code></pre>\n<p>Anyone knows how to fix this issue?</p>\n<p>Libraries I used:</p>\n<ul>\n<li>org.mongodb:mongodb-driver-core</li>\n<li>org.mongodb:mongo-java-driver</li>\n</ul>\n<p>I expect the app is running fine without exception.</p>\n"},{"tags":["javascript","python","java","css","reactjs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692189303,"post_id":76912733,"comment_id":135589595,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29235719,"reputation":1,"user_id":22398399,"display_name":"shraddha jivanapurkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181936,"creation_date":1692181936,"question_id":76912733,"body_markdown":"* I want to call the function from sdk file to my ionic project by using custom plugin.\r\n* All versions:- cordova 10.0.0, ionic 7.0.1, ng version 9.1.13, node 16.20.0, gradle 6.5.1\r\n\r\nI tried with the help of plugin. plugin was created successfully but not integrate in my ionic project. also i integrated sdk in ionic but I failed in calling the function from sdk to plugin.","title":"I have an (name: &#39;xyzsdk_v1.0.20&#39;, ext: &#39;aar&#39;) file and i want to integrate it in my ionic project and also i created one custome plugin","body":"<ul>\n<li>I want to call the function from sdk file to my ionic project by using custom plugin.</li>\n<li>All versions:- cordova 10.0.0, ionic 7.0.1, ng version 9.1.13, node 16.20.0, gradle 6.5.1</li>\n</ul>\n<p>I tried with the help of plugin. plugin was created successfully but not integrate in my ionic project. also i integrated sdk in ionic but I failed in calling the function from sdk to plugin.</p>\n"},{"tags":["java","mysql","hibernate","enums","nativequery"],"comments":[{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692193302,"post_id":76912719,"comment_id":135590608,"body_markdown":"could you test your nativeQuery with : MyTableModel  class like that : Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;,MyTableModel .class); ?","body":"could you test your nativeQuery with : MyTableModel  class like that : Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;,MyTableModel .class); ?"},{"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"score":0,"creation_date":1692261595,"post_id":76912719,"comment_id":135600142,"body_markdown":"still same issue:\nCaused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column &#39;myenum&#39; at row 1\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\norg.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.GenericJDBCException: could not execute statement; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute statement","body":"still same issue: Caused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column &#39;myenum&#39; at row 1 Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.GenericJDBCException: could not execute statement; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute statement"},{"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"score":0,"creation_date":1692278438,"post_id":76912719,"comment_id":135603585,"body_markdown":"and for the MySQL dialect is the correct one ?","body":"and for the MySQL dialect is the correct one ?"},{"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"score":0,"creation_date":1692343071,"post_id":76912719,"comment_id":135612635,"body_markdown":"yes, I tried for older version dialct mysql, mysql5, mysql57 and i have ported mysql8... for newer version the mysql8 is already there - with same issue each time","body":"yes, I tried for older version dialct mysql, mysql5, mysql57 and i have ported mysql8... for newer version the mysql8 is already there - with same issue each time"}],"owner":{"account_id":29235938,"reputation":11,"user_id":22398574,"display_name":"ArturM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692181806,"creation_date":1692181806,"question_id":76912719,"body_markdown":"I have an issue with @Enumerated(EnumType.STRING) enum passed as param to native query after mysql upgrade from 5.7 to 8.0.34.\r\n\r\nMy simplified setup:\r\n    \r\n```\r\npublic enum MyEnum {\r\n       A,B;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Audited\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTableModel {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;, unique = true)\r\n      private Long id;\r\n\r\n      @Column(name = &quot;myenum&quot;)\r\n      @NotNull\r\n      @Enumerated(EnumType.STRING)\r\n      private MyEnum myEnum;\r\n      .....\r\n```\r\n\r\nThe problem arise when I try to update this enum using a native query like this:\r\n```\r\nQuery query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;);\r\n        query.setParameter(&quot;id&quot;, id);\r\n        query.setParameter(&quot;myenum&quot;, MyEnum.B);\r\n        query.executeUpdate();\r\n```\r\n\r\nI was a working code before in mysql 5.7 pior upgrade to 8.0.34\r\n\r\nI tested above with few diffrent hibernate/spring versions:\r\nHibernate 4.2.21 and Spring 4.3.13 gave following error:\r\n```\r\nCaused by: java.sql.SQLException: Incorrect string value: &#39;\\xAC\\xED\\x00\\x05~r...&#39; for column     &#39;myenum&#39; at row 1\r\n```\r\nHibernate 5.4.3 and Spring 5.3.27 gave following error:\r\n```\r\njava.lang.IllegalArgumentException: No enum constant com.example.MyEnum.&#172;&#237;~rFcom.example.MyEnumnxrjava.lang.EnumxptA\r\nat java.base/java.lang.Enum.valueOf(Enum.java:240)\r\nat org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84)\r\n\r\n```\r\nAm I doing something wrong here with enum? I am not able to update the older version of hibernate/spring and I need to find a way to fix it.\r\n\r\nWhen I change above code to following - it is working as expected - but that would mean I have to change this in a lot of places, why this is a problem upgrading to newer mysql version?\r\n```\r\nquery.setParameter(&quot;myenum&quot;, MyEnum.B.name())\r\n```\r\n\r\nI verify database/column encoding, change dialect to latest available in given hibernate versions, updated mysql connector to one of the latest one 8.0.15. As above I have tried to manually change enum to plain string using name() and that worked as expected.\r\nIs there something missing in the config, model/entity, hibernate etc to continue using just enum instead of plain string in above query? ","title":"Mysql 8 @Enumerated(EnumType.STRING) java enum hibernate native query param problem upgrade from mysql 5.7","body":"<p>I have an issue with @Enumerated(EnumType.STRING) enum passed as param to native query after mysql upgrade from 5.7 to 8.0.34.</p>\n<p>My simplified setup:</p>\n<pre><code>public enum MyEnum {\n       A,B;\n    }\n\n\n    @Entity\n    @Audited\n    @Table(name = &quot;my_table&quot;)\n    public class MyTableModel {\n      @Id\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\n      @Column(name = &quot;id&quot;, unique = true)\n      private Long id;\n\n      @Column(name = &quot;myenum&quot;)\n      @NotNull\n      @Enumerated(EnumType.STRING)\n      private MyEnum myEnum;\n      .....\n</code></pre>\n<p>The problem arise when I try to update this enum using a native query like this:</p>\n<pre><code>Query query = entityManager.createNativeQuery(&quot;UPDATE my_table up set  up.myenum=:myenum WHERE up.id=:id &quot;);\n        query.setParameter(&quot;id&quot;, id);\n        query.setParameter(&quot;myenum&quot;, MyEnum.B);\n        query.executeUpdate();\n</code></pre>\n<p>I was a working code before in mysql 5.7 pior upgrade to 8.0.34</p>\n<p>I tested above with few diffrent hibernate/spring versions:\nHibernate 4.2.21 and Spring 4.3.13 gave following error:</p>\n<pre><code>Caused by: java.sql.SQLException: Incorrect string value: '\\xAC\\xED\\x00\\x05~r...' for column     'myenum' at row 1\n</code></pre>\n<p>Hibernate 5.4.3 and Spring 5.3.27 gave following error:</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant com.example.MyEnum.¬í~rFcom.example.MyEnumnxrjava.lang.EnumxptA\nat java.base/java.lang.Enum.valueOf(Enum.java:240)\nat org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84)\n\n</code></pre>\n<p>Am I doing something wrong here with enum? I am not able to update the older version of hibernate/spring and I need to find a way to fix it.</p>\n<p>When I change above code to following - it is working as expected - but that would mean I have to change this in a lot of places, why this is a problem upgrading to newer mysql version?</p>\n<pre><code>query.setParameter(&quot;myenum&quot;, MyEnum.B.name())\n</code></pre>\n<p>I verify database/column encoding, change dialect to latest available in given hibernate versions, updated mysql connector to one of the latest one 8.0.15. As above I have tried to manually change enum to plain string using name() and that worked as expected.\nIs there something missing in the config, model/entity, hibernate etc to continue using just enum instead of plain string in above query?</p>\n"},{"tags":["java","soap","cxf","interceptor"],"owner":{"account_id":7066200,"reputation":43,"user_id":5569569,"display_name":"martino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181750,"creation_date":1692181750,"question_id":76912705,"body_markdown":"I am attempting to implement a logic where I add some HTTP headers to my SOAP request before sending the request onwards to the target webservice. More specifically I am attempting to implement signing HTTP messages as described in this [IETF draft](https://datatracker.ietf.org/doc/html/draft-cavage-http-signatures-12). My implementation needs to be applied to a multitude of webservices and therefore agnostic with respect to this.\r\n\r\nI am relatively new to SOAP, and Apache CXF which I am using. But my thought was to create an Interceptor implementation which could be easily added to the relevant SOAP-services in my apps. My attempt looks like this.\r\n```lang-java\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.cxf.binding.soap.SoapMessage;\r\nimport org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor;\r\nimport org.apache.cxf.interceptor.Fault;\r\nimport org.apache.cxf.io.CachedOutputStream;\r\nimport org.apache.cxf.message.Message;\r\n\r\npublic class MyInterceptor extends AbstractSoapInterceptor {\r\n\r\n    @Override\r\n    public void handleMessage(SoapMessage message) throws Fault {\r\n        // Fetch headers\r\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = (Map&lt;String, List&lt;String&gt;&gt;) message.get(Message.PROTOCOL_HEADERS);\r\n\r\n        // Fetch request-body as String, this seems a bit hacky...\r\n        OutputStream outputStream = message.getContent(OutputStream.class);\r\n        CachedOutputStream cachedOutputStream = (CachedOutputStream) outputStream;\r\n        StringBuilder builder = new StringBuilder();\r\n        try {\r\n            cachedOutputStream.writeCacheTo(builder);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        String requestBody = builder.toString();\r\n\r\n        // External API requires the HTTP headers and body\r\n        Map&lt;String, List&lt;String&gt;&gt; headersToAddToRequest = externalApiService.fetchSignedHeaders(requestHeaders, requestBody);\r\n\r\n        // Add headers to message\r\n        message.put(Message.PROTOCOL_HEADERS, headersToAddToRequest);\r\n\r\n    }\r\n\r\n}\r\n```\r\nNow this seems to &quot;work&quot;, but it feels a bit &quot;hacky&quot;. Is there an &quot;easier&quot; way to achieve this, or any big mistakes in the logic here?\r\n\r\nSorry If such an open-ended question is disallowed. Feel free to close this if it doesn&#39;t comply with SE guidelines. ","title":"Add HTTP headers to SOAP request with data from external API using Interceptor","body":"<p>I am attempting to implement a logic where I add some HTTP headers to my SOAP request before sending the request onwards to the target webservice. More specifically I am attempting to implement signing HTTP messages as described in this <a href=\"https://datatracker.ietf.org/doc/html/draft-cavage-http-signatures-12\" rel=\"nofollow noreferrer\">IETF draft</a>. My implementation needs to be applied to a multitude of webservices and therefore agnostic with respect to this.</p>\n<p>I am relatively new to SOAP, and Apache CXF which I am using. But my thought was to create an Interceptor implementation which could be easily added to the relevant SOAP-services in my apps. My attempt looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.cxf.binding.soap.SoapMessage;\nimport org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor;\nimport org.apache.cxf.interceptor.Fault;\nimport org.apache.cxf.io.CachedOutputStream;\nimport org.apache.cxf.message.Message;\n\npublic class MyInterceptor extends AbstractSoapInterceptor {\n\n    @Override\n    public void handleMessage(SoapMessage message) throws Fault {\n        // Fetch headers\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = (Map&lt;String, List&lt;String&gt;&gt;) message.get(Message.PROTOCOL_HEADERS);\n\n        // Fetch request-body as String, this seems a bit hacky...\n        OutputStream outputStream = message.getContent(OutputStream.class);\n        CachedOutputStream cachedOutputStream = (CachedOutputStream) outputStream;\n        StringBuilder builder = new StringBuilder();\n        try {\n            cachedOutputStream.writeCacheTo(builder);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        String requestBody = builder.toString();\n\n        // External API requires the HTTP headers and body\n        Map&lt;String, List&lt;String&gt;&gt; headersToAddToRequest = externalApiService.fetchSignedHeaders(requestHeaders, requestBody);\n\n        // Add headers to message\n        message.put(Message.PROTOCOL_HEADERS, headersToAddToRequest);\n\n    }\n\n}\n</code></pre>\n<p>Now this seems to &quot;work&quot;, but it feels a bit &quot;hacky&quot;. Is there an &quot;easier&quot; way to achieve this, or any big mistakes in the logic here?</p>\n<p>Sorry If such an open-ended question is disallowed. Feel free to close this if it doesn't comply with SE guidelines.</p>\n"},{"tags":["java","xcode","kotlin-multiplatform"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1692017369,"post_id":76898701,"comment_id":135564670,"body_markdown":"I&#39;m guessing that xcode ignores the JAVA_HOME environment variable and likely needs some manual config to tell it where you&#39;ve installed the jdk","body":"I&#39;m guessing that xcode ignores the JAVA_HOME environment variable and likely needs some manual config to tell it where you&#39;ve installed the jdk"},{"owner":{"account_id":4399745,"reputation":73358,"user_id":3585796,"display_name":"Phil Dukhov"},"score":0,"creation_date":1692017986,"post_id":76898701,"comment_id":135564792,"body_markdown":"try [kdoctor](https://github.com/Kotlin/kdoctor)","body":"try <a href=\"https://github.com/Kotlin/kdoctor\" rel=\"nofollow noreferrer\">kdoctor</a>"}],"answers":[{"tags":[],"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692181709,"creation_date":1692181709,"answer_id":76912698,"question_id":76898701,"body_markdown":"I managed to solve the problem myself by changing the build script in xcode to:\r\n\r\n```\r\nJAVA_HOME=&quot;/Users/xxx/.sdkman/candidates/java/current&quot; &quot;$REPO_ROOT/../gradlew&quot; -p &quot;$REPO_ROOT&quot; $KOTLIN_PROJECT_PATH:syncFramework                     -Pkotlin.native.cocoapods.platform=$PLATFORM_NAME                     -Pkotlin.native.cocoapods.archs=&quot;$ARCHS&quot;                     -Pkotlin.native.cocoapods.configuration=&quot;$CONFIGURATION&quot;\r\n```","title":"Xcode cannot locate java runtime","body":"<p>I managed to solve the problem myself by changing the build script in xcode to:</p>\n<pre><code>JAVA_HOME=&quot;/Users/xxx/.sdkman/candidates/java/current&quot; &quot;$REPO_ROOT/../gradlew&quot; -p &quot;$REPO_ROOT&quot; $KOTLIN_PROJECT_PATH:syncFramework                     -Pkotlin.native.cocoapods.platform=$PLATFORM_NAME                     -Pkotlin.native.cocoapods.archs=&quot;$ARCHS&quot;                     -Pkotlin.native.cocoapods.configuration=&quot;$CONFIGURATION&quot;\n</code></pre>\n"}],"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692181709,"creation_date":1692013796,"question_id":76898701,"body_markdown":"I am writing a Kotlin Multiplatform project and everything are compiling fine when I compile it in Android Studio, however when I try to compile it in Xcode I get a compile error:\r\n\r\n```\r\nThe operation couldn’t be completed. Unable to locate a Java Runtime.\r\n\r\nPlease visit http://www.java.com for information on installing Java.\r\n\r\n```\r\nI have installed Java and can in a terminal find it so it seems like the problem is in Xcode:\r\n```\r\n$ echo $JAVA_HOME\r\n/Users/xxx/.sdkman/candidates/java/current\r\n$ java --version\r\nopenjdk 17.0.6 2023-01-17\r\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode)\r\n```\r\n\r\nI have executed kdoctor and it finds no issue with my setup:\r\n```\r\n$ kdoctor\r\nEnvironment diagnose (to see all details, use -v option):\r\n[✓] Operation System\r\n[✓] Java\r\n[✓] Android Studio\r\n[✓] Xcode\r\n[✓] Cocoapods\r\n\r\nConclusion:\r\n  ✓ Your system is ready for Kotlin Multiplatform Mobile Development!\r\n```","title":"Xcode cannot locate java runtime","body":"<p>I am writing a Kotlin Multiplatform project and everything are compiling fine when I compile it in Android Studio, however when I try to compile it in Xcode I get a compile error:</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime.\n\nPlease visit http://www.java.com for information on installing Java.\n\n</code></pre>\n<p>I have installed Java and can in a terminal find it so it seems like the problem is in Xcode:</p>\n<pre><code>$ echo $JAVA_HOME\n/Users/xxx/.sdkman/candidates/java/current\n$ java --version\nopenjdk 17.0.6 2023-01-17\nOpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)\nOpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode)\n</code></pre>\n<p>I have executed kdoctor and it finds no issue with my setup:</p>\n<pre><code>$ kdoctor\nEnvironment diagnose (to see all details, use -v option):\n[✓] Operation System\n[✓] Java\n[✓] Android Studio\n[✓] Xcode\n[✓] Cocoapods\n\nConclusion:\n  ✓ Your system is ready for Kotlin Multiplatform Mobile Development!\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692177393,"post_id":76911744,"comment_id":135587227,"body_markdown":"This is nowhere near a _minimal_ example of the problem as Stack policy calls for, but your `EncryptionHelper` correctly uses `GCMParameterSpec` with the IV saved from the encryption; your `PasswordEntryAdapter` uses **`IvParameterSpec` which is wrong and a newly generated IV which is also wrong** (for decrypt).","body":"This is nowhere near a <i>minimal</i> example of the problem as Stack policy calls for, but your <code>EncryptionHelper</code> correctly uses <code>GCMParameterSpec</code> with the IV saved from the encryption; your <code>PasswordEntryAdapter</code> uses <b><code>IvParameterSpec</code> which is wrong and a newly generated IV which is also wrong</b> (for decrypt)."},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692181128,"post_id":76911744,"comment_id":135587971,"body_markdown":"Ive posted an answer post so you can see the changes, because I get this exception, javax.crypto.AEADBadTagException, and my iv does not get initialized properly.","body":"Ive posted an answer post so you can see the changes, because I get this exception, javax.crypto.AEADBadTagException, and my iv does not get initialized properly."}],"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692181063,"creation_date":1692174075,"question_id":76911744,"body_markdown":"Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re-enter their main account password to decrypt the details. The problem im having is that during the decrypting process when decrypting and showing the login details, I get an exception thrown from my decryption methods that I do not know how to solve. And im guessing it&#39;s what causes the username and password field to be null since they never pass through the decryption. \r\n\r\nI&#39;ll provide all code for the classes relevant in that process. \r\n\r\n\r\nIn RegisterActivity the user registers their account, details are stored in sharedpreferences for future access. \r\n```\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    private EditText firstNameEditText, lastNameEditText, emailEditText, passwordEditText;\r\n    private Button registerButton;\r\n    private TextView backToLoginLinkText;\r\n\r\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    private final Handler mainHandler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.createaccount_activity);\r\n\r\n        // Initialize views\r\n        firstNameEditText = findViewById(R.id.firstNameEditText);\r\n        lastNameEditText = findViewById(R.id.lastNameEditText);\r\n        emailEditText = findViewById(R.id.emailEditText);\r\n        passwordEditText = findViewById(R.id.passwordEditText);\r\n        registerButton = findViewById(R.id.registerButton);\r\n        backToLoginLinkText = findViewById(R.id.loginLinkText);\r\n\r\n        // Set click listener for the &quot;Register&quot; button\r\n        registerButton.setOnClickListener(v -&gt; {\r\n            String firstName = firstNameEditText.getText().toString();\r\n            String lastName = lastNameEditText.getText().toString();\r\n            String email = emailEditText.getText().toString();\r\n            String password = passwordEditText.getText().toString();\r\n\r\n            if (firstName.isEmpty() || lastName.isEmpty() || email.isEmpty() || password.isEmpty()) {\r\n                Toast.makeText(RegisterActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            // Create a new User instance (This will integrate with the Room database)\r\n            User newUser = new User(firstName, lastName, email, password);\r\n\r\n            // Use ExecutorService to insert the user on a background thread\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\r\n\r\n                    // Log success\r\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\r\n\r\n                    // Store the password in SharedPreferences\r\n                    storeUserPassword(RegisterActivity.this, password);\r\n                    //storeUserPassword(RegisterActivity.this, password);\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; {\r\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\r\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\r\n                    });\r\n\r\n                    // Navigate back to the login activity on the main thread\r\n                    mainHandler.post(() -&gt; onBackPressed());\r\n                } catch (Exception e) {\r\n                    // Log error\r\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\r\n                }\r\n            });\r\n        });\r\n\r\n        // Set click listener for the &quot;Back to Login&quot; link\r\n        backToLoginLinkText.setOnClickListener(v -&gt; {\r\n            // Navigate back to the login activity\r\n            onBackPressed();\r\n        });\r\n    }\r\n\r\n    private void storeUserPassword(Context context, String password) {\r\n        try {\r\n            EncryptionHelper.generateKey(context); // Generate a key (if not already generated)\r\n\r\n            // Encrypt the password using EncryptionHelper\r\n            byte[] encryptedPassword = EncryptionHelper.encryptData(context, password.getBytes());\r\n\r\n            // Store the encrypted password in SharedPreferences\r\n            if (context != null) {\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n                sharedPreferences.edit()\r\n                        .putString(&quot;encryptedPassword&quot;, Base64.encodeToString(encryptedPassword, Base64.DEFAULT))\r\n                        .putString(&quot;userPassword&quot;, password)\r\n                        .apply();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            // Handle encryption error\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Clean up the ExecutorService when the activity is destroyed\r\n        executorService.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nPasswordAddActivity lets the user create a login to a certain website and save it in their vault. The username and password inputted gets encrypted by the encryptData(). \r\n```\r\npublic class PasswordAddActivity extends AppCompatActivity {\r\n\r\n    private EditText websiteEditText, usernameEditText, passwordEditText;\r\n    private Button saveButton, cancelButton;\r\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.password_add_activity);\r\n        int userId = getIntent().getIntExtra(&quot;userId&quot;, -1);\r\n\r\n        websiteEditText = findViewById(R.id.websiteEditText);\r\n        usernameEditText = findViewById(R.id.usernameEditText);\r\n        passwordEditText = findViewById(R.id.passwordEditText);\r\n        saveButton = findViewById(R.id.saveButton);\r\n        cancelButton = findViewById(R.id.cancelButton);\r\n\r\n        saveButton.setOnClickListener(v -&gt; {\r\n            String website = websiteEditText.getText().toString();\r\n            String username = encryptData(usernameEditText.getText().toString()); // Encrypt the username\r\n            String password = encryptData(passwordEditText.getText().toString()); // Encrypt the password\r\n\r\n            if (website.isEmpty() || username.isEmpty() || password.isEmpty()) {\r\n                Toast.makeText(PasswordAddActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            // Create a new PasswordEntry instance\r\n            PasswordEntry newPasswordEntry = new PasswordEntry(website, username, password, userId); // userId is the current user&#39;s ID\r\n\r\n            // Use ExecutorService to insert the password entry on a background thread\r\n            executorService.submit(() -&gt; {\r\n                AppDatabase.getInstance(PasswordAddActivity.this)\r\n                        .passwordEntryDao()\r\n                        .insertPasswordEntry(newPasswordEntry);\r\n\r\n                // Show a toast message on the main thread\r\n                runOnUiThread(() -&gt; {\r\n                    Toast.makeText(PasswordAddActivity.this, &quot;Password entry saved&quot;, Toast.LENGTH_SHORT).show();\r\n                    onBackPressed();\r\n                });\r\n            });\r\n        });\r\n\r\n        cancelButton.setOnClickListener(v -&gt; {\r\n            onBackPressed();\r\n        });\r\n    }\r\n\r\n    private String encryptData(String data) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n            if (!keyStore.containsAlias(&quot;password_key&quot;)) {\r\n                KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n                keyGenerator.init(new KeyGenParameterSpec.Builder(&quot;password_key&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                        .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                        .setRandomizedEncryptionRequired(true)\r\n                        .build());\r\n                keyGenerator.generateKey();\r\n            }\r\n\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n            byte[] encryptedData = cipher.doFinal(data.getBytes());\r\n            return Base64.encodeToString(encryptedData, Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Clean up the ExecutorService when the activity is destroyed\r\n        executorService.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nThe PasswordEntry class is where the password and username is passed in and should be decrypted. \r\n```\r\n@Entity(tableName = &quot;password_entries&quot;,\r\n        foreignKeys = @ForeignKey(entity = User.class,\r\n                parentColumns = &quot;id&quot;,\r\n                childColumns = &quot;userId&quot;,\r\n                onDelete = ForeignKey.CASCADE))\r\npublic class PasswordEntry {\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int id;\r\n    public int userId;\r\n    public String website;\r\n    public String username;\r\n    public String encryptedPassword; // Use the encryptedPassword field\r\n\r\n    // Use the encryptedPassword field in the constructor\r\n    public PasswordEntry(String website, String username, String encryptedPassword, int userId) {\r\n        this.userId = userId;\r\n        this.website = website;\r\n        this.username = username;\r\n        this.encryptedPassword = encryptedPassword; // Set the encrypted password\r\n    }\r\n\r\n    public String getWebsite() {\r\n        return website;\r\n    }\r\n\r\n    public void setWebsite(String website) {\r\n        this.website = website;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return decryptData(encryptedPassword); // Decrypt and return the password\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.encryptedPassword = encryptData(password); // Encrypt and set the password\r\n    }\r\n\r\n    private String encryptData(String data) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n            KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(&quot;password_key&quot;,\r\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                    .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                    .setKeySize(256)\r\n                    .setUserAuthenticationRequired(false)\r\n                    .build();\r\n            keyGenerator.init(keyGenParameterSpec);\r\n\r\n            SecretKey secretKey = keyGenerator.generateKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n            byte[] encryptedBytes = cipher.doFinal(data.getBytes());\r\n            return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    private String decryptData(String encryptedData) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\r\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedBytes);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the PasswordEntryAdapter class which handles the decryption and is responsible for retrieving decrypted details and showing them in the alert dialog that shows up. \r\n\r\n```\r\npublic class PasswordEntryAdapter extends RecyclerView.Adapter&lt;PasswordEntryAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;PasswordEntry&gt; passwordEntries;\r\n    private Context context; // Add this field\r\n\r\n    public PasswordEntryAdapter(Context context, List&lt;PasswordEntry&gt; passwordEntries) {\r\n        this.context = context;\r\n        this.passwordEntries = passwordEntries;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_password_entry, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        PasswordEntry entry = passwordEntries.get(position);\r\n        holder.websiteTextView.setText(entry.getWebsite());\r\n\r\n        // Set click listener on the lock container\r\n        holder.lockContainer.setOnClickListener(v -&gt; showPasswordDetailsPopup(entry));\r\n    }\r\n\r\n    private void showPasswordDetailsPopup(PasswordEntry entry) {\r\n        // Inflate the custom dialog layout for entering the password\r\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_decrypt_details, null);\r\n\r\n        // Initialize dialog components\r\n        EditText passwordEditText = dialogView.findViewById(R.id.passwordEditText);\r\n        Button cancelButton = dialogView.findViewById(R.id.cancelButton);\r\n        Button confirmButton = dialogView.findViewById(R.id.confirmButton);\r\n\r\n        // Create and show the password entry dialog\r\n        AlertDialog passwordDialog = new AlertDialog.Builder(context)\r\n                .setView(dialogView)\r\n                .create();\r\n\r\n        // Set click listener for the confirm button\r\n        confirmButton.setOnClickListener(v -&gt; {\r\n            String enteredPassword = passwordEditText.getText().toString();\r\n            // Check if the entered password is correct\r\n            if (verifyPassword(context, enteredPassword)) {\r\n                passwordDialog.dismiss();\r\n                // Decrypt and show the login details dialog\r\n                showDecryptedPasswordDetailsDialog(entry);\r\n            } else {\r\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        // Set click listener for the cancel button\r\n        cancelButton.setOnClickListener(v -&gt; passwordDialog.dismiss());\r\n\r\n        passwordDialog.show();\r\n    }\r\n\r\n    private boolean verifyPassword(Context context, String enteredPassword) {\r\n        // Retrieve the user&#39;s encrypted password and related data from SharedPreferences\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        String encryptedPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;);\r\n        String encodedSecretKey = sharedPreferences.getString(&quot;secretKey&quot;, &quot;&quot;);\r\n        String encodedIV = sharedPreferences.getString(&quot;iv&quot;, &quot;&quot;);  // Retrieve the stored IV\r\n\r\n        try {\r\n            // Decrypt the password using EncryptionHelper\r\n            byte[] decryptedPasswordBytes = EncryptionHelper.decryptData(context, Base64.decode(encryptedPassword, Base64.DEFAULT));\r\n            String decryptedPassword = new String(decryptedPasswordBytes, StandardCharsets.UTF_8);\r\n\r\n            return enteredPassword.equals(decryptedPassword);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void showDecryptedPasswordDetailsDialog(PasswordEntry entry) {\r\n        // Inflate your custom dialog layout for displaying decrypted username and password\r\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_details, null);\r\n\r\n        // Initialize dialog components\r\n        TextView usernameTextView = dialogView.findViewById(R.id.usernameTextView);\r\n        TextView passwordTextView = dialogView.findViewById(R.id.passwordTextView);\r\n\r\n        // Retrieve the user&#39;s password from SharedPreferences\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        String userPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;); // Change to &quot;encryptedPassword&quot;\r\n\r\n        // Decrypt and set username and password\r\n        String decryptedUsername = decryptData(entry.getUsername(), userPassword);\r\n        String decryptedPassword = decryptData(entry.getPassword(), userPassword);\r\n        usernameTextView.setText(&quot;Username: &quot; + decryptedUsername);\r\n        passwordTextView.setText(&quot;Password: &quot; + decryptedPassword);\r\n\r\n        // Create and show the dialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Password Details&quot;)\r\n                .setView(dialogView)\r\n                .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss());\r\n\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n    }\r\n\r\n\r\n    private String decryptData(String encryptedData, String userPassword) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); // Use AES/GCM/NoPadding\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\r\n            byte[] decryptedData = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedData, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return passwordEntries.size();\r\n    }\r\n\r\n    static class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView websiteTextView;\r\n        LinearLayout lockContainer; // Add this field\r\n\r\n        ViewHolder(View itemView) {\r\n            super(itemView);\r\n            websiteTextView = itemView.findViewById(R.id.websiteTextView);\r\n            lockContainer = itemView.findViewById(R.id.lockContainer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the EncryptionHelper class that helps with the encryption and decryption process during the first registration so maybe it&#39;s not that relevant, but maybe ive used different encryption processes there which can interfere with the future decryption. \r\n\r\n```\r\npublic class EncryptionHelper {\r\n\r\n    private static final String KEY_ALIAS = &quot;my_secure_key_alias&quot;;\r\n\r\n    public static void generateKey(Context context) throws Exception {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\r\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n\r\n        keyGenerator.init(new KeyGenParameterSpec.Builder(\r\n                KEY_ALIAS,\r\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                .build());\r\n\r\n        keyGenerator.generateKey();\r\n    }\r\n\r\n    public static byte[] encryptData(Context context, byte[] data) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(context));\r\n\r\n        byte[] encryptedData = cipher.doFinal(data);\r\n        byte[] iv = cipher.getIV();\r\n\r\n        // Combine IV and encrypted data\r\n        byte[] combined = new byte[iv.length + encryptedData.length];\r\n        System.arraycopy(iv, 0, combined, 0, iv.length);\r\n        System.arraycopy(encryptedData, 0, combined, iv.length, encryptedData.length);\r\n\r\n        return combined;\r\n    }\r\n\r\n    public static byte[] decryptData(Context context, byte[] combined) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        byte[] iv = new byte[12]; // IV length for AES GCM mode\r\n\r\n        System.arraycopy(combined, 0, iv, 0, iv.length);\r\n        GCMParameterSpec ivSpec = new GCMParameterSpec(128, iv);\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(context), ivSpec);\r\n        return cipher.doFinal(combined, iv.length, combined.length - iv.length);\r\n    }\r\n\r\n    private static SecretKey getSecretKey(Context context) throws Exception {\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n        keyStore.load(null);\r\n        return (SecretKey) keyStore.getKey(KEY_ALIAS, null);\r\n    }\r\n}\r\n```\r\n\r\nIf you need additional information or code let me know and I&#39;ll provide it for you. ","title":"Exception &quot;Only GCMParameterSpec supported&quot; during decryption","body":"<p>Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re-enter their main account password to decrypt the details. The problem im having is that during the decrypting process when decrypting and showing the login details, I get an exception thrown from my decryption methods that I do not know how to solve. And im guessing it's what causes the username and password field to be null since they never pass through the decryption.</p>\n<p>I'll provide all code for the classes relevant in that process.</p>\n<p>In RegisterActivity the user registers their account, details are stored in sharedpreferences for future access.</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    private EditText firstNameEditText, lastNameEditText, emailEditText, passwordEditText;\n    private Button registerButton;\n    private TextView backToLoginLinkText;\n\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n    private final Handler mainHandler = new Handler(Looper.getMainLooper());\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.createaccount_activity);\n\n        // Initialize views\n        firstNameEditText = findViewById(R.id.firstNameEditText);\n        lastNameEditText = findViewById(R.id.lastNameEditText);\n        emailEditText = findViewById(R.id.emailEditText);\n        passwordEditText = findViewById(R.id.passwordEditText);\n        registerButton = findViewById(R.id.registerButton);\n        backToLoginLinkText = findViewById(R.id.loginLinkText);\n\n        // Set click listener for the &quot;Register&quot; button\n        registerButton.setOnClickListener(v -&gt; {\n            String firstName = firstNameEditText.getText().toString();\n            String lastName = lastNameEditText.getText().toString();\n            String email = emailEditText.getText().toString();\n            String password = passwordEditText.getText().toString();\n\n            if (firstName.isEmpty() || lastName.isEmpty() || email.isEmpty() || password.isEmpty()) {\n                Toast.makeText(RegisterActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            // Create a new User instance (This will integrate with the Room database)\n            User newUser = new User(firstName, lastName, email, password);\n\n            // Use ExecutorService to insert the user on a background thread\n            executorService.submit(() -&gt; {\n                try {\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\n\n                    // Log success\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\n\n                    // Store the password in SharedPreferences\n                    storeUserPassword(RegisterActivity.this, password);\n                    //storeUserPassword(RegisterActivity.this, password);\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; {\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\n                    });\n\n                    // Navigate back to the login activity on the main thread\n                    mainHandler.post(() -&gt; onBackPressed());\n                } catch (Exception e) {\n                    // Log error\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\n                }\n            });\n        });\n\n        // Set click listener for the &quot;Back to Login&quot; link\n        backToLoginLinkText.setOnClickListener(v -&gt; {\n            // Navigate back to the login activity\n            onBackPressed();\n        });\n    }\n\n    private void storeUserPassword(Context context, String password) {\n        try {\n            EncryptionHelper.generateKey(context); // Generate a key (if not already generated)\n\n            // Encrypt the password using EncryptionHelper\n            byte[] encryptedPassword = EncryptionHelper.encryptData(context, password.getBytes());\n\n            // Store the encrypted password in SharedPreferences\n            if (context != null) {\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n                sharedPreferences.edit()\n                        .putString(&quot;encryptedPassword&quot;, Base64.encodeToString(encryptedPassword, Base64.DEFAULT))\n                        .putString(&quot;userPassword&quot;, password)\n                        .apply();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            // Handle encryption error\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Clean up the ExecutorService when the activity is destroyed\n        executorService.shutdown();\n    }\n}\n</code></pre>\n<p>PasswordAddActivity lets the user create a login to a certain website and save it in their vault. The username and password inputted gets encrypted by the encryptData().</p>\n<pre><code>public class PasswordAddActivity extends AppCompatActivity {\n\n    private EditText websiteEditText, usernameEditText, passwordEditText;\n    private Button saveButton, cancelButton;\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.password_add_activity);\n        int userId = getIntent().getIntExtra(&quot;userId&quot;, -1);\n\n        websiteEditText = findViewById(R.id.websiteEditText);\n        usernameEditText = findViewById(R.id.usernameEditText);\n        passwordEditText = findViewById(R.id.passwordEditText);\n        saveButton = findViewById(R.id.saveButton);\n        cancelButton = findViewById(R.id.cancelButton);\n\n        saveButton.setOnClickListener(v -&gt; {\n            String website = websiteEditText.getText().toString();\n            String username = encryptData(usernameEditText.getText().toString()); // Encrypt the username\n            String password = encryptData(passwordEditText.getText().toString()); // Encrypt the password\n\n            if (website.isEmpty() || username.isEmpty() || password.isEmpty()) {\n                Toast.makeText(PasswordAddActivity.this, &quot;All fields are required&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            // Create a new PasswordEntry instance\n            PasswordEntry newPasswordEntry = new PasswordEntry(website, username, password, userId); // userId is the current user's ID\n\n            // Use ExecutorService to insert the password entry on a background thread\n            executorService.submit(() -&gt; {\n                AppDatabase.getInstance(PasswordAddActivity.this)\n                        .passwordEntryDao()\n                        .insertPasswordEntry(newPasswordEntry);\n\n                // Show a toast message on the main thread\n                runOnUiThread(() -&gt; {\n                    Toast.makeText(PasswordAddActivity.this, &quot;Password entry saved&quot;, Toast.LENGTH_SHORT).show();\n                    onBackPressed();\n                });\n            });\n        });\n\n        cancelButton.setOnClickListener(v -&gt; {\n            onBackPressed();\n        });\n    }\n\n    private String encryptData(String data) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n            if (!keyStore.containsAlias(&quot;password_key&quot;)) {\n                KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n                keyGenerator.init(new KeyGenParameterSpec.Builder(&quot;password_key&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                        .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                        .setRandomizedEncryptionRequired(true)\n                        .build());\n                keyGenerator.generateKey();\n            }\n\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n            byte[] encryptedData = cipher.doFinal(data.getBytes());\n            return Base64.encodeToString(encryptedData, Base64.DEFAULT);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n    \n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Clean up the ExecutorService when the activity is destroyed\n        executorService.shutdown();\n    }\n}\n</code></pre>\n<p>The PasswordEntry class is where the password and username is passed in and should be decrypted.</p>\n<pre><code>@Entity(tableName = &quot;password_entries&quot;,\n        foreignKeys = @ForeignKey(entity = User.class,\n                parentColumns = &quot;id&quot;,\n                childColumns = &quot;userId&quot;,\n                onDelete = ForeignKey.CASCADE))\npublic class PasswordEntry {\n    @PrimaryKey(autoGenerate = true)\n    public int id;\n    public int userId;\n    public String website;\n    public String username;\n    public String encryptedPassword; // Use the encryptedPassword field\n\n    // Use the encryptedPassword field in the constructor\n    public PasswordEntry(String website, String username, String encryptedPassword, int userId) {\n        this.userId = userId;\n        this.website = website;\n        this.username = username;\n        this.encryptedPassword = encryptedPassword; // Set the encrypted password\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return decryptData(encryptedPassword); // Decrypt and return the password\n    }\n\n    public void setPassword(String password) {\n        this.encryptedPassword = encryptData(password); // Encrypt and set the password\n    }\n\n    private String encryptData(String data) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n            KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(&quot;password_key&quot;,\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                    .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                    .setKeySize(256)\n                    .setUserAuthenticationRequired(false)\n                    .build();\n            keyGenerator.init(keyGenParameterSpec);\n\n            SecretKey secretKey = keyGenerator.generateKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n            byte[] encryptedBytes = cipher.doFinal(data.getBytes());\n            return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n\n    private String decryptData(String encryptedData) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\n\n            return new String(decryptedBytes);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n<p>This is the PasswordEntryAdapter class which handles the decryption and is responsible for retrieving decrypted details and showing them in the alert dialog that shows up.</p>\n<pre><code>public class PasswordEntryAdapter extends RecyclerView.Adapter&lt;PasswordEntryAdapter.ViewHolder&gt; {\n\n    private List&lt;PasswordEntry&gt; passwordEntries;\n    private Context context; // Add this field\n\n    public PasswordEntryAdapter(Context context, List&lt;PasswordEntry&gt; passwordEntries) {\n        this.context = context;\n        this.passwordEntries = passwordEntries;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_password_entry, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        PasswordEntry entry = passwordEntries.get(position);\n        holder.websiteTextView.setText(entry.getWebsite());\n\n        // Set click listener on the lock container\n        holder.lockContainer.setOnClickListener(v -&gt; showPasswordDetailsPopup(entry));\n    }\n\n    private void showPasswordDetailsPopup(PasswordEntry entry) {\n        // Inflate the custom dialog layout for entering the password\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_decrypt_details, null);\n\n        // Initialize dialog components\n        EditText passwordEditText = dialogView.findViewById(R.id.passwordEditText);\n        Button cancelButton = dialogView.findViewById(R.id.cancelButton);\n        Button confirmButton = dialogView.findViewById(R.id.confirmButton);\n\n        // Create and show the password entry dialog\n        AlertDialog passwordDialog = new AlertDialog.Builder(context)\n                .setView(dialogView)\n                .create();\n\n        // Set click listener for the confirm button\n        confirmButton.setOnClickListener(v -&gt; {\n            String enteredPassword = passwordEditText.getText().toString();\n            // Check if the entered password is correct\n            if (verifyPassword(context, enteredPassword)) {\n                passwordDialog.dismiss();\n                // Decrypt and show the login details dialog\n                showDecryptedPasswordDetailsDialog(entry);\n            } else {\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        // Set click listener for the cancel button\n        cancelButton.setOnClickListener(v -&gt; passwordDialog.dismiss());\n\n        passwordDialog.show();\n    }\n\n    private boolean verifyPassword(Context context, String enteredPassword) {\n        // Retrieve the user's encrypted password and related data from SharedPreferences\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        String encryptedPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;);\n        String encodedSecretKey = sharedPreferences.getString(&quot;secretKey&quot;, &quot;&quot;);\n        String encodedIV = sharedPreferences.getString(&quot;iv&quot;, &quot;&quot;);  // Retrieve the stored IV\n\n        try {\n            // Decrypt the password using EncryptionHelper\n            byte[] decryptedPasswordBytes = EncryptionHelper.decryptData(context, Base64.decode(encryptedPassword, Base64.DEFAULT));\n            String decryptedPassword = new String(decryptedPasswordBytes, StandardCharsets.UTF_8);\n\n            return enteredPassword.equals(decryptedPassword);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n\n    private void showDecryptedPasswordDetailsDialog(PasswordEntry entry) {\n        // Inflate your custom dialog layout for displaying decrypted username and password\n        View dialogView = LayoutInflater.from(context).inflate(R.layout.password_dialog_details, null);\n\n        // Initialize dialog components\n        TextView usernameTextView = dialogView.findViewById(R.id.usernameTextView);\n        TextView passwordTextView = dialogView.findViewById(R.id.passwordTextView);\n\n        // Retrieve the user's password from SharedPreferences\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        String userPassword = sharedPreferences.getString(&quot;encryptedPassword&quot;, &quot;&quot;); // Change to &quot;encryptedPassword&quot;\n\n        // Decrypt and set username and password\n        String decryptedUsername = decryptData(entry.getUsername(), userPassword);\n        String decryptedPassword = decryptData(entry.getPassword(), userPassword);\n        usernameTextView.setText(&quot;Username: &quot; + decryptedUsername);\n        passwordTextView.setText(&quot;Password: &quot; + decryptedPassword);\n\n        // Create and show the dialog\n        AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                .setTitle(&quot;Password Details&quot;)\n                .setView(dialogView)\n                .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss());\n\n        AlertDialog dialog = builder.create();\n        dialog.show();\n    }\n\n\n    private String decryptData(String encryptedData, String userPassword) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); // Use AES/GCM/NoPadding\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\n            byte[] decryptedData = cipher.doFinal(decodedData);\n\n            return new String(decryptedData, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return passwordEntries.size();\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n        TextView websiteTextView;\n        LinearLayout lockContainer; // Add this field\n\n        ViewHolder(View itemView) {\n            super(itemView);\n            websiteTextView = itemView.findViewById(R.id.websiteTextView);\n            lockContainer = itemView.findViewById(R.id.lockContainer);\n        }\n    }\n}\n</code></pre>\n<p>This is the EncryptionHelper class that helps with the encryption and decryption process during the first registration so maybe it's not that relevant, but maybe ive used different encryption processes there which can interfere with the future decryption.</p>\n<pre><code>public class EncryptionHelper {\n\n    private static final String KEY_ALIAS = &quot;my_secure_key_alias&quot;;\n\n    public static void generateKey(Context context) throws Exception {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(\n                KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n\n        keyGenerator.init(new KeyGenParameterSpec.Builder(\n                KEY_ALIAS,\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                .build());\n\n        keyGenerator.generateKey();\n    }\n\n    public static byte[] encryptData(Context context, byte[] data) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(context));\n\n        byte[] encryptedData = cipher.doFinal(data);\n        byte[] iv = cipher.getIV();\n\n        // Combine IV and encrypted data\n        byte[] combined = new byte[iv.length + encryptedData.length];\n        System.arraycopy(iv, 0, combined, 0, iv.length);\n        System.arraycopy(encryptedData, 0, combined, iv.length, encryptedData.length);\n\n        return combined;\n    }\n\n    public static byte[] decryptData(Context context, byte[] combined) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        byte[] iv = new byte[12]; // IV length for AES GCM mode\n\n        System.arraycopy(combined, 0, iv, 0, iv.length);\n        GCMParameterSpec ivSpec = new GCMParameterSpec(128, iv);\n\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(context), ivSpec);\n        return cipher.doFinal(combined, iv.length, combined.length - iv.length);\n    }\n\n    private static SecretKey getSecretKey(Context context) throws Exception {\n        KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n        keyStore.load(null);\n        return (SecretKey) keyStore.getKey(KEY_ALIAS, null);\n    }\n}\n</code></pre>\n<p>If you need additional information or code let me know and I'll provide it for you.</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":288,"is_accepted":false,"score":288,"last_activity_date":1365756018,"creation_date":1365743696,"answer_id":15963575,"question_id":15963549,"body_markdown":"You can use `Collections.swap(List&lt;?&gt; list, int i, int j);`\r\n","title":"Arraylist swap elements","body":"<p>You can use <code>Collections.swap(List&lt;?&gt; list, int i, int j);</code></p>\n"},{"tags":[],"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1385356356,"creation_date":1365743792,"answer_id":15963597,"question_id":15963549,"body_markdown":"Use like this. Here is the online compilation of the code. Take a look http://ideone.com/MJJwtc   \r\n\r\n    public static void swap(List list,\r\n                            int i,\r\n                            int j)\r\n\r\nSwaps the elements at the specified positions in the specified list. (If the specified positions are equal, invoking this method leaves the list unchanged.)\r\n\r\nParameters:\r\n    list - The list in which to swap elements.\r\n    i - the index of one element to be swapped.\r\n    j - the index of the other element to be swapped. \r\n\r\nRead The official Docs of collection\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws java.lang.Exception       \r\n        {    \r\n            //create an ArrayList object\r\n            ArrayList words = new ArrayList();\r\n    \r\n            //Add elements to Arraylist\r\n            words.add(&quot;A&quot;);\r\n            words.add(&quot;B&quot;);\r\n            words.add(&quot;C&quot;);\r\n            words.add(&quot;D&quot;);\r\n            words.add(&quot;E&quot;);\r\n    \r\n            System.out.println(&quot;Before swaping, ArrayList contains : &quot; + words);\r\n    \r\n            /*\r\n          To swap elements of Java ArrayList use,\r\n          static void swap(List list, int firstElement, int secondElement)\r\n          method of Collections class. Where firstElement is the index of first\r\n          element to be swapped and secondElement is the index of the second element\r\n          to be swapped.\r\n         \r\n          If the specified positions are equal, list remains unchanged.\r\n         \r\n          Please note that, this method can throw IndexOutOfBoundsException if\r\n          any of the index values is not in range.        */\r\n    \r\n            Collections.swap(words, 0, words.size() - 1);\r\n    \r\n            System.out.println(&quot;After swaping, ArrayList contains : &quot; + words);    \r\n    \r\n        }\r\n    }\r\n\r\n**Oneline compilation example http://ideone.com/MJJwtc**   \r\n\r\n","title":"Arraylist swap elements","body":"<p>Use like this. Here is the online compilation of the code. Take a look <a href=\"http://ideone.com/MJJwtc\" rel=\"noreferrer\">http://ideone.com/MJJwtc</a>   </p>\n\n<pre><code>public static void swap(List list,\n                        int i,\n                        int j)\n</code></pre>\n\n<p>Swaps the elements at the specified positions in the specified list. (If the specified positions are equal, invoking this method leaves the list unchanged.)</p>\n\n<p>Parameters:\n    list - The list in which to swap elements.\n    i - the index of one element to be swapped.\n    j - the index of the other element to be swapped. </p>\n\n<p>Read The official Docs of collection</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#swap%28java.util.List,%20int,%20int%29</a></p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\n\nclass Main {\n    public static void main(String[] args) throws java.lang.Exception       \n    {    \n        //create an ArrayList object\n        ArrayList words = new ArrayList();\n\n        //Add elements to Arraylist\n        words.add(\"A\");\n        words.add(\"B\");\n        words.add(\"C\");\n        words.add(\"D\");\n        words.add(\"E\");\n\n        System.out.println(\"Before swaping, ArrayList contains : \" + words);\n\n        /*\n      To swap elements of Java ArrayList use,\n      static void swap(List list, int firstElement, int secondElement)\n      method of Collections class. Where firstElement is the index of first\n      element to be swapped and secondElement is the index of the second element\n      to be swapped.\n\n      If the specified positions are equal, list remains unchanged.\n\n      Please note that, this method can throw IndexOutOfBoundsException if\n      any of the index values is not in range.        */\n\n        Collections.swap(words, 0, words.size() - 1);\n\n        System.out.println(\"After swaping, ArrayList contains : \" + words);    \n\n    }\n}\n</code></pre>\n\n<p><strong>Oneline compilation example <a href=\"http://ideone.com/MJJwtc\" rel=\"noreferrer\">http://ideone.com/MJJwtc</a></strong>   </p>\n"},{"tags":[],"owner":{"account_id":339463,"reputation":11888,"user_id":668963,"accept_rate":87,"display_name":"neevek"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1365743894,"creation_date":1365743894,"answer_id":15963622,"question_id":15963549,"body_markdown":"In Java, you cannot set a value in ArrayList by assigning to it, there&#39;s a `set()` method to call:\r\n\r\n    String a = words.get(0);\r\n    words.set(0, words.get(words.size() - 1));\r\n    words.set(words.size() - 1, a)","title":"Arraylist swap elements","body":"<p>In Java, you cannot set a value in ArrayList by assigning to it, there's a <code>set()</code> method to call:</p>\n\n<pre><code>String a = words.get(0);\nwords.set(0, words.get(words.size() - 1));\nwords.set(words.size() - 1, a)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4320263,"reputation":45,"user_id":3528738,"display_name":"Pankaj"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1406359032,"creation_date":1406357875,"answer_id":24968456,"question_id":15963549,"body_markdown":"\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\tif (i &lt; list.size() - 1) {\r\n\t\t\t\tif (list.get(i) &gt; list.get(i + 1)) {\r\n\t\t\t\t\tint j = list.get(i);\r\n\t\t\t\t\tlist.remove(i);\r\n\t\t\t\t\tlist.add(i, list.get(i));\r\n\t\t\t\t\tlist.remove(i + 1);\r\n\t\t\t\t\tlist.add(j);\r\n\t\t\t\t\ti = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"Arraylist swap elements","body":"<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n        if (i &lt; list.size() - 1) {\n            if (list.get(i) &gt; list.get(i + 1)) {\n                int j = list.get(i);\n                list.remove(i);\n                list.add(i, list.get(i));\n                list.remove(i + 1);\n                list.add(j);\n                i = -1;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2605328,"reputation":1007,"user_id":2256602,"accept_rate":0,"display_name":"qvd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163146,"favorite_count":0,"down_vote_count":2,"up_vote_count":91,"answer_count":4,"score":89,"last_activity_date":1692180681,"creation_date":1365743564,"question_id":15963549,"body_markdown":"How do I swap the the first and last elements of an `ArrayList`?\r\nI know how to swap the elements of an array: setting a temporary value to store the first element, letting the first element equal the last element, then letting the last element equal the stored first element.\r\n\r\n    int a = values[0];\r\n    int n = values.length;\r\n    values[0] = values[n-1];\r\n    values[n-1] = a;\r\n\r\nSo for an `ArrayList&lt;String&gt;` would it be like this?\r\r\n\n    String a = words.get(0);\r\n    int n = words.size();\r\n    words.get(0) = words.get(n-1);\r\n    words.get(n-1) = a\r\n","title":"Arraylist swap elements","body":"<p>How do I swap the the first and last elements of an <code>ArrayList</code>?\nI know how to swap the elements of an array: setting a temporary value to store the first element, letting the first element equal the last element, then letting the last element equal the stored first element.</p>\n\n<pre><code>int a = values[0];\nint n = values.length;\nvalues[0] = values[n-1];\nvalues[n-1] = a;\n</code></pre>\n\n<p>So for an <code>ArrayList&lt;String&gt;</code> would it be like this?</p>\n\n<pre><code>String a = words.get(0);\nint n = words.size();\nwords.get(0) = words.get(n-1);\nwords.get(n-1) = a\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692174867,"post_id":76911794,"comment_id":135586686,"body_markdown":"Why share a topic between post and comment? Multiplexing them on different partitions seems kinda hacky and not future-proof.","body":"Why share a topic between post and comment? Multiplexing them on different partitions seems kinda hacky and not future-proof."},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1692174973,"post_id":76911794,"comment_id":135586701,"body_markdown":"@Kayaman yeah it&#39;s better to separate topic for posts and comments however this is dummy project for learning purpose I&#39;m just curious if I will be able to do this or not","body":"@Kayaman yeah it&#39;s better to separate topic for posts and comments however this is dummy project for learning purpose I&#39;m just curious if I will be able to do this or not"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692175179,"post_id":76911794,"comment_id":135586741,"body_markdown":"Did you try it?","body":"Did you try it?"}],"answers":[{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692180484,"creation_date":1692180484,"answer_id":76912562,"question_id":76911794,"body_markdown":"Yes, you can process messages from different partitions of the same topic using Kafka listeners in Spring Kafka. In your case, you have defined two Kafka listeners, each processing messages from different partitions of the same topic (KafkaTopic.POST).\r\n\r\nThe @KafkaListener annotation allows you to specify both the topic and the partitions from which you want to consume messages. Since you&#39;re using different partitions for posts and comments (KafkaPartition.POST and KafkaPartition.COMMENT), your Kafka listeners will be able to process messages concurrently from those partitions.","title":"Spring Kafka, can I have 2 message consumers with the same topic in the same class (bean)","body":"<p>Yes, you can process messages from different partitions of the same topic using Kafka listeners in Spring Kafka. In your case, you have defined two Kafka listeners, each processing messages from different partitions of the same topic (KafkaTopic.POST).</p>\n<p>The @KafkaListener annotation allows you to specify both the topic and the partitions from which you want to consume messages. Since you're using different partitions for posts and comments (KafkaPartition.POST and KafkaPartition.COMMENT), your Kafka listeners will be able to process messages concurrently from those partitions.</p>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692180484,"creation_date":1692174515,"question_id":76911794,"body_markdown":"I&#39;m implementing social media platform for learning purpose. So basically I have Posts and Comments entities. I want to use the same topic `KafkaTopic.POST` but difference partition `KafkaPartition.POST, KafkaPartition.COMMENT`. I wonder if it will be able to process 2 messages `POST` and `COMMENT` at the same time or not when defining it in the same bean?\r\n\r\n\r\n    @Component\r\n    public class PostListener {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(PostListener.class);\r\n        private final PostService postService;\r\n    \r\n        private final CommentService commentService;\r\n    \r\n        public PostListener(PostService postService, CommentService commentService) {\r\n            this.postService = postService;\r\n            this.commentService = commentService;\r\n        }\r\n    \r\n        @KafkaListener(topics = KafkaTopic.POST,\r\n                         groupId = KafkaGroup.POST_GROUP,\r\n                         topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.POST })})\r\n        public void on(@Payload PostPayload payload,\r\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\n            postService.createPost(payload.getSenderId(), payload.getContent(), timestamp)\r\n                       .subscribe();\r\n        }\r\n    \r\n        @KafkaListener(topics = KafkaTopic.POST,\r\n                         groupId = KafkaGroup.POST_GROUP,\r\n                         topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.COMMENT })})\r\n        public void on(@Payload CommentPayload payload,\r\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\n            commentService.createComment(payload.getPostId(), payload.getSenderId(), payload.getContent(), timestamp)\r\n                          .subscribe();\r\n        }\r\n    }\r\n\r\n","title":"Spring Kafka, can I have 2 message consumers with the same topic in the same class (bean)","body":"<p>I'm implementing social media platform for learning purpose. So basically I have Posts and Comments entities. I want to use the same topic <code>KafkaTopic.POST</code> but difference partition <code>KafkaPartition.POST, KafkaPartition.COMMENT</code>. I wonder if it will be able to process 2 messages <code>POST</code> and <code>COMMENT</code> at the same time or not when defining it in the same bean?</p>\n<pre><code>@Component\npublic class PostListener {\n\n    private static final Logger logger = LoggerFactory.getLogger(PostListener.class);\n    private final PostService postService;\n\n    private final CommentService commentService;\n\n    public PostListener(PostService postService, CommentService commentService) {\n        this.postService = postService;\n        this.commentService = commentService;\n    }\n\n    @KafkaListener(topics = KafkaTopic.POST,\n                     groupId = KafkaGroup.POST_GROUP,\n                     topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.POST })})\n    public void on(@Payload PostPayload payload,\n                   @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n\n        postService.createPost(payload.getSenderId(), payload.getContent(), timestamp)\n                   .subscribe();\n    }\n\n    @KafkaListener(topics = KafkaTopic.POST,\n                     groupId = KafkaGroup.POST_GROUP,\n                     topicPartitions = { @TopicPartition(topic = KafkaTopic.POST, partitions = { KafkaPartition.COMMENT })})\n    public void on(@Payload CommentPayload payload,\n                   @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n\n        commentService.createComment(payload.getPostId(), payload.getSenderId(), payload.getContent(), timestamp)\n                      .subscribe();\n    }\n}\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":2,"creation_date":1689246141,"post_id":76678562,"comment_id":135187629,"body_markdown":"Are there any additional constraints, such as the array (except for the -1) being sorted in ascending/descending order? Otherwise it is impossible to get better than a linear search: You *have* to look at every position in the array to tell where the -1 is.","body":"Are there any additional constraints, such as the array (except for the -1) being sorted in ascending/descending order? Otherwise it is impossible to get better than a linear search: You <i>have</i> to look at every position in the array to tell where the -1 is."},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1689246261,"post_id":76678562,"comment_id":135187661,"body_markdown":"@Luatic there is no specific  ordering of elements","body":"@Luatic there is no specific  ordering of elements"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1689247543,"post_id":76678562,"comment_id":135187952,"body_markdown":"Unclear. Do you mean that the array contains exactly 1000000 elements, with one each of every value from 1 to 1000000?","body":"Unclear. Do you mean that the array contains exactly 1000000 elements, with one each of every value from 1 to 1000000?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689288754,"post_id":76678562,"comment_id":135196333,"body_markdown":"By the way, if there is a web page that states the original problem, it would be a good idea to edit the question to include a link to that page.  Questions like this might be on programming practice / challenge sites, such as LeetCode, CodeSignal, HackerRank, ...","body":"By the way, if there is a web page that states the original problem, it would be a good idea to edit the question to include a link to that page.  Questions like this might be on programming practice / challenge sites, such as LeetCode, CodeSignal, HackerRank, ..."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689294093,"post_id":76678562,"comment_id":135196784,"body_markdown":"@OldDogProgrammer No, it would be good practice to *quote the web page here.*","body":"@OldDogProgrammer No, it would be good practice to <i>quote the web page here.</i>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1689296830,"post_id":76678562,"comment_id":135196989,"body_markdown":"@user207421 I didn&#39;t intend to mean &quot;either or&quot;. I think *both* is a good idea.","body":"@user207421 I didn&#39;t intend to mean &quot;either or&quot;. I think <i>both</i> is a good idea."}],"answers":[{"tags":[],"owner":{"account_id":27349436,"reputation":156,"user_id":20858835,"display_name":"ECHU"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689246391,"creation_date":1689246391,"answer_id":76678673,"question_id":76678562,"body_markdown":"I assume that array is not sorted.\r\n\r\nYou can calculate the sum of an arithmetic sequence and in one loop subtract every element from this sum.\r\n\r\nAnswer is value of sum variable-1 (because we subtract -1 from array somewhere)","title":"Quickest way to find the replaced number","body":"<p>I assume that array is not sorted.</p>\n<p>You can calculate the sum of an arithmetic sequence and in one loop subtract every element from this sum.</p>\n<p>Answer is value of sum variable-1 (because we subtract -1 from array somewhere)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689261186,"creation_date":1689261186,"answer_id":76680958,"question_id":76678562,"body_markdown":"Try it like this.\r\n- populate the numbers in a list.\r\n- shuffle them (to make the choice random).\r\n- replace any index with -1 (returning the original value)\r\n- Now compute the sum of numbers from 1 to 1,000,000 inclusive.\r\n- then iterate thru the list, subtracting each number in the list from that sum.\r\n- then correct the subtraction of `-1` by adding `1` to the sum\r\n- sum now contains the replaced number\r\n```\r\nint n = 1_000_000;\r\nList&lt;Integer&gt; list = IntStream.rangeClosed(1, n).boxed()\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n\r\nCollections.shuffle(list);\r\n\r\nint index = 132939; // select a value between 1 and 1,000,000 inclusive\r\n\r\nint originalValue = list.set(index, -1);\r\nlong sum = ((long)n*(n+1))/2L;\r\n\r\nfor (int i = 0; i &lt; list.size();i++) {\r\n      sum -= list.get(i);\r\n}\r\n\r\nSystem.out.println(sum - 1);\r\nSystem.out.println(originalValue);\r\n```\r\nprints\r\n```\r\n351316\r\n351316\r\n        ","title":"Quickest way to find the replaced number","body":"<p>Try it like this.</p>\n<ul>\n<li>populate the numbers in a list.</li>\n<li>shuffle them (to make the choice random).</li>\n<li>replace any index with -1 (returning the original value)</li>\n<li>Now compute the sum of numbers from 1 to 1,000,000 inclusive.</li>\n<li>then iterate thru the list, subtracting each number in the list from that sum.</li>\n<li>then correct the subtraction of <code>-1</code> by adding <code>1</code> to the sum</li>\n<li>sum now contains the replaced number</li>\n</ul>\n<pre><code>int n = 1_000_000;\nList&lt;Integer&gt; list = IntStream.rangeClosed(1, n).boxed()\n        .collect(Collectors.toCollection(ArrayList::new));\n\nCollections.shuffle(list);\n\nint index = 132939; // select a value between 1 and 1,000,000 inclusive\n\nint originalValue = list.set(index, -1);\nlong sum = ((long)n*(n+1))/2L;\n\nfor (int i = 0; i &lt; list.size();i++) {\n      sum -= list.get(i);\n}\n\nSystem.out.println(sum - 1);\nSystem.out.println(originalValue);\n</code></pre>\n<p>prints</p>\n<pre><code>351316\n351316\n        \n</code></pre>\n"}],"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1692180244,"creation_date":1689245583,"question_id":76678562,"body_markdown":"Let&#39;s say we have an Integer array with values from 1 to 1000000. Suppose a single number is replaced with &#39;-1&#39;. What is the quickest way to find the number that is replaced? Is there a better way apart from the normal looping/searching linearly? \r\n\r\nPlease note the size of the array can be anything, the above is just an example to consider data of large size. Consider the array size as &quot;N&quot; containing the values from 1 to N.","title":"Quickest way to find the replaced number","body":"<p>Let's say we have an Integer array with values from 1 to 1000000. Suppose a single number is replaced with '-1'. What is the quickest way to find the number that is replaced? Is there a better way apart from the normal looping/searching linearly?</p>\n<p>Please note the size of the array can be anything, the above is just an example to consider data of large size. Consider the array size as &quot;N&quot; containing the values from 1 to N.</p>\n"},{"tags":["java","java-time","fabric8","zoneddatetime","fabric8-maven-plugin"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1691480332,"post_id":76857285,"comment_id":135493551,"body_markdown":"A zone is more than just an offset, so you may want to switch to `java.time.OffsetDateTime`.","body":"A zone is more than just an offset, so you may want to switch to <code>java.time.OffsetDateTime</code>."},{"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"score":0,"creation_date":1691481695,"post_id":76857285,"comment_id":135493834,"body_markdown":"How do I do that? The Java code is autogenerated.","body":"How do I do that? The Java code is autogenerated."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1691484099,"post_id":76857285,"comment_id":135494352,"body_markdown":"That&#39;s a good question, I have no idea… Hopefully, it is in the docs of fabric8.","body":"That&#39;s a good question, I have no idea… Hopefully, it is in the docs of fabric8."},{"owner":{"account_id":979180,"reputation":2929,"user_id":999375,"display_name":"Marc Nuri"},"score":1,"creation_date":1691587029,"post_id":76857285,"comment_id":135511619,"body_markdown":"This is not supported at the moment, the field format is hard-coded.\nhttps://github.com/fabric8io/kubernetes-client/blob/a7c630bbd368a976d6b0e72287dcf4f7348c54bd/java-generator/core/src/main/java/io/fabric8/java/generator/nodes/JObject.java#L221","body":"This is not supported at the moment, the field format is hard-coded. <a href=\"https://github.com/fabric8io/kubernetes-client/blob/a7c630bbd368a976d6b0e72287dcf4f7348c54bd/java-generator/core/src/main/java/io/fabric8/java/generator/nodes/JObject.java#L221\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691588819,"creation_date":1691588819,"answer_id":76868397,"question_id":76857285,"body_markdown":"This is not possible at the moment in the fabric8 java-generator.\r\nA date-time field should be RFC 3339 according to the [OpenAPI spec](https://swagger.io/docs/specification/data-models/data-types/).\r\n\r\nWould you mind elaborating on the use-case/project that is emitting the incorrect date format?\r\n\r\nAnyhow, the viable workaround would be to comment out `format: date-time` in the CRD before the generation, so that you can receive a `String`.\r\n\r\nNote on the version:\r\nI do believe that you are using java-generator with version &gt; 6.8 as native support for date-time has only been [recently released](https://github.com/fabric8io/kubernetes-client/releases/tag/v6.8.0).","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>This is not possible at the moment in the fabric8 java-generator.\nA date-time field should be RFC 3339 according to the <a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow noreferrer\">OpenAPI spec</a>.</p>\n<p>Would you mind elaborating on the use-case/project that is emitting the incorrect date format?</p>\n<p>Anyhow, the viable workaround would be to comment out <code>format: date-time</code> in the CRD before the generation, so that you can receive a <code>String</code>.</p>\n<p>Note on the version:\nI do believe that you are using java-generator with version &gt; 6.8 as native support for date-time has only been <a href=\"https://github.com/fabric8io/kubernetes-client/releases/tag/v6.8.0\" rel=\"nofollow noreferrer\">recently released</a>.</p>\n"},{"tags":[],"owner":{"account_id":10732353,"reputation":106,"user_id":7898052,"display_name":"andreaTP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692179786,"creation_date":1692179786,"answer_id":76912483,"question_id":76857285,"body_markdown":"Version 6.8.1 of the fabric8 java-generator has been released and includes the relevant fix for this issue.","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>Version 6.8.1 of the fabric8 java-generator has been released and includes the relevant fix for this issue.</p>\n"}],"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912483,"answer_count":2,"score":0,"last_activity_date":1692179786,"creation_date":1691479422,"question_id":76857285,"body_markdown":"I am using fabric8 maven plugin to autogenerate Java classes for a CRD from it&#39;s yaml file. One of the fields is:\r\n\r\n    updated_time:\r\n      format: date-time\r\n      type: string\r\n\r\nIt&#39;s getting converted to a `java.time.zoneddatetime` field:\r\n\r\n    @com.fasterxml.jackson.annotation.JsonFormat(timezone = &quot;UTC&quot;, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;)\r\n    private java.time.ZonedDateTime updated_time;\r\n\r\nI want to change the pattern above to `yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX` , a timestamp with offset, so it can parse timestamps like  `2023-08-07T06:43:19+00:00`.\r\nHow can I achieve this? On java-generator-maven-plugin v6.2.0, open to upgrade.","title":"How to add a custom serializer/format for Java zoneddatetime with fabric8 maven plugin?","body":"<p>I am using fabric8 maven plugin to autogenerate Java classes for a CRD from it's yaml file. One of the fields is:</p>\n<pre><code>updated_time:\n  format: date-time\n  type: string\n</code></pre>\n<p>It's getting converted to a <code>java.time.zoneddatetime</code> field:</p>\n<pre><code>@com.fasterxml.jackson.annotation.JsonFormat(timezone = &quot;UTC&quot;, pattern = &quot;yyyy-MM-dd'T'HH:mm:ssX&quot;)\nprivate java.time.ZonedDateTime updated_time;\n</code></pre>\n<p>I want to change the pattern above to <code>yyyy-MM-dd'T'HH:mm:ssXXX</code> , a timestamp with offset, so it can parse timestamps like  <code>2023-08-07T06:43:19+00:00</code>.\nHow can I achieve this? On java-generator-maven-plugin v6.2.0, open to upgrade.</p>\n"},{"tags":["java","reactjs","react-native","debugging","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":24258537,"reputation":806,"user_id":18208472,"display_name":"Z Hu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692179038,"creation_date":1692179038,"answer_id":76912387,"question_id":76912243,"body_markdown":"&quot;Could not install the app on the device.&quot; It&#39;s clear that the Android environment hasn&#39;t been set up correctly. Refer to this [guide][1]\r\n\r\n\r\n  [1]: https://reactnative.dev/docs/environment-setup?guide=native","title":"I have a problem with my react native application. When I try to run my application, this message pops up:","body":"<p>&quot;Could not install the app on the device.&quot; It's clear that the Android environment hasn't been set up correctly. Refer to this <a href=\"https://reactnative.dev/docs/environment-setup?guide=native\" rel=\"nofollow noreferrer\">guide</a></p>\n"}],"owner":{"account_id":29235696,"reputation":11,"user_id":22398380,"display_name":"Jarvin78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692179038,"creation_date":1692178039,"question_id":76912243,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AkULZ.png)\r\n\r\n\r\nI tried add into android studio setings&gt;build, execution, deployment&gt;compiler few opction into gradle, like &quot;--stacktrace or --debug&quot; but that dont work. Give me a few solutions what i can do with this problem.                                  ","title":"I have a problem with my react native application. When I try to run my application, this message pops up:","body":"<p><a href=\"https://i.stack.imgur.com/AkULZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried add into android studio setings&gt;build, execution, deployment&gt;compiler few opction into gradle, like &quot;--stacktrace or --debug&quot; but that dont work. Give me a few solutions what i can do with this problem.</p>\n"},{"tags":["java","cucumber","testng","allure","qaf"],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692178957,"creation_date":1692178688,"question_id":76912344,"body_markdown":"Allure Report not generating in QAF framework (testng). I have configured the below config in pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\r\n    &lt;version&gt;2.23.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso added below config inside &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\r\n\r\n```\r\n&lt;allure.results.directory&gt;${project.basedir}/allure-results&lt;/allure.results.directory&gt;\r\n```\r\n\r\nNote: I do understand QAF provides inbuilt reporting, but we require this framework to be integrated to Allure.\r\n\r\nExpecting Allure reports (json) to be generated.\r\n\r\nNote: I&#39;m using QAF 4.0.0-RC1\r\n","title":"QAF Allure Report not generating","body":"<p>Allure Report not generating in QAF framework (testng). I have configured the below config in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n    &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\n    &lt;version&gt;2.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also added below config inside maven-surefire-plugin</p>\n<pre><code>&lt;allure.results.directory&gt;${project.basedir}/allure-results&lt;/allure.results.directory&gt;\n</code></pre>\n<p>Note: I do understand QAF provides inbuilt reporting, but we require this framework to be integrated to Allure.</p>\n<p>Expecting Allure reports (json) to be generated.</p>\n<p>Note: I'm using QAF 4.0.0-RC1</p>\n"},{"tags":["java","windows","maven"],"answers":[{"tags":[],"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252169,"creation_date":1689252169,"answer_id":76679521,"question_id":76664571,"body_markdown":"The environment variable MAVEN_HOME was applicable only in maven 1 [(further information here)][1].  Just define the PATH to the maven binary without using it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17137183/1820778","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<p>The environment variable MAVEN_HOME was applicable only in maven 1 <a href=\"https://stackoverflow.com/a/17137183/1820778\">(further information here)</a>.  Just define the PATH to the maven binary without using it.</p>\n"},{"tags":[],"owner":{"display_name":"user22211327"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692178861,"creation_date":1692178803,"answer_id":76912359,"question_id":76664571,"body_markdown":"Okay so I&#39;m very dumb but I finally understood what was the problem :\r\n\r\nI&#39;m using MAVEN_OPTS environnement variable to set a local proxy in maven but this variable wasn&#39;t correctly set.\r\n\r\nIt contained -Djdk.http.auth.tunneling.disabledSchemes=&#39;&#39;&quot;\r\nwhere it should have been \r\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\nor\r\n-Djdk.http.auth.tunneling.disabledSchemes=&#39;&#39;\r\n\r\nFixing this made the error disappeared.","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<p>Okay so I'm very dumb but I finally understood what was the problem :</p>\n<p>I'm using MAVEN_OPTS environnement variable to set a local proxy in maven but this variable wasn't correctly set.</p>\n<p>It contained -Djdk.http.auth.tunneling.disabledSchemes=''&quot;\nwhere it should have been\n-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\nor\n-Djdk.http.auth.tunneling.disabledSchemes=''</p>\n<p>Fixing this made the error disappeared.</p>\n"}],"owner":{"display_name":"user22211327"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76912359,"answer_count":2,"score":0,"last_activity_date":1692178861,"creation_date":1689097761,"question_id":76664571,"body_markdown":"# The problem\r\nHello, I have maven and Java installed at the specified path and my env fully set up like so: \r\n[environment variables][1]\r\n\r\nWith my path being : \r\n[path][2]\r\n\r\njava -version runs perfectly but I constently get this error when typing any mvn command : \r\n```\r\nc:\\Program Files\\Java&gt;mvn -version\r\nUsage: java [options] &lt;mainclass&gt; [args...]\r\n           (to execute a class)\r\n   or  java [options] -jar &lt;jarfile&gt; [args...]\r\n           (to execute a jar file)\r\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\r\n           (to execute the main class in a module)\r\n   or  java [options] &lt;sourcefile&gt; [args]\r\n           (to execute a single source-file program)\r\n\r\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\r\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\r\n main class.\r\n\r\n where options include:\r\n\r\n    -cp &lt;class search path of directories and zip/jar files&gt;\r\n    -classpath &lt;class search path of directories and zip/jar files&gt;\r\n    --class-path &lt;class search path of directories and zip/jar files&gt;\r\n                  A ; separated list of directories, JAR archives,\r\n                  and ZIP archives to search for class files.\r\n    -p &lt;module path&gt;\r\n    --module-path &lt;module path&gt;...\r\n                  A ; separated list of directories, each directory\r\n                  is a directory of modules.\r\n    --upgrade-module-path &lt;module path&gt;...\r\n                  A ; separated list of directories, each directory\r\n                  is a directory of modules that replace upgradeable\r\n                  modules in the runtime image\r\n    --add-modules &lt;module name&gt;[,&lt;module name&gt;...]\r\n                  root modules to resolve in addition to the initial module.\r\n                  &lt;module name&gt; can also be ALL-DEFAULT, ALL-SYSTEM,\r\n                  ALL-MODULE-PATH.\r\n    --enable-native-access &lt;module name&gt;[,&lt;module name&gt;...]\r\n                  modules that are permitted to perform restricted native operations.\r\n                  &lt;module name&gt; can also be ALL-UNNAMED.\r\n    --list-modules\r\n                  list observable modules and exit\r\n    -d &lt;module name&gt;\r\n    --describe-module &lt;module name&gt;\r\n                  describe a module and exit\r\n    --dry-run     create VM and load main class but do not execute main method.\r\n                  The --dry-run option may be useful for validating the\r\n                  command-line options such as the module system configuration.\r\n    --validate-modules\r\n                  validate all modules and exit\r\n                  The --validate-modules option may be useful for finding\r\n                  conflicts and other errors with modules on the module path.\r\n    -D&lt;name&gt;=&lt;value&gt;\r\n                  set a system property\r\n    -verbose:[class|module|gc|jni]\r\n                  enable verbose output for the given subsystem\r\n    -version      print product version to the error stream and exit\r\n    --version     print product version to the output stream and exit\r\n    -showversion  print product version to the error stream and continue\r\n    --show-version\r\n                  print product version to the output stream and continue\r\n    --show-module-resolution\r\n                  show module resolution output during startup\r\n    -? -h -help\r\n                  print this help message to the error stream\r\n    --help        print this help message to the output stream\r\n    -X            print help on extra options to the error stream\r\n    --help-extra  print help on extra options to the output stream\r\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                  enable assertions with specified granularity\r\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                  disable assertions with specified granularity\r\n    -esa | -enablesystemassertions\r\n                  enable system assertions\r\n    -dsa | -disablesystemassertions\r\n                  disable system assertions\r\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\r\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:jdwp\r\n                  see also -agentlib:jdwp=help\r\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\r\n                  load native agent library by full pathname\r\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\r\n                  load Java programming language agent, see java.lang.instrument\r\n    -splash:&lt;imagepath&gt;\r\n                  show splash screen with specified image\r\n                  HiDPI scaled images are automatically supported and used\r\n                  if available. The unscaled image filename, e.g. image.ext,\r\n                  should always be passed as the argument to the -splash option.\r\n                  The most appropriate scaled image provided will be picked up\r\n                  automatically.\r\n                  See the SplashScreen API documentation for more information\r\n    @argument files\r\n                  one or more argument files containing options\r\n    -disable-@files\r\n                  prevent further argument file expansion\r\n    --enable-preview\r\n                  allow classes to depend on preview features of this release\r\nTo specify an argument for a long option, you can use --&lt;name&gt;=&lt;value&gt; or\r\n--&lt;name&gt; &lt;value&gt;.\r\n\r\n&#39; &#39; n’est pas reconnu en tant que commande interne\r\nou externe, un programme ex&#233;cutable ou un fichier de commandes.\r\n\r\nc:\\Program Files\\Java&gt;java -version\r\njava version &quot;17.0.7&quot; 2023-04-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing) \r\n```\r\n\r\n# What I tried \r\n\r\nI already tried changing java version, maven version, put java in a no-white-space path folder, I have installed maven at least 100 times by now and the same error persists. \r\n\r\nWith the same configuration in git bash I don&#39;t have any problem but it doesn&#39;t work in windows command prompt. \r\n[mvn -version result in git bash][6]\r\n\r\nTrying launching the command directly from C:\\Dev\\Programmes\\apache-maven-3.8.8\\bin got the same results such as \r\n```\r\n%maven_home%\\bin\\mvn -version\r\n```\r\n\r\nThe same configuration works perfectly fine on my other computer.\r\n\r\nYou should also notice that **if maven wasn&#39;t correctly set it would probably give me the classic &quot;&#39;mvn&#39; is not recognized&quot;, where I actually get &quot;&#39; &#39; is not recognized&quot;** which is really weird.\r\n\r\nI really don&#39;t understand what is happening, but I really need to make it work in the windows cmd, and this just upset me so much, does anyone has a clue please ? :( \r\n\r\n  [1]: https://i.stack.imgur.com/g9nPI.png\r\n  [2]: https://i.stack.imgur.com/KWlef.png\r\n  [3]: https://i.stack.imgur.com/LxJqU.png\r\n  [4]: https://i.stack.imgur.com/SfcVj.png\r\n  [5]: https://i.stack.imgur.com/tXUk9.png\r\n  [6]: https://i.stack.imgur.com/bkqaQ.png","title":"mvn commands always get java error with &#39; &#39; not recognized as an internal or external command","body":"<h1>The problem</h1>\n<p>Hello, I have maven and Java installed at the specified path and my env fully set up like so:\n<a href=\"https://i.stack.imgur.com/g9nPI.png\" rel=\"nofollow noreferrer\">environment variables</a></p>\n<p>With my path being :\n<a href=\"https://i.stack.imgur.com/KWlef.png\" rel=\"nofollow noreferrer\">path</a></p>\n<p>java -version runs perfectly but I constently get this error when typing any mvn command :</p>\n<pre><code>c:\\Program Files\\Java&gt;mvn -version\nUsage: java [options] &lt;mainclass&gt; [args...]\n           (to execute a class)\n   or  java [options] -jar &lt;jarfile&gt; [args...]\n           (to execute a jar file)\n   or  java [options] -m &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n       java [options] --module &lt;module&gt;[/&lt;mainclass&gt;] [args...]\n           (to execute the main class in a module)\n   or  java [options] &lt;sourcefile&gt; [args]\n           (to execute a single source-file program)\n\n Arguments following the main class, source file, -jar &lt;jarfile&gt;,\n -m or --module &lt;module&gt;/&lt;mainclass&gt; are passed as the arguments to\n main class.\n\n where options include:\n\n    -cp &lt;class search path of directories and zip/jar files&gt;\n    -classpath &lt;class search path of directories and zip/jar files&gt;\n    --class-path &lt;class search path of directories and zip/jar files&gt;\n                  A ; separated list of directories, JAR archives,\n                  and ZIP archives to search for class files.\n    -p &lt;module path&gt;\n    --module-path &lt;module path&gt;...\n                  A ; separated list of directories, each directory\n                  is a directory of modules.\n    --upgrade-module-path &lt;module path&gt;...\n                  A ; separated list of directories, each directory\n                  is a directory of modules that replace upgradeable\n                  modules in the runtime image\n    --add-modules &lt;module name&gt;[,&lt;module name&gt;...]\n                  root modules to resolve in addition to the initial module.\n                  &lt;module name&gt; can also be ALL-DEFAULT, ALL-SYSTEM,\n                  ALL-MODULE-PATH.\n    --enable-native-access &lt;module name&gt;[,&lt;module name&gt;...]\n                  modules that are permitted to perform restricted native operations.\n                  &lt;module name&gt; can also be ALL-UNNAMED.\n    --list-modules\n                  list observable modules and exit\n    -d &lt;module name&gt;\n    --describe-module &lt;module name&gt;\n                  describe a module and exit\n    --dry-run     create VM and load main class but do not execute main method.\n                  The --dry-run option may be useful for validating the\n                  command-line options such as the module system configuration.\n    --validate-modules\n                  validate all modules and exit\n                  The --validate-modules option may be useful for finding\n                  conflicts and other errors with modules on the module path.\n    -D&lt;name&gt;=&lt;value&gt;\n                  set a system property\n    -verbose:[class|module|gc|jni]\n                  enable verbose output for the given subsystem\n    -version      print product version to the error stream and exit\n    --version     print product version to the output stream and exit\n    -showversion  print product version to the error stream and continue\n    --show-version\n                  print product version to the output stream and continue\n    --show-module-resolution\n                  show module resolution output during startup\n    -? -h -help\n                  print this help message to the error stream\n    --help        print this help message to the output stream\n    -X            print help on extra options to the error stream\n    --help-extra  print help on extra options to the output stream\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  enable assertions with specified granularity\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  disable assertions with specified granularity\n    -esa | -enablesystemassertions\n                  enable system assertions\n    -dsa | -disablesystemassertions\n                  disable system assertions\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\n                  load native agent library &lt;libname&gt;, e.g. -agentlib:jdwp\n                  see also -agentlib:jdwp=help\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\n                  load native agent library by full pathname\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\n                  load Java programming language agent, see java.lang.instrument\n    -splash:&lt;imagepath&gt;\n                  show splash screen with specified image\n                  HiDPI scaled images are automatically supported and used\n                  if available. The unscaled image filename, e.g. image.ext,\n                  should always be passed as the argument to the -splash option.\n                  The most appropriate scaled image provided will be picked up\n                  automatically.\n                  See the SplashScreen API documentation for more information\n    @argument files\n                  one or more argument files containing options\n    -disable-@files\n                  prevent further argument file expansion\n    --enable-preview\n                  allow classes to depend on preview features of this release\nTo specify an argument for a long option, you can use --&lt;name&gt;=&lt;value&gt; or\n--&lt;name&gt; &lt;value&gt;.\n\n' ' n’est pas reconnu en tant que commande interne\nou externe, un programme exécutable ou un fichier de commandes.\n\nc:\\Program Files\\Java&gt;java -version\njava version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing) \n</code></pre>\n<h1>What I tried</h1>\n<p>I already tried changing java version, maven version, put java in a no-white-space path folder, I have installed maven at least 100 times by now and the same error persists.</p>\n<p>With the same configuration in git bash I don't have any problem but it doesn't work in windows command prompt.\n<a href=\"https://i.stack.imgur.com/bkqaQ.png\" rel=\"nofollow noreferrer\">mvn -version result in git bash</a></p>\n<p>Trying launching the command directly from C:\\Dev\\Programmes\\apache-maven-3.8.8\\bin got the same results such as</p>\n<pre><code>%maven_home%\\bin\\mvn -version\n</code></pre>\n<p>The same configuration works perfectly fine on my other computer.</p>\n<p>You should also notice that <strong>if maven wasn't correctly set it would probably give me the classic &quot;'mvn' is not recognized&quot;, where I actually get &quot;' ' is not recognized&quot;</strong> which is really weird.</p>\n<p>I really don't understand what is happening, but I really need to make it work in the windows cmd, and this just upset me so much, does anyone has a clue please ? :(</p>\n"},{"tags":["java","spring","solr","dependencies"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692178987,"post_id":76912329,"comment_id":135587525,"body_markdown":"You are mixing Spring Boot 3.1 and 2.4 modules. That isn&#39;t goig to work. SOLR support has been dropped long time ago as well as maintaining Spring Data SOLR (https://spring.io/projects/spring-data-solr). Hence it isn&#39;t going to work with Spring Boot 3.1.","body":"You are mixing Spring Boot 3.1 and 2.4 modules. That isn&#39;t goig to work. SOLR support has been dropped long time ago as well as maintaining Spring Data SOLR (<a href=\"https://spring.io/projects/spring-data-solr\" rel=\"nofollow noreferrer\">spring.io/projects/spring-data-solr</a>). Hence it isn&#39;t going to work with Spring Boot 3.1."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692179264,"post_id":76912329,"comment_id":135587572,"body_markdown":"@M.Deinum so I should drop the spring-boot-starter-data-solr or downgrade the spring boot 3.1?","body":"@M.Deinum so I should drop the spring-boot-starter-data-solr or downgrade the spring boot 3.1?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692179313,"post_id":76912329,"comment_id":135587591,"body_markdown":"That is for you to decide. Spring Boot 2.4 isn&#39;t supported anymore as well. Read the link (and links in that link) as what to use (ElasticSearch for instance) instead of Solr.","body":"That is for you to decide. Spring Boot 2.4 isn&#39;t supported anymore as well. Read the link (and links in that link) as what to use (ElasticSearch for instance) instead of Solr."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692179538,"post_id":76912329,"comment_id":135587645,"body_markdown":"So basically I am stuck because I really need to use Solr","body":"So basically I am stuck because I really need to use Solr"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692179664,"post_id":76912329,"comment_id":135587670,"body_markdown":"Well downgrade to Spring Boot 2.4, but really reconsider SOLR. As Spring Data SOLR has been abandonded for quite some time already, ad Spring Boot 2.4 has been out of support for some time as well.","body":"Well downgrade to Spring Boot 2.4, but really reconsider SOLR. As Spring Data SOLR has been abandonded for quite some time already, ad Spring Boot 2.4 has been out of support for some time as well."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692183957,"post_id":76912329,"comment_id":135588505,"body_markdown":"I will reconsider SOLR but thank you for the help.","body":"I will reconsider SOLR but thank you for the help."},{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1692208658,"post_id":76912329,"comment_id":135593698,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254937/discussion-between-cosmin-drgusanu-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254937/discussion-between-cosmin-drgusanu-and-m-deinum\">continue this discussion in chat</a>."}],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692178590,"creation_date":1692178590,"question_id":76912329,"body_markdown":"After I added the dependencies to my app, I am trying to set the host for the solr connection  in my application.properties file but it tells me that the configuration property is not recognised.\r\nThese are my dependencies:\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI am suspecting that it is because of dependency missmatches but I have tried all possible versions.\r\nI say that because when I am running the app I am getting the EntityInstantiators NoClassFound exception which is related to component&#39;s versions missmatch.","title":"Cannot resolve configuration property &#39;spring.data.solr.host&#39;","body":"<p>After I added the dependencies to my app, I am trying to set the host for the solr connection  in my application.properties file but it tells me that the configuration property is not recognised.\nThese are my dependencies:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\n            &lt;version&gt;4.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-solr&lt;/artifactId&gt;\n            &lt;version&gt;2.4.13&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I am suspecting that it is because of dependency missmatches but I have tried all possible versions.\nI say that because when I am running the app I am getting the EntityInstantiators NoClassFound exception which is related to component's versions missmatch.</p>\n"},{"tags":["java","string","lowercase"],"answers":[{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271329463,"creation_date":1271329463,"answer_id":2644665,"question_id":2644637,"body_markdown":"This is probably faster:\r\n\r\n    for(int i=0,l=strings.size();i&lt;l;++i)\r\n    {\r\n      strings.set(i, strings.get(i).toLowerCase());\r\n    }\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>This is probably faster:</p>\n\n<pre><code>for(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.set(i, strings.get(i).toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1271329803,"creation_date":1271329803,"answer_id":2644697,"question_id":2644637,"body_markdown":"Well, there is no real elegant solution due to two facts:\r\n\r\n -  `String`s in Java are immutable\r\n - Java gives you no real nice `map(f, list)` function as you have in functional languages.\r\n\r\nAsymptotically speaking, you can&#39;t get a better run time than your current method. You will have to create a new string using `toLowerCase()` and you will need to iterate by yourself over the list and generate each new lower-case string, replacing it with the existing one.","title":"How to lowercase every element of a collection efficiently?","body":"<p>Well, there is no real elegant solution due to two facts:</p>\n\n<ul>\n<li><code>String</code>s in Java are immutable</li>\n<li>Java gives you no real nice <code>map(f, list)</code> function as you have in functional languages.</li>\n</ul>\n\n<p>Asymptotically speaking, you can't get a better run time than your current method. You will have to create a new string using <code>toLowerCase()</code> and you will need to iterate by yourself over the list and generate each new lower-case string, replacing it with the existing one.</p>\n"},{"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271330058,"creation_date":1271330058,"answer_id":2644719,"question_id":2644637,"body_markdown":"Try [CollectionUtils#transform in Commons Collections][1] for an in-place solution, or [Collections2#transform in Guava][2] if you need a live view.\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#transform(java.util.Collection,%20com.google.common.base.Function)","title":"How to lowercase every element of a collection efficiently?","body":"<p>Try <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\" rel=\"nofollow noreferrer\">CollectionUtils#transform in Commons Collections</a> for an in-place solution, or <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#transform(java.util.Collection,%20com.google.common.base.Function)\" rel=\"nofollow noreferrer\">Collections2#transform in Guava</a> if you need a live view.</p>\n"},{"tags":[],"owner":{"account_id":13695,"reputation":5380,"user_id":27653,"accept_rate":92,"display_name":"Tarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271330095,"creation_date":1271330095,"answer_id":2644722,"question_id":2644637,"body_markdown":"I don&#39;t believe it is possible to do the manipulation in place (without creating another Collection) if you change strings to be a Set. This is because you can only iterate over the Set using an iterator or a for each loop, and cannot insert new objects whilst doing so (it throws an exception)","title":"How to lowercase every element of a collection efficiently?","body":"<p>I don't believe it is possible to do the manipulation in place (without creating another Collection) if you change strings to be a Set. This is because you can only iterate over the Set using an iterator or a for each loop, and cannot insert new objects whilst doing so (it throws an exception)</p>\n"},{"tags":[],"owner":{"account_id":121256,"reputation":4806,"user_id":314215,"display_name":"Matthew T. Staebler"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1271331999,"creation_date":1271330196,"answer_id":2644731,"question_id":2644637,"body_markdown":"This seems like a fairly clean solution for lists.  It should allow for the particular List implementation being used to provide an implementation that is optimal for both the traversal of the list--in linear time--and the replacing of the string--in constant time.\r\n\r\n\tpublic static void replace(List&lt;String&gt; strings)\r\n\t{\r\n\t\tListIterator&lt;String&gt; iterator = strings.listIterator();\r\n\t\twhile (iterator.hasNext())\r\n\t\t{\r\n\t\t\titerator.set(iterator.next().toLowerCase());\r\n\t\t}\r\n\t}\r\n\r\n\r\n----------\r\nThis is the best that I can come up with for sets.  As others have said, the operation cannot be performed in-place in the set for a number of reasons.  The lower-case string may need to be placed in a different location in the set than the string it is replacing.  Moreover, the lower-case string may not be added to the set at all if it is identical to another lower-case string that has already been added (e.g., &quot;HELLO&quot; and &quot;Hello&quot; will both yield &quot;hello&quot;, which will only be added to the set once).\r\n\r\n\tpublic static void replace(Set&lt;String&gt; strings)\r\n\t{\r\n\t\tString[] stringsArray = strings.toArray(new String[0]);\r\n\t\tfor (int i=0; i&lt;stringsArray.length; ++i)\r\n\t\t{\r\n\t\t\tstringsArray[i] = stringsArray[i].toLowerCase();\r\n\t\t}\r\n\t\tstrings.clear();\r\n\t\tstrings.addAll(Arrays.asList(stringsArray));\r\n\t}\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>This seems like a fairly clean solution for lists.  It should allow for the particular List implementation being used to provide an implementation that is optimal for both the traversal of the list--in linear time--and the replacing of the string--in constant time.</p>\n\n<pre><code>public static void replace(List&lt;String&gt; strings)\n{\n    ListIterator&lt;String&gt; iterator = strings.listIterator();\n    while (iterator.hasNext())\n    {\n        iterator.set(iterator.next().toLowerCase());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is the best that I can come up with for sets.  As others have said, the operation cannot be performed in-place in the set for a number of reasons.  The lower-case string may need to be placed in a different location in the set than the string it is replacing.  Moreover, the lower-case string may not be added to the set at all if it is identical to another lower-case string that has already been added (e.g., \"HELLO\" and \"Hello\" will both yield \"hello\", which will only be added to the set once).</p>\n\n<pre><code>public static void replace(Set&lt;String&gt; strings)\n{\n    String[] stringsArray = strings.toArray(new String[0]);\n    for (int i=0; i&lt;stringsArray.length; ++i)\n    {\n        stringsArray[i] = stringsArray[i].toLowerCase();\n    }\n    strings.clear();\n    strings.addAll(Arrays.asList(stringsArray));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1271330561,"creation_date":1271330561,"answer_id":2644764,"question_id":2644637,"body_markdown":"You can do this with Google Collections:\r\n\r\n        Collection&lt;String&gt; lowerCaseStrings = Collections2.transform(strings,\r\n            new Function&lt;String, String&gt;() {\r\n                public String apply(String str) {\r\n                    return str.toLowerCase();\r\n                }\r\n            }\r\n        );","title":"How to lowercase every element of a collection efficiently?","body":"<p>You can do this with Google Collections:</p>\n\n<pre><code>    Collection&lt;String&gt; lowerCaseStrings = Collections2.transform(strings,\n        new Function&lt;String, String&gt;() {\n            public String apply(String str) {\n                return str.toLowerCase();\n            }\n        }\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105984,"reputation":2828,"user_id":282544,"accept_rate":70,"display_name":"leba-lev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336486828,"creation_date":1336429535,"answer_id":10489981,"question_id":2644637,"body_markdown":"Referring to the ListIterator method in the accepted (Matthew T. Staebler&#39;s) solution. How is using the ListIterator better than the method here?\r\n    \r\n    public static Set&lt;String&gt; replace(List&lt;String&gt; strings) {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n        for (String s: strings)\r\n            set.add(s.toLowerCase());\r\n        return set;\r\n    }","title":"How to lowercase every element of a collection efficiently?","body":"<p>Referring to the ListIterator method in the accepted (Matthew T. Staebler's) solution. How is using the ListIterator better than the method here?</p>\n\n<pre><code>public static Set&lt;String&gt; replace(List&lt;String&gt; strings) {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    for (String s: strings)\n        set.add(s.toLowerCase());\n    return set;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1724767,"reputation":6919,"user_id":1579718,"accept_rate":75,"display_name":"Igor G."},"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1559728138,"creation_date":1435521936,"answer_id":31104211,"question_id":2644637,"body_markdown":"Yet another solution, but with Java 8 and above:\r\n\r\n    List&lt;String&gt; result = strings.stream()\r\n                                 .map(String::toLowerCase)\r\n                                 .collect(Collectors.toList());\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>Yet another solution, but with Java 8 and above:</p>\n\n<pre><code>List&lt;String&gt; result = strings.stream()\n                             .map(String::toLowerCase)\n                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4870666,"reputation":547,"user_id":3927323,"display_name":"NIKHIL CHAURASIA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450440537,"creation_date":1450440537,"answer_id":34355390,"question_id":2644637,"body_markdown":"I was looking for similar stuff, but was stuck because my ***ArrayList*** object was not declared as **GENERIC** and it was available as raw **List** type object from somewhere. I was just getting an ***ArrayList*** object &quot;_products&quot;. So, what I did is mentioned below and it worked for me perfectly :: \r\n\r\n    List&lt;String&gt; dbProducts = _products;\r\n        for(int i = 0; i&lt;dbProducts.size(); i++) {\r\n        \tdbProducts.add(dbProducts.get(i).toLowerCase());         \r\n        }\r\n\r\nThat is, I first took my available **_products** and made a **GENERIC** list object (As I were getting only strings in same) then I applied the **toLowerCase()** method on list elements which was not working previously because of non-generic ***ArrayList*** object.\r\n\r\nAnd the method ***toLowerCase()*** we are using here is of **String** class.\r\n\r\n&gt; String java.lang.String.toLowerCase()\r\n\r\nnot of **ArrayList** or **Object** class.\r\n\r\nPlease correct if m wrong. Newbie in JAVA seeks guidance. :)","title":"How to lowercase every element of a collection efficiently?","body":"<p>I was looking for similar stuff, but was stuck because my <strong><em>ArrayList</em></strong> object was not declared as <strong>GENERIC</strong> and it was available as raw <strong>List</strong> type object from somewhere. I was just getting an <strong><em>ArrayList</em></strong> object \"_products\". So, what I did is mentioned below and it worked for me perfectly :: </p>\n\n<pre><code>List&lt;String&gt; dbProducts = _products;\n    for(int i = 0; i&lt;dbProducts.size(); i++) {\n        dbProducts.add(dbProducts.get(i).toLowerCase());         \n    }\n</code></pre>\n\n<p>That is, I first took my available <strong>_products</strong> and made a <strong>GENERIC</strong> list object (As I were getting only strings in same) then I applied the <strong>toLowerCase()</strong> method on list elements which was not working previously because of non-generic <strong><em>ArrayList</em></strong> object.</p>\n\n<p>And the method <strong><em>toLowerCase()</em></strong> we are using here is of <strong>String</strong> class.</p>\n\n<blockquote>\n  <p>String java.lang.String.toLowerCase()</p>\n</blockquote>\n\n<p>not of <strong>ArrayList</strong> or <strong>Object</strong> class.</p>\n\n<p>Please correct if m wrong. Newbie in JAVA seeks guidance. :)</p>\n"},{"tags":[],"owner":{"account_id":8589811,"reputation":301,"user_id":6434737,"display_name":"Ankur Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470393117,"creation_date":1470393117,"answer_id":38787059,"question_id":2644637,"body_markdown":"Using JAVA 8 parallel stream it becomes faster \r\n    \r\n    List&lt;String&gt; output= new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; input= new ArrayList&lt;&gt;();\r\n    input.add(&quot;A&quot;);\r\n    input.add(&quot;B&quot;);\r\n    input.add(&quot;C&quot;);\r\n    input.add(&quot;D&quot;);\r\n    input.stream().parallel().map((item) -&gt; item.toLowerCase())\r\n\t\t\t\t.collect(Collectors.toCollection(() -&gt; output));","title":"How to lowercase every element of a collection efficiently?","body":"<p>Using JAVA 8 parallel stream it becomes faster </p>\n\n<pre><code>List&lt;String&gt; output= new ArrayList&lt;&gt;();\nList&lt;String&gt; input= new ArrayList&lt;&gt;();\ninput.add(\"A\");\ninput.add(\"B\");\ninput.add(\"C\");\ninput.add(\"D\");\ninput.stream().parallel().map((item) -&gt; item.toLowerCase())\n            .collect(Collectors.toCollection(() -&gt; output));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":895130,"reputation":7386,"user_id":932584,"display_name":"Arindam Nayak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547021228,"creation_date":1547021228,"answer_id":54105619,"question_id":2644637,"body_markdown":"If you are fine with changing the input list here is one more way to achieve it.\r\n\r\n`strings.replaceAll(String::toLowerCase)`","title":"How to lowercase every element of a collection efficiently?","body":"<p>If you are fine with changing the input list here is one more way to achieve it.</p>\n\n<p><code>strings.replaceAll(String::toLowerCase)</code></p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677484165,"creation_date":1677484165,"answer_id":75577919,"question_id":2644637,"body_markdown":"Have used Java8 **streams** for **lowercase** of every element in a Collection.\r\n\r\n    List&lt;String&gt; groupNamesList =  new ArrayList&lt;&gt;();\r\n    groupNamesList.add(&quot;GroupOne&quot;);\r\n    groupNamesList.add(&quot;GroupTwo&quot;);\r\n    groupNamesList.add(&quot;GroupThree&quot;);\r\n    groupNamesList = groupNamesList.stream().map(groupName -&gt; groupName.toLowerCase()).collect(Collectors.toList());\r\n\r\nOutput:\r\n\r\n    [groupone,grouptwo,groupthree]","title":"How to lowercase every element of a collection efficiently?","body":"<p>Have used Java8 <strong>streams</strong> for <strong>lowercase</strong> of every element in a Collection.</p>\n<pre><code>List&lt;String&gt; groupNamesList =  new ArrayList&lt;&gt;();\ngroupNamesList.add(&quot;GroupOne&quot;);\ngroupNamesList.add(&quot;GroupTwo&quot;);\ngroupNamesList.add(&quot;GroupThree&quot;);\ngroupNamesList = groupNamesList.stream().map(groupName -&gt; groupName.toLowerCase()).collect(Collectors.toList());\n</code></pre>\n<p>Output:</p>\n<pre><code>[groupone,grouptwo,groupthree]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28658914,"reputation":1,"user_id":21944242,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684856475,"creation_date":1684808405,"answer_id":76310933,"question_id":2644637,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    private static void getOccuranceCount() {\r\n        List&lt;String&gt; listdemo=Arrays.asList(&quot;saradhi&quot;,&quot;bill&quot;,&quot;mike&quot;,&quot;Bill&quot;,&quot;MIKE&quot;);\r\n       \r\n        Map&lt;String, Long&gt; collect = listdemo.stream().map(**String::toLowerCase**).collect(Collectors.groupingBy(e-&gt;e,Collectors.counting()));\r\n        System.out.println(&quot;collector printing is : &quot;+collect);\r\n    }","title":"How to lowercase every element of a collection efficiently?","body":"<pre class=\"lang-java prettyprint-override\"><code>private static void getOccuranceCount() {\n    List&lt;String&gt; listdemo=Arrays.asList(&quot;saradhi&quot;,&quot;bill&quot;,&quot;mike&quot;,&quot;Bill&quot;,&quot;MIKE&quot;);\n   \n    Map&lt;String, Long&gt; collect = listdemo.stream().map(**String::toLowerCase**).collect(Collectors.groupingBy(e-&gt;e,Collectors.counting()));\n    System.out.println(&quot;collector printing is : &quot;+collect);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26362734,"reputation":1,"user_id":20018691,"display_name":"Bala Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692178576,"creation_date":1692178403,"answer_id":76912301,"question_id":2644637,"body_markdown":"\r\n For UppperCase\r\n\r\n\r\n`val originalList = arrayListOf(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;)`\r\n\r\n`val upperCaseList = originalList.map { it.toUpperCase() }`\r\n\r\n For LowerCase\r\n\r\n`val originalList = arrayListOf(&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;)`\r\n \r\n`val lowerCaseList = originalList.map { it.toLowerCase() }`\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>For UppperCase</p>\n<p><code>val originalList = arrayListOf(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;)</code></p>\n<p><code>val upperCaseList = originalList.map { it.toUpperCase() }</code></p>\n<p>For LowerCase</p>\n<p><code>val originalList = arrayListOf(&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;)</code></p>\n<p><code>val lowerCaseList = originalList.map { it.toLowerCase() }</code></p>\n"}],"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108380,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":2644731,"answer_count":14,"score":53,"last_activity_date":1692178576,"creation_date":1271329208,"question_id":2644637,"body_markdown":"What&#39;s the most efficient way to lower case every element of a List or Set?\r\n\r\nMy idea for a List&lt;String&gt;:\r\n\r\n    final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    strings.add(&quot;HELLO&quot;);\r\n    strings.add(&quot;WORLD&quot;);\r\n    \r\n    for(int i=0,l=strings.size();i&lt;l;++i)\r\n    {\r\n      strings.add(strings.remove(0).toLowerCase());\r\n    }\r\n\r\nIs there a better, faster way? How would this example look like for a Set? As there is currently no method for applying an operation to each element of a Set (or List) can it be done without creating an additional temporary Set?\r\n\r\nSomething like this would be nice:\r\n\r\n    Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\r\n    strings.apply(\r\n      function (element)\r\n      { this.replace(element, element.toLowerCase();) } \r\n    );\r\n\r\nThanks,\r\n\r\n","title":"How to lowercase every element of a collection efficiently?","body":"<p>What's the most efficient way to lower case every element of a List or Set?</p>\n\n<p>My idea for a List:</p>\n\n<pre><code>final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nstrings.add(\"HELLO\");\nstrings.add(\"WORLD\");\n\nfor(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.add(strings.remove(0).toLowerCase());\n}\n</code></pre>\n\n<p>Is there a better, faster way? How would this example look like for a Set? As there is currently no method for applying an operation to each element of a Set (or List) can it be done without creating an additional temporary Set?</p>\n\n<p>Something like this would be nice:</p>\n\n<pre><code>Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\nstrings.apply(\n  function (element)\n  { this.replace(element, element.toLowerCase();) } \n);\n</code></pre>\n\n<p>Thanks,</p>\n"},{"tags":["java","reflection","java-native-interface","method-signature"],"comments":[{"owner":{"account_id":24460,"reputation":42736,"user_id":62192,"accept_rate":65,"display_name":"alex2k8"},"score":0,"creation_date":1292467388,"post_id":4456881,"comment_id":4869350,"body_markdown":"@bemace, @birryre. Sorry to be not clear, added more details.","body":"@bemace, @birryre. Sorry to be not clear, added more details."},{"owner":{"account_id":1126637,"reputation":24248,"user_id":1113772,"accept_rate":100,"display_name":"Paul Sweatte"},"score":0,"creation_date":1411072283,"post_id":4456881,"comment_id":40577832,"body_markdown":"possible duplicate of [Get JNI Signature for methods of nested classes](http://stackoverflow.com/questions/11444407/get-jni-signature-for-methods-of-nested-classes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11444407/get-jni-signature-for-methods-of-nested-classes\">Get JNI Signature for methods of nested classes</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477281691,"post_id":4456881,"comment_id":67685136,"body_markdown":"Why? You know what methods you&#39;re going to call at complle time. Otherwise you can&#39;t compile your code. You don&#39;t need to generate this information at runtime. Or are you looking for the Reflection API?","body":"Why? You know what methods you&#39;re going to call at complle time. Otherwise you can&#39;t compile your code. You don&#39;t need to generate this information at runtime. Or are you looking for the Reflection API?"}],"answers":[{"tags":[],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1292469302,"creation_date":1292469302,"answer_id":4457135,"question_id":4456881,"body_markdown":"I was once trying to create this long back about the generating the method signature, I remember doing this by following style, but i am not sure its a quiet long time\r\n\r\n1) I have written my own class to generate the method signature\r\n2) I have used the reflection class to get the method Names dynamically.\r\n\r\nI hope this may help you to get an idea, if not the full solution for your problem\r\n","title":"How to generate method signature?","body":"<p>I was once trying to create this long back about the generating the method signature, I remember doing this by following style, but i am not sure its a quiet long time</p>\n\n<p>1) I have written my own class to generate the method signature\n2) I have used the reflection class to get the method Names dynamically.</p>\n\n<p>I hope this may help you to get an idea, if not the full solution for your problem</p>\n"},{"tags":[],"owner":{"account_id":253401,"reputation":1583,"user_id":532070,"accept_rate":25,"display_name":"Ratna Dinakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292476492,"creation_date":1292476492,"answer_id":4457643,"question_id":4456881,"body_markdown":"User ASM Library of Objectweb. Its not only fast but you can have choice about traversing through class","title":"How to generate method signature?","body":"<p>User ASM Library of Objectweb. Its not only fast but you can have choice about traversing through class</p>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1330821465,"creation_date":1330821465,"answer_id":9551236,"question_id":4456881,"body_markdown":"http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29 provides exactly the result what you expect.\r\n\r\nOfftopic note for the sake of completeness:\r\nIn my use case I needed also conversion vice-versa. This can be achieved by methods Type.getArgumentTypes(sig) and Type.getReturnType(sig). Resulting array elements of type Type provide method getClassName() from which you obtain reference class via Class.forName or primitive class via simple if statement or map.\r\n","title":"How to generate method signature?","body":"<p><a href=\"http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29\" rel=\"nofollow\">http://asm.ow2.org/asm31/javadoc/user/org/objectweb/asm/Type.html#getMethodDescriptor%28java.lang.reflect.Method%29</a> provides exactly the result what you expect.</p>\n\n<p>Offtopic note for the sake of completeness:\nIn my use case I needed also conversion vice-versa. This can be achieved by methods Type.getArgumentTypes(sig) and Type.getReturnType(sig). Resulting array elements of type Type provide method getClassName() from which you obtain reference class via Class.forName or primitive class via simple if statement or map.</p>\n"},{"tags":[],"owner":{"account_id":9367531,"reputation":91,"user_id":6951916,"display_name":"Summer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1477281237,"creation_date":1477281237,"answer_id":40210452,"question_id":4456881,"body_markdown":"    I generate like this:\r\n    \r\n    private static String calculateMethodSignature(Method method){\r\n            String signature = &quot;&quot;;\r\n            if(method != null){\r\n                signature += &quot;(&quot;;\r\n                for(Class&lt;?&gt; c:method.getParameterTypes()){\r\n                    String Lsig = Array.newInstance(c,1).getClass().getName();\r\n                    signature += Lsig.substring(1);\r\n                }\r\n                signature += &quot;)&quot;;\r\n    \r\n                Class&lt;?&gt; returnType = method.getReturnType();\r\n                if(returnType == void.class){\r\n                    signature += &quot;V&quot;;\r\n                }else{\r\n                    signature += Array.newInstance(returnType,1).getClass().getName();\r\n                }\r\n    \r\n                signature = signature.replace(&#39;.&#39;,&#39;/&#39;);\r\n            }\r\n    \r\n            return signature;\r\n        }","title":"How to generate method signature?","body":"<pre><code>I generate like this:\n\nprivate static String calculateMethodSignature(Method method){\n        String signature = \"\";\n        if(method != null){\n            signature += \"(\";\n            for(Class&lt;?&gt; c:method.getParameterTypes()){\n                String Lsig = Array.newInstance(c,1).getClass().getName();\n                signature += Lsig.substring(1);\n            }\n            signature += \")\";\n\n            Class&lt;?&gt; returnType = method.getReturnType();\n            if(returnType == void.class){\n                signature += \"V\";\n            }else{\n                signature += Array.newInstance(returnType,1).getClass().getName();\n            }\n\n            signature = signature.replace('.','/');\n        }\n\n        return signature;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043227,"reputation":691,"user_id":12330595,"display_name":"Timur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692178520,"creation_date":1692178520,"answer_id":76912318,"question_id":4456881,"body_markdown":"In Android Studio, the IDE itself create those signature automatically.\r\nJust declare your function and press `Alt+Ctl` then choose create JNI function for functionName.","title":"How to generate method signature?","body":"<p>In Android Studio, the IDE itself create those signature automatically.\nJust declare your function and press <code>Alt+Ctl</code> then choose create JNI function for functionName.</p>\n"}],"owner":{"account_id":24460,"reputation":42736,"user_id":62192,"accept_rate":65,"display_name":"alex2k8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9954,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1692178520,"creation_date":1292465519,"question_id":4456881,"body_markdown":"Desired output examples:\r\n\r\n    (Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;\r\n    (Ljava/lang/String;)Lorg/w3c/dom/Attr;\r\n\r\nSuch signatures can be generated using javap utility:\r\n\r\n    javap -s -p org.w3c.dom.Node\r\n\r\nBut is there any way to generate them programmatically. I dont&#39; want to manually code all the rules from [jni][1] specification.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/jni/spec/types.html#wp16432","title":"How to generate method signature?","body":"<p>Desired output examples:</p>\n\n<pre><code>(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;\n(Ljava/lang/String;)Lorg/w3c/dom/Attr;\n</code></pre>\n\n<p>Such signatures can be generated using javap utility:</p>\n\n<pre><code>javap -s -p org.w3c.dom.Node\n</code></pre>\n\n<p>But is there any way to generate them programmatically. I dont' want to manually code all the rules from <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/jni/spec/types.html#wp16432\" rel=\"noreferrer\">jni</a> specification.</p>\n"},{"tags":["java","json","serialization","gson"],"answers":[{"tags":[],"owner":{"account_id":5621346,"reputation":629,"user_id":4451076,"display_name":"Scott Schechter"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1438901830,"creation_date":1438901830,"answer_id":31867120,"question_id":31866834,"body_markdown":"The easiest way is to serialize your JSONObject to a json string using toString(), then parsing that json string into a JsonObject:\r\n\r\n        org.json.JSONObject object = &lt;your defined object&gt;;\r\n        JsonParser jsonParser = new JsonParser();\r\n        JsonObject gsonObject = (JsonObject)jsonParser.parse(object.toString());\r\n\r\nNote that serializing and deserializing an object can be an expensive operation. If you have to do this a lot in your code (inside loops), it can affect your performance.","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>The easiest way is to serialize your JSONObject to a json string using toString(), then parsing that json string into a JsonObject:</p>\n\n<pre><code>    org.json.JSONObject object = &lt;your defined object&gt;;\n    JsonParser jsonParser = new JsonParser();\n    JsonObject gsonObject = (JsonObject)jsonParser.parse(object.toString());\n</code></pre>\n\n<p>Note that serializing and deserializing an object can be an expensive operation. If you have to do this a lot in your code (inside loops), it can affect your performance.</p>\n"},{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692177995,"creation_date":1692177995,"answer_id":76912237,"question_id":31866834,"body_markdown":"in Kotlin use this extension:\r\n\r\n\r\n    fun JSONObject.toGsonJsonObject():JsonObject{\r\n        return JsonParser().parse(this.toString()) as JsonObject\r\n    }","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>in Kotlin use this extension:</p>\n<pre><code>fun JSONObject.toGsonJsonObject():JsonObject{\n    return JsonParser().parse(this.toString()) as JsonObject\n}\n</code></pre>\n"}],"owner":{"account_id":54272,"reputation":6123,"user_id":162345,"accept_rate":48,"display_name":"special0ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25605,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":31867120,"answer_count":2,"score":27,"last_activity_date":1692177995,"creation_date":1438900176,"question_id":31866834,"body_markdown":"I have a `org.json.JSONObject` object.\r\n\r\nWhat&#39;s the easiest way to create a `gson.JsonObject` object from it?\r\n\r\nThanks","title":"How can I convert a JSONObject to a gson.JsonObject?","body":"<p>I have a <code>org.json.JSONObject</code> object.</p>\n\n<p>What's the easiest way to create a <code>gson.JsonObject</code> object from it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gradle","github-package-registry","github-packages"],"owner":{"account_id":29235654,"reputation":1,"user_id":22398346,"display_name":"rocket_charm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692177921,"creation_date":1692177921,"question_id":76912220,"body_markdown":"I want to create a multi module project where each module is an individual library with **individual version**.\r\nThe problem is that when I update one module/subproject I need to increase the version of every other module/subproject because **github throws 409 conflict**. How can i bypass that?\r\n\r\nthis is one of the modules/subproject  \\*\\*build.gradle \\*\\*:\r\n\r\n```\r\ngroup = projectGroup\r\nversion = projectVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    api &#39;org.springframework.boot:spring-boot-starter-web:2.7.4&#39;\r\n}\r\n```\r\n\r\nthis is the main **build.gradle** :\r\n\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.4&#39; apply false\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsubprojects {\r\n\r\n    apply plugin:&#39;java-library&#39;\r\n    apply plugin:&#39;maven-publish&#39;\r\n    apply plugin:&#39;io.spring.dependency-management&#39;\r\n    sourceCompatibility = 11\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\r\n        }\r\n    }\r\n\r\n    publishing {\r\n        repositories {\r\n            maven {\r\n                name = &quot;GitHubPackages&quot;\r\n                url = &quot;http://....&quot;\r\n                credentials {\r\n                    username System.getenv(&quot;GITHUB_ACTOR&quot;)\r\n                    password System.getenv(&quot;GITHUB_TOKEN&quot;)\r\n                }\r\n            }\r\n        }\r\n        publications {\r\n            gpr(MavenPublication) {\r\n                from(components.java)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m expecting to be able to update one module/subproject without having to update all modules/subprojects","title":"Java Gradle Gitub packages unable to update and publish individual modules without updating all the versions or have same version for all modules","body":"<p>I want to create a multi module project where each module is an individual library with <strong>individual version</strong>.\nThe problem is that when I update one module/subproject I need to increase the version of every other module/subproject because <strong>github throws 409 conflict</strong>. How can i bypass that?</p>\n<p>this is one of the modules/subproject  **build.gradle **:</p>\n<pre><code>group = projectGroup\nversion = projectVersion\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    api 'org.springframework.boot:spring-boot-starter-web:2.7.4'\n}\n</code></pre>\n<p>this is the main <strong>build.gradle</strong> :</p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'org.springframework.boot' version '2.7.4' apply false\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'maven-publish'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsubprojects {\n\n    apply plugin:'java-library'\n    apply plugin:'maven-publish'\n    apply plugin:'io.spring.dependency-management'\n    sourceCompatibility = 11\n\n    dependencyManagement {\n        imports {\n            mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\n        }\n    }\n\n    publishing {\n        repositories {\n            maven {\n                name = &quot;GitHubPackages&quot;\n                url = &quot;http://....&quot;\n                credentials {\n                    username System.getenv(&quot;GITHUB_ACTOR&quot;)\n                    password System.getenv(&quot;GITHUB_TOKEN&quot;)\n                }\n            }\n        }\n        publications {\n            gpr(MavenPublication) {\n                from(components.java)\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm expecting to be able to update one module/subproject without having to update all modules/subprojects</p>\n"},{"tags":["java","refactoring","tooling"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1692175689,"post_id":76911930,"comment_id":135586842,"body_markdown":"If you don&#39;t actually want to provide real implementations in every class, maybe just make it virtual instead of abstract? (You could always take the time to override it with a real implementation in every class and *then* make it abstract.)","body":"If you don&#39;t actually want to provide real implementations in every class, maybe just make it virtual instead of abstract? (You could always take the time to override it with a real implementation in every class and <i>then</i> make it abstract.)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1692175808,"post_id":76911930,"comment_id":135586864,"body_markdown":"Maybe make the method non-abstract with basic no-op implementation and override only where necessary?","body":"Maybe make the method non-abstract with basic no-op implementation and override only where necessary?"}],"owner":{"account_id":5994021,"reputation":23,"user_id":4709252,"display_name":"e v e r n i t e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692177877,"creation_date":1692175626,"question_id":76911930,"body_markdown":"I have an abstract class which is being extended by 100 classes. I add another abstract method to the abstract class. How can I implement a stub method into all subclasses at once?","title":"Auto-implement abstract methods in Java with Visual Studio Code","body":"<p>I have an abstract class which is being extended by 100 classes. I add another abstract method to the abstract class. How can I implement a stub method into all subclasses at once?</p>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1448555265,"post_id":33943213,"comment_id":55645609,"body_markdown":"Unclear and / or too broad. And &quot;Why isn&#39;t my code working?&quot;.","body":"Unclear and / or too broad. And &quot;Why isn&#39;t my code working?&quot;."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448555686,"post_id":33943213,"comment_id":55645853,"body_markdown":"It&#39;s that kind of humor you will appreciate when you will have some more reputation... ;)","body":"It&#39;s that kind of humor you will appreciate when you will have some more reputation... ;)"},{"owner":{"account_id":6271232,"reputation":282,"user_id":4875417,"display_name":"Balira"},"score":0,"creation_date":1448561966,"post_id":33943213,"comment_id":55648863,"body_markdown":"@FrankN.Stein I hope it&#39;s clear now","body":"@FrankN.Stein I hope it&#39;s clear now"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1448556295,"creation_date":1448556295,"answer_id":33943547,"question_id":33943213,"body_markdown":"`PERMISSION_GRANTED` is a number. Specifically, [it has a value of 0][1]. You cannot use a number to check anything.\r\n\r\nYou *can* [use `checkPermission()` on `PackageManager`][2] to see whether a particular app (identified by its application ID, a.k.a. package name) holds a particular permission. That method returns either `PERMISSION_GRANTED` or `PERMISSION_DENIED`.\r\n\r\nHowever, note that on Android 6.0+ devices, if the app you are checking is compiled with a `targetSdkVersion` of 22 or lower, `checkPermission()` will return `PERMISSION_GRANTED` so long as the permission was requested in the manifest (at least for `normal` and `dangerous` permissions, which are usually the ones that concern you). While the user can &quot;revoke permissions&quot; from those apps via the Settings app, that status is not reported by `checkPermission()`, and indeed I know of no way to find out whether the user revoked permissions from an app this way. You may see similar behavior on some custom ROMs that added this sort of permission control mechanism prior to Android 6.0.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/pm/PackageManager.html#PERMISSION_GRANTED\r\n  [2]: http://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission%28java.lang.String,%20java.lang.String%29","title":"How to check what permissions another app has been granted","body":"<p><code>PERMISSION_GRANTED</code> is a number. Specifically, <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#PERMISSION_GRANTED\" rel=\"noreferrer\">it has a value of 0</a>. You cannot use a number to check anything.</p>\n\n<p>You <em>can</em> <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\">use <code>checkPermission()</code> on <code>PackageManager</code></a> to see whether a particular app (identified by its application ID, a.k.a. package name) holds a particular permission. That method returns either <code>PERMISSION_GRANTED</code> or <code>PERMISSION_DENIED</code>.</p>\n\n<p>However, note that on Android 6.0+ devices, if the app you are checking is compiled with a <code>targetSdkVersion</code> of 22 or lower, <code>checkPermission()</code> will return <code>PERMISSION_GRANTED</code> so long as the permission was requested in the manifest (at least for <code>normal</code> and <code>dangerous</code> permissions, which are usually the ones that concern you). While the user can \"revoke permissions\" from those apps via the Settings app, that status is not reported by <code>checkPermission()</code>, and indeed I know of no way to find out whether the user revoked permissions from an app this way. You may see similar behavior on some custom ROMs that added this sort of permission control mechanism prior to Android 6.0.</p>\n"}],"owner":{"account_id":6271232,"reputation":282,"user_id":4875417,"display_name":"Balira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1448575540,"answer_count":1,"score":2,"last_activity_date":1692177584,"creation_date":1448555034,"question_id":33943213,"body_markdown":"Can I use ` checkPermission (String permName, String pkgName)` or something similar inside my application to check other apps granted permissions?\r\n\r\nfor example If I want to check if app1 which is installed in my device granted `android.permission.WRITE_CONTACTS` , can I use `checkPermission` to check that in my app or not ?\r\nI know the new release of marshmallow allow users to revoke some permissions, for that I want to check it \r\n\r\nIf that is not allowed please suggest alternative method.\r\n[This more information about checkPermission ][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission(java.lang.String,%20java.lang.String)","title":"How to check what permissions another app has been granted","body":"<p>Can I use <code> checkPermission (String permName, String pkgName)</code> or something similar inside my application to check other apps granted permissions?</p>\n<p>for example If I want to check if app1 which is installed in my device granted <code>android.permission.WRITE_CONTACTS</code> , can I use <code>checkPermission</code> to check that in my app or not ?\nI know the new release of marshmallow allow users to revoke some permissions, for that I want to check it</p>\n<p>If that is not allowed please suggest alternative method.\n<a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html#checkPermission(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">This more information about checkPermission </a></p>\n"},{"tags":["java","php","host"],"comments":[{"owner":{"account_id":204006,"reputation":48699,"user_id":451969,"accept_rate":84,"display_name":"Jared Farrish"},"score":0,"creation_date":1355619822,"post_id":13897290,"comment_id":19148964,"body_markdown":"And on the subject of interacting with whatever parts of the app are *completed* in Java, see [Guzzle](http://guzzlephp.org/). This also is built to easily integrate into Symfony. Find more out about [Sonata](https://github.com/sonata-project/) and [KnpBundles](http://knpbundles.com/). Don&#39;t reinvent the wheel.","body":"And on the subject of interacting with whatever parts of the app are <i>completed</i> in Java, see <a href=\"http://guzzlephp.org/\" rel=\"nofollow noreferrer\">Guzzle</a>. This also is built to easily integrate into Symfony. Find more out about <a href=\"https://github.com/sonata-project/\" rel=\"nofollow noreferrer\">Sonata</a> and <a href=\"http://knpbundles.com/\" rel=\"nofollow noreferrer\">KnpBundles</a>. Don&#39;t reinvent the wheel."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1355643725,"post_id":13897290,"comment_id":19152095,"body_markdown":"Having half of app in Java and switching to PHP? That&#39;s like having half-built Ferarri and towing it with Wartburg.","body":"Having half of app in Java and switching to PHP? That&#39;s like having half-built Ferarri and towing it with Wartburg."}],"answers":[{"tags":[],"owner":{"account_id":1434342,"reputation":14396,"user_id":1356062,"accept_rate":75,"display_name":"Igwe Kalu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355661201,"creation_date":1355615995,"answer_id":13897347,"question_id":13897290,"body_markdown":"You don&#39;t need any bridge. But you may use the Java app as a service... Simply make a request to it from your PHP (using an AJAX call possibly) and then display the response as it was returned.\r\n\r\nThat&#39;s the simplest solution I can offer.\r\n\r\nBefore you ask more question I suggest you read a bit about AJAX [here][1] and web service [here][2]. :-)\r\n\r\njQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn&#39;t even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency.\r\n\r\nYou can find out about how you can use jQuery/Ajax to solve this problem by reading this [doc][3] and read about the options [here][4].\r\n\r\nRead my comments on the other answers too, if you will...\r\n\r\n\r\n  [1]: http://www.w3schools.com/ajax/default.asp\r\n  [2]: http://www.w3schools.com/webservices/default.asp\r\n  [3]: http://docs.jquery.com/Ajax/jQuery.ajax\r\n  [4]: http://api.jquery.com/jQuery.ajax/","title":"Hosting php and Java together","body":"<p>You don't need any bridge. But you may use the Java app as a service... Simply make a request to it from your PHP (using an AJAX call possibly) and then display the response as it was returned.</p>\n\n<p>That's the simplest solution I can offer.</p>\n\n<p>Before you ask more question I suggest you read a bit about AJAX <a href=\"http://www.w3schools.com/ajax/default.asp\" rel=\"nofollow\">here</a> and web service <a href=\"http://www.w3schools.com/webservices/default.asp\" rel=\"nofollow\">here</a>. :-)</p>\n\n<p>jQuery Ajax has the dataType property by which you can clearly specify how you wish to receive a response, and HTML is one of the options. But he doesn't even have to tweak that since Ajax can intelligently guess the nature of the data and return it as expected. The only issue that may exist in this method is that it may introduce some latency.</p>\n\n<p>You can find out about how you can use jQuery/Ajax to solve this problem by reading this <a href=\"http://docs.jquery.com/Ajax/jQuery.ajax\" rel=\"nofollow\">doc</a> and read about the options <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Read my comments on the other answers too, if you will...</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355643787,"creation_date":1355642538,"answer_id":13899394,"question_id":13897290,"body_markdown":"Regarding (even free) Java and PHP hosting, try [Red Hat&#39;s OpenShift](https://openshift.redhat.com/app/)\r\n\r\nRegarding PHP interacting with Java and vice versa - there&#39;s multitude of ways:\r\n\r\n* XMLRPC\r\n* REST - see https://stackoverflow.com/questions/1628628/how-to-write-rest-in-php and e.g. RestEasy http://www.jboss.org/resteasy\r\n* PHP&#39;s Java integration - http://php.net/manual/en/book.java.php  \r\netc.\r\n\r\nAlso, there was [Caucho Quercus](http://www.caucho.com/resin-3.1/doc/quercus.xtp), PHP interpreted in Java. But that&#39;s a dead project AFAIK","title":"Hosting php and Java together","body":"<p>Regarding (even free) Java and PHP hosting, try <a href=\"https://openshift.redhat.com/app/\" rel=\"nofollow noreferrer\">Red Hat's OpenShift</a></p>\n\n<p>Regarding PHP interacting with Java and vice versa - there's multitude of ways:</p>\n\n<ul>\n<li>XMLRPC</li>\n<li>REST - see <a href=\"https://stackoverflow.com/questions/1628628/how-to-write-rest-in-php\">Can you use REST in PHP? If so how?</a> and e.g. RestEasy <a href=\"http://www.jboss.org/resteasy\" rel=\"nofollow noreferrer\">http://www.jboss.org/resteasy</a></li>\n<li>PHP's Java integration - <a href=\"http://php.net/manual/en/book.java.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/book.java.php</a><br>\netc.</li>\n</ul>\n\n<p>Also, there was <a href=\"http://www.caucho.com/resin-3.1/doc/quercus.xtp\" rel=\"nofollow noreferrer\">Caucho Quercus</a>, PHP interpreted in Java. But that's a dead project AFAIK</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1355643592,"creation_date":1355643268,"answer_id":13899454,"question_id":13897290,"body_markdown":"1) Most web hosting sites offer *some* provision for JSP/Servlets  (e.g. Tomcat).  Even the least expensive web site hosting services.  So looking for another provider isn&#39;t necessarily a bad idea.\r\n\r\n2) Java code can&#39;t talk directly to PHP code, and PHP code can&#39;t directly talk to Java code.  \r\n\r\n3) HOWEVER: the same web server can be configured to run both PHP/Apache and Tomcat.  For example:\r\n\r\n  * http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/\r\n\r\n4) The same *server* can *easily* support both PHP/Apache and Tomcat as separate *services*.  In other words, the same host (e.g. www.myserver.com) can easily run Apache/PHP (e.g. http://www.myserver.com:80) and Tomcat (e.g. http://www.myserver.com:8080) concurrently.  This is a very common configuration.\r\n\r\n5) Do *not* look at any &quot;translators&quot;.  Even if you find a tool that claims to be able to do it, converting from PHP to Java, or Java to PHP, is probably going to me more trouble than it&#39;s worth.\r\n\r\n6) Unless there&#39;s a *lot* of code, I wouldn&#39;t really consider Web services (or Ajax) either. \r\n\r\n7) Just find a provider who supports Apache/PHP, Tomcat and your database of choice; create the &quot;main page&quot; on whichever one you feel most comfortable with, and modify your PHP and your JSP pages to rely on CSS to insure both have a consistent look and feel.\r\n\r\nThis approach is the easiest ... and it *might* just be all you need!\r\n\r\nGood luck","title":"Hosting php and Java together","body":"<p>1) Most web hosting sites offer <em>some</em> provision for JSP/Servlets  (e.g. Tomcat).  Even the least expensive web site hosting services.  So looking for another provider isn't necessarily a bad idea.</p>\n\n<p>2) Java code can't talk directly to PHP code, and PHP code can't directly talk to Java code.  </p>\n\n<p>3) HOWEVER: the same web server can be configured to run both PHP/Apache and Tomcat.  For example:</p>\n\n<ul>\n<li><a href=\"http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/\" rel=\"nofollow\">http://robjames.name/2010/01/29/configure-apache-to-run-tomcat-and-php-2/</a></li>\n</ul>\n\n<p>4) The same <em>server</em> can <em>easily</em> support both PHP/Apache and Tomcat as separate <em>services</em>.  In other words, the same host (e.g. www.myserver.com) can easily run Apache/PHP (e.g. <a href=\"http://www.myserver.com:80\" rel=\"nofollow\">http://www.myserver.com:80</a>) and Tomcat (e.g. <a href=\"http://www.myserver.com:8080\" rel=\"nofollow\">http://www.myserver.com:8080</a>) concurrently.  This is a very common configuration.</p>\n\n<p>5) Do <em>not</em> look at any \"translators\".  Even if you find a tool that claims to be able to do it, converting from PHP to Java, or Java to PHP, is probably going to me more trouble than it's worth.</p>\n\n<p>6) Unless there's a <em>lot</em> of code, I wouldn't really consider Web services (or Ajax) either. </p>\n\n<p>7) Just find a provider who supports Apache/PHP, Tomcat and your database of choice; create the \"main page\" on whichever one you feel most comfortable with, and modify your PHP and your JSP pages to rely on CSS to insure both have a consistent look and feel.</p>\n\n<p>This approach is the easiest ... and it <em>might</em> just be all you need!</p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":2040356,"reputation":36,"user_id":1821720,"display_name":"Nam Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356124581,"creation_date":1356124581,"answer_id":13997291,"question_id":13897290,"body_markdown":"Without knowing how your Java and PHP are written, AJAX may be your best bet.  But it may be possible to use Quercus to both execute your PHP code and call into your Java routines, all on the same Java server.  Of course, that will require running on a server that supports servlets.\r\n\r\n@Ondra Žižka, Quercus is alive and well, thank you very much :).","title":"Hosting php and Java together","body":"<p>Without knowing how your Java and PHP are written, AJAX may be your best bet.  But it may be possible to use Quercus to both execute your PHP code and call into your Java routines, all on the same Java server.  Of course, that will require running on a server that supports servlets.</p>\n\n<p>@Ondra Žižka, Quercus is alive and well, thank you very much :).</p>\n"},{"tags":[],"owner":{"account_id":246737,"reputation":685,"user_id":521030,"display_name":"vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360689204,"creation_date":1360689204,"answer_id":14838013,"question_id":13897290,"body_markdown":"Recently we used mod_jk for Apache(for PHP) and JBOSS for JAVA. \r\nSo, base server will be Apache and from where request redirect to JBOSS. \r\n[This might be helpful for you][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2430938/configuring-mod-rewrite-and-mod-jk-for-apache-2-2-and-jboss-4-2-3","title":"Hosting php and Java together","body":"<p>Recently we used mod_jk for Apache(for PHP) and JBOSS for JAVA. \nSo, base server will be Apache and from where request redirect to JBOSS. \n<a href=\"https://stackoverflow.com/questions/2430938/configuring-mod-rewrite-and-mod-jk-for-apache-2-2-and-jboss-4-2-3\">This might be helpful for you</a></p>\n"},{"tags":[],"owner":{"account_id":4987410,"reputation":147,"user_id":4010583,"display_name":"Ion Stefanache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692176611,"creation_date":1692176611,"answer_id":76912062,"question_id":13897290,"body_markdown":"mod_php can be other solution if php and java working on same servers/hostings\r\nFastCGI if php and java working on different machines(servers or hostings)\r\n\r\nanyway(do not matter which method will use!) is good as practice  to use APC or other caching(PoC) to improve the site&#39;s speed","title":"Hosting php and Java together","body":"<p>mod_php can be other solution if php and java working on same servers/hostings\nFastCGI if php and java working on different machines(servers or hostings)</p>\n<p>anyway(do not matter which method will use!) is good as practice  to use APC or other caching(PoC) to improve the site's speed</p>\n"}],"owner":{"account_id":2150559,"reputation":59,"user_id":1907060,"display_name":"jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13131,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":13899454,"answer_count":6,"score":4,"last_activity_date":1692176611,"creation_date":1355615331,"question_id":13897290,"body_markdown":"I am new to web development, bear with me, the problem is that I am writing a web application that is mostly written in PHP. Although half the code has already been written in Java by a different developer, my hosting server doesn&#39;t support java. Can anyone help me with what my options are, I have googled and I&#39;ve seen a php to java bridge as a possible solution. The thing is that I can&#39;t do that because I can&#39;t currently host java servlets. If that is my only option I will have to use a different hosting company, though it is not my preferred solution. \r\n\r\nI don&#39;t know Java - is it possible to compile the java files into .class files and reference it from my php code, could my Apache server host the java .class files.\r\n\r\nIn short I need to host the Java and php code as well as reference the Java code from my php code, can I do this or would I have to rewrite the Java code in php for this to work.","title":"Hosting php and Java together","body":"<p>I am new to web development, bear with me, the problem is that I am writing a web application that is mostly written in PHP. Although half the code has already been written in Java by a different developer, my hosting server doesn't support java. Can anyone help me with what my options are, I have googled and I've seen a php to java bridge as a possible solution. The thing is that I can't do that because I can't currently host java servlets. If that is my only option I will have to use a different hosting company, though it is not my preferred solution. </p>\n\n<p>I don't know Java - is it possible to compile the java files into .class files and reference it from my php code, could my Apache server host the java .class files.</p>\n\n<p>In short I need to host the Java and php code as well as reference the Java code from my php code, can I do this or would I have to rewrite the Java code in php for this to work.</p>\n"},{"tags":["java","talend"],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692176045,"creation_date":1692176045,"answer_id":76911994,"question_id":76904432,"body_markdown":"Your field &quot;address&quot; seems to be a json. You should get it as a string from your first input component. Then you could parsethis string with a tExtractJsonFields component to extract data from it. Check documentation of tExtractJsonFields component to know more about it. ","title":"Java Code to get Object Data Type in Talend using tJava or tJavaRow","body":"<p>Your field &quot;address&quot; seems to be a json. You should get it as a string from your first input component. Then you could parsethis string with a tExtractJsonFields component to extract data from it. Check documentation of tExtractJsonFields component to know more about it.</p>\n"}],"owner":{"account_id":22244635,"reputation":117,"user_id":16478523,"display_name":"Jayven Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76911994,"answer_count":1,"score":0,"last_activity_date":1692176045,"creation_date":1692088200,"question_id":76904432,"body_markdown":"I&#39;m trying to get a data from an Object Type. Any idea how to create java code to retrieve data from it? I am getting data from a MongoDB database.\r\n\r\n\r\n\r\n    .------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------.\r\n    |                                                                                                                                                                                                                                      #1. tLogRow_2                                                                                                                                                                                                                                       |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | key            | value                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | patient_oid    | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\r\n    | mrn            | MRN23051413                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\r\n    | registereddate | 2023-08-07 12:10:29.088                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\r\n    | test           | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\r\n    | address        | {&quot;_id&quot;: {&quot;$oid&quot;: &quot;64d06eb518977e642aea2c31&quot;}, &quot;address&quot;: &quot;20 ROSAL SAMPAGUITA MALANDAY&quot;, &quot;area&quot;: &quot;Malanday&quot;, &quot;areauid&quot;: {&quot;$oid&quot;: &quot;5fe31af39034622774565a25&quot;}, &quot;city&quot;: &quot;Marikina&quot;, &quot;cityuid&quot;: {&quot;$oid&quot;: &quot;5f6ad6f56714265e8bbbba51&quot;}, &quot;state&quot;: &quot;NCR, 2nd district&quot;, &quot;stateuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3716714265e8bb9b73b&quot;}, &quot;country&quot;: &quot;Philippines&quot;, &quot;countryuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3706714265e8bb9b631&quot;}, &quot;zipcode&quot;: &quot;1805&quot;, &quot;zipcodeuid&quot;: {&quot;$oid&quot;: &quot;5fe306599034622774557943&quot;}} |\r\n    +----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    \r\n    [statistics] disconnected\r\n    \r\n    Job testmongodb ended at 16:18 15/08/2023. [Exit code  = 0]\r\n\r\n\r\nI want to have this kind of output\r\n\r\n    patient_oid        | null\r\n    mrn                | MRN23051413           \r\n    registereddate     | 2023-08-07 12:10:29.088 \r\n    address_address    | 20 ROSAL SAMPAGUITA MALANDAY\r\n    address_area       | Malanday\r\n    address_city       | Marikina\r\n    and so on......\r\n\r\n\r\nThe application is accepting java code hopefully someone can help how they did it in java in other application\r\n\r\nThis is the auto generated code in tJavaRow which return the same object type\r\n[![enter image description here][1]][1]\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                          \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ruy5x.png\r\n\r\n\r\nThank you in advance","title":"Java Code to get Object Data Type in Talend using tJava or tJavaRow","body":"<p>I'm trying to get a data from an Object Type. Any idea how to create java code to retrieve data from it? I am getting data from a MongoDB database.</p>\n<pre><code>.------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------.\n|                                                                                                                                                                                                                                      #1. tLogRow_2                                                                                                                                                                                                                                       |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| key            | value                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| patient_oid    | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| mrn            | MRN23051413                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n| registereddate | 2023-08-07 12:10:29.088                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| test           | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| address        | {&quot;_id&quot;: {&quot;$oid&quot;: &quot;64d06eb518977e642aea2c31&quot;}, &quot;address&quot;: &quot;20 ROSAL SAMPAGUITA MALANDAY&quot;, &quot;area&quot;: &quot;Malanday&quot;, &quot;areauid&quot;: {&quot;$oid&quot;: &quot;5fe31af39034622774565a25&quot;}, &quot;city&quot;: &quot;Marikina&quot;, &quot;cityuid&quot;: {&quot;$oid&quot;: &quot;5f6ad6f56714265e8bbbba51&quot;}, &quot;state&quot;: &quot;NCR, 2nd district&quot;, &quot;stateuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3716714265e8bb9b73b&quot;}, &quot;country&quot;: &quot;Philippines&quot;, &quot;countryuid&quot;: {&quot;$oid&quot;: &quot;5f6ad3706714265e8bb9b631&quot;}, &quot;zipcode&quot;: &quot;1805&quot;, &quot;zipcodeuid&quot;: {&quot;$oid&quot;: &quot;5fe306599034622774557943&quot;}} |\n+----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n[statistics] disconnected\n\nJob testmongodb ended at 16:18 15/08/2023. [Exit code  = 0]\n</code></pre>\n<p>I want to have this kind of output</p>\n<pre><code>patient_oid        | null\nmrn                | MRN23051413           \nregistereddate     | 2023-08-07 12:10:29.088 \naddress_address    | 20 ROSAL SAMPAGUITA MALANDAY\naddress_area       | Malanday\naddress_city       | Marikina\nand so on......\n</code></pre>\n<p>The application is accepting java code hopefully someone can help how they did it in java in other application</p>\n<p>This is the auto generated code in tJavaRow which return the same object type\n<a href=\"https://i.stack.imgur.com/ruy5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruy5x.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you in advance</p>\n"},{"tags":["java","lexicographic"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1539783397,"post_id":52856171,"comment_id":92627539,"body_markdown":"If you&#39;re asking about improving working code, then you have come to the wrong place, and *perhaps* the [code-review stackexchange](https://codereview.stackexchange.com/) is a better fit, but before asking there, do check their [help](https://codereview.stackexchange.com/help) links to find out about their question requirements. I believe that you would need to provide metrics to quantify what you mean by &quot;improved&quot;, but I could be wrong.","body":"If you&#39;re asking about improving working code, then you have come to the wrong place, and <i>perhaps</i> the <a href=\"https://codereview.stackexchange.com/\">code-review stackexchange</a> is a better fit, but before asking there, do check their <a href=\"https://codereview.stackexchange.com/help\">help</a> links to find out about their question requirements. I believe that you would need to provide metrics to quantify what you mean by &quot;improved&quot;, but I could be wrong."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1539783446,"post_id":52856171,"comment_id":92627574,"body_markdown":"Look at the source of the `compareTo` implementation http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java","body":"Look at the source of the <code>compareTo</code> implementation <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/&hellip;</a>"},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":0,"creation_date":1539783590,"post_id":52856171,"comment_id":92627673,"body_markdown":"My hint rather than providing a solution as this is an assignment is to write a function that compares 2 chars (after all they are if I am not mistaken represented as an 16 bit unsigned integer). I would then write another function that would take 2 char arrays, and that would loop through them, using the function above to do an equality check.","body":"My hint rather than providing a solution as this is an assignment is to write a function that compares 2 chars (after all they are if I am not mistaken represented as an 16 bit unsigned integer). I would then write another function that would take 2 char arrays, and that would loop through them, using the function above to do an equality check."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539963675,"creation_date":1539783553,"answer_id":52856308,"question_id":52856171,"body_markdown":"A couple of notes for you:\r\n\r\n* You only need one loop: From the beginning to the lower of the two lengths. If the arrays are the same up until the lower of the two lengths and their lengths are different, your assignment should tell you what to return (normally it would be -1 if the left array was shorter than the right, 1 otherwise).\r\n\r\n* `a &lt; b` isn&#39;t a valid alphabetic comparison of two characters (what most programmers mean when they say &quot;lexicographic&quot;, the &quot;lexico&quot; meaning &quot;pertaining to words&quot;), it&#39;s a *numeric* comparison. Now, `String`&#39;s [`compareTo`][1] claims to use &quot;lexicographic ordering,&quot; but it really just uses numeric ordering, so that may be good enough for what you&#39;re doing. If you want alphabetic ordering, I can&#39;t think of a JDK comparison method that accepts two single *chars* to compare rather than strings. There may be one I don&#39;t know of, or you may have to create one-character strings to do the comparison (with a [`Collator`][2]), which will (for instance) correctly identify that the `&#224;` in &quot;voil&#224;&quot; should be before any of the other letters in it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#compareTo(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/text/Collator.html","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>A couple of notes for you:</p>\n\n<ul>\n<li><p>You only need one loop: From the beginning to the lower of the two lengths. If the arrays are the same up until the lower of the two lengths and their lengths are different, your assignment should tell you what to return (normally it would be -1 if the left array was shorter than the right, 1 otherwise).</p></li>\n<li><p><code>a &lt; b</code> isn't a valid alphabetic comparison of two characters (what most programmers mean when they say \"lexicographic\", the \"lexico\" meaning \"pertaining to words\"), it's a <em>numeric</em> comparison. Now, <code>String</code>'s <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> claims to use \"lexicographic ordering,\" but it really just uses numeric ordering, so that may be good enough for what you're doing. If you want alphabetic ordering, I can't think of a JDK comparison method that accepts two single <em>chars</em> to compare rather than strings. There may be one I don't know of, or you may have to create one-character strings to do the comparison (with a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>), which will (for instance) correctly identify that the <code>à</code> in \"voilà\" should be before any of the other letters in it.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539786558,"creation_date":1539785781,"answer_id":52857074,"question_id":52856171,"body_markdown":"okay I gave up and wrote it...no Unit testing (always delivery code Unit Tested) but I think this should give you a good idea to work functionally (there are like edge cases like different lengths etc. I have not dealt with but you get the idea right?)...cheers and have fun :=)...it can be done more efficiently i guess with streams...\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Character&gt; firstCharArr = new ArrayList&lt;&gt;(Arrays.asList(&#39;a&#39;, &#39;c&#39;));\r\n        List&lt;Character&gt; secondCharArr = new ArrayList&lt;&gt;(Arrays.asList(&#39;x&#39;, &#39;c&#39;));\r\n\r\n        BiFunction&lt;Character, Character, Integer&gt; charCompareFunction = new BiFunction&lt;Character, Character, Integer&gt;() {\r\n            @Override\r\n            public Integer apply(Character character, Character character2) {\r\n                if (character.charValue() &lt; character2.charValue()) {\r\n                    return -1;\r\n                } else if (character.charValue() == character2.charValue()) {\r\n                    return 0;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        };\r\n\r\n        int i = 0;\r\n        for (Character firstLineChar : firstCharArr) {\r\n            if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) == 0) {\r\n                continue;\r\n            } else {\r\n                if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) &lt; 0) {\r\n                    System.out.println(&quot;FirstLine is Smaller&quot;);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;FirstLine is Larger&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIn fact, you can using the above, prove the character lexicographic order of Java:\r\nNumbers before letters\r\nUppercase before lowercase ","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>okay I gave up and wrote it...no Unit testing (always delivery code Unit Tested) but I think this should give you a good idea to work functionally (there are like edge cases like different lengths etc. I have not dealt with but you get the idea right?)...cheers and have fun :=)...it can be done more efficiently i guess with streams...</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Character&gt; firstCharArr = new ArrayList&lt;&gt;(Arrays.asList('a', 'c'));\n    List&lt;Character&gt; secondCharArr = new ArrayList&lt;&gt;(Arrays.asList('x', 'c'));\n\n    BiFunction&lt;Character, Character, Integer&gt; charCompareFunction = new BiFunction&lt;Character, Character, Integer&gt;() {\n        @Override\n        public Integer apply(Character character, Character character2) {\n            if (character.charValue() &lt; character2.charValue()) {\n                return -1;\n            } else if (character.charValue() == character2.charValue()) {\n                return 0;\n            } else {\n                return 1;\n            }\n        }\n    };\n\n    int i = 0;\n    for (Character firstLineChar : firstCharArr) {\n        if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) == 0) {\n            continue;\n        } else {\n            if (charCompareFunction.apply(firstLineChar, secondCharArr.get(i++)) &lt; 0) {\n                System.out.println(\"FirstLine is Smaller\");\n                break;\n            } else {\n                System.out.println(\"FirstLine is Larger\");\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In fact, you can using the above, prove the character lexicographic order of Java:\nNumbers before letters\nUppercase before lowercase </p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175870,"creation_date":1692175870,"answer_id":76911973,"question_id":52856171,"body_markdown":"    Sharing a custom method for comparing two char array lexicographically\r\n    \r\n     public static int lexicographicalSort(char[] chArr1, char[] chArr2){\r\n    \r\n            // return -ve means chArr1 or first word comes before the second in a \r\n               lexicographical order\r\n            // return  +ve means chArr1 or first word comes after the second in a \r\n               lexicographical order\r\n            // return  0 means chArr1 and chArr2 contents are same\r\n\r\n            int min = Math.min(chArr1.length,chArr2.length);\r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( chArr1[k] != chArr2[k]){\r\n                    return chArr1[k]-chArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return chArr1.length-chArr2.length;\r\n        }","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<pre><code>Sharing a custom method for comparing two char array lexicographically\n\n public static int lexicographicalSort(char[] chArr1, char[] chArr2){\n\n        // return -ve means chArr1 or first word comes before the second in a \n           lexicographical order\n        // return  +ve means chArr1 or first word comes after the second in a \n           lexicographical order\n        // return  0 means chArr1 and chArr2 contents are same\n\n        int min = Math.min(chArr1.length,chArr2.length);\n        int k = 0;\n\n        while(k&lt;min){\n            if( chArr1[k] != chArr2[k]){\n                return chArr1[k]-chArr2[k];\n            }\n            k++;\n        }\n\n        return chArr1.length-chArr2.length;\n    }\n</code></pre>\n"}],"owner":{"account_id":10706994,"reputation":83,"user_id":8760898,"accept_rate":88,"display_name":"Blebhebhe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52856308,"answer_count":3,"score":0,"last_activity_date":1692175870,"creation_date":1539783102,"question_id":52856171,"body_markdown":"I have to write a function that takes 2 `char[]`s and returns:\r\n\r\n* `-1` if the the first word comes before the second in a lexicographical order\r\n* `0` if they are the same word\r\n* `1` if it comes after\r\n\r\nI&#39;m aware of `compareTo()` method but this is an assignment, I need to avoid using it. So far, my code is working well, I&#39;ve done a few tests with different words.\r\n\r\nI was wondering if there was another way of doing it, my code doesn&#39;t feel optimized, it&#39;s long and repetitive:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static int lexico(char[] word1, char[] word2) {\r\n    \t\tint length1 = word1.length;\r\n    \t\tint length2 = word2.length;\r\n    \r\n    \t\tif (length1 == length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length1; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\treturn 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (length1 &lt; length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length1; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\t// If I&#39;m here then it means that all of the characters\r\n    \t\t\t\t\t// from 0 to length1-1 are equals\r\n    \t\t\t\t\t// but since length of the first string is shorter than the second,\r\n    \t\t\t\t\t// the first string will be put before the second\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (length1 &gt; length2) {\r\n    \t\t\tfor (int i = 0; i &lt; length2; i++) {\r\n    \t\t\t\tif (word1[i] &lt; word2[i]) {\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t\t} else if (word1[i] &gt; word2[i]) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t} else if (i == length1 - 1) {\r\n    \t\t\t\t\treturn 1;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn -999;\r\n    \t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] share = { &#39;s&#39;, &#39;h&#39;, &#39;a&#39;, &#39;r&#39;, &#39;e&#39; };\r\n\t\tchar[] ship = { &#39;s&#39;, &#39;h&#39;, &#39;i&#39;, &#39;p&#39; };\r\n\r\n\t\tSystem.out.println(lexico(share, ship)); // -1 share is before ship\r\n\t\tSystem.out.println(lexico(ship, share)); // 1 ship is after share\r\n\t\tSystem.out.println(lexico(ship, ship)); // 0 same word\r\n\r\n\t}","title":"Lexicographical order - two char array as parameters, looking for a better solution","body":"<p>I have to write a function that takes 2 <code>char[]</code>s and returns:</p>\n\n<ul>\n<li><code>-1</code> if the the first word comes before the second in a lexicographical order</li>\n<li><code>0</code> if they are the same word</li>\n<li><code>1</code> if it comes after</li>\n</ul>\n\n<p>I'm aware of <code>compareTo()</code> method but this is an assignment, I need to avoid using it. So far, my code is working well, I've done a few tests with different words.</p>\n\n<p>I was wondering if there was another way of doing it, my code doesn't feel optimized, it's long and repetitive:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int lexico(char[] word1, char[] word2) {\n        int length1 = word1.length;\n        int length2 = word2.length;\n\n        if (length1 == length2) {\n            for (int i = 0; i &lt; length1; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    return 0;\n                }\n            }\n        }\n\n        if (length1 &lt; length2) {\n            for (int i = 0; i &lt; length1; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    // If I'm here then it means that all of the characters\n                    // from 0 to length1-1 are equals\n                    // but since length of the first string is shorter than the second,\n                    // the first string will be put before the second\n                    return -1;\n                }\n\n            }\n        }\n\n        if (length1 &gt; length2) {\n            for (int i = 0; i &lt; length2; i++) {\n                if (word1[i] &lt; word2[i]) {\n                    return -1;\n                } else if (word1[i] &gt; word2[i]) {\n                    return 1;\n                } else if (i == length1 - 1) {\n                    return 1;\n                }\n            }\n        }\n\n        return -999;\n    }\n\npublic static void main(String[] args) {\n    char[] share = { 's', 'h', 'a', 'r', 'e' };\n    char[] ship = { 's', 'h', 'i', 'p' };\n\n    System.out.println(lexico(share, ship)); // -1 share is before ship\n    System.out.println(lexico(ship, share)); // 1 ship is after share\n    System.out.println(lexico(ship, ship)); // 0 same word\n\n}\n</code></pre>\n"},{"tags":["java","out-of-memory","hl7-fhir"],"answers":[{"tags":[],"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691762184,"creation_date":1691762184,"answer_id":76884207,"question_id":76880958,"body_markdown":"-Xmx2048M is extremely low for running the publisher.  It&#39;s quite possible you&#39;re just hitting the memory limitations of the process.  (The publisher is loading all of the UTG terminology, all of the core specification profiles, all the standard extensions, plus any of your dependent IGs before it even starts to load your own content.)  Typically you&#39;d want at least a 16 GB machine and more is better.","title":"HL7 FSH IG Publisher java.lang.OutOfMemoryError: Java heap space issue","body":"<p>-Xmx2048M is extremely low for running the publisher.  It's quite possible you're just hitting the memory limitations of the process.  (The publisher is loading all of the UTG terminology, all of the core specification profiles, all the standard extensions, plus any of your dependent IGs before it even starts to load your own content.)  Typically you'd want at least a 16 GB machine and more is better.</p>\n"}],"owner":{"account_id":14784034,"reputation":401,"user_id":10676790,"display_name":"srijan439"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692175658,"creation_date":1691732729,"question_id":76880958,"body_markdown":"I have upgraded the FSH publisher.jar to 1.3.28 and getting the following exception.\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\nat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read0(StreamDecoder.java:137)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:122)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:169)\r\n\tat org.hl7.fhir.utilities.TextFile.streamToString(TextFile.java:177)\r\n\tat org.hl7.fhir.r4.formats.JsonParserBase.loadJson(JsonParserBase.java:220)\r\n\tat org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:130)\r\n\tat org.hl7.fhir.convertors.loaders.loaderR5.R4ToR5Loader.loadResource(R4ToR5Loader.java:114)\r\n\tat org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:112)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager$CanonicalResourceProxy.getResource(CanonicalResourceManager.java:80)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager$CachedCanonicalResource.getResource(CanonicalResourceManager.java:140)\r\n\tat org.hl7.fhir.r5.context.CanonicalResourceManager.getList(CanonicalResourceManager.java:618)\r\n\tat org.hl7.fhir.r5.context.BaseWorkerContext.fetchResourcesByType(BaseWorkerContext.java:2014)\r\n\tat org.hl7.fhir.igtools.renderers.ValueSetRenderer.xref(ValueSetRenderer.java:106)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateOutputsValueSet(Publisher.java:10579)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:9727)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:9593)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:7053)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1103)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:933)\r\n\tat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:11666)\r\n\r\n```\r\n\r\n\r\nI have tried updating the jvm arguments as well with the following command but still it takes around 1hr 20 mins to build the project even though the project was building in 30 minutes earlier.\r\n\r\n&gt; JAVA -Xms1024M -Xmx2048M -jar &quot;..\\input-cache\\%publisher_jar%&quot; -ig . %* \r\n\r\nPlease help. Thanks.\r\n","title":"HL7 FSH IG Publisher java.lang.OutOfMemoryError: Java heap space issue","body":"<p>I have upgraded the FSH publisher.jar to 1.3.28 and getting the following exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/sun.nio.cs.StreamDecoder.read0(StreamDecoder.java:137)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:122)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:169)\n    at org.hl7.fhir.utilities.TextFile.streamToString(TextFile.java:177)\n    at org.hl7.fhir.r4.formats.JsonParserBase.loadJson(JsonParserBase.java:220)\n    at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:130)\n    at org.hl7.fhir.convertors.loaders.loaderR5.R4ToR5Loader.loadResource(R4ToR5Loader.java:114)\n    at org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:112)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager$CanonicalResourceProxy.getResource(CanonicalResourceManager.java:80)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager$CachedCanonicalResource.getResource(CanonicalResourceManager.java:140)\n    at org.hl7.fhir.r5.context.CanonicalResourceManager.getList(CanonicalResourceManager.java:618)\n    at org.hl7.fhir.r5.context.BaseWorkerContext.fetchResourcesByType(BaseWorkerContext.java:2014)\n    at org.hl7.fhir.igtools.renderers.ValueSetRenderer.xref(ValueSetRenderer.java:106)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsValueSet(Publisher.java:10579)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:9727)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:9593)\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:7053)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1103)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:933)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:11666)\n\n</code></pre>\n<p>I have tried updating the jvm arguments as well with the following command but still it takes around 1hr 20 mins to build the project even though the project was building in 30 minutes earlier.</p>\n<blockquote>\n<p>JAVA -Xms1024M -Xmx2048M -jar &quot;..\\input-cache%publisher_jar%&quot; -ig . %*</p>\n</blockquote>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","recursion","memory","arraylist","coin-change"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1692162426,"post_id":76910595,"comment_id":135584777,"body_markdown":"You can&#39;t and shouldn&#39;t try to avoid duplicating the list. Without duplicating the list, the result will contain multiple references to the same list object, which is not what you want.","body":"You can&#39;t and shouldn&#39;t try to avoid duplicating the list. Without duplicating the list, the result will contain multiple references to the same list object, which is not what you want."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692162467,"post_id":76910595,"comment_id":135584785,"body_markdown":"The copy is necessary to capture the state of `list` when you add it to `result`. Otherwise `list.add()` and `list.remove()` would continue modifying it in place.","body":"The copy is necessary to capture the state of <code>list</code> when you add it to <code>result</code>. Otherwise <code>list.add()</code> and <code>list.remove()</code> would continue modifying it in place."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692163662,"creation_date":1692163662,"answer_id":76910720,"question_id":76910595,"body_markdown":"Elaborating to what @shmosel pointed out, if you do: ```result.add(list);``` you are directly adding the list to the `result`. So, when you do: ```list.add(candidates[ind]);``` and ```list.remove(list.size()-1);``` later on, it will modify the ```list``` and consequently the ```result``` list as well. It is because, the ```list``` you have stored inside the ```result``` and the one you are modifying later on with `add` and `remove` is the same list.\r\n\r\nSo, to make sure that it does not happen, you need to create a copy of the ```list``` and store it in the ```result``` instead of using the original list directly.","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>Elaborating to what @shmosel pointed out, if you do: <code>result.add(list);</code> you are directly adding the list to the <code>result</code>. So, when you do: <code>list.add(candidates[ind]);</code> and <code>list.remove(list.size()-1);</code> later on, it will modify the <code>list</code> and consequently the <code>result</code> list as well. It is because, the <code>list</code> you have stored inside the <code>result</code> and the one you are modifying later on with <code>add</code> and <code>remove</code> is the same list.</p>\n<p>So, to make sure that it does not happen, you need to create a copy of the <code>list</code> and store it in the <code>result</code> instead of using the original list directly.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692164000,"creation_date":1692164000,"answer_id":76910748,"question_id":76910595,"body_markdown":"&gt; This solution does not work if I replace the 5th line `result.add(new ArrayList&lt;&gt;(list));` with `result.add(list);`\r\n\r\nCorrect.  You seem already to understand that the latter adds the working list itself, not a copy of it, so you should also understand that in that case, the subsequent invocations of `list.add()` and `list.remove()` affect the same list that you added to the result, however many times you added it.  That&#39;s not what you want.  To be able to return multiple solutions, you need multiple lists, just as your original code provides.\r\n","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<blockquote>\n<p>This solution does not work if I replace the 5th line <code>result.add(new ArrayList&lt;&gt;(list));</code> with <code>result.add(list);</code></p>\n</blockquote>\n<p>Correct.  You seem already to understand that the latter adds the working list itself, not a copy of it, so you should also understand that in that case, the subsequent invocations of <code>list.add()</code> and <code>list.remove()</code> affect the same list that you added to the result, however many times you added it.  That's not what you want.  To be able to return multiple solutions, you need multiple lists, just as your original code provides.</p>\n"},{"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692174293,"creation_date":1692174293,"answer_id":76911765,"question_id":76910595,"body_markdown":"The issue you&#39;re encountering is related to how Java handles objects and references. When you add the list to the result without creating a new instance of ArrayList, you&#39;re actually adding a reference to the same list object. As a result, when you later modify the list (by adding or removing elements), those changes are reflected in the previously added lists as well, since they all point to the same underlying object.\r\n\r\nTo fix this issue, you will need to create a new instance of ArrayList each time you want to add it to the result. This ensures that each combination is stored separately and not affected by future modifications. This is why the line `result.add(new ArrayList&lt;&gt;(list));` works correctly.\r\n\r\nIn contrast, when you use `result.add(list);`, you&#39;re adding a reference to the existing list, and subsequent modifications will impact all the references to that list.\r\n\r\nI hope that answers your question. \r\n\r\nBelow is my solution to `Combination Sum` problem that you&#39;re trying to solve\r\n\r\n```\r\npublic class CombinationSum {\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        backtrack(result, new ArrayList&lt;&gt;(), candidates, target, 0);\r\n        return result;\r\n    }\r\n\r\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; current, int[] candidates, int target, int start) {\r\n        if (target &lt; 0) {\r\n            return;\r\n        } else if (target == 0) {\r\n            result.add(new ArrayList&lt;&gt;(current));\r\n        } else {\r\n            for (int i = start; i &lt; candidates.length; i++) {\r\n                current.add(candidates[i]);\r\n                backtrack(result, current, candidates, target - candidates[i], i);\r\n                current.remove(current.size() - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CombinationSum solution = new CombinationSum();\r\n        int[] candidates = {2, 3, 6, 7};\r\n        int target = 7;\r\n        List&lt;List&lt;Integer&gt;&gt; result = solution.combinationSum(candidates, target);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>The issue you're encountering is related to how Java handles objects and references. When you add the list to the result without creating a new instance of ArrayList, you're actually adding a reference to the same list object. As a result, when you later modify the list (by adding or removing elements), those changes are reflected in the previously added lists as well, since they all point to the same underlying object.</p>\n<p>To fix this issue, you will need to create a new instance of ArrayList each time you want to add it to the result. This ensures that each combination is stored separately and not affected by future modifications. This is why the line <code>result.add(new ArrayList&lt;&gt;(list));</code> works correctly.</p>\n<p>In contrast, when you use <code>result.add(list);</code>, you're adding a reference to the existing list, and subsequent modifications will impact all the references to that list.</p>\n<p>I hope that answers your question.</p>\n<p>Below is my solution to <code>Combination Sum</code> problem that you're trying to solve</p>\n<pre><code>public class CombinationSum {\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        backtrack(result, new ArrayList&lt;&gt;(), candidates, target, 0);\n        return result;\n    }\n\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; current, int[] candidates, int target, int start) {\n        if (target &lt; 0) {\n            return;\n        } else if (target == 0) {\n            result.add(new ArrayList&lt;&gt;(current));\n        } else {\n            for (int i = start; i &lt; candidates.length; i++) {\n                current.add(candidates[i]);\n                backtrack(result, current, candidates, target - candidates[i], i);\n                current.remove(current.size() - 1);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        CombinationSum solution = new CombinationSum();\n        int[] candidates = {2, 3, 6, 7};\n        int target = 7;\n        List&lt;List&lt;Integer&gt;&gt; result = solution.combinationSum(candidates, target);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17382773,"reputation":13,"user_id":12594675,"display_name":"Harshith Pillai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76910748,"answer_count":3,"score":1,"last_activity_date":1692175341,"creation_date":1692161354,"question_id":76910595,"body_markdown":"I have been trying to solve this leetcode question [Combination Sum](https://leetcode.com/problems/combination-sum) \r\n\r\n&gt;Given an array of distinct integers candidates and a target integer, &gt;return a list of all unique combinations of candidates where the &gt;chosen numbers sum to target. You may return the combinations in any &gt;order.\r\n&gt;\r\n&gt;The same number may be chosen from candidates an unlimited number of &gt;times. Two combinations are unique if the frequency of at least one of &gt;the chosen numbers is different.\r\n\r\nAnd I came up with this solution:\r\n```\r\nclass Solution {\r\n    public void recUtil(List&lt;List&lt;Integer&gt;&gt; result, int[] candidates, List&lt;Integer&gt; list, int sum, int target, int ind) {\r\n        if(sum&gt;target || ind&gt;=candidates.length) return;\r\n        if(sum==target) {\r\n            result.add(new ArrayList&lt;&gt;(list));\r\n            return;\r\n        }\r\n\r\n        recUtil(result, candidates, list, sum, target, ind+1);\r\n        list.add(candidates[ind]);\r\n        recUtil(result, candidates, list, sum+candidates[ind], target, ind);\r\n        list.remove(list.size()-1);\r\n    }\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        \r\n        recUtil(result, candidates, new ArrayList&lt;&gt;(), 0, target, 0);\r\n\r\n        return result;        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThis solution does not work if I replace the 5th line `result.add(new ArrayList&lt;&gt;(list));` with `result.add(list);` \r\n\r\n\r\nFor the input:\r\n&gt;[2,3,6,7]\r\n\r\nAnd target `7`, I get two empty ArrayLists in the result ArrayList\r\n&gt;[[],[]]\r\n\r\nInstead of \r\n&gt;[[2,2,3],[7]]\r\n\r\n\r\nI know it must be something stupid, so I was afraid to ask here.\r\nI am new to java, can anyone please explain why just adding the list to the result does not work.","title":"How to avoid duplicating the ArrayList on every recursive call","body":"<p>I have been trying to solve this leetcode question <a href=\"https://leetcode.com/problems/combination-sum\" rel=\"nofollow noreferrer\">Combination Sum</a></p>\n<blockquote>\n<p>Given an array of distinct integers candidates and a target integer, &gt;return a list of all unique combinations of candidates where the &gt;chosen numbers sum to target. You may return the combinations in any &gt;order.</p>\n<p>The same number may be chosen from candidates an unlimited number of &gt;times. Two combinations are unique if the frequency of at least one of &gt;the chosen numbers is different.</p>\n</blockquote>\n<p>And I came up with this solution:</p>\n<pre><code>class Solution {\n    public void recUtil(List&lt;List&lt;Integer&gt;&gt; result, int[] candidates, List&lt;Integer&gt; list, int sum, int target, int ind) {\n        if(sum&gt;target || ind&gt;=candidates.length) return;\n        if(sum==target) {\n            result.add(new ArrayList&lt;&gt;(list));\n            return;\n        }\n\n        recUtil(result, candidates, list, sum, target, ind+1);\n        list.add(candidates[ind]);\n        recUtil(result, candidates, list, sum+candidates[ind], target, ind);\n        list.remove(list.size()-1);\n    }\n\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        \n        recUtil(result, candidates, new ArrayList&lt;&gt;(), 0, target, 0);\n\n        return result;        \n    }\n}\n</code></pre>\n<p>This solution does not work if I replace the 5th line <code>result.add(new ArrayList&lt;&gt;(list));</code> with <code>result.add(list);</code></p>\n<p>For the input:</p>\n<blockquote>\n<p>[2,3,6,7]</p>\n</blockquote>\n<p>And target <code>7</code>, I get two empty ArrayLists in the result ArrayList</p>\n<blockquote>\n<p>[[],[]]</p>\n</blockquote>\n<p>Instead of</p>\n<blockquote>\n<p>[[2,2,3],[7]]</p>\n</blockquote>\n<p>I know it must be something stupid, so I was afraid to ask here.\nI am new to java, can anyone please explain why just adding the list to the result does not work.</p>\n"},{"tags":["java","wsdl","maven-plugin","wsimport"],"answers":[{"tags":[],"owner":{"account_id":1220934,"reputation":23,"user_id":1313117,"display_name":"davosian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175314,"creation_date":1692175314,"answer_id":76911891,"question_id":75629349,"body_markdown":"This is what I am using with Spring Boot 3.0 and Java 17:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n              xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;\r\n              version=&quot;3.0&quot;&gt;\r\n        &lt;jaxb:bindings schemaLocation=&quot;service.xsd&quot;&gt;\r\n            &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;OperationOne&#39;]&quot;&gt;\r\n                &lt;jaxb:javaType name=&quot;com.example.api.gen.OperationOne&quot; \r\n                          parseMethod=&quot;valueOf&quot; \r\n                          printMethod=&quot;toString&quot;/&gt;\r\n            &lt;/jaxb:bindings&gt;\r\n            &lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;OperationTwo&#39;]&quot;&gt;\r\n                &lt;jaxb:class name=&quot;com.example.api.gen.OperationTwo&quot;/&gt;\r\n            &lt;/jaxb:bindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nIt differs slightly from your version in the jaxb definition. I am then referencing the binding file (bindings.xml in my case) in the plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\r\n    \t\t&lt;wsdlFiles&gt;\r\n    \t\t\t&lt;wsdlFile&gt;service.wsdl&lt;/wsdlFile&gt;\r\n    \t\t&lt;/wsdlFiles&gt;\r\n    \t\t&lt;packageName&gt;com.example.api.gen&lt;/packageName&gt;\r\n    \t\t&lt;sourceDestDir&gt;${sourcesDir}&lt;/sourceDestDir&gt;\r\n    \t\t&lt;bindingFiles&gt;\r\n    \t\t\t&lt;bindingFile&gt;${project.basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\r\n    \t\t&lt;/bindingFiles&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nMore information about the currently valid schema can be found on the [Jakarta EE][1] homepage.\r\n\r\n\r\n  [1]: https://jakarta.ee/xml/ns/jaxb/","title":"jaxws 4 / java 17: it is not a jaxws or a jaxb binding file","body":"<p>This is what I am using with Spring Boot 3.0 and Java 17:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;\n          version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;service.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:simpleType[@name='OperationOne']&quot;&gt;\n            &lt;jaxb:javaType name=&quot;com.example.api.gen.OperationOne&quot; \n                      parseMethod=&quot;valueOf&quot; \n                      printMethod=&quot;toString&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name='OperationTwo']&quot;&gt;\n            &lt;jaxb:class name=&quot;com.example.api.gen.OperationTwo&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>It differs slightly from your version in the jaxb definition. I am then referencing the binding file (bindings.xml in my case) in the plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n            &lt;execution&gt;\n                    &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n            &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;wsdlDirectory&gt;${project.basedir}/src/main/resources/&lt;/wsdlDirectory&gt;\n        &lt;wsdlFiles&gt;\n            &lt;wsdlFile&gt;service.wsdl&lt;/wsdlFile&gt;\n        &lt;/wsdlFiles&gt;\n        &lt;packageName&gt;com.example.api.gen&lt;/packageName&gt;\n        &lt;sourceDestDir&gt;${sourcesDir}&lt;/sourceDestDir&gt;\n        &lt;bindingFiles&gt;\n            &lt;bindingFile&gt;${project.basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\n        &lt;/bindingFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>More information about the currently valid schema can be found on the <a href=\"https://jakarta.ee/xml/ns/jaxb/\" rel=\"nofollow noreferrer\">Jakarta EE</a> homepage.</p>\n"}],"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2068,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692175314,"creation_date":1677859378,"question_id":75629349,"body_markdown":"I used to generate sources from WSDL/bindings, using jaxws-maven-plugin with spring-boot 2.3.7 and java 11. Now, after upgrading to spring-boot 3.0 and java 17, code generation fails, because my bindings files are ignored with error message\r\n\r\n`bindings.xml: not a XML-WS- or XML-B-binding file`\r\n\r\nI&#39;ve seen this error being discussed on StackOverflow, but none with spring-boot 3.0. Here is an example to reproduce error:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;xdebug&gt;true&lt;/xdebug&gt;\r\n\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;packageName&gt;com.daimler.daivb.cat.pkimgmt.bl.internal&lt;/packageName&gt;\r\n\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t&lt;xdebug&gt;true&lt;/xdebug&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWSDL-File:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;definitions name=&quot;HelloWorldService&quot;\r\n\t\t\t\t targetNamespace=&quot;http://example.com/helloworld&quot;\r\n\t\t\t\t xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n\t\t\t\t xmlns:tns=&quot;http://example.com/helloworld&quot;\r\n\t\t\t\t xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\t\t\t xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n\t\t\t\t xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\r\n\t\t\t\t xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\r\n\r\n\t  &lt;types&gt;\r\n\t\t&lt;xsd:schema targetNamespace=&quot;http://example.com/helloworld&quot;&gt;\r\n\t\t  &lt;xsd:element name=&quot;sayHello&quot;&gt;\r\n\t\t\t&lt;xsd:complexType&gt;\r\n\t\t\t  &lt;xsd:sequence&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;name&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t\t  &lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:complexType&gt;\r\n\t\t  &lt;/xsd:element&gt;\r\n\t\t  &lt;xsd:element name=&quot;sayHelloResponse&quot;&gt;\r\n\t\t\t&lt;xsd:complexType&gt;\r\n\t\t\t  &lt;xsd:sequence&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;greeting&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t\t  &lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:complexType&gt;\r\n\t\t  &lt;/xsd:element&gt;\r\n\t\t&lt;/xsd:schema&gt;\r\n\t  &lt;/types&gt;\r\n\r\n\t  &lt;message name=&quot;sayHelloRequest&quot;&gt;\r\n\t\t&lt;part name=&quot;parameters&quot; element=&quot;tns:sayHello&quot;/&gt;\r\n\t  &lt;/message&gt;\r\n\t  &lt;message name=&quot;sayHelloResponse&quot;&gt;\r\n\t\t&lt;part name=&quot;parameters&quot; element=&quot;tns:sayHelloResponse&quot;/&gt;\r\n\t  &lt;/message&gt;\r\n\r\n\t  &lt;portType name=&quot;HelloWorldPortType&quot;&gt;\r\n\t\t&lt;operation name=&quot;sayHello&quot;&gt;\r\n\t\t  &lt;input message=&quot;tns:sayHelloRequest&quot;/&gt;\r\n\t\t  &lt;output message=&quot;tns:sayHelloResponse&quot;/&gt;\r\n\t\t&lt;/operation&gt;\r\n\t  &lt;/portType&gt;\r\n\r\n\t  &lt;binding name=&quot;HelloWorldBinding&quot; type=&quot;tns:HelloWorldPortType&quot;&gt;\r\n\t\t&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n\t\t&lt;operation name=&quot;sayHello&quot;&gt;\r\n\t\t  &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n\t\t  &lt;input&gt;\r\n\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t  &lt;/input&gt;\r\n\t\t  &lt;output&gt;\r\n\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t  &lt;/output&gt;\r\n\t\t&lt;/operation&gt;\r\n\t  &lt;/binding&gt;\r\n\r\n\t  &lt;service name=&quot;HelloWorldService&quot;&gt;\r\n\t\t&lt;port name=&quot;HelloWorldPort&quot; binding=&quot;tns:HelloWorldBinding&quot;&gt;\r\n\t\t  &lt;soap:address location=&quot;http://localhost:8080/HelloWorld&quot;/&gt;\r\n\t\t&lt;/port&gt;\r\n\t  &lt;/service&gt;\r\n\r\n\t&lt;/definitions&gt;\r\n\r\nBinding file:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;jaxb:bindings xmlns:jaxb=&quot;http://jakarta.ee/xml/ns/jaxb&quot;\r\n\t\t\t\t   xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\t\t\t   xmlns:xjc=&quot;http://jakarta.ee/xml/ns/jaxb/xjc&quot;\r\n\t\t\t\t   jaxb:extensionBindingPrefixes=&quot;xjc&quot;\r\n\t\t\t\t   jaxb:version=&quot;3.0&quot;&gt;\r\n\t\t&lt;jaxb:bindings schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;&gt;\r\n\t\t\t&lt;!-- Map xsd:date to java.time.LocalDate --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalDate&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:date&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalDate.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalDate.toString&quot;/&gt;\r\n\t\t\t&lt;!-- Map xsd:time to java.time.LocalTime --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalTime&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:time&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalTime.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalTime.toString&quot;/&gt;\r\n\t\t\t&lt;!-- Map xsd:dateTime to java.time.LocalDateTime --&gt;\r\n\t\t\t&lt;jaxb:javaType name=&quot;java.time.LocalDateTime&quot;\r\n\t\t\t\t\t\t   xmlType=&quot;xs:dateTime&quot;\r\n\t\t\t\t\t\t   parseMethod=&quot;java.time.LocalDateTime.parse&quot;\r\n\t\t\t\t\t\t   printMethod=&quot;java.time.LocalDateTime.toString&quot;/&gt;\r\n\t\t&lt;/jaxb:bindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\nAny ideas, why this happens? Please give only working answers. I&#39;ve already tried any hint I could find. I&#39;ve also tried different plugins (org.codehouse.mojo, com.sun.xml.ws, org.apache.xcf). None of them worked.","title":"jaxws 4 / java 17: it is not a jaxws or a jaxb binding file","body":"<p>I used to generate sources from WSDL/bindings, using jaxws-maven-plugin with spring-boot 2.3.7 and java 11. Now, after upgrading to spring-boot 3.0 and java 17, code generation fails, because my bindings files are ignored with error message</p>\n<p><code>bindings.xml: not a XML-WS- or XML-B-binding file</code></p>\n<p>I've seen this error being discussed on StackOverflow, but none with spring-boot 3.0. Here is an example to reproduce error:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n            &lt;xdebug&gt;true&lt;/xdebug&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;packageName&gt;com.daimler.daivb.cat.pkimgmt.bl.internal&lt;/packageName&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n        &lt;xdebug&gt;true&lt;/xdebug&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>WSDL-File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;definitions name=&quot;HelloWorldService&quot;\n             targetNamespace=&quot;http://example.com/helloworld&quot;\n             xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n             xmlns:tns=&quot;http://example.com/helloworld&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n             xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n             xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\n             xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\n\n  &lt;types&gt;\n    &lt;xsd:schema targetNamespace=&quot;http://example.com/helloworld&quot;&gt;\n      &lt;xsd:element name=&quot;sayHello&quot;&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;name&quot; type=&quot;xsd:string&quot;/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=&quot;sayHelloResponse&quot;&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;greeting&quot; type=&quot;xsd:string&quot;/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/types&gt;\n\n  &lt;message name=&quot;sayHelloRequest&quot;&gt;\n    &lt;part name=&quot;parameters&quot; element=&quot;tns:sayHello&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;sayHelloResponse&quot;&gt;\n    &lt;part name=&quot;parameters&quot; element=&quot;tns:sayHelloResponse&quot;/&gt;\n  &lt;/message&gt;\n\n  &lt;portType name=&quot;HelloWorldPortType&quot;&gt;\n    &lt;operation name=&quot;sayHello&quot;&gt;\n      &lt;input message=&quot;tns:sayHelloRequest&quot;/&gt;\n      &lt;output message=&quot;tns:sayHelloResponse&quot;/&gt;\n    &lt;/operation&gt;\n  &lt;/portType&gt;\n\n  &lt;binding name=&quot;HelloWorldBinding&quot; type=&quot;tns:HelloWorldPortType&quot;&gt;\n    &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n    &lt;operation name=&quot;sayHello&quot;&gt;\n      &lt;soap:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n    &lt;/operation&gt;\n  &lt;/binding&gt;\n\n  &lt;service name=&quot;HelloWorldService&quot;&gt;\n    &lt;port name=&quot;HelloWorldPort&quot; binding=&quot;tns:HelloWorldBinding&quot;&gt;\n      &lt;soap:address location=&quot;http://localhost:8080/HelloWorld&quot;/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n\n&lt;/definitions&gt;\n</code></pre>\n<p>Binding file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://jakarta.ee/xml/ns/jaxb&quot;\n               xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:xjc=&quot;http://jakarta.ee/xml/ns/jaxb/xjc&quot;\n               jaxb:extensionBindingPrefixes=&quot;xjc&quot;\n               jaxb:version=&quot;3.0&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd&quot;&gt;\n        &lt;!-- Map xsd:date to java.time.LocalDate --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalDate&quot;\n                       xmlType=&quot;xs:date&quot;\n                       parseMethod=&quot;java.time.LocalDate.parse&quot;\n                       printMethod=&quot;java.time.LocalDate.toString&quot;/&gt;\n        &lt;!-- Map xsd:time to java.time.LocalTime --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalTime&quot;\n                       xmlType=&quot;xs:time&quot;\n                       parseMethod=&quot;java.time.LocalTime.parse&quot;\n                       printMethod=&quot;java.time.LocalTime.toString&quot;/&gt;\n        &lt;!-- Map xsd:dateTime to java.time.LocalDateTime --&gt;\n        &lt;jaxb:javaType name=&quot;java.time.LocalDateTime&quot;\n                       xmlType=&quot;xs:dateTime&quot;\n                       parseMethod=&quot;java.time.LocalDateTime.parse&quot;\n                       printMethod=&quot;java.time.LocalDateTime.toString&quot;/&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Any ideas, why this happens? Please give only working answers. I've already tried any hint I could find. I've also tried different plugins (org.codehouse.mojo, com.sun.xml.ws, org.apache.xcf). None of them worked.</p>\n"},{"tags":["java","string","sorting","arraylist","lexicographic"],"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":1,"creation_date":1276013689,"post_id":2999129,"comment_id":3063197,"body_markdown":"&quot;I know to use Collections.sort, but it only sorts Strings that contain letters&quot; uh?","body":"&quot;I know to use Collections.sort, but it only sorts Strings that contain letters&quot; uh?"},{"owner":{"account_id":112735,"reputation":1572,"user_id":297216,"accept_rate":80,"display_name":"Cobusve"},"score":1,"creation_date":1276013718,"post_id":2999129,"comment_id":3063207,"body_markdown":"Not sure what you are trying to do, sorting the collection will sort everything (including &quot;7&quot;) alphabetically. Numbers are placed before A, so they would end up on top.\n\nIf you want 7 to be stored under &quot;s&quot; you would have to create a dictionary with something like the Generic Collections dictionary class, which has the display string &quot;7&quot; as well as the code/text representation &quot;Seven&quot;, or something like that.","body":"Not sure what you are trying to do, sorting the collection will sort everything (including &quot;7&quot;) alphabetically. Numbers are placed before A, so they would end up on top.  If you want 7 to be stored under &quot;s&quot; you would have to create a dictionary with something like the Generic Collections dictionary class, which has the display string &quot;7&quot; as well as the code/text representation &quot;Seven&quot;, or something like that."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1276013672,"creation_date":1276013672,"answer_id":2999164,"question_id":2999129,"body_markdown":"No, `Collections.sort` will sort everything, using an Unicode ordinal lexicographic comparison as that&#39;s the behaviour of [`String.compareTo`][1]. &quot;7&quot; will come before &quot;King&quot;, and &quot;10&quot; will come before &quot;2&quot;.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#compareTo(java.lang.String)","title":"How do I sort an ArrayList lexicographically?","body":"<p>No, <code>Collections.sort</code> will sort everything, using an Unicode ordinal lexicographic comparison as that's the behaviour of <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"noreferrer\"><code>String.compareTo</code></a>. \"7\" will come before \"King\", and \"10\" will come before \"2\".</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276014828,"creation_date":1276013676,"answer_id":2999165,"question_id":2999129,"body_markdown":"&gt;*I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?*\r\n\r\nIf the string is a number it is already being sorted ( as an String though ) look:\r\n\r\n\r\n    import java.util.*;\r\n    class Sort {\r\n        public static void main( String [] args  ) {\r\n            List list = Arrays.asList(&quot;Kings&quot;,&quot;7&quot;, &quot;Abcd&quot;, &quot;3.1416&quot;);\r\n            Collections.sort( list );\r\n            System.out.println( list );\r\n        }\r\n    }\r\n\r\nPrints \r\n\r\n    $ java Sort\r\n    [3.1416, 7, Abcd, Kings]\r\n\r\n\r\nIs that what you need? \r\n\r\n**edit**\r\n\r\nAssuming ( guessing )  what you need is to sort  a deck of cards, which have both numbers and &quot;letters&quot; ( J, Q, K, A )  you may try to use a custom comparator.\r\n\r\n\r\nHere&#39;s one that takes into consideration the numbers &quot;as numbers&quot; the the rest as strings, so &quot;10&quot; comes after &quot;2&quot; but before &quot;Kings&quot; \r\n\r\n\r\n\r\n    import java.util.*;\r\n    class Sort {\r\n        public static void main( String [] args  ) {\r\n            \r\n            List&lt;String&gt; list = Arrays.asList(&quot;Kings&quot;,&quot;7&quot;, &quot;Queen&quot;, &quot;3&quot;, &quot;10&quot;, &quot;A&quot;, &quot;2&quot;, &quot;8&quot;, &quot;Joker&quot;);\r\n            Collections.sort( list , new Comparator&lt;String&gt;(){\r\n                public int compare( String a, String b ){\r\n                    // if both are numbers\r\n                    if( a.matches(&quot;\\\\d+&quot;) &amp;&amp; b.matches(&quot;\\\\d+&quot;)) {\r\n                        return new Integer( a ) - new Integer( b );\r\n                    }\r\n                    // else, compare normally. \r\n                    return a.compareTo( b );\r\n                }\r\n            });\r\n            System.out.println( list );\r\n        }\r\n    }\r\n\r\n    $ java Sort\r\n    [2, 3, 7, 8, 10, A, Joker, Kings, Queen]\r\n\r\n\r\nIf that&#39;s what you need I guess this would help you to figure out the rest. Probably the next thing would be how to sort spades vs. hearts. \r\n\r\n\r\nFollowing the answer by [Roman][1] you could create a class and implement the [Comparable][2] interface:\r\n\r\n\r\n      class Card implements Comparable&lt;Card&gt; {\r\n           public int compareTo( Card other ) {  \r\n               // add custom logic to compare one card with other \r\n           }\r\n       }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically/2999209#2999209\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html","title":"How do I sort an ArrayList lexicographically?","body":"<blockquote>\n  <p><em>I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?</em></p>\n</blockquote>\n\n<p>If the string is a number it is already being sorted ( as an String though ) look:</p>\n\n<pre><code>import java.util.*;\nclass Sort {\n    public static void main( String [] args  ) {\n        List list = Arrays.asList(\"Kings\",\"7\", \"Abcd\", \"3.1416\");\n        Collections.sort( list );\n        System.out.println( list );\n    }\n}\n</code></pre>\n\n<p>Prints </p>\n\n<pre><code>$ java Sort\n[3.1416, 7, Abcd, Kings]\n</code></pre>\n\n<p>Is that what you need? </p>\n\n<p><strong>edit</strong></p>\n\n<p>Assuming ( guessing )  what you need is to sort  a deck of cards, which have both numbers and \"letters\" ( J, Q, K, A )  you may try to use a custom comparator.</p>\n\n<p>Here's one that takes into consideration the numbers \"as numbers\" the the rest as strings, so \"10\" comes after \"2\" but before \"Kings\" </p>\n\n<pre><code>import java.util.*;\nclass Sort {\n    public static void main( String [] args  ) {\n\n        List&lt;String&gt; list = Arrays.asList(\"Kings\",\"7\", \"Queen\", \"3\", \"10\", \"A\", \"2\", \"8\", \"Joker\");\n        Collections.sort( list , new Comparator&lt;String&gt;(){\n            public int compare( String a, String b ){\n                // if both are numbers\n                if( a.matches(\"\\\\d+\") &amp;&amp; b.matches(\"\\\\d+\")) {\n                    return new Integer( a ) - new Integer( b );\n                }\n                // else, compare normally. \n                return a.compareTo( b );\n            }\n        });\n        System.out.println( list );\n    }\n}\n\n$ java Sort\n[2, 3, 7, 8, 10, A, Joker, Kings, Queen]\n</code></pre>\n\n<p>If that's what you need I guess this would help you to figure out the rest. Probably the next thing would be how to sort spades vs. hearts. </p>\n\n<p>Following the answer by <a href=\"https://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically/2999209#2999209\">Roman</a> you could create a class and implement the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> interface:</p>\n\n<pre><code>  class Card implements Comparable&lt;Card&gt; {\n       public int compareTo( Card other ) {  \n           // add custom logic to compare one card with other \n       }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276022812,"creation_date":1276013767,"answer_id":2999176,"question_id":2999129,"body_markdown":"Sort will sort everything according to your charset. In otherwords, all numbers will come before letters in the lexicographic order. For example, decimal numbers start with a &#39;.&#39; and out of order lexicographically.\r\n\r\nIf you want to change this, make Comparator object. You could then put the items in whatever order you like.\r\n\r\nFor example, this will sort numbers in numerical order, and also words in lexical order:\r\n\r\n    class CardComparator extends Object implements Comparator{\r\n     public int compare(Object a, Object b){\r\n      try{\r\n       double d1=Double.valueOf(a.toString());\r\n       try{\r\n         double d2=Double.valueOf(b.toString());\r\n         return (d2&gt;d1)?1:-1;            // both numeric\r\n       }catch(NumberFormatException e){ // a is numeric but b isn&#39;t\r\n         return 1;\r\n       }\r\n      }catch(NumberFormatException e){  \r\n        try{\r\n         double d2=Double.valueOf(b.toString()); \r\n         return -1;                       // a is nonnumeric but b is\r\n        }catch(NumberFormatException e){  // both nonnumeric\r\n          return a.toString().compareTo(b.toString);\r\n        }\r\n      }\r\n     }\r\n    }\r\n    Comparator comparator=new CardComparator();\r\n    Collections.sort(cards, comparator);\r\nPS not tested!","title":"How do I sort an ArrayList lexicographically?","body":"<p>Sort will sort everything according to your charset. In otherwords, all numbers will come before letters in the lexicographic order. For example, decimal numbers start with a '.' and out of order lexicographically.</p>\n\n<p>If you want to change this, make Comparator object. You could then put the items in whatever order you like.</p>\n\n<p>For example, this will sort numbers in numerical order, and also words in lexical order:</p>\n\n<pre><code>class CardComparator extends Object implements Comparator{\n public int compare(Object a, Object b){\n  try{\n   double d1=Double.valueOf(a.toString());\n   try{\n     double d2=Double.valueOf(b.toString());\n     return (d2&gt;d1)?1:-1;            // both numeric\n   }catch(NumberFormatException e){ // a is numeric but b isn't\n     return 1;\n   }\n  }catch(NumberFormatException e){  \n    try{\n     double d2=Double.valueOf(b.toString()); \n     return -1;                       // a is nonnumeric but b is\n    }catch(NumberFormatException e){  // both nonnumeric\n      return a.toString().compareTo(b.toString);\n    }\n  }\n }\n}\nComparator comparator=new CardComparator();\nCollections.sort(cards, comparator);\n</code></pre>\n\n<p>PS not tested!</p>\n"},{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276014003,"creation_date":1276014003,"answer_id":2999208,"question_id":2999129,"body_markdown":"As @Jon Skeet said, the built-in sort will compare based on Unicode values.  You&#39;d have to write your own sorting method.\r\n\r\nAs long as you&#39;re writing your own code, though, might I suggest an enumeration?  A deck of cards is one of the canonical examples for use of enums.  The short version is that you can declare your own sort order for a group of things; you could even make the king of spades outrank the king of diamonds, if you wanted.  Check out Sun&#39;s tutorial [here](http://java.sun.com/docs/books/tutorial/java/javaOO/enum.html).","title":"How do I sort an ArrayList lexicographically?","body":"<p>As @Jon Skeet said, the built-in sort will compare based on Unicode values.  You'd have to write your own sorting method.</p>\n\n<p>As long as you're writing your own code, though, might I suggest an enumeration?  A deck of cards is one of the canonical examples for use of enums.  The short version is that you can declare your own sort order for a group of things; you could even make the king of spades outrank the king of diamonds, if you wanted.  Check out Sun's tutorial <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1276014021,"creation_date":1276014021,"answer_id":2999209,"question_id":2999129,"body_markdown":"As I understand, you have an array like `[&quot;7&quot;, &quot;Queen&quot;, &quot;9&quot;, &quot;6&quot;]` and you want it to look like `[&quot;Queen&quot;, &quot;9&quot;, &quot;7&quot;, &quot;6&quot;]` (or in reverse order) after sorting is done.\r\n\r\nI&#39;d recommend to make it a bit more object-oriented i.e. create class Card with fields name and value:\r\n\r\n    class Card {\r\n       private final String name;\r\n       private final int value;\r\n       ...\r\n       //constructor and getters\r\n    }\r\n\r\nand after that create instances in this manner:\r\n\r\n    Card six = new Card(&quot;6&quot;, 6);\r\n    Card ten = new Card(&quot;10&quot;, 10);\r\n    Card queen = new Card(&quot;Queen&quot;, 12);\r\n\r\nAfter that it&#39;ll be much easier to make all operations with cards (and sorting particularly) using field `value` instead of cards&#39; names.\r\n\r\n","title":"How do I sort an ArrayList lexicographically?","body":"<p>As I understand, you have an array like <code>[\"7\", \"Queen\", \"9\", \"6\"]</code> and you want it to look like <code>[\"Queen\", \"9\", \"7\", \"6\"]</code> (or in reverse order) after sorting is done.</p>\n\n<p>I'd recommend to make it a bit more object-oriented i.e. create class Card with fields name and value:</p>\n\n<pre><code>class Card {\n   private final String name;\n   private final int value;\n   ...\n   //constructor and getters\n}\n</code></pre>\n\n<p>and after that create instances in this manner:</p>\n\n<pre><code>Card six = new Card(\"6\", 6);\nCard ten = new Card(\"10\", 10);\nCard queen = new Card(\"Queen\", 12);\n</code></pre>\n\n<p>After that it'll be much easier to make all operations with cards (and sorting particularly) using field <code>value</code> instead of cards' names.</p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692175073,"creation_date":1692175073,"answer_id":76911866,"question_id":2999129,"body_markdown":"    Sharing an example where I have created two comparator for Lexicographical order, one for Integers and other for String\r\n    Note: String by default support Lexicographical order \r\n    \r\n    import java.util.*;\r\n    \r\n    public class ArrayListLexicographicalSort {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //Comparator for Lexicographical order for Integer\r\n            Comparator&lt;Integer&gt; comparator = (i,j)-&gt;ArrayListLexicographicalSort.lexicographicalSort(i,j);\r\n            //Comparator for Lexicographical order for String\r\n            Comparator&lt;String&gt; stringComparator = (i,j)-&gt;i.compareTo(j);\r\n    \r\n            //list of integers\r\n           List&lt;Integer&gt; integerList = Arrays.asList(101,11,2,100,10);\r\n            System.out.println(integerList);\r\n            //o/p-&gt;[101, 11, 2, 100, 10]\r\n            //creating a treeset with Lexicographical sort order for Integer\r\n            TreeSet&lt;Integer&gt; integerTreeSet = new TreeSet&lt;&gt;(comparator);\r\n            integerTreeSet.addAll(integerList);\r\n            //resultant Lexicographical order for integers\r\n            System.out.println(integerTreeSet);\r\n            //o/p-&gt;[10, 100, 101, 11, 2]\r\n    \r\n            //list of Strings\r\n            List&lt;String&gt; stringList = Arrays.asList(&quot;Abhinav&quot;,&quot;Kumar&quot;,&quot;Aabhinav&quot;,&quot;101&quot;,&quot;100&quot;,&quot;2&quot;);\r\n            System.out.println(stringList);\r\n            //o/p-&gt;[Abhinav, Kumar, Aabhinav, 101, 100, 2]\r\n            //creating a treeset with Lexicographical sort order for String\r\n            TreeSet&lt;String&gt; stringTreeSet = new TreeSet&lt;&gt;(stringComparator);\r\n            stringTreeSet.addAll(stringList);\r\n            //resultant Lexicographical order for strings\r\n            System.out.println(stringTreeSet);\r\n            //o/p-&gt;[100, 101, 2, Aabhinav, Abhinav, Kumar]\r\n        }\r\n    \r\n       // method to compare two integer lexicographically\r\n        private static int lexicographicalSort(long input1, long input2){\r\n    \r\n            // -ve means input1 is smaller\r\n            //  +ve means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            long inp1 = input1;\r\n            long inp2 = input2;\r\n            int input1Length = 1;\r\n            int input2Length = 1;\r\n    \r\n            while(inp1/10&gt;0){\r\n                input1Length++;\r\n                inp1 = inp1/10;\r\n            }\r\n    \r\n            while(inp2/10&gt;0){\r\n                input2Length++;\r\n                inp2 = inp2/10;\r\n            }\r\n    \r\n            int[] inArr1 = new int[input1Length];\r\n            int[] inArr2 = new int[input2Length];\r\n    \r\n            inp1 = input1;\r\n            inp2 = input2;\r\n    \r\n            int min = Math.min(input1Length,input2Length);\r\n    \r\n            while(inp1/10&gt;0){\r\n                inArr1[--input1Length] = (int)inp1%10;\r\n                inp1 = inp1/10;\r\n            }\r\n            inArr1[--input1Length] = (int)inp1;\r\n    \r\n            while(inp2/10&gt;0){\r\n                inArr2[--input2Length] = (int)inp2%10;\r\n                inp2 = inp2/10;\r\n            }\r\n            inArr2[--input2Length] = (int)inp2;\r\n    \r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( inArr1[k] != inArr2[k]){\r\n                    return inArr1[k]-inArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return inArr1.length-inArr2.length;\r\n        }\r\n    }\r\n\r\n","title":"How do I sort an ArrayList lexicographically?","body":"<pre><code>Sharing an example where I have created two comparator for Lexicographical order, one for Integers and other for String\nNote: String by default support Lexicographical order \n\nimport java.util.*;\n\npublic class ArrayListLexicographicalSort {\n\n    public static void main(String[] args) {\n\n        //Comparator for Lexicographical order for Integer\n        Comparator&lt;Integer&gt; comparator = (i,j)-&gt;ArrayListLexicographicalSort.lexicographicalSort(i,j);\n        //Comparator for Lexicographical order for String\n        Comparator&lt;String&gt; stringComparator = (i,j)-&gt;i.compareTo(j);\n\n        //list of integers\n       List&lt;Integer&gt; integerList = Arrays.asList(101,11,2,100,10);\n        System.out.println(integerList);\n        //o/p-&gt;[101, 11, 2, 100, 10]\n        //creating a treeset with Lexicographical sort order for Integer\n        TreeSet&lt;Integer&gt; integerTreeSet = new TreeSet&lt;&gt;(comparator);\n        integerTreeSet.addAll(integerList);\n        //resultant Lexicographical order for integers\n        System.out.println(integerTreeSet);\n        //o/p-&gt;[10, 100, 101, 11, 2]\n\n        //list of Strings\n        List&lt;String&gt; stringList = Arrays.asList(&quot;Abhinav&quot;,&quot;Kumar&quot;,&quot;Aabhinav&quot;,&quot;101&quot;,&quot;100&quot;,&quot;2&quot;);\n        System.out.println(stringList);\n        //o/p-&gt;[Abhinav, Kumar, Aabhinav, 101, 100, 2]\n        //creating a treeset with Lexicographical sort order for String\n        TreeSet&lt;String&gt; stringTreeSet = new TreeSet&lt;&gt;(stringComparator);\n        stringTreeSet.addAll(stringList);\n        //resultant Lexicographical order for strings\n        System.out.println(stringTreeSet);\n        //o/p-&gt;[100, 101, 2, Aabhinav, Abhinav, Kumar]\n    }\n\n   // method to compare two integer lexicographically\n    private static int lexicographicalSort(long input1, long input2){\n\n        // -ve means input1 is smaller\n        //  +ve means input1 is larger\n        //  0 means input1 and input2 are same\n        long inp1 = input1;\n        long inp2 = input2;\n        int input1Length = 1;\n        int input2Length = 1;\n\n        while(inp1/10&gt;0){\n            input1Length++;\n            inp1 = inp1/10;\n        }\n\n        while(inp2/10&gt;0){\n            input2Length++;\n            inp2 = inp2/10;\n        }\n\n        int[] inArr1 = new int[input1Length];\n        int[] inArr2 = new int[input2Length];\n\n        inp1 = input1;\n        inp2 = input2;\n\n        int min = Math.min(input1Length,input2Length);\n\n        while(inp1/10&gt;0){\n            inArr1[--input1Length] = (int)inp1%10;\n            inp1 = inp1/10;\n        }\n        inArr1[--input1Length] = (int)inp1;\n\n        while(inp2/10&gt;0){\n            inArr2[--input2Length] = (int)inp2%10;\n            inp2 = inp2/10;\n        }\n        inArr2[--input2Length] = (int)inp2;\n\n        int k = 0;\n\n        while(k&lt;min){\n            if( inArr1[k] != inArr2[k]){\n                return inArr1[k]-inArr2[k];\n            }\n            k++;\n        }\n\n        return inArr1.length-inArr2.length;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":620538,"reputation":81,"user_id":361564,"display_name":"Jake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43681,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1692175073,"creation_date":1276013383,"question_id":2999129,"body_markdown":"I am trying to sort an ArrayList of Strings that represent card values. So, some cards contain letters (&quot;King&quot;) and some contain Strings containing only a number (&quot;7&quot;). I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?\r\n\r\nEdit: Sorry, I must not have been paying much attention when I looked at the sorting. The sort works correctly, I must have just been thrown off by the fact that a 10 will come before a 2. Thanks","title":"How do I sort an ArrayList lexicographically?","body":"<p>I am trying to sort an ArrayList of Strings that represent card values. So, some cards contain letters (\"King\") and some contain Strings containing only a number (\"7\"). I know to use Collections.sort, but it only sorts Strings that contain letters. How do I get the ArrayList to be sorted by number as well as alphabetically?</p>\n\n<p>Edit: Sorry, I must not have been paying much attention when I looked at the sorting. The sort works correctly, I must have just been thrown off by the fact that a 10 will come before a 2. Thanks</p>\n"},{"tags":["java","sql","hibernate","join","hql"],"answers":[{"tags":[],"owner":{"account_id":1152215,"reputation":9967,"user_id":1133674,"accept_rate":52,"display_name":"Rahul Tapali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363745901,"creation_date":1363745901,"answer_id":15514105,"question_id":15514021,"body_markdown":"Try this:\r\n\r\n     String hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n              &quot;where W.idClient = :employee_id)&quot;;","title":"Update with Join hibernate (HQL)","body":"<p>Try this:</p>\n\n<pre><code> String hql = \"UPDATE Widhdrawal W set W.cost = :salary \"  + \n          \"where W.idClient = :employee_id)\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628990,"reputation":29,"user_id":1503931,"display_name":"wadjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363786425,"creation_date":1363786425,"answer_id":15525074,"question_id":15514021,"body_markdown":"Thank you, i found the solution.\r\nI hope that this can help other people ...\r\nThis problem is du to lowerCase.\r\n\r\n    \t\t\t\tString hql = &quot;UPDATE Widhdrawal W set W.cost= :newCost &quot;  + \r\n\t\t\t\t          &quot;where W.client.id_client = :id_cl&quot;;\r\n\r\n\t\t\t\tQuery query = session.createQuery(hql);","title":"Update with Join hibernate (HQL)","body":"<p>Thank you, i found the solution.\nI hope that this can help other people ...\nThis problem is du to lowerCase.</p>\n\n<pre><code>                String hql = \"UPDATE Widhdrawal W set W.cost= :newCost \"  + \n                      \"where W.client.id_client = :id_cl\";\n\n            Query query = session.createQuery(hql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5080395,"reputation":9,"user_id":4076682,"display_name":"kuldip phadatare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692174773,"creation_date":1509358477,"answer_id":47012753,"question_id":15514021,"body_markdown":"Try this:\r\n\r\n```java\r\nString hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n    &quot;where W.id_client =(select id_client from client where id_client = :employee_id)&quot;;\r\n```\r\n\r\nWidhdrawal  and client is POJO class name.","title":"Update with Join hibernate (HQL)","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \n    &quot;where W.id_client =(select id_client from client where id_client = :employee_id)&quot;;\n</code></pre>\n<p>Widhdrawal  and client is POJO class name.</p>\n"}],"owner":{"account_id":1628990,"reputation":29,"user_id":1503931,"display_name":"wadjo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692174773,"creation_date":1363745208,"question_id":15514021,"body_markdown":"I&#39;m on trouble with an hql problem.\r\n\r\nI would like to write a query, that updates an attribut, and that&#39;s based on a value on another table.\r\n\r\nThis is my example, I have those two tables : Client and Widhdrawal.\r\n\r\nClient : idClient, name ...\r\n\r\nWidhdrawal : idWidh, cost, and the idClient (foreign key)\r\n\r\nNow if i would update the client, under the condition of (idClient = 5 for example), i can&#39;t.\r\n\r\nI tried this, but in vain :\r\n\r\n    \t\tString hql = &quot;UPDATE Widhdrawal W set W.cost = :salary &quot;  + \r\n\t\t&quot;where W.Client.id_client = :employee_id)&quot;;\r\n\t\t\r\n\t\tQuery query = session.createQuery(hql);\r\n\t\tquery.setParameter(&quot;salary&quot;, 1000);\r\n\t\tquery.setParameter(&quot;employee_id&quot;, 5);\r\n\t\tint result = query.executeUpdate();\r\n\r\nI hope that someone can have some advices, thank you.","title":"Update with Join hibernate (HQL)","body":"<p>I'm on trouble with an hql problem.</p>\n\n<p>I would like to write a query, that updates an attribut, and that's based on a value on another table.</p>\n\n<p>This is my example, I have those two tables : Client and Widhdrawal.</p>\n\n<p>Client : idClient, name ...</p>\n\n<p>Widhdrawal : idWidh, cost, and the idClient (foreign key)</p>\n\n<p>Now if i would update the client, under the condition of (idClient = 5 for example), i can't.</p>\n\n<p>I tried this, but in vain :</p>\n\n<pre><code>        String hql = \"UPDATE Widhdrawal W set W.cost = :salary \"  + \n    \"where W.Client.id_client = :employee_id)\";\n\n    Query query = session.createQuery(hql);\n    query.setParameter(\"salary\", 1000);\n    query.setParameter(\"employee_id\", 5);\n    int result = query.executeUpdate();\n</code></pre>\n\n<p>I hope that someone can have some advices, thank you.</p>\n"},{"tags":["java","android","android-animation","android-button"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691164012,"post_id":76743065,"comment_id":135459492,"body_markdown":"try this one https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/","body":"try this one <a href=\"https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/\" rel=\"nofollow noreferrer\">parallelcodes.com/&hellip;</a>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1691164496,"post_id":76743065,"comment_id":135459584,"body_markdown":"@AniruddhParihar: Thanks for your comment. What exactly shall I try there? I had a look at the link but don&#39;t see at all how this should be related to my question","body":"@AniruddhParihar: Thanks for your comment. What exactly shall I try there? I had a look at the link but don&#39;t see at all how this should be related to my question"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691397457,"post_id":76743065,"comment_id":135480693,"body_markdown":"try this gradient https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/#:~:text=res%3Edrawable%3Ebuttonstyle1.xml%3A","body":"try this gradient <a href=\"https://parallelcodes.com/how-to-create-android-gradient-buttons-different-designs/#:~:text=res%3Edrawable%3Ebuttonstyle1.xml%3A\" rel=\"nofollow noreferrer\">parallelcodes.com/&hellip;</a>"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1691397599,"post_id":76743065,"comment_id":135480730,"body_markdown":"Or try this Gradient for button\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;https://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;@color/red&quot;/&gt;\n    &lt;item android:state_focused=&quot;true&quot; android:color=&quot;@color/yellow&quot;/&gt;\n    &lt;item android:color=&quot;@color/green&quot;/&gt;\n&lt;/selector&gt;","body":"Or try this Gradient for button  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;selector xmlns:android=&quot;<a href=\"https://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;@color/red&quot;/&gt;     &lt;item android:state_focused=&quot;true&quot; android:color=&quot;@color/yellow&quot;/&gt;     &lt;item android:color=&quot;@color/green&quot;/&gt; &lt;/selector&gt;"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1691521054,"post_id":76743065,"comment_id":135502146,"body_markdown":"@AniruddhParihar: Thanks for your comment. Actually not the button should change when pressing (that would be easy). When the button is hold pressed the custom made rectangle view should change and this makes the whole thing difficult","body":"@AniruddhParihar: Thanks for your comment. Actually not the button should change when pressing (that would be easy). When the button is hold pressed the custom made rectangle view should change and this makes the whole thing difficult"}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690023732,"creation_date":1690023732,"answer_id":76743477,"question_id":76743065,"body_markdown":"&gt; What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed.\r\n\r\nColor of you rectangle is changed back after 300ms, thats what you have coded. This might give a flicker.\r\n\r\nIts hard to tell from the provided code what is exactly wrong. You have not provided code for `RepeatListener`. I suspect that the code inside:\r\n\r\n    public void onClick(View view) {\r\n\r\ngets executed even after first time button was touched. You should execute your on touch code when `event.getAction() == MotionEvent.ACTION_DOWN` and when its `event.getAction() == MotionEvent.ACTION_UP`, handle touch up action. Otherwise you will intercept also `MotionEvent.ACTION_MOVE` events which can give you flicker. I assume this is not implemented in `RepeatListener`.\r\n\r\nSo, when `MotionEvent.ACTION_DOWN` change color to the one you want to stay for the time user touches button. Then when `MotionEvent.ACTION_UP` comes, change the color back. I dont see a need for `postDelayed` here.\r\n\r\n\r\n\r\n","title":"How to change the color of a view in Android as long as a repeatListener button is pressed without flickering","body":"<blockquote>\n<p>What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed.</p>\n</blockquote>\n<p>Color of you rectangle is changed back after 300ms, thats what you have coded. This might give a flicker.</p>\n<p>Its hard to tell from the provided code what is exactly wrong. You have not provided code for <code>RepeatListener</code>. I suspect that the code inside:</p>\n<pre><code>public void onClick(View view) {\n</code></pre>\n<p>gets executed even after first time button was touched. You should execute your on touch code when <code>event.getAction() == MotionEvent.ACTION_DOWN</code> and when its <code>event.getAction() == MotionEvent.ACTION_UP</code>, handle touch up action. Otherwise you will intercept also <code>MotionEvent.ACTION_MOVE</code> events which can give you flicker. I assume this is not implemented in <code>RepeatListener</code>.</p>\n<p>So, when <code>MotionEvent.ACTION_DOWN</code> change color to the one you want to stay for the time user touches button. Then when <code>MotionEvent.ACTION_UP</code> comes, change the color back. I dont see a need for <code>postDelayed</code> here.</p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76743477,"answer_count":1,"score":0,"last_activity_date":1692174580,"creation_date":1690017036,"question_id":76743065,"body_markdown":"I have the following Java code\r\n\r\n    package com.example.game;\r\n    \r\n    import android.content.pm.ActivityInfo;\r\n    import android.graphics.Point;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Handler;\r\n    import android.view.Display;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.WindowManager;\r\n    import android.view.animation.LinearInterpolator;\r\n    import androidx.constraintlayout.widget.ConstraintLayout;\r\n    import androidx.constraintlayout.widget.ConstraintSet;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.fragment.app.Fragment;\r\n    import com.example.game.databinding.FragmentTestBinding;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class Test extends Fragment {\r\n        /*\r\n        Game variables\r\n         */\r\n    \r\n        private Handler handler = new Handler();\r\n    \r\n        private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 8000;\r\n    \r\n        private int currentTimeSlot;\r\n    \r\n        private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\r\n        private float percentageHeightOfEventElement = 0.071f;\r\n    \r\n        int widthDisplay;\r\n        int heightDisplay;\r\n    \r\n        //Type of View_Game_Events\r\n        public static final String VIEW_EVENT_RECTANGLE_SOLAR = &quot;Solar&quot;;\r\n    \r\n        private FragmentTestBinding binding;\r\n    \r\n        private ConstraintLayout constraintLayout;\r\n        ConstraintSet constraintSet ;\r\n    \r\n        //Variables for the single view event\r\n        View_Game_Event_Rectangle[] viewEvent;\r\n        boolean [] isViewEventActive;\r\n        Drawable[] drawingsForTheViewEvents;\r\n        private static int nextFreeIndexForViewEvent;\r\n        private static int numberOfViewEventInArray = 10;\r\n        ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\r\n    \r\n        private int [] orangeRectangleValuesForTheLevel;\r\n    \r\n        private boolean fragmentViewHasBeenCreated = false;\r\n    \r\n        private CountDownTimer cdt;\r\n    \r\n        private  final long DELAY_COUNT_DOWN_TIMER = 100; //100ms\r\n    \r\n        private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\r\n    \r\n    \r\n        public Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            nextFreeIndexForViewEvent = 0;\r\n            viewEvent = new View_Game_Event_Rectangle[numberOfViewEventInArray];\r\n            drawingsForTheViewEvents = new Drawable[numberOfViewEventInArray];\r\n            arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\r\n            isViewEventActive = new boolean[numberOfViewEventInArray];\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n    \r\n            WindowManager wm = (WindowManager) getActivity().getWindowManager();\r\n            Display display = wm.getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            widthDisplay = size.x;\r\n            heightDisplay = size.y;\r\n    \r\n    \r\n            container.getContext();\r\n            constraintLayout= binding.constraintLayout;\r\n    \r\n    \r\n            fragmentViewHasBeenCreated = true;\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            constraintLayout = binding.constraintLayout;\r\n            constraintSet = new ConstraintSet();\r\n    \r\n            //Define the repeatListener\r\n            binding.repeatButton.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    View_Game_Event_Rectangle activeElement = null;\r\n                    for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n                        activeElement = arrayList_GameEventRectangles.get(currentElement);\r\n                    }\r\n    \r\n                    if (activeElement!=null) {\r\n                        activeElement.setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_2).mutate());\r\n                        // Schedule the change back to R.drawable.game_event_rectangle_solar_1 after 10 milliseconds\r\n                        Handler handler = new Handler();\r\n                        View_Game_Event_Rectangle finalActiveElement = activeElement;\r\n                        handler.postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                // Change the background back to R.drawable.game_event_rectangle_solar_1\r\n                                finalActiveElement.setBackground(ContextCompat.getDrawable(getActivity(), R.drawable.game_event_rectangle_solar_1).mutate());\r\n                            }\r\n                        }, 300);\r\n                    }\r\n    \r\n    \r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n            startGame();\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        public void startGame () {\r\n            startRound();\r\n        }\r\n    \r\n        public void startRound () {\r\n            orangeRectangleValuesForTheLevel = new int[5000];\r\n            orangeRectangleValuesForTheLevel [54] = 20;\r\n    \r\n    \r\n    \r\n            //Create the array list with the Game_Event_Rectangles\r\n            for (int i =0; i&lt;orangeRectangleValuesForTheLevel.length; i++) {\r\n                if (orangeRectangleValuesForTheLevel[i] &gt;0) {\r\n                    arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), VIEW_EVENT_RECTANGLE_SOLAR, i+1, orangeRectangleValuesForTheLevel[i]));\r\n                }\r\n            }\r\n    \r\n            countDownTime();\r\n    \r\n        }\r\n    \r\n        private void updateScreen() {\r\n    \r\n            /*\r\n            Iterate through all elements\r\n             */\r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n    \r\n    \r\n                //Create view and set\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 15) {\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setActive(true);\r\n    \r\n    \r\n                    //Set the parameters and the backgorund of the view element\r\n                    arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\r\n    \r\n                    if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(VIEW_EVENT_RECTANGLE_SOLAR)) {\r\n                        arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_1).mutate());\r\n                    }\r\n    \r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\r\n    \r\n                    //Make the view invisible (before it&#39;s appearence time)\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\r\n    \r\n                    // Set the ConstraintLayout programatically for the view\r\n                    constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\r\n                    constraintSet.clone(constraintLayout);\r\n                    constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\r\n    \r\n                    float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\r\n                    float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\r\n    \r\n    \r\n                    constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\r\n    \r\n                    float horizontalBias = 1.0f ;\r\n                    constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\r\n                    constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\r\n                    constraintSet.applyTo(constraintLayout);\r\n    \r\n                }\r\n    \r\n                //Shift the view to the right border of the display\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 10) {\r\n    \r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\r\n                }\r\n    \r\n    \r\n                //Animate view element\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\r\n                    View rectangle = arrayList_GameEventRectangles.get(currentElement);\r\n                    int rectangleWidth = rectangle.getWidth();\r\n                    float distanceToCover_current = widthDisplay + rectangleWidth;\r\n                    float distanceToCover_normalizedObject = widthDisplay + 20;\r\n                    double ratioDistanceDifference = distanceToCover_current /distanceToCover_normalizedObject;\r\n                    long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * ratioDistanceDifference);\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).setInterpolator(new LinearInterpolator()).start();\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private void countDownTime(){\r\n    \r\n    \r\n            cdt = new CountDownTimer(100000, DELAY_COUNT_DOWN_TIMER) {\r\n                boolean delay = true;\r\n                public void onTick(long millisUntilFinished) {\r\n                    if(delay) {\r\n                        delay = false;\r\n                    } else {\r\n                        currentTimeSlot++;\r\n    \r\n                        updateScreen();\r\n                        delay = true;\r\n                    }\r\n                }\r\n                public void onFinish() {\r\n                    updateScreen();\r\n                }\r\n            }.start();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            // Reset your variable to false\r\n            fragmentViewHasBeenCreated = false;\r\n    \r\n            // And clean up any postDelayed callbacks that are waiting to fire\r\n            cdt.cancel();\r\n            handler.removeCallbacksAndMessages(null);\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code for the RepeatListener:\r\n\r\n    package com.example.game;\r\n    \r\n    import android.os.Handler;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    \r\n    /**\r\n     * A class, that can be used as a TouchListener on any view (e.g. a Button).\r\n     * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\r\n     * click is fired immediately, next one after the initialInterval, and subsequent\r\n     * ones after the normalInterval.\r\n     *\r\n     * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\r\n     * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\r\n     * achieve this.\r\n     */\r\n    public class RepeatListener implements View.OnTouchListener {\r\n    \r\n        private Handler handler = new Handler();\r\n    \r\n        private int initialInterval;\r\n        private final int normalInterval;\r\n        private final View.OnClickListener clickListener;\r\n        private View touchedView;\r\n    \r\n        private Runnable handlerRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if(touchedView.isEnabled()) {\r\n                    handler.postDelayed(this, normalInterval);\r\n                    clickListener.onClick(touchedView);\r\n                } else {\r\n                    // if the view was disabled by the clickListener, remove the callback\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                }\r\n            }\r\n        };\r\n    \r\n        /**\r\n         * @param initialInterval The interval after first click event\r\n         * @param normalInterval The interval after second and subsequent click\r\n         *       events\r\n         * @param clickListener The OnClickListener, that will be called\r\n         *       periodically\r\n         */\r\n        public RepeatListener(int initialInterval, int normalInterval,\r\n                              View.OnClickListener clickListener) {\r\n            if (clickListener == null)\r\n                throw new IllegalArgumentException(&quot;null runnable&quot;);\r\n            if (initialInterval &lt; 0 || normalInterval &lt; 0)\r\n                throw new IllegalArgumentException(&quot;negative interval&quot;);\r\n    \r\n            this.initialInterval = initialInterval;\r\n            this.normalInterval = normalInterval;\r\n            this.clickListener = clickListener;\r\n        }\r\n    \r\n        public boolean onTouch(View view, MotionEvent motionEvent) {\r\n            switch (motionEvent.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    handler.postDelayed(handlerRunnable, initialInterval);\r\n                    touchedView = view;\r\n                    touchedView.setPressed(true);\r\n                    clickListener.onClick(view);\r\n                    return true;\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL:\r\n                    handler.removeCallbacks(handlerRunnable);\r\n                    touchedView.setPressed(false);\r\n                    touchedView = null;\r\n                    return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhat happens is that a simple custom made view rectangle `View_Game_Event_Rectangle` is animated from the right to the left.Then I have a repeat listener. When the repeat listener is pressed the background color of the custom view is changed from its original one `R.drawable.game_event_rectangle_solar_1` to a new one `R.drawable.game_event_rectangle_solar_2`. A handler then changes the color back after some time. The problem is, that the custom made view rectangle flickers while holding the repeatListener pressed. I tried to change the time delay for the handler but this did not solve the problem (when the delay is too high, the color remains changed for a long time). What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed. After the repeatListener button is not pressed any more, the color should change back to its original one. The improtant aspect is that while the button is pressed, the custom made view rectangle should not flicker but just have the alternative color `R.drawable.game_event_rectangle_solar_2`.\r\n\r\n**Please**: Please can someone share his/her idea? I&#39;d be quite thankful.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ihf5q.png","title":"How to change the color of a view in Android as long as a repeatListener button is pressed without flickering","body":"<p>I have the following Java code</p>\n<pre><code>package com.example.game;\n\nimport android.content.pm.ActivityInfo;\nimport android.graphics.Point;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.os.Handler;\nimport android.view.Display;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.view.animation.LinearInterpolator;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.constraintlayout.widget.ConstraintSet;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\nimport com.example.game.databinding.FragmentTestBinding;\nimport java.util.ArrayList;\n\n\npublic class Test extends Fragment {\n    /*\n    Game variables\n     */\n\n    private Handler handler = new Handler();\n\n    private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 8000;\n\n    private int currentTimeSlot;\n\n    private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\n    private float percentageHeightOfEventElement = 0.071f;\n\n    int widthDisplay;\n    int heightDisplay;\n\n    //Type of View_Game_Events\n    public static final String VIEW_EVENT_RECTANGLE_SOLAR = &quot;Solar&quot;;\n\n    private FragmentTestBinding binding;\n\n    private ConstraintLayout constraintLayout;\n    ConstraintSet constraintSet ;\n\n    //Variables for the single view event\n    View_Game_Event_Rectangle[] viewEvent;\n    boolean [] isViewEventActive;\n    Drawable[] drawingsForTheViewEvents;\n    private static int nextFreeIndexForViewEvent;\n    private static int numberOfViewEventInArray = 10;\n    ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\n\n    private int [] orangeRectangleValuesForTheLevel;\n\n    private boolean fragmentViewHasBeenCreated = false;\n\n    private CountDownTimer cdt;\n\n    private  final long DELAY_COUNT_DOWN_TIMER = 100; //100ms\n\n    private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\n\n\n    public Test() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        nextFreeIndexForViewEvent = 0;\n        viewEvent = new View_Game_Event_Rectangle[numberOfViewEventInArray];\n        drawingsForTheViewEvents = new Drawable[numberOfViewEventInArray];\n        arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\n        isViewEventActive = new boolean[numberOfViewEventInArray];\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n\n        WindowManager wm = (WindowManager) getActivity().getWindowManager();\n        Display display = wm.getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        widthDisplay = size.x;\n        heightDisplay = size.y;\n\n\n        container.getContext();\n        constraintLayout= binding.constraintLayout;\n\n\n        fragmentViewHasBeenCreated = true;\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        constraintLayout = binding.constraintLayout;\n        constraintSet = new ConstraintSet();\n\n        //Define the repeatListener\n        binding.repeatButton.setOnTouchListener((View.OnTouchListener) new RepeatListener(30, 30, new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                View_Game_Event_Rectangle activeElement = null;\n                for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n                    activeElement = arrayList_GameEventRectangles.get(currentElement);\n                }\n\n                if (activeElement!=null) {\n                    activeElement.setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_2).mutate());\n                    // Schedule the change back to R.drawable.game_event_rectangle_solar_1 after 10 milliseconds\n                    Handler handler = new Handler();\n                    View_Game_Event_Rectangle finalActiveElement = activeElement;\n                    handler.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            // Change the background back to R.drawable.game_event_rectangle_solar_1\n                            finalActiveElement.setBackground(ContextCompat.getDrawable(getActivity(), R.drawable.game_event_rectangle_solar_1).mutate());\n                        }\n                    }, 300);\n                }\n\n\n\n            }\n        }));\n\n\n        startGame();\n        return binding.getRoot();\n    }\n\n    public void startGame () {\n        startRound();\n    }\n\n    public void startRound () {\n        orangeRectangleValuesForTheLevel = new int[5000];\n        orangeRectangleValuesForTheLevel [54] = 20;\n\n\n\n        //Create the array list with the Game_Event_Rectangles\n        for (int i =0; i&lt;orangeRectangleValuesForTheLevel.length; i++) {\n            if (orangeRectangleValuesForTheLevel[i] &gt;0) {\n                arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), VIEW_EVENT_RECTANGLE_SOLAR, i+1, orangeRectangleValuesForTheLevel[i]));\n            }\n        }\n\n        countDownTime();\n\n    }\n\n    private void updateScreen() {\n\n        /*\n        Iterate through all elements\n         */\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n\n\n            //Create view and set\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 15) {\n\n                arrayList_GameEventRectangles.get(currentElement).setActive(true);\n\n\n                //Set the parameters and the backgorund of the view element\n                arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\n\n                if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(VIEW_EVENT_RECTANGLE_SOLAR)) {\n                    arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_solar_1).mutate());\n                }\n\n\n                arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\n\n                //Make the view invisible (before it's appearence time)\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\n\n                // Set the ConstraintLayout programatically for the view\n                constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\n                constraintSet.clone(constraintLayout);\n                constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\n\n                float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\n                float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\n\n\n                constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\n\n                float horizontalBias = 1.0f ;\n                constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\n                constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\n                constraintSet.applyTo(constraintLayout);\n\n            }\n\n            //Shift the view to the right border of the display\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 10) {\n\n\n                arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\n            }\n\n\n            //Animate view element\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\n                View rectangle = arrayList_GameEventRectangles.get(currentElement);\n                int rectangleWidth = rectangle.getWidth();\n                float distanceToCover_current = widthDisplay + rectangleWidth;\n                float distanceToCover_normalizedObject = widthDisplay + 20;\n                double ratioDistanceDifference = distanceToCover_current /distanceToCover_normalizedObject;\n                long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * ratioDistanceDifference);\n\n                arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).setInterpolator(new LinearInterpolator()).start();\n\n            }\n        }\n\n    }\n\n    private void countDownTime(){\n\n\n        cdt = new CountDownTimer(100000, DELAY_COUNT_DOWN_TIMER) {\n            boolean delay = true;\n            public void onTick(long millisUntilFinished) {\n                if(delay) {\n                    delay = false;\n                } else {\n                    currentTimeSlot++;\n\n                    updateScreen();\n                    delay = true;\n                }\n            }\n            public void onFinish() {\n                updateScreen();\n            }\n        }.start();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Reset your variable to false\n        fragmentViewHasBeenCreated = false;\n\n        // And clean up any postDelayed callbacks that are waiting to fire\n        cdt.cancel();\n        handler.removeCallbacksAndMessages(null);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ihf5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ihf5q.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for the RepeatListener:</p>\n<pre><code>package com.example.game;\n\nimport android.os.Handler;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n/**\n * A class, that can be used as a TouchListener on any view (e.g. a Button).\n * It cyclically runs a clickListener, emulating keyboard-like behaviour. First\n * click is fired immediately, next one after the initialInterval, and subsequent\n * ones after the normalInterval.\n *\n * &lt;p&gt;Interval is scheduled after the onClick completes, so it has to run fast.\n * If it runs slow, it does not generate skipped onClicks. Can be rewritten to\n * achieve this.\n */\npublic class RepeatListener implements View.OnTouchListener {\n\n    private Handler handler = new Handler();\n\n    private int initialInterval;\n    private final int normalInterval;\n    private final View.OnClickListener clickListener;\n    private View touchedView;\n\n    private Runnable handlerRunnable = new Runnable() {\n        @Override\n        public void run() {\n            if(touchedView.isEnabled()) {\n                handler.postDelayed(this, normalInterval);\n                clickListener.onClick(touchedView);\n            } else {\n                // if the view was disabled by the clickListener, remove the callback\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n            }\n        }\n    };\n\n    /**\n     * @param initialInterval The interval after first click event\n     * @param normalInterval The interval after second and subsequent click\n     *       events\n     * @param clickListener The OnClickListener, that will be called\n     *       periodically\n     */\n    public RepeatListener(int initialInterval, int normalInterval,\n                          View.OnClickListener clickListener) {\n        if (clickListener == null)\n            throw new IllegalArgumentException(&quot;null runnable&quot;);\n        if (initialInterval &lt; 0 || normalInterval &lt; 0)\n            throw new IllegalArgumentException(&quot;negative interval&quot;);\n\n        this.initialInterval = initialInterval;\n        this.normalInterval = normalInterval;\n        this.clickListener = clickListener;\n    }\n\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        switch (motionEvent.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                handler.removeCallbacks(handlerRunnable);\n                handler.postDelayed(handlerRunnable, initialInterval);\n                touchedView = view;\n                touchedView.setPressed(true);\n                clickListener.onClick(view);\n                return true;\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL:\n                handler.removeCallbacks(handlerRunnable);\n                touchedView.setPressed(false);\n                touchedView = null;\n                return true;\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n<p>What happens is that a simple custom made view rectangle <code>View_Game_Event_Rectangle</code> is animated from the right to the left.Then I have a repeat listener. When the repeat listener is pressed the background color of the custom view is changed from its original one <code>R.drawable.game_event_rectangle_solar_1</code> to a new one <code>R.drawable.game_event_rectangle_solar_2</code>. A handler then changes the color back after some time. The problem is, that the custom made view rectangle flickers while holding the repeatListener pressed. I tried to change the time delay for the handler but this did not solve the problem (when the delay is too high, the color remains changed for a long time). What I want is that the color of the custom made view rectangle keeps changed as long as the repeatListener button is pressed. After the repeatListener button is not pressed any more, the color should change back to its original one. The improtant aspect is that while the button is pressed, the custom made view rectangle should not flicker but just have the alternative color <code>R.drawable.game_event_rectangle_solar_2</code>.</p>\n<p><strong>Please</strong>: Please can someone share his/her idea? I'd be quite thankful.</p>\n"},{"tags":["java","json","amazon-dynamodb"],"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":1,"creation_date":1645772952,"post_id":43812278,"comment_id":125964288,"body_markdown":"Most of the answers here are obsolete so I posted a new related question at https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x","body":"Most of the answers here are obsolete so I posted a new related question at <a href=\"https://stackoverflow.com/questions/71262197/where-did-the-classes-internalutils-and-itemutils-go-in-aws-sdx-2-x\" title=\"where did the classes internalutils and itemutils go in aws sdx 2 x\">stackoverflow.com/questions/71262197/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7276753,"reputation":427,"user_id":5547938,"accept_rate":17,"display_name":"Himanshu Parmar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1494516130,"creation_date":1494516130,"answer_id":43919594,"question_id":43812278,"body_markdown":"Below is the complete code for converting from Dynamo JSON to Standard JSON:\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.Item;\r\n    import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\r\n    import com.google.gson.Gson;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Main Lambda class to receive event stream, parse it to Survey\r\n     * and process them.\r\n     */\r\n    public class SurveyEventProcessor implements\r\n            RequestHandler&lt;DynamodbEvent, String&gt; {\r\n    \r\n        private static final String INSERT = &quot;INSERT&quot;;\r\n    \r\n        private static final String MODIFY = &quot;MODIFY&quot;;\r\n    \r\n        public String handleRequest(DynamodbEvent ddbEvent, Context context) {\r\n    \r\n            List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\r\n            List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\r\n            for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\r\n    \r\n                if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\r\n                    listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\r\n                    listOfMaps.add(record.getDynamodb().getNewImage());\r\n                    listOfItem = InternalUtils.toItemList(listOfMaps);\r\n                }\r\n    \r\n                System.out.println(listOfItem);\r\n                try {\r\n                   // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\r\n                    Gson gson = new Gson();\r\n                    Item item = listOfItem.get(0);\r\n    \r\n                    String json = gson.toJson(item.asMap());\r\n                    System.out.println(&quot;JSON is &quot;);\r\n                    System.out.println(json);\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    \r\n            return &quot;Successfully processed &quot; + ddbEvent.getRecords().size() + &quot; records.&quot;;\r\n        }\r\n    } ","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Below is the complete code for converting from Dynamo JSON to Standard JSON:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.Item;\nimport com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\nimport com.google.gson.Gson;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Main Lambda class to receive event stream, parse it to Survey\n * and process them.\n */\npublic class SurveyEventProcessor implements\n        RequestHandler&lt;DynamodbEvent, String&gt; {\n\n    private static final String INSERT = \"INSERT\";\n\n    private static final String MODIFY = \"MODIFY\";\n\n    public String handleRequest(DynamodbEvent ddbEvent, Context context) {\n\n        List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\n        for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\n\n            if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\n                listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\n                listOfMaps.add(record.getDynamodb().getNewImage());\n                listOfItem = InternalUtils.toItemList(listOfMaps);\n            }\n\n            System.out.println(listOfItem);\n            try {\n               // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\n                Gson gson = new Gson();\n                Item item = listOfItem.get(0);\n\n                String json = gson.toJson(item.asMap());\n                System.out.println(\"JSON is \");\n                System.out.println(json);\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n        }\n\n\n        return \"Successfully processed \" + ddbEvent.getRecords().size() + \" records.\";\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11206844,"reputation":115,"user_id":8222199,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501958533,"creation_date":1501958533,"answer_id":45525300,"question_id":43812278,"body_markdown":"Following is a simple solution which can be applied to convert any DynamoDB Json to Simple JSON.\r\n\r\n    //passing the reponse.getItems() \r\n\tpublic static Object getJson(List&lt;Map&lt;String,AttributeValue&gt;&gt; mapList) {\r\n\t\tList&lt;Object&gt; finalJson= new ArrayList();\r\n\t\tfor(Map&lt;String,AttributeValue&gt; eachEntry : mapList) {\r\n\t\t\tfinalJson.add(mapToJson(eachEntry));\r\n\t\t}\r\n\t\treturn finalJson;\r\n\t}\r\n\t\r\n\t\r\n\t//if the map is null then it add the key and value(string) in the finalKeyValueMap\r\n\tpublic static Map&lt;String,Object&gt; mapToJson(Map&lt;String,AttributeValue&gt; keyValueMap){\r\n\t\tMap&lt;String,Object&gt; finalKeyValueMap = new HashMap();\r\n\t\tfor(Map.Entry&lt;String, AttributeValue&gt; entry : keyValueMap.entrySet()) \r\n\t\t{\r\n\t\t\tif(entry.getValue().getM() == null) {\r\n\t\t\t\tfinalKeyValueMap.put(entry.getKey(),entry.getValue().getS());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfinalKeyValueMap.put(entry.getKey(),mapToJson(entry.getValue().getM()));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn finalKeyValueMap;\r\n\t}\r\n\r\nThis will produce your desired Json in the form of List&lt;Map&lt;String,Object&gt;&gt;. Then using the Gson you can convert it into the Json format. \r\n\r\n    Gson gson = new Gson();\r\n    String jsonString = gson.toJson(getJson(response.getItems()));\r\n\r\n\r\n\r\n ","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Following is a simple solution which can be applied to convert any DynamoDB Json to Simple JSON.</p>\n\n<pre><code>//passing the reponse.getItems() \npublic static Object getJson(List&lt;Map&lt;String,AttributeValue&gt;&gt; mapList) {\n    List&lt;Object&gt; finalJson= new ArrayList();\n    for(Map&lt;String,AttributeValue&gt; eachEntry : mapList) {\n        finalJson.add(mapToJson(eachEntry));\n    }\n    return finalJson;\n}\n\n\n//if the map is null then it add the key and value(string) in the finalKeyValueMap\npublic static Map&lt;String,Object&gt; mapToJson(Map&lt;String,AttributeValue&gt; keyValueMap){\n    Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\n    for(Map.Entry&lt;String, AttributeValue&gt; entry : keyValueMap.entrySet()) \n    {\n        if(entry.getValue().getM() == null) {\n            finalKeyValueMap.put(entry.getKey(),entry.getValue().getS());\n        }\n        else {\n            finalKeyValueMap.put(entry.getKey(),mapToJson(entry.getValue().getM()));\n        }\n    }\n    return finalKeyValueMap;\n}\n</code></pre>\n\n<p>This will produce your desired Json in the form of List>. Then using the Gson you can convert it into the Json format. </p>\n\n<pre><code>Gson gson = new Gson();\nString jsonString = gson.toJson(getJson(response.getItems()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4967795,"reputation":935,"user_id":3996525,"accept_rate":17,"display_name":"shamanth Gowdra Shankaramurthy"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1519253754,"creation_date":1519253754,"answer_id":48916925,"question_id":43812278,"body_markdown":"You can use [ItemUtils][1] class in aws sdk. Below is sample code using Kotlin:\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.ItemUtils\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val data = HashMap&lt;String,AttributeValue&gt;()\r\n        data.put(&quot;hello&quot;,AttributeValue().withS(&quot;world&quot;))\r\n        println(data.toString())\r\n        println(ItemUtils.toItem(data).toJSON())\r\n    }\r\nOutput:\r\n\r\n    {hello={S: world,}}\r\n    {&quot;hello&quot;:&quot;world&quot;}\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html\r\n","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>You can use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html\" rel=\"noreferrer\">ItemUtils</a> class in aws sdk. Below is sample code using Kotlin:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.ItemUtils\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue\n\nfun main(args: Array&lt;String&gt;) {\n    val data = HashMap&lt;String,AttributeValue&gt;()\n    data.put(\"hello\",AttributeValue().withS(\"world\"))\n    println(data.toString())\n    println(ItemUtils.toItem(data).toJSON())\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{hello={S: world,}}\n{\"hello\":\"world\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2588064,"reputation":1022,"user_id":2767348,"accept_rate":80,"display_name":"mzimmermann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546144023,"creation_date":1546144023,"answer_id":53975281,"question_id":43812278,"body_markdown":"Amazon has an internal utility that can do the core of the job in 1 line.\r\n\r\n\r\n\r\n    Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\r\n\r\n\r\nA long version which contains some configurations:\r\n\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import java.lang.Map;\r\n    import java.lang.HashMap;\r\n\r\n    public class JsonConvert {\r\n        public static void main(String[] args) {\r\n            Map&lt;String,Object&gt; jsonMap = new HashMap();\r\n            jsonMap.put(&quot;string&quot;, &quot;foo&quot;);\r\n            jsonMap.put(&quot;number&quot;, 123);\r\n            Map&lt;String,Object&gt; innerMap = new HashMap();\r\n            innerMap.put(&quot;key&quot;, &quot;value&quot;);\r\n            jsonMap.put(&quot;map&quot;, innerMap);\r\n            AttributeValue attributeValue = InternalUtils.toAttributeValue(jsonMap);\r\n            Map&lt;String, AttributeValue&gt; attributeValueMap = new HashMap();\r\n            attributeValueMap.put(&quot;id&quot;, attributeValue);\r\n\r\n            Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\r\n            Map&lt;String, Object&gt; jsonMap = jsonMapWithId.get(&quot;id&quot;); // This is a regular map, values are not Amazon AttributeValue\r\n\r\n            Gson gson = new Gson(); \r\n            String json = gson.toJson(jsonMap); \r\n\r\n            System.out.println(json);\r\n        }\r\n    }","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Amazon has an internal utility that can do the core of the job in 1 line.</p>\n\n<pre><code>Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\n</code></pre>\n\n<p>A long version which contains some configurations:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport java.lang.Map;\nimport java.lang.HashMap;\n\npublic class JsonConvert {\n    public static void main(String[] args) {\n        Map&lt;String,Object&gt; jsonMap = new HashMap();\n        jsonMap.put(\"string\", \"foo\");\n        jsonMap.put(\"number\", 123);\n        Map&lt;String,Object&gt; innerMap = new HashMap();\n        innerMap.put(\"key\", \"value\");\n        jsonMap.put(\"map\", innerMap);\n        AttributeValue attributeValue = InternalUtils.toAttributeValue(jsonMap);\n        Map&lt;String, AttributeValue&gt; attributeValueMap = new HashMap();\n        attributeValueMap.put(\"id\", attributeValue);\n\n        Map&lt;String, Object&gt; jsonMapWithId = InternalUtils.toSimpleMapValue(attributeValueMap);\n        Map&lt;String, Object&gt; jsonMap = jsonMapWithId.get(\"id\"); // This is a regular map, values are not Amazon AttributeValue\n\n        Gson gson = new Gson(); \n        String json = gson.toJson(jsonMap); \n\n        System.out.println(json);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10322487,"reputation":1569,"user_id":7614909,"accept_rate":80,"display_name":"Akshay Apte"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551877680,"creation_date":1551877680,"answer_id":55023864,"question_id":43812278,"body_markdown":"Convert your JSON string to a Map first using\r\n\r\n    JSONObject jsonObj = new JSONObject(logString);\r\n    HashMap&lt;String, Object&gt; myMap = new Gson().fromJson(jsonObj.toString(), HashMap.class);\r\n\r\nFunction for converting DynamoDB JSON to Standard JSON\r\n\r\n    public static Map&lt;String,Object&gt; mapToJson(Map map){\r\n    \t    Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\r\n    \t    Iterator it = map.entrySet().iterator();\r\n    \r\n    \t    while(it.hasNext()) {\r\n    \t    \tMap.Entry pair = (Map.Entry)it.next();\r\n    \t    \t\r\n    \t    \tMap obj1 = (Map) pair.getValue();\r\n    \t    \tif(obj1.get(&quot;m&quot;) == null) {\r\n    \t    \t\tif(obj1.get(&quot;n&quot;) != null)\r\n    \t    \t\t\tfinalKeyValueMap.put(pair.getKey().toString(),obj1.get(&quot;n&quot;));\r\n    \t    \t\telse if(obj1.get(&quot;s&quot;) != null)\r\n    \t    \t\t\tfinalKeyValueMap.put(pair.getKey().toString(),obj1.get(&quot;s&quot;));\r\n    \t    \t}\r\n    \t    \telse {\r\n    \t    \t\tMap obj2 = (Map) pair.getValue();\r\n    \t    \t\tMap obj3 = (Map) obj2.get(&quot;m&quot;);\r\n    \t    \t\tfinalKeyValueMap.put(pair.getKey().toString(),mapToJson(obj3));\r\n    \t    \t}\r\n    \t    \t\r\n    \t    }\r\n    \t    System.out.println(finalKeyValueMap.toString());\r\n    \t    return finalKeyValueMap;\r\n    \t}\r\n\r\ncalling `mapToJson(myMap);` will return a standard Map which you can convert back to JSON","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>Convert your JSON string to a Map first using</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(logString);\nHashMap&lt;String, Object&gt; myMap = new Gson().fromJson(jsonObj.toString(), HashMap.class);\n</code></pre>\n\n<p>Function for converting DynamoDB JSON to Standard JSON</p>\n\n<pre><code>public static Map&lt;String,Object&gt; mapToJson(Map map){\n        Map&lt;String,Object&gt; finalKeyValueMap = new HashMap();\n        Iterator it = map.entrySet().iterator();\n\n        while(it.hasNext()) {\n            Map.Entry pair = (Map.Entry)it.next();\n\n            Map obj1 = (Map) pair.getValue();\n            if(obj1.get(\"m\") == null) {\n                if(obj1.get(\"n\") != null)\n                    finalKeyValueMap.put(pair.getKey().toString(),obj1.get(\"n\"));\n                else if(obj1.get(\"s\") != null)\n                    finalKeyValueMap.put(pair.getKey().toString(),obj1.get(\"s\"));\n            }\n            else {\n                Map obj2 = (Map) pair.getValue();\n                Map obj3 = (Map) obj2.get(\"m\");\n                finalKeyValueMap.put(pair.getKey().toString(),mapToJson(obj3));\n            }\n\n        }\n        System.out.println(finalKeyValueMap.toString());\n        return finalKeyValueMap;\n    }\n</code></pre>\n\n<p>calling <code>mapToJson(myMap);</code> will return a standard Map which you can convert back to JSON</p>\n"},{"tags":[],"owner":{"account_id":22399012,"reputation":1,"user_id":16609812,"display_name":"6f8g8"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628368779,"creation_date":1628355196,"answer_id":68694424,"question_id":43812278,"body_markdown":"\r\n\r\n```\r\nimport com.amazonaws.services.dynamodbv2.document.ItemUtils;\r\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.MapperFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic final class Utility {\r\n\r\n  public static &lt;T&gt; String convertDynamoDbJsonToNormalJson(final JsonNode node, final Class&lt;T&gt; type)\r\n      throws IOException {\r\n    final var objectMapper =\r\n        new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\r\n    final Map&lt;String, AttributeValue&gt; itemMap =\r\n        objectMapper.convertValue(node, new TypeReference&lt;&gt;() {});\r\n    final var item = ItemUtils.toItem(itemMap);\r\n    final var asPojo = objectMapper.readValue(item.toJSON(), type);\r\n    return objectMapper.writeValueAsString((Object) asPojo);\r\n  }\r\n}\r\n\r\n```","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<pre><code>import com.amazonaws.services.dynamodbv2.document.ItemUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.util.Map;\n\npublic final class Utility {\n\n  public static &lt;T&gt; String convertDynamoDbJsonToNormalJson(final JsonNode node, final Class&lt;T&gt; type)\n      throws IOException {\n    final var objectMapper =\n        new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n    final Map&lt;String, AttributeValue&gt; itemMap =\n        objectMapper.convertValue(node, new TypeReference&lt;&gt;() {});\n    final var item = ItemUtils.toItem(itemMap);\n    final var asPojo = objectMapper.readValue(item.toJSON(), type);\n    return objectMapper.writeValueAsString((Object) asPojo);\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10658366,"reputation":11,"user_id":7847169,"display_name":"raghavreddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692174153,"creation_date":1692174153,"answer_id":76911752,"question_id":43812278,"body_markdown":"There is now EnhancedDocument interface to address this \r\nhttps://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>There is now EnhancedDocument interface to address this\n<a href=\"https://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/devops/introducing-the-enhanced-document-api-for-dynamodb-in-the-aws-sdk-for-java-2-x/</a></p>\n"}],"owner":{"account_id":1691660,"reputation":1564,"user_id":1553874,"accept_rate":88,"display_name":"Nir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36437,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":43919594,"answer_count":7,"score":12,"last_activity_date":1692174153,"creation_date":1494011654,"question_id":43812278,"body_markdown":"I need to convert a AWS DYNAMODB JSON to a standard JSON object.\r\nso I can remove the data type from the DynamoDB JSON\r\nSomething more like:\r\n\r\nin DYNAMODB JSON:\r\n\r\n    &quot;videos&quot;: [\r\n        {\r\n          &quot;file&quot;: {\r\n            &quot;S&quot;: &quot;file1.mp4&quot;\r\n          },\r\n          &quot;id&quot;: {\r\n            &quot;S&quot;: &quot;1&quot;\r\n          },\r\n          &quot;canvas&quot;: {\r\n            &quot;S&quot;: &quot;This is Canvas1&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;file&quot;: {\r\n            &quot;S&quot;: &quot;main.mp4&quot;\r\n          },\r\n          &quot;id&quot;: {\r\n            &quot;S&quot;: &quot;0&quot;\r\n          },\r\n          &quot;canvas&quot;: {\r\n            &quot;S&quot;: &quot;this is a canvas&quot;\r\n          }\r\n        }\r\n      ]\r\n    \r\n    to Standard JSON\r\n     &quot;videos&quot;: [\r\n        {\r\n          &quot;file&quot;: &quot;file1.mp4&quot;\r\n          ,\r\n          &quot;id&quot;: &quot;1&quot;\r\n          ,\r\n          &quot;canvas&quot;:  &quot;This is Canvas1&quot;\r\n          ,\r\n          &quot;file&quot;: &quot;main.mp4&quot;\r\n      \t  ,\r\n          &quot;id&quot;:  &quot;0&quot;\r\n          ,\r\n          &quot;canvas&quot;: &quot;this is a canvas&quot;\r\n    \r\n        }\r\n      ]\r\n\r\nI found a nice tool in Javascript but is there any tool in Java in order to do that?\r\n\r\n","title":"Converting DynamoDB JSON to Standard JSON with Java","body":"<p>I need to convert a AWS DYNAMODB JSON to a standard JSON object.\nso I can remove the data type from the DynamoDB JSON\nSomething more like:</p>\n\n<p>in DYNAMODB JSON:</p>\n\n<pre><code>\"videos\": [\n    {\n      \"file\": {\n        \"S\": \"file1.mp4\"\n      },\n      \"id\": {\n        \"S\": \"1\"\n      },\n      \"canvas\": {\n        \"S\": \"This is Canvas1\"\n      }\n    },\n    {\n      \"file\": {\n        \"S\": \"main.mp4\"\n      },\n      \"id\": {\n        \"S\": \"0\"\n      },\n      \"canvas\": {\n        \"S\": \"this is a canvas\"\n      }\n    }\n  ]\n\nto Standard JSON\n \"videos\": [\n    {\n      \"file\": \"file1.mp4\"\n      ,\n      \"id\": \"1\"\n      ,\n      \"canvas\":  \"This is Canvas1\"\n      ,\n      \"file\": \"main.mp4\"\n      ,\n      \"id\":  \"0\"\n      ,\n      \"canvas\": \"this is a canvas\"\n\n    }\n  ]\n</code></pre>\n\n<p>I found a nice tool in Javascript but is there any tool in Java in order to do that?</p>\n"},{"tags":["java","ssl","intellij-idea","ssl-certificate"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692173738,"post_id":76910142,"comment_id":135586466,"body_markdown":"&#39;I&#39;ve added `-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;`&#39;: this is completely pointless, as that&#39;s the default. Duplicate.","body":"&#39;I&#39;ve added <code>-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;</code>&#39;: this is completely pointless, as that&#39;s the default. Duplicate."},{"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"score":0,"creation_date":1692191862,"post_id":76910142,"comment_id":135590268,"body_markdown":"What would make you think that the solution is in the referenced question? I of course found that question before posting, and none of the answers seems to be the case.  An identical error message doesn&#39;t indicate identical root cause.  Yes, I&#39;m aware that cacerts is the default but explicitly set it so that I could be sure of where it is pointing.  I would think people would appreciate that, but hey.","body":"What would make you think that the solution is in the referenced question? I of course found that question before posting, and none of the answers seems to be the case.  An identical error message doesn&#39;t indicate identical root cause.  Yes, I&#39;m aware that cacerts is the default but explicitly set it so that I could be sure of where it is pointing.  I would think people would appreciate that, but hey."}],"owner":{"account_id":4423771,"reputation":141,"user_id":3602820,"accept_rate":83,"display_name":"patricio2626"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692173704,"answer_count":0,"score":0,"last_activity_date":1692173815,"creation_date":1692153024,"question_id":76910142,"body_markdown":"I&#39;m aware that this error has quite a history and a number of causes, some simple and some less than simple.  I&#39;m trying to connect to an SSL socket in a program running manually in IntelliJ on Windows.  \r\n\r\n- I&#39;ve imported all three (machine, intermediate, root) certs into the Java cacerts store\r\n\r\n- I&#39;ve tried importing them in order root --&gt; intermediate --&gt; machine\r\n\r\n- I&#39;ve tried just the root cert using `-trustcacerts`\r\n\r\n- I&#39;ve verified that I&#39;m using the cacerts file of the JDK that IntelliJ is using, though `-Djavax.net.debug=all` in the CLI args in Intellij doesn&#39;t log anything to the console.\r\n\r\n- I&#39;ve added `-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;`, pointing explicitly absolute path to the keystore with no luck.\r\n\r\n\r\n        C:\\WINDOWS\\system32&gt;keytool -list -keystore &quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot; -storepass changeit | findstr dev\r\n\r\n        devissuingcert, Aug 15, 2023, trustedCertEntry,\r\n        devrcmcert, Aug 15, 2023, trustedCertEntry,\r\n        devrootcert, Aug 15, 2023, trustedCertEntry,\r\n\r\n\r\nThoughts?\r\n\r\n","title":"java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty - have tried all potential solutions I&#39;ve found","body":"<p>I'm aware that this error has quite a history and a number of causes, some simple and some less than simple.  I'm trying to connect to an SSL socket in a program running manually in IntelliJ on Windows.</p>\n<ul>\n<li><p>I've imported all three (machine, intermediate, root) certs into the Java cacerts store</p>\n</li>\n<li><p>I've tried importing them in order root --&gt; intermediate --&gt; machine</p>\n</li>\n<li><p>I've tried just the root cert using <code>-trustcacerts</code></p>\n</li>\n<li><p>I've verified that I'm using the cacerts file of the JDK that IntelliJ is using, though <code>-Djavax.net.debug=all</code> in the CLI args in Intellij doesn't log anything to the console.</p>\n</li>\n<li><p>I've added <code>-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot;</code>, pointing explicitly absolute path to the keystore with no luck.</p>\n<pre><code>  C:\\WINDOWS\\system32&gt;keytool -list -keystore &quot;C:\\Program Files\\Java\\jdk-20\\lib\\security\\cacerts&quot; -storepass changeit | findstr dev\n\n  devissuingcert, Aug 15, 2023, trustedCertEntry,\n  devrcmcert, Aug 15, 2023, trustedCertEntry,\n  devrootcert, Aug 15, 2023, trustedCertEntry,\n</code></pre>\n</li>\n</ul>\n<p>Thoughts?</p>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419604212,"post_id":27658343,"comment_id":43732419,"body_markdown":"would you please try setting another version of tomcat in Intellij and test.","body":"would you please try setting another version of tomcat in Intellij and test."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":1,"creation_date":1419605061,"post_id":27658343,"comment_id":43732662,"body_markdown":"Tried with tomcat6. same error","body":"Tried with tomcat6. same error"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419607241,"post_id":27658343,"comment_id":43733316,"body_markdown":"Try checking tomcat log file and paste the error it here","body":"Try checking tomcat log file and paste the error it here"},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419834070,"post_id":27658343,"comment_id":43782784,"body_markdown":"@HBizhi: I added the log above.","body":"@HBizhi: I added the log above."},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419834798,"post_id":27658343,"comment_id":43782978,"body_markdown":"You have no error in tomcat log, it means maybe some software seems to block tomcat socket. Try disable all antivirus or applications you think may interfere. Also, please check in Run/Debug configuration, where you defined a tomcat server if the artifact is exists in the box named `Before lunch:Make, Build Artifacts`. If there does not exist try adding it.If this is ok then try changing the port number of the defined tomcat server.","body":"You have no error in tomcat log, it means maybe some software seems to block tomcat socket. Try disable all antivirus or applications you think may interfere. Also, please check in Run/Debug configuration, where you defined a tomcat server if the artifact is exists in the box named <code>Before lunch:Make, Build Artifacts</code>. If there does not exist try adding it.If this is ok then try changing the port number of the defined tomcat server."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419846641,"post_id":27658343,"comment_id":43786863,"body_markdown":"@HBizhi I have Make, Build Artifacts in Before launch. Tried changing the port number as well. same error","body":"@HBizhi I have Make, Build Artifacts in Before launch. Tried changing the port number as well. same error"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419848360,"post_id":27658343,"comment_id":43787595,"body_markdown":"Is there `java.net.BindException: Address already in use` in error message? If there is, be sure some other application in using the port. You can find PID of the process that takes the port with `netstat -ano | findstr 8080` and try to kill him.","body":"Is there <code>java.net.BindException: Address already in use</code> in error message? If there is, be sure some other application in using the port. You can find PID of the process that takes the port with <code>netstat -ano | findstr 8080</code> and try to kill him."},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419848722,"post_id":27658343,"comment_id":43787759,"body_markdown":"No such exception. :(","body":"No such exception. :("},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419849190,"post_id":27658343,"comment_id":43787967,"body_markdown":"I&#39;m really trying hard to solve your question. Hope this happen soon :) please paste whole stack error in your question","body":"I&#39;m really trying hard to solve your question. Hope this happen soon :) please paste whole stack error in your question"},{"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"score":0,"creation_date":1419852703,"post_id":27658343,"comment_id":43789505,"body_markdown":"@HBizhi: Added event log. Something wrong with JMX port I guess","body":"@HBizhi: Added event log. Something wrong with JMX port I guess"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1419854998,"post_id":27658343,"comment_id":43790530,"body_markdown":"Is the artifact you created Exploded? when creating artifact did you choose `Web Application:Exploded`?","body":"Is the artifact you created Exploded? when creating artifact did you choose <code>Web Application:Exploded</code>?"}],"answers":[{"tags":[],"owner":{"account_id":478791,"reputation":2082,"user_id":891092,"accept_rate":57,"display_name":"ZakiMak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419604421,"creation_date":1419604421,"answer_id":27658399,"question_id":27658343,"body_markdown":"Please check this answer posted by Christian and also read that thread.\r\n[Tomcat deployment issue via IntelliJ ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22821256/891092\r\n\r\nSimply try removing **setenv.sh** in $CATALINA_HOME/bin","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Please check this answer posted by Christian and also read that thread.\n<a href=\"https://stackoverflow.com/a/22821256/891092\">Tomcat deployment issue via IntelliJ </a></p>\n\n<p>Simply try removing <strong>setenv.sh</strong> in $CATALINA_HOME/bin</p>\n"},{"tags":[],"owner":{"account_id":5746277,"reputation":91,"user_id":4537436,"display_name":"mattyboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423229785,"creation_date":1423229785,"answer_id":28367006,"question_id":27658343,"body_markdown":"I had this issue today and it wasn&#39;t due to setenv.sh as discussed on the other thread. In the end it was an issue with $CATALINA_BASE/conf/server.xml.\r\n\r\nFor some reason in our server.xml we were using a custom engine name for example\r\n\r\n    &lt;Engine name=&quot;custom-value&quot; defaultHost=&quot;localhost&quot;&gt;\r\n\r\nI tried again with a clean server.xml from tomcat 7.0.57 and the artifact deployed perfectly. After trial and error it came down to this one line.\r\n\r\nChanging engine name to &#39;Catalina&#39; as shown below value fixed our issue and allowed our exploded artifact to deploy using our customised server.xml\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n\r\nIf you are seeing this issue try a clean server.xml and work backwards from there.","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>I had this issue today and it wasn't due to setenv.sh as discussed on the other thread. In the end it was an issue with $CATALINA_BASE/conf/server.xml.</p>\n\n<p>For some reason in our server.xml we were using a custom engine name for example</p>\n\n<pre><code>&lt;Engine name=\"custom-value\" defaultHost=\"localhost\"&gt;\n</code></pre>\n\n<p>I tried again with a clean server.xml from tomcat 7.0.57 and the artifact deployed perfectly. After trial and error it came down to this one line.</p>\n\n<p>Changing engine name to 'Catalina' as shown below value fixed our issue and allowed our exploded artifact to deploy using our customised server.xml</p>\n\n<pre><code>&lt;Engine name=\"Catalina\" defaultHost=\"localhost\"&gt;\n</code></pre>\n\n<p>If you are seeing this issue try a clean server.xml and work backwards from there.</p>\n"},{"tags":[],"owner":{"account_id":362391,"reputation":60,"user_id":2200271,"display_name":"Maks Danylenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428187437,"creation_date":1428187437,"answer_id":29452209,"question_id":27658343,"body_markdown":"[tomcat-7.0-doc RUNNING][1]\n\n(3.2) Set JRE_HOME or JAVA_HOME (required)\n\nThese variables are used to specify location of a Java Runtime\nEnvironment or of a Java Development Kit that is used to start Tomcat.\n\nThe JRE_HOME variable is used to specify location of a JRE. The JAVA_HOME\nvariable is used to specify location of a JDK.\n\nUsing JAVA_HOME provides access to certain additional startup options that\nare not allowed when JRE_HOME is used.\n\nIf both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.\n\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">tomcat-7.0-doc RUNNING</a></p>\n<p>(3.2) Set JRE_HOME or JAVA_HOME (required)</p>\n<p>These variables are used to specify location of a Java Runtime\nEnvironment or of a Java Development Kit that is used to start Tomcat.</p>\n<p>The JRE_HOME variable is used to specify location of a JRE. The JAVA_HOME\nvariable is used to specify location of a JDK.</p>\n<p>Using JAVA_HOME provides access to certain additional startup options that\nare not allowed when JRE_HOME is used.</p>\n<p>If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.</p>\n"},{"tags":[],"owner":{"display_name":"user6042021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457564307,"creation_date":1457564307,"answer_id":35904378,"question_id":27658343,"body_markdown":"In my case, Intellij IDEA doesn&#39;t support run tomcat8 installed from linux repositories.\r\n /usr/share/tomcat/bin/catalina.sh start  (not support)\r\n /usr/share/tomcat/bin/catalina.sh run  (supported)\r\n\r\nOnly tomcat8 installed from official website. I tried with distribution downloaded from http://tomcat.apache.org/download-80.cgi. So I got successful results.\r\n\r\nThe reason is in the catalina.sh file from linux distribution, where there isn&#39;t &quot;run&quot; command. But in the tomcat downloaded there is &quot;run&quot; command. [catalina.sh_InstalledFromLinuxRepository][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KqvG.png","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>In my case, Intellij IDEA doesn't support run tomcat8 installed from linux repositories.\n /usr/share/tomcat/bin/catalina.sh start  (not support)\n /usr/share/tomcat/bin/catalina.sh run  (supported)</p>\n\n<p>Only tomcat8 installed from official website. I tried with distribution downloaded from <a href=\"http://tomcat.apache.org/download-80.cgi\" rel=\"nofollow\">http://tomcat.apache.org/download-80.cgi</a>. So I got successful results.</p>\n\n<p>The reason is in the catalina.sh file from linux distribution, where there isn't \"run\" command. But in the tomcat downloaded there is \"run\" command. <a href=\"https://i.stack.imgur.com/8KqvG.png\" rel=\"nofollow\">catalina.sh_InstalledFromLinuxRepository</a></p>\n"},{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470836312,"creation_date":1470836312,"answer_id":38875080,"question_id":27658343,"body_markdown":"Do you set JAVA_OPTS anywhere in Tomcat bat/sh files?\r\nIf you do, make sure to keep previous values also - IDEA seems to use those to specify some connection options to Tomcat.\r\nE.g. in .sh files do\r\n\r\n    JAVA_OPTS=&quot;&lt;your new stuff&gt; $JAVA_OPTS&quot;\r\n\r\ninstead of just\r\n\r\n    JAVA_OPTS=&lt;your new stuff&gt;\r\n\r\nP.S. Same answer as this actually: https://stackoverflow.com/a/28867346/307295","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Do you set JAVA_OPTS anywhere in Tomcat bat/sh files?\nIf you do, make sure to keep previous values also - IDEA seems to use those to specify some connection options to Tomcat.\nE.g. in .sh files do</p>\n\n<pre><code>JAVA_OPTS=\"&lt;your new stuff&gt; $JAVA_OPTS\"\n</code></pre>\n\n<p>instead of just</p>\n\n<pre><code>JAVA_OPTS=&lt;your new stuff&gt;\n</code></pre>\n\n<p>P.S. Same answer as this actually: <a href=\"https://stackoverflow.com/a/28867346/307295\">https://stackoverflow.com/a/28867346/307295</a></p>\n"}],"owner":{"account_id":3492337,"reputation":153,"user_id":2921668,"display_name":"yesuagg"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16165,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1692173175,"creation_date":1419603957,"question_id":27658343,"body_markdown":"Trying to run my app with IntelliJ 13 and Apache tomcat 7.0.42. JDK1.6\r\n\r\nAlways getting the error **Artifact app:war exploded: Server is not connected. Deploy is not available.**\r\n\r\nBut when I deploy through terminal with **catalina.sh start** it works perfectly fine.\r\n\r\nI referred this link for setup: http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers\r\n\r\nAny idea what am I missing?\r\n\r\nHere is the Tomcat Catalina log:\r\n\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: .:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 614 ms\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.42\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Dec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 44 ms\r\n    Dec 29, 2014 11:43:39 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory /Users/yesuagg/apache-tomcat-7.0.42/webapps/manager\r\n\r\nException in Event log\r\n\r\n    4:58:40 PM Compilation completed successfully with 104 warnings in 6 sec\r\n    4:58:42 PM Application Server was not connected before run configuration stop, reason:\r\n           java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \r\n           java.net.ConnectException: Connection refused]\r\n\r\n","title":"Server is not connected. Deploy is not available. IntelliJ 13 and Tomcat 7","body":"<p>Trying to run my app with IntelliJ 13 and Apache tomcat 7.0.42. JDK1.6</p>\n\n<p>Always getting the error <strong>Artifact app:war exploded: Server is not connected. Deploy is not available.</strong></p>\n\n<p>But when I deploy through terminal with <strong>catalina.sh start</strong> it works perfectly fine.</p>\n\n<p>I referred this link for setup: <a href=\"http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers\" rel=\"noreferrer\">http://confluence.jetbrains.com/display/IntelliJIDEA/Application+Servers</a></p>\n\n<p>Any idea what am I missing?</p>\n\n<p>Here is the Tomcat Catalina log:</p>\n\n<pre><code>Dec 29, 2014 11:43:29 AM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: .:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8080\"]\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nDec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 614 ms\nDec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nDec 29, 2014 11:43:29 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.42\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8080\"]\nDec 29, 2014 11:43:29 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\nDec 29, 2014 11:43:29 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 44 ms\nDec 29, 2014 11:43:39 AM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory /Users/yesuagg/apache-tomcat-7.0.42/webapps/manager\n</code></pre>\n\n<p>Exception in Event log</p>\n\n<pre><code>4:58:40 PM Compilation completed successfully with 104 warnings in 6 sec\n4:58:42 PM Application Server was not connected before run configuration stop, reason:\n       java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \n       java.net.ConnectException: Connection refused]\n</code></pre>\n"},{"tags":["java","arrays","json","jackson"],"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1369732987,"post_id":16788213,"comment_id":24192262,"body_markdown":"Unfortunately I cannot use full mapping because the data does not fixed field names.","body":"Unfortunately I cannot use full mapping because the data does not fixed field names."},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1369733305,"post_id":16788213,"comment_id":24192442,"body_markdown":"If the field names come from a limited set you may want to define a class featuring all of them, and use the deserializer&#39;s `FAIL_ON_UNKNOWN_PROPERTIES` feature to just get nulls returned in the unused fields.  But that&#39;s of course only an option if the field name set is relatively limited.","body":"If the field names come from a limited set you may want to define a class featuring all of them, and use the deserializer&#39;s <code>FAIL_ON_UNKNOWN_PROPERTIES</code> feature to just get nulls returned in the unused fields.  But that&#39;s of course only an option if the field name set is relatively limited."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1369817662,"post_id":16788213,"comment_id":24228896,"body_markdown":"Hm I think this solution doesn&#39;t fit best in my case but I will remember it in case I will have a problem with a limited set which is known in advance!","body":"Hm I think this solution doesn&#39;t fit best in my case but I will remember it in case I will have a problem with a limited set which is known in advance!"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369733179,"creation_date":1369732850,"answer_id":16788349,"question_id":16788213,"body_markdown":"&gt;  Is there a method equivalent to getJSONArray in org.json so that I have proper error handling in case it isn&#39;t an array?\r\n\r\nIt depends on your input; i.e. the stuff you fetch from the URL.  If the value of the &quot;datasets&quot; attribute is an associative array rather than a plain array, you will get a `ClassCastException`.\r\n\r\nBut then again, the correctness of your old version *also* depends on the input.  In the situation where your new version throws a `ClassCastException`, the old version will throw `JSONException`.  Reference: http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<blockquote>\n  <p>Is there a method equivalent to getJSONArray in org.json so that I have proper error handling in case it isn't an array?</p>\n</blockquote>\n\n<p>It depends on your input; i.e. the stuff you fetch from the URL.  If the value of the \"datasets\" attribute is an associative array rather than a plain array, you will get a <code>ClassCastException</code>.</p>\n\n<p>But then again, the correctness of your old version <em>also</em> depends on the input.  In the situation where your new version throws a <code>ClassCastException</code>, the old version will throw <code>JSONException</code>.  Reference: <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)\" rel=\"nofollow\">http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":314,"is_accepted":true,"score":314,"last_activity_date":1692172988,"creation_date":1369747119,"answer_id":16793133,"question_id":16788213,"body_markdown":"Yes, the Jackson manual parser design is quite different from other libraries. In particular, you will notice that `JsonNode` has most of the functions that you would typically associate with array nodes from other APIs. As such, you do not need to cast to an `ArrayNode` to use. Here&#39;s an example:\r\n\r\n***JSON:***\r\n\r\n    {\r\n        &quot;objects&quot; : [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]\r\n    }\r\n\r\n***Code:***\r\n\r\n    final String json = &quot;{\\&quot;objects\\&quot; : [\\&quot;One\\&quot;, \\&quot;Two\\&quot;, \\&quot;Three\\&quot;]}&quot;;\r\n\r\n    final JsonNode arrNode = new ObjectMapper().readTree(json).get(&quot;objects&quot;);\r\n    if (arrNode.isArray()) {\r\n        for (final JsonNode objNode : arrNode) {\r\n            System.out.println(objNode);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt;&quot;One&quot;&lt;br&gt;\r\n&quot;Two&quot;&lt;br&gt;\r\n&quot;Three&quot;&lt;br&gt;\r\n\r\nNote the use of `isArray` to verify that the node is actually an array before iterating. The check is not necessary if you are absolutely confident in your data structure, but it&#39;s available should you need it (and this is no different from most other JSON libraries).","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>Yes, the Jackson manual parser design is quite different from other libraries. In particular, you will notice that <code>JsonNode</code> has most of the functions that you would typically associate with array nodes from other APIs. As such, you do not need to cast to an <code>ArrayNode</code> to use. Here's an example:</p>\n<p><em><strong>JSON:</strong></em></p>\n<pre><code>{\n    &quot;objects&quot; : [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]\n}\n</code></pre>\n<p><em><strong>Code:</strong></em></p>\n<pre><code>final String json = &quot;{\\&quot;objects\\&quot; : [\\&quot;One\\&quot;, \\&quot;Two\\&quot;, \\&quot;Three\\&quot;]}&quot;;\n\nfinal JsonNode arrNode = new ObjectMapper().readTree(json).get(&quot;objects&quot;);\nif (arrNode.isArray()) {\n    for (final JsonNode objNode : arrNode) {\n        System.out.println(objNode);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>&quot;One&quot;<br>\n&quot;Two&quot;<br>\n&quot;Three&quot;<br></p>\n</blockquote>\n<p>Note the use of <code>isArray</code> to verify that the node is actually an array before iterating. The check is not necessary if you are absolutely confident in your data structure, but it's available should you need it (and this is no different from most other JSON libraries).</p>\n"},{"tags":[],"owner":{"account_id":3047300,"reputation":2037,"user_id":2582581,"display_name":"Wildhammer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1543587331,"creation_date":1543587331,"answer_id":53559230,"question_id":16788213,"body_markdown":"I would assume at the end of the day you want to consume the data in the ArrayNode by iterating it. For that: \r\n\r\n    Iterator&lt;JsonNode&gt; iterator = datasets.withArray(&quot;datasets&quot;).elements();\r\n    while (iterator.hasNext()) \r\n            System.out.print(iterator.next().toString() + &quot; &quot;); \r\n\r\nor if you&#39;re into streams and lambda functions:\r\n\r\n    import com.google.common.collect.Streams;\r\n    Streams.stream(datasets.withArray(&quot;datasets&quot;).elements())\r\n        .forEach( item -&gt; System.out.print(item.toString()) )","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>I would assume at the end of the day you want to consume the data in the ArrayNode by iterating it. For that: </p>\n\n<pre><code>Iterator&lt;JsonNode&gt; iterator = datasets.withArray(\"datasets\").elements();\nwhile (iterator.hasNext()) \n        System.out.print(iterator.next().toString() + \" \"); \n</code></pre>\n\n<p>or if you're into streams and lambda functions:</p>\n\n<pre><code>import com.google.common.collect.Streams;\nStreams.stream(datasets.withArray(\"datasets\").elements())\n    .forEach( item -&gt; System.out.print(item.toString()) )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1618421059,"creation_date":1588857334,"answer_id":61658747,"question_id":16788213,"body_markdown":"In Java 8 you can do it like this:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nList&lt;JsonNode&gt; datasets = StreamSupport\r\n    .stream(obj.get(&quot;datasets&quot;).spliterator(), false)\r\n    .collect(Collectors.toList())\r\n```","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>In Java 8 you can do it like this:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nList&lt;JsonNode&gt; datasets = StreamSupport\n    .stream(obj.get(&quot;datasets&quot;).spliterator(), false)\n    .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646309967,"creation_date":1646309967,"answer_id":71337126,"question_id":16788213,"body_markdown":"Obtain an iterator by calling the JsonNode&#39;s `iterator()` method, and go on...\r\n\r\n      JsonNode array = datasets.get(&quot;datasets&quot;);\r\n\r\n      if (array.isArray()) {\r\n          Iterator&lt;JsonNode&gt; itr = array.iterator();\r\n          /* Set up a loop that makes a call to hasNext().\r\n          Have the loop iterate as long as hasNext() returns true.*/\r\n          while (itr.hasNext()) {\r\n              JsonNode item=itr.next();\r\n              // do something with array elements\r\n          }\r\n      }","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>Obtain an iterator by calling the JsonNode's <code>iterator()</code> method, and go on...</p>\n<pre><code>  JsonNode array = datasets.get(&quot;datasets&quot;);\n\n  if (array.isArray()) {\n      Iterator&lt;JsonNode&gt; itr = array.iterator();\n      /* Set up a loop that makes a call to hasNext().\n      Have the loop iterate as long as hasNext() returns true.*/\n      while (itr.hasNext()) {\n          JsonNode item=itr.next();\n          // do something with array elements\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313653,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":16793133,"answer_count":5,"score":165,"last_activity_date":1692172988,"creation_date":1369732476,"question_id":16788213,"body_markdown":"I am changing my JSON library from org.json to Jackson and I want to migrate the following code:\r\n\r\n    JSONObject datasets = readJSON(new URL(DATASETS));\r\n    JSONArray datasetArray =  datasets.getJSONArray(&quot;datasets&quot;);\r\n\r\nNow in Jackson I have the following:\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    JsonNode datasets = m.readTree(new URL(DATASETS));\t\t\r\n    ArrayNode datasetArray = (ArrayNode)datasets.get(&quot;datasets&quot;);\r\n\r\nHowever I don&#39;t like the cast there, is there the possibility for a `ClassCastException`?\r\nIs there a method equivalent to `getJSONArray` in `org.json` so that I have proper error handling in case it isn&#39;t an array?","title":"Jackson how to transform JsonNode to ArrayNode without casting?","body":"<p>I am changing my JSON library from org.json to Jackson and I want to migrate the following code:</p>\n\n<pre><code>JSONObject datasets = readJSON(new URL(DATASETS));\nJSONArray datasetArray =  datasets.getJSONArray(\"datasets\");\n</code></pre>\n\n<p>Now in Jackson I have the following:</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nJsonNode datasets = m.readTree(new URL(DATASETS));      \nArrayNode datasetArray = (ArrayNode)datasets.get(\"datasets\");\n</code></pre>\n\n<p>However I don't like the cast there, is there the possibility for a <code>ClassCastException</code>?\nIs there a method equivalent to <code>getJSONArray</code> in <code>org.json</code> so that I have proper error handling in case it isn't an array?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8699802,"reputation":2057,"user_id":6510101,"accept_rate":100,"display_name":"D3181"},"score":0,"creation_date":1469414977,"post_id":38558720,"comment_id":64509038,"body_markdown":"Theres a somewhat sound solution for this problem here worth reading: http://stackoverflow.com/questions/7808664/how-to-get-maven-project-basedir-from-java-code - in short you can get the maven  project base directory and that may be what you are looking for, hope it works out if not let me know :)","body":"Theres a somewhat sound solution for this problem here worth reading: <a href=\"http://stackoverflow.com/questions/7808664/how-to-get-maven-project-basedir-from-java-code\" title=\"how to get maven project basedir from java code\">stackoverflow.com/questions/7808664/&hellip;</a> - in short you can get the maven  project base directory and that may be what you are looking for, hope it works out if not let me know :)"}],"answers":[{"tags":[],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1469505668,"creation_date":1469505668,"answer_id":38580817,"question_id":38558720,"body_markdown":"I got the solution for this. Here is how I am implementing. I have my own class CSVReader which uses CSVReader library. I am writing my results in results.csv file under target directory. \r\n\r\n    URL location = CSVReader.class.getProtectionDomain().getCodeSource().getLocation();\r\n    String path = location.getFile().replace(&quot;classes/&quot;,&quot;&quot;) + &quot;results.csv&quot;;\r\n\r\nIn the above code I am getting the target directory path and removing the classes/ by string replace method and appending my desired file name. Hope this might help someone.","title":"Get the target directory path in Maven (Java)","body":"<p>I got the solution for this. Here is how I am implementing. I have my own class CSVReader which uses CSVReader library. I am writing my results in results.csv file under target directory. </p>\n\n<pre><code>URL location = CSVReader.class.getProtectionDomain().getCodeSource().getLocation();\nString path = location.getFile().replace(\"classes/\",\"\") + \"results.csv\";\n</code></pre>\n\n<p>In the above code I am getting the target directory path and removing the classes/ by string replace method and appending my desired file name. Hope this might help someone.</p>\n"},{"tags":[],"owner":{"account_id":8317892,"reputation":51,"user_id":6250561,"display_name":"Mia Mano"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484241901,"creation_date":1484241901,"answer_id":41619365,"question_id":38558720,"body_markdown":"I used the answer above with a slight modification (I can&#39;t add comments).\r\nSince tests are placed into the &#39;test&#39; folder, their classes will reside in &#39;target/test-classes&#39; (so replacing &#39;classes&#39; might not give you the expected result). Instead, I used the following:\r\n\r\n    File targetClassesDir = new File(ExportDataTest.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n    File targetDir = targetClassesDir.getParentFile();\r\n\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>I used the answer above with a slight modification (I can't add comments).\nSince tests are placed into the 'test' folder, their classes will reside in 'target/test-classes' (so replacing 'classes' might not give you the expected result). Instead, I used the following:</p>\n\n<pre><code>File targetClassesDir = new File(ExportDataTest.class.getProtectionDomain().getCodeSource().getLocation().getPath());\nFile targetDir = targetClassesDir.getParentFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425684,"reputation":2594,"user_id":806430,"display_name":"twalthr"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1520252246,"creation_date":1520252246,"answer_id":49110347,"question_id":38558720,"body_markdown":"You could also use `java.nio.file.Paths`:\r\n\r\n    URL url = Paths.get(&quot;target&quot;, &quot;results.csv&quot;).toUri().toURL();","title":"Get the target directory path in Maven (Java)","body":"<p>You could also use <code>java.nio.file.Paths</code>:</p>\n\n<pre><code>URL url = Paths.get(\"target\", \"results.csv\").toUri().toURL();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619424417,"creation_date":1619424417,"answer_id":67262972,"question_id":38558720,"body_markdown":"I&#39;m using the classloaders root resource path for retrieving projects build directory with following single line:\r\n```\r\nPath targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\r\n```\r\n\r\nThe root resource path points to `test-classes` and it&#39;s parent is the desired path regardless of running the test via maven surefire or a JUnit runner of the IDE like Eclipse.","title":"Get the target directory path in Maven (Java)","body":"<p>I'm using the classloaders root resource path for retrieving projects build directory with following single line:</p>\n<pre><code>Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\n</code></pre>\n<p>The root resource path points to <code>test-classes</code> and it's parent is the desired path regardless of running the test via maven surefire or a JUnit runner of the IDE like Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619516254,"creation_date":1619516254,"answer_id":67280563,"question_id":38558720,"body_markdown":"The following solutions work for me:\r\n\r\n    URL location = YourClass.class.getProtectionDomain().getCodeSource().getLocation();\r\n    String path = location.getFile().replace(&quot;/test-classes/&quot;,&quot;&quot;).replace(&quot;/classes/&quot;,&quot;&quot;);\r\n\r\nor\r\n\r\n    Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\r\n    String path = targetPath.toString();\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>The following solutions work for me:</p>\n<pre><code>URL location = YourClass.class.getProtectionDomain().getCodeSource().getLocation();\nString path = location.getFile().replace(&quot;/test-classes/&quot;,&quot;&quot;).replace(&quot;/classes/&quot;,&quot;&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>Path targetPath = Paths.get(getClass().getResource(&quot;/&quot;).toURI()).getParent();\nString path = targetPath.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20105929,"reputation":1,"user_id":14743469,"display_name":"Virtuos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172599,"creation_date":1692172526,"answer_id":76911567,"question_id":38558720,"body_markdown":"You need to obtain the location of the class, where you are running your logic in order to get the location of the target path. I use the following code in order to achieve that:\r\n\r\n```\r\nURL target = this.getClass().getClassLoader().getResource(&quot;org/mycomp/home/model&quot;).toURI().toURL();\r\n```","title":"Get the target directory path in Maven (Java)","body":"<p>You need to obtain the location of the class, where you are running your logic in order to get the location of the target path. I use the following code in order to achieve that:</p>\n<pre><code>URL target = this.getClass().getClassLoader().getResource(&quot;org/mycomp/home/model&quot;).toURI().toURL();\n</code></pre>\n"}],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22870,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":38580817,"answer_count":6,"score":11,"last_activity_date":1692172599,"creation_date":1469411860,"question_id":38558720,"body_markdown":"In a Maven project I want write some test results into a file in target directory of the project. Whenever, I get the project directory, it is actually getting the IntelliJ project directory instead of actual Maven directory.\r\n","title":"Get the target directory path in Maven (Java)","body":"<p>In a Maven project I want write some test results into a file in target directory of the project. Whenever, I get the project directory, it is actually getting the IntelliJ project directory instead of actual Maven directory.</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":624674,"reputation":81,"user_id":363154,"display_name":"PleaseHelpMe"},"score":1,"creation_date":1276152704,"post_id":3012124,"comment_id":3078561,"body_markdown":"AppletViewr execute applet ojut of browser but i need to get java applet without html page","body":"AppletViewr execute applet ojut of browser but i need to get java applet without html page"}],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486470112,"creation_date":1276151921,"answer_id":3012187,"question_id":3012124,"body_markdown":"Run `appletviewer [ options  ] urls ..`. \r\n\r\n[Documentation](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/appletviewer.html)","title":"Run Java-applets directly ( without html page )","body":"<p>Run <code>appletviewer [ options  ] urls ..</code>. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/appletviewer.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276208354,"creation_date":1276153159,"answer_id":3012282,"question_id":3012124,"body_markdown":"Appletviewer is the way to go, BUT, **it still requires a webpage with an applet-tag**.\r\n\r\n\r\nAn alternative solution is to write a stub class, with a main method, that instantiates the applet, calls `init()`, `start()`, `stop()` and `destroy()` as would otherwise have been done by the browser or appletviewer.","title":"Run Java-applets directly ( without html page )","body":"<p>Appletviewer is the way to go, BUT, <strong>it still requires a webpage with an applet-tag</strong>.</p>\n\n<p>An alternative solution is to write a stub class, with a main method, that instantiates the applet, calls <code>init()</code>, <code>start()</code>, <code>stop()</code> and <code>destroy()</code> as would otherwise have been done by the browser or appletviewer.</p>\n"},{"tags":[],"owner":{"account_id":143688,"reputation":89,"user_id":352200,"display_name":"springfeld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276154824,"creation_date":1276154824,"answer_id":3012428,"question_id":3012124,"body_markdown":"Build a subclass, which implements main-method, and call init(), start(), stop(), destroy as needed.","title":"Run Java-applets directly ( without html page )","body":"<p>Build a subclass, which implements main-method, and call init(), start(), stop(), destroy as needed.</p>\n"},{"tags":[],"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276209985,"creation_date":1276209985,"answer_id":3019086,"question_id":3012124,"body_markdown":"If you use eclipse: Right-Click on your main java file (the one which extends Applet), select the &#39;Run As&#39; submenu, and select &#39;Applet.","title":"Run Java-applets directly ( without html page )","body":"<p>If you use eclipse: Right-Click on your main java file (the one which extends Applet), select the 'Run As' submenu, and select 'Applet.</p>\n"},{"tags":[],"owner":{"account_id":3920890,"reputation":9,"user_id":3243082,"display_name":"JADAV AKASH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508238653,"creation_date":1390884736,"answer_id":21397097,"question_id":3012124,"body_markdown":"    &lt;applet code=classname height=200 width=200&gt;\r\n    \r\n    &lt;/applet&gt;\r\n\r\nSimply write this code in your java program and first run using:\r\n\r\n    javac classname.java\r\n\r\nafter \r\n\r\n    run:appletviewer classname.java","title":"Run Java-applets directly ( without html page )","body":"<pre><code>&lt;applet code=classname height=200 width=200&gt;\n\n&lt;/applet&gt;\n</code></pre>\n\n<p>Simply write this code in your java program and first run using:</p>\n\n<pre><code>javac classname.java\n</code></pre>\n\n<p>after </p>\n\n<pre><code>run:appletviewer classname.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2265631,"reputation":984,"user_id":1994394,"display_name":"spgodara"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390926193,"creation_date":1390926193,"answer_id":21411151,"question_id":3012124,"body_markdown":"Use below code with your code, where AppletClass is your Applet class.\r\n\r\n    AppletClass appletClass = new AppletClass ();\r\n    \r\n    JFrame frame = new JFrame();\r\n    frame.setLayout(new GridLayout(1, 1));\r\n    frame.add(appletClass );\r\n    \r\n    // Set frame size and other properties\r\n    ...\r\n    \r\n    // Call applet methods\r\n    appletClass .init();\r\n    appletClass .start();\r\n    \r\n    frame.setVisible(true);\r\n\r\nMore customizations can be done as required.","title":"Run Java-applets directly ( without html page )","body":"<p>Use below code with your code, where AppletClass is your Applet class.</p>\n\n<pre><code>AppletClass appletClass = new AppletClass ();\n\nJFrame frame = new JFrame();\nframe.setLayout(new GridLayout(1, 1));\nframe.add(appletClass );\n\n// Set frame size and other properties\n...\n\n// Call applet methods\nappletClass .init();\nappletClass .start();\n\nframe.setVisible(true);\n</code></pre>\n\n<p>More customizations can be done as required.</p>\n"},{"tags":[],"owner":{"account_id":3894154,"reputation":11,"user_id":3223638,"display_name":"Pratik M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403256442,"creation_date":1403256442,"answer_id":24324067,"question_id":3012124,"body_markdown":"Use `/*&lt;applet code=&quot;java file name &quot; height=150 width=150&gt;&lt;/applet&gt;*/`\r\nbefore declaring applet class and then compile java program and run applet by using appletviewer it execute perfectly don&#39;t require any html file","title":"Run Java-applets directly ( without html page )","body":"<p>Use <code>/*&lt;applet code=\"java file name \" height=150 width=150&gt;&lt;/applet&gt;*/</code>\nbefore declaring applet class and then compile java program and run applet by using appletviewer it execute perfectly don't require any html file</p>\n"},{"tags":[],"owner":{"account_id":46671,"reputation":1229,"user_id":137965,"display_name":"tesla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172372,"creation_date":1692172372,"answer_id":76911548,"question_id":3012124,"body_markdown":"This browser extension works quite well. Supports Chrome and Edge. \r\n\r\nhttps://leaningtech.com/cheerpj-applet-runner/","title":"Run Java-applets directly ( without html page )","body":"<p>This browser extension works quite well. Supports Chrome and Edge.</p>\n<p><a href=\"https://leaningtech.com/cheerpj-applet-runner/\" rel=\"nofollow noreferrer\">https://leaningtech.com/cheerpj-applet-runner/</a></p>\n"}],"owner":{"account_id":624674,"reputation":81,"user_id":363154,"display_name":"PleaseHelpMe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21404,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":8,"score":7,"last_activity_date":1692172372,"creation_date":1276151313,"question_id":3012124,"body_markdown":"I have  a problem. \r\n\r\nHow i can run my java-applet directly without embedded in my web page?\r\n\r\n\r\nI know appletViewr can execute applet without a browser but I need to get java applet without html page.\r\n","title":"Run Java-applets directly ( without html page )","body":"<p>I have  a problem. </p>\n\n<p>How i can run my java-applet directly without embedded in my web page?</p>\n\n<p>I know appletViewr can execute applet without a browser but I need to get java applet without html page.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9748,"page":244,"page_size":100}
