{"items":[{"tags":["javascript","java","html","angularjs"],"answers":[{"tags":[],"owner":{"account_id":10973758,"reputation":2924,"user_id":8063048,"accept_rate":86,"display_name":"Hong Van Vit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634865338,"creation_date":1634865338,"answer_id":69670379,"question_id":69669272,"body_markdown":"You put wrong ng-controller. It must be FramesController: Something like this\r\n\r\n    &lt;div ng-controller=&quot;FramesController&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\r\n        &lt;table id=&quot;frameTable&quot;&gt;\r\n            &lt;thead&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\r\n                &lt;td&gt;{{frame.id}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.company}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.model}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.price}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.amount}}&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;","title":"i am not displaying ajax table in html why?","body":"<p>You put wrong ng-controller. It must be FramesController: Something like this</p>\n<pre><code>&lt;div ng-controller=&quot;FramesController&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\n    &lt;table id=&quot;frameTable&quot;&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":20088290,"reputation":11,"user_id":15388159,"display_name":"Iskander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634865338,"creation_date":1634853934,"question_id":69669272,"body_markdown":"\r\nI am trying to run an application using AngularJS and Ajax. I also use a Java Controller that returns JSON. Unfortunately, html does not display the table, I cannot understand what is the matter, please help. I am just getting started with Ajax and angularJS. I am trying to output a table in Html, here are my files:\r\n\r\nFrames.js\r\n```\r\nvar app = angular.module(&#39;frames&#39;, []);\r\n\r\napp.controller(&quot;FramesController&quot;, function ($scope, $http) {\r\n\r\n    $scope.successGetFramesCallback = function (response) {\r\n        $scope.frameList = response.data;\r\n        $scope.errormessage=&quot;&quot;;\r\n    };\r\n\r\n    $scope.errorGetFramesCallback = function (error) {\r\n        console.log(error);\r\n        $scope.errormessage=&quot;Unable to get list of frames&quot;;\r\n    };\r\n\r\n    $scope.getFrames = function () {\r\n        $http.get(&#39;/mcga/frames&#39;).then($scope.successGetFramesCallback, $scope.errorGetFramesCallback);\r\n    };\r\n\r\n});\r\n```\r\n\r\nframes.html:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\r\n&lt;head&gt;\r\n\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/meta&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;&lt;/meta&gt;\r\n    &lt;title&gt;Schools in our university&lt;/title&gt;\r\n\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;js/frames.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body ng-app=&quot;frames&quot; ng-controller=&quot;FramesController&quot;&gt;\r\n\r\n&lt;h1&gt;Компьютерные корпуса&lt;/h1&gt;\r\n\r\n&lt;div ng-controller=&quot;getFrames&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\r\n    &lt;table id=&quot;frameTable&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\r\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\nand my controller is written in java, it gets the list from the Database and returns it in JSON, it works fine. JSON is returned to me. Here is the code:\r\n``` \r\n@RestController\r\npublic class MyController {\r\n\r\n    @Autowired\r\n    private Service service;\r\n\r\n    @GetMapping(&quot;mcga/frames&quot;)\r\n    public ResponseEntity&lt;Object&gt; showAllFrames()\r\n    {\r\n        List&lt;frame&gt; frameList=service.getAllFrames();\r\n        return ResponseEntity.ok(frameList);\r\n\r\n    }\r\n}\r\n``` \r\nAnd my ConfigController:\r\n```\r\n@Configuration\r\npublic class ControllerConfig extends WebMvcConfigurerAdapter {\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/frames&quot;).setViewName(&quot;frames&quot;);\r\n    }\r\n}\r\n```","title":"i am not displaying ajax table in html why?","body":"<p>I am trying to run an application using AngularJS and Ajax. I also use a Java Controller that returns JSON. Unfortunately, html does not display the table, I cannot understand what is the matter, please help. I am just getting started with Ajax and angularJS. I am trying to output a table in Html, here are my files:</p>\n<p>Frames.js</p>\n<pre><code>var app = angular.module('frames', []);\n\napp.controller(&quot;FramesController&quot;, function ($scope, $http) {\n\n    $scope.successGetFramesCallback = function (response) {\n        $scope.frameList = response.data;\n        $scope.errormessage=&quot;&quot;;\n    };\n\n    $scope.errorGetFramesCallback = function (error) {\n        console.log(error);\n        $scope.errormessage=&quot;Unable to get list of frames&quot;;\n    };\n\n    $scope.getFrames = function () {\n        $http.get('/mcga/frames').then($scope.successGetFramesCallback, $scope.errorGetFramesCallback);\n    };\n\n});\n</code></pre>\n<p>frames.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\n&lt;head&gt;\n\n    &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/meta&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;&lt;/meta&gt;\n    &lt;title&gt;Schools in our university&lt;/title&gt;\n\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;js/frames.js&quot;&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body ng-app=&quot;frames&quot; ng-controller=&quot;FramesController&quot;&gt;\n\n&lt;h1&gt;Компьютерные корпуса&lt;/h1&gt;\n\n&lt;div ng-controller=&quot;getFrames&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\n    &lt;table id=&quot;frameTable&quot;&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>and my controller is written in java, it gets the list from the Database and returns it in JSON, it works fine. JSON is returned to me. Here is the code:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @Autowired\n    private Service service;\n\n    @GetMapping(&quot;mcga/frames&quot;)\n    public ResponseEntity&lt;Object&gt; showAllFrames()\n    {\n        List&lt;frame&gt; frameList=service.getAllFrames();\n        return ResponseEntity.ok(frameList);\n\n    }\n}\n</code></pre>\n<p>And my ConfigController:</p>\n<pre><code>@Configuration\npublic class ControllerConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/frames&quot;).setViewName(&quot;frames&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","binary","sequence"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634843754,"post_id":69667594,"comment_id":123142824,"body_markdown":"Hello and welcome. Please specify what problem your having, for example specifying the inputs, the expected outputs and what you&#39;re getting instead (wrong results? an exception? anything at all?)","body":"Hello and welcome. Please specify what problem your having, for example specifying the inputs, the expected outputs and what you&#39;re getting instead (wrong results? an exception? anything at all?)"},{"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"score":0,"creation_date":1634844107,"post_id":69667594,"comment_id":123142951,"body_markdown":"When it goes with couter, it puts out good number, but results for the longest sequence of 0s in a binary number not. I tried to take notes on a sheet of paper step-by-step, but still I do not know where I am stuck below where I increment counter.","body":"When it goes with couter, it puts out good number, but results for the longest sequence of 0s in a binary number not. I tried to take notes on a sheet of paper step-by-step, but still I do not know where I am stuck below where I increment counter."},{"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"score":0,"creation_date":1634844215,"post_id":69667594,"comment_id":123142994,"body_markdown":"always it puts out 0 in maxGlobal","body":"always it puts out 0 in maxGlobal"},{"owner":{"account_id":16051749,"reputation":53,"user_id":11585411,"display_name":"AaronRules5"},"score":0,"creation_date":1634844371,"post_id":69667594,"comment_id":123143058,"body_markdown":"I think one thing you may not have noticed is that you&#39;re checking y[i] for values like 0 and 1.. when you should be checking for &quot;0&quot; and &quot;1&quot; since you converted it into a char array.","body":"I think one thing you may not have noticed is that you&#39;re checking y[i] for values like 0 and 1.. when you should be checking for &quot;0&quot; and &quot;1&quot; since you converted it into a char array."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634860155,"post_id":69667594,"comment_id":123147091,"body_markdown":"Why `1011001` is 1 sequence and `100100101` is three sequences - should be 2 sequences if a minimal count of 0s is 2?","body":"Why <code>1011001</code> is 1 sequence and <code>100100101</code> is three sequences - should be 2 sequences if a minimal count of 0s is 2?"}],"answers":[{"tags":[],"owner":{"account_id":21500910,"reputation":534,"user_id":15845138,"display_name":"John Morton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634846504,"creation_date":1634846504,"answer_id":69668127,"question_id":69667594,"body_markdown":"how about:\r\n\r\n    String trimmed = convertToBinary(number).replaceAll(&quot;0+$&quot;,&quot;&quot;);\r\n    return (trimmed.length() - trimmed.replaceAll(&quot;10&quot;,&quot;&quot;).length())/2;\r\n\r\nIt doesn&#39;t matter how long the sequence is, just that it has a zero in it and isn&#39;t at the end of the string.","title":"counting the sequences of 0s in binary number","body":"<p>how about:</p>\n<pre><code>String trimmed = convertToBinary(number).replaceAll(&quot;0+$&quot;,&quot;&quot;);\nreturn (trimmed.length() - trimmed.replaceAll(&quot;10&quot;,&quot;&quot;).length())/2;\n</code></pre>\n<p>It doesn't matter how long the sequence is, just that it has a zero in it and isn't at the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634864586,"creation_date":1634864586,"answer_id":69670318,"question_id":69667594,"body_markdown":"Instead of debugging parsing logic it may be more convenient to process the input, get rid of irrelevant parts (leading and or trailing zeroes), find valid groups of 0s, define their length and then count the occurrences or find the longest sequence:\r\n* using `String::split` + `String::replaceAll`\r\n```java\r\nprivate static IntStream toBinary(int n) {\r\n    return Arrays.stream(Integer.toBinaryString(n)\r\n            .replaceAll(&quot;(^0+1|10+$)&quot;, &quot;1&quot;) // remove leading/trailing 0s\r\n            .split(&quot;1+&quot;)\r\n        ) // Stream&lt;String&gt;\r\n        .mapToInt(String::length)\r\n        .filter(i -&gt; i &gt; 1);\r\n}\r\n\r\npublic static int howManyZeroSeqs(int n) {\r\n    return (int) toBinary(n).count();\r\n}\r\n\r\npublic static int maxZeroSeqLength(int n) {\r\n    return toBinary(n).max().orElse(0);\r\n}\r\n```\r\nTests\r\n```java\r\nfor (int i : new int[]{0b01001001000100, 0b010010010000100100010000}) {\r\n    System.out.println(&quot;#seqs (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + howManyZeroSeqs(i));\r\n    System.out.println(&quot;max length (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + maxZeroSeqLength(i));\r\n}\r\n```\r\nOutput:\r\n```\r\n#seqs (1001001000100) = 3\r\nmax length (1001001000100) = 3\r\n#seqs (10010010000100100010000) = 5\r\nmax length (10010010000100100010000) = 4\r\n```\r\n----\r\n* use matching pattern to detect sequences of at least 2 zeroes not at the end of the string \r\n\r\n[online demo](https://regex101.com/r/e2CTR9/1)\r\n```java\r\nstatic Pattern ZEROSEQ = Pattern.compile(&quot;(?=1(0{2,}+)(?!$))1&quot;);\r\nprivate static IntStream toBinary(int n) {\r\n    return ZEROSEQ.matcher(Integer.toBinaryString(n))\r\n        .results()\r\n        .map(mr -&gt; mr.group(1))\r\n        .mapToInt(String::length);\r\n}\r\n```\r\n`(?=1(0{2,}+)(?!$))1` - `?=1(0{2,}+)` positive lookahead: 1 followed by a capturing group for the sequence of at least 2 zeroes\r\n\r\n`(?!$)` - negative lookahead - group of 0s not followed by the end of the string\r\n1 - closing 1\r\n\r\nThe test results are the same.","title":"counting the sequences of 0s in binary number","body":"<p>Instead of debugging parsing logic it may be more convenient to process the input, get rid of irrelevant parts (leading and or trailing zeroes), find valid groups of 0s, define their length and then count the occurrences or find the longest sequence:</p>\n<ul>\n<li>using <code>String::split</code> + <code>String::replaceAll</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static IntStream toBinary(int n) {\n    return Arrays.stream(Integer.toBinaryString(n)\n            .replaceAll(&quot;(^0+1|10+$)&quot;, &quot;1&quot;) // remove leading/trailing 0s\n            .split(&quot;1+&quot;)\n        ) // Stream&lt;String&gt;\n        .mapToInt(String::length)\n        .filter(i -&gt; i &gt; 1);\n}\n\npublic static int howManyZeroSeqs(int n) {\n    return (int) toBinary(n).count();\n}\n\npublic static int maxZeroSeqLength(int n) {\n    return toBinary(n).max().orElse(0);\n}\n</code></pre>\n<p>Tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i : new int[]{0b01001001000100, 0b010010010000100100010000}) {\n    System.out.println(&quot;#seqs (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + howManyZeroSeqs(i));\n    System.out.println(&quot;max length (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + maxZeroSeqLength(i));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>#seqs (1001001000100) = 3\nmax length (1001001000100) = 3\n#seqs (10010010000100100010000) = 5\nmax length (10010010000100100010000) = 4\n</code></pre>\n<hr />\n<ul>\n<li>use matching pattern to detect sequences of at least 2 zeroes not at the end of the string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/e2CTR9/1\" rel=\"nofollow noreferrer\">online demo</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static Pattern ZEROSEQ = Pattern.compile(&quot;(?=1(0{2,}+)(?!$))1&quot;);\nprivate static IntStream toBinary(int n) {\n    return ZEROSEQ.matcher(Integer.toBinaryString(n))\n        .results()\n        .map(mr -&gt; mr.group(1))\n        .mapToInt(String::length);\n}\n</code></pre>\n<p><code>(?=1(0{2,}+)(?!$))1</code> - <code>?=1(0{2,}+)</code> positive lookahead: 1 followed by a capturing group for the sequence of at least 2 zeroes</p>\n<p><code>(?!$)</code> - negative lookahead - group of 0s not followed by the end of the string\n1 - closing 1</p>\n<p>The test results are the same.</p>\n"}],"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1634864586,"creation_date":1634843622,"question_id":69667594,"body_markdown":"    package com.company;\r\n\r\n    public\r\n    class ToBinary\r\n        {\r\n            public String convertToBinary( int n)\r\n                {\r\n                    return Integer.toBinaryString( n );\r\n                }\r\n            public int howMany(int number)\r\n            {\r\n                String x = convertToBinary(number);\r\n                char[] y = x.toCharArray();\r\n                int counter=0; //how many seq in binary number\r\n                /*\r\n                    sequence counts if 0s are surrounded by 1 f.ex 101 1001 is 1 sequence\r\n                                                                   100100101 is 3 seq\r\n                                                                   1010 is 1 seq\r\n                 */\r\n                int temp=0;\r\n                int maxGlobal=0;\r\n                int maxLocal =0;\r\n                for(int i=1;i&lt;y.length-1;i++)\r\n                    {\r\n                        if(y[i]!=y[i-1] &amp;&amp; y[i]!=y[i+1])\r\n                            counter++;\r\n                        if(y[i]==0 &amp;&amp; y[i-1]==0)\r\n                            {\r\n                                maxLocal +=1;\r\n                            }\r\n                        if(y[i]==0 &amp;&amp; y[i+1]==1)\r\n                        {\r\n                            maxLocal +=1;\r\n                            maxGlobal= maxLocal;\r\n                            maxLocal =0;\r\n                        }\r\n                        else\r\n                            continue;\r\n                    }\r\n                System.out.println(maxGlobal);\r\n                return counter;\r\n            }\r\n    \r\n        }\r\n\r\nI wrote some code but i don&#39;t know what I am doing here wrong. \r\n","title":"counting the sequences of 0s in binary number","body":"<pre><code>package com.company;\n\npublic\nclass ToBinary\n    {\n        public String convertToBinary( int n)\n            {\n                return Integer.toBinaryString( n );\n            }\n        public int howMany(int number)\n        {\n            String x = convertToBinary(number);\n            char[] y = x.toCharArray();\n            int counter=0; //how many seq in binary number\n            /*\n                sequence counts if 0s are surrounded by 1 f.ex 101 1001 is 1 sequence\n                                                               100100101 is 3 seq\n                                                               1010 is 1 seq\n             */\n            int temp=0;\n            int maxGlobal=0;\n            int maxLocal =0;\n            for(int i=1;i&lt;y.length-1;i++)\n                {\n                    if(y[i]!=y[i-1] &amp;&amp; y[i]!=y[i+1])\n                        counter++;\n                    if(y[i]==0 &amp;&amp; y[i-1]==0)\n                        {\n                            maxLocal +=1;\n                        }\n                    if(y[i]==0 &amp;&amp; y[i+1]==1)\n                    {\n                        maxLocal +=1;\n                        maxGlobal= maxLocal;\n                        maxLocal =0;\n                    }\n                    else\n                        continue;\n                }\n            System.out.println(maxGlobal);\n            return counter;\n        }\n\n    }\n</code></pre>\n<p>I wrote some code but i don't know what I am doing here wrong.</p>\n"},{"tags":["java","android","gesture"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634922661,"post_id":69670309,"comment_id":123166114,"body_markdown":"You can try adding an `onTouchListener()` to each of the views you need to detect gestures on. Try following the accepted answer here: [SO: adding gesture detection to views](https://stackoverflow.com/questions/45054908/how-to-add-a-gesture-detector-to-a-view-in-android).","body":"You can try adding an <code>onTouchListener()</code> to each of the views you need to detect gestures on. Try following the accepted answer here: <a href=\"https://stackoverflow.com/questions/45054908/how-to-add-a-gesture-detector-to-a-view-in-android\">SO: adding gesture detection to views</a>."},{"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"score":0,"creation_date":1634928075,"post_id":69670309,"comment_id":123167880,"body_markdown":"Would it be possible to have sort of like a screen on top of the application that views all gestures without interfering with the functionality of the application","body":"Would it be possible to have sort of like a screen on top of the application that views all gestures without interfering with the functionality of the application"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634929238,"post_id":69670309,"comment_id":123168256,"body_markdown":"You can use an [onInterceptTouchEvent()](https://developer.android.com/training/gestures/viewgroup#:~:text=Intercept%20touch%20events%20in%20a%20ViewGroup%20The%20onInterceptTouchEvent,ViewGroup%2C%20including%20on%20the%20surface%20of%20its%20children.) to have the touch to the layout&#39;s children intercepted to get it handled by one view only. I think this guide may suffice: [Correctly implemetning onInterceptTouchEvent](http://neevek.net/posts/2013/10/13/implementing-onInterceptTouchEvent-and-onTouchEvent-for-ViewGroup.html).","body":"You can use an <a href=\"https://developer.android.com/training/gestures/viewgroup#:~:text=Intercept%20touch%20events%20in%20a%20ViewGroup%20The%20onInterceptTouchEvent,ViewGroup%2C%20including%20on%20the%20surface%20of%20its%20children.\" rel=\"nofollow noreferrer\">onInterceptTouchEvent()</a> to have the touch to the layout&#39;s children intercepted to get it handled by one view only. I think this guide may suffice: <a href=\"http://neevek.net/posts/2013/10/13/implementing-onInterceptTouchEvent-and-onTouchEvent-for-ViewGroup.html\" rel=\"nofollow noreferrer\">Correctly implemetning onInterceptTouchEvent</a>."},{"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"score":0,"creation_date":1635133984,"post_id":69670309,"comment_id":123205092,"body_markdown":"Thank you but what am looking for is code that is independent to the code of an application like a screen that track movement without interfering with an app.","body":"Thank you but what am looking for is code that is independent to the code of an application like a screen that track movement without interfering with an app."}],"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634864492,"creation_date":1634864492,"question_id":69670309,"body_markdown":"How do I track all gestures on an entire application screen. I was struggling with adding a gesture detector to the entire screen of my application. I am using gesturedetector compat to get gestures from the layout however when I tap or double tap the button and edit text gesturedetector does not detect the gesture on the view. Is it possible to have all tap,swipes,gestures on the ENTIRE screen as opposed to only the layout. If there is a better solution to tracking all touches,swipes,taps please let me know I have struggling with this for weeks.\r\n\r\nMainActivity.java\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private GestureDetectorCompat mGestureDetector;\r\n\r\n    private TextView touchCheckText;\r\n    private TextView singleTapText;\r\n    private TextView doubleTapText;\r\n\r\n    private static final String TAG = &quot;Gesture &quot;;\r\n\r\n    @Override\r\n    public boolean dispatchKeyEvent(KeyEvent event) {\r\n        if (event.getAction()!=KeyEvent.ACTION_DOWN)\r\n            Log.i(&quot;key pressed&quot;, String.valueOf(event.getKeyCode()));\r\n        return super.dispatchKeyEvent(event);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mGestureDetector = new GestureDetectorCompat(this,new GestureListener());\r\n\r\n        touchCheckText = (TextView) findViewById(R.id.touchCheckTextView);\r\n        scrollText = (TextView) findViewById(R.id.scrollTextView);\r\n        singleTapText = (TextView) findViewById(R.id.singleTapTextView);\r\n        doubleTapText = (TextView) findViewById(R.id.doubleTapTextView);\r\n\r\n    }\r\n\r\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener{\r\n\r\n        @Override\r\n        public boolean onDoubleTap(MotionEvent e) {\r\n            int x = (int) e.getX();\r\n            int y = (int) e.getY();\r\n\r\n            Long tsLong = System.currentTimeMillis()/1000;\r\n            String ts = tsLong.toString();\r\n\r\n            Log.e(TAG, &quot;in on onDoubleTap Event&quot;);\r\n            doubleTapText.setBackgroundColor(Color.GREEN);\r\n            return super.onDoubleTap(e);\r\n        }\r\n\r\n        @Override\r\n        public boolean onDown(MotionEvent e) {\r\n            touchCheckText.setText(&quot;TOUCHING!&quot;);\r\n            return super.onDown(e);\r\n        }\r\n\r\n        @Override\r\n        public boolean onSingleTapConfirmed(MotionEvent e) {\r\n            int x = (int) e.getX();\r\n            int y = (int) e.getY();\r\n\r\n            Long tsLong = System.currentTimeMillis()/1000;\r\n            String ts = tsLong.toString();\r\n\r\n            singleTapText.setBackgroundColor(Color.GREEN);\r\n            Log.e(TAG, &quot;Single Tap &quot;+ts+&quot; x:&quot;+x+&quot; y:&quot;+y);\r\n            singleTapText.postDelayed(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    // change color in here\r\n                    singleTapText.setBackgroundColor(Color.TRANSPARENT);\r\n                }\r\n            }, 100);\r\n\r\n            return super.onSingleTapConfirmed(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        mGestureDetector.onTouchEvent(event);\r\n        switch ( event.getAction() ) {\r\n            case MotionEvent.ACTION_UP:\r\n                Log.e(&quot;onTouch&quot;,&quot;Released&quot;);\r\n                doubleTapText.setBackgroundColor(Color.TRANSPARENT);\r\n                touchCheckText.setText(&quot;No Longer Touching&quot;);\r\n                break;\r\n        }\r\n        return super.onTouchEvent(event);\r\n    }\r\n}\r\n```\r\n","title":"How to Track all gestures on ENTIRE android screen?","body":"<p>How do I track all gestures on an entire application screen. I was struggling with adding a gesture detector to the entire screen of my application. I am using gesturedetector compat to get gestures from the layout however when I tap or double tap the button and edit text gesturedetector does not detect the gesture on the view. Is it possible to have all tap,swipes,gestures on the ENTIRE screen as opposed to only the layout. If there is a better solution to tracking all touches,swipes,taps please let me know I have struggling with this for weeks.</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private GestureDetectorCompat mGestureDetector;\n\n    private TextView touchCheckText;\n    private TextView singleTapText;\n    private TextView doubleTapText;\n\n    private static final String TAG = &quot;Gesture &quot;;\n\n    @Override\n    public boolean dispatchKeyEvent(KeyEvent event) {\n        if (event.getAction()!=KeyEvent.ACTION_DOWN)\n            Log.i(&quot;key pressed&quot;, String.valueOf(event.getKeyCode()));\n        return super.dispatchKeyEvent(event);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mGestureDetector = new GestureDetectorCompat(this,new GestureListener());\n\n        touchCheckText = (TextView) findViewById(R.id.touchCheckTextView);\n        scrollText = (TextView) findViewById(R.id.scrollTextView);\n        singleTapText = (TextView) findViewById(R.id.singleTapTextView);\n        doubleTapText = (TextView) findViewById(R.id.doubleTapTextView);\n\n    }\n\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener{\n\n        @Override\n        public boolean onDoubleTap(MotionEvent e) {\n            int x = (int) e.getX();\n            int y = (int) e.getY();\n\n            Long tsLong = System.currentTimeMillis()/1000;\n            String ts = tsLong.toString();\n\n            Log.e(TAG, &quot;in on onDoubleTap Event&quot;);\n            doubleTapText.setBackgroundColor(Color.GREEN);\n            return super.onDoubleTap(e);\n        }\n\n        @Override\n        public boolean onDown(MotionEvent e) {\n            touchCheckText.setText(&quot;TOUCHING!&quot;);\n            return super.onDown(e);\n        }\n\n        @Override\n        public boolean onSingleTapConfirmed(MotionEvent e) {\n            int x = (int) e.getX();\n            int y = (int) e.getY();\n\n            Long tsLong = System.currentTimeMillis()/1000;\n            String ts = tsLong.toString();\n\n            singleTapText.setBackgroundColor(Color.GREEN);\n            Log.e(TAG, &quot;Single Tap &quot;+ts+&quot; x:&quot;+x+&quot; y:&quot;+y);\n            singleTapText.postDelayed(new Runnable() {\n\n                @Override\n                public void run() {\n                    // change color in here\n                    singleTapText.setBackgroundColor(Color.TRANSPARENT);\n                }\n            }, 100);\n\n            return super.onSingleTapConfirmed(e);\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        mGestureDetector.onTouchEvent(event);\n        switch ( event.getAction() ) {\n            case MotionEvent.ACTION_UP:\n                Log.e(&quot;onTouch&quot;,&quot;Released&quot;);\n                doubleTapText.setBackgroundColor(Color.TRANSPARENT);\n                touchCheckText.setText(&quot;No Longer Touching&quot;);\n                break;\n        }\n        return super.onTouchEvent(event);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1634863684,"post_id":69670181,"comment_id":123147562,"body_markdown":"what have you tried so far?","body":"what have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634863377,"creation_date":1634863377,"answer_id":69670215,"question_id":69670181,"body_markdown":"Call `stream()` on the `metadata` and test if any `key` and `value` match your criteria. Something like,\r\n\r\n\tfileList.stream().filter(f -&gt; f.name.equals(&quot;movie.mp4&quot;)\r\n\t\t\t&amp;&amp; f.metadata.stream().anyMatch(x -&gt; x.key.equals(&quot;genre&quot;)\r\n\t\t\t&amp;&amp; x.value.equals(&quot;Horror&quot;)));","title":"Java 8 Nested Streams Filtering","body":"<p>Call <code>stream()</code> on the <code>metadata</code> and test if any <code>key</code> and <code>value</code> match your criteria. Something like,</p>\n<pre><code>fileList.stream().filter(f -&gt; f.name.equals(&quot;movie.mp4&quot;)\n        &amp;&amp; f.metadata.stream().anyMatch(x -&gt; x.key.equals(&quot;genre&quot;)\n        &amp;&amp; x.value.equals(&quot;Horror&quot;)));\n</code></pre>\n"}],"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69670215,"answer_count":1,"score":2,"last_activity_date":1634863630,"creation_date":1634862884,"question_id":69670181,"body_markdown":"Here are my classes:\r\n    \r\n    class File {\r\n      String id;\r\n      String name;\r\n      List&lt;Metadata&gt; metadata;\r\n    }\r\n    \r\n    class Metadata {\r\n      String key;\r\n      String value;\r\n    }\r\n\r\nI have a list of files (`List&lt;File&gt;`), I wanted to filter first by the name of the File, and then filter by the matching key and value from the list of `Metadata`.\r\n\r\nLet&#39;s say, I wanted to return the `id` of the File which name is &quot;movie.mp4&quot; and one of its metadata should have `key==&quot;genre&quot;` and `value==&quot;Horror&quot;`. \r\n\r\nUsing Java 8 Streams, I can filter by the name of File, but not sure how to go down another level and filter by the matching key and value.\r\n\r\nHow do I do this?","title":"Java 8 Nested Streams Filtering","body":"<p>Here are my classes:</p>\n<pre><code>class File {\n  String id;\n  String name;\n  List&lt;Metadata&gt; metadata;\n}\n\nclass Metadata {\n  String key;\n  String value;\n}\n</code></pre>\n<p>I have a list of files (<code>List&lt;File&gt;</code>), I wanted to filter first by the name of the File, and then filter by the matching key and value from the list of <code>Metadata</code>.</p>\n<p>Let's say, I wanted to return the <code>id</code> of the File which name is &quot;movie.mp4&quot; and one of its metadata should have <code>key==&quot;genre&quot;</code> and <code>value==&quot;Horror&quot;</code>.</p>\n<p>Using Java 8 Streams, I can filter by the name of File, but not sure how to go down another level and filter by the matching key and value.</p>\n<p>How do I do this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1611738656,"post_id":65915943,"comment_id":116544437,"body_markdown":"Evidently `userRepo` is null. You never set it to anything. Did you mean to autowire it?","body":"Evidently <code>userRepo</code> is null. You never set it to anything. Did you mean to autowire it?"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1611738756,"post_id":65915943,"comment_id":116544486,"body_markdown":"Based on your code you are missing an injection of your `private UserRepo userRepo;` Annotate the field with `@Autowired;` or use a constructor which accepts an instance of  `UserRepo` which then will be injected on bean creation. Either way an instance is injected. Otherwise it will be null.","body":"Based on your code you are missing an injection of your <code>private UserRepo userRepo;</code> Annotate the field with <code>@Autowired;</code> or use a constructor which accepts an instance of  <code>UserRepo</code> which then will be injected on bean creation. Either way an instance is injected. Otherwise it will be null."},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611739305,"post_id":65915943,"comment_id":116544722,"body_markdown":"When I use @Autowired on private UserRepo userRepo; getting below error  (Field userRepo in com.helpmydesk.InterFaceAndService.ServiceClass required a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; that could not be found.\n)","body":"When I use @Autowired on private UserRepo userRepo; getting below error  (Field userRepo in com.helpmydesk.InterFaceAndService.ServiceClass required a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; that could not be found. )"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611739352,"post_id":65915943,"comment_id":116544738,"body_markdown":"Action:\n\nConsider defining a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; in your configuration.","body":"Action:  Consider defining a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; in your configuration."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1611744945,"post_id":65915943,"comment_id":116547435,"body_markdown":"`@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)` this looks somehow wrong to me. Should it not be `@EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;)` or just `@EnableJpaRepositories`","body":"<code>@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)</code> this looks somehow wrong to me. Should it not be <code>@EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;)</code> or just <code>@EnableJpaRepositories</code>"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611760801,"post_id":65915943,"comment_id":116555098,"body_markdown":"When i use only @EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;) or this @EnableJpaRepositories give me lots of error.@Daniel Wosch","body":"When i use only @EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;) or this @EnableJpaRepositories give me lots of error.@Daniel Wosch"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611760872,"post_id":65915943,"comment_id":116555131,"body_markdown":"Error(Error creating bean with name &#39;controllerClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\ControllerClass.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;serviceClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\InterFaceAndService\\ServiceClass.class]: Unsatisfied dependency expressed through constructor parameter 0;","body":"Error(Error creating bean with name &#39;controllerClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\ControllerClass.&zwnj;&#8203;class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;serviceClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\InterFaceAndServ&zwnj;&#8203;ice\\ServiceClass.cla&zwnj;&#8203;ss]: Unsatisfied dependency expressed through constructor parameter 0;"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611825123,"post_id":65915943,"comment_id":116576229,"body_markdown":"pls give me the solution of this issue @ Daniel Wosch","body":"pls give me the solution of this issue @ Daniel Wosch"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611739131,"creation_date":1611739131,"answer_id":65916112,"question_id":65915943,"body_markdown":"You don&#39;t have `@Autowired` on your `UserRepo` variable. You can add it; the better fix is to eliminate field injection and use an ordinary constructor. Spring will provide all of the necessary dependencies when it calls the constructor, it makes testing much easier, and it prevents problems of this sort.","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p>You don't have <code>@Autowired</code> on your <code>UserRepo</code> variable. You can add it; the better fix is to eliminate field injection and use an ordinary constructor. Spring will provide all of the necessary dependencies when it calls the constructor, it makes testing much easier, and it prevents problems of this sort.</p>\n"},{"tags":[],"owner":{"account_id":23107032,"reputation":1,"user_id":17215454,"display_name":"user17215454"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634863372,"creation_date":1634863372,"answer_id":69670214,"question_id":65915943,"body_markdown":"you should add @Autowired in your service class before ligne UserRepo userRepo\r\nbecause userRepo must be injected before using it","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p>you should add @Autowired in your service class before ligne UserRepo userRepo\nbecause userRepo must be injected before using it</p>\n"}],"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3088,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1634863372,"creation_date":1611738495,"question_id":65915943,"body_markdown":"**When I post the data that time getting this error**\r\n\r\nCannot invoke &quot;com.helpmydesk.Repo.UserRepo.save(Object)&quot; because &quot;this.userRepo&quot; is null\r\n\tat com.helpmydesk.InterFaceAndService.ServiceClass.execute(ServiceClass.java:17) ~[classes/:na]\r\n\tat com.helpmydesk.ControllerClass.execute(ControllerClass.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\r\n**Main Class** \r\n\r\n    @EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)\r\n    @SpringBootApplication\r\n    public class HelpmydeskApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(HelpmydeskApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Controller Class**\r\n\r\n    @Controller\r\n    public class ControllerClass {\r\n    \r\n    \t @Autowired \r\n    \tprivate InterfaceClass interfaceClass;\r\n     \r\n    \tpublic ControllerClass(InterfaceClass interfaceClass) {\r\n    \t\tthis.interfaceClass = interfaceClass;\r\n    \r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/doregister&quot;)\r\n    \tpublic User execute(@RequestBody User user) {\r\n    \r\n    \t\treturn this.interfaceClass.execute(user);\r\n    \r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String home() {\r\n    \t\treturn &quot;home&quot;;\r\n    \r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/singup&quot;)\r\n    \tpublic String singup() {\r\n    \t\treturn &quot;singup&quot;;\r\n    }\r\n    }\r\n\r\n**Repository Class**\r\n\r\n    @Repository\r\n    public interface UserRepo extends CrudRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n\r\n**interface Class**\r\n\r\n    public interface InterfaceClass {\r\n    \tpublic User execute(User user);\r\n    }\r\n\r\n\r\n**Service Class**\r\n\r\n    @Service\r\n    public class ServiceClass implements InterfaceClass {\r\n    \t\r\n    \tprivate UserRepo userRepo;\r\n    \t\r\n    \tpublic User execute(User user) {\r\n    \t\tthis.userRepo.save(user);\r\n    \t\treturn user;\r\n    \t}\r\n    }\r\n\r\n**User Class**\r\n\r\n    @org.hibernate.annotations.Entity\r\n    @Table(name = &quot;USER&quot;)\r\n    public class User {\r\n    \t\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy= GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \t@Column(unique = true)\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \tprivate String role;\r\n    \tprivate boolean enabled;\r\n    \tprivate String imageUrl;\r\n    \t@Column(length = 500)\r\n    \tprivate String about;\r\n    \t\r\n    \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    \tprivate java.util.List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic User() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \tpublic String getRole() {\r\n    \t\treturn role;\r\n    \t}\r\n    \tpublic void setRole(String role) {\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn enabled;\r\n    \t}\r\n    \tpublic void setEnabled(boolean enabled) {\r\n    \t\tthis.enabled = enabled;\r\n    \t}\r\n    \tpublic String getImageUrl() {\r\n    \t\treturn imageUrl;\r\n    \t}\r\n    \tpublic void setImageUrl(String imageUrl) {\r\n    \t\tthis.imageUrl = imageUrl;\r\n    \t}\r\n    \tpublic String getAbout() {\r\n    \t\treturn about;\r\n    \t}\r\n    \tpublic void setAbout(String about) {\r\n    \t\tthis.about = about;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, role=&quot; + role\r\n    \t\t\t\t+ &quot;, enabled=&quot; + enabled + &quot;, imageUrl=&quot; + imageUrl + &quot;, about=&quot; + about + &quot;]&quot;;\r\n    \t}\r\n    \t}\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZ8nT.png","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p><strong>When I post the data that time getting this error</strong></p>\n<p>Cannot invoke &quot;com.helpmydesk.Repo.UserRepo.save(Object)&quot; because &quot;this.userRepo&quot; is null\nat com.helpmydesk.InterFaceAndService.ServiceClass.execute(ServiceClass.java:17) ~[classes/:na]\nat com.helpmydesk.ControllerClass.execute(ControllerClass.java:27) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]</p>\n<p><strong>Main Class</strong></p>\n<pre><code>@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)\n@SpringBootApplication\npublic class HelpmydeskApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HelpmydeskApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>@Controller\npublic class ControllerClass {\n\n     @Autowired \n    private InterfaceClass interfaceClass;\n \n    public ControllerClass(InterfaceClass interfaceClass) {\n        this.interfaceClass = interfaceClass;\n\n    }\n\n    @PostMapping(&quot;/doregister&quot;)\n    public User execute(@RequestBody User user) {\n\n        return this.interfaceClass.execute(user);\n\n    }\n\n    @RequestMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;home&quot;;\n\n    }\n    \n    @RequestMapping(&quot;/singup&quot;)\n    public String singup() {\n        return &quot;singup&quot;;\n}\n}\n</code></pre>\n<p><strong>Repository Class</strong></p>\n<pre><code>@Repository\npublic interface UserRepo extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>interface Class</strong></p>\n<pre><code>public interface InterfaceClass {\n    public User execute(User user);\n}\n</code></pre>\n<p><strong>Service Class</strong></p>\n<pre><code>@Service\npublic class ServiceClass implements InterfaceClass {\n    \n    private UserRepo userRepo;\n    \n    public User execute(User user) {\n        this.userRepo.save(user);\n        return user;\n    }\n}\n</code></pre>\n<p><strong>User Class</strong></p>\n<pre><code>@org.hibernate.annotations.Entity\n@Table(name = &quot;USER&quot;)\npublic class User {\n    \n    \n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private int id;\n    private String name;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String role;\n    private boolean enabled;\n    private String imageUrl;\n    @Column(length = 500)\n    private String about;\n    \n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private java.util.List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\n    \n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public String getRole() {\n        return role;\n    }\n    public void setRole(String role) {\n        this.role = role;\n    }\n    public boolean isEnabled() {\n        return enabled;\n    }\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n    public String getImageUrl() {\n        return imageUrl;\n    }\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n    public String getAbout() {\n        return about;\n    }\n    public void setAbout(String about) {\n        this.about = about;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, role=&quot; + role\n                + &quot;, enabled=&quot; + enabled + &quot;, imageUrl=&quot; + imageUrl + &quot;, about=&quot; + about + &quot;]&quot;;\n    }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZZ8nT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","ssl","hyperledger-fabric","hyperledger"],"answers":[{"tags":[],"owner":{"account_id":22749465,"reputation":22,"user_id":16909821,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634818911,"creation_date":1634818911,"answer_id":69661910,"question_id":69656177,"body_markdown":"Fabric TLS certificates are **very fiddly**.  For instance, we&#39;ve found several cases where the peer and chaincode will accept a malformed cert, but the gateway client refuses to connect using the same certificate.  What is probably happening is that you have a problem with the openssl generated cert, but the `peer` is too lax to report the error.  (It also doesn&#39;t help that the client TLS libraries simply disconnect, without reporting on the root failure during the handshake.) \r\n\r\nIn the example above, the cert output shows some differences in `PathLen` and `KeyUsage` attributes that differ from what are normally generated by a Fabric CA.\r\n\r\nHere are some ideas and techniques that we&#39;ve found to be useful in debugging TLS handshake issues with the gateway / client SDKs.  Try to use these techniques to close any gaps between your certs and the reference certs generated by the Fabric CAs: \r\n\r\n - Use the Fabric CAs.  Even if you plan to generate a certificate chain using OpenSSL and an external authority, you can use the Fabric CAs to generate TLS enrollments and certificates, and **compare** the reference certs against what you have built up with OpenSSL.\r\n\r\n - Use `curl`, or other TLS-enabled clients to help verify the correctness of a certificate.  In many cases the errors output by an independent client are directly applicable to the failed TLS handshake when connecting the fabric client.\r\n\r\n - Use the [test-network-k8s](https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s) system as a reference for setting up the TLS and CA infrastructure.  In addition to a &quot;push button&quot; test network, this will provide CA endpoints that can be used to generate reference enrollments / certificates for study.\r\n\r\n - Inspect the certificates generated by the Fabric CAs, and compare against your hand-crafted certs.  For example, here is a certificate dump from a TLS cert generated with the Kube test network - make sure your OpenSSL certs have the same, or similar feature sets and attributes. \r\n```\r\n$ openssl x509 -in /tmp/ca-cert.pem -text\r\nCertificate:\r\n    Data:\r\n        Version: 3 (0x2)\r\n        Serial Number:\r\n            4c:63:74:d5:99:29:ce:e0:b6:28:a2:b5:a4:0e:a0:c1:f3:e9:a9:d5\r\n    Signature Algorithm: ecdsa-with-SHA256\r\n        Issuer: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\r\n        Validity\r\n            Not Before: Oct 21 10:36:00 2021 GMT\r\n            Not After : Oct 17 10:36:00 2036 GMT\r\n        Subject: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: id-ecPublicKey\r\n                Public-Key: (256 bit)\r\n                pub: \r\n                    04:53:f4:ad:e6:6b:4c:75:7e:4a:6d:6e:cd:73:b0:\r\n                    81:a8:d7:d7:55:c0:fd:22:92:15:fc:2d:20:44:c6:\r\n                    ec:55:c9:cc:88:3a:14:09:77:e5:4f:4b:b8:98:ee:\r\n                    71:09:da:e6:f8:7c:f7:39:fa:41:fc:f3:a2:fe:a4:\r\n                    1e:34:ec:a9:b5\r\n                ASN1 OID: prime256v1\r\n                NIST CURVE: P-256\r\n        X509v3 extensions:\r\n            X509v3 Key Usage: critical\r\n                Certificate Sign, CRL Sign\r\n            X509v3 Basic Constraints: critical\r\n                CA:TRUE, pathlen:1\r\n            X509v3 Subject Key Identifier: \r\n                AB:AF:85:A3:D3:2E:9A:A9:03:49:F5:5C:30:32:2B:92:EC:92:B3:D0\r\n            X509v3 Subject Alternative Name: \r\n                IP Address:127.0.0.1\r\n    Signature Algorithm: ecdsa-with-SHA256\r\n         30:45:02:21:00:bf:cc:c1:d2:29:b1:04:3f:55:31:c6:b7:69:\r\n         ca:72:12:d7:67:55:14:cd:23:f7:75:16:6c:b1:63:7f:e6:9c:\r\n         24:02:20:5d:ff:e3:7e:84:22:d3:f3:52:bd:96:fa:dc:2d:94:\r\n         2f:6b:a3:bc:ab:3e:b3:87:10:fd:30:51:a2:4a:ca:ce:b4\r\n-----BEGIN CERTIFICATE-----\r\nMIICKDCCAc6gAwIBAgIUTGN01ZkpzuC2KKK1pA6gwfPpqdUwCgYIKoZIzj0EAwIw\r\naDELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQK\r\nEwtIeXBlcmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMt\r\nY2Etc2VydmVyMB4XDTIxMTAyMTEwMzYwMFoXDTM2MTAxNzEwMzYwMFowaDELMAkG\r\nA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQKEwtIeXBl\r\ncmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMtY2Etc2Vy\r\ndmVyMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/St5mtMdX5KbW7Nc7CBqNfX\r\nVcD9IpIV/C0gRMbsVcnMiDoUCXflT0u4mO5xCdrm+Hz3OfpB/POi/qQeNOyptaNW\r\nMFQwDgYDVR0PAQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYE\r\nFKuvhaPTLpqpA0n1XDAyK5LskrPQMA8GA1UdEQQIMAaHBH8AAAEwCgYIKoZIzj0E\r\nAwIDSAAwRQIhAL/MwdIpsQQ/VTHGt2nKchLXZ1UUzSP3dRZssWN/5pwkAiBd/+N+\r\nhCLT81K9lvrcLZQva6O8qz6zhxD9MFGiSsrOtA==\r\n-----END CERTIFICATE-----\r\n```","title":"Hyperledger Fabric: TLS Internal Error using Fabric Gateway Java SDK","body":"<p>Fabric TLS certificates are <strong>very fiddly</strong>.  For instance, we've found several cases where the peer and chaincode will accept a malformed cert, but the gateway client refuses to connect using the same certificate.  What is probably happening is that you have a problem with the openssl generated cert, but the <code>peer</code> is too lax to report the error.  (It also doesn't help that the client TLS libraries simply disconnect, without reporting on the root failure during the handshake.)</p>\n<p>In the example above, the cert output shows some differences in <code>PathLen</code> and <code>KeyUsage</code> attributes that differ from what are normally generated by a Fabric CA.</p>\n<p>Here are some ideas and techniques that we've found to be useful in debugging TLS handshake issues with the gateway / client SDKs.  Try to use these techniques to close any gaps between your certs and the reference certs generated by the Fabric CAs:</p>\n<ul>\n<li><p>Use the Fabric CAs.  Even if you plan to generate a certificate chain using OpenSSL and an external authority, you can use the Fabric CAs to generate TLS enrollments and certificates, and <strong>compare</strong> the reference certs against what you have built up with OpenSSL.</p>\n</li>\n<li><p>Use <code>curl</code>, or other TLS-enabled clients to help verify the correctness of a certificate.  In many cases the errors output by an independent client are directly applicable to the failed TLS handshake when connecting the fabric client.</p>\n</li>\n<li><p>Use the <a href=\"https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s\" rel=\"nofollow noreferrer\">test-network-k8s</a> system as a reference for setting up the TLS and CA infrastructure.  In addition to a &quot;push button&quot; test network, this will provide CA endpoints that can be used to generate reference enrollments / certificates for study.</p>\n</li>\n<li><p>Inspect the certificates generated by the Fabric CAs, and compare against your hand-crafted certs.  For example, here is a certificate dump from a TLS cert generated with the Kube test network - make sure your OpenSSL certs have the same, or similar feature sets and attributes.</p>\n</li>\n</ul>\n<pre><code>$ openssl x509 -in /tmp/ca-cert.pem -text\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            4c:63:74:d5:99:29:ce:e0:b6:28:a2:b5:a4:0e:a0:c1:f3:e9:a9:d5\n    Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\n        Validity\n            Not Before: Oct 21 10:36:00 2021 GMT\n            Not After : Oct 17 10:36:00 2036 GMT\n        Subject: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub: \n                    04:53:f4:ad:e6:6b:4c:75:7e:4a:6d:6e:cd:73:b0:\n                    81:a8:d7:d7:55:c0:fd:22:92:15:fc:2d:20:44:c6:\n                    ec:55:c9:cc:88:3a:14:09:77:e5:4f:4b:b8:98:ee:\n                    71:09:da:e6:f8:7c:f7:39:fa:41:fc:f3:a2:fe:a4:\n                    1e:34:ec:a9:b5\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Key Usage: critical\n                Certificate Sign, CRL Sign\n            X509v3 Basic Constraints: critical\n                CA:TRUE, pathlen:1\n            X509v3 Subject Key Identifier: \n                AB:AF:85:A3:D3:2E:9A:A9:03:49:F5:5C:30:32:2B:92:EC:92:B3:D0\n            X509v3 Subject Alternative Name: \n                IP Address:127.0.0.1\n    Signature Algorithm: ecdsa-with-SHA256\n         30:45:02:21:00:bf:cc:c1:d2:29:b1:04:3f:55:31:c6:b7:69:\n         ca:72:12:d7:67:55:14:cd:23:f7:75:16:6c:b1:63:7f:e6:9c:\n         24:02:20:5d:ff:e3:7e:84:22:d3:f3:52:bd:96:fa:dc:2d:94:\n         2f:6b:a3:bc:ab:3e:b3:87:10:fd:30:51:a2:4a:ca:ce:b4\n-----BEGIN CERTIFICATE-----\nMIICKDCCAc6gAwIBAgIUTGN01ZkpzuC2KKK1pA6gwfPpqdUwCgYIKoZIzj0EAwIw\naDELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQK\nEwtIeXBlcmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMt\nY2Etc2VydmVyMB4XDTIxMTAyMTEwMzYwMFoXDTM2MTAxNzEwMzYwMFowaDELMAkG\nA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQKEwtIeXBl\ncmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMtY2Etc2Vy\ndmVyMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/St5mtMdX5KbW7Nc7CBqNfX\nVcD9IpIV/C0gRMbsVcnMiDoUCXflT0u4mO5xCdrm+Hz3OfpB/POi/qQeNOyptaNW\nMFQwDgYDVR0PAQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYE\nFKuvhaPTLpqpA0n1XDAyK5LskrPQMA8GA1UdEQQIMAaHBH8AAAEwCgYIKoZIzj0E\nAwIDSAAwRQIhAL/MwdIpsQQ/VTHGt2nKchLXZ1UUzSP3dRZssWN/5pwkAiBd/+N+\nhCLT81K9lvrcLZQva6O8qz6zhxD9MFGiSsrOtA==\n-----END CERTIFICATE-----\n</code></pre>\n"}],"owner":{"account_id":13657143,"reputation":152,"user_id":9853315,"display_name":"Christopher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661910,"answer_count":1,"score":0,"last_activity_date":1634862666,"creation_date":1634793016,"question_id":69656177,"body_markdown":"Fabric Version: v2.2.4\r\nFabric Gateway Version: v2.2.0\r\n\r\nCurrently, I am not using Fabric CA and docker. Instead, I am using OpenSSL to generate my own certificates. There is no problem using command line to join channel or invoke chaincode with TLS enabled (Server TLS).\r\n\r\nHowever, when I try to invoke my chaincode using Fabric Gateway Java SDK with TLS, the peer shows:\r\n\r\n    2021-10-20 23:53:51.571 EDT [core.comm] ServerHandshake -&gt; ERRO 411 Server TLS handshake failed in 731.664253ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48920\r\n    2021-10-20 23:53:51.648 EDT [core.comm] ServerHandshake -&gt; ERRO 412 Server TLS handshake failed in 17.623962ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48924\r\n    2021-10-20 23:53:52.389 EDT [core.comm] ServerHandshake -&gt; ERRO 413 Server TLS handshake failed in 31.834126ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48928\r\n    2021-10-20 23:53:53.013 EDT [core.comm] ServerHandshake -&gt; ERRO 414 Server TLS handshake failed in 20.97883ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48932\r\n    2021-10-20 23:53:53.453 EDT [core.comm] ServerHandshake -&gt; ERRO 415 Server TLS handshake failed in 27.840631ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48936\r\n\r\nif I disable the TLS, the chaincode can be invoked and queried but it shows an error message and display the certificate of the peer:\r\n\r\n    04:45:56.020 [main] ERROR org.hyperledger.fabric.sdk.security.CryptoPrimitives - Cannot \r\n    validate certificate. Error is: Path does not chain with any of the trust anchors\r\n    Certificate[\r\n    [\r\n      Version: V3\r\n      Subject: CN=peer-telecom, OU=peer, O=peer0.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\r\n      Signature Algorithm: SHA256withECDSA, OID = 1.2.840.10045.4.3.2\r\n    \r\n      Key:  Sun EC public key, 256 bits\r\n      public x coord: 63258922835963897769642318382353579773301130246303245867091942631050654760639\r\n      public y coord: 17014436126955018341557373411142402131278326611630973049174140241981148702177\r\n      parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\r\n      Validity: [From: Mon Oct 18 04:30:10 EDT 2021,\r\n                   To: Tue Oct 18 04:30:10 EDT 2022]\r\n      Issuer: CN=hyperledger-telecom, O=ica.hyperledger.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\r\n      SerialNumber: [    1000]\r\n    \r\n    Certificate Extensions: 4\r\n    [1]: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 70 2B 57 B5 7C 6A 38 DE   AB 6F DD 7E C4 63 FE 39  p+W..j8..o...c.9\r\n    0010: 54 22 D9 F9                                        T&quot;..\r\n    ]\r\n    ]\r\n    \r\n    [2]: ObjectId: 2.5.29.19 Criticality=false\r\n    BasicConstraints:[\r\n      CA:false\r\n      PathLen: undefined\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 62 C2 4A FB 13 54 44 DF   15 AB 2B 09 78 4F 79 4A  b.J..TD...+.xOyJ\r\n    0010: CB 37 1D D7                                        .7..\r\n    ]\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA256withECDSA]\r\n      Signature:\r\n    0000: 30 44 02 20 2D 20 15 9D   53 D4 DE EF 56 0D E6 6D  0D. - ..S...V..m\r\n    0010: 04 DA 99 F8 0C AC D5 A7   87 66 51 04 23 A0 4D C2  .........fQ.#.M.\r\n    0020: C8 98 95 5C 02 20 5C A5   5A 2D 19 43 FA E8 C0 E1  ...\\. \\.Z-.C....\r\n    0030: 49 4E C0 DF C9 59 F8 10   34 D6 94 05 51 38 E9 17  IN...Y..4...Q8..\r\n    0040: C5 F1 20 1F 0C EC                                  .. ...\r\n    \r\n    ]\r\n\r\n\r\n\r\nJava Application code:\r\n\r\n    package org.example.contract;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n    \r\n    import java.util.concurrent.TimeoutException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.PrivateKey;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    \r\n    import org.hyperledger.fabric.gateway.Identities;\r\n    import org.hyperledger.fabric.gateway.Identity;\r\n    import org.hyperledger.fabric.gateway.Contract;\r\n    import org.hyperledger.fabric.gateway.ContractException;\r\n    import org.hyperledger.fabric.gateway.Gateway;\r\n    import org.hyperledger.fabric.gateway.Network;\r\n    import org.hyperledger.fabric.gateway.Wallet;\r\n    import org.hyperledger.fabric.gateway.Wallets;\r\n    \r\n    public class Sample {\r\n        \r\n        X509Certificate[] clientCert = null;\r\n        PrivateKey clientKey = null;\r\n    \r\n        private static X509Certificate readX509Certificate(final Path certificatePath) throws IOException, CertificateException {\r\n            try (Reader certificateReader = Files.newBufferedReader(certificatePath, StandardCharsets.UTF_8)) {\r\n                return Identities.readX509Certificate(certificateReader);\r\n            }\r\n        }\r\n    \r\n        private static PrivateKey getPrivateKey(final Path privateKeyPath) throws IOException, InvalidKeyException {\r\n            try (Reader privateKeyReader = Files.newBufferedReader(privateKeyPath, StandardCharsets.UTF_8)) {\r\n                return Identities.readPrivateKey(privateKeyReader);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // Load an existing wallet holding identities used to access the network.\r\n            // A wallet stores a collection of identities\r\n            Path walletPath = Paths.get(&quot;.&quot;, &quot;wallet&quot;);\r\n            Wallet wallet = Wallets.newFileSystemWallet(walletPath);\r\n            try {\r\n                      \r\n                Path credentialPath = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;crypto-config&quot;, &quot;peerOrganizations&quot;,\r\n                    &quot;org1.telecom.com&quot;, &quot;users&quot;, &quot;Admin@org1.telecom.com&quot;, &quot;msp&quot;);\r\n                System.out.println(&quot;credentialPath: &quot; + credentialPath.toString());\r\n                Path certificatePath = credentialPath.resolve(Paths.get(&quot;signcerts&quot;,\r\n                    &quot;Admin@org1.telecom.com-cert.pem&quot;));\r\n                System.out.println(&quot;certificatePem: &quot; + certificatePath.toString());\r\n                Path privateKeyPath = credentialPath.resolve(Paths.get(&quot;keystore&quot;,\r\n                    &quot;Admin@telecom.com.key&quot;));\r\n          \r\n                X509Certificate certificate = readX509Certificate(certificatePath);\r\n                PrivateKey privateKey = getPrivateKey(privateKeyPath);\r\n          \r\n                Identity identity = Identities.newX509Identity(&quot;Org1MSP&quot;, certificate, privateKey);\r\n                \r\n                String identityLabel = &quot;Admin@org1.telecom.com&quot;;\r\n                wallet.put(identityLabel, identity);\r\n          \r\n                System.out.println(&quot;Write wallet info into &quot; + walletPath.toString() + &quot; successfully.&quot;);\r\n          \r\n            } catch (IOException | CertificateException | InvalidKeyException e) {\r\n                System.err.println(&quot;Error adding to wallet&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            // Path to a common connection profile describing the network.\r\n            Path networkConfigFile = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;connection.yaml&quot;);\r\n    \r\n            String userName = &quot;Admin@org1.telecom.com&quot;;\r\n            // Configure the gateway connection used to access the network.,\r\n            Gateway.Builder builder = Gateway.createBuilder()\r\n                    .identity(wallet, userName)\r\n                    .networkConfig(networkConfigFile);\r\n    \r\n            // Create a gateway connection\r\n            try (Gateway gateway = builder.connect()) {\r\n    \r\n                // Obtain a smart contract deployed on the network.\r\n                Network network = gateway.getNetwork(&quot;mychannel&quot;);\r\n                Contract contract = network.getContract(&quot;chaincode&quot;);\r\n    \r\n                // Submit transactions that store state to the ledger.\r\n                byte[] createCarResult = contract.createTransaction(&quot;createMyAsset&quot;)\r\n                        .submit(&quot;CAR&quot;, &quot;Honda&quot;);\r\n                System.out.println(new String(createCarResult, StandardCharsets.UTF_8));\r\n    \r\n                byte[] queryCar = contract.submitTransaction(&quot;readMyAsset&quot;, &quot;CAR&quot;);\r\n                System.out.println(new String(queryCar, StandardCharsets.UTF_8));\r\n    \r\n            } catch (ContractException | TimeoutException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nconnection.yaml:\r\n\r\n    name: &quot;Network-Config-Test&quot;\r\n    description: &quot;The network used in the integration tests&quot;\r\n    version: 1.0.0\r\n    client:\r\n      organization: telecom\r\n    \r\n    organizations:\r\n      telecom:\r\n        mspid: Org1MSP\r\n    \r\n        peers:\r\n          - peer0.org1.telecom.com\r\n    \r\n        #adminPrivateKey:\r\n          #path: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/keystore/Admin@telecom.com.key&#39;\r\n    \r\n        #signedCert:\r\n          #path: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/signcerts/Admin@org1.telecom.com-cert.pem&#39;\r\n          \r\n    orderers:\r\n      orderer.example.com:\r\n        url: grpcs://localhost:6050\r\n    \r\n       \r\n          #client: \r\n            #keyfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.key&#39;\r\n            #certfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.crt&#39;\r\n\r\n        grpcOptions:\r\n          hostnameOverride: orderer.example.com\r\n          grpc-max-send-message-length: 15\r\n          grpc.keepalive_time_ms: 360000\r\n          grpc.keepalive_timeout_ms: 180000\r\n          negotiationType: TLS\r\n          sslProvider: openSSL\r\n\r\n        tlsCACerts:\r\n          path: /root/fabric/localtls/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt\r\n    \r\n    \r\n    peers:\r\n      peer0.org1.telecom.com:\r\n        url: grpcs://localhost:7051\r\n          #client: \r\n            #keyfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.key&#39;\r\n            #certfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.crt&#39;\r\n    \r\n        grpcOptions:\r\n          ssl-target-name-override: peer0.org1.telecom.com\r\n          grpc.http2.keepalive_time: 15\r\n          hostnameOverride: peer0.org1.telecom.com\r\n          negotiationType: TLS\r\n          sslProvider: openSSL\r\n        \r\n        tlsCACerts:\r\n          path: /root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/peers/peer0.org1.telecom.com/tls/ca.crt\r\n\r\nWhat am I missing? Any answer is welcomed!\r\n\r\n**Update 1.0**\r\nThese are the certificates generated by using openSSL, they work when I use command line (I ommitted the hf thing in the Subject Alternative Name, not sure is it important for the application to work?):\r\n\r\nThe tlscacert:\r\n\r\n\r\n    Certificate:\r\n        Data:\r\n            Version: 3 (0x2)\r\n            Serial Number:\r\n                1f:a5:9f:1a:01:ed:c7:3d:30:ca:27:b6:79:9c:82:10:b8:94:84:23\r\n            Signature Algorithm: ecdsa-with-SHA256\r\n            Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Validity\r\n                Not Before: Oct 21 03:11:13 2021 GMT\r\n                Not After : Oct 19 03:11:13 2031 GMT\r\n            Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Subject Public Key Info:\r\n                Public Key Algorithm: id-ecPublicKey\r\n                    Public-Key: (256 bit)\r\n                    pub:\r\n                        04:34:b5:ac:a3:42:8c:d4:17:97:ca:16:d5:2f:7a:\r\n                        00:32:bf:fd:dd:02:8a:33:28:ed:c0:53:5d:e0:42:\r\n                        79:0d:08:43:1c:22:83:1e:f0:71:91:08:d6:c3:ec:\r\n                        eb:ac:9c:56:00:da:e8:08:cf:ad:4c:b3:46:e7:e1:\r\n                        39:1c:5f:bf:fc\r\n                    ASN1 OID: prime256v1\r\n                    NIST CURVE: P-256\r\n            X509v3 extensions:\r\n                X509v3 Subject Key Identifier:\r\n                    EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n                X509v3 Authority Key Identifier:\r\n                    keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n    \r\n                X509v3 Basic Constraints: critical\r\n                    CA:TRUE\r\n                X509v3 Key Usage: critical\r\n                    Digital Signature, Key Encipherment, Certificate Sign, CRL Sign\r\n        Signature Algorithm: ecdsa-with-SHA256\r\n             30:45:02:20:63:40:88:2d:c8:51:e5:42:2b:d3:98:60:6f:1e:\r\n             3c:d2:f6:59:48:bb:0c:7c:10:b6:28:27:86:20:58:35:0b:19:\r\n             02:21:00:c7:87:df:79:75:21:8d:bf:bc:be:aa:c9:44:53:b5:\r\n             b4:32:4d:06:2b:a0:05:eb:38:b7:9f:3d:71:80:17:77:69\r\n\r\nThe Peer TLS cert:\r\n\r\n    Certificate:\r\n        Data:\r\n            Version: 3 (0x2)\r\n            Serial Number: 4097 (0x1001)\r\n            Signature Algorithm: ecdsa-with-SHA256\r\n            Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Validity\r\n                Not Before: Oct 21 03:11:13 2021 GMT\r\n                Not After : Oct 21 03:11:13 2022 GMT\r\n            Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, O = tls.peer.telecom.com, CN = tls-peer-telecom\r\n            Subject Public Key Info:\r\n                Public Key Algorithm: id-ecPublicKey\r\n                    Public-Key: (256 bit)\r\n                    pub:\r\n                        04:76:c2:e9:94:10:03:2c:3b:2d:90:56:e8:b5:30:\r\n                        bf:67:f6:b5:b8:9c:73:cd:28:b3:f2:f7:21:e9:f7:\r\n                        6c:66:38:a9:e8:7c:b0:ea:67:fb:f7:db:72:29:9d:\r\n                        aa:56:20:92:ab:b1:e5:53:2a:a1:19:0b:0c:8b:65:\r\n                        36:fe:98:aa:e1\r\n                    ASN1 OID: prime256v1\r\n                    NIST CURVE: P-256\r\n            X509v3 extensions:\r\n                X509v3 Basic Constraints: critical\r\n                    CA:FALSE\r\n                X509v3 Key Usage: critical\r\n                    Digital Signature, Key Encipherment\r\n                X509v3 Extended Key Usage:\r\n                    TLS Web Client Authentication, TLS Web Server Authentication\r\n                X509v3 Subject Key Identifier:\r\n                    08:9D:B8:81:4B:39:0D:B1:D4:BD:EC:49:E5:AC:BA:FB:F1:7A:58:51\r\n                X509v3 Authority Key Identifier:\r\n                    keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n    \r\n                X509v3 Subject Alternative Name:\r\n                    IP Address:127.0.0.1\r\n        Signature Algorithm: ecdsa-with-SHA256\r\n             30:46:02:21:00:c0:d7:26:b4:e9:30:08:b5:37:46:66:0f:fb:\r\n             b6:36:22:04:5f:78:ab:ae:ff:7f:48:e0:7b:ff:e8:f0:88:b4:\r\n             e5:02:21:00:86:64:ec:c8:9b:b4:06:b5:3d:d3:c1:54:4f:d2:\r\n             a2:bb:1a:e1:a7:e7:84:28:9a:ef:ac:db:ab:65:95:0d:10:2d\r\n\r\nThe only thing I am missing in the cert is:\r\n\r\n    1.2.3.4.5.6.7.8.1:\r\n                    {&quot;attrs&quot;:{&quot;hf.Affiliation&quot;:&quot;&quot;,&quot;hf.EnrollmentID&quot;:&quot;peer0&quot;,&quot;hf.Type&quot;:&quot;peer&quot;}}\r\n\r\nIs this only being used by the Fabric CA? Or it is a must to include?\r\n\r\n","title":"Hyperledger Fabric: TLS Internal Error using Fabric Gateway Java SDK","body":"<p>Fabric Version: v2.2.4\nFabric Gateway Version: v2.2.0</p>\n<p>Currently, I am not using Fabric CA and docker. Instead, I am using OpenSSL to generate my own certificates. There is no problem using command line to join channel or invoke chaincode with TLS enabled (Server TLS).</p>\n<p>However, when I try to invoke my chaincode using Fabric Gateway Java SDK with TLS, the peer shows:</p>\n<pre><code>2021-10-20 23:53:51.571 EDT [core.comm] ServerHandshake -&gt; ERRO 411 Server TLS handshake failed in 731.664253ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48920\n2021-10-20 23:53:51.648 EDT [core.comm] ServerHandshake -&gt; ERRO 412 Server TLS handshake failed in 17.623962ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48924\n2021-10-20 23:53:52.389 EDT [core.comm] ServerHandshake -&gt; ERRO 413 Server TLS handshake failed in 31.834126ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48928\n2021-10-20 23:53:53.013 EDT [core.comm] ServerHandshake -&gt; ERRO 414 Server TLS handshake failed in 20.97883ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48932\n2021-10-20 23:53:53.453 EDT [core.comm] ServerHandshake -&gt; ERRO 415 Server TLS handshake failed in 27.840631ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48936\n</code></pre>\n<p>if I disable the TLS, the chaincode can be invoked and queried but it shows an error message and display the certificate of the peer:</p>\n<pre><code>04:45:56.020 [main] ERROR org.hyperledger.fabric.sdk.security.CryptoPrimitives - Cannot \nvalidate certificate. Error is: Path does not chain with any of the trust anchors\nCertificate[\n[\n  Version: V3\n  Subject: CN=peer-telecom, OU=peer, O=peer0.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\n  Signature Algorithm: SHA256withECDSA, OID = 1.2.840.10045.4.3.2\n\n  Key:  Sun EC public key, 256 bits\n  public x coord: 63258922835963897769642318382353579773301130246303245867091942631050654760639\n  public y coord: 17014436126955018341557373411142402131278326611630973049174140241981148702177\n  parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\n  Validity: [From: Mon Oct 18 04:30:10 EDT 2021,\n               To: Tue Oct 18 04:30:10 EDT 2022]\n  Issuer: CN=hyperledger-telecom, O=ica.hyperledger.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\n  SerialNumber: [    1000]\n\nCertificate Extensions: 4\n[1]: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 70 2B 57 B5 7C 6A 38 DE   AB 6F DD 7E C4 63 FE 39  p+W..j8..o...c.9\n0010: 54 22 D9 F9                                        T&quot;..\n]\n]\n\n[2]: ObjectId: 2.5.29.19 Criticality=false\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n[3]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n]\n\n[4]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 62 C2 4A FB 13 54 44 DF   15 AB 2B 09 78 4F 79 4A  b.J..TD...+.xOyJ\n0010: CB 37 1D D7                                        .7..\n]\n]\n\n]\n  Algorithm: [SHA256withECDSA]\n  Signature:\n0000: 30 44 02 20 2D 20 15 9D   53 D4 DE EF 56 0D E6 6D  0D. - ..S...V..m\n0010: 04 DA 99 F8 0C AC D5 A7   87 66 51 04 23 A0 4D C2  .........fQ.#.M.\n0020: C8 98 95 5C 02 20 5C A5   5A 2D 19 43 FA E8 C0 E1  ...\\. \\.Z-.C....\n0030: 49 4E C0 DF C9 59 F8 10   34 D6 94 05 51 38 E9 17  IN...Y..4...Q8..\n0040: C5 F1 20 1F 0C EC                                  .. ...\n\n]\n</code></pre>\n<p>Java Application code:</p>\n<pre><code>package org.example.contract;\n\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\n\nimport java.util.concurrent.TimeoutException;\nimport java.security.InvalidKeyException;\nimport java.security.PrivateKey;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\n\nimport org.hyperledger.fabric.gateway.Identities;\nimport org.hyperledger.fabric.gateway.Identity;\nimport org.hyperledger.fabric.gateway.Contract;\nimport org.hyperledger.fabric.gateway.ContractException;\nimport org.hyperledger.fabric.gateway.Gateway;\nimport org.hyperledger.fabric.gateway.Network;\nimport org.hyperledger.fabric.gateway.Wallet;\nimport org.hyperledger.fabric.gateway.Wallets;\n\npublic class Sample {\n    \n    X509Certificate[] clientCert = null;\n    PrivateKey clientKey = null;\n\n    private static X509Certificate readX509Certificate(final Path certificatePath) throws IOException, CertificateException {\n        try (Reader certificateReader = Files.newBufferedReader(certificatePath, StandardCharsets.UTF_8)) {\n            return Identities.readX509Certificate(certificateReader);\n        }\n    }\n\n    private static PrivateKey getPrivateKey(final Path privateKeyPath) throws IOException, InvalidKeyException {\n        try (Reader privateKeyReader = Files.newBufferedReader(privateKeyPath, StandardCharsets.UTF_8)) {\n            return Identities.readPrivateKey(privateKeyReader);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        // Load an existing wallet holding identities used to access the network.\n        // A wallet stores a collection of identities\n        Path walletPath = Paths.get(&quot;.&quot;, &quot;wallet&quot;);\n        Wallet wallet = Wallets.newFileSystemWallet(walletPath);\n        try {\n                  \n            Path credentialPath = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;crypto-config&quot;, &quot;peerOrganizations&quot;,\n                &quot;org1.telecom.com&quot;, &quot;users&quot;, &quot;Admin@org1.telecom.com&quot;, &quot;msp&quot;);\n            System.out.println(&quot;credentialPath: &quot; + credentialPath.toString());\n            Path certificatePath = credentialPath.resolve(Paths.get(&quot;signcerts&quot;,\n                &quot;Admin@org1.telecom.com-cert.pem&quot;));\n            System.out.println(&quot;certificatePem: &quot; + certificatePath.toString());\n            Path privateKeyPath = credentialPath.resolve(Paths.get(&quot;keystore&quot;,\n                &quot;Admin@telecom.com.key&quot;));\n      \n            X509Certificate certificate = readX509Certificate(certificatePath);\n            PrivateKey privateKey = getPrivateKey(privateKeyPath);\n      \n            Identity identity = Identities.newX509Identity(&quot;Org1MSP&quot;, certificate, privateKey);\n            \n            String identityLabel = &quot;Admin@org1.telecom.com&quot;;\n            wallet.put(identityLabel, identity);\n      \n            System.out.println(&quot;Write wallet info into &quot; + walletPath.toString() + &quot; successfully.&quot;);\n      \n        } catch (IOException | CertificateException | InvalidKeyException e) {\n            System.err.println(&quot;Error adding to wallet&quot;);\n            e.printStackTrace();\n        }\n        // Path to a common connection profile describing the network.\n        Path networkConfigFile = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;connection.yaml&quot;);\n\n        String userName = &quot;Admin@org1.telecom.com&quot;;\n        // Configure the gateway connection used to access the network.,\n        Gateway.Builder builder = Gateway.createBuilder()\n                .identity(wallet, userName)\n                .networkConfig(networkConfigFile);\n\n        // Create a gateway connection\n        try (Gateway gateway = builder.connect()) {\n\n            // Obtain a smart contract deployed on the network.\n            Network network = gateway.getNetwork(&quot;mychannel&quot;);\n            Contract contract = network.getContract(&quot;chaincode&quot;);\n\n            // Submit transactions that store state to the ledger.\n            byte[] createCarResult = contract.createTransaction(&quot;createMyAsset&quot;)\n                    .submit(&quot;CAR&quot;, &quot;Honda&quot;);\n            System.out.println(new String(createCarResult, StandardCharsets.UTF_8));\n\n            byte[] queryCar = contract.submitTransaction(&quot;readMyAsset&quot;, &quot;CAR&quot;);\n            System.out.println(new String(queryCar, StandardCharsets.UTF_8));\n\n        } catch (ContractException | TimeoutException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>connection.yaml:</p>\n<pre><code>name: &quot;Network-Config-Test&quot;\ndescription: &quot;The network used in the integration tests&quot;\nversion: 1.0.0\nclient:\n  organization: telecom\n\norganizations:\n  telecom:\n    mspid: Org1MSP\n\n    peers:\n      - peer0.org1.telecom.com\n\n    #adminPrivateKey:\n      #path: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/keystore/Admin@telecom.com.key'\n\n    #signedCert:\n      #path: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/signcerts/Admin@org1.telecom.com-cert.pem'\n      \norderers:\n  orderer.example.com:\n    url: grpcs://localhost:6050\n\n   \n      #client: \n        #keyfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.key'\n        #certfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.crt'\n\n    grpcOptions:\n      hostnameOverride: orderer.example.com\n      grpc-max-send-message-length: 15\n      grpc.keepalive_time_ms: 360000\n      grpc.keepalive_timeout_ms: 180000\n      negotiationType: TLS\n      sslProvider: openSSL\n\n    tlsCACerts:\n      path: /root/fabric/localtls/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt\n\n\npeers:\n  peer0.org1.telecom.com:\n    url: grpcs://localhost:7051\n      #client: \n        #keyfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.key'\n        #certfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.crt'\n\n    grpcOptions:\n      ssl-target-name-override: peer0.org1.telecom.com\n      grpc.http2.keepalive_time: 15\n      hostnameOverride: peer0.org1.telecom.com\n      negotiationType: TLS\n      sslProvider: openSSL\n    \n    tlsCACerts:\n      path: /root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/peers/peer0.org1.telecom.com/tls/ca.crt\n</code></pre>\n<p>What am I missing? Any answer is welcomed!</p>\n<p><strong>Update 1.0</strong>\nThese are the certificates generated by using openSSL, they work when I use command line (I ommitted the hf thing in the Subject Alternative Name, not sure is it important for the application to work?):</p>\n<p>The tlscacert:</p>\n<pre><code>Certificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            1f:a5:9f:1a:01:ed:c7:3d:30:ca:27:b6:79:9c:82:10:b8:94:84:23\n        Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Validity\n            Not Before: Oct 21 03:11:13 2021 GMT\n            Not After : Oct 19 03:11:13 2031 GMT\n        Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub:\n                    04:34:b5:ac:a3:42:8c:d4:17:97:ca:16:d5:2f:7a:\n                    00:32:bf:fd:dd:02:8a:33:28:ed:c0:53:5d:e0:42:\n                    79:0d:08:43:1c:22:83:1e:f0:71:91:08:d6:c3:ec:\n                    eb:ac:9c:56:00:da:e8:08:cf:ad:4c:b3:46:e7:e1:\n                    39:1c:5f:bf:fc\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n            X509v3 Authority Key Identifier:\n                keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n\n            X509v3 Basic Constraints: critical\n                CA:TRUE\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment, Certificate Sign, CRL Sign\n    Signature Algorithm: ecdsa-with-SHA256\n         30:45:02:20:63:40:88:2d:c8:51:e5:42:2b:d3:98:60:6f:1e:\n         3c:d2:f6:59:48:bb:0c:7c:10:b6:28:27:86:20:58:35:0b:19:\n         02:21:00:c7:87:df:79:75:21:8d:bf:bc:be:aa:c9:44:53:b5:\n         b4:32:4d:06:2b:a0:05:eb:38:b7:9f:3d:71:80:17:77:69\n</code></pre>\n<p>The Peer TLS cert:</p>\n<pre><code>Certificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number: 4097 (0x1001)\n        Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Validity\n            Not Before: Oct 21 03:11:13 2021 GMT\n            Not After : Oct 21 03:11:13 2022 GMT\n        Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, O = tls.peer.telecom.com, CN = tls-peer-telecom\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub:\n                    04:76:c2:e9:94:10:03:2c:3b:2d:90:56:e8:b5:30:\n                    bf:67:f6:b5:b8:9c:73:cd:28:b3:f2:f7:21:e9:f7:\n                    6c:66:38:a9:e8:7c:b0:ea:67:fb:f7:db:72:29:9d:\n                    aa:56:20:92:ab:b1:e5:53:2a:a1:19:0b:0c:8b:65:\n                    36:fe:98:aa:e1\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment\n            X509v3 Extended Key Usage:\n                TLS Web Client Authentication, TLS Web Server Authentication\n            X509v3 Subject Key Identifier:\n                08:9D:B8:81:4B:39:0D:B1:D4:BD:EC:49:E5:AC:BA:FB:F1:7A:58:51\n            X509v3 Authority Key Identifier:\n                keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n\n            X509v3 Subject Alternative Name:\n                IP Address:127.0.0.1\n    Signature Algorithm: ecdsa-with-SHA256\n         30:46:02:21:00:c0:d7:26:b4:e9:30:08:b5:37:46:66:0f:fb:\n         b6:36:22:04:5f:78:ab:ae:ff:7f:48:e0:7b:ff:e8:f0:88:b4:\n         e5:02:21:00:86:64:ec:c8:9b:b4:06:b5:3d:d3:c1:54:4f:d2:\n         a2:bb:1a:e1:a7:e7:84:28:9a:ef:ac:db:ab:65:95:0d:10:2d\n</code></pre>\n<p>The only thing I am missing in the cert is:</p>\n<pre><code>1.2.3.4.5.6.7.8.1:\n                {&quot;attrs&quot;:{&quot;hf.Affiliation&quot;:&quot;&quot;,&quot;hf.EnrollmentID&quot;:&quot;peer0&quot;,&quot;hf.Type&quot;:&quot;peer&quot;}}\n</code></pre>\n<p>Is this only being used by the Fabric CA? Or it is a must to include?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634862207,"post_id":69670111,"comment_id":123147387,"body_markdown":"It needs to be added to your classpath as well.","body":"It needs to be added to your classpath as well."},{"owner":{"account_id":7763161,"reputation":313,"user_id":5875230,"display_name":"Pickled Brain"},"score":0,"creation_date":1634918995,"post_id":69670111,"comment_id":123164914,"body_markdown":"Are you using gradle?  Maven?  Some other build tool? If you&#39;re using a build tool, please post its configuration.","body":"Are you using gradle?  Maven?  Some other build tool? If you&#39;re using a build tool, please post its configuration."}],"owner":{"account_id":23106809,"reputation":1,"user_id":17215276,"display_name":"handro1104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634862022,"creation_date":1634862022,"question_id":69670111,"body_markdown":"My problem is with code that was working before:\r\n\r\n```\r\npublic CachedRowSetImpl getObjectsRowSet(String selectStatement) {\r\n    selectStatement = selectStatement.replace(&quot;false&quot;, &quot;0&quot;);\r\n    selectStatement = selectStatement.replace(&quot;true&quot;, &quot;-1&quot;);\r\n    selectStatement = selectStatement.replace(&quot;FALSE&quot;, &quot;0&quot;);\r\n    selectStatement = selectStatement.replace(&quot;TRUE&quot;, &quot;-1&quot;);\r\n    CachedRowSetImpl rowSet = null;\r\n    Connection conn = null;\r\n    try {\r\n        conn = this.dataSource.getConnection();\r\n        Statement statement = conn.createStatement();\r\n        ResultSet result = statement.executeQuery(selectStatement);\r\n        rowSet = new CachedRowSetImpl();\r\n        rowSet.populate(result);\r\n    } catch (SQLException e) {\r\n        MainFrame.displayExitErrorMessage(e);\r\n    } finally {\r\n        try {\r\n            if (conn != null)\r\n                conn.close();\r\n        } catch (SQLException e) {\r\n            MainFrame.displayExitErrorMessage(e);\r\n        }\r\n    }\r\n    return rowSet;\r\n}\r\n```\r\nI am getting the message: &quot;CachedRowSetImpl cannot be resolved to a type&quot;. I don&#39;t know why I lost the jar file, but I was able to down load com.sun.rowset with CachedRowSetImpl.class. I was able to set the jar file at libraries at &quot;Java Build Pat&quot; and everything shows in Package Explorer at Referenced Libraries. I cannot understand what is going wrong?","title":"Java, problem in Java with a Class in a jar file","body":"<p>My problem is with code that was working before:</p>\n<pre><code>public CachedRowSetImpl getObjectsRowSet(String selectStatement) {\n    selectStatement = selectStatement.replace(&quot;false&quot;, &quot;0&quot;);\n    selectStatement = selectStatement.replace(&quot;true&quot;, &quot;-1&quot;);\n    selectStatement = selectStatement.replace(&quot;FALSE&quot;, &quot;0&quot;);\n    selectStatement = selectStatement.replace(&quot;TRUE&quot;, &quot;-1&quot;);\n    CachedRowSetImpl rowSet = null;\n    Connection conn = null;\n    try {\n        conn = this.dataSource.getConnection();\n        Statement statement = conn.createStatement();\n        ResultSet result = statement.executeQuery(selectStatement);\n        rowSet = new CachedRowSetImpl();\n        rowSet.populate(result);\n    } catch (SQLException e) {\n        MainFrame.displayExitErrorMessage(e);\n    } finally {\n        try {\n            if (conn != null)\n                conn.close();\n        } catch (SQLException e) {\n            MainFrame.displayExitErrorMessage(e);\n        }\n    }\n    return rowSet;\n}\n</code></pre>\n<p>I am getting the message: &quot;CachedRowSetImpl cannot be resolved to a type&quot;. I don't know why I lost the jar file, but I was able to down load com.sun.rowset with CachedRowSetImpl.class. I was able to set the jar file at libraries at &quot;Java Build Pat&quot; and everything shows in Package Explorer at Referenced Libraries. I cannot understand what is going wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634860180,"creation_date":1634860180,"answer_id":69669954,"question_id":69669906,"body_markdown":"Your method `updateWord` just creates a new `String` which is never used again.\r\n\r\n    String newGuess = String.valueOf(newWord);\r\n\r\nYou need to change this method so that it returns the String `newGuess`\r\n\r\n    public String updateWord(char a)","title":"Hangman Program not updating word after letter is correctly guessed","body":"<p>Your method <code>updateWord</code> just creates a new <code>String</code> which is never used again.</p>\n<pre><code>String newGuess = String.valueOf(newWord);\n</code></pre>\n<p>You need to change this method so that it returns the String <code>newGuess</code></p>\n<pre><code>public String updateWord(char a)\n</code></pre>\n"}],"owner":{"account_id":19681220,"reputation":19,"user_id":14408306,"display_name":"yeah man12345"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634860180,"creation_date":1634859715,"question_id":69669906,"body_markdown":"So, I&#39;m currently making a Hangman class that is essentially the entire game but run on a different program that calls the class. I&#39;m having trouble with a certain method that is supposed to update the hidden word by adding the correct letter to a string of characters (symbols) when it is right, and It doesn&#39;t seem to update whenever I put put in output. I&#39;m not that good of a coder.\r\n\r\n    /**\r\n\t * Displays the guess,specifically the word replaced by characters to make it look hidden, example &#39;money&#39; = &#39;*****&#39;\r\n\t * @output - essentially the word replaced by characters \r\n\t */\r\n\tpublic void displayGuess() {\r\n\t\tguess = &quot;&quot;;\r\n\t\tint length = word.length();\r\n\t\tfor(int i = 0; i&lt;length;i++) {\r\n\t\t\tguess += String.valueOf(symbol);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Guess is &quot; + guess);\r\n\t\tcount++;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Updates the hidden word if the letter is guessed correctly then it replaces a character in the word with the correct letter\r\n\t * @param a - the letter guessed by the user input\r\n\t * @output should output the updated guess word, so example, guessing the letter &#39;a&#39;  when the word is apple should give you a**** \r\n\t */\r\n\t\r\n\tpublic void updateWord(char a) {\r\n\t\tchar [] newWord = new char [word.length()];\r\n\t\tfor(int i = 0; i&lt;word.length();i++) {\r\n\t\t\tif(word.charAt(i)==a) {\r\n\t\t\t\tnewWord[i] = a;\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnewWord[i] = guess.charAt(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\tString newGuess = String.valueOf(newWord);\r\n\r\n\t}\r\nSo the output I&#39;m supposed to get is \r\n[![Expected Output][1]][1]\r\n\r\n\r\nHowever, I&#39;m getting:\r\n[![Current Output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5s8Cl.png\r\n  [2]: https://i.stack.imgur.com/3le3i.png\r\n\r\nThe output doesn&#39;t seem to be adding correct words to the string and I have no clue how to solve this problem.","title":"Hangman Program not updating word after letter is correctly guessed","body":"<p>So, I'm currently making a Hangman class that is essentially the entire game but run on a different program that calls the class. I'm having trouble with a certain method that is supposed to update the hidden word by adding the correct letter to a string of characters (symbols) when it is right, and It doesn't seem to update whenever I put put in output. I'm not that good of a coder.</p>\n<pre><code>/**\n * Displays the guess,specifically the word replaced by characters to make it look hidden, example 'money' = '*****'\n * @output - essentially the word replaced by characters \n */\npublic void displayGuess() {\n    guess = &quot;&quot;;\n    int length = word.length();\n    for(int i = 0; i&lt;length;i++) {\n        guess += String.valueOf(symbol);\n    }\n    System.out.println(&quot;Guess is &quot; + guess);\n    count++;\n}\n\n\n\n\n/**\n * Updates the hidden word if the letter is guessed correctly then it replaces a character in the word with the correct letter\n * @param a - the letter guessed by the user input\n * @output should output the updated guess word, so example, guessing the letter 'a'  when the word is apple should give you a**** \n */\n\npublic void updateWord(char a) {\n    char [] newWord = new char [word.length()];\n    for(int i = 0; i&lt;word.length();i++) {\n        if(word.charAt(i)==a) {\n            newWord[i] = a;\n            \n        \n            \n        }\n            else {\n                newWord[i] = guess.charAt(i);\n                \n            \n        }\n        \n\n    }\n    String newGuess = String.valueOf(newWord);\n\n}\n</code></pre>\n<p>So the output I'm supposed to get is\n<a href=\"https://i.stack.imgur.com/5s8Cl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5s8Cl.png\" alt=\"Expected Output\" /></a></p>\n<p>However, I'm getting:\n<a href=\"https://i.stack.imgur.com/3le3i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3le3i.png\" alt=\"Current Output\" /></a></p>\n<p>The output doesn't seem to be adding correct words to the string and I have no clue how to solve this problem.</p>\n"},{"tags":["java","yaml","java-11","apache-commons-config"],"answers":[{"tags":[],"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634860020,"creation_date":1634860020,"answer_id":69669937,"question_id":69623051,"body_markdown":"Here&#39;s the solution I found (note this works for any `HierarchicalConfiguration`, not just `YAMLConfiguration`)\r\n\r\n```java\r\n// this will return a list of List&lt;HierarchicalConfiguration&lt;ImmutableNode&gt;&gt;, one entry for each element of the list\r\nvar subConfigList = hierarchicalConfig.configurationsAt(&quot;foo.bar&quot;);\r\n\r\nList&lt;MyListEntry&gt; myListEntries = new ArrayList&lt;&gt;(subConfigList.size());\r\n// iterate over the subconfigs and pull out the specific values of interest\r\nfor(var subConfig : subconfigs) {\r\n    MyListEntry myListEntry = new MyListEntry();\r\n    myListEntry.entry1 = subConfig.getInt(&quot;entry1&quot;);\r\n    myListEntry.entry2 = subConfig.getString(&quot;entry2&quot;);\r\n    myListEntries.add(myListEntry);    \r\n}\r\n```","title":"How to read a list from a YAMLConfigutation","body":"<p>Here's the solution I found (note this works for any <code>HierarchicalConfiguration</code>, not just <code>YAMLConfiguration</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this will return a list of List&lt;HierarchicalConfiguration&lt;ImmutableNode&gt;&gt;, one entry for each element of the list\nvar subConfigList = hierarchicalConfig.configurationsAt(&quot;foo.bar&quot;);\n\nList&lt;MyListEntry&gt; myListEntries = new ArrayList&lt;&gt;(subConfigList.size());\n// iterate over the subconfigs and pull out the specific values of interest\nfor(var subConfig : subconfigs) {\n    MyListEntry myListEntry = new MyListEntry();\n    myListEntry.entry1 = subConfig.getInt(&quot;entry1&quot;);\n    myListEntry.entry2 = subConfig.getString(&quot;entry2&quot;);\n    myListEntries.add(myListEntry);    \n}\n</code></pre>\n"}],"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669937,"answer_count":1,"score":0,"last_activity_date":1634860020,"creation_date":1634594728,"question_id":69623051,"body_markdown":"I have a YAML file that looks like this:\r\n\r\n```\r\nfoo:\r\n  bar:\r\n    - entry1: 1\r\n      entry2: a\r\n    - entry1: 2\r\n      entry2: b\r\n```\r\n\r\n(Where the actual list is much longer.) I&#39;m reading this file using Apache Configuration2&#39;s `YAMLConfiguration`. I can see the data in the internal data structures used in Apache Configuration2, but I can&#39;t figure out how to get this list out. I actually have a class that matches the structure of the list elements, which is what I&#39;d really like to read into:\r\n\r\n```\r\nclass MyListEntry {\r\n    public int entry1;\r\n    public String entry2;\r\n}\r\n```\r\n\r\nHow can I get the data `YAMLConfiguration` into a `List&lt;MyListEntry&gt;`?","title":"How to read a list from a YAMLConfigutation","body":"<p>I have a YAML file that looks like this:</p>\n<pre><code>foo:\n  bar:\n    - entry1: 1\n      entry2: a\n    - entry1: 2\n      entry2: b\n</code></pre>\n<p>(Where the actual list is much longer.) I'm reading this file using Apache Configuration2's <code>YAMLConfiguration</code>. I can see the data in the internal data structures used in Apache Configuration2, but I can't figure out how to get this list out. I actually have a class that matches the structure of the list elements, which is what I'd really like to read into:</p>\n<pre><code>class MyListEntry {\n    public int entry1;\n    public String entry2;\n}\n</code></pre>\n<p>How can I get the data <code>YAMLConfiguration</code> into a <code>List&lt;MyListEntry&gt;</code>?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1634835526,"post_id":69665712,"comment_id":123139997,"body_markdown":"It is possible to mantain the same class structures if you modify your in json in `{&quot;depositos&quot;: [{&quot;id&quot;: &quot;13168775373&quot;,&quot;nome&quot;: &quot;Geral&quot;,&quot;saldo&quot;:&quot;100000.0000000000&quot;,&quot;desconsiderar&quot;: &quot;N&quot;,&quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;}, \n    ]\n}`, is your json immodifiable ?","body":"It is possible to mantain the same class structures if you modify your in json in <code>{&quot;depositos&quot;: [{&quot;id&quot;: &quot;13168775373&quot;,&quot;nome&quot;: &quot;Geral&quot;,&quot;saldo&quot;:&quot;100000.0000000000&quot;,&quot;desconsiderar&quot;: &quot;N&quot;,&quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;},      ] }</code>, is your json immodifiable ?"},{"owner":{"account_id":2741191,"reputation":49,"user_id":2362721,"display_name":"Rodrigo Vidal"},"score":0,"creation_date":1635169594,"post_id":69665712,"comment_id":123216735,"body_markdown":"My json is immodifiable it is from a crazy supply.","body":"My json is immodifiable it is from a crazy supply."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634859672,"creation_date":1634859672,"answer_id":69669901,"question_id":69665712,"body_markdown":"You would need to add an additional class to your model:\r\n```java\r\npublic class DepositoMetadata {\r\n    private Deposito deposito;\r\n}\r\n```\r\n\r\nNow you need to adjust your main java class (as you called it):\r\n```java\r\nprivate List&lt;DepositoMetadata&gt; depositos;\r\n```\r\n\r\nFinally, you can remove `@JsonRootName(value = &quot;deposito&quot;)` from your `Deposito` class.","title":"How to use @JsonUnwrapped in list of objects","body":"<p>You would need to add an additional class to your model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepositoMetadata {\n    private Deposito deposito;\n}\n</code></pre>\n<p>Now you need to adjust your main java class (as you called it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;DepositoMetadata&gt; depositos;\n</code></pre>\n<p>Finally, you can remove <code>@JsonRootName(value = &quot;deposito&quot;)</code> from your <code>Deposito</code> class.</p>\n"}],"owner":{"account_id":2741191,"reputation":49,"user_id":2362721,"display_name":"Rodrigo Vidal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669901,"answer_count":1,"score":0,"last_activity_date":1634859672,"creation_date":1634834198,"question_id":69665712,"body_markdown":"I&#39;m trying to deserialize a JSON object using Jackson annotation, but I can&#39;t deserialize it:\r\nIs an array of a type &quot;Deposito&quot;\r\n```json\r\n{\r\n  &quot;depositos&quot;: [\r\n    {\r\n        &quot;deposito&quot;: {\r\n            &quot;id&quot;: &quot;13168775373&quot;,\r\n            &quot;nome&quot;: &quot;Geral&quot;,\r\n            &quot;saldo&quot;: &quot;100000.0000000000&quot;,\r\n            &quot;desconsiderar&quot;: &quot;N&quot;,\r\n            &quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;\r\n        }\r\n    }\r\n  ] \r\n}\r\n```\r\n\r\nmy java class:\r\n\r\n    \r\n    @JsonUnwrapped\r\n    @JsonProperty(value =&quot;depositos&quot;)    \r\n    private List&lt;Deposito&gt; depositos;\r\n\r\nmy deposito class:\r\n\r\n    @JsonRootName(value = &quot;deposito&quot;)    \r\n    public class Deposito {\r\n        \r\n        private String id;\r\n        private String nome;\r\n        private Double saldo;\r\n        private String desconsiderar;\r\n        private Double saldoVirtual;\r\n    }","title":"How to use @JsonUnwrapped in list of objects","body":"<p>I'm trying to deserialize a JSON object using Jackson annotation, but I can't deserialize it:\nIs an array of a type &quot;Deposito&quot;</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;depositos&quot;: [\n    {\n        &quot;deposito&quot;: {\n            &quot;id&quot;: &quot;13168775373&quot;,\n            &quot;nome&quot;: &quot;Geral&quot;,\n            &quot;saldo&quot;: &quot;100000.0000000000&quot;,\n            &quot;desconsiderar&quot;: &quot;N&quot;,\n            &quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;\n        }\n    }\n  ] \n}\n</code></pre>\n<p>my java class:</p>\n<pre><code>@JsonUnwrapped\n@JsonProperty(value =&quot;depositos&quot;)    \nprivate List&lt;Deposito&gt; depositos;\n</code></pre>\n<p>my deposito class:</p>\n<pre><code>@JsonRootName(value = &quot;deposito&quot;)    \npublic class Deposito {\n    \n    private String id;\n    private String nome;\n    private Double saldo;\n    private String desconsiderar;\n    private Double saldoVirtual;\n}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"score":0,"creation_date":1464843171,"post_id":37582853,"comment_id":62652193,"body_markdown":"What is the problem that you are having?","body":"What is the problem that you are having?"},{"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"score":0,"creation_date":1464843743,"post_id":37582853,"comment_id":62652383,"body_markdown":"Is the problem because you have `return log(int b, int n/b)+1;` rather than `return log(b, n/b)+1;`?","body":"Is the problem because you have <code>return log(int b, int n&#47;b)+1;</code> rather than <code>return log(b, n&#47;b)+1;</code>?"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1464843964,"post_id":37582853,"comment_id":62652437,"body_markdown":"What is the point of doing this calculation using integers?","body":"What is the point of doing this calculation using integers?"},{"owner":{"display_name":"user6276737"},"score":0,"creation_date":1464844079,"post_id":37582853,"comment_id":62652484,"body_markdown":"I added the full question from openDSA, please see my edited question.","body":"I added the full question from openDSA, please see my edited question."},{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":0,"creation_date":1464844117,"post_id":37582853,"comment_id":62652494,"body_markdown":"Yes, but what if it&#39;s the log base 2 of 17, what is the expected output?","body":"Yes, but what if it&#39;s the log base 2 of 17, what is the expected output?"},{"owner":{"display_name":"user6276737"},"score":0,"creation_date":1464844248,"post_id":37582853,"comment_id":62652530,"body_markdown":"&quot; You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.&quot; --from the question.","body":"&quot; You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.&quot; --from the question."}],"answers":[{"tags":[],"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558329481,"creation_date":1464844257,"answer_id":37583126,"question_id":37582853,"body_markdown":"If the format __MUST__ be like this:\r\n\r\n    int log(int b, int n ) {\r\n        if &lt;&lt;enter base case&gt;&gt; {\r\n            return 1;\r\n        } else {\r\n            return &lt;&lt;enter action case&gt;&gt; ;\r\n        }\r\n    }\r\n\r\nThen the safest method (that I can come up with) would be:\r\n\r\n    int log(int b, int n ) {\r\n        if (n &lt;= b) {\r\n            return 1;\r\n        } else {\r\n            return log(b, n/b)+1 ;\r\n\r\n        }\r\n    }","title":"Recursive method to calculate log","body":"<p>If the format <strong>MUST</strong> be like this:</p>\n\n<pre><code>int log(int b, int n ) {\n    if &lt;&lt;enter base case&gt;&gt; {\n        return 1;\n    } else {\n        return &lt;&lt;enter action case&gt;&gt; ;\n    }\n}\n</code></pre>\n\n<p>Then the safest method (that I can come up with) would be:</p>\n\n<pre><code>int log(int b, int n ) {\n    if (n &lt;= b) {\n        return 1;\n    } else {\n        return log(b, n/b)+1 ;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17855841,"reputation":21,"user_id":12970466,"display_name":"baillie6546"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600729461,"creation_date":1600729461,"answer_id":64001001,"question_id":37582853,"body_markdown":"A better solution in my opinion would be \r\n```\r\nint log(int b, int n ) {\r\n    if (b &gt; n) {\r\n        return 0;\r\n    } else {\r\n        return 1 + log(b, n/b);\r\n    }\r\n}\r\n```\r\nThis returns the log base b of n rounded down to an integer, and has more consistency with inexact results than the other answer. \r\n\r\ne.g. log(2,6)=2 ; log(2,7)=2 ; log(2,8)=3 ; log(2,9)=3\r\n\r\nThough, it still doesn&#39;t handle things like b &lt; 2 or cases where the result would be negative.","title":"Recursive method to calculate log","body":"<p>A better solution in my opinion would be</p>\n<pre><code>int log(int b, int n ) {\n    if (b &gt; n) {\n        return 0;\n    } else {\n        return 1 + log(b, n/b);\n    }\n}\n</code></pre>\n<p>This returns the log base b of n rounded down to an integer, and has more consistency with inexact results than the other answer.</p>\n<p>e.g. log(2,6)=2 ; log(2,7)=2 ; log(2,8)=3 ; log(2,9)=3</p>\n<p>Though, it still doesn't handle things like b &lt; 2 or cases where the result would be negative.</p>\n"},{"tags":[],"owner":{"account_id":22707998,"reputation":1,"user_id":16874346,"display_name":"Ammu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631235949,"creation_date":1631235949,"answer_id":69126140,"question_id":37582853,"body_markdown":"    int log(int b, int n ) {\r\n    if (b == 1) {\r\n        return b;\r\n    } else if (n == 1) {\r\n        return 0;\r\n    } else {\r\n        return 1 + log(b, n/b);\r\n    }\r\n    }\r\n\r\n\r\n  \r\n\r\n","title":"Recursive method to calculate log","body":"<pre><code>int log(int b, int n ) {\nif (b == 1) {\n    return b;\n} else if (n == 1) {\n    return 0;\n} else {\n    return 1 + log(b, n/b);\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user6276737"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37583126,"answer_count":3,"score":2,"last_activity_date":1634858805,"creation_date":1464842800,"question_id":37582853,"body_markdown":"I did the following to calculate recursive logarithm:(b is the base of log here)\r\n\r\n```java\r\nint log(int b, int n) {\r\n  if (n/b == 1) {\r\n    return 1;\r\n  } else {\r\n    return log(b, n/b) + 1;\r\n  }\r\n}\r\n```\r\n\r\nHowever, it&#39;s wrong.I&#39;m doing it from the openDSA interactive platform.The original question is the following:\r\n\r\n&gt;For function &quot;log&quot;, write the missing base case condition and the recursive call. This function computes the log of &quot;n&quot; to the base &quot;b&quot;. As an example: log 8 to the base 2 equals 3 since 8 = 2*2*2. We can find this by dividing 8 by 2 until we reach 1, and we count the number of divisions we made. You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.\r\n    \r\n```java\r\nint log(int b, int n) {\r\n  if /* Missing base case condition */ {\r\n    return 1;\r\n  } else {\r\n    return /* Missing a Recursive case action */;\r\n  }\r\n}\r\n```\r\n\r\nMy code is incorrect.I&#39;m getting infinite recursion. ","title":"Recursive method to calculate log","body":"<p>I did the following to calculate recursive logarithm:(b is the base of log here)</p>\n<pre class=\"lang-java prettyprint-override\"><code>int log(int b, int n) {\n  if (n/b == 1) {\n    return 1;\n  } else {\n    return log(b, n/b) + 1;\n  }\n}\n</code></pre>\n<p>However, it's wrong.I'm doing it from the openDSA interactive platform.The original question is the following:</p>\n<blockquote>\n<p>For function &quot;log&quot;, write the missing base case condition and the recursive call. This function computes the log of &quot;n&quot; to the base &quot;b&quot;. As an example: log 8 to the base 2 equals 3 since 8 = 2<em>2</em>2. We can find this by dividing 8 by 2 until we reach 1, and we count the number of divisions we made. You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>int log(int b, int n) {\n  if /* Missing base case condition */ {\n    return 1;\n  } else {\n    return /* Missing a Recursive case action */;\n  }\n}\n</code></pre>\n<p>My code is incorrect.I'm getting infinite recursion.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1634849542,"post_id":69667123,"comment_id":123144747,"body_markdown":"Maybe [trying-to-use-spring-boot-rest-to-read-json-string-from-post](https://stackoverflow.com/questions/29313687/trying-to-use-spring-boot-rest-to-read-json-string-from-post) can help you.","body":"Maybe <a href=\"https://stackoverflow.com/questions/29313687/trying-to-use-spring-boot-rest-to-read-json-string-from-post\">trying-to-use-spring-boot-rest-to-read-json-string-from-post</a> can help you."},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634855882,"post_id":69667123,"comment_id":123146352,"body_markdown":"Thanks, but i&#39;m more interested to know as to how to get values from variable. for example, variable amount parses 100 &amp; I need to add it into accountBalance property","body":"Thanks, but i&#39;m more interested to know as to how to get values from variable. for example, variable amount parses 100 &amp; I need to add it into accountBalance property"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1634882059,"post_id":69667123,"comment_id":123150326,"body_markdown":"You are welcome, the message you receive is about a parsing json error,could you add a json example message you send to the controller ?","body":"You are welcome, the message you receive is about a parsing json error,could you add a json example message you send to the controller ?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634858524,"creation_date":1634858524,"answer_id":69669798,"question_id":69667123,"body_markdown":"The issue is your POST body. I am guessing you are sending similar to the following:\r\n```json\r\n{\r\n   &quot;amount&quot;: 1000\r\n}\r\n```\r\n\r\nThis is a JSON object that can&#39;t be deserialized into a simple `double` parameter. You need to create a corresponding class as follows:\r\n```java\r\npublic class AccountDto {\r\n   private double amount;\r\n\r\n   // constructor, getters, setters\r\n}\r\n```\r\n\r\nNow you need to use it in your Controller:\r\n```java\r\n@PostMapping(&quot;/deposit&quot;)\r\npublic ResponseEntity&lt;Object&gt; depositPost(@RequestBody AccountDto accountDto, String accountType, int accountNumber, Account account){\r\n    accountService.deposit(accountType, accountNumber, accountDto.getAmount());\r\n    return ResponseEntity.ok(&quot;Record has been entered&quot;);\r\n}\r\n```","title":"How to get values from generic parameter (not related to any class) in Spring boot","body":"<p>The issue is your POST body. I am guessing you are sending similar to the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;amount&quot;: 1000\n}\n</code></pre>\n<p>This is a JSON object that can't be deserialized into a simple <code>double</code> parameter. You need to create a corresponding class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountDto {\n   private double amount;\n\n   // constructor, getters, setters\n}\n</code></pre>\n<p>Now you need to use it in your Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/deposit&quot;)\npublic ResponseEntity&lt;Object&gt; depositPost(@RequestBody AccountDto accountDto, String accountType, int accountNumber, Account account){\n    accountService.deposit(accountType, accountNumber, accountDto.getAmount());\n    return ResponseEntity.ok(&quot;Record has been entered&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669798,"answer_count":1,"score":0,"last_activity_date":1634858524,"creation_date":1634841283,"question_id":69667123,"body_markdown":"I&#39;m new with SB &amp; trying to enhance my skill. I make a little API project, in which I&#39;ve account numbers with account balance property, and goal of the project is to adding up amount in account balance property with corresponding account number.\r\n\r\nI&#39;m stuck at the point where I need to get value from amount variable that is actually not the part of any class. Anyone can change the title if you think that it doesn&#39;t in according with the subject.\r\nI mention hereunder classes, you can find my efforts which is useless as it seems messed up.\r\nI&#39;d grateful if anyone can correct or give me the reference stack where the same question lies.\r\n\r\n\r\nAccount.java\r\n\r\n        private Long id;\r\n        private int accountNumber;\r\n        private BigDecimal accountBalance;\r\n\r\n\r\nAccountRepository\r\n\r\n     public interface AccountDao extends CrudRepository&lt;Account, Long&gt; {\r\n      Account findByAccountNumber(int accountNumber);\r\n     }\r\n\r\n\r\nAccountService\r\n\r\n    public interface AccountService {\r\n    void deposit(int accountNumber, String accountType, double amount);\r\n    } // these fields are not related to class field, I took this to send data to API\r\n\r\nAccountServiceImpl\r\n\r\n    public void deposit(String accountType, int accountNumber, double amount) {\r\n        if (accountType.equalsIgnoreCase(&quot;Permanent&quot;)) {\r\n            Account account = accountRepository.findByAccountNumber(accountNumber);\r\n            account.setAccountBalance(account.getAccountBalance().add(new \r\n            BigDecimal(amount)));\r\n            accountDao.save(account);\r\n\r\n\r\nAccountController\r\n\r\n     @PostMapping(&quot;/deposit&quot;)\r\n       public ResponseEntity&lt;Object&gt; depositPost(@RequestBody double amount, String accountType, \r\n       int accountNumber, Account account){\r\n       accountService.deposit(accountType, accountNumber, \r\n       Double.parseDouble(String.valueOf(amount)));\r\n       return ResponseEntity.ok(&quot;Record has been entered&quot;);\r\n\r\n    }\r\n\r\nError I receive is:\r\n\r\n      2021-10-21 20:19:58.660  WARN 22892 --- [nio-8088-exec-1] \r\n      .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \r\n      [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \r\n      Cannot deserialize value of type `double` from Object value (token \r\n      `JsonToken.START_OBJECT`); nested exception is \r\n      com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of \r\n      type `double` from Object value (token `JsonToken.START_OBJECT`)\r\n      at [Source: (PushbackInputStream); line: 1, column: 1]]","title":"How to get values from generic parameter (not related to any class) in Spring boot","body":"<p>I'm new with SB &amp; trying to enhance my skill. I make a little API project, in which I've account numbers with account balance property, and goal of the project is to adding up amount in account balance property with corresponding account number.</p>\n<p>I'm stuck at the point where I need to get value from amount variable that is actually not the part of any class. Anyone can change the title if you think that it doesn't in according with the subject.\nI mention hereunder classes, you can find my efforts which is useless as it seems messed up.\nI'd grateful if anyone can correct or give me the reference stack where the same question lies.</p>\n<p>Account.java</p>\n<pre><code>    private Long id;\n    private int accountNumber;\n    private BigDecimal accountBalance;\n</code></pre>\n<p>AccountRepository</p>\n<pre><code> public interface AccountDao extends CrudRepository&lt;Account, Long&gt; {\n  Account findByAccountNumber(int accountNumber);\n }\n</code></pre>\n<p>AccountService</p>\n<pre><code>public interface AccountService {\nvoid deposit(int accountNumber, String accountType, double amount);\n} // these fields are not related to class field, I took this to send data to API\n</code></pre>\n<p>AccountServiceImpl</p>\n<pre><code>public void deposit(String accountType, int accountNumber, double amount) {\n    if (accountType.equalsIgnoreCase(&quot;Permanent&quot;)) {\n        Account account = accountRepository.findByAccountNumber(accountNumber);\n        account.setAccountBalance(account.getAccountBalance().add(new \n        BigDecimal(amount)));\n        accountDao.save(account);\n</code></pre>\n<p>AccountController</p>\n<pre><code> @PostMapping(&quot;/deposit&quot;)\n   public ResponseEntity&lt;Object&gt; depositPost(@RequestBody double amount, String accountType, \n   int accountNumber, Account account){\n   accountService.deposit(accountType, accountNumber, \n   Double.parseDouble(String.valueOf(amount)));\n   return ResponseEntity.ok(&quot;Record has been entered&quot;);\n\n}\n</code></pre>\n<p>Error I receive is:</p>\n<pre><code>  2021-10-21 20:19:58.660  WARN 22892 --- [nio-8088-exec-1] \n  .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \n  [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \n  Cannot deserialize value of type `double` from Object value (token \n  `JsonToken.START_OBJECT`); nested exception is \n  com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of \n  type `double` from Object value (token `JsonToken.START_OBJECT`)\n  at [Source: (PushbackInputStream); line: 1, column: 1]]\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634848103,"post_id":69668229,"comment_id":123144245,"body_markdown":"Rather than show an empty list, show a [mcve] with your complete inputs and expected outputs","body":"Rather than show an empty list, show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your complete inputs and expected outputs"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1634849758,"post_id":69668229,"comment_id":123144833,"body_markdown":"with your current model, you can&#39;t because the subordinates of a manager are employees, and an employee doesn&#39;t have subordinates","body":"with your current model, you can&#39;t because the subordinates of a manager are employees, and an employee doesn&#39;t have subordinates"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634848017,"creation_date":1634848017,"answer_id":69668376,"question_id":69668229,"body_markdown":"If I understood the question, you want to `flatMap` each subordinates&#39; list of subordinates\r\n\r\n\r\n    manager.getSubordinates().stream()\r\n        .flatMap(Employee::getSubordinates)\r\n        .collect(toList())\r\n\r\n","title":"Get a List hierarchy using java stream","body":"<p>If I understood the question, you want to <code>flatMap</code> each subordinates' list of subordinates</p>\n<pre><code>manager.getSubordinates().stream()\n    .flatMap(Employee::getSubordinates)\n    .collect(toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20984497,"reputation":5,"user_id":15866196,"display_name":"Artsiom Siarheyeu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634857879,"creation_date":1634854001,"answer_id":69669279,"question_id":69668229,"body_markdown":"I came up with this peace of code, and it seems to be doing the job.\r\n```\r\nprivate final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\r\nprivate final List&lt;Employee&gt; temp = new ArrayList&lt;&gt;();\r\nprivate final List&lt;Employee&gt; allSubordinates = new ArrayList&lt;&gt;();\r\n\r\npublic List&lt;Employee&gt; getAllSubordinates()\r\n{\r\n\tallSubordinates.clear();\r\n\tallSubordinates.addAll(subordinates);\r\n\tsubordinates.stream()\r\n\t\t.filter(employee -&gt; employee instanceof Manager)\r\n\t\t.map(employee -&gt; ((Manager) employee).getAllSubordinates())\r\n\t\t.forEach(temp::addAll);\r\n\tallSubordinates.addAll(temp);\r\n\ttemp.clear();\r\n\treturn allSubordinates;\r\n}\r\n```","title":"Get a List hierarchy using java stream","body":"<p>I came up with this peace of code, and it seems to be doing the job.</p>\n<pre><code>private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\nprivate final List&lt;Employee&gt; temp = new ArrayList&lt;&gt;();\nprivate final List&lt;Employee&gt; allSubordinates = new ArrayList&lt;&gt;();\n\npublic List&lt;Employee&gt; getAllSubordinates()\n{\n    allSubordinates.clear();\n    allSubordinates.addAll(subordinates);\n    subordinates.stream()\n        .filter(employee -&gt; employee instanceof Manager)\n        .map(employee -&gt; ((Manager) employee).getAllSubordinates())\n        .forEach(temp::addAll);\n    allSubordinates.addAll(temp);\n    temp.clear();\n    return allSubordinates;\n}\n</code></pre>\n"}],"owner":{"account_id":20984497,"reputation":5,"user_id":15866196,"display_name":"Artsiom Siarheyeu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669279,"answer_count":2,"score":0,"last_activity_date":1634857879,"creation_date":1634847164,"question_id":69668229,"body_markdown":"I have a `Manager` class that contains two Lists:\r\n```\r\npublic final class Manager extends Worker // Worker is an implementation of Employee class\r\n{\r\n    private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\r\n\t//private final List&lt;Employee&gt; allSubordinates = ?\r\n    //...\r\n}\r\n\t\r\n```\r\nFirst one contains instances of `Employee`\r\n```\r\npublic abstract class Employee extends Person\r\n{\r\n//...\r\npublic void setManager(Manager manager)\r\n    {\r\n        if(this.manager != null)\r\n        {\r\n            this.manager.getSubordinates().remove(this);\r\n        }\r\n        this.manager = manager;\r\n        this.manager.getSubordinates().add(this);\r\n    }\r\n}\r\n```\r\nEach Manager is an Employee, thus have their own Manager (null if it&#39;s a hierarchy top). I want my second list to contain all the nested Employees in the hierarchy in addition to direct subordinates.","title":"Get a List hierarchy using java stream","body":"<p>I have a <code>Manager</code> class that contains two Lists:</p>\n<pre><code>public final class Manager extends Worker // Worker is an implementation of Employee class\n{\n    private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\n    //private final List&lt;Employee&gt; allSubordinates = ?\n    //...\n}\n    \n</code></pre>\n<p>First one contains instances of <code>Employee</code></p>\n<pre><code>public abstract class Employee extends Person\n{\n//...\npublic void setManager(Manager manager)\n    {\n        if(this.manager != null)\n        {\n            this.manager.getSubordinates().remove(this);\n        }\n        this.manager = manager;\n        this.manager.getSubordinates().add(this);\n    }\n}\n</code></pre>\n<p>Each Manager is an Employee, thus have their own Manager (null if it's a hierarchy top). I want my second list to contain all the nested Employees in the hierarchy in addition to direct subordinates.</p>\n"},{"tags":["java","jms","ibm-mq"],"comments":[{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":1,"creation_date":1505489655,"post_id":46242936,"comment_id":79450063,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"score":0,"creation_date":1505491155,"post_id":46242936,"comment_id":79450908,"body_markdown":"i have edited the question. did you understand now ?","body":"i have edited the question. did you understand now ?"},{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":0,"creation_date":1505496486,"post_id":46242936,"comment_id":79453634,"body_markdown":"Have you seen this: https://stackoverflow.com/questions/7915500/message-groups-in-websphere-mq ?  I think it means you are looking to leverage &quot;proprietary functionality&quot; that is dependent on the WebSphere MQ implementation of JMS, not standard JMS.  If you are using a WebSphere MQ implementation of JMS, you should be able to do what you want to do.  If not, you probably have to roll-your-own solution for the functionality you require.","body":"Have you seen this: <a href=\"https://stackoverflow.com/questions/7915500/message-groups-in-websphere-mq\" title=\"message groups in websphere mq\">stackoverflow.com/questions/7915500/&hellip;</a> ?  I think it means you are looking to leverage &quot;proprietary functionality&quot; that is dependent on the WebSphere MQ implementation of JMS, not standard JMS.  If you are using a WebSphere MQ implementation of JMS, you should be able to do what you want to do.  If not, you probably have to roll-your-own solution for the functionality you require."},{"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"score":0,"creation_date":1505533113,"post_id":46242936,"comment_id":79463742,"body_markdown":"@geneSummons what you were referring is getter program to filter based on groupId. I was referring to putter program to achieve it.","body":"@geneSummons what you were referring is getter program to filter based on groupId. I was referring to putter program to achieve it."}],"answers":[{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634857735,"creation_date":1505498262,"answer_id":46245234,"question_id":46242936,"body_markdown":"There was a good IBM developerWorks blog written by David Currie in 2006 titled &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot; that described how to do what you are asking, however it appears this was recently removed by IBM.\r\n\r\n---\r\n[Wayback Machine link to &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot;](https://web.archive.org/web/20150425043049/http://www.ibm.com/developerworks/websphere/library/techarticles/0602_currie/0602_currie.html)\r\n\r\n---\r\n\r\nBelow is the information that was provided by David in the post, it appears the putting logic is much simpler to implement compared to the getting logic.  I am only including the putting logic code here since this is what you inquired about.  I reached out to David via email to ask if this blog will be republished.\r\n\r\n&gt; **Sending a message group**\r\n&gt; \r\n&gt; Let&#39;s start by looking at the sending application. As mentioned above,\r\n&gt; the put message option MQPMO_LOGICAL_ORDER was simply an instruction\r\n&gt; to the queue manager to automatically allocate message group\r\n&gt; identifiers and sequence numbers. The example in Listing 3 below\r\n&gt; demonstrates how, in the absence of this option in the JMS API, we can\r\n&gt; set these properties explicitly.\r\n&gt; \r\n&gt; Listing 3. Sending a message group using the WebSphere MQ JMS API\r\n&gt; \r\n&gt;     MQConnectionFactory factory = new MQConnectionFactory();\r\n&gt;     factory.setQueueManager(&quot;QM_host&quot;)\r\n&gt;     MQQueue destination = new MQQueue(&quot;default&quot;);\r\n&gt;     destination.setTargetClient(JMSC.MQJMS_CLIENT_NONJMS_MQ);\r\n&gt;     Connection connection = factory.createConnection();\r\n&gt;     Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n&gt;     MessageProducer producer = session.createProducer(destination);\r\n&gt;      \r\n&gt;     String groupId = &quot;ID:&quot; + new BigInteger(24 * 8, new Random()).toString(16);\r\n&gt;      \r\n&gt;     for (int i = 1; i &lt;= 5; i++) {\r\n&gt;      \r\n&gt;         TextMessage message = session.createTextMessage();\r\n&gt;         message.setStringProperty(&quot;JMSXGroupID&quot;, groupId);\r\n&gt;         message.setIntProperty(&quot;JMSXGroupSeq&quot;, i);\r\n&gt;      \r\n&gt;         if (i == 5) {\r\n&gt;             message.setBooleanProperty(&quot;JMS_IBM_Last_Msg_In_Group&quot;, true);\r\n&gt;         }\r\n&gt;      \r\n&gt;         message.setText(&quot;Message &quot; + i);\r\n&gt;         producer.send(message);\r\n&gt;      \r\n&gt;     }\r\n&gt;      \r\n&gt;     connection.close();\r\n\r\n","title":"How to implement Logical ordering in IBM MQ in Java?","body":"<p>There was a good IBM developerWorks blog written by David Currie in 2006 titled &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot; that described how to do what you are asking, however it appears this was recently removed by IBM.</p>\n<hr />\n<p><a href=\"https://web.archive.org/web/20150425043049/http://www.ibm.com/developerworks/websphere/library/techarticles/0602_currie/0602_currie.html\" rel=\"nofollow noreferrer\">Wayback Machine link to &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot;</a></p>\n<hr />\n<p>Below is the information that was provided by David in the post, it appears the putting logic is much simpler to implement compared to the getting logic.  I am only including the putting logic code here since this is what you inquired about.  I reached out to David via email to ask if this blog will be republished.</p>\n<blockquote>\n<p><strong>Sending a message group</strong></p>\n<p>Let's start by looking at the sending application. As mentioned above,\nthe put message option MQPMO_LOGICAL_ORDER was simply an instruction\nto the queue manager to automatically allocate message group\nidentifiers and sequence numbers. The example in Listing 3 below\ndemonstrates how, in the absence of this option in the JMS API, we can\nset these properties explicitly.</p>\n<p>Listing 3. Sending a message group using the WebSphere MQ JMS API</p>\n<pre><code>MQConnectionFactory factory = new MQConnectionFactory();\nfactory.setQueueManager(&quot;QM_host&quot;)\nMQQueue destination = new MQQueue(&quot;default&quot;);\ndestination.setTargetClient(JMSC.MQJMS_CLIENT_NONJMS_MQ);\nConnection connection = factory.createConnection();\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nMessageProducer producer = session.createProducer(destination);\n \nString groupId = &quot;ID:&quot; + new BigInteger(24 * 8, new Random()).toString(16);\n \nfor (int i = 1; i &lt;= 5; i++) {\n \n    TextMessage message = session.createTextMessage();\n    message.setStringProperty(&quot;JMSXGroupID&quot;, groupId);\n    message.setIntProperty(&quot;JMSXGroupSeq&quot;, i);\n \n    if (i == 5) {\n        message.setBooleanProperty(&quot;JMS_IBM_Last_Msg_In_Group&quot;, true);\n    }\n \n    message.setText(&quot;Message &quot; + i);\n    producer.send(message);\n \n}\n \nconnection.close();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1930,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":46245234,"answer_count":1,"score":1,"last_activity_date":1634857735,"creation_date":1505489075,"question_id":46242936,"body_markdown":"We have a use case of putting a group of messages with a same groupId but differing by MessageSequenceNumber. This is used to group the messages for a logical ordering so that on the receiver side, receiver can group all of the messages based on group order. I was following the IBM MQ v7.5 Knowledge Center page &quot;[Message groups](https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q023060_.htm)&quot;.\r\n\r\nI have a code written to put the messages : -\r\n\r\n    public boolean writeMessage(String[] messages, String queueName) {          \r\n                \r\n                    Session session = getQueueConnection().createSession(true,\r\n                        Session.AUTO_ACKNOWLEDGE);\r\n                \r\n    \r\n                Destination destination = session.createQueue(queueName);\r\n                messageProducer = session.createProducer(destination);\r\n                for (int i = 0; i &lt; messages.length; i++) {\r\n                    TextMessage message = session.createTextMessage(messages[i]);\r\n                    messageProducer.send(message);\r\n                }\r\n    \r\n                // Commit the send (Actually put messages to Queue)\r\n                session.commit();\r\n                return true;\r\n    }\r\n\r\nNow , I want to add a 1 unique groupID to all the messages which are inside an array and add a sequence number(msgSeqNum) (1,2,3..) . How can i do it through the JMS API? I am looking for JMS version of the code on the IBM IIB v8 Knowledge center page &quot;[Sending messages in a WebSphere MQ message group](https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac25710_.htm).","title":"How to implement Logical ordering in IBM MQ in Java?","body":"<p>We have a use case of putting a group of messages with a same groupId but differing by MessageSequenceNumber. This is used to group the messages for a logical ordering so that on the receiver side, receiver can group all of the messages based on group order. I was following the IBM MQ v7.5 Knowledge Center page \"<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q023060_.htm\" rel=\"nofollow noreferrer\">Message groups</a>\".</p>\n\n<p>I have a code written to put the messages : -</p>\n\n<pre><code>public boolean writeMessage(String[] messages, String queueName) {          \n\n                Session session = getQueueConnection().createSession(true,\n                    Session.AUTO_ACKNOWLEDGE);\n\n\n            Destination destination = session.createQueue(queueName);\n            messageProducer = session.createProducer(destination);\n            for (int i = 0; i &lt; messages.length; i++) {\n                TextMessage message = session.createTextMessage(messages[i]);\n                messageProducer.send(message);\n            }\n\n            // Commit the send (Actually put messages to Queue)\n            session.commit();\n            return true;\n}\n</code></pre>\n\n<p>Now , I want to add a 1 unique groupID to all the messages which are inside an array and add a sequence number(msgSeqNum) (1,2,3..) . How can i do it through the JMS API? I am looking for JMS version of the code on the IBM IIB v8 Knowledge center page \"<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac25710_.htm\" rel=\"nofollow noreferrer\">Sending messages in a WebSphere MQ message group</a>.</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634856069,"post_id":69669496,"comment_id":123146377,"body_markdown":"This isn&#39;t recursive. `checkOut` does not call itself. How does this code work? If the first call to `getList` is not empty, why would the next one be? Does `total` stop items being returned in further calls?","body":"This isn&#39;t recursive. <code>checkOut</code> does not call itself. How does this code work? If the first call to <code>getList</code> is not empty, why would the next one be? Does <code>total</code> stop items being returned in further calls?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634856200,"post_id":69669496,"comment_id":123146401,"body_markdown":"(also please post your actual code, as what you have posted doesn&#39;t compile)","body":"(also please post your actual code, as what you have posted doesn&#39;t compile)"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1634857304,"post_id":69669496,"comment_id":123146612,"body_markdown":"2 separate test methods","body":"2 separate test methods"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634857058,"creation_date":1634856664,"answer_id":69669591,"question_id":69669496,"body_markdown":"You can chain `thenReturn`, so that subsequent calls to the mock return different things:\r\n\r\n```java\r\npublic class GroceryServiceTest {\r\n    @Test\r\n    public void checkout() {\r\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\r\n        GroceryService groceryService = new GroceryService(groceryListDao);\r\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        GroceryService.Cereal x = new GroceryService.Cereal();\r\n        cereal.add(x);\r\n// first return a list with one item, then an empty list\r\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal).thenReturn(Collections.emptyList());\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1)).total();\r\n    }\r\n}\r\n```\r\nThis is not a perfect test, as the mock would return an empty list without an intervening call to `total`.\r\n\r\nYou can simulate the semantics of your DAO like this:\r\n```java\r\npublic class GroceryServiceTest {\r\n    @Test\r\n    public void checkout() {\r\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\r\n        GroceryService groceryService = new GroceryService(groceryListDao);\r\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        AtomicBoolean totalCalled = new AtomicBoolean(false);\r\n        GroceryService.Cereal x = new GroceryService.Cereal();\r\n        cereal.add(x);\r\n        when(groceryListDao.getList(anyString(), anyString())).thenAnswer(new Answer&lt;List&lt;GroceryService.Cereal&gt;&gt;() {\r\n\r\n            @Override\r\n            public List&lt;GroceryService.Cereal&gt; answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                if (totalCalled.get()) {\r\n                    return Collections.emptyList();\r\n                } else {\r\n                    return cereal;\r\n                }\r\n            }\r\n        });\r\n        doAnswer(new Answer&lt;Void&gt;() {\r\n            @Override\r\n            public Void answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                totalCalled.set(true);\r\n                return null;\r\n            }\r\n        }).when(groceryListDao).total();\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1)).total();\r\n    }\r\n}\r\n```\r\n\r\nFor completeness, here&#39;s the `GroceryService` code:\r\n```java\r\nimport java.util.List;\r\n\r\npublic class GroceryService {\r\n    final GroceryService.GroceryListDao groceryListDao;\r\n\r\n    public GroceryService(GroceryService.GroceryListDao groceryListDao) {\r\n        this.groceryListDao = groceryListDao;\r\n    }\r\n    interface GroceryListDao {\r\n        List&lt;Cereal&gt; getList(String maxItems, String code);\r\n        void total();\r\n    }\r\n    static class Cereal {}\r\n    public void checkout(String maxItems, String code){\r\n        List&lt;Cereal&gt; groceryList;\r\n        groceryList = groceryListDao.getList(maxItems, code);\r\n        while (!groceryList.isEmpty()){\r\n            groceryListDao.total();\r\n            //other logic\r\n            groceryList = groceryListDao.getList(maxItems, code);\r\n        }\r\n    }\r\n}\r\n```","title":"How can I get two method calls on the same Mock to return different values?","body":"<p>You can chain <code>thenReturn</code>, so that subsequent calls to the mock return different things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GroceryServiceTest {\n    @Test\n    public void checkout() {\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\n        GroceryService groceryService = new GroceryService(groceryListDao);\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\n        GroceryService.Cereal x = new GroceryService.Cereal();\n        cereal.add(x);\n// first return a list with one item, then an empty list\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal).thenReturn(Collections.emptyList());\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n        verify(groceryListDao, times(1)).total();\n    }\n}\n</code></pre>\n<p>This is not a perfect test, as the mock would return an empty list without an intervening call to <code>total</code>.</p>\n<p>You can simulate the semantics of your DAO like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GroceryServiceTest {\n    @Test\n    public void checkout() {\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\n        GroceryService groceryService = new GroceryService(groceryListDao);\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\n        AtomicBoolean totalCalled = new AtomicBoolean(false);\n        GroceryService.Cereal x = new GroceryService.Cereal();\n        cereal.add(x);\n        when(groceryListDao.getList(anyString(), anyString())).thenAnswer(new Answer&lt;List&lt;GroceryService.Cereal&gt;&gt;() {\n\n            @Override\n            public List&lt;GroceryService.Cereal&gt; answer(InvocationOnMock invocationOnMock) throws Throwable {\n                if (totalCalled.get()) {\n                    return Collections.emptyList();\n                } else {\n                    return cereal;\n                }\n            }\n        });\n        doAnswer(new Answer&lt;Void&gt;() {\n            @Override\n            public Void answer(InvocationOnMock invocationOnMock) throws Throwable {\n                totalCalled.set(true);\n                return null;\n            }\n        }).when(groceryListDao).total();\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n        verify(groceryListDao, times(1)).total();\n    }\n}\n</code></pre>\n<p>For completeness, here's the <code>GroceryService</code> code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class GroceryService {\n    final GroceryService.GroceryListDao groceryListDao;\n\n    public GroceryService(GroceryService.GroceryListDao groceryListDao) {\n        this.groceryListDao = groceryListDao;\n    }\n    interface GroceryListDao {\n        List&lt;Cereal&gt; getList(String maxItems, String code);\n        void total();\n    }\n    static class Cereal {}\n    public void checkout(String maxItems, String code){\n        List&lt;Cereal&gt; groceryList;\n        groceryList = groceryListDao.getList(maxItems, code);\n        while (!groceryList.isEmpty()){\n            groceryListDao.total();\n            //other logic\n            groceryList = groceryListDao.getList(maxItems, code);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11682280,"reputation":93,"user_id":8553505,"display_name":"Brandon Hu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669591,"answer_count":1,"score":0,"last_activity_date":1634857143,"creation_date":1634855771,"question_id":69669496,"body_markdown":"I have a function that I am trying to mock that contains recursive logic in the form of a while loop and i&#39;m trying to figure out how to access the inner part of the while loop without looping forever. \r\n    \r\n    //this is supposed to go through all the items in the grocery list given the parameters until the groceries are all checked out \r\n    public void checkOut(String maxItems, String code){\r\n        List&lt;cereal&gt; groceryList;\r\n        groceryList = groceryListDao.getList(String maxItems, String code);\r\n        while (!groceryList.isEmpty()){\r\n        groceryListDao.total();\r\n        //other logic\r\n        groceryList = groceryListDao.getList(String maxItems, String code);\r\n        }\r\n    }\r\n\r\nI am able to write a junit test to verify that the while loop is never entered if the grocery list is empty. However, i&#39;m not sure how to write code to test that the while loop is entered because I  need to mock groceryListDao.getList to not be empty to enter the while loop and then empty to exit the while loop. I don&#39;t know how to do both.\r\n\r\n\r\n    @Test\r\n    public void checkout() {\r\n        List&lt;Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        Cereal x = new Cereal();\r\n        cereal.add(x);\r\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal);\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1).total());\r\n    }\r\n\r\nHow do I verify that total() is being called inside the loop without getting stuck?","title":"How can I get two method calls on the same Mock to return different values?","body":"<p>I have a function that I am trying to mock that contains recursive logic in the form of a while loop and i'm trying to figure out how to access the inner part of the while loop without looping forever.</p>\n<pre><code>//this is supposed to go through all the items in the grocery list given the parameters until the groceries are all checked out \npublic void checkOut(String maxItems, String code){\n    List&lt;cereal&gt; groceryList;\n    groceryList = groceryListDao.getList(String maxItems, String code);\n    while (!groceryList.isEmpty()){\n    groceryListDao.total();\n    //other logic\n    groceryList = groceryListDao.getList(String maxItems, String code);\n    }\n}\n</code></pre>\n<p>I am able to write a junit test to verify that the while loop is never entered if the grocery list is empty. However, i'm not sure how to write code to test that the while loop is entered because I  need to mock groceryListDao.getList to not be empty to enter the while loop and then empty to exit the while loop. I don't know how to do both.</p>\n<pre><code>@Test\npublic void checkout() {\n    List&lt;Cereal&gt; cereal = new ArrayList&lt;&gt;();\n    Cereal x = new Cereal();\n    cereal.add(x);\n    when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal);\n    groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n    verify(groceryListDao, times(1).total());\n}\n</code></pre>\n<p>How do I verify that total() is being called inside the loop without getting stuck?</p>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":2029842,"reputation":18250,"user_id":1813858,"display_name":"iTech"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1359636280,"creation_date":1359635384,"answer_id":14625834,"question_id":14625707,"body_markdown":"You have only one ` m_Paint` object, so  when `onDraw` is called it will draw **all** paths using the last color you have set.\r\n\r\nYou can store the color for each path and inside `onDraw` you have to set the color *before* drawing the path\r\n\r\n**Edit**\r\n\r\nHere is the outline for a quick solution, night not be the most elegant one:\r\n\r\n* A `HashMap` with the path as key and the Color as value\r\n* In `onClickPenColorButton` save the color to an instance say `currentColor`\r\n* In `touch_start` you can push the path object with the `currentColor` into the `HashMap`\r\n* Modify onDraw to get the color for each path. **This code is only for illustration** so modify it as needed.\r\n\r\n\r\n        protected void onDraw(Canvas canvas)\r\n        {                           \r\n           for (Path p : paths)\r\n           {  \r\n              // Assuming your HashMap variable is pathColor\r\n              m_Paint.setColor(pathColor.get(p));\r\n\r\n              canvas.drawPath(p, m_Paint);\r\n           }\r\n        }","title":"Drawing lines with different color in Canvas","body":"<p>You have only one <code>m_Paint</code> object, so  when <code>onDraw</code> is called it will draw <strong>all</strong> paths using the last color you have set.</p>\n\n<p>You can store the color for each path and inside <code>onDraw</code> you have to set the color <em>before</em> drawing the path</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Here is the outline for a quick solution, night not be the most elegant one:</p>\n\n<ul>\n<li>A <code>HashMap</code> with the path as key and the Color as value</li>\n<li>In <code>onClickPenColorButton</code> save the color to an instance say <code>currentColor</code></li>\n<li>In <code>touch_start</code> you can push the path object with the <code>currentColor</code> into the <code>HashMap</code></li>\n<li><p>Modify onDraw to get the color for each path. <strong>This code is only for illustration</strong> so modify it as needed.</p>\n\n<pre><code>protected void onDraw(Canvas canvas)\n{                           \n   for (Path p : paths)\n   {  \n      // Assuming your HashMap variable is pathColor\n      m_Paint.setColor(pathColor.get(p));\n\n      canvas.drawPath(p, m_Paint);\n   }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634857134,"creation_date":1634857134,"answer_id":69669644,"question_id":14625707,"body_markdown":"You will have to create seperate objects for both PATHs and PAINTs,then create properties of each paint object separately. And then in onDraw function, you&#39;ll have to specify the canvas drawCircle method for each path and its corresponding paint. \r\n\r\nFor example, I had a similar issue and it took me a while to solve it. \r\n\r\nFirst I wanted to have a view where I can draw a line. The code was:\r\n\r\n```\r\npackage com.example.ex13_singletouch\r\n\r\nimport android.content.Context\r\nimport android.graphics.*\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\n\r\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\r\n    private val paint= Paint()\r\n    private val path = Path()\r\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\r\n    private var evenX: Float = 0F\r\n    private var evenY: Float = 0F\r\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\r\n\r\n    //INITIALIZATION\r\n    init {\r\n        paint.isAntiAlias = true\r\n        paint.strokeWidth = 6F\r\n        paint.strokeJoin = Paint.Join.ROUND\r\n        paint.color = Color.BLACK\r\n        paint.style = Paint.Style.STROKE\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\r\n        evenX = event!!.x\r\n        evenY = event!!.y\r\n\r\n        when(event.action){\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                fingerDown = true\r\n                path.moveTo(evenX,evenY)\r\n                return true\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; {\r\n                path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\r\n            }\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                fingerDown = false\r\n            }\r\n            else -&gt; return false\r\n        }\r\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\r\n        return super.onTouchEvent(event)\r\n    }\r\n\r\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\r\n    override fun onDraw(canvas: Canvas?) {\r\n        super.onDraw(canvas)\r\n        canvas!!.drawPath(path, paint)\r\n        if (fingerDown){\r\n            canvas.drawCircle(evenX, evenY, 10F, paint)\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen I planned to draw lines that could have 3 differnt colours - Black, Blue and Red. Here is my updated code \r\n\r\n```\r\npackage com.example.ex13_singletouch\r\n\r\nimport android.content.Context\r\nimport android.graphics.*\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\nimport java.util.*\r\nimport kotlin.collections.ArrayList\r\n\r\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\r\n    //private val paint= Paint()\r\n    private val paint1= Paint()\r\n    private val paint2= Paint()\r\n    private val paint3= Paint()\r\n    //private val path = Path()\r\n    private val path1 = Path()\r\n    private val path2 = Path()\r\n    private val path3 = Path()\r\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\r\n    private var evenX: Float = 0F\r\n    private var evenY: Float = 0F\r\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\r\n    var colorControl = 1\r\n\r\n    //INITIALIZATION\r\n    init {\r\n        paint1.isAntiAlias = true\r\n        paint1.strokeWidth = 6F\r\n        paint1.strokeJoin = Paint.Join.ROUND\r\n        paint1.color = Color.BLACK\r\n        paint1.style = Paint.Style.STROKE\r\n\r\n        paint2.isAntiAlias = true\r\n        paint2.strokeWidth = 6F\r\n        paint2.strokeJoin = Paint.Join.ROUND\r\n        paint2.color = Color.BLUE\r\n        paint2.style = Paint.Style.STROKE\r\n\r\n        paint3.isAntiAlias = true\r\n        paint3.strokeWidth = 6F\r\n        paint3.strokeJoin = Paint.Join.ROUND\r\n        paint3.color = Color.RED\r\n        paint3.style = Paint.Style.STROKE\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\r\n        evenX = event!!.x\r\n        evenY = event!!.y\r\n\r\n        when(event.action){\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                fingerDown = true\r\n                //path.moveTo(evenX,evenY)\r\n                if (colorControl==1){\r\n                    path1.moveTo(evenX,evenY)\r\n                }\r\n                if (colorControl==2){\r\n                    path2.moveTo(evenX,evenY)\r\n                }\r\n                if (colorControl==3){\r\n                    path3.moveTo(evenX,evenY)\r\n                }\r\n                return true\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; {\r\n                //path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\r\n                if (colorControl==1){\r\n                    path1.lineTo(evenX,evenY)\r\n                }\r\n                if (colorControl==2){\r\n                    path2.lineTo(evenX,evenY)\r\n                }\r\n                if (colorControl==3){\r\n                    path3.lineTo(evenX,evenY)\r\n                }\r\n            }\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                fingerDown = false\r\n                if (colorControl==3){\r\n                    colorControl=1\r\n                }\r\n                else {\r\n                    colorControl++\r\n                }\r\n            }\r\n            else -&gt; return false\r\n        }\r\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\r\n        return super.onTouchEvent(event)\r\n    }\r\n\r\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\r\n    override fun onDraw(canvas: Canvas?) {\r\n        super.onDraw(canvas)\r\n        canvas!!.drawPath(path1, paint1)\r\n        canvas!!.drawPath(path2, paint2)\r\n        canvas!!.drawPath(path3, paint3)\r\n    }\r\n}\r\n```\r\n\r\nYou can look at the differences between these 2 codes and see for the changes I made. I hope this is helpful.","title":"Drawing lines with different color in Canvas","body":"<p>You will have to create seperate objects for both PATHs and PAINTs,then create properties of each paint object separately. And then in onDraw function, you'll have to specify the canvas drawCircle method for each path and its corresponding paint.</p>\n<p>For example, I had a similar issue and it took me a while to solve it.</p>\n<p>First I wanted to have a view where I can draw a line. The code was:</p>\n<pre><code>package com.example.ex13_singletouch\n\nimport android.content.Context\nimport android.graphics.*\nimport android.view.MotionEvent\nimport android.view.View\n\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\n    private val paint= Paint()\n    private val path = Path()\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\n    private var evenX: Float = 0F\n    private var evenY: Float = 0F\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\n\n    //INITIALIZATION\n    init {\n        paint.isAntiAlias = true\n        paint.strokeWidth = 6F\n        paint.strokeJoin = Paint.Join.ROUND\n        paint.color = Color.BLACK\n        paint.style = Paint.Style.STROKE\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        evenX = event!!.x\n        evenY = event!!.y\n\n        when(event.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                fingerDown = true\n                path.moveTo(evenX,evenY)\n                return true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                fingerDown = false\n            }\n            else -&gt; return false\n        }\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\n        return super.onTouchEvent(event)\n    }\n\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        canvas!!.drawPath(path, paint)\n        if (fingerDown){\n            canvas.drawCircle(evenX, evenY, 10F, paint)\n        }\n    }\n\n}\n\n</code></pre>\n<p>Then I planned to draw lines that could have 3 differnt colours - Black, Blue and Red. Here is my updated code</p>\n<pre><code>package com.example.ex13_singletouch\n\nimport android.content.Context\nimport android.graphics.*\nimport android.view.MotionEvent\nimport android.view.View\nimport java.util.*\nimport kotlin.collections.ArrayList\n\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\n    //private val paint= Paint()\n    private val paint1= Paint()\n    private val paint2= Paint()\n    private val paint3= Paint()\n    //private val path = Path()\n    private val path1 = Path()\n    private val path2 = Path()\n    private val path3 = Path()\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\n    private var evenX: Float = 0F\n    private var evenY: Float = 0F\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\n    var colorControl = 1\n\n    //INITIALIZATION\n    init {\n        paint1.isAntiAlias = true\n        paint1.strokeWidth = 6F\n        paint1.strokeJoin = Paint.Join.ROUND\n        paint1.color = Color.BLACK\n        paint1.style = Paint.Style.STROKE\n\n        paint2.isAntiAlias = true\n        paint2.strokeWidth = 6F\n        paint2.strokeJoin = Paint.Join.ROUND\n        paint2.color = Color.BLUE\n        paint2.style = Paint.Style.STROKE\n\n        paint3.isAntiAlias = true\n        paint3.strokeWidth = 6F\n        paint3.strokeJoin = Paint.Join.ROUND\n        paint3.color = Color.RED\n        paint3.style = Paint.Style.STROKE\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        evenX = event!!.x\n        evenY = event!!.y\n\n        when(event.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                fingerDown = true\n                //path.moveTo(evenX,evenY)\n                if (colorControl==1){\n                    path1.moveTo(evenX,evenY)\n                }\n                if (colorControl==2){\n                    path2.moveTo(evenX,evenY)\n                }\n                if (colorControl==3){\n                    path3.moveTo(evenX,evenY)\n                }\n                return true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                //path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\n                if (colorControl==1){\n                    path1.lineTo(evenX,evenY)\n                }\n                if (colorControl==2){\n                    path2.lineTo(evenX,evenY)\n                }\n                if (colorControl==3){\n                    path3.lineTo(evenX,evenY)\n                }\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                fingerDown = false\n                if (colorControl==3){\n                    colorControl=1\n                }\n                else {\n                    colorControl++\n                }\n            }\n            else -&gt; return false\n        }\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\n        return super.onTouchEvent(event)\n    }\n\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        canvas!!.drawPath(path1, paint1)\n        canvas!!.drawPath(path2, paint2)\n        canvas!!.drawPath(path3, paint3)\n    }\n}\n</code></pre>\n<p>You can look at the differences between these 2 codes and see for the changes I made. I hope this is helpful.</p>\n"}],"owner":{"account_id":445783,"reputation":1667,"user_id":838432,"accept_rate":45,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4491,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14625834,"answer_count":2,"score":3,"last_activity_date":1634857134,"creation_date":1359634962,"question_id":14625707,"body_markdown":"This is the first time I am working with the Canvas class in Android.\r\n\r\nWhat I want is to draw lines in different colors on the canvas. I have an issue I cannot resolve.\r\n\r\nI draw the first line in black, after I change the color to red and try to draw a second line in red, and the first line drawn in black color changes to red.\r\n\r\nCode I used is:\r\n\r\n    import java.util.ArrayList;\r\n    import android.content.Context;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Path;\r\n    import android.util.Pair;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.View.OnTouchListener;\r\n    \r\n    public class DrawView extends View implements OnTouchListener \r\n    {\r\n    \tprivate Canvas  \tm_Canvas;\r\n    \t\r\n    \tprivate Path    \tm_Path;\r\n    \t\r\n    \tprivate Paint       m_Paint;\r\n    \t\r\n    \tArrayList&lt;Pair&lt;Path, Paint&gt;&gt; paths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;();\r\n    \t\r\n    \tArrayList&lt;Pair&lt;Path, Paint&gt;&gt; undonePaths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;(); \r\n    \t\r\n    \tprivate float mX, mY;\r\n    \t\r\n    \tprivate static final float TOUCH_TOLERANCE = 4;\r\n    \t\r\n    //\tBitmap canvasBackground;\r\n    \t\r\n    \tpublic DrawView(Context context) \r\n    \t{\r\n    \t\tsuper(context);\r\n    \t\tsetFocusable(true);\r\n    \t\tsetFocusableInTouchMode(true);      \r\n    \t\tthis.setOnTouchListener(this);\r\n    \t\t\r\n    \t\tonCanvasInitialization();\r\n    \t}      \r\n    \t\r\n    \tpublic void onCanvasInitialization()\r\n    \t{\r\n    \t\tm_Paint = new Paint();\r\n    \t\tm_Paint.setAntiAlias(true);\r\n    \t\tm_Paint.setDither(true);\r\n    \t\tm_Paint.setColor(Color.parseColor(&quot;#37A1D1&quot;));\r\n    \t\tm_Paint.setStyle(Paint.Style.STROKE);\r\n    \t\tm_Paint.setStrokeJoin(Paint.Join.ROUND);\r\n    \t\tm_Paint.setStrokeCap(Paint.Cap.ROUND);\r\n    \t\tm_Paint.setStrokeWidth(2);\t\t\r\n    \t\t\r\n    \t\tm_Canvas = new Canvas();\r\n    \t\t\r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint);\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t\t\r\n    //\t\tBitmap canvas = BitmapFactory.decodeResource(getResources(), R.drawable.theme1_img_note).copy(Bitmap.Config.ARGB_8888, true);\r\n    //\t\tcanvasBackground = Bitmap.createBitmap(canvas.getWidth(), canvas.getHeight(), Bitmap.Config.ARGB_8888 );\r\n    //\t\tm_Canvas = new Canvas(canvasBackground);\t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onSizeChanged(int w, int h, int oldw, int oldh) \r\n    \t{\r\n    \t\tsuper.onSizeChanged(w, h, oldw, oldh);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onDraw(Canvas canvas)\r\n    \t{      \r\n    \t\tfor (Pair&lt;Path, Paint&gt; p : paths) \r\n    \t\t{\r\n    \t\t    canvas.drawPath(p.first, p.second);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean onTouch(View arg0, MotionEvent event) \r\n    \t{\r\n    \t\tfloat x = event.getX();\r\n    \t\tfloat y = event.getY();\r\n    \r\n    \t\tswitch (event.getAction()) \r\n    \t\t{\r\n    \t\t\tcase MotionEvent.ACTION_DOWN:\r\n    \t\t\ttouch_start(x, y);\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t\tcase MotionEvent.ACTION_MOVE:\r\n    \t\t\ttouch_move(x, y);\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t\tcase MotionEvent.ACTION_UP:\r\n    \t\t\ttouch_up();\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void touch_start(float x, float y) \r\n    \t{\r\n    \t\tm_Path.reset();\r\n    \t\tm_Path.moveTo(x, y);\r\n    \t\tmX = x;\r\n    \t\tmY = y;\r\n    \t}\r\n    \t\r\n    \tprivate void touch_move(float x, float y) \r\n    \t{\r\n    \t\tfloat dx = Math.abs(x - mX);\r\n    \t\tfloat dy = Math.abs(y - mY);\r\n    \t\tif (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) \r\n    \t\t{\r\n    \t\t\tm_Path.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\r\n    \t\t\tmX = x;\r\n    \t\t\tmY = y;\r\n    \t\t}\r\n    \t}\r\n    \tprivate void touch_up() \r\n    \t{\r\n    \t\tm_Path.lineTo(mX, mY);\r\n    \t\t\t\t\r\n    \t\t// commit the path to our offscreen\r\n    \t\tm_Canvas.drawPath(m_Path, m_Paint);\r\n    \t\t\r\n    \t\t// kill this so we don&#39;t double draw            \r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t}\r\n    \r\n    \tpublic void onClickPenButton(int penWidth) \r\n    \t{ \r\n    \t\tm_Paint.setStrokeWidth(penWidth);\r\n    \r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\t\t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void onClickPenColorButton(int penColor) \r\n    \t{ \t\t\r\n    \t\tm_Paint.setColor(penColor);\r\n    \r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t}\r\n    \t\r\n    \tpublic void onClickUndo () \r\n    \t{ \r\n    \t\tif (paths.size()&gt;0) \r\n    \t\t{ \r\n    \t\t\tundonePaths.add(paths.remove(paths.size()-1));\r\n    \t\t\tinvalidate();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void onClickRedo ()\r\n    \t{\r\n    \t\tif (undonePaths.size()&gt;0) \r\n    \t\t{ \r\n    \t\t\tpaths.add(undonePaths.remove(undonePaths.size()-1)); \r\n    \t\t\tinvalidate();\r\n    \t\t} \r\n    \t\telse \r\n    \t\t{\r\n    \r\n    \t\t}\r\n    \t}\r\n    }","title":"Drawing lines with different color in Canvas","body":"<p>This is the first time I am working with the Canvas class in Android.</p>\n\n<p>What I want is to draw lines in different colors on the canvas. I have an issue I cannot resolve.</p>\n\n<p>I draw the first line in black, after I change the color to red and try to draw a second line in red, and the first line drawn in black color changes to red.</p>\n\n<p>Code I used is:</p>\n\n<pre><code>import java.util.ArrayList;\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.util.Pair;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.View.OnTouchListener;\n\npublic class DrawView extends View implements OnTouchListener \n{\n    private Canvas      m_Canvas;\n\n    private Path        m_Path;\n\n    private Paint       m_Paint;\n\n    ArrayList&lt;Pair&lt;Path, Paint&gt;&gt; paths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;();\n\n    ArrayList&lt;Pair&lt;Path, Paint&gt;&gt; undonePaths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;(); \n\n    private float mX, mY;\n\n    private static final float TOUCH_TOLERANCE = 4;\n\n//  Bitmap canvasBackground;\n\n    public DrawView(Context context) \n    {\n        super(context);\n        setFocusable(true);\n        setFocusableInTouchMode(true);      \n        this.setOnTouchListener(this);\n\n        onCanvasInitialization();\n    }      \n\n    public void onCanvasInitialization()\n    {\n        m_Paint = new Paint();\n        m_Paint.setAntiAlias(true);\n        m_Paint.setDither(true);\n        m_Paint.setColor(Color.parseColor(\"#37A1D1\"));\n        m_Paint.setStyle(Paint.Style.STROKE);\n        m_Paint.setStrokeJoin(Paint.Join.ROUND);\n        m_Paint.setStrokeCap(Paint.Cap.ROUND);\n        m_Paint.setStrokeWidth(2);      \n\n        m_Canvas = new Canvas();\n\n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint);\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n\n//      Bitmap canvas = BitmapFactory.decodeResource(getResources(), R.drawable.theme1_img_note).copy(Bitmap.Config.ARGB_8888, true);\n//      canvasBackground = Bitmap.createBitmap(canvas.getWidth(), canvas.getHeight(), Bitmap.Config.ARGB_8888 );\n//      m_Canvas = new Canvas(canvasBackground);        \n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) \n    {\n        super.onSizeChanged(w, h, oldw, oldh);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas)\n    {      \n        for (Pair&lt;Path, Paint&gt; p : paths) \n        {\n            canvas.drawPath(p.first, p.second);\n        }\n    }\n\n    public boolean onTouch(View arg0, MotionEvent event) \n    {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) \n        {\n            case MotionEvent.ACTION_DOWN:\n            touch_start(x, y);\n            invalidate();\n            break;\n            case MotionEvent.ACTION_MOVE:\n            touch_move(x, y);\n            invalidate();\n            break;\n            case MotionEvent.ACTION_UP:\n            touch_up();\n            invalidate();\n            break;\n        }\n        return true;\n    }\n\n    private void touch_start(float x, float y) \n    {\n        m_Path.reset();\n        m_Path.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touch_move(float x, float y) \n    {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) \n        {\n            m_Path.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\n            mX = x;\n            mY = y;\n        }\n    }\n    private void touch_up() \n    {\n        m_Path.lineTo(mX, mY);\n\n        // commit the path to our offscreen\n        m_Canvas.drawPath(m_Path, m_Paint);\n\n        // kill this so we don't double draw            \n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n    }\n\n    public void onClickPenButton(int penWidth) \n    { \n        m_Paint.setStrokeWidth(penWidth);\n\n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));             \n    }\n\n    public void onClickPenColorButton(int penColor) \n    {       \n        m_Paint.setColor(penColor);\n\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n    }\n\n    public void onClickUndo () \n    { \n        if (paths.size()&gt;0) \n        { \n            undonePaths.add(paths.remove(paths.size()-1));\n            invalidate();\n        }\n        else\n        {\n\n        }\n    }\n\n    public void onClickRedo ()\n    {\n        if (undonePaths.size()&gt;0) \n        { \n            paths.add(undonePaths.remove(undonePaths.size()-1)); \n            invalidate();\n        } \n        else \n        {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1634853209,"post_id":69669027,"comment_id":123145771,"body_markdown":"Note: Using `in.readLine()` reads a line of text, so when you use `while (in.readLine() != null)`, you are actually reading a line but doing nothing with it... Is this intended behaviour?","body":"Note: Using <code>in.readLine()</code> reads a line of text, so when you use <code>while (in.readLine() != null)</code>, you are actually reading a line but doing nothing with it... Is this intended behaviour?"}],"answers":[{"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634855714,"creation_date":1634852706,"answer_id":69669116,"question_id":69669027,"body_markdown":"`readline` returns a &quot;string containing the contents of the line, not including any line-termination characters&quot;, so why are you trying to split each line on `&quot;\\\\r?\\\\n&quot;`?\r\n\r\nWhere is `str` declared? Why are you reading two lines for each iteration of the loop, and ignoring the first one?\r\n\r\nI suggest you start from\r\n\r\n```java\r\nString str;\r\nwhile ((str = in.readLine()) != null) {\r\n    System.out.println(str);\r\n}\r\n```\r\n\r\nand work from there.\r\n\r\nThe first `readline` gets the language, the second gets the description, and the third gets the url, and then the pattern repeats. There is nothing to stop you using `readline` three times for each iteration of the while loop.","title":"assigning properties to strings in text file","body":"<p><code>readline</code> returns a &quot;string containing the contents of the line, not including any line-termination characters&quot;, so why are you trying to split each line on <code>&quot;\\\\r?\\\\n&quot;</code>?</p>\n<p>Where is <code>str</code> declared? Why are you reading two lines for each iteration of the loop, and ignoring the first one?</p>\n<p>I suggest you start from</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str;\nwhile ((str = in.readLine()) != null) {\n    System.out.println(str);\n}\n</code></pre>\n<p>and work from there.</p>\n<p>The first <code>readline</code> gets the language, the second gets the description, and the third gets the url, and then the pattern repeats. There is nothing to stop you using <code>readline</code> three times for each iteration of the while loop.</p>\n"},{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634855350,"creation_date":1634855350,"answer_id":69669451,"question_id":69669027,"body_markdown":"you can read all the file in a String like this\r\n    \r\n\r\n    // try with resources, to make sure BufferedReader is closed safely\r\n        try (BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;))) {\r\n        \r\n                //str will hold all the file contents\r\n                StringBuilder str = new StringBuilder();\r\n                String line;\r\n                while ((line = in.readLine()) != null) {\r\n                    str.append(line);\r\n                    str.append(&quot;\\n&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n          }\r\n      \r\n\r\nLater you can split the string with\r\n\r\n    String[] fields = str.toString().split(&quot;[\\\\n\\\\r]+&quot;);","title":"assigning properties to strings in text file","body":"<p>you can read all the file in a String like this</p>\n<pre><code>// try with resources, to make sure BufferedReader is closed safely\n    try (BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;))) {\n    \n            //str will hold all the file contents\n            StringBuilder str = new StringBuilder();\n            String line;\n            while ((line = in.readLine()) != null) {\n                str.append(line);\n                str.append(&quot;\\n&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n      }\n  \n</code></pre>\n<p>Later you can split the string with</p>\n<pre><code>String[] fields = str.toString().split(&quot;[\\\\n\\\\r]+&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634856841,"creation_date":1634855535,"answer_id":69669478,"question_id":69669027,"body_markdown":"Why not try it like this.\r\n- allocate a List to hold the `TutorialWebsite` instances.\r\n- use try with resources to open the file, read the lines, and trim any white space.\r\n- put the lines in an array\r\n- then iterate over the array, filling in the class instance\r\n- the print the list.\r\n\r\nThe loop ensures the array length is a multiple of `nFields`, discarding any remainder. So if your total lines are not divisible by `nFields` you will not read the remainder of the file.  You would still have to adjust the setters if additional fields were added.\r\n```\r\nint nFields = 3;\r\nList&lt;TutorialWebsite&gt; list = new ArrayList&lt;&gt;();\r\ntry (BufferedReader in = new BufferedReader(new FileReader(&quot;tutorials.txt&quot;))) {\t\r\n    String[] lines = in.lines().map(String::trim).toArray(String[]::new);\r\n     for (int i = 0; i &lt; (lines.length/nFields)*nFields; i+=nFields) {\r\n    \t TutorialWebsite tw = new TutorialWebsite();\r\n    \t tw.setProgramLanguage(lines[i]);\r\n         tw.setWebDescription(lines[i+1]);\r\n         tw.setWebURL(lines[i+2]);\r\n         list.add(tw);\r\n     }\r\n} catch (IOException ioe) {\r\n\tioe.printStackTrace();\r\n}\r\n\t\r\nlist.forEach(System.out::println);\r\n\r\n```\r\nA improvement would be to use a constructor and pass the strings to that when each instance is created.\r\n\r\nAnd remember the file name as specified is relative to the directory in which the program is run.","title":"assigning properties to strings in text file","body":"<p>Why not try it like this.</p>\n<ul>\n<li>allocate a List to hold the <code>TutorialWebsite</code> instances.</li>\n<li>use try with resources to open the file, read the lines, and trim any white space.</li>\n<li>put the lines in an array</li>\n<li>then iterate over the array, filling in the class instance</li>\n<li>the print the list.</li>\n</ul>\n<p>The loop ensures the array length is a multiple of <code>nFields</code>, discarding any remainder. So if your total lines are not divisible by <code>nFields</code> you will not read the remainder of the file.  You would still have to adjust the setters if additional fields were added.</p>\n<pre><code>int nFields = 3;\nList&lt;TutorialWebsite&gt; list = new ArrayList&lt;&gt;();\ntry (BufferedReader in = new BufferedReader(new FileReader(&quot;tutorials.txt&quot;))) { \n    String[] lines = in.lines().map(String::trim).toArray(String[]::new);\n     for (int i = 0; i &lt; (lines.length/nFields)*nFields; i+=nFields) {\n         TutorialWebsite tw = new TutorialWebsite();\n         tw.setProgramLanguage(lines[i]);\n         tw.setWebDescription(lines[i+1]);\n         tw.setWebURL(lines[i+2]);\n         list.add(tw);\n     }\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n    \nlist.forEach(System.out::println);\n\n</code></pre>\n<p>A improvement would be to use a constructor and pass the strings to that when each instance is created.</p>\n<p>And remember the file name as specified is relative to the directory in which the program is run.</p>\n"}],"owner":{"account_id":23106097,"reputation":1,"user_id":17214694,"display_name":"angyeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1634856841,"creation_date":1634851989,"question_id":69669027,"body_markdown":"Hopefully my explanation does me some justice. I am pretty new to java. I have a text file that looks like this \r\n\r\n```\r\nJava\r\nThe Java Tutorials\r\nhttp://docs.oracle.com/javase/tutorial/\r\nPython\r\nTutorialspoint Java tutorials\r\nhttp://www.tutorialspoint.com/python/\r\nPerl\r\nTutorialspoint Perl tutorials\r\nhttp://www.tutorialspoint.com/perl/\r\n```\r\nI have properties for language name, website description, and website url. Right now, I just want to list the information from the text file exactly how it looks, but I need to assign those properties to them. \r\n\r\nThe problem I am getting is &quot;index 1 is out of bounds for length 1&quot;\r\n\r\n    try {\r\n            BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;));\r\n\r\n            while (in.readLine() != null) {\r\n                TutorialWebsite tw = new TutorialWebsite();\r\n                str = in.readLine();\r\n                String[] fields = str.split(&quot;\\\\r?\\\\n&quot;);\r\n                tw.setProgramLanguage(fields[0]);\r\n                tw.setWebDescription(fields[1]);\r\n                tw.setWebURL(fields[2]);\r\n                System.out.println(tw);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\nI wanted to test something so i removed the new lines and put commas instead and made it str.split(&quot;,&quot;) which printed it out just fine, but im sure i would get points taken off it i changed the format. \r\n\r\n","title":"assigning properties to strings in text file","body":"<p>Hopefully my explanation does me some justice. I am pretty new to java. I have a text file that looks like this</p>\n<pre><code>Java\nThe Java Tutorials\nhttp://docs.oracle.com/javase/tutorial/\nPython\nTutorialspoint Java tutorials\nhttp://www.tutorialspoint.com/python/\nPerl\nTutorialspoint Perl tutorials\nhttp://www.tutorialspoint.com/perl/\n</code></pre>\n<p>I have properties for language name, website description, and website url. Right now, I just want to list the information from the text file exactly how it looks, but I need to assign those properties to them.</p>\n<p>The problem I am getting is &quot;index 1 is out of bounds for length 1&quot;</p>\n<pre><code>try {\n        BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;));\n\n        while (in.readLine() != null) {\n            TutorialWebsite tw = new TutorialWebsite();\n            str = in.readLine();\n            String[] fields = str.split(&quot;\\\\r?\\\\n&quot;);\n            tw.setProgramLanguage(fields[0]);\n            tw.setWebDescription(fields[1]);\n            tw.setWebURL(fields[2]);\n            System.out.println(tw);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I wanted to test something so i removed the new lines and put commas instead and made it str.split(&quot;,&quot;) which printed it out just fine, but im sure i would get points taken off it i changed the format.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14491032,"reputation":584,"user_id":10467286,"display_name":"Putra Nugraha"},"score":3,"creation_date":1633487127,"post_id":69458822,"comment_id":122770290,"body_markdown":"It seems calling `finish()` should already dismiss `EnterCodeActivity`... Or, can you help to update what is this currently code do?","body":"It seems calling <code>finish()</code> should already dismiss <code>EnterCodeActivity</code>... Or, can you help to update what is this currently code do?"},{"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"score":0,"creation_date":1633562329,"post_id":69458822,"comment_id":122795790,"body_markdown":"I clean the build and ran it again now it is working. Don&#39;t know why it didn&#39;t work before. Thanks!","body":"I clean the build and ran it again now it is working. Don&#39;t know why it didn&#39;t work before. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11186765,"reputation":492,"user_id":8208808,"display_name":"MihaiBC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633517081,"creation_date":1633517081,"answer_id":69464271,"question_id":69458822,"body_markdown":"A possible fix would be to add a return statement after calling the ***finish()*** method so the execution for the current method will stop there. \r\n\r\nAlso if you want to get more info check out this thread:  https://stackoverflow.com/questions/2590947/how-does-activity-finish-work-in-android","title":"How do I dismiss view after user enter the code? Android","body":"<p>A possible fix would be to add a return statement after calling the <em><strong>finish()</strong></em> method so the execution for the current method will stop there.</p>\n<p>Also if you want to get more info check out this thread:  <a href=\"https://stackoverflow.com/questions/2590947/how-does-activity-finish-work-in-android\">How does Activity.finish() work in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634856061,"creation_date":1634856061,"answer_id":69669538,"question_id":69458822,"body_markdown":"I clean the build and ran it again now it is working.","title":"How do I dismiss view after user enter the code? Android","body":"<p>I clean the build and ran it again now it is working.</p>\n"}],"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669538,"answer_count":2,"score":0,"last_activity_date":1634856061,"creation_date":1633483121,"question_id":69458822,"body_markdown":"I&#39;m working on an existing project for adding a Lock screen for the user to enter the code. After verifying the code the Lock Screen will dismiss and the user can use the app normally. Thank you. I&#39;m not an Android developer so it is very difficult for me. The project is coded in Kotlin and Java.\r\n\r\n///mainapp is in Kotlin\r\n\r\n    package com.mainapp.view.activity\r\n    \r\n    open class BaseActivity: AppCompatActivity() {\r\n        lateinit var repository: BasicRepository\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            pref = PreferenceManager(this)\r\n            setupContentWindow()\r\n        }\r\n    \r\n        fun setupContentWindow() {\r\n            Helper.handleStatusBar(window, false, this)\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            if (requireCode()) {\r\n                val intent = EnterCodeActivity.intent(this, true)\r\n                startActivity(intent)\r\n    \r\n            } else {\r\n                 val intent = Intent(this, EnterCodeActivity::class.java)\r\n                 startActivityForResult(intent, Helper.REQUEST_CODE)\r\n            }\r\n        }\r\n\r\n\r\n///lockscreen is in java\r\n\r\n    package com.lockscreen.activity;\r\n    \r\n    public class EnterCodeActivity extends AppCompatActivity {\r\n    public static Intent intent(Context context, boolean requireCode) {\r\n            Intent intent = new Intent(context, EnterPinActivity.class);\r\n            intent.putExtra(&quot;REQUIRE_CODE&quot;, requireCode);\r\n            return intent;\r\n        }\r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            setContentView(R.layout.activity_enterpin);\r\n           \r\n            final CodeLockListener codeLockListener = new CodeLockListener() {\r\n    \r\n                @Override\r\n                public void onComplete(String code) {\r\n                  checkCode(code);\r\n                }\r\n    \r\n                @Override\r\n                public void onEmpty() {\r\n                    Log.d(TAG, &quot;Code empty&quot;);\r\n                }\r\n            };\r\n    \r\n            mCodeLockView = (CodeLockView) findViewById(R.id.codelockView);\r\n            mIndicators = (Indicators) findViewById(R.id.indicators);\r\n    \r\n            mCodeLockView.attachIndicators(mIndicators);\r\n            mCodeLockView.setCodeLockListener(codeLockListener);\r\n            mIndicators.setIndicatorType(Indicators.IndicatorType.FILL_WITH_ANIMATION);\r\n        }\r\n    \r\n    private void checkCode(String code) {\r\n         APIManager.getInstance().verifyAuth(code, new Callback&lt;String&gt;() {\r\n               @Override\r\n               public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                   if (response.code() == 200) {\r\n                       setResult(RESULT_OK);\r\n                       finish();\r\n                       //dismiss the code lock view after verify the code\r\n     \r\n                   } else {\r\n                       mTextTitle.setText(&quot;Incorrect Code!&quot;)\r\n                   }\r\n               }\r\n    \r\n               @Override\r\n               public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                   mTextTitle.setText(&quot;Incorrect Code!&quot;)\r\n               }\r\n           });\r\n       }","title":"How do I dismiss view after user enter the code? Android","body":"<p>I'm working on an existing project for adding a Lock screen for the user to enter the code. After verifying the code the Lock Screen will dismiss and the user can use the app normally. Thank you. I'm not an Android developer so it is very difficult for me. The project is coded in Kotlin and Java.</p>\n<p>///mainapp is in Kotlin</p>\n<pre><code>package com.mainapp.view.activity\n\nopen class BaseActivity: AppCompatActivity() {\n    lateinit var repository: BasicRepository\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        pref = PreferenceManager(this)\n        setupContentWindow()\n    }\n\n    fun setupContentWindow() {\n        Helper.handleStatusBar(window, false, this)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (requireCode()) {\n            val intent = EnterCodeActivity.intent(this, true)\n            startActivity(intent)\n\n        } else {\n             val intent = Intent(this, EnterCodeActivity::class.java)\n             startActivityForResult(intent, Helper.REQUEST_CODE)\n        }\n    }\n</code></pre>\n<p>///lockscreen is in java</p>\n<pre><code>package com.lockscreen.activity;\n\npublic class EnterCodeActivity extends AppCompatActivity {\npublic static Intent intent(Context context, boolean requireCode) {\n        Intent intent = new Intent(context, EnterPinActivity.class);\n        intent.putExtra(&quot;REQUIRE_CODE&quot;, requireCode);\n        return intent;\n    }\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        setContentView(R.layout.activity_enterpin);\n       \n        final CodeLockListener codeLockListener = new CodeLockListener() {\n\n            @Override\n            public void onComplete(String code) {\n              checkCode(code);\n            }\n\n            @Override\n            public void onEmpty() {\n                Log.d(TAG, &quot;Code empty&quot;);\n            }\n        };\n\n        mCodeLockView = (CodeLockView) findViewById(R.id.codelockView);\n        mIndicators = (Indicators) findViewById(R.id.indicators);\n\n        mCodeLockView.attachIndicators(mIndicators);\n        mCodeLockView.setCodeLockListener(codeLockListener);\n        mIndicators.setIndicatorType(Indicators.IndicatorType.FILL_WITH_ANIMATION);\n    }\n\nprivate void checkCode(String code) {\n     APIManager.getInstance().verifyAuth(code, new Callback&lt;String&gt;() {\n           @Override\n           public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n               if (response.code() == 200) {\n                   setResult(RESULT_OK);\n                   finish();\n                   //dismiss the code lock view after verify the code\n \n               } else {\n                   mTextTitle.setText(&quot;Incorrect Code!&quot;)\n               }\n           }\n\n           @Override\n           public void onFailure(Call&lt;String&gt; call, Throwable t) {\n               mTextTitle.setText(&quot;Incorrect Code!&quot;)\n           }\n       });\n   }\n</code></pre>\n"},{"tags":["java","aspectj","slf4j"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634899476,"post_id":69669525,"comment_id":123156757,"body_markdown":"There are many variables in your equation, so to speak. therefore, it would be helpful to provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub. I would like to reproduce your basic situation and be able to play with it. In its current state, the question is too generic and an answer would be speculative rather than helpful.","body":"There are many variables in your equation, so to speak. therefore, it would be helpful to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub. I would like to reproduce your basic situation and be able to play with it. In its current state, the question is too generic and an answer would be speculative rather than helpful."},{"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"score":0,"creation_date":1634920317,"post_id":69669525,"comment_id":123165321,"body_markdown":"@kriegaex I think I&#39;ve refined down my question to be less nebulous. Ill open an new question that will be more precise.","body":"@kriegaex I think I&#39;ve refined down my question to be less nebulous. Ill open an new question that will be more precise."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634983374,"post_id":69669525,"comment_id":123177184,"body_markdown":"There is no need to open a new question. Just click &quot;edit&quot; and refine this one. Please also try to understand what I mean by the term MCVE. Read the article, if you have not done so yet, please.","body":"There is no need to open a new question. Just click &quot;edit&quot; and refine this one. Please also try to understand what I mean by the term MCVE. Read the article, if you have not done so yet, please."}],"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634855965,"creation_date":1634855965,"question_id":69669525,"body_markdown":"Ive got a microservice pipeline that I have an Id for each payload that passes through the pipeline. The payload contains an Id that correlates the payload to every other microservice. I don&#39;t want to manually append the id to the beginning of every log so my question is this:\r\n\r\nIs there a way to add/alter an id that will be added to the logs when they are printed. For example...\r\n\r\nIn a RESTController I would do something like.\r\n\r\n```java\r\n\r\nLogger.setProps(&quot;piplineID&quot;, pipelineId)\r\n```\r\n\r\nand from that point on all logs that were generated would have the pipeline id in them, until the next request was made. \r\n\r\n``` bash\r\n// a call to log.info(message) would print\r\n&lt;timestamp&gt; {pipelineID: 123412342, message: &lt;message&gt;}\r\n```\r\n\r\nIm using @Slf4j and I am using \r\n```xml\r\n&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n                &lt;timestampFormatTimezoneId&gt;UTC&lt;/timestampFormatTimezoneId&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n```\r\nand `log4j.rootLogger=INFO, DB, console` in the properties file. \r\n\r\nI was thinking maybe I could use an aspect to inject the id after the `log.info` call had been made but I don&#39;t know how I would connect the aspect to the call. ","title":"Add and change a global Id during runtime for Slf4j","body":"<p>Ive got a microservice pipeline that I have an Id for each payload that passes through the pipeline. The payload contains an Id that correlates the payload to every other microservice. I don't want to manually append the id to the beginning of every log so my question is this:</p>\n<p>Is there a way to add/alter an id that will be added to the logs when they are printed. For example...</p>\n<p>In a RESTController I would do something like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nLogger.setProps(&quot;piplineID&quot;, pipelineId)\n</code></pre>\n<p>and from that point on all logs that were generated would have the pipeline id in them, until the next request was made.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>// a call to log.info(message) would print\n&lt;timestamp&gt; {pipelineID: 123412342, message: &lt;message&gt;}\n</code></pre>\n<p>Im using @Slf4j and I am using</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n                &lt;timestampFormatTimezoneId&gt;UTC&lt;/timestampFormatTimezoneId&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n                &lt;/jsonFormatter&gt;\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n</code></pre>\n<p>and <code>log4j.rootLogger=INFO, DB, console</code> in the properties file.</p>\n<p>I was thinking maybe I could use an aspect to inject the id after the <code>log.info</code> call had been made but I don't know how I would connect the aspect to the call.</p>\n"},{"tags":["java","spring-boot","maven","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1634849059,"post_id":69668526,"comment_id":123144581,"body_markdown":"Why do you think you need to run the unit tests before starting the application?","body":"Why do you think you need to run the unit tests before starting the application?"},{"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"score":0,"creation_date":1634849324,"post_id":69668526,"comment_id":123144662,"body_markdown":"@jonrsharpe Before starting, the application needs to verify all unit tests in the application. I know this is not a good approach for all applications.","body":"@jonrsharpe Before starting, the application needs to verify all unit tests in the application. I know this is not a good approach for all applications."},{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1634849406,"post_id":69668526,"comment_id":123144694,"body_markdown":"You&#39;ve just asserted it again, I&#39;m asking _why_. It is indeed not a good approach; do you expect the test results to possibly be different on each start (and if so, are they really unit tests)?","body":"You&#39;ve just asserted it again, I&#39;m asking <i>why</i>. It is indeed not a good approach; do you expect the test results to possibly be different on each start (and if so, are they really unit tests)?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1634849919,"post_id":69668526,"comment_id":123144901,"body_markdown":"The standard process is to run your unit tests when you _package_ the application, and then you run the package.","body":"The standard process is to run your unit tests when you <i>package</i> the application, and then you run the package."},{"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"score":0,"creation_date":1634850504,"post_id":69668526,"comment_id":123145074,"body_markdown":"@chrylis-cautiouslyoptimistic- thanks, yes that&#39;s correct. I wanted to run the application by using Intellij and had to run the unit tests separately.","body":"@chrylis-cautiouslyoptimistic- thanks, yes that&#39;s correct. I wanted to run the application by using Intellij and had to run the unit tests separately."}],"answers":[{"tags":[],"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634850234,"creation_date":1634850234,"answer_id":69668772,"question_id":69668526,"body_markdown":"Some suggestions:\r\n\r\n- let&#39;s separate your local development and release, deployment procedure: use some kind of CI/CD process\r\n- you can build, run your unit tests and other static code analyzers is your CI process (for instance in gitlab-ci)\r\n- when you develop your application you can run unit tests without running your application, and you can run your application without running unit tests in your local machine, it is more efficient.\r\n- when you finish your development issue you can push it to version control that can run your CI or CI/CD process. If you work in a team I suggest to use some kind of branching/version control strategy like gitflow, trunk based development etc.","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>Some suggestions:</p>\n<ul>\n<li>let's separate your local development and release, deployment procedure: use some kind of CI/CD process</li>\n<li>you can build, run your unit tests and other static code analyzers is your CI process (for instance in gitlab-ci)</li>\n<li>when you develop your application you can run unit tests without running your application, and you can run your application without running unit tests in your local machine, it is more efficient.</li>\n<li>when you finish your development issue you can push it to version control that can run your CI or CI/CD process. If you work in a team I suggest to use some kind of branching/version control strategy like gitflow, trunk based development etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634854584,"creation_date":1634854584,"answer_id":69669343,"question_id":69668526,"body_markdown":"If you want to do this via Intellij, you can create a Run Configuration that runs the `verify` and `spring-boot:run` goals:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs other people have said, this is something you would only want to do while developing.\r\n\r\n  [1]: https://i.stack.imgur.com/YVJ0M.png","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>If you want to do this via Intellij, you can create a Run Configuration that runs the <code>verify</code> and <code>spring-boot:run</code> goals:</p>\n<p><a href=\"https://i.stack.imgur.com/YVJ0M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVJ0M.png\" alt=\"enter image description here\" /></a></p>\n<p>As other people have said, this is something you would only want to do while developing.</p>\n"}],"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69669343,"answer_count":2,"score":0,"last_activity_date":1634855736,"creation_date":1634848852,"question_id":69668526,"body_markdown":"Recently I started working on demo Spring Boot application and I was unable to run the unit test when starting the application. The purpose of this approach is we need to run all unit tests before starting the application.\r\n\r\nCode of the Sample Demo Application is as follows.\r\n\r\nMain class DemoApplication,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nModel class School,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class School {\r\n    \r\n        private String name;\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\nMain class Unit test,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate School school;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n    \t\tschool.setName(&quot;test&quot;);\r\n    \t\tString schoolName = school.getName();\r\n            Assertions.assertThat(schoolName).isNotNull();\r\n        }\r\n    \r\n        @Test\r\n        void main() {\r\n            DemoApplication.main(new String[]{});\r\n    \t\tschool.setName(&quot;test&quot;);\r\n    \t\tString schoolName = school.getName();\r\n    \t\tAssertions.assertThat(schoolName).isNotNull();\r\n        }\r\n    \r\n    }\r\n\r\nSchool Unit test,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class SchoolTests {\r\n    \r\n        @Test\r\n        public void getTodoTest() {\r\n            School school = new School();\r\n            String name = &quot;test&quot;;\r\n            school.setName(name);\r\n            Assert.assertEquals(name, school.getName());\r\n        }\r\n    \r\n    }\r\n\r\npom.xml file,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhat are the additional configurations that need to be done to run the unit tests at the startup?","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>Recently I started working on demo Spring Boot application and I was unable to run the unit test when starting the application. The purpose of this approach is we need to run all unit tests before starting the application.</p>\n<p>Code of the Sample Demo Application is as follows.</p>\n<p>Main class DemoApplication,</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Model class School,</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class School {\n\n    private String name;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Main class Unit test,</p>\n<pre><code>package com.example.demo;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    private School school;\n\n    @Test\n    void contextLoads() {\n        school.setName(&quot;test&quot;);\n        String schoolName = school.getName();\n        Assertions.assertThat(schoolName).isNotNull();\n    }\n\n    @Test\n    void main() {\n        DemoApplication.main(new String[]{});\n        school.setName(&quot;test&quot;);\n        String schoolName = school.getName();\n        Assertions.assertThat(schoolName).isNotNull();\n    }\n\n}\n</code></pre>\n<p>School Unit test,</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class SchoolTests {\n\n    @Test\n    public void getTodoTest() {\n        School school = new School();\n        String name = &quot;test&quot;;\n        school.setName(name);\n        Assert.assertEquals(name, school.getName());\n    }\n\n}\n</code></pre>\n<p>pom.xml file,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What are the additional configurations that need to be done to run the unit tests at the startup?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1634854389,"post_id":69669281,"comment_id":123146041,"body_markdown":"Did you specify your locale? https://stackoverflow.com/questions/36418901/change-decimalformat-locale","body":"Did you specify your locale? <a href=\"https://stackoverflow.com/questions/36418901/change-decimalformat-locale\" title=\"change decimalformat locale\">stackoverflow.com/questions/36418901/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3173628,"reputation":312,"user_id":2682019,"display_name":"Jonnathan Q"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634854826,"creation_date":1634854826,"answer_id":69669380,"question_id":69669281,"body_markdown":"Specify the locale to use in order to propely format the values\r\n\r\n    System.out.println(new DecimalFormat(&quot;#,###.00 &#164;&quot;, DecimalFormatSymbols.getInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;))).format(50427.1));\r\n\r\nwill output\r\n\r\n    50&#160;427,10 Kč","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p>Specify the locale to use in order to propely format the values</p>\n<pre><code>System.out.println(new DecimalFormat(&quot;#,###.00 ¤&quot;, DecimalFormatSymbols.getInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;))).format(50427.1));\n</code></pre>\n<p>will output</p>\n<pre><code>50 427,10 Kč\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634855574,"creation_date":1634855205,"answer_id":69669429,"question_id":69669281,"body_markdown":"You don&#39;t need to specify the format; just use the locale&#39;s currency formatter:\r\n\r\n    NumberFormat.getCurrencyInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;)).format(50427.1)\r\n\r\nIf you want to include the trailing 0 decimals, you can `setMinimumFractionDigits(2)`.\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/A3dm45","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p>You don't need to specify the format; just use the locale's currency formatter:</p>\n<pre><code>NumberFormat.getCurrencyInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;)).format(50427.1)\n</code></pre>\n<p>If you want to include the trailing 0 decimals, you can <code>setMinimumFractionDigits(2)</code>.</p>\n<p><a href=\"https://ideone.com/A3dm45\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":63056,"reputation":1645,"user_id":186896,"accept_rate":85,"display_name":"SyAu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669429,"answer_count":2,"score":0,"last_activity_date":1634855574,"creation_date":1634854023,"question_id":69669281,"body_markdown":"**Java 11** \r\n\r\nI&#39;m dealing with Czech karona currency and need to display \r\n\r\n    50427.1 as 50 427,10 Kč\r\n\r\nTried, \r\n              \r\n    System.out.println(new java.text.DecimalFormat(&quot;## ###,00 Kč&quot;).format(Double.valueOf(&quot;50427.1&quot;)));\r\n\r\nBut its printing as \r\n \r\n    5,04,27  Kč\r\n\r\nHow can i make it to display in the correct format? \r\n","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p><strong>Java 11</strong></p>\n<p>I'm dealing with Czech karona currency and need to display</p>\n<pre><code>50427.1 as 50 427,10 Kč\n</code></pre>\n<p>Tried,</p>\n<pre><code>System.out.println(new java.text.DecimalFormat(&quot;## ###,00 Kč&quot;).format(Double.valueOf(&quot;50427.1&quot;)));\n</code></pre>\n<p>But its printing as</p>\n<pre><code>5,04,27  Kč\n</code></pre>\n<p>How can i make it to display in the correct format?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1634846693,"post_id":69668059,"comment_id":123143809,"body_markdown":"Here&#39;s a pretty similar question. You may find some interesting ideas for implementing your own listener there. https://stackoverflow.com/questions/16529273/how-to-add-listener-on-arraylist-in-java  and also here https://stackoverflow.com/questions/19509717/want-to-notify-on-when-an-item-is-inserted-into-arraylist-using-callback-in-java","body":"Here&#39;s a pretty similar question. You may find some interesting ideas for implementing your own listener there. <a href=\"https://stackoverflow.com/questions/16529273/how-to-add-listener-on-arraylist-in-java\" title=\"how to add listener on arraylist in java\">stackoverflow.com/questions/16529273/&hellip;</a>  and also here <a href=\"https://stackoverflow.com/questions/19509717/want-to-notify-on-when-an-item-is-inserted-into-arraylist-using-callback-in-java\" title=\"want to notify on when an item is inserted into arraylist using callback in java\">stackoverflow.com/questions/19509717/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634847169,"creation_date":1634847169,"answer_id":69668230,"question_id":69668059,"body_markdown":"You can use the [PropertyChangeSupport](https://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeSupport.html) with your custom list:\r\n\r\n```\r\nclass MyList&lt;T&gt; {\r\n    private final PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);\r\n    private final List&lt;T&gt; itemList = new ArrayList&lt;&gt;();\r\n\r\n    public void addName(T name) {\r\n        itemList.add(name);\r\n        propertyChangeSupport.firePropertyChange(&quot;item&quot;, null, Collections.unmodifiableList(itemList));\r\n    }\r\n\r\n    public void addPropertyChangeListener(PropertyChangeListener l) {\r\n        propertyChangeSupport.addPropertyChangeListener(l);\r\n    }\r\n\r\n    public void removePropertyChangeListener(PropertyChangeListener l) {\r\n        propertyChangeSupport.removePropertyChangeListener(l);\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        MyList&lt;String&gt; myBean = new MyList&lt;&gt;();\r\n        myBean.addPropertyChangeListener(evt -&gt; System.out.println(&quot;Hello&quot;));\r\n        myBean.addName(&quot;Hello&quot;);\r\n    }\r\n```","title":"Access List item without waiting for the List to be populated fully","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeSupport.html\" rel=\"nofollow noreferrer\">PropertyChangeSupport</a> with your custom list:</p>\n<pre><code>class MyList&lt;T&gt; {\n    private final PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);\n    private final List&lt;T&gt; itemList = new ArrayList&lt;&gt;();\n\n    public void addName(T name) {\n        itemList.add(name);\n        propertyChangeSupport.firePropertyChange(&quot;item&quot;, null, Collections.unmodifiableList(itemList));\n    }\n\n    public void addPropertyChangeListener(PropertyChangeListener l) {\n        propertyChangeSupport.addPropertyChangeListener(l);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener l) {\n        propertyChangeSupport.removePropertyChangeListener(l);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code> public static void main(String[] args) {\n        MyList&lt;String&gt; myBean = new MyList&lt;&gt;();\n        myBean.addPropertyChangeListener(evt -&gt; System.out.println(&quot;Hello&quot;));\n        myBean.addName(&quot;Hello&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634855354,"creation_date":1634855354,"answer_id":69669452,"question_id":69668059,"body_markdown":"To simplify, to test the usage and to understand answer given by @PavlMits, I tried like this:\r\n\r\n    public class MyListUsage {\r\n    \t public static void main(String[] args) {\r\n    \t        MyList&lt;String&gt; myList = new MyList&lt;&gt;();\r\n    \t        myList.addPropertyChangeListener(evt -&gt; callThisOnAddItemToList ());\r\n    \t        myList.addName(&quot;foo&quot;);\r\n    \t        myList.addName(&quot;bar&quot;);\r\n    \t        myList.addName(&quot;blah-blah&quot;);\r\n    \t    }\r\n    \t \r\n    \t private static void callThisOnAddItemToList () {\r\n    \t\t System.out.println(&quot;Do something here as and when an item added to list ......&quot;);\r\n    \t }\r\n    }\r\n\r\nAnd I got the below output:\r\n\r\n    Do something here as and when an item added to list ......\r\n    Do something here as and when an item added to list ......\r\n    Do something here as and when an item added to list ......\r\n\r\n","title":"Access List item without waiting for the List to be populated fully","body":"<p>To simplify, to test the usage and to understand answer given by @PavlMits, I tried like this:</p>\n<pre><code>public class MyListUsage {\n     public static void main(String[] args) {\n            MyList&lt;String&gt; myList = new MyList&lt;&gt;();\n            myList.addPropertyChangeListener(evt -&gt; callThisOnAddItemToList ());\n            myList.addName(&quot;foo&quot;);\n            myList.addName(&quot;bar&quot;);\n            myList.addName(&quot;blah-blah&quot;);\n        }\n     \n     private static void callThisOnAddItemToList () {\n         System.out.println(&quot;Do something here as and when an item added to list ......&quot;);\n     }\n}\n</code></pre>\n<p>And I got the below output:</p>\n<pre><code>Do something here as and when an item added to list ......\nDo something here as and when an item added to list ......\nDo something here as and when an item added to list ......\n</code></pre>\n"}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668230,"answer_count":2,"score":0,"last_activity_date":1634855354,"creation_date":1634846113,"question_id":69668059,"body_markdown":"I have a List&lt;String&gt; as per following:\r\n   \r\n\r\n    private void someMethod () {\r\n        String str= &quot;someStrParam&quot;;\r\n        private int theCount = 0;\r\n\t\tList&lt;String&gt; itemList = getListMethod(str);\r\n\t\t  if (theCount &lt; itemList.size()) {\r\n\t\t\treturn itemList.get(theCount++);\r\n\t\t    } else {\r\n\t\t\treturn null;\r\n\t\t  }\r\n     }\r\n\r\n**Question**: As soon as a List item is added to the List in the `getListMethod`, how can I access it immediately in the `someMethod` without waiting for the next item to be added? Or is there way a way we put a monitor on `getListMethod` so that, as soon as the an item is added there, we can query the `itemList` ?","title":"Access List item without waiting for the List to be populated fully","body":"<p>I have a List as per following:</p>\n<pre><code>private void someMethod () {\n    String str= &quot;someStrParam&quot;;\n    private int theCount = 0;\n    List&lt;String&gt; itemList = getListMethod(str);\n      if (theCount &lt; itemList.size()) {\n        return itemList.get(theCount++);\n        } else {\n        return null;\n      }\n }\n</code></pre>\n<p><strong>Question</strong>: As soon as a List item is added to the List in the <code>getListMethod</code>, how can I access it immediately in the <code>someMethod</code> without waiting for the next item to be added? Or is there way a way we put a monitor on <code>getListMethod</code> so that, as soon as the an item is added there, we can query the <code>itemList</code> ?</p>\n"},{"tags":["java","android","billing"],"comments":[{"owner":{"account_id":12364609,"reputation":1247,"user_id":9017295,"display_name":"Torkel Velure"},"score":0,"creation_date":1634900719,"post_id":69669437,"comment_id":123157198,"body_markdown":"Are you doing the acknowledgement inside `onBillingSetupFinished` of  `billingClient.startConnection` ?","body":"Are you doing the acknowledgement inside <code>onBillingSetupFinished</code> of  <code>billingClient.startConnection</code> ?"},{"owner":{"account_id":16939065,"reputation":61,"user_id":12251373,"display_name":"Jaime Oliv&#233;"},"score":0,"creation_date":1634902908,"post_id":69669437,"comment_id":123158000,"body_markdown":"I am calling it in `onBillingSetupFinished`, which is inside `billingClient.startConnection` @TorkelVelure","body":"I am calling it in <code>onBillingSetupFinished</code>, which is inside <code>billingClient.startConnection</code> @TorkelVelure"},{"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"score":0,"creation_date":1637659516,"post_id":69669437,"comment_id":123879180,"body_markdown":"Great question. Have the same issue. Although, with the same code, half the time I get error 5, the other half is a success. Where&#39;s the developer error in that?","body":"Great question. Have the same issue. Although, with the same code, half the time I get error 5, the other half is a success. Where&#39;s the developer error in that?"}],"owner":{"account_id":16939065,"reputation":61,"user_id":12251373,"display_name":"Jaime Oliv&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634855239,"creation_date":1634855239,"question_id":69669437,"body_markdown":"I am using the standard flow provided by the google developer guides, as referred to here:\r\nhttps://developer.android.com/google/play/billing/integrate?hl=es-419#process\r\n\r\nI tried to get just a tiny bit deeper than it states in the acknowledge logic, waiting for the acknowledgement to be completed and successfull by using this code:\r\n\r\n    AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n        billingClient.acknowledgePurchase(\r\n                        acknowledgePurchaseParams,\r\n                        new AcknowledgePurchaseResponseListener() {\r\n                            @Override\r\n                    public void onAcknowledgePurchaseResponse(@NonNull BillingResult billingResult) {\r\n                                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Consumed!&quot;, Toast.LENGTH_LONG).show();\r\n                                }\r\n                            }\r\n                        }\r\n                        );\r\n\r\nI tried to run it but it doesn&#39;t work. Finally, by debugging, I found out that responseCode is returning a 5, which means &quot;DEVELOPER ERROR&quot;, instead of a 0 (&quot;OK&quot;).\r\n\r\nAny ideas??","title":"Acknowledge purchase returns developer error &quot;5&quot; android studio","body":"<p>I am using the standard flow provided by the google developer guides, as referred to here:\n<a href=\"https://developer.android.com/google/play/billing/integrate?hl=es-419#process\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/integrate?hl=es-419#process</a></p>\n<p>I tried to get just a tiny bit deeper than it states in the acknowledge logic, waiting for the acknowledgement to be completed and successfull by using this code:</p>\n<pre><code>AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n    billingClient.acknowledgePurchase(\n                    acknowledgePurchaseParams,\n                    new AcknowledgePurchaseResponseListener() {\n                        @Override\n                public void onAcknowledgePurchaseResponse(@NonNull BillingResult billingResult) {\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                Toast.makeText(MainActivity.this, &quot;Consumed!&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        }\n                    }\n                    );\n</code></pre>\n<p>I tried to run it but it doesn't work. Finally, by debugging, I found out that responseCode is returning a 5, which means &quot;DEVELOPER ERROR&quot;, instead of a 0 (&quot;OK&quot;).</p>\n<p>Any ideas??</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":2911711,"reputation":1253,"user_id":2495752,"accept_rate":47,"display_name":"Sourabh"},"score":0,"creation_date":1404132670,"post_id":24489242,"comment_id":37910716,"body_markdown":"@StackOverflow community : Please contribute.","body":"@StackOverflow community : Please contribute."}],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1404133907,"creation_date":1404132813,"answer_id":24490613,"question_id":24489242,"body_markdown":"JAXB (JSR-222) implementations support `java.util.Date` and `java.util.Calendar` by default so you will not require an `XmlAdapter` for them.  Classes like `java.sql.Date`, `java.sql.Time`, and `java.sql.Timestamp` will require an `XmlAdapter`.  I would recommend separate adapters instead of trying to combine them into one.\r\n\r\n**Note**\r\n\r\nAn `XmlAdapter` can be specified at the package level.  When doe this way it applies to all mapped fields/properties on that type belonging to domain classes in that package.  This can greatly reduce the amount of times you need to specify `@XmlJavaTypeAdapter`.  You can read more about this approach on my blog.\r\n\r\n  - http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html\r\n\r\n---\r\n\r\n## UPDATE\r\n\r\n    There are two properties named &quot;publishDate&quot; \r\n        this problem is related to the following location:\r\n            at public java.sql.Timestamp Book.getPublishDate()\r\n            at Book\r\n        this problem is related to the following location:\r\n            at private java.sql.Timestamp Book.publishDate\r\n            at Book\r\n\r\nBy default JAXB treats public properties (get/set method pairs) and annotated fields as mapped.  This is what&#39;s causing this part of the exception.  You need to do one of the following:\r\n\r\n  1.  Annotate the get method instead of the field.\r\n  2.  Keep the annotation on the field and specify `@XmlAccessorType(XmlAccessType.FIELD)` on your class.\r\n\r\nI have written more about this on my blog:\r\n\r\n  - http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html","title":"Creating adapter for Timestamp for JAXB conversion","body":"<p>JAXB (JSR-222) implementations support <code>java.util.Date</code> and <code>java.util.Calendar</code> by default so you will not require an <code>XmlAdapter</code> for them.  Classes like <code>java.sql.Date</code>, <code>java.sql.Time</code>, and <code>java.sql.Timestamp</code> will require an <code>XmlAdapter</code>.  I would recommend separate adapters instead of trying to combine them into one.</p>\n\n<p><strong>Note</strong></p>\n\n<p>An <code>XmlAdapter</code> can be specified at the package level.  When doe this way it applies to all mapped fields/properties on that type belonging to domain classes in that package.  This can greatly reduce the amount of times you need to specify <code>@XmlJavaTypeAdapter</code>.  You can read more about this approach on my blog.</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html\" rel=\"nofollow\">http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html</a></li>\n</ul>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<pre><code>There are two properties named \"publishDate\" \n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\n</code></pre>\n\n<p>By default JAXB treats public properties (get/set method pairs) and annotated fields as mapped.  This is what's causing this part of the exception.  You need to do one of the following:</p>\n\n<ol>\n<li>Annotate the get method instead of the field.</li>\n<li>Keep the annotation on the field and specify <code>@XmlAccessorType(XmlAccessType.FIELD)</code> on your class.</li>\n</ol>\n\n<p>I have written more about this on my blog:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\" rel=\"nofollow\">http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user11116209"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634854788,"creation_date":1634854788,"answer_id":69669370,"question_id":24489242,"body_markdown":"\r\n        import java.sql.Timestamp;\r\n        import java.time.LocalDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n    \r\n        import javax.xml.bind.annotation.adapters.XmlAdapter;\r\n    \r\n        public class TimestampAdapter extends XmlAdapter&lt;String, Timestamp&gt; {\r\n    \t\r\n    \tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;);\r\n    \r\n    \t@Override\r\n    \t public Timestamp unmarshal(String value) throws Exception {\r\n    \t\treturn Timestamp.valueOf(LocalDateTime.parse(value, formatter));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String marshal(Timestamp timestamp) throws Exception {\r\n    \t\treturn timestamp.toLocalDateTime().format(formatter);\r\n    \t}\r\n    }","title":"Creating adapter for Timestamp for JAXB conversion","body":"<pre><code>    import java.sql.Timestamp;\n    import java.time.LocalDateTime;\n    import java.time.format.DateTimeFormatter;\n\n    import javax.xml.bind.annotation.adapters.XmlAdapter;\n\n    public class TimestampAdapter extends XmlAdapter&lt;String, Timestamp&gt; {\n    \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;);\n\n    @Override\n     public Timestamp unmarshal(String value) throws Exception {\n        return Timestamp.valueOf(LocalDateTime.parse(value, formatter));\n    }\n\n    @Override\n    public String marshal(Timestamp timestamp) throws Exception {\n        return timestamp.toLocalDateTime().format(formatter);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2911711,"reputation":1253,"user_id":2495752,"accept_rate":47,"display_name":"Sourabh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24490613,"answer_count":2,"score":2,"last_activity_date":1634854788,"creation_date":1404128199,"question_id":24489242,"body_markdown":"I am currently trying the JAXB library for XML to POJO conversion. I have a class which as follows :\r\n\r\n    class Student {\r\n    \r\n     String name;\r\n     Integer id;\r\n     Date dateOfBirth;\r\n     @XmlJavaTypeAdapter(TimeDateAdapter.class)\r\n     Timestamp admitTime;\r\n    \r\n     //constructor and getter setters\r\n    \r\n    }\r\n\r\nNow I want to input these fields via XML. So I reproduce xml something like :\r\n\r\n      &lt;student&gt;\r\n        &lt;name&gt;Student 1&lt;/name&gt;\r\n        &lt;id&gt;123&lt;/id&gt;\r\n        &lt;dob&gt;29-02-1991&lt;/dob&gt;\r\n        &lt;admitTime&gt;231441321413&lt;/admitTime&gt;\r\n      &lt;/student&gt;\r\n\r\nSo, as you might know it will throw an error saying it cannot convert Timestamp since there is no no-arg constructor in Timestamp class. So I will have to create an Adapter. So, I was wondering if there is a way of creating a generic adapter for Date, timestamp and maybe Calendar as well so that they can be unmarshalled and marshalled according to the implementation?\r\n\r\nEDIT: I created an Adapter for marshalling and unmarshalling my java.sql.Timestamp object from and to xml. Here is the code :\r\n\r\nimport java.sql.Timestamp;\r\n\r\nimport javax.xml.bind.annotation.adapters.XmlAdapter;\r\n\r\n\r\n    public class TimeDateAdapter extends XmlAdapter&lt;String, Timestamp&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic String marshal(Timestamp v) throws Exception {\r\n    \t\treturn v.toString();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Timestamp unmarshal(String v) throws Exception {\r\n    \t\treturn new Timestamp(Long.parseLong(v));\r\n    \t}\r\n    \r\n    }\r\n\r\nIts giving me the following error : \r\n\r\n    Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 3 counts of IllegalAnnotationExceptions\r\n    There are two properties named &quot;publishDate&quot; \r\n    \tthis problem is related to the following location:\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    \tthis problem is related to the following location:\r\n    \t\tat private java.sql.Timestamp Book.publishDate\r\n    \t\tat Book\r\n    java.sql.Timestamp does not have a no-arg default constructor.\r\n    \tthis problem is related to the following location:\r\n    \t\tat java.sql.Timestamp\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    Class has two properties of the same name &quot;publishDate&quot;\r\n    \tthis problem is related to the following location:\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    \tthis problem is related to the following location:\r\n    \t\tat private java.sql.Timestamp Book.publishDate\r\n    \t\tat Book\r\n    \r\n    \tat com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:102)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:472)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:302)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1140)\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:154)\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:121)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:432)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\r\n    \tat BookMain.main(BookMain.java:42)\r\n\r\n","title":"Creating adapter for Timestamp for JAXB conversion","body":"<p>I am currently trying the JAXB library for XML to POJO conversion. I have a class which as follows :</p>\n\n<pre><code>class Student {\n\n String name;\n Integer id;\n Date dateOfBirth;\n @XmlJavaTypeAdapter(TimeDateAdapter.class)\n Timestamp admitTime;\n\n //constructor and getter setters\n\n}\n</code></pre>\n\n<p>Now I want to input these fields via XML. So I reproduce xml something like :</p>\n\n<pre><code>  &lt;student&gt;\n    &lt;name&gt;Student 1&lt;/name&gt;\n    &lt;id&gt;123&lt;/id&gt;\n    &lt;dob&gt;29-02-1991&lt;/dob&gt;\n    &lt;admitTime&gt;231441321413&lt;/admitTime&gt;\n  &lt;/student&gt;\n</code></pre>\n\n<p>So, as you might know it will throw an error saying it cannot convert Timestamp since there is no no-arg constructor in Timestamp class. So I will have to create an Adapter. So, I was wondering if there is a way of creating a generic adapter for Date, timestamp and maybe Calendar as well so that they can be unmarshalled and marshalled according to the implementation?</p>\n\n<p>EDIT: I created an Adapter for marshalling and unmarshalling my java.sql.Timestamp object from and to xml. Here is the code :</p>\n\n<p>import java.sql.Timestamp;</p>\n\n<p>import javax.xml.bind.annotation.adapters.XmlAdapter;</p>\n\n<pre><code>public class TimeDateAdapter extends XmlAdapter&lt;String, Timestamp&gt;{\n\n    @Override\n    public String marshal(Timestamp v) throws Exception {\n        return v.toString();\n    }\n\n    @Override\n    public Timestamp unmarshal(String v) throws Exception {\n        return new Timestamp(Long.parseLong(v));\n    }\n\n}\n</code></pre>\n\n<p>Its giving me the following error : </p>\n\n<pre><code>Exception in thread \"main\" com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 3 counts of IllegalAnnotationExceptions\nThere are two properties named \"publishDate\" \n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\njava.sql.Timestamp does not have a no-arg default constructor.\n    this problem is related to the following location:\n        at java.sql.Timestamp\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\nClass has two properties of the same name \"publishDate\"\n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\n\n    at com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:102)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:472)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:302)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1140)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:154)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:121)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:432)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\n    at BookMain.main(BookMain.java:42)\n</code></pre>\n"},{"tags":["java","java-stream","remove-if"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634849787,"post_id":69668659,"comment_id":123144849,"body_markdown":"Are methods `hashCode` / `equals` implemented properly in class `Car`?","body":"Are methods <code>hashCode</code> / <code>equals</code> implemented properly in class <code>Car</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1634849789,"post_id":69668659,"comment_id":123144851,"body_markdown":"`cars1.removeAll(cars2);`","body":"<code>cars1.removeAll(cars2);</code>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1634850020,"post_id":69668659,"comment_id":123144939,"body_markdown":"Why streams? `List.removeAll` and `List.removeIf` are way more suitable for the task.","body":"Why streams? <code>List.removeAll</code> and <code>List.removeIf</code> are way more suitable for the task."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1634853720,"creation_date":1634850982,"answer_id":69668885,"question_id":69668659,"body_markdown":"If methods `hashCode` and `equals` are properly implemented in class `Car`, the stream-based solutions may look as follows:\r\n* filter out the values, collect into a new list\r\n```java\r\n// Predicate.not added in Java 11\r\nList&lt;Car&gt; notJava11 = cars1.stream()\r\n                        .filter(Predicate.not(cars2::contains))\r\n                        .collect(Collectors.toList());\r\n\r\nList&lt;Car&gt; notIn2 = cars1.stream()\r\n                        .filter(car -&gt; !cars2.contains(car))\r\n                        .collect(Collectors.toList());\r\n\r\n```\r\n* Use `forEach` for `cars2` (affecting `cars1`):\r\n```java\r\ncars2.forEach(cars1::remove); \r\n// no need to call cars2.stream().forEach(cars1::remove);\r\n```\r\nHere the first occurrence of Car instance is removed in `cars1`\r\n* `removeIf` should work also\r\n```java\r\ncars1.removeIf(cars2::contains);\r\n```\r\n----\r\nIf you due to some reason `equals`/`hashCode` are not overridden in class `Car`, the following solution may be offered:\r\n```java\r\nList&lt;Car&gt; notIn2 = cars1\r\n        .stream()\r\n        .filter(c1 -&gt; cars2\r\n            .stream()\r\n            .noneMatch(c2 -&gt; \r\n                 c1.getId() == c2.getId()\r\n                 &amp;&amp; Objects.equals(c1.getName(), c2.getName())\r\n            )\r\n        )\r\n        .collect(Collectors.toList());\r\n```\r\n* `removeIf`:\r\n```java\r\ncars1.removeIf(c1 -&gt; cars2\r\n    .stream()\r\n    .anyMatch(c2 -&gt; c1.getId() == c2.getId() \r\n        &amp;&amp; Objects.equals(c1.getName(), c2.getName())\r\n    )\r\n);\r\n```","title":"Removing elements of one list if present in another list using stream","body":"<p>If methods <code>hashCode</code> and <code>equals</code> are properly implemented in class <code>Car</code>, the stream-based solutions may look as follows:</p>\n<ul>\n<li>filter out the values, collect into a new list</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// Predicate.not added in Java 11\nList&lt;Car&gt; notJava11 = cars1.stream()\n                        .filter(Predicate.not(cars2::contains))\n                        .collect(Collectors.toList());\n\nList&lt;Car&gt; notIn2 = cars1.stream()\n                        .filter(car -&gt; !cars2.contains(car))\n                        .collect(Collectors.toList());\n\n</code></pre>\n<ul>\n<li>Use <code>forEach</code> for <code>cars2</code> (affecting <code>cars1</code>):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars2.forEach(cars1::remove); \n// no need to call cars2.stream().forEach(cars1::remove);\n</code></pre>\n<p>Here the first occurrence of Car instance is removed in <code>cars1</code></p>\n<ul>\n<li><code>removeIf</code> should work also</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars1.removeIf(cars2::contains);\n</code></pre>\n<hr />\n<p>If you due to some reason <code>equals</code>/<code>hashCode</code> are not overridden in class <code>Car</code>, the following solution may be offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Car&gt; notIn2 = cars1\n        .stream()\n        .filter(c1 -&gt; cars2\n            .stream()\n            .noneMatch(c2 -&gt; \n                 c1.getId() == c2.getId()\n                 &amp;&amp; Objects.equals(c1.getName(), c2.getName())\n            )\n        )\n        .collect(Collectors.toList());\n</code></pre>\n<ul>\n<li><code>removeIf</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars1.removeIf(c1 -&gt; cars2\n    .stream()\n    .anyMatch(c2 -&gt; c1.getId() == c2.getId() \n        &amp;&amp; Objects.equals(c1.getName(), c2.getName())\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634852773,"creation_date":1634852773,"answer_id":69669125,"question_id":69668659,"body_markdown":"It can be done simply by using removeAll() method. You have to implement hashcode and equals in Car class. \r\nThen you can `cars1.removeAll(cars2);`. this statement would leave only c1 in cars1 list.","title":"Removing elements of one list if present in another list using stream","body":"<p>It can be done simply by using removeAll() method. You have to implement hashcode and equals in Car class.\nThen you can <code>cars1.removeAll(cars2);</code>. this statement would leave only c1 in cars1 list.</p>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5701,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69668885,"answer_count":2,"score":-1,"last_activity_date":1634854005,"creation_date":1634849514,"question_id":69668659,"body_markdown":"I didn&#39;t find any thread here on this Question. I am trying to Remove elements (Cars in my case) of one list (cars1) if present in another list (cars2) using java stream.\r\nI tried using removeIf but then it felt like it works more appropriately with List of Strings, etc. \r\n\r\n        Car c1 = new Car();\r\n        c1.id = 1;\r\n        c1.name = &quot;C1&quot;;\r\n\r\n        Car c2 = new Car();\r\n        c2.id = 2;\r\n        c2.name = &quot;C2&quot;;\r\n\r\n        List&lt;Car&gt; cars1 = new ArrayList&lt;Car&gt;();\r\n        cars1.add(c1);\r\n        cars1.add(c2);\r\n\r\n        List&lt;Car&gt; cars2 = new ArrayList&lt;Car&gt;();\r\n        cars2.add(c2);\r\n\r\n        // TODO : Remove all the cars from cars1 list that are in cars2 list using java streams\r\n    ","title":"Removing elements of one list if present in another list using stream","body":"<p>I didn't find any thread here on this Question. I am trying to Remove elements (Cars in my case) of one list (cars1) if present in another list (cars2) using java stream.\nI tried using removeIf but then it felt like it works more appropriately with List of Strings, etc.</p>\n<pre><code>    Car c1 = new Car();\n    c1.id = 1;\n    c1.name = &quot;C1&quot;;\n\n    Car c2 = new Car();\n    c2.id = 2;\n    c2.name = &quot;C2&quot;;\n\n    List&lt;Car&gt; cars1 = new ArrayList&lt;Car&gt;();\n    cars1.add(c1);\n    cars1.add(c2);\n\n    List&lt;Car&gt; cars2 = new ArrayList&lt;Car&gt;();\n    cars2.add(c2);\n\n    // TODO : Remove all the cars from cars1 list that are in cars2 list using java streams\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1633528287,"post_id":69466832,"comment_id":122783730,"body_markdown":"It&#39;s off-topic but the `OneJump Menu` will not work, the inventory that you open isn&#39;t the same as you edit. Also, I think some important code is missing to solve the issue, here it&#39;s clearly impossible to have this problem","body":"It&#39;s off-topic but the <code>OneJump Menu</code> will not work, the inventory that you open isn&#39;t the same as you edit. Also, I think some important code is missing to solve the issue, here it&#39;s clearly impossible to have this problem"},{"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"score":0,"creation_date":1633530513,"post_id":69466832,"comment_id":122784811,"body_markdown":"https://sourceb.in/OBKmC3xU3a\nhttps://sourceb.in/muZ43oOnpx\n\nFull code","body":"<a href=\"https://sourceb.in/OBKmC3xU3a\" rel=\"nofollow noreferrer\">sourceb.in/OBKmC3xU3a</a> <a href=\"https://sourceb.in/muZ43oOnpx\" rel=\"nofollow noreferrer\">sourceb.in/muZ43oOnpx</a>  Full code"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633609049,"creation_date":1633530897,"answer_id":69467738,"question_id":69466832,"body_markdown":"In your case, you are create ONE inventory, and using it for EVERYONE. So each time that the player open the inventory, it will open the &quot;shared&quot; inventory.\r\n\r\nYou are doing this:\r\n```java\r\nInventory inv = Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create one instance\r\n\r\npublic void show(Player p) {\r\n   p.openInventory(inv); // everyone open same inventory instance\r\n}\r\n```\r\nSo everything will using same instance.\r\n\r\nIn your first code example, that was better :\r\n```java\r\npublic Inventory createInventory() {\r\n   return Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create a new inventory\r\n}\r\n\r\npublic void showBasicJump(Player p) { // show an inventory to the given player\r\n   Inventory myInv = createInventory(); // create a new inv, for thi splayer\r\n   myInv.setItem(0, new ItemStack(Material.STICK); // set item\r\n   basicInventorySet1(player, myInv); // call your method that change all items\r\n   p.openInventory(myInv); // final inventory\r\n}\r\n\r\npublic void updateBasicJumpInv(InventoryClickEvent e, Player player) { // before this, you made all check about inv\r\n   Inventory openInv = e.getClickedInventory(); // get the current opened inv. Can also work with player.getOpenInventory()\r\n   basicInventorySet1(player, openInv);\r\n   p.updateInventory(); // update player inv\r\n}\r\n```\r\nThat will create a new instance each time that you will open a new inventory.","title":"Can I make the inventory to be updated when clicking the item in another GUI, individually?","body":"<p>In your case, you are create ONE inventory, and using it for EVERYONE. So each time that the player open the inventory, it will open the &quot;shared&quot; inventory.</p>\n<p>You are doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Inventory inv = Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create one instance\n\npublic void show(Player p) {\n   p.openInventory(inv); // everyone open same inventory instance\n}\n</code></pre>\n<p>So everything will using same instance.</p>\n<p>In your first code example, that was better :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Inventory createInventory() {\n   return Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create a new inventory\n}\n\npublic void showBasicJump(Player p) { // show an inventory to the given player\n   Inventory myInv = createInventory(); // create a new inv, for thi splayer\n   myInv.setItem(0, new ItemStack(Material.STICK); // set item\n   basicInventorySet1(player, myInv); // call your method that change all items\n   p.openInventory(myInv); // final inventory\n}\n\npublic void updateBasicJumpInv(InventoryClickEvent e, Player player) { // before this, you made all check about inv\n   Inventory openInv = e.getClickedInventory(); // get the current opened inv. Can also work with player.getOpenInventory()\n   basicInventorySet1(player, openInv);\n   p.updateInventory(); // update player inv\n}\n</code></pre>\n<p>That will create a new instance each time that you will open a new inventory.</p>\n"}],"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1737,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69467738,"answer_count":1,"score":-2,"last_activity_date":1634853602,"creation_date":1633527450,"question_id":69466832,"body_markdown":"I&#39;m making a GUI for my parkour server, but I have a problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n([YT link](https://youtu.be/BgBMzQ_9XHU), can expire)\r\n\r\nAs you can see, other player&#39;s GUI also updated when I click next page.\r\n\r\nI also tried set the owner of Inventory not to be null (so individually), but it just showed the mpty GUI.\r\n\r\nHow can I fix this? I searched a lot and tried lots of thing but couldn&#39;t find the answer.\r\n\r\n```java\r\n// the showed inventory\r\nInventory basicInv = Bukkit.createInventory(null, 54, &quot;Basic Jumps&quot;);\r\n\r\n@EventHandler\r\npublic void clickInv(InventoryClickEvent event) {\r\n\r\n    Player player = (Player) event.getWhoClicked();\r\n\r\n    if (event.getClickedInventory() == null) return;\r\n\r\n    if (event.getCurrentItem() == null) return;\r\n    if (event.getCurrentItem().getItemMeta() == null) return;\r\n    if (event.getCurrentItem().getItemMeta().getDisplayName() == null) return;\r\n\r\n    if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\r\n        event.setCancelled(true);\r\n    }\r\n\r\n    switch (event.getClickedInventory().getName()) {\r\n        case &quot;OneJump Menu&quot;:\r\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)\r\n                    &amp;&amp; event.getCurrentItem().getItemMeta().getLore().equals(Collections.singletonList(ChatColor.GRAY + &quot;Includes very historical and original jumps.&quot;))) {\r\n                player.openInventory(basicInv);\r\n                basicInventorySet1(player, basicInv);\r\n                event.setCancelled(true);\r\n\r\n                plugin.getPlayerConfig().set(&quot;Player.&quot; + player.getUniqueId() + &quot;.PlayingJumpType&quot;, &quot;basicjump&quot;);\r\n                plugin.savePlayerConfig();\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(DisplayName)\r\n                    || event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)) {\r\n                event.setCancelled(true);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\r\n                event.setCancelled(true);\r\n            } else {\r\n                event.setCancelled(true);\r\n                player.closeInventory();\r\n                sendMessage(player, &quot;&#167;cComing soon!&quot;, &quot;현재 개발 중입니다!&quot;);\r\n            }\r\n            break;\r\n        case &quot;Basic Jumps&quot;:\r\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg2Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet2(player, basicInv);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg1Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet1(player, basicInv);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg3Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet3(player, basicInv);\r\n            }\r\n            break;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFull source: [BasicInv.java](https://sourceb.in/OBKmC3xU3a) [OjMenu.java](https://sourceb.in/muZ43oOnpx)\r\n\r\n  [1]: https://i.stack.imgur.com/MBbGm.gif","title":"Can I make the inventory to be updated when clicking the item in another GUI, individually?","body":"<p>I'm making a GUI for my parkour server, but I have a problem:</p>\n<p><a href=\"https://i.stack.imgur.com/MBbGm.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MBbGm.gif\" alt=\"enter image description here\" /></a></p>\n<p>(<a href=\"https://youtu.be/BgBMzQ_9XHU\" rel=\"nofollow noreferrer\">YT link</a>, can expire)</p>\n<p>As you can see, other player's GUI also updated when I click next page.</p>\n<p>I also tried set the owner of Inventory not to be null (so individually), but it just showed the mpty GUI.</p>\n<p>How can I fix this? I searched a lot and tried lots of thing but couldn't find the answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the showed inventory\nInventory basicInv = Bukkit.createInventory(null, 54, &quot;Basic Jumps&quot;);\n\n@EventHandler\npublic void clickInv(InventoryClickEvent event) {\n\n    Player player = (Player) event.getWhoClicked();\n\n    if (event.getClickedInventory() == null) return;\n\n    if (event.getCurrentItem() == null) return;\n    if (event.getCurrentItem().getItemMeta() == null) return;\n    if (event.getCurrentItem().getItemMeta().getDisplayName() == null) return;\n\n    if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\n        event.setCancelled(true);\n    }\n\n    switch (event.getClickedInventory().getName()) {\n        case &quot;OneJump Menu&quot;:\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)\n                    &amp;&amp; event.getCurrentItem().getItemMeta().getLore().equals(Collections.singletonList(ChatColor.GRAY + &quot;Includes very historical and original jumps.&quot;))) {\n                player.openInventory(basicInv);\n                basicInventorySet1(player, basicInv);\n                event.setCancelled(true);\n\n                plugin.getPlayerConfig().set(&quot;Player.&quot; + player.getUniqueId() + &quot;.PlayingJumpType&quot;, &quot;basicjump&quot;);\n                plugin.savePlayerConfig();\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(DisplayName)\n                    || event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)) {\n                event.setCancelled(true);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\n                event.setCancelled(true);\n            } else {\n                event.setCancelled(true);\n                player.closeInventory();\n                sendMessage(player, &quot;§cComing soon!&quot;, &quot;현재 개발 중입니다!&quot;);\n            }\n            break;\n        case &quot;Basic Jumps&quot;:\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg2Name)) {\n                event.setCancelled(true);\n                basicInventorySet2(player, basicInv);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg1Name)) {\n                event.setCancelled(true);\n                basicInventorySet1(player, basicInv);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg3Name)) {\n                event.setCancelled(true);\n                basicInventorySet3(player, basicInv);\n            }\n            break;\n    }\n\n}\n</code></pre>\n<p>Full source: <a href=\"https://sourceb.in/OBKmC3xU3a\" rel=\"nofollow noreferrer\">BasicInv.java</a> <a href=\"https://sourceb.in/muZ43oOnpx\" rel=\"nofollow noreferrer\">OjMenu.java</a></p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634853317,"creation_date":1634853010,"question_id":69669153,"body_markdown":" I&#39;m using `ScrollableResults` in Hibernate and iterating through millions of records. It&#39;s taking quite a bit of time, so I did some profiling with YourKit to try and figure out how we can make this iteration faster. I expected the time to be mostly spent in either fetching from Oracle, or hydrating objects... but to my surprise, it seems to be spending a large chunk of time calling `System.identityHashCode`.\r\n\r\nPertinent part of the profile:\r\n\r\n[![ScrollableResults.next() Profile][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yPK5B.png\r\n\r\nThere are 3 major things that seem to be taking time here:\r\n\r\n1. `T4CPreparedStatement.fetch` - This is fetching from Oracle, about 13% of the time spent.\r\n2. `AbstractEntityPersister.hydrate` - This is creating the objects from the `ResultSet`. Quite large, but I think I can mitigate a lot of this via other means. About 29% of the time.\r\n3. `EntityEntryContext.addEntityEntry` - This is where I have no clue how to improve because it&#39;s all spent in `System.identityHashCode`. It&#39;s 58% of the execution time.\r\n\r\nI will note that this is quite an old version of Hibernate: 4.3.11, along with the elder JDK 8.\r\n\r\nMy `ScrollableResults` are being created this way:\r\n\r\n    CriteriaQuery query = ...;\r\n    ScrollableResults results = entityManager.createQuery(query)\r\n        .unwrap(Query.class)\r\n        .setReadOnly(true)\r\n        .setFetchSize(20000)\r\n        .setCacheable(false)\r\n        .scroll(ScrollMode.FORWARD_ONLY);\r\n\r\nSo, a couple questions:\r\n\r\n- Is there a way to avoid `StatefulPersistenceContext.addEntity` at all? We&#39;re not modifying any of these entities being returned, it&#39;s purely read-only, so I&#39;m not sure why we need a persistent context... though I admit, my knowledge of the internals of Hibernate is severely lacking.\r\n- Is there a way to speed up `System.identityHashCode`? The object has a lot of properties, mostly Strings and floats, but there are two `LocalDate` properties as well. Part of improving the object hydration will be changing from `LocalDate` to `Integer`... would that help? Unfortunately, YourKit isn&#39;t allowing me to drill further there (probably because it&#39;s a `native` method), so I&#39;ve no idea.\r\n\r\nAny insight is much appreciated!\r\n","title":"Hibernate loader spending a lot of time in System.identityHashCode","body":"<p>I'm using <code>ScrollableResults</code> in Hibernate and iterating through millions of records. It's taking quite a bit of time, so I did some profiling with YourKit to try and figure out how we can make this iteration faster. I expected the time to be mostly spent in either fetching from Oracle, or hydrating objects... but to my surprise, it seems to be spending a large chunk of time calling <code>System.identityHashCode</code>.</p>\n<p>Pertinent part of the profile:</p>\n<p><a href=\"https://i.stack.imgur.com/yPK5B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPK5B.png\" alt=\"ScrollableResults.next() Profile\" /></a></p>\n<p>There are 3 major things that seem to be taking time here:</p>\n<ol>\n<li><code>T4CPreparedStatement.fetch</code> - This is fetching from Oracle, about 13% of the time spent.</li>\n<li><code>AbstractEntityPersister.hydrate</code> - This is creating the objects from the <code>ResultSet</code>. Quite large, but I think I can mitigate a lot of this via other means. About 29% of the time.</li>\n<li><code>EntityEntryContext.addEntityEntry</code> - This is where I have no clue how to improve because it's all spent in <code>System.identityHashCode</code>. It's 58% of the execution time.</li>\n</ol>\n<p>I will note that this is quite an old version of Hibernate: 4.3.11, along with the elder JDK 8.</p>\n<p>My <code>ScrollableResults</code> are being created this way:</p>\n<pre><code>CriteriaQuery query = ...;\nScrollableResults results = entityManager.createQuery(query)\n    .unwrap(Query.class)\n    .setReadOnly(true)\n    .setFetchSize(20000)\n    .setCacheable(false)\n    .scroll(ScrollMode.FORWARD_ONLY);\n</code></pre>\n<p>So, a couple questions:</p>\n<ul>\n<li>Is there a way to avoid <code>StatefulPersistenceContext.addEntity</code> at all? We're not modifying any of these entities being returned, it's purely read-only, so I'm not sure why we need a persistent context... though I admit, my knowledge of the internals of Hibernate is severely lacking.</li>\n<li>Is there a way to speed up <code>System.identityHashCode</code>? The object has a lot of properties, mostly Strings and floats, but there are two <code>LocalDate</code> properties as well. Part of improving the object hydration will be changing from <code>LocalDate</code> to <code>Integer</code>... would that help? Unfortunately, YourKit isn't allowing me to drill further there (probably because it's a <code>native</code> method), so I've no idea.</li>\n</ul>\n<p>Any insight is much appreciated!</p>\n"},{"tags":["java","caching","chronicle-map","hft"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1634817437,"post_id":69659871,"comment_id":123131420,"body_markdown":"You are addressing multiple problems in your question. Stackoverflow isn&#39;t meant for programming support and debugging. Also your actual problem cannot be reproduces, since code is missing how the map is actually used. I suggest extracting a questions or multiple questions that fit the stack overflow format. E.g. start with the problem of contention.","body":"You are addressing multiple problems in your question. Stackoverflow isn&#39;t meant for programming support and debugging. Also your actual problem cannot be reproduces, since code is missing how the map is actually used. I suggest extracting a questions or multiple questions that fit the stack overflow format. E.g. start with the problem of contention."},{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1634904540,"post_id":69659871,"comment_id":123158699,"body_markdown":"@cruftex I&#39;m not looking for programming support. Just want to understand whether the Chronicle map supports multiple instances within the same JVM, why it is behaving slow when the number of entries in the map increase and why it is throwing the size exception when the constantValueBySample is known to be a double[3][2]","body":"@cruftex I&#39;m not looking for programming support. Just want to understand whether the Chronicle map supports multiple instances within the same JVM, why it is behaving slow when the number of entries in the map increase and why it is throwing the size exception when the constantValueBySample is known to be a double[3][2]"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634853050,"creation_date":1634810471,"question_id":69659871,"body_markdown":"I&#39;m creating multiple chronicle maps just to avoid contention between threads. I have 10 threads that need something from the cache. With a single cache I observed continuously increasing putAll() [putting 2016 double[3][2] arrays) with each putAll] times (up to 2.6 seconds). So I put in 10 caches avoiding contention by making keys in a cache never collide with another thread. The GC pauses came out to be as long as 45 seconds compared to ~ 50 ms with a single chronicle map.\r\n\r\n```\r\n  private final ChronicleMap&lt;CharSequence, double[][]&gt;[] cache = new ChronicleMap[totalCaches];\r\n\r\n    for (int i = 0; i &lt; totalCaches; i++) {\r\n      try {\r\n        cache[i] =\r\n            ChronicleMap.of(CharSequence.class, double[][].class)\r\n                .entriesPerSegment(1000000)\r\n                .averageKeySize(44.0)\r\n                .averageValueSize(119.0)\r\n                .entries(40320000)\r\n                .maxBloatFactor(10.0)\r\n                .name(CACHE_NAME.concat(String.valueOf(i)))\r\n                .putReturnsNull(true)\r\n                .createOrRecoverPersistedTo(\r\n                    new File(\r\n                        &quot;/var/opt/cache/&quot;\r\n                            .concat(CACHE_NAME)\r\n                            .concat(String.valueOf(i))\r\n                            .concat(&quot;.dat&quot;)));\r\n      } catch (final IOException e) {\r\n        LOGGER.error(&quot;GA cache init error&quot;, e);\r\n      }\r\n    }\r\n```\r\n\r\nAnother problem is that I tried specifying constantValueBySample with a double[][] object and it threw exception stating value size should be 119 which doesn&#39;t make sense.\r\n\r\n```\r\n    double[][] sample = new double[][]{{Math.random(), Math.random()},\r\n                                       {Math.random(), Math.random()},\r\n                                       {Math.random(), Math.random()}}; \r\n    for (int i = 0; i &lt; totalCaches; i++) {\r\n      try {\r\n        cache[i] =\r\n            ChronicleMap.of(CharSequence.class, double[][].class)\r\n                .entriesPerSegment(1000000)\r\n                .averageKeySize(44.0)\r\n                .constantValueSizeBySample(sample)\r\n                .entries(40320000)\r\n                .maxBloatFactor(10.0)\r\n                .name(CACHE_NAME.concat(String.valueOf(i)))\r\n                .putReturnsNull(true)\r\n                .createOrRecoverPersistedTo(\r\n                    new File(\r\n                        &quot;/var/opt/cache/&quot;\r\n                            .concat(CACHE_NAME)\r\n                            .concat(String.valueOf(i))\r\n                            .concat(&quot;.dat&quot;)));\r\n      } catch (final IOException e) {\r\n        LOGGER.error(&quot;GA cache init error&quot;, e);\r\n      }\r\n    }\r\n```\r\n","title":"Multiple chronicle maps in same application causing long GC pauses","body":"<p>I'm creating multiple chronicle maps just to avoid contention between threads. I have 10 threads that need something from the cache. With a single cache I observed continuously increasing putAll() [putting 2016 double[3][2] arrays) with each putAll] times (up to 2.6 seconds). So I put in 10 caches avoiding contention by making keys in a cache never collide with another thread. The GC pauses came out to be as long as 45 seconds compared to ~ 50 ms with a single chronicle map.</p>\n<pre><code>  private final ChronicleMap&lt;CharSequence, double[][]&gt;[] cache = new ChronicleMap[totalCaches];\n\n    for (int i = 0; i &lt; totalCaches; i++) {\n      try {\n        cache[i] =\n            ChronicleMap.of(CharSequence.class, double[][].class)\n                .entriesPerSegment(1000000)\n                .averageKeySize(44.0)\n                .averageValueSize(119.0)\n                .entries(40320000)\n                .maxBloatFactor(10.0)\n                .name(CACHE_NAME.concat(String.valueOf(i)))\n                .putReturnsNull(true)\n                .createOrRecoverPersistedTo(\n                    new File(\n                        &quot;/var/opt/cache/&quot;\n                            .concat(CACHE_NAME)\n                            .concat(String.valueOf(i))\n                            .concat(&quot;.dat&quot;)));\n      } catch (final IOException e) {\n        LOGGER.error(&quot;GA cache init error&quot;, e);\n      }\n    }\n</code></pre>\n<p>Another problem is that I tried specifying constantValueBySample with a double[][] object and it threw exception stating value size should be 119 which doesn't make sense.</p>\n<pre><code>    double[][] sample = new double[][]{{Math.random(), Math.random()},\n                                       {Math.random(), Math.random()},\n                                       {Math.random(), Math.random()}}; \n    for (int i = 0; i &lt; totalCaches; i++) {\n      try {\n        cache[i] =\n            ChronicleMap.of(CharSequence.class, double[][].class)\n                .entriesPerSegment(1000000)\n                .averageKeySize(44.0)\n                .constantValueSizeBySample(sample)\n                .entries(40320000)\n                .maxBloatFactor(10.0)\n                .name(CACHE_NAME.concat(String.valueOf(i)))\n                .putReturnsNull(true)\n                .createOrRecoverPersistedTo(\n                    new File(\n                        &quot;/var/opt/cache/&quot;\n                            .concat(CACHE_NAME)\n                            .concat(String.valueOf(i))\n                            .concat(&quot;.dat&quot;)));\n      } catch (final IOException e) {\n        LOGGER.error(&quot;GA cache init error&quot;, e);\n      }\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1634829411,"post_id":69664113,"comment_id":123137206,"body_markdown":"what do you mean by top 3 ? and you wanna get for specific item ? or for all items ?, can you show expected output ?","body":"what do you mean by top 3 ? and you wanna get for specific item ? or for all items ?, can you show expected output ?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1634829512,"post_id":69664113,"comment_id":123137247,"body_markdown":"Is this a school assignment that requires use of a `Stream`? It can certainly be done, but for large datasets, using a heap is more efficient and probably more readable than the approach I have in mind for a stream.","body":"Is this a school assignment that requires use of a <code>Stream</code>? It can certainly be done, but for large datasets, using a heap is more efficient and probably more readable than the approach I have in mind for a stream."},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1634829586,"post_id":69664113,"comment_id":123137276,"body_markdown":"@erickson Its not a school assignment - just a personal project and trying to better grasp how to effectively use streams.","body":"@erickson Its not a school assignment - just a personal project and trying to better grasp how to effectively use streams."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1634834345,"post_id":69664113,"comment_id":123139514,"body_markdown":"I am kind of confused by the code, that .stream().map seems like incomplete code and was intended to be a call to map() perhaps?","body":"I am kind of confused by the code, that .stream().map seems like incomplete code and was intended to be a call to map() perhaps?"},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1634834447,"post_id":69664113,"comment_id":123139559,"body_markdown":"@Gimby - that is where i am stuck. I am not sure how to process the Map object from the groupingBy","body":"@Gimby - that is where i am stuck. I am not sure how to process the Map object from the groupingBy"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1634890119,"post_id":69664113,"comment_id":123152860,"body_markdown":"Well... then you miscommunicated that pretty badly by putting the &quot;stuck here&quot; on the forEach.","body":"Well... then you miscommunicated that pretty badly by putting the &quot;stuck here&quot; on the forEach."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634852797,"creation_date":1634829858,"answer_id":69664696,"question_id":69664113,"body_markdown":"Well, you could take the following steps:\r\n\r\n* With `groupingBy(Shop::getItem)`, you could create a map which sorts by the item, so your result would be a `Map&lt;String, List&lt;Shop&gt;&gt;`, where the list contains all shops with that item.\r\n\r\n* Now we need to sort the `List&lt;Shop&gt;` in reversed order, so the top items of the list are the shops with the largest size. In order to do this, we could use `collectingAndThen` as *downstream collector* to `groupingBy`.\r\n\r\n    ```java\r\n    Collectors.collectingAndThen(Collectors.toList(), finisherFunction);\r\n    ```\r\n\r\n    Our *finisher function* should sort the list:\r\n\r\n    ```java\r\n    list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list;\r\n    }\r\n    ```\r\n\r\n    This would result in a `Map&lt;String, List&lt;Shop&gt;&gt;`, where the list is sorted, highest size first.\r\n\r\n* Now the only thing we need to do, is limiting the list size to 3. We could use `subList`. I think `subList` throws an exception if the list contains less than 3 items, so we need to use `Math.min(3, list.size())` to take this into account.\r\n\r\n    ```java\r\n    list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list.subList(0, Math.min(3, list.size()));\r\n    }\r\n    ```\r\n\r\nThe whole code then looks like this:\r\n\r\n```java\r\nshops.stream()\r\n    .collect(groupingBy(Shop::item, Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list.subList(0, Math.min(3, list.size()));\r\n    })));\r\n```\r\n\r\n[&lt;kbd&gt;Online demo&lt;/kbd&gt;][1]\r\n\r\n---\r\n\r\nInstead of &#39;manually&#39; sorting the list and limiting it to 3, you could create a small class which automatically does this — both limit and sort the list upon adding elements.\r\n\r\n[1]: https://ideone.com/qUl2BS","title":"find the largest 3 shops using java stream","body":"<p>Well, you could take the following steps:</p>\n<ul>\n<li><p>With <code>groupingBy(Shop::getItem)</code>, you could create a map which sorts by the item, so your result would be a <code>Map&lt;String, List&lt;Shop&gt;&gt;</code>, where the list contains all shops with that item.</p>\n</li>\n<li><p>Now we need to sort the <code>List&lt;Shop&gt;</code> in reversed order, so the top items of the list are the shops with the largest size. In order to do this, we could use <code>collectingAndThen</code> as <em>downstream collector</em> to <code>groupingBy</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collectors.collectingAndThen(Collectors.toList(), finisherFunction);\n</code></pre>\n<p>Our <em>finisher function</em> should sort the list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list -&gt; {\n    Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n    return list;\n}\n</code></pre>\n<p>This would result in a <code>Map&lt;String, List&lt;Shop&gt;&gt;</code>, where the list is sorted, highest size first.</p>\n</li>\n<li><p>Now the only thing we need to do, is limiting the list size to 3. We could use <code>subList</code>. I think <code>subList</code> throws an exception if the list contains less than 3 items, so we need to use <code>Math.min(3, list.size())</code> to take this into account.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list -&gt; {\n    Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n    return list.subList(0, Math.min(3, list.size()));\n}\n</code></pre>\n</li>\n</ul>\n<p>The whole code then looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shops.stream()\n    .collect(groupingBy(Shop::item, Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n        return list.subList(0, Math.min(3, list.size()));\n    })));\n</code></pre>\n<p><a href=\"https://ideone.com/qUl2BS\" rel=\"nofollow noreferrer\"><kbd>Online demo</kbd></a></p>\n<hr />\n<p>Instead of 'manually' sorting the list and limiting it to 3, you could create a small class which automatically does this — both limit and sort the list upon adding elements.</p>\n"},{"tags":[],"owner":{"account_id":4501201,"reputation":4375,"user_id":3659670,"display_name":"Conffusion"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634832783,"creation_date":1634832783,"answer_id":69665402,"question_id":69664113,"body_markdown":"Not as fancy as MC Emperor but it seems to work.\r\nI started from the part you already did:\r\n\r\n    shops.stream().collect(Collectors.groupingBy(Shop::getItem))\r\n\t\t\t.entrySet().stream().map(entry -&gt; {\r\n                entry.setValue(entry.getValue().stream()\r\n                  .sorted(Comparator.comparingInt(s-&gt;-s.size))\r\n                  .limit(3) // only keep top 3\r\n                  .collect(Collectors.toList()));\r\n\t\t\t    return entry;\r\n\t\t}).forEach(item -&gt; {\r\n\t\t\tSystem.out.println(item.getKey()+&quot;:&quot;+item.getValue());\r\n\t\t});","title":"find the largest 3 shops using java stream","body":"<p>Not as fancy as MC Emperor but it seems to work.\nI started from the part you already did:</p>\n<pre><code>shops.stream().collect(Collectors.groupingBy(Shop::getItem))\n        .entrySet().stream().map(entry -&gt; {\n            entry.setValue(entry.getValue().stream()\n              .sorted(Comparator.comparingInt(s-&gt;-s.size))\n              .limit(3) // only keep top 3\n              .collect(Collectors.toList()));\n            return entry;\n    }).forEach(item -&gt; {\n        System.out.println(item.getKey()+&quot;:&quot;+item.getValue());\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634842882,"creation_date":1634842882,"answer_id":69667454,"question_id":69664113,"body_markdown":"You can use `groupingBy` along with `limit` to get desired result:\r\n\r\n```java\r\nimport static java.util.stream.Collectors.*;\r\n\r\n// Define the sort logic. reversed() applies asc order (Default is desc)\r\nComparator&lt;Shop&gt; sortBySize = Comparator.comparingInt(Shop::getSize).reversed();\r\nint limit = 3; // top n items\r\n\r\nvar itemToTopNShopsMap = list.stream().collect(\r\n        collectingAndThen(groupingBy(Shop::getItem),\r\n                itemToShopsMap -&gt; getTopNShops(sortBySize, itemToShopsMap, limit)));\r\n\r\n\r\nstatic Map&lt;String, List&lt;Shop&gt;&gt; getTopNShops(Comparator&lt;Shop&gt; sortBy, Map&lt;String, List&lt;Shop&gt;&gt; inMap, int limit) {\r\n    var returningMap = new HashMap&lt;String, List&lt;Shop&gt;&gt;();\r\n    for (var i : inMap.entrySet()) {\r\n        returningMap.put(i.getKey(),  i.getValue().stream().sorted(sortBy).limit(Long.valueOf(limit)).collect(toList()));\r\n    }\r\n    return returningMap;\r\n}\r\n\r\n```\r\nWe took following steps:\r\n1) Group the List by &#39;item&#39;\r\n2) For each grouping, i.e., item to list of shops entry, we sort the list of shops by predefined sort logic and collect (`limit`) the top n results.\r\n\r\n**Note:** &lt;br&gt;\r\nIn static method `getTopNShops`, mutation of source map is avoided. We could have written this method as a stream, but the stream version may have been less readable than the `foreach` loop.\r\n","title":"find the largest 3 shops using java stream","body":"<p>You can use <code>groupingBy</code> along with <code>limit</code> to get desired result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.*;\n\n// Define the sort logic. reversed() applies asc order (Default is desc)\nComparator&lt;Shop&gt; sortBySize = Comparator.comparingInt(Shop::getSize).reversed();\nint limit = 3; // top n items\n\nvar itemToTopNShopsMap = list.stream().collect(\n        collectingAndThen(groupingBy(Shop::getItem),\n                itemToShopsMap -&gt; getTopNShops(sortBySize, itemToShopsMap, limit)));\n\n\nstatic Map&lt;String, List&lt;Shop&gt;&gt; getTopNShops(Comparator&lt;Shop&gt; sortBy, Map&lt;String, List&lt;Shop&gt;&gt; inMap, int limit) {\n    var returningMap = new HashMap&lt;String, List&lt;Shop&gt;&gt;();\n    for (var i : inMap.entrySet()) {\n        returningMap.put(i.getKey(),  i.getValue().stream().sorted(sortBy).limit(Long.valueOf(limit)).collect(toList()));\n    }\n    return returningMap;\n}\n\n</code></pre>\n<p>We took following steps:</p>\n<ol>\n<li>Group the List by 'item'</li>\n<li>For each grouping, i.e., item to list of shops entry, we sort the list of shops by predefined sort logic and collect (<code>limit</code>) the top n results.</li>\n</ol>\n<p><strong>Note:</strong> <br>\nIn static method <code>getTopNShops</code>, mutation of source map is avoided. We could have written this method as a stream, but the stream version may have been less readable than the <code>foreach</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634851332,"creation_date":1634847566,"answer_id":69668293,"question_id":69664113,"body_markdown":"The most important thing that you can learn about streams is that they aren&#39;t inherently &quot;better&quot; than equivalent approaches by any measure. Sometimes, they make code more readable, other times, less so. Use them to clarify your code, and avoid them when they obfuscate it.\r\n\r\nThis is a case where your code will be far more readable by using a collector for this purpose. Coding your own is fairly easy, and if you really want to understand streams better, I recommend it as a simple learning exercise.\r\n\r\nHere, I&#39;m using [`MoreCollectors.greatest()`][1] from the StreamEx library:\r\n\r\n```java\r\nComparator&lt;Shop&gt; bySize = Comparator.comparingInt(Shop::getSize);\r\nMap&lt;String, List&lt;Shop&gt;&gt; biggestByItem\r\n    = shops.stream().collect(groupingBy(Shop::getItem, greatest(bySize, 3)));\r\n```\r\n\r\nThis isn&#39;t better because it&#39;s shorter, or because it is faster and uses constant memory; it&#39;s better because complexity is factored out of the code, and hidden behind meaningful names that explain the behavior. Instead of littering your application with complex pipelines that need to be read, tested, and maintained independently, you have written (or referenced) a reusable collector with a clear behavior.\r\n\r\nAs I mentioned, there is a bit of a learning curve in understanding how the pieces of a `Collector` work together, but it&#39;s worth studying. Here&#39;s a possible implementation for a similar collector:\r\n\r\n```java\r\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\r\n    if (limit &lt; 1) throw new IndexOutOfBoundsException(limit);\r\n    Objects.requireNonNull(order);\r\n\r\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\r\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; collect(order, limit, q, e);\r\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\r\n        q2.forEach(e -&gt; collect(order, limit, q1, e));\r\n        return q1;\r\n    };\r\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q);\r\n        Collections.reverse(list);\r\n        return list;\r\n    };\r\n    return Collector.of(supplier, accumulator, combiner, finisher, Collector.Characteristics.UNORDERED);\r\n}\r\n\r\nprivate static &lt;T&gt; void collect(Comparator&lt;? super T&gt; order, int limit, Queue&lt;T&gt; q, T e) {\r\n    if (q.size() &lt; limit) {\r\n        q.add(e);\r\n    } else if (order.compare(e, q.peek()) &gt; 0) {\r\n        q.remove();\r\n        q.add(e);\r\n    }\r\n}\r\n```\r\n\r\nGiven this factory, it&#39;s trivial to create others that give you `bottom(3, bySize)`, etc.\r\n\r\nYou may be interested in this [related question][2] and its answers.\r\n\r\n\r\n  [1]: http://amaembo.github.io/streamex/javadoc/one/util/streamex/MoreCollectors.html#greatest(java.util.Comparator,int)\r\n  [2]: https://stackoverflow.com/q/31575043/3474","title":"find the largest 3 shops using java stream","body":"<p>The most important thing that you can learn about streams is that they aren't inherently &quot;better&quot; than equivalent approaches by any measure. Sometimes, they make code more readable, other times, less so. Use them to clarify your code, and avoid them when they obfuscate it.</p>\n<p>This is a case where your code will be far more readable by using a collector for this purpose. Coding your own is fairly easy, and if you really want to understand streams better, I recommend it as a simple learning exercise.</p>\n<p>Here, I'm using <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/MoreCollectors.html#greatest(java.util.Comparator,int)\" rel=\"nofollow noreferrer\"><code>MoreCollectors.greatest()</code></a> from the StreamEx library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Shop&gt; bySize = Comparator.comparingInt(Shop::getSize);\nMap&lt;String, List&lt;Shop&gt;&gt; biggestByItem\n    = shops.stream().collect(groupingBy(Shop::getItem, greatest(bySize, 3)));\n</code></pre>\n<p>This isn't better because it's shorter, or because it is faster and uses constant memory; it's better because complexity is factored out of the code, and hidden behind meaningful names that explain the behavior. Instead of littering your application with complex pipelines that need to be read, tested, and maintained independently, you have written (or referenced) a reusable collector with a clear behavior.</p>\n<p>As I mentioned, there is a bit of a learning curve in understanding how the pieces of a <code>Collector</code> work together, but it's worth studying. Here's a possible implementation for a similar collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\n    if (limit &lt; 1) throw new IndexOutOfBoundsException(limit);\n    Objects.requireNonNull(order);\n\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; collect(order, limit, q, e);\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\n        q2.forEach(e -&gt; collect(order, limit, q1, e));\n        return q1;\n    };\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q);\n        Collections.reverse(list);\n        return list;\n    };\n    return Collector.of(supplier, accumulator, combiner, finisher, Collector.Characteristics.UNORDERED);\n}\n\nprivate static &lt;T&gt; void collect(Comparator&lt;? super T&gt; order, int limit, Queue&lt;T&gt; q, T e) {\n    if (q.size() &lt; limit) {\n        q.add(e);\n    } else if (order.compare(e, q.peek()) &gt; 0) {\n        q.remove();\n        q.add(e);\n    }\n}\n</code></pre>\n<p>Given this factory, it's trivial to create others that give you <code>bottom(3, bySize)</code>, etc.</p>\n<p>You may be interested in this <a href=\"https://stackoverflow.com/q/31575043/3474\">related question</a> and its answers.</p>\n"}],"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668293,"answer_count":4,"score":0,"last_activity_date":1634852797,"creation_date":1634827672,"question_id":69664113,"body_markdown":"I have a list of shop objects that are grouped by the item they have.\r\n\r\n```\r\nclass Shop{\r\n  String shopName;\r\n  String item;\r\n  int size;\r\n...}\r\n```\r\nHow can I get a list of the 3 biggest shops (or n biggest shops) for each item?\r\nie. suppose I have \r\n```\r\nShop(&quot;Walmart&quot;, &quot;Hammer&quot;, 100);\r\nShop(&quot;Target&quot;, &quot;Scissor&quot;, 30);\r\nShop(&quot;Walgreens&quot;, &quot;Hammer&quot;, 300);\r\nShop(&quot;Glens&quot;, &quot;Hammer&quot;, 500);\r\nShop(&quot;Walmart&quot;, &quot;Scissor&quot;, 75);\r\nShop(&quot;Toms&quot;, &quot;Hammer&quot;, 150);\r\n```\r\nI want to return a list of the top 3 shops grouped by item. \r\nI grouped the items but i am not sure how to iterate through the given Map or entryset... \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class Shop {\r\n  int size;\r\n  String item;\r\n  String name;\r\n\r\n  public Shop(int size, String item, String name){\r\n    this.size = size;\r\n    this.item = item;\r\n    this.name = name;\r\n  }\r\n\r\n\r\n\r\n  //Return a list of the top 3 largest shops by item\r\n  public static void main(){\r\n\r\n\r\n    List&lt;Shop&gt; shops = new LinkedList&lt;Shop&gt;();\r\n\r\n\r\n    Comparator&lt;Shop&gt; shopComparator = new Comparator&lt;Shop&gt;(){\r\n      @Override\r\n      public int compare(Shop f1, Shop f2) {\r\n        return f1.getSize() &lt; f2.getSize() ? 1 : -1;\r\n      }\r\n    };\r\n\r\n    shops.stream().collect(groupingBy(Shop::getItem))\r\n            .entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; entry.getValue().stream().map )\r\n            .forEach(item -&gt; item.getValue())//Stuck here\r\n            ;\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"find the largest 3 shops using java stream","body":"<p>I have a list of shop objects that are grouped by the item they have.</p>\n<pre><code>class Shop{\n  String shopName;\n  String item;\n  int size;\n...}\n</code></pre>\n<p>How can I get a list of the 3 biggest shops (or n biggest shops) for each item?\nie. suppose I have</p>\n<pre><code>Shop(&quot;Walmart&quot;, &quot;Hammer&quot;, 100);\nShop(&quot;Target&quot;, &quot;Scissor&quot;, 30);\nShop(&quot;Walgreens&quot;, &quot;Hammer&quot;, 300);\nShop(&quot;Glens&quot;, &quot;Hammer&quot;, 500);\nShop(&quot;Walmart&quot;, &quot;Scissor&quot;, 75);\nShop(&quot;Toms&quot;, &quot;Hammer&quot;, 150);\n</code></pre>\n<p>I want to return a list of the top 3 shops grouped by item.\nI grouped the items but i am not sure how to iterate through the given Map or entryset...</p>\n<pre><code>public class Shop {\n  int size;\n  String item;\n  String name;\n\n  public Shop(int size, String item, String name){\n    this.size = size;\n    this.item = item;\n    this.name = name;\n  }\n\n\n\n  //Return a list of the top 3 largest shops by item\n  public static void main(){\n\n\n    List&lt;Shop&gt; shops = new LinkedList&lt;Shop&gt;();\n\n\n    Comparator&lt;Shop&gt; shopComparator = new Comparator&lt;Shop&gt;(){\n      @Override\n      public int compare(Shop f1, Shop f2) {\n        return f1.getSize() &lt; f2.getSize() ? 1 : -1;\n      }\n    };\n\n    shops.stream().collect(groupingBy(Shop::getItem))\n            .entrySet()\n            .stream()\n            .filter(entry -&gt; entry.getValue().stream().map )\n            .forEach(item -&gt; item.getValue())//Stuck here\n            ;\n  }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","excel"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1500897906,"post_id":45278414,"comment_id":77522504,"body_markdown":"Any questions ?","body":"Any questions ?"},{"owner":{"account_id":8109593,"reputation":1,"user_id":6110150,"display_name":"Pratik Sonigra"},"score":0,"creation_date":1500898536,"post_id":45278414,"comment_id":77522978,"body_markdown":"It works fine but I want to choose file dynamically instead of putting it into assets folder.","body":"It works fine but I want to choose file dynamically instead of putting it into assets folder."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1500906156,"post_id":45278414,"comment_id":77528472,"body_markdown":"But wat is the problem? Just open a (File)InputStream as you do now.","body":"But wat is the problem? Just open a (File)InputStream as you do now."}],"answers":[{"tags":[],"owner":{"account_id":1360550,"reputation":700,"user_id":1298014,"display_name":"Ashray P. Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500908626,"creation_date":1500908626,"answer_id":45283993,"question_id":45278414,"body_markdown":"As far as I understand your problem you want to pick the file dynamically from phone internal storage.\r\n\r\nThen you need a file explorer in your app to allow user to browse and select the file.\r\n\r\nPlease refer : https://github.com/vaal12/AndroidFileBrowser\r\n\r\nHope this helps.","title":"How to read excel file from external storage in android?","body":"<p>As far as I understand your problem you want to pick the file dynamically from phone internal storage.</p>\n\n<p>Then you need a file explorer in your app to allow user to browse and select the file.</p>\n\n<p>Please refer : <a href=\"https://github.com/vaal12/AndroidFileBrowser\" rel=\"nofollow noreferrer\">https://github.com/vaal12/AndroidFileBrowser</a></p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8109593,"reputation":1,"user_id":6110150,"display_name":"Pratik Sonigra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1365,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634852765,"creation_date":1500892743,"question_id":45278414,"body_markdown":"I wrote a code that will generate graph from excel file(.xls) which would work perfectly but I have to put file in assets folder . Now I want to access file from external storage .\r\n\r\nXML Code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.pratiksonigra.graphexcel.MainActivity&quot;&gt;\r\n\r\n    &lt;com.jjoe64.graphview.GraphView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:paddingRight=&quot;20dp&quot;\r\n        android:paddingLeft=&quot;20dp&quot;\r\n        android:id=&quot;@+id/graph1&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Refresh&quot;\r\n        android:layout_below=&quot;@+id/graph1&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;10dp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\nJAVA Code:\r\n\r\n    package com.example.pratiksonigra.graphexcel;\r\n    import android.content.res.AssetManager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import com.jjoe64.graphview.GraphView;\r\n    import com.jjoe64.graphview.series.BarGraphSeries;\r\n    import com.jjoe64.graphview.series.DataPoint; \r\n    import com.jjoe64.graphview.series.LineGraphSeries;\r\n    import java.io.InputStream;\r\n    import jxl.Cell;\r\n    import jxl.Sheet;\r\n    import jxl.Workbook;\r\n    public class MainActivity extends AppCompatActivity {\r\n    LineGraphSeries&lt;DataPoint&gt; series;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        Button btn = (Button) findViewById(R.id.button);\r\n        final GraphView graph = (GraphView) findViewById(R.id.graph1);\r\n        graph.getViewport().setXAxisBoundsManual(true);\r\n        graph.getViewport().setYAxisBoundsManual(true);\r\n        graph.getViewport().setMinX(0);\r\n        graph.getViewport().setMaxX(10);\r\n        graph.getViewport().setMaxY(40);\r\n        graph.getViewport().setMinY(0);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    graph.removeAllSeries();\r\n                    AssetManager am = getAssets();\r\n                    InputStream is = am.open(&quot;book.xls&quot;);\r\n                    Workbook wb = Workbook.getWorkbook(is);\r\n                    Sheet s = wb.getSheet(0);\r\n                    Cell z = s.getCell(0, 0);\r\n                    int row = s.getRows();\r\n                    int col = s.getColumns();\r\n                    double x, y;\r\n                    x = 0.0;\r\n                    y = 0.0;\r\n\r\n                    series = new LineGraphSeries&lt;DataPoint&gt;();\r\n\r\n                    for (int i = 0; i &lt; row; i++) {\r\n                        for (int j = 0; j &lt; col; j++) {\r\n                            z = s.getCell(j, i);\r\n                            if (j % 2 == 0) {\r\n                                x = Double.parseDouble(z.getContents());\r\n                            } else {\r\n                                y = Double.parseDouble(z.getContents());\r\n                            }\r\n                        }\r\n                        series.appendData(new DataPoint(x, y), true, 15);\r\n                    }\r\n                    graph.addSeries(series);\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public boolean onSupportNavigateUp() {\r\n        finish();\r\n        return true;\r\n    }\r\n}\r\n","title":"How to read excel file from external storage in android?","body":"<p>I wrote a code that will generate graph from excel file(.xls) which would work perfectly but I have to put file in assets folder . Now I want to access file from external storage .</p>\n\n<p>XML Code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.pratiksonigra.graphexcel.MainActivity\"&gt;\n\n&lt;com.jjoe64.graphview.GraphView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"350dp\"\n    android:paddingRight=\"20dp\"\n    android:paddingLeft=\"20dp\"\n    android:id=\"@+id/graph1\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Refresh\"\n    android:layout_below=\"@+id/graph1\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"10dp\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>JAVA Code:</p>\n\n<pre><code>package com.example.pratiksonigra.graphexcel;\nimport android.content.res.AssetManager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport com.jjoe64.graphview.GraphView;\nimport com.jjoe64.graphview.series.BarGraphSeries;\nimport com.jjoe64.graphview.series.DataPoint; \nimport com.jjoe64.graphview.series.LineGraphSeries;\nimport java.io.InputStream;\nimport jxl.Cell;\nimport jxl.Sheet;\nimport jxl.Workbook;\npublic class MainActivity extends AppCompatActivity {\nLineGraphSeries&lt;DataPoint&gt; series;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    Button btn = (Button) findViewById(R.id.button);\n    final GraphView graph = (GraphView) findViewById(R.id.graph1);\n    graph.getViewport().setXAxisBoundsManual(true);\n    graph.getViewport().setYAxisBoundsManual(true);\n    graph.getViewport().setMinX(0);\n    graph.getViewport().setMaxX(10);\n    graph.getViewport().setMaxY(40);\n    graph.getViewport().setMinY(0);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            try {\n                graph.removeAllSeries();\n                AssetManager am = getAssets();\n                InputStream is = am.open(\"book.xls\");\n                Workbook wb = Workbook.getWorkbook(is);\n                Sheet s = wb.getSheet(0);\n                Cell z = s.getCell(0, 0);\n                int row = s.getRows();\n                int col = s.getColumns();\n                double x, y;\n                x = 0.0;\n                y = 0.0;\n\n                series = new LineGraphSeries&lt;DataPoint&gt;();\n\n                for (int i = 0; i &lt; row; i++) {\n                    for (int j = 0; j &lt; col; j++) {\n                        z = s.getCell(j, i);\n                        if (j % 2 == 0) {\n                            x = Double.parseDouble(z.getContents());\n                        } else {\n                            y = Double.parseDouble(z.getContents());\n                        }\n                    }\n                    series.appendData(new DataPoint(x, y), true, 15);\n                }\n                graph.addSeries(series);\n            } catch (Exception e) {\n\n            }\n        }\n    });\n}\n\npublic boolean onSupportNavigateUp() {\n    finish();\n    return true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","python-3.x","regex","java-8","pattern-matching"],"answers":[{"tags":[],"owner":{"account_id":9178201,"reputation":80,"user_id":6823084,"display_name":"Trey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634840685,"creation_date":1634840685,"answer_id":69666995,"question_id":69666909,"body_markdown":"You can use [regex101](https://regex101.com/) to test your RegEx. it has a description of everything that&#39;s going on to help with debugging. They have a quick reference section bottom right that you can use to figure out what you can do with examples and stuff.\r\n\r\nA few things, you can add literals with `\\`, so `\\&quot;` for a literal double quote.\r\n\r\nIf you want the pattern to be one or more of something, you would use `+`. These are called quantifiers and can be applied to groups, tokens, etc. The token for a whitespace character is `\\s`. So, one or more whitespace characters would be `\\s+`.\r\n\r\nIt&#39;s difficult to tell exactly what you&#39;re trying to do, but hopefully pointing you to [regex101](https://regex101.com/) will help. If you want to provide examples of the current RegEx you have, what you want to match and then the strings you&#39;re using to test it I&#39;ll be happy to provide you with an example.","title":"Regex pattern matching with multiple strings","body":"<p>You can use <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> to test your RegEx. it has a description of everything that's going on to help with debugging. They have a quick reference section bottom right that you can use to figure out what you can do with examples and stuff.</p>\n<p>A few things, you can add literals with <code>\\</code>, so <code>\\&quot;</code> for a literal double quote.</p>\n<p>If you want the pattern to be one or more of something, you would use <code>+</code>. These are called quantifiers and can be applied to groups, tokens, etc. The token for a whitespace character is <code>\\s</code>. So, one or more whitespace characters would be <code>\\s+</code>.</p>\n<p>It's difficult to tell exactly what you're trying to do, but hopefully pointing you to <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> will help. If you want to provide examples of the current RegEx you have, what you want to match and then the strings you're using to test it I'll be happy to provide you with an example.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634852417,"creation_date":1634841189,"answer_id":69667106,"question_id":69666909,"body_markdown":"If you print your pattern, it is:\r\n\r\n    \\Q207e/160\\E, [NnoneOoff0-9\\-\\+\\/]+|[NnoneOoff0-9\\-\\+\\/]+, \\Q207e/160\\E\r\n\r\nIt consists of an alternation `|` matching a mandatory comma as well on the left as on the right side.\r\n\r\n\r\nUsing matches(), should match the whole string and that is the case for `207e/160, 149/80` so that is a match.\r\n\r\nOnly for this string `207e/160, 149/80, 11` there are 2 comma&#39;s, so you do get a partial match for the first part of the string, but you don&#39;t match the whole string so matches() returns false.\r\n\r\nSee the matches in this [regex demo](https://regex101.com/r/eRhOu2/1).\r\n\r\n&lt;hr&gt;\r\n\r\nTo match all the values, you can use a repeating pattern:\r\n\r\n    ^[NnoeOf0-9+/-]+(?:,\\h*[NnoeOf0-90+/-]+)*$\r\n\r\n- `^` Start of string\r\n- `[NnoeOf0-9\\\\+/-]+`\r\n- `(?:` Non capture group\r\n  - `,\\h*` Match a comma and optional horizontal whitespace chars\r\n  - `[NnoeOf0-90-9\\\\+/-]+` Match 1+ any of the listed in the character class\r\n- `)*` Close the non capture group and optionally repeat it (if there should be at least 1 comma, then the quantifier can be `+` instead of `*`)\r\n- `$` End of string\r\n\r\n\r\n[Regex demo](https://regex101.com/r/9P78QL/1)\r\n\r\nExample using matches():\r\n\r\n    String channelStr1 = &quot;207e/160, 149/80&quot;;\r\n    String channelStr2 = &quot;207e/160, 149/80, 11&quot;;\r\n    String regex = &quot;^[NnoeOf0-9+/-]+(?:,\\\\h*[NnoeOf0-90+/-]+)*$&quot;;\r\n            \r\n    System.out.println(channelStr1.matches(regex));\r\n    System.out.println(channelStr2.matches(regex));\r\n\r\nOutput\r\n\r\ntrue\r\ntrue\r\n\r\n**Note** that in the character class you can put `-` at the end not having to escape it, and the `+` and `/` also does not have to be escaped.\r\n","title":"Regex pattern matching with multiple strings","body":"<p>If you print your pattern, it is:</p>\n<pre><code>\\Q207e/160\\E, [NnoneOoff0-9\\-\\+\\/]+|[NnoneOoff0-9\\-\\+\\/]+, \\Q207e/160\\E\n</code></pre>\n<p>It consists of an alternation <code>|</code> matching a mandatory comma as well on the left as on the right side.</p>\n<p>Using matches(), should match the whole string and that is the case for <code>207e/160, 149/80</code> so that is a match.</p>\n<p>Only for this string <code>207e/160, 149/80, 11</code> there are 2 comma's, so you do get a partial match for the first part of the string, but you don't match the whole string so matches() returns false.</p>\n<p>See the matches in this <a href=\"https://regex101.com/r/eRhOu2/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<hr>\n<p>To match all the values, you can use a repeating pattern:</p>\n<pre><code>^[NnoeOf0-9+/-]+(?:,\\h*[NnoeOf0-90+/-]+)*$\n</code></pre>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[NnoeOf0-9\\\\+/-]+</code></li>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>,\\h*</code> Match a comma and optional horizontal whitespace chars</li>\n<li><code>[NnoeOf0-90-9\\\\+/-]+</code> Match 1+ any of the listed in the character class</li>\n</ul>\n</li>\n<li><code>)*</code> Close the non capture group and optionally repeat it (if there should be at least 1 comma, then the quantifier can be <code>+</code> instead of <code>*</code>)</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/9P78QL/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Example using matches():</p>\n<pre><code>String channelStr1 = &quot;207e/160, 149/80&quot;;\nString channelStr2 = &quot;207e/160, 149/80, 11&quot;;\nString regex = &quot;^[NnoeOf0-9+/-]+(?:,\\\\h*[NnoeOf0-90+/-]+)*$&quot;;\n        \nSystem.out.println(channelStr1.matches(regex));\nSystem.out.println(channelStr2.matches(regex));\n</code></pre>\n<p>Output</p>\n<p>true\ntrue</p>\n<p><strong>Note</strong> that in the character class you can put <code>-</code> at the end not having to escape it, and the <code>+</code> and <code>/</code> also does not have to be escaped.</p>\n"},{"tags":[],"owner":{"account_id":18826166,"reputation":139,"user_id":13730997,"display_name":"JGomez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634845233,"creation_date":1634845233,"answer_id":69667912,"question_id":69666909,"body_markdown":"    ^(?:[NnoneOoff0-9\\\\-\\\\+\\\\/]+ *(?:, *(?!$)|$))+$\r\n\r\n`^` Start  \r\n`(?: ... )` Non-capturing group that defines an item and its separator. After each item, except the last, the separator (,) must appear. Spaces (one, several, or none) can appear before and after the comma, which is specified with ` *`. This group can appear one or more times to the end of the string, as specified by the `+` quantifier after the group&#39;s closing parenthesis.\r\n\r\n[Regex101 Test](https://regex101.com/r/y4EWZi/1)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AXWom.png","title":"Regex pattern matching with multiple strings","body":"<pre><code>^(?:[NnoneOoff0-9\\\\-\\\\+\\\\/]+ *(?:, *(?!$)|$))+$\n</code></pre>\n<p><code>^</code> Start<br />\n<code>(?: ... )</code> Non-capturing group that defines an item and its separator. After each item, except the last, the separator (,) must appear. Spaces (one, several, or none) can appear before and after the comma, which is specified with <code> *</code>. This group can appear one or more times to the end of the string, as specified by the <code>+</code> quantifier after the group's closing parenthesis.</p>\n<p><a href=\"https://regex101.com/r/y4EWZi/1\" rel=\"nofollow noreferrer\">Regex101 Test</a></p>\n<p><a href=\"https://i.stack.imgur.com/AXWom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXWom.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14500154,"reputation":43,"user_id":10473595,"display_name":"Abinash Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634852417,"creation_date":1634840174,"question_id":69666909,"body_markdown":"Forgive me. I am not familiarized much with Regex patterns.\r\n\r\nI have created a regex pattern as below.\r\n\r\n    String regex = Pattern.quote(value) + &quot;, [NnoneOoff0-9\\\\-\\\\+\\\\/]+|[NnoneOoff0-9\\\\-\\\\+\\\\/]+, &quot;\r\n                + Pattern.quote(value);\r\n\r\nThis regex pattern is failing with 2 different set of strings.\r\n\r\nvalue = &quot;207e/160&quot;;\r\n\r\n***Use Case 1*** -\r\n\r\nWhen `channelStr = &quot;207e/160, 149/80&quot; `\r\n\r\nThen `channelStr.matches(regex)`, returns &quot;true&quot;.\r\n\r\n***Use Case 2*** - \r\n\r\nWhen `channelStr = &quot;207e/160, 149/80, 11&quot;`\r\n\r\nThen `channelStr.matches(regex)`, returns &quot;false&quot;.\r\n\r\nNot able to figure out why? As far I can understand it may be because of the multiple spaces involved when more than 2 strings are present with separated by comma.\r\n\r\nNot sure what should be correct pattern I should write for more than 2 strings.\r\n\r\nAny help will be appreciated.\r\n","title":"Regex pattern matching with multiple strings","body":"<p>Forgive me. I am not familiarized much with Regex patterns.</p>\n<p>I have created a regex pattern as below.</p>\n<pre><code>String regex = Pattern.quote(value) + &quot;, [NnoneOoff0-9\\\\-\\\\+\\\\/]+|[NnoneOoff0-9\\\\-\\\\+\\\\/]+, &quot;\n            + Pattern.quote(value);\n</code></pre>\n<p>This regex pattern is failing with 2 different set of strings.</p>\n<p>value = &quot;207e/160&quot;;</p>\n<p><em><strong>Use Case 1</strong></em> -</p>\n<p>When <code>channelStr = &quot;207e/160, 149/80&quot; </code></p>\n<p>Then <code>channelStr.matches(regex)</code>, returns &quot;true&quot;.</p>\n<p><em><strong>Use Case 2</strong></em> -</p>\n<p>When <code>channelStr = &quot;207e/160, 149/80, 11&quot;</code></p>\n<p>Then <code>channelStr.matches(regex)</code>, returns &quot;false&quot;.</p>\n<p>Not able to figure out why? As far I can understand it may be because of the multiple spaces involved when more than 2 strings are present with separated by comma.</p>\n<p>Not sure what should be correct pattern I should write for more than 2 strings.</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","multithreading","thread-sleep","readerwriterlock"],"comments":[{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":3,"creation_date":1633961436,"post_id":69526902,"comment_id":122892471,"body_markdown":"I cannot find any place in your code where you would start your threads. Please read e.g. this: https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html . Your code runs everything sequentially because you never start two threads. The `Threads` are just like absolutely common normal classes until you call their method `start()`. And last but not least, if you are &quot;just starting to learn Java&quot;, I really doubt if you should start with threads :) Your whole question can be reduced to &quot;why don&#39;t my threads start at all&quot; :)","body":"I cannot find any place in your code where you would start your threads. Please read e.g. this: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> . Your code runs everything sequentially because you never start two threads. The <code>Threads</code> are just like absolutely common normal classes until you call their method <code>start()</code>. And last but not least, if you are &quot;just starting to learn Java&quot;, I really doubt if you should start with threads :) Your whole question can be reduced to &quot;why don&#39;t my threads start at all&quot; :)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633961490,"post_id":69526902,"comment_id":122892498,"body_markdown":"When you are “just starting to learn Java”, consider starting with an easier topic than multithreading. Your code lacks any thread safety, but thankfully it never starts a second thread anyway. Focus on the basics first, e.g. why you should not use `static` variables like this. Or why creating but not using a `Scanner` has no effect at all.","body":"When you are “just starting to learn Java”, consider starting with an easier topic than multithreading. Your code lacks any thread safety, but thankfully it never starts a second thread anyway. Focus on the basics first, e.g. why you should not use <code>static</code> variables like this. Or why creating but not using a <code>Scanner</code> has no effect at all."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633970126,"post_id":69526902,"comment_id":122896048,"body_markdown":"By the way… In modern Java, we rarely address the `Thread` class directly. Instead, use the Executors framework.","body":"By the way… In modern Java, we rarely address the <code>Thread</code> class directly. Instead, use the Executors framework."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1633979322,"post_id":69526902,"comment_id":122899101,"body_markdown":"Can you explain you need in more detail? The thread count have to be limited only 2? What will have to happen after both reader threads done their execution? It might be better if you could explain your need step by step.","body":"Can you explain you need in more detail? The thread count have to be limited only 2? What will have to happen after both reader threads done their execution? It might be better if you could explain your need step by step."},{"owner":{"account_id":21671180,"reputation":13,"user_id":15988793,"display_name":"rsaraf97"},"score":0,"creation_date":1634851669,"post_id":69526902,"comment_id":123145383,"body_markdown":"Thankyou guys for your advice, I have been trying to strengthen my basics and understand threading. I realized my approach to the problem was very wrong. I have come up with a new solution to my problem. I would be grateful if you guys could take a look.","body":"Thankyou guys for your advice, I have been trying to strengthen my basics and understand threading. I realized my approach to the problem was very wrong. I have come up with a new solution to my problem. I would be grateful if you guys could take a look."}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633982057,"creation_date":1633982057,"answer_id":69531786,"question_id":69526902,"body_markdown":"You call the `readEnter` method from the main thread and it put the main thread to sleep hence blocked. In order to put the work to the reader threads themselves you need to organize everything in main thread then fire the reader threads through the main thread. **You must call the `readEnter` method only from within the reader threads**. I did not implemented the writer you are encouraged to do that. The order in which the threads start is not guaranteed since it depends the schedular. See the example code:\r\n```java\r\n\r\nclass CriticalSec {\r\n    private int readerCount = 0;\r\n\r\n    public boolean readerEnter() throws InterruptedException {\r\n        if(readerCount == 0) {\r\n            readerCount++;\r\n            Thread.sleep(5000);\r\n            return true;\r\n        }\r\n        else if(readerCount == 1) {\r\n            readerCount++;\r\n            Thread.sleep(5000);\r\n            readerCount = 0; // rewind to zero\r\n            return true;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Both reader threads are busy, &quot;+Thread.currentThread().getName()+&quot; will not be executed&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass Reader implements Runnable {\r\n\r\n    private final CriticalSec cs;\r\n\r\n    public Reader(CriticalSec criticalSec) {\r\n        cs = criticalSec;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(Thread.currentThread().getName()+&quot; goes for reading...&quot;);\r\n        try {\r\n            String state = cs.readerEnter() ? &quot; done reading&quot; : &quot; failed reading!&quot;;\r\n            System.out.println(Thread.currentThread().getName()+state);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\npublic class RWProblem {\r\n    public static void main(String[] args) {\r\n        CriticalSec c = new CriticalSec();\r\n\r\n        Reader r1 = new Reader(c);\r\n        Reader r2 = new Reader(c);\r\n        Reader r3 = new Reader(c);\r\n\r\n        new Thread(r1, &quot;Reader 1&quot;).start();\r\n        new Thread(r2, &quot;Reader 2&quot;).start();\r\n        new Thread(r3, &quot;Reader 3&quot;).start();\r\n    }\r\n}\r\n```\r\n\r\nThe output is for one of the run:\r\n```\r\nReader 3 goes for reading...\r\nReader 1 goes for reading...\r\nReader 2 goes for reading...\r\nBoth reader threads are busy, Reader 1 will not be executed\r\nReader 1 failed reading!\r\nReader 3 done reading\r\nReader 2 done reading\r\n\r\nProcess finished with exit code 0\r\n```","title":"Reader writers problem using Java Threads","body":"<p>You call the <code>readEnter</code> method from the main thread and it put the main thread to sleep hence blocked. In order to put the work to the reader threads themselves you need to organize everything in main thread then fire the reader threads through the main thread. <strong>You must call the <code>readEnter</code> method only from within the reader threads</strong>. I did not implemented the writer you are encouraged to do that. The order in which the threads start is not guaranteed since it depends the schedular. See the example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass CriticalSec {\n    private int readerCount = 0;\n\n    public boolean readerEnter() throws InterruptedException {\n        if(readerCount == 0) {\n            readerCount++;\n            Thread.sleep(5000);\n            return true;\n        }\n        else if(readerCount == 1) {\n            readerCount++;\n            Thread.sleep(5000);\n            readerCount = 0; // rewind to zero\n            return true;\n        }\n        else {\n            System.out.println(&quot;Both reader threads are busy, &quot;+Thread.currentThread().getName()+&quot; will not be executed&quot;);\n            return false;\n        }\n    }\n\n}\n\nclass Reader implements Runnable {\n\n    private final CriticalSec cs;\n\n    public Reader(CriticalSec criticalSec) {\n        cs = criticalSec;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(Thread.currentThread().getName()+&quot; goes for reading...&quot;);\n        try {\n            String state = cs.readerEnter() ? &quot; done reading&quot; : &quot; failed reading!&quot;;\n            System.out.println(Thread.currentThread().getName()+state);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npublic class RWProblem {\n    public static void main(String[] args) {\n        CriticalSec c = new CriticalSec();\n\n        Reader r1 = new Reader(c);\n        Reader r2 = new Reader(c);\n        Reader r3 = new Reader(c);\n\n        new Thread(r1, &quot;Reader 1&quot;).start();\n        new Thread(r2, &quot;Reader 2&quot;).start();\n        new Thread(r3, &quot;Reader 3&quot;).start();\n    }\n}\n</code></pre>\n<p>The output is for one of the run:</p>\n<pre><code>Reader 3 goes for reading...\nReader 1 goes for reading...\nReader 2 goes for reading...\nBoth reader threads are busy, Reader 1 will not be executed\nReader 1 failed reading!\nReader 3 done reading\nReader 2 done reading\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":21671180,"reputation":13,"user_id":15988793,"display_name":"rsaraf97"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69531786,"answer_count":1,"score":0,"last_activity_date":1634852170,"creation_date":1633958353,"question_id":69526902,"body_markdown":"I have been trying to implement the reader writer problem in Java. But when the Thread.Sleep(5000) is executed, the current thread process is not interrupted.\r\n\r\nFor example, when the first reader has entered the database, and the process sleeps for 5 seconds, I want the second reader to enter the database. But in my code, the second reader only enters the database after the first reader wakes up and leaves the database\r\n\r\nHow do I achieve my desired result? \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass CriticalSec {\r\n    static boolean mutex = true;\r\n    static boolean db = true;\r\n    static int readerCount = 0;\r\n    static Writer arrWriter = new Writer();\r\n    static Reader1 r1= new Reader1();\r\n    static Reader2 r2= new Reader2();\r\n\r\n    public void readerEnter() throws InterruptedException {\r\n        if (readerCount==0){\r\n            r1.enter();\r\n        }else{\r\n            r1.enter();\r\n        }\r\n        if (mutex) {\r\n            mutex = false;\r\n        }\r\n        readerCount += 1;\r\n        if (readerCount == 1) {\r\n            if (db) {\r\n                db = false;\r\n            } else {\r\n                System.out.println(&quot;\\nReader cannot enter database.\\n&quot;);\r\n                System.out.println(&quot;Waiting for writer to exit....&quot;);\r\n                wait();\r\n            }\r\n        }\r\n        if (!mutex) {\r\n            mutex = true;\r\n            Thread.sleep(5000);\r\n            if (readerCount==1){\r\n                r1.exit();\r\n            }else{\r\n                r2.exit();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void WriterEnter() throws InterruptedException {\r\n        arrWriter.enter();\r\n        if (db) {\r\n            db = false;\r\n            Thread.sleep(5000);\r\n            arrWriter.exit();\r\n            notify();\r\n\r\n        } else {\r\n            System.out.println(&quot;Writer cannot enter database.&quot;);\r\n            System.out.println(&quot;Waiting for writer/reader to exit....&quot;);\r\n            wait();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nclass Reader1 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New reader created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;\\nReader 1 has entered in the database...\\n&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        if (CriticalSec.mutex) {\r\n            CriticalSec.mutex = false;\r\n        }\r\n        CriticalSec.readerCount -= 1;\r\n        if (CriticalSec.readerCount == 0) {\r\n            CriticalSec.db = true;\r\n        }\r\n        CriticalSec.mutex = true;\r\n        System.out.println(&quot;The reader 1 has now left&quot;);\r\n    }\r\n}\r\n\r\nclass Reader2 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New reader created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;\\nReader 2 has entered in the database...\\n&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        if (CriticalSec.mutex) {\r\n            CriticalSec.mutex = false;\r\n        }\r\n        CriticalSec.readerCount -= 1;\r\n        if (CriticalSec.readerCount == 0) {\r\n            CriticalSec.db = true;\r\n        }\r\n        CriticalSec.mutex = true;\r\n        System.out.println(&quot;The reader 1 has now left&quot;);\r\n    }\r\n}\r\n\r\nclass Writer extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New Writer created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;Writer has entered in the database.&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        CriticalSec.db = false;\r\n        System.out.println(&quot;Writer has left the database.&quot;);\r\n    }\r\n}\r\n\r\npublic class RWProblem {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Scanner sc = new Scanner(System.in);\r\n        CriticalSec c = new CriticalSec();\r\n        c.readerEnter();\r\n        c.readerEnter();\r\n        c.WriterEnter();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am just starting to learn Java, and I am sorry if my question is vague. I happy to provide more details.\r\n\r\nEdit: \r\n\r\nAfter brushing up on some important concepts and a lot of practice, I came up with a solution. Could someone please take a look at it and tell me if its alright? How can I improve it?\r\n\r\n```\r\nclass RW {\r\n    boolean dbOccupied = false;\r\n    int readerCount = 0;\r\n    boolean writer=false;\r\n\r\n    public void readerEnter() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (dbOccupied &amp;&amp; readerCount == 0) {\r\n                    System.out.println(&quot;Reader cannot read... Database Occupied&quot;);\r\n                    wait();\r\n                }\r\n                readerCount++;\r\n                dbOccupied = true;\r\n                System.out.println(&quot;Reader &quot; + readerCount + &quot; is reading...&quot;);\r\n//                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void readerExit() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (readerCount != 0) {\r\n                    System.out.println(&quot;Reader &quot; + readerCount + &quot; is now exiting...&quot;);\r\n                    readerCount--;\r\n                }\r\n                dbOccupied = false;\r\n                notifyAll();\r\n//                Thread.sleep(1000);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void writerEnter() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (dbOccupied){\r\n                    System.out.println(&quot;New writer cannot write... Database Occupied&quot;);\r\n                    wait();\r\n                }\r\n                dbOccupied = true;\r\n                writer=true;\r\n                System.out.println(&quot;Writer is now writing.....&quot;);\r\n//                Thread.sleep(1000);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void writerExit() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                if (writer) {\r\n                    System.out.println(&quot;Writer leaving database...&quot;);\r\n                    writer=false;\r\n                    dbOccupied = false;\r\n                    notifyAll();\r\n//        Thread.sleep(1000);\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\npublic class RW3 {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final RW rw= new RW();\r\n        Thread t1= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.readerEnter();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t2=new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.readerExit();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t3= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.writerEnter();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t4= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.writerExit();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n//        t1.setPriority(2);\r\n//        t3.setPriority(10);\r\n\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n        t4.start();\r\n        t1.join();\r\n        t3.join();\r\n        t2.join();\r\n        t4.join();\r\n    }\r\n}\r\n\r\n```\r\nthis is the first time im using stackoverflow for asking a question, and im blown away by the response!!!!! i absolutely love the community","title":"Reader writers problem using Java Threads","body":"<p>I have been trying to implement the reader writer problem in Java. But when the Thread.Sleep(5000) is executed, the current thread process is not interrupted.</p>\n<p>For example, when the first reader has entered the database, and the process sleeps for 5 seconds, I want the second reader to enter the database. But in my code, the second reader only enters the database after the first reader wakes up and leaves the database</p>\n<p>How do I achieve my desired result?</p>\n<pre><code>import java.util.Scanner;\n\nclass CriticalSec {\n    static boolean mutex = true;\n    static boolean db = true;\n    static int readerCount = 0;\n    static Writer arrWriter = new Writer();\n    static Reader1 r1= new Reader1();\n    static Reader2 r2= new Reader2();\n\n    public void readerEnter() throws InterruptedException {\n        if (readerCount==0){\n            r1.enter();\n        }else{\n            r1.enter();\n        }\n        if (mutex) {\n            mutex = false;\n        }\n        readerCount += 1;\n        if (readerCount == 1) {\n            if (db) {\n                db = false;\n            } else {\n                System.out.println(&quot;\\nReader cannot enter database.\\n&quot;);\n                System.out.println(&quot;Waiting for writer to exit....&quot;);\n                wait();\n            }\n        }\n        if (!mutex) {\n            mutex = true;\n            Thread.sleep(5000);\n            if (readerCount==1){\n                r1.exit();\n            }else{\n                r2.exit();\n            }\n        }\n\n    }\n\n    public void WriterEnter() throws InterruptedException {\n        arrWriter.enter();\n        if (db) {\n            db = false;\n            Thread.sleep(5000);\n            arrWriter.exit();\n            notify();\n\n        } else {\n            System.out.println(&quot;Writer cannot enter database.&quot;);\n            System.out.println(&quot;Waiting for writer/reader to exit....&quot;);\n            wait();\n        }\n\n    }\n\n}\n\nclass Reader1 extends Thread {\n    public void run() {\n        System.out.println(&quot;New reader created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;\\nReader 1 has entered in the database...\\n&quot;);\n    }\n\n    public void exit() {\n        if (CriticalSec.mutex) {\n            CriticalSec.mutex = false;\n        }\n        CriticalSec.readerCount -= 1;\n        if (CriticalSec.readerCount == 0) {\n            CriticalSec.db = true;\n        }\n        CriticalSec.mutex = true;\n        System.out.println(&quot;The reader 1 has now left&quot;);\n    }\n}\n\nclass Reader2 extends Thread {\n    public void run() {\n        System.out.println(&quot;New reader created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;\\nReader 2 has entered in the database...\\n&quot;);\n    }\n\n    public void exit() {\n        if (CriticalSec.mutex) {\n            CriticalSec.mutex = false;\n        }\n        CriticalSec.readerCount -= 1;\n        if (CriticalSec.readerCount == 0) {\n            CriticalSec.db = true;\n        }\n        CriticalSec.mutex = true;\n        System.out.println(&quot;The reader 1 has now left&quot;);\n    }\n}\n\nclass Writer extends Thread {\n    public void run() {\n        System.out.println(&quot;New Writer created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;Writer has entered in the database.&quot;);\n    }\n\n    public void exit() {\n        CriticalSec.db = false;\n        System.out.println(&quot;Writer has left the database.&quot;);\n    }\n}\n\npublic class RWProblem {\n    public static void main(String[] args) throws InterruptedException {\n        Scanner sc = new Scanner(System.in);\n        CriticalSec c = new CriticalSec();\n        c.readerEnter();\n        c.readerEnter();\n        c.WriterEnter();\n    }\n}\n\n</code></pre>\n<p>I am just starting to learn Java, and I am sorry if my question is vague. I happy to provide more details.</p>\n<p>Edit:</p>\n<p>After brushing up on some important concepts and a lot of practice, I came up with a solution. Could someone please take a look at it and tell me if its alright? How can I improve it?</p>\n<pre><code>class RW {\n    boolean dbOccupied = false;\n    int readerCount = 0;\n    boolean writer=false;\n\n    public void readerEnter() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (dbOccupied &amp;&amp; readerCount == 0) {\n                    System.out.println(&quot;Reader cannot read... Database Occupied&quot;);\n                    wait();\n                }\n                readerCount++;\n                dbOccupied = true;\n                System.out.println(&quot;Reader &quot; + readerCount + &quot; is reading...&quot;);\n//                Thread.sleep(1000);\n            }\n        }\n    }\n\n    public void readerExit() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (readerCount != 0) {\n                    System.out.println(&quot;Reader &quot; + readerCount + &quot; is now exiting...&quot;);\n                    readerCount--;\n                }\n                dbOccupied = false;\n                notifyAll();\n//                Thread.sleep(1000);\n\n            }\n        }\n    }\n\n    public void writerEnter() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (dbOccupied){\n                    System.out.println(&quot;New writer cannot write... Database Occupied&quot;);\n                    wait();\n                }\n                dbOccupied = true;\n                writer=true;\n                System.out.println(&quot;Writer is now writing.....&quot;);\n//                Thread.sleep(1000);\n\n            }\n        }\n    }\n\n    public void writerExit() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                if (writer) {\n                    System.out.println(&quot;Writer leaving database...&quot;);\n                    writer=false;\n                    dbOccupied = false;\n                    notifyAll();\n//        Thread.sleep(1000);\n                }\n\n\n\n\n            }\n        }\n\n    }\n}\n\npublic class RW3 {\n    public static void main(String[] args) throws InterruptedException {\n        final RW rw= new RW();\n        Thread t1= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.readerEnter();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t2=new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.readerExit();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t3= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.writerEnter();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t4= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.writerExit();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n//        t1.setPriority(2);\n//        t3.setPriority(10);\n\n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n        t1.join();\n        t3.join();\n        t2.join();\n        t4.join();\n    }\n}\n\n</code></pre>\n<p>this is the first time im using stackoverflow for asking a question, and im blown away by the response!!!!! i absolutely love the community</p>\n"},{"tags":["java","spring","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634851876,"post_id":69668948,"comment_id":123145449,"body_markdown":"You didn&#39;t show how you&#39;re setting up MockMvc. Are you using `standaloneSetup`?","body":"You didn&#39;t show how you&#39;re setting up MockMvc. Are you using <code>standaloneSetup</code>?"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1634852059,"post_id":69668948,"comment_id":123145501,"body_markdown":"@chrylis-cautiouslyoptimistic- Sorry about that. I have edited to add the TestClass setup.","body":"@chrylis-cautiouslyoptimistic- Sorry about that. I have edited to add the TestClass setup."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634852490,"post_id":69668948,"comment_id":123145610,"body_markdown":"This is why I don&#39;t use `standaloneSetup` and I almost never use &quot;slice&quot; tests: You don&#39;t get the real actual application setup that you&#39;ll be running, so your tests don&#39;t reflect reality.","body":"This is why I don&#39;t use <code>standaloneSetup</code> and I almost never use &quot;slice&quot; tests: You don&#39;t get the real actual application setup that you&#39;ll be running, so your tests don&#39;t reflect reality."}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1634852451,"answer_count":0,"score":3,"last_activity_date":1634852022,"creation_date":1634851424,"question_id":69668948,"body_markdown":"I have a Spring Boot 2.5.3 project and I am attempting to validate some models. However, the tests are returning a `200` status when I am expecting a `4xx` error.\r\n\r\nSample endpoint under test:\r\n```\r\n @PostMapping(&quot;/reports&quot;)\r\n public CAReportDTO addReport(@Valid @RequestBody CAReportDTO caReport) {\r\n\t return this.caService.submitForm(caReport);\r\n }\r\n```\r\nwhere CAReportDTO has the following annotations (in part):\r\n```\r\n\r\npublic class CAReportDTO {\r\n\r\n\tprivate int id;\r\n\t@Size(min = 5, max = 7, message \r\n\t\t    = &quot;Employee ID must be between 5 and 7 characters long.&quot;)\r\n\t@NotNull\r\n\tprivate String empId;\r\n\tprivate int formId;\r\n\tprivate String formTitle;\r\n\t@Size(min = 4, max = 5, message \r\n\t\t    = &quot;Work location must be between 4 and 5 characters long.&quot;)\r\n\t@NotNull\r\n\tprivate String workLocId;\r\n\tprivate CAStatus statusId;\r\n\t@NotNull\r\n\t@PastOrPresent\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate LocalDate incidentDate;\r\n```\r\n\r\nThe controller test is as follows (it should fail on both the empId and incidentDate fields):\r\n```\r\n\t@Test\r\n\t@WithMockUser(username = &quot;admin&quot;, authorities = { RoleConstants.HR.WRK_MNG_CAS })\r\n\tpublic void testAddInvalidReport() throws Exception {\r\n\t\tvar dto = new CAReportDTO(&quot;test&quot;, TEST_ID, &quot;w&quot;, LocalDate.now(), &quot;t&quot;);\r\n\t\tvar jString = mapper.writeValueAsString(dto);\r\n\r\n\t\tgiven(this.caService.submitForm(any(CAReportDTO.class))).willReturn(dto);\r\n\r\n\t\tthis.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\r\n\t\t\t\t.andExpect(status().is2xxSuccessful());\r\n\r\n\t\tdto.setIncidentDate(LocalDate.now().plusMonths(2));\r\n\t\tdto.setEmpId(&quot;111111111111111111111111111&quot;);\r\n\t\tjString = mapper.writeValueAsString(dto);\r\n\t\tthis.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\r\n\t\t\t\t.andExpect(status().is4xxClientError());\r\n\r\n\t}\r\n```\r\n\r\nThe test is failing because the last call returns `200` instead of the expected client error.\r\n\r\nI *did* include `org.springframework.boot:spring-boot-starter-validation` in my dependencies. \r\n\r\nThe DTO is actually in a separate library (which is using ` group: &#39;org.hibernate.validator:hibernate-validator:7.0.1.Final&#39;` for the annotations). Not sure if any version conflicts would cause this?\r\n\r\nThanks!\r\n\r\nEDIT:\r\nSetup for test class:\r\n```\r\n@WebMvcTest(CAController.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class CAControllerTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mvc;\r\n\r\n\t@MockBean\r\n\tprivate CAService caService;\r\n\r\n\t@Autowired\r\n\tprivate ObjectMapper mapper;\r\n\r\n    // @Test methods\r\n\r\n   }\r\n\r\n```\r\n","title":"Spring @Valid Annotation Not Functioning","body":"<p>I have a Spring Boot 2.5.3 project and I am attempting to validate some models. However, the tests are returning a <code>200</code> status when I am expecting a <code>4xx</code> error.</p>\n<p>Sample endpoint under test:</p>\n<pre><code> @PostMapping(&quot;/reports&quot;)\n public CAReportDTO addReport(@Valid @RequestBody CAReportDTO caReport) {\n     return this.caService.submitForm(caReport);\n }\n</code></pre>\n<p>where CAReportDTO has the following annotations (in part):</p>\n<pre><code>\npublic class CAReportDTO {\n\n    private int id;\n    @Size(min = 5, max = 7, message \n            = &quot;Employee ID must be between 5 and 7 characters long.&quot;)\n    @NotNull\n    private String empId;\n    private int formId;\n    private String formTitle;\n    @Size(min = 4, max = 5, message \n            = &quot;Work location must be between 4 and 5 characters long.&quot;)\n    @NotNull\n    private String workLocId;\n    private CAStatus statusId;\n    @NotNull\n    @PastOrPresent\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate incidentDate;\n</code></pre>\n<p>The controller test is as follows (it should fail on both the empId and incidentDate fields):</p>\n<pre><code>    @Test\n    @WithMockUser(username = &quot;admin&quot;, authorities = { RoleConstants.HR.WRK_MNG_CAS })\n    public void testAddInvalidReport() throws Exception {\n        var dto = new CAReportDTO(&quot;test&quot;, TEST_ID, &quot;w&quot;, LocalDate.now(), &quot;t&quot;);\n        var jString = mapper.writeValueAsString(dto);\n\n        given(this.caService.submitForm(any(CAReportDTO.class))).willReturn(dto);\n\n        this.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\n                .andExpect(status().is2xxSuccessful());\n\n        dto.setIncidentDate(LocalDate.now().plusMonths(2));\n        dto.setEmpId(&quot;111111111111111111111111111&quot;);\n        jString = mapper.writeValueAsString(dto);\n        this.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\n                .andExpect(status().is4xxClientError());\n\n    }\n</code></pre>\n<p>The test is failing because the last call returns <code>200</code> instead of the expected client error.</p>\n<p>I <em>did</em> include <code>org.springframework.boot:spring-boot-starter-validation</code> in my dependencies.</p>\n<p>The DTO is actually in a separate library (which is using <code> group: 'org.hibernate.validator:hibernate-validator:7.0.1.Final'</code> for the annotations). Not sure if any version conflicts would cause this?</p>\n<p>Thanks!</p>\n<p>EDIT:\nSetup for test class:</p>\n<pre><code>@WebMvcTest(CAController.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class CAControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private CAService caService;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    // @Test methods\n\n   }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","classloader","resource-loading"],"owner":{"account_id":21372382,"reputation":11,"user_id":17214633,"display_name":"RickyTan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634851954,"creation_date":1634851652,"question_id":69668985,"body_markdown":"When trying to fetch resources using the tried-and-true \r\n```\r\nResource[] esResources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\r\n                .getResources(&quot;classpath*:/es/&quot; + storageFilename + &quot;.json&quot;)\r\n``` \r\n(resourceLoader is the default @Autowired provided by spring boot)\r\n\r\nesResources returns empty when the file is clearly there in the classpath under /BOOT-INF/classes/es/\r\n\r\nBigger mystery is that the code works in a separate repo of ours, running the same spring-boot version (spring-boot-starter-parent 2.4.5). \r\n\r\nStepping both repos through the debugger, I found a diff at [this step](https://github.com/spring-projects/spring-framework/blob/71036e7da52c546b513ba946cf9f4eada278c5f3/spring-core/src/main/java/org/springframework/core/io/support/PathMatchingResourcePatternResolver.java#L337) within `PathMatchingResourcePatternResolver`-- the one that works is using `TomcatEmbeddedWebappClassLoader`, while the &quot;broken&quot; one is showing `ClassLoaders$AppClassLoader`. Not sure if this is a red herring though. \r\n","title":"Spring Boot PathMatchingResourcePatternResolver not finding the expected Resources","body":"<p>When trying to fetch resources using the tried-and-true</p>\n<pre><code>Resource[] esResources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\n                .getResources(&quot;classpath*:/es/&quot; + storageFilename + &quot;.json&quot;)\n</code></pre>\n<p>(resourceLoader is the default @Autowired provided by spring boot)</p>\n<p>esResources returns empty when the file is clearly there in the classpath under /BOOT-INF/classes/es/</p>\n<p>Bigger mystery is that the code works in a separate repo of ours, running the same spring-boot version (spring-boot-starter-parent 2.4.5).</p>\n<p>Stepping both repos through the debugger, I found a diff at <a href=\"https://github.com/spring-projects/spring-framework/blob/71036e7da52c546b513ba946cf9f4eada278c5f3/spring-core/src/main/java/org/springframework/core/io/support/PathMatchingResourcePatternResolver.java#L337\" rel=\"nofollow noreferrer\">this step</a> within <code>PathMatchingResourcePatternResolver</code>-- the one that works is using <code>TomcatEmbeddedWebappClassLoader</code>, while the &quot;broken&quot; one is showing <code>ClassLoaders$AppClassLoader</code>. Not sure if this is a red herring though.</p>\n"},{"tags":["java","amazon-web-services","kotlin","amazon-s3","http4k"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1634853899,"post_id":69668987,"comment_id":123145935,"body_markdown":"Why wouldn&#39;t it be possible? The docs claim that &quot;http4k provides a simple and uniform way to serve, consume, and test HTTP services.&quot; Did you try this? Do you have any code?","body":"Why wouldn&#39;t it be possible? The docs claim that &quot;http4k provides a simple and uniform way to serve, consume, and test HTTP services.&quot; Did you try this? Do you have any code?"},{"owner":{"account_id":18031110,"reputation":510,"user_id":13105710,"display_name":"mooglin"},"score":0,"creation_date":1635189595,"post_id":69668987,"comment_id":123224959,"body_markdown":"My problem is that there is very sparse documentation for this library and it&#39;s not at all popular either, so it&#39;s difficult to find examples of how to work with it. I know how to pass in objects can be accessed as body parameters, but I don&#39;t know how to set the inputStream directly using this package","body":"My problem is that there is very sparse documentation for this library and it&#39;s not at all popular either, so it&#39;s difficult to find examples of how to work with it. I know how to pass in objects can be accessed as body parameters, but I don&#39;t know how to set the inputStream directly using this package"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1635190523,"post_id":69668987,"comment_id":123225316,"body_markdown":"Limited documentation and unpopular doesn&#39;t sound encouraging. The AWS Java SDK includes a TransferManager that can accept streamed uploads via [PutObjectRequest](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html) afaik.","body":"Limited documentation and unpopular doesn&#39;t sound encouraging. The AWS Java SDK includes a TransferManager that can accept streamed uploads via <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html\" rel=\"nofollow noreferrer\">PutObjectRequest</a> afaik."}],"owner":{"account_id":18031110,"reputation":510,"user_id":13105710,"display_name":"mooglin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634851661,"creation_date":1634851661,"question_id":69668987,"body_markdown":"I&#39;m currently using an AWS recommended method of uploading to an S3 bucket using a presigned url that is detailed [here](https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html)\r\n\r\n```\r\n// Create the connection and use it to upload the new object using the pre-signed URL.\r\n\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setDoOutput(true);\r\nconnection.setRequestMethod(&quot;PUT&quot;);\r\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\nout.write(&quot;This text uploaded as an object via presigned URL.&quot;);\r\nout.close();\r\n\r\n// Check the HTTP response code. To complete the upload and make the object available, \r\n// you must interact with the connection object in some way.\r\n\r\nconnection.getResponseCode();\r\nSystem.out.println(&quot;HTTP response code: &quot; + connection.getResponseCode());\r\n\r\n```\r\n\r\nI would like to instead do this using Http4k. Is such functionality possible with this toolkit? If so, could somebody please direct me in the right direction?","title":"Is it possible to use Http4k to upload to an Amazon S3 bucket with a presigned-url?","body":"<p>I'm currently using an AWS recommended method of uploading to an S3 bucket using a presigned url that is detailed <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>// Create the connection and use it to upload the new object using the pre-signed URL.\n\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestMethod(&quot;PUT&quot;);\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\nout.write(&quot;This text uploaded as an object via presigned URL.&quot;);\nout.close();\n\n// Check the HTTP response code. To complete the upload and make the object available, \n// you must interact with the connection object in some way.\n\nconnection.getResponseCode();\nSystem.out.println(&quot;HTTP response code: &quot; + connection.getResponseCode());\n\n</code></pre>\n<p>I would like to instead do this using Http4k. Is such functionality possible with this toolkit? If so, could somebody please direct me in the right direction?</p>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634851376,"creation_date":1634851376,"answer_id":69668941,"question_id":69668758,"body_markdown":"I suggest performing that removal logic in the constructor of the adapter rather than in `onBind`. `onBind` happens as the recycler view is finalising the details of each view holder immediately before it&#39;s shown to the user. You want to do as little as possible logic in here to keep the recycler view performant. \r\n\r\nInside the constructor (or even before the list is passed in) you should perform a loop and remove those items that don&#39;t meet the criteria before setting the instance variable. \r\n\r\nIt&#39;s been a long time since I wrote code in java and so I&#39;d end up with unhelpful incorrect syntax if I tried to do it here. ","title":"Remove certain items which are empty from RecyclerView list?","body":"<p>I suggest performing that removal logic in the constructor of the adapter rather than in <code>onBind</code>. <code>onBind</code> happens as the recycler view is finalising the details of each view holder immediately before it's shown to the user. You want to do as little as possible logic in here to keep the recycler view performant.</p>\n<p>Inside the constructor (or even before the list is passed in) you should perform a loop and remove those items that don't meet the criteria before setting the instance variable.</p>\n<p>It's been a long time since I wrote code in java and so I'd end up with unhelpful incorrect syntax if I tried to do it here.</p>\n"}],"owner":{"account_id":15611781,"reputation":319,"user_id":11262996,"display_name":"Meggan Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668941,"answer_count":1,"score":0,"last_activity_date":1634851376,"creation_date":1634850170,"question_id":69668758,"body_markdown":"I&#39;m making an app using TMDB API and have gotten stuck at a small issue.\r\n\r\nTMDB API shows seasons and episodes which are empty, basically, those are yet to air but since those are empty, the app shows a blank item that I&#39;m trying to get rid of.\r\n\r\nHere&#39;s my adapter:\r\n```\r\npublic class SeasonAdapter extends RecyclerView.Adapter&lt;SeasonAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;Season&gt; seasons;\r\n    private final Context context;\r\n    private final RequestOptions requestOptions;\r\n\r\n    public SeasonAdapter(List&lt;Season&gt; seasons, Context context) {\r\n        this.seasons = seasons;\r\n        this.context = context;\r\n        requestOptions = new RequestOptions().centerCrop().placeholder(R.drawable.poster_placeholder).error(R.drawable.poster_placeholder);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_season_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        final Season season = seasons.get(position);\r\n\r\n        holder.tvTitle.setText(season.getSeasonTitle());\r\n\r\n        if (season.getSeasonDate() != null &amp;&amp; !season.getSeasonDate().isEmpty()) {\r\n            holder.tvDate.setText(context.getResources().getString(R.string.aired_on) + season.getSeasonDate());\r\n        } else {\r\n            holder.tvDate.setVisibility(View.GONE);\r\n        }\r\n\r\n        if (season.getSeasonEpisodes() == 0) {\r\n            seasons.remove(position);\r\n        }\r\n\r\n        holder.tvEpisodes.setText(String.valueOf(season.getSeasonEpisodes()) + context.getResources().getString(R.string.total_episodes));\r\n        Glide.with(context).load(season.getSeasonImageURL()).apply(requestOptions).into(holder.ivPoster);\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(context, EpisodeActivity.class);\r\n            intent.putExtra(&quot;title&quot;, season.getShowTitle());\r\n            intent.putExtra(&quot;seasonTitle&quot;, season.getSeasonTitle());\r\n            intent.putExtra(&quot;seasonNo&quot;, season.getSeasonNo());\r\n            intent.putExtra(&quot;tvId&quot;, season.getTvId());\r\n            v.getContext().startActivity(intent);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return seasons.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public ImageView ivPoster;\r\n        public TextView tvTitle, tvDate, tvEpisodes;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            ivPoster = itemView.findViewById(R.id.ivSeasonPoster);\r\n            tvTitle = itemView.findViewById(R.id.tvSeasonTitle);\r\n            tvDate = itemView.findViewById(R.id.tvSeasonAired);\r\n            tvEpisodes = itemView.findViewById(R.id.tvSeasonEpisodes);\r\n\r\n            //Poster Corners\r\n            ivPoster.setClipToOutline(true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried doing this:\r\n```\r\nif (season.getSeasonEpisodes() == 0) {\r\n    seasons.remove(position);\r\n}\r\n```\r\n\r\nIt does seem to hide the season which has no episodes but if a show has multiple seasons without episodes, my app crashes so I figured this isn&#39;t the right solution so any help is appreciated.","title":"Remove certain items which are empty from RecyclerView list?","body":"<p>I'm making an app using TMDB API and have gotten stuck at a small issue.</p>\n<p>TMDB API shows seasons and episodes which are empty, basically, those are yet to air but since those are empty, the app shows a blank item that I'm trying to get rid of.</p>\n<p>Here's my adapter:</p>\n<pre><code>public class SeasonAdapter extends RecyclerView.Adapter&lt;SeasonAdapter.ViewHolder&gt; {\n\n    private final List&lt;Season&gt; seasons;\n    private final Context context;\n    private final RequestOptions requestOptions;\n\n    public SeasonAdapter(List&lt;Season&gt; seasons, Context context) {\n        this.seasons = seasons;\n        this.context = context;\n        requestOptions = new RequestOptions().centerCrop().placeholder(R.drawable.poster_placeholder).error(R.drawable.poster_placeholder);\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.item_season_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        final Season season = seasons.get(position);\n\n        holder.tvTitle.setText(season.getSeasonTitle());\n\n        if (season.getSeasonDate() != null &amp;&amp; !season.getSeasonDate().isEmpty()) {\n            holder.tvDate.setText(context.getResources().getString(R.string.aired_on) + season.getSeasonDate());\n        } else {\n            holder.tvDate.setVisibility(View.GONE);\n        }\n\n        if (season.getSeasonEpisodes() == 0) {\n            seasons.remove(position);\n        }\n\n        holder.tvEpisodes.setText(String.valueOf(season.getSeasonEpisodes()) + context.getResources().getString(R.string.total_episodes));\n        Glide.with(context).load(season.getSeasonImageURL()).apply(requestOptions).into(holder.ivPoster);\n\n        holder.itemView.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(context, EpisodeActivity.class);\n            intent.putExtra(&quot;title&quot;, season.getShowTitle());\n            intent.putExtra(&quot;seasonTitle&quot;, season.getSeasonTitle());\n            intent.putExtra(&quot;seasonNo&quot;, season.getSeasonNo());\n            intent.putExtra(&quot;tvId&quot;, season.getTvId());\n            v.getContext().startActivity(intent);\n        });\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return seasons.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        public ImageView ivPoster;\n        public TextView tvTitle, tvDate, tvEpisodes;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            ivPoster = itemView.findViewById(R.id.ivSeasonPoster);\n            tvTitle = itemView.findViewById(R.id.tvSeasonTitle);\n            tvDate = itemView.findViewById(R.id.tvSeasonAired);\n            tvEpisodes = itemView.findViewById(R.id.tvSeasonEpisodes);\n\n            //Poster Corners\n            ivPoster.setClipToOutline(true);\n        }\n    }\n}\n</code></pre>\n<p>I tried doing this:</p>\n<pre><code>if (season.getSeasonEpisodes() == 0) {\n    seasons.remove(position);\n}\n</code></pre>\n<p>It does seem to hide the season which has no episodes but if a show has multiple seasons without episodes, my app crashes so I figured this isn't the right solution so any help is appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"score":0,"creation_date":1386161946,"post_id":20374065,"comment_id":123145258,"body_markdown":"I think this blogpost describes perfectly what you need: [Modification of properties in spring - propertyplaceholderconfigurer](https://web.archive.org/web/20150402034811/http://jeviathon.com/2009/08/25/modification-of-properties-in-spring-propertyplaceholderconfigurer/)","body":"I think this blogpost describes perfectly what you need: <a href=\"https://web.archive.org/web/20150402034811/http://jeviathon.com/2009/08/25/modification-of-properties-in-spring-propertyplaceholderconfigurer/\" rel=\"nofollow noreferrer\">Modification of properties in spring - propertyplaceholderconfigurer</a>"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1386166860,"post_id":20374065,"comment_id":123145259,"body_markdown":"That&#180;s is more or less what I have. I have a class that extends PropertyPlaceHolderConfig, but still dont explain how to get a property value already loaded and modify it:        getConfigurer().getResolvedProps().get(key);","body":"That&#180;s is more or less what I have. I have a class that extends PropertyPlaceHolderConfig, but still dont explain how to get a property value already loaded and modify it:        getConfigurer().getResolvedProps().get(key);"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1386167188,"post_id":20374065,"comment_id":123145260,"body_markdown":"In my case I load the propertyPlaceHolder during the startup, but I need to update some property values once the application is up and running, and a user interact with the application","body":"In my case I load the propertyPlaceHolder during the startup, but I need to update some property values once the application is up and running, and a user interact with the application"}],"answers":[{"tags":[],"owner":{"account_id":2314267,"reputation":883,"user_id":2031645,"accept_rate":43,"display_name":"J&#248;rgen Sk&#229;r Fischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386156979,"creation_date":1386156979,"answer_id":20374310,"question_id":20374065,"body_markdown":"Have you tried to refresh your Application Context and get the new bean?\r\n\r\ncheck out the post on https://stackoverflow.com/questions/4530193/update-database-settings-in-properties-file-in-spring\r\n","title":"Modify property of PropertyPlaceholderConfigurer","body":"<p>Have you tried to refresh your Application Context and get the new bean?</p>\n\n<p>check out the post on <a href=\"https://stackoverflow.com/questions/4530193/update-database-settings-in-properties-file-in-spring\">Update database settings in properties file in Spring</a></p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20374310,"answer_count":1,"score":0,"last_activity_date":1634851230,"creation_date":1386156306,"question_id":20374065,"body_markdown":"I have a class that extends PropertyPlaceholderConfigurer where I&#180;m injecting some properties with values form database. My question is, if once that I have my application spring running, would be possible to update a property value that I have on memory on PropertyPlaceholderConfigurer.\r\n\r\nRegards.","title":"Modify property of PropertyPlaceholderConfigurer","body":"<p>I have a class that extends PropertyPlaceholderConfigurer where I´m injecting some properties with values form database. My question is, if once that I have my application spring running, would be possible to update a property value that I have on memory on PropertyPlaceholderConfigurer.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","android","navigation","fragment","bundle"],"answers":[{"tags":[],"owner":{"account_id":10817783,"reputation":1038,"user_id":7956161,"display_name":"Muhammad Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634851228,"creation_date":1634851228,"answer_id":69668915,"question_id":69668836,"body_markdown":"You need to communicate to multiple fragments via ViewModel or fragment listener\r\n\r\nfrom your `GoalFragment` \r\n\r\n \r\n\r\n        Bundle result = new Bundle();\r\n        result.putInt(&quot;goal&quot;, 1);\r\n        getParentFragmentManager().setFragmentResult(&quot;progress&quot;, result);\r\n\r\nIn Your `ProgressFragment`\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getParentFragmentManager().setFragmentResultListener(&quot;requestKey&quot;, this, new FragmentResultListener() {\r\n            @Override\r\n            public void onFragmentResult(@NonNull String requestKey, @NonNull Bundle bundle) {\r\n                // We use a String here, but any type that can be put in a Bundle is supported\r\n                String result = bundle.getInt(&quot;goal&quot;);\r\n                // Do something with the result\r\n            }\r\n        });\r\n    }\r\n\r\nYou can see the docs for detail implementation \r\nhttps://developer.android.com/guide/fragments/communicate#java","title":"Android Studio - Bundle not passing data between Fragments","body":"<p>You need to communicate to multiple fragments via ViewModel or fragment listener</p>\n<p>from your <code>GoalFragment</code></p>\n<pre><code>    Bundle result = new Bundle();\n    result.putInt(&quot;goal&quot;, 1);\n    getParentFragmentManager().setFragmentResult(&quot;progress&quot;, result);\n</code></pre>\n<p>In Your <code>ProgressFragment</code></p>\n<pre><code>@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getParentFragmentManager().setFragmentResultListener(&quot;requestKey&quot;, this, new FragmentResultListener() {\n        @Override\n        public void onFragmentResult(@NonNull String requestKey, @NonNull Bundle bundle) {\n            // We use a String here, but any type that can be put in a Bundle is supported\n            String result = bundle.getInt(&quot;goal&quot;);\n            // Do something with the result\n        }\n    });\n}\n</code></pre>\n<p>You can see the docs for detail implementation\n<a href=\"https://developer.android.com/guide/fragments/communicate#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate#java</a></p>\n"}],"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668915,"answer_count":1,"score":0,"last_activity_date":1634851228,"creation_date":1634850611,"question_id":69668836,"body_markdown":"I&#39;m working on an app which contains a total of 5 Fragments, connected with a Bottom Navigation Menu. For the sake of keeping things simple, I&#39;ll use 2 of those as an example. \r\n\r\n```\r\npackage com.example.ssresilience;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link GoalsFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class GoalsFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private Button fg_goals_socialize;\r\n    private Button fg_goals_study;\r\n    private Button fg_goals_exercise;\r\n    private Button fg_goals_setgoal;\r\n    private TextView fg_goals_placeholder;\r\n\r\n    private int check = 0;\r\n\r\n    public GoalsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment GoalsFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static GoalsFragment newInstance(String param1, String param2) {\r\n        GoalsFragment fragment = new GoalsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View rootView = inflater.inflate((R.layout.fragment_goals), container, false);\r\n\r\n        fg_goals_socialize = (Button)rootView.findViewById(R.id.fg_goals_socialize);\r\n        fg_goals_socialize.setOnClickListener(this::onClick);\r\n        fg_goals_study = (Button)rootView.findViewById(R.id.fg_goals_study);\r\n        fg_goals_study.setOnClickListener(this::onClick);\r\n        fg_goals_exercise = (Button)rootView.findViewById(R.id.fg_goals_exercise);\r\n        fg_goals_exercise.setOnClickListener(this::onClick);\r\n        fg_goals_setgoal = (Button)rootView.findViewById(R.id.fg_goals_setgoal);\r\n        fg_goals_setgoal.setOnClickListener(this::onClick);\r\n        fg_goals_placeholder = (TextView)rootView.findViewById(R.id.fg_goals_placeholder);\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;ResourceAsColor&quot;, &quot;UseCompatLoadingForColorStateLists&quot;, &quot;NonConstantResourceId&quot;, &quot;SetTextI18n&quot;})\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.fg_goals_socialize:\r\n                fg_goals_placeholder.setText(&quot;• Talk to 3 or more people, other than your family.\\n\\n&quot; +\r\n                        &quot;• Engage in phone or video calls from any device.\\n\\n&quot; +\r\n                        &quot;• Exit your house for more than 2 hours.\\n\\n&quot; +\r\n                        &quot;• Meet new people online or via your phone.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                check = 1;\r\n                break;\r\n            case R.id.fg_goals_study:\r\n                fg_goals_placeholder.setText(&quot;• Study for 1 or more hours today.\\n\\n&quot; +\r\n                        &quot;• Work for at least 1 hour on your projects.\\n\\n&quot; +\r\n                        &quot;• Talk to friends or relatives about your projects.\\n\\n&quot; +\r\n                        &quot;• Dedicate study time for the course of your liking.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                check = 2;\r\n                break;\r\n            case R.id.fg_goals_exercise:\r\n                fg_goals_placeholder.setText(&quot;• Dedicate more than 1 hour on physical exercise.\\n\\n&quot; +\r\n                        &quot;• Participate in physical exercises with friends or others.\\n\\n&quot; +\r\n                        &quot;• Achieve your physical exercise-related goal.\\n\\n&quot; +\r\n                        &quot;• Track your fitness-related progress in any way.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                check = 3;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (v.getId()) {\r\n            case R.id.fg_goals_setgoal:\r\n                if(check == 0) {\r\n                    Toast.makeText(getActivity(), &quot;Please select one of the 3 Goals!&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 1) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 1);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Socialize More&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 2) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 2);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Enhance Study Motives&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 3) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 3);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Physical Exercise&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn the **GoalsFragment.java** above, there are 2 **switch** methods, one which highlights the buttons and assigns the **check** variable, while the other one below contains if statements that determine which button is pressed. These 2 are working flawlessly, so the problem is not there. According to the pressed button, in the second **switch** method, we&#39;ve got 3 different **bundles**, which are used to pass data to the Fragment **ProgressFragment.java**, when the &quot;SET GOAL&quot; button is pressed.\r\n\r\n```\r\npackage com.example.ssresilience;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link ProgressFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class ProgressFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public ProgressFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment ProgressFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static ProgressFragment newInstance(String param1, String param2) {\r\n        ProgressFragment fragment = new ProgressFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View rootView = inflater.inflate(R.layout.fragment_progress, container, false);\r\n\r\n        // Get the Selected Goal data from the GoalsFragment\r\n        Bundle b = getArguments();\r\n        int goal = b.getInt(&quot;goal&quot;);\r\n        System.out.println(goal);\r\n\r\n        // Set the Progress Fragment Text according to the selected Goal\r\n        TextView fg_progress_header2 = (TextView) rootView.findViewById(R.id.fg_progress_header2);\r\n        if (goal == 1) {\r\n            fg_progress_header2.setText(&quot;Socialize More&quot;);\r\n        } if (goal == 2) {\r\n            fg_progress_header2.setText(&quot;Enhance Study Motives&quot;);\r\n        } if (goal == 3) {\r\n            fg_progress_header2.setText(&quot;Physical Exercise&quot;);\r\n        }\r\n\r\n        return rootView;\r\n    }\r\n}\r\n```\r\n\r\nIn this second Fragment, I am trying to retrieve the **goal** data from one of the 3 **bundles** in **GoalsFragment.java**, and set the text of the TextViews accordingly. For testing purposes, I have included a ```System.out.println(goal);```, which returns 0, indicating that the bundle data is not retrieved properly from the first Fragment. \r\n\r\nI have even tried putting the **bundle** on the ```onCreateView``` method of **GoalsFragment.java**, just in case of faulty code below, but it still didn&#39;t work.\r\n\r\nCould anyone help me out? Nothing that I do seems to be working... \r\n\r\nThank you in advance!","title":"Android Studio - Bundle not passing data between Fragments","body":"<p>I'm working on an app which contains a total of 5 Fragments, connected with a Bottom Navigation Menu. For the sake of keeping things simple, I'll use 2 of those as an example.</p>\n<pre><code>package com.example.ssresilience;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link GoalsFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class GoalsFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private Button fg_goals_socialize;\n    private Button fg_goals_study;\n    private Button fg_goals_exercise;\n    private Button fg_goals_setgoal;\n    private TextView fg_goals_placeholder;\n\n    private int check = 0;\n\n    public GoalsFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment GoalsFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static GoalsFragment newInstance(String param1, String param2) {\n        GoalsFragment fragment = new GoalsFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate((R.layout.fragment_goals), container, false);\n\n        fg_goals_socialize = (Button)rootView.findViewById(R.id.fg_goals_socialize);\n        fg_goals_socialize.setOnClickListener(this::onClick);\n        fg_goals_study = (Button)rootView.findViewById(R.id.fg_goals_study);\n        fg_goals_study.setOnClickListener(this::onClick);\n        fg_goals_exercise = (Button)rootView.findViewById(R.id.fg_goals_exercise);\n        fg_goals_exercise.setOnClickListener(this::onClick);\n        fg_goals_setgoal = (Button)rootView.findViewById(R.id.fg_goals_setgoal);\n        fg_goals_setgoal.setOnClickListener(this::onClick);\n        fg_goals_placeholder = (TextView)rootView.findViewById(R.id.fg_goals_placeholder);\n\n        return rootView;\n    }\n\n    @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;ResourceAsColor&quot;, &quot;UseCompatLoadingForColorStateLists&quot;, &quot;NonConstantResourceId&quot;, &quot;SetTextI18n&quot;})\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.fg_goals_socialize:\n                fg_goals_placeholder.setText(&quot;• Talk to 3 or more people, other than your family.\\n\\n&quot; +\n                        &quot;• Engage in phone or video calls from any device.\\n\\n&quot; +\n                        &quot;• Exit your house for more than 2 hours.\\n\\n&quot; +\n                        &quot;• Meet new people online or via your phone.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                check = 1;\n                break;\n            case R.id.fg_goals_study:\n                fg_goals_placeholder.setText(&quot;• Study for 1 or more hours today.\\n\\n&quot; +\n                        &quot;• Work for at least 1 hour on your projects.\\n\\n&quot; +\n                        &quot;• Talk to friends or relatives about your projects.\\n\\n&quot; +\n                        &quot;• Dedicate study time for the course of your liking.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                check = 2;\n                break;\n            case R.id.fg_goals_exercise:\n                fg_goals_placeholder.setText(&quot;• Dedicate more than 1 hour on physical exercise.\\n\\n&quot; +\n                        &quot;• Participate in physical exercises with friends or others.\\n\\n&quot; +\n                        &quot;• Achieve your physical exercise-related goal.\\n\\n&quot; +\n                        &quot;• Track your fitness-related progress in any way.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                check = 3;\n                break;\n            default:\n                break;\n        }\n        switch (v.getId()) {\n            case R.id.fg_goals_setgoal:\n                if(check == 0) {\n                    Toast.makeText(getActivity(), &quot;Please select one of the 3 Goals!&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 1) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 1);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Socialize More&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 2) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 2);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Enhance Study Motives&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 3) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 3);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Physical Exercise&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>In the <strong>GoalsFragment.java</strong> above, there are 2 <strong>switch</strong> methods, one which highlights the buttons and assigns the <strong>check</strong> variable, while the other one below contains if statements that determine which button is pressed. These 2 are working flawlessly, so the problem is not there. According to the pressed button, in the second <strong>switch</strong> method, we've got 3 different <strong>bundles</strong>, which are used to pass data to the Fragment <strong>ProgressFragment.java</strong>, when the &quot;SET GOAL&quot; button is pressed.</p>\n<pre><code>package com.example.ssresilience;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link ProgressFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class ProgressFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public ProgressFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment ProgressFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static ProgressFragment newInstance(String param1, String param2) {\n        ProgressFragment fragment = new ProgressFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_progress, container, false);\n\n        // Get the Selected Goal data from the GoalsFragment\n        Bundle b = getArguments();\n        int goal = b.getInt(&quot;goal&quot;);\n        System.out.println(goal);\n\n        // Set the Progress Fragment Text according to the selected Goal\n        TextView fg_progress_header2 = (TextView) rootView.findViewById(R.id.fg_progress_header2);\n        if (goal == 1) {\n            fg_progress_header2.setText(&quot;Socialize More&quot;);\n        } if (goal == 2) {\n            fg_progress_header2.setText(&quot;Enhance Study Motives&quot;);\n        } if (goal == 3) {\n            fg_progress_header2.setText(&quot;Physical Exercise&quot;);\n        }\n\n        return rootView;\n    }\n}\n</code></pre>\n<p>In this second Fragment, I am trying to retrieve the <strong>goal</strong> data from one of the 3 <strong>bundles</strong> in <strong>GoalsFragment.java</strong>, and set the text of the TextViews accordingly. For testing purposes, I have included a <code>System.out.println(goal);</code>, which returns 0, indicating that the bundle data is not retrieved properly from the first Fragment.</p>\n<p>I have even tried putting the <strong>bundle</strong> on the <code>onCreateView</code> method of <strong>GoalsFragment.java</strong>, just in case of faulty code below, but it still didn't work.</p>\n<p>Could anyone help me out? Nothing that I do seems to be working...</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","swing","scroll","jpanel","jscrollpane"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1634850345,"creation_date":1308275181,"answer_id":6380579,"question_id":6379061,"body_markdown":"When you add/remove components for a panel you should invoke revalidate() on the panel to make sure the components are laid out properly.\r\n\r\nThen, if you want to scroll to the bottom then you should be able to use:\r\n\r\n    JScrollBar sb = scrollPane.getVerticalScrollBar();\r\n    sb.setValue( sb.getMaximum() );","title":"How to auto scroll to bottom in Java Swing","body":"<p>When you add/remove components for a panel you should invoke revalidate() on the panel to make sure the components are laid out properly.</p>\n<p>Then, if you want to scroll to the bottom then you should be able to use:</p>\n<pre><code>JScrollBar sb = scrollPane.getVerticalScrollBar();\nsb.setValue( sb.getMaximum() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2583745,"reputation":151,"user_id":2239895,"display_name":"zerodefect"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1364986203,"creation_date":1364983429,"answer_id":15784385,"question_id":6379061,"body_markdown":"    scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {  \r\n            public void adjustmentValueChanged(AdjustmentEvent e) {  \r\n                e.getAdjustable().setValue(e.getAdjustable().getMaximum());  \r\n            }\r\n        });\r\n\r\nThis would be the best. Found from https://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll\r\n\r\n","title":"How to auto scroll to bottom in Java Swing","body":"<pre><code>scrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {  \n        public void adjustmentValueChanged(AdjustmentEvent e) {  \n            e.getAdjustable().setValue(e.getAdjustable().getMaximum());  \n        }\n    });\n</code></pre>\n\n<p>This would be the best. Found from <a href=\"https://stackoverflow.com/questions/2132444/jscrollpane-and-jlist-auto-scroll\">JScrollPane and JList auto scroll</a></p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551346454,"creation_date":1449226618,"answer_id":34086741,"question_id":6379061,"body_markdown":"This is how I scroll all the way up or down automatically:\r\n\r\n    /**\r\n     * Scrolls a {@code scrollPane} all the way up or down.\r\n     *\r\n     * @param scrollPane the scrollPane that we want to scroll up or down\r\n     * @param direction  we scroll up if this is {@link ScrollDirection#UP},\r\n     *                   or down if it&#39;s {@link ScrollDirection#DOWN}\r\n     */\r\n    public static void scroll(JScrollPane scrollPane, ScrollDirection direction) {\r\n        JScrollBar verticalBar = scrollPane.getVerticalScrollBar();\r\n        // If we want to scroll to the top, set this value to the minimum,\r\n        // else to the maximum\r\n        int topOrBottom = direction == ScrollDirection.UP ?\r\n                          verticalBar.getMinimum() :\r\n                          verticalBar.getMaximum();\r\n\r\n        AdjustmentListener scroller = new AdjustmentListener() {\r\n            @Override\r\n            public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                Adjustable adjustable = e.getAdjustable();\r\n                adjustable.setValue(topOrBottom);\r\n                // We have to remove the listener, otherwise the\r\n                // user would be unable to scroll afterwards\r\n                verticalBar.removeAdjustmentListener(this);\r\n            }\r\n        };\r\n        verticalBar.addAdjustmentListener(scroller);\r\n    }\r\n\r\n    public enum ScrollDirection {\r\n        UP, DOWN\r\n    }\r\n","title":"How to auto scroll to bottom in Java Swing","body":"<p>This is how I scroll all the way up or down automatically:</p>\n\n<pre><code>/**\n * Scrolls a {@code scrollPane} all the way up or down.\n *\n * @param scrollPane the scrollPane that we want to scroll up or down\n * @param direction  we scroll up if this is {@link ScrollDirection#UP},\n *                   or down if it's {@link ScrollDirection#DOWN}\n */\npublic static void scroll(JScrollPane scrollPane, ScrollDirection direction) {\n    JScrollBar verticalBar = scrollPane.getVerticalScrollBar();\n    // If we want to scroll to the top, set this value to the minimum,\n    // else to the maximum\n    int topOrBottom = direction == ScrollDirection.UP ?\n                      verticalBar.getMinimum() :\n                      verticalBar.getMaximum();\n\n    AdjustmentListener scroller = new AdjustmentListener() {\n        @Override\n        public void adjustmentValueChanged(AdjustmentEvent e) {\n            Adjustable adjustable = e.getAdjustable();\n            adjustable.setValue(topOrBottom);\n            // We have to remove the listener, otherwise the\n            // user would be unable to scroll afterwards\n            verticalBar.removeAdjustmentListener(this);\n        }\n    };\n    verticalBar.addAdjustmentListener(scroller);\n}\n\npublic enum ScrollDirection {\n    UP, DOWN\n}\n</code></pre>\n"}],"owner":{"account_id":216107,"reputation":32733,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19922,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6380579,"answer_count":3,"score":5,"last_activity_date":1634850345,"creation_date":1308261032,"question_id":6379061,"body_markdown":"I have a simple JPanel with a JScrollPane (with vertical scrollbar as needed) on it.\r\n\r\nThings get added to (or removed from) the JPanel and when it goes beyond the bottom of the panel, I want the JScrollPane to scroll down to the bottom automatically as needed or scroll up if some components go away from the panel.\r\n\r\nHow shall I do this? I am guessing I need some kind of listener which gets called whenever the JPanel height changes? Or is there something as simple as `JScrollPanel.setAutoScroll(true)`?","title":"How to auto scroll to bottom in Java Swing","body":"<p>I have a simple JPanel with a JScrollPane (with vertical scrollbar as needed) on it.</p>\n\n<p>Things get added to (or removed from) the JPanel and when it goes beyond the bottom of the panel, I want the JScrollPane to scroll down to the bottom automatically as needed or scroll up if some components go away from the panel.</p>\n\n<p>How shall I do this? I am guessing I need some kind of listener which gets called whenever the JPanel height changes? Or is there something as simple as <code>JScrollPanel.setAutoScroll(true)</code>?</p>\n"},{"tags":["java","eclipse","deployment","jar","desktop-application"],"answers":[{"tags":[],"owner":{"account_id":18534712,"reputation":134,"user_id":13504656,"display_name":"Strider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634850193,"creation_date":1589019466,"answer_id":61695121,"question_id":61695043,"body_markdown":"If, I understand you right, you want to export your application as jar file?\r\nIf that so, you can right click on your project and click export. Here you can choose export as jar or as runnable jar-file. I would prefer a runnable jar so you can execute that on every pc.\r\n\r\nAn another way to do that is to use maven. with maven you can package a runnable jar\r\nhttps://cwiki.apache.org/confluence/display/MAVEN/Tutorial%3A+Build+a+JAR+file+with+Maven+in+5+minutes\r\n","title":"Deploying a Java Desktop application built in Eclipse","body":"<p>If, I understand you right, you want to export your application as jar file?\nIf that so, you can right click on your project and click export. Here you can choose export as jar or as runnable jar-file. I would prefer a runnable jar so you can execute that on every pc.</p>\n<p>An another way to do that is to use maven. with maven you can package a runnable jar\n<a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Tutorial%3A+Build+a+JAR+file+with+Maven+in+5+minutes\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/MAVEN/Tutorial%3A+Build+a+JAR+file+with+Maven+in+5+minutes</a></p>\n"}],"owner":{"account_id":17695619,"reputation":55,"user_id":12846439,"display_name":"Devansh Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61695121,"answer_count":1,"score":0,"last_activity_date":1634850193,"creation_date":1589019020,"question_id":61695043,"body_markdown":"I am currently Developing a Windows based Java Desktop Application. I am working on Eclipse IDE. I am curious to know how to Deploy my app so that others can also use my app. Also can It run if jre is not present on client&#39;s pc. Could anyone give me a detailed Procedure to do so.\r\nI have built the application by using Swing Library","title":"Deploying a Java Desktop application built in Eclipse","body":"<p>I am currently Developing a Windows based Java Desktop Application. I am working on Eclipse IDE. I am curious to know how to Deploy my app so that others can also use my app. Also can It run if jre is not present on client's pc. Could anyone give me a detailed Procedure to do so.\nI have built the application by using Swing Library</p>\n"},{"tags":["java","user-interface","graphics","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1634847692,"post_id":69668207,"comment_id":123144105,"body_markdown":"So, each time you paint to the image, you&#39;re simply painting over the pixels that were already there, you need to &quot;blank out&quot; the area you want to paint first","body":"So, each time you paint to the image, you&#39;re simply painting over the pixels that were already there, you need to &quot;blank out&quot; the area you want to paint first"},{"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"score":0,"creation_date":1634848654,"post_id":69668207,"comment_id":123144430,"body_markdown":"Ok, I thought i needed to clear the buffer or something similar. How can I do that?","body":"Ok, I thought i needed to clear the buffer or something similar. How can I do that?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1634848732,"post_id":69668207,"comment_id":123144460,"body_markdown":"The simplest way would be not to re-use the image. Have a base image onto which content is painted each time, so you&#39;re always starting from a &quot;new&quot; state.  Failing that, you&#39;ll need to fill a rectangle around the &quot;possible&quot; area of where the text was/might be","body":"The simplest way would be not to re-use the image. Have a base image onto which content is painted each time, so you&#39;re always starting from a &quot;new&quot; state.  Failing that, you&#39;ll need to fill a rectangle around the &quot;possible&quot; area of where the text was/might be"},{"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"score":0,"creation_date":1634849611,"post_id":69668207,"comment_id":123144777,"body_markdown":"That&#39;s Helpful! Currently i only open the base image once outside the for loop and call that instance from inside each time. I&#39;ll try opening it inside the loop, even though that&#39;s worse style and will take a little longer","body":"That&#39;s Helpful! Currently i only open the base image once outside the for loop and call that instance from inside each time. I&#39;ll try opening it inside the loop, even though that&#39;s worse style and will take a little longer"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1634850106,"post_id":69668207,"comment_id":123144959,"body_markdown":"Load the master image.  Create a second image the same size as the master.  Then, in the loop, paint the master into the copy and use it instead for the rest of the paint operations","body":"Load the master image.  Create a second image the same size as the master.  Then, in the loop, paint the master into the copy and use it instead for the rest of the paint operations"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634850023,"creation_date":1634850023,"answer_id":69668740,"question_id":69668207,"body_markdown":"Painting graphics is a lot like painting on a real world canvas, you are simply painting over the top of what is already there.  If you want to &quot;replace&quot; a portion of the image, you need to paint over the top of it first.\r\n\r\nIn this case...\r\n\r\n# You could...\r\n\r\nFill a rectangle with a default color over the area that the text will be painted to.\r\n\r\nThis is problematic as you need to either know the &quot;maximum&quot; possible area covered or the size of the content that was painted previously.\r\n\r\nAlternatively...\r\n\r\n# You could...\r\n\r\nStart with a blank slate on each cycle.  That is, start with a copy of the &quot;master&quot; image on each cycle and simply repaint the state into.\r\n\r\nFor example...\r\n\r\n[![Background][1]][1]\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.FormatStyle;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage background;\r\n            private Timer timer;\r\n\r\n            private DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/background.jpg&quot;));\r\n                background = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                renderBackground();\r\n            }\r\n\r\n            protected void renderBackground() {\r\n                if (master == null) {\r\n                    return;\r\n                }\r\n                Graphics2D g2d = background.createGraphics();\r\n                g2d.drawImage(master, 0, 0, this);\r\n\r\n                g2d.setFont(getFont());\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n\r\n                String time = LocalTime.now().format(timeFormatter);\r\n\r\n                int x = (background.getWidth() - fm.stringWidth(time)) / 2;\r\n                int y = ((background.getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n\r\n                g2d.drawString(time, x, y);\r\n\r\n                g2d.dispose();\r\n\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (master == null) {\r\n                    return new Dimension(200, 200);\r\n                }\r\n\r\n                return new Dimension(master.getWidth(), master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = new Timer(500, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        renderBackground();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (background == null) {\r\n                    return;\r\n                }\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = (getWidth() - background.getWidth()) / 2;\r\n                int y = (getHeight() - background.getHeight()) / 2;\r\n                g2d.drawImage(background, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jyqQT.gif","title":"Graphics2D overlaying image + text problem: text is wrong","body":"<p>Painting graphics is a lot like painting on a real world canvas, you are simply painting over the top of what is already there.  If you want to &quot;replace&quot; a portion of the image, you need to paint over the top of it first.</p>\n<p>In this case...</p>\n<h1>You could...</h1>\n<p>Fill a rectangle with a default color over the area that the text will be painted to.</p>\n<p>This is problematic as you need to either know the &quot;maximum&quot; possible area covered or the size of the content that was painted previously.</p>\n<p>Alternatively...</p>\n<h1>You could...</h1>\n<p>Start with a blank slate on each cycle.  That is, start with a copy of the &quot;master&quot; image on each cycle and simply repaint the state into.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/jyqQT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jyqQT.gif\" alt=\"Background\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.FormatStyle;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage background;\n        private Timer timer;\n\n        private DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/background.jpg&quot;));\n            background = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            renderBackground();\n        }\n\n        protected void renderBackground() {\n            if (master == null) {\n                return;\n            }\n            Graphics2D g2d = background.createGraphics();\n            g2d.drawImage(master, 0, 0, this);\n\n            g2d.setFont(getFont());\n            FontMetrics fm = g2d.getFontMetrics();\n\n            String time = LocalTime.now().format(timeFormatter);\n\n            int x = (background.getWidth() - fm.stringWidth(time)) / 2;\n            int y = ((background.getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n\n            g2d.drawString(time, x, y);\n\n            g2d.dispose();\n\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (master == null) {\n                return new Dimension(200, 200);\n            }\n\n            return new Dimension(master.getWidth(), master.getHeight());\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    renderBackground();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (background == null) {\n                return;\n            }\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = (getWidth() - background.getWidth()) / 2;\n            int y = (getHeight() - background.getHeight()) / 2;\n            g2d.drawImage(background, x, y, this);\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69668740,"answer_count":1,"score":1,"last_activity_date":1634850023,"creation_date":1634847031,"question_id":69668207,"body_markdown":"I&#39;m using the Graphics2D class to overlay two images (i want one to act as background and another smaller one to appear on top) and after that i want to add a simple line of text. This code works great, but im calling it from a for loop, and after the first image is generated the text of the rest starts to come off weird. I&#39;m printing numbers, and its like the program is inserting the new text over the text in the last image and so on. \r\n\r\nThis is the function I call from the for loop to create the image: \r\n```java\r\nprivate static void createCompositeImage(BufferedImage image, BufferedImage overlay, String filename, String codigo) throws IOException {\r\n        Graphics2D g = image.createGraphics();\r\n        g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER));\r\n        g.drawImage(overlay, (image.getWidth() - overlay.getWidth()),\r\n                (image.getHeight() - overlay.getHeight())-200, null);\r\n\r\n        g.setFont(g.getFont().deriveFont(40f));\r\n        g.drawString(&quot;Entrada n&#250;mero: &quot; + codigo, 30, image.getHeight()-300);\r\n        g.dispose();\r\n\r\n        ImageIO.write(image, &quot;jpeg&quot;, new File(filename + &quot;.jpeg&quot;));\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd this is what happens on any image that&#39;s not the first: \r\n[![enter image description here][1]][1] \r\n\r\nAnyone knows what i&#39;m doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rksJw.png","title":"Graphics2D overlaying image + text problem: text is wrong","body":"<p>I'm using the Graphics2D class to overlay two images (i want one to act as background and another smaller one to appear on top) and after that i want to add a simple line of text. This code works great, but im calling it from a for loop, and after the first image is generated the text of the rest starts to come off weird. I'm printing numbers, and its like the program is inserting the new text over the text in the last image and so on.</p>\n<p>This is the function I call from the for loop to create the image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void createCompositeImage(BufferedImage image, BufferedImage overlay, String filename, String codigo) throws IOException {\n        Graphics2D g = image.createGraphics();\n        g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER));\n        g.drawImage(overlay, (image.getWidth() - overlay.getWidth()),\n                (image.getHeight() - overlay.getHeight())-200, null);\n\n        g.setFont(g.getFont().deriveFont(40f));\n        g.drawString(&quot;Entrada número: &quot; + codigo, 30, image.getHeight()-300);\n        g.dispose();\n\n        ImageIO.write(image, &quot;jpeg&quot;, new File(filename + &quot;.jpeg&quot;));\n\n    }\n\n</code></pre>\n<p>And this is what happens on any image that's not the first:\n<a href=\"https://i.stack.imgur.com/rksJw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rksJw.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone knows what i'm doing wrong?</p>\n"},{"tags":["java","postgresql","hibernate","spring-data"],"comments":[{"owner":{"account_id":2133309,"reputation":2564,"user_id":7671876,"display_name":"codeLover"},"score":0,"creation_date":1535690298,"post_id":52108442,"comment_id":91167666,"body_markdown":"Can you share your entity class please?","body":"Can you share your entity class please?"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1535690423,"post_id":52108442,"comment_id":91167695,"body_markdown":"It might help to also show us the table definition in Postgres.","body":"It might help to also show us the table definition in Postgres."}],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551780301,"creation_date":1535715051,"answer_id":52114544,"question_id":52108442,"body_markdown":"Because the query is native, Hibernate doesn&#39;t know the data types which to expect, so when you pass a null it defaults to the generic Serializable type handler. Changing this behaviour breaks compatibility with other databases.\r\n\r\nPostgres, however parses the query immediately and determines what types are acceptable, and it always checks for type before it checks for null. They are the only ones who can fix this, but refuse to do so and say it works as intended.\r\n\r\nThe only solutions for you are:\r\n\r\n * use JPQL \r\n * use managed entities\r\n * use hard-coded nulls in the query string where you need to\r\n\r\nFortunately for the third option, with Hibernate you can use named parameters in native queries, so you don&#39;t have to do positional calculations for when something is available and when it isn&#39;t.\r\n\r\n**edit:** 4th solution that I&#39;ve discovered since.\r\n\r\nYou have your query:\r\n\r\n    Query q = em.createNativeQuery(&quot;UPDATE...&quot;);\r\n\r\nHave some static final LocalDate object somewhere:\r\n\r\n    public static final LocalDate EPOCH_DATE = LocalDate.of(1970, 1, 1);\r\n\r\nthen call the query like this:\r\n\r\n    q.setParameter(&quot;start_date&quot;, EPOCH_DATE);\r\n    q.setParameter(&quot;start_date&quot;, nullableDateParam);\r\n\r\nThe first time you call setParameter for a parameter, Hibernate uses the class to resolve the type. The second time you call it, the type is already resolved, so a null will work.","title":"Native named query fails with exception &quot;column is of type date but expression is of type bytea&quot;when NULL LocalDate is given as input","body":"<p>Because the query is native, Hibernate doesn't know the data types which to expect, so when you pass a null it defaults to the generic Serializable type handler. Changing this behaviour breaks compatibility with other databases.</p>\n\n<p>Postgres, however parses the query immediately and determines what types are acceptable, and it always checks for type before it checks for null. They are the only ones who can fix this, but refuse to do so and say it works as intended.</p>\n\n<p>The only solutions for you are:</p>\n\n<ul>\n<li>use JPQL </li>\n<li>use managed entities</li>\n<li>use hard-coded nulls in the query string where you need to</li>\n</ul>\n\n<p>Fortunately for the third option, with Hibernate you can use named parameters in native queries, so you don't have to do positional calculations for when something is available and when it isn't.</p>\n\n<p><strong>edit:</strong> 4th solution that I've discovered since.</p>\n\n<p>You have your query:</p>\n\n<pre><code>Query q = em.createNativeQuery(\"UPDATE...\");\n</code></pre>\n\n<p>Have some static final LocalDate object somewhere:</p>\n\n<pre><code>public static final LocalDate EPOCH_DATE = LocalDate.of(1970, 1, 1);\n</code></pre>\n\n<p>then call the query like this:</p>\n\n<pre><code>q.setParameter(\"start_date\", EPOCH_DATE);\nq.setParameter(\"start_date\", nullableDateParam);\n</code></pre>\n\n<p>The first time you call setParameter for a parameter, Hibernate uses the class to resolve the type. The second time you call it, the type is already resolved, so a null will work.</p>\n"},{"tags":[],"owner":{"account_id":20740536,"reputation":1,"user_id":15230322,"display_name":"greenbean57"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613591383,"creation_date":1613591383,"answer_id":66249009,"question_id":52108442,"body_markdown":"Going to newer versions of hibernate 5.1.17 and above + postgres seems to have exhibited this behavior. Looking into the code, when it binds a type that has no value, the old hibernate code attempted to resolve the type through a typeresolver. The newer versions of hibernate&#39;s implementation state that it will not guess.  \r\n\r\n      public Type resolveParameterBindType(Object bindValue) {\r\n    \t\tif ( bindValue == null ) {\r\n    \t\t\t// we can&#39;t guess\r\n    \t\t\treturn null;\r\n    \t\t}\r\n\r\n\r\nWe ended up just setting a default value based on the type first, and then the real null value. ","title":"Native named query fails with exception &quot;column is of type date but expression is of type bytea&quot;when NULL LocalDate is given as input","body":"<p>Going to newer versions of hibernate 5.1.17 and above + postgres seems to have exhibited this behavior. Looking into the code, when it binds a type that has no value, the old hibernate code attempted to resolve the type through a typeresolver. The newer versions of hibernate's implementation state that it will not guess.</p>\n<pre><code>  public Type resolveParameterBindType(Object bindValue) {\n        if ( bindValue == null ) {\n            // we can't guess\n            return null;\n        }\n</code></pre>\n<p>We ended up just setting a default value based on the type first, and then the real null value.</p>\n"},{"tags":[],"owner":{"account_id":9580160,"reputation":11,"user_id":7114941,"display_name":"Farruh Turgunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634848499,"creation_date":1634848499,"answer_id":69668465,"question_id":52108442,"body_markdown":"It&#39;s an old question, but there is a more useful way:\r\n\r\nyour query...\r\n.setParameter(&quot;transaction_id&quot;, null, LongType.INSTANCE)\r\n\r\nIt works.\r\nFound from https://forum.hibernate.org/viewtopic.php?p=2493645","title":"Native named query fails with exception &quot;column is of type date but expression is of type bytea&quot;when NULL LocalDate is given as input","body":"<p>It's an old question, but there is a more useful way:</p>\n<p>your query...\n.setParameter(&quot;transaction_id&quot;, null, LongType.INSTANCE)</p>\n<p>It works.\nFound from <a href=\"https://forum.hibernate.org/viewtopic.php?p=2493645\" rel=\"nofollow noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2493645</a></p>\n"}],"owner":{"account_id":1786908,"reputation":135,"user_id":1628191,"accept_rate":40,"display_name":"Libin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634848499,"creation_date":1535689812,"question_id":52108442,"body_markdown":"Query:\r\n\r\n        INSERT INTO PERSON \r\n            (email, mobile, party_id, affiliate_id, eligibility, member_start_date, created_by, created_dt, first_name, last_name, google_connected) \r\n            values \r\n            (&#39;xxx@yyy.org&#39;, NULL, 123, &#39;123&#39;, &#39;1&#39;, NULL, NULL, &#39;2018-8-30 21:45:56.859000 -6:0:0&#39;, &#39;xxx&#39;, &#39;yyy&#39;, &#39;0&#39;)\r\n            ON CONFLICT (email) \r\n            DO UPDATE SET create_dt = &#39;2018-8-30 21:45:56.859000 -6:0:0&#39; where email = ?\r\n\r\nWhen the LocalDate value is not null, it works fine. Facing this issue only when LocalDate value is given as null. \r\n\r\nEven after PostgreSQL casting, it does the same. \r\n\r\nException stacktrace:\r\n\r\n&gt; 2018-08-30 21:10:48,372 -- [ERROR]-- There was an unexpected problem\r\n&gt; with your request org.postgresql.util.PSQLException: ERROR: column\r\n&gt; &quot;member_start_date&quot; is of type date but expression is of type bytea  \r\n&gt; Hint: You will need to rewrite or cast the expression.   Position: 185\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2182)\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1911)\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:173)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:645)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:495)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:380) \tat sun.reflect.GeneratedMethodAccessor98.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\r\n&gt; \tat com.sun.proxy.$Proxy185.executeQuery(Unknown Source) \tat  \tat\r\n&gt; org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70)\r\n&gt; \t... 149 common frames omitted\r\n\r\nEntity:\r\n\r\n    @Entity(name = &quot;person&quot;)\r\n    @EqualsAndHashCode(callSuper = false)\r\n    public class PersonEntity extends Audit {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;person_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotNull\r\n    private String email;\r\n\r\n    @Column(name = &quot;mobile&quot;)\r\n    private String mobile;\r\n\r\n    @Column(name = &quot;party_id&quot;)\r\n    private Long partyId;\r\n\r\n    @Column(name = &quot;affiliate_id&quot;)\r\n    private String affiliateId;\r\n\r\n    @Column(name = &quot;eligibility&quot;)\r\n    @NotNull\r\n    private Boolean eligibility;\r\n\r\n    @Column(name = &quot;member_start_date&quot;)\r\n    private LocalDate memberStartDate;\r\n\r\n    @Column(name = &quot;google_connected&quot;)\r\n    private Boolean googleAccountConnected;\r\n    }\r\n\r\n\r\nPostgreSQL table definition; it&#39;s missing `google_connected` column which is not important:\r\n\r\n    CREATE TABLE person\r\n    ( \r\n       person_id             UUID NOT NULL,\r\n       email                 VARCHAR(128) NOT NULL,\r\n       mobile                VARCHAR(20), \r\n       party_id              INTEGER,\r\n       affiliate_id          VARCHAR(20),\r\n       eligibility\t\t        BOOLEAN NOT NULL,\r\n       member_start_date     DATE, \r\n       created_by            VARCHAR(128) NOT NULL,\r\n       created_dt            TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n       updated_by            VARCHAR(128) DEFAULT NULL,\r\n       updated_dt            TIMESTAMP NULL,\r\n       CONSTRAINT person_pk PRIMARY KEY ( person_id )\r\n     );","title":"Native named query fails with exception &quot;column is of type date but expression is of type bytea&quot;when NULL LocalDate is given as input","body":"<p>Query:</p>\n\n<pre><code>    INSERT INTO PERSON \n        (email, mobile, party_id, affiliate_id, eligibility, member_start_date, created_by, created_dt, first_name, last_name, google_connected) \n        values \n        ('xxx@yyy.org', NULL, 123, '123', '1', NULL, NULL, '2018-8-30 21:45:56.859000 -6:0:0', 'xxx', 'yyy', '0')\n        ON CONFLICT (email) \n        DO UPDATE SET create_dt = '2018-8-30 21:45:56.859000 -6:0:0' where email = ?\n</code></pre>\n\n<p>When the LocalDate value is not null, it works fine. Facing this issue only when LocalDate value is given as null. </p>\n\n<p>Even after PostgreSQL casting, it does the same. </p>\n\n<p>Exception stacktrace:</p>\n\n<blockquote>\n  <p>2018-08-30 21:10:48,372 -- [ERROR]-- There was an unexpected problem\n  with your request org.postgresql.util.PSQLException: ERROR: column\n  \"member_start_date\" is of type date but expression is of type bytea<br>\n  Hint: You will need to rewrite or cast the expression.   Position: 185\n    at\n  org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2182)\n    at\n  org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1911)\n    at\n  org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:173)\n    at\n  org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:645)\n    at\n  org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:495)\n    at\n  org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:380)     at sun.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)     at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\n    at com.sun.proxy.$Proxy185.executeQuery(Unknown Source)     at      at\n  org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70)\n    ... 149 common frames omitted</p>\n</blockquote>\n\n<p>Entity:</p>\n\n<pre><code>@Entity(name = \"person\")\n@EqualsAndHashCode(callSuper = false)\npublic class PersonEntity extends Audit {\n\n@Id\n@GeneratedValue\n@Column(name = \"person_id\", columnDefinition = \"uuid\", updatable = false)\nprivate UUID id;\n\n@Column(name = \"first_name\")\nprivate String firstName;\n\n@Column(name = \"last_name\")\nprivate String lastName;\n\n@Column(name = \"email\")\n@NotNull\nprivate String email;\n\n@Column(name = \"mobile\")\nprivate String mobile;\n\n@Column(name = \"party_id\")\nprivate Long partyId;\n\n@Column(name = \"affiliate_id\")\nprivate String affiliateId;\n\n@Column(name = \"eligibility\")\n@NotNull\nprivate Boolean eligibility;\n\n@Column(name = \"member_start_date\")\nprivate LocalDate memberStartDate;\n\n@Column(name = \"google_connected\")\nprivate Boolean googleAccountConnected;\n}\n</code></pre>\n\n<p>PostgreSQL table definition; it's missing <code>google_connected</code> column which is not important:</p>\n\n<pre><code>CREATE TABLE person\n( \n   person_id             UUID NOT NULL,\n   email                 VARCHAR(128) NOT NULL,\n   mobile                VARCHAR(20), \n   party_id              INTEGER,\n   affiliate_id          VARCHAR(20),\n   eligibility              BOOLEAN NOT NULL,\n   member_start_date     DATE, \n   created_by            VARCHAR(128) NOT NULL,\n   created_dt            TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n   updated_by            VARCHAR(128) DEFAULT NULL,\n   updated_dt            TIMESTAMP NULL,\n   CONSTRAINT person_pk PRIMARY KEY ( person_id )\n );\n</code></pre>\n"},{"tags":["java","arrays","methods"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634847738,"creation_date":1634847738,"answer_id":69668317,"question_id":69667900,"body_markdown":"Use [`Random.ints(streamSize, origin, bound)`](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-long-int-int-) to create an `IntStream` of random values which are collected into array:\r\n```java\r\npublic static int[] buildArray(int size, int from, int to) {\r\n    return new Random() // or ThreadLocalRandom.current()\r\n            .ints(size, from, to) // IntStream\r\n            .toArray();\r\n}\r\n```","title":"How do I create a method that meet this condition and return them?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-long-int-int-\" rel=\"nofollow noreferrer\"><code>Random.ints(streamSize, origin, bound)</code></a> to create an <code>IntStream</code> of random values which are collected into array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] buildArray(int size, int from, int to) {\n    return new Random() // or ThreadLocalRandom.current()\n            .ints(size, from, to) // IntStream\n            .toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":23100296,"reputation":1,"user_id":17209800,"display_name":"RzdrIll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635069910,"answer_count":1,"score":0,"last_activity_date":1634847738,"creation_date":1634845172,"question_id":69667900,"body_markdown":"How do I make a method that has an array of size x, fill it with random numbers between y and z, then return the array? When I call the method I will have a certain size of the array(x) and then I will have the range of z and y.","title":"How do I create a method that meet this condition and return them?","body":"<p>How do I make a method that has an array of size x, fill it with random numbers between y and z, then return the array? When I call the method I will have a certain size of the array(x) and then I will have the range of z and y.</p>\n"},{"tags":["java","amazon-web-services","eclipse","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634847699,"creation_date":1634843519,"answer_id":69667574,"question_id":69667519,"body_markdown":"You can create a Maven project in Eclipse and then Export that as a JAR file that you can upload to the AWS Management Console. Its very easy to do so. To learn how to do this use case, see this AWS tutorial. It uses IntelliJ (just switch that for Eclipse), and follow the rest of the doc. \r\n\r\nThe example use case for this Lambda function is to detect personal protective equipment (PPE) in images located in an Amazon Simple Storage Service (Amazon S3) bucket. It steps you through all steps including deploying the Lambda function. \r\n\r\n[Creating an AWS Lambda function that detects images with Personal Protective Equipment][1]\r\n\r\nYou will never encounter issues that you are seeing in this tool when building and deploying via the Console. \r\n\r\n**Update**\r\nThis Lambda function works -- just tested it. Here are the results in the Lambda Console.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nData that is placed in the DynamoDB table: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nYour error is saying it cannot find the cred provider. When using Lambda, you do not need to set creds in your Java code. The permissions are set in the IAM role. You need to set the policy for the IAM role so it can invoke the services.  SO in this example use case, we set policies for **lambda-support**.\r\n\r\n**Another Update**\r\n\r\nFrom Eclipse, I build a project using your code (I think this PPE is pretty advanced - so we will make a new one named Getting Started with Lambda). It worked well:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_lambda_ppe\r\n  [2]: https://i.stack.imgur.com/QJmJF.png\r\n  [3]: https://i.stack.imgur.com/R2anr.png\r\n  [4]: https://i.stack.imgur.com/upFJo.png","title":"How to correctly create a zip file that can be uploaded to AWS lambda using Eclipse?","body":"<p>You can create a Maven project in Eclipse and then Export that as a JAR file that you can upload to the AWS Management Console. Its very easy to do so. To learn how to do this use case, see this AWS tutorial. It uses IntelliJ (just switch that for Eclipse), and follow the rest of the doc.</p>\n<p>The example use case for this Lambda function is to detect personal protective equipment (PPE) in images located in an Amazon Simple Storage Service (Amazon S3) bucket. It steps you through all steps including deploying the Lambda function.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_lambda_ppe\" rel=\"nofollow noreferrer\">Creating an AWS Lambda function that detects images with Personal Protective Equipment</a></p>\n<p>You will never encounter issues that you are seeing in this tool when building and deploying via the Console.</p>\n<p><strong>Update</strong>\nThis Lambda function works -- just tested it. Here are the results in the Lambda Console.</p>\n<p><a href=\"https://i.stack.imgur.com/QJmJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QJmJF.png\" alt=\"enter image description here\" /></a></p>\n<p>Data that is placed in the DynamoDB table:</p>\n<p><a href=\"https://i.stack.imgur.com/R2anr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R2anr.png\" alt=\"enter image description here\" /></a></p>\n<p>Your error is saying it cannot find the cred provider. When using Lambda, you do not need to set creds in your Java code. The permissions are set in the IAM role. You need to set the policy for the IAM role so it can invoke the services.  SO in this example use case, we set policies for <strong>lambda-support</strong>.</p>\n<p><strong>Another Update</strong></p>\n<p>From Eclipse, I build a project using your code (I think this PPE is pretty advanced - so we will make a new one named Getting Started with Lambda). It worked well:</p>\n<p><a href=\"https://i.stack.imgur.com/upFJo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upFJo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15176361,"reputation":387,"user_id":16975568,"display_name":"mastercooler6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69667574,"answer_count":1,"score":1,"last_activity_date":1634847699,"creation_date":1634843222,"question_id":69667519,"body_markdown":"**How do I create a zip file from an existing Java project that can be uploaded to an AWS Lambda function??**\r\n\r\nI can&#39;t find any clear steps on how to do this. I want to export my Eclipse project as a zip file and then upload it to AWS Lambda. Currently, I use the AWS Toolkit in Eclipse to upload the project, but now I want to do it manually using a zip file. \r\n\r\nWhat are the steps?\r\n\r\nThis is how I tried to do it. This is where I export the project as a zip:\r\n\r\n[![exporting as zip file][1]][1]\r\n\r\nThen, I go to AWS and choose to upload a zip file:\r\n\r\n[![upload type][2]][2]\r\n\r\nI choose my zip file and then test the code and this is the error I get:\r\n```\r\n{\r\n  &quot;errorMessage&quot;: &quot;Error loading class com.amazonaws.lambda.demo.LambdaFunctionHandler: com/amazonaws/auth/AWSCredentialsProvider&quot;,\r\n  &quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;\r\n}\r\n```\r\n\r\n[![errors][3]][3]\r\n\r\n**EDIT**: The function works if I upload using the Toolkit so I know that all resources are in the folder, I just need to figure out how to use it.\r\nAnd this is the function&#39;s code: \r\n```\r\npublic class LambdaFunctionHandler extends IOException implements RequestHandler&lt;SNSEvent, String&gt; {\r\n\r\n\tprivate static AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1)\r\n\t\t\t.withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).build();\r\n\r\n\tpublic LambdaFunctionHandler() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String handleRequest(SNSEvent event, Context context) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Hello world&quot;);\r\n\t\t\treturn &quot;SUCCESS2&quot;;\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;caught exception&quot;);\r\n\t\t}\r\n\t\treturn &quot;FAILURE2&quot;;\r\n\t}\r\n\t\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**EDIT #2**: This is my `pom.xml` file:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\r\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.91&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.hierynomus/sshj --&gt;\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sshj&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.29.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1.55&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/ODsNc.png\r\n  [2]: https://i.stack.imgur.com/45Yjc.png\r\n  [3]: https://i.stack.imgur.com/6s3ZU.png","title":"How to correctly create a zip file that can be uploaded to AWS lambda using Eclipse?","body":"<p><strong>How do I create a zip file from an existing Java project that can be uploaded to an AWS Lambda function??</strong></p>\n<p>I can't find any clear steps on how to do this. I want to export my Eclipse project as a zip file and then upload it to AWS Lambda. Currently, I use the AWS Toolkit in Eclipse to upload the project, but now I want to do it manually using a zip file.</p>\n<p>What are the steps?</p>\n<p>This is how I tried to do it. This is where I export the project as a zip:</p>\n<p><a href=\"https://i.stack.imgur.com/ODsNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ODsNc.png\" alt=\"exporting as zip file\" /></a></p>\n<p>Then, I go to AWS and choose to upload a zip file:</p>\n<p><a href=\"https://i.stack.imgur.com/45Yjc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/45Yjc.png\" alt=\"upload type\" /></a></p>\n<p>I choose my zip file and then test the code and this is the error I get:</p>\n<pre><code>{\n  &quot;errorMessage&quot;: &quot;Error loading class com.amazonaws.lambda.demo.LambdaFunctionHandler: com/amazonaws/auth/AWSCredentialsProvider&quot;,\n  &quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6s3ZU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6s3ZU.png\" alt=\"errors\" /></a></p>\n<p><strong>EDIT</strong>: The function works if I upload using the Toolkit so I know that all resources are in the folder, I just need to figure out how to use it.\nAnd this is the function's code:</p>\n<pre><code>public class LambdaFunctionHandler extends IOException implements RequestHandler&lt;SNSEvent, String&gt; {\n\n    private static AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1)\n            .withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).build();\n\n    public LambdaFunctionHandler() {\n    }\n\n    @Override\n    public String handleRequest(SNSEvent event, Context context) {\n        try {\n            System.out.println(&quot;Hello world&quot;);\n            return &quot;SUCCESS2&quot;;\n        } catch (Exception e) {\n            System.out.println(&quot;caught exception&quot;);\n        }\n        return &quot;FAILURE2&quot;;\n    }\n    \n\n\n}\n\n</code></pre>\n<p><strong>EDIT #2</strong>: This is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.12.91&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n      &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.hierynomus/sshj --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\n        &lt;artifactId&gt;sshj&lt;/artifactId&gt;\n        &lt;version&gt;0.29.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n        &lt;version&gt;0.1.55&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1600477872,"post_id":63964325,"comment_id":113109829,"body_markdown":"Remove `if (this.balance &gt; 0) {` from `addCredit()`, otherwise there’s no possibility of `balance` ever increasing from zero, which is its starting value.","body":"Remove <code>if (this.balance &gt; 0) {</code> from <code>addCredit()</code>, otherwise there’s no possibility of <code>balance</code> ever increasing from zero, which is its starting value."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1600478534,"post_id":63964325,"comment_id":113109913,"body_markdown":"&quot;My calculation of numCredits * creditFee + addFee is not processing&quot; In your own words, why do you think it &quot;should process&quot;, and what do you think the result should be? Trace through the logic from beginning to end, and explain exactly what you expect to happen within each function. Then look at the code you have there, and try to relate what the code says will happen to what you actually want to happen.","body":"&quot;My calculation of numCredits * creditFee + addFee is not processing&quot; In your own words, why do you think it &quot;should process&quot;, and what do you think the result should be? Trace through the logic from beginning to end, and explain exactly what you expect to happen within each function. Then look at the code you have there, and try to relate what the code says will happen to what you actually want to happen."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1600478660,"post_id":63964325,"comment_id":113109924,"body_markdown":"It&#39;s not at all clear how you intend the `balance` method to work. Why does it accept a parameter that is also named `balance`? What value will you provide there, and what does it have to do with the working of the method? Why does the calculation `numCredits * creditFee + addFee` tell you anything relevant here - what is the *underlying problem you are trying to solve*? What is the underlying *concept you are trying to model*?","body":"It&#39;s not at all clear how you intend the <code>balance</code> method to work. Why does it accept a parameter that is also named <code>balance</code>? What value will you provide there, and what does it have to do with the working of the method? Why does the calculation <code>numCredits * creditFee + addFee</code> tell you anything relevant here - what is the <i>underlying problem you are trying to solve</i>? What is the underlying <i>concept you are trying to model</i>?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1600479035,"post_id":63964325,"comment_id":113109961,"body_markdown":"I agree, but I think it is better for beginners to be talked through the steps of debugging before they are given the answers.","body":"I agree, but I think it is better for beginners to be talked through the steps of debugging before they are given the answers."},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1600479973,"post_id":63964325,"comment_id":113110084,"body_markdown":"@KarlKnechtel Hm. Yes - I do agree, although sometimes the &quot;talking through&quot; really does happen in the answer.","body":"@KarlKnechtel Hm. Yes - I do agree, although sometimes the &quot;talking through&quot; really does happen in the answer."},{"owner":{"account_id":19546904,"reputation":3,"user_id":14303436,"display_name":"Den&#233; Sphynx Logan"},"score":0,"creation_date":1600482289,"post_id":63964325,"comment_id":113110351,"body_markdown":"@KarlKnechtel I felt as though the math was correct but I knew *something* was wrong since it was defaulting to just 0.0 even though my program would essentially run with no error; just incorrect balance total. I take your input to heart! thank you for it. I was at the point of frustration since I have been working/editing the code for hours but I just couldn&#39;t see what was wrong.","body":"@KarlKnechtel I felt as though the math was correct but I knew <i>something</i> was wrong since it was defaulting to just 0.0 even though my program would essentially run with no error; just incorrect balance total. I take your input to heart! thank you for it. I was at the point of frustration since I have been working/editing the code for hours but I just couldn&#39;t see what was wrong."}],"answers":[{"tags":[],"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600478292,"creation_date":1600477934,"answer_id":63964372,"question_id":63964325,"body_markdown":"**Method 1: Properly setting balance**\r\n\r\nThe balance always returns `0.0` because you never set the balance in your method.\r\n\r\nI believe your balance method should be:\r\n\r\n     public void balance(double balance){\r\n       this.balance=(numCredits * creditFee + addFee);\r\n     }\r\n\r\n**Method 2: Returning balance**\r\n\r\nYou can replace `student1.getBalance()` in RegistrationTest.java with `student1.balance()` that returns a double.\r\n\r\nRegistrationTest should be:\r\n\r\n    System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\r\n            + &quot;Current balance due: $ %.2f%n&quot;, \r\n            student1.getFirstName(),student1.getLastName(), student1.getNumCredits(), student1.getAddFee(),\r\n            student1.balance());\r\n\r\nAnd the method *balance()* should be:\r\n\r\n     public double balance(){\r\n       return (numCredits * creditFee + addFee);\r\n     }\r\n\r\nWith these changes it outputs:\r\n\r\n    Mihail Dichev:\r\n     Current Credit Hours: 15.000000\r\n     Additional Fees: $60.00\r\n    Current balance due: $ 1110.00\r\n    Dene Logan:\r\n     Current Credit Hours: 12.000000\r\n     Additional Fees: $45.00\r\n    Current balance due: $ 885.00\r\n\r\n\r\n","title":"Calculation returning 0.0","body":"<p><strong>Method 1: Properly setting balance</strong></p>\n<p>The balance always returns <code>0.0</code> because you never set the balance in your method.</p>\n<p>I believe your balance method should be:</p>\n<pre><code> public void balance(double balance){\n   this.balance=(numCredits * creditFee + addFee);\n }\n</code></pre>\n<p><strong>Method 2: Returning balance</strong></p>\n<p>You can replace <code>student1.getBalance()</code> in RegistrationTest.java with <code>student1.balance()</code> that returns a double.</p>\n<p>RegistrationTest should be:</p>\n<pre><code>System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\n        + &quot;Current balance due: $ %.2f%n&quot;, \n        student1.getFirstName(),student1.getLastName(), student1.getNumCredits(), student1.getAddFee(),\n        student1.balance());\n</code></pre>\n<p>And the method <em>balance()</em> should be:</p>\n<pre><code> public double balance(){\n   return (numCredits * creditFee + addFee);\n }\n</code></pre>\n<p>With these changes it outputs:</p>\n<pre><code>Mihail Dichev:\n Current Credit Hours: 15.000000\n Additional Fees: $60.00\nCurrent balance due: $ 1110.00\nDene Logan:\n Current Credit Hours: 12.000000\n Additional Fees: $45.00\nCurrent balance due: $ 885.00\n</code></pre>\n"}],"owner":{"account_id":19546904,"reputation":3,"user_id":14303436,"display_name":"Den&#233; Sphynx Logan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63964372,"answer_count":1,"score":0,"last_activity_date":1634847558,"creation_date":1600477215,"question_id":63964325,"body_markdown":"I&#39;m having some issues with an assignment for my Java class. My calculation of numCredits * creditFee + addFee is not processing; it continues to return 0.0\r\n\r\nThe assignment:\r\n\r\n![Assignment Screenshot][1] \r\n\r\n(Note, I have not yet added the additional parts of the assignment, the adding and subtracting of 3 credit hours to RegistrationTester. I will add those once I figure out this problem.)\r\n\r\n\r\nHere is a look at my code:\r\n\r\n```\r\npublic class Registration {\r\n    //attributes\r\nprivate String firstName = &quot;&quot;; \r\nprivate String lastName = &quot;&quot;;\r\nprivate double numCredits = 0;\r\nprivate double addFee = 0;\r\nprivate double creditFee = 70;\r\npublic double balance = 0;\r\n\r\n//constructor\r\npublic Registration(String firstName, String lastName, double numCredits, double addFee){\r\n    this.firstName = firstName;\r\n    this.lastName = lastName;\r\n    this.numCredits = numCredits;\r\n    this.addFee = addFee;\r\n}\r\n\r\npublic Registration(){} //\r\n public void balance(double balance){\r\n   System.out.println(numCredits * creditFee + addFee);\r\n }\r\n   public void addCredit(double addCredit){\r\n   if (this.balance &gt; 0) {\r\n   this.balance = balance + addCredit * creditFee;\r\n   }\r\n   }\r\n   \r\n   public void subCredit(double subCredit){\r\n   if (this.balance &gt; 0){\r\n   this.balance = balance - (subCredit * creditFee);\r\n   }\r\n   }\r\n//setters\r\npublic void setFirstName(String fname){\r\n    this.firstName = fname;\r\n}\r\npublic void setLastName(String lname){\r\n    this.lastName = lname;\r\n}\r\npublic void setNumCredits(double credits){\r\n    this.numCredits = credits;\r\n   }\r\n   public void setAddFee(double fee){\r\n   this.addFee = fee;\r\n   }\r\n   public void setcreditFee(double creditFee){\r\n   this.creditFee = 70;\r\n   }\r\n   public void setBalance(double balance){\r\n   this.balance = balance;\r\n   }\r\n   \r\n    //getters\r\n   \r\n   public String getFirstName(){\r\n   return this.firstName;\r\n   }\r\n   public String getLastName(){\r\n       return this.lastName;\r\n   }\r\n   public double getNumCredits(){\r\n   return this.numCredits;\r\n   }\r\n   public double getAddFee(){\r\n   return this.addFee;\r\n   }\r\n   public double getCreditFee(){\r\n   return this.creditFee;\r\n   }\r\n  public double getBalance(){\r\n      return this.balance;\r\n  }\r\n   \r\n}\r\n```\r\nand\r\n\r\n```\r\npublic class RegistrationTester {\r\n    public static void main(String[] args){\r\n    Registration student1 = new Registration (&quot;m&quot;, &quot;w&quot;, 15, 60);\r\n    Registration student2 = new Registration (&quot;d&quot;, &quot;y&quot;, 12, 45);\r\n    \r\n    //display students and their current stats\r\n    \r\n    System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\r\n            + &quot;Current balance due: $ %.2f%n&quot;, \r\n            student1.getFirstName(),student1.getLastName(), student1.getNumCredits(), student1.getAddFee(),\r\n            student1.getBalance());\r\n    System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\r\n            + &quot;Current balance due: $ %.2f%n&quot;, \r\n            student2.getFirstName(), student2.getLastName(), student2.getNumCredits(), student2.getAddFee(),\r\n            student2.getBalance());        \r\n        \r\n}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/ymohJ.png","title":"Calculation returning 0.0","body":"<p>I'm having some issues with an assignment for my Java class. My calculation of numCredits * creditFee + addFee is not processing; it continues to return 0.0</p>\n<p>The assignment:</p>\n<p><img src=\"https://i.stack.imgur.com/ymohJ.png\" alt=\"Assignment Screenshot\" /></p>\n<p>(Note, I have not yet added the additional parts of the assignment, the adding and subtracting of 3 credit hours to RegistrationTester. I will add those once I figure out this problem.)</p>\n<p>Here is a look at my code:</p>\n<pre><code>public class Registration {\n    //attributes\nprivate String firstName = &quot;&quot;; \nprivate String lastName = &quot;&quot;;\nprivate double numCredits = 0;\nprivate double addFee = 0;\nprivate double creditFee = 70;\npublic double balance = 0;\n\n//constructor\npublic Registration(String firstName, String lastName, double numCredits, double addFee){\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.numCredits = numCredits;\n    this.addFee = addFee;\n}\n\npublic Registration(){} //\n public void balance(double balance){\n   System.out.println(numCredits * creditFee + addFee);\n }\n   public void addCredit(double addCredit){\n   if (this.balance &gt; 0) {\n   this.balance = balance + addCredit * creditFee;\n   }\n   }\n   \n   public void subCredit(double subCredit){\n   if (this.balance &gt; 0){\n   this.balance = balance - (subCredit * creditFee);\n   }\n   }\n//setters\npublic void setFirstName(String fname){\n    this.firstName = fname;\n}\npublic void setLastName(String lname){\n    this.lastName = lname;\n}\npublic void setNumCredits(double credits){\n    this.numCredits = credits;\n   }\n   public void setAddFee(double fee){\n   this.addFee = fee;\n   }\n   public void setcreditFee(double creditFee){\n   this.creditFee = 70;\n   }\n   public void setBalance(double balance){\n   this.balance = balance;\n   }\n   \n    //getters\n   \n   public String getFirstName(){\n   return this.firstName;\n   }\n   public String getLastName(){\n       return this.lastName;\n   }\n   public double getNumCredits(){\n   return this.numCredits;\n   }\n   public double getAddFee(){\n   return this.addFee;\n   }\n   public double getCreditFee(){\n   return this.creditFee;\n   }\n  public double getBalance(){\n      return this.balance;\n  }\n   \n}\n</code></pre>\n<p>and</p>\n<pre><code>public class RegistrationTester {\n    public static void main(String[] args){\n    Registration student1 = new Registration (&quot;m&quot;, &quot;w&quot;, 15, 60);\n    Registration student2 = new Registration (&quot;d&quot;, &quot;y&quot;, 12, 45);\n    \n    //display students and their current stats\n    \n    System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\n            + &quot;Current balance due: $ %.2f%n&quot;, \n            student1.getFirstName(),student1.getLastName(), student1.getNumCredits(), student1.getAddFee(),\n            student1.getBalance());\n    System.out.printf(&quot;%s %s:%n Current Credit Hours: %f%n Additional Fees: $%.2f%n&quot;\n            + &quot;Current balance due: $ %.2f%n&quot;, \n            student2.getFirstName(), student2.getLastName(), student2.getNumCredits(), student2.getAddFee(),\n            student2.getBalance());        \n        \n}\n}\n</code></pre>\n"},{"tags":["java","rest","query-string"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1564509810,"post_id":57275310,"comment_id":101051838,"body_markdown":"*I have a GET request call as follow*: so, where is the request? If we don&#39;t know wat you&#39;re sending, it&#39;s harder to tell how to deal with the request.","body":"<i>I have a GET request call as follow</i>: so, where is the request? If we don&#39;t know wat you&#39;re sending, it&#39;s harder to tell how to deal with the request."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1564552170,"post_id":57275310,"comment_id":101063181,"body_markdown":"Query param must be a primitive value, but you&#39;re trying to pass complex structure. You should either use POST instead of GET + `@RequestBody` instead of `@QueryParam` or pass stringified JSON object to `@QueryParam(&quot;request&quot;) String apiRequestStr` and then deserialize that string into an instance of MyRequestClass (for example via [Jackson](https://github.com/FasterXML/jackson))","body":"Query param must be a primitive value, but you&#39;re trying to pass complex structure. You should either use POST instead of GET + <code>@RequestBody</code> instead of <code>@QueryParam</code> or pass stringified JSON object to <code>@QueryParam(&quot;request&quot;) String apiRequestStr</code> and then deserialize that string into an instance of MyRequestClass (for example via <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>)"}],"answers":[{"tags":[],"owner":{"account_id":2862360,"reputation":814,"user_id":2457352,"accept_rate":80,"display_name":"David SK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634846705,"creation_date":1634846705,"answer_id":69668160,"question_id":57275310,"body_markdown":"You can do it. You can consider using the BeanParam annotation, then your service definition will be:\r\n\r\n    MyReturnResponse getData(@BeanParam MyRequestClass apiRequest);\r\n\r\nthen you need to annotate each parameter on the Java Bean:\r\n\r\n    public class MyRequestClass {\r\n        @QueryParam(&quot;name&quot;) \r\n        @NotNull(message = &quot;application name is required&quot;)\r\n        public String applicationName;\r\n\r\n        @QueryParam\r\n        @NotNull(message = &quot;code type is required&quot;)\r\n        public String codeType;\r\n\r\n        @QueryParam\r\n        @NotNull(message = &quot;request date is required&quot;)\r\n        public String requestDate;\r\n    }\r\n\r\nwith this configuration you are able to call the service with a similar request:\r\n\r\n    /apiData?name=ApplicationName&amp;codeType=MyType&amp;requestDate=2021-10-21\r\n\r\nWith BeanParam you are telling the framework that the configuration will be placed on the JavaBean, inside the bean you can define any amount of parameters, not only query parameters, you can include Header, Path and Form parameters if you need (with the appropriate method POST, PUT, etc.)\r\n\r\n","title":"@QueryParam incorrect parameter type on a Java class","body":"<p>You can do it. You can consider using the BeanParam annotation, then your service definition will be:</p>\n<pre><code>MyReturnResponse getData(@BeanParam MyRequestClass apiRequest);\n</code></pre>\n<p>then you need to annotate each parameter on the Java Bean:</p>\n<pre><code>public class MyRequestClass {\n    @QueryParam(&quot;name&quot;) \n    @NotNull(message = &quot;application name is required&quot;)\n    public String applicationName;\n\n    @QueryParam\n    @NotNull(message = &quot;code type is required&quot;)\n    public String codeType;\n\n    @QueryParam\n    @NotNull(message = &quot;request date is required&quot;)\n    public String requestDate;\n}\n</code></pre>\n<p>with this configuration you are able to call the service with a similar request:</p>\n<pre><code>/apiData?name=ApplicationName&amp;codeType=MyType&amp;requestDate=2021-10-21\n</code></pre>\n<p>With BeanParam you are telling the framework that the configuration will be placed on the JavaBean, inside the bean you can define any amount of parameters, not only query parameters, you can include Header, Path and Form parameters if you need (with the appropriate method POST, PUT, etc.)</p>\n"}],"owner":{"account_id":16416437,"reputation":27,"user_id":11858522,"display_name":"Hoang Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634846705,"creation_date":1564500907,"question_id":57275310,"body_markdown":"I have a GET request call as follow and I am getting an \r\n&gt;Incorrect parameter type error \r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/apiData&quot;)\r\n    MyReturnResponse getData(@QueryParam(&quot;request&quot;) MyRequestClass apiRequest);\r\n\r\nHere is the request class:\r\n\r\n    public class MyRequestClass {\r\n        @NotNull(message = &quot;application name is required&quot;)\r\n        public String applicationName;\r\n\r\n        @NotNull(message = &quot;code type is required&quot;)\r\n        public String codeType;\r\n\r\n        @NotNull(message = &quot;request date is required&quot;)\r\n        public String requestDate;\r\n    }\r\n\r\nI am not sure as to why I am getting this. The following are the suggestion from my IDE. \r\n\r\n&gt; Be a primitive type.  \r\nHave a constructor that accepts a single String argument.  \r\nHave a static method named valueOf or fromString that accepts a \r\nsingle String argument (see, for example, Integer.valueOf(String)).  \r\nHave a registered implementation of ParamConverterProvider JAX-RS \r\nextension SPI that returns a ParamConverter instance capable of a \r\n&quot;from string&quot; conversion for the type.  \r\nBe List&lt;T&gt;, Set&lt;T&gt; or SortedSet&lt;T&gt;, where T satisfies 2, 3 or 4 \r\nabove. The resulting collection is read-only.\r\n\r\n \r\n\r\nWhat do I need to do? Please help.\r\n","title":"@QueryParam incorrect parameter type on a Java class","body":"<p>I have a GET request call as follow and I am getting an </p>\n\n<blockquote>\n  <p>Incorrect parameter type error </p>\n</blockquote>\n\n<pre><code>@GET\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@Path(\"/apiData\")\nMyReturnResponse getData(@QueryParam(\"request\") MyRequestClass apiRequest);\n</code></pre>\n\n<p>Here is the request class:</p>\n\n<pre><code>public class MyRequestClass {\n    @NotNull(message = \"application name is required\")\n    public String applicationName;\n\n    @NotNull(message = \"code type is required\")\n    public String codeType;\n\n    @NotNull(message = \"request date is required\")\n    public String requestDate;\n}\n</code></pre>\n\n<p>I am not sure as to why I am getting this. The following are the suggestion from my IDE. </p>\n\n<blockquote>\n  <p>Be a primitive type.<br>\n  Have a constructor that accepts a single String argument.<br>\n  Have a static method named valueOf or fromString that accepts a \n  single String argument (see, for example, Integer.valueOf(String)).<br>\n  Have a registered implementation of ParamConverterProvider JAX-RS \n  extension SPI that returns a ParamConverter instance capable of a \n  \"from string\" conversion for the type.<br>\n  Be List, Set or SortedSet, where T satisfies 2, 3 or 4 \n  above. The resulting collection is read-only.</p>\n</blockquote>\n\n<p>What do I need to do? Please help.</p>\n"},{"tags":["java","maven","jfugue"],"comments":[{"owner":{"account_id":9096833,"reputation":598,"user_id":6770517,"display_name":"Hydes"},"score":1,"creation_date":1634836182,"post_id":69665862,"comment_id":123140260,"body_markdown":"You need to let maven know, how it can find the artifact. Since it needs to search the SingGroup repository, you need to add that repository information to your pom as well. Check this out: https://maven.apache.org/guides/mini/guide-multiple-repositories.html","body":"You need to let maven know, how it can find the artifact. Since it needs to search the SingGroup repository, you need to add that repository information to your pom as well. Check this out: <a href=\"https://maven.apache.org/guides/mini/guide-multiple-repositories.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-multiple-repositories.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634835408,"creation_date":1634835408,"answer_id":69665972,"question_id":69665862,"body_markdown":"This Lib is no longer on the Maven repo. I get same result when adding the dependency to my project&#39;s POM file. You can get the JAR file from this URL and then include it into your project&#39;s class path: \r\n\r\nhttp://www.jfugue.org/download.html\r\n\r\n","title":"Dependency added to pom can not be resolved","body":"<p>This Lib is no longer on the Maven repo. I get same result when adding the dependency to my project's POM file. You can get the JAR file from this URL and then include it into your project's class path:</p>\n<p><a href=\"http://www.jfugue.org/download.html\" rel=\"nofollow noreferrer\">http://www.jfugue.org/download.html</a></p>\n"},{"tags":[],"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634846529,"creation_date":1634835932,"answer_id":69666085,"question_id":69665862,"body_markdown":"You can add the repository to your settings.xml [Maven Guide](https://maven.apache.org/guides/mini/guide-multiple-repositories.html) \r\n\r\n```\r\n&lt;profiles&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;multi-repo&lt;/id&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;MavenCentral&lt;/id&gt;\r\n                &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;MavenSing&lt;/id&gt;\r\n                &lt;url&gt;https://maven.sing-group.org/repository/maven//&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n     &lt;/profile&gt;\r\n &lt;/profiles&gt;\r\n","title":"Dependency added to pom can not be resolved","body":"<p>You can add the repository to your settings.xml <a href=\"https://maven.apache.org/guides/mini/guide-multiple-repositories.html\" rel=\"nofollow noreferrer\">Maven Guide</a></p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;multi-repo&lt;/id&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;MavenCentral&lt;/id&gt;\n                &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;MavenSing&lt;/id&gt;\n                &lt;url&gt;https://maven.sing-group.org/repository/maven//&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n     &lt;/profile&gt;\n &lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69666085,"answer_count":2,"score":0,"last_activity_date":1634846529,"creation_date":1634834878,"question_id":69665862,"body_markdown":"I am trying to add a dependency to my pom.xml and facing an issue: IntelliJ error \r\n\r\n&gt; Cannot resolve jfugue:jfugue:5.0.9\r\n\r\nThe dependency I like to add is this one below from [https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9][1] \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/jfugue/jfugue --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jfugue&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jfugue&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have no problems adding other dependencies just by adding the xml-snippet from maven into my pom and refresh or reload all maven projects. For example I have this dependency in the same pom which is working fine:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.14.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHowever, there is a note under the snippet which one can copy-paste, [https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9][1] \r\n\r\n&gt; Note: this artifact is located at SingGroup repository (https://maven.sing-group.org/repository/maven/) \r\n\r\nWhat do I need to add to the pom so that I can use that dependency in my Project and get rid of the error? \r\n\r\n&gt; Cannot resolve jfugue:jfugue:5.0.9\r\n\r\n \r\n  [1]: https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9\r\n\r\nThanks in advance.","title":"Dependency added to pom can not be resolved","body":"<p>I am trying to add a dependency to my pom.xml and facing an issue: IntelliJ error</p>\n<blockquote>\n<p>Cannot resolve jfugue:jfugue:5.0.9</p>\n</blockquote>\n<p>The dependency I like to add is this one below from <a href=\"https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9</a></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/jfugue/jfugue --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jfugue&lt;/groupId&gt;\n    &lt;artifactId&gt;jfugue&lt;/artifactId&gt;\n    &lt;version&gt;5.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have no problems adding other dependencies just by adding the xml-snippet from maven into my pom and refresh or reload all maven projects. For example I have this dependency in the same pom which is working fine:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.14.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, there is a note under the snippet which one can copy-paste, <a href=\"https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jfugue/jfugue/5.0.9</a></p>\n<blockquote>\n<p>Note: this artifact is located at SingGroup repository (<a href=\"https://maven.sing-group.org/repository/maven/\" rel=\"nofollow noreferrer\">https://maven.sing-group.org/repository/maven/</a>)</p>\n</blockquote>\n<p>What do I need to add to the pom so that I can use that dependency in my Project and get rid of the error?</p>\n<blockquote>\n<p>Cannot resolve jfugue:jfugue:5.0.9</p>\n</blockquote>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","websocket"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1634808085,"post_id":69659192,"comment_id":123127261,"body_markdown":"Hi, can you add screen with network tab from browser?","body":"Hi, can you add screen with network tab from browser?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634812211,"post_id":69659192,"comment_id":123129117,"body_markdown":"I&#39;ve added the Network Tab from the browser.  There is popup which indicates &quot;Stalled 10.23 s&quot;.  Could this be the reason ?","body":"I&#39;ve added the Network Tab from the browser.  There is popup which indicates &quot;Stalled 10.23 s&quot;.  Could this be the reason ?"},{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1634818250,"post_id":69659192,"comment_id":123131815,"body_markdown":"One more question, as i see, you use 5000 port, is it correct port of springboot app?","body":"One more question, as i see, you use 5000 port, is it correct port of springboot app?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634822093,"post_id":69659192,"comment_id":123133618,"body_markdown":"I changed the port number from 8080 to 5000.  But that can&#39;t be the reason because when I enter localhost:5000 , the page index.html is loaded correctly.","body":"I changed the port number from 8080 to 5000.  But that can&#39;t be the reason because when I enter localhost:5000 , the page index.html is loaded correctly."},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634845826,"post_id":69659192,"comment_id":123143545,"body_markdown":"I modified the title and the description. This because I found out that there is no connection established at all.  In the browser there should be a message  &quot; &lt;&lt;&lt; CONNECTED .... &quot;  And this message is missing in my case.","body":"I modified the title and the description. This because I found out that there is no connection established at all.  In the browser there should be a message  &quot; &lt;&lt;&lt; CONNECTED .... &quot;  And this message is missing in my case."},{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1634847609,"post_id":69659192,"comment_id":123144082,"body_markdown":"I try this project from repo and it&#39;s work on my local machine. Did you change something in code?","body":"I try this project from repo and it&#39;s work on my local machine. Did you change something in code?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634848055,"post_id":69659192,"comment_id":123144236,"body_markdown":"I copied all the code from the webpage. So, it should be the same.  From what repo did you download the code ?","body":"I copied all the code from the webpage. So, it should be the same.  From what repo did you download the code ?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634848134,"post_id":69659192,"comment_id":123144251,"body_markdown":"I found the link to the code....will download it from there and try again.","body":"I found the link to the code....will download it from there and try again."},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1634850741,"post_id":69659192,"comment_id":123145143,"body_markdown":"I&#39;ve downloaded the code from the repo, and it works indeed !  Many thanks for the hint. Now I&#39;ll search for the differences.","body":"I&#39;ve downloaded the code from the repo, and it works indeed !  Many thanks for the hint. Now I&#39;ll search for the differences."}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634846386,"creation_date":1634807817,"question_id":69659192,"body_markdown":"I implemented the Spring webSocket example like described on the page: \r\nhttps://spring.io/guides/gs/messaging-stomp-websocket/\r\n\r\nBut in my case it doesn&#39;t work. On the html page where the request is sent, the response is not displayed. \r\nWhat I read from other articles is that once a connection is established, the following message appears in the browser DevTools in the Console Tab:  &quot;&lt;&lt;&lt; CONNECTED....&quot;\r\nThis message is not appearing at all in my case, and this must be he reason of the Problem.\r\nAs I copied the example 1 to 1, I can really see what could be the cause the connection not working.\r\n\r\nProbably I made an mistake somewhere, but I don&#39;t find my mistake.\r\n\r\n**GreetingController.java**\r\n\r\n    @Controller\r\n    public class GreetingController {\r\n    \r\n        @MessageMapping(&quot;/hello&quot;)\r\n        @SendTo(&quot;/topic/greetings&quot;)\r\n        public Greeting greeting(HelloMessage message) throws Exception {\r\n            Thread.sleep(1000); // simulated delay\r\n            return new Greeting(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getName()) + &quot;!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n**WebSocketConfig.java** \r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\n\r\n**app.js**\r\n\r\n    var stompClient = null;\r\n    \r\n    function setConnected(connected) {\r\n        $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n        $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n        if (connected) {\r\n            $(&quot;#conversation&quot;).show();\r\n        }\r\n        else {\r\n            $(&quot;#conversation&quot;).hide();\r\n        }\r\n        $(&quot;#greetings&quot;).html(&quot;&quot;);\r\n    }\r\n    \r\n    function connect() {\r\n        var socket = new SockJS(&#39;/gs-guide-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            setConnected(true);\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/topic/greetings&#39;, function (greeting) {\r\n                showGreeting(JSON.parse(greeting.body).content);\r\n            });\r\n        });\r\n    }\r\n    \r\n    function disconnect() {\r\n        if (stompClient !== null) {\r\n            stompClient.disconnect();\r\n        }\r\n        setConnected(false);\r\n        console.log(&quot;Disconnected&quot;);\r\n    }\r\n    \r\n    function sendName() {\r\n        stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({&#39;name&#39;: $(&quot;#name&quot;).val()}));\r\n    }\r\n    \r\n    function showGreeting(message) {\r\n        $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n    }\r\n    \r\n    $(function () {\r\n        $(&quot;form&quot;).on(&#39;submit&#39;, function (e) {\r\n            e.preventDefault();\r\n        });\r\n        $( &quot;#connect&quot; ).click(function() { connect(); });\r\n        $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\r\n        $( &quot;#send&quot; ).click(function() { sendName(); });\r\n    });\r\n\r\n\r\n\r\n[![Browser DEVTools][1]][1]\r\n\r\n\r\n[![Console][2]][2]\r\n\r\n\r\n[![Network Tab from browser][3]][3]\r\n\r\n\r\n\r\n[![Network Tab from browser (Messages)][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q47jR.png\r\n  [2]: https://i.stack.imgur.com/vT6aa.png\r\n  [3]: https://i.stack.imgur.com/wGlc4.png\r\n  [4]: https://i.stack.imgur.com/Om2S7.png","title":"Java springboot websocket , no connection between browser and server","body":"<p>I implemented the Spring webSocket example like described on the page:\n<a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-stomp-websocket/</a></p>\n<p>But in my case it doesn't work. On the html page where the request is sent, the response is not displayed.\nWhat I read from other articles is that once a connection is established, the following message appears in the browser DevTools in the Console Tab:  &quot;&lt;&lt;&lt; CONNECTED....&quot;\nThis message is not appearing at all in my case, and this must be he reason of the Problem.\nAs I copied the example 1 to 1, I can really see what could be the cause the connection not working.</p>\n<p>Probably I made an mistake somewhere, but I don't find my mistake.</p>\n<p><strong>GreetingController.java</strong></p>\n<pre><code>@Controller\npublic class GreetingController {\n\n    @MessageMapping(&quot;/hello&quot;)\n    @SendTo(&quot;/topic/greetings&quot;)\n    public Greeting greeting(HelloMessage message) throws Exception {\n        Thread.sleep(1000); // simulated delay\n        return new Greeting(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getName()) + &quot;!&quot;);\n    }\n}\n</code></pre>\n<p><strong>WebSocketConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p><strong>app.js</strong></p>\n<pre><code>var stompClient = null;\n\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n    if (connected) {\n        $(&quot;#conversation&quot;).show();\n    }\n    else {\n        $(&quot;#conversation&quot;).hide();\n    }\n    $(&quot;#greetings&quot;).html(&quot;&quot;);\n}\n\nfunction connect() {\n    var socket = new SockJS('/gs-guide-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        setConnected(true);\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/topic/greetings', function (greeting) {\n            showGreeting(JSON.parse(greeting.body).content);\n        });\n    });\n}\n\nfunction disconnect() {\n    if (stompClient !== null) {\n        stompClient.disconnect();\n    }\n    setConnected(false);\n    console.log(&quot;Disconnected&quot;);\n}\n\nfunction sendName() {\n    stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({'name': $(&quot;#name&quot;).val()}));\n}\n\nfunction showGreeting(message) {\n    $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n}\n\n$(function () {\n    $(&quot;form&quot;).on('submit', function (e) {\n        e.preventDefault();\n    });\n    $( &quot;#connect&quot; ).click(function() { connect(); });\n    $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\n    $( &quot;#send&quot; ).click(function() { sendName(); });\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Q47jR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q47jR.png\" alt=\"Browser DEVTools\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vT6aa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vT6aa.png\" alt=\"Console\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wGlc4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wGlc4.png\" alt=\"Network Tab from browser\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Om2S7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Om2S7.png\" alt=\"Network Tab from browser (Messages)\" /></a></p>\n"},{"tags":["java","struts2"],"comments":[{"owner":{"account_id":280121,"reputation":2742,"user_id":575643,"accept_rate":54,"display_name":"Marcelo Idemax"},"score":0,"creation_date":1498117944,"post_id":44692910,"comment_id":76369765,"body_markdown":"what kind of class is `lvd`? and pls post the error stack","body":"what kind of class is <code>lvd</code>? and pls post the error stack"},{"owner":{"account_id":11171476,"reputation":9,"user_id":8198322,"display_name":"Infact Locean"},"score":0,"creation_date":1498197915,"post_id":44692910,"comment_id":76410602,"body_markdown":"lvd is a simple class which contained getter setter data and constructor","body":"lvd is a simple class which contained getter setter data and constructor"},{"owner":{"account_id":280121,"reputation":2742,"user_id":575643,"accept_rate":54,"display_name":"Marcelo Idemax"},"score":1,"creation_date":1498204756,"post_id":44692910,"comment_id":76414371,"body_markdown":"please post as code/text not prints!","body":"please post as code/text not prints!"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498127721,"creation_date":1498127721,"answer_id":44696936,"question_id":44692910,"body_markdown":"The result `input`  is required to add to the action config because before executing the action it has validation errors. The flow will return back to the `index.jsp` where you can fix errors before submitting the form. The action won&#39;t execute if it has errors. Add this code to the action config\r\n\r\n    &lt;result name=&quot;input&quot;&gt;index.jsp&lt;/result&gt;","title":"Struts2 Action Not Calling from URL","body":"<p>The result <code>input</code>  is required to add to the action config because before executing the action it has validation errors. The flow will return back to the <code>index.jsp</code> where you can fix errors before submitting the form. The action won't execute if it has errors. Add this code to the action config</p>\n\n<pre><code>&lt;result name=\"input\"&gt;index.jsp&lt;/result&gt;\n</code></pre>\n"}],"owner":{"account_id":11171476,"reputation":9,"user_id":8198322,"display_name":"Infact Locean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634845954,"creation_date":1498116674,"question_id":44692910,"body_markdown":"    String url = ipaddressPortnumber + request.getContextPath() + &quot;/registerconfig.action?lvd=&quot; + lvd;\r\n\r\n`lvd` is a class;\r\nwhen i want to hit on the action `(registerconfig.action?lvd=&quot;+lvd)` given on `url`\r\ngot a error like below, how can I solve it\r\n ![Error page after hitting the action button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oAjAn.jpg","title":"Struts2 Action Not Calling from URL","body":"<pre><code>String url = ipaddressPortnumber + request.getContextPath() + &quot;/registerconfig.action?lvd=&quot; + lvd;\n</code></pre>\n<p><code>lvd</code> is a class;\nwhen i want to hit on the action <code>(registerconfig.action?lvd=&quot;+lvd)</code> given on <code>url</code>\ngot a error like below, how can I solve it\n<img src=\"https://i.stack.imgur.com/oAjAn.jpg\" alt=\"Error page after hitting the action button\" /></p>\n"},{"tags":["java","spring","hibernate","struts2","struts2-spring-plugin"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498337415,"creation_date":1498337415,"answer_id":44740874,"question_id":44740124,"body_markdown":"&gt;Caused by: Cannot locate the chosen ObjectFactory implementation: spring - [unknown location]\r\n\r\nThis implementation is available in [struts2-spring-plugin-x.x.x.jar][1]. Since you are not using Maven you have to [download][2], install, and add dependency to your project classpath.\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/spring-plugin.html\r\n  [2]: http://struts.apache.org/download.cgi#struts25101","title":"Exception starting filter struts2 Unable to load configuration. What&#39;s wrong?","body":"<blockquote>\n  <p>Caused by: Cannot locate the chosen ObjectFactory implementation: spring - [unknown location]</p>\n</blockquote>\n\n<p>This implementation is available in <a href=\"https://struts.apache.org/docs/spring-plugin.html\" rel=\"nofollow noreferrer\">struts2-spring-plugin-x.x.x.jar</a>. Since you are not using Maven you have to <a href=\"http://struts.apache.org/download.cgi#struts25101\" rel=\"nofollow noreferrer\">download</a>, install, and add dependency to your project classpath.</p>\n"}],"owner":{"account_id":7393559,"reputation":21,"user_id":5626256,"display_name":"William Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634845522,"creation_date":1498332082,"question_id":44740124,"body_markdown":"I&#39;m writing a (Struts2, Spring3, Hibernate4) website for studying, but when I run this project today, these errors appeared. \r\n\r\nProject code is [here](https://github.com/IamWilliamWang/StudentTestSystem).\r\n\r\n    Severe: Exception starting filter struts2\r\n    Unable to load configuration. - [unknown location]\r\n\tat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:493)\r\n\tat org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:277)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: Unable to load configuration. - [unknown location]\r\n\tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:967)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:435)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:479)\r\n\t... 15 more\r\n    Caused by: Cannot locate the chosen ObjectFactory implementation: spring - [unknown location]\r\n\tat org.apache.struts2.config.AbstractBeanSelectionProvider.alias(AbstractBeanSelectionProvider.java:74)\r\n\tat org.apache.struts2.config.AbstractBeanSelectionProvider.alias(AbstractBeanSelectionProvider.java:45)\r\n\tat org.apache.struts2.config.DefaultBeanSelectionProvider.register(DefaultBeanSelectionProvider.java:356)\r\n\tat com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:240)\r\n\tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\r\n\t... 18 more","title":"Exception starting filter struts2 Unable to load configuration. What&#39;s wrong?","body":"<p>I'm writing a (Struts2, Spring3, Hibernate4) website for studying, but when I run this project today, these errors appeared.</p>\n<p>Project code is <a href=\"https://github.com/IamWilliamWang/StudentTestSystem\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>Severe: Exception starting filter struts2\nUnable to load configuration. - [unknown location]\nat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:493)\nat org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\nat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\nat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:277)\nat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)\nat org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382)\nat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\nat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: Unable to load configuration. - [unknown location]\nat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\nat org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:967)\nat org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:435)\nat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:479)\n... 15 more\nCaused by: Cannot locate the chosen ObjectFactory implementation: spring - [unknown location]\nat org.apache.struts2.config.AbstractBeanSelectionProvider.alias(AbstractBeanSelectionProvider.java:74)\nat org.apache.struts2.config.AbstractBeanSelectionProvider.alias(AbstractBeanSelectionProvider.java:45)\nat org.apache.struts2.config.DefaultBeanSelectionProvider.register(DefaultBeanSelectionProvider.java:356)\nat com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:240)\nat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\n... 18 more\n</code></pre>\n"},{"tags":["java","eclipse","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1615284261,"post_id":66540928,"comment_id":117637490,"body_markdown":"work through a tutorial on how to use fxml (each and every example explains how/where to initialize stuff that&#39;s not configured in the fxml). Note that the manually coded already is wrong: you __must not__ change nodes in an active scenegraph off the fx application thread! Learn about concurrency support in fx","body":"work through a tutorial on how to use fxml (each and every example explains how/where to initialize stuff that&#39;s not configured in the fxml). Note that the manually coded already is wrong: you <b>must not</b> change nodes in an active scenegraph off the fx application thread! Learn about concurrency support in fx"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1615284425,"post_id":66540928,"comment_id":117637547,"body_markdown":"unrelated: don&#39;t use the old Date classes, replace with the newer Local/Date/Time api","body":"unrelated: don&#39;t use the old Date classes, replace with the newer Local/Date/Time api"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1615284684,"post_id":66540928,"comment_id":117637637,"body_markdown":"... all that said: [mcve] please, including application, fxml, controller :)","body":"... all that said: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please, including application, fxml, controller :)"}],"answers":[{"tags":[],"owner":{"account_id":15438480,"reputation":678,"user_id":11137856,"display_name":"Jannik Buscha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634845192,"creation_date":1615276925,"answer_id":66542942,"question_id":66540928,"body_markdown":"in javafx you work with events in the `initialize()` method.\r\n\r\nE.g. `button.setOnAction(e -&gt; System.Exit(0));` or `clock.onMouseClicked(e -&gt; System.out.println(&quot;Test&quot;));`","title":"Calling a function on the start of a JavaFX project using SceneBuilder","body":"<p>in javafx you work with events in the <code>initialize()</code> method.</p>\n<p>E.g. <code>button.setOnAction(e -&gt; System.Exit(0));</code> or <code>clock.onMouseClicked(e -&gt; System.out.println(&quot;Test&quot;));</code></p>\n"}],"owner":{"account_id":20906399,"reputation":11,"user_id":15358228,"display_name":"fccsfscfs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634845192,"creation_date":1615264989,"question_id":66540928,"body_markdown":"I created a GUI for my project using SceneBuilder and I set up all the button ID&#39;s and created a controller for the FXML file. I want to have a live clock running in the text area on launch and throughout the program. This is my first time using FXML to create a project in JavaFX so I&#39;m confused as to where I should place this code. Normally the code works in a simple program without FXML and it is this code: \r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example;\r\nimport example; \r\n\r\npublic class Layout extends Application {\r\n\r\n         TextArea clock;\r\n\r\npublic void start(Stage stage) throws FileNotFoundException {  \r\n         \r\n         clock = new TextArea();\r\n         clock.setEditable(false);\r\n          BorderPane bp = new BorderPane();\r\n          bp.setTop(clock);\r\n \r\n          refreshClock();\r\n\r\n         Scene scene = new Scene(bp);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n   }\r\n}\r\n\r\n  private void refreshClock()\r\n    {\r\n    \tThread refreshClock = new Thread()\r\n\t\t   {  \r\n\t\t\t  public void run()\r\n\t\t\t  {\t \r\n\t\t\t\twhile (true)\r\n\t\t\t\t{\r\n\t\t\t\t\tDate dte = new Date();\r\n\t\t\r\n\t\t\t\t\tString topMenuStr = &quot;       &quot; + dte.toString();\t\t\t\t\t      \r\n\t\t\t\t    clock.setText(topMenuStr); \r\n\t\t\t               \r\n\t\t\t\t    try\r\n\t\t\t\t    {\r\n\t\t\t\t\t   sleep(3000L);\r\n\t\t\t\t    }\r\n\t\t\t\t    catch (InterruptedException e) \r\n\t\t\t\t    {\r\n\t\t\t\t\t   // TODO Auto-generated catch block\r\n\t\t\t\t\t   e.printStackTrace();\r\n\t\t\t\t    }\r\n\t\t\t\t  \r\n\t            }  // end while ( true )\r\n\t\t\t\t \r\n\t\t    } // end run thread\r\n\t\t };\r\n\r\n\t     refreshClock.start();\r\n    }\r\n\r\n```\r\n\r\nWhen I attempt to do it my current progress in my Ui controller class, nothing pops up in the Text Area despite what code I do and I&#39;m not sure what to do next. Should this code be in my main .java file? Here is what I tried:\r\n\r\n```\r\n\r\npackage application;\r\n\r\nimport java.util.Date;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TextArea;\r\n\r\npublic class UiController {\r\n\t\r\n\t@FXML\r\n\tprivate TextArea clockTextArea;\r\n\r\n\r\nprivate void refreshClock()\r\n    {\r\n    \tThread refreshClock = new Thread()\r\n\t\t   {  \r\n\t\t\t  public void run()\r\n\t\t\t  {\t \r\n\t\t\t\twhile (true)\r\n\t\t\t\t{\r\n\t\t\t\t\tDate dte = new Date();\r\n\t\t\r\n\t\t\t\t\tString topMenuStr = &quot;       &quot; + dte.toString();\t\t\t\t\t      \r\n\t\t\t\t    clockTextArea.setText(topMenuStr); \r\n\t\t\t               \r\n\t\t\t\t    try\r\n\t\t\t\t    {\r\n\t\t\t\t\t   sleep(3000L);\r\n\t\t\t\t    }\r\n\t\t\t\t    catch (InterruptedException e) \r\n\t\t\t\t    {\r\n\t\t\t\t\t   // TODO Auto-generated catch block\r\n\t\t\t\t\t   e.printStackTrace();\r\n\t\t\t\t    }\r\n\t\t\t\t  \r\n\t            }  // end while ( true )\r\n\t\t\t\t \r\n\t\t    } // end run thread\r\n\t\t };\r\n\r\n\t     refreshClock.start();\r\n    }\r\n\r\n\t\r\n\r\n\t\r\n\tpublic void initialize() {\r\n\t\t\r\n\t\trefreshClock();\r\n\t\r\n\t}\r\n\t\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Calling a function on the start of a JavaFX project using SceneBuilder","body":"<p>I created a GUI for my project using SceneBuilder and I set up all the button ID's and created a controller for the FXML file. I want to have a live clock running in the text area on launch and throughout the program. This is my first time using FXML to create a project in JavaFX so I'm confused as to where I should place this code. Normally the code works in a simple program without FXML and it is this code:</p>\n<pre><code>package com.example;\nimport example; \n\npublic class Layout extends Application {\n\n         TextArea clock;\n\npublic void start(Stage stage) throws FileNotFoundException {  \n         \n         clock = new TextArea();\n         clock.setEditable(false);\n          BorderPane bp = new BorderPane();\n          bp.setTop(clock);\n \n          refreshClock();\n\n         Scene scene = new Scene(bp);\n\n        stage.setScene(scene);\n        stage.show();\n   }\n}\n\n  private void refreshClock()\n    {\n        Thread refreshClock = new Thread()\n           {  \n              public void run()\n              {  \n                while (true)\n                {\n                    Date dte = new Date();\n        \n                    String topMenuStr = &quot;       &quot; + dte.toString();                       \n                    clock.setText(topMenuStr); \n                           \n                    try\n                    {\n                       sleep(3000L);\n                    }\n                    catch (InterruptedException e) \n                    {\n                       // TODO Auto-generated catch block\n                       e.printStackTrace();\n                    }\n                  \n                }  // end while ( true )\n                 \n            } // end run thread\n         };\n\n         refreshClock.start();\n    }\n\n</code></pre>\n<p>When I attempt to do it my current progress in my Ui controller class, nothing pops up in the Text Area despite what code I do and I'm not sure what to do next. Should this code be in my main .java file? Here is what I tried:</p>\n<pre><code>\npackage application;\n\nimport java.util.Date;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TextArea;\n\npublic class UiController {\n    \n    @FXML\n    private TextArea clockTextArea;\n\n\nprivate void refreshClock()\n    {\n        Thread refreshClock = new Thread()\n           {  \n              public void run()\n              {  \n                while (true)\n                {\n                    Date dte = new Date();\n        \n                    String topMenuStr = &quot;       &quot; + dte.toString();                       \n                    clockTextArea.setText(topMenuStr); \n                           \n                    try\n                    {\n                       sleep(3000L);\n                    }\n                    catch (InterruptedException e) \n                    {\n                       // TODO Auto-generated catch block\n                       e.printStackTrace();\n                    }\n                  \n                }  // end while ( true )\n                 \n            } // end run thread\n         };\n\n         refreshClock.start();\n    }\n\n    \n\n    \n    public void initialize() {\n        \n        refreshClock();\n    \n    }\n    \n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":0,"creation_date":1634848046,"post_id":69667867,"comment_id":123144234,"body_markdown":"This seems like a better solution for FKs or OneToOne fields and multiple tables, where the pk of the ORG is the OneToOne relationship in USR and VEH so all can be logically grouped together. Without that I&#39;m thinking you will need to setup presave logic to accommodate for your needs where you manually assign the values","body":"This seems like a better solution for FKs or OneToOne fields and multiple tables, where the pk of the ORG is the OneToOne relationship in USR and VEH so all can be logically grouped together. Without that I&#39;m thinking you will need to setup presave logic to accommodate for your needs where you manually assign the values"},{"owner":{"account_id":4503085,"reputation":23,"user_id":4481384,"display_name":"Nipuna Perera"},"score":0,"creation_date":1634999339,"post_id":69667867,"comment_id":123180440,"body_markdown":"@ViaTech Thanks for the valuable comment. Can you elaborate on your point a little bit, please?","body":"@ViaTech Thanks for the valuable comment. Can you elaborate on your point a little bit, please?"}],"owner":{"account_id":4503085,"reputation":23,"user_id":4481384,"display_name":"Nipuna Perera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634845002,"creation_date":1634845002,"question_id":69667867,"body_markdown":"I have used Spring Boot&#39;s SequenceStyleGenerator to generate custom formatted IDs. \r\nFor example ORG0001, USR0001, VEH0001, etc. They work perfectly but independently.\r\n\r\nI need to create a hierarchical ID flow like this.\r\n\r\nThe top of the hierarchy is Organization.\r\n(Organization ID can be ORG0001. This can be achieved using Spring&#39;s SequenceStyleGenerator.)\r\n\r\nEvery other object ID&#39;s should automatically get its ID sequence number based on the organization. The first child object that relates to the organization must start from 1.\r\n\r\nFor Example, let&#39;s say, IDs of user objects and vehicle objects of each organization should start from 1 and continue. Like below.\r\n\r\n    ORG0001 - USR0001, USR0002, USR0003\r\n    \r\n            - VEH0001, VEH0002, VEH0003\r\n    \r\n    ORG0002 - USR0001, USR0002\r\n    \r\n            - VEH0001, VEH0002, VEH0003\r\n\r\nAny Clue is appreciated!","title":"Is there any easy way to generate sequencial IDs starting from one based on another ID using spring boot?","body":"<p>I have used Spring Boot's SequenceStyleGenerator to generate custom formatted IDs.\nFor example ORG0001, USR0001, VEH0001, etc. They work perfectly but independently.</p>\n<p>I need to create a hierarchical ID flow like this.</p>\n<p>The top of the hierarchy is Organization.\n(Organization ID can be ORG0001. This can be achieved using Spring's SequenceStyleGenerator.)</p>\n<p>Every other object ID's should automatically get its ID sequence number based on the organization. The first child object that relates to the organization must start from 1.</p>\n<p>For Example, let's say, IDs of user objects and vehicle objects of each organization should start from 1 and continue. Like below.</p>\n<pre><code>ORG0001 - USR0001, USR0002, USR0003\n\n        - VEH0001, VEH0002, VEH0003\n\nORG0002 - USR0001, USR0002\n\n        - VEH0001, VEH0002, VEH0003\n</code></pre>\n<p>Any Clue is appreciated!</p>\n"},{"tags":["java","php","soap","client"],"answers":[{"tags":[],"owner":{"display_name":"user1360618"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634844722,"creation_date":1634843954,"answer_id":69667664,"question_id":69667140,"body_markdown":"Use sc.nextLine() instead of sc.next(), which reads only up to the next whitespace.","title":"str_replace with user input PHP","body":"<p>Use sc.nextLine() instead of sc.next(), which reads only up to the next whitespace.</p>\n"}],"owner":{"account_id":19890861,"reputation":33,"user_id":14572966,"display_name":"erik tapia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634844722,"creation_date":1634841405,"question_id":69667140,"body_markdown":"i want to delete all the vowels on a user input string, im using str_replace like this\r\n\r\n```\r\n$vocales = array(&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;, &quot;A&quot;, &quot;E&quot;, &quot;I&quot;, &quot;O&quot;, &quot;U&quot;,&quot; &quot;);\r\n    $resultado = str_replace($vocales, &quot;&quot;, $mensaje);\r\n\r\n    \r\n    return $resultado;\r\n```\r\non soapui works fine but on a java client it just show one word for example if the user input is &quot;hello world&quot; the output is &quot;hll&quot;\r\n\r\nthis is the java client\r\n```\r\nConsonante servidor = new Consonante();\r\n        ConsonantePortType puerto = servidor.getConsonantePort();\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;ingresa una palabra&quot;);\r\n        String a = sc.next();\r\n\r\n        String respuesta = puerto.devolverConsonante(a);\r\n        System.out.println(respuesta);\r\n```","title":"str_replace with user input PHP","body":"<p>i want to delete all the vowels on a user input string, im using str_replace like this</p>\n<pre><code>$vocales = array(&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;, &quot;A&quot;, &quot;E&quot;, &quot;I&quot;, &quot;O&quot;, &quot;U&quot;,&quot; &quot;);\n    $resultado = str_replace($vocales, &quot;&quot;, $mensaje);\n\n    \n    return $resultado;\n</code></pre>\n<p>on soapui works fine but on a java client it just show one word for example if the user input is &quot;hello world&quot; the output is &quot;hll&quot;</p>\n<p>this is the java client</p>\n<pre><code>Consonante servidor = new Consonante();\n        ConsonantePortType puerto = servidor.getConsonantePort();\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;ingresa una palabra&quot;);\n        String a = sc.next();\n\n        String respuesta = puerto.devolverConsonante(a);\n        System.out.println(respuesta);\n</code></pre>\n"},{"tags":["java","spring-boot","jackson-databind"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634760071,"post_id":69652318,"comment_id":123115333,"body_markdown":"Why are you sending a request body with a `GET` anyway?","body":"Why are you sending a request body with a <code>GET</code> anyway?"},{"owner":{"account_id":1311077,"reputation":43,"user_id":1259072,"display_name":"Jonh Snow"},"score":0,"creation_date":1634760224,"post_id":69652318,"comment_id":123115385,"body_markdown":"This was for example purposes.I will edit just in case","body":"This was for example purposes.I will edit just in case"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634760359,"post_id":69652318,"comment_id":123115428,"body_markdown":"Have you looked in to Jackson&#39;s polymorphic deserialization?","body":"Have you looked in to Jackson&#39;s polymorphic deserialization?"},{"owner":{"account_id":1311077,"reputation":43,"user_id":1259072,"display_name":"Jonh Snow"},"score":0,"creation_date":1634760435,"post_id":69652318,"comment_id":123115460,"body_markdown":"Yes, as I say in the question if I understood correctly I would need to use:\nJsonTypeInfo and JsonSubTypes\n\nBut I can&#39;t change the way the request is being done, and the objects don&#39;t have a common property where I can filter them","body":"Yes, as I say in the question if I understood correctly I would need to use: JsonTypeInfo and JsonSubTypes  But I can&#39;t change the way the request is being done, and the objects don&#39;t have a common property where I can filter them"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1634763231,"post_id":69652318,"comment_id":123116458,"body_markdown":"Have you tried using the methods from java.lang? I&#39;m thinking something like `foo.getClass().getSimpleName()` may be useful, but I don&#39;t have an environment to properly test this.","body":"Have you tried using the methods from java.lang? I&#39;m thinking something like <code>foo.getClass().getSimpleName()</code> may be useful, but I don&#39;t have an environment to properly test this."},{"owner":{"account_id":1311077,"reputation":43,"user_id":1259072,"display_name":"Jonh Snow"},"score":0,"creation_date":1634763894,"post_id":69652318,"comment_id":123116670,"body_markdown":"Yes. If I declare it as Object on the`@RequestBody`, because Spring cannot serialize into a object, it is called LinkedHashMap. \nI also made a parent class, and  the had Foobject and Barobject extend from parent. In this case, the `getSimpleName()`returns the parent","body":"Yes. If I declare it as Object on the<code>@RequestBody</code>, because Spring cannot serialize into a object, it is called LinkedHashMap.  I also made a parent class, and  the had Foobject and Barobject extend from parent. In this case, the <code>getSimpleName()</code>returns the parent"}],"answers":[{"tags":[],"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634761074,"creation_date":1634760578,"answer_id":69652449,"question_id":69652318,"body_markdown":"You can choose to use, Object, class like this and then take advantage of the function \r\n\r\n    mapper.readValue(jsonStr, Fooobject.class);\r\n\r\nmethod throws **JsonMappingException**\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String doSomething(@RequestBody Object foo) {...}\r\n\r\n    boolean isA(String json, Class expected) {\r\n      try {\r\n         ObjectMapper mapper = new ObjectMapper();\r\n         mapper.readValue(json, expected);\r\n         return true;\r\n      } catch (JsonMappingException e) {\r\n         e.printStackTrace();\r\n         return false;\r\n      } \r\n    }\r\n\r\n\r\n\r\nWell you said that &quot;I don&#39;t know what will the object sent&quot;, so you can only do trial and error.\r\n\r\nElse modify your request to involve a &quot;Type&quot; or something (I would do this by Making a parent class with only &quot;type&quot; member of ObjectType type, and child classes extending that parent class.\r\n\r\n    enum ObjectType {FOO, BAR}\r\n\r\n\r\n&gt;     Method 1: Use readValue() function of jackson\r\n&gt;     Method 2: Do a string search (just to make it faster) something unique non-nullable field about any of the object.\r\n&gt;     Method 3: Modify the request.","title":"@RequestBody where object can be 2 different class","body":"<p>You can choose to use, Object, class like this and then take advantage of the function</p>\n<pre><code>mapper.readValue(jsonStr, Fooobject.class);\n</code></pre>\n<p>method throws <strong>JsonMappingException</strong></p>\n<pre><code>@PostMapping(&quot;/&quot;)\npublic String doSomething(@RequestBody Object foo) {...}\n\nboolean isA(String json, Class expected) {\n  try {\n     ObjectMapper mapper = new ObjectMapper();\n     mapper.readValue(json, expected);\n     return true;\n  } catch (JsonMappingException e) {\n     e.printStackTrace();\n     return false;\n  } \n}\n</code></pre>\n<p>Well you said that &quot;I don't know what will the object sent&quot;, so you can only do trial and error.</p>\n<p>Else modify your request to involve a &quot;Type&quot; or something (I would do this by Making a parent class with only &quot;type&quot; member of ObjectType type, and child classes extending that parent class.</p>\n<pre><code>enum ObjectType {FOO, BAR}\n</code></pre>\n<blockquote>\n<pre><code>Method 1: Use readValue() function of jackson\nMethod 2: Do a string search (just to make it faster) something unique non-nullable field about any of the object.\nMethod 3: Modify the request.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1311077,"reputation":43,"user_id":1259072,"display_name":"Jonh Snow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634844717,"creation_date":1634844717,"answer_id":69667813,"question_id":69652318,"body_markdown":"Managed to do it with Jackson.\r\nCreate parent class, and both objects extend from parent.\r\nOn the parent added:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(Foobject.class),\r\n            @JsonSubTypes.Type(Barobject.class),,\r\n    })\r\n\r\nThis works pretty well, and I guess is a clean solution.\r\nAlso, has the advantage to be done on a Spring layer, where other validations defined on fields of the classes will occur.\r\n\r\nThat wasn&#39;t the case with other solutions.","title":"@RequestBody where object can be 2 different class","body":"<p>Managed to do it with Jackson.\nCreate parent class, and both objects extend from parent.\nOn the parent added:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(Foobject.class),\n        @JsonSubTypes.Type(Barobject.class),,\n})\n</code></pre>\n<p>This works pretty well, and I guess is a clean solution.\nAlso, has the advantage to be done on a Spring layer, where other validations defined on fields of the classes will occur.</p>\n<p>That wasn't the case with other solutions.</p>\n"}],"owner":{"account_id":1311077,"reputation":43,"user_id":1259072,"display_name":"Jonh Snow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634844717,"creation_date":1634759849,"question_id":69652318,"body_markdown":"I have a controller with @RequestBody\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    \tpublic String doSomething(@RequestBody ??? foo) \r\n\r\nfoo can be 2 different objects. Foobject or Barobject.\r\nI don&#39;t know what will the object sent.\r\nThese objects are totally different without any kind of common fields where I could use\r\n@JsonTypeInfo and @JsonSubTypes\r\n\r\nI can workaround this and use ObjectMapper to try to map it to on of the 2 classes:\r\n\r\n    @RequestBody Object json\r\n    ...\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    try {\r\n    Foobject obj = objectMapper.convertValue(json, Foobject.class);\r\n    }\r\n    catch (IllegalArgumentException ei){\r\n\t\t\tBarobject obj = objectMapper.convertValue(json, Barobject.class);\r\n\t}\r\n\r\nIs there a proper way to do this? Or better said, alternatives?\r\nI know this goes against REST API development, because this should be another method, each with its own object.","title":"@RequestBody where object can be 2 different class","body":"<p>I have a controller with @RequestBody</p>\n<pre><code>@PostMapping(&quot;/&quot;)\n    public String doSomething(@RequestBody ??? foo) \n</code></pre>\n<p>foo can be 2 different objects. Foobject or Barobject.\nI don't know what will the object sent.\nThese objects are totally different without any kind of common fields where I could use\n@JsonTypeInfo and @JsonSubTypes</p>\n<p>I can workaround this and use ObjectMapper to try to map it to on of the 2 classes:</p>\n<pre><code>@RequestBody Object json\n...\nObjectMapper objectMapper = new ObjectMapper();\ntry {\nFoobject obj = objectMapper.convertValue(json, Foobject.class);\n}\ncatch (IllegalArgumentException ei){\n        Barobject obj = objectMapper.convertValue(json, Barobject.class);\n}\n</code></pre>\n<p>Is there a proper way to do this? Or better said, alternatives?\nI know this goes against REST API development, because this should be another method, each with its own object.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1619703371,"post_id":67318493,"comment_id":118989576,"body_markdown":"What does `sc.nextInt().split(&quot;:&quot;)` return? How can you get from there to two integers? What do you think?","body":"What does <code>sc.nextInt().split(&quot;:&quot;)</code> return? How can you get from there to two integers? What do you think?"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1619703494,"post_id":67318493,"comment_id":118989651,"body_markdown":"What error? It&#39;s hard to answer your question because it doesn&#39;t include a [mre]. Please [edit] your question to include your code, sample input and output, and any error messages. Tell us what you expect to happen as well as what&#39;s actually happening. This will help us answer your question better.","body":"What error? It&#39;s hard to answer your question because it doesn&#39;t include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please <a href=\"https://stackoverflow.com/posts/67318493/edit\">edit</a> your question to include your code, sample input and output, and any error messages. Tell us what you expect to happen as well as what&#39;s actually happening. This will help us answer your question better."},{"owner":{"account_id":20270393,"reputation":57,"user_id":14866696,"display_name":"Develper"},"score":0,"creation_date":1619703538,"post_id":67318493,"comment_id":118989679,"body_markdown":"@luk2302 i thougth that i would split the other input..im new to this language","body":"@luk2302 i thougth that i would split the other input..im new to this language"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1626851158,"post_id":67318493,"comment_id":120999106,"body_markdown":"Does this compile? It shouldn&#39;t.","body":"Does this compile? It shouldn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":11845776,"reputation":926,"user_id":8668332,"display_name":"Sebastian Heikamp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619703695,"creation_date":1619703695,"answer_id":67318597,"question_id":67318493,"body_markdown":"You cannot call split on an integer, it is meant for splitting a String. Try this:\r\n```\r\npublic class Hello {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String[] numbers = sc.next().split(&quot;:&quot;);\r\n        int A = Integer.parseInt(numbers[0]);\r\n        int B = Integer.parseInt(numbers[1]);\r\n        System.out.println(A + B);\r\n    }\r\n}\r\n\r\n```\r\nOf course some validation would be nice (check if the String contains a colon, if the parts are numeric, etc.), but this should point you in the right direction.","title":"Accept two integers separated by a delimiter and print their sum","body":"<p>You cannot call split on an integer, it is meant for splitting a String. Try this:</p>\n<pre><code>public class Hello {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String[] numbers = sc.next().split(&quot;:&quot;);\n        int A = Integer.parseInt(numbers[0]);\n        int B = Integer.parseInt(numbers[1]);\n        System.out.println(A + B);\n    }\n}\n\n</code></pre>\n<p>Of course some validation would be nice (check if the String contains a colon, if the parts are numeric, etc.), but this should point you in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":19327108,"reputation":140,"user_id":15129781,"display_name":"rhino_rus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619703766,"creation_date":1619703766,"answer_id":67318621,"question_id":67318493,"body_markdown":"At first, read a whole input line into a String variable. Then just split it into two values and cast them to integer.\r\n\r\nCode example:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    String inputString = sc.nextLine();\r\n    String[] splittedValues = inputString.split(&quot;:&quot;);\r\n    int \r\n        A = Integer.parseInt(splittedValues[0]),\r\n        B = Integer.parseInt(splittedValues[1]); \r\n\r\n    System.out.println(A + B);","title":"Accept two integers separated by a delimiter and print their sum","body":"<p>At first, read a whole input line into a String variable. Then just split it into two values and cast them to integer.</p>\n<p>Code example:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nString inputString = sc.nextLine();\nString[] splittedValues = inputString.split(&quot;:&quot;);\nint \n    A = Integer.parseInt(splittedValues[0]),\n    B = Integer.parseInt(splittedValues[1]); \n\nSystem.out.println(A + B);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21220731,"reputation":47,"user_id":15607368,"display_name":"Punith kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619704331,"creation_date":1619704331,"answer_id":67318782,"question_id":67318493,"body_markdown":"you will need to take input as string and then split your input by : and convert the string to integer and add them.\r\n\r\nsee example below\r\n\r\n```import java.util.Scanner;\r\n\r\npublic class Hello {\r\n\r\n    public static void main(String[] args) {\r\n        String input;\r\n        Scanner sc = new Scanner(System.in);\r\n        input = sc.next();\r\n        String[] parts = input.split(&quot;:&quot;);\r\n       if(parts.length &gt; 0) {\r\n           int sum = Integer.parseInt(parts[0])+Integer.parseInt(parts[1]); \r\n           System.out.println(sum);\r\n       } else{\r\n             System.out.println(&quot;Enter number in format example 12:2&quot;);\r\n       }\r\n    }\r\n}```","title":"Accept two integers separated by a delimiter and print their sum","body":"<p>you will need to take input as string and then split your input by : and convert the string to integer and add them.</p>\n<p>see example below</p>\n<pre><code>\npublic class Hello {\n\n    public static void main(String[] args) {\n        String input;\n        Scanner sc = new Scanner(System.in);\n        input = sc.next();\n        String[] parts = input.split(&quot;:&quot;);\n       if(parts.length &gt; 0) {\n           int sum = Integer.parseInt(parts[0])+Integer.parseInt(parts[1]); \n           System.out.println(sum);\n       } else{\n             System.out.println(&quot;Enter number in format example 12:2&quot;);\n       }\n    }\n}```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17559473,"reputation":11,"user_id":12738183,"display_name":"Lakshmi priya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634844632,"creation_date":1634824750,"answer_id":69663360,"question_id":67318493,"body_markdown":"You can try this:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Hello {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int A = sc.nextInt();\r\n        sc.next().charAt(0);\r\n        int B = sc.nextInt();\r\n        System.out.println(A + B);\r\n    }\r\n}\r\n```","title":"Accept two integers separated by a delimiter and print their sum","body":"<p>You can try this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Hello {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int A = sc.nextInt();\n        sc.next().charAt(0);\n        int B = sc.nextInt();\n        System.out.println(A + B);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23103355,"reputation":1,"user_id":17212445,"display_name":"sai krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634838661,"creation_date":1634838661,"answer_id":69666632,"question_id":67318493,"body_markdown":"I think Splitting of two integers is not possible in java(it is possible in python by using the input.split() function) ,for that reason it is better take input as string and split input by using colon(:) operator and convert those input string to an integer and add the both to print the result.\r\njava code:\r\n\r\n       import java.util.Scanner;\r\n       Public class TwoIntegers\r\n       {\r\n        public static void main(String args[])\r\n        {\r\n         Scanner s=new Scanner(System.in());\r\n         String[] two_numbers = s.next().split(&quot;:&quot;);\r\n         int fir_num = Int.parseInt(two_numbers[0]);\r\n         int sec_num = Int.parseInt(two_numbers[1]);\r\n         int sum=fir_num+sec_num;\r\n         System.out.println(&quot;The sum of two numbers is:&quot;+sum);\r\n        }\r\n       }\r\n","title":"Accept two integers separated by a delimiter and print their sum","body":"<p>I think Splitting of two integers is not possible in java(it is possible in python by using the input.split() function) ,for that reason it is better take input as string and split input by using colon(:) operator and convert those input string to an integer and add the both to print the result.\njava code:</p>\n<pre><code>   import java.util.Scanner;\n   Public class TwoIntegers\n   {\n    public static void main(String args[])\n    {\n     Scanner s=new Scanner(System.in());\n     String[] two_numbers = s.next().split(&quot;:&quot;);\n     int fir_num = Int.parseInt(two_numbers[0]);\n     int sec_num = Int.parseInt(two_numbers[1]);\n     int sum=fir_num+sec_num;\n     System.out.println(&quot;The sum of two numbers is:&quot;+sum);\n    }\n   }\n</code></pre>\n"}],"owner":{"account_id":20270393,"reputation":57,"user_id":14866696,"display_name":"Develper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67318597,"answer_count":5,"score":1,"last_activity_date":1634844632,"creation_date":1619703284,"question_id":67318493,"body_markdown":"```   \r\nimport java.util.Scanner;\r\n\r\npublic class Hello {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int A = sc.nextInt().split(&quot;:&quot;);\r\n        int B = sc.nextInt();\r\n        System.out.println(A + B);\r\n    }\r\n}\r\n```\r\nIf I&#39;m given an input like `1:2` then the output should be `3`. Likewise `54:6` then `60`.\r\n\r\nBut I&#39;m getting an error. What should I do to achieve that output?\r\n","title":"Accept two integers separated by a delimiter and print their sum","body":"<pre><code>import java.util.Scanner;\n\npublic class Hello {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int A = sc.nextInt().split(&quot;:&quot;);\n        int B = sc.nextInt();\n        System.out.println(A + B);\n    }\n}\n</code></pre>\n<p>If I'm given an input like <code>1:2</code> then the output should be <code>3</code>. Likewise <code>54:6</code> then <code>60</code>.</p>\n<p>But I'm getting an error. What should I do to achieve that output?</p>\n"},{"tags":["java","regex","string","substring"],"answers":[{"tags":[],"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433235501,"creation_date":1433235501,"answer_id":30591598,"question_id":30591517,"body_markdown":"Remove the anchors.. put paranthesis if you want them in `group 1`:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;([0-9]+)&quot;);   //&quot;[0-9]{4}&quot; for 4 digit number\r\n\r\nAnd extract out `matcher.group(1)`","title":"Creating regex to extract 4 digit number from string using java","body":"<p>Remove the anchors.. put paranthesis if you want them in <code>group 1</code>:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"([0-9]+)\");   //\"[0-9]{4}\" for 4 digit number\n</code></pre>\n\n<p>And extract out <code>matcher.group(1)</code></p>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1475391290,"creation_date":1433235502,"answer_id":30591599,"question_id":30591517,"body_markdown":"Change you pattern to:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;(\\\\d{4})&quot;);\r\n\r\n`\\d` is for a digit and the number in `{}` is the number of digits you want to have.","title":"Creating regex to extract 4 digit number from string using java","body":"<p>Change you pattern to:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(\\\\d{4})\");\n</code></pre>\n\n<p><code>\\d</code> is for a digit and the number in <code>{}</code> is the number of digits you want to have.</p>\n"},{"tags":[],"owner":{"account_id":5133110,"reputation":3741,"user_id":4112664,"display_name":"almightyGOSU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433235520,"creation_date":1433235520,"answer_id":30591606,"question_id":30591517,"body_markdown":"If you want to end up with **0025**,\r\n\r\n    String mydata = &quot;get the 0025 data from string&quot;;\r\n    mydata = mydata.replaceAll(&quot;\\\\D&quot;, &quot;&quot;); // Replace all non-digits\r\n","title":"Creating regex to extract 4 digit number from string using java","body":"<p>If you want to end up with <strong>0025</strong>,</p>\n\n<pre><code>String mydata = \"get the 0025 data from string\";\nmydata = mydata.replaceAll(\"\\\\D\", \"\"); // Replace all non-digits\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4528276,"reputation":67276,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433235533,"creation_date":1433235533,"answer_id":30591609,"question_id":30591517,"body_markdown":"    Pattern pattern = Pattern.compile(&quot;\\\\b[0-9]+\\\\b&quot;);\r\n\r\nThis should do it for you.`^$` will compare with the whole string.It will match string with only `numbers`.","title":"Creating regex to extract 4 digit number from string using java","body":"<pre><code>Pattern pattern = Pattern.compile(\"\\\\b[0-9]+\\\\b\");\n</code></pre>\n\n<p>This should do it for you.<code>^$</code> will compare with the whole string.It will match string with only <code>numbers</code>.</p>\n"},{"tags":[],"owner":{"account_id":2490888,"reputation":6960,"user_id":2168346,"accept_rate":82,"display_name":"JiriS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1433236022,"creation_date":1433235554,"answer_id":30591613,"question_id":30591517,"body_markdown":"If you want to match any number of digits then use pattern like the following:\r\n\r\n    ^\\D*(\\d+)\\D*$\r\n\r\nAnd for exactly 4 digits go for \r\n\r\n    ^\\D*(\\d{4})\\D*$","title":"Creating regex to extract 4 digit number from string using java","body":"<p>If you want to match any number of digits then use pattern like the following:</p>\n\n<pre><code>^\\D*(\\d+)\\D*$\n</code></pre>\n\n<p>And for exactly 4 digits go for </p>\n\n<pre><code>^\\D*(\\d{4})\\D*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433235775,"creation_date":1433235775,"answer_id":30591704,"question_id":30591517,"body_markdown":"Many better answers, but if you still have to use in the same way.\r\n    \r\n    String mydata = &quot;get the 0025 data from string&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;![-.])\\\\b[0-9]+\\\\b(?!\\\\.[0-9])&quot;);\r\n    Matcher matcher = pattern.matcher(mydata);\r\n    String val = &quot;&quot;;\r\n        if (matcher.find()) {\r\n            System.out.println(matcher.group(0));\r\n    \r\n            val = matcher.group(0);\r\n        }\r\n\r\nchanged `matcher.group(1);` to `matcher.group(0);`","title":"Creating regex to extract 4 digit number from string using java","body":"<p>Many better answers, but if you still have to use in the same way.</p>\n\n<pre><code>String mydata = \"get the 0025 data from string\";\nPattern pattern = Pattern.compile(\"(?&lt;![-.])\\\\b[0-9]+\\\\b(?!\\\\.[0-9])\");\nMatcher matcher = pattern.matcher(mydata);\nString val = \"\";\n    if (matcher.find()) {\n        System.out.println(matcher.group(0));\n\n        val = matcher.group(0);\n    }\n</code></pre>\n\n<p>changed <code>matcher.group(1);</code> to <code>matcher.group(0);</code></p>\n"},{"tags":[],"owner":{"account_id":6397671,"reputation":323,"user_id":4961654,"accept_rate":75,"display_name":"Martin Rončka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433235903,"creation_date":1433235903,"answer_id":30591753,"question_id":30591517,"body_markdown":"You can go with `\\d{4}` or `[0-9]{4}` but note that by specifying the `^` at the beginning of regex and `$` at the end you&#39;re limiting yourself to strings that contain **only** 4 digits.\r\n\r\nMy recomendation: Learn some regex basics.","title":"Creating regex to extract 4 digit number from string using java","body":"<p>You can go with <code>\\d{4}</code> or <code>[0-9]{4}</code> but note that by specifying the <code>^</code> at the beginning of regex and <code>$</code> at the end you're limiting yourself to strings that contain <strong>only</strong> 4 digits.</p>\n\n<p>My recomendation: Learn some regex basics.</p>\n"},{"tags":[],"owner":{"account_id":23103544,"reputation":1,"user_id":17212598,"display_name":"Arjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634844558,"creation_date":1634831458,"answer_id":69665084,"question_id":30591517,"body_markdown":"```\r\nScanner sc=new Scanner(System.in);\r\nHashMap&lt;String,String&gt; a=new HashMap&lt;&gt;();\r\nArrayList&lt;String&gt; b=new ArrayList&lt;&gt;();\r\nString s=sc.nextLine();\r\nPattern p=Pattern.compile(&quot;\\\\d{4}&quot;);\r\nMatcher m=p.matcher(s);\r\n\r\nwhile(m.find())\r\n{\r\n    String x=&quot;&quot;;\r\n    x=x+(m.group(0));\r\n    a.put(x,&quot;0&quot;);\r\n    b.add(x);\r\n}\r\nSystem.out.println(a.size());\r\nSystem.out.println(b);\r\n```\r\nYou can find all matched digit patterns and unique patterns (for unique use `Set&lt;String&gt; k=b.keySet();`)","title":"Creating regex to extract 4 digit number from string using java","body":"<pre><code>Scanner sc=new Scanner(System.in);\nHashMap&lt;String,String&gt; a=new HashMap&lt;&gt;();\nArrayList&lt;String&gt; b=new ArrayList&lt;&gt;();\nString s=sc.nextLine();\nPattern p=Pattern.compile(&quot;\\\\d{4}&quot;);\nMatcher m=p.matcher(s);\n\nwhile(m.find())\n{\n    String x=&quot;&quot;;\n    x=x+(m.group(0));\n    a.put(x,&quot;0&quot;);\n    b.add(x);\n}\nSystem.out.println(a.size());\nSystem.out.println(b);\n</code></pre>\n<p>You can find all matched digit patterns and unique patterns (for unique use <code>Set&lt;String&gt; k=b.keySet();</code>)</p>\n"}],"owner":{"account_id":460235,"reputation":7438,"user_id":861204,"accept_rate":32,"display_name":"nilkash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14698,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30591599,"answer_count":8,"score":5,"last_activity_date":1634844558,"creation_date":1433235284,"question_id":30591517,"body_markdown":"Hi I am trying to build one regex to extract 4 digit number from given string using java. I tried it in following ways:\r\n\r\n    String mydata = &quot;get the 0025 data from string&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;^[0-9]+$&quot;);\r\n        //Pattern pattern = Pattern.compile(&quot;^[0-90-90-90-9]+$&quot;);\r\n        //Pattern pattern = Pattern.compile(&quot;^[\\\\d]+$&quot;);\r\n        //Pattern pattern = Pattern.compile(&quot;^[\\\\d\\\\d\\\\d\\\\d]+$&quot;);\r\n\r\n        Matcher matcher = pattern.matcher(mydata);\r\n        String val = &quot;&quot;;\r\n        if (matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n\r\n            val = matcher.group(1);\r\n        }\r\n\r\nBut it&#39;s not working properly. How to do this. Need some help. Thank you.","title":"Creating regex to extract 4 digit number from string using java","body":"<p>Hi I am trying to build one regex to extract 4 digit number from given string using java. I tried it in following ways:</p>\n\n<pre><code>String mydata = \"get the 0025 data from string\";\n    Pattern pattern = Pattern.compile(\"^[0-9]+$\");\n    //Pattern pattern = Pattern.compile(\"^[0-90-90-90-9]+$\");\n    //Pattern pattern = Pattern.compile(\"^[\\\\d]+$\");\n    //Pattern pattern = Pattern.compile(\"^[\\\\d\\\\d\\\\d\\\\d]+$\");\n\n    Matcher matcher = pattern.matcher(mydata);\n    String val = \"\";\n    if (matcher.find()) {\n        System.out.println(matcher.group(1));\n\n        val = matcher.group(1);\n    }\n</code></pre>\n\n<p>But it's not working properly. How to do this. Need some help. Thank you.</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1634564514,"post_id":69616679,"comment_id":123051812,"body_markdown":"you should check the `curval` of the sequence in the database. I think hibernate here has nothing to do. If you are redeploying, are you recreating the sequence from scratch ?","body":"you should check the <code>curval</code> of the sequence in the database. I think hibernate here has nothing to do. If you are redeploying, are you recreating the sequence from scratch ?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1634566614,"post_id":69616679,"comment_id":123052814,"body_markdown":"If you cache by 1000 and restart you may not get the next sequence as +1.  There is no guarantee that the next sequence will be +1 of the prior sequence. You could maybe set the cache to 1, but that is not efficient.","body":"If you cache by 1000 and restart you may not get the next sequence as +1.  There is no guarantee that the next sequence will be +1 of the prior sequence. You could maybe set the cache to 1, but that is not efficient."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1634566672,"post_id":69616679,"comment_id":123052829,"body_markdown":"Check the setting of [`hibernate.id.new_generator_mappings`](https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-mapping-identifier) if it is `true`.  See also [here](https://stackoverflow.com/a/67939356/4808122) comment to the `cache` size","body":"Check the setting of <a href=\"https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-mapping-identifier\" rel=\"nofollow noreferrer\"><code>hibernate.id.new_generator_mappings</code></a> if it is <code>true</code>.  See also <a href=\"https://stackoverflow.com/a/67939356/4808122\">here</a> comment to the <code>cache</code> size"},{"owner":{"account_id":9779280,"reputation":45,"user_id":7248015,"display_name":"Mary"},"score":0,"creation_date":1634568424,"post_id":69616679,"comment_id":123053664,"body_markdown":"@MarmiteBomber but I think I had problems when the first value was true. I guess Hibernate was trying to find its own sequence and not mine in the db.","body":"@MarmiteBomber but I think I had problems when the first value was true. I guess Hibernate was trying to find its own sequence and not mine in the db."}],"answers":[{"tags":[],"owner":{"account_id":9779280,"reputation":45,"user_id":7248015,"display_name":"Mary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634843868,"creation_date":1634843868,"answer_id":69667636,"question_id":69616679,"body_markdown":"Answer found [here][1] \r\nIn short: set up sequence params (like increment, cache size, etc) in the Entity class, not only in DB\r\n\r\n  [1]: https://stackoverflow.com/questions/5346147/hibernate-oracle-sequence-produces-large-gap","title":"Hibernate increases DB sequence by 50000","body":"<p>Answer found <a href=\"https://stackoverflow.com/questions/5346147/hibernate-oracle-sequence-produces-large-gap\">here</a>\nIn short: set up sequence params (like increment, cache size, etc) in the Entity class, not only in DB</p>\n"}],"owner":{"account_id":9779280,"reputation":45,"user_id":7248015,"display_name":"Mary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69667636,"answer_count":1,"score":1,"last_activity_date":1634843868,"creation_date":1634562500,"question_id":69616679,"body_markdown":"Originally Hibernate inserted new values with ID starting from 50. But after redeployment the new IDs are 50050, 50051 etc. \r\n\r\nWhy so? How do I configure it to increment by 1 always?\r\n\r\nDB is Oracle.\r\n\r\nSequence&#39;s SQL:\r\n\r\n    create sequence my_seq increment by 1 cache 1000;\r\n\r\nColumn setup:\r\n```\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seqGeneratorMySeq&quot;)\r\n@SequenceGenerator(name = &quot;seqGeneratorMySeq&quot;, sequenceName = &quot;MY_SEQ&quot;)\r\nprivate Long id;\r\n```","title":"Hibernate increases DB sequence by 50000","body":"<p>Originally Hibernate inserted new values with ID starting from 50. But after redeployment the new IDs are 50050, 50051 etc.</p>\n<p>Why so? How do I configure it to increment by 1 always?</p>\n<p>DB is Oracle.</p>\n<p>Sequence's SQL:</p>\n<pre><code>create sequence my_seq increment by 1 cache 1000;\n</code></pre>\n<p>Column setup:</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seqGeneratorMySeq&quot;)\n@SequenceGenerator(name = &quot;seqGeneratorMySeq&quot;, sequenceName = &quot;MY_SEQ&quot;)\nprivate Long id;\n</code></pre>\n"},{"tags":["java","json","hibernate","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1499522138,"post_id":44986193,"comment_id":76948015,"body_markdown":"Why do you want login via JSON? It&#39;s a different problem than exposed, you don&#39;t need it at all.","body":"Why do you want login via JSON? It&#39;s a different problem than exposed, you don&#39;t need it at all."},{"owner":{"account_id":8807096,"reputation":41,"user_id":6581356,"display_name":"Manlio"},"score":0,"creation_date":1499522245,"post_id":44986193,"comment_id":76948046,"body_markdown":"@RomanC now I only want list of `Anagrafiche` because I&#39;m logged in via browser. But I will need to make an android app, so I have to manage login with JSON. For now i will very happy if you can help me to resolve this problem.","body":"@RomanC now I only want list of <code>Anagrafiche</code> because I&#39;m logged in via browser. But I will need to make an android app, so I have to manage login with JSON. For now i will very happy if you can help me to resolve this problem."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1499522571,"post_id":44986193,"comment_id":76948159,"body_markdown":"You can ask about only one problem you have in one post, otherwise your question will be off-topic and removed.","body":"You can ask about only one problem you have in one post, otherwise your question will be off-topic and removed."},{"owner":{"account_id":8807096,"reputation":41,"user_id":6581356,"display_name":"Manlio"},"score":0,"creation_date":1499522613,"post_id":44986193,"comment_id":76948176,"body_markdown":"@RomanC yes, now i have this problem. `Login` is another problem.","body":"@RomanC yes, now i have this problem. <code>Login</code> is another problem."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1499522659,"post_id":44986193,"comment_id":76948198,"body_markdown":"You should edit the question and remove not related to this problem questions. Also post the link related to the source code from your previous question.","body":"You should edit the question and remove not related to this problem questions. Also post the link related to the source code from your previous question."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1499525369,"post_id":44986193,"comment_id":76949807,"body_markdown":"Edit the question and add text, not an image link for the exception code.","body":"Edit the question and add text, not an image link for the exception code."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499525071,"creation_date":1499523844,"answer_id":44987251,"question_id":44986193,"body_markdown":"You should configure json result to include only properties that you want to return, not all properties needed for json result. By default JSON plugin uses the action bean as root object to serialize to JSON. \r\n\r\nYou should configure properties manually that you want to include/exclude from the result.\r\n\r\n**Java:**\r\n\r\n    public List getAnagraficheList(){ return anagrafiche; }\r\n\r\n**Xml:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- Result config --&gt;\r\n    &lt;result type=&quot;json&quot;&gt;\r\n      &lt;param name=&quot;includeProperties&quot;&gt;\r\n        &lt;!-- include only properties that aren&#39;t loaded lazy --&gt;\r\n        ^anagraficheList\\[\\d+\\]\\.property1,\r\n        ^anagraficheList\\[\\d+\\]\\.property2,\r\n        ^anagrapfcheList\\[\\d+\\]\\.property3\r\n      &lt;/param&gt;\r\n      &lt;param name=&quot;excludeNullProperties&quot;&gt;true&lt;/param&gt;\r\n    &lt;/result&gt;   ","title":"How to get a list as JSON with Struts2","body":"<p>You should configure json result to include only properties that you want to return, not all properties needed for json result. By default JSON plugin uses the action bean as root object to serialize to JSON. </p>\n\n<p>You should configure properties manually that you want to include/exclude from the result.</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>public List getAnagraficheList(){ return anagrafiche; }\n</code></pre>\n\n<p><strong>Xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Result config --&gt;\n&lt;result type=\"json\"&gt;\n  &lt;param name=\"includeProperties\"&gt;\n    &lt;!-- include only properties that aren't loaded lazy --&gt;\n    ^anagraficheList\\[\\d+\\]\\.property1,\n    ^anagraficheList\\[\\d+\\]\\.property2,\n    ^anagrapfcheList\\[\\d+\\]\\.property3\n  &lt;/param&gt;\n  &lt;param name=\"excludeNullProperties\"&gt;true&lt;/param&gt;\n&lt;/result&gt;   \n</code></pre>\n"}],"owner":{"account_id":8807096,"reputation":41,"user_id":6581356,"display_name":"Manlio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1499530135,"answer_count":1,"score":1,"last_activity_date":1634843767,"creation_date":1499516550,"question_id":44986193,"body_markdown":"I&#39;m searching for get a list as JSON page. I&#39;m currently using Hibernate+Struts, I&#39;ve added to my build path JSON Struts2 plugin.\r\n\r\nI simply configured my `struts.xml` but I always obtain same [ERRORS](https://pastebin.com/2KnxzYrb), how can I make login via JSON?\r\n\r\n**These are my classes:**\r\n\r\n        /////// Anagrafica.hbm.xml    ///////\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n        &lt;hibernate-mapping&gt;\r\n        \t&lt;class name=&quot;it.unirc.pjam.Anagrafica.Model.Anagrafica&quot; table=&quot;ANAGRAFICA&quot;&gt;\r\n        \t\t&lt;id name=&quot;ID_Anagrafica&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;ID_Anagrafica&quot; /&gt;\r\n        \t\t\t&lt;generator class=&quot;identity&quot; /&gt;\r\n        \t\t&lt;/id&gt;\r\n        \t\t&lt;property name=&quot;Nome&quot; type=&quot;string&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;Nome&quot; not-null=&quot;true&quot; /&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;Cognome&quot; type=&quot;string&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;Cognome&quot; not-null=&quot;true&quot; /&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;Provincia&quot; type=&quot;string&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;Provincia&quot; not-null=&quot;true&quot; /&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;Codice_fiscale&quot; type=&quot;string&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;Codice_fiscale&quot; not-null=&quot;true&quot; /&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;many-to-one name=&quot;ruolo&quot; class=&quot;it.unirc.pjam.Ruolo.Model.Ruolo&quot; lazy=&quot;false&quot;&gt;\r\n        \t\t\t&lt;column name=&quot;ID_Tipo_Anagrafica&quot; not-null=&quot;true&quot; /&gt;\r\n        \t\t&lt;/many-to-one&gt;\r\n        \t\t&lt;one-to-one name=&quot;utenza&quot; class=&quot;it.unirc.pjam.Utenza.Model.Utenza&quot;\r\n        \t\t\tcascade=&quot;save-update&quot; property-ref=&quot;anagrafica&quot; foreign-key=&quot;anagrafica&quot;&gt;\r\n        \t\t&lt;/one-to-one&gt;\r\n        \r\n        \r\n        \t\t&lt;set name=&quot;scontrini&quot; inverse=&quot;true&quot; cascade=&quot;save-update&quot; lazy=&quot;false&quot; &gt;\r\n        \t\t\t&lt;key column=&quot;ID_Anagrafica&quot; not-null=&quot;false&quot; unique=&quot;true&quot; /&gt;\r\n        \t\t\t&lt;one-to-many class=&quot;it.unirc.pjam.Scontrino.Model.Scontrino&quot; /&gt;\r\n        \t\t&lt;/set&gt;\r\n        \r\n        \t\t&lt;one-to-one name=&quot;tessera&quot; class=&quot;it.unirc.pjam.Tessera.Model.Tessera&quot;\r\n        \t\t\tcascade=&quot;save-update&quot; property-ref=&quot;anagrafica&quot; foreign-key=&quot;anagrafica&quot;&gt;\r\n        \t\t&lt;/one-to-one&gt;\r\n        \t&lt;/class&gt;\r\n        &lt;/hibernate-mapping&gt;\r\n    \r\n    /////// method of AnagraficaStruts.java    ///////\r\n    public String AnagraficheJSON(){\r\n    \t\tRuoli = ruoloDAO.getRuoli();\r\n    \t\tanagrafiche = dao.getAnagrafiche();\r\n    \t\treturn &quot;success&quot;;\r\n    \t}\r\n    \r\n    /////// action in struts.xml    ///////\r\n    \t\t&lt;!-- JSON --&gt;\r\n    \t\t&lt;action name=&quot;listAnagrafiche1&quot; method=&quot;listAnagrafiche&quot;\r\n    \t\t\tclass=&quot;it.unirc.pjam.Action.AnagraficaStruts&quot;&gt;\r\n    \t\t\t&lt;result type=&quot;json&quot;&gt;\r\n    \t\t\t\t&lt;param name=&quot;ignoreHierarchy&quot;&gt;false&lt;/param&gt;\r\n    \t\t\t&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \t\t&lt;!-- FINE JSON --&gt;\r\n\r\n\r\n\r\nEDIT: I succeeded to obtain JSON, but I have unwanted fields like `Ruolo`, `Scontrino`, `Catalogo`, etc, and I have a `null` object at start of JSON file. How can I fix?\r\n\r\n\r\n    {\r\n      &quot;ID_Anagrafica&quot;: 0,\r\n      &quot;anagrafica&quot;: {\r\n        &quot;ID_Anagrafica&quot;: 0,\r\n        &quot;ID_Tipo_Anagrafica&quot;: 0,\r\n        &quot;codice_fiscale&quot;: null,\r\n        &quot;cognome&quot;: null,\r\n        &quot;nome&quot;: null,\r\n        &quot;provincia&quot;: null,\r\n        &quot;ruolo&quot;: null,\r\n        &quot;scontrini&quot;: [\r\n          \r\n        ],\r\n        &quot;tessera&quot;: null,\r\n        &quot;utenza&quot;: null\r\n      },\r\n      &quot;anagrafiche&quot;: [\r\n        {\r\n          &quot;ID_Anagrafica&quot;: 4,\r\n          &quot;ID_Tipo_Anagrafica&quot;: 0,\r\n          &quot;codice_fiscale&quot;: &quot;123123&quot;,\r\n          &quot;cognome&quot;: &quot;prova&quot;,\r\n          &quot;nome&quot;: &quot;manlio&quot;,\r\n          &quot;provincia&quot;: &quot;r&quot;,\r\n          &quot;ruolo&quot;: {\r\n            &quot;anagrafiche&quot;: [\r\n              null\r\n            ],\r\n            &quot;descrizione&quot;: &quot;Cassiere&quot;,\r\n            &quot;id&quot;: 2\r\n          },\r\n          &quot;scontrini&quot;: [\r\n            {\r\n              &quot;anagrafica&quot;: null,\r\n              &quot;data&quot;: null,\r\n              &quot;id&quot;: 7,\r\n              &quot;importoTotale&quot;: 1300.0,\r\n              &quot;iva&quot;: 22.0,\r\n              &quot;prodotti&quot;: [\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;mac&quot;,\r\n                      &quot;id&quot;: 5,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 800.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;asus&quot;,\r\n                  &quot;id&quot;: 6,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 500.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;note&quot;\r\n                }\r\n              ],\r\n              &quot;totalePezzi&quot;: 2\r\n            },\r\n            {\r\n              &quot;anagrafica&quot;: null,\r\n              &quot;data&quot;: null,\r\n              &quot;id&quot;: 3,\r\n              &quot;importoTotale&quot;: 6300.0,\r\n              &quot;iva&quot;: 22.0,\r\n              &quot;prodotti&quot;: [\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;mac&quot;,\r\n                      &quot;id&quot;: 5,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 800.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;asus&quot;,\r\n                  &quot;id&quot;: 6,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 500.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;note&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    \r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook pro&quot;,\r\n                  &quot;id&quot;: 8,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 1000.0,\r\n                  &quot;prezzoAcquistato&quot;: 500.0,\r\n                  &quot;prezzoScontato&quot;: 200.0,\r\n                  &quot;scontrini&quot;: [\r\n                    null\r\n                  ],\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                }\r\n              ],\r\n              &quot;totalePezzi&quot;: 7\r\n            },\r\n            {\r\n              &quot;anagrafica&quot;: null,\r\n              &quot;data&quot;: null,\r\n              &quot;id&quot;: 4,\r\n              &quot;importoTotale&quot;: 45800.0,\r\n              &quot;iva&quot;: 22.0,\r\n              &quot;prodotti&quot;: [\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;mac&quot;,\r\n                      &quot;id&quot;: 5,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 800.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;asus&quot;,\r\n                  &quot;id&quot;: 6,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 500.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;note&quot;\r\n                }\r\n              ],\r\n              &quot;totalePezzi&quot;: 91\r\n            },\r\n            {\r\n              &quot;anagrafica&quot;: null,\r\n              &quot;data&quot;: null,\r\n              &quot;id&quot;: 1,\r\n              &quot;importoTotale&quot;: 4900.0,\r\n              &quot;iva&quot;: 22.0,\r\n              &quot;prodotti&quot;: [\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;mac&quot;,\r\n                      &quot;id&quot;: 5,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 800.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;asus&quot;,\r\n                  &quot;id&quot;: 6,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 500.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;note&quot;\r\n                }\r\n              ],\r\n              &quot;totalePezzi&quot;: 8\r\n            },\r\n            {\r\n              &quot;anagrafica&quot;: null,\r\n              &quot;data&quot;: null,\r\n              &quot;id&quot;: 2,\r\n              &quot;importoTotale&quot;: 1300.0,\r\n              &quot;iva&quot;: 22.0,\r\n              &quot;prodotti&quot;: [\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;mac&quot;,\r\n                      &quot;id&quot;: 5,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 800.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;mac&quot;\r\n                },\r\n                {\r\n                  &quot;catalogo&quot;: [\r\n                    {\r\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;prodotti&quot;: [\r\n                        null\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;descrizione&quot;: &quot;asus&quot;,\r\n                  &quot;id&quot;: 6,\r\n                  &quot;nPezziDisponbili&quot;: 1,\r\n                  &quot;nPezziVenduti&quot;: 1,\r\n                  &quot;prezzo&quot;: 500.0,\r\n                  &quot;prezzoAcquistato&quot;: 10.0,\r\n                  &quot;prezzoScontato&quot;: 10.0,\r\n                  &quot;scontrini&quot;: null,\r\n                  &quot;tipo&quot;: &quot;note&quot;\r\n                }\r\n              ],\r\n              &quot;totalePezzi&quot;: 2\r\n            }\r\n          ],\r\n          &quot;tessera&quot;: {\r\n            &quot;anagrafica&quot;: null,\r\n            &quot;id&quot;: 4,\r\n            &quot;n_tessera&quot;: 12,\r\n            &quot;punti&quot;: 5.0\r\n          },\r\n          &quot;utenza&quot;: {\r\n            &quot;anagrafica&quot;: null,\r\n            &quot;password&quot;: &quot;admin&quot;,\r\n            &quot;stato_Utenza&quot;: &quot;attiva&quot;,\r\n            &quot;username&quot;: &quot;admin&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;ID_Anagrafica&quot;: 5,\r\n          &quot;ID_Tipo_Anagrafica&quot;: 0,\r\n          &quot;codice_fiscale&quot;: &quot;boh&quot;,\r\n          &quot;cognome&quot;: &quot;fiore&quot;,\r\n          &quot;nome&quot;: &quot;fiore&quot;,\r\n          &quot;provincia&quot;: &quot;rm&quot;,\r\n          &quot;ruolo&quot;: {\r\n            &quot;anagrafiche&quot;: [\r\n              null\r\n            ],\r\n            &quot;descrizione&quot;: &quot;Proprietario&quot;,\r\n            &quot;id&quot;: 1\r\n          },\r\n          &quot;scontrini&quot;: [\r\n            \r\n          ],\r\n          &quot;tessera&quot;: {\r\n            &quot;anagrafica&quot;: null,\r\n            &quot;id&quot;: 5,\r\n            &quot;n_tessera&quot;: 200,\r\n            &quot;punti&quot;: 0.0\r\n          },\r\n          &quot;utenza&quot;: {\r\n            &quot;anagrafica&quot;: null,\r\n            &quot;password&quot;: &quot;fiore&quot;,\r\n            &quot;stato_Utenza&quot;: &quot;disattiva&quot;,\r\n            &quot;username&quot;: &quot;fiore&quot;\r\n          }\r\n        }\r\n      ],\r\n      &quot;codice_fiscale&quot;: null,\r\n      &quot;cognome&quot;: null,\r\n      &quot;idRuolo&quot;: 0,\r\n      &quot;nome&quot;: null,\r\n      &quot;provincia&quot;: null,\r\n      &quot;ruoli&quot;: [\r\n        {\r\n          &quot;anagrafiche&quot;: [\r\n            \r\n          ],\r\n          &quot;descrizione&quot;: &quot;CapoMastrogiulia Gioia&quot;,\r\n          &quot;id&quot;: 4\r\n        },\r\n        {\r\n          &quot;anagrafiche&quot;: [\r\n            {\r\n              &quot;ID_Anagrafica&quot;: 4,\r\n              &quot;ID_Tipo_Anagrafica&quot;: 0,\r\n              &quot;codice_fiscale&quot;: &quot;123123&quot;,\r\n              &quot;cognome&quot;: &quot;prova&quot;,\r\n              &quot;nome&quot;: &quot;manlio&quot;,\r\n              &quot;provincia&quot;: &quot;r&quot;,\r\n              &quot;ruolo&quot;: null,\r\n              &quot;scontrini&quot;: [\r\n                {\r\n                  &quot;anagrafica&quot;: null,\r\n                  &quot;data&quot;: null,\r\n                  &quot;id&quot;: 2,\r\n                  &quot;importoTotale&quot;: 1300.0,\r\n                  &quot;iva&quot;: 22.0,\r\n                  &quot;prodotti&quot;: [\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                          &quot;id&quot;: 6,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;asus&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 500.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;note&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;mac&quot;,\r\n                          &quot;id&quot;: 5,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                      &quot;id&quot;: 7,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 800.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    }\r\n                  ],\r\n                  &quot;totalePezzi&quot;: 2\r\n                },\r\n                {\r\n                  &quot;anagrafica&quot;: null,\r\n                  &quot;data&quot;: null,\r\n                  &quot;id&quot;: 3,\r\n                  &quot;importoTotale&quot;: 6300.0,\r\n                  &quot;iva&quot;: 22.0,\r\n                  &quot;prodotti&quot;: [\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        \r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook pro&quot;,\r\n                      &quot;id&quot;: 8,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 1000.0,\r\n                      &quot;prezzoAcquistato&quot;: 500.0,\r\n                      &quot;prezzoScontato&quot;: 200.0,\r\n                      &quot;scontrini&quot;: [\r\n                        null\r\n                      ],\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                          &quot;id&quot;: 6,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;asus&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 500.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;note&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;mac&quot;,\r\n                          &quot;id&quot;: 5,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                      &quot;id&quot;: 7,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 800.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    }\r\n                  ],\r\n                  &quot;totalePezzi&quot;: 7\r\n                },\r\n                {\r\n                  &quot;anagrafica&quot;: null,\r\n                  &quot;data&quot;: null,\r\n                  &quot;id&quot;: 4,\r\n                  &quot;importoTotale&quot;: 45800.0,\r\n                  &quot;iva&quot;: 22.0,\r\n                  &quot;prodotti&quot;: [\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                          &quot;id&quot;: 6,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;asus&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 500.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;note&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;mac&quot;,\r\n                          &quot;id&quot;: 5,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                      &quot;id&quot;: 7,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 800.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    }\r\n                  ],\r\n                  &quot;totalePezzi&quot;: 91\r\n                },\r\n                {\r\n                  &quot;anagrafica&quot;: null,\r\n                  &quot;data&quot;: null,\r\n                  &quot;id&quot;: 1,\r\n                  &quot;importoTotale&quot;: 4900.0,\r\n                  &quot;iva&quot;: 22.0,\r\n                  &quot;prodotti&quot;: [\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                          &quot;id&quot;: 6,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;asus&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 500.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;note&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;mac&quot;,\r\n                          &quot;id&quot;: 5,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                      &quot;id&quot;: 7,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 800.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    }\r\n                  ],\r\n                  &quot;totalePezzi&quot;: 8\r\n                },\r\n                {\r\n                  &quot;anagrafica&quot;: null,\r\n                  &quot;data&quot;: null,\r\n                  &quot;id&quot;: 7,\r\n                  &quot;importoTotale&quot;: 1300.0,\r\n                  &quot;iva&quot;: 22.0,\r\n                  &quot;prodotti&quot;: [\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;notebook&quot;,\r\n                          &quot;id&quot;: 6,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;asus&quot;,\r\n                      &quot;id&quot;: 6,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 500.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;note&quot;\r\n                    },\r\n                    {\r\n                      &quot;catalogo&quot;: [\r\n                        {\r\n                          &quot;descrizione&quot;: &quot;mac&quot;,\r\n                          &quot;id&quot;: 5,\r\n                          &quot;prodotti&quot;: [\r\n                            null\r\n                          ]\r\n                        }\r\n                      ],\r\n                      &quot;descrizione&quot;: &quot;macbook air&quot;,\r\n                      &quot;id&quot;: 7,\r\n                      &quot;nPezziDisponbili&quot;: 1,\r\n                      &quot;nPezziVenduti&quot;: 1,\r\n                      &quot;prezzo&quot;: 800.0,\r\n                      &quot;prezzoAcquistato&quot;: 10.0,\r\n                      &quot;prezzoScontato&quot;: 10.0,\r\n                      &quot;scontrini&quot;: null,\r\n                      &quot;tipo&quot;: &quot;mac&quot;\r\n                    }\r\n                  ],\r\n                  &quot;totalePezzi&quot;: 2\r\n                }\r\n              ],\r\n              &quot;tessera&quot;: {\r\n                &quot;anagrafica&quot;: null,\r\n                &quot;id&quot;: 4,\r\n                &quot;n_tessera&quot;: 12,\r\n                &quot;punti&quot;: 5.0\r\n              },\r\n              &quot;utenza&quot;: {\r\n                &quot;anagrafica&quot;: null,\r\n                &quot;password&quot;: &quot;admin&quot;,\r\n                &quot;stato_Utenza&quot;: &quot;attiva&quot;,\r\n                &quot;username&quot;: &quot;admin&quot;\r\n              }\r\n            }\r\n          ],\r\n          &quot;descrizione&quot;: &quot;Cassiere&quot;,\r\n          &quot;id&quot;: 2\r\n        },\r\n        {\r\n          &quot;anagrafiche&quot;: [\r\n            {\r\n              &quot;ID_Anagrafica&quot;: 5,\r\n              &quot;ID_Tipo_Anagrafica&quot;: 0,\r\n              &quot;codice_fiscale&quot;: &quot;boh&quot;,\r\n              &quot;cognome&quot;: &quot;fiore&quot;,\r\n              &quot;nome&quot;: &quot;fiore&quot;,\r\n              &quot;provincia&quot;: &quot;rm&quot;,\r\n              &quot;ruolo&quot;: null,\r\n              &quot;scontrini&quot;: [\r\n                \r\n              ],\r\n              &quot;tessera&quot;: {\r\n                &quot;anagrafica&quot;: null,\r\n                &quot;id&quot;: 5,\r\n                &quot;n_tessera&quot;: 200,\r\n                &quot;punti&quot;: 0.0\r\n              },\r\n              &quot;utenza&quot;: {\r\n                &quot;anagrafica&quot;: null,\r\n                &quot;password&quot;: &quot;fiore&quot;,\r\n                &quot;stato_Utenza&quot;: &quot;disattiva&quot;,\r\n                &quot;username&quot;: &quot;fiore&quot;\r\n              }\r\n            }\r\n          ],\r\n          &quot;descrizione&quot;: &quot;Proprietario&quot;,\r\n          &quot;id&quot;: 1\r\n        },\r\n        {\r\n          &quot;anagrafiche&quot;: [\r\n            \r\n          ],\r\n          &quot;descrizione&quot;: &quot;supervisore&quot;,\r\n          &quot;id&quot;: 3\r\n        }\r\n      ]\r\n    }","title":"How to get a list as JSON with Struts2","body":"<p>I'm searching for get a list as JSON page. I'm currently using Hibernate+Struts, I've added to my build path JSON Struts2 plugin.</p>\n<p>I simply configured my <code>struts.xml</code> but I always obtain same <a href=\"https://pastebin.com/2KnxzYrb\" rel=\"nofollow noreferrer\">ERRORS</a>, how can I make login via JSON?</p>\n<p><strong>These are my classes:</strong></p>\n<pre><code>    /////// Anagrafica.hbm.xml    ///////\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n    &lt;hibernate-mapping&gt;\n        &lt;class name=&quot;it.unirc.pjam.Anagrafica.Model.Anagrafica&quot; table=&quot;ANAGRAFICA&quot;&gt;\n            &lt;id name=&quot;ID_Anagrafica&quot; type=&quot;java.lang.Integer&quot;&gt;\n                &lt;column name=&quot;ID_Anagrafica&quot; /&gt;\n                &lt;generator class=&quot;identity&quot; /&gt;\n            &lt;/id&gt;\n            &lt;property name=&quot;Nome&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;Nome&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;Cognome&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;Cognome&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;Provincia&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;Provincia&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;Codice_fiscale&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;Codice_fiscale&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;many-to-one name=&quot;ruolo&quot; class=&quot;it.unirc.pjam.Ruolo.Model.Ruolo&quot; lazy=&quot;false&quot;&gt;\n                &lt;column name=&quot;ID_Tipo_Anagrafica&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/many-to-one&gt;\n            &lt;one-to-one name=&quot;utenza&quot; class=&quot;it.unirc.pjam.Utenza.Model.Utenza&quot;\n                cascade=&quot;save-update&quot; property-ref=&quot;anagrafica&quot; foreign-key=&quot;anagrafica&quot;&gt;\n            &lt;/one-to-one&gt;\n    \n    \n            &lt;set name=&quot;scontrini&quot; inverse=&quot;true&quot; cascade=&quot;save-update&quot; lazy=&quot;false&quot; &gt;\n                &lt;key column=&quot;ID_Anagrafica&quot; not-null=&quot;false&quot; unique=&quot;true&quot; /&gt;\n                &lt;one-to-many class=&quot;it.unirc.pjam.Scontrino.Model.Scontrino&quot; /&gt;\n            &lt;/set&gt;\n    \n            &lt;one-to-one name=&quot;tessera&quot; class=&quot;it.unirc.pjam.Tessera.Model.Tessera&quot;\n                cascade=&quot;save-update&quot; property-ref=&quot;anagrafica&quot; foreign-key=&quot;anagrafica&quot;&gt;\n            &lt;/one-to-one&gt;\n        &lt;/class&gt;\n    &lt;/hibernate-mapping&gt;\n\n/////// method of AnagraficaStruts.java    ///////\npublic String AnagraficheJSON(){\n        Ruoli = ruoloDAO.getRuoli();\n        anagrafiche = dao.getAnagrafiche();\n        return &quot;success&quot;;\n    }\n\n/////// action in struts.xml    ///////\n        &lt;!-- JSON --&gt;\n        &lt;action name=&quot;listAnagrafiche1&quot; method=&quot;listAnagrafiche&quot;\n            class=&quot;it.unirc.pjam.Action.AnagraficaStruts&quot;&gt;\n            &lt;result type=&quot;json&quot;&gt;\n                &lt;param name=&quot;ignoreHierarchy&quot;&gt;false&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n        &lt;!-- FINE JSON --&gt;\n</code></pre>\n<p>EDIT: I succeeded to obtain JSON, but I have unwanted fields like <code>Ruolo</code>, <code>Scontrino</code>, <code>Catalogo</code>, etc, and I have a <code>null</code> object at start of JSON file. How can I fix?</p>\n<pre><code>{\n  &quot;ID_Anagrafica&quot;: 0,\n  &quot;anagrafica&quot;: {\n    &quot;ID_Anagrafica&quot;: 0,\n    &quot;ID_Tipo_Anagrafica&quot;: 0,\n    &quot;codice_fiscale&quot;: null,\n    &quot;cognome&quot;: null,\n    &quot;nome&quot;: null,\n    &quot;provincia&quot;: null,\n    &quot;ruolo&quot;: null,\n    &quot;scontrini&quot;: [\n      \n    ],\n    &quot;tessera&quot;: null,\n    &quot;utenza&quot;: null\n  },\n  &quot;anagrafiche&quot;: [\n    {\n      &quot;ID_Anagrafica&quot;: 4,\n      &quot;ID_Tipo_Anagrafica&quot;: 0,\n      &quot;codice_fiscale&quot;: &quot;123123&quot;,\n      &quot;cognome&quot;: &quot;prova&quot;,\n      &quot;nome&quot;: &quot;manlio&quot;,\n      &quot;provincia&quot;: &quot;r&quot;,\n      &quot;ruolo&quot;: {\n        &quot;anagrafiche&quot;: [\n          null\n        ],\n        &quot;descrizione&quot;: &quot;Cassiere&quot;,\n        &quot;id&quot;: 2\n      },\n      &quot;scontrini&quot;: [\n        {\n          &quot;anagrafica&quot;: null,\n          &quot;data&quot;: null,\n          &quot;id&quot;: 7,\n          &quot;importoTotale&quot;: 1300.0,\n          &quot;iva&quot;: 22.0,\n          &quot;prodotti&quot;: [\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;mac&quot;,\n                  &quot;id&quot;: 5,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;macbook air&quot;,\n              &quot;id&quot;: 7,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 800.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;mac&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;notebook&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;asus&quot;,\n              &quot;id&quot;: 6,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 500.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;note&quot;\n            }\n          ],\n          &quot;totalePezzi&quot;: 2\n        },\n        {\n          &quot;anagrafica&quot;: null,\n          &quot;data&quot;: null,\n          &quot;id&quot;: 3,\n          &quot;importoTotale&quot;: 6300.0,\n          &quot;iva&quot;: 22.0,\n          &quot;prodotti&quot;: [\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;mac&quot;,\n                  &quot;id&quot;: 5,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;macbook air&quot;,\n              &quot;id&quot;: 7,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 800.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;mac&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;notebook&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;asus&quot;,\n              &quot;id&quot;: 6,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 500.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;note&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                \n              ],\n              &quot;descrizione&quot;: &quot;macbook pro&quot;,\n              &quot;id&quot;: 8,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 1000.0,\n              &quot;prezzoAcquistato&quot;: 500.0,\n              &quot;prezzoScontato&quot;: 200.0,\n              &quot;scontrini&quot;: [\n                null\n              ],\n              &quot;tipo&quot;: &quot;mac&quot;\n            }\n          ],\n          &quot;totalePezzi&quot;: 7\n        },\n        {\n          &quot;anagrafica&quot;: null,\n          &quot;data&quot;: null,\n          &quot;id&quot;: 4,\n          &quot;importoTotale&quot;: 45800.0,\n          &quot;iva&quot;: 22.0,\n          &quot;prodotti&quot;: [\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;mac&quot;,\n                  &quot;id&quot;: 5,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;macbook air&quot;,\n              &quot;id&quot;: 7,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 800.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;mac&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;notebook&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;asus&quot;,\n              &quot;id&quot;: 6,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 500.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;note&quot;\n            }\n          ],\n          &quot;totalePezzi&quot;: 91\n        },\n        {\n          &quot;anagrafica&quot;: null,\n          &quot;data&quot;: null,\n          &quot;id&quot;: 1,\n          &quot;importoTotale&quot;: 4900.0,\n          &quot;iva&quot;: 22.0,\n          &quot;prodotti&quot;: [\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;mac&quot;,\n                  &quot;id&quot;: 5,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;macbook air&quot;,\n              &quot;id&quot;: 7,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 800.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;mac&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;notebook&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;asus&quot;,\n              &quot;id&quot;: 6,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 500.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;note&quot;\n            }\n          ],\n          &quot;totalePezzi&quot;: 8\n        },\n        {\n          &quot;anagrafica&quot;: null,\n          &quot;data&quot;: null,\n          &quot;id&quot;: 2,\n          &quot;importoTotale&quot;: 1300.0,\n          &quot;iva&quot;: 22.0,\n          &quot;prodotti&quot;: [\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;mac&quot;,\n                  &quot;id&quot;: 5,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;macbook air&quot;,\n              &quot;id&quot;: 7,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 800.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;mac&quot;\n            },\n            {\n              &quot;catalogo&quot;: [\n                {\n                  &quot;descrizione&quot;: &quot;notebook&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;prodotti&quot;: [\n                    null\n                  ]\n                }\n              ],\n              &quot;descrizione&quot;: &quot;asus&quot;,\n              &quot;id&quot;: 6,\n              &quot;nPezziDisponbili&quot;: 1,\n              &quot;nPezziVenduti&quot;: 1,\n              &quot;prezzo&quot;: 500.0,\n              &quot;prezzoAcquistato&quot;: 10.0,\n              &quot;prezzoScontato&quot;: 10.0,\n              &quot;scontrini&quot;: null,\n              &quot;tipo&quot;: &quot;note&quot;\n            }\n          ],\n          &quot;totalePezzi&quot;: 2\n        }\n      ],\n      &quot;tessera&quot;: {\n        &quot;anagrafica&quot;: null,\n        &quot;id&quot;: 4,\n        &quot;n_tessera&quot;: 12,\n        &quot;punti&quot;: 5.0\n      },\n      &quot;utenza&quot;: {\n        &quot;anagrafica&quot;: null,\n        &quot;password&quot;: &quot;admin&quot;,\n        &quot;stato_Utenza&quot;: &quot;attiva&quot;,\n        &quot;username&quot;: &quot;admin&quot;\n      }\n    },\n    {\n      &quot;ID_Anagrafica&quot;: 5,\n      &quot;ID_Tipo_Anagrafica&quot;: 0,\n      &quot;codice_fiscale&quot;: &quot;boh&quot;,\n      &quot;cognome&quot;: &quot;fiore&quot;,\n      &quot;nome&quot;: &quot;fiore&quot;,\n      &quot;provincia&quot;: &quot;rm&quot;,\n      &quot;ruolo&quot;: {\n        &quot;anagrafiche&quot;: [\n          null\n        ],\n        &quot;descrizione&quot;: &quot;Proprietario&quot;,\n        &quot;id&quot;: 1\n      },\n      &quot;scontrini&quot;: [\n        \n      ],\n      &quot;tessera&quot;: {\n        &quot;anagrafica&quot;: null,\n        &quot;id&quot;: 5,\n        &quot;n_tessera&quot;: 200,\n        &quot;punti&quot;: 0.0\n      },\n      &quot;utenza&quot;: {\n        &quot;anagrafica&quot;: null,\n        &quot;password&quot;: &quot;fiore&quot;,\n        &quot;stato_Utenza&quot;: &quot;disattiva&quot;,\n        &quot;username&quot;: &quot;fiore&quot;\n      }\n    }\n  ],\n  &quot;codice_fiscale&quot;: null,\n  &quot;cognome&quot;: null,\n  &quot;idRuolo&quot;: 0,\n  &quot;nome&quot;: null,\n  &quot;provincia&quot;: null,\n  &quot;ruoli&quot;: [\n    {\n      &quot;anagrafiche&quot;: [\n        \n      ],\n      &quot;descrizione&quot;: &quot;CapoMastrogiulia Gioia&quot;,\n      &quot;id&quot;: 4\n    },\n    {\n      &quot;anagrafiche&quot;: [\n        {\n          &quot;ID_Anagrafica&quot;: 4,\n          &quot;ID_Tipo_Anagrafica&quot;: 0,\n          &quot;codice_fiscale&quot;: &quot;123123&quot;,\n          &quot;cognome&quot;: &quot;prova&quot;,\n          &quot;nome&quot;: &quot;manlio&quot;,\n          &quot;provincia&quot;: &quot;r&quot;,\n          &quot;ruolo&quot;: null,\n          &quot;scontrini&quot;: [\n            {\n              &quot;anagrafica&quot;: null,\n              &quot;data&quot;: null,\n              &quot;id&quot;: 2,\n              &quot;importoTotale&quot;: 1300.0,\n              &quot;iva&quot;: 22.0,\n              &quot;prodotti&quot;: [\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\n                      &quot;id&quot;: 6,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;asus&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 500.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;note&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;mac&quot;,\n                      &quot;id&quot;: 5,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\n                  &quot;id&quot;: 7,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 800.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;mac&quot;\n                }\n              ],\n              &quot;totalePezzi&quot;: 2\n            },\n            {\n              &quot;anagrafica&quot;: null,\n              &quot;data&quot;: null,\n              &quot;id&quot;: 3,\n              &quot;importoTotale&quot;: 6300.0,\n              &quot;iva&quot;: 22.0,\n              &quot;prodotti&quot;: [\n                {\n                  &quot;catalogo&quot;: [\n                    \n                  ],\n                  &quot;descrizione&quot;: &quot;macbook pro&quot;,\n                  &quot;id&quot;: 8,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 1000.0,\n                  &quot;prezzoAcquistato&quot;: 500.0,\n                  &quot;prezzoScontato&quot;: 200.0,\n                  &quot;scontrini&quot;: [\n                    null\n                  ],\n                  &quot;tipo&quot;: &quot;mac&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\n                      &quot;id&quot;: 6,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;asus&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 500.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;note&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;mac&quot;,\n                      &quot;id&quot;: 5,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\n                  &quot;id&quot;: 7,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 800.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;mac&quot;\n                }\n              ],\n              &quot;totalePezzi&quot;: 7\n            },\n            {\n              &quot;anagrafica&quot;: null,\n              &quot;data&quot;: null,\n              &quot;id&quot;: 4,\n              &quot;importoTotale&quot;: 45800.0,\n              &quot;iva&quot;: 22.0,\n              &quot;prodotti&quot;: [\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\n                      &quot;id&quot;: 6,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;asus&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 500.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;note&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;mac&quot;,\n                      &quot;id&quot;: 5,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\n                  &quot;id&quot;: 7,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 800.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;mac&quot;\n                }\n              ],\n              &quot;totalePezzi&quot;: 91\n            },\n            {\n              &quot;anagrafica&quot;: null,\n              &quot;data&quot;: null,\n              &quot;id&quot;: 1,\n              &quot;importoTotale&quot;: 4900.0,\n              &quot;iva&quot;: 22.0,\n              &quot;prodotti&quot;: [\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\n                      &quot;id&quot;: 6,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;asus&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 500.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;note&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;mac&quot;,\n                      &quot;id&quot;: 5,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\n                  &quot;id&quot;: 7,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 800.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;mac&quot;\n                }\n              ],\n              &quot;totalePezzi&quot;: 8\n            },\n            {\n              &quot;anagrafica&quot;: null,\n              &quot;data&quot;: null,\n              &quot;id&quot;: 7,\n              &quot;importoTotale&quot;: 1300.0,\n              &quot;iva&quot;: 22.0,\n              &quot;prodotti&quot;: [\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;notebook&quot;,\n                      &quot;id&quot;: 6,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;asus&quot;,\n                  &quot;id&quot;: 6,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 500.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;note&quot;\n                },\n                {\n                  &quot;catalogo&quot;: [\n                    {\n                      &quot;descrizione&quot;: &quot;mac&quot;,\n                      &quot;id&quot;: 5,\n                      &quot;prodotti&quot;: [\n                        null\n                      ]\n                    }\n                  ],\n                  &quot;descrizione&quot;: &quot;macbook air&quot;,\n                  &quot;id&quot;: 7,\n                  &quot;nPezziDisponbili&quot;: 1,\n                  &quot;nPezziVenduti&quot;: 1,\n                  &quot;prezzo&quot;: 800.0,\n                  &quot;prezzoAcquistato&quot;: 10.0,\n                  &quot;prezzoScontato&quot;: 10.0,\n                  &quot;scontrini&quot;: null,\n                  &quot;tipo&quot;: &quot;mac&quot;\n                }\n              ],\n              &quot;totalePezzi&quot;: 2\n            }\n          ],\n          &quot;tessera&quot;: {\n            &quot;anagrafica&quot;: null,\n            &quot;id&quot;: 4,\n            &quot;n_tessera&quot;: 12,\n            &quot;punti&quot;: 5.0\n          },\n          &quot;utenza&quot;: {\n            &quot;anagrafica&quot;: null,\n            &quot;password&quot;: &quot;admin&quot;,\n            &quot;stato_Utenza&quot;: &quot;attiva&quot;,\n            &quot;username&quot;: &quot;admin&quot;\n          }\n        }\n      ],\n      &quot;descrizione&quot;: &quot;Cassiere&quot;,\n      &quot;id&quot;: 2\n    },\n    {\n      &quot;anagrafiche&quot;: [\n        {\n          &quot;ID_Anagrafica&quot;: 5,\n          &quot;ID_Tipo_Anagrafica&quot;: 0,\n          &quot;codice_fiscale&quot;: &quot;boh&quot;,\n          &quot;cognome&quot;: &quot;fiore&quot;,\n          &quot;nome&quot;: &quot;fiore&quot;,\n          &quot;provincia&quot;: &quot;rm&quot;,\n          &quot;ruolo&quot;: null,\n          &quot;scontrini&quot;: [\n            \n          ],\n          &quot;tessera&quot;: {\n            &quot;anagrafica&quot;: null,\n            &quot;id&quot;: 5,\n            &quot;n_tessera&quot;: 200,\n            &quot;punti&quot;: 0.0\n          },\n          &quot;utenza&quot;: {\n            &quot;anagrafica&quot;: null,\n            &quot;password&quot;: &quot;fiore&quot;,\n            &quot;stato_Utenza&quot;: &quot;disattiva&quot;,\n            &quot;username&quot;: &quot;fiore&quot;\n          }\n        }\n      ],\n      &quot;descrizione&quot;: &quot;Proprietario&quot;,\n      &quot;id&quot;: 1\n    },\n    {\n      &quot;anagrafiche&quot;: [\n        \n      ],\n      &quot;descrizione&quot;: &quot;supervisore&quot;,\n      &quot;id&quot;: 3\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6340141,"reputation":965,"user_id":4922328,"accept_rate":56,"display_name":"Ishaan Kumar"},"score":0,"creation_date":1634756629,"post_id":69651395,"comment_id":123114027,"body_markdown":"You said &quot;I have an error that blocks my application&quot; but didn&#39;t show in the question. Please include it, thats the starting point.","body":"You said &quot;I have an error that blocks my application&quot; but didn&#39;t show in the question. Please include it, thats the starting point."},{"owner":{"account_id":20566972,"reputation":57,"user_id":15096086,"display_name":"Juan Gil"},"score":0,"creation_date":1634757745,"post_id":69651395,"comment_id":123114483,"body_markdown":"yes that was my fault, I meant crash, english is not my mother tongue. what should I add? the stack trace?","body":"yes that was my fault, I meant crash, english is not my mother tongue. what should I add? the stack trace?"},{"owner":{"account_id":6340141,"reputation":965,"user_id":4922328,"accept_rate":56,"display_name":"Ishaan Kumar"},"score":0,"creation_date":1634760185,"post_id":69651395,"comment_id":123115379,"body_markdown":"Include what you assuming is an error. Stack trace and your source code are additional info.","body":"Include what you assuming is an error. Stack trace and your source code are additional info."},{"owner":{"account_id":20566972,"reputation":57,"user_id":15096086,"display_name":"Juan Gil"},"score":0,"creation_date":1634760868,"post_id":69651395,"comment_id":123115621,"body_markdown":"OK thanks, I made the changes, I hope they are useful to you","body":"OK thanks, I made the changes, I hope they are useful to you"},{"owner":{"account_id":6340141,"reputation":965,"user_id":4922328,"accept_rate":56,"display_name":"Ishaan Kumar"},"score":0,"creation_date":1634761209,"post_id":69651395,"comment_id":123115736,"body_markdown":"You still haven&#39;t included the error. You have include the line where it is throwing the error.","body":"You still haven&#39;t included the error. You have include the line where it is throwing the error."},{"owner":{"account_id":6340141,"reputation":965,"user_id":4922328,"accept_rate":56,"display_name":"Ishaan Kumar"},"score":0,"creation_date":1634761278,"post_id":69651395,"comment_id":123115763,"body_markdown":"Read this. https://stackoverflow.com/help/how-to-ask","body":"Read this. <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":20566972,"reputation":57,"user_id":15096086,"display_name":"Juan Gil"},"score":0,"creation_date":1634764562,"post_id":69651395,"comment_id":123116890,"body_markdown":"well, I tried to improve the post, if it&#39;s still not right don&#39;t worry, I&#39;ll try something else, anyway thank you very much, I learned a lot","body":"well, I tried to improve the post, if it&#39;s still not right don&#39;t worry, I&#39;ll try something else, anyway thank you very much, I learned a lot"}],"owner":{"account_id":20566972,"reputation":57,"user_id":15096086,"display_name":"Juan Gil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634843292,"creation_date":1634755171,"question_id":69651395,"body_markdown":"EDIT:\r\nI have an error that crash my application, `java.lang.SecurityException: uid xxxxx cannot explicitly add accounts of type: package.name` , I know there are other similar posts here, but I cannot find a solution. \r\n\r\nI think the following happens, when a user wants to login to the application, there are cases where the application crashes. when does it crash? when calling the addAccountExplicitly method. I checked the Android permissions and the authentication file which are the most common causes, and tried to log in with both of my apps at the same time to try to replicate the crash, but was unsuccessful.\r\n\r\nThe problem occurs in the first seconds of use, when I am trying to add an account, the line where it crash is the following \r\n`if (accountManager.addAccountExplicitly (account, null, null))` \r\nwhere accountManager and account are\r\n\r\n    val account = account\r\n    val accountManager = context.getSystemService (Context.ACCOUNT_SERVICE) as AccountManager\r\n\r\nI have no idea why this happens, and why it does it only to some users.\r\n\r\n--------------------------\r\n\r\nI wanted to know if having two different signature packages could lead to the problem, for example I have the same application with package name package.name1 and package.name2, package.name1 is different from package.name2 just for GUI. Can someone help me please? It is one of my first posts on stackoverflow, sorry if I made a mistake.\r\n\r\nIt is not a recurring bug but it appears every week at least once\r\n\r\n-------\r\n\r\nEDIT:\r\nI have two flavors for each app.\r\n\r\nAuthenticator 1:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;account-authenticator xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:accountType=&quot;package.name1&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:smallIcon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;App1&quot; /&gt; \r\n\r\nAuthenticator 2:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;account-authenticator xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:accountType=&quot;package.name2&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:smallIcon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;App2&quot; /&gt;\r\n\r\nPermissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;/&gt;\r\n\r\nEDIT: Well, I found something interesting, the application has 11 crashes in 90 days, and all cases were on Android 11, was there any change in Android 11 that may affect the add AccountExplicit method?\r\n","title":"Android 11 bug: App crash with java.lang.SecurityException: uid xxxxx cannot explicitly add accounts of type: package.name","body":"<p>EDIT:\nI have an error that crash my application, <code>java.lang.SecurityException: uid xxxxx cannot explicitly add accounts of type: package.name</code> , I know there are other similar posts here, but I cannot find a solution.</p>\n<p>I think the following happens, when a user wants to login to the application, there are cases where the application crashes. when does it crash? when calling the addAccountExplicitly method. I checked the Android permissions and the authentication file which are the most common causes, and tried to log in with both of my apps at the same time to try to replicate the crash, but was unsuccessful.</p>\n<p>The problem occurs in the first seconds of use, when I am trying to add an account, the line where it crash is the following\n<code>if (accountManager.addAccountExplicitly (account, null, null))</code>\nwhere accountManager and account are</p>\n<pre><code>val account = account\nval accountManager = context.getSystemService (Context.ACCOUNT_SERVICE) as AccountManager\n</code></pre>\n<p>I have no idea why this happens, and why it does it only to some users.</p>\n<hr />\n<p>I wanted to know if having two different signature packages could lead to the problem, for example I have the same application with package name package.name1 and package.name2, package.name1 is different from package.name2 just for GUI. Can someone help me please? It is one of my first posts on stackoverflow, sorry if I made a mistake.</p>\n<p>It is not a recurring bug but it appears every week at least once</p>\n<hr />\n<p>EDIT:\nI have two flavors for each app.</p>\n<p>Authenticator 1:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;account-authenticator xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:accountType=&quot;package.name1&quot;\nandroid:icon=&quot;@mipmap/ic_launcher&quot;\nandroid:smallIcon=&quot;@mipmap/ic_launcher&quot;\nandroid:label=&quot;App1&quot; /&gt; \n</code></pre>\n<p>Authenticator 2:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;account-authenticator xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:accountType=&quot;package.name2&quot;\nandroid:icon=&quot;@mipmap/ic_launcher&quot;\nandroid:smallIcon=&quot;@mipmap/ic_launcher&quot;\nandroid:label=&quot;App2&quot; /&gt;\n</code></pre>\n<p>Permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;/&gt;\n</code></pre>\n<p>EDIT: Well, I found something interesting, the application has 11 crashes in 90 days, and all cases were on Android 11, was there any change in Android 11 that may affect the add AccountExplicit method?</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":8504,"reputation":6233,"user_id":1961117,"accept_rate":92,"display_name":"trunkc"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1221658432,"creation_date":1221658432,"answer_id":83240,"question_id":83117,"body_markdown":"In log4j you can log the thread name with the &quot;%t&quot; pattern. See [log4j Pattern Layout][1].\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"Logging activities in multithreaded applications","body":"<p>In log4j you can log the thread name with the \"%t\" pattern. See <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">log4j Pattern Layout</a>.</p>\n"},{"tags":[],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221658439,"creation_date":1221658439,"answer_id":83245,"question_id":83117,"body_markdown":"In Java5 (and later) you can call \r\n\r\n    StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n\r\nInspect the stack trace to whatever depth you want and log accordingly.\r\n\r\nIn Java 1.4 you can get the same info with \r\n\r\n    StackTraceElement[] stackTrace = new Exception().getStackTrace();","title":"Logging activities in multithreaded applications","body":"<p>In Java5 (and later) you can call </p>\n\n<pre><code>StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n</code></pre>\n\n<p>Inspect the stack trace to whatever depth you want and log accordingly.</p>\n\n<p>In Java 1.4 you can get the same info with </p>\n\n<pre><code>StackTraceElement[] stackTrace = new Exception().getStackTrace();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8757,"reputation":84,"user_id":15925,"display_name":"scotty"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221658466,"creation_date":1221658466,"answer_id":83254,"question_id":83117,"body_markdown":"\r\nYou want to associate logger objects with threads I think. A ThreadLocal variable holding a log4j logger instance for each thread might help:\r\n\r\nhttp://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html\r\n\r\n","title":"Logging activities in multithreaded applications","body":"<p>You want to associate logger objects with threads I think. A ThreadLocal variable holding a log4j logger instance for each thread might help:</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html</a></p>\n"},{"tags":[],"owner":{"account_id":8493,"reputation":189,"user_id":15353,"display_name":"Andreas Skoog"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1221658587,"creation_date":1221658587,"answer_id":83286,"question_id":83117,"body_markdown":"You should also have a look at the [nested diagnostic context][1] feature of log4j. Pushing different contexts to the logger for different callers might do the trick for you.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\r\n","title":"Logging activities in multithreaded applications","body":"<p>You should also have a look at the <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\" rel=\"noreferrer\">nested diagnostic context</a> feature of log4j. Pushing different contexts to the logger for different callers might do the trick for you.</p>\n"},{"tags":[],"owner":{"account_id":5184,"reputation":22030,"user_id":8220,"accept_rate":92,"display_name":"Sunny Milenov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221663274,"creation_date":1221658745,"answer_id":83312,"question_id":83117,"body_markdown":"You should be able to pass a logger around, so you create a logger based on some &quot;common&quot; for the task data - i.e. username, etc. Then, pass this logger as parameter to all methods you need. That way, you&#39;ll be able to set different filters and/or rules in your log4j config file. Or to scrape the output file based on the logger name.\r\n\r\nEDIT: Also check MDC and NDC classes in log4j. You can add there context data.","title":"Logging activities in multithreaded applications","body":"<p>You should be able to pass a logger around, so you create a logger based on some \"common\" for the task data - i.e. username, etc. Then, pass this logger as parameter to all methods you need. That way, you'll be able to set different filters and/or rules in your log4j config file. Or to scrape the output file based on the logger name.</p>\n\n<p>EDIT: Also check MDC and NDC classes in log4j. You can add there context data.</p>\n"},{"tags":[],"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221660413,"creation_date":1221659911,"answer_id":83513,"question_id":83117,"body_markdown":"You will need to pass some structure to the data access layer that identifies the current &quot;activity&quot;. You might already have an &quot;Activity&quot;-class that makes sense, you might use a Logger-instance as [Sunny suggested][1] or you might use a third structure to keep track of the activity-context.\r\n\r\nIn any case, since your &quot;activity&quot; is processed across multiple threads you cannot use thread-local-storage for keeping track of the current &quot;activity&quot;, like most of the other current answers suggest. You will need to pass it around explicitly.\r\n\r\nI would suggest making a small facade on top of log4j that expands the interface with methods like\r\n\r\n    void debug(Activity activity, String message);\r\n\r\nand passing the activity-context into this from the data access layer.\r\n\r\nYou will need to make some modification to the data access layer to allow you to pass the current activity to it, but how best to do that depends strongly on the current interface.\r\nIf you use the Workspace-pattern, you might just need to add a setActivity() method on the Workspace-class, but other interface-pattern might require you to add an Activity parameter to all methods. \r\n\r\nIf you for some reason is unable or unwilling to change the data access layer, you might of course store the activity-context in thread-local-storage before invoking the data access layer and retrieve it just before spawning the sub-threads or enqueing the jobs in the data access layer. That is a workable solution, but is it a bit dangerous to pass information around in that way.\r\n\r\n  [1]: https://stackoverflow.com/questions/83117/logging-activities-in-multithreaded-applications#83312","title":"Logging activities in multithreaded applications","body":"<p>You will need to pass some structure to the data access layer that identifies the current \"activity\". You might already have an \"Activity\"-class that makes sense, you might use a Logger-instance as <a href=\"https://stackoverflow.com/questions/83117/logging-activities-in-multithreaded-applications#83312\">Sunny suggested</a> or you might use a third structure to keep track of the activity-context.</p>\n\n<p>In any case, since your \"activity\" is processed across multiple threads you cannot use thread-local-storage for keeping track of the current \"activity\", like most of the other current answers suggest. You will need to pass it around explicitly.</p>\n\n<p>I would suggest making a small facade on top of log4j that expands the interface with methods like</p>\n\n<pre><code>void debug(Activity activity, String message);\n</code></pre>\n\n<p>and passing the activity-context into this from the data access layer.</p>\n\n<p>You will need to make some modification to the data access layer to allow you to pass the current activity to it, but how best to do that depends strongly on the current interface.\nIf you use the Workspace-pattern, you might just need to add a setActivity() method on the Workspace-class, but other interface-pattern might require you to add an Activity parameter to all methods. </p>\n\n<p>If you for some reason is unable or unwilling to change the data access layer, you might of course store the activity-context in thread-local-storage before invoking the data access layer and retrieve it just before spawning the sub-threads or enqueing the jobs in the data access layer. That is a workable solution, but is it a bit dangerous to pass information around in that way.</p>\n"},{"tags":[],"owner":{"account_id":5094,"reputation":7198,"user_id":8015,"display_name":"mfx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221674419,"creation_date":1221674419,"answer_id":85905,"question_id":83117,"body_markdown":"In one of my (web) applications, i use a ThreadLocal logger that captures logging information into a StringBuilder. The logger object is initialized in the HttpServlet#service method, if a trace parameter is set (if it is not set, there is a very fast null-logger). The resulting output is either dumped as a HTML comment into the requesting page, or written to a log file in one segment.\r\n\r\n","title":"Logging activities in multithreaded applications","body":"<p>In one of my (web) applications, i use a ThreadLocal logger that captures logging information into a StringBuilder. The logger object is initialized in the HttpServlet#service method, if a trace parameter is set (if it is not set, there is a very fast null-logger). The resulting output is either dumped as a HTML comment into the requesting page, or written to a log file in one segment.</p>\n"},{"tags":[],"owner":{"account_id":20371271,"reputation":11,"user_id":14943428,"display_name":"Chhavi Jajoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634843052,"creation_date":1634843052,"answer_id":69667486,"question_id":83117,"body_markdown":"You can use **MDC or NDC** for your scenario, **NDC works on principle of stack while MDC works on Map**, here is official documentation for both\r\n\r\nhttp://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\r\nhttp://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html","title":"Logging activities in multithreaded applications","body":"<p>You can use <strong>MDC or NDC</strong> for your scenario, <strong>NDC works on principle of stack while MDC works on Map</strong>, here is official documentation for both</p>\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html</a>\n<a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html</a></p>\n"}],"owner":{"account_id":7374,"reputation":3522,"user_id":12791,"accept_rate":47,"display_name":"Santiago Palladino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5901,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":83286,"answer_count":8,"score":5,"last_activity_date":1634843052,"creation_date":1221657804,"question_id":83117,"body_markdown":"I have a layered application in Java which has a multi thread data access layer which is invoked from different points. A single call to this layer is likely to spawn several threads to parallelize requests to the DB. \r\n\r\nWhat I&#39;m looking for is a logging tool that would allow me to define &quot;activities&quot; that are composed by various threads. Therefore, the same method in the data access layer should log different outputs depending on its caller. The ability to group different outputs to summarize the total cost of an operation is also important.\r\n\r\nAlthough the application is in Java, language is not a restriction; what I need are the design guidelines so to eventually implement it. We are currently using log4j, but can&#39;t get this behaviour from it.","title":"Logging activities in multithreaded applications","body":"<p>I have a layered application in Java which has a multi thread data access layer which is invoked from different points. A single call to this layer is likely to spawn several threads to parallelize requests to the DB. </p>\n\n<p>What I'm looking for is a logging tool that would allow me to define \"activities\" that are composed by various threads. Therefore, the same method in the data access layer should log different outputs depending on its caller. The ability to group different outputs to summarize the total cost of an operation is also important.</p>\n\n<p>Although the application is in Java, language is not a restriction; what I need are the design guidelines so to eventually implement it. We are currently using log4j, but can't get this behaviour from it.</p>\n"},{"tags":["java","csv","newline","apache-commons"],"owner":{"account_id":4421798,"reputation":66,"user_id":3601499,"display_name":"user3601499"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634842970,"creation_date":1634824922,"question_id":69663399,"body_markdown":"I&#39;m using apache commons CSV lib to generate a CSV file.\r\nI have a list of String arrays, which contains both string and integer value. But when I print the values it&#39;s generating integer value as a new row.\r\n\r\n```\r\npublic void printValues(Writer writer){\r\n  List&lt;String[]&gt; values = new ArrayList&lt;&gt;();\r\n  String[] someValues = new String[]{&quot;ABC&quot;,&quot;XYZ&quot;,&quot;123&quot;,&quot;PQR&quot;};\r\n  values.add(someValues);\r\n\r\n  CSVPrinter printer = new CSVPrinter(writer,CSVFormat.EXCEL);\r\n  printer.printRecords(values);\r\n}\r\n```\r\nAbove code is giving output \r\n\r\n    ABC,XYZ\r\n    123,&quot;PQR&quot;\r\n\r\nWhereas it should return \r\n\r\n    ABC,XYZ,123,PQR\r\n\r\n","title":"CSVPrinter - printing integer value in new line","body":"<p>I'm using apache commons CSV lib to generate a CSV file.\nI have a list of String arrays, which contains both string and integer value. But when I print the values it's generating integer value as a new row.</p>\n<pre><code>public void printValues(Writer writer){\n  List&lt;String[]&gt; values = new ArrayList&lt;&gt;();\n  String[] someValues = new String[]{&quot;ABC&quot;,&quot;XYZ&quot;,&quot;123&quot;,&quot;PQR&quot;};\n  values.add(someValues);\n\n  CSVPrinter printer = new CSVPrinter(writer,CSVFormat.EXCEL);\n  printer.printRecords(values);\n}\n</code></pre>\n<p>Above code is giving output</p>\n<pre><code>ABC,XYZ\n123,&quot;PQR&quot;\n</code></pre>\n<p>Whereas it should return</p>\n<pre><code>ABC,XYZ,123,PQR\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","stringbuilder","stringbuffer"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634696948,"post_id":69638264,"comment_id":123092196,"body_markdown":"You are confusing &#39;synchronous&#39; with &#39;synchronized&#39;. It isn&#39;t the same thing. Where did you read this? It&#39;s extremely rare to have multiple threads working on the same string builder/buffer in the first place. Never done it in 25 years of Java.","body":"You are confusing &#39;synchronous&#39; with &#39;synchronized&#39;. It isn&#39;t the same thing. Where did you read this? It&#39;s extremely rare to have multiple threads working on the same string builder/buffer in the first place. Never done it in 25 years of Java."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634684948,"creation_date":1634682959,"answer_id":69638339,"question_id":69638264,"body_markdown":"\r\n* [StringBuffer](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuffer.html) has been around &quot;forever&quot;.  It is thread safe.\r\n* [StringBuilder](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html) is &quot;newer&quot; (first introduced in Java 1.5). \r\n* [String](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) is immutable.  StringBuffer and StringBuilder are both mutable.  Using either StringBuffer or StringBuilder is *VASTLY* more efficient than modifying raw strings.\r\n\r\nPer the documentation:\r\n\r\n&gt; https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html\r\n&gt; \r\n&gt; [StringBuilder] is mutable sequence of characters. This class provides\r\n&gt; an API compatible with StringBuffer, but with no guarantee of\r\n&gt; synchronization. This class is designed for use as a drop-in\r\n&gt; replacement for StringBuffer in places where the string buffer was\r\n&gt; being used by a single thread (as is generally the case). Where\r\n&gt; possible, it is recommended that this class be used in preference to\r\n&gt; StringBuffer as it will be faster under most implementations.\r\n\r\nPersonally, I always use StringBuffer in preference to manipulating raw String.  Mostly out of force of habit.\r\n\r\nYes, StringBuilder might be &quot;faster&quot;. Or, in all likelihood, it will make little or no difference in overall &quot;performance&quot;.\r\n\r\nThe key points to remember:\r\n* Don&#39;t manipulate strings directly if you can use StringBuilder or StringBuffer instead.\r\n* StringBuilder is non-synchronized (i.e. not thread safe). If two threads happen to use StringBuilder simultaneously, the results will be indeterminate.\r\n\r\nYou might also be interested in this:\r\n\r\n&gt; https://www.javatpoint.com/mutable-and-immutable-in-java\r\n&gt; \r\n&gt; **What are Mutable Objects?** \r\n&gt;\r\n&gt; The mutable objects are objects whose value can be changed after initialization. We can change the object&#39;s\r\n&gt; values, such as field and states, after the object is created. For\r\n&gt; example, Java.util.Date, StringBuilder, StringBuffer, etc.\r\n&gt; \r\n&gt; When we made a change in existing mutable objects, no new object will\r\n&gt; be created; instead, it will alter the value of the existing object.\r\n&gt; These object&#39;s classes provide methods to make changes in it.","title":"For a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn&#39;t state that)","body":"<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\">StringBuffer</a> has been around &quot;forever&quot;.  It is thread safe.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a> is &quot;newer&quot; (first introduced in Java 1.5).</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> is immutable.  StringBuffer and StringBuilder are both mutable.  Using either StringBuffer or StringBuilder is <em>VASTLY</em> more efficient than modifying raw strings.</li>\n</ul>\n<p>Per the documentation:</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html</a></p>\n<p>[StringBuilder] is mutable sequence of characters. This class provides\nan API compatible with StringBuffer, but with no guarantee of\nsynchronization. This class is designed for use as a drop-in\nreplacement for StringBuffer in places where the string buffer was\nbeing used by a single thread (as is generally the case). Where\npossible, it is recommended that this class be used in preference to\nStringBuffer as it will be faster under most implementations.</p>\n</blockquote>\n<p>Personally, I always use StringBuffer in preference to manipulating raw String.  Mostly out of force of habit.</p>\n<p>Yes, StringBuilder might be &quot;faster&quot;. Or, in all likelihood, it will make little or no difference in overall &quot;performance&quot;.</p>\n<p>The key points to remember:</p>\n<ul>\n<li>Don't manipulate strings directly if you can use StringBuilder or StringBuffer instead.</li>\n<li>StringBuilder is non-synchronized (i.e. not thread safe). If two threads happen to use StringBuilder simultaneously, the results will be indeterminate.</li>\n</ul>\n<p>You might also be interested in this:</p>\n<blockquote>\n<p><a href=\"https://www.javatpoint.com/mutable-and-immutable-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/mutable-and-immutable-in-java</a></p>\n<p><strong>What are Mutable Objects?</strong></p>\n<p>The mutable objects are objects whose value can be changed after initialization. We can change the object's\nvalues, such as field and states, after the object is created. For\nexample, Java.util.Date, StringBuilder, StringBuffer, etc.</p>\n<p>When we made a change in existing mutable objects, no new object will\nbe created; instead, it will alter the value of the existing object.\nThese object's classes provide methods to make changes in it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634684999,"creation_date":1634684999,"answer_id":69638537,"question_id":69638264,"body_markdown":"&gt; Shouldn&#39;t the requirement be that if we don&#39;t want the String to be manipulated by all the threads at a time, then we should go for StringBuffer, otherwise it&#39;s fine to go for StringBuilder? What I am trying to understand is for a multi-threaded application why is it required to go for a synchronous implementation (if the requirement doesn&#39;t state that).\r\n\r\nYes.\r\n\r\nVery few applications _actually_ concurrently modify a character sequence, with the result that there&#39;s almost no reason to use `StringBuffer`.","title":"For a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn&#39;t state that)","body":"<blockquote>\n<p>Shouldn't the requirement be that if we don't want the String to be manipulated by all the threads at a time, then we should go for StringBuffer, otherwise it's fine to go for StringBuilder? What I am trying to understand is for a multi-threaded application why is it required to go for a synchronous implementation (if the requirement doesn't state that).</p>\n</blockquote>\n<p>Yes.</p>\n<p>Very few applications <em>actually</em> concurrently modify a character sequence, with the result that there's almost no reason to use <code>StringBuffer</code>.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634842948,"creation_date":1634842948,"answer_id":69667467,"question_id":69638264,"body_markdown":"&gt; I have read that if we have a multi-threaded application then it is better to go with StringBuffer. But if we have a single thread application then it’s better to go with StringBuilder.\r\n\r\nThis is a very simplistic answer to a usually complicated question.  The answer really should be that if multiple threads are _updating_ the same string appender, you should use `StringBuffer`.  If you have two threads and each of them are using their own local string appender, then there is no need to pay for `StringBuffer` synchronization and `StringBuilder` can be used.  You should know that anytime you use the string `+` operator, a `StringBuilder` is being created under the covers.  But when it comes down to it, I&#39;ve never seen the case of multiple threads sharing a string appender.\r\n\r\n&gt; But isn&#39;t the whole point of having a multi-threaded application is that simultaneously all the threads can work on the same piece of code?\r\n\r\nNo.  There are many reasons to write multi-threaded applications.  A web-server uses multiple threads so that web requests can be handled asynchronously and in parallel without necessarily sharing any code or data.\r\n\r\n&gt; Shouldn&#39;t the requirement be that if we don&#39;t want the String to be manipulated by all the threads at a time, then we should go for StringBuffer, otherwise it&#39;s fine to go for StringBuilder?\r\n\r\nNot quite.  Don&#39;t think that `StringBuffer` stops multiple threads from manipulating the buffer.  Think that it _protects_ the buffer from inappropriate access by multiple threads that would result in race-conditions and other unintended consequences.\r\n\r\n&gt; What I am trying to understand is for a multi-threaded application why is it required to go for a synchronized implementation\r\n\r\nThere is no such requirement _except_ when multiple threads are _updating_ an object.  If the threads are working on their own objects and never sharing them between threads, the no synchronization is required.  If multiple threads are updating an object (such as a shared `StringBuffer` then the `synchronized` keywords ensure that the changes are appropriately published between the threads and that the critical areas are protected by mutexes which insure only one thread can enter them at a time.\r\n\r\nIt is also important to realize that if Thread #1 creates (for example) a `HashMap` and then Thread #2 wants to use that `HashMap`, even if it is not updating it, then some sort of synchronization needs to happen to appropriately sync the _memory_ between Thread #1 and #2.\r\n\r\n`synchronization` enforces proper mutex locks so that critical code only has one thread working on it at a time and ensures appropriate memory publishing so that threads work on the latest version of an object as opposed to possibly stale versions in their local memory caches.\r\n","title":"For a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn&#39;t state that)","body":"<blockquote>\n<p>I have read that if we have a multi-threaded application then it is better to go with StringBuffer. But if we have a single thread application then it’s better to go with StringBuilder.</p>\n</blockquote>\n<p>This is a very simplistic answer to a usually complicated question.  The answer really should be that if multiple threads are <em>updating</em> the same string appender, you should use <code>StringBuffer</code>.  If you have two threads and each of them are using their own local string appender, then there is no need to pay for <code>StringBuffer</code> synchronization and <code>StringBuilder</code> can be used.  You should know that anytime you use the string <code>+</code> operator, a <code>StringBuilder</code> is being created under the covers.  But when it comes down to it, I've never seen the case of multiple threads sharing a string appender.</p>\n<blockquote>\n<p>But isn't the whole point of having a multi-threaded application is that simultaneously all the threads can work on the same piece of code?</p>\n</blockquote>\n<p>No.  There are many reasons to write multi-threaded applications.  A web-server uses multiple threads so that web requests can be handled asynchronously and in parallel without necessarily sharing any code or data.</p>\n<blockquote>\n<p>Shouldn't the requirement be that if we don't want the String to be manipulated by all the threads at a time, then we should go for StringBuffer, otherwise it's fine to go for StringBuilder?</p>\n</blockquote>\n<p>Not quite.  Don't think that <code>StringBuffer</code> stops multiple threads from manipulating the buffer.  Think that it <em>protects</em> the buffer from inappropriate access by multiple threads that would result in race-conditions and other unintended consequences.</p>\n<blockquote>\n<p>What I am trying to understand is for a multi-threaded application why is it required to go for a synchronized implementation</p>\n</blockquote>\n<p>There is no such requirement <em>except</em> when multiple threads are <em>updating</em> an object.  If the threads are working on their own objects and never sharing them between threads, the no synchronization is required.  If multiple threads are updating an object (such as a shared <code>StringBuffer</code> then the <code>synchronized</code> keywords ensure that the changes are appropriately published between the threads and that the critical areas are protected by mutexes which insure only one thread can enter them at a time.</p>\n<p>It is also important to realize that if Thread #1 creates (for example) a <code>HashMap</code> and then Thread #2 wants to use that <code>HashMap</code>, even if it is not updating it, then some sort of synchronization needs to happen to appropriately sync the <em>memory</em> between Thread #1 and #2.</p>\n<p><code>synchronization</code> enforces proper mutex locks so that critical code only has one thread working on it at a time and ensures appropriate memory publishing so that threads work on the latest version of an object as opposed to possibly stale versions in their local memory caches.</p>\n"}],"owner":{"account_id":19014972,"reputation":95,"user_id":13880148,"display_name":"the_novice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69638537,"answer_count":3,"score":-1,"last_activity_date":1634842948,"creation_date":1634682365,"question_id":69638264,"body_markdown":"I have a very basic question. I have read that if we have a multi-threaded application then it is better to go with `StringBuffer`. But if we have a single thread application then it’s better to go with `StringBuilder`.\r\nBut isn&#39;t the whole point of having a multi-threaded application is that simultaneously all the threads can work on the same piece of code? Shouldn&#39;t the requirement be that if we don&#39;t want the String to be manipulated by all the threads at a time, then we should go for `StringBuffer`, otherwise it&#39;s fine to go for `StringBuilder`? What I am trying to understand is for a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn&#39;t state that).","title":"For a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn&#39;t state that)","body":"<p>I have a very basic question. I have read that if we have a multi-threaded application then it is better to go with <code>StringBuffer</code>. But if we have a single thread application then it’s better to go with <code>StringBuilder</code>.\nBut isn't the whole point of having a multi-threaded application is that simultaneously all the threads can work on the same piece of code? Shouldn't the requirement be that if we don't want the String to be manipulated by all the threads at a time, then we should go for <code>StringBuffer</code>, otherwise it's fine to go for <code>StringBuilder</code>? What I am trying to understand is for a multi-threaded application why is it required to go for a synchronized implementation (if the requirement doesn't state that).</p>\n"},{"tags":["java","jtable"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1289574202,"creation_date":1289574202,"answer_id":4165926,"question_id":4165562,"body_markdown":"You can change the columns order by removing all of them and adding them in the right order:\r\n\r\n    public static void setColumnOrder(int[] indices, TableColumnModel columnModel) {\r\n\t\tTableColumn column[] = new TableColumn[indices.length];\r\n\r\n\t\tfor (int i = 0; i &lt; column.length; i++) {\r\n\t\t\tcolumn[i] = columnModel.getColumn(indices[i]);\r\n\t\t}\r\n\r\n\t\twhile (columnModel.getColumnCount() &gt; 0) {\r\n\t\t\tcolumnModel.removeColumn(columnModel.getColumn(0));\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; column.length; i++) {\r\n\t\t\tcolumnModel.addColumn(column[i]);\r\n\t\t}\r\n\t}","title":"Set order of columns in JTable","body":"<p>You can change the columns order by removing all of them and adding them in the right order:</p>\n\n<pre><code>public static void setColumnOrder(int[] indices, TableColumnModel columnModel) {\n    TableColumn column[] = new TableColumn[indices.length];\n\n    for (int i = 0; i &lt; column.length; i++) {\n        column[i] = columnModel.getColumn(indices[i]);\n    }\n\n    while (columnModel.getColumnCount() &gt; 0) {\n        columnModel.removeColumn(columnModel.getColumn(0));\n    }\n\n    for (int i = 0; i &lt; column.length; i++) {\n        columnModel.addColumn(column[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289574287,"creation_date":1289574287,"answer_id":4165936,"question_id":4165562,"body_markdown":"OK how about this. Might be a bit left field.\r\n\r\nExtend `TableColumn` and give your new class a `position` property. Have it implement `Comparable` and use the `position` to compare columns.\r\n\r\nNext, extend `DefaultTableColumnModel` and store `TableColumn`s in an ordered list.\r\n\r\nYour JTable should now display columns according to their `position`. Untested but it sounds interesting so I might give it a go later.","title":"Set order of columns in JTable","body":"<p>OK how about this. Might be a bit left field.</p>\n\n<p>Extend <code>TableColumn</code> and give your new class a <code>position</code> property. Have it implement <code>Comparable</code> and use the <code>position</code> to compare columns.</p>\n\n<p>Next, extend <code>DefaultTableColumnModel</code> and store <code>TableColumn</code>s in an ordered list.</p>\n\n<p>Your JTable should now display columns according to their <code>position</code>. Untested but it sounds interesting so I might give it a go later.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289579931,"creation_date":1289579931,"answer_id":4166920,"question_id":4165562,"body_markdown":"If you want to reorder by column name then you can check out the [Table Column Reordering][1] suggestion.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/01/09/table-column-reordering/","title":"Set order of columns in JTable","body":"<p>If you want to reorder by column name then you can check out the <a href=\"http://tips4java.wordpress.com/2009/01/09/table-column-reordering/\" rel=\"nofollow\">Table Column Reordering</a> suggestion.</p>\n"},{"tags":[],"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471438026,"creation_date":1471438026,"answer_id":38997078,"question_id":4165562,"body_markdown":"Based on @Guillaume answer I found a way to do that without the need to remove all columns and add them again.\r\n\r\n      public static void setColumnOrder(int[] indices, JTable table, TableColumnModel columnModel) {\r\n\r\n        for (int i = 0; i &lt; indices.length; i++) {\r\n          columnModel.moveColumn(i, table.convertColumnIndexToView(indices[i]));\r\n        }\r\n      }\r\n\r\nThis works better for me because with (SwingX) JXTable, the order of the invisible columns is not modified.","title":"Set order of columns in JTable","body":"<p>Based on @Guillaume answer I found a way to do that without the need to remove all columns and add them again.</p>\n\n<pre><code>  public static void setColumnOrder(int[] indices, JTable table, TableColumnModel columnModel) {\n\n    for (int i = 0; i &lt; indices.length; i++) {\n      columnModel.moveColumn(i, table.convertColumnIndexToView(indices[i]));\n    }\n  }\n</code></pre>\n\n<p>This works better for me because with (SwingX) JXTable, the order of the invisible columns is not modified.</p>\n"},{"tags":[],"owner":{"account_id":8819936,"reputation":144,"user_id":6938043,"display_name":"Leschge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634842576,"creation_date":1634842576,"answer_id":69667394,"question_id":4165562,"body_markdown":"This problem can be solved by using the built in moveColumn function as a bubble sort shortcut. The hashmap holds your weights in that case. Keep in mind that *getColumnModel().getColumn(j).getModelIndex()* can be seen as the initial column index / ID that will not change. See it as a column title.\r\n\r\n    HashMap&lt;int, int&gt; mapOrder = new HashMap&lt;int, int&gt;();\r\n    \r\n    for (int i = 0; i &lt; jt_table.getColumnCount(); i++) {\r\n    \tfor (int j = 0; j &lt; jt_table.getColumnCount() - 1; j++) {\r\n    \t\tint col1 = mapOrder.get(jt_table.getColumnModel().getColumn(j).getModelIndex());\r\n    \t\tint col2 = mapOrder.get(jt_table.getColumnModel().getColumn(j + 1).getModelIndex());\r\n    \t\tif (col1 &gt; col2) {\r\n    \t\t\tjt_table.moveColumn(jt_table.getColumnModel().getColumn(j).getModelIndex(), jt_table.getColumnModel().getColumn(j + 1).getModelIndex());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Set order of columns in JTable","body":"<p>This problem can be solved by using the built in moveColumn function as a bubble sort shortcut. The hashmap holds your weights in that case. Keep in mind that <em>getColumnModel().getColumn(j).getModelIndex()</em> can be seen as the initial column index / ID that will not change. See it as a column title.</p>\n<pre><code>HashMap&lt;int, int&gt; mapOrder = new HashMap&lt;int, int&gt;();\n\nfor (int i = 0; i &lt; jt_table.getColumnCount(); i++) {\n    for (int j = 0; j &lt; jt_table.getColumnCount() - 1; j++) {\n        int col1 = mapOrder.get(jt_table.getColumnModel().getColumn(j).getModelIndex());\n        int col2 = mapOrder.get(jt_table.getColumnModel().getColumn(j + 1).getModelIndex());\n        if (col1 &gt; col2) {\n            jt_table.moveColumn(jt_table.getColumnModel().getColumn(j).getModelIndex(), jt_table.getColumnModel().getColumn(j + 1).getModelIndex());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28934,"reputation":7258,"user_id":77722,"accept_rate":90,"display_name":"Tobias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12085,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4165926,"answer_count":5,"score":5,"last_activity_date":1634842576,"creation_date":1289571787,"question_id":4165562,"body_markdown":"I have a JTable with some columns. I have a HashMap of the column identifier mapped to the position in the view, for example:\r\n\r\n    TableHeader1 | TableHeader2 | TableHeader3\r\n        sth.           sth.          sth.\r\n\r\nI know that:\r\n\r\n    TableHeader1 -&gt; position 0\r\n    TableHeader2 -&gt; position 1\r\n    TableHeader3 -&gt; position 2\r\n\r\nNow I want to reorder the columns. I know that there is a function called moveColumn(A, B) within the JTable class. This moves a column from A to B, and B is putted left or right. \r\nMy problem is, I want to order the whole table in a specific way, how can I do this?\r\nIf I use moveColumn, I cannot know where B has been moved, in 5 out of 10 cases it might be the right side and in the other cases the wrong side.\r\n\r\nHope you understand my problem :-)","title":"Set order of columns in JTable","body":"<p>I have a JTable with some columns. I have a HashMap of the column identifier mapped to the position in the view, for example:</p>\n\n<pre><code>TableHeader1 | TableHeader2 | TableHeader3\n    sth.           sth.          sth.\n</code></pre>\n\n<p>I know that:</p>\n\n<pre><code>TableHeader1 -&gt; position 0\nTableHeader2 -&gt; position 1\nTableHeader3 -&gt; position 2\n</code></pre>\n\n<p>Now I want to reorder the columns. I know that there is a function called moveColumn(A, B) within the JTable class. This moves a column from A to B, and B is putted left or right. \nMy problem is, I want to order the whole table in a specific way, how can I do this?\nIf I use moveColumn, I cannot know where B has been moved, in 5 out of 10 cases it might be the right side and in the other cases the wrong side.</p>\n\n<p>Hope you understand my problem :-)</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634840877,"creation_date":1634840877,"answer_id":69667040,"question_id":69666938,"body_markdown":"When comparing strings in Java, you can&#39;t use `==`. Instead you must use `equals` or `equalsIgnoreCase`, like this:\r\n\r\n    if (airCode.equals(&quot;LAX&quot;) || airCode.equals(&quot;SAN&quot;) || airCode.equals(&quot;LAS&quot;)) {\r\n\r\nThere are lots of explanations of why, but in your very early days of coding I&#39;d say &quot;just accept it&quot;. For now. Later on you must understand why.","title":"Doing a Miles Calculator in Java and got stuck","body":"<p>When comparing strings in Java, you can't use <code>==</code>. Instead you must use <code>equals</code> or <code>equalsIgnoreCase</code>, like this:</p>\n<pre><code>if (airCode.equals(&quot;LAX&quot;) || airCode.equals(&quot;SAN&quot;) || airCode.equals(&quot;LAS&quot;)) {\n</code></pre>\n<p>There are lots of explanations of why, but in your very early days of coding I'd say &quot;just accept it&quot;. For now. Later on you must understand why.</p>\n"},{"tags":[],"owner":{"account_id":22455410,"reputation":1,"user_id":16658162,"display_name":"V&#236;&#231;t&#245;r Ch&#236;&#227;k&#227;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634842486,"creation_date":1634842486,"answer_id":69667372,"question_id":69666938,"body_markdown":"When comparing Strings do not use (==) //it&#39;s wrong practice but instead use the String.equals() function\r\nOr the String.equalsIgnoreCase() function\r\n then specify what to compare in the parameter\r\n\r\nE.g if(airCode.eqauls(&quot;LAX&quot;) || air code.equals(&quot;SAN&quot;) || airCode.equals(&quot;LAS&quot;)\r\n","title":"Doing a Miles Calculator in Java and got stuck","body":"<p>When comparing Strings do not use (==) //it's wrong practice but instead use the String.equals() function\nOr the String.equalsIgnoreCase() function\nthen specify what to compare in the parameter</p>\n<p>E.g if(airCode.eqauls(&quot;LAX&quot;) || air code.equals(&quot;SAN&quot;) || airCode.equals(&quot;LAS&quot;)</p>\n"}],"owner":{"account_id":23104044,"reputation":15,"user_id":17213008,"display_name":"ryanmonty42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634844501,"answer_count":2,"score":0,"last_activity_date":1634842486,"creation_date":1634840301,"question_id":69666938,"body_markdown":"It&#39;s my first assignment in my Java class and I&#39;m already frustrated lol. Brand new rookie here. \r\n\r\nI want to make it so I can input LAX or SAN or LAS and it will move on and list the other statements under my if statement. Instead, it always goes straight to what is under the else statement, even if I do input &quot;LAX&quot; in the console for example.\r\n\r\nHere is what I have:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class MilesCalculator {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString airCode = &quot;&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\t\\t\\tMiles Calculator\\n&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;This program will calculate how many miles you earn on your Phoenix Air Flight.\\n&quot;);\r\n\t\tSystem.out.println(&quot;DESTINATIONS&quot;);\r\n\t\tSystem.out.println(&quot;Los Angeles (LAX)&quot;);\r\n\t\tSystem.out.println(&quot;San Diego (SAN)&quot;);\r\n\t\tSystem.out.println(&quot;Las Vegas (LAS)\\n&quot;);\r\n\t\t\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the destination airport code: &quot;);\r\n\t\t\r\n\t\tairCode = scnr.nextLine();\r\n\t\t\r\n\t\tif (airCode == &quot;LAX&quot; || airCode == &quot;SAN&quot; || airCode == &quot;LAS&quot;) {\r\n\t\t\tSystem.out.println(&quot;STATUS&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Bronze&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Silver&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Gold&quot;);\r\n\t\t\tSystem.out.println(&quot;4. Platinum\\n&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Please enter your frequent flyer status option (1-4): &quot;);\r\n\r\n\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.printf(&quot;Phoenix Air does not fly to %s. There will be zero miles earned. \\nPress enter to quit...&quot;, airCode);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\tscnr.nextLine();\r\n\t\t}\r\n```","title":"Doing a Miles Calculator in Java and got stuck","body":"<p>It's my first assignment in my Java class and I'm already frustrated lol. Brand new rookie here.</p>\n<p>I want to make it so I can input LAX or SAN or LAS and it will move on and list the other statements under my if statement. Instead, it always goes straight to what is under the else statement, even if I do input &quot;LAX&quot; in the console for example.</p>\n<p>Here is what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class MilesCalculator {\n\n    public static void main(String[] args) {\n        \n        String airCode = &quot;&quot;;\n        \n        System.out.println(&quot;\\t\\t\\tMiles Calculator\\n&quot;);\n        \n        System.out.println(&quot;This program will calculate how many miles you earn on your Phoenix Air Flight.\\n&quot;);\n        System.out.println(&quot;DESTINATIONS&quot;);\n        System.out.println(&quot;Los Angeles (LAX)&quot;);\n        System.out.println(&quot;San Diego (SAN)&quot;);\n        System.out.println(&quot;Las Vegas (LAS)\\n&quot;);\n        \n        Scanner scnr = new Scanner(System.in);\n        \n        System.out.print(&quot;Please enter the destination airport code: &quot;);\n        \n        airCode = scnr.nextLine();\n        \n        if (airCode == &quot;LAX&quot; || airCode == &quot;SAN&quot; || airCode == &quot;LAS&quot;) {\n            System.out.println(&quot;STATUS&quot;);\n            System.out.println(&quot;1. Bronze&quot;);\n            System.out.println(&quot;2. Silver&quot;);\n            System.out.println(&quot;3. Gold&quot;);\n            System.out.println(&quot;4. Platinum\\n&quot;);\n            \n            System.out.print(&quot;Please enter your frequent flyer status option (1-4): &quot;);\n\n        }\n            else {\n                System.out.printf(&quot;Phoenix Air does not fly to %s. There will be zero miles earned. \\nPress enter to quit...&quot;, airCode);\n                System.exit(0);\n                scnr.nextLine();\n        }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485981059,"creation_date":1485981059,"answer_id":41989177,"question_id":41986476,"body_markdown":"I think you have missed some attributes on both of the strategies:\r\n\r\n**Sequence**\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @SequenceGenerator(name = &quot;my_sequence&quot;, sequenceName= &quot;dbsequence&quot;\r\n                       initialValue = 1000, allocationSize = 10)\r\n    private long id;\r\n\r\n**Table**\r\n\r\nId generation table should have two columns. The first column is a String type used to identify the particular generator sequence. It is the primary key for all the generators in the table. The Second column is an integer type that stores the actual id sequence that is being generated. The value stored in this column is the last identifier that was allocated in the sequence.\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.TABLE)\r\n    @TableGenerator(name = &quot;my_sequence&quot;\r\n                  , table = &quot;id_gen&quot;\r\n                  , pkColumnName = &quot;gen_name&quot;\r\n                  , valueColumnName = &quot;gen_val&quot;\r\n                  , initialValue = 1000, allocationSize = 10)\r\n    private long id;\r\n\r\nThe table strategy is obviously more portable so consider that when you will make a choice.","title":"Hibernate ignores initialValue for sequence generator","body":"<p>I think you have missed some attributes on both of the strategies:</p>\n\n<p><strong>Sequence</strong></p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\n@SequenceGenerator(name = \"my_sequence\", sequenceName= \"dbsequence\"\n                   initialValue = 1000, allocationSize = 10)\nprivate long id;\n</code></pre>\n\n<p><strong>Table</strong></p>\n\n<p>Id generation table should have two columns. The first column is a String type used to identify the particular generator sequence. It is the primary key for all the generators in the table. The Second column is an integer type that stores the actual id sequence that is being generated. The value stored in this column is the last identifier that was allocated in the sequence.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.TABLE)\n@TableGenerator(name = \"my_sequence\"\n              , table = \"id_gen\"\n              , pkColumnName = \"gen_name\"\n              , valueColumnName = \"gen_val\"\n              , initialValue = 1000, allocationSize = 10)\nprivate long id;\n</code></pre>\n\n<p>The table strategy is obviously more portable so consider that when you will make a choice.</p>\n"},{"tags":[],"owner":{"account_id":10156550,"reputation":552,"user_id":7501483,"accept_rate":9,"display_name":"FarwoodHill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509473252,"creation_date":1486053548,"answer_id":42007603,"question_id":41986476,"body_markdown":"The generator name must be included in the @GeneratedValue annotation, such as:\r\n\r\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;my_sequence&quot;)    \r\n    @TableGenerator(\r\n      name = &quot;my_sequence&quot;,\r\n      table = &quot;id_gen&quot;,\r\n      pkColumnName = &quot;gen_name&quot;,\r\n      valueColumnName = &quot;gen_val&quot;,\r\n      initialValue = 1000,\r\n      allocationSize = 10)\r\n\r\n","title":"Hibernate ignores initialValue for sequence generator","body":"<p>The generator name must be included in the @GeneratedValue annotation, such as:</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.TABLE, generator = \"my_sequence\")    \n@TableGenerator(\n  name = \"my_sequence\",\n  table = \"id_gen\",\n  pkColumnName = \"gen_name\",\n  valueColumnName = \"gen_val\",\n  initialValue = 1000,\n  allocationSize = 10)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19995411,"reputation":111,"user_id":14655594,"display_name":"nidhal louremi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634842370,"creation_date":1634842370,"answer_id":69667348,"question_id":41986476,"body_markdown":"you should name your @sequencegenerator then add the same name to @generatedvalue\r\n\r\nyou need also to create-drop your table (in application.properties) or your application is going to run the table with old sequence parameters \r\n\r\n\r\n    `@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE , name=&quot;my_sequence&quot;)\r\n    @SequenceGenerator(name = &quot;my_sequence&quot;,sequenceName=&quot;my_sequence&quot;, initialValue = 1000,allocationSize = 10)\r\n     private long id;`","title":"Hibernate ignores initialValue for sequence generator","body":"<p>you should name your @sequencegenerator then add the same name to @generatedvalue</p>\n<p>you need also to create-drop your table (in application.properties) or your application is going to run the table with old sequence parameters</p>\n<pre><code>`@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE , name=&quot;my_sequence&quot;)\n@SequenceGenerator(name = &quot;my_sequence&quot;,sequenceName=&quot;my_sequence&quot;, initialValue = 1000,allocationSize = 10)\n private long id;`\n</code></pre>\n"}],"owner":{"account_id":10156550,"reputation":552,"user_id":7501483,"accept_rate":9,"display_name":"FarwoodHill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42007603,"answer_count":3,"score":2,"last_activity_date":1634842370,"creation_date":1485971750,"question_id":41986476,"body_markdown":"I need to have a unique ID across all tables in my database that is starting with an offset, let&#39;s say 1000. The IDs below that offset are reserved for special records that are referenced by constants in the Java code. In other words, the first record that is persisted in any table I would expect to have ID 1000, the next one 1001 etc.\r\n\r\nI followed the instructions in the Hibernate documentation and various posts and these are the annotations I&#39;m using:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @SequenceGenerator(name = &quot;my_sequence&quot;, initialValue = 1000, allocationSize = 10)\r\n    private long id;\r\n\r\nUnfortunately Hibernate completely ignores the initialValue setting. It generates the following SQL code:\r\n\r\n    create table hibernate_sequence (next_val bigint)\r\n    insert into hibernate_sequence values ( 1 )\r\n\r\nI also had a try with the TABLE strategy which also does not work. The ID starts with 1.\r\n\r\n   \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.TABLE)\r\n    @TableGenerator(name = &quot;my_sequence&quot;, initialValue = 1000, allocationSize = 10)\r\n    private long id;\r\n\r\nBy the way, this does work with EclipseLink JPA provider. My Hibernate version is 5.2.7 and I am going through the JPA API. I am using MySQL.\r\n\r\nHas anybody experienced this problem?\r\n\r\nThanks in advance.","title":"Hibernate ignores initialValue for sequence generator","body":"<p>I need to have a unique ID across all tables in my database that is starting with an offset, let's say 1000. The IDs below that offset are reserved for special records that are referenced by constants in the Java code. In other words, the first record that is persisted in any table I would expect to have ID 1000, the next one 1001 etc.</p>\n\n<p>I followed the instructions in the Hibernate documentation and various posts and these are the annotations I'm using:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\n@SequenceGenerator(name = \"my_sequence\", initialValue = 1000, allocationSize = 10)\nprivate long id;\n</code></pre>\n\n<p>Unfortunately Hibernate completely ignores the initialValue setting. It generates the following SQL code:</p>\n\n<pre><code>create table hibernate_sequence (next_val bigint)\ninsert into hibernate_sequence values ( 1 )\n</code></pre>\n\n<p>I also had a try with the TABLE strategy which also does not work. The ID starts with 1.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.TABLE)\n@TableGenerator(name = \"my_sequence\", initialValue = 1000, allocationSize = 10)\nprivate long id;\n</code></pre>\n\n<p>By the way, this does work with EclipseLink JPA provider. My Hibernate version is 5.2.7 and I am going through the JPA API. I am using MySQL.</p>\n\n<p>Has anybody experienced this problem?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":14731813,"reputation":35,"user_id":14650328,"display_name":"Aram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634842231,"creation_date":1634842231,"question_id":69667320,"body_markdown":"In my Spring Boot application, I have a CsvMapper that is injected into a Service class. This CsvMapper is defined as a bean in a Config file.\r\n\r\nIn my Controller, when I return a ResponseEntity that was created by passing in a HashMap, the stack trace displays these errors.\r\n\r\n```\r\n    w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Unrecognized column &#39;message&#39;: known columns: ]; nested exception is com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column &#39;message&#39;: known columns: ] (through reference chain: java.util.HashMap[&quot;message&quot;])]\r\n\r\n    w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Unrecognized column &#39;timestamp&#39;: known columns: ]; nested exception is com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column &#39;timestamp&#39;: known columns: ] (through reference chain: java.util.LinkedHashMap[&quot;timestamp&quot;])]\r\n```\r\n\r\n\r\nHere is a brief layout of these files.\r\n\r\n**CsvParserService**\r\n```\r\n@Slf4j\r\n@Component\r\npublic final class CsvParserService {\r\n\r\n    private CsvMapper csvMapper;\r\n    // TODO: This injection causes a problem when creating a ResponseEntity(Map,...). Investigate why this is happening\r\n    public CsvParserService(@Qualifier(&quot;myCsvMapper&quot;) CsvMapper myCsvMapper) {\r\n        this.csvMapper =  myCsvMapper;\r\n    }\r\n\r\n    public &lt;T&gt; List&lt;T&gt; parseCsvFile(Class&lt;T&gt; modelClass, MultipartFile csvFile, boolean ifHeader) throws IOException {\r\n        // create inputStream of the scorecard CSV file\r\n        InputStream fileStream = new BufferedInputStream(csvFile.getInputStream());\r\n        CsvSchema csvSchema = csvMapper\r\n                .typedSchemaFor(modelClass)\r\n                .withUseHeader(ifHeader)  // this should be configured applied based on the queryParameter value in the PostRequest\r\n                .withColumnSeparator(&#39;,&#39;)\r\n                .sortedBy(&quot;timestamp&quot;, &quot;productName&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;);\r\n\r\n        MappingIterator&lt;T&gt; iterator = csvMapper\r\n                .readerWithTypedSchemaFor(modelClass)\r\n                .with(csvSchema)\r\n                .readValues(fileStream);\r\n        return iterator.readAll();\r\n    }\r\n```\r\n\r\n**The Config file where the bean is defined**\r\n\r\n```\r\n@Configuration\r\npublic class JacksonConfig {\r\n    @Bean(name=&quot;myCsvMapper&quot;)\r\n    public CsvMapper myCsvMapper(DateTimeFormatter dateTimeFormatter) {\r\n        JavaTimeModule javaTimeModule = new JavaTimeModule();\r\n        configureDateTimeDeSerialization(javaTimeModule, dateTimeFormatter);\r\n        CsvMapper csvMapper = new CsvMapper();\r\n        csvMapper.registerModule(javaTimeModule);\r\n        return csvMapper;\r\n    }\r\n\r\n    private void configureDateTimeDeSerialization(JavaTimeModule javaTimeModule, DateTimeFormatter dateTimeFormatter) {\r\n\r\n        // Instant customizations\r\n        javaTimeModule.addSerializer(Instant.class, new JsonSerializer&lt;&gt;() {\r\n            @Override\r\n            public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n                gen.writeString(dateTimeFormatter.format(value));\r\n            }\r\n        });\r\n        javaTimeModule.addDeserializer(Instant.class, new JsonDeserializer&lt;&gt;() {\r\n            @Override\r\n            public Instant deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n                return dateTimeFormatter.parse(p.getText(), Instant::from);\r\n            }\r\n        });\r\n\r\n        // Instant customizations for map keys\r\n        javaTimeModule.addKeySerializer(Instant.class, new JsonSerializer&lt;&gt;() {\r\n            @Override\r\n            public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n                gen.writeFieldName(dateTimeFormatter.format(value));\r\n            }\r\n        });\r\n        javaTimeModule.addKeyDeserializer(Instant.class, new KeyDeserializer() {\r\n            @Override\r\n            public Object deserializeKey(String key, DeserializationContext ctxt) {\r\n                return dateTimeFormatter.parse(key, Instant::from);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nThe **controller** where the error occurs on the line with &quot;return new...&quot;\r\n```\r\n@RepositoryRestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class ScorecardSummaryController {\r\n\r\n@ResponseBody\r\n@GetMapping(value = {&quot;/csvmapper&quot;})\r\n\tpublic ResponseEntity&lt;?&gt; getProducts() {\r\n\r\n    // some services calls\r\n     Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n     map.put(&quot;message&quot;, &quot;Some message&quot;);\r\n     map.put(&quot;status&quot;, &quot;Ok&quot;);\r\n     return new ResponseEntity&lt;&gt;(map, HttpStatus.OK); // error occurs after this line\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy suspicion is that the CsvMapper bean has become sort of default mapper for the application? But I&#39;m not sure how that happens or why it occurs when creating a ResponseEntity by passing in a HashMap. If I create the ResponseEntity in an alternative way such as \r\n```return new ResponseEntity&lt;String&gt;(&quot;Success&quot;, HttpStatus.OK); ```\r\n, it will not return any error. If I write code in the @Bean definition to ignore errors of columns unknown, the application does not return anything when I hit the API Endpoint&quot;.","title":"Spring Boot CsvMapper bean causes an error when returning a ResponseEntity created with a Map","body":"<p>In my Spring Boot application, I have a CsvMapper that is injected into a Service class. This CsvMapper is defined as a bean in a Config file.</p>\n<p>In my Controller, when I return a ResponseEntity that was created by passing in a HashMap, the stack trace displays these errors.</p>\n<pre><code>    w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Unrecognized column 'message': known columns: ]; nested exception is com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column 'message': known columns: ] (through reference chain: java.util.HashMap[&quot;message&quot;])]\n\n    w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Unrecognized column 'timestamp': known columns: ]; nested exception is com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column 'timestamp': known columns: ] (through reference chain: java.util.LinkedHashMap[&quot;timestamp&quot;])]\n</code></pre>\n<p>Here is a brief layout of these files.</p>\n<p><strong>CsvParserService</strong></p>\n<pre><code>@Slf4j\n@Component\npublic final class CsvParserService {\n\n    private CsvMapper csvMapper;\n    // TODO: This injection causes a problem when creating a ResponseEntity(Map,...). Investigate why this is happening\n    public CsvParserService(@Qualifier(&quot;myCsvMapper&quot;) CsvMapper myCsvMapper) {\n        this.csvMapper =  myCsvMapper;\n    }\n\n    public &lt;T&gt; List&lt;T&gt; parseCsvFile(Class&lt;T&gt; modelClass, MultipartFile csvFile, boolean ifHeader) throws IOException {\n        // create inputStream of the scorecard CSV file\n        InputStream fileStream = new BufferedInputStream(csvFile.getInputStream());\n        CsvSchema csvSchema = csvMapper\n                .typedSchemaFor(modelClass)\n                .withUseHeader(ifHeader)  // this should be configured applied based on the queryParameter value in the PostRequest\n                .withColumnSeparator(',')\n                .sortedBy(&quot;timestamp&quot;, &quot;productName&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;);\n\n        MappingIterator&lt;T&gt; iterator = csvMapper\n                .readerWithTypedSchemaFor(modelClass)\n                .with(csvSchema)\n                .readValues(fileStream);\n        return iterator.readAll();\n    }\n</code></pre>\n<p><strong>The Config file where the bean is defined</strong></p>\n<pre><code>@Configuration\npublic class JacksonConfig {\n    @Bean(name=&quot;myCsvMapper&quot;)\n    public CsvMapper myCsvMapper(DateTimeFormatter dateTimeFormatter) {\n        JavaTimeModule javaTimeModule = new JavaTimeModule();\n        configureDateTimeDeSerialization(javaTimeModule, dateTimeFormatter);\n        CsvMapper csvMapper = new CsvMapper();\n        csvMapper.registerModule(javaTimeModule);\n        return csvMapper;\n    }\n\n    private void configureDateTimeDeSerialization(JavaTimeModule javaTimeModule, DateTimeFormatter dateTimeFormatter) {\n\n        // Instant customizations\n        javaTimeModule.addSerializer(Instant.class, new JsonSerializer&lt;&gt;() {\n            @Override\n            public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n                gen.writeString(dateTimeFormatter.format(value));\n            }\n        });\n        javaTimeModule.addDeserializer(Instant.class, new JsonDeserializer&lt;&gt;() {\n            @Override\n            public Instant deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n                return dateTimeFormatter.parse(p.getText(), Instant::from);\n            }\n        });\n\n        // Instant customizations for map keys\n        javaTimeModule.addKeySerializer(Instant.class, new JsonSerializer&lt;&gt;() {\n            @Override\n            public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n                gen.writeFieldName(dateTimeFormatter.format(value));\n            }\n        });\n        javaTimeModule.addKeyDeserializer(Instant.class, new KeyDeserializer() {\n            @Override\n            public Object deserializeKey(String key, DeserializationContext ctxt) {\n                return dateTimeFormatter.parse(key, Instant::from);\n            }\n        });\n    }\n</code></pre>\n<p>The <strong>controller</strong> where the error occurs on the line with &quot;return new...&quot;</p>\n<pre><code>@RepositoryRestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class ScorecardSummaryController {\n\n@ResponseBody\n@GetMapping(value = {&quot;/csvmapper&quot;})\n    public ResponseEntity&lt;?&gt; getProducts() {\n\n    // some services calls\n     Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n     map.put(&quot;message&quot;, &quot;Some message&quot;);\n     map.put(&quot;status&quot;, &quot;Ok&quot;);\n     return new ResponseEntity&lt;&gt;(map, HttpStatus.OK); // error occurs after this line\n    }\n}\n\n</code></pre>\n<p>My suspicion is that the CsvMapper bean has become sort of default mapper for the application? But I'm not sure how that happens or why it occurs when creating a ResponseEntity by passing in a HashMap. If I create the ResponseEntity in an alternative way such as\n<code>return new ResponseEntity&lt;String&gt;(&quot;Success&quot;, HttpStatus.OK); </code>\n, it will not return any error. If I write code in the @Bean definition to ignore errors of columns unknown, the application does not return anything when I hit the API Endpoint&quot;.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":0,"creation_date":1548773959,"post_id":54423410,"comment_id":95657752,"body_markdown":"does anything speak against just casting the array to its actual type, i.e. using `(Integer[]) array`?","body":"does anything speak against just casting the array to its actual type, i.e. using <code>(Integer[]) array</code>?"},{"owner":{"account_id":29377,"reputation":1438,"user_id":79344,"accept_rate":89,"display_name":"zyndor"},"score":0,"creation_date":1548774341,"post_id":54423410,"comment_id":95658014,"body_markdown":"unfortunately not; I&#39;m supposed to be working from a collection of objects (of whom I&#39;d need the generic superclass&#39; first actual type argument).","body":"unfortunately not; I&#39;m supposed to be working from a collection of objects (of whom I&#39;d need the generic superclass&#39; first actual type argument)."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":1,"creation_date":1548774852,"post_id":54423410,"comment_id":95658390,"body_markdown":"collection of objects or array of objects? ;-) If you can, try to omit reflection whenever possible... every time I saw a solution using reflection there were lots of other ideas around that better suited the purpose... but I don&#39;t know your use case, so it&#39;s just a general recommendation...","body":"collection of objects or array of objects? ;-) If you can, try to omit reflection whenever possible... every time I saw a solution using reflection there were lots of other ideas around that better suited the purpose... but I don&#39;t know your use case, so it&#39;s just a general recommendation..."},{"owner":{"account_id":29377,"reputation":1438,"user_id":79344,"accept_rate":89,"display_name":"zyndor"},"score":0,"creation_date":1548775559,"post_id":54423410,"comment_id":95658863,"body_markdown":"I get them from a collection, typically ArrayList&lt;?&gt;, just wanted to go for a minimal repro.\n\nAnd reflection might not be the key word; the idea I was trying to capture is that I don&#39;t know the type at compile time to do a I(MyConcreteType[]) myMysteryArray cast.","body":"I get them from a collection, typically ArrayList&lt;?&gt;, just wanted to go for a minimal repro.  And reflection might not be the key word; the idea I was trying to capture is that I don&#39;t know the type at compile time to do a I(MyConcreteType[]) myMysteryArray cast."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":0,"creation_date":1548775735,"post_id":54423410,"comment_id":95658981,"body_markdown":"wait... you transform the `ArrayList` to an array? if so... you need the type already there, otherwise you get a `Object[]`, right?","body":"wait... you transform the <code>ArrayList</code> to an array? if so... you need the type already there, otherwise you get a <code>Object[]</code>, right?"},{"owner":{"account_id":29377,"reputation":1438,"user_id":79344,"accept_rate":89,"display_name":"zyndor"},"score":0,"creation_date":1548838192,"post_id":54423410,"comment_id":95682331,"body_markdown":"Yes. And I get the array from the (Array)List, though the means of doing this  oes not have to be toArray(). `list.toArray(Array.newInstance(elementClass, list.size()))` is giving me grief:  &quot;[...] toArray(T[]) in the type List&lt;capture#-n-of ?&gt; is not applicable for the arguments (Object). I&#39;m getting the same in the above repro for Arrays.copyOf().","body":"Yes. And I get the array from the (Array)List, though the means of doing this  oes not have to be toArray(). <code>list.toArray(Array.newInstance(elementClass, list.size()))</code> is giving me grief:  &quot;[...] toArray(T[]) in the type List&lt;capture#-n-of ?&gt; is not applicable for the arguments (Object). I&#39;m getting the same in the above repro for Arrays.copyOf()."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":0,"creation_date":1548838726,"post_id":54423410,"comment_id":95682671,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/187552/discussion-between-roland-and-zyndor).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/187552/discussion-between-roland-and-zyndor\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548776122,"creation_date":1548774687,"answer_id":54424062,"question_id":54423410,"body_markdown":"You can instead cast it to `Object[]` if you want to keep it dynamic and it will work:\r\n\r\n    Object[] copy = Arrays.copyOf((Object[])arrayType.cast(array), Array.getLength(array));\r\n\r\nUnder the hood it will copy the array as is, i.e. the copy will become an `Integer[]` for your given example.\r\n\r\nIf it&#39;s even more generic what you want to do, you could also check whether a given type is actually an array, before casting, e.g. in your example you could use `arrayType.isArray()` for that.","title":"Casting to array type using reflection","body":"<p>You can instead cast it to <code>Object[]</code> if you want to keep it dynamic and it will work:</p>\n\n<pre><code>Object[] copy = Arrays.copyOf((Object[])arrayType.cast(array), Array.getLength(array));\n</code></pre>\n\n<p>Under the hood it will copy the array as is, i.e. the copy will become an <code>Integer[]</code> for your given example.</p>\n\n<p>If it's even more generic what you want to do, you could also check whether a given type is actually an array, before casting, e.g. in your example you could use <code>arrayType.isArray()</code> for that.</p>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634842216,"creation_date":1634842216,"answer_id":69667317,"question_id":54423410,"body_markdown":"I had the question for kotlin jvm (which replaced the `Object` by `Any`). So to cast a generic to an array I used [`typeOf`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html) from [kotlin-reflect](https://kotlinlang.org/docs/reflection.html):\r\n\r\n```kotlin\r\nprivate inline fun &lt;reified T&gt; genericReflectionToTypedArray(): T? {\r\n    return java.lang.reflect.Array.newInstance(typeOf&lt;T&gt;().arguments[0].type!!.javaType as Class&lt;*&gt;, 10) as T\r\n}\r\n```\r\n\r\nIn this case you would know that `T` is an array so, to get the type of the array you would use the `typeOf` and get the java type as class of the first type argument of your `Array&lt;T&gt;`.\r\n\r\nThe `newInstance` method takes the java type of your Array, and the second parameter is the length of the array. \r\nIn this case there are no UNCHECKED CAST.","title":"Casting to array type using reflection","body":"<p>I had the question for kotlin jvm (which replaced the <code>Object</code> by <code>Any</code>). So to cast a generic to an array I used <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html\" rel=\"nofollow noreferrer\"><code>typeOf</code></a> from <a href=\"https://kotlinlang.org/docs/reflection.html\" rel=\"nofollow noreferrer\">kotlin-reflect</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private inline fun &lt;reified T&gt; genericReflectionToTypedArray(): T? {\n    return java.lang.reflect.Array.newInstance(typeOf&lt;T&gt;().arguments[0].type!!.javaType as Class&lt;*&gt;, 10) as T\n}\n</code></pre>\n<p>In this case you would know that <code>T</code> is an array so, to get the type of the array you would use the <code>typeOf</code> and get the java type as class of the first type argument of your <code>Array&lt;T&gt;</code>.</p>\n<p>The <code>newInstance</code> method takes the java type of your Array, and the second parameter is the length of the array.\nIn this case there are no UNCHECKED CAST.</p>\n"}],"owner":{"account_id":29377,"reputation":1438,"user_id":79344,"accept_rate":89,"display_name":"zyndor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54424062,"answer_count":2,"score":0,"last_activity_date":1634842216,"creation_date":1548772659,"question_id":54423410,"body_markdown":"I find myself in a situation where it seems I would need to be able to cast an Object that is an array of some other, non-primitive type, into its concrete array type, to pass to a generic.\r\n\r\nThe same thing is trivial to get to work with non-array types: `desiredType.cast(o)` yields an object of the correct type.\r\n\r\nWould someone be so kind to explain either how to do this with arrays, OR why this would never work?\r\n\r\nA demonstration of what I&#39;m attempting to do:\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.Arrays;\r\n    \r\n    public class Main\r\n    {\r\n      public static &lt;T&gt; void testT(T o)\r\n      {\r\n        System.out.println(&quot;testT called with &quot; + o + &quot; (&quot; + o.getClass() + &quot;)&quot;);\r\n      }\r\n      \r\n      public static void test(Object o)\r\n      {\r\n        testT(o.getClass().cast(o));\r\n      }\r\n      \r\n      public static void main(String[] args) throws ClassNotFoundException\r\n      {\r\n        test(new Integer(5));\r\n        \r\n        Class&lt;?&gt; type = Class.forName(&quot;java.lang.Integer&quot;);\r\n        Object array = Array.newInstance(type, 2);\r\n\r\n        Class&lt;?&gt; arrayType = array.getClass();\r\n        Object[] copy = Arrays.copyOf(arrayType.cast(array), Array.getLength(array)); // NOPE. (casting is optional)\r\n        \r\n        System.out.println(copy);\r\n      }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://compilejava.net","title":"Casting to array type using reflection","body":"<p>I find myself in a situation where it seems I would need to be able to cast an Object that is an array of some other, non-primitive type, into its concrete array type, to pass to a generic.</p>\n\n<p>The same thing is trivial to get to work with non-array types: <code>desiredType.cast(o)</code> yields an object of the correct type.</p>\n\n<p>Would someone be so kind to explain either how to do this with arrays, OR why this would never work?</p>\n\n<p>A demonstration of what I'm attempting to do:</p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.util.Arrays;\n\npublic class Main\n{\n  public static &lt;T&gt; void testT(T o)\n  {\n    System.out.println(\"testT called with \" + o + \" (\" + o.getClass() + \")\");\n  }\n\n  public static void test(Object o)\n  {\n    testT(o.getClass().cast(o));\n  }\n\n  public static void main(String[] args) throws ClassNotFoundException\n  {\n    test(new Integer(5));\n\n    Class&lt;?&gt; type = Class.forName(\"java.lang.Integer\");\n    Object array = Array.newInstance(type, 2);\n\n    Class&lt;?&gt; arrayType = array.getClass();\n    Object[] copy = Arrays.copyOf(arrayType.cast(array), Array.getLength(array)); // NOPE. (casting is optional)\n\n    System.out.println(copy);\n  }\n}\n</code></pre>\n"},{"tags":["java","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":10136037,"reputation":468,"user_id":7487521,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1552837426,"creation_date":1552837426,"answer_id":55208833,"question_id":55200855,"body_markdown":"The repository of `ModelMapper` contains an issue [0] regarding the same problem, an explanation on how the current implementation works and code so `ModelMapper` removes items if the source size is less than the destination size.\r\n\r\n[0] https://github.com/modelmapper/modelmapper/issues/423","title":"Why does ModelMapper map collections merge-style?","body":"<p>The repository of <code>ModelMapper</code> contains an issue [0] regarding the same problem, an explanation on how the current implementation works and code so <code>ModelMapper</code> removes items if the source size is less than the destination size.</p>\n\n<p>[0] <a href=\"https://github.com/modelmapper/modelmapper/issues/423\" rel=\"noreferrer\">https://github.com/modelmapper/modelmapper/issues/423</a></p>\n"},{"tags":[],"owner":{"account_id":5442752,"reputation":453,"user_id":4330355,"display_name":"Mangusta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634842157,"creation_date":1634842157,"answer_id":69667298,"question_id":55200855,"body_markdown":"Merging lists is true by default, but you can turn it off:\r\n\r\n    ModelMapper mapper = new ModelMapper();\r\n    mapper.getConfiguration().setCollectionsMergeEnabled(false);\r\n\r\nSee:\r\nhttp://modelmapper.org/user-manual/configuration/","title":"Why does ModelMapper map collections merge-style?","body":"<p>Merging lists is true by default, but you can turn it off:</p>\n<pre><code>ModelMapper mapper = new ModelMapper();\nmapper.getConfiguration().setCollectionsMergeEnabled(false);\n</code></pre>\n<p>See:\n<a href=\"http://modelmapper.org/user-manual/configuration/\" rel=\"nofollow noreferrer\">http://modelmapper.org/user-manual/configuration/</a></p>\n"}],"owner":{"account_id":10136037,"reputation":468,"user_id":7487521,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55208833,"answer_count":2,"score":3,"last_activity_date":1634842157,"creation_date":1552765720,"question_id":55200855,"body_markdown":"In my application I am mapping data transfer objects to entities using the ModelMapper library.\r\n\r\nOne entity `Library` has a collection (`java.util.Set`) containing other entities `Book`.\r\nA user should be able to change the collections contents.\r\n\r\nIn this case a data transfer object `UpdateDTO` is used that contains the identifiers of the entities `Book` to be stored in the collection.\r\n\r\nThe backend maps the `UpdateDTO` to the entity `Library` using `ModelMapper`.\r\n\r\nNow assume a user removing an entity `Book` from the collection of `Library`. The `UpdateDTO` now contains a list of all entities of `Book` without the ones removed by the user.\r\n\r\nI expect the collection to be missing the entities `Book` removed by the user when `ModelMapper` maps the `UpdateDTO` to the entity `Library`. But unlike my expectation the entity returned `Library` still contains all `Book` entities.\r\n\r\n**Why is that?** I have pinned down the &#39;problem&#39; to these lines in the `CollectionConverter` [0].\r\n\r\n[0] https://github.com/modelmapper/modelmapper/blob/master/core/src/main/java/org/modelmapper/internal/converter/CollectionConverter.java#L62-L63","title":"Why does ModelMapper map collections merge-style?","body":"<p>In my application I am mapping data transfer objects to entities using the ModelMapper library.</p>\n\n<p>One entity <code>Library</code> has a collection (<code>java.util.Set</code>) containing other entities <code>Book</code>.\nA user should be able to change the collections contents.</p>\n\n<p>In this case a data transfer object <code>UpdateDTO</code> is used that contains the identifiers of the entities <code>Book</code> to be stored in the collection.</p>\n\n<p>The backend maps the <code>UpdateDTO</code> to the entity <code>Library</code> using <code>ModelMapper</code>.</p>\n\n<p>Now assume a user removing an entity <code>Book</code> from the collection of <code>Library</code>. The <code>UpdateDTO</code> now contains a list of all entities of <code>Book</code> without the ones removed by the user.</p>\n\n<p>I expect the collection to be missing the entities <code>Book</code> removed by the user when <code>ModelMapper</code> maps the <code>UpdateDTO</code> to the entity <code>Library</code>. But unlike my expectation the entity returned <code>Library</code> still contains all <code>Book</code> entities.</p>\n\n<p><strong>Why is that?</strong> I have pinned down the 'problem' to these lines in the <code>CollectionConverter</code> [0].</p>\n\n<p>[0] <a href=\"https://github.com/modelmapper/modelmapper/blob/master/core/src/main/java/org/modelmapper/internal/converter/CollectionConverter.java#L62-L63\" rel=\"nofollow noreferrer\">https://github.com/modelmapper/modelmapper/blob/master/core/src/main/java/org/modelmapper/internal/converter/CollectionConverter.java#L62-L63</a></p>\n"},{"tags":["java","hashmap","containskey","object-comparison"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634841920,"creation_date":1634841920,"answer_id":69667248,"question_id":69667189,"body_markdown":"You must make a new `detailsMap` -- or copy your existing one -- every time through the loop.  Right now, you&#39;re modifying the map that you&#39;ve already put in.","title":"Internal working of Java Map.containsKey() method","body":"<p>You must make a new <code>detailsMap</code> -- or copy your existing one -- every time through the loop.  Right now, you're modifying the map that you've already put in.</p>\n"}],"owner":{"account_id":3209764,"reputation":3955,"user_id":2709983,"accept_rate":60,"display_name":"Mohasin Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634841955,"answer_count":1,"score":0,"last_activity_date":1634841920,"creation_date":1634841694,"question_id":69667189,"body_markdown":"I am using a Map&lt;Map, Boolean&gt; in java and when I am trying to validate the Map with containsKey() method, it is returning always false, the inner Map always updates its keys &amp; values. Here is the code which looks like similar to this \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Random;\r\n    \r\n    public class ExampleMap\r\n    {\r\n    \tprivate static Map&lt;Map&lt;Long,Boolean&gt;, Boolean&gt; objectDetailsToSize= new HashMap&lt;&gt;();\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tRandom rn = new Random();\r\n    \t\tint size = 10;\r\n    \t\tMap&lt;Long,Boolean&gt; detailsMap = new HashMap&lt;&gt;();\r\n    \t\tfor(int i=0; i&lt; size; i++)\r\n    \t\t{\r\n    \t\t\tdetailsMap.put(rn.nextLong(),rn.nextBoolean());\r\n    \t\t\tif(!objectDetailsToSize.containsKey(detailsMap))\r\n    \t\t\t{\r\n    \t\t\t\t\tobjectDetailsToSize.put(detailsMap, rn.nextBoolean());\r\n    \t\t\t\t\tSystem.out.println(&quot;Why containsKey() method is failing here&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nWhy Map&#39;s containsKey() method is always failing here?","title":"Internal working of Java Map.containsKey() method","body":"<p>I am using a Map&lt;Map, Boolean&gt; in java and when I am trying to validate the Map with containsKey() method, it is returning always false, the inner Map always updates its keys &amp; values. Here is the code which looks like similar to this</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Random;\n\npublic class ExampleMap\n{\n    private static Map&lt;Map&lt;Long,Boolean&gt;, Boolean&gt; objectDetailsToSize= new HashMap&lt;&gt;();\n    public static void main(String[] args) \n    {\n        Random rn = new Random();\n        int size = 10;\n        Map&lt;Long,Boolean&gt; detailsMap = new HashMap&lt;&gt;();\n        for(int i=0; i&lt; size; i++)\n        {\n            detailsMap.put(rn.nextLong(),rn.nextBoolean());\n            if(!objectDetailsToSize.containsKey(detailsMap))\n            {\n                    objectDetailsToSize.put(detailsMap, rn.nextBoolean());\n                    System.out.println(&quot;Why containsKey() method is failing here&quot;);\n            }\n        }\n        \n    }\n}\n</code></pre>\n<p>Why Map's containsKey() method is always failing here?</p>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1630959538,"post_id":69044414,"comment_id":122090836,"body_markdown":"Hi, have you tried with 7.1.16? It&#39;s almost 2 years ahead considering the quarterly release schedule","body":"Hi, have you tried with 7.1.16? It&#39;s almost 2 years ahead considering the quarterly release schedule"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1631091794,"post_id":69044414,"comment_id":122127505,"body_markdown":"@AlexeySubach I&#39;ve tried with 7.1.16. I&#39;ve got the same result.","body":"@AlexeySubach I&#39;ve tried with 7.1.16. I&#39;ve got the same result."}],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634841779,"creation_date":1631372557,"answer_id":69144156,"question_id":69044414,"body_markdown":"To make sure the full font is embedded, and not just a subset, use `font.setSubset(false);`. \r\n\r\nGenerally speaking, you should as much as possible try to use a font which contains all of the glyphs from your value. Otherwise the consumers of your PDFs may have issues.\r\n\r\nAs a workaround you can create your own appearance using `layout` module by utilizing `FontSet` functionality which selects appropriate fonts automatically. In my example I only add one font to the `FontSet` but you may add multiple fonts there. It is strongly recommended, though, to limit the number of fonts to one, and to the smallest possible number if one is not possible.\r\n\r\nSo here we basically create a `PdfFormXObject` which serves as our appearance object:\r\n\r\n    FontSet fontSet = new FontSet();\r\n    fontSet.addFont(&quot;C:/Windows/Fonts/arial.ttf&quot;);\r\n    FontProvider fontProvider = new FontProvider(fontSet);\r\n\r\n    PdfFormXObject xObject = new PdfFormXObject(FIELDRECT);\r\n    Canvas canvas = new Canvas(xObject, pdfDoc);\r\n    canvas.setProperty(Property.FONT_PROVIDER, fontProvider);\r\n    canvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\r\n\r\nAnd then we have to set it to the field:\r\n\r\n    ff.setAppearance(PdfName.N, null, xObject.getPdfObject());\r\n\r\nFull code of your `createPdf` now looks as follows:\r\n\r\n    PdfWriter writer = new PdfWriter(dest);\r\n    PdfDocument pdfDoc = new PdfDocument(writer);\r\n    Document doc = new Document(pdfDoc);\r\n\r\n    Paragraph para = new Paragraph(&quot;Test document for multi-font appearance in a text formfield&quot;);\r\n    doc.add(para);\r\n\r\n    PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\r\n    PdfTextFormField ff = PdfFormField.createText(pdfDoc,FIELDRECT,&quot;test&quot;, FIELDVALUE);\r\n    ff.setMultiline(true);\r\n    ff.setScroll(true);\r\n\r\n    FontSet fontSet = new FontSet();\r\n    fontSet.addFont(&quot;C:/Windows/Fonts/arial.ttf&quot;);\r\n    FontProvider fontProvider = new FontProvider(fontSet);\r\n\r\n    PdfFormXObject xObject = new PdfFormXObject(FIELDRECT);\r\n    Canvas canvas = new Canvas(xObject, pdfDoc);\r\n    canvas.setProperty(Property.FONT_PROVIDER, fontProvider);\r\n    canvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\r\n\r\n    ff.setAppearance(PdfName.N, null, xObject.getPdfObject());\r\n\r\n    acroForm.addField(ff,pdfDoc.getFirstPage());\r\n\r\n    PdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\r\n    pdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\r\n\r\n    doc.close();\r\n\r\n\r\nVisual result on opening the PDF:\r\n\r\n[![result][1]][1]\r\n\r\n**UPD** The code above works fine in Adobe Acrobat, Foxit, Chrome PDF viewer but when you open it up in Adobe Reader you see empty form field.\r\n\r\nTo make it work in Acrobat, you have to make sure to have your XObject bbox start at origin:\r\n\r\n    PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\r\n\r\nAnd also wrap the appearance into `/Tx BMC` / `EMC` block which marks the part that need to be replaced when appearance is regenerated.\r\n\r\nFixed part of code produces correct result in Adobe Acrobat Reader as well:\r\n\r\n    PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\r\n    Canvas canvas = new Canvas(xObject, pdfDoc);\r\n    canvas.getPdfCanvas().beginMarkedContent(new PdfName(&quot;Tx&quot;));\r\n    canvas.setProperty(Property.FONT_PROVIDER, fontProvider);\r\n    canvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\r\n    canvas.getPdfCanvas().endMarkedContent();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kku3X.png","title":"The non-latin text is disappearing from the pdf text field","body":"<p>To make sure the full font is embedded, and not just a subset, use <code>font.setSubset(false);</code>.</p>\n<p>Generally speaking, you should as much as possible try to use a font which contains all of the glyphs from your value. Otherwise the consumers of your PDFs may have issues.</p>\n<p>As a workaround you can create your own appearance using <code>layout</code> module by utilizing <code>FontSet</code> functionality which selects appropriate fonts automatically. In my example I only add one font to the <code>FontSet</code> but you may add multiple fonts there. It is strongly recommended, though, to limit the number of fonts to one, and to the smallest possible number if one is not possible.</p>\n<p>So here we basically create a <code>PdfFormXObject</code> which serves as our appearance object:</p>\n<pre><code>FontSet fontSet = new FontSet();\nfontSet.addFont(&quot;C:/Windows/Fonts/arial.ttf&quot;);\nFontProvider fontProvider = new FontProvider(fontSet);\n\nPdfFormXObject xObject = new PdfFormXObject(FIELDRECT);\nCanvas canvas = new Canvas(xObject, pdfDoc);\ncanvas.setProperty(Property.FONT_PROVIDER, fontProvider);\ncanvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\n</code></pre>\n<p>And then we have to set it to the field:</p>\n<pre><code>ff.setAppearance(PdfName.N, null, xObject.getPdfObject());\n</code></pre>\n<p>Full code of your <code>createPdf</code> now looks as follows:</p>\n<pre><code>PdfWriter writer = new PdfWriter(dest);\nPdfDocument pdfDoc = new PdfDocument(writer);\nDocument doc = new Document(pdfDoc);\n\nParagraph para = new Paragraph(&quot;Test document for multi-font appearance in a text formfield&quot;);\ndoc.add(para);\n\nPdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\nPdfTextFormField ff = PdfFormField.createText(pdfDoc,FIELDRECT,&quot;test&quot;, FIELDVALUE);\nff.setMultiline(true);\nff.setScroll(true);\n\nFontSet fontSet = new FontSet();\nfontSet.addFont(&quot;C:/Windows/Fonts/arial.ttf&quot;);\nFontProvider fontProvider = new FontProvider(fontSet);\n\nPdfFormXObject xObject = new PdfFormXObject(FIELDRECT);\nCanvas canvas = new Canvas(xObject, pdfDoc);\ncanvas.setProperty(Property.FONT_PROVIDER, fontProvider);\ncanvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\n\nff.setAppearance(PdfName.N, null, xObject.getPdfObject());\n\nacroForm.addField(ff,pdfDoc.getFirstPage());\n\nPdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\npdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\n\ndoc.close();\n</code></pre>\n<p>Visual result on opening the PDF:</p>\n<p><a href=\"https://i.stack.imgur.com/kku3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kku3X.png\" alt=\"result\" /></a></p>\n<p><strong>UPD</strong> The code above works fine in Adobe Acrobat, Foxit, Chrome PDF viewer but when you open it up in Adobe Reader you see empty form field.</p>\n<p>To make it work in Acrobat, you have to make sure to have your XObject bbox start at origin:</p>\n<pre><code>PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\n</code></pre>\n<p>And also wrap the appearance into <code>/Tx BMC</code> / <code>EMC</code> block which marks the part that need to be replaced when appearance is regenerated.</p>\n<p>Fixed part of code produces correct result in Adobe Acrobat Reader as well:</p>\n<pre><code>PdfFormXObject xObject = new PdfFormXObject(new Rectangle(0, 0, FIELDRECT.getWidth(), FIELDRECT.getHeight()));\nCanvas canvas = new Canvas(xObject, pdfDoc);\ncanvas.getPdfCanvas().beginMarkedContent(new PdfName(&quot;Tx&quot;));\ncanvas.setProperty(Property.FONT_PROVIDER, fontProvider);\ncanvas.add(new Paragraph(FIELDVALUE).setMultipliedLeading(1).setFontFamily(&quot;Arial&quot;));\ncanvas.getPdfCanvas().endMarkedContent();\n</code></pre>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69144156,"answer_count":1,"score":0,"last_activity_date":1634841779,"creation_date":1630669683,"question_id":69044414,"body_markdown":"I create a PDF document with text fillable fields using ```itext 7.1.9``` library. The ```PdfTextFormField``` contains a multilanguage text. When the PDF document has created, I open it in Adobe Acrobat Reader and the non-latin symbols are disappearing from the text field and I see only latin symbols, but if I click on the field the whole text will be visible including non-latin symbols. \r\n[! [The PDF text field after openning document][1]][1]. [! [The PDF text field after clicking to the field][2]][2]. For creating a PDF document I&#39;m using the code like the following:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, URISyntaxException {\r\n        FontProviderAndFormFieldExample app = new FontProviderAndFormFieldExample();\r\n        app.createPdf(&quot;Test1.pdf&quot;);\r\n        app.fillExample(&quot;Test1.pdf&quot;, &quot;Result.pdf&quot;, Paths.get(Main.class.getResource(&quot;/fonts&quot;).toURI()).toString());\r\n    }\r\n\r\n    public static class FontProviderAndFormFieldExample {\r\n        public String FIELDNAME = &quot;test&quot;;\r\n        public Rectangle FIELDRECT = new Rectangle(50,300,300,20);\r\n        public String FIELDVALUE = &quot;ПриветHello&quot;;\r\n\r\n        public void createPdf(String dest) throws IOException {\r\n            PdfWriter writer = new PdfWriter(dest);\r\n            PdfDocument pdfDoc = new PdfDocument(writer);\r\n            Document doc = new Document(pdfDoc);\r\n\r\n            Paragraph para = new Paragraph(&quot;Test document for multi-font appearance in a text formfield&quot;);\r\n            doc.add(para);\r\n\r\n            PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\r\n            PdfTextFormField ff = PdfFormField.createText(pdfDoc,FIELDRECT,&quot;test&quot;, FIELDVALUE);\r\n            ff.setMultiline(true);\r\n            ff.setScroll(true);\r\n            acroForm.addField(ff,pdfDoc.getFirstPage());\r\n\r\n            PdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\r\n            pdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\r\n\r\n            doc.close();\r\n        }\r\n\r\n        public void fillExample(String src, String dest, String srcf) throws IOException, URISyntaxException {\r\n            PdfReader reader = new PdfReader(src);\r\n            PdfWriter writer = new PdfWriter(dest);\r\n            PdfDocument pdfDoc = new PdfDocument(reader,writer);\r\n            PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\r\n            PdfFormField ff = acroForm.getField(FIELDNAME);\r\n            String filename = Main.class.getResource(&quot;/fonts/arial unicode.ttf&quot;).toURI().toString();\r\n            final PdfFont font = PdfFontFactory.createFont(filename, PdfEncodings.UTF8, false);\r\n            ff.setFont(font).setValue(FIELDVALUE);\r\n\r\n            pdfDoc.close();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nI have tried to solve this issue and I even found [the article on itext blog][3], but it didn&#39;t help me. I know about using ```ff.setNeedAppearence(true)``` method, but I can&#39;t use it because it breaks another part of my app. And I couldn&#39;t set ```PdfEncoding.IDENTITY_H``` because it embeds only a subset of symbols which was included programmatically to the field and a user can&#39;t fill out this field.&lt;br/&gt; Can anyone help me? What do I do wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhS0S.png\r\n  [2]: https://i.stack.imgur.com/9tZuI.png\r\n  [3]: https://itextpdf.com/en/blog/technical-notes/another-case-pdf-detectives-mystery-disappearing-appearing-text","title":"The non-latin text is disappearing from the pdf text field","body":"<p>I create a PDF document with text fillable fields using <code>itext 7.1.9</code> library. The <code>PdfTextFormField</code> contains a multilanguage text. When the PDF document has created, I open it in Adobe Acrobat Reader and the non-latin symbols are disappearing from the text field and I see only latin symbols, but if I click on the field the whole text will be visible including non-latin symbols.\n[! <a href=\"https://i.stack.imgur.com/XhS0S.png\" rel=\"nofollow noreferrer\">The PDF text field after openning document</a>]<a href=\"https://i.stack.imgur.com/XhS0S.png\" rel=\"nofollow noreferrer\">1</a>. [! <a href=\"https://i.stack.imgur.com/9tZuI.png\" rel=\"nofollow noreferrer\">The PDF text field after clicking to the field</a>]<a href=\"https://i.stack.imgur.com/9tZuI.png\" rel=\"nofollow noreferrer\">2</a>. For creating a PDF document I'm using the code like the following:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException, URISyntaxException {\n        FontProviderAndFormFieldExample app = new FontProviderAndFormFieldExample();\n        app.createPdf(&quot;Test1.pdf&quot;);\n        app.fillExample(&quot;Test1.pdf&quot;, &quot;Result.pdf&quot;, Paths.get(Main.class.getResource(&quot;/fonts&quot;).toURI()).toString());\n    }\n\n    public static class FontProviderAndFormFieldExample {\n        public String FIELDNAME = &quot;test&quot;;\n        public Rectangle FIELDRECT = new Rectangle(50,300,300,20);\n        public String FIELDVALUE = &quot;ПриветHello&quot;;\n\n        public void createPdf(String dest) throws IOException {\n            PdfWriter writer = new PdfWriter(dest);\n            PdfDocument pdfDoc = new PdfDocument(writer);\n            Document doc = new Document(pdfDoc);\n\n            Paragraph para = new Paragraph(&quot;Test document for multi-font appearance in a text formfield&quot;);\n            doc.add(para);\n\n            PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\n            PdfTextFormField ff = PdfFormField.createText(pdfDoc,FIELDRECT,&quot;test&quot;, FIELDVALUE);\n            ff.setMultiline(true);\n            ff.setScroll(true);\n            acroForm.addField(ff,pdfDoc.getFirstPage());\n\n            PdfCanvas pdfCanvas = new PdfCanvas(pdfDoc.getFirstPage());\n            pdfCanvas.setLineWidth(1f).setStrokeColor(ColorConstants.BLUE).rectangle(FIELDRECT).stroke();\n\n            doc.close();\n        }\n\n        public void fillExample(String src, String dest, String srcf) throws IOException, URISyntaxException {\n            PdfReader reader = new PdfReader(src);\n            PdfWriter writer = new PdfWriter(dest);\n            PdfDocument pdfDoc = new PdfDocument(reader,writer);\n            PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDoc,true);\n            PdfFormField ff = acroForm.getField(FIELDNAME);\n            String filename = Main.class.getResource(&quot;/fonts/arial unicode.ttf&quot;).toURI().toString();\n            final PdfFont font = PdfFontFactory.createFont(filename, PdfEncodings.UTF8, false);\n            ff.setFont(font).setValue(FIELDVALUE);\n\n            pdfDoc.close();\n\n        }\n    }\n}\n</code></pre>\n<p>I have tried to solve this issue and I even found <a href=\"https://itextpdf.com/en/blog/technical-notes/another-case-pdf-detectives-mystery-disappearing-appearing-text\" rel=\"nofollow noreferrer\">the article on itext blog</a>, but it didn't help me. I know about using <code>ff.setNeedAppearence(true)</code> method, but I can't use it because it breaks another part of my app. And I couldn't set <code>PdfEncoding.IDENTITY_H</code> because it embeds only a subset of symbols which was included programmatically to the field and a user can't fill out this field.<br/> Can anyone help me? What do I do wrong?</p>\n"},{"tags":["java","spring","h2","spring-webflux","r2dbc"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1634576580,"post_id":69619809,"comment_id":123056850,"body_markdown":"It would really help if you could show your code and explain what you are trying to achieve in more detail.","body":"It would really help if you could show your code and explain what you are trying to achieve in more detail."},{"owner":{"account_id":21925542,"reputation":3,"user_id":16208209,"display_name":"Joji"},"score":0,"creation_date":1634578006,"post_id":69619809,"comment_id":123057372,"body_markdown":"Sure, I ll edit it","body":"Sure, I ll edit it"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1634579265,"post_id":69619809,"comment_id":123057821,"body_markdown":"How can count be an instant?","body":"How can count be an instant?"},{"owner":{"account_id":21925542,"reputation":3,"user_id":16208209,"display_name":"Joji"},"score":0,"creation_date":1634582136,"post_id":69619809,"comment_id":123058833,"body_markdown":"@Toerktumlare I don&#39;t get what did you say,I build this query to show the number of sales : this is my first version  @Query(&quot;SELECT COUNT(sales.id),sales.type_contract FROM sales&quot; + &quot; GROUP BY sales.type_contract&quot;)","body":"@Toerktumlare I don&#39;t get what did you say,I build this query to show the number of sales : this is my first version  @Query(&quot;SELECT COUNT(sales.id),sales.type_contract FROM sales&quot; + &quot; GROUP BY sales.type_contract&quot;)"},{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1634848660,"post_id":69619809,"comment_id":123144433,"body_markdown":"Your as alias in query does not match with your annotation can you make it same and try once","body":"Your as alias in query does not match with your annotation can you make it same and try once"}],"owner":{"account_id":21925542,"reputation":3,"user_id":16208209,"display_name":"Joji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634841763,"creation_date":1634576092,"question_id":69619809,"body_markdown":"I am learning Spring WebFlux.\r\nI am trying to return a List from this query using the r2dbc repository that shows me the number of sales in each category. \r\n```java\r\n@Query(&quot;SELECT COUNT(sales.id)as salesnumbers, sales.type_contract as typecontract FROM sales&quot; + &quot; GROUP BY sales.type_contract&quot;)\r\n```\r\nThis is my entity: Sales \r\n```java \r\n@Table(&quot;sales&quot;)\r\npublic class Sales implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(&quot;salesdate&quot;)\r\n    private Instant salesdate;\r\n\r\n    @Column(&quot;type_contract&quot;)\r\n    private TypeContract typeContract;\r\n\r\n    @JsonIgnoreProperties(value = { &quot;sales&quot; }, allowSetters = true)\r\n    @Transient\r\n    private Software software;\r\n\r\n    @Column(&quot;software_id&quot;)\r\n    private Long softwareId;\r\n}\r\n```\r\nAny suggestion: How can I return this list?\r\n\r\n","title":"Spring WebFlux - Return Custom Query Select","body":"<p>I am learning Spring WebFlux.\nI am trying to return a List from this query using the r2dbc repository that shows me the number of sales in each category.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT COUNT(sales.id)as salesnumbers, sales.type_contract as typecontract FROM sales&quot; + &quot; GROUP BY sales.type_contract&quot;)\n</code></pre>\n<p>This is my entity: Sales</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;sales&quot;)\npublic class Sales implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private Long id;\n\n    @Column(&quot;salesdate&quot;)\n    private Instant salesdate;\n\n    @Column(&quot;type_contract&quot;)\n    private TypeContract typeContract;\n\n    @JsonIgnoreProperties(value = { &quot;sales&quot; }, allowSetters = true)\n    @Transient\n    private Software software;\n\n    @Column(&quot;software_id&quot;)\n    private Long softwareId;\n}\n</code></pre>\n<p>Any suggestion: How can I return this list?</p>\n"},{"tags":["java","spring-cloud-stream","confluent-platform","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634840479,"creation_date":1634832371,"answer_id":69665311,"question_id":69661217,"body_markdown":"This sort of aggregation should happen on the reporting side. For example, in Prometheus (which it appears you are using) you would write a query that would aggregate them automatically:\r\n\r\n```\r\nkafka_stream_thread_task_created_total\r\n```\r\n\r\nAlternatively, if your end goal is to discard a label like `thread_id` then you could use a `MeterFilter` to drop that label so all those counters are treated as the same counter.\r\n","title":"how can I aggregate the values from an array of micrometer counters","body":"<p>This sort of aggregation should happen on the reporting side. For example, in Prometheus (which it appears you are using) you would write a query that would aggregate them automatically:</p>\n<pre><code>kafka_stream_thread_task_created_total\n</code></pre>\n<p>Alternatively, if your end goal is to discard a label like <code>thread_id</code> then you could use a <code>MeterFilter</code> to drop that label so all those counters are treated as the same counter.</p>\n"},{"tags":[],"owner":{"account_id":18260588,"reputation":56,"user_id":13293490,"display_name":"Ali Dandach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634841127,"creation_date":1634841127,"answer_id":69667090,"question_id":69661217,"body_markdown":"I suggest writing a query on the level of Prometheus instead of writing java codes.","title":"how can I aggregate the values from an array of micrometer counters","body":"<p>I suggest writing a query on the level of Prometheus instead of writing java codes.</p>\n"}],"owner":{"account_id":23099153,"reputation":1,"user_id":17208805,"display_name":"K Olusanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634841127,"creation_date":1634815943,"question_id":69661217,"body_markdown":"I’m collecting a series of metrics for a kafka stream application, the issue I have is I’d like a consolidated value for the meters of a specific name. To make this a little clearer, these metrics are presented as an array of n items with n being the number of threads configured for the Kafka Streams application. I must add that I can consolidate the values by adding the sum of the ‘FunctionCounter’ totals. I however don’t have a mechanism to trigger the ‘aggregator method’ when the meters I’m interested in are updated. The aggregator method is copied below.\r\n\r\n```\r\nprivate Double aggregateValues(String idName){\r\n    return meterRegistry.getMeters().stream()\r\n        .filter(meter -&gt; meter.getId().getName().startsWith(idName))\r\n        .filter(FunctionCounter.class::isInstance)\r\n        .map(FunctionCounter.class::cast)\r\n        .mapToDouble(FunctionCounter::count)\r\n        .sum();\r\n}\r\n```\r\nI created a configuration bean to attempt the same, no joy\r\n\r\n```\r\n@Configuration\r\n@Component\r\n@Slf4j\r\npublic class Metrics {\r\n\r\n    @Bean\r\n    public FunctionCounter getAggregateCounter(MeterRegistry registry) {\r\n        List&lt;FunctionCounter&gt; counters = registry.getMeters().stream().\r\n            filter(meter -&gt; meter.getId().getName().\r\n                startsWith(&quot;Output_Message_Count&quot;))\r\n            .filter( FunctionCounter.class::isInstance )\r\n            .map(FunctionCounter.class::cast)\r\n            .collect(Collectors.toList());\r\n\r\n        FunctionCounter counter = FunctionCounter\r\n                .builder(&quot;Combined_Output_Message_Count&quot;, counters, state -&gt; state.stream().mapToDouble(FunctionCounter::count).sum())\r\n                .description(&quot;a description of what this counter does&quot;)\r\n                .tags(&quot;region&quot;, &quot;test&quot;)\r\n                .register(registry);\r\n        return counter;\r\n    }\r\n}\r\n```\r\nAn example of the raw data output from actuator/prometheus endpoint os listed below\r\n\r\n```\r\n# HELP kafka_stream_thread_task_created_total The total number of newly created tasks\r\n# TYPE kafka_stream_thread_task_created_total counter\r\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-4&quot;,} 5.0\r\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-3&quot;,} 5.0\r\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-2&quot;,} 5.0\r\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-1&quot;,} 5.0\r\n\r\n```\r\nThe end goal is to have a meter that consolidates the totals as they are updated, in the case of the raw data shown above, 20\r\nThere has been talk of this work being done in the following proposal but it hasn’t progressed beyond the initial proposal stage\r\nThe proposal can be viewed at. The following url :\r\nhttps://cwiki.apache.org/confluence/display/KAFKA/KIP-674%3A+Metric+Reporter+to+Aggregate+Metrics+in+Kafka+Streams","title":"how can I aggregate the values from an array of micrometer counters","body":"<p>I’m collecting a series of metrics for a kafka stream application, the issue I have is I’d like a consolidated value for the meters of a specific name. To make this a little clearer, these metrics are presented as an array of n items with n being the number of threads configured for the Kafka Streams application. I must add that I can consolidate the values by adding the sum of the ‘FunctionCounter’ totals. I however don’t have a mechanism to trigger the ‘aggregator method’ when the meters I’m interested in are updated. The aggregator method is copied below.</p>\n<pre><code>private Double aggregateValues(String idName){\n    return meterRegistry.getMeters().stream()\n        .filter(meter -&gt; meter.getId().getName().startsWith(idName))\n        .filter(FunctionCounter.class::isInstance)\n        .map(FunctionCounter.class::cast)\n        .mapToDouble(FunctionCounter::count)\n        .sum();\n}\n</code></pre>\n<p>I created a configuration bean to attempt the same, no joy</p>\n<pre><code>@Configuration\n@Component\n@Slf4j\npublic class Metrics {\n\n    @Bean\n    public FunctionCounter getAggregateCounter(MeterRegistry registry) {\n        List&lt;FunctionCounter&gt; counters = registry.getMeters().stream().\n            filter(meter -&gt; meter.getId().getName().\n                startsWith(&quot;Output_Message_Count&quot;))\n            .filter( FunctionCounter.class::isInstance )\n            .map(FunctionCounter.class::cast)\n            .collect(Collectors.toList());\n\n        FunctionCounter counter = FunctionCounter\n                .builder(&quot;Combined_Output_Message_Count&quot;, counters, state -&gt; state.stream().mapToDouble(FunctionCounter::count).sum())\n                .description(&quot;a description of what this counter does&quot;)\n                .tags(&quot;region&quot;, &quot;test&quot;)\n                .register(registry);\n        return counter;\n    }\n}\n</code></pre>\n<p>An example of the raw data output from actuator/prometheus endpoint os listed below</p>\n<pre><code># HELP kafka_stream_thread_task_created_total The total number of newly created tasks\n# TYPE kafka_stream_thread_task_created_total counter\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-4&quot;,} 5.0\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-3&quot;,} 5.0\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-2&quot;,} 5.0\nkafka_stream_thread_task_created_total{kafka_version=&quot;2.7.1&quot;,spring_id=&quot;stream-builder-process&quot;,thread_id=&quot;sainsburys.applications.sc-dis.price-specification-acl-e0e5af91-ce55-4e0c-998d-269b9c6bade0-StreamThread-1&quot;,} 5.0\n\n</code></pre>\n<p>The end goal is to have a meter that consolidates the totals as they are updated, in the case of the raw data shown above, 20\nThere has been talk of this work being done in the following proposal but it hasn’t progressed beyond the initial proposal stage\nThe proposal can be viewed at. The following url :\n<a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-674%3A+Metric+Reporter+to+Aggregate+Metrics+in+Kafka+Streams\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/KAFKA/KIP-674%3A+Metric+Reporter+to+Aggregate+Metrics+in+Kafka+Streams</a></p>\n"},{"tags":["java","openssl","ssl-certificate","grpc","grpc-java"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1634855377,"post_id":69583277,"comment_id":123146260,"body_markdown":"You used `-addext ...DNS.1:192.168.88.132...` but it should be `...IP.1:192.168.88.132...`. DNS names and IP addresses are different.","body":"You used <code>-addext ...DNS.1:192.168.88.132...</code> but it should be <code>...IP.1:192.168.88.132...</code>. DNS names and IP addresses are different."},{"owner":{"account_id":22955277,"reputation":43,"user_id":17085923,"display_name":"Нуркасым Абилов"},"score":0,"creation_date":1635400198,"post_id":69583277,"comment_id":123288537,"body_markdown":"Yes, it realy helped","body":"Yes, it realy helped"}],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634841109,"creation_date":1634841109,"answer_id":69667087,"question_id":69583277,"body_markdown":"Use [overrideAuthority(String authority)](https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#overrideAuthority-java.lang.String-) to match what the certificate has in its SAN. Use an OpenSsl command to display what you have in your server cert.","title":"Problems with grpc connection using ssl","body":"<p>Use <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#overrideAuthority-java.lang.String-\" rel=\"nofollow noreferrer\">overrideAuthority(String authority)</a> to match what the certificate has in its SAN. Use an OpenSsl command to display what you have in your server cert.</p>\n"}],"owner":{"account_id":22955277,"reputation":43,"user_id":17085923,"display_name":"Нуркасым Абилов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634841109,"creation_date":1634293312,"question_id":69583277,"body_markdown":"I am currently new in grpc.\r\nI wanted to provide ssl for  my grpc server\r\nthe javav code for starting looks like this:\r\n\r\n    InputStream publicKey = ServerStarter.class.getResourceAsStream(&quot;/my-public-key-cert.pem&quot;);\r\n    InputStream privateKey = ServerStarter.class.getResourceAsStream(&quot;/my-private-key.pem&quot;);\r\n    SslContext sslContext = GrpcSslContexts.forServer(publicKey, privateKey).build();\r\n    Server server = NettyServerBuilder.forPort(5555)\r\n                        .sslContext(sslContext)\r\n                        .addService(new RedirectService())\r\n                        .intercept(new AuthorizationInterceptor())\r\n                        .build();\r\n    server.start();\r\n\r\nSSL certificates were generated with openssl. And here how openssl command looks like:\r\n\r\n    openssl req -x509 -newkey rsa:4096 -keyout ./grpc-server/src/main/resources/my-private-key.pem -out ./grpc-server/src/main/resources/my-public-key-cert.pem -days 365 -nodes -subj &quot;/CN=192.168.88.132&quot; -addext &quot;subjectAltName = DNS.1:192.168.88.132, DNS.2:localhost&quot;\r\n\r\nServer runs fine.\r\nBut I can&#39;t connect to server.\r\nMy clients code looks like this:\r\n\r\n    InputStream certificate = GalamatClient.class.getResourceAsStream(&quot;/my-public-key-cert.pem&quot;);\r\n    SslContext context = GrpcSslContexts.forClient().trustManager(certificate).build();\r\n    ManagedChannel channel = NettyChannelBuilder.forTarget(&quot;192.168.88.132:5555&quot;)\r\n                    .sslContext(context)\r\n                    .build();\r\n    GreetingServiceGrpc.GreetingServiceBlockingStub stub = GreetingServiceGrpc.newBlockingStub(channel)\r\n    GreetingService.GreetingRequest request = GreetingService.GreetingRequest.newBuilder().setMessage(&quot;Hi&quot;).build();\r\n    GreetingService.GreetingResponse response = stub.greet(request);\r\n    channel.shutdownNow();\r\n\r\nAnd when I try to run client next Error occurs:\r\n\r\n    Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n    Channel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n    \tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262)\r\n    \tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243)\r\n    \tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156)\r\n    \tat com.example.GreetingServiceGrpc$GreetingServiceBlockingStub.recognize(SpeechRecognitionGrpc.java:246)\r\n    \tat com.example.main(Client.java:59)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1772)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:777)\r\n    \tat javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n    \tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.security.cert.CertificateException: No subject alternative names matching IP address 192.168.88.132 found\r\n    \tat sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:168)\r\n    \tat sun.security.util.HostnameChecker.match(HostnameChecker.java:94)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:459)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:440)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:261)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.OpenSslTlsv13X509ExtendedTrustManager.checkServerTrusted(OpenSslTlsv13X509ExtendedTrustManager.java:223)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:698)\r\n    \tat io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:596)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1203)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1325)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:201)\r\n    \tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\r\n    \t... 21 more\r\n    \tSuppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\r\n    \t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1288)\r\n    \t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1249)\r\n    \t\t... 24 more\r\n\r\nError says that I don&#39;t provide needed Ip in subject alternative names:\r\n\r\n    No subject alternative names matching IP address 192.168.88.132 found\r\n\r\nbut I provided it in command of creation certificate.\r\nI will apreciate if you could help with that.\r\n\r\n","title":"Problems with grpc connection using ssl","body":"<p>I am currently new in grpc.\nI wanted to provide ssl for  my grpc server\nthe javav code for starting looks like this:</p>\n<pre><code>InputStream publicKey = ServerStarter.class.getResourceAsStream(&quot;/my-public-key-cert.pem&quot;);\nInputStream privateKey = ServerStarter.class.getResourceAsStream(&quot;/my-private-key.pem&quot;);\nSslContext sslContext = GrpcSslContexts.forServer(publicKey, privateKey).build();\nServer server = NettyServerBuilder.forPort(5555)\n                    .sslContext(sslContext)\n                    .addService(new RedirectService())\n                    .intercept(new AuthorizationInterceptor())\n                    .build();\nserver.start();\n</code></pre>\n<p>SSL certificates were generated with openssl. And here how openssl command looks like:</p>\n<pre><code>openssl req -x509 -newkey rsa:4096 -keyout ./grpc-server/src/main/resources/my-private-key.pem -out ./grpc-server/src/main/resources/my-public-key-cert.pem -days 365 -nodes -subj &quot;/CN=192.168.88.132&quot; -addext &quot;subjectAltName = DNS.1:192.168.88.132, DNS.2:localhost&quot;\n</code></pre>\n<p>Server runs fine.\nBut I can't connect to server.\nMy clients code looks like this:</p>\n<pre><code>InputStream certificate = GalamatClient.class.getResourceAsStream(&quot;/my-public-key-cert.pem&quot;);\nSslContext context = GrpcSslContexts.forClient().trustManager(certificate).build();\nManagedChannel channel = NettyChannelBuilder.forTarget(&quot;192.168.88.132:5555&quot;)\n                .sslContext(context)\n                .build();\nGreetingServiceGrpc.GreetingServiceBlockingStub stub = GreetingServiceGrpc.newBlockingStub(channel)\nGreetingService.GreetingRequest request = GreetingService.GreetingRequest.newBuilder().setMessage(&quot;Hi&quot;).build();\nGreetingService.GreetingResponse response = stub.greet(request);\nchannel.shutdownNow();\n</code></pre>\n<p>And when I try to run client next Error occurs:</p>\n<pre><code>Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156)\n    at com.example.GreetingServiceGrpc$GreetingServiceBlockingStub.recognize(SpeechRecognitionGrpc.java:246)\n    at com.example.main(Client.java:59)\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1772)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:777)\n    at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:509)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.security.cert.CertificateException: No subject alternative names matching IP address 192.168.88.132 found\n    at sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:168)\n    at sun.security.util.HostnameChecker.match(HostnameChecker.java:94)\n    at sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:459)\n    at sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:440)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:261)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.OpenSslTlsv13X509ExtendedTrustManager.checkServerTrusted(OpenSslTlsv13X509ExtendedTrustManager.java:223)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:698)\n    at io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:596)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1203)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1325)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:201)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\n    ... 21 more\n    Suppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1288)\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1249)\n        ... 24 more\n</code></pre>\n<p>Error says that I don't provide needed Ip in subject alternative names:</p>\n<pre><code>No subject alternative names matching IP address 192.168.88.132 found\n</code></pre>\n<p>but I provided it in command of creation certificate.\nI will apreciate if you could help with that.</p>\n"},{"tags":["java","rest","rest-assured"],"comments":[{"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"score":0,"creation_date":1345763989,"post_id":12101297,"comment_id":16173913,"body_markdown":"Im using Rest Assured 1.1.6, which is rather old. However, looking at the code on [github](https://github.com/jayway/rest-assured/blob/master/rest-assured/src/main/groovy/com/jayway/restassured/internal/RequestSpecificationImpl.groovy) this still appears to be a problem","body":"Im using Rest Assured 1.1.6, which is rather old. However, looking at the code on <a href=\"https://github.com/jayway/rest-assured/blob/master/rest-assured/src/main/groovy/com/jayway/restassured/internal/RequestSpecificationImpl.groovy\" rel=\"nofollow noreferrer\">github</a> this still appears to be a problem"},{"owner":{"account_id":1384198,"reputation":1065,"user_id":1453080,"display_name":"mercutio"},"score":0,"creation_date":1345766764,"post_id":12101297,"comment_id":16174453,"body_markdown":"I didn&#39;t know you could have Post parameters and a body so maybe the creators of Rest Assured didn&#39;t either. Did you try building Rest Assured yourself and commenting out this check?","body":"I didn&#39;t know you could have Post parameters and a body so maybe the creators of Rest Assured didn&#39;t either. Did you try building Rest Assured yourself and commenting out this check?"},{"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"score":0,"creation_date":1346105879,"post_id":12101297,"comment_id":16256935,"body_markdown":"created a issue for rest-assured: http://code.google.com/p/rest-assured/issues/detail?id=196&amp;thanks=196&amp;ts=1346105863","body":"created a issue for rest-assured: <a href=\"http://code.google.com/p/rest-assured/issues/detail?id=196&amp;thanks=196&amp;ts=1346105863\" rel=\"nofollow noreferrer\">code.google.com/p/rest-assured/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":456159,"reputation":18324,"user_id":854793,"accept_rate":25,"display_name":"Joe K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345764342,"creation_date":1345764342,"answer_id":12101347,"question_id":12101297,"body_markdown":"I&#39;m not too familiar with rest-assured, but you should be able to move those parameters to the body. That&#39;s how typical POST parameters work. Having parameters as part of the request URL is typically only done for GET. Maybe try making &quot;custom=test&quot; the first line of the body?","title":"Rest Assured - can&#39;t POST with Parameters and Body","body":"<p>I'm not too familiar with rest-assured, but you should be able to move those parameters to the body. That's how typical POST parameters work. Having parameters as part of the request URL is typically only done for GET. Maybe try making \"custom=test\" the first line of the body?</p>\n"},{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1346135209,"creation_date":1346135209,"answer_id":12153813,"question_id":12101297,"body_markdown":"You need to specify the parameter as queryParameter and not &quot;param&quot; or &quot;parameter&quot;. Param for POST will default to form parameters which are sent in the request body.\r\n\r\nI.e.\r\n\r\n    given().\r\n            queryParam(&quot;name, &quot;value&quot;).\r\n            body(..).\r\n    when().\r\n            post(..);\r\n\r\n         ","title":"Rest Assured - can&#39;t POST with Parameters and Body","body":"<p>You need to specify the parameter as queryParameter and not \"param\" or \"parameter\". Param for POST will default to form parameters which are sent in the request body.</p>\n\n<p>I.e.</p>\n\n<pre><code>given().\n        queryParam(\"name, \"value\").\n        body(..).\nwhen().\n        post(..);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6330343,"reputation":1564,"user_id":4915436,"display_name":"Nitin Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490682840,"creation_date":1490682840,"answer_id":43062204,"question_id":12101297,"body_markdown":"You have to specify parameters as queryParam. Here is the example:\r\n\r\n    RequestSpecification request=new RequestSpecBuilder().build();\r\n    ResponseSpecification response=new ResponseSpecBuilder().build();\r\n    @Test\r\n    public void test(){\r\n      User user=new User();\r\n      given()\r\n      .spec(request)\r\n      .queryParam(query_param1_name, query_param1_name_value)\r\n\t  .queryParam(query_param2_name, query_param2_name_value)\r\n      .contentType(ContentType.JSON)\r\n      .body(user)\r\n      .post(API_ENDPOINT)\r\n      .then()\r\n      .statusCode(200).log().all();\r\n}","title":"Rest Assured - can&#39;t POST with Parameters and Body","body":"<p>You have to specify parameters as queryParam. Here is the example:</p>\n\n<pre><code>RequestSpecification request=new RequestSpecBuilder().build();\nResponseSpecification response=new ResponseSpecBuilder().build();\n@Test\npublic void test(){\n  User user=new User();\n  given()\n  .spec(request)\n  .queryParam(query_param1_name, query_param1_name_value)\n  .queryParam(query_param2_name, query_param2_name_value)\n  .contentType(ContentType.JSON)\n  .body(user)\n  .post(API_ENDPOINT)\n  .then()\n  .statusCode(200).log().all();\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634840747,"creation_date":1634840747,"answer_id":69667011,"question_id":12101297,"body_markdown":"in my opinion without passing \r\n\r\n    .header(&quot;Content-Type&quot;, &quot;application/json&quot;) \r\n\r\nafter body, your call will produce status code 415 ","title":"Rest Assured - can&#39;t POST with Parameters and Body","body":"<p>in my opinion without passing</p>\n<pre><code>.header(&quot;Content-Type&quot;, &quot;application/json&quot;) \n</code></pre>\n<p>after body, your call will produce status code 415</p>\n"}],"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33199,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":12153813,"answer_count":4,"score":14,"last_activity_date":1634840747,"creation_date":1345763906,"question_id":12101297,"body_markdown":"I&#39;m testing a REST api using Rest Assured. I&#39;m running into an error when trying to POST with both a parameter in the url and body content. This works correctly when testing manually. Removing the parameter form the url is not an option\r\n\r\n\r\nTest Code:\r\n\r\n    String endpoint = http://localhost:8080/x/y/z/id?custom=test;\r\n    String body = &quot;[{\\&quot;boolField\\&quot;:true,\\&quot;intField\\&quot;:991},\r\n                    {\\&quot;boolField\\&quot;:false,\\&quot;intField\\&quot;:998}]&quot;;\r\n    expect().spec(OK).given().body(body).post(endpoint);\r\n\r\nWhich throws the following error when run\r\n\r\n    You can either send parameters OR body content in the POST, not both!\r\n\r\n    java.lang.IllegalStateException: You can either send parameters OR body content in the POST, not both!\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)\r\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)\r\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:198)\r\n    at com.jayway.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:282)\r\n    at com.jayway.restassured.internal.RequestSpecificationImpl.this$2$sendRequest(RequestSpecificationImpl.groovy)\r\n    at com.jayway.restassured.internal.RequestSpecificationImpl$this$2$sendRequest.callCurrent(Unknown Source)\r\n    at com.jayway.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:83)\r\n    ...\r\n\r\nWhy does Rest Assured not allow both parameters and body content in a POST? ","title":"Rest Assured - can&#39;t POST with Parameters and Body","body":"<p>I'm testing a REST api using Rest Assured. I'm running into an error when trying to POST with both a parameter in the url and body content. This works correctly when testing manually. Removing the parameter form the url is not an option</p>\n\n<p>Test Code:</p>\n\n<pre><code>String endpoint = http://localhost:8080/x/y/z/id?custom=test;\nString body = \"[{\\\"boolField\\\":true,\\\"intField\\\":991},\n                {\\\"boolField\\\":false,\\\"intField\\\":998}]\";\nexpect().spec(OK).given().body(body).post(endpoint);\n</code></pre>\n\n<p>Which throws the following error when run</p>\n\n<pre><code>You can either send parameters OR body content in the POST, not both!\n\njava.lang.IllegalStateException: You can either send parameters OR body content in the POST, not both!\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\nat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)\nat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:198)\nat com.jayway.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:282)\nat com.jayway.restassured.internal.RequestSpecificationImpl.this$2$sendRequest(RequestSpecificationImpl.groovy)\nat com.jayway.restassured.internal.RequestSpecificationImpl$this$2$sendRequest.callCurrent(Unknown Source)\nat com.jayway.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:83)\n...\n</code></pre>\n\n<p>Why does Rest Assured not allow both parameters and body content in a POST? </p>\n"},{"tags":["java","data-structures","linked-list","binary-search"],"comments":[{"owner":{"account_id":2811841,"reputation":1042,"user_id":2417922,"accept_rate":0,"display_name":"Mark Lavin"},"score":0,"creation_date":1634837643,"post_id":69666332,"comment_id":123140783,"body_markdown":"The point of binary search is to reduce the average time to search an ordered sequence in O(log N) time per query.   However, the &quot;for&quot; loop inside the  while means the query time will be O(N).   In order to achieve the desired O(logN) time, you&#39;d have to use a random-access data structure like an array or vector.","body":"The point of binary search is to reduce the average time to search an ordered sequence in O(log N) time per query.   However, the &quot;for&quot; loop inside the  while means the query time will be O(N).   In order to achieve the desired O(logN) time, you&#39;d have to use a random-access data structure like an array or vector."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634840656,"creation_date":1634838722,"answer_id":69666641,"question_id":69666332,"body_markdown":"I&#39;m guessing this line is the biggest issue:\r\n\r\n        for (int i = 0; i &lt; mid - 1; i++) {\r\n\r\nConsider what happens if mid is 1. The loop won&#39;t execute, because it is not the case that 0 &lt; 1-1. So the inspected node won&#39;t be the one you think it is. The actual node at index `mid` will never be inspected. So the outer loop will eventually exit, never having found the target. Presumably your method ends with `return -1;`.\r\n\r\nOther issues include:\r\n* You&#39;re initializing `right` to an exclusive value, but treat it as inclusive elsewhere. Consider using `int right = list.getSize() - 1`;\r\n* You&#39;ve declared a generic method, but implemented it only for Integer. One way around this would be to limit the generic type to one that supports Comparable - e.g., `E extends Comparable&lt;E&gt;`.\r\n* You&#39;re implementing a binary search in a linked list. In a linked list, linear search would be simpler and no less efficient. Or you could use a data structure that supports constant-time access by index, such as an array or ArrayList&lt;E&gt;.","title":"Couldn&#39;t implement binary search on linked list","body":"<p>I'm guessing this line is the biggest issue:</p>\n<pre><code>    for (int i = 0; i &lt; mid - 1; i++) {\n</code></pre>\n<p>Consider what happens if mid is 1. The loop won't execute, because it is not the case that 0 &lt; 1-1. So the inspected node won't be the one you think it is. The actual node at index <code>mid</code> will never be inspected. So the outer loop will eventually exit, never having found the target. Presumably your method ends with <code>return -1;</code>.</p>\n<p>Other issues include:</p>\n<ul>\n<li>You're initializing <code>right</code> to an exclusive value, but treat it as inclusive elsewhere. Consider using <code>int right = list.getSize() - 1</code>;</li>\n<li>You've declared a generic method, but implemented it only for Integer. One way around this would be to limit the generic type to one that supports Comparable - e.g., <code>E extends Comparable&lt;E&gt;</code>.</li>\n<li>You're implementing a binary search in a linked list. In a linked list, linear search would be simpler and no less efficient. Or you could use a data structure that supports constant-time access by index, such as an array or ArrayList.</li>\n</ul>\n"}],"owner":{"display_name":"user13278163"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69666641,"answer_count":1,"score":0,"last_activity_date":1634840656,"creation_date":1634837221,"question_id":69666332,"body_markdown":"i am a cse student who takes data structures course. Trying to implement binary search algorithm to my SinglyLinkedList class, somehow i&#39;ve failed. Could you check it what&#39;s wrong please ?\r\n\r\nThe related method;\r\nI&#39;ve debugged and it just enters the loops this side: `else if(temp.getElement() &gt; target)`\r\n\r\n    \tpublic int binarySearchLinkedList(SinglyLinkedList&lt;E&gt; list, E target) {\r\n\t\tint left = 0;\r\n\t\tint right = list.getSize();\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\tint mid = (left + right) / 2;\r\n\r\n\t\t\tNode&lt;E&gt; temp = head;\r\n\t\t\tfor (int i = 0; i &lt; mid - 1; i++) {\r\n\t\t\t\ttemp = temp.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (temp.getElement() instanceof Number &amp;&amp; target instanceof Number) {\r\n\t\t\t\tif (Integer.parseInt(temp.getElement().toString()) == Integer.parseInt(target.toString())) {\r\n\t\t\t\t\treturn mid;\r\n\t\t\t\t} else if (Integer.parseInt(temp.getElement().toString()) &gt; Integer.parseInt(target.toString())) {\r\n\t\t\t\t\tleft = mid + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tright = mid - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nAll class for better understanding;\r\n  \r\n\r\n    \r\n    public class SinglyLinkedList&lt;E&gt; {\r\n\r\n\tprivate static class Node&lt;E&gt; {\r\n\t\tprivate E element;\r\n\t\tprivate Node&lt;E&gt; next;\r\n\r\n\t\tpublic Node(E e, Node&lt;E&gt; n) {\r\n\t\t\telement = e;\r\n\t\t\tnext = n;\r\n\t\t}\r\n\r\n\t\tprivate E getElement() {\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tprivate Node&lt;E&gt; getNext() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\r\n\t\tprivate void setNext(Node&lt;E&gt; n) {\r\n\t\t\tnext = n;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Node&lt;E&gt; head;\r\n\tprivate Node&lt;E&gt; tail;\r\n\tprivate int size;\r\n\r\n\tpublic SinglyLinkedList() {\r\n\t};\r\n\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic void append(E e) {\r\n\t\tif (head == null) {\r\n\t\t\thead = new Node&lt;E&gt;(e, null);\r\n\t\t\ttail = head;\r\n\t\t\tsize++;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tNode&lt;E&gt; temp = head;\r\n\t\twhile (temp != tail) {\r\n\t\t\ttemp = temp.next;\r\n\t\t}\r\n\t\ttemp.setNext(tail = new Node&lt;E&gt;(e, null));\r\n\t\tsize++;\r\n\t\treturn;\r\n\t}\r\n\r\n\tpublic int binarySearchLinkedList(SinglyLinkedList&lt;E&gt; list, E target) {\r\n\t\tint left = 0;\r\n\t\tint right = list.getSize();\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\tint mid = (left + right) / 2;\r\n\r\n\t\t\tNode&lt;E&gt; temp = head;\r\n\t\t\tfor (int i = 0; i &lt; mid - 1; i++) {\r\n\t\t\t\ttemp = temp.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (temp.getElement() instanceof Number &amp;&amp; target instanceof Number) {\r\n\t\t\t\tif (Integer.parseInt(temp.getElement().toString()) == Integer.parseInt(target.toString())) {\r\n\t\t\t\t\treturn mid;\r\n\t\t\t\t} else if (Integer.parseInt(temp.getElement().toString()) &gt; Integer.parseInt(target.toString())) {\r\n\t\t\t\t\tleft = mid + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tright = mid - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tNode&lt;E&gt; temp = head;\r\n\t\twhile (temp != tail) {\r\n\t\t\tsb.append(temp.getElement()).append(&quot;, &quot;);\r\n\t\t\ttemp = temp.next;\r\n\t\t\tif (temp == tail) {\r\n\t\t\t\tsb.append(temp.getElement());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n    }\r\n\r\n\r\nAnd the main method;\r\n\r\n    public static void main(String[] args) {\r\n\t\tSinglyLinkedList&lt;Integer&gt; list = new SinglyLinkedList&lt;&gt;();\r\n\t\tlist.append(10);\r\n\t\tlist.append(20);\r\n\t\tlist.append(30);\r\n\t\tlist.append(40);\r\n\t\tlist.append(50);\r\n\t\tlist.append(60);\r\n\t\tlist.append(70);\r\n\t\tlist.append(80);\r\n\t\tlist.append(90);\r\n\t\tlist.append(100);\r\n\t\tSystem.out.println(list);\r\n\t\tSystem.out.println(list.binarySearchLinkedList(list, 30));\r\n\t}\r\n\r\n\r\nIt returns;\r\n\r\n    10, 20, 30, 40, 50, 60, 70, 80, 90, 100\r\n    -1\r\n","title":"Couldn&#39;t implement binary search on linked list","body":"<p>i am a cse student who takes data structures course. Trying to implement binary search algorithm to my SinglyLinkedList class, somehow i've failed. Could you check it what's wrong please ?</p>\n<p>The related method;\nI've debugged and it just enters the loops this side: <code>else if(temp.getElement() &gt; target)</code></p>\n<pre><code>    public int binarySearchLinkedList(SinglyLinkedList&lt;E&gt; list, E target) {\n    int left = 0;\n    int right = list.getSize();\n\n    while (left &lt;= right) {\n        int mid = (left + right) / 2;\n\n        Node&lt;E&gt; temp = head;\n        for (int i = 0; i &lt; mid - 1; i++) {\n            temp = temp.next;\n        }\n\n        if (temp.getElement() instanceof Number &amp;&amp; target instanceof Number) {\n            if (Integer.parseInt(temp.getElement().toString()) == Integer.parseInt(target.toString())) {\n                return mid;\n            } else if (Integer.parseInt(temp.getElement().toString()) &gt; Integer.parseInt(target.toString())) {\n                left = mid + 1;\n            } else {\n                right = mid - 1;\n            }\n        }\n    }\n</code></pre>\n<p>All class for better understanding;</p>\n<pre><code>public class SinglyLinkedList&lt;E&gt; {\n\nprivate static class Node&lt;E&gt; {\n    private E element;\n    private Node&lt;E&gt; next;\n\n    public Node(E e, Node&lt;E&gt; n) {\n        element = e;\n        next = n;\n    }\n\n    private E getElement() {\n        return element;\n    }\n\n    private Node&lt;E&gt; getNext() {\n        return next;\n    }\n\n    private void setNext(Node&lt;E&gt; n) {\n        next = n;\n    }\n}\n\nprivate Node&lt;E&gt; head;\nprivate Node&lt;E&gt; tail;\nprivate int size;\n\npublic SinglyLinkedList() {\n};\n\npublic int getSize() {\n    return size;\n}\n\npublic void append(E e) {\n    if (head == null) {\n        head = new Node&lt;E&gt;(e, null);\n        tail = head;\n        size++;\n        return;\n    }\n\n    Node&lt;E&gt; temp = head;\n    while (temp != tail) {\n        temp = temp.next;\n    }\n    temp.setNext(tail = new Node&lt;E&gt;(e, null));\n    size++;\n    return;\n}\n\npublic int binarySearchLinkedList(SinglyLinkedList&lt;E&gt; list, E target) {\n    int left = 0;\n    int right = list.getSize();\n\n    while (left &lt;= right) {\n        int mid = (left + right) / 2;\n\n        Node&lt;E&gt; temp = head;\n        for (int i = 0; i &lt; mid - 1; i++) {\n            temp = temp.next;\n        }\n\n        if (temp.getElement() instanceof Number &amp;&amp; target instanceof Number) {\n            if (Integer.parseInt(temp.getElement().toString()) == Integer.parseInt(target.toString())) {\n                return mid;\n            } else if (Integer.parseInt(temp.getElement().toString()) &gt; Integer.parseInt(target.toString())) {\n                left = mid + 1;\n            } else {\n                right = mid - 1;\n            }\n        }\n    }\n\n    return -1;\n\n}\n\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n\n    Node&lt;E&gt; temp = head;\n    while (temp != tail) {\n        sb.append(temp.getElement()).append(&quot;, &quot;);\n        temp = temp.next;\n        if (temp == tail) {\n            sb.append(temp.getElement());\n        }\n    }\n    return sb.toString();\n}\n\n}\n</code></pre>\n<p>And the main method;</p>\n<pre><code>public static void main(String[] args) {\n    SinglyLinkedList&lt;Integer&gt; list = new SinglyLinkedList&lt;&gt;();\n    list.append(10);\n    list.append(20);\n    list.append(30);\n    list.append(40);\n    list.append(50);\n    list.append(60);\n    list.append(70);\n    list.append(80);\n    list.append(90);\n    list.append(100);\n    System.out.println(list);\n    System.out.println(list.binarySearchLinkedList(list, 30));\n}\n</code></pre>\n<p>It returns;</p>\n<pre><code>10, 20, 30, 40, 50, 60, 70, 80, 90, 100\n-1\n</code></pre>\n"},{"tags":["java","hibernate","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634840642,"creation_date":1634840642,"answer_id":69666988,"question_id":69662799,"body_markdown":"The Hibernate documentation is very clear that you have to rollback (section 5.16 Exception Handling):\r\n\r\n\r\n\r\n&gt; If the JPA EntityManager or the Hibernate-specific Session throws an\r\n&gt; exception, including any JDBC SQLException, you have to immediately\r\n&gt; rollback the database transaction and close the current EntityManager\r\n&gt; or Session.\r\n&gt; \r\n&gt; Certain methods of the JPA EntityManager or the Hibernate Session will\r\n&gt; not leave the Persistence Context in a consistent state. As a rule of\r\n&gt; thumb, no exception thrown by Hibernate can be treated as recoverable.\r\n&gt; Ensure that the Session will be closed by calling the close() method\r\n&gt; in a finally block.\r\n&gt; \r\n&gt; Rolling back the database transaction does not put your business\r\n&gt; objects back into the state they were at the start of the transaction.\r\n&gt; This means that the database state and the business objects will be\r\n&gt; out of sync. Usually, this is not a problem because exceptions are not\r\n&gt; recoverable and you will have to start over after rollback anyway.\r\n\r\nSo you need to check beforehand if there would be a ConstraintViolationException ","title":"Hibernate how to commit transaction even when exception pops up","body":"<p>The Hibernate documentation is very clear that you have to rollback (section 5.16 Exception Handling):</p>\n<blockquote>\n<p>If the JPA EntityManager or the Hibernate-specific Session throws an\nexception, including any JDBC SQLException, you have to immediately\nrollback the database transaction and close the current EntityManager\nor Session.</p>\n<p>Certain methods of the JPA EntityManager or the Hibernate Session will\nnot leave the Persistence Context in a consistent state. As a rule of\nthumb, no exception thrown by Hibernate can be treated as recoverable.\nEnsure that the Session will be closed by calling the close() method\nin a finally block.</p>\n<p>Rolling back the database transaction does not put your business\nobjects back into the state they were at the start of the transaction.\nThis means that the database state and the business objects will be\nout of sync. Usually, this is not a problem because exceptions are not\nrecoverable and you will have to start over after rollback anyway.</p>\n</blockquote>\n<p>So you need to check beforehand if there would be a ConstraintViolationException</p>\n"}],"owner":{"account_id":7138011,"reputation":186,"user_id":5456848,"accept_rate":60,"display_name":"gygabyte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69666988,"answer_count":1,"score":2,"last_activity_date":1634840642,"creation_date":1634822506,"question_id":69662799,"body_markdown":"i have a method in Service A\r\n\r\n    @Transactional\r\n    public void doSomething() {\r\n      for (int i = 0; i &lt; 100; i++) {\r\n        anotherService.doThing();\r\n      }\r\n    }\r\n\r\nAnd another method in Service B\r\n\r\n    @Transactional(propagation = REQUIRES_NEW, noRollbackFor = RuntimeException.class)\r\n    public void doThing() {\r\n      ...\r\n      try {\r\n        repository.insertRandomValue();\r\n      } catch (Exception ignored) {\r\n      }      \r\n      ...\r\n    }\r\n\r\nMy problem is that when &quot;repository.insertRandomValue()&quot; throws ConstraintViolationException for example, then even tho it was caught in catch(), the thread ends with \r\n\r\n    org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n\r\nI have tried setting the propagation to REQUIRES_NEW and tried to set up transaction manager and GlobalRollbackOnParticipationFailure to false.\r\n\r\n    @Bean\r\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n      JpaTransactionManager manager = new JpaTransactionManager(entityManagerFactory);\r\n      manager.setGlobalRollbackOnParticipationFailure(false);\r\n      return manager;\r\n    }\r\n\r\nI want it to simply ignore the failed insert attampts and continue working. Does anyone have an idea how to achieve that?","title":"Hibernate how to commit transaction even when exception pops up","body":"<p>i have a method in Service A</p>\n<pre><code>@Transactional\npublic void doSomething() {\n  for (int i = 0; i &lt; 100; i++) {\n    anotherService.doThing();\n  }\n}\n</code></pre>\n<p>And another method in Service B</p>\n<pre><code>@Transactional(propagation = REQUIRES_NEW, noRollbackFor = RuntimeException.class)\npublic void doThing() {\n  ...\n  try {\n    repository.insertRandomValue();\n  } catch (Exception ignored) {\n  }      \n  ...\n}\n</code></pre>\n<p>My problem is that when &quot;repository.insertRandomValue()&quot; throws ConstraintViolationException for example, then even tho it was caught in catch(), the thread ends with</p>\n<pre><code>org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n</code></pre>\n<p>I have tried setting the propagation to REQUIRES_NEW and tried to set up transaction manager and GlobalRollbackOnParticipationFailure to false.</p>\n<pre><code>@Bean\npublic JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n  JpaTransactionManager manager = new JpaTransactionManager(entityManagerFactory);\n  manager.setGlobalRollbackOnParticipationFailure(false);\n  return manager;\n}\n</code></pre>\n<p>I want it to simply ignore the failed insert attampts and continue working. Does anyone have an idea how to achieve that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1634839883,"post_id":69666826,"comment_id":123141538,"body_markdown":"This behaviour is defined in the documentation, see https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)","body":"This behaviour is defined in the documentation, see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":1,"creation_date":1634839982,"post_id":69666826,"comment_id":123141572,"body_markdown":"Ok, but that does not make it correct. How do I make split() return ALL parts between the delimiters?","body":"Ok, but that does not make it correct. How do I make split() return ALL parts between the delimiters?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1634840089,"post_id":69666826,"comment_id":123141621,"body_markdown":"Use the `split()` method which accepts two arguments, see https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)","body":"Use the <code>split()</code> method which accepts two arguments, see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":18444829,"reputation":694,"user_id":13436464,"display_name":"Mohammad Mostafa Dastjerdi"},"score":0,"creation_date":1634840195,"post_id":69666826,"comment_id":123141656,"body_markdown":"If that is regex then use this `\\\\.+`","body":"If that is regex then use this <code>\\\\.+</code>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1634840455,"post_id":69666826,"comment_id":123141741,"body_markdown":"@MMD that won&#39;t help here. maybe you misunderstood the problem?","body":"@MMD that won&#39;t help here. maybe you misunderstood the problem?"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1634840538,"post_id":69666826,"comment_id":123141765,"body_markdown":"@Progman - your comment should be an answer. `split(&quot;\\\\.&quot;,-1)`  does it","body":"@Progman - your comment should be an answer. <code>split(&quot;\\\\.&quot;,-1)</code>  does it"},{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":6,"creation_date":1634842715,"post_id":69666826,"comment_id":123142476,"body_markdown":"Does this answer your question? [Java String split removed empty values](https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values\">Java String split removed empty values</a>"}],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1634840367,"creation_date":1634839991,"answer_id":69666881,"question_id":69666826,"body_markdown":"See [javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)):\r\n\r\n&gt; This method works as if by invoking the two-argument split method with the given expression and a limit argument of zero. Trailing empty strings are therefore not included in the resulting array.\r\n\r\nSo it is behaving as defined. If you&#39;re not happy with that, you can do what the manual suggests and use a negative parameter for limit.\r\n\r\n    String[] parts = &quot;a.b.c...d...&quot;.split(&quot;\\\\.&quot;, -1);\r\n    for ( int i = 0; i &lt; parts.length; i++ )\r\n       System.out.println(&quot;&quot; + i + &quot;: &#39;&quot; + parts[i] + &quot;&#39;&quot; );\r\n\r\n    0: &#39;a&#39;\r\n    1: &#39;b&#39;\r\n    2: &#39;c&#39;\r\n    3: &#39;&#39;\r\n    4: &#39;&#39;\r\n    5: &#39;d&#39;\r\n    6: &#39;&#39;\r\n    7: &#39;&#39;\r\n    8: &#39;&#39;","title":"String split() dropping trailing empty entries","body":"<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>This method works as if by invoking the two-argument split method with the given expression and a limit argument of zero. Trailing empty strings are therefore not included in the resulting array.</p>\n</blockquote>\n<p>So it is behaving as defined. If you're not happy with that, you can do what the manual suggests and use a negative parameter for limit.</p>\n<pre><code>String[] parts = &quot;a.b.c...d...&quot;.split(&quot;\\\\.&quot;, -1);\nfor ( int i = 0; i &lt; parts.length; i++ )\n   System.out.println(&quot;&quot; + i + &quot;: '&quot; + parts[i] + &quot;'&quot; );\n\n0: 'a'\n1: 'b'\n2: 'c'\n3: ''\n4: ''\n5: 'd'\n6: ''\n7: ''\n8: ''\n</code></pre>\n"}],"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1634876972,"accepted_answer_id":69666881,"answer_count":1,"score":1,"last_activity_date":1634840367,"creation_date":1634839679,"question_id":69666826,"body_markdown":"I am using split() to gather values between periods in a String. If the user enters trailing periods, then split() does not return those periods as empty strings, but drops them:\r\n```\r\nString[] parts = &quot;a.b.c...d...e&quot;.split(&quot;\\\\.&quot;);\r\n   for ( int i = 0; i &lt; parts.length; i++ )\r\n       System.out.println(&quot;&quot; + i + &quot;: &#39;&quot; + parts[i] + &quot;&#39;&quot; );\r\n\r\n0: &#39;a&#39;\r\n1: &#39;b&#39;\r\n2: &#39;c&#39;\r\n3: &#39;&#39;\r\n4: &#39;&#39;\r\n5: &#39;d&#39;\r\n6: &#39;&#39;\r\n7: &#39;&#39;\r\n8: &#39;e&#39;\r\n```\r\n\r\nRemoving the last &#39;e&#39;:\r\n\r\n```\r\nString[] parts = &quot;a.b.c...d...&quot;.split(&quot;\\\\.&quot;);\r\n   for ( int i = 0; i &lt; parts.length; i++ )\r\n       System.out.println(&quot;&quot; + i + &quot;: &#39;&quot; + parts[i] + &quot;&#39;&quot; );\r\n\r\n\r\n0: &#39;a&#39;\r\n1: &#39;b&#39;\r\n2: &#39;c&#39;\r\n3: &#39;&#39;\r\n4: &#39;&#39;\r\n5: &#39;d&#39;\r\n```\r\n\r\nWhat happened to parts 6 and 7? It seems that split() simply dropped them. Yet they are there in the String. Should not split() return parts 6 and 7 as empty strings?","title":"String split() dropping trailing empty entries","body":"<p>I am using split() to gather values between periods in a String. If the user enters trailing periods, then split() does not return those periods as empty strings, but drops them:</p>\n<pre><code>String[] parts = &quot;a.b.c...d...e&quot;.split(&quot;\\\\.&quot;);\n   for ( int i = 0; i &lt; parts.length; i++ )\n       System.out.println(&quot;&quot; + i + &quot;: '&quot; + parts[i] + &quot;'&quot; );\n\n0: 'a'\n1: 'b'\n2: 'c'\n3: ''\n4: ''\n5: 'd'\n6: ''\n7: ''\n8: 'e'\n</code></pre>\n<p>Removing the last 'e':</p>\n<pre><code>String[] parts = &quot;a.b.c...d...&quot;.split(&quot;\\\\.&quot;);\n   for ( int i = 0; i &lt; parts.length; i++ )\n       System.out.println(&quot;&quot; + i + &quot;: '&quot; + parts[i] + &quot;'&quot; );\n\n\n0: 'a'\n1: 'b'\n2: 'c'\n3: ''\n4: ''\n5: 'd'\n</code></pre>\n<p>What happened to parts 6 and 7? It seems that split() simply dropped them. Yet they are there in the String. Should not split() return parts 6 and 7 as empty strings?</p>\n"},{"tags":["java","android","ubuntu","jvm","heap-memory"],"comments":[{"owner":{"account_id":1135793,"reputation":4285,"user_id":1120878,"accept_rate":36,"display_name":"dead programmer"},"score":0,"creation_date":1333500493,"post_id":10003459,"comment_id":12787758,"body_markdown":"@AmitBhargava yes after reading i asked this question. I am building code on command line. so I want to set this variable globally Do you know how to set this in enviroment(exports).","body":"@AmitBhargava yes after reading i asked this question. I am building code on command line. so I want to set this variable globally Do you know how to set this in enviroment(exports)."},{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1333500608,"post_id":10003459,"comment_id":12787779,"body_markdown":"Not sure how to do this in Android, but in normal java you can set these options while using the &#39;java&#39; command.","body":"Not sure how to do this in Android, but in normal java you can set these options while using the &#39;java&#39; command."}],"answers":[{"tags":[],"owner":{"account_id":189654,"reputation":6552,"user_id":429108,"accept_rate":80,"display_name":"Jon O"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1369235839,"creation_date":1333500383,"answer_id":10003479,"question_id":10003459,"body_markdown":"You should be able to use the information found in [this post][1].\r\n\r\n    -Xmszzzm\r\nwhere zzz is your minimum size.\r\n\r\n    -Xmxzzzm\r\nwhere zzz is your maximum size.\r\n\r\n    JAVA_OPTS=&quot;-Xms128m -Xmx512m&quot;\r\n\r\nYou can find more info on VM args [here][2].\r\n\r\n\r\nHow to set it globally in your environment depends on your operating system.  Which OS are you using?\r\n\r\n**EDIT**:  I see the &quot;ubuntu&quot; tag now.\r\n\r\nYou should just be able to put the JAVA_OPTs line in `etc/environment`. Once you modify `etc/environment`, you&#39;ll have to log out and back in for the updated environment variables to take effect.\r\n\r\n  [1]: http://forums.opensuse.org/english/other-forums/development/programming-scripting/392905-java_opts.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"JAVA_OPTS for increasing heap size","body":"<p>You should be able to use the information found in <a href=\"http://forums.opensuse.org/english/other-forums/development/programming-scripting/392905-java_opts.html\" rel=\"noreferrer\">this post</a>.</p>\n\n<pre><code>-Xmszzzm\n</code></pre>\n\n<p>where zzz is your minimum size.</p>\n\n<pre><code>-Xmxzzzm\n</code></pre>\n\n<p>where zzz is your maximum size.</p>\n\n<pre><code>JAVA_OPTS=\"-Xms128m -Xmx512m\"\n</code></pre>\n\n<p>You can find more info on VM args <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>How to set it globally in your environment depends on your operating system.  Which OS are you using?</p>\n\n<p><strong>EDIT</strong>:  I see the \"ubuntu\" tag now.</p>\n\n<p>You should just be able to put the JAVA_OPTs line in <code>etc/environment</code>. Once you modify <code>etc/environment</code>, you'll have to log out and back in for the updated environment variables to take effect.</p>\n"}],"owner":{"account_id":1135793,"reputation":4285,"user_id":1120878,"accept_rate":36,"display_name":"dead programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101708,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":10003479,"answer_count":1,"score":25,"last_activity_date":1634840322,"creation_date":1333500171,"question_id":10003459,"body_markdown":"I want to increase my Heap size. How can I use JAVA_OPTS for doing so.I am getting the following error may be this is because of low heap size\r\n\r\n    UNEXPECTED TOP-LEVEL ERROR:\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOfRange(Arrays.java:3209)\r\n    \tat java.lang.String.&lt;init&gt;(String.java:215)\r\n    \tat java.lang.StringBuilder.toString(StringBuilder.java:430)\r\n    \tat com.android.dx.rop.type.Prototype.withFirstParameter(Prototype.java:370)\r\n    \tat com.android.dx.rop.code.Rops.ropFor(Rops.java:1210)\r\n    \tat com.android.dx.cf.code.RopperMachine.run(RopperMachine.java:478)\r\n    \tat com.android.dx.cf.code.Simulator$SimVisitor.visitConstant(Simulator.java:692)\r\n    \tat com.android.dx.cf.code.BytecodeArray.parseInstruction(BytecodeArray.java:763)\r\n    \tat com.android.dx.cf.code.Simulator.simulate(Simulator.java:95)\r\n    \tat com.android.dx.cf.code.Ropper.processBlock(Ropper.java:684)\r\n    \tat com.android.dx.cf.code.Ropper.doit(Ropper.java:639)\r\n    \tat com.android.dx.cf.code.Ropper.convert(Ropper.java:252)\r\n    \tat com.android.dx.dex.cf.CfTranslator.processMethods(CfTranslator.java:256)\r\n\r\n","title":"JAVA_OPTS for increasing heap size","body":"<p>I want to increase my Heap size. How can I use JAVA_OPTS for doing so.I am getting the following error may be this is because of low heap size</p>\n\n<pre><code>UNEXPECTED TOP-LEVEL ERROR:\njava.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOfRange(Arrays.java:3209)\n    at java.lang.String.&lt;init&gt;(String.java:215)\n    at java.lang.StringBuilder.toString(StringBuilder.java:430)\n    at com.android.dx.rop.type.Prototype.withFirstParameter(Prototype.java:370)\n    at com.android.dx.rop.code.Rops.ropFor(Rops.java:1210)\n    at com.android.dx.cf.code.RopperMachine.run(RopperMachine.java:478)\n    at com.android.dx.cf.code.Simulator$SimVisitor.visitConstant(Simulator.java:692)\n    at com.android.dx.cf.code.BytecodeArray.parseInstruction(BytecodeArray.java:763)\n    at com.android.dx.cf.code.Simulator.simulate(Simulator.java:95)\n    at com.android.dx.cf.code.Ropper.processBlock(Ropper.java:684)\n    at com.android.dx.cf.code.Ropper.doit(Ropper.java:639)\n    at com.android.dx.cf.code.Ropper.convert(Ropper.java:252)\n    at com.android.dx.dex.cf.CfTranslator.processMethods(CfTranslator.java:256)\n</code></pre>\n"},{"tags":["java","android","heap-memory"],"comments":[{"owner":{"account_id":180207,"reputation":13745,"user_id":413379,"accept_rate":86,"display_name":"Justin Breitfeller"},"score":0,"creation_date":1334607264,"post_id":10180909,"comment_id":13065861,"body_markdown":"Possibly duplicate of http://stackoverflow.com/questions/2298208/how-to-discover-memory-usage-of-my-application-in-android","body":"Possibly duplicate of <a href=\"http://stackoverflow.com/questions/2298208/how-to-discover-memory-usage-of-my-application-in-android\" title=\"how to discover memory usage of my application in android\">stackoverflow.com/questions/2298208/&hellip;</a>"},{"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"score":0,"creation_date":1334615759,"post_id":10180909,"comment_id":13068713,"body_markdown":"Thats not really a &quot;duplicate&quot; because I want to find out how much memory of the heap is being counted against the heap limit in the dalvik vm.","body":"Thats not really a &quot;duplicate&quot; because I want to find out how much memory of the heap is being counted against the heap limit in the dalvik vm."}],"answers":[{"tags":[],"owner":{"account_id":873918,"reputation":3794,"user_id":924149,"display_name":"207"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1334607209,"creation_date":1334607209,"answer_id":10181005,"question_id":10180909,"body_markdown":"DDMS supports tracking the heap size. Have a look [here under &quot;Viewing heap usage for a process&quot;][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/developing/debugging/ddms.html","title":"How can find I out how much memory of the heap my android 2.3 app is using?","body":"<p>DDMS supports tracking the heap size. Have a look <a href=\"http://developer.android.com/guide/developing/debugging/ddms.html\" rel=\"nofollow\">here under \"Viewing heap usage for a process\"</a></p>\n"}],"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10181005,"answer_count":1,"score":1,"last_activity_date":1634840298,"creation_date":1334606856,"question_id":10180909,"body_markdown":"I made a java app for android 2.3.4 and would like to find out how much memory of the available heap it is using. \r\n\r\nReason for that is that the dalvik vm has a heap size limit and on my current device that limit is 32mb but I would also want to run it on devices with a heap size of only 16mb and need to find out if I have to make memory optimizations.\r\n\r\nHow can I find out how much of the current heap size is being used?\r\n\r\n-----------------------\r\nEdit: I did find (with the help of the answer) some useful pointers here: \r\n\r\nhttp://android-developers.blogspot.jp/2011/03/memory-analysis-for-android.html","title":"How can find I out how much memory of the heap my android 2.3 app is using?","body":"<p>I made a java app for android 2.3.4 and would like to find out how much memory of the available heap it is using. </p>\n\n<p>Reason for that is that the dalvik vm has a heap size limit and on my current device that limit is 32mb but I would also want to run it on devices with a heap size of only 16mb and need to find out if I have to make memory optimizations.</p>\n\n<p>How can I find out how much of the current heap size is being used?</p>\n\n<hr>\n\n<p>Edit: I did find (with the help of the answer) some useful pointers here: </p>\n\n<p><a href=\"http://android-developers.blogspot.jp/2011/03/memory-analysis-for-android.html\" rel=\"nofollow\">http://android-developers.blogspot.jp/2011/03/memory-analysis-for-android.html</a></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":13647178,"reputation":1443,"user_id":9845929,"display_name":"SebastienRieu"},"score":1,"creation_date":1634827792,"post_id":69664124,"comment_id":123136359,"body_markdown":"Hi, upload your activity_main xml here. thre probably an error in the xml : Binary XML file line #2","body":"Hi, upload your activity_main xml here. thre probably an error in the xml : Binary XML file line #2"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1634829015,"post_id":69664124,"comment_id":123137036,"body_markdown":"You look like you only uploaded half the stack trace.  When you see this error it almost is always caused by a secondary exception that will be printed immediately below it.  It&#39;s always the bottom most one that&#39;s the real issue.","body":"You look like you only uploaded half the stack trace.  When you see this error it almost is always caused by a secondary exception that will be printed immediately below it.  It&#39;s always the bottom most one that&#39;s the real issue."},{"owner":{"account_id":23102870,"reputation":41,"user_id":17212043,"display_name":"Bint E Hawa"},"score":0,"creation_date":1634829986,"post_id":69664124,"comment_id":123137484,"body_markdown":"I&#39;ve uploaded the full stack trace and xml file.","body":"I&#39;ve uploaded the full stack trace and xml file."}],"answers":[{"tags":[],"owner":{"account_id":13374809,"reputation":21,"user_id":9651970,"display_name":"PennOx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634839940,"creation_date":1634839940,"answer_id":69666869,"question_id":69664124,"body_markdown":"As stated from your log `Caused by: java.lang.OutOfMemoryError: Failed to allocate a 386564108 byte allocation with 4182480 free bytes and 126MB until OOM` your app maybe crashing because your image size too large. I suggest **try compressing your image file or use image loding libraries like  [Glide][1]**.\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide","title":"Unfortunately App has been crashed when using android phone to launch the app","body":"<p>As stated from your log <code>Caused by: java.lang.OutOfMemoryError: Failed to allocate a 386564108 byte allocation with 4182480 free bytes and 126MB until OOM</code> your app maybe crashing because your image size too large. I suggest <strong>try compressing your image file or use image loding libraries like  <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a></strong>.</p>\n"}],"owner":{"account_id":23102870,"reputation":41,"user_id":17212043,"display_name":"Bint E Hawa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634878999,"answer_count":1,"score":0,"last_activity_date":1634839940,"creation_date":1634827710,"question_id":69664124,"body_markdown":"In logcat cause is mentioned like this\r\n\r\n    10-21 19:23:51.751 20211-20211/? E/Zygote: v2\r\n10-21 19:23:51.751 20211-20211/? E/Zygote: accessInfo : 0\r\n10-21 19:23:53.771 20211-20211/com.example.testapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.testapp, PID: 20211\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testapp/com.example.testapp.MainActivity}: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:223)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:148)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7223)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n     Caused by: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:551)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\r\n        at com.example.testapp.MainActivity.onCreate(MainActivity.java:17)\r\n        at android.app.Activity.performCreate(Activity.java:6877)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:223)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:148)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7223)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n     Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:657)\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)&#160;\r\n        at com.example.testapp.MainActivity.onCreate(MainActivity.java:17)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:6877)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:223)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:148)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7223)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance(Native Method)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:631)\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)&#160;\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:498)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)&#160;\r\n        at com.example.testapp.MainActivity.onCreate(MainActivity.java:17)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:6877)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:223)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:148)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7223)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n     Caused by: java.lang.OutOfMemoryError: Failed to allocate a 386564108 byte allocation with 4182480 free bytes and 126MB until OOM\r\n        at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\r\n        at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\r\n        at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:856)\r\n        at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:675)\r\n        at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:2230)\r\n        at android.content.res.Resources.loadDrawableForCookie(Resources.java:4211)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:4085)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:3935)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:886)\r\n        at android.view.View.&lt;init&gt;(View.java:4226)\r\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:591)\r\n        at android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:249)\r\n        at android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:245)\r\n        at android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:241)\r\n        at java.lang.reflect.Constructor.newInstance(Native Method)&#160;\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:631)&#160;\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)&#160;\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:498)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)&#160;\r\n        at com.example.testapp.MainActivity.onCreate(MainActivity.java:17)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:6877)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:223)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:148)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7223)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n\r\n\r\n&#160;\r\n\r\n\r\n\r\nerror is here\r\n\r\nsetContentView(R.layout.activity_main);\r\n\r\nwhat&#39;s the error?\r\n\r\n\r\n***here is main.xml***\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/bk99&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:ignore=&quot;ExtraText&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;253dp&quot;\r\n            android:layout_height=&quot;263dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;77dp&quot;\r\n            android:layout_marginRight=&quot;77dp&quot;\r\n            android:layout_marginBottom=&quot;411dp&quot;\r\n            android:contentDescription=&quot;@string/todo&quot;\r\n            app:srcCompat=&quot;@drawable/log&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/username&quot;\r\n            android:layout_width=&quot;211dp&quot;\r\n            android:layout_height=&quot;42dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;99dp&quot;\r\n            android:layout_marginRight=&quot;99dp&quot;\r\n            android:layout_marginBottom=&quot;333dp&quot;\r\n            android:background=&quot;#1E5F9F&quot;\r\n            android:drawableLeft=&quot;@drawable/ic_baseline_account_circle_24&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;@string/user_name&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:text=&quot;@string/enter_your_name&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;19sp&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/password&quot;\r\n            android:layout_width=&quot;217dp&quot;\r\n            android:layout_height=&quot;42dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;97dp&quot;\r\n            android:layout_marginRight=&quot;97dp&quot;\r\n            android:layout_marginBottom=&quot;262dp&quot;\r\n            android:background=&quot;#1E5F9F&quot;\r\n            android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;@string/password&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:text=&quot;@string/password&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;19sp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;308dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;52dp&quot;\r\n            android:layout_marginRight=&quot;52dp&quot;\r\n            android:layout_marginBottom=&quot;141dp&quot;\r\n            android:background=&quot;@drawable/rounded_corner&quot;\r\n            android:text=&quot;@string/login&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n        &lt;CheckBox\r\n            android:id=&quot;@+id/reg&quot;\r\n            android:layout_width=&quot;151dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;132dp&quot;\r\n            android:layout_marginRight=&quot;132dp&quot;\r\n            android:layout_marginBottom=&quot;82dp&quot;\r\n            android:background=&quot;#1E5F9F&quot;\r\n            android:onClick=&quot;onClick&quot;\r\n            android:text=&quot;@string/remember_me&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"Unfortunately App has been crashed when using android phone to launch the app","body":"<p>In logcat cause is mentioned like this</p>\n<pre><code>10-21 19:23:51.751 20211-20211/? E/Zygote: v2\n</code></pre>\n<p>10-21 19:23:51.751 20211-20211/? E/Zygote: accessInfo : 0\n10-21 19:23:53.771 20211-20211/com.example.testapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.testapp, PID: 20211\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testapp/com.example.testapp.MainActivity}: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\nat android.app.ActivityThread.access$1100(ActivityThread.java:223)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:148)\nat android.app.ActivityThread.main(ActivityThread.java:7223)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\nCaused by: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\nat android.view.LayoutInflater.inflate(LayoutInflater.java:551)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:429)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:380)\nat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\nat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\nat com.example.testapp.MainActivity.onCreate(MainActivity.java:17)\nat android.app.Activity.performCreate(Activity.java:6877)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \nat android.app.ActivityThread.access$1100(ActivityThread.java:223) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:148) \nat android.app.ActivityThread.main(ActivityThread.java:7223) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \nCaused by: android.view.InflateException: Binary XML file line #2: Error inflating class android.widget.RelativeLayout\nat android.view.LayoutInflater.createView(LayoutInflater.java:657)\nat com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\nat android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:498)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:429) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:380) \nat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696) \nat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170) \nat com.example.testapp.MainActivity.onCreate(MainActivity.java:17) \nat android.app.Activity.performCreate(Activity.java:6877) \nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136) \nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206) \nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \nat android.app.ActivityThread.access$1100(ActivityThread.java:223) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:148) \nat android.app.ActivityThread.main(ActivityThread.java:7223) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Constructor.newInstance(Native Method)\nat android.view.LayoutInflater.createView(LayoutInflater.java:631)\nat com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58) \nat android.view.LayoutInflater.onCreateView(LayoutInflater.java:706) \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774) \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:498) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:429) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:380) \nat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696) \nat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170) \nat com.example.testapp.MainActivity.onCreate(MainActivity.java:17) \nat android.app.Activity.performCreate(Activity.java:6877) \nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136) \nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206) \nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \nat android.app.ActivityThread.access$1100(ActivityThread.java:223) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:148) \nat android.app.ActivityThread.main(ActivityThread.java:7223) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \nCaused by: java.lang.OutOfMemoryError: Failed to allocate a 386564108 byte allocation with 4182480 free bytes and 126MB until OOM\nat dalvik.system.VMRuntime.newNonMovableArray(Native Method)\nat android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\nat android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:856)\nat android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:675)\nat android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:2230)\nat android.content.res.Resources.loadDrawableForCookie(Resources.java:4211)\nat android.content.res.Resources.loadDrawable(Resources.java:4085)\nat android.content.res.Resources.loadDrawable(Resources.java:3935)\nat android.content.res.TypedArray.getDrawable(TypedArray.java:886)\nat android.view.View.(View.java:4226)\nat android.view.ViewGroup.(ViewGroup.java:591)\nat android.widget.RelativeLayout.(RelativeLayout.java:249)\nat android.widget.RelativeLayout.(RelativeLayout.java:245)\nat android.widget.RelativeLayout.(RelativeLayout.java:241)\nat java.lang.reflect.Constructor.newInstance(Native Method) \nat android.view.LayoutInflater.createView(LayoutInflater.java:631) \nat com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58) \nat android.view.LayoutInflater.onCreateView(LayoutInflater.java:706) \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774) \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:498) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:429) \nat android.view.LayoutInflater.inflate(LayoutInflater.java:380) \nat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696) \nat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170) \nat com.example.testapp.MainActivity.onCreate(MainActivity.java:17) \nat android.app.Activity.performCreate(Activity.java:6877) \nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136) \nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206) \nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \nat android.app.ActivityThread.access$1100(ActivityThread.java:223) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:148) \nat android.app.ActivityThread.main(ActivityThread.java:7223) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) </p>\n<p> </p>\n<p>error is here</p>\n<p>setContentView(R.layout.activity_main);</p>\n<p>what's the error?</p>\n<p><em><strong>here is main.xml</strong></em></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/bk99&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:ignore=&quot;ExtraText&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;253dp&quot;\n        android:layout_height=&quot;263dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;77dp&quot;\n        android:layout_marginRight=&quot;77dp&quot;\n        android:layout_marginBottom=&quot;411dp&quot;\n        android:contentDescription=&quot;@string/todo&quot;\n        app:srcCompat=&quot;@drawable/log&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/username&quot;\n        android:layout_width=&quot;211dp&quot;\n        android:layout_height=&quot;42dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;99dp&quot;\n        android:layout_marginRight=&quot;99dp&quot;\n        android:layout_marginBottom=&quot;333dp&quot;\n        android:background=&quot;#1E5F9F&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_account_circle_24&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;@string/user_name&quot;\n        android:inputType=&quot;text&quot;\n        android:text=&quot;@string/enter_your_name&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;19sp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;217dp&quot;\n        android:layout_height=&quot;42dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;97dp&quot;\n        android:layout_marginRight=&quot;97dp&quot;\n        android:layout_marginBottom=&quot;262dp&quot;\n        android:background=&quot;#1E5F9F&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;@string/password&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:text=&quot;@string/password&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;19sp&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;308dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;52dp&quot;\n        android:layout_marginRight=&quot;52dp&quot;\n        android:layout_marginBottom=&quot;141dp&quot;\n        android:background=&quot;@drawable/rounded_corner&quot;\n        android:text=&quot;@string/login&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;CheckBox\n        android:id=&quot;@+id/reg&quot;\n        android:layout_width=&quot;151dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;132dp&quot;\n        android:layout_marginRight=&quot;132dp&quot;\n        android:layout_marginBottom=&quot;82dp&quot;\n        android:background=&quot;#1E5F9F&quot;\n        android:onClick=&quot;onClick&quot;\n        android:text=&quot;@string/remember_me&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;18sp&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","heroku"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1516372874,"post_id":48343432,"comment_id":83672513,"body_markdown":"How are you deploying? With `git push` or `heroku jar:deploy`?","body":"How are you deploying? With <code>git push</code> or <code>heroku jar:deploy</code>?"}],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1516373027,"creation_date":1516373027,"answer_id":48343575,"question_id":48343432,"body_markdown":"You app is running on port 8080, but on Heroku it needs to bind to the environment variable `$PORT`. You can fix Spring to do this by adding the following to your `application.properties`:\r\n\r\n    server.port=${PORT:8080}\r\n\r\nThis will use `$PORT` if it&#39;s set, and default to 8080 if it&#39;s not.","title":"Heroku error code H10 when Spring Boot app is deployed","body":"<p>You app is running on port 8080, but on Heroku it needs to bind to the environment variable <code>$PORT</code>. You can fix Spring to do this by adding the following to your <code>application.properties</code>:</p>\n\n<pre><code>server.port=${PORT:8080}\n</code></pre>\n\n<p>This will use <code>$PORT</code> if it's set, and default to 8080 if it's not.</p>\n"},{"tags":[],"owner":{"account_id":22463847,"reputation":311,"user_id":16665305,"display_name":"Himanshu Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634839761,"creation_date":1634839761,"answer_id":69666836,"question_id":48343432,"body_markdown":"I solved this error using Procfile, the Procfile is always a simple text file that is named Procfile without a file extension, For example, Procfile.txt is not valid, The Procfile must live in your app’s root directory. It does not function if placed anywhere else.\r\n\r\n**What to write in Procfile?**\r\n\r\n      web: java -jar build/libs/your-project-name-version.jar \r\nthe version you can find inside build.gradle/pom.xml   \r\n\r\nExample:-`      web: java -jar build/libs/khatabook-1.0.jar`\r\n\r\n**Where to create Procfile?**\r\n\r\nI have given my project structure image link for \r\n  [1]: https://i.stack.imgur.com/tsB35.png\r\n\r\nMy gradle file link\r\nhttps://github.com/himanshujainpro/khatabook/blob/master/build.gradle\r\n\r\nMy application.properties\r\nhttps://github.com/himanshujainpro/khatabook/blob/master/src/main/resources/application.properties\r\n\r\nProject link for further reference\r\nhttps://github.com/himanshujainpro/khatabook","title":"Heroku error code H10 when Spring Boot app is deployed","body":"<p>I solved this error using Procfile, the Procfile is always a simple text file that is named Procfile without a file extension, For example, Procfile.txt is not valid, The Procfile must live in your app’s root directory. It does not function if placed anywhere else.</p>\n<p><strong>What to write in Procfile?</strong></p>\n<pre><code>  web: java -jar build/libs/your-project-name-version.jar \n</code></pre>\n<p>the version you can find inside build.gradle/pom.xml</p>\n<p>Example:-<code>      web: java -jar build/libs/khatabook-1.0.jar</code></p>\n<p><strong>Where to create Procfile?</strong></p>\n<p>I have given my project structure image link for\n[1]: <a href=\"https://i.stack.imgur.com/tsB35.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tsB35.png</a></p>\n<p>My gradle file link\n<a href=\"https://github.com/himanshujainpro/khatabook/blob/master/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/himanshujainpro/khatabook/blob/master/build.gradle</a></p>\n<p>My application.properties\n<a href=\"https://github.com/himanshujainpro/khatabook/blob/master/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/himanshujainpro/khatabook/blob/master/src/main/resources/application.properties</a></p>\n<p>Project link for further reference\n<a href=\"https://github.com/himanshujainpro/khatabook\" rel=\"nofollow noreferrer\">https://github.com/himanshujainpro/khatabook</a></p>\n"}],"owner":{"account_id":8908351,"reputation":33,"user_id":6649477,"display_name":"Marcin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3204,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48343575,"answer_count":2,"score":3,"last_activity_date":1634839761,"creation_date":1516372564,"question_id":48343432,"body_markdown":"I can&#39;t open my app in Heroku - I get error H10. When I run my app in Eclipse or use executable jar file - everything work well. Here is my code : [GITHub][1] Below is my log file:\r\n[DropBox][2]\r\n\r\n\r\n  [1]: https://github.com/Marcin1112/spring_boot_page.git\r\n  [2]: https://www.dropbox.com/s/5xcsskwler46izt/log.txt?dl=0","title":"Heroku error code H10 when Spring Boot app is deployed","body":"<p>I can't open my app in Heroku - I get error H10. When I run my app in Eclipse or use executable jar file - everything work well. Here is my code : <a href=\"https://github.com/Marcin1112/spring_boot_page.git\" rel=\"nofollow noreferrer\">GITHub</a> Below is my log file:\n<a href=\"https://www.dropbox.com/s/5xcsskwler46izt/log.txt?dl=0\" rel=\"nofollow noreferrer\">DropBox</a></p>\n"},{"tags":["java","mysql","dependency-injection","playframework","guice"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634839438,"creation_date":1634839438,"answer_id":69666790,"question_id":69654388,"body_markdown":"This is expected behaviour: injection only works for instances of `MyDatabase` created by the framework, not instances created manually by `new MyDatabase()` like you are doing.\r\n\r\nYou should inject a `MyDatabase` instance with `@Inject` in the code where you need it (controller or service for instance..).","title":"Access to default database trough dependency injection not working in Play 2.8","body":"<p>This is expected behaviour: injection only works for instances of <code>MyDatabase</code> created by the framework, not instances created manually by <code>new MyDatabase()</code> like you are doing.</p>\n<p>You should inject a <code>MyDatabase</code> instance with <code>@Inject</code> in the code where you need it (controller or service for instance..).</p>\n"}],"owner":{"account_id":6520690,"reputation":41,"user_id":5045038,"display_name":"Felix Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634839438,"creation_date":1634775132,"question_id":69654388,"body_markdown":"I have set up the database connection in my Play 2.8.8 project&#39;s `application.conf` like this:\r\n\r\n```\r\ndb.default.driver=&quot;com.mysql.jdbc.Driver&quot;\r\ndb.default.url=&quot;jdbc:mysql://localhost/mytable?zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;autoReconnect=true&quot;\r\ndb.default.username=&quot;someuser&quot;\r\ndb.default.password=&quot;somepass&quot;\r\n```\r\n\r\nI can see Play bring that connection up and down in Terminal, so I assume that setup is correct.\r\n\r\nIf I then want to access the default database in a helper class, injection appears to not work, since the value of `database` is always `null` when calling `MyDatabase.getDatabase()`, printing `Database == null`.\r\n\r\n```\r\npackage mytools;\r\n\r\nimport javax.inject.*;\r\n\r\nimport play.*;\r\nimport play.db.*;\r\n\r\nimport java.sql.*;\r\nimport java.util.*;\r\nimport java.util.Date;\r\n\r\npublic class MyDatabase\r\n{\r\n\t@Inject Database database;\r\n\tpublic Connection dbConnection;\r\n\r\n\tpublic static MyDatabase getDatabase()\r\n\t{\r\n\t\tMyDatabase db;\r\n\t\t\r\n\t\tdb = new MyDatabase();\r\n\r\n\t\tSystem.out.println((db.database != null) ? &quot;Database != null&quot; : &quot;Database == null&quot;);\r\n\r\n\t\tdb.dbConnection = db.database.getConnection();\r\n\r\n\t\tdb.lastStatement = null;\r\n\t\t\r\n\t\treturn (db);\r\n\t}\r\n\r\n\t// …\r\n}\r\n```\r\n\r\nI have searched the web and SO extensively, but couldn&#39;t find any hint at why injection might not work here - or how to debug it.","title":"Access to default database trough dependency injection not working in Play 2.8","body":"<p>I have set up the database connection in my Play 2.8.8 project's <code>application.conf</code> like this:</p>\n<pre><code>db.default.driver=&quot;com.mysql.jdbc.Driver&quot;\ndb.default.url=&quot;jdbc:mysql://localhost/mytable?zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;autoReconnect=true&quot;\ndb.default.username=&quot;someuser&quot;\ndb.default.password=&quot;somepass&quot;\n</code></pre>\n<p>I can see Play bring that connection up and down in Terminal, so I assume that setup is correct.</p>\n<p>If I then want to access the default database in a helper class, injection appears to not work, since the value of <code>database</code> is always <code>null</code> when calling <code>MyDatabase.getDatabase()</code>, printing <code>Database == null</code>.</p>\n<pre><code>package mytools;\n\nimport javax.inject.*;\n\nimport play.*;\nimport play.db.*;\n\nimport java.sql.*;\nimport java.util.*;\nimport java.util.Date;\n\npublic class MyDatabase\n{\n    @Inject Database database;\n    public Connection dbConnection;\n\n    public static MyDatabase getDatabase()\n    {\n        MyDatabase db;\n        \n        db = new MyDatabase();\n\n        System.out.println((db.database != null) ? &quot;Database != null&quot; : &quot;Database == null&quot;);\n\n        db.dbConnection = db.database.getConnection();\n\n        db.lastStatement = null;\n        \n        return (db);\n    }\n\n    // …\n}\n</code></pre>\n<p>I have searched the web and SO extensively, but couldn't find any hint at why injection might not work here - or how to debug it.</p>\n"},{"tags":["java","android","dictionary"],"comments":[{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634843440,"post_id":69666764,"comment_id":123142724,"body_markdown":"Do you have a classpath entry for ../com/hughes/ or just for ../. Maybe I&#39;m wrong but I think you need the directory where the top level package (in your case &#39;android&#39;) specified on the classpath.","body":"Do you have a classpath entry for ../com/hughes/ or just for ../. Maybe I&#39;m wrong but I think you need the directory where the top level package (in your case &#39;android&#39;) specified on the classpath."},{"owner":{"account_id":23104760,"reputation":1,"user_id":17213586,"display_name":"headphone53"},"score":0,"creation_date":1635016086,"post_id":69666764,"comment_id":123184507,"body_markdown":"I tried to add an entry into the classpath, but it didn&#39;t work. Maybe I&#39;m doing something wrong or it may be my lack of skills of Java. I added:\n`&lt;classpathentry kind=&quot;src&quot; path=&quot;../Dictionary/src/com/hughes/android/&quot; /&gt;` \nBut that entry didn&#39;t help. Note: _compile.sh_ &amp; _.classpath_ are in folder DictionaryPC which is in same parent folder as Dictionary.","body":"I tried to add an entry into the classpath, but it didn&#39;t work. Maybe I&#39;m doing something wrong or it may be my lack of skills of Java. I added: <code>&lt;classpathentry kind=&quot;src&quot; path=&quot;..&#47;Dictionary&#47;src&#47;com&#47;hughes&#47;android&#47;&quot; &#47;&gt;</code>  But that entry didn&#39;t help. Note: <i>compile.sh</i> &amp; <i>.classpath</i> are in folder DictionaryPC which is in same parent folder as Dictionary."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1635082851,"post_id":69666764,"comment_id":123194845,"body_markdown":"I&#39;m sorry, I&#39;m wrong. I&#39;ve used Java for over 20 years but never Android so maybe I shouldn&#39;t have commented on this. I think (after a quick Internet search) that the classes that aren&#39;t found are part of the android API which have root package android.* not com.hughes.android.* (which is what I thought). I don&#39;t know how Android stuff is compiled (does it have its own equivalent of a JDK?) but I doubt you can just use the regular Oracle/OpenJDK for this if that&#39;s what your trying to do.","body":"I&#39;m sorry, I&#39;m wrong. I&#39;ve used Java for over 20 years but never Android so maybe I shouldn&#39;t have commented on this. I think (after a quick Internet search) that the classes that aren&#39;t found are part of the android API which have root package android.* not com.hughes.android.* (which is what I thought). I don&#39;t know how Android stuff is compiled (does it have its own equivalent of a JDK?) but I doubt you can just use the regular Oracle/OpenJDK for this if that&#39;s what your trying to do."}],"owner":{"account_id":23104760,"reputation":1,"user_id":17213586,"display_name":"headphone53"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634839317,"creation_date":1634839317,"question_id":69666764,"body_markdown":"I try to get run the compile.sh of the Java code DictionaryPC I got from [GitHub.][1]\r\nEverytime when I run it, I get the errors shown below. But the .class files which are allegedly missing do exist as the folders ../com/hughes/android/\r\n\r\nThe paths in compile.sh are set right.\r\n\r\n```\r\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:17: error: package android.content does not exist\r\nimport android.content.ContentResolver;\r\n                      ^\r\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:18: error: package android.support.v4.provider does not exist\r\nimport android.support.v4.provider.DocumentFile;\r\n                                  ^\r\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:197: error: cannot find symbol\r\n    private static DictionaryInfo getErrorDictionaryInfo(final DocumentFile file) {\r\n                                                               ^\r\n  symbol:   class DocumentFile\r\n  location: class Dictionary\r\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:204: error: cannot find symbol\r\n    public static DictionaryInfo getDictionaryInfo(final DocumentFile file, final ContentResolver r) {\r\n                                                         ^\r\n  symbol:   class DocumentFile\r\n  location: class Dictionary\r\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:204: error: cannot find symbol\r\n    public static DictionaryInfo getDictionaryInfo(final DocumentFile file, final ContentResolver r) {\r\n                                                                                  ^\r\n  symbol:   class ContentResolver\r\n  location: class Dictionary\r\n5 errors\r\n```\r\n\r\n\r\n  [1]: https://github.com/rdoeffinger/DictionaryPC","title":"Why does Java not find the packages?","body":"<p>I try to get run the compile.sh of the Java code DictionaryPC I got from <a href=\"https://github.com/rdoeffinger/DictionaryPC\" rel=\"nofollow noreferrer\">GitHub.</a>\nEverytime when I run it, I get the errors shown below. But the .class files which are allegedly missing do exist as the folders ../com/hughes/android/</p>\n<p>The paths in compile.sh are set right.</p>\n<pre><code>../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:17: error: package android.content does not exist\nimport android.content.ContentResolver;\n                      ^\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:18: error: package android.support.v4.provider does not exist\nimport android.support.v4.provider.DocumentFile;\n                                  ^\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:197: error: cannot find symbol\n    private static DictionaryInfo getErrorDictionaryInfo(final DocumentFile file) {\n                                                               ^\n  symbol:   class DocumentFile\n  location: class Dictionary\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:204: error: cannot find symbol\n    public static DictionaryInfo getDictionaryInfo(final DocumentFile file, final ContentResolver r) {\n                                                         ^\n  symbol:   class DocumentFile\n  location: class Dictionary\n../Dictionary/src/com/hughes/android/dictionary/engine/Dictionary.java:204: error: cannot find symbol\n    public static DictionaryInfo getDictionaryInfo(final DocumentFile file, final ContentResolver r) {\n                                                                                  ^\n  symbol:   class ContentResolver\n  location: class Dictionary\n5 errors\n</code></pre>\n"},{"tags":["java","postgresql","eclipse","maven","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":18128966,"reputation":395,"user_id":13184263,"display_name":"Jenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634839059,"creation_date":1634839059,"answer_id":69666709,"question_id":69663363,"body_markdown":"Issue solved by adding the following dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"The import org.apache.commons.dbcp2 cannot be resolved in a maven project using apache camel","body":"<p>Issue solved by adding the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18128966,"reputation":395,"user_id":13184263,"display_name":"Jenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634839059,"creation_date":1634824773,"question_id":69663363,"body_markdown":"I am trying to connect to a postgreSQL database using apache camel in eclipse IDE however I am getting this error:\r\nThe import org.apache.commons.dbcp2 cannot be resolved\r\n\r\nwhen importing: import org.apache.commons.dbcp2.BasicDataSource;\r\n\r\nthese are the dependencies in the pom:\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;!-- use the same version as your Camel core version --&gt;\r\n&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;${camel.version}&lt;/version&gt;\r\n   \r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;${camel.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-http-common&lt;/artifactId&gt;\r\n    &lt;version&gt;${camel.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nI don t know what to do and appreciate any help!!\r\n","title":"The import org.apache.commons.dbcp2 cannot be resolved in a maven project using apache camel","body":"<p>I am trying to connect to a postgreSQL database using apache camel in eclipse IDE however I am getting this error:\nThe import org.apache.commons.dbcp2 cannot be resolved</p>\n<p>when importing: import org.apache.commons.dbcp2.BasicDataSource;</p>\n<p>these are the dependencies in the pom:</p>\n<pre><code>    &lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;!-- use the same version as your Camel core version --&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n   \n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-http-common&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n</code></pre>\n<p>I don t know what to do and appreciate any help!!</p>\n"},{"tags":["java","byte","bit"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1634784939,"post_id":69655224,"comment_id":123120693,"body_markdown":"SUGGESTION: `return ((1 &lt;&lt; bit) &amp; b) != 0`","body":"SUGGESTION: <code>return ((1 &lt;&lt; bit) &amp; b) != 0</code>"},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":1,"creation_date":1634785144,"post_id":69655224,"comment_id":123120728,"body_markdown":"@paulsm4 why is that better?","body":"@paulsm4 why is that better?"},{"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"score":2,"creation_date":1634785398,"post_id":69655224,"comment_id":123120779,"body_markdown":"Can you add a full code example that returns a nondeterministic result? I&#39;m finding it very hard to believe that running the same code twice without external input or random numbers would generate a different outcome. If adding a print statement is what changes the result, then please paste the two code examples that differ.","body":"Can you add a full code example that returns a nondeterministic result? I&#39;m finding it very hard to believe that running the same code twice without external input or random numbers would generate a different outcome. If adding a print statement is what changes the result, then please paste the two code examples that differ."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1634785816,"post_id":69655224,"comment_id":123120850,"body_markdown":"@Pieter12345: I completely agree- we need a full example.  The OP&#39;s contention that his expression is &quot;non-deterministic&quot; is nonsense.  I was merely suggesting that checking for &quot;&gt;0&quot; is silly ... if all he needs to know is &quot;0&quot; or &quot;nonzero&quot; ... and if reverting to a negative int might be a factor.","body":"@Pieter12345: I completely agree- we need a full example.  The OP&#39;s contention that his expression is &quot;non-deterministic&quot; is nonsense.  I was merely suggesting that checking for &quot;&gt;0&quot; is silly ... if all he needs to know is &quot;0&quot; or &quot;nonzero&quot; ... and if reverting to a negative int might be a factor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1634786090,"post_id":69655224,"comment_id":123120901,"body_markdown":"Incidentally 0x10000000 is a hex literal. You meant 0b10000000","body":"Incidentally 0x10000000 is a hex literal. You meant 0b10000000"},{"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"score":1,"creation_date":1634786801,"post_id":69655224,"comment_id":123121026,"body_markdown":"@paulsm4 That reason for your suggestion is confusing, as your suggestion is logically equivalent to the code he said he replaced the first example with. Only the arguments of the bitwise AND are swapped, so it looks like that swap was your suggestion.","body":"@paulsm4 That reason for your suggestion is confusing, as your suggestion is logically equivalent to the code he said he replaced the first example with. Only the arguments of the bitwise AND are swapped, so it looks like that swap was your suggestion."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1634789466,"post_id":69655224,"comment_id":123121492,"body_markdown":"`0b10000000 cast as an int is 128`. No it isn&#39;t. It is `0x7fffff80`. I don&#39;t know why you would even write a method as trivial as these. It is not possible for this code or indeed any such code to behave as you allege. Evidence please.","body":"<code>0b10000000 cast as an int is 128</code>. No it isn&#39;t. It is <code>0x7fffff80</code>. I don&#39;t know why you would even write a method as trivial as these. It is not possible for this code or indeed any such code to behave as you allege. Evidence please."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634812610,"post_id":69655224,"comment_id":123129276,"body_markdown":"@tgdavies Thanks! I changed it.","body":"@tgdavies Thanks! I changed it."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634813674,"post_id":69655224,"comment_id":123129735,"body_markdown":"It could only be a JIT compiler bug from java byte code to real machine code. But my first assumption would be that `bit &lt; 0` or `bit &gt; 7` So `1 &lt;&lt; (bit &amp; 7)`. _That_ error would result in too many `true`s becaise of byte&#39;s sign extension.","body":"It could only be a JIT compiler bug from java byte code to real machine code. But my first assumption would be that <code>bit &lt; 0</code> or <code>bit &gt; 7</code> So <code>1 &lt;&lt; (bit &amp; 7)</code>. <i>That</i> error would result in too many <code>true</code>s becaise of byte&#39;s sign extension."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634816081,"post_id":69655224,"comment_id":123130809,"body_markdown":"@JoopEggen Thanks Joop! I don&#39;t think bit could be the problem because I call the utility method like this `Utility.get(b,7);` (that is, with a integer literal). I&#39;m trying to write a small program that does it as we speak but thus far no luck.","body":"@JoopEggen Thanks Joop! I don&#39;t think bit could be the problem because I call the utility method like this <code>Utility.get(b,7);</code> (that is, with a integer literal). I&#39;m trying to write a small program that does it as we speak but thus far no luck."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634820108,"post_id":69655224,"comment_id":123132664,"body_markdown":"I&#39;ve added code for a small program that for me (openJDK 12.0.2 reproduces the issue). A test runs 100 times (exactly the same) but fails somewhere at the n-th iteration unless you change the &#39;&gt;&#39; in Util.get(...) for &#39;!=&#39;, then all 100 iterations of the test just run fine.","body":"I&#39;ve added code for a small program that for me (openJDK 12.0.2 reproduces the issue). A test runs 100 times (exactly the same) but fails somewhere at the n-th iteration unless you change the &#39;&gt;&#39; in Util.get(...) for &#39;!=&#39;, then all 100 iterations of the test just run fine."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634822504,"post_id":69655224,"comment_id":123133814,"body_markdown":"Just ran my own test under jre1.8.0.241 both using `&gt;` or `!=` run fine for 1000 iterations. I think it&#39;s a bug in jdk12.0.2. (So useful since we&#39;re at 17).","body":"Just ran my own test under jre1.8.0.241 both using <code>&gt;</code> or <code>!=</code> run fine for 1000 iterations. I think it&#39;s a bug in jdk12.0.2. (So useful since we&#39;re at 17)."},{"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"score":0,"creation_date":1634822873,"post_id":69655224,"comment_id":123133986,"body_markdown":"Download openJDK 17.0.1 and like jre1.8.0.241 it runs fine for 1000 iterations regardless of using &#39;&gt;&#39; or &#39;!=&#39;. So I&#39;m pretty sure it was a bug in jdk12.0.2 that has been fixed.","body":"Download openJDK 17.0.1 and like jre1.8.0.241 it runs fine for 1000 iterations regardless of using &#39;&gt;&#39; or &#39;!=&#39;. So I&#39;m pretty sure it was a bug in jdk12.0.2 that has been fixed."}],"answers":[{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634820980,"creation_date":1634786803,"answer_id":69655501,"question_id":69655224,"body_markdown":"The two methods return the same values.\r\n\r\n    public static boolean get1(byte b, int bit) {\r\n        return (b &amp; (1 &lt;&lt; bit)) &gt; 0;\r\n    }\r\n\r\n    public static boolean get2(byte b, int bit) {\r\n        return (b &amp; (1 &lt;&lt; bit)) != 0;\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        for (int i = Byte.MIN_VALUE; i &lt;= Byte.MAX_VALUE; ++i) {\r\n            byte b = (byte)i;\r\n            for (int k = 0; k &lt;= 8; ++k)\r\n                if (get1(b, k) != get2(b, k))\r\n                    System.out.println(b + &quot; &quot; + k);\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    (nothing)\r\n\r\nThere is a difference when the value of `bit` is 31.","title":"Why is my Java bit check on byte unstable?","body":"<p>The two methods return the same values.</p>\n<pre><code>public static boolean get1(byte b, int bit) {\n    return (b &amp; (1 &lt;&lt; bit)) &gt; 0;\n}\n\npublic static boolean get2(byte b, int bit) {\n    return (b &amp; (1 &lt;&lt; bit)) != 0;\n}\n\npublic static void main(String[] args) throws IOException {\n    for (int i = Byte.MIN_VALUE; i &lt;= Byte.MAX_VALUE; ++i) {\n        byte b = (byte)i;\n        for (int k = 0; k &lt;= 8; ++k)\n            if (get1(b, k) != get2(b, k))\n                System.out.println(b + &quot; &quot; + k);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>(nothing)\n</code></pre>\n<p>There is a difference when the value of <code>bit</code> is 31.</p>\n"},{"tags":[],"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634838911,"creation_date":1634823171,"answer_id":69662960,"question_id":69655224,"body_markdown":"I&#39;m pretty sure the issue is due to a bug in openJDK 12.0.2. I&#39;ve tested the above program in jre1.8.0.241, openJDK12.0.2 and openJDK17.0.1 (using a 1000 iterations) and only running it on openJDK12.0.2 fails (at the 55th iteration) if I replace &#39;!=&#39; for &#39;&gt;&#39;.\r\nI can&#39;t find which bug that might have been.","title":"Why is my Java bit check on byte unstable?","body":"<p>I'm pretty sure the issue is due to a bug in openJDK 12.0.2. I've tested the above program in jre1.8.0.241, openJDK12.0.2 and openJDK17.0.1 (using a 1000 iterations) and only running it on openJDK12.0.2 fails (at the 55th iteration) if I replace '!=' for '&gt;'.\nI can't find which bug that might have been.</p>\n"}],"owner":{"account_id":12816934,"reputation":101,"user_id":9273277,"display_name":"Del Berry delberry"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1634838911,"creation_date":1634784265,"question_id":69655224,"body_markdown":"I had a little utility method for checking whether a bit is set on a byte:\r\n\r\n    public static boolean get(byte b, int bit) {\r\n\t\treturn (b &amp; (1 &lt;&lt; bit)) &gt; 0;\r\n\t}\r\n\r\nFor 4 years this thing didn&#39;t seem to give me any trouble.\r\nNow in my code a byte class-member is initialized by using DataInput.readByte() of a DataInput passed to the constructor of the class (the class is an inner-class). I have another piece of code that does exactly the same thing and never gave any trouble. It goes sorta like this:\r\n\r\n    public class A {\r\n\r\n        public class B {\r\n\r\n            public byte x;\r\n\r\n            public B(DataInput in) throws IOException {\r\n                x = in.readByte();\r\n                if (Utility.get(x, 7)) {\r\n                    y = in.readInt();\r\n                    ...\r\n                    etc.\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow with the new code the utility method mostly returns true but sometimes false for the same arguments (when printed these are b=-124 and bit=7). I checked that no other Threads are accessing the byte member variable that is passed as &#39;b&#39; (shouldn&#39;t be possible anyway since all of this happens in the class&#39; constructor). Also if I print out the passed value for &#39;b&#39; in the utility method (for example) the issue goes away. It seems to be timing related (that&#39;s why I thought of Threads).\r\n\r\nAfter reading up I realized that (b &amp; 0b10000000) cast as a byte is -128 but (b &amp; 0b10000000) cast as an int is 128. Still I would expect the utility method to return the same result for same &#39;b&#39; and &#39;bit&#39;. Now after changing my utility method to:\r\n\r\n    public static boolean get(byte b, int bit) {\r\n\t\treturn (b &amp; (1 &lt;&lt; bit)) != 0;\r\n\t}\r\n\r\nEverything seems to work fine. My question why does the first version give different results for the same arguments? For b=-124 and bit=7 it seems to evaluate (b &amp; (1 &lt;&lt; bit)) sometimes as +128 and sometimes as -128??? depending on??? I&#39;m running open JDK 12.0.2.\r\n\r\nEDIT1: I don&#39;t have any code I can simply paste here that does what I state (yet) but here&#39;s some code to demonstrate what I mean by the sign of an expression changing depending on casting to byte or int (This isn&#39;t an issue for me, I understand that the Java byte primitive is signed etc.):\r\n\r\n    \tbyte b = -124;\r\n\t\tSystem.out.println((int)(b &amp; 0b10000000));\r\n\t\tSystem.out.println((byte)(b &amp; 0b10000000));\r\n\t\tSystem.out.println(((int)(b &amp; 0b10000000) &gt; 0));\r\n\t\tSystem.out.println(((byte)(b &amp; 0b10000000) &gt; 0));\r\n\r\nResult:\r\n\r\n    128\r\n    -128\r\n    true\r\n    false\r\n\r\nI&#39;m just considering that for some reason, that part of the expression in my utility method is sometimes cast to byte and sometimes to int (because that would explain the different results).\r\n\r\nEDIT2: I have something that can reproduce the issue. There are 3 class files (ByteCheckTest.java, Foo.java and Util.java) all in the bytechecktest package:\r\n\r\nFirst ByteCheckTest.java:\r\n\r\n    package bytechecktest;\r\n\r\n    import java.io.File;\r\n    import java.net.URISyntaxException;\r\n    import java.util.Random;\r\n\r\n    public class ByteCheckTest {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    for (int n = 0; n &lt; 100; n++) {\r\n\t\t\t\r\n\t\t\t    File file = new File(applicationDirectory(ByteCheckTest.class).getAbsolutePath() + File.separator + &quot;output.dat&quot;);\r\n\t\t\t\r\n\t\t\t    //Instantiate first Foo and initialize it with 100 random Bars.\r\n\t\t\t    Foo f1 = new Foo();\r\n\t\t\t    Random rnd = new Random(1);\r\n\t\t\t    for (int i = 0; i &lt; 100; i++) {\r\n\t\t\t\t    f1.addBar((byte)(-128 + rnd.nextInt(256)));\r\n\t\t\t    }\r\n\t\t\t    //Save the first Foo.\r\n\t\t\t    f1.save(file);\r\n\t\t\t\r\n\t\t\t    //Load a new Foo instance from the saved data and compare it to the original Foo (f1).\r\n\t\t\t    Foo.load(file, f1, n);\r\n\t\t\t\r\n\t\t    }\r\n\t\t    System.out.println(&quot;SUCCESS&quot;);\r\n\t    }\r\n\r\n\t    //This is just to obtain the directory this app is in, to put the output.dat file in.\r\n\t    static File applicationDirectory(Class&lt;?&gt; main_class) {\r\n\t\t    File dir = null;\r\n\t\t    try {\r\n\t\t\t    dir = new File(main_class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath()).getParentFile();\r\n\t\t    } catch (URISyntaxException e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t\t    return dir;\r\n\t    }\r\n\t\r\n    }\r\n\r\nThen Foo.java\r\n\r\n\tpackage bytechecktest;\r\n\t\r\n\timport java.io.BufferedInputStream;\r\n\timport java.io.BufferedOutputStream;\r\n\timport java.io.DataInput;\r\n\timport java.io.DataInputStream;\r\n\timport java.io.DataOutput;\r\n\timport java.io.DataOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\t\r\n\tclass Foo {\r\n\t\r\n\t\tclass Bar {\r\n\t\t\r\n\t\t\tbyte value;\r\n\t\t\tBar sub;\r\n\t\t\t\r\n\t\t\tBar(byte value) {\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\tif (isSet()) {\r\n\t\t\t\t\tsub = new Bar((byte)0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsub = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tBar(DataInput in) throws IOException {\r\n\t\t\t\tvalue = in.readByte();\r\n\t\t\t\tif (isSet()) {\r\n\t\t\t\t\tsub = new Bar(in);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsub = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvoid write(DataOutput out) throws IOException {\r\n\t\t\t\tout.writeByte(value);\r\n\t\t\t\tif (isSet()) {\r\n\t\t\t\t\tsub.write(out);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tboolean isSet() {\r\n\t\t\t\treturn Util.get(value, 7);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvoid compare(String pre, Bar orig) {\r\n\t\t\t\tif (value != orig.value) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;FAILED: &quot; + pre + &quot; &quot; + value + &quot;=&quot; + orig.value);\r\n\t\t\t\t}\r\n\t\t\t\tif (isSet()) {\r\n\t\t\t\t\tsub.compare(pre + &quot;.sub&quot;, orig.sub);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tList&lt;Bar&gt; bars;\r\n\t\t\r\n\t\tFoo() {\r\n\t\t\tbars = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\t\r\n\t\tFoo(DataInput in, Foo orig, int run) throws IOException {\r\n\t\t\tthis();\r\n\t\t\tint n = in.readInt();\r\n\t\t\tif (orig.bars.size() != n) {\r\n\t\t\t\tthrow new RuntimeException(&quot;FAILED: run&quot; + run + &quot; Loading Foo bars.size=&quot; + n + &quot; orig.bars.size=&quot; + orig.bars.size());\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tBar b = new Bar(in);\r\n\t\t\t\tb.compare(&quot;run&quot; + run + &quot;.bar[&quot; + i + &quot;]&quot;, orig.bars.get(i));\r\n\t\t\t\tbars.add(b);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvoid write(DataOutput out) throws IOException {\r\n\t\t\tout.writeInt(bars.size());\r\n\t\t\tfor (Bar b : bars) {\r\n\t\t\t\tb.write(out);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvoid save(File f) {\r\n\t\t\ttry {\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tf.delete();\r\n\t\t\t\t}\r\n\t\t\t\tDataOutputStream out = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tout = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(f)));\r\n\t\t\t\t\twrite(out);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (out != null) {\r\n\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstatic Foo load(File f, Foo orig, int run) {\r\n\t\t\tFoo foo;\r\n\t\t\ttry {\r\n\t\t\t\tDataInputStream in = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tin = new DataInputStream(new BufferedInputStream(new FileInputStream(f)));\r\n\t\t\t\t\tfoo = new Foo(in, orig, run);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (in != null) {\r\n\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t\treturn foo;\r\n\t\t}\r\n\t\t\r\n\t\tvoid addBar(byte v) {\r\n\t\t\tbars.add(new Bar(v));\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nLast, Util.java:\r\n\r\n\tpackage bytechecktest;\r\n\t\r\n\tpublic class Util {\r\n\t\r\n\t\tpublic static boolean get(byte b, int bit) {\r\n\t\t\treturn (b &amp; (1 &lt;&lt; bit)) &gt; 0; //Changing &#39;&gt;&#39; here to &#39;!=&#39; makes the test succeed.\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nByteCheckTest.java runs the exact same test for the exact same values, 100 times. For me, on openJDK 12.0.2, this fails at some run of the test (with me not immediately the first run but iteration 55 for example).\r\n\r\nBut if I change the greater-than operator in `Util.get(byte, int)` for `!=` then the test runs fine the full 100 times.","title":"Why is my Java bit check on byte unstable?","body":"<p>I had a little utility method for checking whether a bit is set on a byte:</p>\n<pre><code>public static boolean get(byte b, int bit) {\n    return (b &amp; (1 &lt;&lt; bit)) &gt; 0;\n}\n</code></pre>\n<p>For 4 years this thing didn't seem to give me any trouble.\nNow in my code a byte class-member is initialized by using DataInput.readByte() of a DataInput passed to the constructor of the class (the class is an inner-class). I have another piece of code that does exactly the same thing and never gave any trouble. It goes sorta like this:</p>\n<pre><code>public class A {\n\n    public class B {\n\n        public byte x;\n\n        public B(DataInput in) throws IOException {\n            x = in.readByte();\n            if (Utility.get(x, 7)) {\n                y = in.readInt();\n                ...\n                etc.\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now with the new code the utility method mostly returns true but sometimes false for the same arguments (when printed these are b=-124 and bit=7). I checked that no other Threads are accessing the byte member variable that is passed as 'b' (shouldn't be possible anyway since all of this happens in the class' constructor). Also if I print out the passed value for 'b' in the utility method (for example) the issue goes away. It seems to be timing related (that's why I thought of Threads).</p>\n<p>After reading up I realized that (b &amp; 0b10000000) cast as a byte is -128 but (b &amp; 0b10000000) cast as an int is 128. Still I would expect the utility method to return the same result for same 'b' and 'bit'. Now after changing my utility method to:</p>\n<pre><code>public static boolean get(byte b, int bit) {\n    return (b &amp; (1 &lt;&lt; bit)) != 0;\n}\n</code></pre>\n<p>Everything seems to work fine. My question why does the first version give different results for the same arguments? For b=-124 and bit=7 it seems to evaluate (b &amp; (1 &lt;&lt; bit)) sometimes as +128 and sometimes as -128??? depending on??? I'm running open JDK 12.0.2.</p>\n<p>EDIT1: I don't have any code I can simply paste here that does what I state (yet) but here's some code to demonstrate what I mean by the sign of an expression changing depending on casting to byte or int (This isn't an issue for me, I understand that the Java byte primitive is signed etc.):</p>\n<pre><code>    byte b = -124;\n    System.out.println((int)(b &amp; 0b10000000));\n    System.out.println((byte)(b &amp; 0b10000000));\n    System.out.println(((int)(b &amp; 0b10000000) &gt; 0));\n    System.out.println(((byte)(b &amp; 0b10000000) &gt; 0));\n</code></pre>\n<p>Result:</p>\n<pre><code>128\n-128\ntrue\nfalse\n</code></pre>\n<p>I'm just considering that for some reason, that part of the expression in my utility method is sometimes cast to byte and sometimes to int (because that would explain the different results).</p>\n<p>EDIT2: I have something that can reproduce the issue. There are 3 class files (ByteCheckTest.java, Foo.java and Util.java) all in the bytechecktest package:</p>\n<p>First ByteCheckTest.java:</p>\n<pre><code>package bytechecktest;\n\nimport java.io.File;\nimport java.net.URISyntaxException;\nimport java.util.Random;\n\npublic class ByteCheckTest {\n\n    public static void main(String[] args) {\n        for (int n = 0; n &lt; 100; n++) {\n        \n            File file = new File(applicationDirectory(ByteCheckTest.class).getAbsolutePath() + File.separator + &quot;output.dat&quot;);\n        \n            //Instantiate first Foo and initialize it with 100 random Bars.\n            Foo f1 = new Foo();\n            Random rnd = new Random(1);\n            for (int i = 0; i &lt; 100; i++) {\n                f1.addBar((byte)(-128 + rnd.nextInt(256)));\n            }\n            //Save the first Foo.\n            f1.save(file);\n        \n            //Load a new Foo instance from the saved data and compare it to the original Foo (f1).\n            Foo.load(file, f1, n);\n        \n        }\n        System.out.println(&quot;SUCCESS&quot;);\n    }\n\n    //This is just to obtain the directory this app is in, to put the output.dat file in.\n    static File applicationDirectory(Class&lt;?&gt; main_class) {\n        File dir = null;\n        try {\n            dir = new File(main_class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath()).getParentFile();\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n        return dir;\n    }\n\n}\n</code></pre>\n<p>Then Foo.java</p>\n<pre><code>package bytechecktest;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.DataInput;\nimport java.io.DataInputStream;\nimport java.io.DataOutput;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nclass Foo {\n\n    class Bar {\n    \n        byte value;\n        Bar sub;\n        \n        Bar(byte value) {\n            this.value = value;\n            if (isSet()) {\n                sub = new Bar((byte)0);\n            } else {\n                sub = null;\n            }\n        }\n        \n        Bar(DataInput in) throws IOException {\n            value = in.readByte();\n            if (isSet()) {\n                sub = new Bar(in);\n            } else {\n                sub = null;\n            }\n        }\n        \n        void write(DataOutput out) throws IOException {\n            out.writeByte(value);\n            if (isSet()) {\n                sub.write(out);\n            }\n        }\n        \n        boolean isSet() {\n            return Util.get(value, 7);\n        }\n        \n        void compare(String pre, Bar orig) {\n            if (value != orig.value) {\n                throw new RuntimeException(&quot;FAILED: &quot; + pre + &quot; &quot; + value + &quot;=&quot; + orig.value);\n            }\n            if (isSet()) {\n                sub.compare(pre + &quot;.sub&quot;, orig.sub);\n            }\n        }\n    }\n\n    List&lt;Bar&gt; bars;\n    \n    Foo() {\n        bars = new ArrayList&lt;&gt;();\n    }\n    \n    Foo(DataInput in, Foo orig, int run) throws IOException {\n        this();\n        int n = in.readInt();\n        if (orig.bars.size() != n) {\n            throw new RuntimeException(&quot;FAILED: run&quot; + run + &quot; Loading Foo bars.size=&quot; + n + &quot; orig.bars.size=&quot; + orig.bars.size());\n        }\n        for (int i = 0; i &lt; n; i++) {\n            Bar b = new Bar(in);\n            b.compare(&quot;run&quot; + run + &quot;.bar[&quot; + i + &quot;]&quot;, orig.bars.get(i));\n            bars.add(b);\n        }\n    }\n\n    void write(DataOutput out) throws IOException {\n        out.writeInt(bars.size());\n        for (Bar b : bars) {\n            b.write(out);\n        }\n    }\n    \n    void save(File f) {\n        try {\n            if (f.exists()) {\n                f.delete();\n            }\n            DataOutputStream out = null;\n            try {\n                out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(f)));\n                write(out);\n            } finally {\n                if (out != null) {\n                    out.close();\n                }\n            }   \n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    \n    static Foo load(File f, Foo orig, int run) {\n        Foo foo;\n        try {\n            DataInputStream in = null;\n            try {\n                in = new DataInputStream(new BufferedInputStream(new FileInputStream(f)));\n                foo = new Foo(in, orig, run);\n            } finally {\n                if (in != null) {\n                    in.close();\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        return foo;\n    }\n    \n    void addBar(byte v) {\n        bars.add(new Bar(v));\n    }\n\n}\n</code></pre>\n<p>Last, Util.java:</p>\n<pre><code>package bytechecktest;\n\npublic class Util {\n\n    public static boolean get(byte b, int bit) {\n        return (b &amp; (1 &lt;&lt; bit)) &gt; 0; //Changing '&gt;' here to '!=' makes the test succeed.\n    }\n    \n}\n</code></pre>\n<p>ByteCheckTest.java runs the exact same test for the exact same values, 100 times. For me, on openJDK 12.0.2, this fails at some run of the test (with me not immediately the first run but iteration 55 for example).</p>\n<p>But if I change the greater-than operator in <code>Util.get(byte, int)</code> for <code>!=</code> then the test runs fine the full 100 times.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":9,"creation_date":1487848641,"post_id":42414172,"comment_id":71973836,"body_markdown":"Possible duplicate of [Convert between LocalDate and sql.Date](http://stackoverflow.com/questions/29750861/convert-between-localdate-and-sql-date)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29750861/convert-between-localdate-and-sql-date\">Convert between LocalDate and sql.Date</a>"},{"owner":{"account_id":8048500,"reputation":1223,"user_id":6067935,"accept_rate":75,"display_name":"Ferre12"},"score":5,"creation_date":1487849020,"post_id":42414172,"comment_id":71974118,"body_markdown":"I already looked at that question. But I&#39;m trying to convert an sql.Date to a LocalDateTime and not a LocalDate.","body":"I already looked at that question. But I&#39;m trying to convert an sql.Date to a LocalDateTime and not a LocalDate."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1487849141,"post_id":42414172,"comment_id":71974193,"body_markdown":"Then the answer linked by @nobody can help (duplicate): [Converting between java.time.LocalDateTime and java.util.Date](http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date). `java.sql.Date` is a subclass of `java.util.Date`, so you can cast it.","body":"Then the answer linked by @nobody can help (duplicate): <a href=\"http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date\">Converting between java.time.LocalDateTime and java.util.Date</a>. <code>java.sql.Date</code> is a subclass of <code>java.util.Date</code>, so you can cast it."}],"answers":[{"tags":[],"owner":{"account_id":8048500,"reputation":1223,"user_id":6067935,"accept_rate":75,"display_name":"Ferre12"},"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1634838843,"creation_date":1487850112,"answer_id":42414802,"question_id":42414172,"body_markdown":"It was actually easier than I thought. \r\nThis worked for me:\r\n              \r\n    //java.sql.ResultSet result\r\n    result.getTimestamp(&quot;value&quot;).toLocalDateTime()","title":"Convert java.sql.date to java.time.LocalDateTime","body":"<p>It was actually easier than I thought.\nThis worked for me:</p>\n<pre><code>//java.sql.ResultSet result\nresult.getTimestamp(&quot;value&quot;).toLocalDateTime()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8982326,"reputation":1004,"user_id":6697093,"accept_rate":100,"display_name":"Julio Villane"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1493934617,"creation_date":1493934617,"answer_id":43793338,"question_id":42414172,"body_markdown":"If you are using Java 8 and Hibernate 5 there is no need of converting from/to java.sql.Date, only trust on Java&#39;s magic.\r\n\r\nThe dependency you need to use is:\r\n\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n\t  &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn case you are using spring-boot there is no need to declare any extra dependency.\r\n\r\nIf you are using a previous version of Java the recommendation is to define a Converter like this one:\r\n\r\n    @Converter(autoApply = true)\r\n    public class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n\t\r\n      @Override\r\n      public Date convertToDatabaseColumn(LocalDate locDate) {\r\n    \treturn (locDate == null ? null : Date.valueOf(locDate));\r\n      }\r\n\r\n      @Override\r\n      public LocalDate convertToEntityAttribute(Date sqlDate) {\r\n    \treturn (sqlDate == null ? null : sqlDate.toLocalDate());\r\n      }\r\n    }\r\n\r\nYou can found more about the use of LocalDateTime in Java 8 in this [link][1], and more about this kind of converters on this [link][2].\r\n\r\n\r\n  [1]: http://www.thoughts-on-java.org/hibernate-5-date-and-time/\r\n  [2]: http://www.thoughts-on-java.org/persist-localdate-localdatetime-jpa/","title":"Convert java.sql.date to java.time.LocalDateTime","body":"<p>If you are using Java 8 and Hibernate 5 there is no need of converting from/to java.sql.Date, only trust on Java's magic.</p>\n\n<p>The dependency you need to use is:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n  &lt;version&gt;5.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In case you are using spring-boot there is no need to declare any extra dependency.</p>\n\n<p>If you are using a previous version of Java the recommendation is to define a Converter like this one:</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n  @Override\n  public Date convertToDatabaseColumn(LocalDate locDate) {\n    return (locDate == null ? null : Date.valueOf(locDate));\n  }\n\n  @Override\n  public LocalDate convertToEntityAttribute(Date sqlDate) {\n    return (sqlDate == null ? null : sqlDate.toLocalDate());\n  }\n}\n</code></pre>\n\n<p>You can found more about the use of LocalDateTime in Java 8 in this <a href=\"http://www.thoughts-on-java.org/hibernate-5-date-and-time/\" rel=\"nofollow noreferrer\">link</a>, and more about this kind of converters on this <a href=\"http://www.thoughts-on-java.org/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":5447978,"reputation":1632,"user_id":4333811,"accept_rate":75,"display_name":"Alex Misiulia"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585899843,"creation_date":1585899843,"answer_id":61007201,"question_id":42414172,"body_markdown":"Working method:\r\n\r\n    public LocalDate convertToLocalDateViaMilisecond(Date dateToConvert) {\r\n        return Instant.ofEpochMilli(dateToConvert.getTime())\r\n          .atZone(ZoneId.systemDefault())\r\n          .toLocalDate();\r\n    }\r\n\r\nNon-working build for java.sql.Date (because it throws UnsupportedOperationException for instant() method):\r\n\r\n    public LocalDate convertToLocalDateViaInstant(Date dateToConvert) {\r\n        return dateToConvert.toInstant()\r\n          .atZone(ZoneId.systemDefault())\r\n          .toLocalDate();\r\n    }\r\n\r\nCredits to [baeldung][1] for this answer on his site:\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-date-to-localdate-and-localdatetime\r\n","title":"Convert java.sql.date to java.time.LocalDateTime","body":"<p>Working method:</p>\n\n<pre><code>public LocalDate convertToLocalDateViaMilisecond(Date dateToConvert) {\n    return Instant.ofEpochMilli(dateToConvert.getTime())\n      .atZone(ZoneId.systemDefault())\n      .toLocalDate();\n}\n</code></pre>\n\n<p>Non-working build for java.sql.Date (because it throws UnsupportedOperationException for instant() method):</p>\n\n<pre><code>public LocalDate convertToLocalDateViaInstant(Date dateToConvert) {\n    return dateToConvert.toInstant()\n      .atZone(ZoneId.systemDefault())\n      .toLocalDate();\n}\n</code></pre>\n\n<p>Credits to <a href=\"https://www.baeldung.com/java-date-to-localdate-and-localdatetime\" rel=\"nofollow noreferrer\">baeldung</a> for this answer on his site:</p>\n"},{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586939156,"creation_date":1586939156,"answer_id":61224401,"question_id":42414172,"body_markdown":"A possible way is to first convert it to java.time.LocalDate and then to java.time.LocalDateTime\r\n\r\n    sqlDate.toLocalDate().atStartOfDay()\r\n\r\nAlso you can specify a specific time using atTime() function\r\n\r\n    sqlDate.toLocalDate().atStartOfDay(hour, miniute, second)","title":"Convert java.sql.date to java.time.LocalDateTime","body":"<p>A possible way is to first convert it to java.time.LocalDate and then to java.time.LocalDateTime</p>\n\n<pre><code>sqlDate.toLocalDate().atStartOfDay()\n</code></pre>\n\n<p>Also you can specify a specific time using atTime() function</p>\n\n<pre><code>sqlDate.toLocalDate().atStartOfDay(hour, miniute, second)\n</code></pre>\n"}],"owner":{"account_id":8048500,"reputation":1223,"user_id":6067935,"accept_rate":75,"display_name":"Ferre12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37217,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":42414802,"answer_count":4,"score":38,"last_activity_date":1634838843,"creation_date":1487848484,"question_id":42414172,"body_markdown":"How do I convert a `java.sql.Date` returned from a JDBC database to a `java.time.LocalDateTime`?","title":"Convert java.sql.date to java.time.LocalDateTime","body":"<p>How do I convert a <code>java.sql.Date</code> returned from a JDBC database to a <code>java.time.LocalDateTime</code>?</p>\n"},{"tags":["java","eclipse","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1623157082,"creation_date":1442619293,"answer_id":32662544,"question_id":32662480,"body_markdown":"It is &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;←&lt;/kbd&gt; and &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;→&lt;/kbd&gt;. See [this help page](https://www.jetbrains.com/idea/help/navigating-to-navigated-items.html).","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>It is <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>←</kbd> and <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>→</kbd>. See <a href=\"https://www.jetbrains.com/idea/help/navigating-to-navigated-items.html\" rel=\"noreferrer\">this help page</a>.</p>\n"},{"tags":[],"owner":{"account_id":3392533,"reputation":165,"user_id":2847059,"display_name":"Mahboob Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512744537,"creation_date":1512744537,"answer_id":47716688,"question_id":32662480,"body_markdown":"I would suggest just go and select eclipse shortcuts option instead of default provided by IntelliJ idea ide","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>I would suggest just go and select eclipse shortcuts option instead of default provided by IntelliJ idea ide</p>\n"},{"tags":[],"owner":{"account_id":3830361,"reputation":406,"user_id":3176056,"accept_rate":67,"display_name":"Hashim Otto"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1624773475,"creation_date":1516592626,"answer_id":48374383,"question_id":32662480,"body_markdown":"I confirmed it&#39;s &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;←&lt;/kbd&gt;(&lt;kbd&gt;→&lt;/kbd&gt;) on Mac OS X.&lt;br&gt;\r\nCommand + Option + Left(Right)&lt;br&gt;\r\n&lt;br&gt;\r\nJust for additional information.","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>I confirmed it's <kbd>⌘</kbd>+<kbd>⌥</kbd>+<kbd>←</kbd>(<kbd>→</kbd>) on Mac OS X.<br>\nCommand + Option + Left(Right)<br>\n<br>\nJust for additional information.</p>\n"},{"tags":[],"owner":{"account_id":2410600,"reputation":417,"user_id":2105750,"accept_rate":0,"display_name":"krionz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623159403,"creation_date":1595300454,"answer_id":63006703,"question_id":32662480,"body_markdown":"Well, I&#39;m using Ubuntu 18.04 and Intellij IDEA Community Edition 2020.1.3 and i could only make the navigation work by using: &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;←&lt;/kbd&gt; or &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;→&lt;/kbd&gt;","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>Well, I'm using Ubuntu 18.04 and Intellij IDEA Community Edition 2020.1.3 and i could only make the navigation work by using: <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>←</kbd> or <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>→</kbd></p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623159395,"creation_date":1623121930,"answer_id":67880937,"question_id":32662480,"body_markdown":"I got this from IntelliJ site, I&#39;m sure it will be helpful: \r\n\r\nTo navigate backwards, press &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;[&lt;/kbd&gt;. To navigate forward, press &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;]&lt;/kbd&gt;.\r\n\r\nTo navigate to the last edited location, press &lt;kbd&gt;⇧&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;⌫&lt;/kbd&gt;.\r\n\r\nTo find the current caret location in the editor, press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;M&lt;/kbd&gt;. This action might be helpful if you do not want to scroll through a large file.\r\n\r\nHowever, you can press the &lt;kbd&gt;↑&lt;/kbd&gt; and &lt;kbd&gt;↓&lt;/kbd&gt; arrow keys to achieve the same result.\r\n\r\nTo highlight a word at the caret you are trying to locate, select Edit | Find | Next Occurrence of the Word at Caret from the main menu.\r\n\r\nTo see on what element the caret is currently positioned, press &lt;kbd&gt;⌃&lt;/kbd&gt;+&lt;kbd&gt;⇧&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;.\r\n\r\nTo move caret between matching code block braces, press &lt;kbd&gt;⌃&lt;/kbd&gt;+&lt;kbd&gt;M&lt;/kbd&gt;.\r\n\r\nTo navigate between code blocks, press &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;[&lt;/kbd&gt; or &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;]&lt;/kbd&gt;.","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>I got this from IntelliJ site, I'm sure it will be helpful:</p>\n<p>To navigate backwards, press <kbd>⌘</kbd>+<kbd>[</kbd>. To navigate forward, press <kbd>⌘</kbd>+<kbd>]</kbd>.</p>\n<p>To navigate to the last edited location, press <kbd>⇧</kbd>+<kbd>⌘</kbd>+<kbd>⌫</kbd>.</p>\n<p>To find the current caret location in the editor, press <kbd>Ctrl</kbd>+<kbd>M</kbd>. This action might be helpful if you do not want to scroll through a large file.</p>\n<p>However, you can press the <kbd>↑</kbd> and <kbd>↓</kbd> arrow keys to achieve the same result.</p>\n<p>To highlight a word at the caret you are trying to locate, select Edit | Find | Next Occurrence of the Word at Caret from the main menu.</p>\n<p>To see on what element the caret is currently positioned, press <kbd>⌃</kbd>+<kbd>⇧</kbd>+<kbd>Q</kbd>.</p>\n<p>To move caret between matching code block braces, press <kbd>⌃</kbd>+<kbd>M</kbd>.</p>\n<p>To navigate between code blocks, press <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>[</kbd> or <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>]</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":7574460,"reputation":59,"user_id":5747257,"display_name":"Rohit Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634838777,"creation_date":1634838777,"answer_id":69666660,"question_id":32662480,"body_markdown":"We can also change default shortcuts option to eclipse shortcuts option -\r\nFile -&gt; Settings -&gt; Keymap -&gt; select Eclipse in the dropdown.","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>We can also change default shortcuts option to eclipse shortcuts option -\nFile -&gt; Settings -&gt; Keymap -&gt; select Eclipse in the dropdown.</p>\n"}],"owner":{"account_id":6978426,"reputation":319,"user_id":5352346,"display_name":"Steven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14755,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":6,"score":30,"last_activity_date":1634838777,"creation_date":1442618874,"question_id":32662480,"body_markdown":"In Eclipse you can use &lt;kbd&gt;alt&lt;/kbd&gt;+&lt;kbd&gt;&lt;-&lt;/kbd&gt; or &lt;kbd&gt;-&gt;&lt;/kbd&gt; to move between places you were. What is the equivalent in Intellij?","title":"What&#39;s the equivalent of Alt-left/right arrow key like Eclipse in IntelilJ?","body":"<p>In Eclipse you can use <kbd>alt</kbd>+<kbd>&lt;-</kbd> or <kbd>-></kbd> to move between places you were. What is the equivalent in Intellij?</p>\n"},{"tags":["java","exception","servlets"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1634769625,"post_id":69653418,"comment_id":123118170,"body_markdown":"Neither. It&#39;s an information leak to an attacker. Just let the servlet container return HTTP 500 and let the server guys check the logs to see what it meant. It&#39;s none of the client&#39;s business.","body":"Neither. It&#39;s an information leak to an attacker. Just let the servlet container return HTTP 500 and let the server guys check the logs to see what it meant. It&#39;s none of the client&#39;s business."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634774345,"post_id":69653418,"comment_id":123119102,"body_markdown":"And you should certainly not write an error-handling servlet. Error paths and pages must be as simple as possible. Consider what happens when you get an error in your error-handling servlet.","body":"And you should certainly not write an error-handling servlet. Error paths and pages must be as simple as possible. Consider what happens when you get an error in your error-handling servlet."}],"answers":[{"tags":[],"owner":{"account_id":8770150,"reputation":90,"user_id":6557264,"display_name":"Alessandro Leo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634838150,"creation_date":1634768607,"answer_id":69653700,"question_id":69653418,"body_markdown":"Option 1. is better but it can be improved.\r\nRemember that if your service is exposed to the Internet anyone can send HTTP requests to it, that&#39;s why you don&#39;t want to disclose the inner workings of your application. You should catch the exceptions that are thrown inside your service method and if any are thrown set a generic error status like 500 and log the details in a file.\r\n\r\nThis is an example\r\n\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\r\n\t\tMessage msg = null;\r\n\t\ttry {\r\n\t\t\tmsg = service.someDo(req.getParameter(&quot;test&quot;));\r\n\t\t\tPrintWriter printWriter = resp.getWriter();\r\n    \t    printWriter.write(msg.getText());\r\n\t\t} catch (ExceptionType e) {\r\n\t\t\tresp.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n    \t\tlogger.error(&quot;Some message&quot;, e);\r\n\t\t}\r\n    }\r\n\r\nIn the frontend fire the HTTP request, read the HTTP response status and show your business page if it&#39;s 200 otherwise just show an error page.\r\n\r\nOption 2. is not good because it creates a redirection and you would have to set-up your HTTP client to follow redirects.","title":"How do to notify the client about errors in Servlet?","body":"<p>Option 1. is better but it can be improved.\nRemember that if your service is exposed to the Internet anyone can send HTTP requests to it, that's why you don't want to disclose the inner workings of your application. You should catch the exceptions that are thrown inside your service method and if any are thrown set a generic error status like 500 and log the details in a file.</p>\n<p>This is an example</p>\n<pre><code>protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n    Message msg = null;\n    try {\n        msg = service.someDo(req.getParameter(&quot;test&quot;));\n        PrintWriter printWriter = resp.getWriter();\n        printWriter.write(msg.getText());\n    } catch (ExceptionType e) {\n        resp.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        logger.error(&quot;Some message&quot;, e);\n    }\n}\n</code></pre>\n<p>In the frontend fire the HTTP request, read the HTTP response status and show your business page if it's 200 otherwise just show an error page.</p>\n<p>Option 2. is not good because it creates a redirection and you would have to set-up your HTTP client to follow redirects.</p>\n"}],"owner":{"account_id":22910996,"reputation":9,"user_id":17048263,"display_name":"stavatar202110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634838150,"creation_date":1634766471,"question_id":69653418,"body_markdown":"I am making an application in Servlet + ReactJS.\r\nAnd the question arose - how exactly to organize the notification of the client about any errors.\r\n\r\nI only see two options:\r\n\r\n 1. In the service layer, catch exceptions (which are thrown manually in the code or inside the \r\n    libraries used) and then return the message and the operation result code to the servlet\r\n\r\nFor example:\r\n\r\nServlet: \r\n  \r\n\r\n      @WebServlet(&quot;/&quot;)\r\n        public class TestServlet extends HttpServlet {\r\n            SomeSerivce service= new SomeSerivce();\r\n            @Override\r\n            protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n                Message msg=service.someDo(req.getParameter(&quot;test&quot;));\r\n                resp.setStatus(msg.getCode());\r\n                PrintWriter printWriter = resp.getWriter();\r\n                printWriter.write(msg.getText());\r\n            }\r\n        }\r\n\r\n  \r\nSome service that checks the type of the get-request parameter\r\n \r\n\r\n    public class SomeSerivce {\r\n        public Message someDo(String param){\r\n            Message msg = new Message();\r\n            try {\r\n                int a = Integer.parseInt(param);\r\n            }catch (IllegalArgumentException e){\r\n                msg.setCode(HttpServletResponse.SC_BAD_REQUEST);\r\n                msg.setText(&quot;some text&quot;);\r\n                return  msg;\r\n            }catch (Exception e){\r\n                msg.setCode(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                msg.setText(&quot;some text&quot;);\r\n                return  msg;\r\n            }\r\n            msg.setCode(HttpServletResponse.SC_OK);\r\n            msg.setText(&quot;some text&quot;);\r\n            return msg;\r\n        }\r\n    }\r\n\r\n \r\n\r\n     public  class Message{\r\n            private int code;\r\n            private String text;\r\n            .........\r\n        }\r\n\r\n \r\n\r\n\r\n\r\n 2. Don&#39;t catch any exceptions and just create separate servlets that will be called when certain \r\n    exceptions are thrown.\r\n\r\nFor example:\r\n\r\nin web.xml\r\n\r\n&gt;      &lt;error-page&gt;\r\n&gt;             &lt;exception-type&gt;java.lang.IllegalArgumentException&lt;/exception-type&gt;\r\n&gt;             &lt;location&gt;/AppExceptionHandler&lt;/location&gt;\r\n&gt;         &lt;/error-page&gt;\r\n\r\n\r\nAnd create a servlet for the path  /AppExceptionHandler\r\n\r\n    @WebServlet(&quot;/AppExceptionHandler&quot;)\r\n    public class AppExceptionHandler extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        protected void doGet(HttpServletRequest request,\r\n                             HttpServletResponse response) throws ServletException, IOException {\r\n             response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n            PrintWriter printWriter = response.getWriter();\r\n            printWriter.write(&quot;Some text&quot;);\r\n            printWriter.close();\r\n        }\r\n        \r\n    }\r\n\r\n\r\nWhich option is better? ","title":"How do to notify the client about errors in Servlet?","body":"<p>I am making an application in Servlet + ReactJS.\nAnd the question arose - how exactly to organize the notification of the client about any errors.</p>\n<p>I only see two options:</p>\n<ol>\n<li>In the service layer, catch exceptions (which are thrown manually in the code or inside the\nlibraries used) and then return the message and the operation result code to the servlet</li>\n</ol>\n<p>For example:</p>\n<p>Servlet:</p>\n<pre><code>  @WebServlet(&quot;/&quot;)\n    public class TestServlet extends HttpServlet {\n        SomeSerivce service= new SomeSerivce();\n        @Override\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n            Message msg=service.someDo(req.getParameter(&quot;test&quot;));\n            resp.setStatus(msg.getCode());\n            PrintWriter printWriter = resp.getWriter();\n            printWriter.write(msg.getText());\n        }\n    }\n</code></pre>\n<p>Some service that checks the type of the get-request parameter</p>\n<pre><code>public class SomeSerivce {\n    public Message someDo(String param){\n        Message msg = new Message();\n        try {\n            int a = Integer.parseInt(param);\n        }catch (IllegalArgumentException e){\n            msg.setCode(HttpServletResponse.SC_BAD_REQUEST);\n            msg.setText(&quot;some text&quot;);\n            return  msg;\n        }catch (Exception e){\n            msg.setCode(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            msg.setText(&quot;some text&quot;);\n            return  msg;\n        }\n        msg.setCode(HttpServletResponse.SC_OK);\n        msg.setText(&quot;some text&quot;);\n        return msg;\n    }\n}\n\n\n\n public  class Message{\n        private int code;\n        private String text;\n        .........\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Don't catch any exceptions and just create separate servlets that will be called when certain\nexceptions are thrown.</li>\n</ol>\n<p>For example:</p>\n<p>in web.xml</p>\n<blockquote>\n<pre><code> &lt;error-page&gt;\n        &lt;exception-type&gt;java.lang.IllegalArgumentException&lt;/exception-type&gt;\n        &lt;location&gt;/AppExceptionHandler&lt;/location&gt;\n    &lt;/error-page&gt;\n</code></pre>\n</blockquote>\n<p>And create a servlet for the path  /AppExceptionHandler</p>\n<pre><code>@WebServlet(&quot;/AppExceptionHandler&quot;)\npublic class AppExceptionHandler extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    protected void doGet(HttpServletRequest request,\n                         HttpServletResponse response) throws ServletException, IOException {\n         response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        PrintWriter printWriter = response.getWriter();\n        printWriter.write(&quot;Some text&quot;);\n        printWriter.close();\n    }\n    \n}\n</code></pre>\n<p>Which option is better?</p>\n"},{"tags":["java","arrays","sum","combinations","equals"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634834119,"post_id":69665217,"comment_id":123139424,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1634834267,"post_id":69665217,"comment_id":123139486,"body_markdown":"Sounds like homework. Please provide what you have done so far, and then ask for advice. Coding is spending a lot of time banging your head to find a solution, then the simple part is implementing the solution.","body":"Sounds like homework. Please provide what you have done so far, and then ask for advice. Coding is spending a lot of time banging your head to find a solution, then the simple part is implementing the solution."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634838062,"creation_date":1634838062,"answer_id":69666503,"question_id":69665217,"body_markdown":"&gt; _Should I make another array to storage sum of any two elements?_\r\n\r\nIf it is required to provide only the number of the pairs equal to the given number, array is not required, simple `if` statement allows to check the condition and increment the counter (and print the pair if needed):\r\n```java\r\nif (a[i] + a[j] == x) {\r\n    pairs++;\r\n    System.out.println(&quot;Found a pair: &quot; + a[i] + &quot; + &quot; + a[j]);\r\n}\r\n```\r\n\r\n&gt; _What kind of method use to get the sum of any two elements in the array?_\r\n\r\nTwo nested loops: \r\n```\r\nfor (int i = 0; i &lt; a.length - 1; i++) {\r\n    for (int j = i + 1; j &lt; a.length; j++) {\r\n//...\r\n    }\r\n}\r\n```\r\n&gt; _How list the number of combinations?_\r\n\r\nThe total number of possible pairs is calculated by the formula of decreasing progression from n - 1 to 1: `S = n * (n - 1) / 2`, so for n = 5 it is `5 * 4 / 2 = 10`.\r\n\r\nThe number of matching pairs is simply counted in the innermost loop.\r\n","title":"Java/ Sum of any two values in an array of numbers","body":"<blockquote>\n<p><em>Should I make another array to storage sum of any two elements?</em></p>\n</blockquote>\n<p>If it is required to provide only the number of the pairs equal to the given number, array is not required, simple <code>if</code> statement allows to check the condition and increment the counter (and print the pair if needed):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a[i] + a[j] == x) {\n    pairs++;\n    System.out.println(&quot;Found a pair: &quot; + a[i] + &quot; + &quot; + a[j]);\n}\n</code></pre>\n<blockquote>\n<p><em>What kind of method use to get the sum of any two elements in the array?</em></p>\n</blockquote>\n<p>Two nested loops:</p>\n<pre><code>for (int i = 0; i &lt; a.length - 1; i++) {\n    for (int j = i + 1; j &lt; a.length; j++) {\n//...\n    }\n}\n</code></pre>\n<blockquote>\n<p><em>How list the number of combinations?</em></p>\n</blockquote>\n<p>The total number of possible pairs is calculated by the formula of decreasing progression from n - 1 to 1: <code>S = n * (n - 1) / 2</code>, so for n = 5 it is <code>5 * 4 / 2 = 10</code>.</p>\n<p>The number of matching pairs is simply counted in the innermost loop.</p>\n"}],"owner":{"account_id":23103652,"reputation":5,"user_id":17212689,"display_name":"sylvtronix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69666503,"answer_count":1,"score":0,"last_activity_date":1634838062,"creation_date":1634832017,"question_id":69665217,"body_markdown":"I have a task:\r\nWrite code that will have an array of valuesTable and givenNumber from integer. The method will list the number of such combinations that the sum of any two\r\nelements in the array equal to the number stored in givenNumber. \r\n\r\nShould I make another array to storage sum of any two elements?\r\nWhat kind of method use to get the sum of any two elements in the array?\r\nHow list the number of combinations?\r\n\r\nI would be very grateful for your help, this is my first steps in Java :)\r\n\r\n    public class NumberOfCombinations {\r\n    public static void main(String[] args) {\r\n\r\n        int[] valuesTable = {1, 2, 3, 4, 5};\r\n        int givenNumber = 3;\r\n        int index=0;\r\n        int sum = 0;\r\n        int n = valuesTable.length;\r\n        for (index = 0; index &lt; n; index++)\r\n            sum = valuesTable[index] + valuesTable[++index];\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n","title":"Java/ Sum of any two values in an array of numbers","body":"<p>I have a task:\nWrite code that will have an array of valuesTable and givenNumber from integer. The method will list the number of such combinations that the sum of any two\nelements in the array equal to the number stored in givenNumber.</p>\n<p>Should I make another array to storage sum of any two elements?\nWhat kind of method use to get the sum of any two elements in the array?\nHow list the number of combinations?</p>\n<p>I would be very grateful for your help, this is my first steps in Java :)</p>\n<pre><code>public class NumberOfCombinations {\npublic static void main(String[] args) {\n\n    int[] valuesTable = {1, 2, 3, 4, 5};\n    int givenNumber = 3;\n    int index=0;\n    int sum = 0;\n    int n = valuesTable.length;\n    for (index = 0; index &lt; n; index++)\n        sum = valuesTable[index] + valuesTable[++index];\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1634796929,"post_id":69656738,"comment_id":123122983,"body_markdown":"Group by again in the downstream and use a reducing collector as the downstream of the second group by.","body":"Group by again in the downstream and use a reducing collector as the downstream of the second group by."},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1634800671,"post_id":69656738,"comment_id":123124286,"body_markdown":"thanks, any ideas on how to join using the BinaryOperator on reducing ?","body":"thanks, any ideas on how to join using the BinaryOperator on reducing ?"},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1634801833,"post_id":69656738,"comment_id":123124771,"body_markdown":"I do not want one list, I still need the map returned","body":"I do not want one list, I still need the map returned"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1634807548,"creation_date":1634804689,"answer_id":69658421,"question_id":69656738,"body_markdown":"There is a 2 argument `groupingBy` method - the second argument is a `Collector` that is applied to the value (a `List`) associated to each key.\r\n\r\nLet&#39;s do it step-by-step.\r\n\r\nAssuming `import static java.util.stream.Collectors.*;`  \r\nand that we have the list:\r\n````\r\nList&lt;Item&gt; list = List.of(\r\n  new Item(&quot;A&quot;, 1, 100, &quot;ABC&quot;),\r\n  new Item(&quot;B&quot;, 2, 200, &quot;ABC&quot;),\r\n  new Item(&quot;A&quot;, 3, 300, &quot;ABC&quot;),\r\n  new Item(&quot;B&quot;, 2, 200, &quot;PQR&quot;),\r\n  new Item(&quot;B&quot;, 2, 200, &quot;PQR&quot;),\r\n  new Item(&quot;A&quot;, 2, 200, &quot;PQR&quot;));\r\n````\r\n\r\n-----\r\n\r\n- First step: group by `txnId` as already in question:\r\n````\r\nlist.stream().collect(groupingBy(Item::txnId))\r\n````\r\nthis will result in a `Map&lt;String,List&lt;Item&gt;&gt;`: \r\n````\r\n{ PQR=[Item[sku=B, quantity=2, amount=200, txnId=PQR], \r\n       Item[sku=B, quantity=2, amount=200, txnId=PQR], \r\n       Item[sku=A, quantity=2, amount=200, txnId=PQR]\r\n      ], \r\n  ABC=[Item[sku=A, quantity=1, amount=100, txnId=ABC], \r\n       Item[sku=B, quantity=2, amount=200, txnId=ABC], \r\n       Item[sku=A, quantity=3, amount=300, txnId=ABC]\r\n      ]\r\n}\r\n````\r\n\r\n-----\r\n\r\n- Second step: group each *internal* list by `sku`:\r\n````\r\nlist\r\n.stream()\r\n.collect(groupingBy(Item::txnId, \r\n                    groupingBy(Item::sku)))\r\n````\r\nresulting in a `Map&lt;String,Map&lt;String,List&lt;Item&gt;&gt;`:\r\n````\r\n{ PQR={ A=[ Item[sku=A, quantity=2, amount=200, txnId=PQR] ], \r\n        B=[ Item[sku=B, quantity=2, amount=200, txnId=PQR], \r\n            Item[sku=B, quantity=2, amount=200, txnId=PQR] ]\r\n      }, \r\n  ABC={ A=[ Item[sku=A, quantity=1, amount=100, txnId=ABC], \r\n            Item[sku=A, quantity=3, amount=300, txnId=ABC] ], \r\n        B=[ Item[sku=B, quantity=2, amount=200, txnId=ABC] ]\r\n      }\r\n}\r\n````\r\n\r\n-----\r\n\r\n- Third step reduce the internal lists, summing the values: \r\n\r\nI will assume we have a `sum` method to sum 2 `Item`s returning a new one, very simplified:\r\n````\r\nItem {\r\n    // fields\r\n    // getters and setters\r\n\r\n    public static Item sum(Item item1, Item item2) {\r\n        return new Item(item2.sku, item1.quantity+item2.qantity, item1.amount+item2.amount, item2.txnId);\r\n    }\r\n}\r\n````\r\n&lt;sup&gt;this could also be defined as a 1-arg non-static method&lt;/sup&gt; \r\n\r\nNow we can use `reducing` to *add* up the elements of the internal list:\r\n````\r\nlist\r\n.stream()\r\n.collect(groupingBy(Item::txnId, \r\n                    groupingBy(Item::sku,\r\n                               reducing(new Item(null, 0, 0, null),\r\n                                        Item::sum))))\r\n```` \r\nfinally resulting in:\r\n````\r\n{ PQR={ A=Item[sku=A, quantity=2, amount=200, txnId=PQR], \r\n        B=Item[sku=B, quantity=4, amount=400, txnId=PQR]\r\n      }, \r\n  ABC={ A=Item[sku=A, quantity=4, amount=400, txnId=ABC], \r\n        B=Item[sku=B, quantity=2, amount=200, txnId=ABC]\r\n      }\r\n}\r\n```` \r\n\r\n-----\r\n-----\r\n\r\nNote1: A Lambda expression may be used instead of the `sum` method for `reducing`:\r\n````\r\n....reducing( new Item(null, 0, 0, null),\r\n              (i1,i2) -&gt; new Item(i2.sku,\r\n                                  i1.quantity+i2.quantity,\r\n                                  i1.amount+i2.amount,\r\n                                  i2.txnId) )\r\n````\r\n\r\nNote2: To convert the inner Maps to a List use `collectingAndThen` with `Map::values` *around* the second `groupingBy`:\r\n````\r\n... collectingAndThen( groupingBy(Item::sku, ...), Map:values ) ...\r\n````","title":"Java Streams, GroupBy and sum quantities similar items in the list?","body":"<p>There is a 2 argument <code>groupingBy</code> method - the second argument is a <code>Collector</code> that is applied to the value (a <code>List</code>) associated to each key.</p>\n<p>Let's do it step-by-step.</p>\n<p>Assuming <code>import static java.util.stream.Collectors.*;</code><br />\nand that we have the list:</p>\n<pre><code>List&lt;Item&gt; list = List.of(\n  new Item(&quot;A&quot;, 1, 100, &quot;ABC&quot;),\n  new Item(&quot;B&quot;, 2, 200, &quot;ABC&quot;),\n  new Item(&quot;A&quot;, 3, 300, &quot;ABC&quot;),\n  new Item(&quot;B&quot;, 2, 200, &quot;PQR&quot;),\n  new Item(&quot;B&quot;, 2, 200, &quot;PQR&quot;),\n  new Item(&quot;A&quot;, 2, 200, &quot;PQR&quot;));\n</code></pre>\n<hr />\n<ul>\n<li>First step: group by <code>txnId</code> as already in question:</li>\n</ul>\n<pre><code>list.stream().collect(groupingBy(Item::txnId))\n</code></pre>\n<p>this will result in a <code>Map&lt;String,List&lt;Item&gt;&gt;</code>:</p>\n<pre><code>{ PQR=[Item[sku=B, quantity=2, amount=200, txnId=PQR], \n       Item[sku=B, quantity=2, amount=200, txnId=PQR], \n       Item[sku=A, quantity=2, amount=200, txnId=PQR]\n      ], \n  ABC=[Item[sku=A, quantity=1, amount=100, txnId=ABC], \n       Item[sku=B, quantity=2, amount=200, txnId=ABC], \n       Item[sku=A, quantity=3, amount=300, txnId=ABC]\n      ]\n}\n</code></pre>\n<hr />\n<ul>\n<li>Second step: group each <em>internal</em> list by <code>sku</code>:</li>\n</ul>\n<pre><code>list\n.stream()\n.collect(groupingBy(Item::txnId, \n                    groupingBy(Item::sku)))\n</code></pre>\n<p>resulting in a <code>Map&lt;String,Map&lt;String,List&lt;Item&gt;&gt;</code>:</p>\n<pre><code>{ PQR={ A=[ Item[sku=A, quantity=2, amount=200, txnId=PQR] ], \n        B=[ Item[sku=B, quantity=2, amount=200, txnId=PQR], \n            Item[sku=B, quantity=2, amount=200, txnId=PQR] ]\n      }, \n  ABC={ A=[ Item[sku=A, quantity=1, amount=100, txnId=ABC], \n            Item[sku=A, quantity=3, amount=300, txnId=ABC] ], \n        B=[ Item[sku=B, quantity=2, amount=200, txnId=ABC] ]\n      }\n}\n</code></pre>\n<hr />\n<ul>\n<li>Third step reduce the internal lists, summing the values:</li>\n</ul>\n<p>I will assume we have a <code>sum</code> method to sum 2 <code>Item</code>s returning a new one, very simplified:</p>\n<pre><code>Item {\n    // fields\n    // getters and setters\n\n    public static Item sum(Item item1, Item item2) {\n        return new Item(item2.sku, item1.quantity+item2.qantity, item1.amount+item2.amount, item2.txnId);\n    }\n}\n</code></pre>\n<p><sup>this could also be defined as a 1-arg non-static method</sup></p>\n<p>Now we can use <code>reducing</code> to <em>add</em> up the elements of the internal list:</p>\n<pre><code>list\n.stream()\n.collect(groupingBy(Item::txnId, \n                    groupingBy(Item::sku,\n                               reducing(new Item(null, 0, 0, null),\n                                        Item::sum))))\n</code></pre>\n<p>finally resulting in:</p>\n<pre><code>{ PQR={ A=Item[sku=A, quantity=2, amount=200, txnId=PQR], \n        B=Item[sku=B, quantity=4, amount=400, txnId=PQR]\n      }, \n  ABC={ A=Item[sku=A, quantity=4, amount=400, txnId=ABC], \n        B=Item[sku=B, quantity=2, amount=200, txnId=ABC]\n      }\n}\n</code></pre>\n<hr />\n<hr />\n<p>Note1: A Lambda expression may be used instead of the <code>sum</code> method for <code>reducing</code>:</p>\n<pre><code>....reducing( new Item(null, 0, 0, null),\n              (i1,i2) -&gt; new Item(i2.sku,\n                                  i1.quantity+i2.quantity,\n                                  i1.amount+i2.amount,\n                                  i2.txnId) )\n</code></pre>\n<p>Note2: To convert the inner Maps to a List use <code>collectingAndThen</code> with <code>Map::values</code> <em>around</em> the second <code>groupingBy</code>:</p>\n<pre><code>... collectingAndThen( groupingBy(Item::sku, ...), Map:values ) ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634837989,"creation_date":1634837989,"answer_id":69666485,"question_id":69656738,"body_markdown":"`toMap` offers a good alternative to merge values in such cases.\r\n\r\nHere&#39;s what another solution looks like:\r\n```java\r\nvar result = itemList.stream().collect(\r\n                    groupingBy(Item::getTxnId,\r\n                    collectingAndThen(toMap(Item::getSku, i -&gt; i, Item::sum), \r\n                                      Map::values)));\r\n\r\n// where Item::sum is a reference to a static method in class Item\r\nstatic Item sum(Item i1, Item i2) {\r\n    return  new Item(i1.getSku(),\r\n            i1.getQuantity() + i2.getQuantity(),\r\n            i1.getAmount() + i2.getAmount(),\r\n            i1.getTxnId());\r\n}\r\n\r\n```\r\n\r\nUnlike `groupingBy` (which takes a `Function` and then a `Collector`), `collectingAndThen` takes a collector (here, it&#39;s `toMap`) and then takes a `Function` (here, `Map::values`) that works on the result of the collector.\r\n","title":"Java Streams, GroupBy and sum quantities similar items in the list?","body":"<p><code>toMap</code> offers a good alternative to merge values in such cases.</p>\n<p>Here's what another solution looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var result = itemList.stream().collect(\n                    groupingBy(Item::getTxnId,\n                    collectingAndThen(toMap(Item::getSku, i -&gt; i, Item::sum), \n                                      Map::values)));\n\n// where Item::sum is a reference to a static method in class Item\nstatic Item sum(Item i1, Item i2) {\n    return  new Item(i1.getSku(),\n            i1.getQuantity() + i2.getQuantity(),\n            i1.getAmount() + i2.getAmount(),\n            i1.getTxnId());\n}\n\n</code></pre>\n<p>Unlike <code>groupingBy</code> (which takes a <code>Function</code> and then a <code>Collector</code>), <code>collectingAndThen</code> takes a collector (here, it's <code>toMap</code>) and then takes a <code>Function</code> (here, <code>Map::values</code>) that works on the result of the collector.</p>\n"}],"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634837989,"creation_date":1634796836,"question_id":69656738,"body_markdown":"I have a class something like this \r\n\r\n    public class Item {\r\n        private String sku;\r\n        private int quantity;\r\n        private int amount;\r\n        private String txnId;\r\n    }\r\n\r\nI have a list of these items and I want to fist group the items by txnId and then if the SKU of the 2 items are same I need add the quantity and the amount fields?\r\n\r\n    Item[&quot;productA&quot;,1,100,&quot;ABC&quot;] \r\n    Item[&quot;productB&quot;,2,200,&quot;ABC&quot;]\r\n    Item[&quot;productA&quot;,3,200,&quot;ABC&quot;]\r\n    \r\n    Item[&quot;productB&quot;,2,200,&quot;PQR&quot;]\r\n    Item[&quot;productB&quot;,2,200,&quot;PQR&quot;]\r\n    Item[&quot;productA&quot;,2,200,&quot;PQR&quot;]\r\n\r\nat the end I should be having \r\n\r\n   \r\n\r\n    MAP[&quot;ABC&quot;,List&lt;Item[&quot;productA&quot;,4,300,&quot;ABC&quot;],Item[&quot;productB&quot;,2,200,&quot;ABC&quot;],\r\n       &quot;PQR&quot;,List&lt;Item[&quot;productB&quot;,4,400,&quot;PQR&quot;],Item[&quot;productA&quot;,2,200,&quot;PQR&quot;]\r\n\r\nI am able to group by the txnID\r\n\r\n`list.stream().collect(Collectors.groupingBy(txnID)` but I am not sure how I should check for the same SKU and if exists add the amount and quantity and get the map output. \r\n","title":"Java Streams, GroupBy and sum quantities similar items in the list?","body":"<p>I have a class something like this</p>\n<pre><code>public class Item {\n    private String sku;\n    private int quantity;\n    private int amount;\n    private String txnId;\n}\n</code></pre>\n<p>I have a list of these items and I want to fist group the items by txnId and then if the SKU of the 2 items are same I need add the quantity and the amount fields?</p>\n<pre><code>Item[&quot;productA&quot;,1,100,&quot;ABC&quot;] \nItem[&quot;productB&quot;,2,200,&quot;ABC&quot;]\nItem[&quot;productA&quot;,3,200,&quot;ABC&quot;]\n\nItem[&quot;productB&quot;,2,200,&quot;PQR&quot;]\nItem[&quot;productB&quot;,2,200,&quot;PQR&quot;]\nItem[&quot;productA&quot;,2,200,&quot;PQR&quot;]\n</code></pre>\n<p>at the end I should be having</p>\n<pre><code>MAP[&quot;ABC&quot;,List&lt;Item[&quot;productA&quot;,4,300,&quot;ABC&quot;],Item[&quot;productB&quot;,2,200,&quot;ABC&quot;],\n   &quot;PQR&quot;,List&lt;Item[&quot;productB&quot;,4,400,&quot;PQR&quot;],Item[&quot;productA&quot;,2,200,&quot;PQR&quot;]\n</code></pre>\n<p>I am able to group by the txnID</p>\n<p><code>list.stream().collect(Collectors.groupingBy(txnID)</code> but I am not sure how I should check for the same SKU and if exists add the amount and quantity and get the map output.</p>\n"},{"tags":["java","micronaut","mongodb-java","mongodb-java-3.3.0","mongodb-java-3.8"],"answers":[{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634837908,"creation_date":1634837908,"answer_id":69666462,"question_id":69665532,"body_markdown":"    .applyConnectionString(new ConnectionString(mongodbConfiguration.uri()))","title":"How to Set the URI for the ClusterSettings with codec in mongodb java driver","body":"<pre><code>.applyConnectionString(new ConnectionString(mongodbConfiguration.uri()))\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634837908,"creation_date":1634833332,"question_id":69665532,"body_markdown":"I am using the codec for the serialization and deserialization of POJO using 4.3/driver-reactive http://mongodb.github.io/mongo-java-driver/4.3/driver-reactive/getting-started/quick-start-pojo/ \r\n\r\n\r\n    @Singleton\r\n    public record Repository(MongodbConfiguration mongodbConfiguration) implements IRepository {\r\n        @Override\r\n        public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\r\n            // create codec registry for POJOs\r\n            CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n            CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n    \r\n            MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                    .applyToClusterSettings() // need to set the URI\r\n                    .codecRegistry(codecRegistry)\r\n                    .addCommandListener(new MongoCommand())\r\n                    .build();\r\n            MongoClient mongoClient = MongoClients.create(clientSettings);\r\n    \r\n            return mongoClient\r\n                    .getDatabase(mongodbConfiguration.database())\r\n                    .getCollection(collectionName, typeParameterClass);\r\n        }\r\n    }\r\n\r\nTrying to set `applyToClusterSettings`, but quite not sure how can I set the MongoDB URI","title":"How to Set the URI for the ClusterSettings with codec in mongodb java driver","body":"<p>I am using the codec for the serialization and deserialization of POJO using 4.3/driver-reactive <a href=\"http://mongodb.github.io/mongo-java-driver/4.3/driver-reactive/getting-started/quick-start-pojo/\" rel=\"nofollow noreferrer\">http://mongodb.github.io/mongo-java-driver/4.3/driver-reactive/getting-started/quick-start-pojo/</a></p>\n<pre><code>@Singleton\npublic record Repository(MongodbConfiguration mongodbConfiguration) implements IRepository {\n    @Override\n    public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\n        // create codec registry for POJOs\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\n                .applyToClusterSettings() // need to set the URI\n                .codecRegistry(codecRegistry)\n                .addCommandListener(new MongoCommand())\n                .build();\n        MongoClient mongoClient = MongoClients.create(clientSettings);\n\n        return mongoClient\n                .getDatabase(mongodbConfiguration.database())\n                .getCollection(collectionName, typeParameterClass);\n    }\n}\n</code></pre>\n<p>Trying to set <code>applyToClusterSettings</code>, but quite not sure how can I set the MongoDB URI</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","netflix-ribbon"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":4,"creation_date":1634761858,"post_id":69652524,"comment_id":123115967,"body_markdown":"Spring Cloud 2020.0.x removed support for ribbon. You need to upgrade to spring cloud loadbalancer.","body":"Spring Cloud 2020.0.x removed support for ribbon. You need to upgrade to spring cloud loadbalancer."},{"owner":{"account_id":2934478,"reputation":681,"user_id":2513788,"accept_rate":29,"display_name":"Nayeem"},"score":0,"creation_date":1634763159,"post_id":69652524,"comment_id":123116432,"body_markdown":"Is Feign client/Resttemplate supported with Spring Cloud 2020.0.x for making rest calls?","body":"Is Feign client/Resttemplate supported with Spring Cloud 2020.0.x for making rest calls?"},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":2,"creation_date":1634828052,"post_id":69652524,"comment_id":123136478,"body_markdown":"It is, but with Spring Cloud LoadBalancer used for load-balancing requests and not Ribbon.","body":"It is, but with Spring Cloud LoadBalancer used for load-balancing requests and not Ribbon."},{"owner":{"account_id":2934478,"reputation":681,"user_id":2513788,"accept_rate":29,"display_name":"Nayeem"},"score":0,"creation_date":1634837924,"post_id":69652524,"comment_id":123140857,"body_markdown":"@OlgaMaciaszek Is there any limitation on the type of NIWSServerListClassName that can be used with Spring Cloud Loadbalancer? Works with DiscoveryEnabledNIWSServerList but not with ConfigurationBasedServerList.","body":"@OlgaMaciaszek Is there any limitation on the type of NIWSServerListClassName that can be used with Spring Cloud Loadbalancer? Works with DiscoveryEnabledNIWSServerList but not with ConfigurationBasedServerList."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1634999240,"post_id":69652524,"comment_id":123180418,"body_markdown":"Those are from ribbon and therefore not supported anymore","body":"Those are from ribbon and therefore not supported anymore"},{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":1,"creation_date":1649499769,"post_id":69652524,"comment_id":126894600,"body_markdown":"Is there any reference documentation for Spring Cloud Loadbalancer? I can&#39;t find except for blog posts showing usage examples. I would like to read about all available parameters of Spring Cloud Loadbalancer.","body":"Is there any reference documentation for Spring Cloud Loadbalancer? I can&#39;t find except for blog posts showing usage examples. I would like to read about all available parameters of Spring Cloud Loadbalancer."},{"owner":{"account_id":2934478,"reputation":681,"user_id":2513788,"accept_rate":29,"display_name":"Nayeem"},"score":0,"creation_date":1650228132,"post_id":69652524,"comment_id":127061887,"body_markdown":"You can take a look at these\n\nhttps://www.baeldung.com/spring-cloud-load-balancer\n\nhttps://piotrminkowski.com/2020/05/13/a-deep-dive-into-spring-cloud-load-balancer/","body":"You can take a look at these  <a href=\"https://www.baeldung.com/spring-cloud-load-balancer\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-load-balancer</a>  <a href=\"https://piotrminkowski.com/2020/05/13/a-deep-dive-into-spring-cloud-load-balancer/\" rel=\"nofollow noreferrer\">piotrminkowski.com/2020/05/13/&hellip;</a>"}],"owner":{"account_id":2934478,"reputation":681,"user_id":2513788,"accept_rate":29,"display_name":"Nayeem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634837894,"creation_date":1634761090,"question_id":69652524,"body_markdown":"\r\nWhile trying to upgrade from Spring boot 2.0.3 to 2.5.4, there&#39;s an issue with the ```RibbonLoadBalancerClient``` class from the ```spring-cloud-netflix-ribbon``` dependency which implements the  ```ServiceInstanceChooser``` interface  from spring-cloud-commons-3.0.3.jar.\r\n\r\nWhat is the right version of the ```spring-cloud-netflix-ribbon```  to use with this configuration? \r\nI dont see 3.0.3 version of the netflix depndencies available.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m getting above exception while running the app due to conflict of the dependencies.\r\n\r\n Dependencies after the upgrade.\r\n --------------------------------------------- \r\n| Dependency                   | Version       |\r\n| --------------------------   | ------------  |\r\n| Srping Cloud                 | 2020.0.3      |\r\n| Spring Boot                  | 2.5.4         |\r\n| netflix-ribbon               | 2.2.9.RELEASE |\r\n| netflix-zuul                 | 2.2.9.RELEASE |\r\n| netflix-core                 | 2.2.9.RELEASE |\r\n| netflix-eureka-client        | 3.0.3         |\r\n| Spring Cloud Commons         | 3.0.3         |\r\n --------------- -------------- ---------------\r\n\r\n\r\n Dependencies before the upgrade.\r\n --------------------------------------------- \r\n| Dependency                   | Version      |\r\n| --------------------------   | ------------ |\r\n| Srping Cloud                 | Finchley.M9  |\r\n| Spring Boot                  | 2.0.3.RELEASE|\r\n| netflix-ribbon               | 2.0.0.M8     |\r\n| netflix-zuul                 | 2.0.0.M8     |\r\n| netflix-core                 | 2.0.0.M8     |\r\n| netflix-eureka-client        | 2.0.0.M8     |\r\n --------------- -------------- ---------------\r\n\r\nI see below issue reported on github, but the right versions of dependencies were not mentioned.\r\n\r\nhttps://github.com/seata/seata/issues/3492\r\n\r\n  [1]: https://i.stack.imgur.com/iJrEQ.png\r\n\r\n\r\nEDIT\r\n----\r\n\r\nAfter disabling the ribbon loadbalancer using ```spring.cloud.loadbalancer.ribbon.enabled: false``` in application.yaml rest api Calls are working for\r\n\r\n```\r\nNIWSServerListClassName: \r\ncom.netflix.niws.loadbalancer.DiscoveryEnabledNIWSServerList\r\n    ServerListRefreshInterval: 1000\r\n```\r\n\r\nBut not working for \r\n\r\n```\r\nNIWSServerListClassName: \r\n\r\ncom.netflix.loadbalancer.ConfigurationBasedServerList\r\n    listOfServers: gateway-servicelist.com:443\r\n```\r\n\r\nIs there any limitation on the type of NIWSServerListClassName that can be used with Spring Cloud Loadbalancer.","title":"Spring boot 2.5.4 / Spring cloud 2020.0.3 netflix ribbon conflict","body":"<p>While trying to upgrade from Spring boot 2.0.3 to 2.5.4, there's an issue with the <code>RibbonLoadBalancerClient</code> class from the <code>spring-cloud-netflix-ribbon</code> dependency which implements the  <code>ServiceInstanceChooser</code> interface  from spring-cloud-commons-3.0.3.jar.</p>\n<p>What is the right version of the <code>spring-cloud-netflix-ribbon</code>  to use with this configuration?\nI dont see 3.0.3 version of the netflix depndencies available.</p>\n<p><a href=\"https://i.stack.imgur.com/iJrEQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iJrEQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm getting above exception while running the app due to conflict of the dependencies.</p>\n<h2>Dependencies after the upgrade.</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Dependency</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Srping Cloud</td>\n<td>2020.0.3</td>\n</tr>\n<tr>\n<td>Spring Boot</td>\n<td>2.5.4</td>\n</tr>\n<tr>\n<td>netflix-ribbon</td>\n<td>2.2.9.RELEASE</td>\n</tr>\n<tr>\n<td>netflix-zuul</td>\n<td>2.2.9.RELEASE</td>\n</tr>\n<tr>\n<td>netflix-core</td>\n<td>2.2.9.RELEASE</td>\n</tr>\n<tr>\n<td>netflix-eureka-client</td>\n<td>3.0.3</td>\n</tr>\n<tr>\n<td>Spring Cloud Commons</td>\n<td>3.0.3</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<h2>Dependencies before the upgrade.</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Dependency</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Srping Cloud</td>\n<td>Finchley.M9</td>\n</tr>\n<tr>\n<td>Spring Boot</td>\n<td>2.0.3.RELEASE</td>\n</tr>\n<tr>\n<td>netflix-ribbon</td>\n<td>2.0.0.M8</td>\n</tr>\n<tr>\n<td>netflix-zuul</td>\n<td>2.0.0.M8</td>\n</tr>\n<tr>\n<td>netflix-core</td>\n<td>2.0.0.M8</td>\n</tr>\n<tr>\n<td>netflix-eureka-client</td>\n<td>2.0.0.M8</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>I see below issue reported on github, but the right versions of dependencies were not mentioned.</p>\n<p><a href=\"https://github.com/seata/seata/issues/3492\" rel=\"nofollow noreferrer\">https://github.com/seata/seata/issues/3492</a></p>\n<h2>EDIT</h2>\n<p>After disabling the ribbon loadbalancer using <code>spring.cloud.loadbalancer.ribbon.enabled: false</code> in application.yaml rest api Calls are working for</p>\n<pre><code>NIWSServerListClassName: \ncom.netflix.niws.loadbalancer.DiscoveryEnabledNIWSServerList\n    ServerListRefreshInterval: 1000\n</code></pre>\n<p>But not working for</p>\n<pre><code>NIWSServerListClassName: \n\ncom.netflix.loadbalancer.ConfigurationBasedServerList\n    listOfServers: gateway-servicelist.com:443\n</code></pre>\n<p>Is there any limitation on the type of NIWSServerListClassName that can be used with Spring Cloud Loadbalancer.</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1634846852,"post_id":69666454,"comment_id":123143861,"body_markdown":"It would appear from the diagram that the tenant has a &#39;rented from&#39; date, so presumably you are to set that date by calling the setter on the tenant.","body":"It would appear from the diagram that the tenant has a &#39;rented from&#39; date, so presumably you are to set that date by calling the setter on the tenant."},{"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"score":0,"creation_date":1634910449,"post_id":69666454,"comment_id":123161298,"body_markdown":"So it will look like this?: \n`public void rentTo(Tenant tenant, MyDate rentedFrom)\n  {\n    this.tenant = tenant;\n    tenant.setRentedFrom(rentedFrom);\n  }`","body":"So it will look like this?:  <code>public void rentTo(Tenant tenant, MyDate rentedFrom)   {     this.tenant = tenant;     tenant.setRentedFrom(rentedFrom);   }</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1634910592,"post_id":69666454,"comment_id":123161356,"body_markdown":"I think so, yes.","body":"I think so, yes."}],"owner":{"account_id":19255747,"reputation":25,"user_id":14072710,"display_name":"GluhaiaMuha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634837888,"creation_date":1634837888,"question_id":69666454,"body_markdown":"I&#39;m a beginner, I have a Java exercise which is based on a Astah UML Diagram. I struggle doing 2 methods:\r\n1. Class: MyDate - Method : ```+now() : MyDate ``` - I suppose I have to return the time in real-time.\r\n2. Class: Apartment - Method : ```+rentTo(tenant : Tenant, rentedFrom : MyDate) : void``` - I have coded the part with ```(tenant : Tenant)``` but I don&#39;t know what to do with ```(rentedFrom : MyDate)```.\r\n\r\nThis is the code for the Apartment class, rentTo method: \r\n```\r\npublic void rentTo(Tenant tenant, MyDate rentedFrom)\r\n  {\r\n    this.tenant = tenant;\r\n    //rentedFrom = ?\r\n  }\r\n```\r\n\r\nThis is the diagram: [![UML Diagram][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X0RFz.png\r\nAny help/ clue will help me a lot. Thanks in advance.","title":"Java - I struggle making 2 methods based on a UML Diagram","body":"<p>I'm a beginner, I have a Java exercise which is based on a Astah UML Diagram. I struggle doing 2 methods:</p>\n<ol>\n<li>Class: MyDate - Method : <code>+now() : MyDate </code> - I suppose I have to return the time in real-time.</li>\n<li>Class: Apartment - Method : <code>+rentTo(tenant : Tenant, rentedFrom : MyDate) : void</code> - I have coded the part with <code>(tenant : Tenant)</code> but I don't know what to do with <code>(rentedFrom : MyDate)</code>.</li>\n</ol>\n<p>This is the code for the Apartment class, rentTo method:</p>\n<pre><code>public void rentTo(Tenant tenant, MyDate rentedFrom)\n  {\n    this.tenant = tenant;\n    //rentedFrom = ?\n  }\n</code></pre>\n<p>This is the diagram: <a href=\"https://i.stack.imgur.com/X0RFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X0RFz.png\" alt=\"UML Diagram\" /></a></p>\n<p>Any help/ clue will help me a lot. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1634840472,"post_id":69666318,"comment_id":123141747,"body_markdown":"What&#39;s the complete error message and stack trace of the failure?","body":"What&#39;s the complete error message and stack trace of the failure?"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1634845972,"post_id":69666318,"comment_id":123143588,"body_markdown":"Please share the error log if you can .","body":"Please share the error log if you can ."},{"owner":{"account_id":6089654,"reputation":57,"user_id":4752421,"accept_rate":20,"display_name":"humbleSquid"},"score":0,"creation_date":1634846601,"post_id":69666318,"comment_id":123143784,"body_markdown":"I can pull that.","body":"I can pull that."},{"owner":{"account_id":6089654,"reputation":57,"user_id":4752421,"accept_rate":20,"display_name":"humbleSquid"},"score":0,"creation_date":1634871703,"post_id":69666318,"comment_id":123148590,"body_markdown":"`ObjectMapper mapValue = new ObjectMapper();\n   String mapperStr2 = mapValue.writeValueAsString(vdRec)              \n   \nlogger.info(mapperStr2);            \n  JSONObject dtoJSON2 = new JSONObject(mapperStr2);\n   logger.info(dtoJSON2.has(&quot;value&quot; )+&quot;&quot;);`\nSo I isolated the jar failing to JSONOBJECT.\nThis piece of code is inside a loop where I am trying to verify if a numeric value came across. Right now Jackson will place a 0.0 if that value was never delivered into the package. Which is not ok, because I need to know if there was no value to begin with.","body":"<code>ObjectMapper mapValue = new ObjectMapper();    String mapperStr2 = mapValue.writeValueAsString(vdRec)                   logger.info(mapperStr2);               JSONObject dtoJSON2 = new JSONObject(mapperStr2);    logger.info(dtoJSON2.has(&quot;value&quot; )+&quot;&quot;);</code> So I isolated the jar failing to JSONOBJECT. This piece of code is inside a loop where I am trying to verify if a numeric value came across. Right now Jackson will place a 0.0 if that value was never delivered into the package. Which is not ok, because I need to know if there was no value to begin with."}],"owner":{"account_id":6089654,"reputation":57,"user_id":4752421,"accept_rate":20,"display_name":"humbleSquid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634837578,"creation_date":1634837150,"question_id":69666318,"body_markdown":"The project current runs fine via IntelliJ. Its built with Java 11, spring-boot 2.4.3, and gradle 6.8.3\r\nThe error as I read it states that it cannot find a &#39;RestDriver&#39;( which is annotated as @RestController) nor the interface &#39;DriverService&#39; which has no annotations on it.  That class uses a  a class annotated with @Service &#39;DriverServiceImp&#39;.\r\nIts as if I will have to state in main where these classes are because it cannot find them. \r\n[![Note the project structure][1]][1]\r\n  ```Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-10-21 12:04:45 [main] ERROR o.s.boot.SpringApplication at 856 - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;restDriver&#39;: \r\nUnsatisfied dependency expressed through field &#39;driverService&#39;; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;DriverService&#39;: Lookup method resolution failed; \r\nnested exception is java.lang.IllegalStateException: \r\nFailed to introspect Class [com.xxx.wfmDriverservice.service.DriverServiceImp] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5c7fa833]\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/11hZI.png","title":"Spring-Boot project executes in IDE but not when in a JAR","body":"<p>The project current runs fine via IntelliJ. Its built with Java 11, spring-boot 2.4.3, and gradle 6.8.3\nThe error as I read it states that it cannot find a 'RestDriver'( which is annotated as @RestController) nor the interface 'DriverService' which has no annotations on it.  That class uses a  a class annotated with @Service 'DriverServiceImp'.\nIts as if I will have to state in main where these classes are because it cannot find them.\n<a href=\"https://i.stack.imgur.com/11hZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11hZI.png\" alt=\"Note the project structure\" /></a></p>\n<pre><code>2021-10-21 12:04:45 [main] ERROR o.s.boot.SpringApplication at 856 - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'restDriver': \nUnsatisfied dependency expressed through field 'driverService'; \nnested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'DriverService': Lookup method resolution failed; \nnested exception is java.lang.IllegalStateException: \nFailed to introspect Class [com.xxx.wfmDriverservice.service.DriverServiceImp] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5c7fa833]\n</code></pre>\n"},{"tags":["java","web-services","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":11055691,"reputation":26,"user_id":8118572,"display_name":"Marco Di Maio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634837458,"creation_date":1634829986,"answer_id":69664726,"question_id":64737242,"body_markdown":"I think me and my colleagues have solved it. You must write the `setClassificazioni` method in this way:\r\n\r\nADD other two methods\r\n\r\n    public String getClassificazioni(int i){\r\n      return classificazioni[i];\r\n    }\r\n    \r\n    public void setClassificazioni(int i, String classificazione){\r\n       this.classificazioni[i] = classificazione;\r\n    }\r\n\r\nIMPORTANT: \r\nIt works for arrays of all types, also array having not java primitive type. I don&#39;t know if it works also with multidimentional array (adapting method). \r\n","title":"Java SOAP WebService: how can I use as input an array of String for a method on a WSDL?","body":"<p>I think me and my colleagues have solved it. You must write the <code>setClassificazioni</code> method in this way:</p>\n<p>ADD other two methods</p>\n<pre><code>public String getClassificazioni(int i){\n  return classificazioni[i];\n}\n\npublic void setClassificazioni(int i, String classificazione){\n   this.classificazioni[i] = classificazione;\n}\n</code></pre>\n<p>IMPORTANT:\nIt works for arrays of all types, also array having not java primitive type. I don't know if it works also with multidimentional array (adapting method).</p>\n"}],"owner":{"account_id":1364324,"reputation":292,"user_id":1301093,"accept_rate":83,"display_name":"Domenico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69664726,"answer_count":1,"score":0,"last_activity_date":1634837458,"creation_date":1604832938,"question_id":64737242,"body_markdown":"I&#39;m developing a WebService SOAP in Java 1.6 version (constraint of infrastruct of customer) and I need to develop an operation method that take as input an plain object with a String and an array of String, and return an output (after some elaboration). The input object it&#39;s made of a String *codiceFiscale* and the array of String is that field named *classificazioni* that you see in the code example:\r\n\r\nI&#39;ve this situation on WSDL:\r\n\r\n    &lt;complexType name=&quot;VerificaClassiPFInputDTO&quot;&gt;\r\n\t\t\t\t&lt;sequence&gt;\r\n\t\t\t\t\t&lt;element name=&quot;codiceFiscale&quot; nillable=&quot;true&quot; type=&quot;xsd:string&quot; /&gt;\r\n\t\t\t\t\t&lt;element name=&quot;classificazioni&quot; type=&quot;xsd:string&quot; nillable=&quot;true&quot;\r\n\t\t\t\t\t\tminOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; /&gt;\r\n\t\t\t\t&lt;/sequence&gt;\r\n\t\t\t&lt;/complexType&gt;\r\n\r\nand this is my INPUT DTO (java side): \r\n\r\n    public class VerificaClassiPFInputDTO implements Serializable {\r\n\r\n\r\n\tprivate static final long serialVersionUID = -3933923831884051815L;\r\n\t\r\n\t/**\r\n\t * Codice Fiscale della PF\r\n\t */\r\n\tprivate String codiceFiscale = &quot;&quot;;\r\n\t/**\r\n\t * Array di classificazioni da processare sul codice fiscale passato\r\n\t */\r\n\tprivate String[] classificazioni = null;\r\n\r\n\t/**\r\n\t * Costruttore default\r\n\t */\r\n\tpublic VerificaClassiPFInputDTO() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic String getCodiceFiscale() {\r\n\t\treturn codiceFiscale;\r\n\t}\r\n\r\n\tpublic void setCodiceFiscale(String codiceFiscale) {\r\n\t\tthis.codiceFiscale = codiceFiscale;\r\n\t}\r\n\r\n\tpublic String[] getClassificazioni() {\r\n\t\treturn classificazioni;\r\n\t}\r\n\r\n\tpublic void setClassificazioni(String[] classificazioni) {\r\n\t\tthis.classificazioni = classificazioni;\r\n\t}\r\n\r\nthat String[] it&#39;s my array. When I deploy the WS, in a SOAPUI client, the situation for this method is this\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand for me is correct. I want &quot;0 on more&quot; String as input in that array, for that field. In this case are three String in the array, and the other string *codiceFiscale*.\r\n\r\nEven in IBM RAD Web Service Explorer tool the situation is this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nso, for me it&#39;s ok. But, when I pass more string (in the array) **only the last one been processed**.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIn the code, when I process input, I obtain always **an 1 length array of String**, with the last one.\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo, what&#39;s wrong?\r\n**How can I maps that type of input in WSDL, in the DTO etc? Why does this happen?**\r\n\r\nIf I switct in the DTO the type \r\n\r\n    from String[] to List&lt;String&gt; classificazioni\r\n\r\n \r\n\r\ndon&#39;t work that operation, says mismatch type in the format when run, and I try to call method.\r\n\r\nPlease someone can help me? If I have to change the map in the WSDL, and the DTO accordingly, that&#39;s not a problem but how? \r\n\r\nWhat should I put in the WSDL as *complextype* and consequently in the DTO, in order to have that kind of input? \r\n\r\nPlease help me....I am going crazy :(\r\n\r\n  [1]: https://i.stack.imgur.com/UEZ64.jpg\r\n  [2]: https://i.stack.imgur.com/sDQXT.jpg\r\n  [3]: https://i.stack.imgur.com/jKs8e.jpg\r\n  [4]: https://i.stack.imgur.com/hKLmU.jpg","title":"Java SOAP WebService: how can I use as input an array of String for a method on a WSDL?","body":"<p>I'm developing a WebService SOAP in Java 1.6 version (constraint of infrastruct of customer) and I need to develop an operation method that take as input an plain object with a String and an array of String, and return an output (after some elaboration). The input object it's made of a String <em>codiceFiscale</em> and the array of String is that field named <em>classificazioni</em> that you see in the code example:</p>\n<p>I've this situation on WSDL:</p>\n<pre><code>&lt;complexType name=&quot;VerificaClassiPFInputDTO&quot;&gt;\n            &lt;sequence&gt;\n                &lt;element name=&quot;codiceFiscale&quot; nillable=&quot;true&quot; type=&quot;xsd:string&quot; /&gt;\n                &lt;element name=&quot;classificazioni&quot; type=&quot;xsd:string&quot; nillable=&quot;true&quot;\n                    minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; /&gt;\n            &lt;/sequence&gt;\n        &lt;/complexType&gt;\n</code></pre>\n<p>and this is my INPUT DTO (java side):</p>\n<pre><code>public class VerificaClassiPFInputDTO implements Serializable {\n\n\nprivate static final long serialVersionUID = -3933923831884051815L;\n\n/**\n * Codice Fiscale della PF\n */\nprivate String codiceFiscale = &quot;&quot;;\n/**\n * Array di classificazioni da processare sul codice fiscale passato\n */\nprivate String[] classificazioni = null;\n\n/**\n * Costruttore default\n */\npublic VerificaClassiPFInputDTO() {\n    super();\n}\n\npublic String getCodiceFiscale() {\n    return codiceFiscale;\n}\n\npublic void setCodiceFiscale(String codiceFiscale) {\n    this.codiceFiscale = codiceFiscale;\n}\n\npublic String[] getClassificazioni() {\n    return classificazioni;\n}\n\npublic void setClassificazioni(String[] classificazioni) {\n    this.classificazioni = classificazioni;\n}\n</code></pre>\n<p>that String[] it's my array. When I deploy the WS, in a SOAPUI client, the situation for this method is this</p>\n<p><a href=\"https://i.stack.imgur.com/UEZ64.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UEZ64.jpg\" alt=\"enter image description here\" /></a></p>\n<p>and for me is correct. I want &quot;0 on more&quot; String as input in that array, for that field. In this case are three String in the array, and the other string <em>codiceFiscale</em>.</p>\n<p>Even in IBM RAD Web Service Explorer tool the situation is this:</p>\n<p><a href=\"https://i.stack.imgur.com/sDQXT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sDQXT.jpg\" alt=\"enter image description here\" /></a></p>\n<p>so, for me it's ok. But, when I pass more string (in the array) <strong>only the last one been processed</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/jKs8e.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jKs8e.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the code, when I process input, I obtain always <strong>an 1 length array of String</strong>, with the last one.</p>\n<p><a href=\"https://i.stack.imgur.com/hKLmU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKLmU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So, what's wrong?\n<strong>How can I maps that type of input in WSDL, in the DTO etc? Why does this happen?</strong></p>\n<p>If I switct in the DTO the type</p>\n<pre><code>from String[] to List&lt;String&gt; classificazioni\n</code></pre>\n<p>don't work that operation, says mismatch type in the format when run, and I try to call method.</p>\n<p>Please someone can help me? If I have to change the map in the WSDL, and the DTO accordingly, that's not a problem but how?</p>\n<p>What should I put in the WSDL as <em>complextype</em> and consequently in the DTO, in order to have that kind of input?</p>\n<p>Please help me....I am going crazy :(</p>\n"},{"tags":["java","storage","anylogic","inventory","warehouse"],"comments":[{"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"score":0,"creation_date":1634033084,"post_id":69537669,"comment_id":122911851,"body_markdown":"Can you provide some more information, what error are you getting? Why do you say it is not working what are you getting, and what have you tried.  See here for more guidance on asking questions - https://stackoverflow.com/help/how-to-ask","body":"Can you provide some more information, what error are you getting? Why do you say it is not working what are you getting, and what have you tried.  See here for more guidance on asking questions - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1634042380,"post_id":69537669,"comment_id":122915447,"body_markdown":"probably a typing error, your error msg is always useful.","body":"probably a typing error, your error msg is always useful."}],"answers":[{"tags":[],"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634837416,"creation_date":1634148227,"answer_id":69560289,"question_id":69537669,"body_markdown":"So looks like you&#39;re using the new AnyLogic 8.7.7 Storage and Storage System (rather than the old Pallet Rack and Rack System).\r\n\r\nThe [help page for Storage](https://anylogic.help/markup/storage.html) tells you that the constituent storages are held in an array called `storages`, and that `getSlot` takes integers for the rack/bay/shelf indices `getSlot(int rack, int bay, int shelf)`, where these are zero-based (so rack 0 is the first rack, not rack 1).\r\n\r\nSo you&#39;d use something like\r\n\r\n```\r\nstorageSystem.storages[0].getSlot(0, 0, 0)\r\n```\r\n\r\nfor the first storage in the system and the first rack/bay/shelf therein.\r\n\r\nThere&#39;s a wider question of whether you actually need to do this for what you want your model to do. (Add some detail to your question if you want to explore that angle.)","title":"Accessing special storage in storage system Anylogic","body":"<p>So looks like you're using the new AnyLogic 8.7.7 Storage and Storage System (rather than the old Pallet Rack and Rack System).</p>\n<p>The <a href=\"https://anylogic.help/markup/storage.html\" rel=\"nofollow noreferrer\">help page for Storage</a> tells you that the constituent storages are held in an array called <code>storages</code>, and that <code>getSlot</code> takes integers for the rack/bay/shelf indices <code>getSlot(int rack, int bay, int shelf)</code>, where these are zero-based (so rack 0 is the first rack, not rack 1).</p>\n<p>So you'd use something like</p>\n<pre><code>storageSystem.storages[0].getSlot(0, 0, 0)\n</code></pre>\n<p>for the first storage in the system and the first rack/bay/shelf therein.</p>\n<p>There's a wider question of whether you actually need to do this for what you want your model to do. (Add some detail to your question if you want to explore that angle.)</p>\n"}],"owner":{"account_id":22883011,"reputation":11,"user_id":17024353,"display_name":"sljb12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634837416,"creation_date":1634028952,"question_id":69537669,"body_markdown":"I need to access a specific storage within a storage system (which is basically a list like this `storageSystem= {storage1, storage2, storage3}` in Anylogic. \r\n\r\nI tried this, but it does not work:\r\n\r\n```\r\nstorageSystem Storages[0].getSlot(0, Bay1, 0);\r\n```\r\n\r\nThanks in advance :)","title":"Accessing special storage in storage system Anylogic","body":"<p>I need to access a specific storage within a storage system (which is basically a list like this <code>storageSystem= {storage1, storage2, storage3}</code> in Anylogic.</p>\n<p>I tried this, but it does not work:</p>\n<pre><code>storageSystem Storages[0].getSlot(0, Bay1, 0);\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","sum"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1634741837,"post_id":69648365,"comment_id":123108042,"body_markdown":"How would you calulate a sum in general?","body":"How would you calulate a sum in general?"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1634741949,"post_id":69648365,"comment_id":123108100,"body_markdown":"What is your problem? You are able to calculate the squares. What keeps you from summing them up?","body":"What is your problem? You are able to calculate the squares. What keeps you from summing them up?"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1634741962,"post_id":69648365,"comment_id":123108109,"body_markdown":"You may prefer to start with `for (int i=0; i&lt;=100; i+=2) { . . . }`","body":"You may prefer to start with <code>for (int i=0; i&lt;=100; i+=2) { . . . }</code>"},{"owner":{"account_id":22993868,"reputation":1,"user_id":17202803,"display_name":"alfaekko123"},"score":0,"creation_date":1634742693,"post_id":69648365,"comment_id":123108476,"body_markdown":"@Thomas well i would say sum = i + i ? but i have 100 squared numbers in cmd and i want to the total sum of them. I just dont understand how i tell java i want the sum of these numbers.","body":"@Thomas well i would say sum = i + i ? but i have 100 squared numbers in cmd and i want to the total sum of them. I just dont understand how i tell java i want the sum of these numbers."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634742989,"post_id":69648365,"comment_id":123108611,"body_markdown":"Firstly, thinks about how you should do in basic maths, then try to convert the little algorithm to Java. And it&#39;s when you will try to make the java algo that you will see if you well understand how Java works","body":"Firstly, thinks about how you should do in basic maths, then try to convert the little algorithm to Java. And it&#39;s when you will try to make the java algo that you will see if you well understand how Java works"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634742999,"post_id":69648365,"comment_id":123108618,"body_markdown":"Think about it this way: you&#39;re a Mafia boss and people are coming to give you their money. You need to know the sum in the end but you don&#39;t know how many people it will be or how much they&#39;ll give you. So you get an _empty_ book (aka variable) and each time someone gives you money you strike through the current sum ( aks `sum`) in that book and write a new one ( `sum = ...`) which is the old sum + the new amount of money (I&#39;ll leave that for you). Now the only twist is, that you square the amount of money each one gives you to get even more ;) (so `money * money`).","body":"Think about it this way: you&#39;re a Mafia boss and people are coming to give you their money. You need to know the sum in the end but you don&#39;t know how many people it will be or how much they&#39;ll give you. So you get an <i>empty</i> book (aka variable) and each time someone gives you money you strike through the current sum ( aks <code>sum</code>) in that book and write a new one ( <code>sum = ...</code>) which is the old sum + the new amount of money (I&#39;ll leave that for you). Now the only twist is, that you square the amount of money each one gives you to get even more ;) (so <code>money * money</code>)."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1634743100,"post_id":69648365,"comment_id":123108656,"body_markdown":"initiialize the sum with 0 and then assign the square to a variable then increment the sum with the square `sum+=square`","body":"initiialize the sum with 0 and then assign the square to a variable then increment the sum with the square <code>sum+=square</code>"}],"answers":[{"tags":[],"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634831404,"creation_date":1634743752,"answer_id":69648901,"question_id":69648365,"body_markdown":"Firstly, I will advise you to do logic building on paper. In this case, think about how will you count the sum. \r\n\r\nwhat does `i = i + 2` do. It adds `2` to the previous value of `i` and updates it.\r\n\r\nThe solution to your problem is: declare a variable which keeps track of the sums so far.\r\n\r\n    public class Blatt4Aufg3 \r\n    {\r\n        \r\n        public static void main (String[] args) \r\n        {\r\n            int sum = 0;\r\n            int i=0;\r\n            while (i &lt; 100)\r\n            {\r\n                i= i+2;\r\n                int square = i*i;\r\n                System.out.println(square);\r\n                sum += square;\r\n                \r\n            }\r\n            System.out.println(sum);\r\n            System.exit(0);\r\n        }                       \r\n    }\r\n\r\nHere I made the variable square to reduce the number of multiplications, ultimately, to make it efficient.\r\n\r\nYou can also use the `for` loop instead of the `while` loop which enhances the readability.\r\n\r\n    for (int i = 0; i &lt; 100; i += 2) {\r\n        // Write the code here\r\n    }","title":"how to calculate the total sum of printed numbers in java","body":"<p>Firstly, I will advise you to do logic building on paper. In this case, think about how will you count the sum.</p>\n<p>what does <code>i = i + 2</code> do. It adds <code>2</code> to the previous value of <code>i</code> and updates it.</p>\n<p>The solution to your problem is: declare a variable which keeps track of the sums so far.</p>\n<pre><code>public class Blatt4Aufg3 \n{\n    \n    public static void main (String[] args) \n    {\n        int sum = 0;\n        int i=0;\n        while (i &lt; 100)\n        {\n            i= i+2;\n            int square = i*i;\n            System.out.println(square);\n            sum += square;\n            \n        }\n        System.out.println(sum);\n        System.exit(0);\n    }                       \n}\n</code></pre>\n<p>Here I made the variable square to reduce the number of multiplications, ultimately, to make it efficient.</p>\n<p>You can also use the <code>for</code> loop instead of the <code>while</code> loop which enhances the readability.</p>\n<pre><code>for (int i = 0; i &lt; 100; i += 2) {\n    // Write the code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23103355,"reputation":1,"user_id":17212445,"display_name":"sai krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634837048,"creation_date":1634837048,"answer_id":69666300,"question_id":69648365,"body_markdown":"First we need to write the code for squared values within the given range and our task is to calculate the total sum of printed numbers means adding of all the squared values and print its sum.\r\njava code:\r\n\r\n\r\n       import java.util.Scanner;\r\n       public class SumOFPrintedValues\r\n       {\r\n         public static void main(String args[])\r\n         {\r\n          int sq;\r\n          int sum=0;    //Initializing sum value to 0\r\n          Scanner sc=new Scanner(System.in());\r\n          System.out.println(&quot;Enter the range from 0 to:&quot;);\r\n          int n=sc.nextLine();\r\n          for(int i=0;i&lt;n;i+=2)\r\n          {\r\n           sq=i*i;\r\n           System.out.println(&quot;the Square values are:&quot;+sq);\r\n           sum=sum+sq;\r\n          }\r\n         System.out.println(&quot;The total sum of printed numbers are:&quot;+sum);\r\n        }\r\n       }\r\n ","title":"how to calculate the total sum of printed numbers in java","body":"<p>First we need to write the code for squared values within the given range and our task is to calculate the total sum of printed numbers means adding of all the squared values and print its sum.\njava code:</p>\n<pre><code>   import java.util.Scanner;\n   public class SumOFPrintedValues\n   {\n     public static void main(String args[])\n     {\n      int sq;\n      int sum=0;    //Initializing sum value to 0\n      Scanner sc=new Scanner(System.in());\n      System.out.println(&quot;Enter the range from 0 to:&quot;);\n      int n=sc.nextLine();\n      for(int i=0;i&lt;n;i+=2)\n      {\n       sq=i*i;\n       System.out.println(&quot;the Square values are:&quot;+sq);\n       sum=sum+sq;\n      }\n     System.out.println(&quot;The total sum of printed numbers are:&quot;+sum);\n    }\n   }\n</code></pre>\n"}],"owner":{"account_id":22993868,"reputation":1,"user_id":17202803,"display_name":"alfaekko123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1634837048,"creation_date":1634741759,"question_id":69648365,"body_markdown":"I&#39;m pretty new to Java and programming in general. My teacher gave us an exercise where we have to calculate all even squared numbers from 0 to 100. I did that. The next question is to calculate the total sum of all these numbers. And I don&#39;t know how to approach this, to be honest. Here&#39;s what I have so far.\r\n```\r\n    public class Blatt4Aufg3 \r\n{\r\n\t\r\n\tpublic static void main (String[] args) \r\n\t{\r\n\tint i=0;\r\n\twhile (i &lt; 100)\r\n\t{\r\n\t\ti= i+2;\r\n\t\tSystem.out.println(i*i);\r\n\t\t\r\n\t}\r\n\tSystem.exit(0);\r\n}\t\t\t\t\t\t\r\n}\r\n```","title":"how to calculate the total sum of printed numbers in java","body":"<p>I'm pretty new to Java and programming in general. My teacher gave us an exercise where we have to calculate all even squared numbers from 0 to 100. I did that. The next question is to calculate the total sum of all these numbers. And I don't know how to approach this, to be honest. Here's what I have so far.</p>\n<pre><code>    public class Blatt4Aufg3 \n{\n    \n    public static void main (String[] args) \n    {\n    int i=0;\n    while (i &lt; 100)\n    {\n        i= i+2;\n        System.out.println(i*i);\n        \n    }\n    System.exit(0);\n}                       \n}\n</code></pre>\n"},{"tags":["java","jsp","struts2","jsp-tags","ognl"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":2,"creation_date":1374820101,"post_id":17874274,"comment_id":26099714,"body_markdown":"Why are you doing this like that? Create property with getter and setter and use it.","body":"Why are you doing this like that? Create property with getter and setter and use it."},{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":0,"creation_date":1374862733,"post_id":17874274,"comment_id":26124185,"body_markdown":"`&lt;s:property value=&quot;#parameters.reqVar1&quot; /&gt;` should be `&lt;s:property value=&quot;%{#parameters.reqVar1}&quot; /&gt;`","body":"<code>&lt;s:property value=&quot;#parameters.reqVar1&quot; &#47;&gt;</code> should be <code>&lt;s:property value=&quot;%{#parameters.reqVar1}&quot; &#47;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634836526,"creation_date":1374826575,"answer_id":17876304,"question_id":17874274,"body_markdown":"Parameters are always use a type `Map&lt;String, String[]&gt;`. And you need to put parameter correctly, i.e.\r\n\r\n    aContext.getParameters().put(&quot;reqVar1&quot;, new String[] {&quot;reqVar1-Value&quot;});\r\n\r\nand get correctly, i.e.\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;s:property value=&quot;%{#parameters.reqVar1[0]}&quot; /&gt;\r\n\r\nThe better approach is to use [`params` interceptor][1] that is included in the` defaultStack` to populate parameters from the request.\r\n\r\n**Also see:**\r\n \r\n * [How can we access request parameters passed into an Action][2] \r\n * [How to use parameters in JSP][3] \r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/parameters-interceptor.html\r\n  [2]: https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14182#content/view/13977\r\n  [3]: https://struts.apache.org/tag-developers/jsp.html#request-parameter","title":"How could I get a parameter in JSP?","body":"<p>Parameters are always use a type <code>Map&lt;String, String[]&gt;</code>. And you need to put parameter correctly, i.e.</p>\n<pre><code>aContext.getParameters().put(&quot;reqVar1&quot;, new String[] {&quot;reqVar1-Value&quot;});\n</code></pre>\n<p>and get correctly, i.e.</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;s:property value=&quot;%{#parameters.reqVar1[0]}&quot; /&gt;\n</code></pre>\n<p>The better approach is to use <a href=\"https://struts.apache.org/core-developers/parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>params</code> interceptor</a> that is included in the<code> defaultStack</code> to populate parameters from the request.</p>\n<p><strong>Also see:</strong></p>\n<ul>\n<li><a href=\"https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14182#content/view/13977\" rel=\"nofollow noreferrer\">How can we access request parameters passed into an Action</a></li>\n<li><a href=\"https://struts.apache.org/tag-developers/jsp.html#request-parameter\" rel=\"nofollow noreferrer\">How to use parameters in JSP</a></li>\n</ul>\n"}],"owner":{"account_id":1857391,"reputation":58,"user_id":1682682,"accept_rate":20,"display_name":"Hua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634836598,"creation_date":1374819614,"question_id":17874274,"body_markdown":"Here is my action `execute()` method,\r\n\r\n\t\r\n\t@Override\r\n\tpublic String execute() throws Exception {\r\n\t\t\r\n\t\tActionContext aContext = ActionContext.getContext();\t\t\r\n\t\taContext.getParameters().put(&quot;reqVar1&quot;, &quot;reqVar1-Value&quot;);\r\n\t\t\r\n\t\treturn SUCCESS;\r\n\t}\r\n\r\nI want to get the parameter value in JSP like below code,\r\n       \r\n    &lt;s:property value=&quot;#parameters.reqVar1&quot; /&gt;\r\n\r\nbut it doesn&#39;t work.\r\n\r\nI see the parameter is in stack context:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/i0vrK.gif\r\n\r\nHow could I get the parameter value in JSP?","title":"How could I get a parameter in JSP?","body":"<p>Here is my action <code>execute()</code> method,</p>\n<pre><code>@Override\npublic String execute() throws Exception {\n    \n    ActionContext aContext = ActionContext.getContext();        \n    aContext.getParameters().put(&quot;reqVar1&quot;, &quot;reqVar1-Value&quot;);\n    \n    return SUCCESS;\n}\n</code></pre>\n<p>I want to get the parameter value in JSP like below code,</p>\n<pre><code>&lt;s:property value=&quot;#parameters.reqVar1&quot; /&gt;\n</code></pre>\n<p>but it doesn't work.</p>\n<p>I see the parameter is in stack context:</p>\n<p><img src=\"https://i.stack.imgur.com/i0vrK.gif\" alt=\"enter image description here\" /></p>\n<p>How could I get the parameter value in JSP?</p>\n"},{"tags":["java","sorting","entryset"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1634834123,"post_id":69665319,"comment_id":123139425,"body_markdown":"Iterate over the map, add each of them to a list, then sort the list as you wish.","body":"Iterate over the map, add each of them to a list, then sort the list as you wish."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634836534,"creation_date":1634836534,"answer_id":69666198,"question_id":69665319,"body_markdown":"It seems natural sorting is not applicable to the keys in this specific order: `nameSpace, name, version`, therefore `SortedMap / TreeMap` would require some _very_ custom/hardcoded comparator:\r\n```java\r\nSortedMap&lt;String, String&gt; coordinates = new TreeMap&lt;&gt;(\r\n    (a, b) -&gt; b.startsWith(a) &amp;&amp; !a.startsWith(b) ? 1 : a.compareTo(b)\r\n);\r\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\r\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\r\ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\r\n\r\n// iterating the map\r\n// coordinates.forEach((k, v) -&gt; Object.add(k, v));\r\ncoordinates.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\nOutput:\r\n```\r\nnameSpace -&gt; nameSpaceValue\r\nname -&gt; nameValue\r\nversion -&gt; versionValue\r\n```\r\n----\r\nAnother approach would be to use `LinkedHashMap` capable of maintaining the insertion order and fix this order as necessary:\r\n```java\r\nMap&lt;String, String&gt; coordinates = new LinkedHashMap&lt;&gt;();\r\n// add entries in expected order\r\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\r\ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\r\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\r\n```\r\n----\r\nSimilar approach would be to use an unsorted map and a list of keys in the desired order.\r\n```java\r\nMap&lt;String, String&gt; coordinates = new HashMap&lt;&gt;();    \r\ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\r\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\r\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\r\n\r\nList&lt;String&gt; keyOrder = Arrays.asList(&quot;nameSpace&quot;, &quot;name&quot;, &quot;version&quot;);\r\nkeyOrder.forEach(k -&gt; System.out.println(k + &quot; -&gt; &quot; + coordinates.get(k)));\r\n```\r\n----\r\nHowever, it seems that method `add` of the custom object requires both key and value anyway, so the order of populating the fields should not be relevant.","title":"Sorting a entrySet&lt;String, String&gt; by keys","body":"<p>It seems natural sorting is not applicable to the keys in this specific order: <code>nameSpace, name, version</code>, therefore <code>SortedMap / TreeMap</code> would require some <em>very</em> custom/hardcoded comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SortedMap&lt;String, String&gt; coordinates = new TreeMap&lt;&gt;(\n    (a, b) -&gt; b.startsWith(a) &amp;&amp; !a.startsWith(b) ? 1 : a.compareTo(b)\n);\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\n\n// iterating the map\n// coordinates.forEach((k, v) -&gt; Object.add(k, v));\ncoordinates.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p>Output:</p>\n<pre><code>nameSpace -&gt; nameSpaceValue\nname -&gt; nameValue\nversion -&gt; versionValue\n</code></pre>\n<hr />\n<p>Another approach would be to use <code>LinkedHashMap</code> capable of maintaining the insertion order and fix this order as necessary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; coordinates = new LinkedHashMap&lt;&gt;();\n// add entries in expected order\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\n</code></pre>\n<hr />\n<p>Similar approach would be to use an unsorted map and a list of keys in the desired order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; coordinates = new HashMap&lt;&gt;();    \ncoordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\ncoordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\ncoordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\n\nList&lt;String&gt; keyOrder = Arrays.asList(&quot;nameSpace&quot;, &quot;name&quot;, &quot;version&quot;);\nkeyOrder.forEach(k -&gt; System.out.println(k + &quot; -&gt; &quot; + coordinates.get(k)));\n</code></pre>\n<hr />\n<p>However, it seems that method <code>add</code> of the custom object requires both key and value anyway, so the order of populating the fields should not be relevant.</p>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634836534,"creation_date":1634832406,"question_id":69665319,"body_markdown":"In my entrySet I have the next values:\r\n\r\n    name -&gt; &quot;someName&quot;\r\n    nameSpace -&gt; &quot;someNameSpace&quot;\r\n    version -&gt; &quot;someVersion&quot;\r\n\r\nI&#39;m iterating over this entrySet and adding its values to a final object, my problem is that I need to add the values in the order:\r\n\r\n    nameSpace -&gt; &quot;someNameSpace&quot;\r\n    name -&gt; &quot;someName&quot;\r\n    version -&gt; &quot;someVersion&quot;\r\n\r\nWith nameSpace first. Not pretty sure if it&#39;s possible to achieve that using a stream or something more sophisticated. I&#39;m doing the process manually.\r\n\r\n    public static void main(String [] args){\r\n         SortedMap&lt;String, String&gt; coordinates = new TreeMap&lt;&gt;();\r\n        coordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\r\n        coordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\r\n        coordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\r\n        String name = coordinates.get(&quot;name&quot;);\r\n        String nameSpace = coordinates.get(&quot;nameSpace&quot;);\r\n        String version = coordinates.get(&quot;version&quot;);\r\n    \r\n        /*Object.add(&quot;name&quot;, name);\r\n        Object.add(&quot;nameSpace&quot;, nameSpace);\r\n        Object.add(&quot;version&quot;, version);*/\r\n    }\r\n\r\nThanks!\r\n\r\n","title":"Sorting a entrySet&lt;String, String&gt; by keys","body":"<p>In my entrySet I have the next values:</p>\n<pre><code>name -&gt; &quot;someName&quot;\nnameSpace -&gt; &quot;someNameSpace&quot;\nversion -&gt; &quot;someVersion&quot;\n</code></pre>\n<p>I'm iterating over this entrySet and adding its values to a final object, my problem is that I need to add the values in the order:</p>\n<pre><code>nameSpace -&gt; &quot;someNameSpace&quot;\nname -&gt; &quot;someName&quot;\nversion -&gt; &quot;someVersion&quot;\n</code></pre>\n<p>With nameSpace first. Not pretty sure if it's possible to achieve that using a stream or something more sophisticated. I'm doing the process manually.</p>\n<pre><code>public static void main(String [] args){\n     SortedMap&lt;String, String&gt; coordinates = new TreeMap&lt;&gt;();\n    coordinates.put(&quot;name&quot;, &quot;nameValue&quot;);\n    coordinates.put(&quot;nameSpace&quot;, &quot;nameSpaceValue&quot;);\n    coordinates.put(&quot;version&quot;, &quot;versionValue&quot;);\n    String name = coordinates.get(&quot;name&quot;);\n    String nameSpace = coordinates.get(&quot;nameSpace&quot;);\n    String version = coordinates.get(&quot;version&quot;);\n\n    /*Object.add(&quot;name&quot;, name);\n    Object.add(&quot;nameSpace&quot;, nameSpace);\n    Object.add(&quot;version&quot;, version);*/\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","jfugue"],"answers":[{"tags":[],"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634835951,"creation_date":1634835330,"answer_id":69665955,"question_id":69649977,"body_markdown":"When you execute MusicPlayer, it calls `main()` in MusicPlayer but `main()` in TwelveBarBlues is never called, so in `getPattern()`, &#39;pattern&#39; has never been set, and you&#39;re returning null.\r\n\r\nInstead, change TwelveBarBlues so `getPattern()` returns the pattern that you currently have in `main()`. Just move the code from `main()` into `getPattern()`, then remove the `main()` method, since you&#39;re not running TwelveBarBlues as its own program. \r\n\r\nOr, keep the `main()` method in case you want to use that class as its own executable, but have it call its own `getPattern()` method. You&#39;ll need to do something like `TwelveBarBlues blues = new TwelveBarBlues();` and then `new Player().play(blues.getPattern());`.\r\n","title":"Java jFugue music play","body":"<p>When you execute MusicPlayer, it calls <code>main()</code> in MusicPlayer but <code>main()</code> in TwelveBarBlues is never called, so in <code>getPattern()</code>, 'pattern' has never been set, and you're returning null.</p>\n<p>Instead, change TwelveBarBlues so <code>getPattern()</code> returns the pattern that you currently have in <code>main()</code>. Just move the code from <code>main()</code> into <code>getPattern()</code>, then remove the <code>main()</code> method, since you're not running TwelveBarBlues as its own program.</p>\n<p>Or, keep the <code>main()</code> method in case you want to use that class as its own executable, but have it call its own <code>getPattern()</code> method. You'll need to do something like <code>TwelveBarBlues blues = new TwelveBarBlues();</code> and then <code>new Player().play(blues.getPattern());</code>.</p>\n"}],"owner":{"account_id":23088285,"reputation":1,"user_id":17199511,"display_name":"ekezblue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634835951,"creation_date":1634748251,"question_id":69649977,"body_markdown":"    import org.jfugue.player.Player;\r\n\r\n    public class MusicPlayer {\r\n        public static void main(String[] args) {\r\n            TwelveBarBlues twelveBarBlues = new TwelveBarBlues();\r\n\r\n            System.out.println(&quot;Twelve Bar blues Playing: &quot;);\r\n\r\n            Player player = new Player();\r\n            player.play(twelveBarBlues.getPattern());\r\n\r\n            }\r\n\r\n    }\r\n\r\n    import java.io.IOException;\r\n\r\n    import org.jfugue.pattern.Pattern;\r\n    import org.jfugue.player.Player;\r\n    import org.jfugue.theory.ChordProgression;\r\n\r\n    public class TwelveBarBlues {\r\n\r\n    private String pattern;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Pattern pattern = new ChordProgression(&quot;I IV V&quot;)\r\n                .distribute(&quot;7%6&quot;)\r\n                .allChordsAs(&quot;$0 $0 $0 $0 $1 $1 $0 $0 $2 $1 $0 $0&quot;)\r\n                .eachChordAs(&quot;$0ia100 $1ia80 $2ia80 $3ia80 $4ia100 $3ia80 $2ia80 $1ia80&quot;)\r\n                .getPattern()\r\n                .setInstrument(&quot;Acoustic_Bass&quot;)\r\n                .setTempo(100);\r\n        new Player().play(pattern);\r\n    }\r\n\r\n    public String getPattern() {\r\n        this.pattern = pattern;\r\n        return pattern;\r\n        }\r\n    }\r\nI want to play the twelveBarBlue music code at MusicPlayer.\r\nbut I got error code \r\nCannot invoke &quot;java.lang.CharSequence.length()&quot; because &quot;this.text&quot; is null\r\nwhen I run the MusicPlayer\r\n[MusicPlayer Error Code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rzb7G.png","title":"Java jFugue music play","body":"<pre><code>import org.jfugue.player.Player;\n\npublic class MusicPlayer {\n    public static void main(String[] args) {\n        TwelveBarBlues twelveBarBlues = new TwelveBarBlues();\n\n        System.out.println(&quot;Twelve Bar blues Playing: &quot;);\n\n        Player player = new Player();\n        player.play(twelveBarBlues.getPattern());\n\n        }\n\n}\n\nimport java.io.IOException;\n\nimport org.jfugue.pattern.Pattern;\nimport org.jfugue.player.Player;\nimport org.jfugue.theory.ChordProgression;\n\npublic class TwelveBarBlues {\n\nprivate String pattern;\n\npublic static void main(String[] args) throws IOException {\n    Pattern pattern = new ChordProgression(&quot;I IV V&quot;)\n            .distribute(&quot;7%6&quot;)\n            .allChordsAs(&quot;$0 $0 $0 $0 $1 $1 $0 $0 $2 $1 $0 $0&quot;)\n            .eachChordAs(&quot;$0ia100 $1ia80 $2ia80 $3ia80 $4ia100 $3ia80 $2ia80 $1ia80&quot;)\n            .getPattern()\n            .setInstrument(&quot;Acoustic_Bass&quot;)\n            .setTempo(100);\n    new Player().play(pattern);\n}\n\npublic String getPattern() {\n    this.pattern = pattern;\n    return pattern;\n    }\n}\n</code></pre>\n<p>I want to play the twelveBarBlue music code at MusicPlayer.\nbut I got error code\nCannot invoke &quot;java.lang.CharSequence.length()&quot; because &quot;this.text&quot; is null\nwhen I run the MusicPlayer\n<a href=\"https://i.stack.imgur.com/rzb7G.png\" rel=\"nofollow noreferrer\">MusicPlayer Error Code</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8071,"page":1921,"page_size":100}
