{"items":[{"tags":["java","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681997298,"post_id":76063615,"comment_id":134148866,"body_markdown":"Have you taken a look at https://checkstyle.sourceforge.io/writingchecks.html?","body":"Have you taken a look at <a href=\"https://checkstyle.sourceforge.io/writingchecks.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/writingchecks.html</a>?"}],"answers":[{"tags":[],"owner":{"account_id":22809059,"reputation":1,"user_id":18040297,"display_name":"Gabriel Mathiuce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681992854,"creation_date":1681992693,"answer_id":76063909,"question_id":76063615,"body_markdown":"    Class&lt;?&gt; clazz = User.class;\r\n\tField[] fields = clazz.getDeclaredFields();\r\n    //Will return if the first field its a private static final org.slf4j.Logger or not\r\n\tfields[0].toString().startsWith(&quot;private static final org.slf4j.Logger&quot;);\r\n    //Will return if the name of the field its &quot;LOG&quot;\r\n    fields[0].toString().endsWith(&quot;LOG&quot;)","title":"Check if the first variable in a class is a constant named LOG","body":"<pre><code>Class&lt;?&gt; clazz = User.class;\nField[] fields = clazz.getDeclaredFields();\n//Will return if the first field its a private static final org.slf4j.Logger or not\nfields[0].toString().startsWith(&quot;private static final org.slf4j.Logger&quot;);\n//Will return if the name of the field its &quot;LOG&quot;\nfields[0].toString().endsWith(&quot;LOG&quot;)\n</code></pre>\n"}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681992854,"creation_date":1681990573,"question_id":76063615,"body_markdown":"There are actually a couple of questions, the first one from the title:\r\n\r\n1. How can I write a check that checks wheter the very first field in a class is a constant named LOG?\r\n\r\n   For example, this would pass the check:\r\n\r\n    ```java\r\n    public class MyClass {\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\r\n        .\r\n        .\r\n        .\r\n    }\r\n    ```\r\n\r\n   while this would fail the check:\r\n\r\n    ```java\r\n    public class MyClass {\r\n\r\n        private String someString;\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\r\n        .\r\n        .\r\n        .\r\n    }\r\n    ```\r\n\r\n   Note that the LOG field should be declared as the first variable only if it is declared in the class (I don&#39;t want checkstyle to fail while checking model classes which almost always have no LOG constant defined).","title":"Check if the first variable in a class is a constant named LOG","body":"<p>There are actually a couple of questions, the first one from the title:</p>\n<ol>\n<li><p>How can I write a check that checks wheter the very first field in a class is a constant named LOG?</p>\n<p>For example, this would pass the check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\n    .\n    .\n    .\n}\n</code></pre>\n<p>while this would fail the check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    private String someString;\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\n    .\n    .\n    .\n}\n</code></pre>\n<p>Note that the LOG field should be declared as the first variable only if it is declared in the class (I don't want checkstyle to fail while checking model classes which almost always have no LOG constant defined).</p>\n</li>\n</ol>\n"},{"tags":["java","byte"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681992658,"creation_date":1681962153,"answer_id":76060404,"question_id":76060174,"body_markdown":"There are at least 4 issues here, and on top of that, this isn&#39;t a particularly efficient algorithm (not that this is likely to matter).\r\n\r\n## conflating ASCII value with digit\r\n\r\nThe character `6` actually is value 54. No, really:\r\n\r\n```\r\nchar c = &#39;6&#39;;\r\nint v = (int) c;\r\nSystem.out.println(v); // this would print 54.\r\n```\r\n\r\nAfter all, a character could be &#39;A&#39; to. What &#39;number&#39; should that become? In computer systems, any character is looked up in a gigantic table that matches a symbol (such as a, or 5, or space, or enter, or &#231;, or &#233;, or ‚òÉ, or even &#128512;) to a number.\r\n\r\nAnd the CHARACTER (or symbol, if you prefer that terminology) &#39;6&#39;, in that table, is associated with code 54.\r\n\r\n## Trying to cast a string to an int\r\n\r\n`charTemp` is a string and will end up containing e.g. `&quot;4f&quot;`. That&#39;s 2 numbers. Java correctly identifies that trying to cast this to an int doesn&#39;t make sense. (even if a string only contains 1 character, java does that - the compiler knows you can&#39;t convert strings to an int by casting, it doesn&#39;t bother checking if in this case it might possibly make some semblance of sense. It COULD make no sense, so you can&#39;t do it).\r\n\r\nWhat you want is to convert the string &quot;4f&quot; into the value of it. &quot;4f&quot; is itself just a number in string form, just like &quot;100&quot; would be. Except, it&#39;s in base 16, instead of base 10. Still, a number though.\r\n\r\nSo, how do we turn numbers-in-strings into their values? With `Integer.parseInt`, of course. Which has a variant where you specify the base. So:\r\n\r\n```\r\nint v = Integer.parseInt(&quot;9&quot;, 16); // 16 = the base\r\nSystem.out.println(v); // prints 9\r\nv = Integer.parseInt(&quot;f&quot;, 16);\r\nSystem.out.println(v); // prints 15. That&#39;s nice.\r\nv = Integer.parseInt(&quot;4f&quot;, 16);\r\nSystem.out.println(v); // Prints out 79. Which is what you wanted, I guess.\r\n```\r\n## bytes and ints\r\n\r\nYou can&#39;t assign an int to a value in a byte array - you are casting to `int`. Once you fix everything above, you still have to replace that with `(byte)`.\r\n\r\n## You erroneously think arrays can grow in java\r\n\r\nYour byte array is empty. Arrays in java are fixed size, so when you make it, it is empty, and it cannot be grown, so, it&#39;s stuck there. `x[x.length]` will ALWAYS cause an `ArrayIndexOutOfBoundsException` (because an array&#39;s length is the first index that DOES NOT work). After all, an array of, say, length 3 has 3 indices: 0, 1, and 2. 3, itself, isn&#39;t valid. Thus, `byteArray[0] = ...` would crash.\r\n\r\nOne solution is to pre-size the byte array appropriately: `byte[] byteArray = new byte[array.length() / 2];`\r\n\r\nAnd you would have to use `byteArray[i / 2] = Integer.parseInt(charTemp, 16);`\r\n\r\n## All this code is probably not needed\r\n\r\nThere are tools and libraries that read byte arrays formatted as hexadecimal strings (a.k.a. nibbled strings) in for you, you don&#39;t have to write this code. See [this SO answer](https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java) for more - because that&#39;s what you&#39;re trying to (presumably) do here.\r\n\r\n## An explanation of Hexadecimal counting\r\n\r\nStart counting, like we&#39;re playing hide-and-seek. 1, 2, 3, 4,...\r\n\r\nWhat happens after 8? We get to 9. Easy enough.\r\n\r\nWhy do we go to &#39;10&#39; - 2 separate symbols, when we need to count beyond 9?\r\n\r\nWho knows - presumably because us humans have 10 fingers. Actually, in the times of the roman empire, but outside of its borders, 12 was much more common. Take out your thumb, and start counting finger segments.  You have 3 on each of the 4 remaining fingers - it&#39;s an easy way to keep track of counting to 12.\r\n\r\nThose nordic folks had symbols for __12__ digits (0 up to 11). Just like you&#39;re used to having __10__ digits (0, up to 9). When you &#39;run out of digits&#39;, you just add a &#39;place&#39; - we start counting how many times we used all the digits. &quot;24&quot; simply means we ran out of digits twice (so that&#39;s 10, each time, so 20), and then 4 more.\r\n\r\nComputers like to count in binary. 0, 1... and we ran out of digits. So, computers go 0, 1, 10, 11, 100, 101, and so on. But this gets unwieldy very quickly and hard to &#39;track&#39; as a human.\r\n\r\nSo, we compromise and use __hexadecimal__ instead. This is counting as if you had 16 fingers. You go 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a, b, c, d, e, f. And then we ran out of digits, so the number after that (so, 16, in decimal!) - is written as &#39;10&#39;. Just like when those old vikings got to writing &#39;1&#39; and &#39;0&#39; when they start counting the 12th thing, with hex you get to &#39;1&#39; and &#39;0&#39; when you get to the 16th thing.\r\n\r\nAnd __that__ is what you are trying to parse in here. Note how your input contains &quot;4f&quot; for example. That &#39;f&#39; isn&#39;t a letter. It&#39;s the &#39;9&#39; (the last digit) of the hexadecimal system.","title":"Convert Raw Bytes to String","body":"<p>There are at least 4 issues here, and on top of that, this isn't a particularly efficient algorithm (not that this is likely to matter).</p>\n<h2>conflating ASCII value with digit</h2>\n<p>The character <code>6</code> actually is value 54. No, really:</p>\n<pre><code>char c = '6';\nint v = (int) c;\nSystem.out.println(v); // this would print 54.\n</code></pre>\n<p>After all, a character could be 'A' to. What 'number' should that become? In computer systems, any character is looked up in a gigantic table that matches a symbol (such as a, or 5, or space, or enter, or √ß, or √©, or ‚òÉ, or even üòÄ) to a number.</p>\n<p>And the CHARACTER (or symbol, if you prefer that terminology) '6', in that table, is associated with code 54.</p>\n<h2>Trying to cast a string to an int</h2>\n<p><code>charTemp</code> is a string and will end up containing e.g. <code>&quot;4f&quot;</code>. That's 2 numbers. Java correctly identifies that trying to cast this to an int doesn't make sense. (even if a string only contains 1 character, java does that - the compiler knows you can't convert strings to an int by casting, it doesn't bother checking if in this case it might possibly make some semblance of sense. It COULD make no sense, so you can't do it).</p>\n<p>What you want is to convert the string &quot;4f&quot; into the value of it. &quot;4f&quot; is itself just a number in string form, just like &quot;100&quot; would be. Except, it's in base 16, instead of base 10. Still, a number though.</p>\n<p>So, how do we turn numbers-in-strings into their values? With <code>Integer.parseInt</code>, of course. Which has a variant where you specify the base. So:</p>\n<pre><code>int v = Integer.parseInt(&quot;9&quot;, 16); // 16 = the base\nSystem.out.println(v); // prints 9\nv = Integer.parseInt(&quot;f&quot;, 16);\nSystem.out.println(v); // prints 15. That's nice.\nv = Integer.parseInt(&quot;4f&quot;, 16);\nSystem.out.println(v); // Prints out 79. Which is what you wanted, I guess.\n</code></pre>\n<h2>bytes and ints</h2>\n<p>You can't assign an int to a value in a byte array - you are casting to <code>int</code>. Once you fix everything above, you still have to replace that with <code>(byte)</code>.</p>\n<h2>You erroneously think arrays can grow in java</h2>\n<p>Your byte array is empty. Arrays in java are fixed size, so when you make it, it is empty, and it cannot be grown, so, it's stuck there. <code>x[x.length]</code> will ALWAYS cause an <code>ArrayIndexOutOfBoundsException</code> (because an array's length is the first index that DOES NOT work). After all, an array of, say, length 3 has 3 indices: 0, 1, and 2. 3, itself, isn't valid. Thus, <code>byteArray[0] = ...</code> would crash.</p>\n<p>One solution is to pre-size the byte array appropriately: <code>byte[] byteArray = new byte[array.length() / 2];</code></p>\n<p>And you would have to use <code>byteArray[i / 2] = Integer.parseInt(charTemp, 16);</code></p>\n<h2>All this code is probably not needed</h2>\n<p>There are tools and libraries that read byte arrays formatted as hexadecimal strings (a.k.a. nibbled strings) in for you, you don't have to write this code. See <a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\">this SO answer</a> for more - because that's what you're trying to (presumably) do here.</p>\n<h2>An explanation of Hexadecimal counting</h2>\n<p>Start counting, like we're playing hide-and-seek. 1, 2, 3, 4,...</p>\n<p>What happens after 8? We get to 9. Easy enough.</p>\n<p>Why do we go to '10' - 2 separate symbols, when we need to count beyond 9?</p>\n<p>Who knows - presumably because us humans have 10 fingers. Actually, in the times of the roman empire, but outside of its borders, 12 was much more common. Take out your thumb, and start counting finger segments.  You have 3 on each of the 4 remaining fingers - it's an easy way to keep track of counting to 12.</p>\n<p>Those nordic folks had symbols for <strong>12</strong> digits (0 up to 11). Just like you're used to having <strong>10</strong> digits (0, up to 9). When you 'run out of digits', you just add a 'place' - we start counting how many times we used all the digits. &quot;24&quot; simply means we ran out of digits twice (so that's 10, each time, so 20), and then 4 more.</p>\n<p>Computers like to count in binary. 0, 1... and we ran out of digits. So, computers go 0, 1, 10, 11, 100, 101, and so on. But this gets unwieldy very quickly and hard to 'track' as a human.</p>\n<p>So, we compromise and use <strong>hexadecimal</strong> instead. This is counting as if you had 16 fingers. You go 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a, b, c, d, e, f. And then we ran out of digits, so the number after that (so, 16, in decimal!) - is written as '10'. Just like when those old vikings got to writing '1' and '0' when they start counting the 12th thing, with hex you get to '1' and '0' when you get to the 16th thing.</p>\n<p>And <strong>that</strong> is what you are trying to parse in here. Note how your input contains &quot;4f&quot; for example. That 'f' isn't a letter. It's the '9' (the last digit) of the hexadecimal system.</p>\n"},{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681970546,"creation_date":1681962856,"answer_id":76060452,"question_id":76060174,"body_markdown":"As you mentioned there is an type casting issue since you can&#39;t cast `charTemp` which is a `String` to an `int`. Other than that there are some issue I can see.\r\n\r\n 1. The length of the `byteArray` is always 0. Therefore, `byteArray[byteArray.length]` does not make any sense.\r\n 2. Since your input bytes (the `array`) is in HEX, you need a way to handle the HEX values properly. \r\n\r\nI would suggest an approach like this,\r\n\r\n```java\r\nString array = &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\r\nchar[] ch = array.toCharArray();\r\nSystem.out.println(Arrays.toString(ch));\r\n\r\nint length = ch.length;\r\nbyte[] byteArray = new byte[length / 2];\r\n\r\nfor (int i = 0; i &lt; ch.length; i += 2) {\r\n    byteArray[i / 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4)\r\n            + Character.digit(ch[i + 1], 16));\r\n}\r\nString string = new String(byteArray);\r\nSystem.out.println(string);\r\n\r\n```\r\nThe changes I made,\r\n\r\n - Removed `charTemp` since it will not be needed.\r\n - Initialized `byteArray` to half of the length of the `ch`.\r\n - Changed the for loop to iterate over every other element instead of checkin `i%2` in the body of the for loop.\r\n - Used `Character.digit()` method to handle the HEX values.\r\n - Created the String `string` with the generated `byteArray` so that this can be used as your output.\r\n\r\nThis should work fine.\r\n\r\n ","title":"Convert Raw Bytes to String","body":"<p>As you mentioned there is an type casting issue since you can't cast <code>charTemp</code> which is a <code>String</code> to an <code>int</code>. Other than that there are some issue I can see.</p>\n<ol>\n<li>The length of the <code>byteArray</code> is always 0. Therefore, <code>byteArray[byteArray.length]</code> does not make any sense.</li>\n<li>Since your input bytes (the <code>array</code>) is in HEX, you need a way to handle the HEX values properly.</li>\n</ol>\n<p>I would suggest an approach like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>String array = &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\nchar[] ch = array.toCharArray();\nSystem.out.println(Arrays.toString(ch));\n\nint length = ch.length;\nbyte[] byteArray = new byte[length / 2];\n\nfor (int i = 0; i &lt; ch.length; i += 2) {\n    byteArray[i / 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4)\n            + Character.digit(ch[i + 1], 16));\n}\nString string = new String(byteArray);\nSystem.out.println(string);\n\n</code></pre>\n<p>The changes I made,</p>\n<ul>\n<li>Removed <code>charTemp</code> since it will not be needed.</li>\n<li>Initialized <code>byteArray</code> to half of the length of the <code>ch</code>.</li>\n<li>Changed the for loop to iterate over every other element instead of checkin <code>i%2</code> in the body of the for loop.</li>\n<li>Used <code>Character.digit()</code> method to handle the HEX values.</li>\n<li>Created the String <code>string</code> with the generated <code>byteArray</code> so that this can be used as your output.</li>\n</ul>\n<p>This should work fine.</p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76060404,"answer_count":2,"score":1,"last_activity_date":1681992658,"creation_date":1681959075,"question_id":76060174,"body_markdown":"i have this issue on my java code and i&#39;m kinda stuck with my solution, so i want to convert a raw bytes that i captured from a network sniffer tool (wireshark) to a string real value of the bytes\r\n\r\nbasically this was the solution i want to create but i don&#39;t have an idea because i can&#39;t type cast it\r\n```java\r\nString array= &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\r\n        char[] ch=array.toCharArray();\r\n        String charTemp = &quot;&quot;;\r\n        byte[] byteArray= {};\r\n\r\n        for (int i = 0; i &lt; ch.length; i++) {\r\n            if(i%2==0) {\r\n                System.out.println(charTemp);\r\n                System.out.println(byteArray.length);\r\n                byteArray[byteArray.length]=(int) charTemp;\r\n                charTemp=&quot;&quot;;\r\n            }\r\n            charTemp+=ch[i];\r\n            System.out.print(ch[i] + &quot; &quot;);\r\n        }\r\n```\r\n\r\nactually i want this [link](https://onlinestringtools.com/convert-bytes-to-string) but on my java code because i want to learn how to byte manipulation, also maybe if someone have a reference/guide how to learn about byte manipulation, please recommend me :) Thanks","title":"Convert Raw Bytes to String","body":"<p>i have this issue on my java code and i'm kinda stuck with my solution, so i want to convert a raw bytes that i captured from a network sniffer tool (wireshark) to a string real value of the bytes</p>\n<p>basically this was the solution i want to create but i don't have an idea because i can't type cast it</p>\n<pre class=\"lang-java prettyprint-override\"><code>String array= &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\n        char[] ch=array.toCharArray();\n        String charTemp = &quot;&quot;;\n        byte[] byteArray= {};\n\n        for (int i = 0; i &lt; ch.length; i++) {\n            if(i%2==0) {\n                System.out.println(charTemp);\n                System.out.println(byteArray.length);\n                byteArray[byteArray.length]=(int) charTemp;\n                charTemp=&quot;&quot;;\n            }\n            charTemp+=ch[i];\n            System.out.print(ch[i] + &quot; &quot;);\n        }\n</code></pre>\n<p>actually i want this <a href=\"https://onlinestringtools.com/convert-bytes-to-string\" rel=\"nofollow noreferrer\">link</a> but on my java code because i want to learn how to byte manipulation, also maybe if someone have a reference/guide how to learn about byte manipulation, please recommend me :) Thanks</p>\n"},{"tags":["java","android","deep-linking"],"answers":[{"tags":[],"owner":{"account_id":6419041,"reputation":3386,"user_id":4976247,"accept_rate":55,"display_name":"Vishal Vaishnav"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499671571,"creation_date":1499671571,"answer_id":45006050,"question_id":45005943,"body_markdown":"For redirecting on PlayStore use below line;\r\n\r\n      startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;use your playstore app Link&quot;)));","title":"Android deep linking not redirecting to play store","body":"<p>For redirecting on PlayStore use below line;</p>\n\n<pre><code>  startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(\"use your playstore app Link\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3540785,"reputation":1523,"user_id":2957956,"accept_rate":40,"display_name":"v4_adi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499671794,"creation_date":1499671794,"answer_id":45006116,"question_id":45005943,"body_markdown":"For make it work for users who doesn&#39; have your app, you can use Firebase dynamic link. You can also track parameter and analytics with Firebase dynamic link. It is free to use. Here is the link to its tutorial. It has easy to follow tutorial. \r\n\r\nhttps://firebase.google.com/docs/dynamic-links/\r\n\r\nIf you find any trouble in implementing the dynamic link feel free to contact me. ","title":"Android deep linking not redirecting to play store","body":"<p>For make it work for users who doesn' have your app, you can use Firebase dynamic link. You can also track parameter and analytics with Firebase dynamic link. It is free to use. Here is the link to its tutorial. It has easy to follow tutorial. </p>\n\n<p><a href=\"https://firebase.google.com/docs/dynamic-links/\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/</a></p>\n\n<p>If you find any trouble in implementing the dynamic link feel free to contact me. </p>\n"},{"tags":[],"owner":{"account_id":7042750,"reputation":13247,"user_id":5394680,"display_name":"Alex Bauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499696818,"creation_date":1499696818,"answer_id":45014683,"question_id":45005943,"body_markdown":"You are using [App Links](https://blog.branch.io/technical-guide-to-deep-linking-android-app-links/), which means these are regular `http://` links. When your user clicks `http://abc.in/abc`, one of two things will happen:\r\n\r\n1. If your app is installed, the user will have the option of opening it (to send them there directly without showing a chooser, you need to [Request App Links Verification](https://developer.android.com/training/app-links/index.html#request-verify)).\r\n1. If your all is NOT installed, the user will be taken to `http://abc.in/abc` in their web browser.\r\n\r\nIt&#39;s case 2 you&#39;re trying to handle, and the approach is simple: redirect your visitor to the Play Store using the page at `http://abc.in/abc`. This can be done via Javascript or HTTP (a 307 redirect is the most common).\r\n\r\nHowever, note that this alone is not enough for a complete deep linking solution. You also need to support...\r\n\r\n1. [A custom URI scheme](https://blog.branch.io/technical-guide-android-deep-linking-uri-schemes/) for situations where App Links don&#39;t work.\r\n1. [Chrome Intents](https://blog.branch.io/technical-guide-to-deep-linking-on-android-chrome-intents/) for Chrome.\r\n1. [Deferred deep linking](https://blog.branch.io/deferred-deep-linking-with-device-snapshotting/) to make sure your users are still sent to the correct place in your app after downloading it.\r\n\r\nI suggest looking into hosted deep link services like [Branch.io](https://branch.io) (full disclosure: I&#39;m on the Branch team) or Firebase Dynamic Links. They will make your life a lot easier.","title":"Android deep linking not redirecting to play store","body":"<p>You are using <a href=\"https://blog.branch.io/technical-guide-to-deep-linking-android-app-links/\" rel=\"nofollow noreferrer\">App Links</a>, which means these are regular <code>http://</code> links. When your user clicks <code>http://abc.in/abc</code>, one of two things will happen:</p>\n\n<ol>\n<li>If your app is installed, the user will have the option of opening it (to send them there directly without showing a chooser, you need to <a href=\"https://developer.android.com/training/app-links/index.html#request-verify\" rel=\"nofollow noreferrer\">Request App Links Verification</a>).</li>\n<li>If your all is NOT installed, the user will be taken to <code>http://abc.in/abc</code> in their web browser.</li>\n</ol>\n\n<p>It's case 2 you're trying to handle, and the approach is simple: redirect your visitor to the Play Store using the page at <code>http://abc.in/abc</code>. This can be done via Javascript or HTTP (a 307 redirect is the most common).</p>\n\n<p>However, note that this alone is not enough for a complete deep linking solution. You also need to support...</p>\n\n<ol>\n<li><a href=\"https://blog.branch.io/technical-guide-android-deep-linking-uri-schemes/\" rel=\"nofollow noreferrer\">A custom URI scheme</a> for situations where App Links don't work.</li>\n<li><a href=\"https://blog.branch.io/technical-guide-to-deep-linking-on-android-chrome-intents/\" rel=\"nofollow noreferrer\">Chrome Intents</a> for Chrome.</li>\n<li><a href=\"https://blog.branch.io/deferred-deep-linking-with-device-snapshotting/\" rel=\"nofollow noreferrer\">Deferred deep linking</a> to make sure your users are still sent to the correct place in your app after downloading it.</li>\n</ol>\n\n<p>I suggest looking into hosted deep link services like <a href=\"https://branch.io\" rel=\"nofollow noreferrer\">Branch.io</a> (full disclosure: I'm on the Branch team) or Firebase Dynamic Links. They will make your life a lot easier.</p>\n"}],"owner":{"display_name":"user6138777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4945,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1681992342,"creation_date":1499671181,"question_id":45005943,"body_markdown":"I have customized deep linking, it is working fine for users having the app. But for users not having the app, it doesn&#39;t redirect them to playstore.\r\n\r\n\r\n    &lt;intent-filter&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:host=&quot;abc.in&quot;\r\n                    android:pathPrefix=&quot;/abc&quot;\r\n                    android:scheme=&quot;http&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nMY Code for generating deeplink\r\n\r\n    public void Share() {\r\n        firebaseAnalyticsUtil.fireEvent(&quot;shared_link&quot;);\r\n        Intent sharingIntent = new Intent(Intent.ACTION_SEND);\r\n        sharingIntent.setType(&quot;text/plain&quot;);\r\n        sharingIntent.putExtra(Intent.EXTRA_SUBJECT,&quot;Hey!&quot;);\r\n        sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, &quot;Share Text - &quot;+&quot;http://abc.in/abc/&quot;+ID);\r\n        startActivity(Intent.createChooser(sharingIntent,&quot;Share using&quot;));\r\n    }\r\n\r\nAssist me to redirect user to playstore, if user does not have the app","title":"Android deep linking not redirecting to play store","body":"<p>I have customized deep linking, it is working fine for users having the app. But for users not having the app, it doesn't redirect them to playstore.</p>\n\n<pre><code>&lt;intent-filter&gt;\n\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;data\n                android:host=\"abc.in\"\n                android:pathPrefix=\"/abc\"\n                android:scheme=\"http\" /&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>MY Code for generating deeplink</p>\n\n<pre><code>public void Share() {\n    firebaseAnalyticsUtil.fireEvent(\"shared_link\");\n    Intent sharingIntent = new Intent(Intent.ACTION_SEND);\n    sharingIntent.setType(\"text/plain\");\n    sharingIntent.putExtra(Intent.EXTRA_SUBJECT,\"Hey!\");\n    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, \"Share Text - \"+\"http://abc.in/abc/\"+ID);\n    startActivity(Intent.createChooser(sharingIntent,\"Share using\"));\n}\n</code></pre>\n\n<p>Assist me to redirect user to playstore, if user does not have the app</p>\n"},{"tags":["java","android","android-10.0"],"comments":[{"owner":{"account_id":3342575,"reputation":2447,"user_id":2808493,"accept_rate":80,"display_name":"Armin"},"score":0,"creation_date":1561350150,"post_id":56689210,"comment_id":100018957,"body_markdown":"Do these articles help you ? https://developer.android.com/training/system-ui/immersive | https://developer.android.com/training/system-ui/visibility.html","body":"Do these articles help you ? <a href=\"https://developer.android.com/training/system-ui/immersive\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/immersive</a> | <a href=\"https://developer.android.com/training/system-ui/visibility.html\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/visibility.html</a>"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1561389034,"post_id":56689210,"comment_id":100037694,"body_markdown":"I already read it. But can&#39;t find any good solution. We can calculate using system bars, but it is not suitable for all devices &amp; apps, since it is non-standard!","body":"I already read it. But can&#39;t find any good solution. We can calculate using system bars, but it is not suitable for all devices &amp; apps, since it is non-standard!"},{"owner":{"account_id":10023041,"reputation":875,"user_id":7412076,"display_name":"Charles Annic"},"score":0,"creation_date":1561793772,"post_id":56689210,"comment_id":100185269,"body_markdown":"Do you mean &quot;fully gestural navigation&quot; by &quot;full screen gestures&quot;?","body":"Do you mean &quot;fully gestural navigation&quot; by &quot;full screen gestures&quot;?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1561801947,"post_id":56689210,"comment_id":100186608,"body_markdown":"I think both are same. Try android Q beta 4...","body":"I think both are same. Try android Q beta 4..."},{"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"score":1,"creation_date":1568195730,"post_id":56689210,"comment_id":102195188,"body_markdown":"Did you find any solution yet?","body":"Did you find any solution yet?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1568195922,"post_id":56689210,"comment_id":102195291,"body_markdown":"Unfortunately,  No!","body":"Unfortunately,  No!"},{"owner":{"account_id":19071008,"reputation":153,"user_id":13925173,"display_name":"A_Jayke"},"score":0,"creation_date":1623574478,"post_id":56689210,"comment_id":120113190,"body_markdown":"@Jaya Prakash Almost 2 year later, were you able to find a solution?","body":"@Jaya Prakash Almost 2 year later, were you able to find a solution?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":2,"creation_date":1623665486,"post_id":56689210,"comment_id":120134259,"body_markdown":"@A_Jayke Not yet. I still can&#39;t believe they didn&#39;t include any API for this. :/","body":"@A_Jayke Not yet. I still can&#39;t believe they didn&#39;t include any API for this. :/"}],"answers":[{"tags":[],"owner":{"account_id":7429323,"reputation":653,"user_id":5650873,"display_name":"Trung ƒêoan"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1584504681,"creation_date":1584504681,"answer_id":60733427,"question_id":56689210,"body_markdown":"You can use below code to check gesture or navigation mode\r\n\r\n        public static int isEdgeToEdgeEnabled(Context context) {\r\n            Resources resources = context.getResources();\r\n            int resourceId = resources.getIdentifier(&quot;config_navBarInteractionMode&quot;, &quot;integer&quot;, &quot;android&quot;);\r\n            if (resourceId &gt; 0) {\r\n                return resources.getInteger(resourceId);\r\n            }\r\n            return 0;\r\n        }\r\n\r\nThe value that returned by isEdgeToEdgeEnabled function will follow below:\r\n\r\n \r\n - 0 : Navigation is displaying with 3 buttons\r\n \r\n - 1 : Navigation is displaying with 2 button(Android P navigation mode)\r\n\r\n - 2 : Full screen gesture(Gesture on android Q)","title":"How to detect full screen gesture mode in android 10","body":"<p>You can use below code to check gesture or navigation mode</p>\n\n<pre><code>    public static int isEdgeToEdgeEnabled(Context context) {\n        Resources resources = context.getResources();\n        int resourceId = resources.getIdentifier(\"config_navBarInteractionMode\", \"integer\", \"android\");\n        if (resourceId &gt; 0) {\n            return resources.getInteger(resourceId);\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>The value that returned by isEdgeToEdgeEnabled function will follow below:</p>\n\n<ul>\n<li><p>0 : Navigation is displaying with 3 buttons</p></li>\n<li><p>1 : Navigation is displaying with 2 button(Android P navigation mode)</p></li>\n<li><p>2 : Full screen gesture(Gesture on android Q)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6400289,"reputation":2590,"user_id":4963233,"accept_rate":40,"display_name":"Rami Jemli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1593299450,"creation_date":1593299450,"answer_id":62616489,"question_id":56689210,"body_markdown":"According to docs, there is a `hasInsets()` method that returns `true` if the `WindowInsets` has any nonzero insets.&lt;br/&gt;\r\nhttps://developer.android.com/reference/android/view/WindowInsets#hasInsets()&lt;br/&gt;&lt;br/&gt;We can use it this way&lt;br/&gt;\r\n\r\n    view.rootWindowInsets.hasInsets()\r\nHope this helps!","title":"How to detect full screen gesture mode in android 10","body":"<p>According to docs, there is a <code>hasInsets()</code> method that returns <code>true</code> if the <code>WindowInsets</code> has any nonzero insets.<br/>\n<a href=\"https://developer.android.com/reference/android/view/WindowInsets#hasInsets()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/WindowInsets#hasInsets()</a><br/><br/>We can use it this way<br/></p>\n<pre><code>view.rootWindowInsets.hasInsets()\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10915331,"reputation":1673,"user_id":11146632,"display_name":"Sujit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640748977,"creation_date":1640748977,"answer_id":70514883,"question_id":56689210,"body_markdown":"I found [this article](https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c) really useful in explaining what [`WindowInsets`](https://developer.android.com/reference/android/view/WindowInsets) are and how to use them.\r\n\r\nBasically I check if the left gesture inset is greater than `0`, and if it is then the system is using gesture type navigation. Left and right gesture insets have to be greater than `0` in gesture type navigation because you swipe from the right or left to go back.\r\n\r\n```java\r\nint gestureLeft = 0;\r\n\r\nif (Build.VERSION.SDK_INT &gt;= 29) {\r\n    gestureLeft = this.getWindow().getDecorView().getRootWindowInsets().getSystemGestureInsets().left;\r\n}\r\n\r\nif (gestureLeft == 0) {\r\n    // Doesn&#39;t use gesture type navigation\r\n} else {\r\n    // Uses gesture type navigation\r\n}\r\n```\r\n\r\nObviously, the window has to be rendered for this to work. You can add it inside an [`OnApplyWindowInsetsListener`](https://developer.android.com/reference/android/view/View.OnApplyWindowInsetsListener) if you want this to run as soon as the window is rendered.\r\n\r\n&gt; Note: I tried using `getSystemGestureInsets().bottom`, but it returned a non-zero value even when I wasn&#39;t using gesture type navigation.","title":"How to detect full screen gesture mode in android 10","body":"<p>I found <a href=\"https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c\" rel=\"nofollow noreferrer\">this article</a> really useful in explaining what <a href=\"https://developer.android.com/reference/android/view/WindowInsets\" rel=\"nofollow noreferrer\"><code>WindowInsets</code></a> are and how to use them.</p>\n<p>Basically I check if the left gesture inset is greater than <code>0</code>, and if it is then the system is using gesture type navigation. Left and right gesture insets have to be greater than <code>0</code> in gesture type navigation because you swipe from the right or left to go back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int gestureLeft = 0;\n\nif (Build.VERSION.SDK_INT &gt;= 29) {\n    gestureLeft = this.getWindow().getDecorView().getRootWindowInsets().getSystemGestureInsets().left;\n}\n\nif (gestureLeft == 0) {\n    // Doesn't use gesture type navigation\n} else {\n    // Uses gesture type navigation\n}\n</code></pre>\n<p>Obviously, the window has to be rendered for this to work. You can add it inside an <a href=\"https://developer.android.com/reference/android/view/View.OnApplyWindowInsetsListener\" rel=\"nofollow noreferrer\"><code>OnApplyWindowInsetsListener</code></a> if you want this to run as soon as the window is rendered.</p>\n<blockquote>\n<p>Note: I tried using <code>getSystemGestureInsets().bottom</code>, but it returned a non-zero value even when I wasn't using gesture type navigation.</p>\n</blockquote>\n"}],"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8230,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"answer_count":3,"score":32,"last_activity_date":1681992049,"creation_date":1561044099,"question_id":56689210,"body_markdown":"In Android 10, users can enable full screen gesture mode. I want to detect whether the device in full screen gesture mode or not. I can&#39;t find anything in documentation. How to do it programmatically at run time?\r\n\r\nJava or kotlin language answer is OK.\r\n\r\nAny official API or workaround...","title":"How to detect full screen gesture mode in android 10","body":"<p>In Android 10, users can enable full screen gesture mode. I want to detect whether the device in full screen gesture mode or not. I can't find anything in documentation. How to do it programmatically at run time?</p>\n\n<p>Java or kotlin language answer is OK.</p>\n\n<p>Any official API or workaround...</p>\n"},{"tags":["java","ant","build.xml"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1681926437,"post_id":76057219,"comment_id":134137138,"body_markdown":"Kindly read https://stackoverflow.com/help/how-to-ask. You should add the detailed configurations from build.xml, directory listing and full error messages. Also version of ANT and tooling used.","body":"Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. You should add the detailed configurations from build.xml, directory listing and full error messages. Also version of ANT and tooling used."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681990746,"post_id":76057219,"comment_id":134147180,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681993251,"post_id":76057219,"comment_id":134147737,"body_markdown":"Please do not use comments for thanks. Guideline on https://stackoverflow.com/help/someone-answers: Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. Comments are meant for requesting clarification, leaving constructive criticism, or adding relevant but minor additional information ‚Äì not for socializing. If you want to say &quot;thank you,&quot; vote on or accept that person&#39;s answer, or simply pay it forward by providing a great answer to someone else&#39;s question.","body":"Please do not use comments for thanks. Guideline on <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>: Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. Comments are meant for requesting clarification, leaving constructive criticism, or adding relevant but minor additional information ‚Äì not for socializing. If you want to say &quot;thank you,&quot; vote on or accept that person&#39;s answer, or simply pay it forward by providing a great answer to someone else&#39;s question."}],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991850,"creation_date":1681924621,"question_id":76057219,"body_markdown":"My Project build.xml is \r\n\r\n\r\n    &lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\r\n \r\n\t&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\r\n\t&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\r\n\t&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\r\n\t&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\r\n\t&lt;property name=&quot;build.target.dir&quot; value=&quot;${build.root.dir}/target&quot;/&gt;\r\n\t&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\r\n\t&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\r\n\t&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\r\n\t&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\r\n\t&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\r\n\r\n \r\n\r\n\t&lt;path id=&quot;3rdparty.path&quot;&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ldap-authentication-api-1.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ojdbc6-11.2.0.2.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\r\n\t\t\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.uguess.birt.report.engine.emitter.rtf_2.5.2.201107181644.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.update.configurator_3.3.200.v20130326-1319.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi_3.9.1.v20130814-1242.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi.services_3.3.100.v20130513-1956.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.orbit.mongodb_2.10.1.v20130422-1135.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.registry_3.5.301.v20130717-1549.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.app_1.3.100.v20130327-1442.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf_2.6.0.v20130902-0605.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.xmi_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.change_2.9.0.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.common_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity_1.2.9.v201307261105.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda_3.4.1.v201308160907.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.design_3.3.6.v201212070447.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201305170644.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.1.v201107221459.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.runtime_3.9.0.v20130326-1255.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.resources_3.8.101.v20130717-0806.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.filesystem_1.4.0.v20130514-1240.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.expressions_3.4.500.v20130515-1343.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime-4.3.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime_4.3.1.v20130918-1142.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.nativexls_1.0.0.201110011404.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.csv_1.0.0.201110121016.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.xml.resolver_1.2.0.v201005080400.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.xml_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util.gui_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.transcoder_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.svggen_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.pdf_1.6.0.v201105071520.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.parser_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.ext.awt_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom.svg_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.css_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.bridge_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-examples-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-excelant-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-schemas-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-scratchpad-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jackson-core-asl-1.9.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jackson-mapper-asl-1.9.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet-core.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javax.annotation-api-1.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javax.ws.rs-api-2.0.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-server.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-api-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-locator-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-utils-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-guava-2.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/validation-api-1.1.0.Final.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-client.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/AsOneModel.jar&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;path id=&quot;jboss.path&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\r\n\t\t\t&lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;activation.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;mail.jar&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;path refid=&quot;3rdparty.path&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;target name=&quot;settings&quot;&gt;\r\n\t\t&lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\r\n\t\t&lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;\t\r\n\t&lt;/target &gt;\r\n\t\r\n\t&lt;target name=&quot;compile_timesheet&quot; &gt;\r\n\t\t&lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\r\n\t\t\t&lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;com/**/*.java&quot;/&gt;\r\n\t\t&lt;/javac&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\r\n\t\t&lt;delete dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/com/cnsi/timesheet/&quot; &gt;\r\n\t\t   &lt;fileset dir=&quot;${build.root.dir}/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.target.dir}/${build.app.name}.war&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\r\n\t\r\n\t\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nand my target build.xml is \r\n\r\n\r\n\r\n    &lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\r\n\r\n\t&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\r\n\t&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\r\n\t&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\r\n\t&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\r\n\t&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\r\n\t&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\r\n\t&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\r\n\t&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\r\n\t&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\r\n\r\n\t&lt;path id=&quot;3rdparty.path&quot;&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mysql-connector-java-3.1.12-bin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;path id=&quot;jboss.path&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\r\n\t\t\t&lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;activation.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;mail.jar&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;path refid=&quot;3rdparty.path&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;target name=&quot;settings&quot;&gt;\r\n\t\t&lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\r\n\t\t&lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;\t\r\n\t&lt;/target &gt;\r\n\t\r\n\t&lt;target name=&quot;compile_timesheet&quot; &gt;\r\n\t\t&lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\r\n\t\t\t&lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;com/**/*.java&quot;/&gt;\r\n\t\t&lt;/javac&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\r\n\t\t&lt;delete dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.source.dir}/${build.app.name}.war&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nI am creating a war file after deployment, but unable to find the jar dependency in the build.xml in target folder.\r\n\r\nI have added \r\n`&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;` in build.xml and added the jar in lib folder.\r\n\r\nAfter building the project I have seen that the jar is not found and the build.xml in target folder doesn&#39;t contain the jar path as I added in project&#39;s build.xml\r\n\r\nCan someone tell me how can I deploy it with new jar dependency I added.\r\n\r\n","title":"Build.xml in target folder is not updated with the jar dependencies newly added -- using ant to build","body":"<p>My Project build.xml is</p>\n<pre><code>&lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\n\n&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\n&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\n&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\n&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\n&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\n&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\n&lt;property name=&quot;build.target.dir&quot; value=&quot;${build.root.dir}/target&quot;/&gt;\n&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\n&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\n&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\n&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\n&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\n\n\n\n&lt;path id=&quot;3rdparty.path&quot;&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ldap-authentication-api-1.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ojdbc6-11.2.0.2.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\n    \n    &lt;pathelement path=&quot;${build.lib.dir}/org.uguess.birt.report.engine.emitter.rtf_2.5.2.201107181644.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.update.configurator_3.3.200.v20130326-1319.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi_3.9.1.v20130814-1242.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi.services_3.3.100.v20130513-1956.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.orbit.mongodb_2.10.1.v20130422-1135.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.registry_3.5.301.v20130717-1549.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.app_1.3.100.v20130327-1442.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf_2.6.0.v20130902-0605.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.xmi_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.change_2.9.0.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.common_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity_1.2.9.v201307261105.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda_3.4.1.v201308160907.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.design_3.3.6.v201212070447.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201305170644.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.1.v201107221459.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.runtime_3.9.0.v20130326-1255.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.resources_3.8.101.v20130717-0806.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.filesystem_1.4.0.v20130514-1240.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.expressions_3.4.500.v20130515-1343.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime-4.3.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime_4.3.1.v20130918-1142.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.nativexls_1.0.0.201110011404.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.csv_1.0.0.201110121016.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.xml.resolver_1.2.0.v201005080400.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.xml_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util.gui_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.transcoder_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.svggen_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.pdf_1.6.0.v201105071520.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.parser_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.ext.awt_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom.svg_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.css_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.bridge_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-examples-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-excelant-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-schemas-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-scratchpad-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jackson-core-asl-1.9.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jackson-mapper-asl-1.9.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet-core.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javax.annotation-api-1.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javax.ws.rs-api-2.0.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-server.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-api-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-locator-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-utils-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-guava-2.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/validation-api-1.1.0.Final.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-client.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/AsOneModel.jar&quot;/&gt;\n&lt;/path&gt;\n\n&lt;path id=&quot;jboss.path&quot;&gt;\n    &lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\n        &lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\n        &lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\n        &lt;include name=&quot;activation.jar&quot;/&gt;\n        &lt;include name=&quot;mail.jar&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;path refid=&quot;3rdparty.path&quot;/&gt;\n&lt;/path&gt;\n\n&lt;target name=&quot;settings&quot;&gt;\n    &lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\n    &lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;   \n&lt;/target &gt;\n\n&lt;target name=&quot;compile_timesheet&quot; &gt;\n    &lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\n        &lt;include name=&quot;com/**/*.java&quot;/&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\n    &lt;delete dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/&quot;&gt;\n        &lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\n        &lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/com/cnsi/timesheet/&quot; &gt;\n       &lt;fileset dir=&quot;${build.root.dir}/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\n    &lt;/copy&gt;\n    &lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\n        &lt;fileset dir=&quot;${build.target.dir}/${build.app.name}.war&quot; /&gt;\n    &lt;/copy&gt;\n\n\n    &lt;/target&gt;\n</code></pre>\n\n<p>and my target build.xml is</p>\n<pre><code>&lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\n\n&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\n&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\n&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\n&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\n&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\n&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\n&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\n&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\n&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\n&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\n&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\n\n&lt;path id=&quot;3rdparty.path&quot;&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mysql-connector-java-3.1.12-bin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\n&lt;/path&gt;\n\n&lt;path id=&quot;jboss.path&quot;&gt;\n    &lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\n        &lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\n        &lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\n        &lt;include name=&quot;activation.jar&quot;/&gt;\n        &lt;include name=&quot;mail.jar&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;path refid=&quot;3rdparty.path&quot;/&gt;\n&lt;/path&gt;\n\n&lt;target name=&quot;settings&quot;&gt;\n    &lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\n    &lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;   \n&lt;/target &gt;\n\n&lt;target name=&quot;compile_timesheet&quot; &gt;\n    &lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\n        &lt;include name=&quot;com/**/*.java&quot;/&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\n    &lt;delete dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/&quot;&gt;\n        &lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\n        &lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\n        &lt;fileset dir=&quot;${build.source.dir}/${build.app.name}.war&quot; /&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>I am creating a war file after deployment, but unable to find the jar dependency in the build.xml in target folder.</p>\n<p>I have added\n<code>&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;</code> in build.xml and added the jar in lib folder.</p>\n<p>After building the project I have seen that the jar is not found and the build.xml in target folder doesn't contain the jar path as I added in project's build.xml</p>\n<p>Can someone tell me how can I deploy it with new jar dependency I added.</p>\n"},{"tags":["java","spring","websocket"],"owner":{"account_id":28359688,"reputation":1,"user_id":21689888,"display_name":"kanepark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991845,"creation_date":1681991845,"question_id":76063784,"body_markdown":"WebSocketConfig.java\r\n\r\n```\r\n@Configuration\r\n\r\n@EnableWebSocket\r\n\r\npublic class WebSocketConfig implements WebSocketConfigurer{\r\n\r\n@Override\r\n\r\npublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n\r\nregistry.addHandler(myHandler(), &quot;/user&quot;).setAllowedOrigins(&quot;\\*&quot;).withSockJS();\r\n\r\n}\r\n\r\n@Bean\r\n\r\npublic WebSocketHandler myHandler() {\r\n\r\nreturn new MyHandler();\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\nSocketTextHandler.java\r\n```\r\n\r\npublic class SocketTextHandler extends TextWebSocketHandler {\r\n\r\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\r\n\r\n@Override\r\n\r\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n\r\nsessions.add(session);\r\n\r\nSystem.out.print(&quot;Ïó∞Í≤∞&quot;);\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic boolean supportsPartialMessages() {\r\n\r\n// TODO Auto-generated method stub\r\n\r\nreturn false;\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\nMyHandler.java\r\n\r\n```\r\npublic class MyHandler implements WebSocketHandler {\r\n\r\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\r\n\r\n@Override\r\n\r\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n\r\nsessions.add(session);\r\n\r\nSystem.out.print(&quot;hi&quot;);\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic boolean supportsPartialMessages() {\r\n\r\n// TODO Auto-generated method stub\r\n\r\nreturn false;\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\ni configurate code above this.\r\nwhen i check through postman\r\nws://localhost:8080/user\r\nit doesn&#39;t work...\r\ni already have checked the port is 8080..\r\nDo i have something left?\r\n\r\nwhen i check through postman\r\nws://localhost:8080/user\r\nit doesn&#39;t work...\r\ni already have checked the port is 8080..\r\nDo i have something left?","title":"problems implementing websocket exercise using spring boot","body":"<p>WebSocketConfig.java</p>\n<pre><code>@Configuration\n\n@EnableWebSocket\n\npublic class WebSocketConfig implements WebSocketConfigurer{\n\n@Override\n\npublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n\nregistry.addHandler(myHandler(), &quot;/user&quot;).setAllowedOrigins(&quot;\\*&quot;).withSockJS();\n\n}\n\n@Bean\n\npublic WebSocketHandler myHandler() {\n\nreturn new MyHandler();\n\n}\n\n}\n\n</code></pre>\n<p>SocketTextHandler.java</p>\n<pre><code>\npublic class SocketTextHandler extends TextWebSocketHandler {\n\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\n\n@Override\n\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n\nsessions.add(session);\n\nSystem.out.print(&quot;Ïó∞Í≤∞&quot;);\n\n}\n\n@Override\n\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic boolean supportsPartialMessages() {\n\n// TODO Auto-generated method stub\n\nreturn false;\n\n}\n\n}\n\n</code></pre>\n<p>MyHandler.java</p>\n<pre><code>public class MyHandler implements WebSocketHandler {\n\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\n\n@Override\n\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n\nsessions.add(session);\n\nSystem.out.print(&quot;hi&quot;);\n\n}\n\n@Override\n\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic boolean supportsPartialMessages() {\n\n// TODO Auto-generated method stub\n\nreturn false;\n\n}\n\n}\n</code></pre>\n<p>i configurate code above this.\nwhen i check through postman\nws://localhost:8080/user\nit doesn't work...\ni already have checked the port is 8080..\nDo i have something left?</p>\n<p>when i check through postman\nws://localhost:8080/user\nit doesn't work...\ni already have checked the port is 8080..\nDo i have something left?</p>\n"},{"tags":["java","android","kotlin","unit-testing","opencv"],"owner":{"account_id":5866991,"reputation":10236,"user_id":4620609,"accept_rate":100,"display_name":"Samuel Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991726,"creation_date":1681991726,"question_id":76063765,"body_markdown":"I have been trying to integrate OpenCV into my Android app. I was successfully able to integrate and run it. However, when running unit tests which initialises OpenCV library results in an error stating \r\n\r\n```java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:```\r\n\r\nsteps I have followed so far,\r\n\r\n1. Downloaded the OpenCV lib from [here][1]\r\n2. Extracted the file and imported the module into my Android project\r\n3. Tested the library by running it on real device\r\n4. While creating a unit test with the below code, it throws the aforeementioned error\r\n\r\n```\r\n@RunWith(RobolectricTestRunner::class)\r\nclass SimilarityTransformTest {\r\n\r\n    private val transform: LinearTransform = SimilarityTransform()\r\n\r\n    @Before\r\n    fun setup() {\r\n        OpenCVLoader.initDebug()\r\n    }\r\n\r\n    @Test\r\n    fun getTransformationVector_calculateVector() {\r\n        val landmarkMat = Mat(5, 2, CvType.CV_32F)\r\n        val landmark = FacialLandmark(\r\n            PointF(395.0f, 317.0f),\r\n            PointF(536.0f, 315.0f),\r\n            PointF(440.0f, 415.0f),\r\n            PointF(409.0f, 478.0f),\r\n            PointF(534.0f, 475.0f)\r\n        )\r\n        landmarkMat.put(0, 0, *landmark.toDoubleArray())\r\n        val alignmentMat = Mat(5, 2, CvType.CV_32F)\r\n        val alignment = listOf(\r\n            Point(87.530518, 118.16298),\r\n            Point(168.07269, 117.71749),\r\n            Point(128.0576, 163.96938),\r\n            Point(94.969826, 211.12115),\r\n            Point(161.66835, 210.75224)\r\n        ).flatMap { arrayOf(it.x, it.y).asIterable() }\r\n            .toDoubleArray()\r\n        alignmentMat.put(0, 0, *alignment)\r\n        val result = transform.getTransformationVector(landmarkMat, alignmentMat)\r\n        val expected = Mat(2, 3, CvType.CV_32F)\r\n        expected.put(0, 0, 0.55679309, -0.013752065, -124.12323, 0.013752068, 0.55679309, -64.73703);\r\n\r\n        assertEquals(expected, result)\r\n    }\r\n}\r\n\r\njava.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.base/java.lang.System.loadLibrary(Unknown Source)\r\n\tat org.opencv.android.StaticHelper.loadLibrary(StaticHelper.java:64)\r\n\tat org.opencv.android.StaticHelper.initOpenCVLibs(StaticHelper.java:95)\r\n\tat org.opencv.android.StaticHelper.initOpenCV(StaticHelper.java:39)\r\n\tat org.opencv.android.OpenCVLoader.initDebug(OpenCVLoader.java:107)\r\n\tat com.yoti.mobile.android.ai.core.warp.SimilarityTransformTest.setup(SimilarityTransformTest.kt:28)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:589)\r\n\tat org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$2(SandboxTestRunner.java:290)\r\n\tat org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:99)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n```\r\n\r\nI would appreciate any help to understand why the `opencv_java4` cannot be loaded for unit tests but works well while running the app on a device/emulator.\r\n\r\n  [1]: https://opencv.org/releases/","title":"java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path in Android unit test","body":"<p>I have been trying to integrate OpenCV into my Android app. I was successfully able to integrate and run it. However, when running unit tests which initialises OpenCV library results in an error stating</p>\n<p><code>java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:</code></p>\n<p>steps I have followed so far,</p>\n<ol>\n<li>Downloaded the OpenCV lib from <a href=\"https://opencv.org/releases/\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Extracted the file and imported the module into my Android project</li>\n<li>Tested the library by running it on real device</li>\n<li>While creating a unit test with the below code, it throws the aforeementioned error</li>\n</ol>\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass SimilarityTransformTest {\n\n    private val transform: LinearTransform = SimilarityTransform()\n\n    @Before\n    fun setup() {\n        OpenCVLoader.initDebug()\n    }\n\n    @Test\n    fun getTransformationVector_calculateVector() {\n        val landmarkMat = Mat(5, 2, CvType.CV_32F)\n        val landmark = FacialLandmark(\n            PointF(395.0f, 317.0f),\n            PointF(536.0f, 315.0f),\n            PointF(440.0f, 415.0f),\n            PointF(409.0f, 478.0f),\n            PointF(534.0f, 475.0f)\n        )\n        landmarkMat.put(0, 0, *landmark.toDoubleArray())\n        val alignmentMat = Mat(5, 2, CvType.CV_32F)\n        val alignment = listOf(\n            Point(87.530518, 118.16298),\n            Point(168.07269, 117.71749),\n            Point(128.0576, 163.96938),\n            Point(94.969826, 211.12115),\n            Point(161.66835, 210.75224)\n        ).flatMap { arrayOf(it.x, it.y).asIterable() }\n            .toDoubleArray()\n        alignmentMat.put(0, 0, *alignment)\n        val result = transform.getTransformationVector(landmarkMat, alignmentMat)\n        val expected = Mat(2, 3, CvType.CV_32F)\n        expected.put(0, 0, 0.55679309, -0.013752065, -124.12323, 0.013752068, 0.55679309, -64.73703);\n\n        assertEquals(expected, result)\n    }\n}\n\njava.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n    at java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.base/java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.base/java.lang.System.loadLibrary(Unknown Source)\n    at org.opencv.android.StaticHelper.loadLibrary(StaticHelper.java:64)\n    at org.opencv.android.StaticHelper.initOpenCVLibs(StaticHelper.java:95)\n    at org.opencv.android.StaticHelper.initOpenCV(StaticHelper.java:39)\n    at org.opencv.android.OpenCVLoader.initDebug(OpenCVLoader.java:107)\n    at com.yoti.mobile.android.ai.core.warp.SimilarityTransformTest.setup(SimilarityTransformTest.kt:28)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:589)\n    at org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$2(SandboxTestRunner.java:290)\n    at org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:99)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n\n\n</code></pre>\n<p>I would appreciate any help to understand why the <code>opencv_java4</code> cannot be loaded for unit tests but works well while running the app on a device/emulator.</p>\n"},{"tags":["java","eclipse","formatting"],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681991670,"creation_date":1681991291,"answer_id":76063702,"question_id":76063645,"body_markdown":"In Eclipse navigate to:\r\n\r\n`Window -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter`\r\n\r\nThen, to change your formatting preferences, click `Edit`.\r\n\r\nThere navigate to `Line Wrapping -&gt; Wrapping Settings`.\r\n\r\nFor methods:\r\n\r\nOpen the option for `Method Declarations`, where you can select the formatting behavior for `throws`.\r\n\r\nFor class declarations:\r\n\r\nOpen the option for `Class Declarations`, where you can select the formatting behavior for `extends` and `implements`.\r\n","title":"Format implements/extends/throws on new line","body":"<p>In Eclipse navigate to:</p>\n<p><code>Window -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter</code></p>\n<p>Then, to change your formatting preferences, click <code>Edit</code>.</p>\n<p>There navigate to <code>Line Wrapping -&gt; Wrapping Settings</code>.</p>\n<p>For methods:</p>\n<p>Open the option for <code>Method Declarations</code>, where you can select the formatting behavior for <code>throws</code>.</p>\n<p>For class declarations:</p>\n<p>Open the option for <code>Class Declarations</code>, where you can select the formatting behavior for <code>extends</code> and <code>implements</code>.</p>\n"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76063702,"answer_count":1,"score":0,"last_activity_date":1681991670,"creation_date":1681990855,"question_id":76063645,"body_markdown":"I want my java formatted with throws, implements, and extends on a new line. Is this possible in Eclipse?\r\n\r\n``` java\r\npublic DataRecord fromFile(File file, InputStream inputStream) throws IOException {\r\n```\r\nto\r\n``` java\r\npublic DataRecord fromFile(File file, InputStream inputStream)\r\n  throws IOException {\r\n```\r\n","title":"Format implements/extends/throws on new line","body":"<p>I want my java formatted with throws, implements, and extends on a new line. Is this possible in Eclipse?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DataRecord fromFile(File file, InputStream inputStream) throws IOException {\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DataRecord fromFile(File file, InputStream inputStream)\n  throws IOException {\n</code></pre>\n"},{"tags":["java","android","caching"],"answers":[{"tags":[],"owner":{"account_id":13898187,"reputation":359,"user_id":10034413,"display_name":"E. Greeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990941,"creation_date":1681990941,"answer_id":76063652,"question_id":76063642,"body_markdown":"I find a solution for this question, but idk if it&#39;s the correct solution\r\n\r\nIf i delete the cache DIR it work&#39;s fine, deleting only the image don&#39;t work\r\n\r\nThis code from: https://stackoverflow.com/a/23908638/10034413\r\n\r\n    public static void deleteCache(Context context) {\r\n    try {\r\n        File dir = context.getCacheDir();\r\n        deleteDir(dir);\r\n    } catch (Exception e) { e.printStackTrace();}\r\n    }\r\n    \r\n    public static boolean deleteDir(File dir) {\r\n        if (dir != null &amp;&amp; dir.isDirectory()) {\r\n            String[] children = dir.list();\r\n            for (int i = 0; i &lt; children.length; i++) {\r\n                boolean success = deleteDir(new File(dir, children[i]));\r\n                if (!success) {\r\n                    return false;\r\n                }\r\n            }\r\n            return dir.delete();\r\n        } else if(dir!= null &amp;&amp; dir.isFile()) {\r\n            return dir.delete();\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Cached android image don&#39;t change on view","body":"<p>I find a solution for this question, but idk if it's the correct solution</p>\n<p>If i delete the cache DIR it work's fine, deleting only the image don't work</p>\n<p>This code from: <a href=\"https://stackoverflow.com/a/23908638/10034413\">https://stackoverflow.com/a/23908638/10034413</a></p>\n<pre><code>public static void deleteCache(Context context) {\ntry {\n    File dir = context.getCacheDir();\n    deleteDir(dir);\n} catch (Exception e) { e.printStackTrace();}\n}\n\npublic static boolean deleteDir(File dir) {\n    if (dir != null &amp;&amp; dir.isDirectory()) {\n        String[] children = dir.list();\n        for (int i = 0; i &lt; children.length; i++) {\n            boolean success = deleteDir(new File(dir, children[i]));\n            if (!success) {\n                return false;\n            }\n        }\n        return dir.delete();\n    } else if(dir!= null &amp;&amp; dir.isFile()) {\n        return dir.delete();\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13898187,"reputation":359,"user_id":10034413,"display_name":"E. Greeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681991380,"creation_date":1681990841,"question_id":76063642,"body_markdown":"I have to create a new image based on Bitmap on the cache of my application, this works fine but when i have to create another one this process of creating and delete works to, but the image showed on the screen is still the first image i created.\r\n\r\nAndroid saves the image on memory or what?","title":"Cached android image don&#39;t change on view","body":"<p>I have to create a new image based on Bitmap on the cache of my application, this works fine but when i have to create another one this process of creating and delete works to, but the image showed on the screen is still the first image i created.</p>\n<p>Android saves the image on memory or what?</p>\n"},{"tags":["java","spring-boot","hibernate","connection-pooling","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681993250,"post_id":76063713,"comment_id":134147736,"body_markdown":"Resetting hikari is not the solution. You are leaking connections in your application, which is the issue you need to fix.","body":"Resetting hikari is not the solution. You are leaking connections in your application, which is the issue you need to fix."},{"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"score":0,"creation_date":1682009063,"post_id":76063713,"comment_id":134152032,"body_markdown":"I don&#39;t have anywhere in code that work with connections directly. All code in ORM and spring data (Repository interfaces)","body":"I don&#39;t have anywhere in code that work with connections directly. All code in ORM and spring data (Repository interfaces)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682063606,"post_id":76063713,"comment_id":134159875,"body_markdown":"Doesn&#39;t matter, there is a leak somewhere, you don&#39;t need to work with the connection directly to achieve that. Doing things like `EntityManagerFactory.createEntityManager` or using a direct hibernate session could be the cause (or wrong use of the `JdbcTemplate`). Either way there is a leak in your application (I would suggest turning on leak detection on HIkari so you get errors), which need to be fixed. Or you have long running jobs that take up all the connections in the pool (which would require a larger pool).","body":"Doesn&#39;t matter, there is a leak somewhere, you don&#39;t need to work with the connection directly to achieve that. Doing things like <code>EntityManagerFactory.createEntityManager</code> or using a direct hibernate session could be the cause (or wrong use of the <code>JdbcTemplate</code>). Either way there is a leak in your application (I would suggest turning on leak detection on HIkari so you get errors), which need to be fixed. Or you have long running jobs that take up all the connections in the pool (which would require a larger pool)."}],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991373,"creation_date":1681991373,"question_id":76063713,"body_markdown":"We are using Spring Boot app with Hikari connection pool and Hibernate and Oracle. Sometimes in operational environment we see the blow exception:\r\n\r\n    Unable to acquire JDBC Connection\r\n\r\nThis error repeats until I reset the application and then the error will solved.\r\nI think Hikari state is not updated. I lookedup for a solution for reseting the connection pool without reset the application.\r\n\r\nI want to know the root cause the problem and know reset the connection pool is true solution and how to do that?","title":"Reset Hikari connection pool","body":"<p>We are using Spring Boot app with Hikari connection pool and Hibernate and Oracle. Sometimes in operational environment we see the blow exception:</p>\n<pre><code>Unable to acquire JDBC Connection\n</code></pre>\n<p>This error repeats until I reset the application and then the error will solved.\nI think Hikari state is not updated. I lookedup for a solution for reseting the connection pool without reset the application.</p>\n<p>I want to know the root cause the problem and know reset the connection pool is true solution and how to do that?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","pact"],"comments":[{"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"score":0,"creation_date":1682049342,"post_id":76063636,"comment_id":134157800,"body_markdown":"The issue here seems to be that the consumer is expecting the wrong value, and the provider actually provides a differently formatted timestamp? Aren&#39;t you best updating the consumer test?","body":"The issue here seems to be that the consumer is expecting the wrong value, and the provider actually provides a differently formatted timestamp? Aren&#39;t you best updating the consumer test?"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1682337813,"post_id":76063636,"comment_id":134194175,"body_markdown":"Well, consumer expects data same as in real service. Of course I can adjust consumer to make fields matching, but it is a cheat :) I need to test correct data, so in my case provider  provides incorrect data and doesnt match with consumer. @MatthewFellows","body":"Well, consumer expects data same as in real service. Of course I can adjust consumer to make fields matching, but it is a cheat :) I need to test correct data, so in my case provider  provides incorrect data and doesnt match with consumer. @MatthewFellows"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991208,"creation_date":1681990731,"question_id":76063636,"body_markdown":"I am trying to create Pact Test, my `provider` responds with incorrect data for `consumer`.\r\nFor example it responds with incorrect date format.\r\nConsumer pact expectation: .datetime(&quot;created-at&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\nProvider responds with: timestamp long value.\r\nReal API responds with: &quot;2023-03-30T10:22:32.975+00:00&quot; for example.\r\n\r\nProvider test:\r\n```\r\n@TestPropertySource(properties = {\r\n    &quot;xxx&quot;\r\n})\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Provider(&quot;MyService&quot;)\r\n@PactBroker\r\npublic class PactTest extends IntegrationBase {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @Autowired\r\n    private Repository repository;\r\n\r\n    @BeforeEach\r\n    void setup(PactVerificationContext context) {\r\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;, port));\r\n    }\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationSpringProvider.class)\r\n    void pactVerificationTestTemplate(PactVerificationContext context) {\r\n        context.verifyInteraction();\r\n    }\r\n\r\n@State(value = &quot;GET ALL DATA&quot;, action = StateChangeAction.SETUP)\r\n    void getAll() {\r\n         //some code\r\n        repository.save(entity);\r\n    }\r\n```\r\n\r\nHow should I configure my provider test to respond with jackson configuration I have in project?\r\n","title":"How to configure Jackson for Pact Test in Spring Boot Test?","body":"<p>I am trying to create Pact Test, my <code>provider</code> responds with incorrect data for <code>consumer</code>.\nFor example it responds with incorrect date format.\nConsumer pact expectation: .datetime(&quot;created-at&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\nProvider responds with: timestamp long value.\nReal API responds with: &quot;2023-03-30T10:22:32.975+00:00&quot; for example.</p>\n<p>Provider test:</p>\n<pre><code>@TestPropertySource(properties = {\n    &quot;xxx&quot;\n})\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Provider(&quot;MyService&quot;)\n@PactBroker\npublic class PactTest extends IntegrationBase {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private Repository repository;\n\n    @BeforeEach\n    void setup(PactVerificationContext context) {\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;, port));\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationSpringProvider.class)\n    void pactVerificationTestTemplate(PactVerificationContext context) {\n        context.verifyInteraction();\n    }\n\n@State(value = &quot;GET ALL DATA&quot;, action = StateChangeAction.SETUP)\n    void getAll() {\n         //some code\n        repository.save(entity);\n    }\n</code></pre>\n<p>How should I configure my provider test to respond with jackson configuration I have in project?</p>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":8054693,"reputation":1522,"user_id":6072229,"accept_rate":100,"display_name":"TomVW"},"score":0,"creation_date":1526981973,"post_id":50463766,"comment_id":87942035,"body_markdown":"What is the command you use to run your application?","body":"What is the command you use to run your application?"}],"answers":[{"tags":[],"owner":{"account_id":8054693,"reputation":1522,"user_id":6072229,"accept_rate":100,"display_name":"TomVW"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1557166385,"creation_date":1526981920,"answer_id":50464442,"question_id":50463766,"body_markdown":"You can run `java` with the absolute path to the installation\r\n\r\nThis would be your default `/usr/bin/java` installation\r\n\r\n    java -version\r\n\r\nTo change it, use the absolute path\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -version\r\n\r\nIf you&#39;re not running the `java` command directly, try setting the JAVA_HOME variable:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/jre/&quot; pdfsam","title":"How to run an application on a specific Java version?","body":"<p>You can run <code>java</code> with the absolute path to the installation</p>\n\n<p>This would be your default <code>/usr/bin/java</code> installation</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>To change it, use the absolute path</p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -version\n</code></pre>\n\n<p>If you're not running the <code>java</code> command directly, try setting the JAVA_HOME variable:</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/jre/\" pdfsam\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19575663,"reputation":1,"user_id":21688858,"display_name":"Le Nain Jaune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681991000,"creation_date":1681985825,"answer_id":76062985,"question_id":50463766,"body_markdown":"As I needed a specific version of Java for a specific application ([&quot;Jitsi Desktop&quot; no more supported][1] and works with JDK 8). The only way to get this specific version is to download it, uncompress and make application use it. In my case the JAVA_HOME environment variable does not working since the JDK is not really installed in the system.\r\n\r\nSo I found this simple method : install the JDK version needed and execute the specific application with specifying which version of JDK using with temporarily modifying the PATH environment variable.\r\n\r\nIn my case (the **user** must have right to read and execute the JDK) :\r\n\r\n    user@host:~$ PATH=/data/noinstall/jdk8u332-b09/bin/:$PATH jitsi\r\n\r\nNote : adapt the path of the JDK&#39;s bin directory before the colon\r\n\r\nSo PATH is modified only during the execution of **jitsi**. Elsewhere during the execution or after the execution, PATH stay unchanged.\r\n\r\nAs `update-alternatives --config java` change the JDK globally I suppose this solution makes more comfortable the use cases with many different versions of JDK installed on the same system, dev, etc.\r\n\r\nBased on [this topic][2] and my intuitions.\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/1273190/how-to-install-jitsi-from-the-unstable-repo/1324208#1324208\r\n  [2]: https://unix.stackexchange.com/questions/699507/how-can-i-install-java-8-on-debian-11-bullseye/699509#699509","title":"How to run an application on a specific Java version?","body":"<p>As I needed a specific version of Java for a specific application (<a href=\"https://askubuntu.com/questions/1273190/how-to-install-jitsi-from-the-unstable-repo/1324208#1324208\">&quot;Jitsi Desktop&quot; no more supported</a> and works with JDK 8). The only way to get this specific version is to download it, uncompress and make application use it. In my case the JAVA_HOME environment variable does not working since the JDK is not really installed in the system.</p>\n<p>So I found this simple method : install the JDK version needed and execute the specific application with specifying which version of JDK using with temporarily modifying the PATH environment variable.</p>\n<p>In my case (the <strong>user</strong> must have right to read and execute the JDK) :</p>\n<pre><code>user@host:~$ PATH=/data/noinstall/jdk8u332-b09/bin/:$PATH jitsi\n</code></pre>\n<p>Note : adapt the path of the JDK's bin directory before the colon</p>\n<p>So PATH is modified only during the execution of <strong>jitsi</strong>. Elsewhere during the execution or after the execution, PATH stay unchanged.</p>\n<p>As <code>update-alternatives --config java</code> change the JDK globally I suppose this solution makes more comfortable the use cases with many different versions of JDK installed on the same system, dev, etc.</p>\n<p>Based on <a href=\"https://unix.stackexchange.com/questions/699507/how-can-i-install-java-8-on-debian-11-bullseye/699509#699509\">this topic</a> and my intuitions.</p>\n"}],"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48965,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":50464442,"answer_count":2,"score":17,"last_activity_date":1681991000,"creation_date":1526979845,"question_id":50463766,"body_markdown":"How can I run an application with a specific Java version? I have three Java versions intstalled:\r\n\r\n    myuser@mysystem:~$ sudo update-alternatives --config java\r\n    There are 3 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                            Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      auto mode\r\n    * 1            /opt/jdk-9.0.4/bin/java                          1         manual mode\r\n      2            /opt/jdk1.8.0_162/bin/java                       1         manual mode\r\n      3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\r\n\r\nI have Java 9 set as default and I&#39;d like to keep it that way. Still, an application named `pdfsam` doesn&#39;t seem to work properly with Java 9. What command is necessary to run it with openjdk (option 3)?","title":"How to run an application on a specific Java version?","body":"<p>How can I run an application with a specific Java version? I have three Java versions intstalled:</p>\n\n<pre><code>myuser@mysystem:~$ sudo update-alternatives --config java\nThere are 3 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      auto mode\n* 1            /opt/jdk-9.0.4/bin/java                          1         manual mode\n  2            /opt/jdk1.8.0_162/bin/java                       1         manual mode\n  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n</code></pre>\n\n<p>I have Java 9 set as default and I'd like to keep it that way. Still, an application named <code>pdfsam</code> doesn't seem to work properly with Java 9. What command is necessary to run it with openjdk (option 3)?</p>\n"},{"tags":["java","concurrentmodification","linkedhashmap"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1366788188,"post_id":16180568,"comment_id":23138778,"body_markdown":"Did you really mean to have a load factor of 0.1 as you set the initial capacity to MAX_SIZE.  What the load factor does is ensure there is at least a capacity of size()/load_factor. i.e. when you have 3 keys, you will have a capacity of at least 30 (actually 32 as it has to be a power of 2).  I suggest using `MAX_SIZE*10/7` and the default load factor of `0.7f` which will give you a capacity of 4 in this case.","body":"Did you really mean to have a load factor of 0.1 as you set the initial capacity to MAX_SIZE.  What the load factor does is ensure there is at least a capacity of size()/load_factor. i.e. when you have 3 keys, you will have a capacity of at least 30 (actually 32 as it has to be a power of 2).  I suggest using <code>MAX_SIZE*10&#47;7</code> and the default load factor of <code>0.7f</code> which will give you a capacity of 4 in this case."}],"answers":[{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1366775388,"creation_date":1366759186,"answer_id":16180788,"question_id":16180568,"body_markdown":"You&#39;re using an access-ordered linked hash map: from the spec at http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html,\r\n\r\n&gt; A structural modification is any operation that adds or deletes one or\r\n&gt; more mappings or, in the case of access-ordered linked hash maps,\r\n&gt; affects iteration order. In insertion-ordered linked hash maps, merely\r\n&gt; changing the value associated with a key that is already contained in\r\n&gt; the map is not a structural modification. In access-ordered linked\r\n&gt; hash maps, merely querying the map with get is a structural\r\n&gt; modification.)\r\n\r\nSimply calling `get` is enough to be considered a structural modification, triggering the exception. If you use the `entrySet()` sequence you&#39;re only querying the entry and NOT the map, so you don&#39;t trigger the `ConcurrentModificationException`.","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>You're using an access-ordered linked hash map: from the spec at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html</a>,</p>\n\n<blockquote>\n  <p>A structural modification is any operation that adds or deletes one or\n  more mappings or, in the case of access-ordered linked hash maps,\n  affects iteration order. In insertion-ordered linked hash maps, merely\n  changing the value associated with a key that is already contained in\n  the map is not a structural modification. In access-ordered linked\n  hash maps, merely querying the map with get is a structural\n  modification.)</p>\n</blockquote>\n\n<p>Simply calling <code>get</code> is enough to be considered a structural modification, triggering the exception. If you use the <code>entrySet()</code> sequence you're only querying the entry and NOT the map, so you don't trigger the <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1403239300,"creation_date":1366759410,"answer_id":16180833,"question_id":16180568,"body_markdown":"Read the [Javadoc for `LinkedHashMap`][1]:\r\n\r\n&gt; A structural modification is any operation that adds or deletes one or\r\n&gt; more mappings or, in the case of access-ordered linked hash maps,\r\n&gt; affects iteration order. In insertion-ordered linked hash maps, merely\r\n&gt; changing the value associated with a key that is already contained in\r\n&gt; the map is not a structural modification. **In access-ordered linked\r\n&gt; hash maps, merely querying the map with `get` is a structural\r\n&gt; modification.**\r\n\r\nSince you&#39;re passing in `true` to the `LinkedHashMap` constructor, it is in access order and when you are trying to `get` something from it, you are structurally modifying it.\r\n\r\nAlso note that when you use the enhanced `for` syntax, you are actually using an iterator. Simplified quote from [JLS &#167;14.14.2][2]:\r\n\r\n&gt; The enhanced `for` statement has the form:\r\n&gt; \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n&gt;     EnhancedForStatement:\r\n&gt;     \r\n&gt;     for ( TargetType Identifier : Expression ) Statement\r\n&gt; \r\n&gt; [...]\r\n&gt; \r\n&gt; If the type of *Expression* is a subtype of `Iterable&lt;X&gt;` for some type\r\n&gt; argument `X`, then let `I` be the type `java.util.Iterator&lt;X&gt;`; otherwise,\r\n&gt; let `I` be the raw type `java.util.Iterator`.\r\n&gt; \r\n&gt; The enhanced `for` statement is equivalent to a basic `for` statement of\r\n&gt; the form:\r\n&gt; \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n&gt;     for (I #i = Expression.iterator(); #i.hasNext(); ) {\r\n&gt;          TargetType Identifier =\r\n&gt;              (TargetType) #i.next();\r\n&gt;          Statement\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; `#i` is an automatically generated identifier that is distinct from any other identifiers (automatically generated or otherwise) that are in\r\n&gt; scope (&#167;6.3) at the point where the enhanced for statement occurs.\r\n\r\nAlso, in the Javadoc for `LinkedHashMap`:\r\n\r\n&gt; The iterators returned by the `iterator` method of the collections\r\n&gt; returned by all of this class&#39;s collection view methods are\r\n&gt; *fail-fast*: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own\r\n&gt; `remove` method, the iterator will throw a\r\n&gt; `ConcurrentModificationException`.\r\n\r\nTherefore, when you are calling `get` on the map, you are performing structural modifications to it, causing the iterator in the enhanced-for to throw an exception. I think you meant to do this, which avoids calling `get`:\r\n\r\n    for (Integer i : lru_cache.values()) {\r\n        System.out.println(i);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Read the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\">Javadoc for <code>LinkedHashMap</code></a>:</p>\n\n<blockquote>\n  <p>A structural modification is any operation that adds or deletes one or\n  more mappings or, in the case of access-ordered linked hash maps,\n  affects iteration order. In insertion-ordered linked hash maps, merely\n  changing the value associated with a key that is already contained in\n  the map is not a structural modification. <strong>In access-ordered linked\n  hash maps, merely querying the map with <code>get</code> is a structural\n  modification.</strong></p>\n</blockquote>\n\n<p>Since you're passing in <code>true</code> to the <code>LinkedHashMap</code> constructor, it is in access order and when you are trying to <code>get</code> something from it, you are structurally modifying it.</p>\n\n<p>Also note that when you use the enhanced <code>for</code> syntax, you are actually using an iterator. Simplified quote from <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2\">JLS ¬ß14.14.2</a>:</p>\n\n<blockquote>\n  <p>The enhanced <code>for</code> statement has the form:</p>\n  \n  <pre class=\"lang-none prettyprint-override\"><code>EnhancedForStatement:\n\nfor ( TargetType Identifier : Expression ) Statement\n</code></pre>\n  \n  <p>[...]</p>\n  \n  <p>If the type of <em>Expression</em> is a subtype of <code>Iterable&lt;X&gt;</code> for some type\n  argument <code>X</code>, then let <code>I</code> be the type <code>java.util.Iterator&lt;X&gt;</code>; otherwise,\n  let <code>I</code> be the raw type <code>java.util.Iterator</code>.</p>\n  \n  <p>The enhanced <code>for</code> statement is equivalent to a basic <code>for</code> statement of\n  the form:</p>\n  \n  <pre class=\"lang-none prettyprint-override\"><code>for (I #i = Expression.iterator(); #i.hasNext(); ) {\n     TargetType Identifier =\n         (TargetType) #i.next();\n     Statement\n}\n</code></pre>\n  \n  <p><code>#i</code> is an automatically generated identifier that is distinct from any other identifiers (automatically generated or otherwise) that are in\n  scope (¬ß6.3) at the point where the enhanced for statement occurs.</p>\n</blockquote>\n\n<p>Also, in the Javadoc for <code>LinkedHashMap</code>:</p>\n\n<blockquote>\n  <p>The iterators returned by the <code>iterator</code> method of the collections\n  returned by all of this class's collection view methods are\n  <em>fail-fast</em>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own\n  <code>remove</code> method, the iterator will throw a\n  <code>ConcurrentModificationException</code>.</p>\n</blockquote>\n\n<p>Therefore, when you are calling <code>get</code> on the map, you are performing structural modifications to it, causing the iterator in the enhanced-for to throw an exception. I think you meant to do this, which avoids calling <code>get</code>:</p>\n\n<pre><code>for (Integer i : lru_cache.values()) {\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366762391,"creation_date":1366761944,"answer_id":16181179,"question_id":16180568,"body_markdown":"\r\nIn the constructor of `LinkedHashMap` you pass `true` to get the LRU behaviour (meaning the eviction policy is **access order** rather than `false` for **insertion order**).\r\n\r\nSo every time you call `get(key)` the underlying Map.Entry increments an access counter AND reorders the collection by moving the (last accessed) Map.Entry to the head of the list.\r\n\r\nThe iterator (implicitly created by the for loop) checks the modified flag, which is different from the copy it took originally, so throws the `ConcurrentModificationException`.\r\n\r\n\r\nTo avoid this you should use the `entrySet()` as the implementation is inherited from java.util.HashMap and therefore the iterator doesn&#39;t check the modification flags:\r\n\r\n        for(Map.Entry&lt;String,Integer&gt; e : lru_cache.entrySet()){\r\n            System.out.println(e.getValue());\r\n        }\r\n\r\n\r\nBe aware this class isn&#39;t threadsafe so in concurrent environments you will need to use an potentially expensive guards like Collections.synchronizedMap(Map).  In this scenario a better option might be [Google&#39;s Guava Cache][1].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>In the constructor of <code>LinkedHashMap</code> you pass <code>true</code> to get the LRU behaviour (meaning the eviction policy is <strong>access order</strong> rather than <code>false</code> for <strong>insertion order</strong>).</p>\n\n<p>So every time you call <code>get(key)</code> the underlying Map.Entry increments an access counter AND reorders the collection by moving the (last accessed) Map.Entry to the head of the list.</p>\n\n<p>The iterator (implicitly created by the for loop) checks the modified flag, which is different from the copy it took originally, so throws the <code>ConcurrentModificationException</code>.</p>\n\n<p>To avoid this you should use the <code>entrySet()</code> as the implementation is inherited from java.util.HashMap and therefore the iterator doesn't check the modification flags:</p>\n\n<pre><code>    for(Map.Entry&lt;String,Integer&gt; e : lru_cache.entrySet()){\n        System.out.println(e.getValue());\n    }\n</code></pre>\n\n<p>Be aware this class isn't threadsafe so in concurrent environments you will need to use an potentially expensive guards like Collections.synchronizedMap(Map).  In this scenario a better option might be <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"noreferrer\">Google's Guava Cache</a>.</p>\n"},{"tags":[],"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403503320,"creation_date":1403503320,"answer_id":24359299,"question_id":16180568,"body_markdown":"Your code\r\n\r\n    for(String key : lru_cache.keySet()){\r\n        System.out.println(lru_cache.get(key));\r\n    }\r\nActually compiles to:\r\n\r\n    Iterator&lt;String&gt; it = lru_cache.keySet().iterator();\r\n    while (it.hasNext()) {\r\n        String key = it.next();\r\n        System.out.println(lru_cache.get(key));\r\n    }\r\n\r\nNext, your LRU cache shrinks itself to MAX_SIZE elements not when calling `set()`, but when calling `get()` - above answers explain why.\r\n\r\nThus we have following behavior:\r\n\r\n- new iterator created to iterate over `lru_cache.keySet()` collection\r\n- `lru_cache.get()` called to extract element from your cache\r\n- `get()` invocation truncates `lru_cache` to MAX_SIZE elements (in your case 3)\r\n- iterator `it` becomes invalid due to collection modification and throws on next iteration.\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Your code</p>\n\n<pre><code>for(String key : lru_cache.keySet()){\n    System.out.println(lru_cache.get(key));\n}\n</code></pre>\n\n<p>Actually compiles to:</p>\n\n<pre><code>Iterator&lt;String&gt; it = lru_cache.keySet().iterator();\nwhile (it.hasNext()) {\n    String key = it.next();\n    System.out.println(lru_cache.get(key));\n}\n</code></pre>\n\n<p>Next, your LRU cache shrinks itself to MAX_SIZE elements not when calling <code>set()</code>, but when calling <code>get()</code> - above answers explain why.</p>\n\n<p>Thus we have following behavior:</p>\n\n<ul>\n<li>new iterator created to iterate over <code>lru_cache.keySet()</code> collection</li>\n<li><code>lru_cache.get()</code> called to extract element from your cache</li>\n<li><code>get()</code> invocation truncates <code>lru_cache</code> to MAX_SIZE elements (in your case 3)</li>\n<li>iterator <code>it</code> becomes invalid due to collection modification and throws on next iteration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2814998,"reputation":2666,"user_id":2420329,"accept_rate":83,"display_name":"sampopes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681990948,"creation_date":1403508931,"answer_id":24360640,"question_id":16180568,"body_markdown":"It is because of fail-fast behaviour of collections framework also when you modify the list (by adding or removing elements) while traversing a list with this error will be there with Iterator. I came across this error some time back . Refer below threads to for detail info.\r\n\r\nhttps://stackoverflow.com/questions/9806421/concurrentmodificationexception-when-adding-inside-a-foreach-loop-in-arraylist\r\n\r\nThough this says array list, it applies for most of the collection(s) data strucutres.\r\n\r\nhttps://stackoverflow.com/questions/6866238/concurrent-modification-exception-adding-to-an-arraylist\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>It is because of fail-fast behaviour of collections framework also when you modify the list (by adding or removing elements) while traversing a list with this error will be there with Iterator. I came across this error some time back . Refer below threads to for detail info.</p>\n<p><a href=\"https://stackoverflow.com/questions/9806421/concurrentmodificationexception-when-adding-inside-a-foreach-loop-in-arraylist\">ConcurrentModificationException when adding inside a foreach loop in ArrayList</a></p>\n<p>Though this says array list, it applies for most of the collection(s) data strucutres.</p>\n<p><a href=\"https://stackoverflow.com/questions/6866238/concurrent-modification-exception-adding-to-an-arraylist\">Concurrent Modification Exception : adding to an ArrayList</a></p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html</a></p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403622882,"creation_date":1403622882,"answer_id":24390339,"question_id":16180568,"body_markdown":"`java.util.ConcurrentModificationException` : If there are any structural changes (additions, removals, rehashing, etc.) to the underlying list while the iterator exists. The iterator checks to see if the list has changed before each operation. This is known as &#39;failsafe operation&#39;.\r\n\r\nIf a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.Here you cannot call the `get()` method while using an iterator because calling `get()` structurally modifies the map and hence the next call to one of the iterators method fails and throws a `ConcurrentModificationException`.\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p><code>java.util.ConcurrentModificationException</code> : If there are any structural changes (additions, removals, rehashing, etc.) to the underlying list while the iterator exists. The iterator checks to see if the list has changed before each operation. This is known as 'failsafe operation'.</p>\n\n<p>If a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.Here you cannot call the <code>get()</code> method while using an iterator because calling <code>get()</code> structurally modifies the map and hence the next call to one of the iterators method fails and throws a <code>ConcurrentModificationException</code>.</p>\n"}],"owner":{"account_id":48259,"reputation":343,"user_id":143304,"display_name":"Aditya Sakhuja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19761,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":6,"score":22,"last_activity_date":1681990948,"creation_date":1366758011,"question_id":16180568,"body_markdown":"Not sure what is triggering a `java.util.ConcurrentModificationException` when I iterate over the `LinkedHashMap` structure in the code below. Using the `Map.Entry` approach works fine. Did not get a good explanation on what is triggering this from the previous posts.\r\n\r\nAny help would be appreciated.\r\n    \r\n    \r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class LRU {\r\n        \r\n        // private Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\r\n        // private SortedMap&lt;String,Integer&gt; lru_cache = Collections.synchronizedSortedMap(new TreeMap&lt;String, Integer&gt;());\r\n       \r\n        private static final int MAX_SIZE = 3;\r\n        \r\n        private LinkedHashMap&lt;String,Integer&gt; lru_cache = new LinkedHashMap&lt;String,Integer&gt;(MAX_SIZE, 0.1F, true){\r\n            @Override\r\n            protected boolean removeEldestEntry(Map.Entry eldest) {\r\n                return(lru_cache.size() &gt; MAX_SIZE);\r\n             }\r\n        };    \r\n        \r\n        public Integer get1(String s){\r\n            return lru_cache.get(s);        \r\n        }\r\n        \r\n        public void displayMap(){\r\n            /**\r\n             * Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n                at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)\r\n                at java.util.LinkedHashMap$KeyIterator.next(LinkedHashMap.java:384)\r\n                at LRU.displayMap(LRU.java:23)\r\n                at LRU.main(LRU.java:47)\r\n             */\r\n            *for(String key : lru_cache.keySet()){\r\n                System.out.println(lru_cache.get(key));\r\n            }*\r\n    \r\n    // This parser works fine        \r\n    //        for(Map.Entry&lt;String, Integer&gt; kv : lru_cache.entrySet()){\r\n    //            System.out.println(kv.getKey() + &quot;:&quot; + kv.getValue());\r\n    //        }\r\n        }\r\n        \r\n        public void set(String s, Integer val){\r\n            if(lru_cache.containsKey(s)){            \r\n                lru_cache.put(s, get1(s) + val);\r\n            }\r\n            else{\r\n                lru_cache.put(s, val);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            LRU lru = new LRU();\r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Da&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 1);\r\n            lru.set(&quot;Di&quot;, 1);        \r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 2);\r\n            lru.set(&quot;Doo&quot;, 2);\r\n            lru.set(&quot;Doo&quot;, 1);        \r\n            lru.set(&quot;Sa&quot;, 2);\r\n            lru.set(&quot;Na&quot;, 1);\r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 1);\r\n            \r\n            lru.displayMap();\r\n        \r\n        }\r\n        \r\n    }\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Not sure what is triggering a <code>java.util.ConcurrentModificationException</code> when I iterate over the <code>LinkedHashMap</code> structure in the code below. Using the <code>Map.Entry</code> approach works fine. Did not get a good explanation on what is triggering this from the previous posts.</p>\n\n<p>Any help would be appreciated.</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LRU {\n\n    // private Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\n    // private SortedMap&lt;String,Integer&gt; lru_cache = Collections.synchronizedSortedMap(new TreeMap&lt;String, Integer&gt;());\n\n    private static final int MAX_SIZE = 3;\n\n    private LinkedHashMap&lt;String,Integer&gt; lru_cache = new LinkedHashMap&lt;String,Integer&gt;(MAX_SIZE, 0.1F, true){\n        @Override\n        protected boolean removeEldestEntry(Map.Entry eldest) {\n            return(lru_cache.size() &gt; MAX_SIZE);\n         }\n    };    \n\n    public Integer get1(String s){\n        return lru_cache.get(s);        \n    }\n\n    public void displayMap(){\n        /**\n         * Exception in thread \"main\" java.util.ConcurrentModificationException\n            at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)\n            at java.util.LinkedHashMap$KeyIterator.next(LinkedHashMap.java:384)\n            at LRU.displayMap(LRU.java:23)\n            at LRU.main(LRU.java:47)\n         */\n        *for(String key : lru_cache.keySet()){\n            System.out.println(lru_cache.get(key));\n        }*\n\n// This parser works fine        \n//        for(Map.Entry&lt;String, Integer&gt; kv : lru_cache.entrySet()){\n//            System.out.println(kv.getKey() + \":\" + kv.getValue());\n//        }\n    }\n\n    public void set(String s, Integer val){\n        if(lru_cache.containsKey(s)){            \n            lru_cache.put(s, get1(s) + val);\n        }\n        else{\n            lru_cache.put(s, val);\n        }\n    }\n\n    public static void main(String[] args) {\n\n        LRU lru = new LRU();\n        lru.set(\"Di\", 1);\n        lru.set(\"Da\", 1);\n        lru.set(\"Daa\", 1);\n        lru.set(\"Di\", 1);        \n        lru.set(\"Di\", 1);\n        lru.set(\"Daa\", 2);\n        lru.set(\"Doo\", 2);\n        lru.set(\"Doo\", 1);        \n        lru.set(\"Sa\", 2);\n        lru.set(\"Na\", 1);\n        lru.set(\"Di\", 1);\n        lru.set(\"Daa\", 1);\n\n        lru.displayMap();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","checkstyle","maven-checkstyle-plugin"],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681990771,"creation_date":1681990771,"question_id":76063639,"body_markdown":"How would I write a check which checks if a certain method of a certain class is wrapped? \r\n\r\nFor example, this: \r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass\r\n        .add(object1)\r\n        .add(object2)\r\n        .add(object3);\r\n\r\nshould pass, but this:\r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass.add(object1).add(object2).add(object3);\r\n\r\nshould fail. Note that I want only this method of this class to be checked by this check.","title":"Java checkstyle: how to check if a certaing method is wrapped","body":"<p>How would I write a check which checks if a certain method of a certain class is wrapped?</p>\n<p>For example, this:</p>\n<pre><code>MyClass myClass = new MyClass();\nmyClass\n    .add(object1)\n    .add(object2)\n    .add(object3);\n</code></pre>\n<p>should pass, but this:</p>\n<pre><code>MyClass myClass = new MyClass();\nmyClass.add(object1).add(object2).add(object3);\n</code></pre>\n<p>should fail. Note that I want only this method of this class to be checked by this check.</p>\n"},{"tags":["java","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1681991424,"post_id":76063625,"comment_id":134147329,"body_markdown":"Does this answer your question? [How to get current class name including package name in Java?](https://stackoverflow.com/questions/9729197/how-to-get-current-class-name-including-package-name-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9729197/how-to-get-current-class-name-including-package-name-in-java\">How to get current class name including package name in Java?</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1681997348,"post_id":76063625,"comment_id":134148877,"body_markdown":"@vincrichaud Checkstyle doesn&#39;t have access to reflection","body":"@vincrichaud Checkstyle doesn&#39;t have access to reflection"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681997438,"post_id":76063625,"comment_id":134148898,"body_markdown":"I think you can write a sub class of `AbstractFileSetCheck` for this (see https://checkstyle.sourceforge.io/writingchecks.html). It has access to the file, and therefore the filename and path.","body":"I think you can write a sub class of <code>AbstractFileSetCheck</code> for this (see <a href=\"https://checkstyle.sourceforge.io/writingchecks.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/writingchecks.html</a>). It has access to the file, and therefore the filename and path."}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681990673,"creation_date":1681990673,"question_id":76063625,"body_markdown":"How would I write a check which checks if the class is in the right package according to its suffix, eg.: class named `DateTimeUtils` should be in a package ending in `*.util`?","title":"Java checkstyle: how to write a check which is comparing class suffix to its package","body":"<p>How would I write a check which checks if the class is in the right package according to its suffix, eg.: class named <code>DateTimeUtils</code> should be in a package ending in <code>*.util</code>?</p>\n"},{"tags":["java","spring","hibernate","spring-boot","atomikos"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496233617,"post_id":44284649,"comment_id":75576212,"body_markdown":"What isn&#39;t working? Also why not simply use the out-of-the-box support for Atomikos? You are throwing a checked exception, rollback only happens for `RuntimeException` s. Your `jtaTransactionManager` should be named `transactionManager` as that is the default name expected by Spring. If that doesn&#39;t match you need to explicitly tell `@EnableTransactionManagement` which transaction manager to use.","body":"What isn&#39;t working? Also why not simply use the out-of-the-box support for Atomikos? You are throwing a checked exception, rollback only happens for <code>RuntimeException</code> s. Your <code>jtaTransactionManager</code> should be named <code>transactionManager</code> as that is the default name expected by Spring. If that doesn&#39;t match you need to explicitly tell <code>@EnableTransactionManagement</code> which transaction manager to use."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1496233814,"post_id":44284649,"comment_id":75576367,"body_markdown":"I think wrong transactionManager is used. By default `@Transactional` got your UserTransactionManager bean","body":"I think wrong transactionManager is used. By default <code>@Transactional</code> got your UserTransactionManager bean"},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496234358,"post_id":44284649,"comment_id":75576747,"body_markdown":"@M.Deinum @StanislavL I have changed couple of things `Datasources returning atomikosDataSourceBean and added unique name for them.` and i think that was the issue. Now transaction are getting rolled back but need to verify. Will post in case of any issue.","body":"@M.Deinum @StanislavL I have changed couple of things <code>Datasources returning atomikosDataSourceBean and added unique name for them.</code> and i think that was the issue. Now transaction are getting rolled back but need to verify. Will post in case of any issue."},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496234822,"post_id":44284649,"comment_id":75577086,"body_markdown":"added `@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)`","body":"added <code>@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)</code>"},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496291625,"post_id":44284649,"comment_id":75602776,"body_markdown":"@M.Deinum, as mentioned in the my comments.. adding these extra code has resolved the issue. Thanks for help and support.","body":"@M.Deinum, as mentioned in the my comments.. adding these extra code has resolved the issue. Thanks for help and support."}],"answers":[{"tags":[],"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496292197,"creation_date":1496292197,"answer_id":44298693,"question_id":44284649,"body_markdown":"Ok.. There was mistake in the code - \r\n\r\n 1. XA Datasource must be wrapped with `AtomikosDataSourceBean` ans should return `AtomikosDataSourceBean` reference.\r\n 2. Assign unique name to `AtomikosDataSourceBean`.\r\n 3. Service Method should be made `@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)`, provide Spring `JtaTransactionManager`.\r\n 4. `JtaTransactionManager` should be referenced with `javax.transaction.UserTransaction` having `com.atomikos.icatch.jta.J2eeUserTransaction` implementation.\r\n 5. `JtaTransactionManager` should be referenced with `com.atomikos.icatch.jta.UserTransactionManager` implementation.\r\n 6. Rest of the Code is correct in the question.\r\n\r\nThis is straight forward out-of-the-box support for Atomikos. ","title":"JTA, Hibernate with atomikos Multiple XA Datasources not maintaing transaction in SpringBoot","body":"<p>Ok.. There was mistake in the code - </p>\n\n<ol>\n<li>XA Datasource must be wrapped with <code>AtomikosDataSourceBean</code> ans should return <code>AtomikosDataSourceBean</code> reference.</li>\n<li>Assign unique name to <code>AtomikosDataSourceBean</code>.</li>\n<li>Service Method should be made <code>@Transactional(transactionManager = \"jtaTransactionManager\" ...)</code>, provide Spring <code>JtaTransactionManager</code>.</li>\n<li><code>JtaTransactionManager</code> should be referenced with <code>javax.transaction.UserTransaction</code> having <code>com.atomikos.icatch.jta.J2eeUserTransaction</code> implementation.</li>\n<li><code>JtaTransactionManager</code> should be referenced with <code>com.atomikos.icatch.jta.UserTransactionManager</code> implementation.</li>\n<li>Rest of the Code is correct in the question.</li>\n</ol>\n\n<p>This is straight forward out-of-the-box support for Atomikos. </p>\n"}],"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44298693,"answer_count":1,"score":2,"last_activity_date":1681990548,"creation_date":1496233164,"question_id":44284649,"body_markdown":"I have 2 `MySQL` schema and respective `MysqlXADataSource` configured as below -\r\n\r\n    @Bean(name = &quot;sourceDataSource&quot;)\r\n\t@Primary\r\n\tpublic DataSource dataSource() {\r\n\t\tMysqlXADataSource dataSource = new MysqlXADataSource();\r\n\t\tdataSource.setPinGlobalTxToPhysicalConnection(true);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUser(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tAtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\r\n    atomikosDataSourceBean.setUniqueResourceName(&quot;SourceDB&quot;);\r\n\t\tatomikosDataSourceBean.setXaDataSource(dataSource);\r\n\t\t\r\n\t\t/*DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(DB_DRIVER);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUsername(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);*/\r\n\t\tSystem.out.println(&quot;Creatign Source data source.&quot;);\r\n\t\treturn atomikosDataSourceBean;\r\n\t}\r\n\r\n\t@Bean(name = &quot;sourceSessionFactory&quot;)\r\n\tpublic LocalSessionFactoryBean sessionFactory(@Qualifier(&quot;jtaTransactionManager&quot;) JtaTransactionManager jts) {\r\n\t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n\t\tsessionFactoryBean.setDataSource(dataSource());\r\n\t\tsessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\r\n\t\tProperties hibernateProperties = new Properties();\r\n\t\thibernateProperties.put(&quot;hibernate.dialect&quot;, HIBERNATE_DIALECT);\r\n\t\thibernateProperties.put(&quot;hibernate.show_sql&quot;, HIBERNATE_SHOW_SQL);\r\n\t\thibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, HIBERNATE_HBM2DDL_AUTO);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.factory_class&quot;, &quot;org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.coordinator_class&quot;, &quot;jta&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, &quot;com.atomikos.icatch.jta.hibernate4.AtomikosPlatform&quot;);\r\n\t\t\r\n\t\t//hibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, AtomikosJtaPlatform.class.getName());\r\n\t\tsessionFactoryBean.setJtaTransactionManager(jts);\r\n\t\tsessionFactoryBean.setHibernateProperties(hibernateProperties);\r\n\t\tSystem.out.println(&quot;Creatign Source Session Factory.&quot;);\r\n\t\treturn sessionFactoryBean;\r\n\t}\r\n\r\nAnd\r\n\r\n    @Bean(name=&quot;destinationDataSource&quot;)\r\n\tpublic DataSource dataSource() {\r\n\t\tMysqlXADataSource dataSource = new MysqlXADataSource();\r\n\t\tdataSource.setPinGlobalTxToPhysicalConnection(true);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUser(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tAtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\r\n    atomikosDataSourceBean.setUniqueResourceName(&quot;DestinationDB&quot;);\r\n\t\tatomikosDataSourceBean.setXaDataSource(dataSource);\r\n\t\t\r\n\t\t/*DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(DB_DRIVER);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUsername(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Creatign Destination Data Source.&quot;);*/\r\n\t\treturn atomikosDataSourceBean;\r\n\t}\r\n\r\n\t@Bean(name=&quot;destinationSessionFactory&quot;)\r\n\tpublic LocalSessionFactoryBean sessionFactory(@Qualifier(&quot;jtaTransactionManager&quot;) JtaTransactionManager jts) {\r\n\t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n\t\tsessionFactoryBean.setDataSource(dataSource());\r\n\t\tsessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\r\n\t\tProperties hibernateProperties = new Properties();\r\n\t\thibernateProperties.put(&quot;hibernate.dialect&quot;, HIBERNATE_DIALECT);\r\n\t\thibernateProperties.put(&quot;hibernate.show_sql&quot;, HIBERNATE_SHOW_SQL);\r\n\t\thibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, HIBERNATE_HBM2DDL_AUTO);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.factory_class&quot;, &quot;org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.coordinator_class&quot;, &quot;jta&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, &quot;com.atomikos.icatch.jta.hibernate4.AtomikosPlatform&quot;);\r\n\t\tsessionFactoryBean.setJtaTransactionManager(jts);\r\n\t\tsessionFactoryBean.setHibernateProperties(hibernateProperties);\r\n\t\tSystem.out.println(&quot;Creatign Destination Session Factoy.&quot;);\r\n\t\treturn sessionFactoryBean;\r\n\t}\r\n\r\nTransaction Configuration\r\n\r\n    @Bean(&quot;transactionManager&quot;)\r\n\tpublic UserTransactionManager transactionManager(){\r\n\t\tUserTransactionManager userTransactionManager = new UserTransactionManager();\r\n\t\treturn userTransactionManager;\r\n\t}\r\n\t\r\n\t@Bean(&quot;userTransaction&quot;)\r\n\tpublic UserTransaction userTransaction(){\r\n\t\tJ2eeUserTransaction userTransaction = new J2eeUserTransaction();\r\n\t\treturn userTransaction;\r\n\t}\r\n\t\r\n\t@Bean(&quot;jtaTransactionManager&quot;)\r\n\tpublic JtaTransactionManager jtaTransactionManager(@Qualifier(&quot;transactionManager&quot;) UserTransactionManager userTransactionManager, @Qualifier(&quot;userTransaction&quot;) UserTransaction userTransaction) {\r\n\t\tJtaTransactionManager transactionManager = new JtaTransactionManager();\r\n\t\ttransactionManager.setTransactionManager(userTransactionManager);\r\n\t\ttransactionManager.setUserTransaction(userTransaction);\r\n\t\t//transactionManager.setSessionFactory(sessionFactory().getObject());\r\n\t\tSystem.out.println(&quot;Creatign JTA Transaction Manager.&quot;);\r\n\t\treturn transactionManager;\r\n\t}\r\n\r\n\r\nService ...\r\n\r\n    @Transactional(transactionManager = &quot;jtaTransactionManager&quot;, propagation=Propagation.REQUIRES_NEW, rollbackFor=Exception.class, timeout=500000)\r\n\tpublic void transform() throws JobExecutionException{\r\n\t\tSystem.out.println(&quot;START == Starting Trandformation ... &quot;);\r\n\t\t\r\n\t\t//Clean Up\r\n\t\ttransformProduct.cleanUp();\r\n\t\ttransformService.cleanUp();\r\n\t\ttransformResources.cleanUp();\r\n\t\t\r\n\t\ttransformResources.transform();\r\n\t\ttransformService.transform();\r\n\t\ttransformProduct.transform();\r\n\t\tLOG.info(&quot;END == Starting Transformation ... &quot;);\r\n\t\tthrow new JobExecutionException();\r\n\t}\r\n\r\nAnd there are respective sub service classes `transformProduct`, `transformService` &amp; `transformResources` and these classes are using the `sessionFactory` implemented dao classes. I have no where mentioned commit or rollback. everything should be transnational. but somehow its not working","title":"JTA, Hibernate with atomikos Multiple XA Datasources not maintaing transaction in SpringBoot","body":"<p>I have 2 <code>MySQL</code> schema and respective <code>MysqlXADataSource</code> configured as below -</p>\n\n<pre><code>@Bean(name = \"sourceDataSource\")\n@Primary\npublic DataSource dataSource() {\n    MysqlXADataSource dataSource = new MysqlXADataSource();\n    dataSource.setPinGlobalTxToPhysicalConnection(true);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUser(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    AtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\natomikosDataSourceBean.setUniqueResourceName(\"SourceDB\");\n    atomikosDataSourceBean.setXaDataSource(dataSource);\n\n    /*DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(DB_DRIVER);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUsername(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);*/\n    System.out.println(\"Creatign Source data source.\");\n    return atomikosDataSourceBean;\n}\n\n@Bean(name = \"sourceSessionFactory\")\npublic LocalSessionFactoryBean sessionFactory(@Qualifier(\"jtaTransactionManager\") JtaTransactionManager jts) {\n    LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n    sessionFactoryBean.setDataSource(dataSource());\n    sessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(\"hibernate.dialect\", HIBERNATE_DIALECT);\n    hibernateProperties.put(\"hibernate.show_sql\", HIBERNATE_SHOW_SQL);\n    hibernateProperties.put(\"hibernate.hbm2ddl.auto\", HIBERNATE_HBM2DDL_AUTO);\n    hibernateProperties.put(\"hibernate.transaction.factory_class\", \"org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory\");\n    hibernateProperties.put(\"hibernate.transaction.coordinator_class\", \"jta\");\n    hibernateProperties.put(\"hibernate.transaction.jta.platform\", \"com.atomikos.icatch.jta.hibernate4.AtomikosPlatform\");\n\n    //hibernateProperties.put(\"hibernate.transaction.jta.platform\", AtomikosJtaPlatform.class.getName());\n    sessionFactoryBean.setJtaTransactionManager(jts);\n    sessionFactoryBean.setHibernateProperties(hibernateProperties);\n    System.out.println(\"Creatign Source Session Factory.\");\n    return sessionFactoryBean;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Bean(name=\"destinationDataSource\")\npublic DataSource dataSource() {\n    MysqlXADataSource dataSource = new MysqlXADataSource();\n    dataSource.setPinGlobalTxToPhysicalConnection(true);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUser(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    AtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\natomikosDataSourceBean.setUniqueResourceName(\"DestinationDB\");\n    atomikosDataSourceBean.setXaDataSource(dataSource);\n\n    /*DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(DB_DRIVER);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUsername(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    System.out.println(\"Creatign Destination Data Source.\");*/\n    return atomikosDataSourceBean;\n}\n\n@Bean(name=\"destinationSessionFactory\")\npublic LocalSessionFactoryBean sessionFactory(@Qualifier(\"jtaTransactionManager\") JtaTransactionManager jts) {\n    LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n    sessionFactoryBean.setDataSource(dataSource());\n    sessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(\"hibernate.dialect\", HIBERNATE_DIALECT);\n    hibernateProperties.put(\"hibernate.show_sql\", HIBERNATE_SHOW_SQL);\n    hibernateProperties.put(\"hibernate.hbm2ddl.auto\", HIBERNATE_HBM2DDL_AUTO);\n    hibernateProperties.put(\"hibernate.transaction.factory_class\", \"org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory\");\n    hibernateProperties.put(\"hibernate.transaction.coordinator_class\", \"jta\");\n    hibernateProperties.put(\"hibernate.transaction.jta.platform\", \"com.atomikos.icatch.jta.hibernate4.AtomikosPlatform\");\n    sessionFactoryBean.setJtaTransactionManager(jts);\n    sessionFactoryBean.setHibernateProperties(hibernateProperties);\n    System.out.println(\"Creatign Destination Session Factoy.\");\n    return sessionFactoryBean;\n}\n</code></pre>\n\n<p>Transaction Configuration</p>\n\n<pre><code>@Bean(\"transactionManager\")\npublic UserTransactionManager transactionManager(){\n    UserTransactionManager userTransactionManager = new UserTransactionManager();\n    return userTransactionManager;\n}\n\n@Bean(\"userTransaction\")\npublic UserTransaction userTransaction(){\n    J2eeUserTransaction userTransaction = new J2eeUserTransaction();\n    return userTransaction;\n}\n\n@Bean(\"jtaTransactionManager\")\npublic JtaTransactionManager jtaTransactionManager(@Qualifier(\"transactionManager\") UserTransactionManager userTransactionManager, @Qualifier(\"userTransaction\") UserTransaction userTransaction) {\n    JtaTransactionManager transactionManager = new JtaTransactionManager();\n    transactionManager.setTransactionManager(userTransactionManager);\n    transactionManager.setUserTransaction(userTransaction);\n    //transactionManager.setSessionFactory(sessionFactory().getObject());\n    System.out.println(\"Creatign JTA Transaction Manager.\");\n    return transactionManager;\n}\n</code></pre>\n\n<p>Service ...</p>\n\n<pre><code>@Transactional(transactionManager = \"jtaTransactionManager\", propagation=Propagation.REQUIRES_NEW, rollbackFor=Exception.class, timeout=500000)\npublic void transform() throws JobExecutionException{\n    System.out.println(\"START == Starting Trandformation ... \");\n\n    //Clean Up\n    transformProduct.cleanUp();\n    transformService.cleanUp();\n    transformResources.cleanUp();\n\n    transformResources.transform();\n    transformService.transform();\n    transformProduct.transform();\n    LOG.info(\"END == Starting Transformation ... \");\n    throw new JobExecutionException();\n}\n</code></pre>\n\n<p>And there are respective sub service classes <code>transformProduct</code>, <code>transformService</code> &amp; <code>transformResources</code> and these classes are using the <code>sessionFactory</code> implemented dao classes. I have no where mentioned commit or rollback. everything should be transnational. but somehow its not working</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681629069,"post_id":76026221,"comment_id":134084942,"body_markdown":"Check your SMTP configuration. The error shows that you have used TLS but your SMTP server doesn&#39;t support it.","body":"Check your SMTP configuration. The error shows that you have used TLS but your SMTP server doesn&#39;t support it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681629397,"post_id":76026221,"comment_id":134084968,"body_markdown":"According to https://support.microsoft.com/en-us/office/pop-imap-and-smtp-settings-8361e398-8af4-4e97-b147-6c6c4ac95353, the combination of &quot;smtp-mail.outlook.com&quot; + port 587 + STARTTLS should be correct.  So, maybe it is a SSL/TLS version mismatch or a ciphersuite mismatch.","body":"According to <a href=\"https://support.microsoft.com/en-us/office/pop-imap-and-smtp-settings-8361e398-8af4-4e97-b147-6c6c4ac95353\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/office/&hellip;</a>, the combination of &quot;smtp-mail.outlook.com&quot; + port 587 + STARTTLS should be correct.  So, maybe it is a SSL/TLS version mismatch or a ciphersuite mismatch."},{"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"score":0,"creation_date":1681657829,"post_id":76026221,"comment_id":134088443,"body_markdown":"Is there a way i can fix this mismatch?","body":"Is there a way i can fix this mismatch?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990530,"creation_date":1681629036,"answer_id":76026343,"question_id":76026221,"body_markdown":"I have used your code as is (besides user and password) and it works perfectly.\r\n\r\nThis must be an environment thing related to the availability of TLS1.2. Which version of Java are you using?\r\n\r\nAdd the following to your code to get more logging and add the logs to your question:\r\n\r\n    email.setDebug(true); \r\n\r\n","title":"Getting this protocol error using javax mail and apache commons","body":"<p>I have used your code as is (besides user and password) and it works perfectly.</p>\n<p>This must be an environment thing related to the availability of TLS1.2. Which version of Java are you using?</p>\n<p>Add the following to your code to get more logging and add the logs to your question:</p>\n<pre><code>email.setDebug(true); \n</code></pre>\n"}],"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681990530,"creation_date":1681626495,"question_id":76026221,"body_markdown":"I have this java class in my project meant to send emails, but it doesn&#39;t matter what i try to do, it simply will fail into some protocol error.\r\n\r\nKeep in mind that all i need is a simple email sender, it&#39;s for a school project. \r\n\r\nThis is the class i&#39;m using: \r\n\r\n```package internetConnectionAPIs;\r\n\r\nimport org.apache.commons.mail.*;\r\n\r\n\r\npublic class javaMail\r\n{\r\n\tprotected static String emailEmpresarial = &quot;email@hotmail.com&quot;;\r\n\tprotected static String senha = &quot;password&quot;;\r\n\t\r\n\tpublic static void sendMail(String emailCliente)\r\n\t{\r\n\r\n\r\n\t\tSimpleEmail email = new SimpleEmail(); \r\n\t\temail.setHostName(&quot;smtp-mail.outlook.com&quot;);\r\n\t\temail.setSmtpPort(587);\r\n\t\temail.setAuthenticator(new DefaultAuthenticator(emailEmpresarial, senha));\r\n\t\temail.setStartTLSRequired(true);\r\n\t\t\r\n\t\ttry \r\n\t\t{\r\n\t\t\t\r\n\t\t\temail.setFrom(emailEmpresarial);\r\n\t\t\temail.setSubject(&quot;Test&quot;);\r\n\t\t\temail.setMsg(&quot;Success!&quot;);\r\n\t\t\temail.addTo(emailCliente);\r\n\t\t\temail.send();\r\n\t\t\tSystem.out.println(&quot;Enviado com sucesso!&quot;);\r\n\t\t\t\r\n\t\t} catch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nBut this is what i&#39;m getting:\r\n\r\n&gt; org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp-mail.outlook.com:587\r\n&gt; \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1469)\r\n&gt; \tat org.apache.commons.mail.Email.send(Email.java:1496)\r\n&gt; \tat internetConnectionAPIs.javaMail.sendMail(javaMail.java:36)\r\n&gt; \tat App.main(App.java:12)\r\n&gt; Caused by: javax.mail.MessagingException: Could not convert socket to TLS;\r\n&gt; nested exception is:\r\n&gt; \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n&gt; \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\r\n&gt; \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n\r\nI tried to change to gmail(but it seems that it no longer works), try to change port, tried to change server, but it simply won&#39;t work, any ideas why? I&#39;m using eclipse in focal fossa linux, and my project have javax mail, apache commons email and activation jar. \r\n\r\nI even tried to ChatGPT it out of this, but to no avail. I tried to check for firewall blocks but there was no problem, i was using setSSLonConnect but it was forcing the port to be 465 even tho i&#39;ve set it to 587, but after removing it, same error. Gmail is not being allowed to &#39;&#39;lesser security apps&#39;&#39; now, and i can only resort to other services, if you have any idea how to help, i&#39;ll be more than glad. \r\n\r\nAlso i&#39;m very newbie to java and to this kind of error treating, i tried this following a youtube tutorial which was really plain and simple, and weirdly didn&#39;t need activation jar library, but my project needed it. I checked internet connection but it was working just fine. Do i need to connect eclipse to the internet or something like that? \r\n\r\nAll I am trying to do is just send a plain email, just that, I just need to implement an email sender for a school project, what do this no appropriate protocol means? \r\n\r\nWell, I don&#39;t have anything to add to it anymore, stackoverflow is still asking me to add more details, this is what I have and I simply can&#39;t work it out. \r\n\r\nPS: My java version is 11, could it be the issue? \r\nAlso, please don&#39;t mind the email and password hard coded to the program, it was meant to be just for testing. ","title":"Getting this protocol error using javax mail and apache commons","body":"<p>I have this java class in my project meant to send emails, but it doesn't matter what i try to do, it simply will fail into some protocol error.</p>\n<p>Keep in mind that all i need is a simple email sender, it's for a school project.</p>\n<p>This is the class i'm using:</p>\n<pre><code>\nimport org.apache.commons.mail.*;\n\n\npublic class javaMail\n{\n    protected static String emailEmpresarial = &quot;email@hotmail.com&quot;;\n    protected static String senha = &quot;password&quot;;\n    \n    public static void sendMail(String emailCliente)\n    {\n\n\n        SimpleEmail email = new SimpleEmail(); \n        email.setHostName(&quot;smtp-mail.outlook.com&quot;);\n        email.setSmtpPort(587);\n        email.setAuthenticator(new DefaultAuthenticator(emailEmpresarial, senha));\n        email.setStartTLSRequired(true);\n        \n        try \n        {\n            \n            email.setFrom(emailEmpresarial);\n            email.setSubject(&quot;Test&quot;);\n            email.setMsg(&quot;Success!&quot;);\n            email.addTo(emailCliente);\n            email.send();\n            System.out.println(&quot;Enviado com sucesso!&quot;);\n            \n        } catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But this is what i'm getting:</p>\n<blockquote>\n<p>org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp-mail.outlook.com:587\nat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1469)\nat org.apache.commons.mail.Email.send(Email.java:1496)\nat internetConnectionAPIs.javaMail.sendMail(javaMail.java:36)\nat App.main(App.java:12)\nCaused by: javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n<p>I tried to change to gmail(but it seems that it no longer works), try to change port, tried to change server, but it simply won't work, any ideas why? I'm using eclipse in focal fossa linux, and my project have javax mail, apache commons email and activation jar.</p>\n<p>I even tried to ChatGPT it out of this, but to no avail. I tried to check for firewall blocks but there was no problem, i was using setSSLonConnect but it was forcing the port to be 465 even tho i've set it to 587, but after removing it, same error. Gmail is not being allowed to ''lesser security apps'' now, and i can only resort to other services, if you have any idea how to help, i'll be more than glad.</p>\n<p>Also i'm very newbie to java and to this kind of error treating, i tried this following a youtube tutorial which was really plain and simple, and weirdly didn't need activation jar library, but my project needed it. I checked internet connection but it was working just fine. Do i need to connect eclipse to the internet or something like that?</p>\n<p>All I am trying to do is just send a plain email, just that, I just need to implement an email sender for a school project, what do this no appropriate protocol means?</p>\n<p>Well, I don't have anything to add to it anymore, stackoverflow is still asking me to add more details, this is what I have and I simply can't work it out.</p>\n<p>PS: My java version is 11, could it be the issue?\nAlso, please don't mind the email and password hard coded to the program, it was meant to be just for testing.</p>\n"},{"tags":["java","protocol-buffers","nio"],"answers":[{"tags":[],"owner":{"account_id":284625,"reputation":670,"user_id":582843,"accept_rate":83,"display_name":"benshort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990290,"creation_date":1681990290,"answer_id":76063578,"question_id":75057491,"body_markdown":"It seems that you can find out the serialized size of your ArrRequest using the getSerializedSize method.\r\nSo you can send that before the serialized ArrRequest to the server as shown in the following example:\r\n \r\n\r\n    var request = ArrRequest.newBuilder()\r\n                            .setN(numberOfArrayElements)\r\n                            .addAllArray(arr)\r\n                            .build();\r\n    int length = request.getSerializedSize();\r\n    ByteBuffer bb = ByteBuffer.allocate(4);\r\n    bb.putInt(length);\r\n    bb.flip();\r\n    OutputStream os = socket.getOutputStream();\r\n    os.write(bb.array());\r\n    request.writeDelimitedTo(os);\r\n\r\nThen on the server side you can read into a buffer. When you have 4, or greater bytes, you can get the first 4 bytes as an integer, which is the expect length of the next serialized ArrRequest. Then you can keep reading into the buffer until you have greater or equal to the length.\r\n\r\nIf you want the server to support multiple clients then you will need to create a context, per client, to hold a ByteBuffer of the the accumulated bytes for each client as you might not have all the bytes available to deserialize the ArrRequest on a single readable key.\r\n\r\n","title":"Read from non blocking socketChannel to Protobuf","body":"<p>It seems that you can find out the serialized size of your ArrRequest using the getSerializedSize method.\nSo you can send that before the serialized ArrRequest to the server as shown in the following example:</p>\n<pre><code>var request = ArrRequest.newBuilder()\n                        .setN(numberOfArrayElements)\n                        .addAllArray(arr)\n                        .build();\nint length = request.getSerializedSize();\nByteBuffer bb = ByteBuffer.allocate(4);\nbb.putInt(length);\nbb.flip();\nOutputStream os = socket.getOutputStream();\nos.write(bb.array());\nrequest.writeDelimitedTo(os);\n</code></pre>\n<p>Then on the server side you can read into a buffer. When you have 4, or greater bytes, you can get the first 4 bytes as an integer, which is the expect length of the next serialized ArrRequest. Then you can keep reading into the buffer until you have greater or equal to the length.</p>\n<p>If you want the server to support multiple clients then you will need to create a context, per client, to hold a ByteBuffer of the the accumulated bytes for each client as you might not have all the bytes available to deserialize the ArrRequest on a single readable key.</p>\n"}],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681990290,"creation_date":1673268479,"question_id":75057491,"body_markdown":"I&#39;m trying to create simple server-client app using Java NIO.\r\n\r\nHere are my Protobuf classes: \r\n\r\n    message ArrRequest {\r\n      int32 n = 1;\r\n      repeated int32 array = 2;\r\n    }\r\n    \r\n    message ArrResponse {\r\n      int32 n = 1;\r\n      repeated int32 array = 2;\r\n    }\r\n\r\nOn client, I send messages in a blocking manner to server using Protobuf.\r\n\r\n    try (Socket socket = new Socket(&quot;localhost&quot;, Constant.PORT)) {\r\n                for (int i = 0; i &lt; numberOfRequestsPerClient; i++) {\r\n                    List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n                    Random r = new Random();\r\n                    for (int j = 0; j &lt; numberOfArrayElements; j++) {\r\n                        arr.add(r.nextInt());\r\n                    }\r\n                    var request = ArrRequest.newBuilder()\r\n                            .setN(numberOfArrayElements)\r\n                            .addAllArray(arr)\r\n                            .build();\r\n                    request.writeDelimitedTo(socket.getOutputStream());\r\n\r\n\r\nThen I want to get this messages as ArrRequest on the server side.\r\n\r\n    client.configureBlocking(false); -- important\r\n\r\n\r\n                    selector.select();\r\n                    Set&lt;SelectionKey&gt; keys = selector.selectedKeys();\r\n                    Iterator&lt;SelectionKey&gt; iterator = keys.iterator();\r\n                    while (iterator.hasNext()) {\r\n                        SelectionKey key = iterator.next();\r\n                        ClientData data = (ClientData) key.attachment();\r\n\r\n                        if (key.isReadable()) {\r\n                            int bytesRead = data.socket.read(data.buffer); // socket is non blocking\r\n\r\n\r\nI read the data into the buffer, several bytes at a time. \r\n\r\n\r\nSo my question is, when should I stop? \r\n\r\n**When I can make the ArrRequest out of byteBuffer? And how?** How to know the side of the ArrRequest in bytes?\r\n\r\n","title":"Read from non blocking socketChannel to Protobuf","body":"<p>I'm trying to create simple server-client app using Java NIO.</p>\n<p>Here are my Protobuf classes:</p>\n<pre><code>message ArrRequest {\n  int32 n = 1;\n  repeated int32 array = 2;\n}\n\nmessage ArrResponse {\n  int32 n = 1;\n  repeated int32 array = 2;\n}\n</code></pre>\n<p>On client, I send messages in a blocking manner to server using Protobuf.</p>\n<pre><code>try (Socket socket = new Socket(&quot;localhost&quot;, Constant.PORT)) {\n            for (int i = 0; i &lt; numberOfRequestsPerClient; i++) {\n                List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n                Random r = new Random();\n                for (int j = 0; j &lt; numberOfArrayElements; j++) {\n                    arr.add(r.nextInt());\n                }\n                var request = ArrRequest.newBuilder()\n                        .setN(numberOfArrayElements)\n                        .addAllArray(arr)\n                        .build();\n                request.writeDelimitedTo(socket.getOutputStream());\n</code></pre>\n<p>Then I want to get this messages as ArrRequest on the server side.</p>\n<pre><code>client.configureBlocking(false); -- important\n\n\n                selector.select();\n                Set&lt;SelectionKey&gt; keys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; iterator = keys.iterator();\n                while (iterator.hasNext()) {\n                    SelectionKey key = iterator.next();\n                    ClientData data = (ClientData) key.attachment();\n\n                    if (key.isReadable()) {\n                        int bytesRead = data.socket.read(data.buffer); // socket is non blocking\n</code></pre>\n<p>I read the data into the buffer, several bytes at a time.</p>\n<p>So my question is, when should I stop?</p>\n<p><strong>When I can make the ArrRequest out of byteBuffer? And how?</strong> How to know the side of the ArrRequest in bytes?</p>\n"},{"tags":["java","tcp"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1681961468,"post_id":76057766,"comment_id":134141971,"body_markdown":"Doesn&#39;t Accept take an argument? https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept","body":"Doesn&#39;t Accept take an argument? <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept</a>"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681933264,"creation_date":1681932494,"answer_id":76058177,"question_id":76057766,"body_markdown":"End of line on message must be either hardcoded or added by printer\r\n\r\n    String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\r\n    // println will send OS end-of-line so it might be just \\n or \\r\r\n    // better not depend on that\r\n    writer.print(peticio);\r\n    writer.print(&quot;\\r\\n&quot;);\r\n\r\nOr\r\n\r\n        writer.print(&quot;HEAD /xai/xai.html HTTP/1.1\\r\\n&quot;);\r\n        writer.print(&quot;Accept\\r\\n&quot;);\r\n        writer.print(&quot;\\r\\n&quot;);\r\n\r\nOr\r\n\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;HEAD /xai/xai.html HTTP/1.1&quot;);\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;Accept&quot;);\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;&quot;);","title":"HTTP/1.1 400 Bad Request Eclipse","body":"<p>End of line on message must be either hardcoded or added by printer</p>\n<pre><code>String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\n// println will send OS end-of-line so it might be just \\n or \\r\n// better not depend on that\nwriter.print(peticio);\nwriter.print(&quot;\\r\\n&quot;);\n</code></pre>\n<p>Or</p>\n<pre><code>    writer.print(&quot;HEAD /xai/xai.html HTTP/1.1\\r\\n&quot;);\n    writer.print(&quot;Accept\\r\\n&quot;);\n    writer.print(&quot;\\r\\n&quot;);\n</code></pre>\n<p>Or</p>\n<pre><code>    writer.printf(&quot;%s\\r\\n&quot;, &quot;HEAD /xai/xai.html HTTP/1.1&quot;);\n    writer.printf(&quot;%s\\r\\n&quot;, &quot;Accept&quot;);\n    writer.printf(&quot;%s\\r\\n&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681989440,"creation_date":1681928834,"question_id":76057766,"body_markdown":"Trying to programm sockets with TDP and there&#180;s some mistake in the http client that I can&#180;t find that bring an error when I run it.\r\n\r\n```\r\npackage tcp.client;\r\n\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.net.UnknownHostException;\r\n\r\nimport edu.uoc.dpcs.lsim.logger.LoggerManager.Level;\r\nimport lsim.library.api.LSimLogger;\r\n\r\n\r\npublic class HTTPclient {\r\n\r\n\tpublic HTTPclient() {\r\n\t}\r\n\t\t\t\r\n\tpublic String head(String http_server_address, int http_server_port){\r\n\t\tLSimLogger.log(Level.INFO, &quot;start HTTPclient.head &quot;);\r\n\t\tLSimLogger.log(Level.INFO, &quot;HTTP server_address: &quot; + http_server_address);\r\n\t\tLSimLogger.log(Level.INFO, &quot;HTTP server_port: &quot;    + http_server_port);\r\n\r\n\t\t/* Complete code  */\r\n\t\t\r\n\t\tString peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\r\n\r\n\t   \tLSimLogger.log(Level.INFO, peticio);\r\n\r\n\t   \tString resposta = &quot;&quot;;\r\n\t\tSocket socket;\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(http_server_address, http_server_port);\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Socket created&quot;);\r\n\t\t\tOutputStream output = socket.getOutputStream();\r\n\t\t   \tPrintWriter writer = new PrintWriter(output, true);\r\n\t\t   \twriter.println(peticio);\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Request sent&quot;);\r\n\r\n\t\t   \tBufferedReader inputFromServer = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t   \tString linia ;\r\n\t\t   \twhile ((linia = inputFromServer.readLine()) != null) {\r\n\t\t   \t\tresposta += linia + &quot;\\r\\n&quot;;\r\n\t\t   \t\tLSimLogger.log(Level.TRACE, linia);\r\n\t\t   \t}\r\n\t\t   \t\r\n\t\t   \tsocket.close();\r\n\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Response: &quot; + resposta);\r\n\t\t} catch (SocketException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn resposta;\r\n\t}\r\n}\r\n```\r\n\r\nThe code was done and according to the test question I only had to write the code where it says String peticio.\r\n\r\nThe error message.\r\n\r\nHTTP/1.1 400 Bad Request\r\n\r\nAny help?","title":"HTTP/1.1 400 Bad Request Eclipse","body":"<p>Trying to programm sockets with TDP and there¬¥s some mistake in the http client that I can¬¥t find that bring an error when I run it.</p>\n<pre><code>package tcp.client;\n\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\n\nimport edu.uoc.dpcs.lsim.logger.LoggerManager.Level;\nimport lsim.library.api.LSimLogger;\n\n\npublic class HTTPclient {\n\n    public HTTPclient() {\n    }\n            \n    public String head(String http_server_address, int http_server_port){\n        LSimLogger.log(Level.INFO, &quot;start HTTPclient.head &quot;);\n        LSimLogger.log(Level.INFO, &quot;HTTP server_address: &quot; + http_server_address);\n        LSimLogger.log(Level.INFO, &quot;HTTP server_port: &quot;    + http_server_port);\n\n        /* Complete code  */\n        \n        String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\n\n        LSimLogger.log(Level.INFO, peticio);\n\n        String resposta = &quot;&quot;;\n        Socket socket;\n        try {\n            socket = new Socket(http_server_address, http_server_port);\n            LSimLogger.log(Level.INFO, &quot;Socket created&quot;);\n            OutputStream output = socket.getOutputStream();\n            PrintWriter writer = new PrintWriter(output, true);\n            writer.println(peticio);\n            LSimLogger.log(Level.INFO, &quot;Request sent&quot;);\n\n            BufferedReader inputFromServer = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            String linia ;\n            while ((linia = inputFromServer.readLine()) != null) {\n                resposta += linia + &quot;\\r\\n&quot;;\n                LSimLogger.log(Level.TRACE, linia);\n            }\n            \n            socket.close();\n\n            LSimLogger.log(Level.INFO, &quot;Response: &quot; + resposta);\n        } catch (SocketException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        } catch (UnknownHostException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        } catch (IOException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        }\n        \n        return resposta;\n    }\n}\n</code></pre>\n<p>The code was done and according to the test question I only had to write the code where it says String peticio.</p>\n<p>The error message.</p>\n<p>HTTP/1.1 400 Bad Request</p>\n<p>Any help?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1261435742,"post_id":1942644,"comment_id":1853601,"body_markdown":"To be able to programmaticly inspect a List object and see its generic type. A method may want to insert objects based on the generic type of the collection. This is possible in languages that implement generics at runtime instead of compile time.","body":"To be able to programmaticly inspect a List object and see its generic type. A method may want to insert objects based on the generic type of the collection. This is possible in languages that implement generics at runtime instead of compile time."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":4,"creation_date":1284151279,"post_id":1942644,"comment_id":3885770,"body_markdown":"Right -- about the only way to allow runtime detection is by sub-classing: you CAN actually extend generic type and then using reflection find type declaration that subtype used. This is quite a bit of reflection, but possible. Unfortunately there is no easy way to enforce that one must use generic sub-class.","body":"Right -- about the only way to allow runtime detection is by sub-classing: you CAN actually extend generic type and then using reflection find type declaration that subtype used. This is quite a bit of reflection, but possible. Unfortunately there is no easy way to enforce that one must use generic sub-class."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1410883776,"post_id":1942644,"comment_id":40489435,"body_markdown":"Surely stringList contains strings and integerList integers? Why make it more complicated?","body":"Surely stringList contains strings and integerList integers? Why make it more complicated?"}],"answers":[{"tags":[],"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1261430158,"creation_date":1261429822,"answer_id":1942648,"question_id":1942644,"body_markdown":"Short answer: no.\r\n\r\nThis is probably a duplicate, can&#39;t find an appropriate one right now.\r\n\r\nJava uses something called type erasure, which means at runtime both objects are equivalent. The compiler knows the lists contain integers or strings, and as such can maintain a type safe environment. This information is lost (on an object instance basis) at runtime, and the list only contain &#39;Objects&#39;.\r\n\r\nYou CAN find out a little about the class, what types it might be parametrized by, but normally this is just anything that extends &quot;Object&quot;, i.e. anything. If you define a type as\r\n\r\n    class &lt;A extends MyClass&gt; AClass {....}\r\n\r\nAClass.class will only contain the fact that the parameter A is bounded by MyClass, but more than that, there&#39;s no way to tell.","title":"Get generic type of java.util.List","body":"<p>Short answer: no.</p>\n\n<p>This is probably a duplicate, can't find an appropriate one right now.</p>\n\n<p>Java uses something called type erasure, which means at runtime both objects are equivalent. The compiler knows the lists contain integers or strings, and as such can maintain a type safe environment. This information is lost (on an object instance basis) at runtime, and the list only contain 'Objects'.</p>\n\n<p>You CAN find out a little about the class, what types it might be parametrized by, but normally this is just anything that extends \"Object\", i.e. anything. If you define a type as</p>\n\n<pre><code>class &lt;A extends MyClass&gt; AClass {....}\n</code></pre>\n\n<p>AClass.class will only contain the fact that the parameter A is bounded by MyClass, but more than that, there's no way to tell.</p>\n"},{"tags":[],"owner":{"account_id":12923,"reputation":11910,"user_id":25704,"accept_rate":92,"display_name":"Chris Arguin"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1261430117,"creation_date":1261430117,"answer_id":1942671,"question_id":1942644,"body_markdown":"As others have said, the only correct answer is no, the type has been erased.\r\n\r\nIf the list has a non-zero number of elements, you could investigate the type of the first element ( using it&#39;s getClass method, for instance ). That won&#39;t tell you the generic type of the list, but it would be reasonable to assume that the generic type was some superclass of the types in the list.\r\n\r\nI wouldn&#39;t advocate the approach, but in a bind it might be useful.","title":"Get generic type of java.util.List","body":"<p>As others have said, the only correct answer is no, the type has been erased.</p>\n\n<p>If the list has a non-zero number of elements, you could investigate the type of the first element ( using it's getClass method, for instance ). That won't tell you the generic type of the list, but it would be reasonable to assume that the generic type was some superclass of the types in the list.</p>\n\n<p>I wouldn't advocate the approach, but in a bind it might be useful.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1261430130,"creation_date":1261430130,"answer_id":1942673,"question_id":1942644,"body_markdown":"Generally impossible, because `List&lt;String&gt;` and `List&lt;Integer&gt;` share the same runtime class.\r\n\r\nYou might be able to reflect on the declared type of the field holding the list, though (if the declared type does not itself refer to a type parameter whose value you don&#39;t know).","title":"Get generic type of java.util.List","body":"<p>Generally impossible, because <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> share the same runtime class.</p>\n\n<p>You might be able to reflect on the declared type of the field holding the list, though (if the declared type does not itself refer to a type parameter whose value you don't know).</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":479,"is_accepted":true,"score":478,"last_activity_date":1681989413,"creation_date":1261430329,"answer_id":1942680,"question_id":1942644,"body_markdown":"If those are actually fields of a certain class, then you can get them with a little help of reflection:\r\n\r\n```java\r\npackage com.stackoverflow.q1942644;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String... args) throws Exception {\r\n        Class&lt;Test&gt; testClass = Test.class;\r\n\r\n        Field stringListField = testClass.getDeclaredField(&quot;stringList&quot;);\r\n        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();\r\n        Class&lt;?&gt; stringListClass = (Class&lt;?&gt;) stringListType.getActualTypeArguments()[0];\r\n        System.out.println(stringListClass); // class java.lang.String\r\n\r\n        Field integerListField = testClass.getDeclaredField(&quot;integerList&quot;);\r\n        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();\r\n        Class&lt;?&gt; integerListClass = (Class&lt;?&gt;) integerListType.getActualTypeArguments()[0];\r\n        System.out.println(integerListClass); // class java.lang.Integer\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can also do that for parameter types and return type of methods.\r\n\r\nBut if they&#39;re inside the same scope of the class/method where you need to know about them, then there&#39;s no point of knowing them, because you already have declared them yourself.\r\n","title":"Get generic type of java.util.List","body":"<p>If those are actually fields of a certain class, then you can get them with a little help of reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.q1942644;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n\n    public static void main(String... args) throws Exception {\n        Class&lt;Test&gt; testClass = Test.class;\n\n        Field stringListField = testClass.getDeclaredField(&quot;stringList&quot;);\n        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();\n        Class&lt;?&gt; stringListClass = (Class&lt;?&gt;) stringListType.getActualTypeArguments()[0];\n        System.out.println(stringListClass); // class java.lang.String\n\n        Field integerListField = testClass.getDeclaredField(&quot;integerList&quot;);\n        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();\n        Class&lt;?&gt; integerListClass = (Class&lt;?&gt;) integerListType.getActualTypeArguments()[0];\n        System.out.println(integerListClass); // class java.lang.Integer\n    }\n\n}\n</code></pre>\n<p>You can also do that for parameter types and return type of methods.</p>\n<p>But if they're inside the same scope of the class/method where you need to know about them, then there's no point of knowing them, because you already have declared them yourself.</p>\n"},{"tags":[],"owner":{"account_id":30420,"reputation":3100,"user_id":82970,"accept_rate":96,"display_name":"Scott Morrison"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1261430385,"creation_date":1261430385,"answer_id":1942692,"question_id":1942644,"body_markdown":"At runtime, no, you can&#39;t.\r\n\r\nHowever via reflection the type parameters *are* accessible. Try\r\n\r\n    for(Field field : this.getDeclaredFields()) {\r\n        System.out.println(field.getGenericType())\r\n    }\r\n\r\nThe method `getGenericType()` returns a Type object. In this case, it will be an instance of `ParametrizedType`, which in turn has methods `getRawType()` (which will contain `List.class`, in this case) and `getActualTypeArguments()`, which will return an array (in this case, of length one, containing either `String.class` or `Integer.class`).","title":"Get generic type of java.util.List","body":"<p>At runtime, no, you can't.</p>\n\n<p>However via reflection the type parameters <em>are</em> accessible. Try</p>\n\n<pre><code>for(Field field : this.getDeclaredFields()) {\n    System.out.println(field.getGenericType())\n}\n</code></pre>\n\n<p>The method <code>getGenericType()</code> returns a Type object. In this case, it will be an instance of <code>ParametrizedType</code>, which in turn has methods <code>getRawType()</code> (which will contain <code>List.class</code>, in this case) and <code>getActualTypeArguments()</code>, which will return an array (in this case, of length one, containing either <code>String.class</code> or <code>Integer.class</code>).</p>\n"},{"tags":[],"owner":{"account_id":277196,"reputation":636,"user_id":571042,"display_name":"tsaixingwei"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1597275696,"creation_date":1298815877,"answer_id":5133664,"question_id":1942644,"body_markdown":"You can do the same for method parameters as well:\r\n\r\n    Method method = someClass.getDeclaredMethod(&quot;someMethod&quot;);\r\n    Type[] types = method.getGenericParameterTypes();\r\n    //Now assuming that the first parameter to the method is of type List&lt;Integer&gt;\r\n    ParameterizedType pType = (ParameterizedType) types[0];\r\n    Class&lt;?&gt; clazz = (Class&lt;?&gt;) pType.getActualTypeArguments()[0];\r\n    System.out.println(clazz); //prints out java.lang.Integer\r\n\r\n\r\n\r\n\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>You can do the same for method parameters as well:</p>\n<pre><code>Method method = someClass.getDeclaredMethod(&quot;someMethod&quot;);\nType[] types = method.getGenericParameterTypes();\n//Now assuming that the first parameter to the method is of type List&lt;Integer&gt;\nParameterizedType pType = (ParameterizedType) types[0];\nClass&lt;?&gt; clazz = (Class&lt;?&gt;) pType.getActualTypeArguments()[0];\nSystem.out.println(clazz); //prints out java.lang.Integer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":748264,"reputation":59,"user_id":740020,"display_name":"Ashish"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1547502338,"creation_date":1304602075,"answer_id":5898470,"question_id":1942644,"body_markdown":"    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class GenericTypeOfCollectionTest {\r\n        public class FormBean {\r\n        }\r\n    \r\n        public class MyClazz {\r\n            private List&lt;FormBean&gt; list = new ArrayList&lt;FormBean&gt;();\r\n        }\r\n    \r\n        @Test\r\n        public void testName() throws Exception {\r\n            Field[] fields = MyClazz.class.getFields();\r\n            for (Field field : fields) {\r\n                //1. Check if field is of Collection Type\r\n                if (Collection.class.isAssignableFrom(field.getType())) {\r\n                    //2. Get Generic type of your field\r\n                    Class fieldGenericType = getFieldGenericType(field);\r\n                    //3. Compare with &lt;FromBean&gt;\r\n                    Assert.assertTrue(&quot;List&lt;FormBean&gt;&quot;,\r\n                      FormBean.class.isAssignableFrom(fieldGenericType));\r\n                }\r\n            }\r\n        }\r\n    \r\n        //Returns generic type of any field\r\n        public Class getFieldGenericType(Field field) {\r\n            if (ParameterizedType.class.isAssignableFrom(field.getGenericType().getClass())) {\r\n                ParameterizedType genericType =\r\n                 (ParameterizedType) field.getGenericType();\r\n                return ((Class)\r\n                  (genericType.getActualTypeArguments()[0])).getSuperclass();\r\n            }\r\n            //Returns dummy Boolean Class to compare with ValueObject &amp; FormBean\r\n            return new Boolean(false).getClass();\r\n        }\r\n    }","title":"Get generic type of java.util.List","body":"<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class GenericTypeOfCollectionTest {\n    public class FormBean {\n    }\n\n    public class MyClazz {\n        private List&lt;FormBean&gt; list = new ArrayList&lt;FormBean&gt;();\n    }\n\n    @Test\n    public void testName() throws Exception {\n        Field[] fields = MyClazz.class.getFields();\n        for (Field field : fields) {\n            //1. Check if field is of Collection Type\n            if (Collection.class.isAssignableFrom(field.getType())) {\n                //2. Get Generic type of your field\n                Class fieldGenericType = getFieldGenericType(field);\n                //3. Compare with &lt;FromBean&gt;\n                Assert.assertTrue(\"List&lt;FormBean&gt;\",\n                  FormBean.class.isAssignableFrom(fieldGenericType));\n            }\n        }\n    }\n\n    //Returns generic type of any field\n    public Class getFieldGenericType(Field field) {\n        if (ParameterizedType.class.isAssignableFrom(field.getGenericType().getClass())) {\n            ParameterizedType genericType =\n             (ParameterizedType) field.getGenericType();\n            return ((Class)\n              (genericType.getActualTypeArguments()[0])).getSuperclass();\n        }\n        //Returns dummy Boolean Class to compare with ValueObject &amp; FormBean\n        return new Boolean(false).getClass();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1560820075,"creation_date":1360130761,"answer_id":14722640,"question_id":1942644,"body_markdown":"The generic type of a collection should only matter if it actually has objects in it, right? So isn&#39;t it easier to just do:\r\n\r\n    Collection&lt;?&gt; myCollection = getUnknownCollectionFromSomewhere();\r\n    Class genericClass = null;\r\n    Iterator it = myCollection.iterator();\r\n    if (it.hasNext()){\r\n        genericClass = it.next().getClass();\r\n    }\r\n    if (genericClass != null) { //do whatever we needed to know the type for\r\n\r\n\r\nThere&#39;s no such thing as a generic type in runtime, but the objects inside at runtime are guaranteed to be the same type as the declared generic, so it&#39;s easy enough just to test the item&#39;s class before we process it.\r\n\r\nAnother thing you can do is simply process the list to get members that are the right type, ignoring others (or processing them differently).\r\n\r\n\tMap&lt;Class&lt;?&gt;, List&lt;Object&gt;&gt; classObjectMap = myCollection.stream()\r\n\t\t.filter(Objects::nonNull)\r\n\t\t.collect(Collectors.groupingBy(Object::getClass));\r\n\t\r\n\t// Process the list of the correct class, and/or handle objects of incorrect\r\n\t// class (throw exceptions, etc). You may need to group subclasses by\r\n\t// filtering the keys. For instance:\r\n\t\r\n\tList&lt;Number&gt; numbers = classObjectMap.entrySet().stream()\r\n\t\t\t.filter(e-&gt;Number.class.isAssignableFrom(e.getKey()))\r\n\t\t\t.flatMap(e-&gt;e.getValue().stream())\r\n\t\t\t.map(Number.class::cast)\r\n\t\t\t.collect(Collectors.toList());\r\n\t\r\nThis will give you a list of all items whose classes were subclasses of `Number` which you can then process as you need. The rest of the items were filtered out into other lists. Because they&#39;re in the map, you can process them as desired, or ignore them. \r\n\r\nIf you want to ignore items of other classes altogether, it becomes much simpler:\r\n\r\n    List&lt;Number&gt; numbers = myCollection.stream()\r\n        .filter(Number.class::isInstance)\r\n        .map(Number.class::cast)\r\n        .collect(Collectors.toList());\r\n\r\nYou can even create a utility method to insure that a list contains ONLY those items matching a specific class:\r\n\r\n    public &lt;V&gt; List&lt;V&gt; getTypeSafeItemList(Collection&lt;Object&gt; input, Class&lt;V&gt; cls) {\r\n\t    return input.stream()\r\n\t    \t\t.filter(cls::isInstance)\r\n\t    \t\t.map(cls::cast)\r\n\t    \t\t.collect(Collectors.toList());\r\n    }","title":"Get generic type of java.util.List","body":"<p>The generic type of a collection should only matter if it actually has objects in it, right? So isn't it easier to just do:</p>\n\n<pre><code>Collection&lt;?&gt; myCollection = getUnknownCollectionFromSomewhere();\nClass genericClass = null;\nIterator it = myCollection.iterator();\nif (it.hasNext()){\n    genericClass = it.next().getClass();\n}\nif (genericClass != null) { //do whatever we needed to know the type for\n</code></pre>\n\n<p>There's no such thing as a generic type in runtime, but the objects inside at runtime are guaranteed to be the same type as the declared generic, so it's easy enough just to test the item's class before we process it.</p>\n\n<p>Another thing you can do is simply process the list to get members that are the right type, ignoring others (or processing them differently).</p>\n\n<pre><code>Map&lt;Class&lt;?&gt;, List&lt;Object&gt;&gt; classObjectMap = myCollection.stream()\n    .filter(Objects::nonNull)\n    .collect(Collectors.groupingBy(Object::getClass));\n\n// Process the list of the correct class, and/or handle objects of incorrect\n// class (throw exceptions, etc). You may need to group subclasses by\n// filtering the keys. For instance:\n\nList&lt;Number&gt; numbers = classObjectMap.entrySet().stream()\n        .filter(e-&gt;Number.class.isAssignableFrom(e.getKey()))\n        .flatMap(e-&gt;e.getValue().stream())\n        .map(Number.class::cast)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This will give you a list of all items whose classes were subclasses of <code>Number</code> which you can then process as you need. The rest of the items were filtered out into other lists. Because they're in the map, you can process them as desired, or ignore them. </p>\n\n<p>If you want to ignore items of other classes altogether, it becomes much simpler:</p>\n\n<pre><code>List&lt;Number&gt; numbers = myCollection.stream()\n    .filter(Number.class::isInstance)\n    .map(Number.class::cast)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>You can even create a utility method to insure that a list contains ONLY those items matching a specific class:</p>\n\n<pre><code>public &lt;V&gt; List&lt;V&gt; getTypeSafeItemList(Collection&lt;Object&gt; input, Class&lt;V&gt; cls) {\n    return input.stream()\n            .filter(cls::isInstance)\n            .map(cls::cast)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263936,"reputation":20265,"user_id":549848,"accept_rate":74,"display_name":"Aram Kocharyan"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1364558873,"creation_date":1364558873,"answer_id":15702911,"question_id":1942644,"body_markdown":"If you need to get the generic type of a returned type, I used this approach when I needed to find methods in a class which returned a `Collection` and then access their generic types:\r\n\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n    \r\n        public List&lt;String&gt; test() {\r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            for (Method method : Test.class.getMethods()) {\r\n                Class returnClass = method.getReturnType();\r\n                if (Collection.class.isAssignableFrom(returnClass)) {\r\n                    Type returnType = method.getGenericReturnType();\r\n                    if (returnType instanceof ParameterizedType) {\r\n                        ParameterizedType paramType = (ParameterizedType) returnType;\r\n                        Type[] argTypes = paramType.getActualTypeArguments();\r\n                        if (argTypes.length &gt; 0) {\r\n                            System.out.println(&quot;Generic type is &quot; + argTypes[0]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis outputs:\r\n\r\n&gt; Generic type is class java.lang.String","title":"Get generic type of java.util.List","body":"<p>If you need to get the generic type of a returned type, I used this approach when I needed to find methods in a class which returned a <code>Collection</code> and then access their generic types:</p>\n\n<pre><code>import java.lang.reflect.Method;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class Test {\n\n    public List&lt;String&gt; test() {\n        return null;\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        for (Method method : Test.class.getMethods()) {\n            Class returnClass = method.getReturnType();\n            if (Collection.class.isAssignableFrom(returnClass)) {\n                Type returnType = method.getGenericReturnType();\n                if (returnType instanceof ParameterizedType) {\n                    ParameterizedType paramType = (ParameterizedType) returnType;\n                    Type[] argTypes = paramType.getActualTypeArguments();\n                    if (argTypes.length &gt; 0) {\n                        System.out.println(\"Generic type is \" + argTypes[0]);\n                    }\n                }\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<blockquote>\n  <p>Generic type is class java.lang.String</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1655733520,"creation_date":1379094256,"answer_id":18792244,"question_id":1942644,"body_markdown":"Expanding on Steve K&#39;s answer:\r\n\r\n\r\n    /** \r\n    * Performs a forced cast.  \r\n    * Returns null if the collection type does not match the items in the list.\r\n    * @param data The list to cast.\r\n    * @param listType The type of list to cast to.\r\n    */\r\n    static &lt;T&gt; List&lt;? super T&gt; castListSafe(List&lt;?&gt; data, Class&lt;T&gt; listType){\r\n        List&lt;T&gt; retval = null;\r\n        //This test could be skipped if you trust the callers, but it wouldn&#39;t be safe then.\r\n        if(data!=null &amp;&amp; !data.isEmpty() &amp;&amp; listType.isInstance(data.iterator().next().getClass())) {\r\n            @SuppressWarnings(&quot;unchecked&quot;)//It&#39;s OK, we know List&lt;T&gt; contains the expected type.\r\n            List&lt;T&gt; foo = (List&lt;T&gt;)data;\r\n            retval=foo;\r\n        }\r\n        return retval;\r\n    }\r\n    Usage:\r\n    \r\n    protected WhateverClass add(List&lt;?&gt; data) {//For fluant useage\r\n        if(data==null) || data.isEmpty(){\r\n           throw new IllegalArgumentException(&quot;add() &quot; + data==null?&quot;null&quot;:&quot;empty&quot; \r\n           + &quot; collection&quot;);\r\n        }\r\n        Class&lt;?&gt; colType = data.iterator().next().getClass();//Something\r\n        aMethod(castListSafe(data, colType));\r\n    }\r\n    \r\n    aMethod(List&lt;Foo&gt; foo){\r\n       for(Foo foo: List){\r\n          System.out.println(Foo);\r\n       }\r\n    }\r\n    \r\n    aMethod(List&lt;Bar&gt; bar){\r\n       for(Bar bar: List){\r\n          System.out.println(Bar);\r\n       }\r\n    }\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>Expanding on Steve K's answer:</p>\n<pre><code>/** \n* Performs a forced cast.  \n* Returns null if the collection type does not match the items in the list.\n* @param data The list to cast.\n* @param listType The type of list to cast to.\n*/\nstatic &lt;T&gt; List&lt;? super T&gt; castListSafe(List&lt;?&gt; data, Class&lt;T&gt; listType){\n    List&lt;T&gt; retval = null;\n    //This test could be skipped if you trust the callers, but it wouldn't be safe then.\n    if(data!=null &amp;&amp; !data.isEmpty() &amp;&amp; listType.isInstance(data.iterator().next().getClass())) {\n        @SuppressWarnings(&quot;unchecked&quot;)//It's OK, we know List&lt;T&gt; contains the expected type.\n        List&lt;T&gt; foo = (List&lt;T&gt;)data;\n        retval=foo;\n    }\n    return retval;\n}\nUsage:\n\nprotected WhateverClass add(List&lt;?&gt; data) {//For fluant useage\n    if(data==null) || data.isEmpty(){\n       throw new IllegalArgumentException(&quot;add() &quot; + data==null?&quot;null&quot;:&quot;empty&quot; \n       + &quot; collection&quot;);\n    }\n    Class&lt;?&gt; colType = data.iterator().next().getClass();//Something\n    aMethod(castListSafe(data, colType));\n}\n\naMethod(List&lt;Foo&gt; foo){\n   for(Foo foo: List){\n      System.out.println(Foo);\n   }\n}\n\naMethod(List&lt;Bar&gt; bar){\n   for(Bar bar: List){\n      System.out.println(Bar);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447857738,"creation_date":1447857738,"answer_id":33782964,"question_id":1942644,"body_markdown":"For finding generic type of one field:\r\n\r\n    ((Class)((ParameterizedType)field.getGenericType()).getActualTypeArguments()[0]).getSimpleName()","title":"Get generic type of java.util.List","body":"<p>For finding generic type of one field:</p>\n\n<pre><code>((Class)((ParameterizedType)field.getGenericType()).getActualTypeArguments()[0]).getSimpleName()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1502387347,"creation_date":1502387347,"answer_id":45620381,"question_id":1942644,"body_markdown":"Had the same problem, but I used instanceof instead. Did it this way:\r\n\r\n    List&lt;Object&gt; listCheck = (List&lt;Object&gt;)(Object) stringList;\r\n        if (!listCheck.isEmpty()) {\r\n           if (listCheck.get(0) instanceof String) {\r\n               System.out.println(&quot;List type is String&quot;);\r\n           }\r\n           if (listCheck.get(0) instanceof Integer) {\r\n               System.out.println(&quot;List type is Integer&quot;);\r\n           }\r\n        }\r\n    }\r\n\r\nThis involves using unchecked casts so only do this when you know it is a list, and what type it can be. ","title":"Get generic type of java.util.List","body":"<p>Had the same problem, but I used instanceof instead. Did it this way:</p>\n\n<pre><code>List&lt;Object&gt; listCheck = (List&lt;Object&gt;)(Object) stringList;\n    if (!listCheck.isEmpty()) {\n       if (listCheck.get(0) instanceof String) {\n           System.out.println(\"List type is String\");\n       }\n       if (listCheck.get(0) instanceof Integer) {\n           System.out.println(\"List type is Integer\");\n       }\n    }\n}\n</code></pre>\n\n<p>This involves using unchecked casts so only do this when you know it is a list, and what type it can be. </p>\n"},{"tags":[],"owner":{"account_id":7427774,"reputation":133,"user_id":5649747,"display_name":"Siddharth Shishulkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508915638,"creation_date":1508915638,"answer_id":46926189,"question_id":1942644,"body_markdown":"Use Reflection to get the `Field` for these then you can just do: `field.genericType` to get the type that contains the information about generic as well.\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>Use Reflection to get the <code>Field</code> for these then you can just do: <code>field.genericType</code> to get the type that contains the information about generic as well.</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639665141,"creation_date":1639665141,"answer_id":70380769,"question_id":1942644,"body_markdown":"A tiny helper method for that:\r\n\r\n    /**\r\n     * Get type of collection field.\r\n     *\r\n     * @param aClass A class containing collection.\r\n     * @param collectionName A collection field name.\r\n     */\r\n    @SneakyThrows\r\n    public static Class&lt;?&gt; getCollectionType(Class&lt;?&gt; aClass, String collectionName) {\r\n      Field field = aClass.getDeclaredField(collectionName);\r\n      ParameterizedType genericType = (ParameterizedType) field.getGenericType();\r\n      return (Class&lt;?&gt;) genericType.getActualTypeArguments()[0];\r\n    }","title":"Get generic type of java.util.List","body":"<p>A tiny helper method for that:</p>\n<pre><code>/**\n * Get type of collection field.\n *\n * @param aClass A class containing collection.\n * @param collectionName A collection field name.\n */\n@SneakyThrows\npublic static Class&lt;?&gt; getCollectionType(Class&lt;?&gt; aClass, String collectionName) {\n  Field field = aClass.getDeclaredField(collectionName);\n  ParameterizedType genericType = (ParameterizedType) field.getGenericType();\n  return (Class&lt;?&gt;) genericType.getActualTypeArguments()[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2934930,"reputation":404,"user_id":2514119,"accept_rate":0,"display_name":"Blake McBride"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651235044,"creation_date":1651235044,"answer_id":72057932,"question_id":1942644,"body_markdown":"I found an answer that works perfectly in my case.\r\n```\r\nclass ArrayListString extends ArrayList&lt;String&gt; {}\r\nclass ArrayListInteger extends ArrayList&lt;Integer&gt; {}\r\n\r\nArrayListString als = new ArrayListString();\r\nArrayListInteger ali = new ArrayListInteger();\r\n\r\nvoid whatType(Object a) {\r\n    if (a instanceof ArrayListString)\r\n        System.out.println(&quot;ArrayListString&quot;);\r\n    else if (a instanceof ArrayListInteger)\r\n        System.out.println(&quot;ArrayListInteger&quot;);\r\n}\r\n\r\nwhatType(als);\r\nwhatType(ali);\r\n```\r\n`als` and `ali` will work as their generics do.\r\n\r\nWhat this code does is convert a generic type into a regular Java type.  In Java, regular types can be detected with `instanceof`.","title":"Get generic type of java.util.List","body":"<p>I found an answer that works perfectly in my case.</p>\n<pre><code>class ArrayListString extends ArrayList&lt;String&gt; {}\nclass ArrayListInteger extends ArrayList&lt;Integer&gt; {}\n\nArrayListString als = new ArrayListString();\nArrayListInteger ali = new ArrayListInteger();\n\nvoid whatType(Object a) {\n    if (a instanceof ArrayListString)\n        System.out.println(&quot;ArrayListString&quot;);\n    else if (a instanceof ArrayListInteger)\n        System.out.println(&quot;ArrayListInteger&quot;);\n}\n\nwhatType(als);\nwhatType(ali);\n</code></pre>\n<p><code>als</code> and <code>ali</code> will work as their generics do.</p>\n<p>What this code does is convert a generic type into a regular Java type.  In Java, regular types can be detected with <code>instanceof</code>.</p>\n"}],"owner":{"account_id":58404,"reputation":16263,"user_id":174868,"accept_rate":96,"display_name":"Thizzer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398934,"favorite_count":0,"down_vote_count":0,"up_vote_count":314,"accepted_answer_id":1942680,"answer_count":15,"score":314,"last_activity_date":1681989413,"creation_date":1261429723,"question_id":1942644,"body_markdown":"I have;\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\r\n\r\nIs there a (easy) way to retrieve the generic type of the list?\r\n","title":"Get generic type of java.util.List","body":"<p>I have;</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\nList&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>Is there a (easy) way to retrieve the generic type of the list?</p>\n"},{"tags":["java","junit","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":6733457,"reputation":179,"user_id":10217900,"display_name":"Sylvester"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681989296,"creation_date":1681989296,"answer_id":76063466,"question_id":71438234,"body_markdown":"You can create a new *Transformer* object using the *newDefaultInstance()* method which is not flagged by sonar. See below:\r\n\r\n        TransformerFactory transformerFactory = TransformerFactory.newDefaultInstance();\r\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\nThe main difference between the two methods is that *newDefaultInstance()* returns a default *TransformerFactory* instance, while *newInstance()* allows you to specify a specific implementation class for the *TransformerFactory*.\r\n\r\nIn other words, *newDefaultInstance()* returns an instance of the default implementation of the *TransformerFactory* that is provided by the Java Runtime Environment (JRE) being used.\r\n","title":"How to fix sonar issue &quot;Disable access to external entities in XML parsing&quot; in Junits","body":"<p>You can create a new <em>Transformer</em> object using the <em>newDefaultInstance()</em> method which is not flagged by sonar. See below:</p>\n<pre><code>    TransformerFactory transformerFactory = TransformerFactory.newDefaultInstance();\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>The main difference between the two methods is that <em>newDefaultInstance()</em> returns a default <em>TransformerFactory</em> instance, while <em>newInstance()</em> allows you to specify a specific implementation class for the <em>TransformerFactory</em>.</p>\n<p>In other words, <em>newDefaultInstance()</em> returns an instance of the default implementation of the <em>TransformerFactory</em> that is provided by the Java Runtime Environment (JRE) being used.</p>\n"}],"owner":{"account_id":4359685,"reputation":71,"user_id":3557214,"display_name":"user3557214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681989296,"creation_date":1647000129,"question_id":71438234,"body_markdown":"from what i have understood that in order to get rid of the sonar issue &quot;Disable access to external entities in XML parsing&quot; , we need to have the following code in place \r\n\r\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\nBut when i do this, my JUnits which invokes this code fails saying \r\n\r\n&gt; Failed to read schema document &#39;myschema.xsd&#39;, because &#39;file&#39; access is not allowed due to restriction set by the\r\n&gt; accessExternalSchema property.\r\n\r\nSo how can we get around this? If we fix sonar issue, our Junit fails .\r\n\r\nI also tried inistiasing the factory like below, but no change in error\r\n\r\n    TransformerFactory transformerFactory = new com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl();","title":"How to fix sonar issue &quot;Disable access to external entities in XML parsing&quot; in Junits","body":"<p>from what i have understood that in order to get rid of the sonar issue &quot;Disable access to external entities in XML parsing&quot; , we need to have the following code in place</p>\n<pre><code>TransformerFactory transformerFactory = TransformerFactory.newInstance();\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>But when i do this, my JUnits which invokes this code fails saying</p>\n<blockquote>\n<p>Failed to read schema document 'myschema.xsd', because 'file' access is not allowed due to restriction set by the\naccessExternalSchema property.</p>\n</blockquote>\n<p>So how can we get around this? If we fix sonar issue, our Junit fails .</p>\n<p>I also tried inistiasing the factory like below, but no change in error</p>\n<pre><code>TransformerFactory transformerFactory = new com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl();\n</code></pre>\n"},{"tags":["java","postgresql","jsonb","spring-jdbc"],"comments":[{"owner":{"account_id":27981280,"reputation":88,"user_id":21368984,"display_name":"oaowren"},"score":0,"creation_date":1681980421,"post_id":76061752,"comment_id":134144824,"body_markdown":"How did you implement the Complex class used as the type in Development? It looks like it is attempting to cascade the insert because it thinks Complex is an entity that should be referenced from Development, not a Jsonb-column. This will probably also be the case for Developer and Documents if they are implemented similarly.","body":"How did you implement the Complex class used as the type in Development? It looks like it is attempting to cascade the insert because it thinks Complex is an entity that should be referenced from Development, not a Jsonb-column. This will probably also be the case for Developer and Documents if they are implemented similarly."},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1681982254,"post_id":76061752,"comment_id":134145220,"body_markdown":"thanks for your comment. I supplemented the description with the code of the classes that I&#39;m trying to save in `jsonb`. I don&#39;t need `apartment` and `developer` in separate tables. It is important that this data is stored in `jsonb` columns","body":"thanks for your comment. I supplemented the description with the code of the classes that I&#39;m trying to save in <code>jsonb</code>. I don&#39;t need <code>apartment</code> and <code>developer</code> in separate tables. It is important that this data is stored in <code>jsonb</code> columns"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1681983064,"post_id":76061752,"comment_id":134145414,"body_markdown":"Where is your complex entity?","body":"Where is your complex entity?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681985616,"post_id":76061752,"comment_id":134145995,"body_markdown":"@Entity in Development class missing?","body":"@Entity in Development class missing?"},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1681989140,"post_id":76061752,"comment_id":134146813,"body_markdown":"But if I add `@Entity`, then it will be a separate table. And I want to store this object in `jsonb`.","body":"But if I add <code>@Entity</code>, then it will be a separate table. And I want to store this object in <code>jsonb</code>."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681989355,"post_id":76061752,"comment_id":134146861,"body_markdown":"??? Development is a database table. You need an @Entity in the Development class to make it work with Hibernate and JPARepository.","body":"??? Development is a database table. You need an @Entity in the Development class to make it work with Hibernate and JPARepository."}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681989055,"creation_date":1681977342,"question_id":76061752,"body_markdown":"I have a `postgresql` table with `JSOB` columns and java `spring jdbc` application. \r\n\r\nBut when I try to save an entity I get this error:\r\n```\r\nCaused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO &quot;complex&quot; (&quot;complex_id&quot;, &quot;name&quot;) VALUES (?, ?)]; \r\nnested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;complex&quot; does not exist\r\n```\r\n\r\nIt looks like `jdbc` thinks `complex` is a separate table, but really this value should just be written to a `jsob` column.\r\n\r\nMy `postgresql` table:\r\n```sql\r\nCREATE TABLE development\r\n(\r\n    id         TEXT PRIMARY KEY,\r\n    complex    JSONB,\r\n    developer  JSONB,\r\n    comment    TEXT,\r\n    created_at TIMESTAMP NOT NULL\r\n)\r\n```\r\n\r\nMy entity:\r\n```java\r\n@Table(name = &quot;development&quot;)\r\npublic class Development {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private Complex complex;\r\n\r\n    private Developer developer;\r\n\r\n    private String comment;\r\n\r\n    @CreatedDate\r\n    private Instant createdAt;\r\n}\r\n```\r\n\r\nRepository:\r\n```java\r\npublic interface DevelopmentRepository extends PagingAndSortingRepository&lt;Development, String&gt; {\r\n}\r\n```\r\n\r\nClass where I try to save entity:\r\n```\r\n@Component\r\npublic class JdbcDevelopmentAdapter implements CreateDevelopmentPort {\r\n\r\n    private final DevelopmentRepository repository;\r\n\r\n    @Override\r\n    public Development create(Development development) {\r\n        return save(development);\r\n    }\r\n\r\n    private Development save(Development development) {\r\n        return repository.save(development);\r\n    }\r\n}\r\n```\r\n\r\nClasses whose entities I am trying to store in a `jsonb` columns:\r\n```\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Apartment {\r\n    private String apartmentId;\r\n    private String name;\r\n}\r\n\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Developer {\r\n    private String developerId;\r\n    private String name;\r\n}\r\n```","title":"PSQLException: ERROR: relation does not exist for saving to jsonb column","body":"<p>I have a <code>postgresql</code> table with <code>JSOB</code> columns and java <code>spring jdbc</code> application.</p>\n<p>But when I try to save an entity I get this error:</p>\n<pre><code>Caused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO &quot;complex&quot; (&quot;complex_id&quot;, &quot;name&quot;) VALUES (?, ?)]; \nnested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;complex&quot; does not exist\n</code></pre>\n<p>It looks like <code>jdbc</code> thinks <code>complex</code> is a separate table, but really this value should just be written to a <code>jsob</code> column.</p>\n<p>My <code>postgresql</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE development\n(\n    id         TEXT PRIMARY KEY,\n    complex    JSONB,\n    developer  JSONB,\n    comment    TEXT,\n    created_at TIMESTAMP NOT NULL\n)\n</code></pre>\n<p>My entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;development&quot;)\npublic class Development {\n\n    @Id\n    private String id;\n\n    private Complex complex;\n\n    private Developer developer;\n\n    private String comment;\n\n    @CreatedDate\n    private Instant createdAt;\n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DevelopmentRepository extends PagingAndSortingRepository&lt;Development, String&gt; {\n}\n</code></pre>\n<p>Class where I try to save entity:</p>\n<pre><code>@Component\npublic class JdbcDevelopmentAdapter implements CreateDevelopmentPort {\n\n    private final DevelopmentRepository repository;\n\n    @Override\n    public Development create(Development development) {\n        return save(development);\n    }\n\n    private Development save(Development development) {\n        return repository.save(development);\n    }\n}\n</code></pre>\n<p>Classes whose entities I am trying to store in a <code>jsonb</code> columns:</p>\n<pre><code>@Data\n@Accessors(chain = true)\npublic class Apartment {\n    private String apartmentId;\n    private String name;\n}\n\n@Data\n@Accessors(chain = true)\npublic class Developer {\n    private String developerId;\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pdf","apache-poi","docx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1681989021,"post_id":76063396,"comment_id":134146787,"body_markdown":"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649","body":"<a href=\"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649\" title=\"docx to pdf converter in java\">stackoverflow.com/questions/51440312/&hellip;</a>"}],"owner":{"account_id":28359171,"reputation":1,"user_id":21689436,"display_name":"Ahmed Abdelkader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988839,"creation_date":1681988839,"question_id":76063396,"body_markdown":"I have an arabic docx file , I want to convert it to pdf , so I m using Apache Poi as a tool , but it keep showing me always java.lang.NoSuchMethodError , I think the version of Apache POI used in my project is not compatible : \r\n      \r\n```\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"dependency probem ( Apache POI)","body":"<p>I have an arabic docx file , I want to convert it to pdf , so I m using Apache Poi as a tool , but it keep showing me always java.lang.NoSuchMethodError , I think the version of Apache POI used in my project is not compatible :</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","loops","class","methods","android-activity"],"owner":{"account_id":28359152,"reputation":1,"user_id":21689418,"display_name":"Rainy Plant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988811,"creation_date":1681988811,"question_id":76063390,"body_markdown":"\r\n```\r\nclass ConstructAVLTree{\r\n\tprivate Node rootNode;\r\n\tpublic ConstructAVLTree(){\r\n\t\trootNode = null;\r\n\t}\r\nprivate boolean searchElement(int element){\r\n\treturn searchElement(rootNode, element);\r\n}\r\n\r\nprivate boolean searchElement(Node head, int element){\r\n\tboolean check = false;\r\n\twhile((head != null) &amp;&amp; !check){\r\n\t\tint headElement = head.element;\r\n\t\tif (element &lt; headElement){\r\n\t\t\thead = head.leftChild;\r\n\t\t}\r\n\t\telse if (element &gt; headElement){\r\n\t\t\thead = head.rightChild;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcheck = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcheck = searchElement(head, element);\r\n\t}\r\n\treturn check;\r\n}\r\n}\r\n\r\npublic class AVLTreeExample {\r\n    \r\n    public static void main(String[] args) {\r\n    \tScanner sc= new Scanner(System.in);\r\n    \tConstructAVLTree obj = new ConstructAVLTree();\r\n    \tchar choice;\r\nint ch = sc.nextInt();\r\n    \tswitch(ch){\r\ncase 1:\r\n    \t\t\tSystem.out.println(&quot;Enter integer element to search: &quot;);\r\n    \t\t\tSystem.out.println(obj.searchElement(sc.nextInt()));\r\n    \t\t\tbreak;\r\n\r\n\r\n```\r\n**I am making a program that can add, remove elements (stacks and queues-like) and display elements in pre, in and post-order traversal. I tried changing boolean to void and default but didn&#39;t work and had more errors than expected. Hopefully someone can help me with this error, thank you.**","title":"Java Error: method searchElement in class ConstructAVLTree cannot be applied to given types;","body":"<pre><code>class ConstructAVLTree{\n    private Node rootNode;\n    public ConstructAVLTree(){\n        rootNode = null;\n    }\nprivate boolean searchElement(int element){\n    return searchElement(rootNode, element);\n}\n\nprivate boolean searchElement(Node head, int element){\n    boolean check = false;\n    while((head != null) &amp;&amp; !check){\n        int headElement = head.element;\n        if (element &lt; headElement){\n            head = head.leftChild;\n        }\n        else if (element &gt; headElement){\n            head = head.rightChild;\n        }\n        else{\n            check = true;\n            break;\n        }\n        check = searchElement(head, element);\n    }\n    return check;\n}\n}\n\npublic class AVLTreeExample {\n    \n    public static void main(String[] args) {\n        Scanner sc= new Scanner(System.in);\n        ConstructAVLTree obj = new ConstructAVLTree();\n        char choice;\nint ch = sc.nextInt();\n        switch(ch){\ncase 1:\n                System.out.println(&quot;Enter integer element to search: &quot;);\n                System.out.println(obj.searchElement(sc.nextInt()));\n                break;\n\n\n</code></pre>\n<p><strong>I am making a program that can add, remove elements (stacks and queues-like) and display elements in pre, in and post-order traversal. I tried changing boolean to void and default but didn't work and had more errors than expected. Hopefully someone can help me with this error, thank you.</strong></p>\n"},{"tags":["java","spring-boot","swagger-ui"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1681917569,"post_id":76055940,"comment_id":134135166,"body_markdown":"what is the error code for the (missing) images? (404/403/401??) what is their path? (404: are they available? 401/403: does path comply with &quot;allow list&quot;?...;)","body":"what is the error code for the (missing) images? (404/403/401??) what is their path? (404: are they available? 401/403: does path comply with &quot;allow list&quot;?...;)"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988621,"creation_date":1681915971,"question_id":76055940,"body_markdown":"I have problem with display pictures in swagger-ui/index.html. I have thit screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1ZpC.png\r\n\r\nAs you can see, there is no svg on top and no icon in search bar. My security configuration in Spring boot is :\r\n\r\n    permission:\r\n      # list of url for permit all\r\n      optionMethodPermitAll:\r\n        - &quot;/graphql&quot;\r\n        - &quot;/auth/token&quot;\r\n        - &quot;/auth/refresh&quot;\r\n        - &quot;/actuator/*&quot;\r\n        - &quot;/api/*&quot;\r\n    \r\n      permitAll:\r\n        - &quot;/actuator/*&quot;\r\n        - &quot;/auth/token&quot;\r\n        - &quot;/auth/refresh&quot;\r\n        - &quot;/v2/api-docs&quot;\r\n        - &quot;/webjars/**&quot;\r\n        - &quot;/swagger*/**&quot;\r\n        - &quot;/favicon.ico&quot;\r\n        - &quot;/swagger-resources/**&quot;\r\n        - &quot;/webjars/**&quot;\r\n\r\nI use this configuration in pom.xml:\r\n \r\n\r\n           &lt;springfox.swagger.version&gt;3.0.0&lt;/springfox.swagger.version&gt;\r\n       &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n               &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nBut swagger dont display icon in search bar and header svg. Im little bit stuck with it. Thank you for help\r\n\r\nHere I have log of request &amp; responses:\r\n\r\n    13:02:05.397 [main] [] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dd62f07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e669b5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@1e9e4468, org.springframework.security.web.authentication.logout.LogoutFilter@2c6553c6, com.dhl.security.aaa.adapter.configuration.AuthenticationFilter@3db3668, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@455cb6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c35d7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@125c03d3, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@4f4b7a2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14aa2123]\r\n    13:02:07.236 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n    13:02:08.180 [main] [] INFO  com.dhl.order.OrdersApplication - Started OrdersApplication in 14.131 seconds (JVM running for 16.54)\r\n    13:02:16.653 [http-nio-8081-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    13:02:16.654 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet &#39;dispatcherServlet&#39;\r\n    13:02:16.656 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms\r\n    13:02:16.676 [http-nio-8081-exec-1] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;fd5000eb996b4ab4a487c26b01a4357a&#39;; httpMethod=GET, URI=/swagger-ui/index.html\r\n    13:02:16.699 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-ui/index.html\r\n    13:02:16.777 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=304, duration=85ms, httpMethod=GET, URI=/swagger-ui/index.html, httpParams=null, requestData=[]\r\n    13:02:17.004 [http-nio-8081-exec-3] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;3bc4a6f564fa4f658524b69ea7887ed3&#39;; httpMethod=GET, URI=/swagger-resources/configuration/ui\r\n    13:02:17.005 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/ui\r\n    13:02:17.100 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=95ms, httpMethod=GET, URI=/swagger-resources/configuration/ui, httpParams=null, requestData=[]\r\n    13:02:17.108 [http-nio-8081-exec-4] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;6b368c33db87483bb89c4ba683108232&#39;; httpMethod=GET, URI=/swagger-resources/configuration/security\r\n    13:02:17.109 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/security\r\n    13:02:17.117 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources/configuration/security, httpParams=null, requestData=[]\r\n    13:02:17.127 [http-nio-8081-exec-5] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;86e2d72af6bb4187bf4412d099839bc1&#39;; httpMethod=GET, URI=/swagger-resources\r\n    13:02:17.128 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources\r\n    13:02:17.136 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources, httpParams=null, requestData=[]\r\n    13:02:17.163 [http-nio-8081-exec-6] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;240c57bbbaba436bb55a42054badec5b&#39;; httpMethod=GET, URI=/v2/api-docs\r\n    13:02:17.166 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/v2/api-docs\r\n    13:02:17.345 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=180ms, httpMethod=GET, URI=/v2/api-docs, httpParams=null, requestData=[]","title":"How to display pictures in swagger-ui/index.html?","body":"<p>I have problem with display pictures in swagger-ui/index.html. I have thit screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/r1ZpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1ZpC.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, there is no svg on top and no icon in search bar. My security configuration in Spring boot is :</p>\n<pre><code>permission:\n  # list of url for permit all\n  optionMethodPermitAll:\n    - &quot;/graphql&quot;\n    - &quot;/auth/token&quot;\n    - &quot;/auth/refresh&quot;\n    - &quot;/actuator/*&quot;\n    - &quot;/api/*&quot;\n\n  permitAll:\n    - &quot;/actuator/*&quot;\n    - &quot;/auth/token&quot;\n    - &quot;/auth/refresh&quot;\n    - &quot;/v2/api-docs&quot;\n    - &quot;/webjars/**&quot;\n    - &quot;/swagger*/**&quot;\n    - &quot;/favicon.ico&quot;\n    - &quot;/swagger-resources/**&quot;\n    - &quot;/webjars/**&quot;\n</code></pre>\n<p>I use this configuration in pom.xml:</p>\n<pre><code>       &lt;springfox.swagger.version&gt;3.0.0&lt;/springfox.swagger.version&gt;\n   &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n           &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But swagger dont display icon in search bar and header svg. Im little bit stuck with it. Thank you for help</p>\n<p>Here I have log of request &amp; responses:</p>\n<pre><code>13:02:05.397 [main] [] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dd62f07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e669b5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@1e9e4468, org.springframework.security.web.authentication.logout.LogoutFilter@2c6553c6, com.dhl.security.aaa.adapter.configuration.AuthenticationFilter@3db3668, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@455cb6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c35d7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@125c03d3, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@4f4b7a2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14aa2123]\n13:02:07.236 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''\n13:02:08.180 [main] [] INFO  com.dhl.order.OrdersApplication - Started OrdersApplication in 14.131 seconds (JVM running for 16.54)\n13:02:16.653 [http-nio-8081-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n13:02:16.654 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n13:02:16.656 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms\n13:02:16.676 [http-nio-8081-exec-1] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: 'fd5000eb996b4ab4a487c26b01a4357a'; httpMethod=GET, URI=/swagger-ui/index.html\n13:02:16.699 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-ui/index.html\n13:02:16.777 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=304, duration=85ms, httpMethod=GET, URI=/swagger-ui/index.html, httpParams=null, requestData=[]\n13:02:17.004 [http-nio-8081-exec-3] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '3bc4a6f564fa4f658524b69ea7887ed3'; httpMethod=GET, URI=/swagger-resources/configuration/ui\n13:02:17.005 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/ui\n13:02:17.100 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=95ms, httpMethod=GET, URI=/swagger-resources/configuration/ui, httpParams=null, requestData=[]\n13:02:17.108 [http-nio-8081-exec-4] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '6b368c33db87483bb89c4ba683108232'; httpMethod=GET, URI=/swagger-resources/configuration/security\n13:02:17.109 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/security\n13:02:17.117 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources/configuration/security, httpParams=null, requestData=[]\n13:02:17.127 [http-nio-8081-exec-5] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '86e2d72af6bb4187bf4412d099839bc1'; httpMethod=GET, URI=/swagger-resources\n13:02:17.128 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources\n13:02:17.136 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources, httpParams=null, requestData=[]\n13:02:17.163 [http-nio-8081-exec-6] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '240c57bbbaba436bb55a42054badec5b'; httpMethod=GET, URI=/v2/api-docs\n13:02:17.166 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/v2/api-docs\n13:02:17.345 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=180ms, httpMethod=GET, URI=/v2/api-docs, httpParams=null, requestData=[]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681823002,"post_id":76044790,"comment_id":134115959,"body_markdown":"What is it you are trying to do? Why aren&#39;t you just using the `spring.jackson` properties to configure binding?","body":"What is it you are trying to do? Why aren&#39;t you just using the <code>spring.jackson</code> properties to configure binding?"},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681823196,"post_id":76044790,"comment_id":134116013,"body_markdown":"Legacy configuration of rest client. Anyway, the main question is, why does the embedded tomcat behave differently from the external?","body":"Legacy configuration of rest client. Anyway, the main question is, why does the embedded tomcat behave differently from the external?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681823389,"post_id":76044790,"comment_id":134116078,"body_markdown":"Unless you are creating your own `ObjectMapper` this will influence the global one. Why it is different is hard to tell, is it the same version as the embedded one? Please include the full stacktrace instead of a snippet as well.","body":"Unless you are creating your own <code>ObjectMapper</code> this will influence the global one. Why it is different is hard to tell, is it the same version as the embedded one? Please include the full stacktrace instead of a snippet as well."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681881409,"post_id":76044790,"comment_id":134126397,"body_markdown":"Stacktrace added. It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.","body":"Stacktrace added. It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681886274,"post_id":76044790,"comment_id":134127200,"body_markdown":"Are there any additional libraries part of yur tomcat setup that interfere with the Spring added dependencies?","body":"Are there any additional libraries part of yur tomcat setup that interfere with the Spring added dependencies?"},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681978283,"post_id":76044790,"comment_id":134144349,"body_markdown":"It is a fresh new Tomcat. Wondering whether classloading is different. I was about to report that to the Spring team but when I tried a barebone project, I am not able to reproduce it. I have to dig deeper into which dependency causes such a clash.","body":"It is a fresh new Tomcat. Wondering whether classloading is different. I was about to report that to the Spring team but when I tried a barebone project, I am not able to reproduce it. I have to dig deeper into which dependency causes such a clash."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681978578,"post_id":76044790,"comment_id":134144409,"body_markdown":"Could be a dependency issue, that while building the war a conflicting dependency takes prevalence over another while running on the command line. Could be an OS difference (Windows vs. Linux vs. Mac sometimes have different resolution orders for the class path).","body":"Could be a dependency issue, that while building the war a conflicting dependency takes prevalence over another while running on the command line. Could be an OS difference (Windows vs. Linux vs. Mac sometimes have different resolution orders for the class path)."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681979878,"post_id":76044790,"comment_id":134144703,"body_markdown":"Finally, I have a minimal project to reproduce. I opened an issue https://github.com/spring-projects/spring-boot/issues/35091","body":"Finally, I have a minimal project to reproduce. I opened an issue <a href=\"https://github.com/spring-projects/spring-boot/issues/35091\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/35091</a>"}],"answers":[{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681988561,"creation_date":1681988561,"answer_id":76063359,"question_id":76044790,"body_markdown":"As explained in the issue https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146 the main reason is that **the external Tomcat has the JNDI enabled**.\r\n\r\nIt affects property binding. JNDI does not allow enumeration of all of the properties that it contains so, instead of finding all the properties and binding them to the targets, Spring instead has to ask all of the targets what properties they have and then try to bind them. This is when `ObjectMapper` causes a problem.","title":"Spring Boot 3 application works on embedded Tomcat but not external","body":"<p>As explained in the issue <a href=\"https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146</a> the main reason is that <strong>the external Tomcat has the JNDI enabled</strong>.</p>\n<p>It affects property binding. JNDI does not allow enumeration of all of the properties that it contains so, instead of finding all the properties and binding them to the targets, Spring instead has to ask all of the targets what properties they have and then try to bind them. This is when <code>ObjectMapper</code> causes a problem.</p>\n"}],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76063359,"answer_count":1,"score":0,"last_activity_date":1681988561,"creation_date":1681821945,"question_id":76044790,"body_markdown":"I am upgrading our application from Spring Boot 2.7.10 to 3.0.5\r\n\r\nI run it from IDE on embedded Tomcat and external Tomcat (version 9 for Spring Boot 2.7.x) as well. Now I use Tomcat 10.1.7 and Jackson 2.14.2\r\n\r\nIt **still runs on embedded Tomcat, but not on external Tomcat 10**. I get:\r\n\r\n```log\r\nFailed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;:\r\n\r\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\r\n```\r\n\r\nUsing\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;my-configuration&quot;)\r\n@Getter\r\n@Setter\r\npublic class MyConfiguration {\r\n    private ObjectMapper objectMapper;\r\n}\r\n```\r\n\r\nI am able to suppress the error by specifying `ignoreInvalidFields`, but to sure whether it is correct solution.\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;my-configuration&quot;, ignoreInvalidFields = true)\r\n```\r\n\r\nIt is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.\r\n\r\nStacktrace\r\n\r\n```\r\n\tCaused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:387)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:347)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:332)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:262)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:249)\r\n\t\tat org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:93)\r\n\t\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:96)\r\n\t\t... 121 more\r\n\tCaused by: java.lang.IllegalStateException: Unable to get value for property write-capabilities\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:360)\r\n\t\tat org.springframework.boot.context.properties.bind.DefaultBindConstructorProvider.getBindConstructor(DefaultBindConstructorProvider.java:46)\r\n\t\tat org.springframework.boot.context.properties.bind.ValueObjectBinder$ValueObject.get(ValueObjectBinder.java:190)\r\n\t\tat org.springframework.boot.context.properties.bind.ValueObjectBinder.bind(ValueObjectBinder.java:67)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\t... 176 more\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.core.JsonGenerator]: Is it an abstract class?\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:215)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:153)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$Bean.lambda$getSupplier$0(JavaBeanBinder.java:217)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanSupplier.get(JavaBeanBinder.java:279)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:357)\r\n\t\t... 185 more\r\n\tCaused by: java.lang.InstantiationException\r\n\t\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\r\n\t\t... 189 more\r\n```","title":"Spring Boot 3 application works on embedded Tomcat but not external","body":"<p>I am upgrading our application from Spring Boot 2.7.10 to 3.0.5</p>\n<p>I run it from IDE on embedded Tomcat and external Tomcat (version 9 for Spring Boot 2.7.x) as well. Now I use Tomcat 10.1.7 and Jackson 2.14.2</p>\n<p>It <strong>still runs on embedded Tomcat, but not on external Tomcat 10</strong>. I get:</p>\n<pre><code>Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;:\n\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\n</code></pre>\n<p>Using</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;my-configuration&quot;)\n@Getter\n@Setter\npublic class MyConfiguration {\n    private ObjectMapper objectMapper;\n}\n</code></pre>\n<p>I am able to suppress the error by specifying <code>ignoreInvalidFields</code>, but to sure whether it is correct solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;my-configuration&quot;, ignoreInvalidFields = true)\n</code></pre>\n<p>It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.</p>\n<p>Stacktrace</p>\n<pre><code>    Caused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\n        at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:387)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:347)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:332)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:262)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:249)\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:93)\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:96)\n        ... 121 more\n    Caused by: java.lang.IllegalStateException: Unable to get value for property write-capabilities\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:360)\n        at org.springframework.boot.context.properties.bind.DefaultBindConstructorProvider.getBindConstructor(DefaultBindConstructorProvider.java:46)\n        at org.springframework.boot.context.properties.bind.ValueObjectBinder$ValueObject.get(ValueObjectBinder.java:190)\n        at org.springframework.boot.context.properties.bind.ValueObjectBinder.bind(ValueObjectBinder.java:67)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        ... 176 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.core.JsonGenerator]: Is it an abstract class?\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:215)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:153)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$Bean.lambda$getSupplier$0(JavaBeanBinder.java:217)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanSupplier.get(JavaBeanBinder.java:279)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:357)\n        ... 185 more\n    Caused by: java.lang.InstantiationException\n        at java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\n        ... 189 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","openshift"],"comments":[{"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"score":0,"creation_date":1673954033,"post_id":75134027,"comment_id":132606862,"body_markdown":"Does this answer your question? [DerInputStream.getLength(): lengthTag=66](https://stackoverflow.com/questions/37939592/derinputstream-getlength-lengthtag-66)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37939592/derinputstream-getlength-lengthtag-66\">DerInputStream.getLength(): lengthTag=66</a>"}],"answers":[{"tags":[],"owner":{"account_id":15347117,"reputation":11,"user_id":11072156,"display_name":"hrvojet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681988534,"creation_date":1681988534,"answer_id":76063355,"question_id":75134027,"body_markdown":"I had the exact same issue and the way I fixed it is by simply changing the certificate extension from `.pfx` to `.p12`","title":"Error in openshift &quot; java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big &quot; while using .pfx certificate","body":"<p>I had the exact same issue and the way I fixed it is by simply changing the certificate extension from <code>.pfx</code> to <code>.p12</code></p>\n"}],"owner":{"account_id":27542677,"reputation":1,"user_id":21019165,"display_name":"gourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681988534,"creation_date":1673871103,"question_id":75134027,"body_markdown":"I have one certificate which is required to connect to external site. This works fine in my local windows system. But when i deploy the application to openshift, i get this error\r\n\r\njava.io.IOException: DerInputStream.getLength(): lengthTag=66, too big.\r\n\r\n\r\ncertificate is in .pfx and in encoded format.\r\nWhat can i do to make it work in Openshift? Is it because of the Linux env thats causing the issue?\r\n","title":"Error in openshift &quot; java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big &quot; while using .pfx certificate","body":"<p>I have one certificate which is required to connect to external site. This works fine in my local windows system. But when i deploy the application to openshift, i get this error</p>\n<p>java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big.</p>\n<p>certificate is in .pfx and in encoded format.\nWhat can i do to make it work in Openshift? Is it because of the Linux env thats causing the issue?</p>\n"},{"tags":["java","maven","archetypes"],"answers":[{"tags":[],"owner":{"account_id":1008631,"reputation":35,"user_id":1021700,"accept_rate":100,"display_name":"Xu Dong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681988110,"creation_date":1681988110,"answer_id":76063296,"question_id":47708856,"body_markdown":"Six years later, I found a way to implement this: use &quot;archetype-post-generate.groovy&quot; to create file.","title":"Maven Archetype - How to decide generate a file or not according to a property?","body":"<p>Six years later, I found a way to implement this: use &quot;archetype-post-generate.groovy&quot; to create file.</p>\n"}],"owner":{"account_id":1008631,"reputation":35,"user_id":1021700,"accept_rate":100,"display_name":"Xu Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681988110,"creation_date":1512714259,"question_id":47708856,"body_markdown":"With Maven Archetype, how to generate a file or not according to a property.\r\ne.g:\r\nIf user input prop.use.redis as true while execute &quot;mvn archetype:create&quot;, do generate redis.xml, otherwise ignore redis.xml.\r\n`\r\n   \r\n    if (${prop.use.redis} == true) {\r\n       generateFile(&quot;src/main/resources/redis.xml&quot;);\r\n    }\r\n    else {\r\n       System.out.println(&quot;do not need generate src/main/resources/redis.xml&quot;);\r\n    }\r\n\r\n`\r\n","title":"Maven Archetype - How to decide generate a file or not according to a property?","body":"<p>With Maven Archetype, how to generate a file or not according to a property.\ne.g:\nIf user input prop.use.redis as true while execute \"mvn archetype:create\", do generate redis.xml, otherwise ignore redis.xml.\n`</p>\n\n<pre><code>if (${prop.use.redis} == true) {\n   generateFile(\"src/main/resources/redis.xml\");\n}\nelse {\n   System.out.println(\"do not need generate src/main/resources/redis.xml\");\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":["java","oauth-2.0","x-www-form-urlencoded","invalid-request-uri"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681897205,"post_id":76051445,"comment_id":134129713,"body_markdown":"What you are doing in Postman (send client credentials in body) does not match the Java where you are sending a Authorization Bearer header. Also, the token is being composed in the style of a Basic header, ie Base64 encode of client_id:client_secret - unusual. Can you add a link to the OAuth provider Api doc (or whichever std they claim) to the question?","body":"What you are doing in Postman (send client credentials in body) does not match the Java where you are sending a Authorization Bearer header. Also, the token is being composed in the style of a Basic header, ie Base64 encode of client_id:client_secret - unusual. Can you add a link to the OAuth provider Api doc (or whichever std they claim) to the question?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681986808,"creation_date":1681986808,"answer_id":76063127,"question_id":76051445,"body_markdown":"There are a couple of issues with your code.\r\n\r\nPrimarily, you are not including the client_id and client_secret in the form. I observed with Fiddlr that Postman sends all these fields on a submitted form.\r\n\r\nOther changes to improve, but probably not required to fix the code are to:\r\n\r\n - Remove the nonsense Authorization Bearer header. Postman does not\r\n   send and doesn&#39;t  make sense to send one until a token has been\r\n   received.\r\n   \r\n - Replaced the home-made form emulation and replaced with the standard \r\n   `UrlEncodedFormEntity` passing a `List&lt;NameValuePair&gt;`. It adds the `&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;` header to the request.\r\n\r\nTry this:\r\n\r\n    import java.io.IOException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.http.Consts;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.apache.http.ssl.TrustStrategy;\r\n    \r\n    \r\n    public class OAuthClient {\r\n    \r\n        private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n        private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n        private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n        private String grant_type = &quot;client_credentials&quot;;\r\n        private String scope = &quot;projects:read&quot;;\r\n        \r\n    \r\n        public String callService()  {\r\n    \r\n    \r\n            String result = null;\r\n    \r\n            try {\r\n    \r\n                            //My site is set as insecure, so I set the following setting\r\n                TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    \r\n                SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                        .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                        .build();\r\n    \r\n                SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n    \r\n                CloseableHttpClient httpClient = HttpClients.custom()\r\n                        .setSSLSocketFactory(csf)\r\n                        .build();\r\n    \r\n    \r\n                /* HTTPCLIENT AND HTTPPOST OOBJECT */\r\n                HttpPost httpPost = new HttpPost(tokenEndpoint);\r\n    \r\n                /* OAUTH PARAMETERS ADDED TO FORM */\r\n                List&lt;NameValuePair&gt; form = new ArrayList&lt;&gt;();\r\n                form.add(new BasicNameValuePair(&quot;grant_type&quot;, grant_type));\r\n                form.add(new BasicNameValuePair(&quot;scope&quot;, scope));\r\n                form.add(new BasicNameValuePair(&quot;client_id&quot;, client_id)); // these two were missing\r\n                form.add(new BasicNameValuePair(&quot;client_secret&quot;, client_secret));\r\n                \r\n                // UrlEncodedFormEntity is the standard way of building a firm submission\r\n                // and it removes the need to manually add the &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot; header\r\n                UrlEncodedFormEntity entity = new UrlEncodedFormEntity(form, Consts.UTF_8);\r\n                \r\n                httpPost.setEntity(entity);\r\n    \r\n                /* SEND AND RETRIEVE RESPONSE */\r\n                HttpResponse response = null;\r\n                try {\r\n                    response = httpClient.execute(httpPost);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                /* RESPONSE AS STRING */\r\n                //      String result = null;\r\n                try {\r\n                    result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                // TODO: handle exception\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            OAuthClient oauthClient = new OAuthClient();\r\n            String res = oauthClient.callService();\r\n            System.out.println(res);\r\n        }\r\n    }","title":"Oauth2 token call failing with &quot;request is missing a required parameter&quot;","body":"<p>There are a couple of issues with your code.</p>\n<p>Primarily, you are not including the client_id and client_secret in the form. I observed with Fiddlr that Postman sends all these fields on a submitted form.</p>\n<p>Other changes to improve, but probably not required to fix the code are to:</p>\n<ul>\n<li><p>Remove the nonsense Authorization Bearer header. Postman does not\nsend and doesn't  make sense to send one until a token has been\nreceived.</p>\n</li>\n<li><p>Replaced the home-made form emulation and replaced with the standard\n<code>UrlEncodedFormEntity</code> passing a <code>List&lt;NameValuePair&gt;</code>. It adds the <code>&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;</code> header to the request.</p>\n</li>\n</ul>\n<p>Try this:</p>\n<pre><code>import java.io.IOException;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.net.ssl.SSLContext;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.Consts;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.apache.http.ssl.TrustStrategy;\n\n\npublic class OAuthClient {\n\n    private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n    \n\n    public String callService()  {\n\n\n        String result = null;\n\n        try {\n\n                        //My site is set as insecure, so I set the following setting\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\n                    .build();\n\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n            CloseableHttpClient httpClient = HttpClients.custom()\n                    .setSSLSocketFactory(csf)\n                    .build();\n\n\n            /* HTTPCLIENT AND HTTPPOST OOBJECT */\n            HttpPost httpPost = new HttpPost(tokenEndpoint);\n\n            /* OAUTH PARAMETERS ADDED TO FORM */\n            List&lt;NameValuePair&gt; form = new ArrayList&lt;&gt;();\n            form.add(new BasicNameValuePair(&quot;grant_type&quot;, grant_type));\n            form.add(new BasicNameValuePair(&quot;scope&quot;, scope));\n            form.add(new BasicNameValuePair(&quot;client_id&quot;, client_id)); // these two were missing\n            form.add(new BasicNameValuePair(&quot;client_secret&quot;, client_secret));\n            \n            // UrlEncodedFormEntity is the standard way of building a firm submission\n            // and it removes the need to manually add the &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot; header\n            UrlEncodedFormEntity entity = new UrlEncodedFormEntity(form, Consts.UTF_8);\n            \n            httpPost.setEntity(entity);\n\n            /* SEND AND RETRIEVE RESPONSE */\n            HttpResponse response = null;\n            try {\n                response = httpClient.execute(httpPost);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            /* RESPONSE AS STRING */\n            //      String result = null;\n            try {\n                result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        catch (Exception e) {\n            // TODO: handle exception\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        OAuthClient oauthClient = new OAuthClient();\n        String res = oauthClient.callService();\n        System.out.println(res);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28137419,"reputation":13,"user_id":21500965,"display_name":"◊¶◊ô◊§◊ô ◊í◊ï◊ú◊ì◊ë◊®◊í"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76063127,"answer_count":1,"score":1,"last_activity_date":1681987812,"creation_date":1681886536,"question_id":76051445,"body_markdown":"I&#39;m trying to connect to the REST API using `application/x-www-form-urlencoded`,\r\nusing the following parameters:\r\n       \r\n```\r\n private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n\tprivate String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String grant_type = &quot;client_credentials&quot;;\r\n\tprivate String scope = &quot;projects:read&quot;;\r\n\r\n\r\n```\r\n\r\nand finally get the following error:\r\n\r\n&gt;{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}\r\n\r\n\t\r\n\r\nMy code is:\r\n```\r\npackage testRestAPI;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Base64;\r\nimport javax.net.ssl.SSLContext;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.ssl.TrustStrategy;\r\n\r\n\r\npublic class OAuthClient {\r\n\r\n\tprivate String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n\tprivate String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String grant_type = &quot;client_credentials&quot;;\r\n\tprivate String scope = &quot;projects:read&quot;;\r\n\t\r\n\r\n\tpublic String callService()  {\r\n\r\n\r\n\t\tString result = null;\r\n\r\n\t\ttry {\r\n\r\n                        //My site is set as insecure, so I set the following setting\r\n\t\t\tTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\r\n\t\t\tSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n\t\t\t\t\t.loadTrustMaterial(null, acceptingTrustStrategy)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n\r\n\t\t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n\t\t\t\t\t.setSSLSocketFactory(csf)\r\n\t\t\t\t\t.build();\r\n\r\n\r\n\t\t\t/* HTTPCLIENT AND HTTPPOST OOBJECT */\r\n\t\t\t//\t\tHttpClient httpClient = HttpClientBuilder.create().build();\r\n\t\t\tHttpPost httpPost = new HttpPost(tokenEndpoint);\r\n\r\n\t\t\t/* AUTHENTICATION CREDENTIALS ENCODING */\r\n\t\t\tString base64Credentials = Base64.getEncoder().encodeToString((client_id + &quot;:&quot; \r\n\t\t\t\t\t+ client_secret).getBytes());\r\n\r\n\t\t\t/* HEADER INFO */\r\n\t\t\thttpPost.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot; +  base64Credentials);\r\n\t\t\thttpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\t\t//\t\t/* PROXY CONFIG */\r\n\t\t\t//\t\t\t\tHttpHost target = new HttpHost(&quot;proxy&quot;, 8080, &quot;http&quot;);\r\n\t\t\t//\t\t\t\tRequestConfig config = RequestConfig.custom().setProxy(target).build();\r\n\t\t\t//\t\t\t\thttpPost.setConfig(config);\r\n\r\n\t\t\t/* OAUTH PARAMETERS ADDED TO BODY */\r\n\t\t\tStringEntity input = null;\r\n\t\t\ttry {\r\n\t\t\t\tinput = new StringEntity(&quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope);\r\n\t\t\t\thttpPost.setEntity(input);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t/* SEND AND RETRIEVE RESPONSE */\r\n\t\t\tHttpResponse response = null;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = httpClient.execute(httpPost);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t/* RESPONSE AS STRING */\r\n\t\t\t//\t\tString result = null;\r\n\t\t\ttry {\r\n\t\t\t\tresult = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tOAuthClient oauthClient = new OAuthClient();\r\n\t\tString res = oauthClient.callService();\r\n\t\tSystem.out.println(res);\r\n\t}\r\n}\r\n```\r\n\r\nand finally get the following error:\r\n\r\n&gt; {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}\r\n\r\n\r\nIn Postman the connection is made successfully.[Connection with Postman](https://i.stack.imgur.com/YETti.png)\r\n\r\n\r\n[link to Oauth provider Api Doc][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fhoP5.png","title":"Oauth2 token call failing with &quot;request is missing a required parameter&quot;","body":"<p>I'm trying to connect to the REST API using <code>application/x-www-form-urlencoded</code>,\nusing the following parameters:</p>\n<pre><code> private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n\n\n</code></pre>\n<p>and finally get the following error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}</p>\n</blockquote>\n<p>My code is:</p>\n<pre><code>package testRestAPI;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.security.cert.X509Certificate;\nimport java.util.Base64;\nimport javax.net.ssl.SSLContext;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.ssl.TrustStrategy;\n\n\npublic class OAuthClient {\n\n    private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n    \n\n    public String callService()  {\n\n\n        String result = null;\n\n        try {\n\n                        //My site is set as insecure, so I set the following setting\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\n                    .build();\n\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n            CloseableHttpClient httpClient = HttpClients.custom()\n                    .setSSLSocketFactory(csf)\n                    .build();\n\n\n            /* HTTPCLIENT AND HTTPPOST OOBJECT */\n            //      HttpClient httpClient = HttpClientBuilder.create().build();\n            HttpPost httpPost = new HttpPost(tokenEndpoint);\n\n            /* AUTHENTICATION CREDENTIALS ENCODING */\n            String base64Credentials = Base64.getEncoder().encodeToString((client_id + &quot;:&quot; \n                    + client_secret).getBytes());\n\n            /* HEADER INFO */\n            httpPost.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot; +  base64Credentials);\n            httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            //      /* PROXY CONFIG */\n            //              HttpHost target = new HttpHost(&quot;proxy&quot;, 8080, &quot;http&quot;);\n            //              RequestConfig config = RequestConfig.custom().setProxy(target).build();\n            //              httpPost.setConfig(config);\n\n            /* OAUTH PARAMETERS ADDED TO BODY */\n            StringEntity input = null;\n            try {\n                input = new StringEntity(&quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope);\n                httpPost.setEntity(input);\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n\n            /* SEND AND RETRIEVE RESPONSE */\n            HttpResponse response = null;\n            try {\n                response = httpClient.execute(httpPost);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            /* RESPONSE AS STRING */\n            //      String result = null;\n            try {\n                result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        catch (Exception e) {\n            // TODO: handle exception\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        OAuthClient oauthClient = new OAuthClient();\n        String res = oauthClient.callService();\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>and finally get the following error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}</p>\n</blockquote>\n<p>In Postman the connection is made successfully.<a href=\"https://i.stack.imgur.com/YETti.png\" rel=\"nofollow noreferrer\">Connection with Postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/fhoP5.png\" rel=\"nofollow noreferrer\">link to Oauth provider Api Doc</a></p>\n"},{"tags":["java","image","swing","jpanel"],"comments":[{"owner":{"account_id":1783271,"reputation":837,"user_id":1625415,"display_name":"Alden"},"score":1,"creation_date":1441326392,"post_id":299495,"comment_id":52645088,"body_markdown":"Depending on how you are generating the byte arrays, it may more efficient to use a [`MemoryImageSource`](https://docs.oracle.com/javase/8/docs/api/java/awt/image/MemoryImageSource.html) than to convert them to JPEG or PNG format and then read with `ImageIO` as most answers suggest. You could get an `Image` from a `MemoryImageSource` constructed with your image data by using [`createImage`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#createImage-java.awt.image.ImageProducer-), and display as suggested in one of the answers.","body":"Depending on how you are generating the byte arrays, it may more efficient to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/MemoryImageSource.html\" rel=\"nofollow noreferrer\"><code>MemoryImageSource</code></a> than to convert them to JPEG or PNG format and then read with <code>ImageIO</code> as most answers suggest. You could get an <code>Image</code> from a <code>MemoryImageSource</code> constructed with your image data by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#createImage-java.awt.image.ImageProducer-\" rel=\"nofollow noreferrer\"><code>createImage</code></a>, and display as suggested in one of the answers."},{"owner":{"account_id":2134482,"reputation":2459,"user_id":1894600,"display_name":"tommybee"},"score":0,"creation_date":1494315943,"post_id":299495,"comment_id":74763157,"body_markdown":"Check my answer http://stackoverflow.com/questions/43861991/how-to-put-an-image-from-a-jfilechooser/43862895#43862895","body":"Check my answer <a href=\"http://stackoverflow.com/questions/43861991/how-to-put-an-image-from-a-jfilechooser/43862895#43862895\" title=\"how to put an image from a jfilechooser\">stackoverflow.com/questions/43861991/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1227030480,"creation_date":1227030480,"answer_id":299545,"question_id":299495,"body_markdown":"You can subclass JPanel - here is an extract from my ImagePanel, which puts an image in any one of 5 locations, top/left, top/right, middle/middle, bottom/left or bottom/right:\r\n\r\n    protected void paintComponent(Graphics gc) {\r\n        super.paintComponent(gc);\r\n\r\n        Dimension                           cs=getSize();                           // component size\r\n\r\n        gc=gc.create();\r\n        gc.clipRect(insets.left,insets.top,(cs.width-insets.left-insets.right),(cs.height-insets.top-insets.bottom));\r\n        if(mmImage!=null) { gc.drawImage(mmImage,(((cs.width-mmSize.width)/2)       +mmHrzShift),(((cs.height-mmSize.height)/2)        +mmVrtShift),null); }\r\n        if(tlImage!=null) { gc.drawImage(tlImage,(insets.left                       +tlHrzShift),(insets.top                           +tlVrtShift),null); }\r\n        if(trImage!=null) { gc.drawImage(trImage,(cs.width-insets.right-trSize.width+trHrzShift),(insets.top                           +trVrtShift),null); }\r\n        if(blImage!=null) { gc.drawImage(blImage,(insets.left                       +blHrzShift),(cs.height-insets.bottom-blSize.height+blVrtShift),null); }\r\n        if(brImage!=null) { gc.drawImage(brImage,(cs.width-insets.right-brSize.width+brHrzShift),(cs.height-insets.bottom-brSize.height+brVrtShift),null); }\r\n        }\r\n\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>You can subclass JPanel - here is an extract from my ImagePanel, which puts an image in any one of 5 locations, top/left, top/right, middle/middle, bottom/left or bottom/right:</p>\n\n<pre><code>protected void paintComponent(Graphics gc) {\n    super.paintComponent(gc);\n\n    Dimension                           cs=getSize();                           // component size\n\n    gc=gc.create();\n    gc.clipRect(insets.left,insets.top,(cs.width-insets.left-insets.right),(cs.height-insets.top-insets.bottom));\n    if(mmImage!=null) { gc.drawImage(mmImage,(((cs.width-mmSize.width)/2)       +mmHrzShift),(((cs.height-mmSize.height)/2)        +mmVrtShift),null); }\n    if(tlImage!=null) { gc.drawImage(tlImage,(insets.left                       +tlHrzShift),(insets.top                           +tlVrtShift),null); }\n    if(trImage!=null) { gc.drawImage(trImage,(cs.width-insets.right-trSize.width+trHrzShift),(insets.top                           +trVrtShift),null); }\n    if(blImage!=null) { gc.drawImage(blImage,(insets.left                       +blHrzShift),(cs.height-insets.bottom-blSize.height+blVrtShift),null); }\n    if(brImage!=null) { gc.drawImage(brImage,(cs.width-insets.right-brSize.width+brHrzShift),(cs.height-insets.bottom-brSize.height+brVrtShift),null); }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1227030543,"creation_date":1227030543,"answer_id":299547,"question_id":299495,"body_markdown":"1. There shouldn&#39;t be any problem (other than any general problems you might have with very large images).\r\n2. If you&#39;re talking about adding multiple images to a single panel, I would use `ImageIcon`s. For a single image, I would think about making a custom subclass of `JPanel` and overriding its `paintComponent` method to draw the image.\r\n3. (see 2)","title":"How to add an image to a JPanel?","body":"<ol>\n<li>There shouldn't be any problem (other than any general problems you might have with very large images).</li>\n<li>If you're talking about adding multiple images to a single panel, I would use <code>ImageIcon</code>s. For a single image, I would think about making a custom subclass of <code>JPanel</code> and overriding its <code>paintComponent</code> method to draw the image.</li>\n<li>(see 2)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"down_vote_count":12,"up_vote_count":277,"is_accepted":true,"score":265,"last_activity_date":1476834357,"creation_date":1227030648,"answer_id":299555,"question_id":299495,"body_markdown":"Here&#39;s how I do it (with a little more info on how to load an image):\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class ImagePanel extends JPanel{\r\n        \r\n        private BufferedImage image;\r\n\r\n        public ImagePanel() {\r\n           try {                \r\n              image = ImageIO.read(new File(&quot;image name and path&quot;));\r\n           } catch (IOException ex) {\r\n                // handle exception...\r\n           }\r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawImage(image, 0, 0, this); // see javadoc for more info on the parameters            \r\n        }\r\n    \r\n    }","title":"How to add an image to a JPanel?","body":"<p>Here's how I do it (with a little more info on how to load an image):</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\npublic class ImagePanel extends JPanel{\n\n    private BufferedImage image;\n\n    public ImagePanel() {\n       try {                \n          image = ImageIO.read(new File(\"image name and path\"));\n       } catch (IOException ex) {\n            // handle exception...\n       }\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(image, 0, 0, this); // see javadoc for more info on the parameters            \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1227032465,"creation_date":1227032465,"answer_id":299643,"question_id":299495,"body_markdown":"`JPanel` is almost always the wrong class to subclass. Why wouldn&#39;t you subclass `JComponent`?\r\n\r\nThere is a slight problem with `ImageIcon` in that the constructor blocks reading the image. Not really a problem when loading from the application jar, but maybe if you&#39;re potentially reading over a network connection. There&#39;s plenty of AWT-era examples of using `MediaTracker`, `ImageObserver` and friends, even in the JDK demos.","title":"How to add an image to a JPanel?","body":"<p><code>JPanel</code> is almost always the wrong class to subclass. Why wouldn't you subclass <code>JComponent</code>?</p>\n\n<p>There is a slight problem with <code>ImageIcon</code> in that the constructor blocks reading the image. Not really a problem when loading from the application jar, but maybe if you're potentially reading over a network connection. There's plenty of AWT-era examples of using <code>MediaTracker</code>, <code>ImageObserver</code> and friends, even in the JDK demos.</p>\n"},{"tags":[],"owner":{"account_id":11838,"reputation":7011,"user_id":23030,"display_name":"Thomas Jones-Low"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1227032891,"creation_date":1227032891,"answer_id":299669,"question_id":299495,"body_markdown":"I&#39;m doing something very similar in a private project I&#39;m working on. Thus far I&#39;ve generated images up to 1024x1024 without any problems (except memory) and can display them very quickly and without any performance problems. \r\n\r\nOverriding the paint method of JPanel subclass is overkill and requires more work than you need to do. \r\n\r\nThe way I do it is: \r\n\r\n    Class MapIcon implements Icon {...}\r\nOR\r\n\r\n    Class MapIcon extends ImageIcon {...}\r\nThe code you use to generate the image will be in this class. I use a BufferedImage to draw onto then when the paintIcon() is called, use g.drawImvge(bufferedImage); This reduces the amount of flashing done while you generate your images, and you can thread it. \r\n\r\nNext I extend JLabel:\r\n\r\n    Class MapLabel extends Scrollable, MouseMotionListener {...}\r\n\r\nThis is because I want to put my image on a scroll pane, I.e. display part of the image and have the user scroll around as needed. \r\n\r\nSo then I use a JScrollPane to hold the MapLabel, which contains only the MapIcon. \r\n\r\n    MapIcon map = new MapIcon (); \r\n    MapLabel mapLabel = new MapLabel (map);\r\n    JScrollPane scrollPane = new JScrollPane();\r\n    \r\n    scrollPane.getViewport ().add (mapLabel);\r\n\r\n\r\nBut for your scenario (just show the whole image every time). You need to add the MapLabel to the top JPanel, and make sure to size them all to the full size of the image (by overriding the GetPreferredSize()). \r\n\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>I'm doing something very similar in a private project I'm working on. Thus far I've generated images up to 1024x1024 without any problems (except memory) and can display them very quickly and without any performance problems. </p>\n\n<p>Overriding the paint method of JPanel subclass is overkill and requires more work than you need to do. </p>\n\n<p>The way I do it is: </p>\n\n<pre><code>Class MapIcon implements Icon {...}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Class MapIcon extends ImageIcon {...}\n</code></pre>\n\n<p>The code you use to generate the image will be in this class. I use a BufferedImage to draw onto then when the paintIcon() is called, use g.drawImvge(bufferedImage); This reduces the amount of flashing done while you generate your images, and you can thread it. </p>\n\n<p>Next I extend JLabel:</p>\n\n<pre><code>Class MapLabel extends Scrollable, MouseMotionListener {...}\n</code></pre>\n\n<p>This is because I want to put my image on a scroll pane, I.e. display part of the image and have the user scroll around as needed. </p>\n\n<p>So then I use a JScrollPane to hold the MapLabel, which contains only the MapIcon. </p>\n\n<pre><code>MapIcon map = new MapIcon (); \nMapLabel mapLabel = new MapLabel (map);\nJScrollPane scrollPane = new JScrollPane();\n\nscrollPane.getViewport ().add (mapLabel);\n</code></pre>\n\n<p>But for your scenario (just show the whole image every time). You need to add the MapLabel to the top JPanel, and make sure to size them all to the full size of the image (by overriding the GetPreferredSize()). </p>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1344249429,"creation_date":1227055020,"answer_id":300670,"question_id":299495,"body_markdown":"You can avoid rolling your own Component subclass completely by using the JXImagePanel class from the free [SwingX][1] libraries.\r\n\r\n[Download][2]\r\n\r\n\r\n  [1]: https://swingx.java.net//\r\n  [2]: http://java.net/projects/swingx/downloads","title":"How to add an image to a JPanel?","body":"<p>You can avoid rolling your own Component subclass completely by using the JXImagePanel class from the free <a href=\"https://swingx.java.net//\" rel=\"noreferrer\">SwingX</a> libraries.</p>\n\n<p><a href=\"http://java.net/projects/swingx/downloads\" rel=\"noreferrer\">Download</a></p>\n"},{"tags":[],"owner":{"account_id":561312,"reputation":331,"user_id":183701,"display_name":"CoderTim"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1254596879,"creation_date":1254596879,"answer_id":1514560,"question_id":299495,"body_markdown":"I think there is no need to subclass of anything. Just use a Jlabel. You can set an image into a Jlabel. So, resize the Jlabel then fill it with an image. Its OK. This is the way I do. ","title":"How to add an image to a JPanel?","body":"<p>I think there is no need to subclass of anything. Just use a Jlabel. You can set an image into a Jlabel. So, resize the Jlabel then fill it with an image. Its OK. This is the way I do. </p>\n"},{"tags":[],"owner":{"account_id":66478,"reputation":8923,"user_id":194980,"accept_rate":76,"display_name":"Fred Haslam"},"down_vote_count":0,"up_vote_count":548,"is_accepted":false,"score":548,"last_activity_date":1370932714,"creation_date":1272156400,"answer_id":2706730,"question_id":299495,"body_markdown":"If you are using JPanels, then are probably working with Swing.  Try this:\r\n\r\n    BufferedImage myPicture = ImageIO.read(new File(&quot;path-to-file&quot;));\r\n    JLabel picLabel = new JLabel(new ImageIcon(myPicture));\r\n    add(picLabel);\r\n\r\nThe image is now a swing component.  It becomes subject to layout conditions like any other component.","title":"How to add an image to a JPanel?","body":"<p>If you are using JPanels, then are probably working with Swing.  Try this:</p>\n\n<pre><code>BufferedImage myPicture = ImageIO.read(new File(\"path-to-file\"));\nJLabel picLabel = new JLabel(new ImageIcon(myPicture));\nadd(picLabel);\n</code></pre>\n\n<p>The image is now a swing component.  It becomes subject to layout conditions like any other component.</p>\n"},{"tags":[],"owner":{"account_id":196359,"reputation":577,"user_id":439756,"accept_rate":75,"display_name":"shawalli"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1382619469,"creation_date":1293432594,"answer_id":4537073,"question_id":299495,"body_markdown":"Fred Haslam&#39;s way works fine.  I had trouble with the filepath though, since I want to reference an image within my jar.  To do this, I used:\r\n\r\n    BufferedImage wPic = ImageIO.read(this.getClass().getResource(&quot;snow.png&quot;));\r\n    JLabel wIcon = new JLabel(new ImageIcon(wPic));\r\n\r\nSince I only have a finite number (about 10) images that I need to load using this method, it works quite well.  It gets file without having to have the correct relative filepath.\r\n\r\n\r\n    ","title":"How to add an image to a JPanel?","body":"<p>Fred Haslam's way works fine.  I had trouble with the filepath though, since I want to reference an image within my jar.  To do this, I used:</p>\n\n<pre><code>BufferedImage wPic = ImageIO.read(this.getClass().getResource(\"snow.png\"));\nJLabel wIcon = new JLabel(new ImageIcon(wPic));\n</code></pre>\n\n<p>Since I only have a finite number (about 10) images that I need to load using this method, it works quite well.  It gets file without having to have the correct relative filepath.</p>\n"},{"tags":[],"owner":{"display_name":"user1597002"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1367703606,"creation_date":1367703606,"answer_id":16379229,"question_id":299495,"body_markdown":"    JLabel imgLabel = new JLabel(new ImageIcon(&quot;path_to_image.png&quot;));","title":"How to add an image to a JPanel?","body":"<pre><code>JLabel imgLabel = new JLabel(new ImageIcon(\"path_to_image.png\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443633045,"creation_date":1443633045,"answer_id":32871981,"question_id":299495,"body_markdown":"This answer is a complement to @shawalli&#39;s answer...\r\n\r\nI wanted to reference an image within my jar too, but instead of having a BufferedImage, I simple did this:\r\n\r\n     JPanel jPanel = new JPanel();\t\t\r\n     jPanel.add(new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;resource/images/polygon.jpg&quot;))));","title":"How to add an image to a JPanel?","body":"<p>This answer is a complement to @shawalli's answer...</p>\n\n<p>I wanted to reference an image within my jar too, but instead of having a BufferedImage, I simple did this:</p>\n\n<pre><code> JPanel jPanel = new JPanel();      \n jPanel.add(new JLabel(new ImageIcon(getClass().getClassLoader().getResource(\"resource/images/polygon.jpg\"))));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4294909"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460955773,"creation_date":1460955773,"answer_id":36685782,"question_id":299495,"body_markdown":"Create a source folder in your project directory, in this case I called it Images. \r\n\r\n    JFrame snakeFrame = new JFrame();\r\n\tsnakeFrame.setBounds(100, 200, 800, 800);\r\n    snakeFrame.setVisible(true);\r\n\tsnakeFrame.add(new JLabel(new ImageIcon(&quot;Images/Snake.png&quot;)));\r\n\tsnakeFrame.pack();","title":"How to add an image to a JPanel?","body":"<p>Create a source folder in your project directory, in this case I called it Images. </p>\n\n<pre><code>JFrame snakeFrame = new JFrame();\nsnakeFrame.setBounds(100, 200, 800, 800);\nsnakeFrame.setVisible(true);\nsnakeFrame.add(new JLabel(new ImageIcon(\"Images/Snake.png\")));\nsnakeFrame.pack();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429443,"reputation":449,"user_id":7013460,"display_name":"Muskovets"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519371164,"creation_date":1519371164,"answer_id":48943160,"question_id":299495,"body_markdown":"You can avoid using own `Component`s and SwingX library and `ImageIO` class:  \r\n\r\n    File f = new File(&quot;hello.jpg&quot;);\r\n    JLabel imgLabel = new JLabel(new ImageIcon(file.getName()));","title":"How to add an image to a JPanel?","body":"<p>You can avoid using own <code>Component</code>s and SwingX library and <code>ImageIO</code> class:  </p>\n\n<pre><code>File f = new File(\"hello.jpg\");\nJLabel imgLabel = new JLabel(new ImageIcon(file.getName()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520642201,"creation_date":1520642201,"answer_id":49204158,"question_id":299495,"body_markdown":"I can see many answers, not really addressing the three questions of the OP.\r\n\r\n**1)** A word on performance: byte arrays are likely unefficient unless you can use an exact pixel byte ordering which matches to your display adapters current resolution and color depth. \r\n\r\nTo achieve the best drawing performance, simply convert your image to a BufferedImage which is generated with a type corresponding to your current graphics configuration. See createCompatibleImage at https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html \r\n\r\nThese images will be automatically cached on the display card memory after drawing a few times without any programming effort (this is standard in Swing since Java 6), and therefore the actual drawing will take negligible amount of time - _if_ you did not change the image. \r\n\r\nAltering the image will come with an additional memory transfer between main memory and GPU memory - which is slow. Avoid &quot;redrawing&quot; the image into a BufferedImage therefore, avoid doing getPixel and setPixel at all means. \r\n\r\nFor example, if you are developing a game, instead of drawing all the game actors to a BufferedImage and then to a JPanel, it is a lot faster to load all actors as smaller BufferedImages, and draw them one by one in your JPanel code at their proper position - this way there is no additional data transfer between the main memory and GPU memory except of the initial transfer of the images for caching.\r\n\r\nImageIcon will use a BufferedImage under the hood - but basically allocating a BufferedImage with the _proper_ graphics mode is the key, and there is no effort to do this right.\r\n\r\n**2)** The usual way of doing this is to draw a BufferedImage in an overridden paintComponent method of the JPanel. Although Java supports a good amount of additional goodies such as buffer chains controlling VolatileImages cached in the GPU memory, there is no need to use any of these since Java 6 which does a reasonably good job without exposing all of these details of GPU acceleration.\r\n\r\n_Note that GPU acceleration may not work for certain operations, such as stretching translucent images._ \r\n\r\n**3)** Do not add. Just paint it as mentioned above:\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(image, 0, 0, this); \r\n    }\r\n\r\n&quot;Adding&quot; makes sense if the image is part of the layout. If you need this as a background or foreground image filling the JPanel, just draw in paintComponent. If you prefer brewing a generic Swing component which can show your image, then it is the same story (you may use a JComponent and override its paintComponent method) - and then add _this_ to your layout of GUI components.\r\n\r\n**4)** How to convert the array to a Bufferedimage\r\n\r\nConverting your byte arrays to PNG, then loading it is quite resource intensive. A better way is to convert your existing byte array to a BufferedImage.\r\n\r\nFor that: _do not use for loops_ and copy pixels. That is very very slow. Instead:\r\n\r\n * learn the preferred byte structure of the BufferedImage (nowadays it is safe to assume RGB or RGBA, which is 4 bytes per pixel)\r\n * learn the scanline and scansize in use (e.g. you might have a 142 pixels wide image - but in the real life that will be stored as a 256 pixel wide byte array since it is faster to process that and mask the unused pixes by the GPU hardware)\r\n * then once you have an array build according to these principles, the setRGB array method of the BufferedImage can copy your array to the BufferedImage.\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>I can see many answers, not really addressing the three questions of the OP.</p>\n\n<p><strong>1)</strong> A word on performance: byte arrays are likely unefficient unless you can use an exact pixel byte ordering which matches to your display adapters current resolution and color depth. </p>\n\n<p>To achieve the best drawing performance, simply convert your image to a BufferedImage which is generated with a type corresponding to your current graphics configuration. See createCompatibleImage at <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html</a> </p>\n\n<p>These images will be automatically cached on the display card memory after drawing a few times without any programming effort (this is standard in Swing since Java 6), and therefore the actual drawing will take negligible amount of time - <em>if</em> you did not change the image. </p>\n\n<p>Altering the image will come with an additional memory transfer between main memory and GPU memory - which is slow. Avoid \"redrawing\" the image into a BufferedImage therefore, avoid doing getPixel and setPixel at all means. </p>\n\n<p>For example, if you are developing a game, instead of drawing all the game actors to a BufferedImage and then to a JPanel, it is a lot faster to load all actors as smaller BufferedImages, and draw them one by one in your JPanel code at their proper position - this way there is no additional data transfer between the main memory and GPU memory except of the initial transfer of the images for caching.</p>\n\n<p>ImageIcon will use a BufferedImage under the hood - but basically allocating a BufferedImage with the <em>proper</em> graphics mode is the key, and there is no effort to do this right.</p>\n\n<p><strong>2)</strong> The usual way of doing this is to draw a BufferedImage in an overridden paintComponent method of the JPanel. Although Java supports a good amount of additional goodies such as buffer chains controlling VolatileImages cached in the GPU memory, there is no need to use any of these since Java 6 which does a reasonably good job without exposing all of these details of GPU acceleration.</p>\n\n<p><em>Note that GPU acceleration may not work for certain operations, such as stretching translucent images.</em> </p>\n\n<p><strong>3)</strong> Do not add. Just paint it as mentioned above:</p>\n\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.drawImage(image, 0, 0, this); \n}\n</code></pre>\n\n<p>\"Adding\" makes sense if the image is part of the layout. If you need this as a background or foreground image filling the JPanel, just draw in paintComponent. If you prefer brewing a generic Swing component which can show your image, then it is the same story (you may use a JComponent and override its paintComponent method) - and then add <em>this</em> to your layout of GUI components.</p>\n\n<p><strong>4)</strong> How to convert the array to a Bufferedimage</p>\n\n<p>Converting your byte arrays to PNG, then loading it is quite resource intensive. A better way is to convert your existing byte array to a BufferedImage.</p>\n\n<p>For that: <em>do not use for loops</em> and copy pixels. That is very very slow. Instead:</p>\n\n<ul>\n<li>learn the preferred byte structure of the BufferedImage (nowadays it is safe to assume RGB or RGBA, which is 4 bytes per pixel)</li>\n<li>learn the scanline and scansize in use (e.g. you might have a 142 pixels wide image - but in the real life that will be stored as a 256 pixel wide byte array since it is faster to process that and mask the unused pixes by the GPU hardware)</li>\n<li>then once you have an array build according to these principles, the setRGB array method of the BufferedImage can copy your array to the BufferedImage.</li>\n</ul>\n"}],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1156922,"favorite_count":0,"down_vote_count":0,"up_vote_count":367,"accepted_answer_id":299555,"answer_count":14,"score":367,"last_activity_date":1681987810,"creation_date":1227029765,"question_id":299495,"body_markdown":"I have a [`JPanel`][1] to which I&#39;d like to add JPEG and PNG images that I generate on the fly.\r\n\r\nAll the examples I&#39;ve seen so far in the [Swing Tutorials][2], specially in the [Swing examples][3] use `ImageIcon`s.\r\n\r\nI&#39;m generating these images as byte arrays, and are usually larger than the common icons they use in the examples, at 640x480.\r\n\r\n 1. Is there any (performance or other) problem in using the `ImageIcon` class to display an image that size in a `JPanel`?\r\n 2. What&#39;s the *&quot;usual&quot;* way of doing it?\r\n 3. How to add an image to a `JPanel` without using the `ImageIcon` class?\r\n\r\n**Edit**: A more careful examination of the tutorials and the API shows that you cannot add an `ImageIcon` directly to a `JPanel`. Instead, they achieve the same effect by setting the image as an icon of a `JLabel`. This just doesn&#39;t feel right...\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JPanel.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/\r\n  [3]: http://java.sun.com/docs/books/tutorial/uiswing/examples/components/\r\n","title":"How to add an image to a JPanel?","body":"<p>I have a <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\"><code>JPanel</code></a> to which I'd like to add JPEG and PNG images that I generate on the fly.</p>\n<p>All the examples I've seen so far in the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Swing Tutorials</a>, specially in the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/examples/components/\" rel=\"nofollow noreferrer\">Swing examples</a> use <code>ImageIcon</code>s.</p>\n<p>I'm generating these images as byte arrays, and are usually larger than the common icons they use in the examples, at 640x480.</p>\n<ol>\n<li>Is there any (performance or other) problem in using the <code>ImageIcon</code> class to display an image that size in a <code>JPanel</code>?</li>\n<li>What's the <em>&quot;usual&quot;</em> way of doing it?</li>\n<li>How to add an image to a <code>JPanel</code> without using the <code>ImageIcon</code> class?</li>\n</ol>\n<p><strong>Edit</strong>: A more careful examination of the tutorials and the API shows that you cannot add an <code>ImageIcon</code> directly to a <code>JPanel</code>. Instead, they achieve the same effect by setting the image as an icon of a <code>JLabel</code>. This just doesn't feel right...</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":0,"creation_date":1681978912,"post_id":76061873,"comment_id":134144491,"body_markdown":"you can do: good.getSizes().removeAll().add(..... your new size objects here)\nthen going to do .save(good)","body":"you can do: good.getSizes().removeAll().add(..... your new size objects here) then going to do .save(good)"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681985059,"post_id":76061873,"comment_id":134145859,"body_markdown":"Please share your code for both entities Good and Size. Definition is not clear by now.","body":"Please share your code for both entities Good and Size. Definition is not clear by now."}],"answers":[{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987648,"creation_date":1681987648,"answer_id":76063249,"question_id":76061873,"body_markdown":"Add Size ID also in JSON when requesting the action. If ID is present it will update else it will create a new record for the object.","title":"Hibernate @PutMapping update an existing object duplicates related entities","body":"<p>Add Size ID also in JSON when requesting the action. If ID is present it will update else it will create a new record for the object.</p>\n"}],"owner":{"account_id":26929571,"reputation":25,"user_id":20502277,"display_name":"velovatik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681987648,"creation_date":1681978092,"question_id":76061873,"body_markdown":" [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLTCA.png\r\nI have two tables, Goods and Sizes, and many sizes can refer to one good, it will return this JSON:\r\n```\r\n{\r\n    &quot;id&quot;: 11,\r\n    &quot;title&quot;: &quot;Model2&quot;,\r\n    &quot;sex&quot;: &quot;WOMAN&quot;,\r\n    &quot;manufacturer&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\r\n      &quot;address&quot;: &quot;Moscow&quot;,\r\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\r\n    },\r\n    &quot;manufacturerId&quot;: 1,\r\n    &quot;sizes&quot;: [\r\n      {\r\n        &quot;size&quot;: 35,\r\n        &quot;quantity&quot;: 5\r\n      },\r\n      {\r\n        &quot;size&quot;: 46,\r\n        &quot;quantity&quot;: 4\r\n      }\r\n    ]\r\n  }\r\n```\r\nSo when I try update concrete good, for example, add or delete one size, it duplicates all sizes, and from two sizes I will get four\r\n```\r\nsizes&quot;: [\r\n      {\r\n        &quot;size&quot;: 30,\r\n        &quot;quantity&quot;: 2\r\n      },\r\n      {\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 5\r\n      },\r\n      {\r\n        &quot;size&quot;: 41,\r\n        &quot;quantity&quot;: 2\r\n      },\r\n      {\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 5\r\n      }\r\n```\r\nThere is my Put method fir update operation\r\n```\r\n@Override\r\n    public void saveGood(Good good) {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        System.out.println(good);\r\n        session.merge(good); //SaveOrUpdate substitute\r\n    }\r\n```\r\nAnd REST Controller router\r\n```\r\n@PatchMapping(&quot;/goods&quot;)\r\n    public Good updateGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n```\r\nRelations from entities\r\n```\r\n@JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\r\n    List&lt;Size&gt; sizes; \r\n```\r\n```\r\n@Column(name = &quot;goodid&quot;, insertable = false, updatable = false) //Check else\r\n    private int goodId;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;goodId&quot;)\r\n    Good good;\r\n```","title":"Hibernate @PutMapping update an existing object duplicates related entities","body":"<p><a href=\"https://i.stack.imgur.com/zLTCA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLTCA.png\" alt=\"enter image description here\" /></a></p>\n<p>I have two tables, Goods and Sizes, and many sizes can refer to one good, it will return this JSON:</p>\n<pre><code>{\n    &quot;id&quot;: 11,\n    &quot;title&quot;: &quot;Model2&quot;,\n    &quot;sex&quot;: &quot;WOMAN&quot;,\n    &quot;manufacturer&quot;: {\n      &quot;id&quot;: 1,\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\n      &quot;address&quot;: &quot;Moscow&quot;,\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\n    },\n    &quot;manufacturerId&quot;: 1,\n    &quot;sizes&quot;: [\n      {\n        &quot;size&quot;: 35,\n        &quot;quantity&quot;: 5\n      },\n      {\n        &quot;size&quot;: 46,\n        &quot;quantity&quot;: 4\n      }\n    ]\n  }\n</code></pre>\n<p>So when I try update concrete good, for example, add or delete one size, it duplicates all sizes, and from two sizes I will get four</p>\n<pre><code>sizes&quot;: [\n      {\n        &quot;size&quot;: 30,\n        &quot;quantity&quot;: 2\n      },\n      {\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 5\n      },\n      {\n        &quot;size&quot;: 41,\n        &quot;quantity&quot;: 2\n      },\n      {\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 5\n      }\n</code></pre>\n<p>There is my Put method fir update operation</p>\n<pre><code>@Override\n    public void saveGood(Good good) {\n        Session session = entityManager.unwrap(Session.class);\n        System.out.println(good);\n        session.merge(good); //SaveOrUpdate substitute\n    }\n</code></pre>\n<p>And REST Controller router</p>\n<pre><code>@PatchMapping(&quot;/goods&quot;)\n    public Good updateGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n</code></pre>\n<p>Relations from entities</p>\n<pre><code>@JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\n    List&lt;Size&gt; sizes; \n</code></pre>\n<pre><code>@Column(name = &quot;goodid&quot;, insertable = false, updatable = false) //Check else\n    private int goodId;\n\n    @JsonBackReference\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;goodId&quot;)\n    Good good;\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin","maven-bom"],"comments":[{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":1,"creation_date":1681936103,"post_id":59339543,"comment_id":134139050,"body_markdown":"Why you edited your question similar to the solution in the answer, it is quite confusing...","body":"Why you edited your question similar to the solution in the answer, it is quite confusing..."},{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":0,"creation_date":1681987343,"post_id":59339543,"comment_id":134146409,"body_markdown":"@DanielH&#225;ri, I have no idea why I did it, it was long time ago, anyway i&#39;ve rolledback this change, sorry.","body":"@DanielH&#225;ri, I have no idea why I did it, it was long time ago, anyway i&#39;ve rolledback this change, sorry."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576428619,"creation_date":1576426765,"answer_id":59345736,"question_id":59339543,"body_markdown":"`publications` must be inside the `publishing` block. And you can&#39;t use `from components.java` since your project isn&#39;t a Java project, but a platform. So it should be\r\n\r\n    plugins {\r\n        id &#39;maven-publish&#39;\r\n        id &#39;java-platform&#39;\r\n    }\r\n    subprojects {\r\n        configurations {\r\n            deployerJars\r\n        }\r\n    \r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n    }\r\n    publishing {\r\n        publications {\r\n            myPlatform(MavenPublication) {\r\n                from components.javaPlatform\r\n            }\r\n        }\r\n    }","title":"Parent gradle module with java-platform plugin","body":"<p><code>publications</code> must be inside the <code>publishing</code> block. And you can't use <code>from components.java</code> since your project isn't a Java project, but a platform. So it should be</p>\n\n<pre><code>plugins {\n    id 'maven-publish'\n    id 'java-platform'\n}\nsubprojects {\n    configurations {\n        deployerJars\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n}\npublishing {\n    publications {\n        myPlatform(MavenPublication) {\n            from components.javaPlatform\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59345736,"answer_count":1,"score":2,"last_activity_date":1681987308,"creation_date":1576360935,"question_id":59339543,"body_markdown":"I have the following build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;maven-publish&#39;\r\n    id &#39;java-platform&#39;\r\n}\r\nsubprojects {\r\n    configurations {\r\n        deployerJars\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n}\r\npublications {\r\n    myPlatform(MavenPublication) {\r\n        from components.javaPlatform\r\n    }\r\n    mavenJava(MavenPublication) {\r\n        from components.java\r\n    }\r\n}\r\n```\r\nAnd i&#39;m receiving that error:\r\n\r\n```&gt; Could not get unknown property &#39;javaPlatform&#39; for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.```\r\n\r\nCouldn&#39;t find any information about this error, and from what I understand from the [platform plugin page][1], you cannot set a project with &#39;java&#39; plugin a &#39;java-platform&#39; plugin, but this is not the case.\r\nI&#39;d appreciate some guidance here, thanks.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_platform_plugin.html","title":"Parent gradle module with java-platform plugin","body":"<p>I have the following build.gradle file:</p>\n<pre><code>plugins {\n    id 'maven-publish'\n    id 'java-platform'\n}\nsubprojects {\n    configurations {\n        deployerJars\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n}\npublications {\n    myPlatform(MavenPublication) {\n        from components.javaPlatform\n    }\n    mavenJava(MavenPublication) {\n        from components.java\n    }\n}\n</code></pre>\n<p>And i'm receiving that error:</p>\n<p><code>&gt; Could not get unknown property 'javaPlatform' for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.</code></p>\n<p>Couldn't find any information about this error, and from what I understand from the <a href=\"https://docs.gradle.org/current/userguide/java_platform_plugin.html\" rel=\"nofollow noreferrer\">platform plugin page</a>, you cannot set a project with 'java' plugin a 'java-platform' plugin, but this is not the case.\nI'd appreciate some guidance here, thanks.</p>\n"},{"tags":["java","gradle","shadowjar"],"answers":[{"tags":[],"owner":{"account_id":8855961,"reputation":121,"user_id":7305670,"display_name":"ndr_brt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987300,"creation_date":1681987300,"answer_id":76063192,"question_id":71462281,"body_markdown":"In the shadow jar you&#39;ll find the `META-INF/maven` folder, there you&#39;ll find all the pom.xml files, each containing the dependency version.","title":"List dependencies that are going to be part of the (shadow) JAR file","body":"<p>In the shadow jar you'll find the <code>META-INF/maven</code> folder, there you'll find all the pom.xml files, each containing the dependency version.</p>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681987300,"creation_date":1647222858,"question_id":71462281,"body_markdown":"I&#39;m using the latest version (`7.1.2`) of the `ShadowJar` (Gradle) plugin to build the application&#39;s JAR. I&#39;m trying to exclude some dependencies from the resultant JAR, so I have configured the plugin like:\r\n\r\n```groovy\r\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\r\n\r\n...\r\n\r\ntasks.withType(ShadowJar) {\r\n  final def attributes = [\r\n    // ...all the attributes here\r\n  ]\r\n  dependencies {\r\n    // Dependencies that are already provided in the lib/ folder of Apache Flink\r\n    exclude(dependency(&quot;org.apache.flink:flink-clients_2.12&quot;))\r\n    exclude(dependency(&quot;org.apache.flink:flink-java&quot;))\r\n    exclude(dependency(&quot;org.apache.flink:flink-streaming-java_2.12&quot;))\r\n  }\r\n  manifest.attributes(attributes)\r\n  mergeServiceFiles()\r\n  minimize()\r\n  setZip64(true)\r\n}\r\n```\r\n\r\nIt&#39;s not clear to me what dependencies are actually begin excluded/included ‚Äî when unzipping and visually analyzing the generated ZIP file(s). I&#39;ve been trying to compare the generated (ZIP) `-shadow` file with the one generated by the `distZip` task, but the `-shadow` one doesn&#39;t have a single JAR on it...only classes.\r\n\r\nSo I&#39;m wondering if there is a way to print the **effective group of dependencies** that are going to be part of the final JAR file.\r\n\r\n&gt; Based on the `ShadowJar`&#39;s [documentation][1], the default configuration is to merge all dependencies from the project&#39;s `runtimeClasspath`, but `./gradlew dependencies --configuration runtimeClasspath` doesn&#39;t account for the excluded ones.\r\n\r\n  [1]: https://imperceptiblethoughts.com/shadow/configuration/dependencies/#configuring-shadowed-dependencies","title":"List dependencies that are going to be part of the (shadow) JAR file","body":"<p>I'm using the latest version (<code>7.1.2</code>) of the <code>ShadowJar</code> (Gradle) plugin to build the application's JAR. I'm trying to exclude some dependencies from the resultant JAR, so I have configured the plugin like:</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\n...\n\ntasks.withType(ShadowJar) {\n  final def attributes = [\n    // ...all the attributes here\n  ]\n  dependencies {\n    // Dependencies that are already provided in the lib/ folder of Apache Flink\n    exclude(dependency(&quot;org.apache.flink:flink-clients_2.12&quot;))\n    exclude(dependency(&quot;org.apache.flink:flink-java&quot;))\n    exclude(dependency(&quot;org.apache.flink:flink-streaming-java_2.12&quot;))\n  }\n  manifest.attributes(attributes)\n  mergeServiceFiles()\n  minimize()\n  setZip64(true)\n}\n</code></pre>\n<p>It's not clear to me what dependencies are actually begin excluded/included ‚Äî when unzipping and visually analyzing the generated ZIP file(s). I've been trying to compare the generated (ZIP) <code>-shadow</code> file with the one generated by the <code>distZip</code> task, but the <code>-shadow</code> one doesn't have a single JAR on it...only classes.</p>\n<p>So I'm wondering if there is a way to print the <strong>effective group of dependencies</strong> that are going to be part of the final JAR file.</p>\n<blockquote>\n<p>Based on the <code>ShadowJar</code>'s <a href=\"https://imperceptiblethoughts.com/shadow/configuration/dependencies/#configuring-shadowed-dependencies\" rel=\"nofollow noreferrer\">documentation</a>, the default configuration is to merge all dependencies from the project's <code>runtimeClasspath</code>, but <code>./gradlew dependencies --configuration runtimeClasspath</code> doesn't account for the excluded ones.</p>\n</blockquote>\n"},{"tags":["java","caching","wildfly","load-balancing","infinispan"],"comments":[{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1681986544,"post_id":76054209,"comment_id":134146207,"body_markdown":"This mentions the `NotSerializableException` error, but doesn&#39;t provide a solution. http://www.dataforte.net/listing/infinispan/generated-html/user_guide/user_guide.html","body":"This mentions the <code>NotSerializableException</code> error, but doesn&#39;t provide a solution. <a href=\"http://www.dataforte.net/listing/infinispan/generated-html/user_guide/user_guide.html\" rel=\"nofollow noreferrer\">dataforte.net/listing/infinispan/generated-html/user_guide/&hellip;</a>"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1681987030,"post_id":76054209,"comment_id":134146317,"body_markdown":"I would assume a fix would be to make the object concerned serializable. The reported error indicates that a `java.lang.Object` is not serializable. There is no indication which object.","body":"I would assume a fix would be to make the object concerned serializable. The reported error indicates that a <code>java.lang.Object</code> is not serializable. There is no indication which object."}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987276,"creation_date":1681905319,"question_id":76054209,"body_markdown":"I am using wildFly22 with Java11 and am trying to configure Infinispan cache.\r\n\r\n**distributable-web.xml**\r\n\r\n    &lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\r\n        &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\r\n            &lt;primary-owner-affinity/&gt;\r\n        &lt;/infinispan-session-management&gt;\r\n    &lt;/distributable-web&gt;\r\n\r\n**standalone-ha.xml**\r\n\r\n            &lt;cache-container name=&quot;web&quot; default-cache=&quot;passivation&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\r\n                &lt;local-cache name=&quot;corpapp-session-cache-web&quot;&gt;\r\n                    &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n                &lt;local-cache name=&quot;passivation&quot;&gt;\r\n                    &lt;expiration interval=&quot;0&quot;/&gt;\r\n                    &lt;file-store passivation=&quot;true&quot; purge=&quot;false&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n                &lt;local-cache name=&quot;sso&quot;&gt;\r\n                    &lt;expiration interval=&quot;0&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n            &lt;/cache-container&gt;\r\n\r\ne.g. if I set the marshaller to:\r\n\r\n    marshaller=&quot;PROTOSTREAM&quot;\r\n\r\nit gets this:\r\n\r\n    WARN  [org.infinispan.PERSISTENCE] (default task-2)\r\n    ISPN000559: Cannot marshall &#39;class org.infinispan.marshall.protostream.impl.MarshallableUserObject&#39;: java.io.NotSerializableException: java.lang.Object\r\n        at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990\r\n\r\ne.g. if I set the marshaller to:\r\n\r\n    marshaller=&quot;JBOSS&quot;\r\n\r\nit gets this:\r\n\r\n    ERROR [io.undertow.request] (default task-1) UT005023:\r\n    Exception handling request to /corporateInterface/login.do:\r\n    org.infinispan.persistence.spi.PersistenceException:\r\n    org.infinispan.commons.marshall.MarshallingException: org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey\r\n\r\n**More Info**\r\n\r\nHere is the stack trace:\r\n\r\n    WARN  [org.infinispan.PERSISTENCE] (default task-2) ISPN000559: Cannot marshall &#39;class org.infinispan.marshall.protostream.impl.MarshallableUserObject&#39;: java.io.NotSerializableException: java.lang.Object\r\n    \tat org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990)\r\n    \tat org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:217)\r\n    \tat org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\r\n    \tat ...\r\n    \tat org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\r\n    \tat org.wildfly.clustering.marshalling.jboss@25.0.0.Final//org.wildfly.clustering.marshalling.jboss.JBossByteBufferMarshaller.writeTo(JBossByteBufferMarshaller.java:92)\r\n    \tat org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.write(ByteBufferMarshaller.java:55)\r\n    \tat org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.getBuffer(ByteBufferMarshalledValue.java:68)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.FunctionalScalarMarshaller.writeTo(FunctionalScalarMarshaller.java:169)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamWriter.writeObjectNoTag(DefaultProtoStreamWriter.java:51)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamWriter.writeObject(ProtoStreamWriter.java:60)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.writeTo(TypedObjectMarshaller.java:60)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:76)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:36)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamMarshaller.write(ProtoStreamMarshaller.java:50)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.write(ProtobufUtil.java:70)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:75)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.writeTo(ProtoStreamByteBufferMarshaller.java:94)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractUserMarshaller.writeObject(AbstractUserMarshaller.java:62)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:107)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:101)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:76)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectToByteBuffer(DelegatingUserMarshaller.java:58)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:150)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:100)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.writeMessage(WrappedMessage.java:301)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.write(WrappedMessage.java:242)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.toWrappedStream(ProtobufUtil.java:162)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToByteBuffer(AbstractInternalProtoStreamMarshaller.java:75)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToBuffer(AbstractInternalProtoStreamMarshaller.java:62)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.marshall(MarshallableEntryImpl.java:230)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.&lt;init&gt;(MarshallableEntryImpl.java:41)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshalledEntryFactoryImpl.create(MarshalledEntryFactoryImpl.java:65)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.persistence.spi.MarshallableEntryFactory.create(MarshallableEntryFactory.java:95)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.marshalledEntry(CacheWriterInterceptor.java:471)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:451)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:444)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.lambda$visitDataWriteCommandToStore$14(CacheWriterInterceptor.java:487)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:86)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitDataWriteCommandToStore(CacheWriterInterceptor.java:480)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPutKeyValueCommand(CacheWriterInterceptor.java:186)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:211)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:143)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:760)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:346)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:155)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$3(AbstractLockingInterceptor.java:318)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.SyncInvocationStage.andHandle(SyncInvocationStage.java:69)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:313)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:138)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:41)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:252)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:211)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:128)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:89)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.doInvoke(InvocationHelper.java:297)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:101)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:83)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1293)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:678)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:537)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:698)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\r\n    \tat org.wildfly.clustering.ee.infinispan@25.0.0.Final//org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:59)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.close(CoarseSessionAttributes.java:99)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.CompositeSession.close(CompositeSession.java:77)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:88)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.closeSession(ConcurrentSessionManager.java:159)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:55)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:52)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:66)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:57)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1932)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$3.run(ConcurrentManager.java:88)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:190)\r\n    \tat org.wildfly.clustering.web.undertow@25.0.0.Final//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:120)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:987)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:211)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServletResponseWrapper.sendRedirect(HttpServletResponseWrapper.java:130)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.util.SecureRequestUtils.checkSsl(SecureRequestUtils.java:614)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.SecureTilesRequestProcessor.processPreprocess(SecureTilesRequestProcessor.java:104)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:182)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.process(ActionServlet.java:1962)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:446)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:28)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:21)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.logging.LoggerFilter.doFilter(LoggerFilter.java:58)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.protection.InputProtectionFilter.doFilter(InputProtectionFilter.java:30)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.travelIT.admin.sessiontracker.LoggedInUsersFilter.doFilter(LoggedInUsersFilter.java:67)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.notes.filter.UpdateNotesFilter.doFilter(UpdateNotesFilter.java:75)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.debug.DebugFilter.doFilter(DebugFilter.java:41)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.compression.GZIPFilter.doFilter(GZIPFilter.java:28)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//corptravweb.security.TLJaasAdaptorFilter.doFilter(TLJaasAdaptorFilter.java:36)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n    \tat org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat org.wildfly.security.elytron-web.undertow-server-servlet@1.9.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: an exception which occurred:\r\n    \tin object java.lang.Object@284f63da\r\n    \tin object java.util.HashMap@f6e39bcd\r\n    \tin object java.util.concurrent.ConcurrentHashMap@16d76032","title":"Infinispan cannot write cache to file - MarshallableUserObject - NotSerializableException","body":"<p>I am using wildFly22 with Java11 and am trying to configure Infinispan cache.</p>\n<p><strong>distributable-web.xml</strong></p>\n<pre><code>&lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\n    &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\n        &lt;primary-owner-affinity/&gt;\n    &lt;/infinispan-session-management&gt;\n&lt;/distributable-web&gt;\n</code></pre>\n<p><strong>standalone-ha.xml</strong></p>\n<pre><code>        &lt;cache-container name=&quot;web&quot; default-cache=&quot;passivation&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\n            &lt;local-cache name=&quot;corpapp-session-cache-web&quot;&gt;\n                &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\n            &lt;/local-cache&gt;\n            &lt;local-cache name=&quot;passivation&quot;&gt;\n                &lt;expiration interval=&quot;0&quot;/&gt;\n                &lt;file-store passivation=&quot;true&quot; purge=&quot;false&quot;/&gt;\n            &lt;/local-cache&gt;\n            &lt;local-cache name=&quot;sso&quot;&gt;\n                &lt;expiration interval=&quot;0&quot;/&gt;\n            &lt;/local-cache&gt;\n        &lt;/cache-container&gt;\n</code></pre>\n<p>e.g. if I set the marshaller to:</p>\n<pre><code>marshaller=&quot;PROTOSTREAM&quot;\n</code></pre>\n<p>it gets this:</p>\n<pre><code>WARN  [org.infinispan.PERSISTENCE] (default task-2)\nISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: java.lang.Object\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990\n</code></pre>\n<p>e.g. if I set the marshaller to:</p>\n<pre><code>marshaller=&quot;JBOSS&quot;\n</code></pre>\n<p>it gets this:</p>\n<pre><code>ERROR [io.undertow.request] (default task-1) UT005023:\nException handling request to /corporateInterface/login.do:\norg.infinispan.persistence.spi.PersistenceException:\norg.infinispan.commons.marshall.MarshallingException: org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey\n</code></pre>\n<p><strong>More Info</strong></p>\n<p>Here is the stack trace:</p>\n<pre><code>WARN  [org.infinispan.PERSISTENCE] (default task-2) ISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: java.lang.Object\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990)\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:217)\n    at org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\n    at ...\n    at org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\n    at org.wildfly.clustering.marshalling.jboss@25.0.0.Final//org.wildfly.clustering.marshalling.jboss.JBossByteBufferMarshaller.writeTo(JBossByteBufferMarshaller.java:92)\n    at org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.write(ByteBufferMarshaller.java:55)\n    at org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.getBuffer(ByteBufferMarshalledValue.java:68)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.FunctionalScalarMarshaller.writeTo(FunctionalScalarMarshaller.java:169)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamWriter.writeObjectNoTag(DefaultProtoStreamWriter.java:51)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamWriter.writeObject(ProtoStreamWriter.java:60)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.writeTo(TypedObjectMarshaller.java:60)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:76)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:36)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamMarshaller.write(ProtoStreamMarshaller.java:50)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.write(ProtobufUtil.java:70)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:75)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.writeTo(ProtoStreamByteBufferMarshaller.java:94)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractUserMarshaller.writeObject(AbstractUserMarshaller.java:62)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:107)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:101)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:76)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectToByteBuffer(DelegatingUserMarshaller.java:58)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:150)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:100)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.writeMessage(WrappedMessage.java:301)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.write(WrappedMessage.java:242)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.toWrappedStream(ProtobufUtil.java:162)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToByteBuffer(AbstractInternalProtoStreamMarshaller.java:75)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToBuffer(AbstractInternalProtoStreamMarshaller.java:62)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.marshall(MarshallableEntryImpl.java:230)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.&lt;init&gt;(MarshallableEntryImpl.java:41)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshalledEntryFactoryImpl.create(MarshalledEntryFactoryImpl.java:65)\n    at org.infinispan@12.1.7.Final//org.infinispan.persistence.spi.MarshallableEntryFactory.create(MarshallableEntryFactory.java:95)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.marshalledEntry(CacheWriterInterceptor.java:471)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:451)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:444)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.lambda$visitDataWriteCommandToStore$14(CacheWriterInterceptor.java:487)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:86)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitDataWriteCommandToStore(CacheWriterInterceptor.java:480)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPutKeyValueCommand(CacheWriterInterceptor.java:186)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:211)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:143)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:760)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:346)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:155)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$3(AbstractLockingInterceptor.java:318)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.SyncInvocationStage.andHandle(SyncInvocationStage.java:69)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:313)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:138)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:41)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:252)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:211)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:128)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:89)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.doInvoke(InvocationHelper.java:297)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:101)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:83)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1293)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:678)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:537)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:698)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\n    at org.wildfly.clustering.ee.infinispan@25.0.0.Final//org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:59)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.close(CoarseSessionAttributes.java:99)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.CompositeSession.close(CompositeSession.java:77)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:88)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.closeSession(ConcurrentSessionManager.java:159)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:55)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:52)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:66)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:57)\n    at java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1932)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$3.run(ConcurrentManager.java:88)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:190)\n    at org.wildfly.clustering.web.undertow@25.0.0.Final//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:120)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:987)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:211)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServletResponseWrapper.sendRedirect(HttpServletResponseWrapper.java:130)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.util.SecureRequestUtils.checkSsl(SecureRequestUtils.java:614)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.SecureTilesRequestProcessor.processPreprocess(SecureTilesRequestProcessor.java:104)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:182)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.process(ActionServlet.java:1962)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:446)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:28)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:21)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.logging.LoggerFilter.doFilter(LoggerFilter.java:58)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.protection.InputProtectionFilter.doFilter(InputProtectionFilter.java:30)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.travelIT.admin.sessiontracker.LoggedInUsersFilter.doFilter(LoggedInUsersFilter.java:67)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.notes.filter.UpdateNotesFilter.doFilter(UpdateNotesFilter.java:75)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.debug.DebugFilter.doFilter(DebugFilter.java:41)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.compression.GZIPFilter.doFilter(GZIPFilter.java:28)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//corptravweb.security.TLJaasAdaptorFilter.doFilter(TLJaasAdaptorFilter.java:36)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at org.wildfly.security.elytron-web.undertow-server-servlet@1.9.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: an exception which occurred:\n    in object java.lang.Object@284f63da\n    in object java.util.HashMap@f6e39bcd\n    in object java.util.concurrent.ConcurrentHashMap@16d76032\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","localdatetime"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674911062,"post_id":75267521,"comment_id":132817172,"body_markdown":"Show us the code that populates the object fields.","body":"Show us the code that populates the object fields."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1674911613,"post_id":75267521,"comment_id":132817258,"body_markdown":"I suggest you switch from `LocalDateTime` to `Instant` which is independent of a timezone.","body":"I suggest you switch from <code>LocalDateTime</code> to <code>Instant</code> which is independent of a timezone."}],"owner":{"account_id":12640843,"reputation":485,"user_id":9188403,"display_name":"S-Wing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987216,"creation_date":1674907660,"question_id":75267521,"body_markdown":"I have a spring boot application that uses spring-boot-starter-data-mongodb (2.7.7) to link with a local mongodb (v6). I have two different classes (with a LocalDateTime property) that maps two different collections; my problem is that the LocalDateTime property of the two classes are saved like they come from different timezone in the rispective mongo collection.\r\n&lt;br&gt;&lt;br&gt;\r\n**First class/collection**&lt;br&gt; \r\n\r\nClass\r\n\r\n    @Document(&quot;CollectionOne&quot;)\r\n    public class ClassOne{\r\n\t@Id\r\n\tprivate String id;\r\n\tprivate LocalDateTime dataChiamata;\r\n\r\nRepo\r\n\r\n    public interface ClassOneRepo extends MongoRepository&lt;ClassOne, String&gt;{}\r\n\r\nSaving\r\n\r\n    classOneRepo.save(obj1);\r\n\r\nObj1.dataChiamata ( from debugger )\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMongoDb CollectionOne:  exact same date of java &lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**Second class/collection**&lt;br&gt; \r\n\r\nClass\r\n\r\n    @Document(&quot;CollectionTwo&quot;)\r\n    public class ClassTwo{\r\n    @Id\r\n    private String id;\r\n    private List&lt;LocalDateTime&gt; giorniLetti;\r\n\r\nRepo\r\n\r\n    public interface ClassTwoRepo extends MongoRepository&lt;ClassTwo, String&gt; {}\r\n\r\nSaving\r\n\r\n    classTwoRepo .save(obj2);\r\n\r\nObj2.giorniLetti.get(0) (from debugger) &lt;br&gt;\r\n[![enter image description here][3]][3]\r\n\r\nMondoDB CollectionTwo: one hour previous respect the java &lt;br&gt;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nI don&#39;t understand why the two dates are saved in a different way on the db although they are exactly the same java object; any suggestion?\r\n\r\n  [1]: https://i.stack.imgur.com/NqQJ6.png\r\n  [2]: https://i.stack.imgur.com/hbZYB.png\r\n  [3]: https://i.stack.imgur.com/XlvQm.png\r\n  [4]: https://i.stack.imgur.com/L1Eix.png","title":"Spring-data-mongodb save localdatetime with different time zone","body":"<p>I have a spring boot application that uses spring-boot-starter-data-mongodb (2.7.7) to link with a local mongodb (v6). I have two different classes (with a LocalDateTime property) that maps two different collections; my problem is that the LocalDateTime property of the two classes are saved like they come from different timezone in the rispective mongo collection.\n<br><br>\n<strong>First class/collection</strong><br></p>\n<p>Class</p>\n<pre><code>@Document(&quot;CollectionOne&quot;)\npublic class ClassOne{\n@Id\nprivate String id;\nprivate LocalDateTime dataChiamata;\n</code></pre>\n<p>Repo</p>\n<pre><code>public interface ClassOneRepo extends MongoRepository&lt;ClassOne, String&gt;{}\n</code></pre>\n<p>Saving</p>\n<pre><code>classOneRepo.save(obj1);\n</code></pre>\n<p>Obj1.dataChiamata ( from debugger )</p>\n<p><a href=\"https://i.stack.imgur.com/NqQJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqQJ6.png\" alt=\"enter image description here\" /></a></p>\n<p>MongoDb CollectionOne:  exact same date of java <br>\n<a href=\"https://i.stack.imgur.com/hbZYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbZYB.png\" alt=\"enter image description here\" /></a></p>\n<p><br><br>\n<strong>Second class/collection</strong><br></p>\n<p>Class</p>\n<pre><code>@Document(&quot;CollectionTwo&quot;)\npublic class ClassTwo{\n@Id\nprivate String id;\nprivate List&lt;LocalDateTime&gt; giorniLetti;\n</code></pre>\n<p>Repo</p>\n<pre><code>public interface ClassTwoRepo extends MongoRepository&lt;ClassTwo, String&gt; {}\n</code></pre>\n<p>Saving</p>\n<pre><code>classTwoRepo .save(obj2);\n</code></pre>\n<p>Obj2.giorniLetti.get(0) (from debugger) <br>\n<a href=\"https://i.stack.imgur.com/XlvQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XlvQm.png\" alt=\"enter image description here\" /></a></p>\n<p>MondoDB CollectionTwo: one hour previous respect the java <br></p>\n<p><a href=\"https://i.stack.imgur.com/L1Eix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1Eix.png\" alt=\"enter image description here\" /></a></p>\n<p><br><br>\nI don't understand why the two dates are saved in a different way on the db although they are exactly the same java object; any suggestion?</p>\n"},{"tags":["java","mobile-ad-mediation","applovin"],"answers":[{"tags":[],"owner":{"account_id":11450008,"reputation":1948,"user_id":8392648,"display_name":"S. Gissel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987193,"creation_date":1681987193,"answer_id":76063177,"question_id":75340013,"body_markdown":"You still must call **loadAd()** on the **MaxAdView** you create in this way:\r\n\r\n    MaxAdView adView = findViewById( R.id.ad_view );\r\n    adView.loadAd();\r\n\r\nDo this in the same class as you initialized your layout.xml.","title":"Max Applovin Banner Ad is not appearing a the bottom but on Design it&#39;s at the bottom","body":"<p>You still must call <strong>loadAd()</strong> on the <strong>MaxAdView</strong> you create in this way:</p>\n<pre><code>MaxAdView adView = findViewById( R.id.ad_view );\nadView.loadAd();\n</code></pre>\n<p>Do this in the same class as you initialized your layout.xml.</p>\n"}],"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681987193,"creation_date":1675451039,"question_id":75340013,"body_markdown":"My banner Ad is not appearing at the bottom when I run it on my app but on the Design section in android studio it appears at the bottom. \r\n\r\nBelow is my xml layout code:\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorThemeWhite&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.emiloancalculator.loanplanner.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:elevation=&quot;0dp&quot;\r\n                android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n                &lt;RelativeLayout\r\n                    android:background=&quot;@color/colorMain&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n                    &lt;androidx.appcompat.widget.Toolbar\r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;60dp&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        app:titleTextAppearance=&quot;@style/Title&quot;\r\n                        android:background=&quot;@color/colorMain&quot;\r\n                        app:title=&quot;@string/app_name&quot;\r\n                        android:elevation=&quot;0dp&quot;\r\n                        /&gt;\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/favMenu&quot;\r\n                        android:backgroundTint=&quot;@color/colorWhite&quot;\r\n                        android:background=&quot;@drawable/ic_baseline_favorite_border_24&quot;\r\n                        android:layout_width=&quot;22dp&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_margin=&quot;20dp&quot;\r\n                        android:layout_height=&quot;22dp&quot;/&gt;\r\n                &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:id=&quot;@+id/tabLayout&quot;\r\n                    \r\n                    app:tabIndicatorColor=&quot;@color/colorWhite&quot;\r\n                    app:tabTextAppearance=&quot;@style/ForTabLayout&quot;\r\n                    app:tabTextColor=&quot;@color/colorWhite&quot;\r\n                    android:scrollbars=&quot;none&quot;\r\n                    android:elevation=&quot;0dp&quot;\r\n                    android:background=&quot;@color/colorMain&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n    \r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;50dp&quot;\r\n                android:id=&quot;@+id/viewPager&quot;/&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n        &lt;com.applovin.mediation.ads.MaxAdView\r\n            maxads:adUnitId=&quot;deb0327b3f01cdb9&quot;\r\n            android:background=&quot;@color/banner_background_color&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:layout_height=&quot;@dimen/banner_height&quot; /&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\nThis is an issue I have encountered with several apps... The others I have not posted  because they appear fully at the top but this app it displays the Banner ad at the top but I can only see a quarter of it. ","title":"Max Applovin Banner Ad is not appearing a the bottom but on Design it&#39;s at the bottom","body":"<p>My banner Ad is not appearing at the bottom when I run it on my app but on the Design section in android studio it appears at the bottom.</p>\n<p>Below is my xml layout code:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;@color/colorThemeWhite&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.emiloancalculator.loanplanner.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:elevation=&quot;0dp&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n            &lt;RelativeLayout\n                android:background=&quot;@color/colorMain&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;androidx.appcompat.widget.Toolbar\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;60dp&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    app:titleTextAppearance=&quot;@style/Title&quot;\n                    android:background=&quot;@color/colorMain&quot;\n                    app:title=&quot;@string/app_name&quot;\n                    android:elevation=&quot;0dp&quot;\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/favMenu&quot;\n                    android:backgroundTint=&quot;@color/colorWhite&quot;\n                    android:background=&quot;@drawable/ic_baseline_favorite_border_24&quot;\n                    android:layout_width=&quot;22dp&quot;\n                    android:layout_alignParentRight=&quot;true&quot;\n                    android:layout_margin=&quot;20dp&quot;\n                    android:layout_height=&quot;22dp&quot;/&gt;\n            &lt;/RelativeLayout&gt;\n\n\n            &lt;com.google.android.material.tabs.TabLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tabLayout&quot;\n                \n                app:tabIndicatorColor=&quot;@color/colorWhite&quot;\n                app:tabTextAppearance=&quot;@style/ForTabLayout&quot;\n                app:tabTextColor=&quot;@color/colorWhite&quot;\n                android:scrollbars=&quot;none&quot;\n                android:elevation=&quot;0dp&quot;\n                android:background=&quot;@color/colorMain&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n            &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;50dp&quot;\n            android:id=&quot;@+id/viewPager&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;com.applovin.mediation.ads.MaxAdView\n        maxads:adUnitId=&quot;deb0327b3f01cdb9&quot;\n        android:background=&quot;@color/banner_background_color&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:layout_height=&quot;@dimen/banner_height&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>This is an issue I have encountered with several apps... The others I have not posted  because they appear fully at the top but this app it displays the Banner ad at the top but I can only see a quarter of it.</p>\n"},{"tags":["java","testing","jmeter","remote-server"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987126,"creation_date":1681987126,"answer_id":76063166,"question_id":76063051,"body_markdown":"JMeter master communicates with slave(s) via [RMI][1]\r\n\r\nIt meant that:\r\n\r\n - Master needs to be able to reach the slave to send the [.jmx test plan][2] \r\n - Slave needs to be able to connect to the master to send back [results and metrics][3]\r\n\r\nThe [RMI ports][4] which are used for the bi-directional communication need to be opened in your operating system [firewall][5]. By default slave listens for the incoming connections on port `1099` so start with checking whether it&#39;s open and reachable from the master. The error you&#39;re getting means that the master cannot establish RMI connection to the slave using the default port. \r\n\r\nFor receiving the metrics from the slave JMeter uses random ports. If you cannot open all ports you can specify the desired ones using `client.rmi.localport` property, JMeter will open up to 3 ports starting with the port you provide via the property. \r\n\r\nMore information:\r\n\r\n - [Configuring JMeter][6]\r\n - [Apache JMeter Properties Customization Guide][7]\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_remote_method_invocation\r\n  [2]: https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\r\n  [3]: https://jmeter.apache.org/usermanual/glossary.html\r\n  [4]: https://jmeter.apache.org/usermanual/properties_reference.html#remote\r\n  [5]: https://en.wikipedia.org/wiki/Firewall_(computing)\r\n  [6]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [7]: https://www.blazemeter.com/blog/jmeter-properties-customization","title":"Jmeter : Running on remote machine fails Error: Error in NonGUIDriver java.lang.RuntimeException: Following remote engines could not be configured","body":"<p>JMeter master communicates with slave(s) via <a href=\"https://en.wikipedia.org/wiki/Java_remote_method_invocation\" rel=\"nofollow noreferrer\">RMI</a></p>\n<p>It meant that:</p>\n<ul>\n<li>Master needs to be able to reach the slave to send the <a href=\"https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\" rel=\"nofollow noreferrer\">.jmx test plan</a></li>\n<li>Slave needs to be able to connect to the master to send back <a href=\"https://jmeter.apache.org/usermanual/glossary.html\" rel=\"nofollow noreferrer\">results and metrics</a></li>\n</ul>\n<p>The <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html#remote\" rel=\"nofollow noreferrer\">RMI ports</a> which are used for the bi-directional communication need to be opened in your operating system <a href=\"https://en.wikipedia.org/wiki/Firewall_(computing)\" rel=\"nofollow noreferrer\">firewall</a>. By default slave listens for the incoming connections on port <code>1099</code> so start with checking whether it's open and reachable from the master. The error you're getting means that the master cannot establish RMI connection to the slave using the default port.</p>\n<p>For receiving the metrics from the slave JMeter uses random ports. If you cannot open all ports you can specify the desired ones using <code>client.rmi.localport</code> property, JMeter will open up to 3 ports starting with the port you provide via the property.</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\" rel=\"nofollow noreferrer\">Configuring JMeter</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-properties-customization\" rel=\"nofollow noreferrer\">Apache JMeter Properties Customization Guide</a></li>\n</ul>\n"}],"owner":{"account_id":11234628,"reputation":27,"user_id":8241274,"display_name":"Cinthiya Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681987126,"creation_date":1681986290,"question_id":76063051,"body_markdown":"I want to test basic functionality of running a Jmeter test on Remote System\r\nI have done the following :\r\n1. Same version of java on both machines\r\n2. Same subnetwork for both machines\r\n3. Set up Test of Host Jmeter\r\n4. create RMI keystore at host system and also add same file to client system\r\n5. add client IP address to remote_host variable in the jmeter properties file\r\n6. start jmeter server at client end\r\n7. Run the test in both GUI and Non GUI mode alternatively still same error is persistent\r\n\r\n[![The below is error when running on non - GUI mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cU9JT.png\r\n\r\n\r\nPlease suggest me what else shall be done, and if I have done something wrong let me know","title":"Jmeter : Running on remote machine fails Error: Error in NonGUIDriver java.lang.RuntimeException: Following remote engines could not be configured","body":"<p>I want to test basic functionality of running a Jmeter test on Remote System\nI have done the following :</p>\n<ol>\n<li>Same version of java on both machines</li>\n<li>Same subnetwork for both machines</li>\n<li>Set up Test of Host Jmeter</li>\n<li>create RMI keystore at host system and also add same file to client system</li>\n<li>add client IP address to remote_host variable in the jmeter properties file</li>\n<li>start jmeter server at client end</li>\n<li>Run the test in both GUI and Non GUI mode alternatively still same error is persistent</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cU9JT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cU9JT.png\" alt=\"The below is error when running on non - GUI mode\" /></a></p>\n<p>Please suggest me what else shall be done, and if I have done something wrong let me know</p>\n"},{"tags":["java","android","drag-and-drop","scrollview","viewgroup"],"owner":{"account_id":28148422,"reputation":1,"user_id":21510389,"display_name":"Sven Lueck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987045,"creation_date":1681987045,"question_id":76063156,"body_markdown":"i want to drag and position a child in my Viewgroup. While dragging and scrolling my child shoud stay at top or bottom but i cant figure out how to do that.\r\n\r\nXml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nandroid:id=&quot;@+id/scrollView&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    &gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    tools:context=&quot;.ui.slideshow.SlideshowFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n   &gt;\r\n\r\n    &lt;CalendarView\r\n        android:id=&quot;@+id/calender_slideshow&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/blue_grey&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n        &lt;de.littles.recipes.DaylyNotesLayout\r\n            android:id=&quot;@+id/daylynotes&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\napp:layout_constraintTop_toBottomOf=&quot;@id/calender_slideshow&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n\r\n        &lt;/de.littles.recipes.DaylyNotesLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n My custom viewgroup\r\n\r\n```\r\npublic class DaylyNotesLayout extends ViewGroup implements View.OnTouchListener, View.OnLongClickListener{\r\n    private List&lt;DayScheduleData&gt; dayScheduleData = new ArrayList&lt;&gt;();\r\n    int deviceWidth, deviceHeight;\r\n    float dX;\r\n    float dY;\r\n    int lastAction;\r\n    Point deviceDisplay = new Point();\r\n    private final int columnHeight = 115;\r\n\r\n    public DaylyNotesLayout(Context context) {\r\n        super(context);\r\n        init(context);\r\n      \r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(context);\r\n\r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init(context);\r\n\r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n        super(context, attrs, defStyleAttr, defStyleRes);\r\n        init(context);\r\n\r\n    }\r\n\r\n    private void init(Context context) {\r\n        final Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n\r\n        display.getSize(deviceDisplay);\r\n        deviceWidth = deviceDisplay.x;\r\n        deviceHeight = deviceDisplay.y;\r\n    }\r\n\r\n    public void clear() {\r\n\r\n        dayScheduleData.clear();\r\n        super.removeAllViews();\r\n\r\n    }\r\n\r\n    public void addNewView(View child, int startTime, int length) {\r\n        DayScheduleData childViewData = new DayScheduleData(child.getTag().toString(), startTime, length);\r\n        dayScheduleData.add(childViewData);\r\n        child.setOnTouchListener(this);\r\n\r\n        super.addView(child);\r\n    }\r\n\r\n    @Override\r\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n        final int count = getChildCount();\r\n        int curHeight, curLeft, curTop, maxHeight;\r\n        int childLeft = this.getPaddingLeft() + 80;\r\n        int childTop = this.getPaddingTop();\r\n        int childRight = this.getMeasuredWidth() - 20;\r\n        int childBottom;\r\n        int childWidth = childRight;\r\n        int childHeight;\r\n        maxHeight = 0;\r\n        int height = 0;\r\n        for (int x = 0; x &lt; count; x++) {\r\n            View child = getChildAt(x);\r\n            int start = dayScheduleData.get(x).getStartTime();\r\n            curTop = start * columnHeight - (height * columnHeight);\r\n            height = dayScheduleData.get(x).getLength();\r\n            childBottom = childTop + (columnHeight * height) + this.getPaddingBottom();\r\n            childHeight = childBottom - childTop;\r\n            if (child.getVisibility() == GONE) {\r\n                return;\r\n            }\r\n            child.measure(MeasureSpec.makeMeasureSpec(childWidth, MeasureSpec.AT_MOST), MeasureSpec.makeMeasureSpec(childHeight - 5, MeasureSpec.EXACTLY));\r\n\r\n            curHeight = childHeight;\r\n\r\n            curLeft = childLeft;\r\n            curTop += maxHeight;\r\n            maxHeight = 0;\r\n\r\n            child.layout(curLeft, curTop + 10, childRight, curTop + curHeight - 10);\r\n            if (maxHeight &lt; curHeight) {\r\n                maxHeight = curHeight;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        int count = getChildCount();\r\n        int maxHeight = columnHeight * 24;\r\n        int maxWidth = 0;\r\n        int childState = 0;\r\n        int mLeftWidth = 0;\r\n        int rowCount = 0;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            final View child = getChildAt(i);\r\n\r\n            if (child.getVisibility() == GONE) {\r\n                continue;\r\n            }\r\n            measureChild(child, widthMeasureSpec, heightMeasureSpec);\r\n            maxWidth += Math.max(maxWidth, child.getMeasuredWidth());\r\n            mLeftWidth += child.getMeasuredWidth();\r\n            if ((mLeftWidth / deviceWidth) &gt; rowCount) {\r\n\r\n                rowCount++;\r\n            } else {\r\n                maxHeight = Math.max(maxHeight, child.getMeasuredHeight());\r\n            }\r\n            childState = combineMeasuredStates(childState, child.getMeasuredState());\r\n\r\n        }\r\n        maxHeight = Math.max(maxHeight, getSuggestedMinimumHeight());\r\n        maxWidth = Math.max(maxWidth, getSuggestedMinimumWidth());\r\n        setMeasuredDimension(resolveSizeAndState(maxWidth, widthMeasureSpec, childState),\r\n                resolveSizeAndState(maxHeight, heightMeasureSpec, childState &lt;&lt; MEASURED_HEIGHT_STATE_SHIFT));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        final float height = columnHeight;\r\n        Paint paint = new Paint();\r\n        paint.setColor(Color.BLACK);\r\n        TextPaint textPaint = new TextPaint();\r\n        textPaint.setColor(Color.BLACK);\r\n        textPaint.setTextSize(24);\r\n        textPaint.setAntiAlias(true);\r\n        for (int x = 0; x &lt; 24; x++) {\r\n            paint.setStrokeWidth(2f);\r\n            paint.setAlpha(255);\r\n            if (x &lt; 10) {\r\n                canvas.drawText(&quot;0&quot; + x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\r\n            } else {\r\n                canvas.drawText(x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\r\n            }\r\n            canvas.drawLine(0, x * height, getMeasuredWidth(), x * height, paint);\r\n\r\n            paint.setStrokeWidth(2f);\r\n            paint.setAlpha(50);\r\n            canvas.drawLine(0, x * height + (height / 2), getMeasuredWidth(), x * height + (height / 2), paint);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent event) {\r\n\r\n        switch (event.getActionMasked()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                dX = view.getX() - event.getRawX();\r\n                dY = view.getY() - event.getRawY();\r\n                lastAction = MotionEvent.ACTION_DOWN;\r\n                break;\r\n\r\n            case MotionEvent.ACTION_MOVE:\r\n                ScrollView mainScrollView = getRootView().findViewById(R.id.scrollView);\r\n                int dragTop = (int) (event.getRawY() - view.getHeight()/2);\r\n                int dragBottom= (int) (event.getRawY() + view.getHeight()/2);\r\n                int scrollY =mainScrollView.getScrollY();\r\n                int scrollViewHeight = mainScrollView.getMeasuredHeight();\r\n                Log.d(&quot;RawPos &quot;,  &quot;&quot; + event.getRawY());\r\n                Log.d(&quot;ScrollY&quot;, scrollY + &quot;&quot;);\r\n\r\n                mainScrollView.requestDisallowInterceptTouchEvent(true);\r\n\r\n                if (dragBottom &gt;  (scrollViewHeight -100)) {\r\n\r\n                    mainScrollView.smoothScrollBy(0, 30);\r\n                }\r\n                if (dragTop&lt; (200)) {\r\n\r\n                    mainScrollView.smoothScrollBy(0, -30);\r\n\r\n                }\r\n\r\n                    view.setY(event.getRawY() + dY);\r\n\r\n\r\n                lastAction = MotionEvent.ACTION_MOVE;\r\n                break;\r\n\r\n            case MotionEvent.ACTION_UP:\r\n\r\n                view.setY((Math.round(view.getY() / columnHeight) * columnHeight) + 10);\r\n\r\n                if (lastAction == MotionEvent.ACTION_DOWN)\r\n\r\n                    break;\r\n\r\n            default:\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onLongClick(View v) {\r\n\r\n        return true;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nTried to set the child pos to top/bottom of viewgroup, adding smootscroll&#39;s value as offset and looked at scrollY and measuredheight, but i cant figure out how to get the correct values.  ","title":"Android scroll and drag child in custom Viewgroup inside scrollview","body":"<p>i want to drag and position a child in my Viewgroup. While dragging and scrolling my child shoud stay at top or bottom but i cant figure out how to do that.</p>\n<p>Xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/scrollView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    &gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    tools:context=&quot;.ui.slideshow.SlideshowFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n   &gt;\n\n    &lt;CalendarView\n        android:id=&quot;@+id/calender_slideshow&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/blue_grey&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n        &lt;de.littles.recipes.DaylyNotesLayout\n            android:id=&quot;@+id/daylynotes&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\napp:layout_constraintTop_toBottomOf=&quot;@id/calender_slideshow&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n\n        &lt;/de.littles.recipes.DaylyNotesLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>My custom viewgroup</p>\n<pre><code>public class DaylyNotesLayout extends ViewGroup implements View.OnTouchListener, View.OnLongClickListener{\n    private List&lt;DayScheduleData&gt; dayScheduleData = new ArrayList&lt;&gt;();\n    int deviceWidth, deviceHeight;\n    float dX;\n    float dY;\n    int lastAction;\n    Point deviceDisplay = new Point();\n    private final int columnHeight = 115;\n\n    public DaylyNotesLayout(Context context) {\n        super(context);\n        init(context);\n      \n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context);\n\n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context);\n\n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        init(context);\n\n    }\n\n    private void init(Context context) {\n        final Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\n\n        display.getSize(deviceDisplay);\n        deviceWidth = deviceDisplay.x;\n        deviceHeight = deviceDisplay.y;\n    }\n\n    public void clear() {\n\n        dayScheduleData.clear();\n        super.removeAllViews();\n\n    }\n\n    public void addNewView(View child, int startTime, int length) {\n        DayScheduleData childViewData = new DayScheduleData(child.getTag().toString(), startTime, length);\n        dayScheduleData.add(childViewData);\n        child.setOnTouchListener(this);\n\n        super.addView(child);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        final int count = getChildCount();\n        int curHeight, curLeft, curTop, maxHeight;\n        int childLeft = this.getPaddingLeft() + 80;\n        int childTop = this.getPaddingTop();\n        int childRight = this.getMeasuredWidth() - 20;\n        int childBottom;\n        int childWidth = childRight;\n        int childHeight;\n        maxHeight = 0;\n        int height = 0;\n        for (int x = 0; x &lt; count; x++) {\n            View child = getChildAt(x);\n            int start = dayScheduleData.get(x).getStartTime();\n            curTop = start * columnHeight - (height * columnHeight);\n            height = dayScheduleData.get(x).getLength();\n            childBottom = childTop + (columnHeight * height) + this.getPaddingBottom();\n            childHeight = childBottom - childTop;\n            if (child.getVisibility() == GONE) {\n                return;\n            }\n            child.measure(MeasureSpec.makeMeasureSpec(childWidth, MeasureSpec.AT_MOST), MeasureSpec.makeMeasureSpec(childHeight - 5, MeasureSpec.EXACTLY));\n\n            curHeight = childHeight;\n\n            curLeft = childLeft;\n            curTop += maxHeight;\n            maxHeight = 0;\n\n            child.layout(curLeft, curTop + 10, childRight, curTop + curHeight - 10);\n            if (maxHeight &lt; curHeight) {\n                maxHeight = curHeight;\n            }\n\n        }\n\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        int count = getChildCount();\n        int maxHeight = columnHeight * 24;\n        int maxWidth = 0;\n        int childState = 0;\n        int mLeftWidth = 0;\n        int rowCount = 0;\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n\n            if (child.getVisibility() == GONE) {\n                continue;\n            }\n            measureChild(child, widthMeasureSpec, heightMeasureSpec);\n            maxWidth += Math.max(maxWidth, child.getMeasuredWidth());\n            mLeftWidth += child.getMeasuredWidth();\n            if ((mLeftWidth / deviceWidth) &gt; rowCount) {\n\n                rowCount++;\n            } else {\n                maxHeight = Math.max(maxHeight, child.getMeasuredHeight());\n            }\n            childState = combineMeasuredStates(childState, child.getMeasuredState());\n\n        }\n        maxHeight = Math.max(maxHeight, getSuggestedMinimumHeight());\n        maxWidth = Math.max(maxWidth, getSuggestedMinimumWidth());\n        setMeasuredDimension(resolveSizeAndState(maxWidth, widthMeasureSpec, childState),\n                resolveSizeAndState(maxHeight, heightMeasureSpec, childState &lt;&lt; MEASURED_HEIGHT_STATE_SHIFT));\n\n\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        final float height = columnHeight;\n        Paint paint = new Paint();\n        paint.setColor(Color.BLACK);\n        TextPaint textPaint = new TextPaint();\n        textPaint.setColor(Color.BLACK);\n        textPaint.setTextSize(24);\n        textPaint.setAntiAlias(true);\n        for (int x = 0; x &lt; 24; x++) {\n            paint.setStrokeWidth(2f);\n            paint.setAlpha(255);\n            if (x &lt; 10) {\n                canvas.drawText(&quot;0&quot; + x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\n            } else {\n                canvas.drawText(x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\n            }\n            canvas.drawLine(0, x * height, getMeasuredWidth(), x * height, paint);\n\n            paint.setStrokeWidth(2f);\n            paint.setAlpha(50);\n            canvas.drawLine(0, x * height + (height / 2), getMeasuredWidth(), x * height + (height / 2), paint);\n\n        }\n    }\n\n\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n\n        switch (event.getActionMasked()) {\n            case MotionEvent.ACTION_DOWN:\n                dX = view.getX() - event.getRawX();\n                dY = view.getY() - event.getRawY();\n                lastAction = MotionEvent.ACTION_DOWN;\n                break;\n\n            case MotionEvent.ACTION_MOVE:\n                ScrollView mainScrollView = getRootView().findViewById(R.id.scrollView);\n                int dragTop = (int) (event.getRawY() - view.getHeight()/2);\n                int dragBottom= (int) (event.getRawY() + view.getHeight()/2);\n                int scrollY =mainScrollView.getScrollY();\n                int scrollViewHeight = mainScrollView.getMeasuredHeight();\n                Log.d(&quot;RawPos &quot;,  &quot;&quot; + event.getRawY());\n                Log.d(&quot;ScrollY&quot;, scrollY + &quot;&quot;);\n\n                mainScrollView.requestDisallowInterceptTouchEvent(true);\n\n                if (dragBottom &gt;  (scrollViewHeight -100)) {\n\n                    mainScrollView.smoothScrollBy(0, 30);\n                }\n                if (dragTop&lt; (200)) {\n\n                    mainScrollView.smoothScrollBy(0, -30);\n\n                }\n\n                    view.setY(event.getRawY() + dY);\n\n\n                lastAction = MotionEvent.ACTION_MOVE;\n                break;\n\n            case MotionEvent.ACTION_UP:\n\n                view.setY((Math.round(view.getY() / columnHeight) * columnHeight) + 10);\n\n                if (lastAction == MotionEvent.ACTION_DOWN)\n\n                    break;\n\n            default:\n                return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean onLongClick(View v) {\n\n        return true;\n    }\n    \n}\n\n</code></pre>\n<p>Tried to set the child pos to top/bottom of viewgroup, adding smootscroll's value as offset and looked at scrollY and measuredheight, but i cant figure out how to get the correct values.</p>\n"},{"tags":["java","rule-engine"],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987005,"creation_date":1681987005,"question_id":76063151,"body_markdown":"I followed the installation guide (http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf). I have a working webstudio where I could create a project, deploy it to production etc.\r\n\r\nHowever, when I access the webservice app (on the same host, same tomcat), I only get this message: &#39;There are no available services&#39;\r\n\r\nI tried from the demo(http://demo.openl-tablets.org/webstudio/) Example 2 - Corporate Rating deployment, It is showing in the demo web service (https://demo.openl-tablets.org/webservice/).\r\n\r\nBut when I try the same from local, my local web service is only showing &quot;There are no available services&quot;.","title":"OpenL Tablets Rule Services is showing &quot;There are no available services&quot; after deploying from the web studio","body":"<p>I followed the installation guide (<a href=\"http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf\" rel=\"nofollow noreferrer\">http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf</a>). I have a working webstudio where I could create a project, deploy it to production etc.</p>\n<p>However, when I access the webservice app (on the same host, same tomcat), I only get this message: 'There are no available services'</p>\n<p>I tried from the demo(<a href=\"http://demo.openl-tablets.org/webstudio/\" rel=\"nofollow noreferrer\">http://demo.openl-tablets.org/webstudio/</a>) Example 2 - Corporate Rating deployment, It is showing in the demo web service (<a href=\"https://demo.openl-tablets.org/webservice/\" rel=\"nofollow noreferrer\">https://demo.openl-tablets.org/webservice/</a>).</p>\n<p>But when I try the same from local, my local web service is only showing &quot;There are no available services&quot;.</p>\n"},{"tags":["java","android","jar","android-source","android.mk"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1682156660,"post_id":76063095,"comment_id":134173454,"body_markdown":"Did the repo sync complete properly? Here it looks vold is screaming missing system/libsysprop.","body":"Did the repo sync complete properly? Here it looks vold is screaming missing system/libsysprop."},{"owner":{"account_id":18044313,"reputation":5,"user_id":13115699,"display_name":"Shreyas R"},"score":0,"creation_date":1682320835,"post_id":76063095,"comment_id":134190547,"body_markdown":"Hi @RajatGupta, yes repo sync completed successfully. And I was also able to create a PKG with AOSP full source code.","body":"Hi @RajatGupta, yes repo sync completed successfully. And I was also able to create a PKG with AOSP full source code."}],"owner":{"account_id":18044313,"reputation":5,"user_id":13115699,"display_name":"Shreyas R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986957,"creation_date":1681986614,"question_id":76063095,"body_markdown":"I am looking for a way to build a static jar library from my below definition in Android.bp. I am using Android-12 OS.\r\n\r\n    // Define the module type\r\n    java_library_static {\r\n        name: &quot;com.example.foo.player&quot;,\r\n        srcs: [\r\n            &quot;src/com/example/foo/player/**/*.java&quot;,\r\n        ],\r\n    }\r\n\r\nWith this definition, when I try to build the jar file using AOSP project source code, I am getting the below errors. \r\n\r\n    error: system/vold/Android.bp:106:1: dependency &quot;libsysprop-vendor&quot; of &quot;libvold&quot; missing variant:\r\n    os:android,image:,arch:arm_armv7-a-neon,sdk:,link:static\r\n    available variants:\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:static\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:static\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    15:50:30 soong bootstrap failed with: exit status 1\r\n\r\nCan someone share any solutions for these, if faced them earlier? I appreciate the help.","title":"Getting errors with Android.bp when trying to build a static java library","body":"<p>I am looking for a way to build a static jar library from my below definition in Android.bp. I am using Android-12 OS.</p>\n<pre><code>// Define the module type\njava_library_static {\n    name: &quot;com.example.foo.player&quot;,\n    srcs: [\n        &quot;src/com/example/foo/player/**/*.java&quot;,\n    ],\n}\n</code></pre>\n<p>With this definition, when I try to build the jar file using AOSP project source code, I am getting the below errors.</p>\n<pre><code>error: system/vold/Android.bp:106:1: dependency &quot;libsysprop-vendor&quot; of &quot;libvold&quot; missing variant:\nos:android,image:,arch:arm_armv7-a-neon,sdk:,link:static\navailable variants:\nos:android,image:vendor.31,arch:arm_armv7-a-neon (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:static\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:static\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\n15:50:30 soong bootstrap failed with: exit status 1\n</code></pre>\n<p>Can someone share any solutions for these, if faced them earlier? I appreciate the help.</p>\n"},{"tags":["java","spring-boot","concurrency","reactive-programming","completable-future"],"owner":{"account_id":14474109,"reputation":1,"user_id":10455169,"display_name":"Rizwan Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986347,"creation_date":1681986245,"question_id":76063045,"body_markdown":"I am generating excel file and giving it to UI. Excel file contains data from two third party apis. First third party call will return list of data and then I have compare this data from database table and after comparing I need to call second third party api\r\nso second third party api is called each time based on data return from first third party call\r\nlike 100 records return from first third party call then second third party call 100 times.\r\nHow can I use concurrency in this because tasks are dependent \r\n\r\nI have controller.java file which call service method and return excel file as a response and UI is downloading\r\n\r\nController.java\r\n----------------------------------------------------------------------------\r\n\r\n    @GetMapping(&quot;/api/report&quot;)\r\n    public ResponseEntity &lt; InputStreamResource &gt; generateReport(\r\n        @ApiParam(&quot;fromDate&quot;) @RequestParam(value = &quot;fromDate&quot;, required = false) String fromDate,\r\n        @ApiParam(&quot;toDate&quot;) @RequestParam(value = &quot;toDate&quot;, required = false) String toDate) throws Exception {\r\n        InputStreamResource isr = null;\r\n        ByteArrayInputStream\r\n        export = null;\r\n        if (StringUtils.isBlank(fromDate) || StringUtils.isBlank(toDate)) {\r\n            throw new Exception(HttpStatus.BAD_REQUEST.value(), &quot;from date and to date is required&quot;);\r\n        }\r\n        List &lt; DateRange &gt; dateRangeList = convertToListOfDateRangeObj(fromDate, toDate);\r\n        export = service.generateReport(dateRangeList);\r\n        isr = new InputStreamResource(\r\n            export);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;Report.xls&quot;);\r\n        return ResponseEntity.ok().headers(headers).body(isr);\r\n    }\r\n\r\nService.java\r\n----------------------------------------------------------------------------\r\n\r\n    `  public ByteArrayInputStream generateReport(List &lt; DateRange &gt; dateRangeList)\r\n          throws ParseException, IOException, HttpStatusCodeException, JSONException {\r\n              List &lt;ExcelData&gt; reportData = new ArrayList &lt; &gt; ();\r\n              List &lt;ExcelData&gt; finalReportData = new ArrayList &lt; &gt; ();\r\n              for (DateRange dateRange: dateRangeList) {\r\n                  reportData = getData(dateRange.getFromDate(), dateRange.getToDate());\r\n                  finalReportData.addAll(reportData);\r\n              }\r\n              //logic to generate excel (Apache POI) using data available in finalReportData list\r\n              ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n              workbook.write(outputStream);\r\n              return new ByteArrayInputStream(outputStream.toByteArray());\r\n     }`\r\n      private List &lt;ExcelData&gt; getData(String from, String to)\r\n          throws HttpStatusCodeException, UnsupportedEncodingException, JsonProcessingException, JSONException {\r\n              List &lt;Excel&gt; excelDataList = new ArrayList &lt; &gt; ();\r\n              List &lt;ResponseData&gt; dataDetails = new ArrayList &lt; &gt; ();\r\n              ResponseData list = firstThirdpartyCall(from, to, null);\r\n    \r\n              for (ResponseData data: list.getData()) {\r\n                  dataDetails.add(data);\r\n              }\r\n    \r\n              dataDetails = dataDetails.stream()\r\n                  .filter(s - &gt; s.getName().indexOf(&quot;EA&quot;) == 0 || s.getName().indexOf(&quot;EE&quot;) == 0)\r\n                  .collect(Collectors.toList());\r\n    \r\n              List &lt; String &gt; matchingRecords = getMatchingRecordFromDB(\r\n                  dataDetails.stream().map(s - &gt; s.getName()).collect(Collectors.toList()));\r\n    \r\n              dataDetails = dataDetails.stream().filter(s - &gt; matchingRecords.contains(s.getName()))\r\n                  .collect(Collectors.toList());\r\n    \r\n              for (int i = 0; i &lt; dataDetails.size(); i++) {\r\n                  Info usersObj = secondThirdpartyCall(dataDetails.get(i).getId());\r\n                  //further process like database calls business logic on usersObj\r\n              }\r\n              //After process, populating List&lt;ExcelData&gt; and returning\r\n              return excelDataList;\r\n          }\r\n\r\nI also tried completable future, but other threads like restcall is working in background and main thread give response as empty excel file because data is still been process in other threads So I am not getting the output . I need to bring the response time of my api to few sec.\r\n\r\nAny help will be  appreciated\r\nThanks","title":"How to achieve Async nonblocking call for dependent task in java springboot","body":"<p>I am generating excel file and giving it to UI. Excel file contains data from two third party apis. First third party call will return list of data and then I have compare this data from database table and after comparing I need to call second third party api\nso second third party api is called each time based on data return from first third party call\nlike 100 records return from first third party call then second third party call 100 times.\nHow can I use concurrency in this because tasks are dependent</p>\n<p>I have controller.java file which call service method and return excel file as a response and UI is downloading</p>\n<h2>Controller.java</h2>\n<pre><code>@GetMapping(&quot;/api/report&quot;)\npublic ResponseEntity &lt; InputStreamResource &gt; generateReport(\n    @ApiParam(&quot;fromDate&quot;) @RequestParam(value = &quot;fromDate&quot;, required = false) String fromDate,\n    @ApiParam(&quot;toDate&quot;) @RequestParam(value = &quot;toDate&quot;, required = false) String toDate) throws Exception {\n    InputStreamResource isr = null;\n    ByteArrayInputStream\n    export = null;\n    if (StringUtils.isBlank(fromDate) || StringUtils.isBlank(toDate)) {\n        throw new Exception(HttpStatus.BAD_REQUEST.value(), &quot;from date and to date is required&quot;);\n    }\n    List &lt; DateRange &gt; dateRangeList = convertToListOfDateRangeObj(fromDate, toDate);\n    export = service.generateReport(dateRangeList);\n    isr = new InputStreamResource(\n        export);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n    headers.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;Report.xls&quot;);\n    return ResponseEntity.ok().headers(headers).body(isr);\n}\n</code></pre>\n<h2>Service.java</h2>\n<pre><code>`  public ByteArrayInputStream generateReport(List &lt; DateRange &gt; dateRangeList)\n      throws ParseException, IOException, HttpStatusCodeException, JSONException {\n          List &lt;ExcelData&gt; reportData = new ArrayList &lt; &gt; ();\n          List &lt;ExcelData&gt; finalReportData = new ArrayList &lt; &gt; ();\n          for (DateRange dateRange: dateRangeList) {\n              reportData = getData(dateRange.getFromDate(), dateRange.getToDate());\n              finalReportData.addAll(reportData);\n          }\n          //logic to generate excel (Apache POI) using data available in finalReportData list\n          ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n          workbook.write(outputStream);\n          return new ByteArrayInputStream(outputStream.toByteArray());\n }`\n  private List &lt;ExcelData&gt; getData(String from, String to)\n      throws HttpStatusCodeException, UnsupportedEncodingException, JsonProcessingException, JSONException {\n          List &lt;Excel&gt; excelDataList = new ArrayList &lt; &gt; ();\n          List &lt;ResponseData&gt; dataDetails = new ArrayList &lt; &gt; ();\n          ResponseData list = firstThirdpartyCall(from, to, null);\n\n          for (ResponseData data: list.getData()) {\n              dataDetails.add(data);\n          }\n\n          dataDetails = dataDetails.stream()\n              .filter(s - &gt; s.getName().indexOf(&quot;EA&quot;) == 0 || s.getName().indexOf(&quot;EE&quot;) == 0)\n              .collect(Collectors.toList());\n\n          List &lt; String &gt; matchingRecords = getMatchingRecordFromDB(\n              dataDetails.stream().map(s - &gt; s.getName()).collect(Collectors.toList()));\n\n          dataDetails = dataDetails.stream().filter(s - &gt; matchingRecords.contains(s.getName()))\n              .collect(Collectors.toList());\n\n          for (int i = 0; i &lt; dataDetails.size(); i++) {\n              Info usersObj = secondThirdpartyCall(dataDetails.get(i).getId());\n              //further process like database calls business logic on usersObj\n          }\n          //After process, populating List&lt;ExcelData&gt; and returning\n          return excelDataList;\n      }\n</code></pre>\n<p>I also tried completable future, but other threads like restcall is working in background and main thread give response as empty excel file because data is still been process in other threads So I am not getting the output . I need to bring the response time of my api to few sec.</p>\n<p>Any help will be  appreciated\nThanks</p>\n"},{"tags":["java","weblogic12c"],"owner":{"account_id":11525252,"reputation":120,"user_id":8445924,"display_name":"Martin M&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986103,"creation_date":1681986103,"question_id":76063016,"body_markdown":"I get following exception when initialization class XMLUtils\r\n\r\n    java.lang.NullPointerException\r\n            at de.martinm.tools.Utils.XMLUtils.&lt;init&gt;(XMLUtils.java:53)\r\n            at de.martinm.tools.Utils.FSUtils.&lt;clinit&gt;(FSUtils.java:52)\r\n            at de.martinm.tools.Utils.CommonUtils.&lt;clinit&gt;(CommonUtils.java:63)\r\n            at de.martinm.tools.Utils.XMLUtils.&lt;clinit&gt;(XMLUtils.java:36)\r\n            at de.MartinM.MVIBS.plugins.Backend.CreateTransactions.processFile(CreateTransactions.java:404)\r\n            Truncated. see log file for complete stacktrace\r\n\r\nThe exception does not appear, when using the class in an env without ApplicationServer\r\n\r\nI already saw, that there is some kind of round robin in the classloading. I &quot;solved&quot; it, by defining the matching variables as static\r\n\r\nhere is the code\r\n\r\n\tprivate XLogger logger = XLoggerFactory.getXLogger(MethodHandles.lookup().lookupClass());\r\n\tstatic Properties props = new Properties();;\r\n\tfinal static String propsName = &quot;/XMLUtils.properties&quot;;\r\n\tstatic CommonUtils myUtils = new CommonUtils();\r\n\tList&lt;String&gt; debitList = new ArrayList&lt;String&gt;();\r\n\tList&lt;String&gt; creditList = new ArrayList&lt;String&gt;();\r\n\tList&lt;String&gt; containerList = new ArrayList&lt;String&gt;();\r\n\r\n\tpublic XMLUtils() {\r\n\t\ttry {\r\n\t\t\tprops.load(XMLUtils.class.getResourceAsStream(propsName));\r\n\t\t\tdebitList=myUtils.prop_to_list(props, &quot;Debit&quot;);\r\n\t\t\tcreditList=myUtils.prop_to_list(props, &quot;Credit&quot;);\r\n\t\t\tcontainerList=myUtils.prop_to_list(props, &quot;Container&quot;);\r\n\t\t\tlogger.error(propsName+&quot; loaded!!!&quot;);\r\n\t\t} catch (NullPointerException e) {\r\n\t\t\tlogger.error(propsName+&quot; could not be loaded!&quot;, e);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(propsName, e);\r\n\t\t}\t \r\n\t}\r\n\t\r\n","title":"java.lang.NullPointerException during class initialization with WLS ApplicationServer","body":"<p>I get following exception when initialization class XMLUtils</p>\n<pre><code>java.lang.NullPointerException\n        at de.martinm.tools.Utils.XMLUtils.&lt;init&gt;(XMLUtils.java:53)\n        at de.martinm.tools.Utils.FSUtils.&lt;clinit&gt;(FSUtils.java:52)\n        at de.martinm.tools.Utils.CommonUtils.&lt;clinit&gt;(CommonUtils.java:63)\n        at de.martinm.tools.Utils.XMLUtils.&lt;clinit&gt;(XMLUtils.java:36)\n        at de.MartinM.MVIBS.plugins.Backend.CreateTransactions.processFile(CreateTransactions.java:404)\n        Truncated. see log file for complete stacktrace\n</code></pre>\n<p>The exception does not appear, when using the class in an env without ApplicationServer</p>\n<p>I already saw, that there is some kind of round robin in the classloading. I &quot;solved&quot; it, by defining the matching variables as static</p>\n<p>here is the code</p>\n<pre><code>private XLogger logger = XLoggerFactory.getXLogger(MethodHandles.lookup().lookupClass());\nstatic Properties props = new Properties();;\nfinal static String propsName = &quot;/XMLUtils.properties&quot;;\nstatic CommonUtils myUtils = new CommonUtils();\nList&lt;String&gt; debitList = new ArrayList&lt;String&gt;();\nList&lt;String&gt; creditList = new ArrayList&lt;String&gt;();\nList&lt;String&gt; containerList = new ArrayList&lt;String&gt;();\n\npublic XMLUtils() {\n    try {\n        props.load(XMLUtils.class.getResourceAsStream(propsName));\n        debitList=myUtils.prop_to_list(props, &quot;Debit&quot;);\n        creditList=myUtils.prop_to_list(props, &quot;Credit&quot;);\n        containerList=myUtils.prop_to_list(props, &quot;Container&quot;);\n        logger.error(propsName+&quot; loaded!!!&quot;);\n    } catch (NullPointerException e) {\n        logger.error(propsName+&quot; could not be loaded!&quot;, e);\n    } catch (IOException e) {\n        logger.error(propsName, e);\n    }    \n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":0,"creation_date":1355898538,"post_id":13946082,"comment_id":19232732,"body_markdown":"Hmm maybe the additional PHP plugin is causing WebProjectWizard to load the wrong class. If all else fails what you can do is have separate installation of eclipse, one for java and the other for php","body":"Hmm maybe the additional PHP plugin is causing WebProjectWizard to load the wrong class. If all else fails what you can do is have separate installation of eclipse, one for java and the other for php"},{"owner":{"display_name":"user1871586"},"score":0,"creation_date":1355902085,"post_id":13946082,"comment_id":19233892,"body_markdown":"First thought the same thing when searched for this error in stackoverflow. But thought if it is possible to have them both, then why can&#39;t So asked this question.","body":"First thought the same thing when searched for this error in stackoverflow. But thought if it is possible to have them both, then why can&#39;t So asked this question."},{"owner":{"account_id":308576,"reputation":5250,"user_id":620537,"accept_rate":60,"display_name":"gamerson"},"score":0,"creation_date":1355906684,"post_id":13946082,"comment_id":19235646,"body_markdown":"What version of WTP do you have installed?  Can you post the full error log/ stacktrace?","body":"What version of WTP do you have installed?  Can you post the full error log/ stacktrace?"},{"owner":{"display_name":"user1871586"},"score":0,"creation_date":1355908865,"post_id":13946082,"comment_id":19236664,"body_markdown":"@gamerson: I have installed Version: 3.2.0.v201004210642-377A78s73533B7L3935. Log has so much data.","body":"@gamerson: I have installed Version: 3.2.0.v201004210642-377A78s73533B7L3935. Log has so much data."},{"owner":{"account_id":308576,"reputation":5250,"user_id":620537,"accept_rate":60,"display_name":"gamerson"},"score":0,"creation_date":1356082000,"post_id":13946082,"comment_id":19303479,"body_markdown":"Can you delete the contents of your log and then replicate the error again and then the log should only contain a single stack trace.","body":"Can you delete the contents of your log and then replicate the error again and then the log should only contain a single stack trace."},{"owner":{"account_id":8381673,"reputation":451,"user_id":6293374,"accept_rate":76,"display_name":"Omar B."},"score":0,"creation_date":1542634771,"post_id":13946082,"comment_id":93627300,"body_markdown":"any solution for this problem , I got the same error with Eclipse . I m using Spring and Web logic","body":"any solution for this problem , I got the same error with Eclipse . I m using Spring and Web logic"}],"answers":[{"tags":[],"owner":{"account_id":14704551,"reputation":1,"user_id":10619680,"display_name":"William Gonzalez Diaz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541610779,"creation_date":1541610779,"answer_id":53194474,"question_id":13946082,"body_markdown":"it happened to me the same ... solution: create another workspace and go!","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>it happened to me the same ... solution: create another workspace and go!</p>\n"},{"tags":[],"owner":{"account_id":22579697,"reputation":1,"user_id":16764533,"display_name":"Vedant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681985835,"creation_date":1681985835,"answer_id":76062988,"question_id":13946082,"body_markdown":"I had same problem so I did this :\r\n\r\n 1. Go to window\r\n 2. Perspective -&gt; open perspective\r\n 3. click on other\r\n 4. Then Java EE\r\n\r\nNow open Dynamic Web Page it will open\r\nIf this doesn&#39;t work you make reinstall new software here&#39;s how :\r\n\r\n 1. Click on Help and then click on ‚ÄúInstall New Software‚Äù.\r\n 2. Paste this link: Mars- http://download.eclipse.org/releases/mars in work with field\r\n 3. Find Web, XML, Java EE and OSGI Enterprise Development and expand it.\r\n 4. Select these options :  \r\n\r\n Eclipse Java EE Developer Tools ,\r\n Eclipse Java Web Developer Tools ,\r\n Eclipse Web Developer Tools,\r\n\r\n 5. Click next until software is installed then restart eclipse.","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>I had same problem so I did this :</p>\n<ol>\n<li>Go to window</li>\n<li>Perspective -&gt; open perspective</li>\n<li>click on other</li>\n<li>Then Java EE</li>\n</ol>\n<p>Now open Dynamic Web Page it will open\nIf this doesn't work you make reinstall new software here's how :</p>\n<ol>\n<li>Click on Help and then click on ‚ÄúInstall New Software‚Äù.</li>\n<li>Paste this link: Mars- <a href=\"http://download.eclipse.org/releases/mars\" rel=\"nofollow noreferrer\">http://download.eclipse.org/releases/mars</a> in work with field</li>\n<li>Find Web, XML, Java EE and OSGI Enterprise Development and expand it.</li>\n<li>Select these options :</li>\n</ol>\n<p>Eclipse Java EE Developer Tools ,\nEclipse Java Web Developer Tools ,\nEclipse Web Developer Tools,</p>\n<ol start=\"5\">\n<li>Click next until software is installed then restart eclipse.</li>\n</ol>\n"}],"owner":{"display_name":"user1871586"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681985835,"creation_date":1355895086,"question_id":13946082,"body_markdown":"I have created some dynamic web projects and they are working fine.\r\nAfter that I have installed PHP development plugins in eclipse. \r\nAlso installed xdebug plugin for PHP debugging.\r\n\r\nNow When I create Java Dynamic Web Project I get this error:\r\n\r\n    The selected wizard could not be started.\r\n    Plug-in &quot;org.eclipse.jst.servlet.ui&quot; was unable to instantiate class \r\n    &quot;org.eclipse.jst.servlet.ui.project.facet.WebProjectWizard&quot;.\r\n    java.lang.NullPointerException\r\n\r\n**EDIT**: I have WTP installed.\r\n\r\nI am able to create java static web project and PHP projects. But not able to create Java Dynamic web project.\r\n\r\n\r\n\r\nAny help is appreciated.","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>I have created some dynamic web projects and they are working fine.\nAfter that I have installed PHP development plugins in eclipse. \nAlso installed xdebug plugin for PHP debugging.</p>\n\n<p>Now When I create Java Dynamic Web Project I get this error:</p>\n\n<pre><code>The selected wizard could not be started.\nPlug-in \"org.eclipse.jst.servlet.ui\" was unable to instantiate class \n\"org.eclipse.jst.servlet.ui.project.facet.WebProjectWizard\".\njava.lang.NullPointerException\n</code></pre>\n\n<p><strong>EDIT</strong>: I have WTP installed.</p>\n\n<p>I am able to create java static web project and PHP projects. But not able to create Java Dynamic web project.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","datetime","datetime-format","java-time","date-parsing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":7,"creation_date":1681980872,"post_id":76062186,"comment_id":134144924,"body_markdown":"How would you determine there&#39;s less than 24 hours between those &quot;dates&quot;? For all we know this could be April 20 2024 and April 21 1999 or any other year. You might have a look at this instead: https://stackoverflow.com/questions/8523886/how-do-i-simply-parse-a-date-without-a-year-specified - but when setting the default year think about whether you&#39;d want to be able to do the calculation across years, e.g. from Dec 31st to Jan 1st.","body":"How would you determine there&#39;s less than 24 hours between those &quot;dates&quot;? For all we know this could be April 20 2024 and April 21 1999 or any other year. You might have a look at this instead: <a href=\"https://stackoverflow.com/questions/8523886/how-do-i-simply-parse-a-date-without-a-year-specified\" title=\"how do i simply parse a date without a year specified\">stackoverflow.com/questions/8523886/&hellip;</a> - but when setting the default year think about whether you&#39;d want to be able to do the calculation across years, e.g. from Dec 31st to Jan 1st."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681985236,"post_id":76062186,"comment_id":134145905,"body_markdown":"Two special cases: (1) One is on 31 December, the other on January 1. Or the other way around. (2) There is a summer time transition or other time anomaly between the two so that using the duration between the instances of `LocalDateTime` will not correctly determine the difference in your time zone. (3) There are more. Time is complicated.","body":"Two special cases: (1) One is on 31 December, the other on January 1. Or the other way around. (2) There is a summer time transition or other time anomaly between the two so that using the duration between the instances of <code>LocalDateTime</code> will not correctly determine the difference in your time zone. (3) There are more. Time is complicated."}],"owner":{"account_id":6700413,"reputation":47,"user_id":5167097,"accept_rate":0,"display_name":"Tamara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681984942,"answer_count":0,"score":1,"last_activity_date":1681985288,"creation_date":1681980481,"question_id":76062186,"body_markdown":"Im trying to calculate two dates in a string if its less than 24 hours but I get an error: \r\n\r\n    java.time.format.DateTimeParseException: Text &#39;20 4 01:40 AM&#39; could not be parsed: \r\n    Unable to obtain LocalDateTime from TemporalAccessor: {DayOfMonth=20, \r\n    MonthOfYear=4},ISO resolved to 01:40 of type java.time.format.Parsed\r\n\r\ncode:\r\n\r\n        String today = &quot;20 4 7:00 AM&quot;;\r\n        String tomorrow = &quot;21 4 8:00 AM&quot;;\r\n\r\n       \r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd M h:mm a&quot;);\r\n\r\n        \r\n        LocalDateTime date1 = LocalDateTime.parse(today, formatter);\r\n        LocalDateTime date2 = LocalDateTime.parse(tomorrow, formatter);\r\n\r\n        \r\n        long diffHours = Math.abs(Duration.between(date1, date2).toHours());\r\n\r\n        if (diffHours &lt; 24) {\r\n            System.out.println(&quot;The difference is less than 24 hours.&quot;);\r\n        } else {\r\n            System.out.println(&quot;The difference is greater than or equal to 24 hours.&quot;);\r\n        }\r\n\r\n","title":"Calculating if it&#39;s less than 24 hours between two dates and times in a string but I get an error java.time.format.DateTimeParseException:","body":"<p>Im trying to calculate two dates in a string if its less than 24 hours but I get an error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '20 4 01:40 AM' could not be parsed: \nUnable to obtain LocalDateTime from TemporalAccessor: {DayOfMonth=20, \nMonthOfYear=4},ISO resolved to 01:40 of type java.time.format.Parsed\n</code></pre>\n<p>code:</p>\n<pre><code>    String today = &quot;20 4 7:00 AM&quot;;\n    String tomorrow = &quot;21 4 8:00 AM&quot;;\n\n   \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd M h:mm a&quot;);\n\n    \n    LocalDateTime date1 = LocalDateTime.parse(today, formatter);\n    LocalDateTime date2 = LocalDateTime.parse(tomorrow, formatter);\n\n    \n    long diffHours = Math.abs(Duration.between(date1, date2).toHours());\n\n    if (diffHours &lt; 24) {\n        System.out.println(&quot;The difference is less than 24 hours.&quot;);\n    } else {\n        System.out.println(&quot;The difference is greater than or equal to 24 hours.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":102772,"reputation":5654,"user_id":2032500,"display_name":"Nat Ritmeyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681984246,"creation_date":1681983452,"answer_id":76062644,"question_id":75150081,"body_markdown":"The explanation for the retry behaviour is given in the `AuthInfo#retryWithCredentials()` method in the same file you link to (https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231) - it&#39;s to do with the way the creds are cached.\r\n\r\nThankfully, the default limit of 3 retries can be overridden by setting the `jdk.httpclient.auth.retrylimit` system property to the number of retries you&#39;d like, e.g.:\r\n\r\n```java\r\nSystem.setProperty(&quot;jdk.httpclient.auth.retrylimit&quot;, &quot;0&quot;);\r\n```\r\n\r\nWhen that&#39;s set I now get the following:\r\n\r\n```console\r\nException in thread &quot;main&quot; java.io.IOException: too many authentication attempts. Limit: 0\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:565)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n\tat com.hsbc.digital.testautomation.teepeereplacement.NewClient.main(NewClient.java:68)\r\nCaused by: java.io.IOException: too many authentication attempts. Limit: 0\r\n\tat java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:317)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:186)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:309)\r\n...\r\n```\r\n\r\nNot much of an improvement, but at least it&#39;s not retrying any more.","title":"&quot;IOException: too many authentication attempts. Limit: 3&quot; when using JDK HttpClient with wrong credentials","body":"<p>The explanation for the retry behaviour is given in the <code>AuthInfo#retryWithCredentials()</code> method in the same file you link to (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231</a>) - it's to do with the way the creds are cached.</p>\n<p>Thankfully, the default limit of 3 retries can be overridden by setting the <code>jdk.httpclient.auth.retrylimit</code> system property to the number of retries you'd like, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;jdk.httpclient.auth.retrylimit&quot;, &quot;0&quot;);\n</code></pre>\n<p>When that's set I now get the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: too many authentication attempts. Limit: 0\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:565)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n    at com.hsbc.digital.testautomation.teepeereplacement.NewClient.main(NewClient.java:68)\nCaused by: java.io.IOException: too many authentication attempts. Limit: 0\n    at java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:317)\n    at java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:186)\n    at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:309)\n...\n</code></pre>\n<p>Not much of an improvement, but at least it's not retrying any more.</p>\n"}],"owner":{"account_id":73432,"reputation":1895,"user_id":211453,"accept_rate":36,"display_name":"Wojtek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681984246,"creation_date":1673976372,"question_id":75150081,"body_markdown":"I have simple code basically copy-paste from javadoc. It works well in general but in case of incorrect credentials, instead of getting proper error code I get exception:\r\n\r\n```\r\nCaused by: java.io.IOException: too many authentication attempts. Limit: 3\r\n\tat java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:326)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:248)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:413)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\r\n\tat java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAs I said, the code is fairly mundane:\r\n\r\n```java\r\nHttpClient client = HttpClient.newBuilder()\r\n\t\t.version(HttpClient.Version.HTTP_1_1)\r\n\t\t.followRedirects(HttpClient.Redirect.NORMAL)\r\n\t\t.connectTimeout(Duration.ofSeconds(10))\r\n\t\t.authenticator(new Authenticator() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\treturn new PasswordAuthentication(name.asString(), password.toCharArray());\r\n\t\t\t}\r\n\t\t})\r\n\t\t.build();\r\n\r\nHttpRequest request = HttpRequest.newBuilder()\r\n\t\t.uri(URI.create(HttpApiUrl))\r\n\t\t.timeout(Duration.ofSeconds(10))\r\n\t\t.GET()\r\n\t\t.build();\r\n\r\ntry {\r\n\tHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tif (response.statusCode() / 100 != 2) {\r\n\t\tlogger.info(&quot;Authenticated&quot;);\r\n\t\treturn true;\r\n\t} else {\r\n\t\tlogger.error(&quot;Authentication failed&quot;);\r\n\t}\r\n} catch (IOException | InterruptedException ex) {\r\n\tlogger.error(&quot;&quot;Authentication failed&quot;, ex);\r\n\treturn false;\r\n}\r\n```\r\n\r\n\r\nI don&#39;t get why `HttpClient` uses retry logic if there is `authenticator` set (https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324)... Without `.authenticator(new Authenticator() {}` I get nice &quot;Not authorized&quot; / 401. How can I disable this retry &quot;feature&quot;? IMHO it doesn&#39;t make much sense - if the credentials are invalid, retrying couple of times won&#39;t change it... Or at least make it return correct error code when retires fails instead of throwing an exception?","title":"&quot;IOException: too many authentication attempts. Limit: 3&quot; when using JDK HttpClient with wrong credentials","body":"<p>I have simple code basically copy-paste from javadoc. It works well in general but in case of incorrect credentials, instead of getting proper error code I get exception:</p>\n<pre><code>Caused by: java.io.IOException: too many authentication attempts. Limit: 3\n    at java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:326)\n    at java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:248)\n    at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:413)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\n    at java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\n    at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>As I said, the code is fairly mundane:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newBuilder()\n        .version(HttpClient.Version.HTTP_1_1)\n        .followRedirects(HttpClient.Redirect.NORMAL)\n        .connectTimeout(Duration.ofSeconds(10))\n        .authenticator(new Authenticator() {\n\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(name.asString(), password.toCharArray());\n            }\n        })\n        .build();\n\nHttpRequest request = HttpRequest.newBuilder()\n        .uri(URI.create(HttpApiUrl))\n        .timeout(Duration.ofSeconds(10))\n        .GET()\n        .build();\n\ntry {\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    if (response.statusCode() / 100 != 2) {\n        logger.info(&quot;Authenticated&quot;);\n        return true;\n    } else {\n        logger.error(&quot;Authentication failed&quot;);\n    }\n} catch (IOException | InterruptedException ex) {\n    logger.error(&quot;&quot;Authentication failed&quot;, ex);\n    return false;\n}\n</code></pre>\n<p>I don't get why <code>HttpClient</code> uses retry logic if there is <code>authenticator</code> set (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324</a>)... Without <code>.authenticator(new Authenticator() {}</code> I get nice &quot;Not authorized&quot; / 401. How can I disable this retry &quot;feature&quot;? IMHO it doesn't make much sense - if the credentials are invalid, retrying couple of times won't change it... Or at least make it return correct error code when retires fails instead of throwing an exception?</p>\n"},{"tags":["java","generics","casting","wildcard","instanceof"],"answers":[{"tags":[],"owner":{"account_id":10695686,"reputation":21,"user_id":7872924,"display_name":"tykey100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681922534,"creation_date":1681922534,"answer_id":76056960,"question_id":76056551,"body_markdown":"I did a couple of minor changes to your code and I believe I got the function working as you wanted.\r\n\r\nFirst I defined the function as generic:\r\n```\r\n&lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt;)\r\n```\r\n\r\nAnd I simplified a little bit your filter and added a cast to T on item:\r\n```\r\ncoll.stream().allMatch(item -&gt; comparableMin.compareTo( (T) item) &lt;= 0);\r\n```\r\n\r\nThis is using standard Comparable. Your main problem I think was missing the cast on &quot;item&quot;. \r\n\r\nA full working example with integers:\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.lang.Comparable;\r\npublic class Program\r\n{\r\n    static &lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt; coll) {\r\n        if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\r\n            throw new RuntimeException();\r\n        }\r\n        Comparable&lt;T&gt; comparableMin = (Comparable&lt;T&gt;) minToCheck;\r\n        return coll.stream().allMatch(\r\n                item -&gt; comparableMin.compareTo( (T) item) &lt;= 0\r\n            );\r\n    }\r\n    public static void main(String[] args) {\r\n        boolean isMinimum = false;\r\n\r\n        Collection&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\r\n        \r\n        isMinimum = isMinimumOrThrow(0, list);\r\n        System.out.println(&quot;Is minimum: &quot; + isMinimum);\r\n\t\t\r\n\t}\r\n}\r\n```","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>I did a couple of minor changes to your code and I believe I got the function working as you wanted.</p>\n<p>First I defined the function as generic:</p>\n<pre><code>&lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt;)\n</code></pre>\n<p>And I simplified a little bit your filter and added a cast to T on item:</p>\n<pre><code>coll.stream().allMatch(item -&gt; comparableMin.compareTo( (T) item) &lt;= 0);\n</code></pre>\n<p>This is using standard Comparable. Your main problem I think was missing the cast on &quot;item&quot;.</p>\n<p>A full working example with integers:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Arrays;\nimport java.lang.Comparable;\npublic class Program\n{\n    static &lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt; coll) {\n        if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\n            throw new RuntimeException();\n        }\n        Comparable&lt;T&gt; comparableMin = (Comparable&lt;T&gt;) minToCheck;\n        return coll.stream().allMatch(\n                item -&gt; comparableMin.compareTo( (T) item) &lt;= 0\n            );\n    }\n    public static void main(String[] args) {\n        boolean isMinimum = false;\n\n        Collection&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\n        \n        isMinimum = isMinimumOrThrow(0, list);\n        System.out.println(&quot;Is minimum: &quot; + isMinimum);\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681984238,"creation_date":1681984238,"answer_id":76062766,"question_id":76056551,"body_markdown":"Maybe there is a cleaner solution, but you could stick to your first attempt. The filter can be implemented by simply trying a `compareTo` in a try-catch. This in turn only compiles if you use raw `Comparable` in intermediate steps. The result will be typesafe again (I hope), but needs to suppress some warnings for the intermediate steps. So my suggestion is the following:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\t\tif (!(minToCheck instanceof Comparable)) {\r\n\t\t\tthrow new RuntimeException();\r\n\t\t}\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tComparable comparableMin = (Comparable)minToCheck;\r\n\t\treturn coll.stream().filter(item -&gt; {\r\n\t\t\tboolean isComparable = true;\r\n\t\t\ttry {\r\n\t\t\t\tcomparableMin.compareTo(item);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tisComparable = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn isComparable;\r\n\t\t}).allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n        Collection&lt;Object&gt; list = Arrays.asList(&quot;bla&quot;,5,&quot;blub&quot;,2,7);\r\n\r\n        System.out.println(&quot;Is 0 minimum: &quot; + isMinimumOrThrow(0, list)); // true\r\n        System.out.println(&quot;Is 2 minimum: &quot; + isMinimumOrThrow(2, list)); // true\r\n        System.out.println(&quot;Is 3 minimum: &quot; + isMinimumOrThrow(3, list)); // false\r\n        System.out.println(&quot;Is &#39;bla&#39; minimum: &quot; + isMinimumOrThrow(&quot;bla&quot;, list)); // true\r\n        System.out.println(&quot;Is &#39;blub&#39; minimum: &quot; + isMinimumOrThrow(&quot;blub&quot;, list)); // false\r\n        System.out.println(&quot;Is &#39;some object&#39; minimum: &quot; + isMinimumOrThrow(new Object(), list)); // throws RuntimeException\r\n\r\n    }\r\n","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>Maybe there is a cleaner solution, but you could stick to your first attempt. The filter can be implemented by simply trying a <code>compareTo</code> in a try-catch. This in turn only compiles if you use raw <code>Comparable</code> in intermediate steps. The result will be typesafe again (I hope), but needs to suppress some warnings for the intermediate steps. So my suggestion is the following:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof Comparable)) {\n        throw new RuntimeException();\n    }\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    Comparable comparableMin = (Comparable)minToCheck;\n    return coll.stream().filter(item -&gt; {\n        boolean isComparable = true;\n        try {\n            comparableMin.compareTo(item);\n        } catch (Exception e) {\n            isComparable = false;\n        }\n\n        return isComparable;\n    }).allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\n}\n\npublic static void main(String[] args) {\n    Collection&lt;Object&gt; list = Arrays.asList(&quot;bla&quot;,5,&quot;blub&quot;,2,7);\n\n    System.out.println(&quot;Is 0 minimum: &quot; + isMinimumOrThrow(0, list)); // true\n    System.out.println(&quot;Is 2 minimum: &quot; + isMinimumOrThrow(2, list)); // true\n    System.out.println(&quot;Is 3 minimum: &quot; + isMinimumOrThrow(3, list)); // false\n    System.out.println(&quot;Is 'bla' minimum: &quot; + isMinimumOrThrow(&quot;bla&quot;, list)); // true\n    System.out.println(&quot;Is 'blub' minimum: &quot; + isMinimumOrThrow(&quot;blub&quot;, list)); // false\n    System.out.println(&quot;Is 'some object' minimum: &quot; + isMinimumOrThrow(new Object(), list)); // throws RuntimeException\n\n}\n</code></pre>\n"}],"owner":{"account_id":3705266,"reputation":802,"user_id":3083982,"accept_rate":86,"display_name":"Safron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062766,"answer_count":2,"score":0,"last_activity_date":1681984238,"creation_date":1681919621,"question_id":76056551,"body_markdown":"I&#39;m writing an interpreter for a DSL and I ran into a problem where I want to compare two values of unknown type. I have tried to reduce the problem to the following.\r\n\r\nI want to define a function with two parameters with the following specification.\r\n\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll);\r\n```\r\n1. If `minToCheck` is not of type `Comparable&lt;?&gt;`, then I want to throw a runtime exception.\r\n2. Otherwise, I want to filter out all objects in `coll` that I can compare with `minToCheck`, and then return whether `minToCheck` is less than or equal to every comparable object in `coll`.\r\n\r\n## First attempt\r\n\r\nI get in trouble when defining the filter, i.e.,\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\tif (!(minToCheck instanceof Comparable&lt;?&gt;)) {\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n\tComparable&lt;?&gt; comparableMin = (Comparable&lt;?&gt;)minToCheck;\r\n\treturn coll.stream().filter(...).allMatch(item -&gt; comparableMin.compareTo((...)item) &lt;= 0);\r\n}\r\n```\r\nI&#39;m not sure whether it&#39;s possible to implement the `...`.\r\n\r\n## Second attempt\r\n\r\nTo work around the problem, I&#39;ve tried to loosen the restriction of `Comparable` a bit, and defined my own interface `MyComparable&lt;T&gt;`\r\n```java\r\npublic interface MyComparable&lt;T&gt; extends Comparable&lt;T&gt; {\r\n\tpublic Collection&lt;T&gt; filterComparable(Collection&lt;?&gt; values);\r\n}\r\n```\r\nbut even then, I still get a type error\r\n```\r\nThe method compareTo(capture#13-of ?) in the type Comparable&lt;capture#13-of ?&gt; is not applicable for the arguments (capture#12-of ?)\r\n```\r\nwith the following code\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\tif (!(minToCheck instanceof MyComparable&lt;?&gt;)) {\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n\tMyComparable&lt;?&gt; comparableMin = (MyComparable&lt;?&gt;)minToCheck;\r\n\treturn comparableMin.filterComparable(coll).stream().allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\r\n}\r\n```\r\n\r\nAny ideas?","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>I'm writing an interpreter for a DSL and I ran into a problem where I want to compare two values of unknown type. I have tried to reduce the problem to the following.</p>\n<p>I want to define a function with two parameters with the following specification.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll);\n</code></pre>\n<ol>\n<li>If <code>minToCheck</code> is not of type <code>Comparable&lt;?&gt;</code>, then I want to throw a runtime exception.</li>\n<li>Otherwise, I want to filter out all objects in <code>coll</code> that I can compare with <code>minToCheck</code>, and then return whether <code>minToCheck</code> is less than or equal to every comparable object in <code>coll</code>.</li>\n</ol>\n<h2>First attempt</h2>\n<p>I get in trouble when defining the filter, i.e.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\n        throw new RuntimeException();\n    }\n    Comparable&lt;?&gt; comparableMin = (Comparable&lt;?&gt;)minToCheck;\n    return coll.stream().filter(...).allMatch(item -&gt; comparableMin.compareTo((...)item) &lt;= 0);\n}\n</code></pre>\n<p>I'm not sure whether it's possible to implement the <code>...</code>.</p>\n<h2>Second attempt</h2>\n<p>To work around the problem, I've tried to loosen the restriction of <code>Comparable</code> a bit, and defined my own interface <code>MyComparable&lt;T&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyComparable&lt;T&gt; extends Comparable&lt;T&gt; {\n    public Collection&lt;T&gt; filterComparable(Collection&lt;?&gt; values);\n}\n</code></pre>\n<p>but even then, I still get a type error</p>\n<pre><code>The method compareTo(capture#13-of ?) in the type Comparable&lt;capture#13-of ?&gt; is not applicable for the arguments (capture#12-of ?)\n</code></pre>\n<p>with the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof MyComparable&lt;?&gt;)) {\n        throw new RuntimeException();\n    }\n    MyComparable&lt;?&gt; comparableMin = (MyComparable&lt;?&gt;)minToCheck;\n    return comparableMin.filterComparable(coll).stream().allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\n}\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","maven","intellij-idea","module","lombok"],"comments":[{"owner":{"account_id":10730932,"reputation":420,"user_id":10483328,"display_name":"Ayoub Rossi"},"score":0,"creation_date":1561985690,"post_id":56832063,"comment_id":100224468,"body_markdown":"Did you enable annotation processing?","body":"Did you enable annotation processing?"},{"owner":{"account_id":2067715,"reputation":2001,"user_id":1842905,"display_name":"Michael A. Schaffrath"},"score":0,"creation_date":1561987831,"post_id":56832063,"comment_id":100225596,"body_markdown":"Have you tried re-installing the latest version of the IDE plugin?","body":"Have you tried re-installing the latest version of the IDE plugin?"},{"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"score":0,"creation_date":1561994856,"post_id":56832063,"comment_id":100229180,"body_markdown":"Yes, the annotation processing was enabled and the plug-in didn&#39;t have an update for it in intelliJ?","body":"Yes, the annotation processing was enabled and the plug-in didn&#39;t have an update for it in intelliJ?"}],"answers":[{"tags":[],"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1562179279,"creation_date":1562179279,"answer_id":56876217,"question_id":56832063,"body_markdown":"I managed to solve this by adding the following my pom.xml file.\r\n```\r\n &lt;configuration&gt;\r\n            &lt;source&gt;9&lt;/source&gt;\r\n            &lt;target&gt;9&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n              &lt;annotationProcessorPath&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.8&lt;/version&gt;\r\n              &lt;/annotationProcessorPath&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n          &lt;/configuration&gt;\r\n\r\n```","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>I managed to solve this by adding the following my pom.xml file.</p>\n\n<pre><code> &lt;configuration&gt;\n            &lt;source&gt;9&lt;/source&gt;\n            &lt;target&gt;9&lt;/target&gt;\n            &lt;annotationProcessorPaths&gt;\n              &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.8&lt;/version&gt;\n              &lt;/annotationProcessorPath&gt;\n            &lt;/annotationProcessorPaths&gt;\n          &lt;/configuration&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681984033,"creation_date":1681983579,"answer_id":76062667,"question_id":56832063,"body_markdown":"This was one the closest issues I have been having in IntelliJ - my error is: \r\n\r\n&gt;     Error occurred during initialization of boot layer\r\n&gt;     java.lang.module.FindException: Module lombok not found, required by com.example.demo\r\n&gt;     \r\n&gt;     Process finished with exit code 1\r\n\r\nBut the solution that was posted here did not help. I will probably create a new question with all the steps from scratch. But if by that point someone can give an extra idea here I would be quite happy.\r\n\r\n\r\nEDIT: \r\n\r\nI was able to solve in on my end with using the keyword `static`\r\n\r\n    \r\n\r\n&gt; requires static lombok;","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>This was one the closest issues I have been having in IntelliJ - my error is:</p>\n<blockquote>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module lombok not found, required by com.example.demo\n\nProcess finished with exit code 1\n</code></pre>\n</blockquote>\n<p>But the solution that was posted here did not help. I will probably create a new question with all the steps from scratch. But if by that point someone can give an extra idea here I would be quite happy.</p>\n<p>EDIT:</p>\n<p>I was able to solve in on my end with using the keyword <code>static</code></p>\n<blockquote>\n<p>requires static lombok;</p>\n</blockquote>\n"}],"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56876217,"answer_count":2,"score":1,"last_activity_date":1681984033,"creation_date":1561968430,"question_id":56832063,"body_markdown":"I&#39;m trying to create a modular javafx application using maven and hibernate. Yesterday, I was getting a lot of errors in my module-info.java file and so I decided to re-create the project from scratch to isolate the problem. \r\n\r\nThe project won&#39;t compile as the IDE can&#39;t find the lombok-generated methods. When I checked the .class file, it didn&#39;t have any the of auto-generated boilerplate. I don&#39;t get this problem when I don&#39;t have a module-info.java file. \r\n\r\nFollowing some suggestions I saw in other posts regarding lombok, I&#39;ve made sure that the annotation processing is enabled and a lombok plug-in is enabled in IntelliJ. \r\nWhen I add the lombok.jar to my dependencies in project structure, the module-info.jar doesn&#39;t compile, and intelliJ displays &quot;Ambiguous module reference: lombok&quot; when I place cursor over &#39;requires lombok&#39;. \r\nThe module declaration is also underlined in red, displaying the following message: &quot;Module &#39;AlienDB&#39; reads package &#39;lombok&#39; from both &#39;lombok&#39; and &#39;lombok&#39;. \r\n\r\nThis is my pom.xml file: \r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;Aliens&lt;/groupId&gt;\r\n  &lt;artifactId&gt;AlienDB&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;AlienDB&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.8&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n````\r\n\r\nmodule-info.java file: \r\n\r\n````\r\n\r\nmodule AlienDB {\r\n\r\n    requires lombok;\r\n    requires java.persistence;\r\n    requires org.hibernate.orm.core;\r\n    requires java.naming;\r\n\r\n    exports Aliens;\r\n}\r\n\r\n````\r\n\r\nAlien1.java \r\n\r\n````\r\npackage Aliens;\r\n\r\nimport lombok.Data;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Data\r\n@Entity (name = &quot;alien2&quot;)\r\npublic class Alien1 {\r\n\r\n    @Id\r\n    @Column(name = &quot;aID&quot;, nullable = false)\r\n    private int aID;\r\n\r\n    @Column(name = &quot;aName&quot;)\r\n    private String aName;\r\n\r\n\r\n}\r\n````\r\n\r\nmain app: \r\n\r\n```\r\npackage Aliens;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.service.ServiceRegistry;\r\n\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n\r\n    {\r\n        Configuration con = new Configuration().configure().addAnnotatedClass(Alien1.class);\r\n        ServiceRegistry reg = new StandardServiceRegistryBuilder().applySettings(con.getProperties()).build();\r\n        SessionFactory sf = con.buildSessionFactory(reg);\r\n\r\n        Session session = sf.openSession();\r\n        Transaction tx = session.beginTransaction();\r\n\r\n        Alien1 alienName = session.get(Alien1.class, 1);\r\n        //System.out.println(alienName.getAName());\r\n\r\n        tx.commit();\r\n\r\n        session.close();\r\n        sf.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run the app as it is shown above, with lombok jar added to the dependencies, I get the following error: \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.ResolutionException: Module lombok does not read a module that exports org.mapstruct.ap.spi\r\n\r\nWhen I remove lombok.jar from the dependencies in project structure, module-info.jar does not show any errors but I get the following error: \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module lombok not found, required by AlienDB\r\n\r\nIn either case, when I un-comment the print line statement, I get the following method, presumably because lombok hasn&#39;t been able to generate the boilerplate: \r\n\r\nError:(24, 37) java: cannot find symbol\r\n  symbol:   method getAName()\r\n  location: variable alienName of type Aliens.Alien1\r\n\r\nmodule structure: \r\n\r\n```\r\nC:.\r\n‚îú‚îÄ‚îÄ‚îÄ.idea\r\n‚îú‚îÄ‚îÄ‚îÄsrc\r\n‚îÇ   ‚îú‚îÄ‚îÄ‚îÄmain\r\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ‚îÄjava\r\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄAliens\r\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄresources\r\n‚îÇ   ‚îî‚îÄ‚îÄ‚îÄtest\r\n‚îÇ       ‚îî‚îÄ‚îÄ‚îÄjava\r\n‚îÇ           ‚îî‚îÄ‚îÄ‚îÄAliens\r\n‚îî‚îÄ‚îÄ‚îÄtarget\r\n    ‚îú‚îÄ‚îÄ‚îÄclasses\r\n    ‚îú‚îÄ‚îÄ‚îÄgenerated-sources\r\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄannotations\r\n    ‚îú‚îÄ‚îÄ‚îÄgenerated-test-sources\r\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄtest-annotations\r\n    ‚îú‚îÄ‚îÄ‚îÄmaven-archiver\r\n    ‚îú‚îÄ‚îÄ‚îÄmaven-status\r\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄmaven-compiler-plugin\r\n    ‚îÇ       ‚îú‚îÄ‚îÄ‚îÄcompile\r\n    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄdefault-compile\r\n    ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄtestCompile\r\n    ‚îÇ           ‚îî‚îÄ‚îÄ‚îÄdefault-testCompile\r\n    ‚îú‚îÄ‚îÄ‚îÄsurefire-reports\r\n    ‚îî‚îÄ‚îÄ‚îÄtest-classes\r\n        ‚îú‚îÄ‚îÄ‚îÄAliens\r\n        ‚îî‚îÄ‚îÄ‚îÄMETA-INF\r\n```\r\n\r\nI&#39;m using intelliJ ultimate 2019.1 \r\nSDK is java 11 \r\nLanguage level is set to 9. \r\n\r\nEDIT: I&#39;ve tried to run it on Eclipse as well and I get the same issue - Lombok methods aren&#39;t being generated, even though they appear as a valid suggestion in the suggestion box. \r\n\r\n","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>I'm trying to create a modular javafx application using maven and hibernate. Yesterday, I was getting a lot of errors in my module-info.java file and so I decided to re-create the project from scratch to isolate the problem. </p>\n\n<p>The project won't compile as the IDE can't find the lombok-generated methods. When I checked the .class file, it didn't have any the of auto-generated boilerplate. I don't get this problem when I don't have a module-info.java file. </p>\n\n<p>Following some suggestions I saw in other posts regarding lombok, I've made sure that the annotation processing is enabled and a lombok plug-in is enabled in IntelliJ. \nWhen I add the lombok.jar to my dependencies in project structure, the module-info.jar doesn't compile, and intelliJ displays \"Ambiguous module reference: lombok\" when I place cursor over 'requires lombok'. \nThe module declaration is also underlined in red, displaying the following message: \"Module 'AlienDB' reads package 'lombok' from both 'lombok' and 'lombok'. </p>\n\n<p>This is my pom.xml file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;Aliens&lt;/groupId&gt;\n  &lt;artifactId&gt;AlienDB&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;AlienDB&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.8&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;8.0.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>module-info.java file: </p>\n\n<pre><code>\nmodule AlienDB {\n\n    requires lombok;\n    requires java.persistence;\n    requires org.hibernate.orm.core;\n    requires java.naming;\n\n    exports Aliens;\n}\n\n</code></pre>\n\n<p>Alien1.java </p>\n\n<pre><code>package Aliens;\n\nimport lombok.Data;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Data\n@Entity (name = \"alien2\")\npublic class Alien1 {\n\n    @Id\n    @Column(name = \"aID\", nullable = false)\n    private int aID;\n\n    @Column(name = \"aName\")\n    private String aName;\n\n\n}\n</code></pre>\n\n<p>main app: </p>\n\n<pre><code>package Aliens;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\n\n\npublic class App \n{\n    public static void main( String[] args )\n\n    {\n        Configuration con = new Configuration().configure().addAnnotatedClass(Alien1.class);\n        ServiceRegistry reg = new StandardServiceRegistryBuilder().applySettings(con.getProperties()).build();\n        SessionFactory sf = con.buildSessionFactory(reg);\n\n        Session session = sf.openSession();\n        Transaction tx = session.beginTransaction();\n\n        Alien1 alienName = session.get(Alien1.class, 1);\n        //System.out.println(alienName.getAName());\n\n        tx.commit();\n\n        session.close();\n        sf.close();\n    }\n}\n\n</code></pre>\n\n<p>When I run the app as it is shown above, with lombok jar added to the dependencies, I get the following error: </p>\n\n<p>Error occurred during initialization of boot layer\njava.lang.module.ResolutionException: Module lombok does not read a module that exports org.mapstruct.ap.spi</p>\n\n<p>When I remove lombok.jar from the dependencies in project structure, module-info.jar does not show any errors but I get the following error: </p>\n\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module lombok not found, required by AlienDB</p>\n\n<p>In either case, when I un-comment the print line statement, I get the following method, presumably because lombok hasn't been able to generate the boilerplate: </p>\n\n<p>Error:(24, 37) java: cannot find symbol\n  symbol:   method getAName()\n  location: variable alienName of type Aliens.Alien1</p>\n\n<p>module structure: </p>\n\n<pre><code>C:.\n‚îú‚îÄ‚îÄ‚îÄ.idea\n‚îú‚îÄ‚îÄ‚îÄsrc\n‚îÇ   ‚îú‚îÄ‚îÄ‚îÄmain\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ‚îÄjava\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄAliens\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄresources\n‚îÇ   ‚îî‚îÄ‚îÄ‚îÄtest\n‚îÇ       ‚îî‚îÄ‚îÄ‚îÄjava\n‚îÇ           ‚îî‚îÄ‚îÄ‚îÄAliens\n‚îî‚îÄ‚îÄ‚îÄtarget\n    ‚îú‚îÄ‚îÄ‚îÄclasses\n    ‚îú‚îÄ‚îÄ‚îÄgenerated-sources\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄannotations\n    ‚îú‚îÄ‚îÄ‚îÄgenerated-test-sources\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄtest-annotations\n    ‚îú‚îÄ‚îÄ‚îÄmaven-archiver\n    ‚îú‚îÄ‚îÄ‚îÄmaven-status\n    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄmaven-compiler-plugin\n    ‚îÇ       ‚îú‚îÄ‚îÄ‚îÄcompile\n    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄdefault-compile\n    ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄtestCompile\n    ‚îÇ           ‚îî‚îÄ‚îÄ‚îÄdefault-testCompile\n    ‚îú‚îÄ‚îÄ‚îÄsurefire-reports\n    ‚îî‚îÄ‚îÄ‚îÄtest-classes\n        ‚îú‚îÄ‚îÄ‚îÄAliens\n        ‚îî‚îÄ‚îÄ‚îÄMETA-INF\n</code></pre>\n\n<p>I'm using intelliJ ultimate 2019.1 \nSDK is java 11 \nLanguage level is set to 9. </p>\n\n<p>EDIT: I've tried to run it on Eclipse as well and I get the same issue - Lombok methods aren't being generated, even though they appear as a valid suggestion in the suggestion box. </p>\n"},{"tags":["java","api","rest-assured","endpoint"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682001918,"post_id":76062715,"comment_id":134150152,"body_markdown":"Probably Postman automatically follows redirects, and your code does not. Check if your library has an option to enable that or handle the situation yourself. (Nit: it&#39;s probably not throwing an exception, so don&#39;t overuse the term throwing just because you get something you didn&#39;t expect.)","body":"Probably Postman automatically follows redirects, and your code does not. Check if your library has an option to enable that or handle the situation yourself. (Nit: it&#39;s probably not throwing an exception, so don&#39;t overuse the term throwing just because you get something you didn&#39;t expect.)"}],"owner":{"account_id":28358317,"reputation":1,"user_id":21688709,"display_name":"Abishekh Rajendhran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681983906,"creation_date":1681983906,"question_id":76062715,"body_markdown":"My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)\r\n\r\n\r\n\r\n`\tRestAssured.baseURI=&quot;https://live-rates.freightify.com/instantqbt/command/Spotrates&quot;;\r\n\t\r\n\tRequestSpecification contentType = RestAssured.given()\r\n\t\t\t.header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t\t.header(&quot;X-Block&quot;,&quot;true&quot;)\r\n\t\t\t.header(&quot;X-RequestID&quot;,&quot;test-rest-assured1&quot;)\r\n\t\t\t.body(&quot;{\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;origin_port\\&quot;: \\&quot;deham\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;destination_port\\&quot;: \\&quot;aejea\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;cargo_ready_date\\&quot;: \\&quot;2023-04-17\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;load_type\\&quot;: \\&quot;20GP\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;quantity\\&quot;: 8,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;cargo_weight\\&quot;: 144,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;vendor_id\\&quot;: \\&quot;2081\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;sub_vendor\\&quot;: \\&quot;msc\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;}&quot;).log().all();\r\n\r\n\tResponse response = contentType.post();\r\n\r\n\tresponse.then().log().all();`","title":"My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)","body":"<p>My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)</p>\n<p>`   RestAssured.baseURI=&quot;https://live-rates.freightify.com/instantqbt/command/Spotrates&quot;;</p>\n<pre><code>RequestSpecification contentType = RestAssured.given()\n        .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n        .header(&quot;X-Block&quot;,&quot;true&quot;)\n        .header(&quot;X-RequestID&quot;,&quot;test-rest-assured1&quot;)\n        .body(&quot;{\\r\\n&quot;\n                + &quot;    \\&quot;origin_port\\&quot;: \\&quot;deham\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;destination_port\\&quot;: \\&quot;aejea\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;cargo_ready_date\\&quot;: \\&quot;2023-04-17\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;load_type\\&quot;: \\&quot;20GP\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;quantity\\&quot;: 8,\\r\\n&quot;\n                + &quot;    \\&quot;cargo_weight\\&quot;: 144,\\r\\n&quot;\n                + &quot;    \\&quot;vendor_id\\&quot;: \\&quot;2081\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;sub_vendor\\&quot;: \\&quot;msc\\&quot;\\r\\n&quot;\n                + &quot;}&quot;).log().all();\n\nResponse response = contentType.post();\n\nresponse.then().log().all();`\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","crud","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681983791,"creation_date":1681983791,"answer_id":76062701,"question_id":76043168,"body_markdown":"You are comparing the user data filled in the form against the one stored in the database and if they match you return the form data in controller\r\n\r\n```java\r\n@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\r\npublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario, BindingResult result, SessionStatus status) {\r\n    System.out.println(usuarioService.findOne(usuario.getUsuario()));\r\n    var databaseUser = usuarioService.findOne(usuario.getUsuario());\r\n    if (result.hasErrors()) {\r\n        return &quot;acceso&quot;;\r\n    } else if (databaseUser==null){\r\n        model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int&#233;ntelo de nuevo&quot;);\r\n        return &quot;acceso&quot;;\r\n    } else if (databaseUser.getContrasena()==usuario.getContrasena()){\r\n        model.addAttribute(&quot;usuario&quot;,databaseUser); //You where returning the form object here\r\n        return &quot;index&quot;;\r\n    } else {\r\n        model.addAttribute(&quot;errContra&quot;,&quot;Contrase&#241;a incorrecta, int&#233;ntelo de nuevo&quot;);\r\n        return &quot;acceso&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAside from that looking at given code my assumption would be that you&#39;r storing plain text passwords which is a huge security flaw. I would suggest spending the time looking into the form-login that spring provides and see if you can use this. https://www.baeldung.com/spring-security-login","title":"findOne() returns value from form","body":"<p>You are comparing the user data filled in the form against the one stored in the database and if they match you return the form data in controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\npublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario, BindingResult result, SessionStatus status) {\n    System.out.println(usuarioService.findOne(usuario.getUsuario()));\n    var databaseUser = usuarioService.findOne(usuario.getUsuario());\n    if (result.hasErrors()) {\n        return &quot;acceso&quot;;\n    } else if (databaseUser==null){\n        model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int√©ntelo de nuevo&quot;);\n        return &quot;acceso&quot;;\n    } else if (databaseUser.getContrasena()==usuario.getContrasena()){\n        model.addAttribute(&quot;usuario&quot;,databaseUser); //You where returning the form object here\n        return &quot;index&quot;;\n    } else {\n        model.addAttribute(&quot;errContra&quot;,&quot;Contrase√±a incorrecta, int√©ntelo de nuevo&quot;);\n        return &quot;acceso&quot;;\n    }\n}\n</code></pre>\n<p>Aside from that looking at given code my assumption would be that you'r storing plain text passwords which is a huge security flaw. I would suggest spending the time looking into the form-login that spring provides and see if you can use this. <a href=\"https://www.baeldung.com/spring-security-login\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login</a></p>\n"}],"owner":{"account_id":21940845,"reputation":1,"user_id":21671368,"display_name":"Loki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681983791,"creation_date":1681811636,"question_id":76043168,"body_markdown":"I&#39;m trying to do a login and for that I&#39;m using the findOne method in the CrudRepository. The thing is that, if the user and password in the db is &quot;admin&quot; and &quot;admin&quot; (for example), and I write in the form &quot;admin&quot; and whatever password, it will execute the findOne but the object it returns is an object with the username and password that I wrote in the form. Here&#39;s my code:\r\n\r\nController:\r\n```\r\n@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\r\n\tpublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario,\r\n\t\t\tBindingResult result, SessionStatus status) {\r\n\t\tSystem.out.println(usuarioService.findOne(usuario.getUsuario()));\r\n\t\tif (result.hasErrors()) {\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t} else if (usuarioService.findOne(usuario.getUsuario())==null){\r\n\t\t\tmodel.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int&#233;ntelo de nuevo&quot;);\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t} else if (usuarioService.findOne(usuario.getUsuario()).getContrasena()==usuario.getContrasena()){\r\n\t\t\tmodel.addAttribute(&quot;usuario&quot;,usuario);\r\n\t\t\treturn &quot;index&quot;;\r\n\t\t} else {\r\n\t\t\tmodel.addAttribute(&quot;errContra&quot;,&quot;Contrase&#241;a incorrecta, int&#233;ntelo de nuevo&quot;);\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nUsuario entity:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;usuarios&quot;)\r\n@NamedQuery(name=&quot;Usuario.findAll&quot;, query=&quot;SELECT u FROM Usuario u&quot;)\r\npublic class Usuario implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@NotEmpty\r\n\tprivate String usuario;\r\n\r\n\t@NotEmpty\r\n\tprivate String contrasena;\r\n\r\n\tpublic Usuario(String usuario, String contrasena) {\r\n\t\tthis.usuario = usuario;\r\n\t\tthis.contrasena = contrasena;\r\n\t}\r\n\r\n\tpublic Usuario() {\r\n\t}\r\n\r\n\tpublic String getUsuario() {\r\n\t\treturn usuario;\r\n\t}\r\n\r\n\tpublic void setUsuario(String usuario) {\r\n\t\tthis.usuario = usuario;\r\n\t}\r\n\r\n\tpublic String getContrasena() {\r\n\t\treturn contrasena;\r\n\t}\r\n\r\n\tpublic void setContrasena(String contrasena) {\r\n\t\tthis.contrasena = contrasena;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Usuario [usuario=&quot; + usuario + &quot;, contrasena=&quot; + contrasena + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nLogin HTML:\r\n\r\n```\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Gesti&#243;n de la biblioteca&lt;/title&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/style.css}&quot;&gt;&lt;/link&gt;\r\n\t\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t&lt;div class=&quot;container-fluid&quot;&gt;\r\n\t\t\t&lt;h1&gt;Inicio de sesi&#243;n&lt;/h1&gt;\r\n\t\t\t&lt;form th:object=&quot;${usuario}&quot; th:action=&quot;@{/acceso}&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t&lt;label for=&quot;usuario&quot;&gt;Nombre de usuario:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; id=&quot;usuario&quot; name=&quot;usuario&quot; th:field=&quot;*{usuario}&quot;&gt;\r\n\t\t\t\t&lt;span th:if=&quot;${#fields.hasErrors(&#39;usuario&#39;)}&quot; th:errors=&quot;*{usuario}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\r\n\t\t\r\n\t\t\t\t&lt;label for=&quot;contrasena&quot;&gt;Contrase&#241;a:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;password&quot; id=&quot;contrasena&quot; name=&quot;contrasena&quot; th:field=&quot;*{contrasena}&quot;&gt;\r\n\t\t\t\t&lt;span th:if=&quot;${#fields.hasErrors(&#39;contrasena&#39;)}&quot; th:errors=&quot;*{contrasena}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\r\n\t\t\r\n\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Iniciar sesion&quot;&gt;\r\n\t\t\t&lt;h4 th:text=&quot;${error}&quot; class=&quot;error&quot;&gt;&lt;/h4&gt;\r\n\t\t\t&lt;/form&gt;\t\t\t\r\n\t\t&lt;/div&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried making a custom query but it didn&#39;t work either","title":"findOne() returns value from form","body":"<p>I'm trying to do a login and for that I'm using the findOne method in the CrudRepository. The thing is that, if the user and password in the db is &quot;admin&quot; and &quot;admin&quot; (for example), and I write in the form &quot;admin&quot; and whatever password, it will execute the findOne but the object it returns is an object with the username and password that I wrote in the form. Here's my code:</p>\n<p>Controller:</p>\n<pre><code>@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\n    public String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario,\n            BindingResult result, SessionStatus status) {\n        System.out.println(usuarioService.findOne(usuario.getUsuario()));\n        if (result.hasErrors()) {\n            return &quot;acceso&quot;;\n        } else if (usuarioService.findOne(usuario.getUsuario())==null){\n            model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int√©ntelo de nuevo&quot;);\n            return &quot;acceso&quot;;\n        } else if (usuarioService.findOne(usuario.getUsuario()).getContrasena()==usuario.getContrasena()){\n            model.addAttribute(&quot;usuario&quot;,usuario);\n            return &quot;index&quot;;\n        } else {\n            model.addAttribute(&quot;errContra&quot;,&quot;Contrase√±a incorrecta, int√©ntelo de nuevo&quot;);\n            return &quot;acceso&quot;;\n        }\n    }\n</code></pre>\n<p>Usuario entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;usuarios&quot;)\n@NamedQuery(name=&quot;Usuario.findAll&quot;, query=&quot;SELECT u FROM Usuario u&quot;)\npublic class Usuario implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @NotEmpty\n    private String usuario;\n\n    @NotEmpty\n    private String contrasena;\n\n    public Usuario(String usuario, String contrasena) {\n        this.usuario = usuario;\n        this.contrasena = contrasena;\n    }\n\n    public Usuario() {\n    }\n\n    public String getUsuario() {\n        return usuario;\n    }\n\n    public void setUsuario(String usuario) {\n        this.usuario = usuario;\n    }\n\n    public String getContrasena() {\n        return contrasena;\n    }\n\n    public void setContrasena(String contrasena) {\n        this.contrasena = contrasena;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Usuario [usuario=&quot; + usuario + &quot;, contrasena=&quot; + contrasena + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Login HTML:</p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Gesti√≥n de la biblioteca&lt;/title&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/style.css}&quot;&gt;&lt;/link&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=&quot;container-fluid&quot;&gt;\n            &lt;h1&gt;Inicio de sesi√≥n&lt;/h1&gt;\n            &lt;form th:object=&quot;${usuario}&quot; th:action=&quot;@{/acceso}&quot; method=&quot;post&quot;&gt;\n                &lt;label for=&quot;usuario&quot;&gt;Nombre de usuario:&lt;/label&gt;\n                &lt;input type=&quot;text&quot; id=&quot;usuario&quot; name=&quot;usuario&quot; th:field=&quot;*{usuario}&quot;&gt;\n                &lt;span th:if=&quot;${#fields.hasErrors('usuario')}&quot; th:errors=&quot;*{usuario}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\n        \n                &lt;label for=&quot;contrasena&quot;&gt;Contrase√±a:&lt;/label&gt;\n                &lt;input type=&quot;password&quot; id=&quot;contrasena&quot; name=&quot;contrasena&quot; th:field=&quot;*{contrasena}&quot;&gt;\n                &lt;span th:if=&quot;${#fields.hasErrors('contrasena')}&quot; th:errors=&quot;*{contrasena}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\n        \n                &lt;input type=&quot;submit&quot; value=&quot;Iniciar sesion&quot;&gt;\n            &lt;h4 th:text=&quot;${error}&quot; class=&quot;error&quot;&gt;&lt;/h4&gt;\n            &lt;/form&gt;         \n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried making a custom query but it didn't work either</p>\n"},{"tags":["java","spring-boot","visual-studio","maven","visual-studio-code"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648807305,"post_id":71704673,"comment_id":126723232,"body_markdown":"First using a repository manager would a better choice apart from that you should try to build your application from the plain command line via `mvn package -U` first....","body":"First using a repository manager would a better choice apart from that you should try to build your application from the plain command line via <code>mvn package -U</code> first...."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649666234,"post_id":71704673,"comment_id":126924810,"body_markdown":"It looks like a temporary network problem, the problem has been solved?","body":"It looks like a temporary network problem, the problem has been solved?"},{"owner":{"account_id":1217476,"reputation":1007,"user_id":1184777,"accept_rate":33,"display_name":"user1184777"},"score":0,"creation_date":1649920003,"post_id":71704673,"comment_id":126997892,"body_markdown":"no problem still exist. did mvn package -U also which downloaded all the package but problem still exists","body":"no problem still exist. did mvn package -U also which downloaded all the package but problem still exists"},{"owner":{"account_id":16454679,"reputation":312,"user_id":11887174,"display_name":"Mia Wu-MSFT"},"score":0,"creation_date":1650520073,"post_id":71704673,"comment_id":127137733,"body_markdown":"Cannot reproduce your problem, could you upload your project here?","body":"Cannot reproduce your problem, could you upload your project here?"}],"answers":[{"tags":[],"owner":{"account_id":10236629,"reputation":387,"user_id":7555344,"accept_rate":0,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681983762,"creation_date":1681983582,"answer_id":76062668,"question_id":71704673,"body_markdown":"I solved this when I used the latest version of Springboot which is the **3.1.0-M2 version**. Maybe, because I am using the **Maven 3.9.1** and I think they have some compatibility issue with **Springboot 2 versions**.","title":"visual studio spring boot Non-resolvable parent POM behind company proxy","body":"<p>I solved this when I used the latest version of Springboot which is the <strong>3.1.0-M2 version</strong>. Maybe, because I am using the <strong>Maven 3.9.1</strong> and I think they have some compatibility issue with <strong>Springboot 2 versions</strong>.</p>\n"}],"owner":{"account_id":1217476,"reputation":1007,"user_id":1184777,"accept_rate":33,"display_name":"user1184777"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681983762,"creation_date":1648805112,"question_id":71704673,"body_markdown":"I am new to visual studio trying to run spring boot demo application from visual studio tried this link https://code.visualstudio.com/docs/java/java-spring-boot followed same step but getting this error in pom.xml\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAdded proxy entry also in maven setting.xml, since working behind organization proxy\r\n\r\n    &lt;proxy&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;host&gt;companyproxy.apac.nsn-net.net&lt;/host&gt;\r\n      &lt;port&gt;8080&lt;/port&gt;\r\n    &lt;/proxy&gt;\r\nwhen directly run DemoApplication.java getting main class not found error\r\n[![enter image description here][2]][2]\r\nand also CodeLens not showing for spring main class , where as if you have simple java application it shows run|debug \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kjwzc.png\r\n  [2]: https://i.stack.imgur.com/m7s0b.png","title":"visual studio spring boot Non-resolvable parent POM behind company proxy","body":"<p>I am new to visual studio trying to run spring boot demo application from visual studio tried this link <a href=\"https://code.visualstudio.com/docs/java/java-spring-boot\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-spring-boot</a> followed same step but getting this error in pom.xml\n<a href=\"https://i.stack.imgur.com/kjwzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjwzc.png\" alt=\"enter image description here\" /></a></p>\n<p>Added proxy entry also in maven setting.xml, since working behind organization proxy</p>\n<pre><code>&lt;proxy&gt;\n  &lt;active&gt;true&lt;/active&gt;\n  &lt;host&gt;companyproxy.apac.nsn-net.net&lt;/host&gt;\n  &lt;port&gt;8080&lt;/port&gt;\n&lt;/proxy&gt;\n</code></pre>\n<p>when directly run DemoApplication.java getting main class not found error\n<a href=\"https://i.stack.imgur.com/m7s0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m7s0b.png\" alt=\"enter image description here\" /></a>\nand also CodeLens not showing for spring main class , where as if you have simple java application it shows run|debug</p>\n"},{"tags":["java","selenium-webdriver","wildcard","unzip","filenotfoundexception"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682000010,"post_id":76061380,"comment_id":134149615,"body_markdown":"What does this have to do with Selenium? That said, usually your shell will expand the wildcards, but when you open files, there is no shell involved. So you cannot use wildcards. You need to do this manually by getting all files in the directory and filtering which ones you want.","body":"What does this have to do with Selenium? That said, usually your shell will expand the wildcards, but when you open files, there is no shell involved. So you cannot use wildcards. You need to do this manually by getting all files in the directory and filtering which ones you want."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681983574,"creation_date":1681983574,"answer_id":76062666,"question_id":76061380,"body_markdown":"You cannot just use path with wildcard when refer to a file because wildcard means there might be several files which meet the pattern.\r\n\r\nSo your choice might be using file filtration like this:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    File rootFolder = new File(&quot;/tmp&quot;);\r\n    File[] filesToUnzip = rootFolder.listFiles(file -&gt;\r\n            file.getName().matches(&quot;detailedreport_.*\\\\.zip&quot;)\r\n    );\r\n    if(filesToUnzip != null){\r\n        for(File file: filesToUnzip){\r\n            // You would do your unzip here\r\n            System.out.println(file.getAbsolutePath());\r\n        }\r\n    }\r\n}\r\n```","title":"Java Selenium - Using Wildcards in filename while specifying File Path ( Wildcards in File Path in Java Selenium) to Unzip Files","body":"<p>You cannot just use path with wildcard when refer to a file because wildcard means there might be several files which meet the pattern.</p>\n<p>So your choice might be using file filtration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    File rootFolder = new File(&quot;/tmp&quot;);\n    File[] filesToUnzip = rootFolder.listFiles(file -&gt;\n            file.getName().matches(&quot;detailedreport_.*\\\\.zip&quot;)\n    );\n    if(filesToUnzip != null){\n        for(File file: filesToUnzip){\n            // You would do your unzip here\n            System.out.println(file.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28296313,"reputation":1,"user_id":21635727,"display_name":"Pooja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681983574,"creation_date":1681974310,"question_id":76061380,"body_markdown":"I need to unzip files in a specific folder but i don&#39;t want to mention file name in file path as it changes every time and it wouldn&#39;t be constant. I used wildcard in for filename in file path and it is throwing error File not found Exception\r\n\r\nI tried using wildcards in filename of file path to find the file and unzip the same but i&#39;m getting File not found Exception \r\n\r\nPlease help me on how to use wildcards in filename of file path which is taken as string.\r\n\r\nHere goes my code\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    public class UnzipFiles {\r\n    \t\r\n    \t\r\n    \r\n        public static void main(String[] args) {\r\n        \t\r\n        \t\r\n            String zipFilePath = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\r\n            String zipFilePath2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\r\n            \r\n            \r\n      \r\n            String destDir = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\r\n            String destDir2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\r\n      \r\n            unzip(zipFilePath,destDir);\r\n            unzip2(zipFilePath2,destDir2); \r\n           \r\n        }\r\n    \r\n        private static void unzip(String zipFilePath,String destDir) {\r\n            File dir = new File(destDir);\r\n            // create output directory if it doesn&#39;t exist\r\n            if(!dir.exists()) dir.mkdirs();\r\n            FileInputStream fis;\r\n            //buffer for read and write data to file\r\n            byte[] buffer = new byte[1024];\r\n            try {\r\n                fis = new FileInputStream(zipFilePath);\r\n                ZipInputStream zis = new ZipInputStream(fis);\r\n                ZipEntry ze = zis.getNextEntry();\r\n              \r\n                while(ze != null){\r\n                    String fileName = ze.getName();\r\n                    File newFile = new File(destDir + File.separator + fileName);\r\n                    System.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());\r\n                    //create directories for sub directories in zip\r\n                    new File(newFile.getParent()).mkdirs();\r\n                    FileOutputStream fos = new FileOutputStream(newFile);\r\n                    int len;\r\n                    while ((len = zis.read(buffer)) &gt; 0) {\r\n                    fos.write(buffer, 0, len);\r\n                    }\r\n                    fos.close();\r\n                    //close this ZipEntry\r\n                    zis.closeEntry();\r\n                    ze = zis.getNextEntry();\r\n                }\r\n                //close last ZipEntry\r\n                zis.closeEntry();\r\n                zis.close();\r\n                fis.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        }\r\n        \r\n        private static void unzip2(String zipFilePath2,String destDir2) {\r\n            File dir2 = new File(destDir2);\r\n            // create output directory if it doesn&#39;t exist\r\n            if(!dir2.exists()) dir2.mkdirs();\r\n            FileInputStream fis2;\r\n            //buffer for read and write data to file\r\n            byte[] buffer2 = new byte[1024];\r\n            try {\r\n                fis2 = new FileInputStream(zipFilePath2);\r\n                ZipInputStream zis2 = new ZipInputStream(fis2);\r\n                ZipEntry ze2 = zis2.getNextEntry();\r\n              \r\n                while(ze2 != null){\r\n                    String fileName2 = ze2.getName();\r\n                    File newFile2 = new File(destDir2 + File.separator + fileName2);\r\n                    System.out.println(&quot;Unzipping to &quot;+newFile2.getAbsolutePath());\r\n                    //create directories for sub directories in zip\r\n                    new File(newFile2.getParent()).mkdirs();\r\n                    FileOutputStream fos2 = new FileOutputStream(newFile2);\r\n                    int len2;\r\n                    while ((len2 = zis2.read(buffer2)) &gt; 0) {\r\n                    fos2.write(buffer2, 0, len2);\r\n                    }\r\n                    fos2.close();\r\n                    //close this ZipEntry\r\n                    zis2.closeEntry();\r\n                    ze2 = zis2.getNextEntry();\r\n                }\r\n                //close last ZipEntry\r\n                zis2.closeEntry();\r\n                zis2.close();\r\n                fis2.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        }\r\n    \r\n    }\r\n\r\nError : java.io.FileNotFoundException: C:\\SAST\\Downloaded XML Files\\detailedreport_*.zip (The filename, directory name, or volume label syntax is incorrect)","title":"Java Selenium - Using Wildcards in filename while specifying File Path ( Wildcards in File Path in Java Selenium) to Unzip Files","body":"<p>I need to unzip files in a specific folder but i don't want to mention file name in file path as it changes every time and it wouldn't be constant. I used wildcard in for filename in file path and it is throwing error File not found Exception</p>\n<p>I tried using wildcards in filename of file path to find the file and unzip the same but i'm getting File not found Exception</p>\n<p>Please help me on how to use wildcards in filename of file path which is taken as string.</p>\n<p>Here goes my code</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class UnzipFiles {\n    \n    \n\n    public static void main(String[] args) {\n        \n        \n        String zipFilePath = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\n        String zipFilePath2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\n        \n        \n  \n        String destDir = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\n        String destDir2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\n  \n        unzip(zipFilePath,destDir);\n        unzip2(zipFilePath2,destDir2); \n       \n    }\n\n    private static void unzip(String zipFilePath,String destDir) {\n        File dir = new File(destDir);\n        // create output directory if it doesn't exist\n        if(!dir.exists()) dir.mkdirs();\n        FileInputStream fis;\n        //buffer for read and write data to file\n        byte[] buffer = new byte[1024];\n        try {\n            fis = new FileInputStream(zipFilePath);\n            ZipInputStream zis = new ZipInputStream(fis);\n            ZipEntry ze = zis.getNextEntry();\n          \n            while(ze != null){\n                String fileName = ze.getName();\n                File newFile = new File(destDir + File.separator + fileName);\n                System.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());\n                //create directories for sub directories in zip\n                new File(newFile.getParent()).mkdirs();\n                FileOutputStream fos = new FileOutputStream(newFile);\n                int len;\n                while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n                }\n                fos.close();\n                //close this ZipEntry\n                zis.closeEntry();\n                ze = zis.getNextEntry();\n            }\n            //close last ZipEntry\n            zis.closeEntry();\n            zis.close();\n            fis.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static void unzip2(String zipFilePath2,String destDir2) {\n        File dir2 = new File(destDir2);\n        // create output directory if it doesn't exist\n        if(!dir2.exists()) dir2.mkdirs();\n        FileInputStream fis2;\n        //buffer for read and write data to file\n        byte[] buffer2 = new byte[1024];\n        try {\n            fis2 = new FileInputStream(zipFilePath2);\n            ZipInputStream zis2 = new ZipInputStream(fis2);\n            ZipEntry ze2 = zis2.getNextEntry();\n          \n            while(ze2 != null){\n                String fileName2 = ze2.getName();\n                File newFile2 = new File(destDir2 + File.separator + fileName2);\n                System.out.println(&quot;Unzipping to &quot;+newFile2.getAbsolutePath());\n                //create directories for sub directories in zip\n                new File(newFile2.getParent()).mkdirs();\n                FileOutputStream fos2 = new FileOutputStream(newFile2);\n                int len2;\n                while ((len2 = zis2.read(buffer2)) &gt; 0) {\n                fos2.write(buffer2, 0, len2);\n                }\n                fos2.close();\n                //close this ZipEntry\n                zis2.closeEntry();\n                ze2 = zis2.getNextEntry();\n            }\n            //close last ZipEntry\n            zis2.closeEntry();\n            zis2.close();\n            fis2.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n<p>Error : java.io.FileNotFoundException: C:\\SAST\\Downloaded XML Files\\detailedreport_*.zip (The filename, directory name, or volume label syntax is incorrect)</p>\n"},{"tags":["java","xml","jakarta-ee","weblogic"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681982695,"creation_date":1681982354,"answer_id":76062481,"question_id":40343770,"body_markdown":"As far as I understand the `plan.xml` variables are only used inside the `plan.xml` file. You need to put values somewhere else to access them. The simplest way would be the servlet context parameter in `web.xml`. For example:\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n     ...\r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n        &lt;param-value&gt;inject_value_here&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      ...\r\n    &lt;/web-app&gt;\r\n\r\n**plan.xml**\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;deployment-plan xmlns=&quot;http://xmlns.oracle.com/weblogic/deployment-plan&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/deployment-plan http://xmlns.oracle.com/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot; global-variables=&quot;true&quot;&gt;\r\n      &lt;application-name&gt;appname&lt;/application-name&gt;\r\n      &lt;variable-definition&gt;\r\n        &lt;variable&gt;\r\n          &lt;name&gt;springProfilesActive&lt;/name&gt;\r\n          &lt;value&gt;dev&lt;/value&gt;\r\n        &lt;/variable&gt;\r\n      &lt;/variable-definition&gt;\r\n      &lt;module-override&gt;\r\n        &lt;module-name&gt;appname.war&lt;/module-name&gt;\r\n        &lt;module-type&gt;war&lt;/module-type&gt;\r\n        &lt;module-descriptor external=&quot;false&quot;&gt;\r\n          &lt;root-element&gt;web-app&lt;/root-element&gt;\r\n          &lt;uri&gt;WEB-INF/web.xml&lt;/uri&gt;\r\n          &lt;variable-assignment&gt;\r\n             &lt;name&gt;springProfilesActive&lt;/name&gt;\r\n             &lt;xpath&gt;/web-app/context-param/[param-name=&quot;spring.profiles.active&quot;]/param-value&lt;/xpath&gt;\r\n             &lt;origin&gt;planbased&lt;/origin&gt;\r\n          &lt;/variable-assignment&gt;\r\n        &lt;/module-descriptor&gt;\r\n      &lt;/module-override&gt;\r\n    &lt;/deployment-plan&gt;\r\n\r\nYou can access this context parameter with `ServletContext.getInitParameter`.\r\n\r\nMore information and examples:\r\nhttps://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181","title":"accessing weblogic plan.xml variables","body":"<p>As far as I understand the <code>plan.xml</code> variables are only used inside the <code>plan.xml</code> file. You need to put values somewhere else to access them. The simplest way would be the servlet context parameter in <code>web.xml</code>. For example:</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n ...\n &lt;context-param&gt;\n    &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n    &lt;param-value&gt;inject_value_here&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  ...\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>plan.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;deployment-plan xmlns=&quot;http://xmlns.oracle.com/weblogic/deployment-plan&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/deployment-plan http://xmlns.oracle.com/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot; global-variables=&quot;true&quot;&gt;\n  &lt;application-name&gt;appname&lt;/application-name&gt;\n  &lt;variable-definition&gt;\n    &lt;variable&gt;\n      &lt;name&gt;springProfilesActive&lt;/name&gt;\n      &lt;value&gt;dev&lt;/value&gt;\n    &lt;/variable&gt;\n  &lt;/variable-definition&gt;\n  &lt;module-override&gt;\n    &lt;module-name&gt;appname.war&lt;/module-name&gt;\n    &lt;module-type&gt;war&lt;/module-type&gt;\n    &lt;module-descriptor external=&quot;false&quot;&gt;\n      &lt;root-element&gt;web-app&lt;/root-element&gt;\n      &lt;uri&gt;WEB-INF/web.xml&lt;/uri&gt;\n      &lt;variable-assignment&gt;\n         &lt;name&gt;springProfilesActive&lt;/name&gt;\n         &lt;xpath&gt;/web-app/context-param/[param-name=&quot;spring.profiles.active&quot;]/param-value&lt;/xpath&gt;\n         &lt;origin&gt;planbased&lt;/origin&gt;\n      &lt;/variable-assignment&gt;\n    &lt;/module-descriptor&gt;\n  &lt;/module-override&gt;\n&lt;/deployment-plan&gt;\n</code></pre>\n<p>You can access this context parameter with <code>ServletContext.getInitParameter</code>.</p>\n<p>More information and examples:\n<a href=\"https://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181</a></p>\n"}],"owner":{"account_id":976868,"reputation":824,"user_id":997739,"accept_rate":91,"display_name":"2778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681982695,"creation_date":1477922593,"question_id":40343770,"body_markdown":"I&#39;m trying to add the ability to have multiple instances of one application on one weblogic application. Unfortunately, my application has thus far relied on an environmental property to know where from to retrieve configuration and write some special logs/backups.\r\n\r\nThe cleanest way to send in a variable to a war seems to be using the plan.xml file -- which is accessible through the console and can be changed on the fly. This way we could have 2 wars on the server, each pointing to a different directory and configuration file.\r\n\r\nHowever, I can&#39;t seem to figure out how to retrieve this variable. So far I&#39;ve unsuccessfully tried:\r\n\r\n - `System.getProperty(&quot;HOME&quot;)`\r\n - `System.getenv().get(&quot;HOME&quot;)`\r\n - `((Context)new InitialContext().lookup(&quot;java:comp/env&quot;)).lookup(&quot;HOME&quot;)`\r\n\r\n\r\nMy plan.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;deployment-plan xmlns=&quot;http://www.bea.com/ns/weblogic/deployment-plan&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.bea.com/ns/weblogic/deployment-plan http://www.bea.com/ns/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot;\r\n    \tglobal-variables=&quot;false&quot;&gt;\r\n    \t&lt;application-name&gt;NAME&lt;/application-name&gt;\r\n    \t&lt;variable-definition&gt;\r\n    \t\t&lt;variable&gt;\r\n    \t\t\t&lt;name&gt;HOME&lt;/name&gt;\r\n    \t\t\t&lt;value&gt;TEST&lt;/value&gt;\r\n    \t\t&lt;/variable&gt;\r\n    \t&lt;/variable-definition&gt;\r\n    &lt;/deployment-plan&gt;","title":"accessing weblogic plan.xml variables","body":"<p>I'm trying to add the ability to have multiple instances of one application on one weblogic application. Unfortunately, my application has thus far relied on an environmental property to know where from to retrieve configuration and write some special logs/backups.</p>\n\n<p>The cleanest way to send in a variable to a war seems to be using the plan.xml file -- which is accessible through the console and can be changed on the fly. This way we could have 2 wars on the server, each pointing to a different directory and configuration file.</p>\n\n<p>However, I can't seem to figure out how to retrieve this variable. So far I've unsuccessfully tried:</p>\n\n<ul>\n<li><code>System.getProperty(\"HOME\")</code></li>\n<li><code>System.getenv().get(\"HOME\")</code></li>\n<li><code>((Context)new InitialContext().lookup(\"java:comp/env\")).lookup(\"HOME\")</code></li>\n</ul>\n\n<p>My plan.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;deployment-plan xmlns=\"http://www.bea.com/ns/weblogic/deployment-plan\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.bea.com/ns/weblogic/deployment-plan http://www.bea.com/ns/weblogic/deployment-plan/1.0/deployment-plan.xsd\"\n    global-variables=\"false\"&gt;\n    &lt;application-name&gt;NAME&lt;/application-name&gt;\n    &lt;variable-definition&gt;\n        &lt;variable&gt;\n            &lt;name&gt;HOME&lt;/name&gt;\n            &lt;value&gt;TEST&lt;/value&gt;\n        &lt;/variable&gt;\n    &lt;/variable-definition&gt;\n&lt;/deployment-plan&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1681982708,"post_id":76062525,"comment_id":134145332,"body_markdown":"I would guess you probably just forgot to use the return value of your recursive method call. Meaning: Change `alpha();` to `return alpha();` inside your alpha method.","body":"I would guess you probably just forgot to use the return value of your recursive method call. Meaning: Change <code>alpha();</code> to <code>return alpha();</code> inside your alpha method."},{"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"score":0,"creation_date":1681983886,"post_id":76062525,"comment_id":134145603,"body_markdown":"Honest recommendation: Change the recursion to a do while loop. Even if it is an unlikely case, if you keep entering wrong numbers, `alpha()` keeps being called and will enter stackoverflow state at some point.","body":"Honest recommendation: Change the recursion to a do while loop. Even if it is an unlikely case, if you keep entering wrong numbers, <code>alpha()</code> keeps being called and will enter stackoverflow state at some point."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681988704,"post_id":76062525,"comment_id":134146713,"body_markdown":"As the two comments above, it&#39;s because you are always returning the object created the first time `alpha()` gets called.","body":"As the two comments above, it&#39;s because you are always returning the object created the first time <code>alpha()</code> gets called."}],"owner":{"account_id":28358291,"reputation":11,"user_id":21688691,"display_name":"joe123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681982607,"creation_date":1681982607,"question_id":76062525,"body_markdown":"\r\nI want this method to return an odd integer that is bigger/equal to 1. \r\n\r\nThe problem is that it always returns the first integer that was entered and not the latest.\r\nIs there any way to fix that? thanks\r\n\r\n\r\n```\r\npublic class muster\r\n{\r\n    public static void main(String [] args) {\r\n        int a = alpha();\r\n        System.out.println(a);\r\n        \r\n    }\r\n\r\n    public static int alpha() {\r\n        \r\n        int a = Db.readInt(&quot;odd integer &gt;= 1&quot;);\r\n        \r\n        \r\n        if (a % 2 == 0 || a &lt; 1) {\r\n            alpha();\r\n            \r\n        }\r\n        \r\n        else {\r\n            \r\n        }\r\n        return a;\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nI want this method to return a odd integer that is bigger/equal to 1.\r\n\r\nThe problem is that it always returns the first integer that was entered and not the latest.\r\nIs there any way to fix that? thanks","title":"How do I return the latest int a and not the first one that was entered?","body":"<p>I want this method to return an odd integer that is bigger/equal to 1.</p>\n<p>The problem is that it always returns the first integer that was entered and not the latest.\nIs there any way to fix that? thanks</p>\n<pre><code>public class muster\n{\n    public static void main(String [] args) {\n        int a = alpha();\n        System.out.println(a);\n        \n    }\n\n    public static int alpha() {\n        \n        int a = Db.readInt(&quot;odd integer &gt;= 1&quot;);\n        \n        \n        if (a % 2 == 0 || a &lt; 1) {\n            alpha();\n            \n        }\n        \n        else {\n            \n        }\n        return a;\n        \n    }\n}\n</code></pre>\n<p>I want this method to return a odd integer that is bigger/equal to 1.</p>\n<p>The problem is that it always returns the first integer that was entered and not the latest.\nIs there any way to fix that? thanks</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681984410,"post_id":76062453,"comment_id":134145720,"body_markdown":"Why a SQL and not a JPQL? Something like `SELECT l FROM Label l WHERE l. vehicleLabels.vehicle_label_id = :vehicle_label_id`, That way you use entities and hibernate should be able to do the mapping. Also your method probably returns more then 1 label so your return type should probably be `List&lt;Label&gt;` instead of `Label`.","body":"Why a SQL and not a JPQL? Something like <code>SELECT l FROM Label l WHERE l. vehicleLabels.vehicle_label_id = :vehicle_label_id</code>, That way you use entities and hibernate should be able to do the mapping. Also your method probably returns more then 1 label so your return type should probably be <code>List&lt;Label&gt;</code> instead of <code>Label</code>."}],"owner":{"account_id":19314821,"reputation":11,"user_id":14119825,"display_name":"Qu&#225;ch Ng·ªçc Th&#224;nh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681982178,"creation_date":1681982178,"question_id":76062453,"body_markdown":"I have spring app (JPA/Hibernate + PostgeSQL). I have Label and LabelRepository classes.\r\n\r\n**Label**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;label&quot;, schema = &quot;public&quot;)\r\npublic class Label implements Serializable {\r\n\r\n    @Id\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;label_id&quot;, columnDefinition = &quot;NUMERIC&quot;, unique = true, nullable = false, precision = 10, scale = 0)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;code&quot;)\r\n    private String code;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;order&quot;)\r\n    private Integer order;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private String status;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;group_name&quot;)\r\n    private String groupName;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;label&quot;)\r\n    private List&lt;VehicleLabel&gt; vehicleLabels = new ArrayList&lt;&gt;(0);\r\n}\r\n```\r\n**LabelRepository**\r\n\r\n```\r\n@Repository\r\npublic interface LabelRepository extends BaseJpaRepository&lt;Label, Integer&gt; {\r\n    @Query(value = &quot;select l.* from vehicle_label vl left join label l on l.label_id = vl.label_id where vl.vehicle_label_id = :vehicle_label_id&quot;, nativeQuery = true)\r\n    public Label getLabelFromVehicleLabel(@Param(&quot;vehicle_label_id&quot;) Integer vehicleLabelId);\r\n}\r\n```\r\n\r\nIt is giving me result like this:\r\n\r\n\r\n```\r\nlabel_id|code   |name   |description|order|status|type|group_name|\r\n--------+-------+-------+-----------+-----+------+----+----------+\r\n      24|suv_cuv|SUV/CUV|           |     |active|C   |SUV       |\r\n```\r\n\r\nAnd i have error:\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [com.bave.service.database.entity.Label] for value &#39;{24, suv_cuv, SUV/CUV, null, null, active, C, SUV}&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.bave.service.database.entity.Label]\r\n\r\nit seems it can&#39;t map with entity class\r\n\r\nThanks!                                                              ","title":"org.springframework.core.convert Failed to convert from type [java.lang.Object[]] to type","body":"<p>I have spring app (JPA/Hibernate + PostgeSQL). I have Label and LabelRepository classes.</p>\n<p><strong>Label</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;label&quot;, schema = &quot;public&quot;)\npublic class Label implements Serializable {\n\n    @Id\n    @Basic(optional = false)\n    @Column(name = &quot;label_id&quot;, columnDefinition = &quot;NUMERIC&quot;, unique = true, nullable = false, precision = 10, scale = 0)\n    private Integer id;\n\n    @Column(name = &quot;code&quot;)\n    private String code;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;order&quot;)\n    private Integer order;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @Column(name = &quot;group_name&quot;)\n    private String groupName;\n\n    @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;label&quot;)\n    private List&lt;VehicleLabel&gt; vehicleLabels = new ArrayList&lt;&gt;(0);\n}\n</code></pre>\n<p><strong>LabelRepository</strong></p>\n<pre><code>@Repository\npublic interface LabelRepository extends BaseJpaRepository&lt;Label, Integer&gt; {\n    @Query(value = &quot;select l.* from vehicle_label vl left join label l on l.label_id = vl.label_id where vl.vehicle_label_id = :vehicle_label_id&quot;, nativeQuery = true)\n    public Label getLabelFromVehicleLabel(@Param(&quot;vehicle_label_id&quot;) Integer vehicleLabelId);\n}\n</code></pre>\n<p>It is giving me result like this:</p>\n<pre><code>label_id|code   |name   |description|order|status|type|group_name|\n--------+-------+-------+-----------+-----+------+----+----------+\n      24|suv_cuv|SUV/CUV|           |     |active|C   |SUV       |\n</code></pre>\n<p>And i have error:</p>\n<blockquote>\n<p>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [com.bave.service.database.entity.Label] for value '{24, suv_cuv, SUV/CUV, null, null, active, C, SUV}'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.bave.service.database.entity.Label]</p>\n</blockquote>\n<p>it seems it can't map with entity class</p>\n<p>Thanks!</p>\n"},{"tags":["java","kubernetes","rabbitmq","rabbitmq-stream"],"answers":[{"tags":[],"owner":{"account_id":2087535,"reputation":21949,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681982160,"creation_date":1681982160,"answer_id":76062448,"question_id":76062407,"body_markdown":"You should use the load balancer configuration.\r\n\r\nSee: https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use \r\n\r\n&gt; A load balancer can misguide the client when it tries to connect to nodes that host stream leaders and replicas. The &quot;Connecting to Streams&quot; blog post covers why client applications must connect to the appropriate nodes in a cluster and how a load balancer can make things complicated for them.\r\n\r\n&gt; The EnvironmentBuilder#addressResolver(AddressResolver) method allows intercepting the node resolution after metadata hints and before connection. Applications can use this hook to ignore metadata hints and always use the load balancer, as illustrated in the following snippet:\r\n\r\nUsing a custom address resolver to always use a load balancer\r\n```java\r\nAddress entryPoint = new Address(&quot;my-load-balancer&quot;, 5552);  \r\nEnvironment environment = Environment.builder()\r\n    .host(entryPoint.host())  \r\n    .port(entryPoint.port())  \r\n    .addressResolver(address -&gt; entryPoint)  \r\n    .build();\r\n```\r\n\r\n\r\n","title":"RabbitMQ Java Stream Client and RabbitMQ Kubernetes Operator","body":"<p>You should use the load balancer configuration.</p>\n<p>See: <a href=\"https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use\" rel=\"nofollow noreferrer\">https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use</a></p>\n<blockquote>\n<p>A load balancer can misguide the client when it tries to connect to nodes that host stream leaders and replicas. The &quot;Connecting to Streams&quot; blog post covers why client applications must connect to the appropriate nodes in a cluster and how a load balancer can make things complicated for them.</p>\n</blockquote>\n<blockquote>\n<p>The EnvironmentBuilder#addressResolver(AddressResolver) method allows intercepting the node resolution after metadata hints and before connection. Applications can use this hook to ignore metadata hints and always use the load balancer, as illustrated in the following snippet:</p>\n</blockquote>\n<p>Using a custom address resolver to always use a load balancer</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address entryPoint = new Address(&quot;my-load-balancer&quot;, 5552);  \nEnvironment environment = Environment.builder()\n    .host(entryPoint.host())  \n    .port(entryPoint.port())  \n    .addressResolver(address -&gt; entryPoint)  \n    .build();\n</code></pre>\n"}],"owner":{"account_id":910087,"reputation":2038,"user_id":944131,"accept_rate":65,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062448,"answer_count":1,"score":0,"last_activity_date":1681982160,"creation_date":1681981847,"question_id":76062407,"body_markdown":"I deployed a Kubernetes cluster using the RabbitMQ Operator and activated the `rabbitmq_stream` plugin. This is my yaml:\r\n\r\n```yaml\r\napiVersion: rabbitmq.com/v1beta1\r\nkind: RabbitmqCluster\r\nmetadata:\r\n  name: rabbitmq-deployment\r\n  namespace: rabbitmq-namespace\r\nspec:\r\n  replicas: 2\r\n  image: rabbitmq:3.11.13\r\n  persistence:\r\n    storage: 20Gi\r\n  service:\r\n    type: LoadBalancer\r\n  rabbitmq:\r\n    additionalPlugins:\r\n      - rabbitmq_stream\r\n      - rabbitmq_stream_management\r\n```\r\n\r\nAlso i use the RabbitMQ Java Stream Client and i&#39;m connecting to the cluster like this:\r\n\r\n```java\r\nEnvironmentBuilder environmentBuilder = Environment.builder();\r\nenvironmentBuilder.host(System.getenv(&quot;RABBITMQ_HOST&quot;));\r\nenvironmentBuilder.port(Integer.parseInt(System.getenv(&quot;RABBITMQ_STREAM_PORT&quot;)));\r\nenvironmentBuilder.username(System.getenv(&quot;RABBITMQ_USERNAME&quot;));\r\nenvironmentBuilder.password(System.getenv(&quot;RABBITMQ_PASSWORD&quot;));\r\nmainConnection = environmentBuilder.build();\r\n```\r\n\r\nNow when i use this client so create the stream, it&#39;s working flawlessy and no error is reported:\r\n\r\n```java\r\nmainConnection.streamCreator().stream(&quot;mystream&quot;).maxAge(Duration.of(1, ChronoUnit.DAYS)).create()\r\n```\r\n\r\nNow when i try to produce messages like this:\r\n\r\n```java\r\nProducer producer = RabbitMQStreamConnection.mainConnection.producerBuilder().stream(&quot;mystream&quot;).build();\r\nbyte[] messagePayload = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\r\nproducer.send(\r\n    producer.messageBuilder().addData(messagePayload).build(),\r\n    confirmationStatus -&gt; {\r\n        if (confirmationStatus.isConfirmed()) {\r\n            // the message made it to the broker\r\n        } else {\r\n            // the message did not make it to the broker\r\n        }\r\n});\r\n```\r\n\r\nIt throws this exception:\r\n\r\n```\r\ncom.rabbitmq.stream.StreamException\r\nError while creating stream connection to rabbitmq-deployment-server-0.rabbitmq-deployment-nodes.rabbitmq-namespace:5552\r\n``` \r\n\r\nOf course, because there are two nodes (`replicas = 2`) and it seems like traffic gets redirected directly.\r\n\r\nWhat i want is that i can produce &amp; consume messages from the stream.\r\n\r\nRight now, i have no clue what i could do next to solve this problem.","title":"RabbitMQ Java Stream Client and RabbitMQ Kubernetes Operator","body":"<p>I deployed a Kubernetes cluster using the RabbitMQ Operator and activated the <code>rabbitmq_stream</code> plugin. This is my yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: rabbitmq.com/v1beta1\nkind: RabbitmqCluster\nmetadata:\n  name: rabbitmq-deployment\n  namespace: rabbitmq-namespace\nspec:\n  replicas: 2\n  image: rabbitmq:3.11.13\n  persistence:\n    storage: 20Gi\n  service:\n    type: LoadBalancer\n  rabbitmq:\n    additionalPlugins:\n      - rabbitmq_stream\n      - rabbitmq_stream_management\n</code></pre>\n<p>Also i use the RabbitMQ Java Stream Client and i'm connecting to the cluster like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnvironmentBuilder environmentBuilder = Environment.builder();\nenvironmentBuilder.host(System.getenv(&quot;RABBITMQ_HOST&quot;));\nenvironmentBuilder.port(Integer.parseInt(System.getenv(&quot;RABBITMQ_STREAM_PORT&quot;)));\nenvironmentBuilder.username(System.getenv(&quot;RABBITMQ_USERNAME&quot;));\nenvironmentBuilder.password(System.getenv(&quot;RABBITMQ_PASSWORD&quot;));\nmainConnection = environmentBuilder.build();\n</code></pre>\n<p>Now when i use this client so create the stream, it's working flawlessy and no error is reported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mainConnection.streamCreator().stream(&quot;mystream&quot;).maxAge(Duration.of(1, ChronoUnit.DAYS)).create()\n</code></pre>\n<p>Now when i try to produce messages like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Producer producer = RabbitMQStreamConnection.mainConnection.producerBuilder().stream(&quot;mystream&quot;).build();\nbyte[] messagePayload = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\nproducer.send(\n    producer.messageBuilder().addData(messagePayload).build(),\n    confirmationStatus -&gt; {\n        if (confirmationStatus.isConfirmed()) {\n            // the message made it to the broker\n        } else {\n            // the message did not make it to the broker\n        }\n});\n</code></pre>\n<p>It throws this exception:</p>\n<pre><code>com.rabbitmq.stream.StreamException\nError while creating stream connection to rabbitmq-deployment-server-0.rabbitmq-deployment-nodes.rabbitmq-namespace:5552\n</code></pre>\n<p>Of course, because there are two nodes (<code>replicas = 2</code>) and it seems like traffic gets redirected directly.</p>\n<p>What i want is that i can produce &amp; consume messages from the stream.</p>\n<p>Right now, i have no clue what i could do next to solve this problem.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":11597475,"reputation":1802,"user_id":8495783,"display_name":"Abolfazl Mohajeri"},"score":0,"creation_date":1681931675,"post_id":76057927,"comment_id":134138270,"body_markdown":"did you add Content-Type: application/json header?","body":"did you add Content-Type: application/json header?"},{"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"score":0,"creation_date":1681931870,"post_id":76057927,"comment_id":134138313,"body_markdown":"yes. As I said, I use same headers and body for @Put request, and it works good.","body":"yes. As I said, I use same headers and body for @Put request, and it works good."}],"answers":[{"tags":[],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681937402,"creation_date":1681937402,"answer_id":76058707,"question_id":76057927,"body_markdown":"Okay, I fixed it. The problem was with my `MapToEntity` code. I didn&#39;t map Dto properly.\r\n\r\nBefore it was:\r\n\r\n    `private Note mapToEntity(NoteDto noteDto) {\r\n         Note note = new Note();\r\n            note.setId(note.getNoteId());\r\n            note.setTopic(note.getTopic());\r\n            note.setNoteBody(note.getNoteBody());\r\n            return note;\r\n        }`\r\n\r\nI changed it to:\r\n\r\n    private Note mapToEntity(NoteDto noteDto) {\r\n        Note note = new Note();\r\n        note.setId(noteDto.getNoteId());\r\n        note.setTopic(noteDto.getTopic());\r\n        note.setNoteBody(noteDto.getNoteBody());\r\n        return note;\r\n    }\r\nand that solved it.","title":"Spirng @Post method receives data as NULL","body":"<p>Okay, I fixed it. The problem was with my <code>MapToEntity</code> code. I didn't map Dto properly.</p>\n<p>Before it was:</p>\n<pre><code>`private Note mapToEntity(NoteDto noteDto) {\n     Note note = new Note();\n        note.setId(note.getNoteId());\n        note.setTopic(note.getTopic());\n        note.setNoteBody(note.getNoteBody());\n        return note;\n    }`\n</code></pre>\n<p>I changed it to:</p>\n<pre><code>private Note mapToEntity(NoteDto noteDto) {\n    Note note = new Note();\n    note.setId(noteDto.getNoteId());\n    note.setTopic(noteDto.getTopic());\n    note.setNoteBody(noteDto.getNoteBody());\n    return note;\n}\n</code></pre>\n<p>and that solved it.</p>\n"}],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681981903,"creation_date":1681930246,"question_id":76057927,"body_markdown":"I have an Web-service to add/edit/update/delete Users and their Notes. When I use @Post method in postman to add a note, it adds its body as NULL. After these values added into database, I use @Put method to update them with the same `Body parameters`, and they are accepted as they should be.\r\n\r\nMy DTO for Notes looks like this.\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class NoteDto {\r\n      private int noteId;\r\n      private String topic;\r\n      private String noteBody;\r\n    }\r\nMy `NotesServiceImpl` looks like this:\r\n\r\n    @Override\r\n    public NoteDto createNote(int userId, NoteDto noteDto) {\r\n        Note review = mapToEntity(noteDto);\r\n\r\n        User user = userRepository.findById(userId).orElseThrow(() -&gt; new UserNotFoundException(&quot;User with associated id not found&quot;));\r\n\r\n        review.setUser(user);\r\n\r\n        Note newReview = notesRepository.save(review);\r\n\r\n        return mapToDto(newReview);\r\n    }\r\nMy Controller for `@Post` method looks like this:\r\n\r\n    @PostMapping(&quot;/user/{userId}/notes&quot;)\r\n    public ResponseEntity&lt;NoteDto&gt; createNote(@PathVariable(value = &quot;userId&quot;) int userId, @RequestBody NoteDto noteDto) {\r\n        return new ResponseEntity&lt;&gt;(noteService.createNote(userId, noteDto), HttpStatus.CREATED);\r\n    }\r\n\r\nThis is how `@Post` output looks like:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lETSQ.png","title":"Spirng @Post method receives data as NULL","body":"<p>I have an Web-service to add/edit/update/delete Users and their Notes. When I use @Post method in postman to add a note, it adds its body as NULL. After these values added into database, I use @Put method to update them with the same <code>Body parameters</code>, and they are accepted as they should be.</p>\n<p>My DTO for Notes looks like this.</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class NoteDto {\n  private int noteId;\n  private String topic;\n  private String noteBody;\n}\n</code></pre>\n<p>My <code>NotesServiceImpl</code> looks like this:</p>\n<pre><code>@Override\npublic NoteDto createNote(int userId, NoteDto noteDto) {\n    Note review = mapToEntity(noteDto);\n\n    User user = userRepository.findById(userId).orElseThrow(() -&gt; new UserNotFoundException(&quot;User with associated id not found&quot;));\n\n    review.setUser(user);\n\n    Note newReview = notesRepository.save(review);\n\n    return mapToDto(newReview);\n}\n</code></pre>\n<p>My Controller for <code>@Post</code> method looks like this:</p>\n<pre><code>@PostMapping(&quot;/user/{userId}/notes&quot;)\npublic ResponseEntity&lt;NoteDto&gt; createNote(@PathVariable(value = &quot;userId&quot;) int userId, @RequestBody NoteDto noteDto) {\n    return new ResponseEntity&lt;&gt;(noteService.createNote(userId, noteDto), HttpStatus.CREATED);\n}\n</code></pre>\n<p>This is how <code>@Post</code> output looks like:<a href=\"https://i.stack.imgur.com/lETSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lETSQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","build","azure-devops","build-pipeline"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1614697265,"post_id":66437406,"comment_id":117460485,"body_markdown":"Please show the command you have used... not only the error output...","body":"Please show the command you have used... not only the error output..."},{"owner":{"account_id":7090502,"reputation":30071,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"score":0,"creation_date":1614755632,"post_id":66437406,"comment_id":117478440,"body_markdown":"How&#39;s your pipeline like? If you build your project locally, how&#39;s the result?","body":"How&#39;s your pipeline like? If you build your project locally, how&#39;s the result?"},{"owner":{"account_id":7090502,"reputation":30071,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"score":0,"creation_date":1616060088,"post_id":66437406,"comment_id":117886487,"body_markdown":"How&#39;s your issue going? Is there any update?","body":"How&#39;s your issue going? Is there any update?"}],"answers":[{"tags":[],"owner":{"account_id":7090502,"reputation":30071,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614756063,"creation_date":1614756063,"answer_id":66452385,"question_id":66437406,"body_markdown":"You may try to use a plugin directly in the pom, for example:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;testSource&gt;1.8&lt;/testSource&gt;\r\n                    &lt;testTarget&gt;1.8&lt;/testTarget&gt;\r\n                    &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>You may try to use a plugin directly in the pom, for example:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;testSource&gt;1.8&lt;/testSource&gt;\n                &lt;testTarget&gt;1.8&lt;/testTarget&gt;\n                &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28358211,"reputation":1,"user_id":21688621,"display_name":"Jagdeep Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681981899,"creation_date":1681981899,"answer_id":76062417,"question_id":66437406,"body_markdown":"This might due to maven download problem so I have clean up the .m2 repository on Jenkins slave and the plug in then was downloaded again .It worked for me &amp; no code change required .","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>This might due to maven download problem so I have clean up the .m2 repository on Jenkins slave and the plug in then was downloaded again .It worked for me &amp; no code change required .</p>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681981899,"creation_date":1614680229,"question_id":66437406,"body_markdown":"I am using azure build pipeline to package my code, &amp; using maven to compile my code, however i am getting below error.\r\n\r\n```\r\n2021-03-02T09:38:48.1737056Z Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/3.1/maven-compiler-plugin-3.1.pom\r\n2021-03-02T09:38:48.1737158Z [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-compiler-plugin:3.1: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:3.1\r\n2021-03-02T09:38:48.1737237Z Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/mojo/flatten-maven-plugin/1.0.0/flatten-maven-plugin-1.0.0.pom\r\n2021-03-02T09:38:48.1737345Z [WARNING] Failed to retrieve plugin descriptor for org.codehaus.mojo:flatten-maven-plugin:1.0.0: Plugin org.codehaus.mojo:flatten-maven-plugin:1.0.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.codehaus.mojo:flatten-maven-plugin:jar:1.0.0\r\n\r\n2021-03-02T09:38:48.1747396Z [INFO] BUILD FAILURE\r\n2021-03-02T09:38:48.1747597Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T09:38:48.1747769Z [INFO] Total time:  05:16 min\r\n2021-03-02T09:38:48.1747937Z [INFO] Finished at: 2021-03-02T09:38:48Z\r\n2021-03-02T09:38:48.1748208Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T09:38:48.1748988Z [ERROR] No plugin found for prefix &#39;help&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\testuser\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\r\n2021-03-02T09:38:48.1749191Z [ERROR]```","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>I am using azure build pipeline to package my code, &amp; using maven to compile my code, however i am getting below error.</p>\n<pre><code>2021-03-02T09:38:48.1737056Z Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/3.1/maven-compiler-plugin-3.1.pom\n2021-03-02T09:38:48.1737158Z [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-compiler-plugin:3.1: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:3.1\n2021-03-02T09:38:48.1737237Z Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/mojo/flatten-maven-plugin/1.0.0/flatten-maven-plugin-1.0.0.pom\n2021-03-02T09:38:48.1737345Z [WARNING] Failed to retrieve plugin descriptor for org.codehaus.mojo:flatten-maven-plugin:1.0.0: Plugin org.codehaus.mojo:flatten-maven-plugin:1.0.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.codehaus.mojo:flatten-maven-plugin:jar:1.0.0\n\n2021-03-02T09:38:48.1747396Z [INFO] BUILD FAILURE\n2021-03-02T09:38:48.1747597Z [INFO] ------------------------------------------------------------------------\n2021-03-02T09:38:48.1747769Z [INFO] Total time:  05:16 min\n2021-03-02T09:38:48.1747937Z [INFO] Finished at: 2021-03-02T09:38:48Z\n2021-03-02T09:38:48.1748208Z [INFO] ------------------------------------------------------------------------\n2021-03-02T09:38:48.1748988Z [ERROR] No plugin found for prefix 'help' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\testuser\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\n2021-03-02T09:38:48.1749191Z [ERROR]```\n</code></pre>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681981805,"creation_date":1681981805,"answer_id":76062397,"question_id":76062132,"body_markdown":"SWT does not yet support different zoom values:\r\n\r\n[**Eclipse SWT issue #131** - *[Multi-Monitor] SWT applications to support and work with different zoom values per Shell.*][1]\r\n\r\n\r\n  [1]: https://github.com/eclipse-platform/eclipse.platform.swt/issues/131","title":"org.eclipse.swt.widgets.Monitor does not retun correct values for the 2-nd monitor","body":"<p>SWT does not yet support different zoom values:</p>\n<p><a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/issues/131\" rel=\"nofollow noreferrer\"><strong>Eclipse SWT issue #131</strong> - <em>[Multi-Monitor] SWT applications to support and work with different zoom values per Shell.</em></a></p>\n"}],"owner":{"account_id":28168806,"reputation":3,"user_id":21527639,"display_name":"know"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062397,"answer_count":1,"score":0,"last_activity_date":1681981805,"creation_date":1681980105,"question_id":76062132,"body_markdown":"I want to get dimensions and zoom of all monitors.\r\nCode: \r\n\r\n\r\n```\r\npackage root.viewer.rcp.util;\r\n\r\nimport org.eclipse.swt.widgets.Display;\r\nimport org.eclipse.swt.widgets.Monitor;\r\nimport org.eclipse.ui.PlatformUI;\r\n\r\npublic class ApplicationMonitorsManager\r\n{\r\n  public Monitor[] monitors;\r\n  //public Display display = new Display();\r\n  \r\n  public ApplicationMonitorsManager()\r\n  {\r\n    \r\n  }\r\n  \r\n  public Monitor[] getMonitors()\r\n  {\r\n    //Display display = Display.getCurrent();\r\n    Display display = PlatformUI.createDisplay();\r\n    monitors = display.getMonitors();\r\n    return monitors;\r\n  }\r\n}\r\n```\r\n\r\nValues for primary monitor are correct:\r\n\r\n\r\n```\r\nclientHeight\t2070\t\r\nclientWidth\t3840\t\r\nclientX\t0\t\r\nclientY\t0\t\r\nhandle\t200823\t\r\nheight\t2160\t\r\nwidth\t3840\t\r\nx\t0\t\r\ny\t0\t\r\nzoom\t225\t\r\n\r\n```\r\n\r\nThe second monitor has the same resolution, but zoom is 125%. Values I get:\r\n\r\n\r\n```\r\nclientHeight\t3798\t\r\nclientWidth\t6912\t\r\nclientX\t6912\t\r\nclientY\t0\t\r\nhandle\t200517\t\r\nheight\t3888\t\r\nwidth\t6912\t\r\nx\t6912\t\r\ny\t0\t\r\nzoom\t225\t\r\n\r\n```\r\nAny idea what is wrong, please?\r\n\r\n\r\nDoes not matter if I try `Display display = Display.getCurrent()` or `Display display = PlatformUI.createDisplay()`. For `Display display = new Display()` application crashes with `SWTException: Invalid thread access`.","title":"org.eclipse.swt.widgets.Monitor does not retun correct values for the 2-nd monitor","body":"<p>I want to get dimensions and zoom of all monitors.\nCode:</p>\n<pre><code>package root.viewer.rcp.util;\n\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Monitor;\nimport org.eclipse.ui.PlatformUI;\n\npublic class ApplicationMonitorsManager\n{\n  public Monitor[] monitors;\n  //public Display display = new Display();\n  \n  public ApplicationMonitorsManager()\n  {\n    \n  }\n  \n  public Monitor[] getMonitors()\n  {\n    //Display display = Display.getCurrent();\n    Display display = PlatformUI.createDisplay();\n    monitors = display.getMonitors();\n    return monitors;\n  }\n}\n</code></pre>\n<p>Values for primary monitor are correct:</p>\n<pre><code>clientHeight    2070    \nclientWidth 3840    \nclientX 0   \nclientY 0   \nhandle  200823  \nheight  2160    \nwidth   3840    \nx   0   \ny   0   \nzoom    225 \n\n</code></pre>\n<p>The second monitor has the same resolution, but zoom is 125%. Values I get:</p>\n<pre><code>clientHeight    3798    \nclientWidth 6912    \nclientX 6912    \nclientY 0   \nhandle  200517  \nheight  3888    \nwidth   6912    \nx   6912    \ny   0   \nzoom    225 \n\n</code></pre>\n<p>Any idea what is wrong, please?</p>\n<p>Does not matter if I try <code>Display display = Display.getCurrent()</code> or <code>Display display = PlatformUI.createDisplay()</code>. For <code>Display display = new Display()</code> application crashes with <code>SWTException: Invalid thread access</code>.</p>\n"},{"tags":["java","multithreading","jvm","classloader"],"answers":[{"tags":[],"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"down_vote_count":3,"up_vote_count":176,"is_accepted":true,"score":173,"last_activity_date":1383061048,"creation_date":1258735347,"answer_id":1771725,"question_id":1771679,"body_markdown":"Each class will use its own classloader to load other classes. So if `ClassA.class` references `ClassB.class` then `ClassB` needs to be on the classpath of the classloader of `ClassA`, or its parents.\r\n\r\nThe thread context classloader is the current classloader for the current thread. An object can be created from a class in `ClassLoaderC` and then passed to a thread owned by `ClassLoaderD`.  In this case the object needs to use `Thread.currentThread().getContextClassLoader()` directly if it wants to load resources that are not available on its own classloader.","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>Each class will use its own classloader to load other classes. So if <code>ClassA.class</code> references <code>ClassB.class</code> then <code>ClassB</code> needs to be on the classpath of the classloader of <code>ClassA</code>, or its parents.</p>\n\n<p>The thread context classloader is the current classloader for the current thread. An object can be created from a class in <code>ClassLoaderC</code> and then passed to a thread owned by <code>ClassLoaderD</code>.  In this case the object needs to use <code>Thread.currentThread().getContextClassLoader()</code> directly if it wants to load resources that are not available on its own classloader.</p>\n"},{"tags":[],"owner":{"account_id":11027,"reputation":2081,"user_id":21105,"accept_rate":82,"display_name":"Timour"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1614684260,"creation_date":1258741073,"answer_id":1772346,"question_id":1771679,"body_markdown":"There is an article on infoworld.com that explains the difference \r\n=&gt; [Which ClassLoader should you use][1]\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html\r\n\r\n(1)\r\n&gt; Thread context classloaders provide a\r\n&gt; back door around the classloading\r\n&gt; delegation scheme. \r\n&gt; \r\n&gt; Take JNDI for instance: its guts are\r\n&gt; implemented by bootstrap classes in\r\n&gt; rt.jar (starting with J2SE 1.3), but\r\n&gt; these core JNDI classes may load JNDI\r\n&gt; providers implemented by independent\r\n&gt; vendors and potentially deployed in\r\n&gt; the application&#39;s -classpath. This\r\n&gt; scenario calls for a parent\r\n&gt; classloader (the primordial one in\r\n&gt; this case) to load a class visible to\r\n&gt; one of its child classloaders (the\r\n&gt; system one, for example). Normal J2SE\r\n&gt; delegation does not work, and the\r\n&gt; workaround is to make the core JNDI\r\n&gt; classes use thread context loaders,\r\n&gt; thus effectively &quot;tunneling&quot; through\r\n&gt; the classloader hierarchy in the\r\n&gt; direction opposite to the proper\r\n&gt; delegation.\r\n\r\n(2) from the same source:\r\n\r\n&gt; This confusion will probably stay with\r\n&gt; Java for some time. Take any J2SE API\r\n&gt; with dynamic resource loading of any\r\n&gt; kind and try to guess which loading\r\n&gt; strategy it uses. Here is a sampling:\r\n&gt; \r\n&gt; - JNDI uses context classloaders\r\n&gt; - Class.getResource() and Class.forName() use the current classloader \r\n&gt; - JAXP uses context classloaders (as of J2SE 1.4)\r\n&gt; - java.util.ResourceBundle uses the caller&#39;s current classloader \r\n&gt; - URL protocol handlers specified via java.protocol.handler.pkgs system property are looked up in the bootstrap and system classloaders only\r\n&gt; - Java Serialization API uses the caller&#39;s current classloader by default","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>There is an article on infoworld.com that explains the difference\n=&gt; <a href=\"https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html\" rel=\"nofollow noreferrer\">Which ClassLoader should you use</a></p>\n<p>(1)</p>\n<blockquote>\n<p>Thread context classloaders provide a\nback door around the classloading\ndelegation scheme.</p>\n<p>Take JNDI for instance: its guts are\nimplemented by bootstrap classes in\nrt.jar (starting with J2SE 1.3), but\nthese core JNDI classes may load JNDI\nproviders implemented by independent\nvendors and potentially deployed in\nthe application's -classpath. This\nscenario calls for a parent\nclassloader (the primordial one in\nthis case) to load a class visible to\none of its child classloaders (the\nsystem one, for example). Normal J2SE\ndelegation does not work, and the\nworkaround is to make the core JNDI\nclasses use thread context loaders,\nthus effectively &quot;tunneling&quot; through\nthe classloader hierarchy in the\ndirection opposite to the proper\ndelegation.</p>\n</blockquote>\n<p>(2) from the same source:</p>\n<blockquote>\n<p>This confusion will probably stay with\nJava for some time. Take any J2SE API\nwith dynamic resource loading of any\nkind and try to guess which loading\nstrategy it uses. Here is a sampling:</p>\n<ul>\n<li>JNDI uses context classloaders</li>\n<li>Class.getResource() and Class.forName() use the current classloader</li>\n<li>JAXP uses context classloaders (as of J2SE 1.4)</li>\n<li>java.util.ResourceBundle uses the caller's current classloader</li>\n<li>URL protocol handlers specified via java.protocol.handler.pkgs system property are looked up in the bootstrap and system classloaders only</li>\n<li>Java Serialization API uses the caller's current classloader by default</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1681981661,"creation_date":1456639295,"answer_id":35679314,"question_id":1771679,"body_markdown":"Adding to @David Roussel answer, classes may be loaded by multiple class loaders.\r\n\r\nLets understand how [class loader][1] works.\r\n\r\n &gt;*Bootstrap ClassLoader* is responsible for loading standard JDK class files from rt.jar and it is parent of all class loaders in Java. Bootstrap class loader don&#39;t have any parents.\r\n\r\n &gt;*Extension ClassLoader* delegates class loading request to its parent, Bootstrap and if unsuccessful, loads class form jre/lib/ext directory or any other directory pointed by java.ext.dirs system property\r\n\r\n &gt;*System or Application class loader* and it is responsible for loading application specific classes from CLASSPATH environment variable, -classpath or -cp command line option, Class-Path attribute of Manifest file inside JAR. \r\n\r\n &gt;*Application class loader* is a child of *Extension ClassLoader* and its implemented by `sun.misc.Launcher$AppClassLoader` class.\r\n\r\n `ClassLoader` follows three principles.\r\n\r\n### *Delegation principle*\r\n\r\n&gt; A class is loaded in Java, when its needed. Suppose you have an application specific class called Abc.class, first request of loading this class will come to Application ClassLoader which will delegate to its parent Extension ClassLoader which further delegates to Primordial or Bootstrap class loader\r\n\r\n**NOTE:** Except *Bootstrap class loader*, which is implemented in native language mostly in C,  all  Java class loaders are implemented using `java.lang.ClassLoader`.\r\n\r\n### *Visibility Principle*\r\n\r\n&gt; According to visibility principle, **Child ClassLoader** can see class loaded by **Parent ClassLoader** but vice-versa is not true. \r\n\r\n### *Uniqueness Principle*\r\n\r\n&gt;According to this principle a class loaded by Parent should not be loaded by Child ClassLoader again\r\n\r\n\r\n**Source** :javin paul blog in javarevisited :\r\n\r\n  [1]: http://javarevisited.blogspot.com/2012/12/how-classloader-works-in-java.html\r\n","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>Adding to @David Roussel answer, classes may be loaded by multiple class loaders.</p>\n<p>Lets understand how <a href=\"http://javarevisited.blogspot.com/2012/12/how-classloader-works-in-java.html\" rel=\"nofollow noreferrer\">class loader</a> works.</p>\n<blockquote>\n<p><em>Bootstrap ClassLoader</em> is responsible for loading standard JDK class files from rt.jar and it is parent of all class loaders in Java. Bootstrap class loader don't have any parents.</p>\n</blockquote>\n<blockquote>\n<p><em>Extension ClassLoader</em> delegates class loading request to its parent, Bootstrap and if unsuccessful, loads class form jre/lib/ext directory or any other directory pointed by java.ext.dirs system property</p>\n</blockquote>\n<blockquote>\n<p><em>System or Application class loader</em> and it is responsible for loading application specific classes from CLASSPATH environment variable, -classpath or -cp command line option, Class-Path attribute of Manifest file inside JAR.</p>\n</blockquote>\n<blockquote>\n<p><em>Application class loader</em> is a child of <em>Extension ClassLoader</em> and its implemented by <code>sun.misc.Launcher$AppClassLoader</code> class.</p>\n</blockquote>\n<p><code>ClassLoader</code> follows three principles.</p>\n<h3><em>Delegation principle</em></h3>\n<blockquote>\n<p>A class is loaded in Java, when its needed. Suppose you have an application specific class called Abc.class, first request of loading this class will come to Application ClassLoader which will delegate to its parent Extension ClassLoader which further delegates to Primordial or Bootstrap class loader</p>\n</blockquote>\n<p><strong>NOTE:</strong> Except <em>Bootstrap class loader</em>, which is implemented in native language mostly in C,  all  Java class loaders are implemented using <code>java.lang.ClassLoader</code>.</p>\n<h3><em>Visibility Principle</em></h3>\n<blockquote>\n<p>According to visibility principle, <strong>Child ClassLoader</strong> can see class loaded by <strong>Parent ClassLoader</strong> but vice-versa is not true.</p>\n</blockquote>\n<h3><em>Uniqueness Principle</em></h3>\n<blockquote>\n<p>According to this principle a class loaded by Parent should not be loaded by Child ClassLoader again</p>\n</blockquote>\n<p><strong>Source</strong> :javin paul blog in javarevisited :</p>\n"},{"tags":[],"owner":{"account_id":216232,"reputation":18304,"user_id":471341,"accept_rate":70,"display_name":"yonran"},"down_vote_count":4,"up_vote_count":201,"is_accepted":false,"score":197,"last_activity_date":1535667377,"creation_date":1458940677,"answer_id":36228195,"question_id":1771679,"body_markdown":"This does not answer the original question, but as the question is highly ranked and linked for any `ContextClassLoader` query, I think it is important to answer the related question of when the context class loader should be used. Short answer: **never use the context class loader**! But set it to `getClass().getClassLoader()` when you have to call a method that is missing a `ClassLoader` parameter.\r\n\r\nWhen code from one class asks to load another class, **the correct class loader to use is the same class loader as the caller class** (i.e., `getClass().getClassLoader()`). This is the way things work 99.9% of the time because [this is what the JVM does itself](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.4.3.1) the first time you construct an instance of a new class, invoke a static method, or access a static field.\r\n\r\nWhen you want to create a class using reflection (such as when deserializing or loading a configurable named class), the library that does the reflection should **always ask the application** which class loader to use, by receiving the `ClassLoader` as a parameter from the application. The application (which knows all the classes that need constructing) should pass it `getClass().getClassLoader()`.\r\n\r\nAny other way to obtain a class loader is incorrect. If a library uses hacks such as [`Thread.getContextClassLoader()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java#l814), [`sun.misc.VM.latestUserDefinedLoader()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/io/ObjectInputStream.java#l2399), or [`sun.reflect.Reflection.getCallerClass()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/lang/Class.java#l291) it is a bug caused by a deficiency in the API. Basically, `Thread.getContextClassLoader()` exists only because whoever designed  the `ObjectInputStream` API forgot to accept the `ClassLoader` as a parameter, and this mistake has haunted the Java community to this day.\r\n\r\nThat said, many many JDK classes use one of a few hacks to guess some class loader to use. Some use the `ContextClassLoader` (which fails when you run different apps on a shared thread pool, or when you leave the `ContextClassLoader null`), some walk the stack (which fails when the direct caller of the class is itself a library), some use the system class loader (which is fine, as long as it is documented to only use classes in the `CLASSPATH`) or bootstrap class loader, and some use an unpredictable combination of the above techniques (which only makes things more confusing). This has resulted in much weeping and gnashing of teeth. \r\n\r\nWhen using such an API, **first, try to find an overload of the method that accepts the class loader as a parameter**. If there is no sensible method, then try setting the `ContextClassLoader` before the API call (and resetting it afterwards):\r\n\r\n    ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n    try {\r\n        Thread.currentThread().setContextClassLoader(getClass().getClassLoader());\r\n        // call some API that uses reflection without taking ClassLoader param\r\n    } finally {\r\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n    }","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>This does not answer the original question, but as the question is highly ranked and linked for any <code>ContextClassLoader</code> query, I think it is important to answer the related question of when the context class loader should be used. Short answer: <strong>never use the context class loader</strong>! But set it to <code>getClass().getClassLoader()</code> when you have to call a method that is missing a <code>ClassLoader</code> parameter.</p>\n\n<p>When code from one class asks to load another class, <strong>the correct class loader to use is the same class loader as the caller class</strong> (i.e., <code>getClass().getClassLoader()</code>). This is the way things work 99.9% of the time because <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.4.3.1\" rel=\"noreferrer\">this is what the JVM does itself</a> the first time you construct an instance of a new class, invoke a static method, or access a static field.</p>\n\n<p>When you want to create a class using reflection (such as when deserializing or loading a configurable named class), the library that does the reflection should <strong>always ask the application</strong> which class loader to use, by receiving the <code>ClassLoader</code> as a parameter from the application. The application (which knows all the classes that need constructing) should pass it <code>getClass().getClassLoader()</code>.</p>\n\n<p>Any other way to obtain a class loader is incorrect. If a library uses hacks such as <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java#l814\" rel=\"noreferrer\"><code>Thread.getContextClassLoader()</code></a>, <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/io/ObjectInputStream.java#l2399\" rel=\"noreferrer\"><code>sun.misc.VM.latestUserDefinedLoader()</code></a>, or <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/lang/Class.java#l291\" rel=\"noreferrer\"><code>sun.reflect.Reflection.getCallerClass()</code></a> it is a bug caused by a deficiency in the API. Basically, <code>Thread.getContextClassLoader()</code> exists only because whoever designed  the <code>ObjectInputStream</code> API forgot to accept the <code>ClassLoader</code> as a parameter, and this mistake has haunted the Java community to this day.</p>\n\n<p>That said, many many JDK classes use one of a few hacks to guess some class loader to use. Some use the <code>ContextClassLoader</code> (which fails when you run different apps on a shared thread pool, or when you leave the <code>ContextClassLoader null</code>), some walk the stack (which fails when the direct caller of the class is itself a library), some use the system class loader (which is fine, as long as it is documented to only use classes in the <code>CLASSPATH</code>) or bootstrap class loader, and some use an unpredictable combination of the above techniques (which only makes things more confusing). This has resulted in much weeping and gnashing of teeth. </p>\n\n<p>When using such an API, <strong>first, try to find an overload of the method that accepts the class loader as a parameter</strong>. If there is no sensible method, then try setting the <code>ContextClassLoader</code> before the API call (and resetting it afterwards):</p>\n\n<pre><code>ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\ntry {\n    Thread.currentThread().setContextClassLoader(getClass().getClassLoader());\n    // call some API that uses reflection without taking ClassLoader param\n} finally {\n    Thread.currentThread().setContextClassLoader(originalClassLoader);\n}\n</code></pre>\n"}],"owner":{"account_id":72979,"reputation":3097,"user_id":210434,"display_name":"abracadabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132779,"favorite_count":0,"down_vote_count":0,"up_vote_count":305,"accepted_answer_id":1771725,"answer_count":4,"score":305,"last_activity_date":1681981661,"creation_date":1258734825,"question_id":1771679,"body_markdown":"What is the difference between a thread&#39;s context class loader and a normal class loader?\r\n\r\nThat is, if `Thread.currentThread().getContextClassLoader()` and `getClass().getClassLoader()` return different class loader objects, which one will be used?","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>What is the difference between a thread's context class loader and a normal class loader?</p>\n\n<p>That is, if <code>Thread.currentThread().getContextClassLoader()</code> and <code>getClass().getClassLoader()</code> return different class loader objects, which one will be used?</p>\n"},{"tags":["java","oracle","maven","weblogic"],"answers":[{"tags":[],"owner":{"account_id":5453560,"reputation":21,"user_id":4337682,"display_name":"krzysiek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681932770,"creation_date":1681932770,"answer_id":76058200,"question_id":76052349,"body_markdown":"Unfortunately, the solution won&#39;t be easy. The libraries you&#39;re looking for have probably disappeared from the Oracle Maven repository. It happens quite often that old Oracle libraries or plugins for jDeveloper are removed. I had the same problem with the Oracle WebCenter plugin for JDeveloper 11g. The only solution was to recover these files from another computer.\r\n\r\n\r\nI&#39;ve unpacked and searched recursively all jars from WebLogic installation 10.3.6, and definitely the libraries you mentioned aren&#39;t there, neither in JDeveloper nor in Integrated WebLogic. Which makes sense since you have said that the project connects to maven.oracle.com for these dependencies.\r\n\r\nI&#39;ve connected to Oracle Maven, and these libraries don&#39;t exist there anymore. They were quite old, so they were probably deleted.\r\n\r\nI see a few possible workarounds:\r\n\r\n1. Locate the war of the built project and unpack the libraries. I don&#39;t know what this project is, but if these are not WebLogic libraries but dependencies, they should be in war (or ear).\r\n2. Maybe someone has configured the whole environment for this project so you can copy libraries.\r\n3. If you have paid support, you can create a ticket to Oracle.\r\n4. Try to get help on the Oracle forum at https://community.oracle.com. Maybe you&#39;ll find someone who can help you.\r\n5. Check if you really need these libraries. Maybe if you exclude them from the pom, everything will work. If problem happens during deployment, maybe it&#39;s enough to add missing libraries. Trying newer versions of these libraries if some are available is also possible.","title":"Netuix and p13n dependencies missing","body":"<p>Unfortunately, the solution won't be easy. The libraries you're looking for have probably disappeared from the Oracle Maven repository. It happens quite often that old Oracle libraries or plugins for jDeveloper are removed. I had the same problem with the Oracle WebCenter plugin for JDeveloper 11g. The only solution was to recover these files from another computer.</p>\n<p>I've unpacked and searched recursively all jars from WebLogic installation 10.3.6, and definitely the libraries you mentioned aren't there, neither in JDeveloper nor in Integrated WebLogic. Which makes sense since you have said that the project connects to maven.oracle.com for these dependencies.</p>\n<p>I've connected to Oracle Maven, and these libraries don't exist there anymore. They were quite old, so they were probably deleted.</p>\n<p>I see a few possible workarounds:</p>\n<ol>\n<li>Locate the war of the built project and unpack the libraries. I don't know what this project is, but if these are not WebLogic libraries but dependencies, they should be in war (or ear).</li>\n<li>Maybe someone has configured the whole environment for this project so you can copy libraries.</li>\n<li>If you have paid support, you can create a ticket to Oracle.</li>\n<li>Try to get help on the Oracle forum at <a href=\"https://community.oracle.com\" rel=\"nofollow noreferrer\">https://community.oracle.com</a>. Maybe you'll find someone who can help you.</li>\n<li>Check if you really need these libraries. Maybe if you exclude them from the pom, everything will work. If problem happens during deployment, maybe it's enough to add missing libraries. Trying newer versions of these libraries if some are available is also possible.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681981241,"creation_date":1681978504,"answer_id":76061934,"question_id":76052349,"body_markdown":"Turns out I was pointing to a wrong WebLogic product! I discovered that the native `pom.xml` of the project has to work with WebLogic Portal 10.3.6 instead of WebLogic Server 10.3.6! It took me some time to find out a link to download this Portal (since it&#39;s in EOL) but here it is:\r\n\r\n1) Go to [this link][1]\r\n2) Prompt `WebLogic Portal` (do NOT click on the suggestion, either it will show a lot more stuff)\r\n3) Oracle WebLogic Portal 10.3.6.0.0, download it\r\n4) It will download an `.exe` that will download the `.zip` wherever you want\r\n5) Extract\r\n6) Run the `.jar` with Java 7 and follow the guided installation procedure\r\n\r\nIt will contain everything, both `p13n` and `netuix` libraries, plus an installation of WebLogic Server!\r\n\r\n\r\n  [1]: https://edelivery.oracle.com/osdc/faces/SoftwareDelivery","title":"Netuix and p13n dependencies missing","body":"<p>Turns out I was pointing to a wrong WebLogic product! I discovered that the native <code>pom.xml</code> of the project has to work with WebLogic Portal 10.3.6 instead of WebLogic Server 10.3.6! It took me some time to find out a link to download this Portal (since it's in EOL) but here it is:</p>\n<ol>\n<li>Go to <a href=\"https://edelivery.oracle.com/osdc/faces/SoftwareDelivery\" rel=\"nofollow noreferrer\">this link</a></li>\n<li>Prompt <code>WebLogic Portal</code> (do NOT click on the suggestion, either it will show a lot more stuff)</li>\n<li>Oracle WebLogic Portal 10.3.6.0.0, download it</li>\n<li>It will download an <code>.exe</code> that will download the <code>.zip</code> wherever you want</li>\n<li>Extract</li>\n<li>Run the <code>.jar</code> with Java 7 and follow the guided installation procedure</li>\n</ol>\n<p>It will contain everything, both <code>p13n</code> and <code>netuix</code> libraries, plus an installation of WebLogic Server!</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76061934,"answer_count":2,"score":1,"last_activity_date":1681981241,"creation_date":1681893232,"question_id":76052349,"body_markdown":"I have to recreate the local environment of a Maven project. Along other dependencies, it manually pulls some Oracle libraries from a local installation of WebLogic, using `truezip-maven-plugin` and `maven-install-plugin`, to put them into `.m2`.\r\n\r\nFor example, in my `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;copy-weblogic-libs&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;files&gt;\r\n                        &lt;file&gt;\r\n                            &lt;source&gt;${WL_HOME}/wlserver/server/lib/consoleapp/APP-INF/lib/p13n_system.jar&lt;/source&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base&lt;/outputDirectory&gt;\r\n                        &lt;/file&gt;\r\n                    &lt;/files&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;copy&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;install-com-bea-p13n-app-lib-base-p13n-system&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;file&gt;\r\n                        ${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base/p13n_system.jar\r\n                    &lt;/file&gt;\r\n                    &lt;groupId&gt;com.bea.p13n.p13n-app-lib-base&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;p13n_system&lt;/artifactId&gt;\r\n                    &lt;version&gt;10.3.6&lt;/version&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;            \r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis works fine.\r\n\r\n&lt;br&gt;\r\n\r\nBut the project requires other `.jars`, that don&#39;t seem to exist. Specifically, `p13n_app.jar`, `p13n_ejb.jar` and `netuix.jar` (all under `com.bea` domain). The project is setup to connect to `maven.oracle.com` through `settings.xml`. I tried searching for a manual download of these `.jars` but without success. &lt;br&gt; This is all I could find:\r\n\r\n- Manually browsing the Maven repository\r\n\r\n    https://repo.maven.apache.org/maven2/com/bea/\r\n\r\n    https://mvnrepository.com/artifact/com.bea.p13n\r\n\r\nDead end, since neither `netuix` nor `p13n` packages exist (even though there are results in `mvnrepository.com`).\r\n\r\n&lt;br&gt;\r\n\r\n - Manually browsing other repositories, like:\r\n\r\n    http://www.java2s.com/Code/Jar/c/com.bea.htm\r\n\r\nAgain, dead end for the same reason.\r\n\r\n    https://maven.oracle.com/com/bea/p13n/p13n-app-lib-base/p13n_app/10.3.6/p13n_app-10.3.6.pom\r\n\r\nThis is the link Maven tries to connect to download the dependency. It says `Not found`\r\n\r\n    http://nexus.emergya.es/nexus/index.html#nexus-search;quick~com.bea.p13n\r\n\r\nIt actually has some results, but when clicking the Download button it leads to [this page][1].\r\n\r\n- Installing a different WebLogic package. I installed a development version, so I thought it could miss something, but even after installing the standard WebLogic they are missing\r\n\r\n- Browsing existing WebLogic installments, like test environments from other projects\r\n\r\nShould I keep searching for these libraries or are they deprecated? Can I extract these libraries from a `war` already build with it? They seem to have been deleted anywhere. In this case I should search for a newer library (with the risk of incompatibilities with the code already written). Any help is highly appreciated!\r\n\r\n  [1]: http://nexus.emergya.es/nexus/service/local/artifact/maven/redirect?r=nexus-nuxeo&amp;g=com.bea.p13n&amp;a=ejb&amp;v=10.3.2&amp;e=jar","title":"Netuix and p13n dependencies missing","body":"<p>I have to recreate the local environment of a Maven project. Along other dependencies, it manually pulls some Oracle libraries from a local installation of WebLogic, using <code>truezip-maven-plugin</code> and <code>maven-install-plugin</code>, to put them into <code>.m2</code>.</p>\n<p>For example, in my <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-weblogic-libs&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;files&gt;\n                    &lt;file&gt;\n                        &lt;source&gt;${WL_HOME}/wlserver/server/lib/consoleapp/APP-INF/lib/p13n_system.jar&lt;/source&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base&lt;/outputDirectory&gt;\n                    &lt;/file&gt;\n                &lt;/files&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;generatePom&gt;true&lt;/generatePom&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install-com-bea-p13n-app-lib-base-p13n-system&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;\n                    ${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base/p13n_system.jar\n                &lt;/file&gt;\n                &lt;groupId&gt;com.bea.p13n.p13n-app-lib-base&lt;/groupId&gt;\n                &lt;artifactId&gt;p13n_system&lt;/artifactId&gt;\n                &lt;version&gt;10.3.6&lt;/version&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;install&lt;/phase&gt;            \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This works fine.</p>\n<br>\n<p>But the project requires other <code>.jars</code>, that don't seem to exist. Specifically, <code>p13n_app.jar</code>, <code>p13n_ejb.jar</code> and <code>netuix.jar</code> (all under <code>com.bea</code> domain). The project is setup to connect to <code>maven.oracle.com</code> through <code>settings.xml</code>. I tried searching for a manual download of these <code>.jars</code> but without success. <br> This is all I could find:</p>\n<ul>\n<li><p>Manually browsing the Maven repository</p>\n<p><a href=\"https://repo.maven.apache.org/maven2/com/bea/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/bea/</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/com.bea.p13n\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.bea.p13n</a></p>\n</li>\n</ul>\n<p>Dead end, since neither <code>netuix</code> nor <code>p13n</code> packages exist (even though there are results in <code>mvnrepository.com</code>).</p>\n<br>\n<ul>\n<li><p>Manually browsing other repositories, like:</p>\n<p><a href=\"http://www.java2s.com/Code/Jar/c/com.bea.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/c/com.bea.htm</a></p>\n</li>\n</ul>\n<p>Again, dead end for the same reason.</p>\n<pre><code>https://maven.oracle.com/com/bea/p13n/p13n-app-lib-base/p13n_app/10.3.6/p13n_app-10.3.6.pom\n</code></pre>\n<p>This is the link Maven tries to connect to download the dependency. It says <code>Not found</code></p>\n<pre><code>http://nexus.emergya.es/nexus/index.html#nexus-search;quick~com.bea.p13n\n</code></pre>\n<p>It actually has some results, but when clicking the Download button it leads to <a href=\"http://nexus.emergya.es/nexus/service/local/artifact/maven/redirect?r=nexus-nuxeo&amp;g=com.bea.p13n&amp;a=ejb&amp;v=10.3.2&amp;e=jar\" rel=\"nofollow noreferrer\">this page</a>.</p>\n<ul>\n<li><p>Installing a different WebLogic package. I installed a development version, so I thought it could miss something, but even after installing the standard WebLogic they are missing</p>\n</li>\n<li><p>Browsing existing WebLogic installments, like test environments from other projects</p>\n</li>\n</ul>\n<p>Should I keep searching for these libraries or are they deprecated? Can I extract these libraries from a <code>war</code> already build with it? They seem to have been deleted anywhere. In this case I should search for a newer library (with the risk of incompatibilities with the code already written). Any help is highly appreciated!</p>\n"},{"tags":["java","datetime","date","calendar"],"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":2,"creation_date":1279722880,"post_id":3300328,"comment_id":3418619,"body_markdown":"*cough* Use Joda-Time. `DateTime newDate = date.plusWeeks(1);`","body":"<i>cough</i> Use Joda-Time. <code>DateTime newDate = date.plusWeeks(1);</code>"},{"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"score":7,"creation_date":1279723067,"post_id":3300328,"comment_id":3418660,"body_markdown":"The code is run on a Windows Mobile device using a JVM based largely on Java 1.2.  Joda is only tested against 1.4 and later, so I don&#39;t want to add a third party library that was not really designed to run on the platform I am using. But thanks for the suggestion.","body":"The code is run on a Windows Mobile device using a JVM based largely on Java 1.2.  Joda is only tested against 1.4 and later, so I don&#39;t want to add a third party library that was not really designed to run on the platform I am using. But thanks for the suggestion."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681525145,"post_id":3300328,"comment_id":134075031,"body_markdown":"**Update:** `GregorianCalendar`, and both `Date` classes bundled with Java were years ago supplanted by the modern *java.time* classes defined in JSR 310, and built into Java 8+.","body":"<b>Update:</b> <code>GregorianCalendar</code>, and both <code>Date</code> classes bundled with Java were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310, and built into Java 8+."}],"answers":[{"tags":[],"owner":{"account_id":46283,"reputation":2572,"user_id":136650,"accept_rate":86,"display_name":"raven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279722731,"creation_date":1279722731,"answer_id":3300355,"question_id":3300328,"body_markdown":"The more general, the more useful it will be.\r\nIf you always add a week, I&#39;d chose the second method. If you have different adds, I&#39;d chose the first one, perhaps replacing days for seconds or even millis if needed.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The more general, the more useful it will be.\nIf you always add a week, I'd chose the second method. If you have different adds, I'd chose the first one, perhaps replacing days for seconds or even millis if needed.</p>\n"},{"tags":[],"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1279723060,"creation_date":1279723060,"answer_id":3300414,"question_id":3300328,"body_markdown":"The first will be slower, so if performance is an issue, the second one is better.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The first will be slower, so if performance is an issue, the second one is better.</p>\n"},{"tags":[],"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279724643,"creation_date":1279723113,"answer_id":3300428,"question_id":3300328,"body_markdown":"&lt;strike&gt;First and foremost, I would argue that you replace it with JodaTime. http://joda-time.sourceforge.net/ It is a very nice time library. You&#39;ll want to look at this page to see how easy it is to add days or weeks to a particular point in time: http://joda-time.sourceforge.net/key_period.html&lt;/strike&gt; Can&#39;t do this, mobile device with incompatible JVM. Bummer.\r\n\r\nYour first example is easier to read and will be easier to use by your developers. It also uses the Calendar classes which is the generally accepted way to manipulate dates in Java. What makes it better is that it has a clear method name that sets the expectation for what it does.\r\n\r\nSo if you refactor your system to consistently use com.DaveJ.util.date.DateUtils.addDaysToDate(final Date date, int noOfDays) you can then do whatever you want inside that method, be it Calendar or millis or Joda, and be consistent within your application. Don&#39;t forget to write some unit tests for it!","title":"Add 1 Week to a Date, which way is preferred?","body":"<p><strike>First and foremost, I would argue that you replace it with JodaTime. <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">http://joda-time.sourceforge.net/</a> It is a very nice time library. You'll want to look at this page to see how easy it is to add days or weeks to a particular point in time: <a href=\"http://joda-time.sourceforge.net/key_period.html\" rel=\"nofollow noreferrer\">http://joda-time.sourceforge.net/key_period.html</a></strike> Can't do this, mobile device with incompatible JVM. Bummer.</p>\n\n<p>Your first example is easier to read and will be easier to use by your developers. It also uses the Calendar classes which is the generally accepted way to manipulate dates in Java. What makes it better is that it has a clear method name that sets the expectation for what it does.</p>\n\n<p>So if you refactor your system to consistently use com.DaveJ.util.date.DateUtils.addDaysToDate(final Date date, int noOfDays) you can then do whatever you want inside that method, be it Calendar or millis or Joda, and be consistent within your application. Don't forget to write some unit tests for it!</p>\n"},{"tags":[],"owner":{"account_id":82150,"reputation":477,"user_id":231203,"display_name":"Po&#39; Lazarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723271,"creation_date":1279723271,"answer_id":3300450,"question_id":3300328,"body_markdown":"It depends! Because of leap seconds, DST and other calendar oddities, the two are not always equivalent.\r\n\r\nFor business and every day use, always use the first method and the performance are not bad at all. It will handle those things for you.\r\n\r\nFor scientific needs, often you have to use a monotone clock (here the second one).","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>It depends! Because of leap seconds, DST and other calendar oddities, the two are not always equivalent.</p>\n\n<p>For business and every day use, always use the first method and the performance are not bad at all. It will handle those things for you.</p>\n\n<p>For scientific needs, often you have to use a monotone clock (here the second one).</p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723615,"creation_date":1279723615,"answer_id":3300509,"question_id":3300328,"body_markdown":"The two methods might give different results when a change in daylight saving time is involved. Imagine the current time is 23:50 and at 02:00 the clock jumps to 03:00. When you just add 7 days in milliseconds the time would be 00:50 on the following day. Addings 7 days, the resulting time would still be 23:50.\r\n\r\nTo make the confusion complete, you could also try `add(Calendar.WEEK_OF_YEAR, 1)`, not sure how that would differ though.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The two methods might give different results when a change in daylight saving time is involved. Imagine the current time is 23:50 and at 02:00 the clock jumps to 03:00. When you just add 7 days in milliseconds the time would be 00:50 on the following day. Addings 7 days, the resulting time would still be 23:50.</p>\n\n<p>To make the confusion complete, you could also try <code>add(Calendar.WEEK_OF_YEAR, 1)</code>, not sure how that would differ though.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1279723617,"creation_date":1279723617,"answer_id":3300510,"question_id":3300328,"body_markdown":"The two methods will behave differently on daylight savings boundaries.  The first method will continue returning the same time of the day, regardless of daylight savings status.  The second method will return times which vary an hour in each direction as daylight savings time starts and stops.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The two methods will behave differently on daylight savings boundaries.  The first method will continue returning the same time of the day, regardless of daylight savings status.  The second method will return times which vary an hour in each direction as daylight savings time starts and stops.</p>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723632,"creation_date":1279723632,"answer_id":3300513,"question_id":3300328,"body_markdown":"Since you&#39;re using it on the mobile device, the first method is preferable. The reason is that your code should be independent of specific calendar, DST and other problems, such as seconds overrun(leap seconds). \r\n\r\nYou have to remove dependence on `GregorianCalendar` and create it using `Calendar.getInstance()`. ","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Since you're using it on the mobile device, the first method is preferable. The reason is that your code should be independent of specific calendar, DST and other problems, such as seconds overrun(leap seconds). </p>\n\n<p>You have to remove dependence on <code>GregorianCalendar</code> and create it using <code>Calendar.getInstance()</code>. </p>\n"},{"tags":[],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279742044,"creation_date":1279742044,"answer_id":3303259,"question_id":3300328,"body_markdown":"Be very careful about using method two which [caught me out](https://stackoverflow.com/questions/3165319/whats-wrong-with-this-random-date-of-birth-generator) the other day.  Consider\r\n\r\n    private static long ONE_YEAR_AS_MILLISECONDS = 365*24*60*60*1000;\r\n\r\nThis looks innocent enough, but in fact will not produce what is expected as the multiplication uses integers which, when multiplied by each the other integers, causes a numeric overflow and will yield an unexpected result.  This is because the max int value in Java is 2,147,483,647 and yet there are 31,536,000,000 ms in a year.  On my machine the above code produces 1,471,228,928 which is obviously not correct.\r\n\r\nInstead you need to do this:\r\n\r\n    private static long ONE_YEAR_AS_MILLISECONDS = 365L*24L*60L*60L*1000L;\r\n","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Be very careful about using method two which <a href=\"https://stackoverflow.com/questions/3165319/whats-wrong-with-this-random-date-of-birth-generator\">caught me out</a> the other day.  Consider</p>\n\n<pre><code>private static long ONE_YEAR_AS_MILLISECONDS = 365*24*60*60*1000;\n</code></pre>\n\n<p>This looks innocent enough, but in fact will not produce what is expected as the multiplication uses integers which, when multiplied by each the other integers, causes a numeric overflow and will yield an unexpected result.  This is because the max int value in Java is 2,147,483,647 and yet there are 31,536,000,000 ms in a year.  On my machine the above code produces 1,471,228,928 which is obviously not correct.</p>\n\n<p>Instead you need to do this:</p>\n\n<pre><code>private static long ONE_YEAR_AS_MILLISECONDS = 365L*24L*60L*60L*1000L;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471280420,"creation_date":1471280420,"answer_id":38959522,"question_id":3300328,"body_markdown":"The below can be done in **java 8, Java 8 rocks** !!\r\n\r\n    public static void main(String[] args) {\r\n    \t\tLocalDate today = LocalDate.now();\r\n    \t\tSystem.out.println(&quot;Current date: &quot; + today);\r\n    \t\t\r\n    \t\t//add 1 week to the current date\r\n    \t\tLocalDate nextWeek = today.plus(1, ChronoUnit.WEEKS);\r\n    \t\tSystem.out.println(&quot;Next week: &quot; + nextWeek);\r\n    \t}","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The below can be done in <strong>java 8, Java 8 rocks</strong> !!</p>\n\n<pre><code>public static void main(String[] args) {\n        LocalDate today = LocalDate.now();\n        System.out.println(\"Current date: \" + today);\n\n        //add 1 week to the current date\n        LocalDate nextWeek = today.plus(1, ChronoUnit.WEEKS);\n        System.out.println(\"Next week: \" + nextWeek);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681525326,"creation_date":1471292903,"answer_id":38962545,"question_id":3300328,"body_markdown":"# tl;dr\r\n\r\nFor a date only, use [`LocalDate`][1]:\r\n\r\n    java.time.LocalDate.now().plusWeeks( 1 ) \r\n\r\nFor a date with time-of-day, use [`ZonedDateTime`][2]:\r\n\r\n    java.time.ZonedDateTime.now().plusWeeks( 1 ) ;\r\n\r\n\r\n# Details\r\n\r\nFor a date-only value, see [the Answer by javaHelper](https://stackoverflow.com/a/38959522/642706). The [`LocalDate`][3] class purposely has no time-of-day and no time zone.\r\n\r\n## `ZonedDateTime`\r\n\r\nFor a date-time value, use [`ZonedDateTime`][4] to represent a date and a time-of-day along with a time zone to account for anomalies such as Daylight Saving Time (DST).\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n    ZonedDateTime weekLater = now.plusWeeks( 1 );\r\n\r\nOr add some arbitrary number of days.\r\n\r\n    ZonedDateTime later = now.plusDays( someNumberOfDays );\r\n\r\n## About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"Add 1 Week to a Date, which way is preferred?","body":"<h1>tl;dr</h1>\n<p>For a date only, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>:</p>\n<pre><code>java.time.LocalDate.now().plusWeeks( 1 ) \n</code></pre>\n<p>For a date with time-of-day, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>:</p>\n<pre><code>java.time.ZonedDateTime.now().plusWeeks( 1 ) ;\n</code></pre>\n<h1>Details</h1>\n<p>For a date-only value, see <a href=\"https://stackoverflow.com/a/38959522/642706\">the Answer by javaHelper</a>. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class purposely has no time-of-day and no time zone.</p>\n<h2><code>ZonedDateTime</code></h2>\n<p>For a date-time value, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to represent a date and a time-of-day along with a time zone to account for anomalies such as Daylight Saving Time (DST).</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime now = ZonedDateTime.now( zoneId );\nZonedDateTime weekLater = now.plusWeeks( 1 );\n</code></pre>\n<p>Or add some arbitrary number of days.</p>\n<pre><code>ZonedDateTime later = now.plusDays( someNumberOfDays );\n</code></pre>\n<h2>About java.time</h2>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time.</p>\n"},{"tags":[],"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681981034,"creation_date":1681471037,"answer_id":76014552,"question_id":3300328,"body_markdown":"Since Java8, with `Date` only, ignoring any summer time/winter time shift between &#39;date&#39; and the future date:\r\n\r\n    Date newDate = Date.from(date.toInstant().plus(noOfDays, ChronoUnit.DAYS));","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Since Java8, with <code>Date</code> only, ignoring any summer time/winter time shift between 'date' and the future date:</p>\n<pre><code>Date newDate = Date.from(date.toInstant().plus(noOfDays, ChronoUnit.DAYS));\n</code></pre>\n"}],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25893,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":3300510,"answer_count":11,"score":25,"last_activity_date":1681981034,"creation_date":1279722578,"question_id":3300328,"body_markdown":"I am reviewing some code at work and came across an inconsistency in how the code handles adding 1 week to the current time and was wondering if there was any reason why one should really be preferred over the other:\r\n\r\nThe first was a utility method:\r\n\r\n\tpublic static Date addDaysToDate(final Date date, int noOfDays) {\r\n\t\tDate newDate = new Date(date.getTime());\r\n\r\n\t\tGregorianCalendar calendar = new GregorianCalendar();\r\n\t\tcalendar.setTime(newDate);\r\n\t\tcalendar.add(Calendar.DATE, noOfDays);\r\n\t\tnewDate.setTime(calendar.getTime().getTime());\r\n\r\n\t\treturn newDate;\r\n\t}\r\n\r\nAnd the second used simple millisecond arithmetic:\r\n\r\n    long theFuture = System.currentTimeMillis() + (86400 * 7 * 1000);\r\n    Date nextWeek = new Date(theFuture);\r\n\r\nThe second method obviously uses &#39;magic numbers&#39; to define a week, but this could be moved to a constant `MILLISECONDS_IN_ONE_WEEK = 86400 * 7 * 1000`  So other than that, is there any reasons why one of these methods should be preferred over the other?  \r\n\r\nBasically I want to change the code to be consistent throughout, but I&#39;m not entirely sure which one to remove.  So any arguments one way or the other would be useful.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>I am reviewing some code at work and came across an inconsistency in how the code handles adding 1 week to the current time and was wondering if there was any reason why one should really be preferred over the other:</p>\n\n<p>The first was a utility method:</p>\n\n<pre><code>public static Date addDaysToDate(final Date date, int noOfDays) {\n    Date newDate = new Date(date.getTime());\n\n    GregorianCalendar calendar = new GregorianCalendar();\n    calendar.setTime(newDate);\n    calendar.add(Calendar.DATE, noOfDays);\n    newDate.setTime(calendar.getTime().getTime());\n\n    return newDate;\n}\n</code></pre>\n\n<p>And the second used simple millisecond arithmetic:</p>\n\n<pre><code>long theFuture = System.currentTimeMillis() + (86400 * 7 * 1000);\nDate nextWeek = new Date(theFuture);\n</code></pre>\n\n<p>The second method obviously uses 'magic numbers' to define a week, but this could be moved to a constant <code>MILLISECONDS_IN_ONE_WEEK = 86400 * 7 * 1000</code>  So other than that, is there any reasons why one of these methods should be preferred over the other?  </p>\n\n<p>Basically I want to change the code to be consistent throughout, but I'm not entirely sure which one to remove.  So any arguments one way or the other would be useful.</p>\n"},{"tags":["java","tcp","udp"],"owner":{"account_id":6009063,"reputation":1216,"user_id":4720030,"accept_rate":70,"display_name":"Shaheen Zahedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681980842,"creation_date":1681980842,"question_id":76062254,"body_markdown":"I want to implement a file server for a mobile app. This app requires so many tiny files to be downloaded from the server before it begins it&#39;s work And with updates from version to version some files are overwritten and some files gets modified or deleted.\r\n\r\nTried solutions:\r\n\r\n 1. Archive chunk download for each version, this means I create a zip file for each version and we serve the chunked zip file. The problem with this is that it&#39;s inefficient because extracting in the client requires too much extra space and second problem is that it&#39;s hard handling updates (downloading only necessary files when there are already some files on the client)\r\n 2. TCP download without archive, this one is inefficient because of too much overhead on TCP handshake for each file it wastes too much time\r\n 3. UDP download without archive, this one is not safe and we cannot guarantee the files downloaded on the client is healthy. Also doing checksum for each file on the client side is an expensive process we don&#39;t want to get into that.\r\n\r\nAny suggestions is highly appreciated.\r\n\r\n**Maybe it&#39;s woth mentioning that I use java spring boot on the server side**","title":"Implementing asset download for mobile app with updates","body":"<p>I want to implement a file server for a mobile app. This app requires so many tiny files to be downloaded from the server before it begins it's work And with updates from version to version some files are overwritten and some files gets modified or deleted.</p>\n<p>Tried solutions:</p>\n<ol>\n<li>Archive chunk download for each version, this means I create a zip file for each version and we serve the chunked zip file. The problem with this is that it's inefficient because extracting in the client requires too much extra space and second problem is that it's hard handling updates (downloading only necessary files when there are already some files on the client)</li>\n<li>TCP download without archive, this one is inefficient because of too much overhead on TCP handshake for each file it wastes too much time</li>\n<li>UDP download without archive, this one is not safe and we cannot guarantee the files downloaded on the client is healthy. Also doing checksum for each file on the client side is an expensive process we don't want to get into that.</li>\n</ol>\n<p>Any suggestions is highly appreciated.</p>\n<p><strong>Maybe it's woth mentioning that I use java spring boot on the server side</strong></p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb","spring-data-mongodb-reactive"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681980771,"creation_date":1681980771,"answer_id":76062237,"question_id":75897357,"body_markdown":"&gt; type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot;\r\n\r\nThe error says that you are getting an array instead of an object at the plot key. If you check your document `UserPlot` you have Plot as a property, not an array. So aggregation from the second lookup is returning an array.\r\n\r\nSo, you need to use `$unwind` to convert the array to an object in aggregation. As, we have always 1 plot so we can use that. [$unwind documentation](https://www.mongodb.com/docs/manual/reference/operator/aggregation/unwind/)\r\n\r\nUpdated Aggregation:\r\n```Json\r\n{$lookup:{from:&#39;users_have_plots&#39;,let:{plots:&#39;$plots&#39;},pipeline:[{$match:{$expr:{$in:[&#39;$_id&#39;,{$ifNull:[&#39;$$plots.$id&#39;,[]]}]}}},{$lookup:{from:&#39;plots&#39;,localField:&#39;plot.$id&#39;,foreignField:&#39;_id&#39;,as:&#39;plot&#39;}},{$unwind: &#39;$plot&#39;}],as:&#39;plots&#39;}}\r\n```\r\n\r\nGives result an object in plot:\r\n```Json\r\n[\r\n  {\r\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\r\n    email: &#39;abc@abc.com&#39;,\r\n    password: &#39;$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu&#39;,\r\n    firstName: &#39;f&#39;,\r\n    lastName: &#39;l&#39;,\r\n    plots: [\r\n      {\r\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\r\n        userId: &#39;6412c76956d4170a7de34d92&#39;,\r\n        plot: {\r\n          _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\r\n          x: 0,\r\n          y: 0,\r\n          _class: &#39;com.vilya.farm.domain.model.Plot&#39;\r\n        },\r\n        _class: &#39;com.vilya.farm.domain.model.UserPlot&#39;\r\n      }\r\n    ],\r\n    _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n  },\r\n  {\r\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\r\n    email: &#39;abc1@abc.com&#39;,\r\n    password: &#39;$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS&#39;,\r\n    firstName: &#39;f&#39;,\r\n    lastName: &#39;l&#39;,\r\n    _class: &#39;com.vilya.farm.domain.model.User&#39;,\r\n    plots: []\r\n  }\r\n]\r\n```","title":"spring data mongo reactive throw org.springframework.data.mapping.MappingException when eager loading nested @DbRef","body":"<blockquote>\n<p>type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot;</p>\n</blockquote>\n<p>The error says that you are getting an array instead of an object at the plot key. If you check your document <code>UserPlot</code> you have Plot as a property, not an array. So aggregation from the second lookup is returning an array.</p>\n<p>So, you need to use <code>$unwind</code> to convert the array to an object in aggregation. As, we have always 1 plot so we can use that. <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/unwind/\" rel=\"nofollow noreferrer\">$unwind documentation</a></p>\n<p>Updated Aggregation:</p>\n<pre><code>{$lookup:{from:'users_have_plots',let:{plots:'$plots'},pipeline:[{$match:{$expr:{$in:['$_id',{$ifNull:['$$plots.$id',[]]}]}}},{$lookup:{from:'plots',localField:'plot.$id',foreignField:'_id',as:'plot'}},{$unwind: '$plot'}],as:'plots'}}\n</code></pre>\n<p>Gives result an object in plot:</p>\n<pre><code>[\n  {\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\n    email: 'abc@abc.com',\n    password: '$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu',\n    firstName: 'f',\n    lastName: 'l',\n    plots: [\n      {\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\n        userId: '6412c76956d4170a7de34d92',\n        plot: {\n          _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\n          x: 0,\n          y: 0,\n          _class: 'com.vilya.farm.domain.model.Plot'\n        },\n        _class: 'com.vilya.farm.domain.model.UserPlot'\n      }\n    ],\n    _class: 'com.vilya.farm.domain.model.User'\n  },\n  {\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\n    email: 'abc1@abc.com',\n    password: '$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS',\n    firstName: 'f',\n    lastName: 'l',\n    _class: 'com.vilya.farm.domain.model.User',\n    plots: []\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76062237,"answer_count":1,"score":2,"last_activity_date":1681980771,"creation_date":1680257701,"question_id":75897357,"body_markdown":"Basically, I have a `User` collection that contains a @DbRef to `UserPlot` (plots) collection. Inside `UserPlot`, I also have a @DbRef to `Plot` (plot). My goal is to find all users and eagerly load plots to `User` (also eagerly load plot to UserPlot)\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Document(collection = &quot;users&quot;)\r\npublic class User {\r\n\r\n  @Id private String id;\r\n\r\n  @Indexed(name = &quot;ui_email&quot;, unique = true)\r\n  private String email;\r\n\r\n  private String password;\r\n\r\n  @Indexed(name = &quot;ui_first_name&quot;)\r\n  private String firstName;\r\n\r\n  @Indexed(name = &quot;ui_last_name&quot;)\r\n  private String lastName;\r\n  \r\n  @DBRef\r\n  private List&lt;UserPlot&gt; plots;\r\n}\r\n\r\n@Data\r\n@Document(collection = &quot;users_have_plots&quot;)\r\npublic class UserPlot {\r\n  \r\n  @Id\r\n  private String id;\r\n  private String userId;\r\n  \r\n  @DBRef\r\n  private Plot plot;\r\n}\r\n\r\n@Data\r\n@Document(collection = &quot;plots&quot;)\r\n@NoArgsConstructor\r\npublic class Plot {\r\n  \r\n  @Id\r\n  private String id;\r\n  \r\n  private Integer x;\r\n  private Integer y;\r\n}\r\n\r\n@Repository\r\npublic interface UserRepository extends ReactiveMongoRepository&lt;User, String&gt; {\r\n  \r\n  @Aggregation(pipeline = {\r\n      &quot;{$lookup:{from:&#39;users_have_plots&#39;,let:{plots:&#39;$plots&#39;},pipeline:[{$match:{$expr:{$in:[&#39;$_id&#39;,{$ifNull:[&#39;$$plots.$id&#39;,[]]}]}}},{$lookup:{from:&#39;plots&#39;,localField:&#39;plot.$id&#39;,foreignField:&#39;_id&#39;,as:&#39;plot&#39;}}],as:&#39;plots&#39;}}&quot;\r\n  })\r\n  Flux&lt;User&gt; findAllIncludePlots();\r\n}\r\n\r\n@SpringBootApplication(exclude = UserDetailsServiceAutoConfiguration.class)\r\n@EnableReactiveMongoRepositories\r\npublic class FarmApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(FarmApplication.class, args);\r\n  }\r\n  \r\n  @Bean\r\n  CommandLineRunner t(UserRepository userRepository) {\r\n    return a -&gt; {\r\nuserRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();\r\n    };\r\n  }\r\n}\r\n```\r\nWhen I invoke `userRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();` then i get this error:\r\n\r\n    org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\r\n    Caused by: org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2292) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2325) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1402) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2297) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:413) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:409) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:121) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.ReactiveMongoTemplate$ReadDocumentCallback.doWith(ReactiveMongoTemplate.java:2914) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$4(BatchCursorFlux.java:98) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:173) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$0(BatchCursor.java:38) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4444) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4510) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4272) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:108) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:60) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.operation.CommandOperationHelper.lambda$transformingReadCallback$10(CommandOperationHelper.java:332) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$1.onResult(DefaultServer.java:242) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:683) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:524) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:501) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:824) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:788) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:89) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:778) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:763) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\nI think there is a problem with my `@Aggregation` but I cannot find out the reason. Please help. Thank you\r\n\r\nEDIT: my data looks like\r\n\r\n    vilya_be&gt; db.plots.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\r\n        x: 0,\r\n        y: 0,\r\n        _class: &#39;com.vilya.farm.domain.model.Plot&#39;\r\n      }\r\n    ]\r\n    \r\n    vilya_be&gt; db.users_have_plots.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\r\n        userId: &#39;6412c76956d4170a7de34d92&#39;,\r\n        plot: DBRef(&quot;plots&quot;, ObjectId(&quot;6426b069ca83da130cdb7f70&quot;)),\r\n        _class: &#39;com.vilya.farm.domain.model.UserPlot&#39;\r\n      }\r\n    ]\r\n    \r\n    vilya_be&gt; db.users.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\r\n        email: &#39;abc@abc.com&#39;,\r\n        password: &#39;$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu&#39;,\r\n        firstName: &#39;f&#39;,\r\n        lastName: &#39;l&#39;,\r\n        plots: [ DBRef(&quot;users_have_plots&quot;, ObjectId(&quot;6426b073ca83da130cdb7f71&quot;)) ],\r\n        _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n      },\r\n      {\r\n        _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\r\n        email: &#39;abc1@abc.com&#39;,\r\n        password: &#39;$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS&#39;,\r\n        firstName: &#39;f&#39;,\r\n        lastName: &#39;l&#39;,\r\n        _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n      }\r\n    ]\r\n\r\nmongo version: mongo:6.0.2-focal running on docker desktop","title":"spring data mongo reactive throw org.springframework.data.mapping.MappingException when eager loading nested @DbRef","body":"<p>Basically, I have a <code>User</code> collection that contains a @DbRef to <code>UserPlot</code> (plots) collection. Inside <code>UserPlot</code>, I also have a @DbRef to <code>Plot</code> (plot). My goal is to find all users and eagerly load plots to <code>User</code> (also eagerly load plot to UserPlot)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Document(collection = &quot;users&quot;)\npublic class User {\n\n  @Id private String id;\n\n  @Indexed(name = &quot;ui_email&quot;, unique = true)\n  private String email;\n\n  private String password;\n\n  @Indexed(name = &quot;ui_first_name&quot;)\n  private String firstName;\n\n  @Indexed(name = &quot;ui_last_name&quot;)\n  private String lastName;\n  \n  @DBRef\n  private List&lt;UserPlot&gt; plots;\n}\n\n@Data\n@Document(collection = &quot;users_have_plots&quot;)\npublic class UserPlot {\n  \n  @Id\n  private String id;\n  private String userId;\n  \n  @DBRef\n  private Plot plot;\n}\n\n@Data\n@Document(collection = &quot;plots&quot;)\n@NoArgsConstructor\npublic class Plot {\n  \n  @Id\n  private String id;\n  \n  private Integer x;\n  private Integer y;\n}\n\n@Repository\npublic interface UserRepository extends ReactiveMongoRepository&lt;User, String&gt; {\n  \n  @Aggregation(pipeline = {\n      &quot;{$lookup:{from:'users_have_plots',let:{plots:'$plots'},pipeline:[{$match:{$expr:{$in:['$_id',{$ifNull:['$$plots.$id',[]]}]}}},{$lookup:{from:'plots',localField:'plot.$id',foreignField:'_id',as:'plot'}}],as:'plots'}}&quot;\n  })\n  Flux&lt;User&gt; findAllIncludePlots();\n}\n\n@SpringBootApplication(exclude = UserDetailsServiceAutoConfiguration.class)\n@EnableReactiveMongoRepositories\npublic class FarmApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(FarmApplication.class, args);\n  }\n  \n  @Bean\n  CommandLineRunner t(UserRepository userRepository) {\n    return a -&gt; {\nuserRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();\n    };\n  }\n}\n</code></pre>\n<p>When I invoke <code>userRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();</code> then i get this error:</p>\n<pre><code>org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\nCaused by: org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2292) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2325) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1402) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2297) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:413) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:409) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:121) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.ReactiveMongoTemplate$ReadDocumentCallback.doWith(ReactiveMongoTemplate.java:2914) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161) ~[reactor-core-3.5.0.jar:3.5.0]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$4(BatchCursorFlux.java:98) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:173) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$0(BatchCursor.java:38) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4444) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4510) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4272) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:108) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:60) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.operation.CommandOperationHelper.lambda$transformingReadCallback$10(CommandOperationHelper.java:332) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$1.onResult(DefaultServer.java:242) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:683) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:524) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:501) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:824) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:788) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:89) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:778) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:763) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.8.0.jar:na]\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I think there is a problem with my <code>@Aggregation</code> but I cannot find out the reason. Please help. Thank you</p>\n<p>EDIT: my data looks like</p>\n<pre><code>vilya_be&gt; db.plots.find({})\n[\n  {\n    _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\n    x: 0,\n    y: 0,\n    _class: 'com.vilya.farm.domain.model.Plot'\n  }\n]\n\nvilya_be&gt; db.users_have_plots.find({})\n[\n  {\n    _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\n    userId: '6412c76956d4170a7de34d92',\n    plot: DBRef(&quot;plots&quot;, ObjectId(&quot;6426b069ca83da130cdb7f70&quot;)),\n    _class: 'com.vilya.farm.domain.model.UserPlot'\n  }\n]\n\nvilya_be&gt; db.users.find({})\n[\n  {\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\n    email: 'abc@abc.com',\n    password: '$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu',\n    firstName: 'f',\n    lastName: 'l',\n    plots: [ DBRef(&quot;users_have_plots&quot;, ObjectId(&quot;6426b073ca83da130cdb7f71&quot;)) ],\n    _class: 'com.vilya.farm.domain.model.User'\n  },\n  {\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\n    email: 'abc1@abc.com',\n    password: '$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS',\n    firstName: 'f',\n    lastName: 'l',\n    _class: 'com.vilya.farm.domain.model.User'\n  }\n]\n</code></pre>\n<p>mongo version: mongo:6.0.2-focal running on docker desktop</p>\n"},{"tags":["java","pdf-generation","documentation-generation"],"answers":[{"tags":[],"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1250391946,"creation_date":1250391946,"answer_id":1283373,"question_id":1283348,"body_markdown":"One that satisfies most of your requirements, that I&#39;ve used before, is [AsciiDoc](http://www.methods.co.nz/asciidoc/).\r\n\r\nAsciiDoc isn&#39;t an XML source format though, instead it opts for a simple text format. It can output HTML and Docbook, which can be rendered into PDF or other formats. The source text is nearly good enough for plain text presentation, too.\r\n\r\nAnother popular choice along the same lines is [reStructuredText](http://docutils.sourceforge.net/rst.html).","title":"Single source documentation tool","body":"<p>One that satisfies most of your requirements, that I've used before, is <a href=\"http://www.methods.co.nz/asciidoc/\" rel=\"noreferrer\">AsciiDoc</a>.</p>\n\n<p>AsciiDoc isn't an XML source format though, instead it opts for a simple text format. It can output HTML and Docbook, which can be rendered into PDF or other formats. The source text is nearly good enough for plain text presentation, too.</p>\n\n<p>Another popular choice along the same lines is <a href=\"http://docutils.sourceforge.net/rst.html\" rel=\"noreferrer\">reStructuredText</a>.</p>\n"},{"tags":[],"owner":{"account_id":18279,"reputation":58451,"user_id":41747,"display_name":"D.Shawley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250392830,"creation_date":1250392830,"answer_id":1283390,"question_id":1283348,"body_markdown":"I&#39;ve been considering evangelizing [DocBook][db] as a replacement for Word in our engineering group.  There are a number of toolchains available.  The easiest for engineers is probably [DocBook XSL][xsl], [Apache FOP][fop], and either [Ant][ant] or [Make][gmake].  This is how I have been doing my DocBook stuff.  If you are really into LaTeX, then you might want to check out [DBLaTeX][dblatex] for a DocBook to LaTeX publishing environment.\r\n\r\nIf you don&#39;t mind stepping outside of the free environments, then the [`&lt;oXygen/&gt;` XML Editor][oxygen] offers a pretty nice WYSIWYG DocBook editor.  I haven&#39;t used it that much, but it does look pretty promising.\r\n\r\n  [db]: http://www.docbook.org/\r\n  [xsl]: http://docbook.sourceforge.net/release/xsl/current/doc/\r\n  [fop]: http://xmlgraphics.apache.org/fop/\r\n  [ant]: http://ant.apache.org/\r\n  [gmake]: http://www.gnu.org/software/make/\r\n  [dblatex]: http://dblatex.sourceforge.net/\r\n  [oxygen]: http://www.oxygenxml.com/docbook_editor.html","title":"Single source documentation tool","body":"<p>I've been considering evangelizing <a href=\"http://www.docbook.org/\" rel=\"nofollow noreferrer\">DocBook</a> as a replacement for Word in our engineering group.  There are a number of toolchains available.  The easiest for engineers is probably <a href=\"http://docbook.sourceforge.net/release/xsl/current/doc/\" rel=\"nofollow noreferrer\">DocBook XSL</a>, <a href=\"http://xmlgraphics.apache.org/fop/\" rel=\"nofollow noreferrer\">Apache FOP</a>, and either <a href=\"http://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a> or <a href=\"http://www.gnu.org/software/make/\" rel=\"nofollow noreferrer\">Make</a>.  This is how I have been doing my DocBook stuff.  If you are really into LaTeX, then you might want to check out <a href=\"http://dblatex.sourceforge.net/\" rel=\"nofollow noreferrer\">DBLaTeX</a> for a DocBook to LaTeX publishing environment.</p>\n\n<p>If you don't mind stepping outside of the free environments, then the <a href=\"http://www.oxygenxml.com/docbook_editor.html\" rel=\"nofollow noreferrer\"><code>&lt;oXygen/&gt;</code> XML Editor</a> offers a pretty nice WYSIWYG DocBook editor.  I haven't used it that much, but it does look pretty promising.</p>\n"},{"tags":[],"owner":{"account_id":48895,"reputation":83719,"user_id":145403,"display_name":"Ned Deily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250393085,"creation_date":1250393085,"answer_id":1283393,"question_id":1283348,"body_markdown":"[Sphinx][1] is a tool that adds a number of features to Docutils, allowing &quot;intelligent and beautiful documentation&quot; to be written in reStructuredText.  It was originally created to produce the new Python documentation but is being adopted by many other projects.\r\n\r\n\r\n  [1]: http://sphinx.pocoo.org/","title":"Single source documentation tool","body":"<p><a href=\"http://sphinx.pocoo.org/\" rel=\"nofollow noreferrer\">Sphinx</a> is a tool that adds a number of features to Docutils, allowing \"intelligent and beautiful documentation\" to be written in reStructuredText.  It was originally created to produce the new Python documentation but is being adopted by many other projects.</p>\n"},{"tags":[],"owner":{"account_id":1895,"reputation":121040,"user_id":2611,"display_name":"ars"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553527193,"creation_date":1250393906,"answer_id":1283404,"question_id":1283348,"body_markdown":"[Doxygen](http://www.doxygen.nl/) is documentation generator that&#39;s quite popular and can output documents in a [variety of formats](http://www.doxygen.nl/manual/output.html).  Although its primary purpose to build documentation extracted from source comments (from numerous languages), it&#39;s also quite usable as a general manual writing tool.  In fact, the Doxygen website and manual are generated in this way.","title":"Single source documentation tool","body":"<p><a href=\"http://www.doxygen.nl/\" rel=\"nofollow noreferrer\">Doxygen</a> is documentation generator that's quite popular and can output documents in a <a href=\"http://www.doxygen.nl/manual/output.html\" rel=\"nofollow noreferrer\">variety of formats</a>.  Although its primary purpose to build documentation extracted from source comments (from numerous languages), it's also quite usable as a general manual writing tool.  In fact, the Doxygen website and manual are generated in this way.</p>\n"},{"tags":[],"owner":{"account_id":1098659,"reputation":41,"user_id":1091661,"display_name":"Daynin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980712,"creation_date":1681980712,"answer_id":76062227,"question_id":1283348,"body_markdown":"Try using [Fundoc][1]. It was created for writing documentation for projects written in any language or any combination of languages.\r\n\r\n\r\n  [1]: https://github.com/daynin/fundoc","title":"Single source documentation tool","body":"<p>Try using <a href=\"https://github.com/daynin/fundoc\" rel=\"nofollow noreferrer\">Fundoc</a>. It was created for writing documentation for projects written in any language or any combination of languages.</p>\n"}],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1682103077,"accepted_answer_id":1283373,"answer_count":5,"score":6,"last_activity_date":1681980712,"creation_date":1250390649,"question_id":1283348,"body_markdown":"What [OSS][1] (or free) tools are available for drafting a single source for documentation that can be used to generate manuals? Specifically, in the following formats:\r\n\r\n* HTML website\r\n* PDF document\r\n* Embedded (within an application; possibly HTML)&lt;sup&gt;1&lt;/sup&gt;\r\n* Text (optional)\r\n* Man pages (optional)\r\n\r\nAdditional requirements:\r\n\r\n* Tool is suitable for technical writers (need not be WYSIWYG).\r\n* XML/SGML source\r\n* High quality PDF output (comparable to TeX)\r\n* Multi-platform\r\n\r\n**Expanded Requirement**&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nThe same command-line application is written in two languages (C and Java). Using XML to describe the command-line options (some of which are specific to one language or the other), it is straightforward to transform the XML into a Java class, or a C function, which writes help to standard output. This ensures that the help can be embedded into the binary without having to depend on external files.\r\n\r\nIt appears AsciiDoc does not have this ability. Is there another option?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Open_source_software","title":"Single source documentation tool","body":"<p>What <a href=\"http://en.wikipedia.org/wiki/Open_source_software\" rel=\"noreferrer\">OSS</a> (or free) tools are available for drafting a single source for documentation that can be used to generate manuals? Specifically, in the following formats:</p>\n\n<ul>\n<li>HTML website</li>\n<li>PDF document</li>\n<li>Embedded (within an application; possibly HTML)<sup>1</sup></li>\n<li>Text (optional)</li>\n<li>Man pages (optional)</li>\n</ul>\n\n<p>Additional requirements:</p>\n\n<ul>\n<li>Tool is suitable for technical writers (need not be WYSIWYG).</li>\n<li>XML/SGML source</li>\n<li>High quality PDF output (comparable to TeX)</li>\n<li>Multi-platform</li>\n</ul>\n\n<p><strong>Expanded Requirement</strong><sup>1</sup></p>\n\n<p>The same command-line application is written in two languages (C and Java). Using XML to describe the command-line options (some of which are specific to one language or the other), it is straightforward to transform the XML into a Java class, or a C function, which writes help to standard output. This ensures that the help can be embedded into the binary without having to depend on external files.</p>\n\n<p>It appears AsciiDoc does not have this ability. Is there another option?</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980532,"creation_date":1681980532,"answer_id":76062199,"question_id":76061856,"body_markdown":"After Adding @path  I solved my problem like this\r\n\r\n  @GET(&quot;/payment/fetch/board/{username}&quot;)\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>After Adding @path  I solved my problem like this</p>\n<p>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&gt;fetchBoardList(@Path(&quot;username&quot;) String username);</p>\n"},{"tags":[],"owner":{"account_id":11569531,"reputation":420,"user_id":8476690,"display_name":"Mohamed Mo&#39;nes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980600,"creation_date":1681980600,"answer_id":76062213,"question_id":76061856,"body_markdown":"in the retrofit API interface, you should add @Path before username parameter  like this \r\n\r\n```\r\n@GET(&quot;/payment/fetch/board/{username}&quot;)\r\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);\r\n```","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>in the retrofit API interface, you should add @Path before username parameter  like this</p>\n<pre><code>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);\n</code></pre>\n"}],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681980600,"creation_date":1681977957,"question_id":76061856,"body_markdown":"This is my API url \r\n\r\n \r\n\r\n    @GET(&quot;/payment/fetch/board/{username}&quot;)\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(String username);\r\n\r\n\r\nAnd This is my Retrofit to call url\r\n\r\n\r\n \r\n\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;call=RetrofitClient.getInstance().getMyApi().fetchBoardList(username);\r\n            call.enqueue(new Callback&lt;List&lt;BoardResponse&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Response&lt;List&lt;BoardResponse&gt;&gt; response) {\r\n                   if(response.isSuccessful()){\r\n                       if(response.body() != null){\r\n                         String jsonResponse=response.body().toString();\r\n                           try {\r\n                               ArrayList&lt;BoardResponse&gt;boardArray = new ArrayList&lt;&gt;();\r\n                               JSONObject obj = new JSONObject(jsonResponse);\r\n                               JSONArray dataArray  = obj.getJSONArray(&quot;data&quot;);\r\n                               for (int i = 0; i &lt; dataArray.length(); i++) {\r\n\r\n                               BoardResponse spinnerModel = new BoardResponse();\r\n                               JSONObject dataObj = dataArray.getJSONObject(i);\r\n\r\n                               spinnerModel.setBoard(dataObj.getString(&quot;board&quot;));\r\n                               spinnerModel.setBoardID(dataObj.getInt(&quot;boardID&quot;));\r\n                               spinnerModel.setUsername(dataObj.getString(&quot;username&quot;));\r\n\r\n                               boardArray.add(spinnerModel);\r\n\r\n                           }\r\n\r\n                           for (int i = 0; i &lt; boardArray.size(); i++){\r\n                               boardList.add(boardArray.get(i).getBoard().toString());\r\n                           }\r\n                           ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(PaymentEntryActivity.this,android.R.layout.simple_spinner_item,boardList);\r\n                           spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); // The drop down view\r\n                           Spinner.setAdapter(spinnerArrayAdapter);\r\n                       } catch (JSONException e) {\r\n                           throw new RuntimeException(e);\r\n                       }\r\n\r\n                   }\r\n               }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo{com.hpl.raja.boardpayment/com.hpl.raja.boardpayment.PaymentEntryActivity}:\r\n&gt; java.lang.IllegalArgumentException: No Retrofit annotation found.\r\n&gt; (parameter #1)\r\n&gt;         for method MyApi.fetchBoardList\r\n\r\n\r\nso please help me Thanks \r\n\r\nI have error that found","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>This is my API url</p>\n<pre><code>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(String username);\n</code></pre>\n<p>And This is my Retrofit to call url</p>\n<pre><code>Call&lt;List&lt;BoardResponse&gt;&gt;call=RetrofitClient.getInstance().getMyApi().fetchBoardList(username);\n        call.enqueue(new Callback&lt;List&lt;BoardResponse&gt;&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Response&lt;List&lt;BoardResponse&gt;&gt; response) {\n               if(response.isSuccessful()){\n                   if(response.body() != null){\n                     String jsonResponse=response.body().toString();\n                       try {\n                           ArrayList&lt;BoardResponse&gt;boardArray = new ArrayList&lt;&gt;();\n                           JSONObject obj = new JSONObject(jsonResponse);\n                           JSONArray dataArray  = obj.getJSONArray(&quot;data&quot;);\n                           for (int i = 0; i &lt; dataArray.length(); i++) {\n\n                           BoardResponse spinnerModel = new BoardResponse();\n                           JSONObject dataObj = dataArray.getJSONObject(i);\n\n                           spinnerModel.setBoard(dataObj.getString(&quot;board&quot;));\n                           spinnerModel.setBoardID(dataObj.getInt(&quot;boardID&quot;));\n                           spinnerModel.setUsername(dataObj.getString(&quot;username&quot;));\n\n                           boardArray.add(spinnerModel);\n\n                       }\n\n                       for (int i = 0; i &lt; boardArray.size(); i++){\n                           boardList.add(boardArray.get(i).getBoard().toString());\n                       }\n                       ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(PaymentEntryActivity.this,android.R.layout.simple_spinner_item,boardList);\n                       spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); // The drop down view\n                       Spinner.setAdapter(spinnerArrayAdapter);\n                   } catch (JSONException e) {\n                       throw new RuntimeException(e);\n                   }\n\n               }\n           }\n\n\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Throwable t) {\n\n        }\n    });\n</code></pre>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity\nComponentInfo{com.hpl.raja.boardpayment/com.hpl.raja.boardpayment.PaymentEntryActivity}:\njava.lang.IllegalArgumentException: No Retrofit annotation found.\n(parameter #1)\nfor method MyApi.fetchBoardList</p>\n</blockquote>\n<p>so please help me Thanks</p>\n<p>I have error that found</p>\n"},{"tags":["java","maven","github","github-actions"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681982287,"post_id":76062212,"comment_id":134145227,"body_markdown":"There was an issue with the DNS resolution of that https://repo.maven.apache.org/maven2/jakarta/servlet/jakarta.servlet-api/6.0.0/jakarta.servlet-api-6.0.0.pom ... should be solved in the meantime... the question is also which Maven version do you use? See also https://stackoverflow.com/q/76060397/296328","body":"There was an issue with the DNS resolution of that <a href=\"https://repo.maven.apache.org/maven2/jakarta/servlet/jakarta.servlet-api/6.0.0/jakarta.servlet-api-6.0.0.pom\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/jakarta/servlet/&hellip;</a> ... should be solved in the meantime... the question is also which Maven version do you use? See also <a href=\"https://stackoverflow.com/q/76060397/296328\">stackoverflow.com/q/76060397/296328</a>"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681980598,"creation_date":1681980598,"question_id":76062212,"body_markdown":"I have the following Maven dependency in my project:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nWhen I run the Maven build locally, the dependency downloads without problems. But when I run the build on Github, I get the following error:\r\n\r\n```\r\nFailed to execute goal on project my-project: Could not resolve dependencies for project com.test:my-project:jar:0.1.0-SNAPSHOT: Failed to collect dependencies at jakarta.servlet:jakarta.servlet-api:jar:6.0.0: Failed to read artifact descriptor for jakarta.servlet:jakarta.servlet-api:jar:6.0.0: Could not transfer artifact jakarta.servlet:jakarta.servlet-api:pom:6.0.0 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/jakarta/servlet/jakarta.servlet-api/6.0.0/jakarta.servlet-api-6.0.0.pom: Unknown host repo.maven.apache.org: Name or service not known -&gt; [Help 1]\r\n```\r\n\r\nOther artefacts are downloading correctly. If I comment out the `servlet-api` dependency, the build passes.\r\n\r\nHere is my workflow definition:\r\n\r\n```\r\nname: Java CI with Maven\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;main&quot; ]\r\n  pull_request:\r\n    branches: [ &quot;main&quot; ]\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n    permissions:\r\n      contents: read\r\n      packages: write\r\n\r\n    steps:\r\n\r\n    - uses: actions/checkout@v3\r\n\r\n    - name: Set up JDK 17\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;17&#39;\r\n        distribution: &#39;temurin&#39;\r\n\r\n    - name: Cache local Maven repository\r\n      uses: actions/cache@v2\r\n      with:\r\n        path: ~/.m2/repository\r\n        key: ${{ runner.os }}-maven-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n        restore-keys: |\r\n          ${{ runner.os }}-maven-\r\n\r\n    - name: Build with Maven\r\n      run: mvn -B -P github deploy --file pom.xml\r\n```\r\n\r\nAny ideas?\r\n\r\n","title":"Maven dependency works locally but fails in Github workflow","body":"<p>I have the following Maven dependency in my project:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I run the Maven build locally, the dependency downloads without problems. But when I run the build on Github, I get the following error:</p>\n<pre><code>Failed to execute goal on project my-project: Could not resolve dependencies for project com.test:my-project:jar:0.1.0-SNAPSHOT: Failed to collect dependencies at jakarta.servlet:jakarta.servlet-api:jar:6.0.0: Failed to read artifact descriptor for jakarta.servlet:jakarta.servlet-api:jar:6.0.0: Could not transfer artifact jakarta.servlet:jakarta.servlet-api:pom:6.0.0 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/jakarta/servlet/jakarta.servlet-api/6.0.0/jakarta.servlet-api-6.0.0.pom: Unknown host repo.maven.apache.org: Name or service not known -&gt; [Help 1]\n</code></pre>\n<p>Other artefacts are downloading correctly. If I comment out the <code>servlet-api</code> dependency, the build passes.</p>\n<p>Here is my workflow definition:</p>\n<pre><code>name: Java CI with Maven\n\non:\n  push:\n    branches: [ &quot;main&quot; ]\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      packages: write\n\n    steps:\n\n    - uses: actions/checkout@v3\n\n    - name: Set up JDK 17\n      uses: actions/setup-java@v3\n      with:\n        java-version: '17'\n        distribution: 'temurin'\n\n    - name: Cache local Maven repository\n      uses: actions/cache@v2\n      with:\n        path: ~/.m2/repository\n        key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n        restore-keys: |\n          ${{ runner.os }}-maven-\n\n    - name: Build with Maven\n      run: mvn -B -P github deploy --file pom.xml\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","shutdown-hook"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681969952,"post_id":76060839,"comment_id":134142849,"body_markdown":"Excerpt from https://www.baeldung.com/jvm-shutdown-hooks: _when an external force kills the JVM process abruptly, the JVM won&#39;t get a chance to execute shutdown hooks_ In other words, &quot;shutdown hook&quot; is not suitable for your situation. I don&#39;t know of anything that is appropriate.","body":"Excerpt from <a href=\"https://www.baeldung.com/jvm-shutdown-hooks\" rel=\"nofollow noreferrer\">baeldung.com/jvm-shutdown-hooks</a>: <i>when an external force kills the JVM process abruptly, the JVM won&#39;t get a chance to execute shutdown hooks</i> In other words, &quot;shutdown hook&quot; is not suitable for your situation. I don&#39;t know of anything that is appropriate."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1681982672,"post_id":76060839,"comment_id":134145321,"body_markdown":"What&#39;s the task that you&#39;re trying to perform? Wouldn&#39;t a bash script be enough?","body":"What&#39;s the task that you&#39;re trying to perform? Wouldn&#39;t a bash script be enough?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1682258327,"post_id":76060839,"comment_id":134183444,"body_markdown":"There is also [`QuitHandler`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/desktop/QuitHandler.html) in the `java.desktop` module; not sure though how well that works, if it is supported on all platforms and whether it would be suitable for your use case.","body":"There is also <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/desktop/QuitHandler.html\" rel=\"nofollow noreferrer\"><code>QuitHandler</code></a> in the <code>java.desktop</code> module; not sure though how well that works, if it is supported on all platforms and whether it would be suitable for your use case."}],"owner":{"account_id":27569697,"reputation":9,"user_id":21041133,"display_name":"Ankush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681980539,"creation_date":1681968481,"question_id":76060839,"body_markdown":"I am working on a java application in which i have to perform a task if user shutdown the computer without closing my java application. I heard about &quot;Java shutdown hook&quot; as solution for my problem So I implemented the Java Shutdown hook I my main method\r\n```java\r\n CheckInPageController controller = new CheckInPageController();\r\n Runnable shutdownHandler = new Runnable() {\r\n     @Override\r\n         public void run() {\r\n             System.out.println(&quot;Shutting down thread..&quot;);\r\n             controller.performShutdownHook();\r\n         }\r\n     };\r\n\r\n Runtime.getRuntime().addShutdownHook(\r\n     new Thread(shutdownHandler, &quot;shutdownthread&quot;));\r\n launch(args);\r\n\r\n```\r\nHere controller.performShutdownHook() is method which simply sends a POST request to the server.\r\nBut my problem is if I close the appplication by using close button, Shutdown hook is executing.\r\nBut if I shutdown the computer without closing application shutdown hook is not executing which is my main requirement.\r\n\r\n\r\nPlese tell me why this is happpening. If anyone have other solution of my problem please mention your solution.\r\nThanks in advance.","title":"Executing a task in java before system shutdown","body":"<p>I am working on a java application in which i have to perform a task if user shutdown the computer without closing my java application. I heard about &quot;Java shutdown hook&quot; as solution for my problem So I implemented the Java Shutdown hook I my main method</p>\n<pre class=\"lang-java prettyprint-override\"><code> CheckInPageController controller = new CheckInPageController();\n Runnable shutdownHandler = new Runnable() {\n     @Override\n         public void run() {\n             System.out.println(&quot;Shutting down thread..&quot;);\n             controller.performShutdownHook();\n         }\n     };\n\n Runtime.getRuntime().addShutdownHook(\n     new Thread(shutdownHandler, &quot;shutdownthread&quot;));\n launch(args);\n\n</code></pre>\n<p>Here controller.performShutdownHook() is method which simply sends a POST request to the server.\nBut my problem is if I close the appplication by using close button, Shutdown hook is executing.\nBut if I shutdown the computer without closing application shutdown hook is not executing which is my main requirement.</p>\n<p>Plese tell me why this is happpening. If anyone have other solution of my problem please mention your solution.\nThanks in advance.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1494591298,"post_id":43937169,"comment_id":74907041,"body_markdown":"What is the condition that you want to base this conditional config on?","body":"What is the condition that you want to base this conditional config on?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1494591572,"post_id":43937169,"comment_id":74907228,"body_markdown":"I&#39;m open to suggestions. A command line parameter, a `-D` argument...","body":"I&#39;m open to suggestions. A command line parameter, a <code>-D</code> argument..."},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1494591643,"post_id":43937169,"comment_id":74907284,"body_markdown":"But there must be some condition in which you want this to be main class..what is that?","body":"But there must be some condition in which you want this to be main class..what is that?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1494591823,"post_id":43937169,"comment_id":74907424,"body_markdown":"In my IDE, I&#39;d just make two run targets, one for each main class. So the first one could call `gradle run first` and the second one could call `gradle run second`.","body":"In my IDE, I&#39;d just make two run targets, one for each main class. So the first one could call <code>gradle run first</code> and the second one could call <code>gradle run second</code>."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1494592808,"post_id":43937169,"comment_id":74908131,"body_markdown":"If that&#39;s all you need, you can either run the class directly from the IDE, without going through gradle, or add two tasks of type JavaExec to your build file. https://docs.gradle.org/3.5/dsl/org.gradle.api.tasks.JavaExec.html","body":"If that&#39;s all you need, you can either run the class directly from the IDE, without going through gradle, or add two tasks of type JavaExec to your build file. <a href=\"https://docs.gradle.org/3.5/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">docs.gradle.org/3.5/dsl/org.gradle.api.tasks.JavaExec.html</a>"},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1494825472,"post_id":43937169,"comment_id":74973750,"body_markdown":"Have you worked it out? What&#39;s your scenario?","body":"Have you worked it out? What&#39;s your scenario?"}],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1508950965,"creation_date":1508950965,"answer_id":46938169,"question_id":43937169,"body_markdown":"From [http://mrhaki.blogspot.com/2010/09/gradle-goodness-run-java-application.html][1]\r\n\r\n    apply plugin: &#39;java&#39;\r\n \r\n    task(runSimple, dependsOn: &#39;classes&#39;, type: JavaExec) {\r\n       main = &#39;com.mrhaki.java.Simple&#39;\r\n       classpath = sourceSets.main.runtimeClasspath\r\n       args &#39;mrhaki&#39;\r\n       systemProperty &#39;simple.message&#39;, &#39;Hello &#39;\r\n    }\r\n\r\nClearly then what you can change:\r\n\r\n   * runSimple can be named whatever you want\r\n   * set main as appropriate\r\n   * clear out args and systemProperty if not needed\r\n\r\nTo run:\r\n\r\n    gradle runSimple\r\n\r\nYou can put as many of these as you like into your build.gradle file.\r\n\r\n  [1]: http://mrhaki.blogspot.com/2010/09/gradle-goodness-run-java-application.html","title":"Gradle application plugin with multiple main classes","body":"<p>From <a href=\"http://mrhaki.blogspot.com/2010/09/gradle-goodness-run-java-application.html\" rel=\"noreferrer\">http://mrhaki.blogspot.com/2010/09/gradle-goodness-run-java-application.html</a></p>\n\n<pre><code>apply plugin: 'java'\n\ntask(runSimple, dependsOn: 'classes', type: JavaExec) {\n   main = 'com.mrhaki.java.Simple'\n   classpath = sourceSets.main.runtimeClasspath\n   args 'mrhaki'\n   systemProperty 'simple.message', 'Hello '\n}\n</code></pre>\n\n<p>Clearly then what you can change:</p>\n\n<ul>\n<li>runSimple can be named whatever you want</li>\n<li>set main as appropriate</li>\n<li>clear out args and systemProperty if not needed</li>\n</ul>\n\n<p>To run:</p>\n\n<pre><code>gradle runSimple\n</code></pre>\n\n<p>You can put as many of these as you like into your build.gradle file.</p>\n"},{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681980372,"creation_date":1514642779,"answer_id":48034664,"question_id":43937169,"body_markdown":"Use `javaExec` task to handle it :\r\n\r\n    task run(type: JavaExec) {\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    \r\n        if (project.hasProperty(&#39;chooseMain&#39;)){\r\n            if (chooseMain == &#39;Main1&#39;){\r\n                main = &#39;application.Main1&#39;\r\n            } else if (chooseMain == &#39;second&#39;){\r\n                main = &#39;application.Main2&#39;\r\n            }\r\n        } else {\r\n            println &#39;please pass the main name&#39;\r\n        }\r\n    }\r\n\r\nAnd from the command line pass your option in that way :\r\n\r\n    gradle run -PchooseMain=first","title":"Gradle application plugin with multiple main classes","body":"<p>Use <code>javaExec</code> task to handle it :</p>\n<pre><code>task run(type: JavaExec) {\n    classpath = sourceSets.main.runtimeClasspath\n\n    if (project.hasProperty('chooseMain')){\n        if (chooseMain == 'Main1'){\n            main = 'application.Main1'\n        } else if (chooseMain == 'second'){\n            main = 'application.Main2'\n        }\n    } else {\n        println 'please pass the main name'\n    }\n}\n</code></pre>\n<p>And from the command line pass your option in that way :</p>\n<pre><code>gradle run -PchooseMain=first\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4295729,"reputation":972,"user_id":3510860,"display_name":"apflieger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590681867,"creation_date":1590681867,"answer_id":62069262,"question_id":43937169,"body_markdown":"Here&#39;s how you can generate multiple start scripts if you need to package your apps\r\n\r\n```kotlin\r\napplication {\r\n    applicationName = &quot;myapp&quot;\r\n    mainClassName = &quot;my.Main1&quot;\r\n}\r\ntasks.named&lt;CreateStartScripts&gt;(&quot;startScripts&quot;) {\r\n    applicationName = &quot;myapp-main1&quot;\r\n}\r\nval main2StartScripts by tasks.register(&quot;main2StartScripts&quot;, CreateStartScripts::class) {\r\n    applicationName = &quot;myapp-main2&quot;\r\n    outputDir = file(&quot;build/scripts&quot;) // By putting these scripts here, they will be picked up automatically by the installDist task\r\n    mainClassName = &quot;my.Main2&quot;\r\n    classpath = project.tasks.getAt(JavaPlugin.JAR_TASK_NAME).outputs.files.plus(project.configurations.getByName(JavaPlugin.RUNTIME_CLASSPATH_CONFIGURATION_NAME)) // I took this from ApplicationPlugin.java:129\r\n}\r\ntasks.named(&quot;installDist&quot;) {\r\n    dependsOn(main2StartScripts)\r\n}\r\n```","title":"Gradle application plugin with multiple main classes","body":"<p>Here's how you can generate multiple start scripts if you need to package your apps</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>application {\n    applicationName = \"myapp\"\n    mainClassName = \"my.Main1\"\n}\ntasks.named&lt;CreateStartScripts&gt;(\"startScripts\") {\n    applicationName = \"myapp-main1\"\n}\nval main2StartScripts by tasks.register(\"main2StartScripts\", CreateStartScripts::class) {\n    applicationName = \"myapp-main2\"\n    outputDir = file(\"build/scripts\") // By putting these scripts here, they will be picked up automatically by the installDist task\n    mainClassName = \"my.Main2\"\n    classpath = project.tasks.getAt(JavaPlugin.JAR_TASK_NAME).outputs.files.plus(project.configurations.getByName(JavaPlugin.RUNTIME_CLASSPATH_CONFIGURATION_NAME)) // I took this from ApplicationPlugin.java:129\n}\ntasks.named(\"installDist\") {\n    dependsOn(main2StartScripts)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8534605,"reputation":462,"user_id":6396924,"display_name":"GuanacoBE"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1607243290,"creation_date":1607243290,"answer_id":65166113,"question_id":43937169,"body_markdown":"You can directly configure the Application Plugin with properties:\r\n```\r\napplication {\r\n    mainClassName = project.findProperty(&quot;chooseMain&quot;).toString()\r\n}\r\n```\r\n\r\nAnd after in command line you can pass the name of the main class:\r\n```\r\n./gradlew run -PchooseMain=net.worcade.my.MainClass\r\n```","title":"Gradle application plugin with multiple main classes","body":"<p>You can directly configure the Application Plugin with properties:</p>\n<pre><code>application {\n    mainClassName = project.findProperty(&quot;chooseMain&quot;).toString()\n}\n</code></pre>\n<p>And after in command line you can pass the name of the main class:</p>\n<pre><code>./gradlew run -PchooseMain=net.worcade.my.MainClass\n</code></pre>\n"}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14356,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":46938169,"answer_count":4,"score":23,"last_activity_date":1681980372,"creation_date":1494590056,"question_id":43937169,"body_markdown":"I&#39;m using the gradle &#39;application&#39; plugin to start my application. This works well.\r\nNow I want to add the option to start a different main class in the same project. Can I change the plugin&#39;s configuration to allow that?\r\n\r\n    apply plugin: &#39;application&#39;\r\n    \r\n    mainClassName = &quot;net.worcade.my.MainClass&quot;\r\n\r\n","title":"Gradle application plugin with multiple main classes","body":"<p>I'm using the gradle 'application' plugin to start my application. This works well.\nNow I want to add the option to start a different main class in the same project. Can I change the plugin's configuration to allow that?</p>\n\n<pre><code>apply plugin: 'application'\n\nmainClassName = \"net.worcade.my.MainClass\"\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":1,"creation_date":1536056615,"post_id":2895342,"comment_id":91277583,"body_markdown":"Do you need views or new collections?","body":"Do you need views or new collections?"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":3,"creation_date":1551085422,"post_id":2895342,"comment_id":96495869,"body_markdown":"Java 8 : https://stackoverflow.com/a/51837311/1216775","body":"Java 8 : <a href=\"https://stackoverflow.com/a/51837311/1216775\">stackoverflow.com/a/51837311/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":137511,"reputation":178,"user_id":341741,"display_name":"angstrom91"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274686597,"creation_date":1274685303,"answer_id":2895359,"question_id":2895342,"body_markdown":"I&#39;m guessing that the issue you&#39;re having is with naming 100 ArrayLists and populating them.  You can create an array of ArrayLists and populate each of those using a loop.\r\n\r\nThe simplest (read stupidest) way to do this is like this:\r\n\r\n    ArrayList results = new ArrayList(1000);\r\n        // populate results here\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            results.add(i);\r\n        }\r\n        ArrayList[] resultGroups = new ArrayList[100];\r\n        // initialize all your small ArrayList groups\r\n        for (int i = 0; i &lt; 100; i++) {\r\n                resultGroups[i] = new ArrayList();\r\n        }\r\n        // put your results into those arrays\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n           resultGroups[i/10].add(results.get(i));\r\n        } ","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>I'm guessing that the issue you're having is with naming 100 ArrayLists and populating them.  You can create an array of ArrayLists and populate each of those using a loop.</p>\n\n<p>The simplest (read stupidest) way to do this is like this:</p>\n\n<pre><code>ArrayList results = new ArrayList(1000);\n    // populate results here\n    for (int i = 0; i &lt; 1000; i++) {\n        results.add(i);\n    }\n    ArrayList[] resultGroups = new ArrayList[100];\n    // initialize all your small ArrayList groups\n    for (int i = 0; i &lt; 100; i++) {\n            resultGroups[i] = new ArrayList();\n    }\n    // put your results into those arrays\n    for (int i = 0; i &lt; 1000; i++) {\n       resultGroups[i/10].add(results.get(i));\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":395,"is_accepted":true,"score":394,"last_activity_date":1544014069,"creation_date":1274685369,"answer_id":2895365,"question_id":2895342,"body_markdown":"You can use [`subList(int fromIndex, int toIndex)`](http://java.sun.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29) to get a view of a portion of the original list.\r\n\r\nFrom the API:\r\n\r\n&gt; Returns a view of the portion of this list between the specified `fromIndex`, inclusive, and `toIndex`, exclusive. (If `fromIndex` and `toIndex` are equal, the returned list is empty.) The returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa. The returned list supports all of the optional list operations supported by this list.\r\n\r\nExample:\r\n\r\n\tList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(\r\n\t\tArrays.asList(5,3,1,2,9,5,0,7)\r\n\t);\r\n\r\n\tList&lt;Integer&gt; head = numbers.subList(0, 4);\r\n\tList&lt;Integer&gt; tail = numbers.subList(4, 8);\r\n\tSystem.out.println(head); // prints &quot;[5, 3, 1, 2]&quot;\r\n\tSystem.out.println(tail); // prints &quot;[9, 5, 0, 7]&quot;\r\n\r\n\tCollections.sort(head);\r\n\tSystem.out.println(numbers); // prints &quot;[1, 2, 3, 5, 9, 5, 0, 7]&quot;\r\n\r\n\ttail.add(-1);\r\n\tSystem.out.println(numbers); // prints &quot;[1, 2, 3, 5, 9, 5, 0, 7, -1]&quot;\r\n\r\nIf you need these chopped lists to be NOT a view, then simply create a new `List` from the `subList`. Here&#39;s an example of putting a few of these things together:\r\n\r\n\t// chops a list into non-view sublists of length L\r\n\tstatic &lt;T&gt; List&lt;List&lt;T&gt;&gt; chopped(List&lt;T&gt; list, final int L) {\r\n\t\tList&lt;List&lt;T&gt;&gt; parts = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\tfinal int N = list.size();\r\n\t\tfor (int i = 0; i &lt; N; i += L) {\r\n\t\t\tparts.add(new ArrayList&lt;T&gt;(\r\n\t\t\t\tlist.subList(i, Math.min(N, i + L)))\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn parts;\r\n\t}\r\n\r\n\r\n\tList&lt;Integer&gt; numbers = Collections.unmodifiableList(\r\n\t\tArrays.asList(5,3,1,2,9,5,0,7)\r\n\t);\r\n\tList&lt;List&lt;Integer&gt;&gt; parts = chopped(numbers, 3);\r\n\tSystem.out.println(parts); // prints &quot;[[5, 3, 1], [2, 9, 5], [0, 7]]&quot;\r\n\tparts.get(0).add(-1);\r\n\tSystem.out.println(parts); // prints &quot;[[5, 3, 1, -1], [2, 9, 5], [0, 7]]&quot;\r\n\tSystem.out.println(numbers); // prints &quot;[5, 3, 1, 2, 9, 5, 0, 7]&quot; (unmodified!)\r\n\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29\" rel=\"noreferrer\"><code>subList(int fromIndex, int toIndex)</code></a> to get a view of a portion of the original list.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p>Returns a view of the portion of this list between the specified <code>fromIndex</code>, inclusive, and <code>toIndex</code>, exclusive. (If <code>fromIndex</code> and <code>toIndex</code> are equal, the returned list is empty.) The returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa. The returned list supports all of the optional list operations supported by this list.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(\n    Arrays.asList(5,3,1,2,9,5,0,7)\n);\n\nList&lt;Integer&gt; head = numbers.subList(0, 4);\nList&lt;Integer&gt; tail = numbers.subList(4, 8);\nSystem.out.println(head); // prints \"[5, 3, 1, 2]\"\nSystem.out.println(tail); // prints \"[9, 5, 0, 7]\"\n\nCollections.sort(head);\nSystem.out.println(numbers); // prints \"[1, 2, 3, 5, 9, 5, 0, 7]\"\n\ntail.add(-1);\nSystem.out.println(numbers); // prints \"[1, 2, 3, 5, 9, 5, 0, 7, -1]\"\n</code></pre>\n\n<p>If you need these chopped lists to be NOT a view, then simply create a new <code>List</code> from the <code>subList</code>. Here's an example of putting a few of these things together:</p>\n\n<pre><code>// chops a list into non-view sublists of length L\nstatic &lt;T&gt; List&lt;List&lt;T&gt;&gt; chopped(List&lt;T&gt; list, final int L) {\n    List&lt;List&lt;T&gt;&gt; parts = new ArrayList&lt;List&lt;T&gt;&gt;();\n    final int N = list.size();\n    for (int i = 0; i &lt; N; i += L) {\n        parts.add(new ArrayList&lt;T&gt;(\n            list.subList(i, Math.min(N, i + L)))\n        );\n    }\n    return parts;\n}\n\n\nList&lt;Integer&gt; numbers = Collections.unmodifiableList(\n    Arrays.asList(5,3,1,2,9,5,0,7)\n);\nList&lt;List&lt;Integer&gt;&gt; parts = chopped(numbers, 3);\nSystem.out.println(parts); // prints \"[[5, 3, 1], [2, 9, 5], [0, 7]]\"\nparts.get(0).add(-1);\nSystem.out.println(parts); // prints \"[[5, 3, 1, -1], [2, 9, 5], [0, 7]]\"\nSystem.out.println(numbers); // prints \"[5, 3, 1, 2, 9, 5, 0, 7]\" (unmodified!)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115741,"reputation":16547,"user_id":303756,"accept_rate":70,"display_name":"Incognito"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339535943,"creation_date":1274685398,"answer_id":2895368,"question_id":2895342,"body_markdown":"A similar question was discussed here, https://stackoverflow.com/questions/379551/java-split-a-list-into-two-sub-lists\r\n\r\nMainly you can use sublist. More details here : [subList][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/379551/java-split-a-list-into-two-sub-lists\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/AbstractList.html\r\n\r\n&gt; Returns a view of the portion of this list between fromIndex, inclusive, and toIndex, exclusive. (If fromIndex and toIndex are equal, the returned list is empty.) The returned list is backed by this list, so changes in the returned list are reflected in this list, and vice-versa. The returned list supports all of the optional list operations supported by this list...","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>A similar question was discussed here, <a href=\"https://stackoverflow.com/questions/379551/java-split-a-list-into-two-sub-lists\">Java: split a List into two sub-Lists?</a></p>\n\n<p>Mainly you can use sublist. More details here : <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">subList</a></p>\n\n<blockquote>\n  <p>Returns a view of the portion of this list between fromIndex, inclusive, and toIndex, exclusive. (If fromIndex and toIndex are equal, the returned list is empty.) The returned list is backed by this list, so changes in the returned list are reflected in this list, and vice-versa. The returned list supports all of the optional list operations supported by this list...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"down_vote_count":0,"up_vote_count":249,"is_accepted":false,"score":249,"last_activity_date":1511384424,"creation_date":1274686090,"answer_id":2895424,"question_id":2895342,"body_markdown":"You can add the [Guava][1] library to your project and use the [Lists.partition][2] method, e.g.\r\n\r\n    List&lt;Integer&gt; bigList = ...\r\n    List&lt;List&lt;Integer&gt;&gt; smallerLists = Lists.partition(bigList, 10);\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/12.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,%20int)","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>You can add the <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> library to your project and use the <a href=\"http://google.github.io/guava/releases/12.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,%20int)\" rel=\"noreferrer\">Lists.partition</a> method, e.g.</p>\n\n<pre><code>List&lt;Integer&gt; bigList = ...\nList&lt;List&lt;Integer&gt;&gt; smallerLists = Lists.partition(bigList, 10);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1908746"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1386666237,"creation_date":1386666237,"answer_id":20490084,"question_id":2895342,"body_markdown":"The answer provided by polygenelubricants splits an array based on given size. I was looking for code that would split an array into a given number of parts. Here is the modification I did to the code:\r\n\r\n\tpublic static &lt;T&gt;List&lt;List&lt;T&gt;&gt; chopIntoParts( final List&lt;T&gt; ls, final int iParts )\r\n\t{\r\n\t\tfinal List&lt;List&lt;T&gt;&gt; lsParts = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\tfinal int iChunkSize = ls.size() / iParts;\r\n\t\tint iLeftOver = ls.size() % iParts;\r\n\t\tint iTake = iChunkSize;\r\n\t\r\n\t\tfor( int i = 0, iT = ls.size(); i &lt; iT; i += iTake )\r\n\t\t{\r\n\t\t\tif( iLeftOver &gt; 0 )\r\n\t\t\t{\r\n\t\t\t\tiLeftOver--;\r\n\t\r\n\t\t\t\tiTake = iChunkSize + 1;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tiTake = iChunkSize;\r\n\t\t\t}\r\n\t\r\n\t\t\tlsParts.add( new ArrayList&lt;T&gt;( ls.subList( i, Math.min( iT, i + iTake ) ) ) );\r\n\t\t}\r\n\t\r\n\t\treturn lsParts;\r\n\t}\r\n\r\nHope it helps someone.","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>The answer provided by polygenelubricants splits an array based on given size. I was looking for code that would split an array into a given number of parts. Here is the modification I did to the code:</p>\n\n<pre><code>public static &lt;T&gt;List&lt;List&lt;T&gt;&gt; chopIntoParts( final List&lt;T&gt; ls, final int iParts )\n{\n    final List&lt;List&lt;T&gt;&gt; lsParts = new ArrayList&lt;List&lt;T&gt;&gt;();\n    final int iChunkSize = ls.size() / iParts;\n    int iLeftOver = ls.size() % iParts;\n    int iTake = iChunkSize;\n\n    for( int i = 0, iT = ls.size(); i &lt; iT; i += iTake )\n    {\n        if( iLeftOver &gt; 0 )\n        {\n            iLeftOver--;\n\n            iTake = iChunkSize + 1;\n        }\n        else\n        {\n            iTake = iChunkSize;\n        }\n\n        lsParts.add( new ArrayList&lt;T&gt;( ls.subList( i, Math.min( iT, i + iTake ) ) ) );\n    }\n\n    return lsParts;\n}\n</code></pre>\n\n<p>Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2564170,"reputation":6335,"user_id":2224687,"accept_rate":71,"display_name":"Mikhail Golubtsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430203462,"creation_date":1430203462,"answer_id":29912129,"question_id":2895342,"body_markdown":"You can also use [FunctionalJava][1] library - there is `partition` method for `List`. This lib has its own collection types, you can convert them to java collections back and forth.\r\n\r\n    import fj.data.List;\r\n\r\n    java.util.List&lt;String&gt; javaList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; );\r\n\r\n    List&lt;String&gt; fList = Java.&lt;String&gt;Collection_List().f(javaList);\r\n\r\n    List&lt;List&lt;String&gt; partitions = fList.partition(2);\r\n\r\n  [1]: http://www.functionaljava.org/","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>You can also use <a href=\"http://www.functionaljava.org/\" rel=\"nofollow\">FunctionalJava</a> library - there is <code>partition</code> method for <code>List</code>. This lib has its own collection types, you can convert them to java collections back and forth.</p>\n\n<pre><code>import fj.data.List;\n\njava.util.List&lt;String&gt; javaList = Arrays.asList(\"a\", \"b\", \"c\", \"d\" );\n\nList&lt;String&gt; fList = Java.&lt;String&gt;Collection_List().f(javaList);\n\nList&lt;List&lt;String&gt; partitions = fList.partition(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121648,"reputation":4102,"user_id":314897,"accept_rate":67,"display_name":"johnnieb"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1503432041,"creation_date":1439499137,"answer_id":31998213,"question_id":2895342,"body_markdown":"[Apache Commons Collections 4][1] has a *partition* method in the `ListUtils` class. Here‚Äôs how it works:\r\n\r\n    import org.apache.commons.collections4.ListUtils;\r\n    ...\r\n\r\n    int targetSize = 100;\r\n    List&lt;Integer&gt; largeList = ...\r\n    List&lt;List&lt;Integer&gt;&gt; output = ListUtils.partition(largeList, targetSize);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p><a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections 4</a> has a <em>partition</em> method in the <code>ListUtils</code> class. Here‚Äôs how it works:</p>\n\n<pre><code>import org.apache.commons.collections4.ListUtils;\n...\n\nint targetSize = 100;\nList&lt;Integer&gt; largeList = ...\nList&lt;List&lt;Integer&gt;&gt; output = ListUtils.partition(largeList, targetSize);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9079456,"reputation":31,"user_id":6759780,"display_name":"user688"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600269432,"creation_date":1472184966,"answer_id":39158205,"question_id":2895342,"body_markdown":"Create a new list and add a sublist view of the source list using the `addAll()` method to create a new sublist\t\t\t\r\n```\r\nList&lt;T&gt; newList = new ArrayList&lt;T&gt;();\r\nnewList.addAll(sourceList.subList(startIndex, endIndex));\r\n```","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>Create a new list and add a sublist view of the source list using the <code>addAll()</code> method to create a new sublist</p>\n<pre><code>List&lt;T&gt; newList = new ArrayList&lt;T&gt;();\nnewList.addAll(sourceList.subList(startIndex, endIndex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2689821,"reputation":13,"user_id":2323383,"display_name":"B.JAAFAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479813584,"creation_date":1479813584,"answer_id":40740503,"question_id":2895342,"body_markdown":"if you don&#39;t want to import the apache commons library try this simple code:\r\n\r\n    final static int MAX_ELEMENT = 20;\r\n\r\n\tpublic static void main(final String[] args) {\r\n\r\n\t\tfinal List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n\t\tfor (int i = 1; i &lt;= 161; i++) {\r\n\t\t\tlist.add(String.valueOf(i));\r\n\t\t\tSystem.out.print(&quot;,&quot; + String.valueOf(i));\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;### &gt;&gt;&gt; &quot;);\r\n\t\tfinal List&lt;List&lt;String&gt;&gt; result = splitList(list, MAX_ELEMENT);\r\n\r\n\t\tfor (final List&lt;String&gt; entry : result) {\r\n\t\t\tSystem.out.println(&quot;------------------------&quot;);\r\n\t\t\tfor (final String elm : entry) {\r\n\t\t\t\tSystem.out.println(elm);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;------------------------&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static List&lt;List&lt;String&gt;&gt; splitList(final List&lt;String&gt; list, final int maxElement) {\r\n\r\n\t\tfinal List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n\r\n\t\tfinal int div = list.size() / maxElement;\r\n\r\n\t\tSystem.out.println(div);\r\n\r\n\t\tfor (int i = 0; i &lt;= div; i++) {\r\n\r\n\t\t\tfinal int startIndex = i * maxElement;\r\n\r\n\t\t\tif (startIndex &gt;= list.size()) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\tfinal int endIndex = (i + 1) * maxElement;\r\n\r\n\t\t\tif (endIndex &lt; list.size()) {\r\n\t\t\t\tresult.add(list.subList(startIndex, endIndex));\r\n\t\t\t} else {\r\n\t\t\t\tresult.add(list.subList(startIndex, list.size()));\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>if you don't want to import the apache commons library try this simple code:</p>\n\n<pre><code>final static int MAX_ELEMENT = 20;\n\npublic static void main(final String[] args) {\n\n    final List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    for (int i = 1; i &lt;= 161; i++) {\n        list.add(String.valueOf(i));\n        System.out.print(\",\" + String.valueOf(i));\n    }\n    System.out.println(\"\");\n    System.out.println(\"### &gt;&gt;&gt; \");\n    final List&lt;List&lt;String&gt;&gt; result = splitList(list, MAX_ELEMENT);\n\n    for (final List&lt;String&gt; entry : result) {\n        System.out.println(\"------------------------\");\n        for (final String elm : entry) {\n            System.out.println(elm);\n        }\n        System.out.println(\"------------------------\");\n    }\n\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; splitList(final List&lt;String&gt; list, final int maxElement) {\n\n    final List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n    final int div = list.size() / maxElement;\n\n    System.out.println(div);\n\n    for (int i = 0; i &lt;= div; i++) {\n\n        final int startIndex = i * maxElement;\n\n        if (startIndex &gt;= list.size()) {\n            return result;\n        }\n\n        final int endIndex = (i + 1) * maxElement;\n\n        if (endIndex &lt; list.size()) {\n            result.add(list.subList(startIndex, endIndex));\n        } else {\n            result.add(list.subList(startIndex, list.size()));\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803740,"reputation":2123,"user_id":3156682,"accept_rate":75,"display_name":"J.R"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1567424566,"creation_date":1479827414,"answer_id":40745352,"question_id":2895342,"body_markdown":" This works for me\r\n   \r\n\r\n    /**\r\n    * Returns List of the List argument passed to this function with size = chunkSize\r\n    * \r\n    * @param largeList input list to be portioned\r\n    * @param chunkSize maximum size of each partition\r\n    * @param &lt;T&gt; Generic type of the List\r\n    * @return A list of Lists which is portioned from the original list \r\n    */\r\n\tpublic static  &lt;T&gt; List&lt;List&lt;T&gt;&gt; chunkList(List&lt;T&gt; list, int chunkSize) {\r\n\t\tif (chunkSize &lt;= 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid chunk size: &quot; + chunkSize);\r\n\t\t}\r\n\t\tList&lt;List&lt;T&gt;&gt; chunkList = new ArrayList&lt;&gt;(list.size() / chunkSize);\r\n\t\tfor (int i = 0; i &lt; list.size(); i += chunkSize) {\r\n\t\t\tchunkList.add(list.subList(i, i + chunkSize &gt;= list.size() ? list.size()-1 : i + chunkSize));\r\n\t\t}\r\n\t\treturn chunkList;\r\n\t}\r\n\r\n\r\nEg : \r\n\r\n    List&lt;Integer&gt; stringList = new ArrayList&lt;&gt;();\r\n    stringList.add(0);\r\n    stringList.add(1);\r\n    stringList.add(2);\r\n    stringList.add(3);\r\n    stringList.add(4);\r\n    stringList.add(5);\r\n    stringList.add(6);\r\n    stringList.add(7);\r\n    stringList.add(8);\r\n    stringList.add(9);\r\n            \r\n    List&lt;List&lt;Integer&gt;&gt; chunkList = getChunkList1(stringList, 2);\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>This works for me</p>\n\n<pre><code>/**\n* Returns List of the List argument passed to this function with size = chunkSize\n* \n* @param largeList input list to be portioned\n* @param chunkSize maximum size of each partition\n* @param &lt;T&gt; Generic type of the List\n* @return A list of Lists which is portioned from the original list \n*/\npublic static  &lt;T&gt; List&lt;List&lt;T&gt;&gt; chunkList(List&lt;T&gt; list, int chunkSize) {\n    if (chunkSize &lt;= 0) {\n        throw new IllegalArgumentException(\"Invalid chunk size: \" + chunkSize);\n    }\n    List&lt;List&lt;T&gt;&gt; chunkList = new ArrayList&lt;&gt;(list.size() / chunkSize);\n    for (int i = 0; i &lt; list.size(); i += chunkSize) {\n        chunkList.add(list.subList(i, i + chunkSize &gt;= list.size() ? list.size()-1 : i + chunkSize));\n    }\n    return chunkList;\n}\n</code></pre>\n\n<p>Eg : </p>\n\n<pre><code>List&lt;Integer&gt; stringList = new ArrayList&lt;&gt;();\nstringList.add(0);\nstringList.add(1);\nstringList.add(2);\nstringList.add(3);\nstringList.add(4);\nstringList.add(5);\nstringList.add(6);\nstringList.add(7);\nstringList.add(8);\nstringList.add(9);\n\nList&lt;List&lt;Integer&gt;&gt; chunkList = getChunkList1(stringList, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6167110,"reputation":21,"user_id":4806623,"display_name":"Rahul Palakurthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501146756,"creation_date":1501146756,"answer_id":45346297,"question_id":2895342,"body_markdown":"    import org.apache.commons.collections4.ListUtils;\r\n    ArrayList&lt;Integer&gt; mainList = .............;\r\n    List&lt;List&lt;Integer&gt;&gt; multipleLists = ListUtils.partition(mainList,100);\r\n    int i=1;\r\n    for (List&lt;Integer&gt; indexedList : multipleLists){\r\n      System.out.println(&quot;Values in List &quot;+i);\r\n      for (Integer value : indexedList)\r\n        System.out.println(value);\r\n    i++;\r\n    }","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<pre><code>import org.apache.commons.collections4.ListUtils;\nArrayList&lt;Integer&gt; mainList = .............;\nList&lt;List&lt;Integer&gt;&gt; multipleLists = ListUtils.partition(mainList,100);\nint i=1;\nfor (List&lt;Integer&gt; indexedList : multipleLists){\n  System.out.println(\"Values in List \"+i);\n  for (Integer value : indexedList)\n    System.out.println(value);\ni++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12219197,"reputation":1,"user_id":8918700,"display_name":"yogesh kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510309653,"creation_date":1510308080,"answer_id":47220154,"question_id":2895342,"body_markdown":"You need to know the chunk size by which you&#39;re dividing your list. Say you have a list of `108 entries` and you need a chunk size of `25`. Thus you will end up with `5 lists`: \r\n\r\n* 4 having `25 entries` each;\r\n* 1 (the fifth) having `8 elements`. \r\n\r\n**Code:**\r\n\r\n    public static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor (int i=0; i&lt;108; i++){\r\n\t\t\t\tlist.add(i);\r\n\t\t\t}\r\n\t\t\tint size= list.size();\r\n\t\t\tint j=0;\r\n\t\t\t\t\tList&lt; List&lt;Integer&gt; &gt; splittedList = new ArrayList&lt;List&lt;Integer&gt;&gt;()  ;\r\n\t\t\t\t\tList&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor(j=0;j&lt;size;j++){\r\n\t\t\t\ttempList.add(list.get(j));\r\n\t\t\tif((j+1)%25==0){\r\n\t\t\t\t// chunk of 25 created and clearing tempList\r\n\t\t\t\tsplittedList.add(tempList);\r\n\t\t\t\ttempList = null;\r\n\t\t\t\t//intializing it again for new chunk \r\n\t\t\t\ttempList = new ArrayList&lt;Integer&gt;();\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(size%25!=0){\r\n\t\t\t\t//adding the remaining enteries \r\n\t\t\t\tsplittedList.add(tempList);\r\n\t\t\t}\r\n\t\t\tfor (int k=0;k&lt;splittedList.size(); k++){\r\n\t\t\t\t//(k+1) because we started from k=0\r\n\t\t\t\tSystem.out.println(&quot;Chunk number: &quot;+(k+1)+&quot; has elements = &quot;+splittedList.get(k).size());\r\n\t\t\t}\r\n\t\t}","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>You need to know the chunk size by which you're dividing your list. Say you have a list of <code>108 entries</code> and you need a chunk size of <code>25</code>. Thus you will end up with <code>5 lists</code>: </p>\n\n<ul>\n<li>4 having <code>25 entries</code> each;</li>\n<li>1 (the fifth) having <code>8 elements</code>. </li>\n</ul>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i=0; i&lt;108; i++){\n            list.add(i);\n        }\n        int size= list.size();\n        int j=0;\n                List&lt; List&lt;Integer&gt; &gt; splittedList = new ArrayList&lt;List&lt;Integer&gt;&gt;()  ;\n                List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\n        for(j=0;j&lt;size;j++){\n            tempList.add(list.get(j));\n        if((j+1)%25==0){\n            // chunk of 25 created and clearing tempList\n            splittedList.add(tempList);\n            tempList = null;\n            //intializing it again for new chunk \n            tempList = new ArrayList&lt;Integer&gt;();\n        }\n        }\n        if(size%25!=0){\n            //adding the remaining enteries \n            splittedList.add(tempList);\n        }\n        for (int k=0;k&lt;splittedList.size(); k++){\n            //(k+1) because we started from k=0\n            System.out.println(\"Chunk number: \"+(k+1)+\" has elements = \"+splittedList.get(k).size());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1534236967,"creation_date":1534236327,"answer_id":51837311,"question_id":2895342,"body_markdown":"Java 8\r\n------\r\n\r\nWe can split a list based on some size or based on a condition. \r\n\r\n    static Collection&lt;List&lt;Integer&gt;&gt; partitionIntegerListBasedOnSize(List&lt;Integer&gt; inputList, int size) {\r\n            return inputList.stream()\r\n                    .collect(Collectors.groupingBy(s -&gt; (s-1)/size))\r\n                    .values();\r\n    }\r\n    static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partitionBasedOnSize(List&lt;T&gt; inputList, int size) {\r\n            final AtomicInteger counter = new AtomicInteger(0);\r\n            return inputList.stream()\r\n                        .collect(Collectors.groupingBy(s -&gt; counter.getAndIncrement()/size))\r\n                        .values();\r\n    }\r\n    static &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partitionBasedOnCondition(List&lt;T&gt; inputList, Predicate&lt;T&gt; condition) {\r\n            return inputList.stream().collect(Collectors.partitioningBy(s-&gt; (condition.test(s)))).values();\r\n    }\r\n\r\nThen we can use them as:\r\n\r\n    final List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);\r\n    System.out.println(partitionIntegerListBasedOnSize(list, 4));  // [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10]]\r\n    System.out.println(partitionBasedOnSize(list, 4));  // [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10]]\r\n    System.out.println(partitionBasedOnSize(list, 3));  // [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]\r\n    System.out.println(partitionBasedOnCondition(list, i -&gt; i&lt;6));  // [[6, 7, 8, 9, 10], [1, 2, 3, 4, 5]]\r\n\r\n\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<h2>Java 8</h2>\n\n<p>We can split a list based on some size or based on a condition. </p>\n\n<pre><code>static Collection&lt;List&lt;Integer&gt;&gt; partitionIntegerListBasedOnSize(List&lt;Integer&gt; inputList, int size) {\n        return inputList.stream()\n                .collect(Collectors.groupingBy(s -&gt; (s-1)/size))\n                .values();\n}\nstatic &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partitionBasedOnSize(List&lt;T&gt; inputList, int size) {\n        final AtomicInteger counter = new AtomicInteger(0);\n        return inputList.stream()\n                    .collect(Collectors.groupingBy(s -&gt; counter.getAndIncrement()/size))\n                    .values();\n}\nstatic &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; partitionBasedOnCondition(List&lt;T&gt; inputList, Predicate&lt;T&gt; condition) {\n        return inputList.stream().collect(Collectors.partitioningBy(s-&gt; (condition.test(s)))).values();\n}\n</code></pre>\n\n<p>Then we can use them as:</p>\n\n<pre><code>final List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);\nSystem.out.println(partitionIntegerListBasedOnSize(list, 4));  // [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10]]\nSystem.out.println(partitionBasedOnSize(list, 4));  // [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10]]\nSystem.out.println(partitionBasedOnSize(list, 3));  // [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]\nSystem.out.println(partitionBasedOnCondition(list, i -&gt; i&lt;6));  // [[6, 7, 8, 9, 10], [1, 2, 3, 4, 5]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552928522,"creation_date":1552484710,"answer_id":55143385,"question_id":2895342,"body_markdown":" Just to be clear, This still have to be tested more...\r\n\r\n    public class Splitter {\r\n\t\r\n\tpublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitList(List&lt;T&gt; listTobeSplit, int size) {\r\n\t\tList&lt;List&lt;T&gt;&gt; sublists= new LinkedList&lt;&gt;();\r\n\t\tif(listTobeSplit.size()&gt;size) {\r\n\t\tint counter=0;\r\n\t\tboolean lastListadded=false;\r\n\t\t\r\n\t\tList&lt;T&gt; subList=new LinkedList&lt;&gt;();\r\n\t\t\r\n\t\tfor(T t: listTobeSplit) {\t\t\t\r\n\t\t\t if (counter==0) {\t\t\t\t \r\n\t\t\t\t subList =new LinkedList&lt;&gt;();\r\n\t\t\t\t subList.add(t);\r\n\t\t\t\t counter++;\r\n\t\t\t\t lastListadded=false;\r\n\t\t\t }\r\n\t\t\t else if(counter&gt;0 &amp;&amp; counter&lt;size-1) {\r\n\t\t\t\t subList.add(t);\r\n\t\t\t\t counter++;\r\n\t\t\t }\r\n\t\t\t else {\r\n\t\t\t\t lastListadded=true;\r\n\t\t\t\t subList.add(t);\r\n\t\t\t\t sublists.add(subList);\r\n\t\t\t\t counter=0;\r\n\t\t\t }\t\t\t\t\r\n\t\t}\r\n\t\tif(lastListadded==false)\r\n\t\t\tsublists.add(subList);\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsublists.add(listTobeSplit);\r\n\t\t}\r\n\t\tlog.debug(&quot;sublists: &quot;+sublists);\r\n\t\treturn sublists;\r\n\t }\r\n    }","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>Just to be clear, This still have to be tested more...</p>\n\n<pre><code>public class Splitter {\n\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitList(List&lt;T&gt; listTobeSplit, int size) {\n    List&lt;List&lt;T&gt;&gt; sublists= new LinkedList&lt;&gt;();\n    if(listTobeSplit.size()&gt;size) {\n    int counter=0;\n    boolean lastListadded=false;\n\n    List&lt;T&gt; subList=new LinkedList&lt;&gt;();\n\n    for(T t: listTobeSplit) {           \n         if (counter==0) {               \n             subList =new LinkedList&lt;&gt;();\n             subList.add(t);\n             counter++;\n             lastListadded=false;\n         }\n         else if(counter&gt;0 &amp;&amp; counter&lt;size-1) {\n             subList.add(t);\n             counter++;\n         }\n         else {\n             lastListadded=true;\n             subList.add(t);\n             sublists.add(subList);\n             counter=0;\n         }              \n    }\n    if(lastListadded==false)\n        sublists.add(subList);      \n    }\n    else {\n        sublists.add(listTobeSplit);\n    }\n    log.debug(\"sublists: \"+sublists);\n    return sublists;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4731068,"reputation":1045,"user_id":3826696,"display_name":"user3826696"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681980219,"creation_date":1560989079,"answer_id":56677379,"question_id":2895342,"body_markdown":"    private List&lt;List&lt;String&gt;&gt; chunkArrayList(List&lt;String&gt; arrayToChunk, int chunkSize) {\r\n        List&lt;List&lt;String&gt;&gt; chunkList = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; arrayToChunk.size(); i += chunkSize) {\r\n            int end = Math.min(i + chunkSize, arrayToChunk.size());\r\n            chunkList.add(arrayToChunk.subList(i, end));\r\n        }\r\n        return chunkList;\r\n    }\r\n\r\n**Example** \r\n\r\n        ArrayList&lt;String&gt; test = new ArrayList&lt;&gt;();\r\n        for (int i=1; i&lt;=1000; i++){\r\n            test.add(String.valueOf(i));\r\n        }\r\n\r\n        chunkArrayList(test,10);\r\n\r\n**Output**\r\n\r\nCHUNKED:: `[[1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17, 18, 19, 20], [21, 22, 23, 24, 25, 26, 27, 28, 29, 30], [31, 32, 33, 34, 35, 36, 37, 38, 39, 40], [41, 42, 43, 44, 45, 46, 47, 48, 49, 50], [51, 52, 53, 54, 55, 56, 57, 58, 59, 60], [61, 62, 63, 64, 65, 66, 67, 68, 69, 70], [71, 72, 73, 74, 75, 76, 77, 78, 79, 80], [81, 82, 83, 84, 85, 86, 87, 88, 89, 90], [91, 92, 93, 94, 95, 96, 97, 98, 99, 100], .........` \r\n\r\nyou will see in your log\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<pre><code>private List&lt;List&lt;String&gt;&gt; chunkArrayList(List&lt;String&gt; arrayToChunk, int chunkSize) {\n    List&lt;List&lt;String&gt;&gt; chunkList = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; arrayToChunk.size(); i += chunkSize) {\n        int end = Math.min(i + chunkSize, arrayToChunk.size());\n        chunkList.add(arrayToChunk.subList(i, end));\n    }\n    return chunkList;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>    ArrayList&lt;String&gt; test = new ArrayList&lt;&gt;();\n    for (int i=1; i&lt;=1000; i++){\n        test.add(String.valueOf(i));\n    }\n\n    chunkArrayList(test,10);\n</code></pre>\n<p><strong>Output</strong></p>\n<p>CHUNKED:: <code>[[1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17, 18, 19, 20], [21, 22, 23, 24, 25, 26, 27, 28, 29, 30], [31, 32, 33, 34, 35, 36, 37, 38, 39, 40], [41, 42, 43, 44, 45, 46, 47, 48, 49, 50], [51, 52, 53, 54, 55, 56, 57, 58, 59, 60], [61, 62, 63, 64, 65, 66, 67, 68, 69, 70], [71, 72, 73, 74, 75, 76, 77, 78, 79, 80], [81, 82, 83, 84, 85, 86, 87, 88, 89, 90], [91, 92, 93, 94, 95, 96, 97, 98, 99, 100], .........</code></p>\n<p>you will see in your log</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571606064,"creation_date":1571605691,"answer_id":58477354,"question_id":2895342,"body_markdown":"You can use the `chunk` method from [Eclipse Collections][1]:\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Interval.oneTo(1000));\r\n    RichIterable&lt;RichIterable&lt;Integer&gt;&gt; chunks = Iterate.chunk(list, 10);\r\n    Verify.assertSize(100, chunks);\r\n\r\nA few examples of the `chunk` method were included in this [DZone article][2] as well.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n  [2]: https://dzone.com/articles/jvm-calendar-hidden-treasures-of-eclipse-collectio","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>You can use the <code>chunk</code> method from <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Interval.oneTo(1000));\nRichIterable&lt;RichIterable&lt;Integer&gt;&gt; chunks = Iterate.chunk(list, 10);\nVerify.assertSize(100, chunks);\n</code></pre>\n\n<p>A few examples of the <code>chunk</code> method were included in this <a href=\"https://dzone.com/articles/jvm-calendar-hidden-treasures-of-eclipse-collectio\" rel=\"nofollow noreferrer\">DZone article</a> as well.</p>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":18416298,"reputation":39,"user_id":13415089,"display_name":"Akhil Sabu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588142437,"creation_date":1588142437,"answer_id":61495694,"question_id":2895342,"body_markdown":"        **Divide a list to lists of n size**\r\n    \r\n        import java.util.AbstractList;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        public final class PartitionUtil&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\r\n        \r\n            private final List&lt;T&gt; list;\r\n            private final int chunkSize;\r\n        \r\n            private PartitionUtil(List&lt;T&gt; list, int chunkSize) {\r\n                this.list = new ArrayList&lt;&gt;(list);\r\n                this.chunkSize = chunkSize;\r\n            }\r\n        \r\n            public static &lt;T&gt; PartitionUtil&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\r\n                return new PartitionUtil&lt;&gt;(list, chunkSize);\r\n            }\r\n        \r\n            @Override\r\n            public List&lt;T&gt; get(int index) {\r\n                int start = index * chunkSize;\r\n                int end = Math.min(start + chunkSize, list.size());\r\n        \r\n                if (start &gt; end) {\r\n                    throw new IndexOutOfBoundsException(&quot;Index &quot; + index + &quot; is out of the list range &lt;0,&quot; + (size() - 1) + &quot;&gt;&quot;);\r\n                }\r\n        \r\n                return new ArrayList&lt;&gt;(list.subList(start, end));\r\n            }\r\n        \r\n            @Override\r\n            public int size() {\r\n                return (int) Math.ceil((double) list.size() / (double) chunkSize);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Function call : \r\n                  List&lt;List&lt;String&gt;&gt; containerNumChunks = PartitionUtil.ofSize(list, 999)\r\n\r\nmore details: https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<pre><code>    **Divide a list to lists of n size**\n\n    import java.util.AbstractList;\n    import java.util.ArrayList;\n    import java.util.List;\n\n    public final class PartitionUtil&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\n\n        private final List&lt;T&gt; list;\n        private final int chunkSize;\n\n        private PartitionUtil(List&lt;T&gt; list, int chunkSize) {\n            this.list = new ArrayList&lt;&gt;(list);\n            this.chunkSize = chunkSize;\n        }\n\n        public static &lt;T&gt; PartitionUtil&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\n            return new PartitionUtil&lt;&gt;(list, chunkSize);\n        }\n\n        @Override\n        public List&lt;T&gt; get(int index) {\n            int start = index * chunkSize;\n            int end = Math.min(start + chunkSize, list.size());\n\n            if (start &gt; end) {\n                throw new IndexOutOfBoundsException(\"Index \" + index + \" is out of the list range &lt;0,\" + (size() - 1) + \"&gt;\");\n            }\n\n            return new ArrayList&lt;&gt;(list.subList(start, end));\n        }\n\n        @Override\n        public int size() {\n            return (int) Math.ceil((double) list.size() / (double) chunkSize);\n        }\n    }\n\n\n\n\n\nFunction call : \n              List&lt;List&lt;String&gt;&gt; containerNumChunks = PartitionUtil.ofSize(list, 999)\n</code></pre>\n\n<p>more details: <a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"nofollow noreferrer\">https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/</a></p>\n"},{"tags":[],"owner":{"account_id":10901642,"reputation":96,"user_id":8013743,"display_name":"Imad ALILAT"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601135288,"creation_date":1601135288,"answer_id":64079607,"question_id":2895342,"body_markdown":"Let&#39;s suppose you want the considere the class that split the list into multiple chuncks as a library class.\r\n\r\nSo let&#39;s say the class is called &#39;shared&#39; and in should be final to be sure it won&#39;t be extended.\r\n\r\n       import java.util.ArrayList;\r\n       import java.util.Arrays;\r\n       import java.util.List;\r\n\r\n    public final class Shared {\r\n\tList&lt;Integer&gt; input;\r\n\tint portion;\r\n\r\n\tpublic Shared(int portion, Integer... input) {\r\n\t\tthis.setPortion(portion);\r\n\t\tthis.setInput(input);\r\n\t}\r\n\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; listToChunks() {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tint size = this.size();\r\n\t\tint startAt = 0;\r\n\t\tint endAt = this.portion;\r\n\r\n\t\twhile (endAt &lt;= size) {\r\n\r\n\t\t\tresult.add(this.input.subList(startAt, endAt));\r\n\t\t\tstartAt = endAt;\r\n\t\t\tendAt = (size - endAt &lt; this.portion &amp;&amp; size - endAt &gt; 0) ? (this.size()) : (endAt + this.portion);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic int size() {\r\n\t\treturn this.input.size();\r\n\t}\r\n\r\n\tpublic void setInput(Integer... input) {\r\n\t\tif (input != null &amp;&amp; input.length &gt; 0)\r\n\t\t\tthis.input = Arrays.asList(input);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Error 001 : please enter a valid array of integers.&quot;);\r\n\t}\r\n\r\n\tpublic void setPortion(int portion) {\r\n\t\tif (portion &gt; 0)\r\n\t\t\tthis.portion = portion;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Error 002 : please enter a valid positive number.&quot;);\r\n\t}\r\n    }\r\n\r\nNext, let&#39;s try to execute it from another class that hold the public static void main(String... args)\r\n\r\n    public class exercise {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] numbers = {1, 2, 3, 4, 5, 6, 7};\r\n\t\tint portion = 2;\r\n\t\tShared share = new Shared(portion, numbers);\r\n\t\tSystem.out.println(share.listToChunks());\t\r\n\t}\r\n    }\r\n\r\nNow, if you enter an array of integer [1, 2, 3, 4, 5, 6, 7] with a partition of 2.\r\nthe result will be [[1, 2], [3, 4], [5, 6], [7]]","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>Let's suppose you want the considere the class that split the list into multiple chuncks as a library class.</p>\n<p>So let's say the class is called 'shared' and in should be final to be sure it won't be extended.</p>\n<pre><code>   import java.util.ArrayList;\n   import java.util.Arrays;\n   import java.util.List;\n\npublic final class Shared {\nList&lt;Integer&gt; input;\nint portion;\n\npublic Shared(int portion, Integer... input) {\n    this.setPortion(portion);\n    this.setInput(input);\n}\n\npublic List&lt;List&lt;Integer&gt;&gt; listToChunks() {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int size = this.size();\n    int startAt = 0;\n    int endAt = this.portion;\n\n    while (endAt &lt;= size) {\n\n        result.add(this.input.subList(startAt, endAt));\n        startAt = endAt;\n        endAt = (size - endAt &lt; this.portion &amp;&amp; size - endAt &gt; 0) ? (this.size()) : (endAt + this.portion);\n    }\n\n    return result;\n}\n\npublic int size() {\n    return this.input.size();\n}\n\npublic void setInput(Integer... input) {\n    if (input != null &amp;&amp; input.length &gt; 0)\n        this.input = Arrays.asList(input);\n    else\n        System.out.println(&quot;Error 001 : please enter a valid array of integers.&quot;);\n}\n\npublic void setPortion(int portion) {\n    if (portion &gt; 0)\n        this.portion = portion;\n    else\n        System.out.println(&quot;Error 002 : please enter a valid positive number.&quot;);\n}\n}\n</code></pre>\n<p>Next, let's try to execute it from another class that hold the public static void main(String... args)</p>\n<pre><code>public class exercise {\n\npublic static void main(String[] args) {\n    Integer[] numbers = {1, 2, 3, 4, 5, 6, 7};\n    int portion = 2;\n    Shared share = new Shared(portion, numbers);\n    System.out.println(share.listToChunks());   \n}\n}\n</code></pre>\n<p>Now, if you enter an array of integer [1, 2, 3, 4, 5, 6, 7] with a partition of 2.\nthe result will be [[1, 2], [3, 4], [5, 6], [7]]</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1608584617,"creation_date":1608584617,"answer_id":65399929,"question_id":2895342,"body_markdown":"Using the [StreamEx](https://github.com/amaembo/streamex) library, you can use the [`StreamEx.ofSubLists(List&lt;T&gt; source, int length)`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#ofSubLists(java.util.List,int)) method:\r\n\r\n&gt; Returns a new StreamEx which consists of non-overlapping sublists of given source list having the specified length (the last sublist may be shorter).\r\n\r\n```java\r\n// Assuming you don&#39;t actually care that the lists are of type ArrayList\r\nList&lt;List&lt;Integer&gt;&gt; sublists = StreamEx.ofSubLists(result, 10).toList();\r\n\r\n// If you actually want them to be of type ArrayList, per your question\r\nList&lt;List&lt;Integer&gt;&gt; sublists = StreamEx.ofSubLists(result, 10).toCollection(ArrayList::new);\r\n```","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>Using the <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> library, you can use the <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#ofSubLists(java.util.List,int)\" rel=\"nofollow noreferrer\"><code>StreamEx.ofSubLists(List&lt;T&gt; source, int length)</code></a> method:</p>\n<blockquote>\n<p>Returns a new StreamEx which consists of non-overlapping sublists of given source list having the specified length (the last sublist may be shorter).</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming you don't actually care that the lists are of type ArrayList\nList&lt;List&lt;Integer&gt;&gt; sublists = StreamEx.ofSubLists(result, 10).toList();\n\n// If you actually want them to be of type ArrayList, per your question\nList&lt;List&lt;Integer&gt;&gt; sublists = StreamEx.ofSubLists(result, 10).toCollection(ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451083,"reputation":1157,"user_id":846769,"accept_rate":50,"display_name":"i000174"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1634669087,"creation_date":1634666940,"answer_id":69635781,"question_id":2895342,"body_markdown":"**Java8 streams**, one expression, no other libraries: \r\n        \r\n    List&lt;String&gt; input = ...\r\n    int partitionSize = ...\r\n    \r\n     Collection&lt;List&lt;String&gt;&gt; partitionedList = IntStream.range(0, input.size())\r\n        .boxed()\r\n            .collect(Collectors.groupingBy(partition -&gt; (partition / partitionSize), Collectors.mapping(elementIndex -&gt; input.get(elementIndex), Collectors.toList())))\r\n                .values();\r\n\r\n\r\n**Tests**:\r\n\r\n    List&lt;String&gt; input = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot; ,&quot;i&quot;);\r\n\r\n&gt; partitionSize = 1 -&gt; [[a], [b], [c], [d], [e], [f], [g], [h], [I]]\r\n&gt;\r\n&gt; partitionSize = 2 -&gt; [[a, b], [c, d], [e, f], [g, h], [I]]\r\n&gt;\r\n&gt; partitionSize = 3 -&gt; [[a, b, c], [d, e, f], [g, h, I]]\r\n&gt;\r\n&gt; partitionSize = 7 -&gt; [[a, b, c, d, e, f, g], [h, I]]\r\n&gt;\r\n&gt; partitionSize = 100 -&gt; [[a, b, c, d, e, f, g, h, i]]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p><strong>Java8 streams</strong>, one expression, no other libraries:</p>\n<pre><code>List&lt;String&gt; input = ...\nint partitionSize = ...\n\n Collection&lt;List&lt;String&gt;&gt; partitionedList = IntStream.range(0, input.size())\n    .boxed()\n        .collect(Collectors.groupingBy(partition -&gt; (partition / partitionSize), Collectors.mapping(elementIndex -&gt; input.get(elementIndex), Collectors.toList())))\n            .values();\n</code></pre>\n<p><strong>Tests</strong>:</p>\n<pre><code>List&lt;String&gt; input = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot; ,&quot;i&quot;);\n</code></pre>\n<blockquote>\n<p>partitionSize = 1 -&gt; [[a], [b], [c], [d], [e], [f], [g], [h], [I]]</p>\n<p>partitionSize = 2 -&gt; [[a, b], [c, d], [e, f], [g, h], [I]]</p>\n<p>partitionSize = 3 -&gt; [[a, b, c], [d, e, f], [g, h, I]]</p>\n<p>partitionSize = 7 -&gt; [[a, b, c, d, e, f, g], [h, I]]</p>\n<p>partitionSize = 100 -&gt; [[a, b, c, d, e, f, g, h, i]]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637083503,"creation_date":1637083137,"answer_id":69993489,"question_id":2895342,"body_markdown":"Java8 streams, one expression, no other libraries (two solutions without creating an unnecessary map):\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; partitionedList = IntStream.range(0, (list.size()-1)/targetSize+1)\r\n        .mapToObj(i -&gt; list.subList(i*targetSize, Math.min(i*targetSize+targetSize, list.size())))\r\n        .collect(Collectors.toList());\r\n\r\nList&lt;List&lt;Integer&gt;&gt; partitionedList2 = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + targetSize)\r\n        .mapToObj(i -&gt; list.subList(i, Math.min(i + targetSize, list.size())))\r\n        .collect(Collectors.toList());\r\n```\r\nKeep in mind these are sublists, so changes to the original list would also affect these.\r\n\r\nIf you prefer them not to be sublists, and rather newly created independent lists, they can be modified as such:\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; partitionedList = IntStream.range(0, (list.size()-1)/targetSize+1)\r\n        .mapToObj(i -&gt; IntStream.range(i*targetSize, Math.min(i*targetSize+targetSize, list.size())).mapToObj(j -&gt; list.get(j)).collect(Collectors.toList()))\r\n        .collect(Collectors.toList());\r\n\r\nList&lt;List&lt;Integer&gt;&gt; partitionedList2 = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + targetSize)\r\n        .mapToObj(i -&gt; IntStream.range(i, Math.min(i + targetSize, list.size())).mapToObj(j -&gt; list.get(j)).collect(Collectors.toList()))\r\n        .collect(Collectors.toList());\r\n```","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>Java8 streams, one expression, no other libraries (two solutions without creating an unnecessary map):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; partitionedList = IntStream.range(0, (list.size()-1)/targetSize+1)\n        .mapToObj(i -&gt; list.subList(i*targetSize, Math.min(i*targetSize+targetSize, list.size())))\n        .collect(Collectors.toList());\n\nList&lt;List&lt;Integer&gt;&gt; partitionedList2 = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + targetSize)\n        .mapToObj(i -&gt; list.subList(i, Math.min(i + targetSize, list.size())))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Keep in mind these are sublists, so changes to the original list would also affect these.</p>\n<p>If you prefer them not to be sublists, and rather newly created independent lists, they can be modified as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; partitionedList = IntStream.range(0, (list.size()-1)/targetSize+1)\n        .mapToObj(i -&gt; IntStream.range(i*targetSize, Math.min(i*targetSize+targetSize, list.size())).mapToObj(j -&gt; list.get(j)).collect(Collectors.toList()))\n        .collect(Collectors.toList());\n\nList&lt;List&lt;Integer&gt;&gt; partitionedList2 = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + targetSize)\n        .mapToObj(i -&gt; IntStream.range(i, Math.min(i + targetSize, list.size())).mapToObj(j -&gt; list.get(j)).collect(Collectors.toList()))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663201004,"creation_date":1663200493,"answer_id":73724317,"question_id":2895342,"body_markdown":"    List&lt;List&lt;Integer&gt;&gt; allChunkLists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    List&lt;Integer&gt; chunkList = null;\r\n    int fromIndex = 0;\r\n    int toIndex = CHUNK_SIZE;\r\n    \r\n    while (fromIndex &lt; origList.size()) {\r\n       chunkList = origList.subList(fromIndex, (toIndex &gt; origList.size() ? origList.size() : toIndex));\r\n       allChunkLists.add(chunkList);\r\n       fromIndex = toIndex;\r\n       toIndex += CHUNK_SIZE;\r\n    }\r\n\r\nNo libraries, just Java&#39;s `subList()`. `toIndex` needs to be bounded properly to avoid out-of-bounds errors in `subList()`. ","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<pre><code>List&lt;List&lt;Integer&gt;&gt; allChunkLists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\nList&lt;Integer&gt; chunkList = null;\nint fromIndex = 0;\nint toIndex = CHUNK_SIZE;\n\nwhile (fromIndex &lt; origList.size()) {\n   chunkList = origList.subList(fromIndex, (toIndex &gt; origList.size() ? origList.size() : toIndex));\n   allChunkLists.add(chunkList);\n   fromIndex = toIndex;\n   toIndex += CHUNK_SIZE;\n}\n</code></pre>\n<p>No libraries, just Java's <code>subList()</code>. <code>toIndex</code> needs to be bounded properly to avoid out-of-bounds errors in <code>subList()</code>.</p>\n"}],"owner":{"account_id":94058,"reputation":63514,"user_id":257022,"accept_rate":98,"display_name":"aneuryzm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538391,"favorite_count":0,"down_vote_count":0,"up_vote_count":260,"accepted_answer_id":2895365,"answer_count":22,"score":260,"last_activity_date":1681980219,"creation_date":1274685111,"question_id":2895342,"body_markdown":"How can I split an ArrayList (size=1000) in multiple ArrayLists of the same size (=10) ?\r\n\r\n    ArrayList&lt;Integer&gt; results;\r\n\r\n","title":"Java: how can I split an ArrayList in multiple small ArrayLists?","body":"<p>How can I split an ArrayList (size=1000) in multiple ArrayLists of the same size (=10) ?</p>\n\n<pre><code>ArrayList&lt;Integer&gt; results;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":11090079,"reputation":133,"user_id":8142290,"display_name":"Vee Dee"},"score":0,"creation_date":1675771724,"post_id":75373063,"comment_id":132996490,"body_markdown":"The answer depends upon how are you using PreAuthorize. Are you using hasRole/hasAnyRole to check the roles or hasAuthority/hasAnyAuthority?\nThe hasRole method appends ROLE_ as prefix to whatever is passed into it as value. Moreover it also depends upon how have you implemented your getAuthorities method for User Model implementing UserDetails from Spring Security. I think you should add those implementations as well so that a clear picture can be generated on the issue.","body":"The answer depends upon how are you using PreAuthorize. Are you using hasRole/hasAnyRole to check the roles or hasAuthority/hasAnyAuthority? The hasRole method appends ROLE_ as prefix to whatever is passed into it as value. Moreover it also depends upon how have you implemented your getAuthorities method for User Model implementing UserDetails from Spring Security. I think you should add those implementations as well so that a clear picture can be generated on the issue."},{"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"score":0,"creation_date":1675772288,"post_id":75373063,"comment_id":132996673,"body_markdown":"I added the userDetailsImpl as you asked. I use the hasAnyRole annotation. I checked my getAuthorities method with a lot of console prints at the time and it seems to be doing is job correct.","body":"I added the userDetailsImpl as you asked. I use the hasAnyRole annotation. I checked my getAuthorities method with a lot of console prints at the time and it seems to be doing is job correct."},{"owner":{"account_id":11090079,"reputation":133,"user_id":8142290,"display_name":"Vee Dee"},"score":0,"creation_date":1675777980,"post_id":75373063,"comment_id":132998551,"body_markdown":"I have updated my answer and you can use the solution you desire to fix the problem. In my opinion you should go for second approach with Custom Converter since it gives you more flexibility in terms of using scopes. During console print try using the authentication object instead of user object(if not already using this approach).  authentication.getAuthorities() prefixes SCOPE_ to all the role name values by default.","body":"I have updated my answer and you can use the solution you desire to fix the problem. In my opinion you should go for second approach with Custom Converter since it gives you more flexibility in terms of using scopes. During console print try using the authentication object instead of user object(if not already using this approach).  authentication.getAuthorities() prefixes SCOPE_ to all the role name values by default."}],"answers":[{"tags":[],"owner":{"account_id":11090079,"reputation":133,"user_id":8142290,"display_name":"Vee Dee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681979798,"creation_date":1675776516,"answer_id":75374056,"question_id":75373063,"body_markdown":"Okay so here&#39;s the thing, since you&#39;re implementing resource server, the class: \r\n     \r\n    org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter \r\n\r\nis the one responsible for converting your scopes inside JWT token to granted authorities. \r\nNow, this class prepends all the authorities with **`SCOPE_`** prefix.\r\n\r\nSince you&#39;re using \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    hasAnyRole(&#39;ADMIN&#39;, &#39;USER&#39;,...)\r\n\r\nthis method internally invokes, \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    hasAnyAuthorityName(defaultRolePrefix, roleName) \r\n\r\nmethod with the `defaultRolePrefix` as `ROLE_` and the `roleName` as your passed in value(s).\r\n\r\nInternal implementation:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    public final boolean hasAnyRole(String... roles) {\r\n    \treturn hasAnyAuthorityName(this.defaultRolePrefix, roles);\r\n    }\r\n\r\n\t@Override\r\n\tpublic final boolean hasAnyAuthority(String... authorities) {\r\n\t\treturn hasAnyAuthorityName(null, authorities);\r\n\t}\r\n\r\nOn the other hand, the **`hasAnyAuthority`** method makes a call to the same method but with **`null` passed in to the `defaultRolePrefix`**.\r\n\r\nNow since you&#39;re using: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n\r\nin security config, it is using the default `AuthenticationConverter` for your JWT token which is\r\n\r\n    org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationConverter\r\n\r\nwhich further invokes\r\n\r\n    org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\r\n\r\nAs per the implementation in `JwtGrantedAuthoritiesConverter`, all the scopes in your JWT token are prefixed by **`SCOPE_`** as I mentioned earlier.\r\n\r\nNow assuming your granted authorities return **`ADMIN`** as one of the roles. Once you add it to your ***`scope`*** in JWT, the default converter will return **`SCOPE_ADMIN`** as an authority and similarly if you return **`ROLE_ADMIN`** in the scope, it will be converted to **`SCOPE_ROLE_ADMIN`** by default.\r\n\r\nThe `JwtAuthenticationConverter` class returns an instance of \r\n\r\n    org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken\r\n\r\nSo, it can be fixed in following ways:\r\n\r\nEither, use `hasAnyAuthority` to check the authorities by appending `SCOPE_` to the role names you have set in scope. \r\nIf your role name is **`ADMIN`** or **`ROLE_ADMIN`** you should use \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;SCOPE_ADMIN&#39;)&quot;)\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;SCOPE_ROLE_ADMIN&#39;)&quot;) \r\n\r\nand so on. \r\nIf you want to use `hasAnyRole` check then you must use\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ROLE_SCOPE_ADMIN&#39;)&quot;)\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ROLE_SCOPE_ROLE_ADMIN&#39;)&quot;) \r\n\r\nfor **`ADMIN`** and **`ROLE_ADMIN`** values respectively.\r\n\r\nOr, implement a custom authority converter and pass it to the `oauth2ResourceServer` in security config as follows,\r\n\r\n**Example Custom Converter**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.security.oauth2.jwt.Jwt;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    @Component\r\n    public class JwtCustomAuthoritiesConverter implements Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; {\r\n        @Override\r\n        public Collection&lt;GrantedAuthority&gt; convert(Jwt jwt) {\r\n            Collection&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n            Collection&lt;String&gt; splitScopes = Arrays.asList(jwt.getClaim(&quot;scope&quot;).split(&quot; &quot;));\r\n            for (String authority : splitScopes) {\r\n\t    \t\tgrantedAuthorities.add(new SimpleGrantedAuthority(authority));\r\n\t\t    }\r\n            return grantedAuthorities;\r\n        }\r\n    }\r\n\r\nThen update your Spring Security config as: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean \r\n    JwtCustomAuthoritiesConverter jwtCustomAuthoritiesConverter;\r\n\r\n    @Bean\r\n    JwtAuthenticationConverter jwtAuthenticationConverter(){\r\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtCustomAuthoritiesConverter);\r\n        return jwtAuthenticationConverter;\r\n    }\r\n\r\n    ...\r\n\r\n    http.oauth2ResourceServer((oauth2) -&gt;\r\n                            oauth2.jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter()))\r\n    ...\r\n\r\n\r\nWith the second option you can use your role names the way you want to in JWT token and the \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    hasAnyRole(&#39;ADMIN&#39;) \r\n\r\ncheck should get `ROLE_ADMIN` for `ADMIN` scope instead of `ROLE_SCOPE_ADMIN` which is the case now.\r\n","title":"How to set up Spring boot 3 security config proper?","body":"<p>Okay so here's the thing, since you're implementing resource server, the class:</p>\n<pre><code>org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter \n</code></pre>\n<p>is the one responsible for converting your scopes inside JWT token to granted authorities.\nNow, this class prepends all the authorities with <strong><code>SCOPE_</code></strong> prefix.</p>\n<p>Since you're using</p>\n<pre class=\"lang-java prettyprint-override\"><code>hasAnyRole('ADMIN', 'USER',...)\n</code></pre>\n<p>this method internally invokes,</p>\n<pre class=\"lang-java prettyprint-override\"><code>hasAnyAuthorityName(defaultRolePrefix, roleName) \n</code></pre>\n<p>method with the <code>defaultRolePrefix</code> as <code>ROLE_</code> and the <code>roleName</code> as your passed in value(s).</p>\n<p>Internal implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic final boolean hasAnyRole(String... roles) {\n    return hasAnyAuthorityName(this.defaultRolePrefix, roles);\n}\n\n@Override\npublic final boolean hasAnyAuthority(String... authorities) {\n    return hasAnyAuthorityName(null, authorities);\n}\n</code></pre>\n<p>On the other hand, the <strong><code>hasAnyAuthority</code></strong> method makes a call to the same method but with <strong><code>null</code> passed in to the <code>defaultRolePrefix</code></strong>.</p>\n<p>Now since you're using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n</code></pre>\n<p>in security config, it is using the default <code>AuthenticationConverter</code> for your JWT token which is</p>\n<pre><code>org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationConverter\n</code></pre>\n<p>which further invokes</p>\n<pre><code>org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\n</code></pre>\n<p>As per the implementation in <code>JwtGrantedAuthoritiesConverter</code>, all the scopes in your JWT token are prefixed by <strong><code>SCOPE_</code></strong> as I mentioned earlier.</p>\n<p>Now assuming your granted authorities return <strong><code>ADMIN</code></strong> as one of the roles. Once you add it to your <em><strong><code>scope</code></strong></em> in JWT, the default converter will return <strong><code>SCOPE_ADMIN</code></strong> as an authority and similarly if you return <strong><code>ROLE_ADMIN</code></strong> in the scope, it will be converted to <strong><code>SCOPE_ROLE_ADMIN</code></strong> by default.</p>\n<p>The <code>JwtAuthenticationConverter</code> class returns an instance of</p>\n<pre><code>org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken\n</code></pre>\n<p>So, it can be fixed in following ways:</p>\n<p>Either, use <code>hasAnyAuthority</code> to check the authorities by appending <code>SCOPE_</code> to the role names you have set in scope.\nIf your role name is <strong><code>ADMIN</code></strong> or <strong><code>ROLE_ADMIN</code></strong> you should use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;hasAnyAuthority('SCOPE_ADMIN')&quot;)\n@PreAuthorize(&quot;hasAnyAuthority('SCOPE_ROLE_ADMIN')&quot;) \n</code></pre>\n<p>and so on.\nIf you want to use <code>hasAnyRole</code> check then you must use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;hasAnyAuthority('ROLE_SCOPE_ADMIN')&quot;)\n@PreAuthorize(&quot;hasAnyAuthority('ROLE_SCOPE_ROLE_ADMIN')&quot;) \n</code></pre>\n<p>for <strong><code>ADMIN</code></strong> and <strong><code>ROLE_ADMIN</code></strong> values respectively.</p>\n<p>Or, implement a custom authority converter and pass it to the <code>oauth2ResourceServer</code> in security config as follows,</p>\n<p><strong>Example Custom Converter</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Collections;\n\n@Component\npublic class JwtCustomAuthoritiesConverter implements Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; {\n    @Override\n    public Collection&lt;GrantedAuthority&gt; convert(Jwt jwt) {\n        Collection&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n        Collection&lt;String&gt; splitScopes = Arrays.asList(jwt.getClaim(&quot;scope&quot;).split(&quot; &quot;));\n        for (String authority : splitScopes) {\n            grantedAuthorities.add(new SimpleGrantedAuthority(authority));\n        }\n        return grantedAuthorities;\n    }\n}\n</code></pre>\n<p>Then update your Spring Security config as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean \nJwtCustomAuthoritiesConverter jwtCustomAuthoritiesConverter;\n\n@Bean\nJwtAuthenticationConverter jwtAuthenticationConverter(){\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtCustomAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n\n...\n\nhttp.oauth2ResourceServer((oauth2) -&gt;\n                        oauth2.jwt((jwt) -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter()))\n...\n</code></pre>\n<p>With the second option you can use your role names the way you want to in JWT token and the</p>\n<pre class=\"lang-java prettyprint-override\"><code>hasAnyRole('ADMIN') \n</code></pre>\n<p>check should get <code>ROLE_ADMIN</code> for <code>ADMIN</code> scope instead of <code>ROLE_SCOPE_ADMIN</code> which is the case now.</p>\n"}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3767,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75374056,"answer_count":1,"score":3,"last_activity_date":1681979798,"creation_date":1675771260,"question_id":75373063,"body_markdown":"I&#39;m trying to integrate the updated Spring Security in my project, instead of using the deprecated `extending WebSecurityConfigurerAdapter`. I&#39;ve set up a good system in which the user gets authenticated (`User` implements `UserDetails` - I am using Hibernate) and a token gets generated. I get a 200 on this login and receive a token. This authetication part works fine. \r\n\r\nNow the problem is that my users have roles (like `ADMIN`, `USER`, ...) These roles are added to the generated token. My controllers get the `@PreAuthorize` annotation. The request cannot pass these annotation and get a forbidden. When I don&#39;t use the `@PreAuthorize`, the requests get validated with the token.\r\n\r\n```java \r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    private RSAKey rsaKey;\r\n\tprivate final DefaultUserDetailsService defaultUserDetailsService;\r\n\t\r\n\tpublic SecurityConfig(DefaultUserDetailsService defaultUserDetailsService) {\r\n\t\tthis.defaultUserDetailsService = defaultUserDetailsService;\r\n\t}\r\n\t\r\n\t@Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\t\r\n\treturn http\t\r\n               .cors(Customizer.withDefaults())\r\n               .csrf(AbstractHttpConfigurer::disable)\r\n               .authorizeHttpRequests(auth -&gt; auth\r\n                   .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                   .anyRequest().authenticated()\r\n               )\t\t\t\r\n               .userDetailsService(defaultUserDetailsService)\r\n               .sessionManagement(session -&gt;  session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n               .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n               .headers(headers -&gt; headers\r\n                   .frameOptions().sameOrigin()\r\n               )\r\n               .httpBasic(withDefaults())\r\n               .build();\r\n\t}\r\n\t\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        rsaKey = Jwks.generateRsa();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\r\n    }\r\n\t\r\n\t@Bean\r\n    JwtDecoder jwtDecoder() throws JOSEException {\r\n        return NimbusJwtDecoder.withPublicKey(rsaKey.toRSAPublicKey()).build();\r\n   }\r\n\t\r\n\t@Bean\r\n    JwtEncoder jwtEncoder(JWKSource&lt;SecurityContext&gt; jwks) {\r\n        return new NimbusJwtEncoder(jwks);\r\n    }\r\n\t\r\n    @Bean\r\n    public PasswordEncoder getPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n        \r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;,&quot;DELETE&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;,&quot;Content-Type&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;,configuration);\r\n        return source;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class KeyGeneratorUtils {\r\n\r\n    private KeyGeneratorUtils() {}\r\n\r\n    static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        } catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class Jwks {\r\n\t   private Jwks() {}\r\n\r\n\t    public static RSAKey generateRsa() {\r\n\t        KeyPair keyPair = KeyGeneratorUtils.generateRsaKey();\r\n\t        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\t        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\t        return new RSAKey.Builder(publicKey)\r\n\t                .privateKey(privateKey)\r\n\t                .keyID(UUID.randomUUID().toString())\r\n\t                .build();\r\n\t    }\r\n}\r\n\r\n```\r\n\r\n```java \r\n@Service\r\npublic class DefaultTokenService implements TokenService {\r\n\tprivate final JwtEncoder encoder;\r\n\r\n\tpublic DefaultTokenService(JwtEncoder encoder) {\r\n\t\tthis.encoder = encoder;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String generateToken(Authentication authentication) {\r\n        Instant now = Instant.now();\r\n        String scope = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        \r\n        System.out.println(&quot;scope: &quot; + scope);\r\n        \r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;)\r\n                .issuedAt(now)\r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class UserDetailsImpl implements UserDetails{\r\n\t  private static final long serialVersionUID = 1L;\r\n\t  private final Long id;\r\n\t  private final String username;\r\n\t  private final String riziv;\r\n\t  private final boolean verified;\r\n\t  @JsonIgnore\r\n\t  private final String password;\r\n\t  private final Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\t\r\n\t    public UserDetailsImpl(Long id, String username, String riziv, String password,\r\n                Collection&lt;? extends GrantedAuthority&gt; authorities, boolean verified) {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.username = username;\r\n\t\t\t\tthis.riziv = riziv;\r\n\t\t\t\tthis.password = password;\r\n\t\t\t\tthis.authorities = authorities;\r\n\t\t\t\tthis.verified = verified;\r\n\t\t\t}\r\n\r\n\t    public static UserDetailsImpl build(AuthUser authUser) {\r\n\t    \tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\t    \tauthorities.add(new SimpleGrantedAuthority(authUser.getRol().toString()));\r\n\t      \r\n\t    \t\r\n\t        return new UserDetailsImpl(\r\n\t        \t\tauthUser.getId(),\r\n\t        \t\tauthUser.getUsername(),\r\n\t        \t\tauthUser.getRiziv(),\r\n\t        \t\tauthUser.getPassword(),\r\n\t                authorities, authUser.isVerified());\r\n\t    }\r\n\t    @Override\r\n\t    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t        return authorities;\r\n\t    }\r\n\t    public Long getId() {\r\n\t        return id;\r\n\t    }\r\n\t    public boolean isVerified() {\r\n\t        return verified;\r\n\t    }\r\n\t    public String getRiziv() {\r\n\t        return riziv;\r\n\t    }\r\n\t    @Override\r\n\t    public String getUsername() {\r\n\t        return username;\r\n\t    }\r\n\t    @Override\r\n\t    public String getPassword() {\r\n\t        return password;\r\n\t    }\r\n\t    @Override\r\n\t    public boolean isAccountNonExpired() {\r\n\t        return true;\r\n\t    }\r\n\t    @Override\r\n\t    public boolean isAccountNonLocked() {\r\n\t        return true;\r\n\t    }\r\n\t    @Override\r\n\t    public boolean isCredentialsNonExpired() {\r\n\t        return true;\r\n\t    }\r\n\t    @Override\r\n\t    public boolean isEnabled() {\r\n\t        return true;\r\n\t    }\r\n\t    @Override\r\n\t    public boolean equals(Object o) {\r\n\t\t\tif (this == o)\r\n\t\t\t\treturn true;\r\n\t\t\tif (o == null || getClass() != o.getClass())\r\n\t\t\t\treturn false;\r\n\t\t\tUserDetailsImpl klant = (UserDetailsImpl) o;\r\n\t\t\treturn Objects.equals(id, klant.id);\r\n\t\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class DefaultUserDetailsService implements UserDetailsService {\r\n\tprivate final AuthUserService authUserService;\r\n\t\r\n\tpublic DefaultUserDetailsService(AuthUserService authUserService) {\r\n\t\tthis.authUserService = authUserService;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tAuthUser authUser = authUserService.findByUsername(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\r\n\r\n        return UserDetailsImpl.build(authUser);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\n\t@PreAuthorize(&quot;hasAnyRole(&#39;USER&#39;, &#39;ADMIN&#39;)&quot;)\r\n```\r\n\r\nI am making a configuration mistake somewhere, but I cannot seem to find it. Spring docs are very very hard to figure out, but I have been reading them relentlessly. There is also not a lot of clear information on these topics yet. I can find youtube videos tutorials and some related topics, but they only explain small parts, never a full setup. \r\n\r\nI have added below my `securityConfig`, `KeyGenerator`, `Jwks` and `tokengenerate` service. I also just added the `Userdetailsimpl` and service. I build my `userdetailsImpl` out of a user with a static build method. It might seem a strange construction but it works, it is because I did the security last and didn&#39;t think of it before. Also I added an example of my `@Preauthorize`.\r\n\r\nI am very close and this could be a good example for other users trying to implement this, because I seem not te able to find an example somewhere.Does anyone have experience with setting the Spring Boot 3 security up and can they tell me how I am misconfiguring? Why is my role not getting &#39;read&#39; by the `@PreAuthorize`?","title":"How to set up Spring boot 3 security config proper?","body":"<p>I'm trying to integrate the updated Spring Security in my project, instead of using the deprecated <code>extending WebSecurityConfigurerAdapter</code>. I've set up a good system in which the user gets authenticated (<code>User</code> implements <code>UserDetails</code> - I am using Hibernate) and a token gets generated. I get a 200 on this login and receive a token. This authetication part works fine.</p>\n<p>Now the problem is that my users have roles (like <code>ADMIN</code>, <code>USER</code>, ...) These roles are added to the generated token. My controllers get the <code>@PreAuthorize</code> annotation. The request cannot pass these annotation and get a forbidden. When I don't use the <code>@PreAuthorize</code>, the requests get validated with the token.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    private RSAKey rsaKey;\n    private final DefaultUserDetailsService defaultUserDetailsService;\n    \n    public SecurityConfig(DefaultUserDetailsService defaultUserDetailsService) {\n        this.defaultUserDetailsService = defaultUserDetailsService;\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n    return http \n               .cors(Customizer.withDefaults())\n               .csrf(AbstractHttpConfigurer::disable)\n               .authorizeHttpRequests(auth -&gt; auth\n                   .requestMatchers(&quot;/auth/**&quot;).permitAll()\n                   .anyRequest().authenticated()\n               )            \n               .userDetailsService(defaultUserDetailsService)\n               .sessionManagement(session -&gt;  session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n               .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n               .headers(headers -&gt; headers\n                   .frameOptions().sameOrigin()\n               )\n               .httpBasic(withDefaults())\n               .build();\n    }\n    \n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        rsaKey = Jwks.generateRsa();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\n    }\n    \n    @Bean\n    JwtDecoder jwtDecoder() throws JOSEException {\n        return NimbusJwtDecoder.withPublicKey(rsaKey.toRSAPublicKey()).build();\n   }\n    \n    @Bean\n    JwtEncoder jwtEncoder(JWKSource&lt;SecurityContext&gt; jwks) {\n        return new NimbusJwtEncoder(jwks);\n    }\n    \n    @Bean\n    public PasswordEncoder getPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n        \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;,&quot;DELETE&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;,&quot;Content-Type&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;,configuration);\n        return source;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class KeyGeneratorUtils {\n\n    private KeyGeneratorUtils() {}\n\n    static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        } catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Jwks {\n       private Jwks() {}\n\n        public static RSAKey generateRsa() {\n            KeyPair keyPair = KeyGeneratorUtils.generateRsaKey();\n            RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n            RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n            return new RSAKey.Builder(publicKey)\n                    .privateKey(privateKey)\n                    .keyID(UUID.randomUUID().toString())\n                    .build();\n        }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DefaultTokenService implements TokenService {\n    private final JwtEncoder encoder;\n\n    public DefaultTokenService(JwtEncoder encoder) {\n        this.encoder = encoder;\n    }\n    \n    @Override\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now();\n        String scope = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n        \n        System.out.println(&quot;scope: &quot; + scope);\n        \n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now)\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDetailsImpl implements UserDetails{\n      private static final long serialVersionUID = 1L;\n      private final Long id;\n      private final String username;\n      private final String riziv;\n      private final boolean verified;\n      @JsonIgnore\n      private final String password;\n      private final Collection&lt;? extends GrantedAuthority&gt; authorities;\n    \n        public UserDetailsImpl(Long id, String username, String riziv, String password,\n                Collection&lt;? extends GrantedAuthority&gt; authorities, boolean verified) {\n                this.id = id;\n                this.username = username;\n                this.riziv = riziv;\n                this.password = password;\n                this.authorities = authorities;\n                this.verified = verified;\n            }\n\n        public static UserDetailsImpl build(AuthUser authUser) {\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            authorities.add(new SimpleGrantedAuthority(authUser.getRol().toString()));\n          \n            \n            return new UserDetailsImpl(\n                    authUser.getId(),\n                    authUser.getUsername(),\n                    authUser.getRiziv(),\n                    authUser.getPassword(),\n                    authorities, authUser.isVerified());\n        }\n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            return authorities;\n        }\n        public Long getId() {\n            return id;\n        }\n        public boolean isVerified() {\n            return verified;\n        }\n        public String getRiziv() {\n            return riziv;\n        }\n        @Override\n        public String getUsername() {\n            return username;\n        }\n        @Override\n        public String getPassword() {\n            return password;\n        }\n        @Override\n        public boolean isAccountNonExpired() {\n            return true;\n        }\n        @Override\n        public boolean isAccountNonLocked() {\n            return true;\n        }\n        @Override\n        public boolean isCredentialsNonExpired() {\n            return true;\n        }\n        @Override\n        public boolean isEnabled() {\n            return true;\n        }\n        @Override\n        public boolean equals(Object o) {\n            if (this == o)\n                return true;\n            if (o == null || getClass() != o.getClass())\n                return false;\n            UserDetailsImpl klant = (UserDetailsImpl) o;\n            return Objects.equals(id, klant.id);\n        }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DefaultUserDetailsService implements UserDetailsService {\n    private final AuthUserService authUserService;\n    \n    public DefaultUserDetailsService(AuthUserService authUserService) {\n        this.authUserService = authUserService;\n    }\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        AuthUser authUser = authUserService.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\n\n        return UserDetailsImpl.build(authUser);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @PreAuthorize(&quot;hasAnyRole('USER', 'ADMIN')&quot;)\n</code></pre>\n<p>I am making a configuration mistake somewhere, but I cannot seem to find it. Spring docs are very very hard to figure out, but I have been reading them relentlessly. There is also not a lot of clear information on these topics yet. I can find youtube videos tutorials and some related topics, but they only explain small parts, never a full setup.</p>\n<p>I have added below my <code>securityConfig</code>, <code>KeyGenerator</code>, <code>Jwks</code> and <code>tokengenerate</code> service. I also just added the <code>Userdetailsimpl</code> and service. I build my <code>userdetailsImpl</code> out of a user with a static build method. It might seem a strange construction but it works, it is because I did the security last and didn't think of it before. Also I added an example of my <code>@Preauthorize</code>.</p>\n<p>I am very close and this could be a good example for other users trying to implement this, because I seem not te able to find an example somewhere.Does anyone have experience with setting the Spring Boot 3 security up and can they tell me how I am misconfiguring? Why is my role not getting 'read' by the <code>@PreAuthorize</code>?</p>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663947631,"post_id":73830015,"comment_id":130366996,"body_markdown":"Either a jar isn&#39;t present on the classpath or a JNI class isn&#39;t being found in the user(?).lib directory","body":"Either a jar isn&#39;t present on the classpath or a JNI class isn&#39;t being found in the user(?).lib directory"}],"answers":[{"tags":[],"owner":{"account_id":1723221,"reputation":556,"user_id":1578466,"accept_rate":50,"display_name":"Yogesh Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681979671,"creation_date":1681979671,"answer_id":76062072,"question_id":73830015,"body_markdown":"I know its been sometime you posted this question, but recently I encountered same issue and was able to solve it by add following dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resolver&lt;/artifactId&gt;\r\n        &lt;version&gt;20050927&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator","body":"<p>I know its been sometime you posted this question, but recently I encountered same issue and was able to solve it by add following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\n    &lt;artifactId&gt;resolver&lt;/artifactId&gt;\n    &lt;version&gt;20050927&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11082268,"reputation":81,"user_id":8137120,"display_name":"Niels Frederiksen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681979671,"creation_date":1663947023,"question_id":73830015,"body_markdown":"I have been scratching my head for weeks now trying to figure this out.\r\n\r\nI am getting a NoClassDefFoundError trying to initialize a SOAP webservice which was generated from a WSDL file using [wsdl2java from Apache CXF][1].\r\n\r\nThe problem only appears on our production environment, and it comes and goes with different deployments. Some deployments it works fine, and other it doesn&#39;t, even though the code doesn&#39;t change.\r\n\r\nStacktrace:\r\n&lt;pre&gt;&lt;code&gt;Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator\r\njava.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator\r\n\tat com.sun.xml.ws.policy.jaxws.BuilderHandler.getPolicies(BuilderHandler.java:72)\r\n\tat com.sun.xml.ws.policy.jaxws.BuilderHandler.getPolicySubjects(BuilderHandler.java:80)\r\n\tat com.sun.xml.ws.policy.jaxws.BuilderHandlerEndpointScope.doPopulate(BuilderHandlerEndpointScope.java:42)\r\n\tat com.sun.xml.ws.policy.jaxws.BuilderHandler.populate(BuilderHandler.java:52)\r\n\tat com.sun.xml.ws.policy.jaxws.PolicyMapBuilder.getNewPolicyMap(PolicyMapBuilder.java:79)\r\n\tat com.sun.xml.ws.policy.jaxws.PolicyMapBuilder.getPolicyMap(PolicyMapBuilder.java:61)\r\n\tat com.sun.xml.ws.policy.jaxws.PolicyWSDLParserExtension.postFinished(PolicyWSDLParserExtension.java:939)\r\n\tat com.sun.xml.ws.wsdl.parser.DelegatingParserExtension.postFinished(DelegatingParserExtension.java:161)\r\n\tat com.sun.xml.ws.wsdl.parser.WSDLParserExtensionFacade.postFinished(WSDLParserExtensionFacade.java:306)\r\n\tat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:222)\r\n\tat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:179)\r\n\tat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:148)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:334)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:292)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:201)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:182)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:178)\r\n\tat com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:89)\r\n\tat javax.xml.ws.Service.&lt;init&gt;(Service.java:112)\r\n\tat forecast.logic.timelog.projectservice.ProjectManagementServiceSecure.&lt;init&gt;(ProjectManagementServiceSecure.java:47)\r\n\tat forecast.logic.timelog.TimeLogClient.getProjectService(TimeLogClient.java:187)\r\n\tat forecast.logic.timelog.TimeLogInstantTaskLogic.createTaskInTimeLog(TimeLogInstantTaskLogic.java:70)\r\n\tat forecast.logic.TaskLogic.createTask(TaskLogic.java:486)\r\n\tat forecast.logic.TaskLogic.createJiraTask(TaskLogic.java:5704)\r\n\tat forecast.server.Task.createJiraTask(Task.java:369)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:392)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:365)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:318)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)&lt;/code&gt;&lt;/pre&gt;\r\nAfter looking through similar questions/answers here on StackOverflow I have tried adding different dependencies that have worked for other people, so my pom now looks like this:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nDo any of you have an idea of what might be wrong?\r\n\r\n  [1]: https://cxf.apache.org/docs/wsdl-to-java.html","title":"java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator","body":"<p>I have been scratching my head for weeks now trying to figure this out.</p>\n<p>I am getting a NoClassDefFoundError trying to initialize a SOAP webservice which was generated from a WSDL file using <a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">wsdl2java from Apache CXF</a>.</p>\n<p>The problem only appears on our production environment, and it comes and goes with different deployments. Some deployments it works fine, and other it doesn't, even though the code doesn't change.</p>\n<p>Stacktrace:</p>\n<pre><code>Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator\njava.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.ws.api.policy.ModelTranslator\n    at com.sun.xml.ws.policy.jaxws.BuilderHandler.getPolicies(BuilderHandler.java:72)\n    at com.sun.xml.ws.policy.jaxws.BuilderHandler.getPolicySubjects(BuilderHandler.java:80)\n    at com.sun.xml.ws.policy.jaxws.BuilderHandlerEndpointScope.doPopulate(BuilderHandlerEndpointScope.java:42)\n    at com.sun.xml.ws.policy.jaxws.BuilderHandler.populate(BuilderHandler.java:52)\n    at com.sun.xml.ws.policy.jaxws.PolicyMapBuilder.getNewPolicyMap(PolicyMapBuilder.java:79)\n    at com.sun.xml.ws.policy.jaxws.PolicyMapBuilder.getPolicyMap(PolicyMapBuilder.java:61)\n    at com.sun.xml.ws.policy.jaxws.PolicyWSDLParserExtension.postFinished(PolicyWSDLParserExtension.java:939)\n    at com.sun.xml.ws.wsdl.parser.DelegatingParserExtension.postFinished(DelegatingParserExtension.java:161)\n    at com.sun.xml.ws.wsdl.parser.WSDLParserExtensionFacade.postFinished(WSDLParserExtensionFacade.java:306)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:222)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:179)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:148)\n    at com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:334)\n    at com.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:292)\n    at com.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:201)\n    at com.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:182)\n    at com.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:178)\n    at com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:89)\n    at javax.xml.ws.Service.(Service.java:112)\n    at forecast.logic.timelog.projectservice.ProjectManagementServiceSecure.(ProjectManagementServiceSecure.java:47)\n    at forecast.logic.timelog.TimeLogClient.getProjectService(TimeLogClient.java:187)\n    at forecast.logic.timelog.TimeLogInstantTaskLogic.createTaskInTimeLog(TimeLogInstantTaskLogic.java:70)\n    at forecast.logic.TaskLogic.createTask(TaskLogic.java:486)\n    at forecast.logic.TaskLogic.createJiraTask(TaskLogic.java:5704)\n    at forecast.server.Task.createJiraTask(Task.java:369)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:392)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:365)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:318)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)</code></pre>\n<p>After looking through similar questions/answers here on StackOverflow I have tried adding different dependencies that have worked for other people, so my pom now looks like this:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Do any of you have an idea of what might be wrong?</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1679331360,"post_id":75790857,"comment_id":133698913,"body_markdown":"Check out this answer: https://stackoverflow.com/a/28419446/2068732","body":"Check out this answer: <a href=\"https://stackoverflow.com/a/28419446/2068732\">stackoverflow.com/a/28419446/2068732</a>"},{"owner":{"account_id":21973697,"reputation":336,"user_id":16249829,"display_name":"TheBestPlayer"},"score":0,"creation_date":1679377113,"post_id":75790857,"comment_id":133706342,"body_markdown":"I have looked at it and it seems that they are using identical methods to what I am using. There are plenty other android and stack overflow posts suggesting that people are having issues with disabling bluetooth, some even mentioned that you are never meant to disable the Bluetooth via the app, some say its possible and you should be able to do it via this disable() method.","body":"I have looked at it and it seems that they are using identical methods to what I am using. There are plenty other android and stack overflow posts suggesting that people are having issues with disabling bluetooth, some even mentioned that you are never meant to disable the Bluetooth via the app, some say its possible and you should be able to do it via this disable() method."},{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1679665084,"post_id":75790857,"comment_id":133766361,"body_markdown":"IMHO an app should not have to disable the phone&#39;s bluetooth service. Can you explain your use case ?","body":"IMHO an app should not have to disable the phone&#39;s bluetooth service. Can you explain your use case ?"},{"owner":{"account_id":21973697,"reputation":336,"user_id":16249829,"display_name":"TheBestPlayer"},"score":0,"creation_date":1680607019,"post_id":75790857,"comment_id":133923255,"body_markdown":"@matdev sorry for late reply. No particular use, just learning and experimenting.","body":"@matdev sorry for late reply. No particular use, just learning and experimenting."}],"answers":[{"tags":[],"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681979616,"creation_date":1681979616,"answer_id":76062065,"question_id":75790857,"body_markdown":"Method `BluetoothAdapter.disable()` is provided only for applications that include a user interface for changing system settings, such as a &quot;power manager&quot; app. This method will not turn off the Bluetooth on your phone without explicit user action to turn off Bluetooth.\r\n\r\nAlso, this method was deprecated in API level 33.\r\nStarting with `Build.VERSION_CODES.TIRAMISU`, applications are not allowed to enable/disable Bluetooth. For applications targeting `Build.VERSION_CODES.TIRAMISU` or above, this API will always fail and return false. \r\n\r\nYou can read more about these restrictions here:\r\nhttps://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()","title":"Android Studio BluetoothAdapter disable() method does not disable Bluetooh on the physical device","body":"<p>Method <code>BluetoothAdapter.disable()</code> is provided only for applications that include a user interface for changing system settings, such as a &quot;power manager&quot; app. This method will not turn off the Bluetooth on your phone without explicit user action to turn off Bluetooth.</p>\n<p>Also, this method was deprecated in API level 33.\nStarting with <code>Build.VERSION_CODES.TIRAMISU</code>, applications are not allowed to enable/disable Bluetooth. For applications targeting <code>Build.VERSION_CODES.TIRAMISU</code> or above, this API will always fail and return false.</p>\n<p>You can read more about these restrictions here:\n<a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()</a></p>\n"}],"owner":{"account_id":21973697,"reputation":336,"user_id":16249829,"display_name":"TheBestPlayer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681979616,"creation_date":1679318827,"question_id":75790857,"body_markdown":"I am writing my first mobile app on Android Studio Electric EEl (2022.1.1 Patch 2).\r\n\r\nFor my first app, I would like to develop a simple checkbox that allows user to toggle the Bluetooth ON/OFF. The project can be accessed here if:\r\nhttps://github.com/krupis/BLE_test_app\r\n\r\nI have pretty much followed the tutorial by Android Codelab on youtube, just with changed some variable names and other small things:\r\nhttps://www.youtube.com/watch?v=oZKd6gpMKQg&amp;ab_channel=AndroidCodelab\r\n\r\n**My AndroidManifest.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.ble_app&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Ble_app&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**My MainActivity.java**\r\n\r\n```\r\npackage com.example.ble_app;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.bluetooth.BluetoothManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.CheckBox;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private BluetoothAdapter BA;\r\n    int REQUEST_ENABLE_BLUETOOTH = 0;\r\n\r\n    CheckBox btCheckbox;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        btCheckbox = findViewById(R.id.btCheckbox);\r\n        BA = BluetoothAdapter.getDefaultAdapter();\r\n        setListeners();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void setListeners(){\r\n        btCheckbox.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //IF CHECKBOX CHECKED\r\n                if (((CompoundButton) view).isChecked()) {\r\n                    System.out.println(&quot;Checked&quot;);\r\n                    if (BA == null) {\r\n                        Toast.makeText(MainActivity.this, &quot;Bluetooth not supported&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n\r\n                        if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED) {\r\n                            if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n                                return;\r\n                            }\r\n                        }\r\n                        if(!BA.isEnabled()) {\r\n                            Intent enableIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                            startActivityForResult(enableIntent, REQUEST_ENABLE_BLUETOOTH);\r\n                            Toast.makeText(MainActivity.this, &quot;Bluetooth enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else{\r\n                            Toast.makeText(MainActivity.this, &quot;Bluetooth already enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n                //IF CHECKBOX UNCHECKED\r\n                else{\r\n                    System.out.println(&quot;UnChecked&quot;);\r\n                    if(BA.isEnabled()){\r\n                        System.out.println(&quot;Disabling the Bluetooth \\n&quot;);\r\n                        BA.disable();\r\n                        Toast.makeText(MainActivity.this,&quot;Bluetooth disabled&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have connected my physical device (Samsung Z Flip) to my PC via the USB and I am running my APP on my physical device.\r\n\r\n\r\nWhen the APP is launched, I can click on the checkbox to Enable the Bluetooth. As soon as I click the button, the prompt shows up at the bottom requesting to give access to enable the Bluetooth. I click &quot;**Allow**&quot; and I can see that the Bluetooth is enabled on my phone[![enter image description here][1]][1]\r\n\r\n\r\n\r\nHowever, when I try to toggle the checkbox again (Uncheck it), I can see that the the correct lines of code are executed because I can see &quot;Disabling the Bluetooth&quot; being printed to Debug window. But the Bluetooth does not turn OFF after I call **BA.disable()** for some reason.\r\n\r\n\r\n\r\n\r\n**Debug logs:**\r\n\r\n```\r\nConnected to the target VM, address: &#39;localhost:1065&#39;, transport: &#39;socket&#39;\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/example.ble_app: Late-enabling -Xcheck:jni\r\nD/ActivityThread: setConscryptValidator\r\nD/ActivityThread: setConscryptValidator - put\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\r\nW/example.ble_app: DexFile /data/data/com.example.ble_app/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/example.ble_app: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/example.ble_app: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10473; state: ENABLED\r\nW/ActivityThread: Application com.example.ble_app is waiting for the debugger on port 8100...\r\nI/System.out: Sending WAIT chunk\r\nI/System.out: Debugger has connected\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: debugger has settled (1479)\r\nW/ziparchive: Unable to open &#39;/data/data/com.example.ble_app/code_cache/.overlay/base.apk/classes3.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.dm&#39;: No such file or directory\r\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.ble_app\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.ble_app&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.ble_app: false\r\nV/GraphicsEnvironment: App is not on the allowlist for updatable production driver.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/OpenGLRenderer: RenderThread::requireGlContext()\r\nI/AdrenoGLES-0: QUALCOMM build                   : b8e5a4d0d5, Ib45df4a8b0\r\n    Build Date                       : 07/11/22\r\n    OpenGL ES Shader Compiler Version: EV031.36.08.09\r\n    Local Branch                     : \r\n    Remote Branch                    : \r\n    Remote Branch                    : \r\n    Reconstruct Branch               : \r\nI/AdrenoGLES-0: Build Config                     : S P 12.1.1 AArch64\r\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\r\nI/AdrenoGLES-0: Driver Version                   : 0615.0\r\nI/AdrenoGLES-0: PFP: 0x01730155, ME: 0x00000000\r\nW/Adreno-AppProfiles: Could not find QSPM HAL service. Skipping adreno profile processing.\r\nD/OpenGLRenderer: RenderThread::setGrContext()\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nI/DecorView: [INFO] isPopOver=false config=true\r\nI/DecorView: updateCaptionType: isFloating=false isApplication=true hasWindowDecorCaption=false this=DecorView@de0b2c8[]\r\nD/DecorView: setCaptionType = 0, this = DecorView@de0b2c8[]\r\nI/DecorView: getCurrentDensityDpi: from real metrics. densityDpi=480 msg=resources_loaded\r\nI/DecorView: setWindowBackground: isPopOver=false color=ff121212 d=android.graphics.drawable.ColorDrawable@321ba86\r\nW/example.ble_app: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/example.ble_app: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10473; state: ENABLED\r\nI/BluetoothAdapter: BluetoothAdapter() : com.example.ble_app\r\nI/MSHandlerLifeCycle: check: return. pkg=com.example.ble_app parent=null callers=com.android.internal.policy.DecorView.setVisibility:4401 android.app.ActivityThread.handleResumeActivity:5468 android.app.servertransaction.ResumeActivityItem.execute:54 android.app.servertransaction.ActivityTransactionItem.execute:45 android.app.servertransaction.TransactionExecutor.executeLifecycleState:176 \r\nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[]\r\nD/NativeCustomFrequencyManager: [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\r\nD/InsetsController: onStateChanged: InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2640), mDisplayCutout=DisplayCutout{insets=Rect(0, 94 - 0, 0) waterfall=Insets{left=0, top=0, right=0, bottom=0} boundingRect={Bounds=[Rect(0, 0 - 0, 0), Rect(505, 0 - 576, 94), Rect(0, 0 - 0, 0), Rect(0, 0 - 0, 0)]} cutoutPathParserInfo={CutoutPathParserInfo{displayWidth=1080 displayHeight=2640 physicalDisplayWidth=1080 physicalDisplayHeight=2640 density={3.0} cutoutSpec={M 0,0 H -11.83333333333333 V 31.33333333333333 H 11.83333333333333 V 0 H 0 Z @dp} rotation={0} scale={1.0} physicalPixelDisplaySizeRatio={1.0}}}}, mRoundedCorners=RoundedCorners{[RoundedCorner{position=TopLeft, radius=108, center=Point(108, 108)}, RoundedCorner{position=TopRight, radius=108, center=Point(972, 108)}, RoundedCorner{position=BottomRight, radius=108, center=Point(972, 2532)}, RoundedCorner{position=BottomLeft, radius=108, center=Point(108, 2532)}]}  mRoundedCornerFrame=Rect(0, 0 - 1080, 2640), mPrivacyIndicatorBounds=PrivacyIndicatorBounds {static bounds=Rect(948, 0 - 1080, 94) rotation=0}, mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_NAVIGATION_BAR, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[1080,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_MANDATORY_GESTURES, mFrame=[0,0][1080,130], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_MANDATORY_GESTURES, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-100000,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[100000,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,100000][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_TAPPABLE_ELEMENT, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false} } host=com.example.ble_app/com.example.ble_app.MainActivity from=android.view.ViewRootImpl.setView:1722\r\nI/ViewRootImpl@a08a9fe[MainActivity]: setView = com.android.internal.policy.DecorView@de0b2c8 TM=true\r\nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[MainActivity]\r\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n      fl=81810100\r\n      pfl=12020040\r\n      bhv=DEFAULT\r\n      fitSides= naviIconColor=0}\r\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals mFirst=true windowShouldResize=true viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n      fl=81810100\r\n      pfl=12020040\r\n      bhv=DEFAULT\r\n      fitSides= naviIconColor=0}\r\nE/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\r\nI/BLASTBufferQueue: new BLASTBufferQueue, mName= ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54730cc0 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2815 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 android.view.Choreographer$CallbackRecord.run:1309 android.view.Choreographer.doCallbacks:923 android.view.Choreographer.doFrame:852 android.view.Choreographer$FrameDisplayEventReceiver.run:1283 \r\nI/BLASTBufferQueue: update, w= 1080 h= 2640 mName = ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54730cc0 format= -1 caller= android.graphics.BLASTBufferQueue.&lt;init&gt;:84 android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2815 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 \r\nI/ViewRootImpl@a08a9fe[MainActivity]: Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=10 res=0x3 s={true 0xb400007b5470c110} ch=true seqId=0\r\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initialize() mSurface={isValid=true 0xb400007b5470c110} hwInitialized=true\r\nD/ViewRootImpl@a08a9fe[MainActivity]: reportNextDraw android.view.ViewRootImpl.performTraversals:4339 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 android.view.Choreographer$CallbackRecord.run:1309 \r\nD/ViewRootImpl@a08a9fe[MainActivity]: Setup new sync id=0\r\nD/ViewRootImpl@a08a9fe[MainActivity]: Setting syncFrameCallback\r\nD/ViewRootImpl@a08a9fe[MainActivity]: registerCallbacksForSync syncBuffer=false\r\nD/OpenGLRenderer: eglCreateWindowSurface\r\nD/ViewRootImpl@a08a9fe[MainActivity]: Received frameDrawingCallback syncResult=0 frameNum=1.\r\nD/ViewRootImpl@a08a9fe[MainActivity]: Setting up sync and frameCommitCallback\r\nD/BLASTBufferQueue: [ViewRootImpl@a08a9fe[MainActivity]#0](f:0,a:0) onFrameAvailable the first frame is available\r\nD/ViewRootImpl@a08a9fe[MainActivity]: Received frameCommittedCallback lastAttemptedDrawFrameNum=1 didProduceBuffer=true\r\nD/OpenGLRenderer: CFMS:: SetUp Pid : 19941    Tid : 20008\r\nW/Parcel: Expecting binder but got null!\r\nD/ViewRootImpl@a08a9fe[MainActivity]: onSyncComplete\r\nD/ViewRootImpl@a08a9fe[MainActivity]: setupSync seqId=0 mSyncId=0 fn=1 caller=android.view.ViewRootImpl$$ExternalSyntheticLambda11.accept:6 android.window.SurfaceSyncer.lambda$setupSync$1$android-window-SurfaceSyncer:128 android.window.SurfaceSyncer$$ExternalSyntheticLambda1.accept:8 android.window.SurfaceSyncer$SyncSet.checkIfSyncIsComplete:382 android.window.SurfaceSyncer$SyncSet.markSyncReady:359 android.window.SurfaceSyncer.markSyncReady:151 android.view.ViewRootImpl.performTraversals:4399 \r\nD/ViewRootImpl@a08a9fe[MainActivity]: reportDrawFinished seqId=0 mSyncId=-1 fn=1 mSurfaceChangedTransaction=0xb400007a846fd450\r\nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 0\r\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b5470c110}\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputMethodManager: startInputInner - Id : 0\r\nD/InsetsController: onStateChanged: InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2640), mDisplayCutout=DisplayCutout{insets=Rect(0, 94 - 0, 0) waterfall=Insets{left=0, top=0, right=0, bottom=0} boundingRect={Bounds=[Rect(0, 0 - 0, 0), Rect(505, 0 - 576, 94), Rect(0, 0 - 0, 0), Rect(0, 0 - 0, 0)]} cutoutPathParserInfo={CutoutPathParserInfo{displayWidth=1080 displayHeight=2640 physicalDisplayWidth=1080 physicalDisplayHeight=2640 density={3.0} cutoutSpec={M 0,0 H -11.83333333333333 V 31.33333333333333 H 11.83333333333333 V 0 H 0 Z @dp} rotation={0} scale={1.0} physicalPixelDisplaySizeRatio={1.0}}}}, mRoundedCorners=RoundedCorners{[RoundedCorner{position=TopLeft, radius=108, center=Point(108, 108)}, RoundedCorner{position=TopRight, radius=108, center=Point(972, 108)}, RoundedCorner{position=BottomRight, radius=108, center=Point(972, 2532)}, RoundedCorner{position=BottomLeft, radius=108, center=Point(108, 2532)}]}  mRoundedCornerFrame=Rect(0, 0 - 1080, 2640), mPrivacyIndicatorBounds=PrivacyIndicatorBounds {static bounds=Rect(948, 0 - 1080, 94) rotation=0}, mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_NAVIGATION_BAR, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[1080,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_MANDATORY_GESTURES, mFrame=[0,0][1080,130], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_MANDATORY_GESTURES, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-100000,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[100000,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,100000][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_TAPPABLE_ELEMENT, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_IME, mFrame=[0,0][0,0], mVisibleFrame=[0,1524][1080,2640], mVisible=false, mInsetsRoundedCornerFrame=false} } host=com.example.ble_app/com.example.ble_app.MainActivity from=android.view.ViewRootImpl$ViewRootHandler.handleMessageImpl:6560\r\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 0\r\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 1\r\nI/System.out: Checked\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10473; state: ENABLED\r\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:86 \r\nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 0\r\nD/InputTransport: Input channel destroyed: &#39;ClientS&#39;, fd=118\r\nI/BluetoothAdapter: onBluetoothStateChange: up=true\r\nD/CompatibilityChangeReporter: Compat change id reported: 78294732; UID 10473; state: ENABLED\r\nI/ViewRootImpl@a08a9fe[MainActivity]: stopped(false) old = false\r\nI/DecorView: notifyKeepScreenOnChanged: keepScreenOn=false\r\nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[MainActivity]\r\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n      fl=81810100\r\n      pfl=12020040\r\n      bhv=DEFAULT\r\n      fitSides= naviIconColor=0}\r\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals mFirst=false windowShouldResize=false viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n      fl=81810100\r\n      pfl=12020040\r\n      bhv=DEFAULT\r\n      fitSides= naviIconColor=0}\r\nI/BLASTBufferQueue: update, w= 1080 h= 2640 mName = ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54715f10 format= -1 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2804 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 \r\nI/ViewRootImpl@a08a9fe[MainActivity]: Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=5 res=0x0 s={true 0xb400007b5470c110} ch=false seqId=0\r\nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 0\r\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b5470c110}\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 0\r\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 1\r\nI/System.out: UnChecked\r\nI/System.out: Disabling the Bluetooth \r\nI/BluetoothAdapter: disable()\r\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:99 \r\n\r\n```\r\n\r\nNotice the last couple of lines of debug logs:\r\n\r\n```\r\nI/System.out: Disabling the Bluetooth \r\nI/BluetoothAdapter: disable()\r\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:99 \r\n```\r\nBut the Bluetooth is still Enabled on my phone.\r\n\r\n\r\n\r\n**Logcat logs:**\r\n\r\n```\r\n2023-03-21 07:42:50.014 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 0\r\n2023-03-21 07:42:50.067 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 1\r\n2023-03-21 07:42:50.071 17804-17804 System.out              com.example.ble_app                  I  Checked\r\n2023-03-21 07:42:50.102 17804-17804 Toast                   com.example.ble_app                  V  show: caller = com.example.ble_app.MainActivity$1.onClick:86 \r\n2023-03-21 07:42:50.138 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  MSG_WINDOW_FOCUS_CHANGED 0 0\r\n2023-03-21 07:42:53.416 17804-17859 BluetoothAdapter        com.example.ble_app                  I  onBluetoothStateChange: up=true\r\n2023-03-21 07:42:53.918 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  stopped(false) old = false\r\n2023-03-21 07:42:53.920 17804-17804 DecorView               com.example.ble_app                  I  notifyKeepScreenOnChanged: keepScreenOn=false\r\n2023-03-21 07:42:53.924 17804-17804 MSHandlerLifeCycle      com.example.ble_app                  I  removeMultiSplitHandler: no exist. decor=DecorView@200254f[MainActivity]\r\n2023-03-21 07:42:53.933 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n                                                                                                      fl=81810100\r\n                                                                                                      pfl=12020040\r\n                                                                                                      bhv=DEFAULT\r\n                                                                                                      fitSides= naviIconColor=0}\r\n2023-03-21 07:42:53.935 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  performTraversals mFirst=false windowShouldResize=false viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\r\n                                                                                                      fl=81810100\r\n                                                                                                      pfl=12020040\r\n                                                                                                      bhv=DEFAULT\r\n                                                                                                      fitSides= naviIconColor=0}\r\n2023-03-21 07:42:53.939 17804-17804 BLASTBufferQueue        com.example.ble_app                  I  update, w= 1080 h= 2640 mName = ViewRootImpl@7a28780[MainActivity] mNativeObject= 0xb400007ac4707bd0 sc.mNativeObject= 0xb400007a547354f0 format= -1 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2804 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 \r\n2023-03-21 07:42:53.939 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=4 res=0x0 s={true 0xb400007b54712740} ch=false seqId=0\r\n2023-03-21 07:42:53.947 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  MSG_WINDOW_FOCUS_CHANGED 1 0\r\n2023-03-21 07:42:53.948 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b54712740}\r\n2023-03-21 07:42:53.949 17804-17804 InputMethodManager      com.example.ble_app                  D  startInputInner - Id : 0\r\n2023-03-21 07:42:53.949 17804-17804 InputMethodManager      com.example.ble_app                  I  startInputInner - mService.startInputOrWindowGainedFocus\r\n\r\n\r\n2023-03-21 07:43:17.750 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 0\r\n2023-03-21 07:43:17.802 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 1\r\n2023-03-21 07:43:17.806 17804-17804 System.out              com.example.ble_app                  I  UnChecked\r\n2023-03-21 07:43:17.811 17804-17804 System.out              com.example.ble_app                  I  Disabling the Bluetooth \r\n2023-03-21 07:43:17.811 17804-17804 BluetoothAdapter        com.example.ble_app                  I  disable()\r\n2023-03-21 07:43:17.835 17804-17804 Toast                   com.example.ble_app                  V  show: caller = com.example.ble_app.MainActivity$1.onClick:108 \r\n```\r\n\r\n\r\n\r\nHoping to get some clarification regarding this. Thanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/ceSwy.jpg","title":"Android Studio BluetoothAdapter disable() method does not disable Bluetooh on the physical device","body":"<p>I am writing my first mobile app on Android Studio Electric EEl (2022.1.1 Patch 2).</p>\n<p>For my first app, I would like to develop a simple checkbox that allows user to toggle the Bluetooth ON/OFF. The project can be accessed here if:\n<a href=\"https://github.com/krupis/BLE_test_app\" rel=\"nofollow noreferrer\">https://github.com/krupis/BLE_test_app</a></p>\n<p>I have pretty much followed the tutorial by Android Codelab on youtube, just with changed some variable names and other small things:\n<a href=\"https://www.youtube.com/watch?v=oZKd6gpMKQg&amp;ab_channel=AndroidCodelab\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=oZKd6gpMKQg&amp;ab_channel=AndroidCodelab</a></p>\n<p><strong>My AndroidManifest.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.ble_app&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Ble_app&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>My MainActivity.java</strong></p>\n<pre><code>package com.example.ble_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.CheckBox;\nimport android.widget.CompoundButton;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private BluetoothAdapter BA;\n    int REQUEST_ENABLE_BLUETOOTH = 0;\n\n    CheckBox btCheckbox;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        btCheckbox = findViewById(R.id.btCheckbox);\n        BA = BluetoothAdapter.getDefaultAdapter();\n        setListeners();\n\n    }\n\n\n\n\n\n    private void setListeners(){\n        btCheckbox.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //IF CHECKBOX CHECKED\n                if (((CompoundButton) view).isChecked()) {\n                    System.out.println(&quot;Checked&quot;);\n                    if (BA == null) {\n                        Toast.makeText(MainActivity.this, &quot;Bluetooth not supported&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    else {\n\n                        if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED) {\n                            if (Build.VERSION.SDK_INT &gt;= 31) {\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.BLUETOOTH_CONNECT}, 100);\n                                return;\n                            }\n                        }\n                        if(!BA.isEnabled()) {\n                            Intent enableIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                            startActivityForResult(enableIntent, REQUEST_ENABLE_BLUETOOTH);\n                            Toast.makeText(MainActivity.this, &quot;Bluetooth enabled&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        else{\n                            Toast.makeText(MainActivity.this, &quot;Bluetooth already enabled&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n                //IF CHECKBOX UNCHECKED\n                else{\n                    System.out.println(&quot;UnChecked&quot;);\n                    if(BA.isEnabled()){\n                        System.out.println(&quot;Disabling the Bluetooth \\n&quot;);\n                        BA.disable();\n                        Toast.makeText(MainActivity.this,&quot;Bluetooth disabled&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n            }\n        });\n    }\n\n\n\n\n}\n</code></pre>\n<p>I have connected my physical device (Samsung Z Flip) to my PC via the USB and I am running my APP on my physical device.</p>\n<p>When the APP is launched, I can click on the checkbox to Enable the Bluetooth. As soon as I click the button, the prompt shows up at the bottom requesting to give access to enable the Bluetooth. I click &quot;<strong>Allow</strong>&quot; and I can see that the Bluetooth is enabled on my phone<a href=\"https://i.stack.imgur.com/ceSwy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ceSwy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>However, when I try to toggle the checkbox again (Uncheck it), I can see that the the correct lines of code are executed because I can see &quot;Disabling the Bluetooth&quot; being printed to Debug window. But the Bluetooth does not turn OFF after I call <strong>BA.disable()</strong> for some reason.</p>\n<p><strong>Debug logs:</strong></p>\n<pre><code>Connected to the target VM, address: 'localhost:1065', transport: 'socket'\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/example.ble_app: Late-enabling -Xcheck:jni\nD/ActivityThread: setConscryptValidator\nD/ActivityThread: setConscryptValidator - put\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-a7e44b7b.jar\nW/example.ble_app: DexFile /data/data/com.example.ble_app/code_cache/.studio/instruments-a7e44b7b.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/example.ble_app: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/example.ble_app: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10473; state: ENABLED\nW/ActivityThread: Application com.example.ble_app is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\nI/System.out: Debugger has connected\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: debugger has settled (1479)\nW/ziparchive: Unable to open '/data/data/com.example.ble_app/code_cache/.overlay/base.apk/classes3.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.dm': No such file or directory\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~EohyBEP8hkMFuXzmBNx30Q==/com.example.ble_app--VoyTn874X5ENUFkucS7Dg==/lib/arm64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.ble_app\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.ble_app' set to: 'default'\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.ble_app: false\nV/GraphicsEnvironment: App is not on the allowlist for updatable production driver.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/OpenGLRenderer: RenderThread::requireGlContext()\nI/AdrenoGLES-0: QUALCOMM build                   : b8e5a4d0d5, Ib45df4a8b0\n    Build Date                       : 07/11/22\n    OpenGL ES Shader Compiler Version: EV031.36.08.09\n    Local Branch                     : \n    Remote Branch                    : \n    Remote Branch                    : \n    Reconstruct Branch               : \nI/AdrenoGLES-0: Build Config                     : S P 12.1.1 AArch64\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\nI/AdrenoGLES-0: Driver Version                   : 0615.0\nI/AdrenoGLES-0: PFP: 0x01730155, ME: 0x00000000\nW/Adreno-AppProfiles: Could not find QSPM HAL service. Skipping adreno profile processing.\nD/OpenGLRenderer: RenderThread::setGrContext()\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nI/DecorView: [INFO] isPopOver=false config=true\nI/DecorView: updateCaptionType: isFloating=false isApplication=true hasWindowDecorCaption=false this=DecorView@de0b2c8[]\nD/DecorView: setCaptionType = 0, this = DecorView@de0b2c8[]\nI/DecorView: getCurrentDensityDpi: from real metrics. densityDpi=480 msg=resources_loaded\nI/DecorView: setWindowBackground: isPopOver=false color=ff121212 d=android.graphics.drawable.ColorDrawable@321ba86\nW/example.ble_app: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/example.ble_app: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10473; state: ENABLED\nI/BluetoothAdapter: BluetoothAdapter() : com.example.ble_app\nI/MSHandlerLifeCycle: check: return. pkg=com.example.ble_app parent=null callers=com.android.internal.policy.DecorView.setVisibility:4401 android.app.ActivityThread.handleResumeActivity:5468 android.app.servertransaction.ResumeActivityItem.execute:54 android.app.servertransaction.ActivityTransactionItem.execute:45 android.app.servertransaction.TransactionExecutor.executeLifecycleState:176 \nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[]\nD/NativeCustomFrequencyManager: [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\nD/InsetsController: onStateChanged: InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2640), mDisplayCutout=DisplayCutout{insets=Rect(0, 94 - 0, 0) waterfall=Insets{left=0, top=0, right=0, bottom=0} boundingRect={Bounds=[Rect(0, 0 - 0, 0), Rect(505, 0 - 576, 94), Rect(0, 0 - 0, 0), Rect(0, 0 - 0, 0)]} cutoutPathParserInfo={CutoutPathParserInfo{displayWidth=1080 displayHeight=2640 physicalDisplayWidth=1080 physicalDisplayHeight=2640 density={3.0} cutoutSpec={M 0,0 H -11.83333333333333 V 31.33333333333333 H 11.83333333333333 V 0 H 0 Z @dp} rotation={0} scale={1.0} physicalPixelDisplaySizeRatio={1.0}}}}, mRoundedCorners=RoundedCorners{[RoundedCorner{position=TopLeft, radius=108, center=Point(108, 108)}, RoundedCorner{position=TopRight, radius=108, center=Point(972, 108)}, RoundedCorner{position=BottomRight, radius=108, center=Point(972, 2532)}, RoundedCorner{position=BottomLeft, radius=108, center=Point(108, 2532)}]}  mRoundedCornerFrame=Rect(0, 0 - 1080, 2640), mPrivacyIndicatorBounds=PrivacyIndicatorBounds {static bounds=Rect(948, 0 - 1080, 94) rotation=0}, mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_NAVIGATION_BAR, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[1080,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_MANDATORY_GESTURES, mFrame=[0,0][1080,130], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_MANDATORY_GESTURES, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-100000,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[100000,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,100000][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_TAPPABLE_ELEMENT, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false} } host=com.example.ble_app/com.example.ble_app.MainActivity from=android.view.ViewRootImpl.setView:1722\nI/ViewRootImpl@a08a9fe[MainActivity]: setView = com.android.internal.policy.DecorView@de0b2c8 TM=true\nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[MainActivity]\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n      fl=81810100\n      pfl=12020040\n      bhv=DEFAULT\n      fitSides= naviIconColor=0}\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals mFirst=true windowShouldResize=true viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n      fl=81810100\n      pfl=12020040\n      bhv=DEFAULT\n      fitSides= naviIconColor=0}\nE/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\nI/BLASTBufferQueue: new BLASTBufferQueue, mName= ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54730cc0 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2815 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 android.view.Choreographer$CallbackRecord.run:1309 android.view.Choreographer.doCallbacks:923 android.view.Choreographer.doFrame:852 android.view.Choreographer$FrameDisplayEventReceiver.run:1283 \nI/BLASTBufferQueue: update, w= 1080 h= 2640 mName = ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54730cc0 format= -1 caller= android.graphics.BLASTBufferQueue.&lt;init&gt;:84 android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2815 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 \nI/ViewRootImpl@a08a9fe[MainActivity]: Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=10 res=0x3 s={true 0xb400007b5470c110} ch=true seqId=0\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initialize() mSurface={isValid=true 0xb400007b5470c110} hwInitialized=true\nD/ViewRootImpl@a08a9fe[MainActivity]: reportNextDraw android.view.ViewRootImpl.performTraversals:4339 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 android.view.Choreographer$CallbackRecord.run:1309 \nD/ViewRootImpl@a08a9fe[MainActivity]: Setup new sync id=0\nD/ViewRootImpl@a08a9fe[MainActivity]: Setting syncFrameCallback\nD/ViewRootImpl@a08a9fe[MainActivity]: registerCallbacksForSync syncBuffer=false\nD/OpenGLRenderer: eglCreateWindowSurface\nD/ViewRootImpl@a08a9fe[MainActivity]: Received frameDrawingCallback syncResult=0 frameNum=1.\nD/ViewRootImpl@a08a9fe[MainActivity]: Setting up sync and frameCommitCallback\nD/BLASTBufferQueue: [ViewRootImpl@a08a9fe[MainActivity]#0](f:0,a:0) onFrameAvailable the first frame is available\nD/ViewRootImpl@a08a9fe[MainActivity]: Received frameCommittedCallback lastAttemptedDrawFrameNum=1 didProduceBuffer=true\nD/OpenGLRenderer: CFMS:: SetUp Pid : 19941    Tid : 20008\nW/Parcel: Expecting binder but got null!\nD/ViewRootImpl@a08a9fe[MainActivity]: onSyncComplete\nD/ViewRootImpl@a08a9fe[MainActivity]: setupSync seqId=0 mSyncId=0 fn=1 caller=android.view.ViewRootImpl$$ExternalSyntheticLambda11.accept:6 android.window.SurfaceSyncer.lambda$setupSync$1$android-window-SurfaceSyncer:128 android.window.SurfaceSyncer$$ExternalSyntheticLambda1.accept:8 android.window.SurfaceSyncer$SyncSet.checkIfSyncIsComplete:382 android.window.SurfaceSyncer$SyncSet.markSyncReady:359 android.window.SurfaceSyncer.markSyncReady:151 android.view.ViewRootImpl.performTraversals:4399 \nD/ViewRootImpl@a08a9fe[MainActivity]: reportDrawFinished seqId=0 mSyncId=-1 fn=1 mSurfaceChangedTransaction=0xb400007a846fd450\nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 0\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b5470c110}\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputMethodManager: startInputInner - Id : 0\nD/InsetsController: onStateChanged: InsetsState: {mDisplayFrame=Rect(0, 0 - 1080, 2640), mDisplayCutout=DisplayCutout{insets=Rect(0, 94 - 0, 0) waterfall=Insets{left=0, top=0, right=0, bottom=0} boundingRect={Bounds=[Rect(0, 0 - 0, 0), Rect(505, 0 - 576, 94), Rect(0, 0 - 0, 0), Rect(0, 0 - 0, 0)]} cutoutPathParserInfo={CutoutPathParserInfo{displayWidth=1080 displayHeight=2640 physicalDisplayWidth=1080 physicalDisplayHeight=2640 density={3.0} cutoutSpec={M 0,0 H -11.83333333333333 V 31.33333333333333 H 11.83333333333333 V 0 H 0 Z @dp} rotation={0} scale={1.0} physicalPixelDisplaySizeRatio={1.0}}}}, mRoundedCorners=RoundedCorners{[RoundedCorner{position=TopLeft, radius=108, center=Point(108, 108)}, RoundedCorner{position=TopRight, radius=108, center=Point(972, 108)}, RoundedCorner{position=BottomRight, radius=108, center=Point(972, 2532)}, RoundedCorner{position=BottomLeft, radius=108, center=Point(108, 2532)}]}  mRoundedCornerFrame=Rect(0, 0 - 1080, 2640), mPrivacyIndicatorBounds=PrivacyIndicatorBounds {static bounds=Rect(948, 0 - 1080, 94) rotation=0}, mSources= { InsetsSource: {mType=ITYPE_STATUS_BAR, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_NAVIGATION_BAR, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_GESTURES, mFrame=[0,0][0,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_GESTURES, mFrame=[1080,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_MANDATORY_GESTURES, mFrame=[0,0][1080,130], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_MANDATORY_GESTURES, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_LEFT_DISPLAY_CUTOUT, mFrame=[0,0][-100000,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_DISPLAY_CUTOUT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_RIGHT_DISPLAY_CUTOUT, mFrame=[100000,0][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_DISPLAY_CUTOUT, mFrame=[0,100000][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_TOP_TAPPABLE_ELEMENT, mFrame=[0,0][1080,94], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_BOTTOM_TAPPABLE_ELEMENT, mFrame=[0,2496][1080,2640], mVisible=true, mInsetsRoundedCornerFrame=false}, InsetsSource: {mType=ITYPE_IME, mFrame=[0,0][0,0], mVisibleFrame=[0,1524][1080,2640], mVisible=false, mInsetsRoundedCornerFrame=false} } host=com.example.ble_app/com.example.ble_app.MainActivity from=android.view.ViewRootImpl$ViewRootHandler.handleMessageImpl:6560\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 0\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 1\nI/System.out: Checked\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10473; state: ENABLED\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:86 \nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 0\nD/InputTransport: Input channel destroyed: 'ClientS', fd=118\nI/BluetoothAdapter: onBluetoothStateChange: up=true\nD/CompatibilityChangeReporter: Compat change id reported: 78294732; UID 10473; state: ENABLED\nI/ViewRootImpl@a08a9fe[MainActivity]: stopped(false) old = false\nI/DecorView: notifyKeepScreenOnChanged: keepScreenOn=false\nI/MSHandlerLifeCycle: removeMultiSplitHandler: no exist. decor=DecorView@de0b2c8[MainActivity]\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n      fl=81810100\n      pfl=12020040\n      bhv=DEFAULT\n      fitSides= naviIconColor=0}\nD/ViewRootImpl@a08a9fe[MainActivity]: performTraversals mFirst=false windowShouldResize=false viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n      fl=81810100\n      pfl=12020040\n      bhv=DEFAULT\n      fitSides= naviIconColor=0}\nI/BLASTBufferQueue: update, w= 1080 h= 2640 mName = ViewRootImpl@a08a9fe[MainActivity] mNativeObject= 0xb400007ac470b730 sc.mNativeObject= 0xb400007a54715f10 format= -1 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2804 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 \nI/ViewRootImpl@a08a9fe[MainActivity]: Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=5 res=0x0 s={true 0xb400007b5470c110} ch=false seqId=0\nI/ViewRootImpl@a08a9fe[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 0\nD/ViewRootImpl@a08a9fe[MainActivity]: mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b5470c110}\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 0\nI/ViewRootImpl@a08a9fe[MainActivity]: ViewPostIme pointer 1\nI/System.out: UnChecked\nI/System.out: Disabling the Bluetooth \nI/BluetoothAdapter: disable()\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:99 \n\n</code></pre>\n<p>Notice the last couple of lines of debug logs:</p>\n<pre><code>I/System.out: Disabling the Bluetooth \nI/BluetoothAdapter: disable()\nV/Toast: show: caller = com.example.ble_app.MainActivity$1.onClick:99 \n</code></pre>\n<p>But the Bluetooth is still Enabled on my phone.</p>\n<p><strong>Logcat logs:</strong></p>\n<pre><code>2023-03-21 07:42:50.014 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 0\n2023-03-21 07:42:50.067 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 1\n2023-03-21 07:42:50.071 17804-17804 System.out              com.example.ble_app                  I  Checked\n2023-03-21 07:42:50.102 17804-17804 Toast                   com.example.ble_app                  V  show: caller = com.example.ble_app.MainActivity$1.onClick:86 \n2023-03-21 07:42:50.138 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  MSG_WINDOW_FOCUS_CHANGED 0 0\n2023-03-21 07:42:53.416 17804-17859 BluetoothAdapter        com.example.ble_app                  I  onBluetoothStateChange: up=true\n2023-03-21 07:42:53.918 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  stopped(false) old = false\n2023-03-21 07:42:53.920 17804-17804 DecorView               com.example.ble_app                  I  notifyKeepScreenOnChanged: keepScreenOn=false\n2023-03-21 07:42:53.924 17804-17804 MSHandlerLifeCycle      com.example.ble_app                  I  removeMultiSplitHandler: no exist. decor=DecorView@200254f[MainActivity]\n2023-03-21 07:42:53.933 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  performTraversals params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n                                                                                                      fl=81810100\n                                                                                                      pfl=12020040\n                                                                                                      bhv=DEFAULT\n                                                                                                      fitSides= naviIconColor=0}\n2023-03-21 07:42:53.935 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  performTraversals mFirst=false windowShouldResize=false viewVisibilityChanged=false mForceNextWindowRelayout=false params={(0,0)(fillxfill) sim={adjust=pan forwardNavigation} ty=BASE_APPLICATION wanim=0x1030309\n                                                                                                      fl=81810100\n                                                                                                      pfl=12020040\n                                                                                                      bhv=DEFAULT\n                                                                                                      fitSides= naviIconColor=0}\n2023-03-21 07:42:53.939 17804-17804 BLASTBufferQueue        com.example.ble_app                  I  update, w= 1080 h= 2640 mName = ViewRootImpl@7a28780[MainActivity] mNativeObject= 0xb400007ac4707bd0 sc.mNativeObject= 0xb400007a547354f0 format= -1 caller= android.view.ViewRootImpl.updateBlastSurfaceIfNeeded:2804 android.view.ViewRootImpl.relayoutWindow:9661 android.view.ViewRootImpl.performTraversals:3785 android.view.ViewRootImpl.doTraversal:3017 android.view.ViewRootImpl$TraversalRunnable.run:10699 android.view.Choreographer$CallbackRecord.run:1301 \n2023-03-21 07:42:53.939 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  Relayout returned: old=(0,0,1080,2640) new=(0,0,1080,2640) req=(1080,2640)0 dur=4 res=0x0 s={true 0xb400007b54712740} ch=false seqId=0\n2023-03-21 07:42:53.947 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  MSG_WINDOW_FOCUS_CHANGED 1 0\n2023-03-21 07:42:53.948 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  D  mThreadedRenderer.initializeIfNeeded()#2 mSurface={isValid=true 0xb400007b54712740}\n2023-03-21 07:42:53.949 17804-17804 InputMethodManager      com.example.ble_app                  D  startInputInner - Id : 0\n2023-03-21 07:42:53.949 17804-17804 InputMethodManager      com.example.ble_app                  I  startInputInner - mService.startInputOrWindowGainedFocus\n\n\n2023-03-21 07:43:17.750 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 0\n2023-03-21 07:43:17.802 17804-17804 ViewRootIm...nActivity] com.example.ble_app                  I  ViewPostIme pointer 1\n2023-03-21 07:43:17.806 17804-17804 System.out              com.example.ble_app                  I  UnChecked\n2023-03-21 07:43:17.811 17804-17804 System.out              com.example.ble_app                  I  Disabling the Bluetooth \n2023-03-21 07:43:17.811 17804-17804 BluetoothAdapter        com.example.ble_app                  I  disable()\n2023-03-21 07:43:17.835 17804-17804 Toast                   com.example.ble_app                  V  show: caller = com.example.ble_app.MainActivity$1.onClick:108 \n</code></pre>\n<p>Hoping to get some clarification regarding this. Thanks in advance!</p>\n"},{"tags":["java","soa","salesforce-marketing-cloud"],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681979513,"creation_date":1681979513,"question_id":76062056,"body_markdown":"I need your help because I do not know how to solve this issue.\r\n\r\nIn our project we consume webservices (example: MyWebserviceServiceV1 in the stacktrace).\r\n\r\nWe have to use Marketing Cloud to send emails so I added the dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.salesforce-marketingcloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fuelsdk&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen running the Tomcat server, I have the following error:\r\n\r\n    Caused by: javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\r\n    \tat org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:163)\r\n    \tat org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:129)\r\n    \tat org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:92)\r\n    \tat com.myproject.soa.stubs.wXXXXXX.v1.MyWebserviceServiceV1.&lt;init&gt;(MyWebserviceServiceV1.java:42)\r\n    \t... 151 common frames omitted\r\n    Caused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\r\n    \tat org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:87)\r\n    \tat org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:218)\r\n    \tat org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:161)\r\n    \t... 155 common frames omitted\r\n    Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: java.lang.RuntimeException: Cannot create a secure XMLInputFactory\r\n    \tat org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:221)\r\n    \tat org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:163)\r\n    \tat org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\r\n    \t... 157 common frames omitted\r\n    Caused by: java.lang.RuntimeException: Cannot create a secure XMLInputFactory\r\n    \tat org.apache.cxf.staxutils.StaxUtils.createXMLInputFactory(StaxUtils.java:322)\r\n    \tat org.apache.cxf.staxutils.StaxUtils.getXMLInputFactory(StaxUtils.java:272)\r\n    \tat org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1774)\r\n    \tat org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1673)\r\n    \tat org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:208)\r\n    \t... 159 common frames omitted\r\n\r\n\r\nI understand that, when initializing the service to consume webservice (MyWebserviceServiceV1), it uses some classes from `org.apache.cxf` but that seems to be imported by the fuelsdk dependency (for example, the WSDLManagerImpl that is in the stacktrace is in cxf-rt-wsdl that is imported by cxf-rt-frontend-jaxws tht is imported by fueldsdk.\r\n\r\nBefore importing the fuelsdk dependency, I did not have any error so maybe it is an incompatibility with an other dependency that is used to consume our webservices?\r\n\r\nI do not find how to solve this issue to have the same behavior that before when starting the server and initializing the services to consume the webservices (to have no error).\r\n\r\nCan you help me please?","title":"Marketing cloud: javax.wsdl.WSDLException with fuelsdk","body":"<p>I need your help because I do not know how to solve this issue.</p>\n<p>In our project we consume webservices (example: MyWebserviceServiceV1 in the stacktrace).</p>\n<p>We have to use Marketing Cloud to send emails so I added the dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.salesforce-marketingcloud&lt;/groupId&gt;\n  &lt;artifactId&gt;fuelsdk&lt;/artifactId&gt;\n  &lt;version&gt;1.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When running the Tomcat server, I have the following error:</p>\n<pre><code>Caused by: javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\n    at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:163)\n    at org.apache.cxf.jaxws.ServiceImpl.&lt;init&gt;(ServiceImpl.java:129)\n    at org.apache.cxf.jaxws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:82)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:92)\n    at com.myproject.soa.stubs.wXXXXXX.v1.MyWebserviceServiceV1.&lt;init&gt;(MyWebserviceServiceV1.java:42)\n    ... 151 common frames omitted\nCaused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.\n    at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:87)\n    at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:218)\n    at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:161)\n    ... 155 common frames omitted\nCaused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: java.lang.RuntimeException: Cannot create a secure XMLInputFactory\n    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:221)\n    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:163)\n    at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:85)\n    ... 157 common frames omitted\nCaused by: java.lang.RuntimeException: Cannot create a secure XMLInputFactory\n    at org.apache.cxf.staxutils.StaxUtils.createXMLInputFactory(StaxUtils.java:322)\n    at org.apache.cxf.staxutils.StaxUtils.getXMLInputFactory(StaxUtils.java:272)\n    at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1774)\n    at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:1673)\n    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:208)\n    ... 159 common frames omitted\n</code></pre>\n<p>I understand that, when initializing the service to consume webservice (MyWebserviceServiceV1), it uses some classes from <code>org.apache.cxf</code> but that seems to be imported by the fuelsdk dependency (for example, the WSDLManagerImpl that is in the stacktrace is in cxf-rt-wsdl that is imported by cxf-rt-frontend-jaxws tht is imported by fueldsdk.</p>\n<p>Before importing the fuelsdk dependency, I did not have any error so maybe it is an incompatibility with an other dependency that is used to consume our webservices?</p>\n<p>I do not find how to solve this issue to have the same behavior that before when starting the server and initializing the services to consume the webservices (to have no error).</p>\n<p>Can you help me please?</p>\n"},{"tags":["java","spring-boot","tesseract","jna","tess4j"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681979872,"post_id":76062015,"comment_id":134144700,"body_markdown":"i *don&#39;t* believe this: &quot;exact same configuration&quot; (you must be missing something...very small or big ..or &quot;corner/border-like&quot;:)","body":"i <i>don&#39;t</i> believe this: &quot;exact same configuration&quot; (you must be missing something...very small or big ..or &quot;corner/border-like&quot;:)"},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":1,"creation_date":1681980041,"post_id":76062015,"comment_id":134144745,"body_markdown":"@xerx593 Obvioulsy i&#39;m missing something. But we&#39;ve checked every aspect of the project or it&#39;s run configuration through IntelliJ.","body":"@xerx593 Obvioulsy i&#39;m missing something. But we&#39;ve checked every aspect of the project or it&#39;s run configuration through IntelliJ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681989030,"post_id":76062015,"comment_id":134146788,"body_markdown":"*As you can see, it&#39;s looking for the right dll, on the right path but it doesn&#39;t load at all.* Your problem is nothing to do with binaries: *java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI* Your classpath is wrong. The Tess4J jar is not on it","body":"<i>As you can see, it&#39;s looking for the right dll, on the right path but it doesn&#39;t load at all.</i> Your problem is nothing to do with binaries: <i>java.lang.NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI</i> Your classpath is wrong. The Tess4J jar is not on it"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1682051646,"post_id":76062015,"comment_id":134158028,"body_markdown":"See [this issue](https://github.com/charlesw/tesseract/issues/271) seems you need a VS2015 runtime on your machine for it to run.  And as @g00se said, the dll is a Windows thing but your classpath is a Java thing... from a JAR not a DLL.","body":"See <a href=\"https://github.com/charlesw/tesseract/issues/271\" rel=\"nofollow noreferrer\">this issue</a> seems you need a VS2015 runtime on your machine for it to run.  And as @g00se said, the dll is a Windows thing but your classpath is a Java thing... from a JAR not a DLL."},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1682327314,"post_id":76062015,"comment_id":134191864,"body_markdown":"Thanks all. VS2015 and all dependencies are installed.\n\nI&#39;ve upgraded the version and it does work. I guess we&#39;re gonna move our project on a newer version !","body":"Thanks all. VS2015 and all dependencies are installed.  I&#39;ve upgraded the version and it does work. I guess we&#39;re gonna move our project on a newer version !"}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681979511,"creation_date":1681979209,"question_id":76062015,"body_markdown":"I&#39;m trying to use Tesseract.\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class\r\n&gt; net.sourceforge.tess4j.TessAPI\r\n\r\nI&#39;ve checked if this library is found via jna debug.\r\n\r\n&gt; Found library resource at\r\n&gt; jar:file:/C:/Users/pjfg787/.m2/repository/net/java/dev/jna/jna/4.2.2/jna-4.2.2.jar!/com/sun/jna/win32-x86-64/jnidispatch.dll\r\n&gt; \r\n&gt; \r\n&gt; Looking for library &#39;libtesseract304&#39;\r\n&gt; \r\n&gt; Adding paths from jna.library.path:\r\n&gt; C:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64;C:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Trying\r\n&gt; C:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64\\libtesseract304.dll\r\n&gt; \r\n&gt; \r\n&gt; Adding system paths: []\r\n&gt; \r\n&gt; Trying\r\n&gt; C:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64\\libtesseract304.dll\r\n&gt; Looking for lib- prefix  Trying liblibtesseract304.dll Looking in\r\n&gt; classpath from sun.misc.Launcher$AppClassLoader@18b4aac2 for\r\n&gt; libtesseract304\r\n&gt; \r\n&gt; Found library resource at\r\n&gt; jar:file:/C:/Users/pjfg787/.m2/repository/net/sourceforge/tess4j/tess4j/3.1.0/tess4j-3.1.0.jar!/win32-x86-64/libtesseract304.dll\r\n&gt; \r\n&gt; [20/04/2023 09:45:01:273] -[none] -[Inconnu] -[none]  [ERROR]\r\n&gt; read.logic.service.identity.utils.LogicIdentityOcr -\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class\r\n&gt; net.sourceforge.tess4j.TessAPI\r\n\r\nAs you can see, it&#39;s looking for the right dll, on the right path but it doesn&#39;t load at all.\r\n\r\n(I&#39;ve checked, this dll : libtesseract304.dll exists on the path)\r\n\r\nAnother information : It&#39;s working fine for others members of my team with the exact same configuration.\r\n\r\nAny help would be appreciated as I&#39;ve tried everything on my mind.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JNA library doesn&#39;t load dispite being present","body":"<p>I'm trying to use Tesseract.</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Could not initialize class\nnet.sourceforge.tess4j.TessAPI</p>\n</blockquote>\n<p>I've checked if this library is found via jna debug.</p>\n<blockquote>\n<p>Found library resource at\njar:file:/C:/Users/pjfg787/.m2/repository/net/java/dev/jna/jna/4.2.2/jna-4.2.2.jar!/com/sun/jna/win32-x86-64/jnidispatch.dll</p>\n<p>Looking for library 'libtesseract304'</p>\n<p>Adding paths from jna.library.path:\nC:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64;C:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64</p>\n<p>Trying\nC:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64\\libtesseract304.dll</p>\n<p>Adding system paths: []</p>\n<p>Trying\nC:\\Users\\pjfg787\\AppData\\Local\\Temp\\tess4j\\win32-x86-64\\libtesseract304.dll\nLooking for lib- prefix  Trying liblibtesseract304.dll Looking in\nclasspath from sun.misc.Launcher$AppClassLoader@18b4aac2 for\nlibtesseract304</p>\n<p>Found library resource at\njar:file:/C:/Users/pjfg787/.m2/repository/net/sourceforge/tess4j/tess4j/3.1.0/tess4j-3.1.0.jar!/win32-x86-64/libtesseract304.dll</p>\n<p>[20/04/2023 09:45:01:273] -[none] -[Inconnu] -[none]  [ERROR]\nread.logic.service.identity.utils.LogicIdentityOcr -\njava.util.concurrent.ExecutionException:\njava.lang.NoClassDefFoundError: Could not initialize class\nnet.sourceforge.tess4j.TessAPI</p>\n</blockquote>\n<p>As you can see, it's looking for the right dll, on the right path but it doesn't load at all.</p>\n<p>(I've checked, this dll : libtesseract304.dll exists on the path)</p>\n<p>Another information : It's working fine for others members of my team with the exact same configuration.</p>\n<p>Any help would be appreciated as I've tried everything on my mind.</p>\n"},{"tags":["java","maven","jar","slf4j","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681918053,"post_id":76055751,"comment_id":134135323,"body_markdown":"Use Maven Shade plugin","body":"Use Maven Shade plugin"},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1681918329,"post_id":76055751,"comment_id":134135396,"body_markdown":"I tried to add shade plugin following this tutorial https://maven.apache.org/plugins/maven-shade-plugin/usage.html , but when I do &quot;mvn clean install&quot; is sitll get &quot;no main manifest attribute, in my jar&quot; \n\nI precise that in configuration I added : \n\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                &lt;mainClass&gt;path.main.class&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;","body":"I tried to add shade plugin following this tutorial <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/usage.html</a> , but when I do &quot;mvn clean install&quot; is sitll get &quot;no main manifest attribute, in my jar&quot;   I precise that in configuration I added :                           &lt;archive&gt;                             &lt;manifest&gt;                                 &lt;addClasspath&gt;true&lt;/addClasspath&gt;                                 &lt;mainClass&gt;path.main.class&lt;/mainClass&gt;                             &lt;/manifest&gt;                         &lt;/archive&gt;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681918539,"post_id":76055751,"comment_id":134135441,"body_markdown":"That doesn&#39;t tell us much ;) If you have a Shade pom now, but a problem, **a** define the problem and **b** post the pom *formatted as code in your question*","body":"That doesn&#39;t tell us much ;) If you have a Shade pom now, but a problem, <b>a</b> define the problem and <b>b</b> post the pom <i>formatted as code in your question</i>"},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1681919021,"post_id":76055751,"comment_id":134135562,"body_markdown":"Alright, I have added more informations in the Edit of the publication :)","body":"Alright, I have added more informations in the Edit of the publication :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681919666,"post_id":76055751,"comment_id":134135702,"body_markdown":"Somewhat different to the way I have mine configured. Will post mine as an answer (or I can&#39;t code-format it)","body":"Somewhat different to the way I have mine configured. Will post mine as an answer (or I can&#39;t code-format it)"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681919785,"creation_date":1681919785,"answer_id":76056569,"question_id":76055751,"body_markdown":"This is mine. Note the making of the main class into a property. This makes it a lot more flexible though of course you *must* set that property somehow \r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Main-Class&gt;${main.class}&lt;/Main-Class&gt;\r\n                                        &lt;Build-Number&gt;1&lt;/Build-Number&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nOf course, you should use your own Shade plugin version number","title":"How to add Slf4j to the compiled jar after creating it","body":"<p>This is mine. Note the making of the main class into a property. This makes it a lot more flexible though of course you <em>must</em> set that property somehow</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Main-Class&gt;${main.class}&lt;/Main-Class&gt;\n                                    &lt;Build-Number&gt;1&lt;/Build-Number&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Of course, you should use your own Shade plugin version number</p>\n"},{"tags":[],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977973,"creation_date":1681977973,"answer_id":76061858,"question_id":76055751,"body_markdown":"So thank you for the ideas you gave me, I managed to find the solution here : https://github.com/limegurutech/create-uber-jar/blob/master/pom.xml\r\nIt works perfectly for me.\r\n\r\nHave a good day !","title":"How to add Slf4j to the compiled jar after creating it","body":"<p>So thank you for the ideas you gave me, I managed to find the solution here : <a href=\"https://github.com/limegurutech/create-uber-jar/blob/master/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/limegurutech/create-uber-jar/blob/master/pom.xml</a>\nIt works perfectly for me.</p>\n<p>Have a good day !</p>\n"}],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681977973,"creation_date":1681914833,"question_id":76055751,"body_markdown":"I have an issue here and I cannot wrap my head around it.\r\n\r\nI need to add Slf4j dependency to my compiled jar after doing &quot;mvn clean install&quot;.\r\n\r\nThis is because, if i try to run my jar app, I get this exception:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 1 more\r\n```\r\n\r\nFrom what I understood, it&#39;s because the slf4j is not in the jar after doing the compilation\r\n\r\nI tried to do a workaround it with something like this :\r\n\r\n```\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;${route.of.my.package}.lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;${route.of.my.package.MainClass}&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nBut still , nothing changed.\r\n\r\nThese are the dependencies added for the slf4j :\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI know I can use this method and do mvn compile assembly:assembly , to put everything into one jar with dependencies, and this totally works localy\r\n\r\n```\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n```\r\n\r\nBut for distribution purposes, i&#39;m forced to make it enter the jar after doing &quot;mvn clean install&quot; .\r\n\r\nThank you for your time and help.\r\n\r\n\r\n\r\n---\r\n\r\nSo I tried to make a pom using shade. My goal here was to be able to do &quot;mvn clean install&quot; , find my Application.jar in my target directory, with all the dependencies inside. This is what my &lt;build&gt; in the pom.xml actually looks like. I still can&#39;t acheive my goal\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;MainApp-${project.version}&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;mainClass&gt;path.to.main.app.MainApp&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n","title":"How to add Slf4j to the compiled jar after creating it","body":"<p>I have an issue here and I cannot wrap my head around it.</p>\n<p>I need to add Slf4j dependency to my compiled jar after doing &quot;mvn clean install&quot;.</p>\n<p>This is because, if i try to run my jar app, I get this exception:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>From what I understood, it's because the slf4j is not in the jar after doing the compilation</p>\n<p>I tried to do a workaround it with something like this :</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                &lt;classpathPrefix&gt;${route.of.my.package}.lib/&lt;/classpathPrefix&gt;\n                                &lt;mainClass&gt;${route.of.my.package.MainClass}&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>But still , nothing changed.</p>\n<p>These are the dependencies added for the slf4j :</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I know I can use this method and do mvn compile assembly:assembly , to put everything into one jar with dependencies, and this totally works localy</p>\n<pre><code>                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n</code></pre>\n<p>But for distribution purposes, i'm forced to make it enter the jar after doing &quot;mvn clean install&quot; .</p>\n<p>Thank you for your time and help.</p>\n<hr />\n<p>So I tried to make a pom using shade. My goal here was to be able to do &quot;mvn clean install&quot; , find my Application.jar in my target directory, with all the dependencies inside. This is what my  in the pom.xml actually looks like. I still can't acheive my goal</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;MainApp-${project.version}&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;path.to.main.app.MainApp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":25542375,"reputation":292,"user_id":19328232,"display_name":"GreenMarty"},"score":0,"creation_date":1682418476,"post_id":76057579,"comment_id":134208489,"body_markdown":"Remember to accept existing answer or ask additional details.","body":"Remember to accept existing answer or ask additional details."}],"answers":[{"tags":[],"owner":{"account_id":25542375,"reputation":292,"user_id":19328232,"display_name":"GreenMarty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681977878,"creation_date":1681977006,"answer_id":76061705,"question_id":76057579,"body_markdown":"It seems your app is either set to not be available to or is incompatible with all/some devices.\r\n\r\nHow to see compatible devices: [google&#39;s help][1]    \r\n\r\n&gt; After you&#39;ve uploaded at least one app bundle to Play Console, you can view the catalog of available devices and review which devices are compatible with your app. To help ensure the widest availability of your app, review your supported and excluded devices lists regularly.\r\n\r\nshort version:\r\n 1. Go your console account\r\n 2. Release &gt; Reach and devices &gt; Device catalog\r\n 3. Check if there are any devices compatible with your app\r\n\r\n\r\nHow to add target devices:\r\n(continue in device catalog) \r\n\r\n 1. Mange devices\r\n 2. add device\r\n 3. Pick (all supported)\r\n\r\nAdditionally you might want to check app manifest whether it excludes devices. [Manifest compatibility][2]  \r\n\r\n&gt; The manifest file is also where you can declare what types of hardware or software features your app requires and, by extension, which types of devices your app is compatible with. **Google Play Store doesn&#39;t let users install your app on devices that don&#39;t provide the features or system version that your app requires**.\r\n\r\n \r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/7353455?hl=en\r\n  [2]: https://developer.android.com/guide/topics/manifest/manifest-intro#compatibility","title":"app installation problem after publishing app on google playstore","body":"<p>It seems your app is either set to not be available to or is incompatible with all/some devices.</p>\n<p>How to see compatible devices: <a href=\"https://support.google.com/googleplay/android-developer/answer/7353455?hl=en\" rel=\"nofollow noreferrer\">google's help</a></p>\n<blockquote>\n<p>After you've uploaded at least one app bundle to Play Console, you can view the catalog of available devices and review which devices are compatible with your app. To help ensure the widest availability of your app, review your supported and excluded devices lists regularly.</p>\n</blockquote>\n<p>short version:</p>\n<ol>\n<li>Go your console account</li>\n<li>Release &gt; Reach and devices &gt; Device catalog</li>\n<li>Check if there are any devices compatible with your app</li>\n</ol>\n<p>How to add target devices:\n(continue in device catalog)</p>\n<ol>\n<li>Mange devices</li>\n<li>add device</li>\n<li>Pick (all supported)</li>\n</ol>\n<p>Additionally you might want to check app manifest whether it excludes devices. <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro#compatibility\" rel=\"nofollow noreferrer\">Manifest compatibility</a></p>\n<blockquote>\n<p>The manifest file is also where you can declare what types of hardware or software features your app requires and, by extension, which types of devices your app is compatible with. <strong>Google Play Store doesn't let users install your app on devices that don't provide the features or system version that your app requires</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":28346468,"reputation":1,"user_id":21678594,"display_name":"Aamir Sidque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682603971,"answer_count":1,"score":0,"last_activity_date":1681977878,"creation_date":1681927315,"question_id":76057579,"body_markdown":" recently i upload application on google playstore and user can see my apps on google playstore but the problem is that they cannot install it, because it shows cannot install it, right my apps status is production. i want to know that what will be the app status when user can start installing my apps\r\n\r\n\r\nlink:\r\n\r\nhttps://play.google.com/store/apps/details?id=com.vamp.byteplayer\r\n\r\n(https://i.stack.imgur.com/X8j7F.jpg)","title":"app installation problem after publishing app on google playstore","body":"<p>recently i upload application on google playstore and user can see my apps on google playstore but the problem is that they cannot install it, because it shows cannot install it, right my apps status is production. i want to know that what will be the app status when user can start installing my apps</p>\n<p>link:</p>\n<p><a href=\"https://play.google.com/store/apps/details?id=com.vamp.byteplayer\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.vamp.byteplayer</a></p>\n<p>(<a href=\"https://i.stack.imgur.com/X8j7F.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/X8j7F.jpg</a>)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4098029,"reputation":3091,"user_id":3364266,"accept_rate":80,"display_name":"Samir Bhatt"},"score":0,"creation_date":1508240212,"post_id":46789155,"comment_id":80524599,"body_markdown":"I must say this is best way.","body":"I must say this is best way."},{"owner":{"account_id":6592902,"reputation":784,"user_id":6095204,"accept_rate":56,"display_name":"Joseph K."},"score":0,"creation_date":1508240317,"post_id":46789155,"comment_id":80524669,"body_markdown":"But it is not clear how to implement PrintDocumentAdapter there. Any other tutorial?","body":"But it is not clear how to implement PrintDocumentAdapter there. Any other tutorial?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508240310,"creation_date":1508240310,"answer_id":46789242,"question_id":46789155,"body_markdown":"&gt; I found this but it is too complicated I think\r\n\r\nI agree. [Google doesn&#39;t care](https://issuetracker.google.com/issues/36995603).\r\n\r\n&gt; Is the above way is the only way?\r\n\r\nAFAIK, yes, though see http://stackoverflow.com/a/20719729/115145 and [this](https://github.com/commonsguy/cw-omnibus/blob/v8.7/Printing/PrintManager/app/src/main/java/com/commonsware/android/print/PdfDocumentAdapter.java) for basic implementations.\r\n","title":"Send a pdf file to the defined printer","body":"<blockquote>\n  <p>I found this but it is too complicated I think</p>\n</blockquote>\n\n<p>I agree. <a href=\"https://issuetracker.google.com/issues/36995603\" rel=\"nofollow noreferrer\">Google doesn't care</a>.</p>\n\n<blockquote>\n  <p>Is the above way is the only way?</p>\n</blockquote>\n\n<p>AFAIK, yes, though see <a href=\"http://stackoverflow.com/a/20719729/115145\">http://stackoverflow.com/a/20719729/115145</a> and <a href=\"https://github.com/commonsguy/cw-omnibus/blob/v8.7/Printing/PrintManager/app/src/main/java/com/commonsware/android/print/PdfDocumentAdapter.java\" rel=\"nofollow noreferrer\">this</a> for basic implementations.</p>\n"},{"tags":[],"owner":{"account_id":1884344,"reputation":2504,"user_id":1703871,"accept_rate":97,"display_name":"motis10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977773,"creation_date":1508240550,"answer_id":46789312,"question_id":46789155,"body_markdown":"I&#39;m not sure what is your goals but, Your options are:\r\n\r\n\r\n1. [Custom print adapter][2] - Like you saw. You can find easier implementation as CommonsWare wrote.\r\n\r\n2. [Google Cloud Printer][1] - An option just if your goal that each of user will print and set the printer itself.\r\n\r\n\r\n  [1]: https://support.google.com/chrome/a/answer/9633006\r\n  [2]: https://developer.android.com/training/printing/custom-docs.html#print-adapter","title":"Send a pdf file to the defined printer","body":"<p>I'm not sure what is your goals but, Your options are:</p>\n<ol>\n<li><p><a href=\"https://developer.android.com/training/printing/custom-docs.html#print-adapter\" rel=\"nofollow noreferrer\">Custom print adapter</a> - Like you saw. You can find easier implementation as CommonsWare wrote.</p>\n</li>\n<li><p><a href=\"https://support.google.com/chrome/a/answer/9633006\" rel=\"nofollow noreferrer\">Google Cloud Printer</a> - An option just if your goal that each of user will print and set the printer itself.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6592902,"reputation":784,"user_id":6095204,"accept_rate":56,"display_name":"Joseph K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681977773,"creation_date":1508240024,"question_id":46789155,"body_markdown":"https://developer.android.com/training/printing/custom-docs.html#print-adapter\r\n\r\nI found this but it is too complicated I think. I just want to send an existing pdf file to the printer. Is the above way is the only way? I couldn&#39;t find anything other that.","title":"Send a pdf file to the defined printer","body":"<p><a href=\"https://developer.android.com/training/printing/custom-docs.html#print-adapter\" rel=\"nofollow noreferrer\">https://developer.android.com/training/printing/custom-docs.html#print-adapter</a></p>\n\n<p>I found this but it is too complicated I think. I just want to send an existing pdf file to the printer. Is the above way is the only way? I couldn't find anything other that.</p>\n"},{"tags":["angularjs","spring","java"],"comments":[{"owner":{"account_id":8913034,"reputation":319,"user_id":6652510,"accept_rate":20,"display_name":"Antony Joslin"},"score":0,"creation_date":1508133848,"post_id":46763611,"comment_id":80472823,"body_markdown":"use `$http` to give API calls \nyou can use this tutorial\nhttps://docs.angularjs.org/api/ng/service/$http","body":"use <code>$http</code> to give API calls  you can use this tutorial <a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/service/$http</a>"}],"answers":[{"tags":[],"owner":{"account_id":8913034,"reputation":319,"user_id":6652510,"accept_rate":20,"display_name":"Antony Joslin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977744,"creation_date":1508133889,"answer_id":46763850,"question_id":46763611,"body_markdown":"use `$http` to give API calls. \r\nYou can use this tutorial\r\n[Angular API][1]\r\n\r\n\r\n\r\n  [1]: https://docs.angularjs.org/api/ng/service/$http","title":"Download zip file using angular js via Spring-based RESTful web service","body":"<p>use <code>$http</code> to give API calls.\nYou can use this tutorial\n<a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">Angular API</a></p>\n"}],"owner":{"account_id":10056212,"reputation":655,"user_id":7434324,"accept_rate":58,"display_name":"Rama Krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681977744,"creation_date":1508132542,"question_id":46763611,"body_markdown":"I am very new to Angular Js, I need write code to download one zip file via Spring-based RESTful web service with &#39;download&#39; button click. Web service is ready but don&#39;t know how to handle that API in angular js.\r\n\r\n","title":"Download zip file using angular js via Spring-based RESTful web service","body":"<p>I am very new to Angular Js, I need write code to download one zip file via Spring-based RESTful web service with 'download' button click. Web service is ready but don't know how to handle that API in angular js.</p>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"comments":[{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguy·ªÖn"},"score":0,"creation_date":1507795471,"post_id":46703787,"comment_id":80355653,"body_markdown":"Sorry! What&#39;s your problem?","body":"Sorry! What&#39;s your problem?"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507797377,"post_id":46703787,"comment_id":80356741,"body_markdown":"I just want to generate a JsonSchema which can be applicable for above three test cases.but My json Schema should allow the empty mainScript .(First test case : mainScript can be empty ). But it doesnt allows it.","body":"I just want to generate a JsonSchema which can be applicable for above three test cases.but My json Schema should allow the empty mainScript .(First test case : mainScript can be empty ). But it doesnt allows it."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguy·ªÖn"},"score":0,"creation_date":1507798951,"post_id":46703787,"comment_id":80357718,"body_markdown":"I think your json schema can pass 2 cases(1 &amp; 2)","body":"I think your json schema can pass 2 cases(1 &amp; 2)"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507800262,"post_id":46703787,"comment_id":80358545,"body_markdown":"no.. it&#39;s not ..","body":"no.. it&#39;s not .."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguy·ªÖn"},"score":0,"creation_date":1507800633,"post_id":46703787,"comment_id":80358797,"body_markdown":"ah, because the `mainScript ` have `&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;]` so if you don&#39;t want it you can remove.","body":"ah, because the <code>mainScript </code> have <code>&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;]</code> so if you don&#39;t want it you can remove."},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507801099,"post_id":46703787,"comment_id":80359097,"body_markdown":"mainScript should contain either both [&quot;data&quot;,&quot;key&quot;] or other wise it should be empty (First case ).So I can&#39;t removed that one ..","body":"mainScript should contain either both [&quot;data&quot;,&quot;key&quot;] or other wise it should be empty (First case ).So I can&#39;t removed that one .."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguy·ªÖn"},"score":0,"creation_date":1507801504,"post_id":46703787,"comment_id":80359340,"body_markdown":"I checked your schema at http://www.jsonschemavalidator.net and it validate cases 1 &amp; 2","body":"I checked your schema at <a href=\"http://www.jsonschemavalidator.net\" rel=\"nofollow noreferrer\">jsonschemavalidator.net</a> and it validate cases 1 &amp; 2"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507802957,"post_id":46703787,"comment_id":80360323,"body_markdown":"yeah ,I&#39;ve Seen too.. In my swagger it throws for first case , Any way thanks a lot for helping.","body":"yeah ,I&#39;ve Seen too.. In my swagger it throws for first case , Any way thanks a lot for helping."}],"answers":[{"tags":[],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681977739,"creation_date":1507877481,"answer_id":46724066,"question_id":46703787,"body_markdown":"After I tried all the attempts ,found a solution, which is also working in swagger also.\r\n\r\n&gt; Thanks for the folks who are helping me,\r\n\r\n    {\r\n        &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n        &quot;id&quot;: &quot;&quot;,\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\r\n        &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\r\n        &quot;properties&quot;: {\r\n            &quot;formList&quot;: {\r\n                &quot;id&quot;: &quot;formList&quot;,\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;title&quot;: &quot;Form List values&quot;,\r\n                &quot;description&quot;: &quot;The list of form entries&quot;,\r\n                &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: {\r\n                            &quot;id&quot;: &quot;type&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Type&quot;,\r\n                            &quot;description&quot;: &quot;The type of form element&quot;\r\n                        },\r\n                        &quot;fieldId&quot;: {\r\n                            &quot;id&quot;: &quot;fieldId&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Id&quot;,\r\n                            &quot;description&quot;: &quot;The Id of the form field&quot;\r\n                        },\r\n                        &quot;fieldLabel&quot;: {\r\n                            &quot;id&quot;: &quot;fieldLabel&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Label&quot;,\r\n                            &quot;description&quot;: &quot;The label value of form field&quot;\r\n                        },\r\n                        &quot;value&quot;: {\r\n                            &quot;id&quot;: &quot;value&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The value&quot;,\r\n                            &quot;description&quot;: &quot;The value of the form field&quot;\r\n                        },\r\n                        &quot;depends&quot;: {\r\n                            &quot;id&quot;: &quot;depends&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Depends on&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\r\n                        },\r\n                        &quot;validation&quot;: {\r\n                            &quot;id&quot;: &quot;validation&quot;,\r\n                            &quot;type&quot;: &quot;object&quot;,\r\n                            &quot;title&quot;: &quot;Validation field&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\r\n                            &quot;properties&quot;: {\r\n                                &quot;mandatory&quot;: {\r\n                                    &quot;id&quot;: &quot;mandatory&quot;,\r\n                                    &quot;type&quot;: &quot;boolean&quot;\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;dataValidation&quot;: {\r\n                            &quot;id&quot;: &quot;dataValidation&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Data Validation field&quot;,\r\n                            &quot;description&quot;: &quot;Contains the data validation condition&quot;\r\n                        },\r\n                        &quot;helpText&quot;: {\r\n                            &quot;id&quot;: &quot;helpText&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Help text&quot;,\r\n                            &quot;description&quot;: &quot;Contains the help text for the field&quot;\r\n                        },\r\n                        &quot;key&quot;: {\r\n                            &quot;id&quot;: &quot;key&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;\r\n                        }\r\n                    },\r\n                    &quot;required&quot;: [\r\n                        &quot;type&quot;,\r\n                        &quot;fieldId&quot;,\r\n                        &quot;fieldLabel&quot;,\r\n                        &quot;value&quot;,\r\n                        &quot;depends&quot;,\r\n                        &quot;validation&quot;,\r\n                        &quot;dataValidation&quot;,\r\n                        &quot;helpText&quot;,\r\n                        &quot;key&quot;\r\n                    ]\r\n                }\r\n            },\r\n            &quot;action&quot;: {\r\n                &quot;id&quot;: &quot;action&quot;,\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;title&quot;: &quot;Action type&quot;,\r\n                &quot;description&quot;: &quot;Type of action to be performed&quot;,\r\n                &quot;enum&quot;: [\r\n                    &quot;update&quot;,\r\n                    &quot;add&quot;,\r\n                    &quot;delete&quot;\r\n                ]\r\n            },\r\n            &quot;mainScript&quot;: {\r\n                &quot;id&quot;: &quot;mainScript&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;object&quot;,\r\n                    &quot;string&quot;\r\n                ],\r\n                &quot;properties&quot;: {\r\n                    &quot;data&quot;: {\r\n                        &quot;id&quot;: &quot;data&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;title&quot;: &quot;The mainscript data&quot;,\r\n                        &quot;description&quot;: &quot;Contains mainscript data&quot;\r\n                    },\r\n                    &quot;key&quot;: {\r\n                        &quot;id&quot;: &quot;mainscript_key&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    }\r\n                },\r\n                &quot;oneOf&quot;:[  \r\n                    {  \r\n    \r\n                    },\r\n                    {  \r\n                        &quot;not&quot;:{  \r\n                            &quot;required&quot;:[  \r\n                                &quot;data&quot;,\r\n                                &quot;key&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        &quot;required&quot;: [\r\n            &quot;formList&quot;,\r\n            &quot;action&quot;,\r\n            &quot;mainScript&quot;\r\n        ],\r\n        &quot;additionalProperties&quot;: false\r\n    }\r\n\r\n\r\ncheck here . [working for all three cases][1]\r\n\r\n\r\n  [1]: https://jsonschemalint.com/#/version/draft-04/markup/json","title":"Generating a Json schema with custom required","body":"<p>After I tried all the attempts ,found a solution, which is also working in swagger also.</p>\n<blockquote>\n<p>Thanks for the folks who are helping me,</p>\n</blockquote>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;id&quot;: &quot;&quot;,\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\n    &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\n    &quot;properties&quot;: {\n        &quot;formList&quot;: {\n            &quot;id&quot;: &quot;formList&quot;,\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;title&quot;: &quot;Form List values&quot;,\n            &quot;description&quot;: &quot;The list of form entries&quot;,\n            &quot;items&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;type&quot;: {\n                        &quot;id&quot;: &quot;type&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Type&quot;,\n                        &quot;description&quot;: &quot;The type of form element&quot;\n                    },\n                    &quot;fieldId&quot;: {\n                        &quot;id&quot;: &quot;fieldId&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Field Id&quot;,\n                        &quot;description&quot;: &quot;The Id of the form field&quot;\n                    },\n                    &quot;fieldLabel&quot;: {\n                        &quot;id&quot;: &quot;fieldLabel&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Field Label&quot;,\n                        &quot;description&quot;: &quot;The label value of form field&quot;\n                    },\n                    &quot;value&quot;: {\n                        &quot;id&quot;: &quot;value&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The value&quot;,\n                        &quot;description&quot;: &quot;The value of the form field&quot;\n                    },\n                    &quot;depends&quot;: {\n                        &quot;id&quot;: &quot;depends&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Depends on&quot;,\n                        &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\n                    },\n                    &quot;validation&quot;: {\n                        &quot;id&quot;: &quot;validation&quot;,\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;title&quot;: &quot;Validation field&quot;,\n                        &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\n                        &quot;properties&quot;: {\n                            &quot;mandatory&quot;: {\n                                &quot;id&quot;: &quot;mandatory&quot;,\n                                &quot;type&quot;: &quot;boolean&quot;\n                            }\n                        }\n                    },\n                    &quot;dataValidation&quot;: {\n                        &quot;id&quot;: &quot;dataValidation&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Data Validation field&quot;,\n                        &quot;description&quot;: &quot;Contains the data validation condition&quot;\n                    },\n                    &quot;helpText&quot;: {\n                        &quot;id&quot;: &quot;helpText&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Help text&quot;,\n                        &quot;description&quot;: &quot;Contains the help text for the field&quot;\n                    },\n                    &quot;key&quot;: {\n                        &quot;id&quot;: &quot;key&quot;,\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;required&quot;: [\n                    &quot;type&quot;,\n                    &quot;fieldId&quot;,\n                    &quot;fieldLabel&quot;,\n                    &quot;value&quot;,\n                    &quot;depends&quot;,\n                    &quot;validation&quot;,\n                    &quot;dataValidation&quot;,\n                    &quot;helpText&quot;,\n                    &quot;key&quot;\n                ]\n            }\n        },\n        &quot;action&quot;: {\n            &quot;id&quot;: &quot;action&quot;,\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;title&quot;: &quot;Action type&quot;,\n            &quot;description&quot;: &quot;Type of action to be performed&quot;,\n            &quot;enum&quot;: [\n                &quot;update&quot;,\n                &quot;add&quot;,\n                &quot;delete&quot;\n            ]\n        },\n        &quot;mainScript&quot;: {\n            &quot;id&quot;: &quot;mainScript&quot;,\n            &quot;type&quot;: [\n                &quot;object&quot;,\n                &quot;string&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;data&quot;: {\n                    &quot;id&quot;: &quot;data&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;title&quot;: &quot;The mainscript data&quot;,\n                    &quot;description&quot;: &quot;Contains mainscript data&quot;\n                },\n                &quot;key&quot;: {\n                    &quot;id&quot;: &quot;mainscript_key&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;oneOf&quot;:[  \n                {  \n\n                },\n                {  \n                    &quot;not&quot;:{  \n                        &quot;required&quot;:[  \n                            &quot;data&quot;,\n                            &quot;key&quot;\n                        ]\n                    }\n                }\n            ]\n        }\n    },\n    &quot;required&quot;: [\n        &quot;formList&quot;,\n        &quot;action&quot;,\n        &quot;mainScript&quot;\n    ],\n    &quot;additionalProperties&quot;: false\n}\n</code></pre>\n<p>check here . <a href=\"https://jsonschemalint.com/#/version/draft-04/markup/json\" rel=\"nofollow noreferrer\">working for all three cases</a></p>\n"}],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46724066,"answer_count":1,"score":0,"last_activity_date":1681977739,"creation_date":1507793106,"question_id":46703787,"body_markdown":"I tried searching , none of them are working for my cases.\r\n\r\nthis is my model schema :\r\n\r\n    {\r\n        &quot;formList&quot;: [{\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;fieldId&quot;: &quot;string&quot;,\r\n            &quot;fieldLabel&quot;: &quot;string&quot;,\r\n            &quot;value&quot;: &quot;string&quot;,\r\n            &quot;depends&quot;: &quot;string&quot;,\r\n            &quot;validation&quot;: {\r\n                &quot;mandatory&quot;: true\r\n            },\r\n            &quot;dataValidation&quot;: &quot;string&quot;,\r\n            &quot;helpText&quot;: &quot;string&quot;,\r\n            &quot;key&quot;: &quot;string&quot;\r\n        }],\r\n        &quot;action&quot;: &quot;string&quot;,\r\n        &quot;mainScript&quot;: {\r\n            &quot;data&quot;: &quot;string&quot;,\r\n            &quot;key&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n\r\nPossible cases for the input :\r\n1. mainScript can be empty \r\n\r\n    {\r\n        &quot;formList&quot;: [{\r\n            &quot;type&quot;: &quot;Text box&quot;,\r\n            &quot;fieldId&quot;: &quot;field_1&quot;,\r\n            &quot;fieldLabel&quot;: &quot;Text box&quot;,\r\n            &quot;value&quot;: &quot;&quot;,\r\n            &quot;depends&quot;: &quot;&quot;,\r\n            &quot;validation&quot;: {\r\n                &quot;mandatory&quot;: false\r\n            },\r\n            &quot;dataValidation&quot;: &quot;&quot;,\r\n            &quot;helpText&quot;: &quot;&quot;,\r\n            &quot;key&quot;: &quot;field_1_1507792641393&quot;\r\n        }],\r\n        &quot;action&quot;: &quot;add&quot;,\r\n        &quot;mainScript&quot;: &quot;&quot;\r\n    }\r\n\r\n2. formList can be empty .\r\n\r\n  \r\n\r\n      {\r\n            &quot;formList&quot;: [],\r\n            &quot;action&quot;: &quot;add&quot;,\r\n            &quot;mainScript&quot;: {\r\n                &quot;data&quot;: &quot;sdfsadf&quot;,\r\n                &quot;key&quot;: &quot;mainscript_1507793323369&quot;\r\n            }\r\n        }\r\n\r\nhere is my json schema :\r\n \r\n\r\n    {\r\n        &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n        &quot;id&quot;: &quot;&quot;,\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\r\n        &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\r\n        &quot;properties&quot;: {\r\n            &quot;formList&quot;: {\r\n                &quot;id&quot;: &quot;formList&quot;,\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;title&quot;: &quot;Form List values&quot;,\r\n                &quot;description&quot;: &quot;The list of form entries&quot;,\r\n                &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: {\r\n                            &quot;id&quot;: &quot;type&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Type&quot;,\r\n                            &quot;description&quot;: &quot;The type of form element&quot;\r\n                        },\r\n                        &quot;fieldId&quot;: {\r\n                            &quot;id&quot;: &quot;fieldId&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Id&quot;,\r\n                            &quot;description&quot;: &quot;The Id of the form field&quot;\r\n                        },\r\n                        &quot;fieldLabel&quot;: {\r\n                            &quot;id&quot;: &quot;fieldLabel&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Label&quot;,\r\n                            &quot;description&quot;: &quot;The label value of form field&quot;\r\n                        },\r\n                        &quot;value&quot;: {\r\n                            &quot;id&quot;: &quot;value&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The value&quot;,\r\n                            &quot;description&quot;: &quot;The value of the form field&quot;\r\n                        },\r\n                        &quot;depends&quot;: {\r\n                            &quot;id&quot;: &quot;depends&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Depends on&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\r\n                        },\r\n                        &quot;validation&quot;: {\r\n                            &quot;id&quot;: &quot;validation&quot;,\r\n                            &quot;type&quot;: &quot;object&quot;,\r\n                            &quot;title&quot;: &quot;Validation field&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\r\n                            &quot;properties&quot;: {\r\n                                &quot;mandatory&quot;: {\r\n                                    &quot;id&quot;: &quot;mandatory&quot;,\r\n                                    &quot;type&quot;: &quot;boolean&quot;\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;dataValidation&quot;: {\r\n                            &quot;id&quot;: &quot;dataValidation&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Data Validation field&quot;,\r\n                            &quot;description&quot;: &quot;Contains the data validation condition&quot;\r\n                        },\r\n                        &quot;helpText&quot;: {\r\n                            &quot;id&quot;: &quot;helpText&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Help text&quot;,\r\n                            &quot;description&quot;: &quot;Contains the help text for the field&quot;\r\n                        },\r\n                        &quot;key&quot;: {\r\n                            &quot;id&quot;: &quot;key&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;\r\n                        }\r\n                    },\r\n                    &quot;required&quot;: [\r\n                        &quot;type&quot;,\r\n                        &quot;fieldId&quot;,\r\n                        &quot;fieldLabel&quot;,\r\n                        &quot;value&quot;,\r\n                        &quot;depends&quot;,\r\n                        &quot;validation&quot;,\r\n                        &quot;dataValidation&quot;,\r\n                        &quot;helpText&quot;,\r\n                        &quot;key&quot;\r\n                    ]\r\n                }\r\n            },\r\n            &quot;action&quot;: {\r\n                &quot;id&quot;: &quot;action&quot;,\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;title&quot;: &quot;Action type&quot;,\r\n                &quot;description&quot;: &quot;Type of action to be performed&quot;,\r\n                &quot;enum&quot;: [\r\n                    &quot;update&quot;,\r\n                    &quot;add&quot;,\r\n                    &quot;delete&quot;\r\n                ]\r\n            },\r\n            &quot;mainScript&quot;: {\r\n                &quot;id&quot;: &quot;mainScript&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;object&quot;,\r\n                    &quot;string&quot;\r\n                ],\r\n                &quot;properties&quot;: {\r\n                    &quot;data&quot;: {\r\n                        &quot;id&quot;: &quot;data&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;title&quot;: &quot;The mainscript data&quot;,\r\n                        &quot;description&quot;: &quot;Contains mainscript data&quot;\r\n                    },\r\n                    &quot;key&quot;: {\r\n                        &quot;id&quot;: &quot;mainscript_key&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    }\r\n                },\r\n    \t&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;],\r\n            }\r\n        },\r\n        &quot;required&quot;: [\r\n            &quot;formList&quot;,\r\n            &quot;action&quot;,\r\n            &quot;mainScript&quot;\r\n        ],\r\n              &quot;additionalProperties&quot;: false\r\n    }\r\n\r\n\r\nmy *JsonSchema* should throw error while validating the following input:\r\n{&quot;formList&quot;:[],&quot;action&quot;:&quot;add&quot;,&quot;mainScript&quot;:{&quot;data&quot;:&quot;&quot;}}\r\nBecause one of param in mainScript is missing.  \r\n\r\n \r\n\r\n\r\n\r\n","title":"Generating a Json schema with custom required","body":"<p>I tried searching , none of them are working for my cases.</p>\n\n<p>this is my model schema :</p>\n\n<pre><code>{\n    \"formList\": [{\n        \"type\": \"string\",\n        \"fieldId\": \"string\",\n        \"fieldLabel\": \"string\",\n        \"value\": \"string\",\n        \"depends\": \"string\",\n        \"validation\": {\n            \"mandatory\": true\n        },\n        \"dataValidation\": \"string\",\n        \"helpText\": \"string\",\n        \"key\": \"string\"\n    }],\n    \"action\": \"string\",\n    \"mainScript\": {\n        \"data\": \"string\",\n        \"key\": \"string\"\n    }\n}\n</code></pre>\n\n<p>Possible cases for the input :\n1. mainScript can be empty </p>\n\n<pre><code>{\n    \"formList\": [{\n        \"type\": \"Text box\",\n        \"fieldId\": \"field_1\",\n        \"fieldLabel\": \"Text box\",\n        \"value\": \"\",\n        \"depends\": \"\",\n        \"validation\": {\n            \"mandatory\": false\n        },\n        \"dataValidation\": \"\",\n        \"helpText\": \"\",\n        \"key\": \"field_1_1507792641393\"\n    }],\n    \"action\": \"add\",\n    \"mainScript\": \"\"\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>formList can be empty .</p>\n\n<p>{\n        \"formList\": [],\n        \"action\": \"add\",\n        \"mainScript\": {\n            \"data\": \"sdfsadf\",\n            \"key\": \"mainscript_1507793323369\"\n        }\n    }</p></li>\n</ol>\n\n<p>here is my json schema :</p>\n\n<pre><code>{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"id\": \"\",\n    \"type\": \"object\",\n    \"title\": \"Add Temp Configlet Builder Schema\",\n    \"description\": \"Schema structure for adding temp configlet builder\",\n    \"properties\": {\n        \"formList\": {\n            \"id\": \"formList\",\n            \"type\": \"array\",\n            \"title\": \"Form List values\",\n            \"description\": \"The list of form entries\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"type\": {\n                        \"id\": \"type\",\n                        \"type\": \"string\",\n                        \"title\": \"The Type\",\n                        \"description\": \"The type of form element\"\n                    },\n                    \"fieldId\": {\n                        \"id\": \"fieldId\",\n                        \"type\": \"string\",\n                        \"title\": \"The Field Id\",\n                        \"description\": \"The Id of the form field\"\n                    },\n                    \"fieldLabel\": {\n                        \"id\": \"fieldLabel\",\n                        \"type\": \"string\",\n                        \"title\": \"The Field Label\",\n                        \"description\": \"The label value of form field\"\n                    },\n                    \"value\": {\n                        \"id\": \"value\",\n                        \"type\": \"string\",\n                        \"title\": \"The value\",\n                        \"description\": \"The value of the form field\"\n                    },\n                    \"depends\": {\n                        \"id\": \"depends\",\n                        \"type\": \"string\",\n                        \"title\": \"Depends on\",\n                        \"description\": \"To indicate if the field depends on another field\"\n                    },\n                    \"validation\": {\n                        \"id\": \"validation\",\n                        \"type\": \"object\",\n                        \"title\": \"Validation field\",\n                        \"description\": \"To indicate if the field has any validation\",\n                        \"properties\": {\n                            \"mandatory\": {\n                                \"id\": \"mandatory\",\n                                \"type\": \"boolean\"\n                            }\n                        }\n                    },\n                    \"dataValidation\": {\n                        \"id\": \"dataValidation\",\n                        \"type\": \"string\",\n                        \"title\": \"Data Validation field\",\n                        \"description\": \"Contains the data validation condition\"\n                    },\n                    \"helpText\": {\n                        \"id\": \"helpText\",\n                        \"type\": \"string\",\n                        \"title\": \"Help text\",\n                        \"description\": \"Contains the help text for the field\"\n                    },\n                    \"key\": {\n                        \"id\": \"key\",\n                        \"type\": \"string\"\n                    }\n                },\n                \"required\": [\n                    \"type\",\n                    \"fieldId\",\n                    \"fieldLabel\",\n                    \"value\",\n                    \"depends\",\n                    \"validation\",\n                    \"dataValidation\",\n                    \"helpText\",\n                    \"key\"\n                ]\n            }\n        },\n        \"action\": {\n            \"id\": \"action\",\n            \"type\": \"string\",\n            \"title\": \"Action type\",\n            \"description\": \"Type of action to be performed\",\n            \"enum\": [\n                \"update\",\n                \"add\",\n                \"delete\"\n            ]\n        },\n        \"mainScript\": {\n            \"id\": \"mainScript\",\n            \"type\": [\n                \"object\",\n                \"string\"\n            ],\n            \"properties\": {\n                \"data\": {\n                    \"id\": \"data\",\n                    \"type\": \"string\",\n                    \"title\": \"The mainscript data\",\n                    \"description\": \"Contains mainscript data\"\n                },\n                \"key\": {\n                    \"id\": \"mainscript_key\",\n                    \"type\": \"string\"\n                }\n            },\n    \"required\":[\"data\",\"key\"],\n        }\n    },\n    \"required\": [\n        \"formList\",\n        \"action\",\n        \"mainScript\"\n    ],\n          \"additionalProperties\": false\n}\n</code></pre>\n\n<p>my <em>JsonSchema</em> should throw error while validating the following input:\n{\"formList\":[],\"action\":\"add\",\"mainScript\":{\"data\":\"\"}}\nBecause one of param in mainScript is missing.  </p>\n"},{"tags":["java","linux","utf-8","path","dockerfile"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681985202,"post_id":76061676,"comment_id":134145900,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682025240,"post_id":76061676,"comment_id":134155225,"body_markdown":"[1] More information is needed. At a minimum, you need to update your question to show your code, and provide full details of your runtime environment (Java version, locale, language, default charset, etc.). See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for guidelines on improving your question. [2] Note that [assigning values to **file.encoding** and **sun.jnu.encoding** is unsupported](https://openjdk.org/jeps/400) on any Java release.","body":"[1] More information is needed. At a minimum, you need to update your question to show your code, and provide full details of your runtime environment (Java version, locale, language, default charset, etc.). See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for guidelines on improving your question. [2] Note that <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">assigning values to <b>file.encoding</b> and <b>sun.jnu.encoding</b> is unsupported</a> on any Java release."}],"answers":[{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977585,"creation_date":1681977585,"answer_id":76061788,"question_id":76061676,"body_markdown":"It&#39;s due to Non-ASCII characters in file name &amp; system is unable to resolve them. Here &#39;**&#201;**&#39; &amp; &#39;**&#195;**&#39; in the file name are Non-ASCII characters. You can try renaming the file with ASCII characters only or you can escape the Non-ASCII characters in the string.","title":"java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters when using national characters on getting file path","body":"<p>It's due to Non-ASCII characters in file name &amp; system is unable to resolve them. Here '<strong>√â</strong>' &amp; '<strong>√É</strong>' in the file name are Non-ASCII characters. You can try renaming the file with ASCII characters only or you can escape the Non-ASCII characters in the string.</p>\n"}],"owner":{"account_id":17580657,"reputation":1,"user_id":12754557,"display_name":"user12754557"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681977585,"creation_date":1681976770,"question_id":76061676,"body_markdown":"I got exception:\r\n\r\n```\r\njava.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: Z&#201; LUIZ ALMEIDA SER&#195;O.pdf\r\n        at sun.nio.fs.UnixPath.encode(UnixPath.java:147)\r\n        at sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:71)\r\n        at sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:281)\r\n        at java.nio.file.Paths.get(Paths.java:84)\r\n        at org.someone.something.file.PathManager.createPathIfNecessary(PathManager.java:161)\r\n...\r\n        at java.lang.Thread.run(Thread.java:744)\r\n```\r\n\r\nI tried to:\r\n\r\n```\r\nFiles.probeContentType(Paths.get(file));\r\n```\r\n\r\nI run project from dockerfile with params: -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8\r\n\r\nPlease help me to find solution to fix it.","title":"java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters when using national characters on getting file path","body":"<p>I got exception:</p>\n<pre><code>java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: Z√â LUIZ ALMEIDA SER√ÉO.pdf\n        at sun.nio.fs.UnixPath.encode(UnixPath.java:147)\n        at sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:71)\n        at sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:281)\n        at java.nio.file.Paths.get(Paths.java:84)\n        at org.someone.something.file.PathManager.createPathIfNecessary(PathManager.java:161)\n...\n        at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>I tried to:</p>\n<pre><code>Files.probeContentType(Paths.get(file));\n</code></pre>\n<p>I run project from dockerfile with params: -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8</p>\n<p>Please help me to find solution to fix it.</p>\n"},{"tags":["java","project-reactor","csvreader"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1681923986,"post_id":76056426,"comment_id":134136610,"body_markdown":"Can you tell more about &quot;does not properly create a Flux&quot;? What do you mean? Do you have a compiler error? or some kind of a runtime exception?","body":"Can you tell more about &quot;does not properly create a Flux&quot;? What do you mean? Do you have a compiler error? or some kind of a runtime exception?"},{"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"score":0,"creation_date":1681972197,"post_id":76056426,"comment_id":134143158,"body_markdown":"I finally confirmed it is because the CSV is part of a ZIP file and if we pass in the InputStream from the ZIP file, the CSVReader does not provide items for the Flux unless you directly subscribe or block it. So what I mean with it, the List will always be empty and it ends up in the last flatMap with 0, 0 and an empty List.","body":"I finally confirmed it is because the CSV is part of a ZIP file and if we pass in the InputStream from the ZIP file, the CSVReader does not provide items for the Flux unless you directly subscribe or block it. So what I mean with it, the List will always be empty and it ends up in the last flatMap with 0, 0 and an empty List."}],"answers":[{"tags":[],"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977137,"creation_date":1681977137,"answer_id":76061718,"question_id":76056426,"body_markdown":"I finally figured it out, with the help of some other SO posts, each bringing a piece of the puzzle:\r\n  \r\n\r\n    @SneakyThrows\r\n    Mono&lt;Void&gt; run() {\r\n      var failure = new AtomicInteger();\r\n      var filtered = new ArrayList&lt;String&gt;();\r\n      var is = getSequenceInputStream(createZipContent(TEST_FEED_CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\r\n      return Flux.&lt;CSVReader&gt;generate(sink -&gt; extractZipEntry(is, sink))\r\n          .flatMap(Flux::fromIterable)\r\n          .flatMap(this::ean)\r\n          .filter(ean -&gt; filter(ean, filtered))\r\n          .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement()).collectList()\r\n          .flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n    \r\n    void extractZipEntry(InputStream is, SynchronousSink&lt;CSVReader&gt; sink) {\r\n      var zis = new ZipInputStream(is);\r\n      try {\r\n        var zipEntry = zis.getNextEntry();\r\n        if (zipEntry == null) {\r\n          sink.complete();\r\n        } else {\r\n          var reader = new CSVReader(new InputStreamReader(zis));\r\n          reader.readNextSilently();\r\n          sink.next(reader);\r\n        }\r\n      } catch (IOException ex) {\r\n        sink.error(new RuntimeException(ex));\r\n      }\r\n    }","title":"Reactive way to process a zipped CSV file with CSVReader","body":"<p>I finally figured it out, with the help of some other SO posts, each bringing a piece of the puzzle:</p>\n<pre><code>@SneakyThrows\nMono&lt;Void&gt; run() {\n  var failure = new AtomicInteger();\n  var filtered = new ArrayList&lt;String&gt;();\n  var is = getSequenceInputStream(createZipContent(TEST_FEED_CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\n  return Flux.&lt;CSVReader&gt;generate(sink -&gt; extractZipEntry(is, sink))\n      .flatMap(Flux::fromIterable)\n      .flatMap(this::ean)\n      .filter(ean -&gt; filter(ean, filtered))\n      .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement()).collectList()\n      .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n\nvoid extractZipEntry(InputStream is, SynchronousSink&lt;CSVReader&gt; sink) {\n  var zis = new ZipInputStream(is);\n  try {\n    var zipEntry = zis.getNextEntry();\n    if (zipEntry == null) {\n      sink.complete();\n    } else {\n      var reader = new CSVReader(new InputStreamReader(zis));\n      reader.readNextSilently();\n      sink.next(reader);\n    }\n  } catch (IOException ex) {\n    sink.error(new RuntimeException(ex));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681977453,"creation_date":1681918848,"question_id":76056426,"body_markdown":"This is a follow-up question to this:\r\nhttps://stackoverflow.com/questions/76045906/how-to-convert-a-flux-to-a-mono-with-multiple-counters\r\n\r\nI found out that the problem lies with the CSVReader in this context. For some reason it does not properly create a `Flux` from it to be processed.\r\n\r\nThis doesn&#39;t work:\r\n\r\n    @Test\r\n    void testCsvReader() {\r\n    \tStepVerifier.create(csvFlux()).verifyComplete();\r\n    }\r\n    \r\n    @SneakyThrows\r\n    Mono&lt;Void&gt; csvFlux() {\r\n    var failure = new AtomicInteger();\r\n    var filtered = new ArrayList&lt;String&gt;();\r\n    var is = new ByteArrayInputStream(createZipContent(CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\r\n    var reader = new CSVReader(new InputStreamReader(new ZipInputStream(is)))) {\r\n    return Flux.fromIterable(reader)\r\n    \t\t.flatMap(this::ean)\r\n    \t\t.filter(ean -&gt; filter(ean, filtered))\r\n    \t\t.onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\r\n    \t\t.collectList()\r\n    \t\t.flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n    \r\n    Mono&lt;String&gt; ean(final String[] record) {\r\n    \tSystem.out.println(&quot;processing: &quot; + Arrays.toString(record));\r\n    \tvar ean = record[1];\r\n    \tif (&quot;product1&quot;.equals(ean)) {\r\n    \t  return Mono.just(ean);\r\n    \t}\r\n    \treturn Mono.error(RuntimeException::new);\r\n    }\r\n    \r\n    boolean filter(final String ean, final List&lt;String&gt; filtered) {\r\n    \tif (&quot;product2&quot;.equals(ean)) {\r\n    \t  filtered.add(ean);\r\n    \t  return false;\r\n    \t}\r\n    \treturn true;\r\n    }\r\n    \r\n    Mono&lt;Void&gt; print(final int success, final AtomicInteger errorCount, final List&lt;String&gt; filtered) {\r\n    \tSystem.out.println(&quot;success:&quot; + success + &quot;; failure:&quot; + errorCount + &quot;; filter: &quot; + filtered);\r\n    \treturn Mono.empty();\r\n    }\r\n\r\nBut if I create the CSV like this, it works:\r\n\r\n    Mono&lt;Void&gt; run() {\r\n    \tvar csv = new ArrayList&lt;String[]&gt;();\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product1&quot;, &quot;100&quot;});\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product2&quot;, &quot;200&quot;});\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product3&quot;, &quot;300&quot;});\r\n    \tvar failure = new AtomicInteger();\r\n    \tvar filtered = new ArrayList&lt;String&gt;();\r\n    \t  return Flux.fromIterable(csv)\r\n    \t\t\t  .flatMap(this::ean)\r\n    \t\t\t  .filter(ean -&gt; filter(ean, filtered))\r\n    \t\t\t  .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\r\n    \t\t\t  .collectList()\r\n    \t\t\t  .flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n\r\nCould it be because we have CSV Files within a ZIP file and thus the CSVReader get&#39;s confused?\r\n\r\n**EDIT:**  \r\nIt is indeed because we pass in a `ZipInputStream` to the `CSVReader`. If I pass in normal `InputStream` of a CSV it works. This begs the question: Why does it work if I directly subscribe to the `Flux` but not if I use `collectList()`?","title":"Reactive way to process a zipped CSV file with CSVReader","body":"<p>This is a follow-up question to this:\n<a href=\"https://stackoverflow.com/questions/76045906/how-to-convert-a-flux-to-a-mono-with-multiple-counters\">How to convert a Flux to a Mono with multiple counters</a></p>\n<p>I found out that the problem lies with the CSVReader in this context. For some reason it does not properly create a <code>Flux</code> from it to be processed.</p>\n<p>This doesn't work:</p>\n<pre><code>@Test\nvoid testCsvReader() {\n    StepVerifier.create(csvFlux()).verifyComplete();\n}\n\n@SneakyThrows\nMono&lt;Void&gt; csvFlux() {\nvar failure = new AtomicInteger();\nvar filtered = new ArrayList&lt;String&gt;();\nvar is = new ByteArrayInputStream(createZipContent(CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\nvar reader = new CSVReader(new InputStreamReader(new ZipInputStream(is)))) {\nreturn Flux.fromIterable(reader)\n        .flatMap(this::ean)\n        .filter(ean -&gt; filter(ean, filtered))\n        .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\n        .collectList()\n        .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n\nMono&lt;String&gt; ean(final String[] record) {\n    System.out.println(&quot;processing: &quot; + Arrays.toString(record));\n    var ean = record[1];\n    if (&quot;product1&quot;.equals(ean)) {\n      return Mono.just(ean);\n    }\n    return Mono.error(RuntimeException::new);\n}\n\nboolean filter(final String ean, final List&lt;String&gt; filtered) {\n    if (&quot;product2&quot;.equals(ean)) {\n      filtered.add(ean);\n      return false;\n    }\n    return true;\n}\n\nMono&lt;Void&gt; print(final int success, final AtomicInteger errorCount, final List&lt;String&gt; filtered) {\n    System.out.println(&quot;success:&quot; + success + &quot;; failure:&quot; + errorCount + &quot;; filter: &quot; + filtered);\n    return Mono.empty();\n}\n</code></pre>\n<p>But if I create the CSV like this, it works:</p>\n<pre><code>Mono&lt;Void&gt; run() {\n    var csv = new ArrayList&lt;String[]&gt;();\n    csv.add(new String[] {&quot;1234&quot;, &quot;product1&quot;, &quot;100&quot;});\n    csv.add(new String[] {&quot;1234&quot;, &quot;product2&quot;, &quot;200&quot;});\n    csv.add(new String[] {&quot;1234&quot;, &quot;product3&quot;, &quot;300&quot;});\n    var failure = new AtomicInteger();\n    var filtered = new ArrayList&lt;String&gt;();\n      return Flux.fromIterable(csv)\n              .flatMap(this::ean)\n              .filter(ean -&gt; filter(ean, filtered))\n              .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\n              .collectList()\n              .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n</code></pre>\n<p>Could it be because we have CSV Files within a ZIP file and thus the CSVReader get's confused?</p>\n<p><strong>EDIT:</strong><br />\nIt is indeed because we pass in a <code>ZipInputStream</code> to the <code>CSVReader</code>. If I pass in normal <code>InputStream</code> of a CSV it works. This begs the question: Why does it work if I directly subscribe to the <code>Flux</code> but not if I use <code>collectList()</code>?</p>\n"},{"tags":["java","arrays","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681980940,"post_id":76061351,"comment_id":134144939,"body_markdown":"Your code looks fine to me. Is it this line `driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click()` which is throwing `Unable to locate Exception`? Worth checking if the XPATH expression is genuinely correct? I cannot access this site from my location, hence can&#39;t check myself. Also(although it shouldn&#39;t make difference), I see a leading whitespace in this XPATH expression, correct it.","body":"Your code looks fine to me. Is it this line <code>driver.findElement(By.xpath(&quot; &#47;&#47;img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click()</code> which is throwing <code>Unable to locate Exception</code>? Worth checking if the XPATH expression is genuinely correct? I cannot access this site from my location, hence can&#39;t check myself. Also(although it shouldn&#39;t make difference), I see a leading whitespace in this XPATH expression, correct it."}],"answers":[{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977153,"creation_date":1681977153,"answer_id":76061720,"question_id":76061351,"body_markdown":"    Replace \r\n    String parentHandle = driver.getWindowHandle();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n    \r\n    To \r\n    Set&lt;String&gt; tab1 = driver.getWindowHandles();\r\n    \t\tint count=tab1.size();\r\n    \t\tfor(String second:tab1) { \r\n    \t\t\tdriver.switchTo().window(second); \r\n    \t\t}","title":"Working on second tab in java selenium But unable to interact with the elements on the second tab","body":"<pre><code>Replace \nString parentHandle = driver.getWindowHandle();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n\nTo \nSet&lt;String&gt; tab1 = driver.getWindowHandles();\n        int count=tab1.size();\n        for(String second:tab1) { \n            driver.switchTo().window(second); \n        }\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681977153,"creation_date":1681974020,"question_id":76061351,"body_markdown":"I am working on airbnb site I have searched mumbai and then clicked on the respective content which redirects the browser to open the content in a new tab the search is working fine also I am able to shift on the second tab using arraylist, but I am not able to interact with any element on the second tab using java selenium I am getting error a unable tolocate element,the focus is shifted to the second tab but even javascript is not working on the second tab    \r\n\r\n\r\n\r\n    package Practice;\r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.Alert;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import java.util.ArrayList;\r\n    import java.time.Duration;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    \r\n    public class Airbnbmumbai\r\n    {\r\n        public static void main(String[]args) throws InterruptedException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;pathtochromedriver&quot;);\r\n            ChromeOptions ops = new ChromeOptions();\r\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            ChromeDriver driver = new ChromeDriver(ops);\r\n            driver.get(&quot;https://www.airbnb.co.in/&quot;);\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            Thread.sleep(1000);\r\n            // Clicking on trending //\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;f19g2zq0 dir dir-ltr\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            // Getting the title of the page on starting of the page //\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Mumbai&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_r1t6ga\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[4]&quot;)).click();\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[3]/div[4]/div/div/section/div/div/div/div/div[2]/div[1]/div/div[1]/div/div/div/div/div[2]/div[2]/div/div[3]/div/table/tbody/tr[5]/td[4]/div&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;p1kudodg dir dir-ltr\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;i98ho2o dir dir-ltr\\&quot;])[2]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[5]/div[2]/div/div/div/section/div/div/div/div[2]/div[2]/div/button[2]/span&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[1]/div/div/div/div/div[2]&quot;)).click();\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[7]/div/div[2]/div/div/div/div[1]&quot;)).click();\r\n            // Now will work on the second window //\r\n            String parentHandle = driver.getWindowHandle();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n            // Clicking on see all photos //\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            driver.navigate().refresh();\r\n            driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click();\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n            js.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    }","title":"Working on second tab in java selenium But unable to interact with the elements on the second tab","body":"<p>I am working on airbnb site I have searched mumbai and then clicked on the respective content which redirects the browser to open the content in a new tab the search is working fine also I am able to shift on the second tab using arraylist, but I am not able to interact with any element on the second tab using java selenium I am getting error a unable tolocate element,the focus is shifted to the second tab but even javascript is not working on the second tab</p>\n<pre><code>package Practice;\nimport org.junit.Assert;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.Alert;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.util.ArrayList;\nimport java.time.Duration;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\n\n\npublic class Airbnbmumbai\n{\n    public static void main(String[]args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;pathtochromedriver&quot;);\n        ChromeOptions ops = new ChromeOptions();\n        ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n        ChromeDriver driver = new ChromeDriver(ops);\n        driver.get(&quot;https://www.airbnb.co.in/&quot;);\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        Thread.sleep(1000);\n        // Clicking on trending //\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;f19g2zq0 dir dir-ltr\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        // Getting the title of the page on starting of the page //\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Mumbai&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_r1t6ga\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[4]&quot;)).click();\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[3]/div[4]/div/div/section/div/div/div/div/div[2]/div[1]/div/div[1]/div/div/div/div/div[2]/div[2]/div/div[3]/div/table/tbody/tr[5]/td[4]/div&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;p1kudodg dir dir-ltr\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;i98ho2o dir dir-ltr\\&quot;])[2]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[5]/div[2]/div/div/div/section/div/div/div/div[2]/div[2]/div/button[2]/span&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[1]/div/div/div/div/div[2]&quot;)).click();\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[7]/div/div[2]/div/div/div/div[1]&quot;)).click();\n        // Now will work on the second window //\n        String parentHandle = driver.getWindowHandle();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n        // Clicking on see all photos //\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        driver.navigate().refresh();\n        driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click();\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\n\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","google-drive-api","onactivityresult","startactivityforresult"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681654151,"post_id":76028030,"comment_id":134087897,"body_markdown":"Is `btnSubmit.setOnClickListener` actually inside `onCreate` in your code? Can you include more details about how you debugged it and what the result was? For example, does it launch the sign in activity when you click the button? Were you using log statements to determine which methods were called?","body":"Is <code>btnSubmit.setOnClickListener</code> actually inside <code>onCreate</code> in your code? Can you include more details about how you debugged it and what the result was? For example, does it launch the sign in activity when you click the button? Were you using log statements to determine which methods were called?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681677366,"post_id":76028030,"comment_id":134091200,"body_markdown":"@TylerV No, btnSubmit.setOnClickListener is not inside onCreate in my code. \nI have use log statment in both method. requestSignIn() called but onActivityResult is not called.","body":"@TylerV No, btnSubmit.setOnClickListener is not inside onCreate in my code.  I have use log statment in both method. requestSignIn() called but onActivityResult is not called."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681678585,"post_id":76028030,"comment_id":134091343,"body_markdown":"Where is it then? Usually that kind of code goes in `onCreate`. Is the sign in activity launched? If not, check logcat for any error messages.","body":"Where is it then? Usually that kind of code goes in <code>onCreate</code>. Is the sign in activity launched? If not, check logcat for any error messages."},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681679879,"post_id":76028030,"comment_id":134091495,"body_markdown":"@TylerV Now I have put btnSubmit.setOnClickListener in OnCreate, but it still doesn&#39;t work!","body":"@TylerV Now I have put btnSubmit.setOnClickListener in OnCreate, but it still doesn&#39;t work!"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681690972,"post_id":76028030,"comment_id":134092565,"body_markdown":"Update the question to show the updated code please. Can you replicate it in a minimal app in a new project?","body":"Update the question to show the updated code please. Can you replicate it in a minimal app in a new project?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681803063,"post_id":76028030,"comment_id":134111221,"body_markdown":"@TylerV I have checked the code in different Activity. Once I wrote the code in the mainActivity and the program worked without any Problemm as intended (requestSignIn() is called exactly when the btnSubmit.setOnClickListener and onActivityresult also worked.). But, when I take the same program to another activity, it doesn&#39;t work. I&#39;m really confused and I don&#39;t understand why this is happening. (The question has been updated)","body":"@TylerV I have checked the code in different Activity. Once I wrote the code in the mainActivity and the program worked without any Problemm as intended (requestSignIn() is called exactly when the btnSubmit.setOnClickListener and onActivityresult also worked.). But, when I take the same program to another activity, it doesn&#39;t work. I&#39;m really confused and I don&#39;t understand why this is happening. (The question has been updated)"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681825347,"post_id":76028030,"comment_id":134116719,"body_markdown":"Am I correct in assuming in `SecondActivity` you see the `requestSignIn` toast but not the `onActivityResult` toast, while in `MainActivity` you see both? Try to use specific statements in your question instead of &quot;It doesn&#39;t work&quot;. As-is I don&#39;t see anything wrong with the code that would cause the behavior you are describing. Is the &quot;Sign In&quot; activity displayed in SecondActivity?","body":"Am I correct in assuming in <code>SecondActivity</code> you see the <code>requestSignIn</code> toast but not the <code>onActivityResult</code> toast, while in <code>MainActivity</code> you see both? Try to use specific statements in your question instead of &quot;It doesn&#39;t work&quot;. As-is I don&#39;t see anything wrong with the code that would cause the behavior you are describing. Is the &quot;Sign In&quot; activity displayed in SecondActivity?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681978369,"post_id":76028030,"comment_id":134144366,"body_markdown":"@TylerV yes sir. you are correct . I have update my question . I don&#39;t understand where my problem is. same code in two different activities! in mainactivity works correctly and called onActivityResult but in second activity it never reaches onActivityResult.","body":"@TylerV yes sir. you are correct . I have update my question . I don&#39;t understand where my problem is. same code in two different activities! in mainactivity works correctly and called onActivityResult but in second activity it never reaches onActivityResult."}],"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681977152,"creation_date":1681651535,"question_id":76028030,"body_markdown":"I use the following link to use the Google Drive API to upload a file to Drive:\r\nhttps://www.youtube.com/watch?v=rznYp43KLRc\r\n\r\nWhen I call requestSignIn() in onCreate, it works correctly. But when I call it in setOnClickListener, it doesn&#39;t work! \r\n\r\nMy code looks like this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // When I call requestSignIn here it works correctly \r\n        // requestSignIn();\r\n    }\r\n\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }\r\n\r\n    private void handleSignInIntent(Intent data) {\r\n        GoogleSignIn.getSignedInAccountFromIntent(data)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;GoogleSignInAccount&gt;() {\r\n                    @Override\r\n                    public void onSuccess(GoogleSignInAccount googleSignInAccount) {\r\n                        GoogleAccountCredential credential = GoogleAccountCredential\r\n                                .usingOAuth2(MainActivity.this , Collections.singleton(DriveScopes.DRIVE_FILE));\r\n\r\n                        credential.setSelectedAccount(googleSignInAccount.getAccount());\r\n\r\n                        Drive googleDriveService= new Drive.Builder(\r\n                                AndroidHttp.newCompatibleTransport(),\r\n                                new GsonFactory(),\r\n                                credential)\r\n                                .setApplicationName(&quot;My Drive Totorial&quot;)\r\n                                .build();\r\n                        driveServiceHelper = new DriveServiceHelper(googleDriveService);\r\n\r\n\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    \r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n                if (signatureView.isBitmapEmpty()) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Bitte unterschreiben&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    \r\n                    // I want to sign in to Google Drive now \r\n                     requestSignIn(); // but it doesn&#39;t work!\r\n                }\r\n            }\r\n        });\r\n\r\n\r\nWhat I want is that &quot;Sign in to client&quot; should not be possible while the &quot;activity is loading&quot;, but it should only be possible after &quot;submit&quot; has been clicked.\r\n\r\n\r\nWhen I debug the code, requestSignIn() is being called correctly, but onActivityResult is not called correctly.\r\n\r\nIn my code below, after doing\r\n\r\n`startActivityForResult(client.getSignInIntent(), 400)`\r\n\r\nit never reaches onActivityResult.\r\n\r\nI am a beginner with Android. I don&#39;t underestand where is the problem? Do you have any idea?!\r\n\r\nThanks in advance\r\n\r\n++++UPDATE 18.04.2023+++\r\n\r\nin the mainActivity worked the program without any Problemm as intended\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private Button btnSubmit;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnSubmit = findViewById(R.id.submit);\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                requestSignIn(); //it works correctly\r\n            }\r\n        });\r\n    }\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n        // I see ++++startActivityForResult+++\r\n        Toast.makeText(this, &quot; ++++startActivityForResult+++&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // I see +++++++++++onActivityResult+++++++++\r\n        Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }\r\nwhen I take the same Code to SecondActivity, it doesn&#39;t work.\r\n\r\n    public class SecondActivity extends AppCompatActivity {\r\n    private Button btnSubmit;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnSubmit = findViewById(R.id.submit);\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                requestSignIn(); // it doesn&#39;t work!!!!\r\n            }\r\n        });\r\n    }\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n        // I see ++startActivityForResult++\r\n        Toast.makeText(this, &quot; ++startActivityForResult++&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // But here that shows no ++++++++++onActivityResult+++++++++\r\n        Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }","title":"onActivityResult not called after click the button (using Google Drive API)","body":"<p>I use the following link to use the Google Drive API to upload a file to Drive:\n<a href=\"https://www.youtube.com/watch?v=rznYp43KLRc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rznYp43KLRc</a></p>\n<p>When I call requestSignIn() in onCreate, it works correctly. But when I call it in setOnClickListener, it doesn't work!</p>\n<p>My code looks like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    // When I call requestSignIn here it works correctly \n    // requestSignIn();\n}\n\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n}\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n\nprivate void handleSignInIntent(Intent data) {\n    GoogleSignIn.getSignedInAccountFromIntent(data)\n            .addOnSuccessListener(new OnSuccessListener&lt;GoogleSignInAccount&gt;() {\n                @Override\n                public void onSuccess(GoogleSignInAccount googleSignInAccount) {\n                    GoogleAccountCredential credential = GoogleAccountCredential\n                            .usingOAuth2(MainActivity.this , Collections.singleton(DriveScopes.DRIVE_FILE));\n\n                    credential.setSelectedAccount(googleSignInAccount.getAccount());\n\n                    Drive googleDriveService= new Drive.Builder(\n                            AndroidHttp.newCompatibleTransport(),\n                            new GsonFactory(),\n                            credential)\n                            .setApplicationName(&quot;My Drive Totorial&quot;)\n                            .build();\n                    driveServiceHelper = new DriveServiceHelper(googleDriveService);\n\n\n\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n\n                }\n            });\n}\n\n\nbtnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            \n            if (signatureView.isBitmapEmpty()) {\n                Toast.makeText(getApplicationContext(), &quot;Bitte unterschreiben&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                \n                // I want to sign in to Google Drive now \n                 requestSignIn(); // but it doesn't work!\n            }\n        }\n    });\n</code></pre>\n<p>What I want is that &quot;Sign in to client&quot; should not be possible while the &quot;activity is loading&quot;, but it should only be possible after &quot;submit&quot; has been clicked.</p>\n<p>When I debug the code, requestSignIn() is being called correctly, but onActivityResult is not called correctly.</p>\n<p>In my code below, after doing</p>\n<p><code>startActivityForResult(client.getSignInIntent(), 400)</code></p>\n<p>it never reaches onActivityResult.</p>\n<p>I am a beginner with Android. I don't underestand where is the problem? Do you have any idea?!</p>\n<p>Thanks in advance</p>\n<p>++++UPDATE 18.04.2023+++</p>\n<p>in the mainActivity worked the program without any Problemm as intended</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate Button btnSubmit;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnSubmit = findViewById(R.id.submit);\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            requestSignIn(); //it works correctly\n        }\n    });\n}\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n    // I see ++++startActivityForResult+++\n    Toast.makeText(this, &quot; ++++startActivityForResult+++&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    // I see +++++++++++onActivityResult+++++++++\n    Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n</code></pre>\n<p>when I take the same Code to SecondActivity, it doesn't work.</p>\n<pre><code>public class SecondActivity extends AppCompatActivity {\nprivate Button btnSubmit;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnSubmit = findViewById(R.id.submit);\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            requestSignIn(); // it doesn't work!!!!\n        }\n    });\n}\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n    // I see ++startActivityForResult++\n    Toast.makeText(this, &quot; ++startActivityForResult++&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    // But here that shows no ++++++++++onActivityResult+++++++++\n    Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-gradle-plugin"],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681977007,"creation_date":1681089913,"question_id":75973714,"body_markdown":"I would like to start an app but I get the error message \r\n\r\n    Execution failed for task &#39;:app:extractDeepLinksDebug&#39;.\r\n    &gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5710727a\r\n\r\nI had a look at the answer here https://stackoverflow.com/questions/68500889/unable-to-make-field-private-final-java-lang-string-java-io-file-path-accessible but my Java SKD version 19 and grandle 7.6.1 should be compatible according to https://docs.gradle.org/current/userguide/compatibility.html.\r\n\r\nCan anyone think about a reason as to why I am getting this error and how to tackle it?\r\n\r\nHere is the build.gradle file\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            def nav_version = &quot;2.3.0&quot;\r\n            classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAnd here the gradle-wrapper.properties file\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\n**Reminder**: I am still having this problem. Does anyone have a suggestion as to why it occurs and how to tackle it. I&#39;ll appreciate every comment.","title":"Unable to make field private final java.lang.String java.io.File.path accessible altough Java and gradle version are compatible","body":"<p>I would like to start an app but I get the error message</p>\n<pre><code>Execution failed for task ':app:extractDeepLinksDebug'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5710727a\n</code></pre>\n<p>I had a look at the answer here <a href=\"https://stackoverflow.com/questions/68500889/unable-to-make-field-private-final-java-lang-string-java-io-file-path-accessible\">Unable to make field private final java.lang.String java.io.File.path accessible</a> but my Java SKD version 19 and grandle 7.6.1 should be compatible according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a>.</p>\n<p>Can anyone think about a reason as to why I am getting this error and how to tackle it?</p>\n<p>Here is the build.gradle file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        def nav_version = &quot;2.3.0&quot;\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And here the gradle-wrapper.properties file</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p><strong>Reminder</strong>: I am still having this problem. Does anyone have a suggestion as to why it occurs and how to tackle it. I'll appreciate every comment.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","reactive"],"comments":[{"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"score":1,"creation_date":1681550334,"post_id":76021314,"comment_id":134077003,"body_markdown":"@Hulk it returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so I don&#39;t think that is the problem","body":"@Hulk it returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so I don&#39;t think that is the problem"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1681554590,"post_id":76021314,"comment_id":134077448,"body_markdown":"you need to &quot;reach into&quot; and flatten out content of mono&#39;s for it to force computation. Instead of Flux&lt;Mono&lt;Void&gt;&gt; you want to create Flux&lt;Void&gt;. Look into Flux#concat","body":"you need to &quot;reach into&quot; and flatten out content of mono&#39;s for it to force computation. Instead of Flux&lt;Mono&lt;Void&gt;&gt; you want to create Flux&lt;Void&gt;. Look into Flux#concat"}],"answers":[{"tags":[],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681976843,"creation_date":1681976843,"answer_id":76061690,"question_id":76021314,"body_markdown":"Using Flux.concat() fixed issues that I was having, now code from the question would look something like this:\r\n\r\n```\r\nList&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\r\n\r\nfor (String s : comment.getReplyCommentIds()) {\r\n    monos.add(deleteCommentReply(s));\r\n}\r\n\r\nFlux&lt;Void&gt; deleteReply = Flux.concat(monos);\r\nreturn deleteReply.then(finalDelete(id, comment));\r\n```\r\n\r\nUsing concat all the nested Monos execute.","title":"Why doesn&#39;t embedded Mono execute?","body":"<p>Using Flux.concat() fixed issues that I was having, now code from the question would look something like this:</p>\n<pre><code>List&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\n\nfor (String s : comment.getReplyCommentIds()) {\n    monos.add(deleteCommentReply(s));\n}\n\nFlux&lt;Void&gt; deleteReply = Flux.concat(monos);\nreturn deleteReply.then(finalDelete(id, comment));\n</code></pre>\n<p>Using concat all the nested Monos execute.</p>\n"}],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76061690,"answer_count":1,"score":1,"last_activity_date":1681976843,"creation_date":1681549657,"question_id":76021314,"body_markdown":"I have a function:\r\n```\r\nprivate Mono&lt;Void&gt; deleteCommentReply(String id) {\r\n    System.out.println(&quot;YES&quot;);\r\n    return this.getCommentById(id).flatMap(comment -&gt; {\r\n        System.out.println(&quot;YES1&quot;);\r\n        // Does some other Mono call, and after them returns Mono.empty();\r\n        return Mono.empty();\r\n    });\r\n}\r\n```\r\n*getCommentById returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so that works fine.\r\n\r\nWith this code I call it:\r\n```\r\nList&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\r\nfor (String s : comment.getReplyCommentIds()) {\r\n     monos.add(deleteCommentReply(s));\r\n}\r\n\r\nFlux&lt;Mono&lt;Void&gt;&gt; deleteReply = Flux.fromIterable(monos);\r\n\r\nreturn deleteReply.then(finalDelete(id, comment));\r\n```\r\nYES prints out the right number of times, but YES1 never prints. Why does embedded Mono never execute? How to fix it?\r\n\r\nAlso when I call .blockLast() before then, it does execute once successfully (YES and YES1 are printed and is removed from db). So the method itself works, the question is how to call it (and finalDelete() should be called after it is done)?","title":"Why doesn&#39;t embedded Mono execute?","body":"<p>I have a function:</p>\n<pre><code>private Mono&lt;Void&gt; deleteCommentReply(String id) {\n    System.out.println(&quot;YES&quot;);\n    return this.getCommentById(id).flatMap(comment -&gt; {\n        System.out.println(&quot;YES1&quot;);\n        // Does some other Mono call, and after them returns Mono.empty();\n        return Mono.empty();\n    });\n}\n</code></pre>\n<p>*getCommentById returns Mono, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so that works fine.</p>\n<p>With this code I call it:</p>\n<pre><code>List&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\nfor (String s : comment.getReplyCommentIds()) {\n     monos.add(deleteCommentReply(s));\n}\n\nFlux&lt;Mono&lt;Void&gt;&gt; deleteReply = Flux.fromIterable(monos);\n\nreturn deleteReply.then(finalDelete(id, comment));\n</code></pre>\n<p>YES prints out the right number of times, but YES1 never prints. Why does embedded Mono never execute? How to fix it?</p>\n<p>Also when I call .blockLast() before then, it does execute once successfully (YES and YES1 are printed and is removed from db). So the method itself works, the question is how to call it (and finalDelete() should be called after it is done)?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499095669,"post_id":44889041,"comment_id":76756490,"body_markdown":"Did you try `selectByIndex`?","body":"Did you try <code>selectByIndex</code>?"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499095932,"post_id":44889041,"comment_id":76756651,"body_markdown":"I tried selectByIndex and selectByValue but dint worked.","body":"I tried selectByIndex and selectByValue but dint worked."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499096335,"post_id":44889041,"comment_id":76756901,"body_markdown":"Try to use `getOptions()` and print it out to console in `for` loop. We&#39;ll see if Selenium finds these options in the first place","body":"Try to use <code>getOptions()</code> and print it out to console in <code>for</code> loop. We&#39;ll see if Selenium finds these options in the first place"},{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1499096459,"post_id":44889041,"comment_id":76756971,"body_markdown":"Please apply some kind of `wait` to actually let the operation happen.","body":"Please apply some kind of <code>wait</code> to actually let the operation happen."},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499097716,"post_id":44889041,"comment_id":76757683,"body_markdown":"@Rafa≈ÇLaskowski, used getOptions method to print text. Its printing  0 1 2 3 4 5 6 7 8  instead of 1 2 3 4 5 6 7 8 9. Please find my code below. List&lt;WebElement&gt; list = sel.getOptions();\n\t\tint size = list.size();\n\n\t\tfor (int i = 0; i &lt; size; i++) {\n\t\t\tString values = list.get(i).getText();\n\t\t\tSystem.out.println(values);\n\t\t}","body":"@Rafa≈ÇLaskowski, used getOptions method to print text. Its printing  0 1 2 3 4 5 6 7 8  instead of 1 2 3 4 5 6 7 8 9. Please find my code below. List&lt;WebElement&gt; list = sel.getOptions(); \t\tint size = list.size();  \t\tfor (int i = 0; i &lt; size; i++) { \t\t\tString values = list.get(i).getText(); \t\t\tSystem.out.println(values); \t\t}"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499102968,"post_id":44889041,"comment_id":76760149,"body_markdown":"I would try demouser123&#39;s approach. Try do add sleeps between select operations and if that helps - convert them to `ExpectedConditions`\n\nTry:\npublic void selAdults(String text) {\n            try{\n                Thread.sleep(5000);\n                Select selectAdults = new Select(adultsDropDown);\n                Thread.sleep(5000);\n                selectAdults.selectByVisibleText(text);\n           catch (InterruptedException e) {}\n    }","body":"I would try demouser123&#39;s approach. Try do add sleeps between select operations and if that helps - convert them to <code>ExpectedConditions</code>  Try: public void selAdults(String text) {             try{                 Thread.sleep(5000);                 Select selectAdults = new Select(adultsDropDown);                 Thread.sleep(5000);                 selectAdults.selectByVisibleText(text);            catch (InterruptedException e) {}     }"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499137160,"post_id":44889041,"comment_id":76770433,"body_markdown":"@Rafa≈ÇLaskowski, tried with above approach but still its not working.","body":"@Rafa≈ÇLaskowski, tried with above approach but still its not working."},{"owner":{"account_id":2697401,"reputation":5059,"user_id":2329061,"accept_rate":75,"display_name":"Buaban"},"score":1,"creation_date":1499144697,"post_id":44889041,"comment_id":76772255,"body_markdown":"According to your comment _Its printing 0 1 2 3 4 5 6 7 8_, I think there are 2 dropdowns. Can you click at the select? `adultsDropDown.click();`","body":"According to your comment <i>Its printing 0 1 2 3 4 5 6 7 8</i>, I think there are 2 dropdowns. Can you click at the select? <code>adultsDropDown.click();</code>"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499160520,"post_id":44889041,"comment_id":76781354,"body_markdown":"@Buaban, able to click and after clicking dropdown lists are displayed.","body":"@Buaban, able to click and after clicking dropdown lists are displayed."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499182667,"post_id":44889041,"comment_id":76796228,"body_markdown":"@BhanuPrakash What do you mean by `not working` and `I am stucked with dropdown`? What are your exact manual steps? Where are you stuck? Thanks","body":"@BhanuPrakash What do you mean by <code>not working</code> and <code>I am stucked with dropdown</code>? What are your exact manual steps? Where are you stuck? Thanks"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499223102,"post_id":44889041,"comment_id":76808738,"body_markdown":"@DebanjanB, Not working means selenium script is not selecting value from dropdown list and not throwing any exception also. I am stucked with this workflow.","body":"@DebanjanB, Not working means selenium script is not selecting value from dropdown list and not throwing any exception also. I am stucked with this workflow."}],"answers":[{"tags":[],"owner":{"account_id":28357528,"reputation":1,"user_id":21688037,"display_name":"Kannaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976676,"creation_date":1681976676,"answer_id":76061665,"question_id":44889041,"body_markdown":"selectAdults.selectByVisibleText(&quot;text&quot;);\r\n\r\ntext should be in double quotes\r\n\r\nselectAdults.selectByVisibleText(&quot;2&quot;)","title":"Select class in selenium webdriver is not working for dropdown","body":"<p>selectAdults.selectByVisibleText(&quot;text&quot;);</p>\n<p>text should be in double quotes</p>\n<p>selectAdults.selectByVisibleText(&quot;2&quot;)</p>\n"}],"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681976676,"creation_date":1499094899,"question_id":44889041,"body_markdown":"I am writing automation script for website and I am stuck with dropdown. Checked with all available solutions but no use. Please find below code snippet and html content for select tag. If any solution will help me to unblock from this.\r\n\r\nHtml content:\r\n\r\n    &lt;select id=&quot;Adults&quot; class=&quot;span span15&quot; tabindex=&quot;8&quot; name=&quot;adults&quot; size=&quot;1&quot;&gt;\r\n    &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;\r\n    &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;\r\n    &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;\r\n    &lt;option value=&quot;4&quot;&gt;4&lt;/option&gt;\r\n    &lt;option value=&quot;5&quot;&gt;5&lt;/option&gt;\r\n    &lt;option value=&quot;6&quot;&gt;6&lt;/option&gt;\r\n    &lt;option value=&quot;7&quot;&gt;7&lt;/option&gt;\r\n    &lt;option value=&quot;8&quot;&gt;8&lt;/option&gt;\r\n    &lt;option value=&quot;9&quot;&gt;9&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nJava code:\r\n\r\n        @FindBy(xpath = &quot;//select[@id=&#39;Adults&#39;]&quot;)\r\n    \tprivate WebElement adultsDropDown;\r\n    \r\n    \tpublic SearchFlightRoundTrip(WebDriver driver) {\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t\tthis.driver = driver;\r\n    \t}\r\n\r\n        public void selAdults(String text) {\r\n        \t\tSelect selectAdults = new Select(adultsDropDown);\r\n        \t    selectAdults.selectByVisibleText(text);\r\n    \t}\r\n\r\n        @Test\r\n    \tpublic void selNumAdults() {\r\n    \t\tsearchFlight.selAdults(&quot;2&quot;);\r\n    \t}\r\n\r\nAbove script runs without any error or exception but does not perform selection in dropdown. ","title":"Select class in selenium webdriver is not working for dropdown","body":"<p>I am writing automation script for website and I am stuck with dropdown. Checked with all available solutions but no use. Please find below code snippet and html content for select tag. If any solution will help me to unblock from this.</p>\n\n<p>Html content:</p>\n\n<pre><code>&lt;select id=\"Adults\" class=\"span span15\" tabindex=\"8\" name=\"adults\" size=\"1\"&gt;\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;option value=\"4\"&gt;4&lt;/option&gt;\n&lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;option value=\"6\"&gt;6&lt;/option&gt;\n&lt;option value=\"7\"&gt;7&lt;/option&gt;\n&lt;option value=\"8\"&gt;8&lt;/option&gt;\n&lt;option value=\"9\"&gt;9&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>    @FindBy(xpath = \"//select[@id='Adults']\")\n    private WebElement adultsDropDown;\n\n    public SearchFlightRoundTrip(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n        this.driver = driver;\n    }\n\n    public void selAdults(String text) {\n            Select selectAdults = new Select(adultsDropDown);\n            selectAdults.selectByVisibleText(text);\n    }\n\n    @Test\n    public void selNumAdults() {\n        searchFlight.selAdults(\"2\");\n    }\n</code></pre>\n\n<p>Above script runs without any error or exception but does not perform selection in dropdown. </p>\n"},{"tags":["java","debugging","gradle","intellij-idea","filenotfoundexception"],"comments":[{"owner":{"account_id":12730838,"reputation":503,"user_id":9247555,"display_name":"Bms bharadwaj"},"score":0,"creation_date":1681752753,"post_id":76036994,"comment_id":134104396,"body_markdown":"Have you installed the listed dependencies?","body":"Have you installed the listed dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":27298903,"reputation":11,"user_id":20816077,"display_name":"Rutger ter Heide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681807990,"creation_date":1681807990,"answer_id":76042624,"question_id":76036994,"body_markdown":"I deleted my project locally and cloned it again from Git. \r\nAfter loading it IntelliJ the debugger worked again.","title":"IntelliJ debugger Cannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;. What is going on?","body":"<p>I deleted my project locally and cloned it again from Git.\nAfter loading it IntelliJ the debugger worked again.</p>\n"}],"owner":{"account_id":27298903,"reputation":11,"user_id":20816077,"display_name":"Rutger ter Heide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76042624,"answer_count":1,"score":-1,"last_activity_date":1681976654,"creation_date":1681746689,"question_id":76036994,"body_markdown":"Whenever I debug an unit test in IntelliJ using the build in remote debugger, I get the following error:\r\n\r\n```\r\nCannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;\r\nurl= file:/Users/rutgerterheide/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.3.0/d044c784e41d026778693fb44a8026c1fd9a7506/jaxb-api.jar\r\n```\r\n\r\n\r\nI don&#39;t know what is going on and why IntelliJ keeps giving me this error. Does anyone know what could be causing this and how to fix it?\r\n\r\nWhen I look up the path in Finder I can see indeed that there is no `jaxb-api.jar`.\r\nNow I could add it manually but this is cached data so that doesn&#39;t make sense.\r\nI have tried deleting everything in the `/Users/rutgerterheide/.gradle/caches` folder and rebuilding but it didn&#39;t work.\r\nI have also tried switching to `JDK 1.8` in the project structure of IntelliJ but that gave me the same result.\r\n\r\nI use `Gradle 6.8` and `OpenJDK 11`. The project is in `Spring Boot` and I am running `MacOS 13.3.1 (22E261)`.\r\nMy `build.gradle` contains the following code which might be related (they are installed):\r\n\r\n\r\n```\r\n\r\n\r\nconfigurations {\r\n    saxon\r\n\r\n    compile.exclude group: &#39;stax&#39;, module: &#39;stax-api&#39;\r\n    compile.exclude group: &#39;com.sun.xml.bind&#39;, module: &#39;jaxb-impl&#39;\r\n\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.ws:jaxws-ri:2.3.3&quot;\r\n\r\n\r\n}\r\n```\r\n\r\nThis is my IntelliJ version information:\r\n```\r\nIntelliJ IDEA 2023.1 (Ultimate Edition)\r\nBuild #IU-231.8109.175, built on March 28, 2023\r\nRuntime version: 17.0.6+10-b829.5 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 13.3.1\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 2048M\r\nCores: 10\r\nRegistry:\r\ndebugger.new.tool.window.layout=true\r\nide.experimental.ui=true\r\neditor.minimap.enabled=true\r\n\r\nNon-Bundled Plugins:\r\ncom.jetbrains.jax.ws (231.8109.90)\r\ncom.intellij.bigdatatools (231.8109.175)\r\naws.toolkit (1.64-231)\r\n\r\nKotlin: 231-1.8.20-IJ8109.175\r\n```\r\n\r\nI just don&#39;t expect it to fail and debug the test as usual.","title":"IntelliJ debugger Cannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;. What is going on?","body":"<p>Whenever I debug an unit test in IntelliJ using the build in remote debugger, I get the following error:</p>\n<pre><code>Cannot find local variable 'FileNotFoundException762_DebugLabel'\nurl= file:/Users/rutgerterheide/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.3.0/d044c784e41d026778693fb44a8026c1fd9a7506/jaxb-api.jar\n</code></pre>\n<p>I don't know what is going on and why IntelliJ keeps giving me this error. Does anyone know what could be causing this and how to fix it?</p>\n<p>When I look up the path in Finder I can see indeed that there is no <code>jaxb-api.jar</code>.\nNow I could add it manually but this is cached data so that doesn't make sense.\nI have tried deleting everything in the <code>/Users/rutgerterheide/.gradle/caches</code> folder and rebuilding but it didn't work.\nI have also tried switching to <code>JDK 1.8</code> in the project structure of IntelliJ but that gave me the same result.</p>\n<p>I use <code>Gradle 6.8</code> and <code>OpenJDK 11</code>. The project is in <code>Spring Boot</code> and I am running <code>MacOS 13.3.1 (22E261)</code>.\nMy <code>build.gradle</code> contains the following code which might be related (they are installed):</p>\n<pre><code>\n\nconfigurations {\n    saxon\n\n    compile.exclude group: 'stax', module: 'stax-api'\n    compile.exclude group: 'com.sun.xml.bind', module: 'jaxb-impl'\n\n}\n\n\ndependencies {\n\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.0&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.0&quot;\n    implementation &quot;com.sun.xml.ws:jaxws-ri:2.3.3&quot;\n\n\n}\n</code></pre>\n<p>This is my IntelliJ version information:</p>\n<pre><code>IntelliJ IDEA 2023.1 (Ultimate Edition)\nBuild #IU-231.8109.175, built on March 28, 2023\nRuntime version: 17.0.6+10-b829.5 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 13.3.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 10\nRegistry:\ndebugger.new.tool.window.layout=true\nide.experimental.ui=true\neditor.minimap.enabled=true\n\nNon-Bundled Plugins:\ncom.jetbrains.jax.ws (231.8109.90)\ncom.intellij.bigdatatools (231.8109.175)\naws.toolkit (1.64-231)\n\nKotlin: 231-1.8.20-IJ8109.175\n</code></pre>\n<p>I just don't expect it to fail and debug the test as usual.</p>\n"},{"tags":["java","maven","maven-plugin","junit4"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1473931558,"post_id":24278423,"comment_id":66331302,"body_markdown":"have you solved this?","body":"have you solved this?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1403073242,"creation_date":1403073242,"answer_id":24278557,"question_id":24278423,"body_markdown":"The loading of the POM file does not look good:\r\n\r\nThe following code is from the examples:\r\n\r\n    File pom = rule.getTestFile( &quot;src/test/resources/unit/project-to-test/pom.xml&quot; );\r\n\r\nand this is what you have:\r\n\r\n    File pom = new File(POM_FILE_NAME);\r\n\r\nApart from this you have a different location which looks like this:\r\n\r\n    private static final String POM_FILE_NAME = &quot;/path/to/pom.xml&quot;; \r\n\r\nBut the location of the pom file should be:\r\n\r\n    private static final String POM_FILE_NAME = &quot;src/test/resources/pom.xml&quot;; \r\n","title":"How to test a maven plugin using JUnit4","body":"<p>The loading of the POM file does not look good:</p>\n\n<p>The following code is from the examples:</p>\n\n<pre><code>File pom = rule.getTestFile( \"src/test/resources/unit/project-to-test/pom.xml\" );\n</code></pre>\n\n<p>and this is what you have:</p>\n\n<pre><code>File pom = new File(POM_FILE_NAME);\n</code></pre>\n\n<p>Apart from this you have a different location which looks like this:</p>\n\n<pre><code>private static final String POM_FILE_NAME = \"/path/to/pom.xml\"; \n</code></pre>\n\n<p>But the location of the pom file should be:</p>\n\n<pre><code>private static final String POM_FILE_NAME = \"src/test/resources/pom.xml\"; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501010170,"creation_date":1501010170,"answer_id":45311793,"question_id":24278423,"body_markdown":"Also experiencing this issue. The mojo rule fails, because it instantiates a an anonymous implementation of `AbstractMojoTestCase`, which then looks for which then attempts to create an input stream loading data here: `InputStream is = getClass().getResourceAsStream( &quot;/&quot; + getPluginDescriptorLocation() );`. This (`getPluginDescriptorLocation()`) is just a hard-coded file string `&quot;META-INF/maven/plugin.xml&quot;`.\r\n\r\nI resolved this by adding the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m not sure why this fixes the issue. The file still doesn&#39;t exist (I&#39;ve checked both original sources and `target` directories and it&#39;s not in either). So additional searching will be needed to figure out why this works.\r\n\r\nHere&#39;s my dependencies for reference.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.twdata.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mojo-executor&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aether-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--Test Dependencies--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How to test a maven plugin using JUnit4","body":"<p>Also experiencing this issue. The mojo rule fails, because it instantiates a an anonymous implementation of <code>AbstractMojoTestCase</code>, which then looks for which then attempts to create an input stream loading data here: <code>InputStream is = getClass().getResourceAsStream( \"/\" + getPluginDescriptorLocation() );</code>. This (<code>getPluginDescriptorLocation()</code>) is just a hard-coded file string <code>\"META-INF/maven/plugin.xml\"</code>.</p>\n\n<p>I resolved this by adding the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'm not sure why this fixes the issue. The file still doesn't exist (I've checked both original sources and <code>target</code> directories and it's not in either). So additional searching will be needed to figure out why this works.</p>\n\n<p>Here's my dependencies for reference.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.twdata.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;mojo-executor&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n  &lt;version&gt;3.5&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\n  &lt;artifactId&gt;aether-api&lt;/artifactId&gt;\n  &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--Test Dependencies--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.12&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9651457,"reputation":247,"user_id":7162494,"display_name":"D. Kellenberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528990814,"creation_date":1528990814,"answer_id":50861280,"question_id":24278423,"body_markdown":"Got the same issue. Solved it by adding the right dependencies. Important is that the dependencies marked as provided by the harness maven plugin are added to test scope:\r\n\r\n    &lt;properties&gt;\r\n      &lt;dependency.maven.version&gt;3.3.9&lt;/dependency.maven.version&gt;\r\n      &lt;!-- and others --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;!-- your dependencies --&gt;\r\n\r\n      &lt;!-- maven plugin dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n \r\n      &lt;!-- test dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- provided maven dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nAnd your Test class should look like\r\n\r\n    public class YourMojoTest {\r\n\r\n      @Rule\r\n      public MojoRule rule = new MojoRule();\r\n\r\n      @Test\r\n      public void shouldExecuteMojo() throws Exception {\r\n        // given\r\n        File testPom = new File(PlexusTestCase.getBasedir(), &quot;src/test/resources/pom.xml&quot;);\r\n\r\n        final Properties properties = new Properties();\r\n        final MavenProject mavenProject = Mockito.mock(MavenProject.class);\r\n        Mockito.when(mavenProject.getProperties()).thenReturn(properties);\r\n\r\n        // when\r\n        YourMojo mojo = (YourMojo) rule.lookupMojo(&quot;fetch&quot;, testPom);\r\n        assertNotNull(mojo);\r\n        mojo.setProject(mavenProject);\r\n        mojo.execute();\r\n\r\n        // then\r\n        // do your tests ...\r\n      }\r\n    }\r\n\r\nHope this helps for other struggling with the same issue","title":"How to test a maven plugin using JUnit4","body":"<p>Got the same issue. Solved it by adding the right dependencies. Important is that the dependencies marked as provided by the harness maven plugin are added to test scope:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;dependency.maven.version&gt;3.3.9&lt;/dependency.maven.version&gt;\n  &lt;!-- and others --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;!-- your dependencies --&gt;\n\n  &lt;!-- maven plugin dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- test dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- provided maven dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And your Test class should look like</p>\n\n<pre><code>public class YourMojoTest {\n\n  @Rule\n  public MojoRule rule = new MojoRule();\n\n  @Test\n  public void shouldExecuteMojo() throws Exception {\n    // given\n    File testPom = new File(PlexusTestCase.getBasedir(), \"src/test/resources/pom.xml\");\n\n    final Properties properties = new Properties();\n    final MavenProject mavenProject = Mockito.mock(MavenProject.class);\n    Mockito.when(mavenProject.getProperties()).thenReturn(properties);\n\n    // when\n    YourMojo mojo = (YourMojo) rule.lookupMojo(\"fetch\", testPom);\n    assertNotNull(mojo);\n    mojo.setProject(mavenProject);\n    mojo.execute();\n\n    // then\n    // do your tests ...\n  }\n}\n</code></pre>\n\n<p>Hope this helps for other struggling with the same issue</p>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976595,"creation_date":1681976595,"answer_id":76061654,"question_id":24278423,"body_markdown":"Got this fixed by adding maven compatability library:-\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;","title":"How to test a maven plugin using JUnit4","body":"<p>Got this fixed by adding maven compatability library:-</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2683,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681976595,"creation_date":1403072793,"question_id":24278423,"body_markdown":"I&#39;m writing a maven plugin and want to write some JUnit tests. I followed the description in [Maven Plugin Testing][1]. Unfortunately I keep getting an Exception during set-up of the test, before I can configure or invoke anything.\r\n\r\nThis is my JUnit test code:\r\n\r\n    public class ResetMojoTest {\r\n    \t\r\n    \tprivate static final String POM_FILE_NAME = &quot;/path/to/pom.xml&quot;; \r\n    \r\n    \t@Rule\r\n    \tpublic MojoRule rule = new MojoRule();\r\n    \r\n        @Test\r\n        public void testSomething()\r\n            throws Exception\r\n        {\r\n            File pom = new File(POM_FILE_NAME);\r\n            Assert.assertNotNull( pom );\r\n            Assert.assertTrue( pom.exists() );\r\n    \r\n            ResetMojo resetMojo = (ResetMojo) rule.lookupMojo( &quot;touch&quot;, pom );\r\n            Assert.assertNotNull( resetMojo );\r\n            resetMojo.execute();\r\n        }\r\n        \r\n    }\r\n\r\nAnd this is the stack trace of the exception:\r\n\r\n    java.io.IOException: Stream closed\r\n    \tat java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:134)\r\n    \tat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:237)\r\n    \tat org.apache.commons.io.input.BOMInputStream.getBOM(BOMInputStream.java:175)\r\n    \tat org.apache.commons.io.input.BOMInputStream.getBOMCharsetName(BOMInputStream.java:201)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.doRawStream(XmlStreamReader.java:412)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:206)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:171)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:140)\r\n    \tat org.apache.maven.plugin.testing.AbstractMojoTestCase.setUp(AbstractMojoTestCase.java:119)\r\n    \tat org.apache.maven.plugin.testing.MojoRule$2.evaluate(MojoRule.java:299)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\r\nAny ideas about how to get this working?\r\n\r\n\r\n\r\n  [1]: http://maven.apache.org/plugin-testing/maven-plugin-testing-harness/getting-started/index.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to test a maven plugin using JUnit4","body":"<p>I'm writing a maven plugin and want to write some JUnit tests. I followed the description in <a href=\"http://maven.apache.org/plugin-testing/maven-plugin-testing-harness/getting-started/index.html\" rel=\"noreferrer\">Maven Plugin Testing</a>. Unfortunately I keep getting an Exception during set-up of the test, before I can configure or invoke anything.</p>\n\n<p>This is my JUnit test code:</p>\n\n<pre><code>public class ResetMojoTest {\n\n    private static final String POM_FILE_NAME = \"/path/to/pom.xml\"; \n\n    @Rule\n    public MojoRule rule = new MojoRule();\n\n    @Test\n    public void testSomething()\n        throws Exception\n    {\n        File pom = new File(POM_FILE_NAME);\n        Assert.assertNotNull( pom );\n        Assert.assertTrue( pom.exists() );\n\n        ResetMojo resetMojo = (ResetMojo) rule.lookupMojo( \"touch\", pom );\n        Assert.assertNotNull( resetMojo );\n        resetMojo.execute();\n    }\n\n}\n</code></pre>\n\n<p>And this is the stack trace of the exception:</p>\n\n<pre><code>java.io.IOException: Stream closed\n    at java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:134)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:237)\n    at org.apache.commons.io.input.BOMInputStream.getBOM(BOMInputStream.java:175)\n    at org.apache.commons.io.input.BOMInputStream.getBOMCharsetName(BOMInputStream.java:201)\n    at org.apache.commons.io.input.XmlStreamReader.doRawStream(XmlStreamReader.java:412)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:206)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:171)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:140)\n    at org.apache.maven.plugin.testing.AbstractMojoTestCase.setUp(AbstractMojoTestCase.java:119)\n    at org.apache.maven.plugin.testing.MojoRule$2.evaluate(MojoRule.java:299)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n</code></pre>\n\n<p>Any ideas about how to get this working?</p>\n"},{"tags":["java","mysql","spring-boot","maven","backend"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681457723,"post_id":76011805,"comment_id":134062401,"body_markdown":"Remove not relevant database dependencies. For now you have three of them. JPA auto configuration can only pick one data source/driver.","body":"Remove not relevant database dependencies. For now you have three of them. JPA auto configuration can only pick one data source/driver."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681454752,"creation_date":1681454752,"answer_id":76012264,"question_id":76011805,"body_markdown":"You are using outdated MySQL JDBC jar. \r\n\r\nReplace the dependency on `mysql:mysql-connector-java`\r\n\r\nwith the following: (try without version first)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p>You are using outdated MySQL JDBC jar.</p>\n<p>Replace the dependency on <code>mysql:mysql-connector-java</code></p>\n<p>with the following: (try without version first)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8681711,"reputation":81,"user_id":6497346,"display_name":"The Rocket"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681699692,"creation_date":1681469163,"answer_id":76014290,"question_id":76011805,"body_markdown":"Please import the below dependency in pom.xml and configure the datasource programmatically and it worked for me. Moreover, remove all the unwanted dependencies in the pom.xml\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n   \r\n\r\n        import javax.sql.DataSource;\r\n\r\n        import   org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\r\n        import org.springframework.boot.context.properties.ConfigurationProperties;\r\n        import org.springframework.boot.jdbc.DataSourceBuilder;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        \r\n        \r\n        @Configuration\r\n        public class MySqlConfiguration {\r\n        \r\n        \t@Bean(name = &quot;mySQL&quot;)\r\n        \t@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n        \tpublic DataSource dataSource() {\r\n        \t\t\r\n        \t\treturn DataSourceBuilder.create().build();\r\n        \t}\r\n        \r\n        // Below is to initialise jpa properties if needed\r\n        \t@Bean\r\n        \t@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\r\n        \tpublic JpaProperties jpaProperties() {\r\n        \t\tJpaProperties properties = new JpaProperties();\r\n        \t\treturn properties;\r\n        \t}\r\n        \r\n        }","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p>Please import the below dependency in pom.xml and configure the datasource programmatically and it worked for me. Moreover, remove all the unwanted dependencies in the pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.27&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    import javax.sql.DataSource;\n\n    import   org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\n    import org.springframework.boot.context.properties.ConfigurationProperties;\n    import org.springframework.boot.jdbc.DataSourceBuilder;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    \n    @Configuration\n    public class MySqlConfiguration {\n    \n        @Bean(name = &quot;mySQL&quot;)\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n        public DataSource dataSource() {\n            \n            return DataSourceBuilder.create().build();\n        }\n    \n    // Below is to initialise jpa properties if needed\n        @Bean\n        @ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\n        public JpaProperties jpaProperties() {\n            JpaProperties properties = new JpaProperties();\n            return properties;\n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19327507,"reputation":83,"user_id":14129823,"display_name":"dhruv singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681976400,"creation_date":1681976400,"answer_id":76061628,"question_id":76011805,"body_markdown":"\r\n\t\t\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.46&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nActually it was the version problem i tried this version of mysql-connector-java dependency and it magically worked, I think the higher version is unstable for use.\r\n\r\n","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.46&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Actually it was the version problem i tried this version of mysql-connector-java dependency and it magically worked, I think the higher version is unstable for use.</p>\n"}],"owner":{"account_id":19327507,"reputation":83,"user_id":14129823,"display_name":"dhruv singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76061628,"answer_count":3,"score":1,"last_activity_date":1681976400,"creation_date":1681449545,"question_id":76011805,"body_markdown":"**Pom.xml**\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-session-starter-data-jpa&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;!--\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t&lt;dependency&gt;--&gt;\r\n\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.16.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.properties**\r\n\r\n```\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/restapi\r\nspring.datasource.username=root\r\nspring.datasource.password=my_password\r\n\r\n```\r\n\r\n**problem mentioned in console after running the application**\r\n\r\n```\r\n\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 21 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:463) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:357) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 36 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nI have tried many methods available online but none seem to be working, I. have previously used H2 database and there was no problem in using that.\r\nI have downloaded  the mysql database on my system and created the database with named **restapi** on it console. \r\n ","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p><strong>Pom.xml</strong></p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-session-starter-data-jpa&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;!--    &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--    &lt;dependency&gt;--&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>\nspring.datasource.url=jdbc:mysql://localhost:3306/restapi\nspring.datasource.username=root\nspring.datasource.password=my_password\n\n</code></pre>\n<p><strong>problem mentioned in console after running the application</strong></p>\n<pre><code>\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.10.jar:2.7.10]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 21 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 35 common frames omitted\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:463) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:357) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 36 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>I have tried many methods available online but none seem to be working, I. have previously used H2 database and there was no problem in using that.\nI have downloaded  the mysql database on my system and created the database with named <strong>restapi</strong> on it console.</p>\n"},{"tags":["java","arraylist","game-development","procedural-generation"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1681971157,"post_id":76060984,"comment_id":134143004,"body_markdown":"I&#39;d probably just put that list behind your own abstraction that works with negative indices. Then, your abstraction could translate between those and the zero-based ones of the `ArrayList` it contains. Maybe that would mean storing two lists - one for each direction, I don&#39;t know. I do think the key thing though is creating the abstraction that you want: how do _you_ want to work with these coordinates?","body":"I&#39;d probably just put that list behind your own abstraction that works with negative indices. Then, your abstraction could translate between those and the zero-based ones of the <code>ArrayList</code> it contains. Maybe that would mean storing two lists - one for each direction, I don&#39;t know. I do think the key thing though is creating the abstraction that you want: how do <i>you</i> want to work with these coordinates?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976089,"creation_date":1681971066,"answer_id":76061063,"question_id":76060984,"body_markdown":"You could do index manipulation. Basically, you could make a list which alternates between a positive and negative element.\r\n\r\nIf `i` is an index in your application, you can calculate the actual index using `i&gt;=0 ? i*2 : i*2+1`. However, this would require extra memory for possible unused coordinates in the other direction. Also, you would need to store the size of both the positive and negative part distinctively:\r\n\r\n```java\r\npublic class BidirectionalList&lt;T&gt;{\r\n    private List&lt;T&gt; data=new ArrayList&lt;&gt;();\r\n    private int posSize=0;\r\n    private int negSize=0;\r\n    public void insert(T value, boolean positive){\r\n        if(positive){\r\n            if(posSize&gt;negSize){\r\n                data.add(value);//add positive element \r\n                data.add(null);//add negative placeholder \r\n            }else{\r\n                data.set((posSize+1)*2, value);//set position\r\n            }\r\n        } else {\r\n            if(negSize&gt;posSize){\r\n                data.add(null);//add positive placeholder \r\n                data.add(value);//add negative element \r\n            }else{\r\n                data.set((negSize+1)*2+1, value);//set position\r\n            }\r\n        }\r\n    }\r\n    public T get(int i){\r\n        if(!containsIndex(i)){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        return data.get(i&gt;=0 ? i*2 : i*2+1);\r\n    }\r\n    public boolean containsIndex(int i){\r\n        return i&gt;=0 ? posSize&gt;=i : negSize&gt; -i;\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that this approach loses a bit of locality and uses unnecessary space in case the positive and negative size are different.\r\n\r\nAlternatively, you could create your own data structure with an array growing in both directions. That would require you to save an offset. That approach would not waste as much space if there is a significant difference between the positive and negative size.\r\n\r\n```java\r\npublic class BidirectionalList&lt;T&gt;{\r\n    private static final int INITIAL_SIZE = 32;//how big the array is supposed to be by default\r\n    private static final int GROWTH_FACTOR = 1.25;//how much the array should be increased if it runs out of space\r\n    private T[] data = (T[])new Object[INITIAL_SIZE];\r\n    private int origin = data.length/2;//position of semantic index 0\r\n    private int positiveLength = 0;//number of positive elements\r\n    private int negativeLength = 0;//number of negative elements\r\n    public void insert(T value, boolean positive){\r\n        int i;\r\n        if(positive){\r\n            i = positiveLength + origin;\r\n            if(i&gt;=data.length){//grow positively\r\n                data=Arrays.copyOf(data, (int)(data.length*GROWTH_FACTOR));//create copy with bigger size\r\n            }\r\n            positiveLength++;\r\n        }else{\r\n            i = origin - negativeLength - 1;\r\n            if(i&lt;0){//grow negatively\r\n                T[] newData = (T[]) newObject[(int)(data.length*GROWTH_FACTOR)]\r\n                int lengthDiff = newData.length-data.length;\r\n                System.arraycopy(data, 0, newData, lengthDiff, data.length);//copy elements over\r\n                origin+=lengthDiff;\r\n                data = newData;\r\n                i += lengthDiff;\r\n            }\r\n            negativeLength++;\r\n        }\r\n        data[i]=value;\r\n    }\r\n    public T get(int i){\r\n        if(!containsIndex(i)){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        return data[i+origin];\r\n    }\r\n    public boolean containsIndex(int i){\r\n        return i&gt;=0 ? i&lt;positiveLength : -i&lt;negativeLength;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis preserves locality _of the references_ as neighbouring elements are always next to each other.\r\n\r\nSince you want to implement a coordinate plane, I did not include inserting at arbitrary positions but only at the positive and negative ends. Also note that storing your whole coordinate plane might be memory intensive so you _might_ only want to store the part you are currently interested in.","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>You could do index manipulation. Basically, you could make a list which alternates between a positive and negative element.</p>\n<p>If <code>i</code> is an index in your application, you can calculate the actual index using <code>i&gt;=0 ? i*2 : i*2+1</code>. However, this would require extra memory for possible unused coordinates in the other direction. Also, you would need to store the size of both the positive and negative part distinctively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BidirectionalList&lt;T&gt;{\n    private List&lt;T&gt; data=new ArrayList&lt;&gt;();\n    private int posSize=0;\n    private int negSize=0;\n    public void insert(T value, boolean positive){\n        if(positive){\n            if(posSize&gt;negSize){\n                data.add(value);//add positive element \n                data.add(null);//add negative placeholder \n            }else{\n                data.set((posSize+1)*2, value);//set position\n            }\n        } else {\n            if(negSize&gt;posSize){\n                data.add(null);//add positive placeholder \n                data.add(value);//add negative element \n            }else{\n                data.set((negSize+1)*2+1, value);//set position\n            }\n        }\n    }\n    public T get(int i){\n        if(!containsIndex(i)){\n            throw new IndexOutOfBoundsException();\n        }\n        return data.get(i&gt;=0 ? i*2 : i*2+1);\n    }\n    public boolean containsIndex(int i){\n        return i&gt;=0 ? posSize&gt;=i : negSize&gt; -i;\n    }\n\n}\n</code></pre>\n<p>Note that this approach loses a bit of locality and uses unnecessary space in case the positive and negative size are different.</p>\n<p>Alternatively, you could create your own data structure with an array growing in both directions. That would require you to save an offset. That approach would not waste as much space if there is a significant difference between the positive and negative size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BidirectionalList&lt;T&gt;{\n    private static final int INITIAL_SIZE = 32;//how big the array is supposed to be by default\n    private static final int GROWTH_FACTOR = 1.25;//how much the array should be increased if it runs out of space\n    private T[] data = (T[])new Object[INITIAL_SIZE];\n    private int origin = data.length/2;//position of semantic index 0\n    private int positiveLength = 0;//number of positive elements\n    private int negativeLength = 0;//number of negative elements\n    public void insert(T value, boolean positive){\n        int i;\n        if(positive){\n            i = positiveLength + origin;\n            if(i&gt;=data.length){//grow positively\n                data=Arrays.copyOf(data, (int)(data.length*GROWTH_FACTOR));//create copy with bigger size\n            }\n            positiveLength++;\n        }else{\n            i = origin - negativeLength - 1;\n            if(i&lt;0){//grow negatively\n                T[] newData = (T[]) newObject[(int)(data.length*GROWTH_FACTOR)]\n                int lengthDiff = newData.length-data.length;\n                System.arraycopy(data, 0, newData, lengthDiff, data.length);//copy elements over\n                origin+=lengthDiff;\n                data = newData;\n                i += lengthDiff;\n            }\n            negativeLength++;\n        }\n        data[i]=value;\n    }\n    public T get(int i){\n        if(!containsIndex(i)){\n            throw new IndexOutOfBoundsException();\n        }\n        return data[i+origin];\n    }\n    public boolean containsIndex(int i){\n        return i&gt;=0 ? i&lt;positiveLength : -i&lt;negativeLength;\n    }\n\n}\n</code></pre>\n<p>This preserves locality <em>of the references</em> as neighbouring elements are always next to each other.</p>\n<p>Since you want to implement a coordinate plane, I did not include inserting at arbitrary positions but only at the positive and negative ends. Also note that storing your whole coordinate plane might be memory intensive so you <em>might</em> only want to store the part you are currently interested in.</p>\n"},{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681971443,"creation_date":1681971443,"answer_id":76061099,"question_id":76060984,"body_markdown":"Maybe you can use Hashmap instead of ArrayList:\r\n\r\n\r\n    public class Quadrant {\r\n        private HashMap&lt;String, Object&gt; map;\r\n    \r\n        public Quadrant () {\r\n            map = new HashMap&lt;String, Object&gt;();\r\n        }\r\n    \r\n        public void add(int x, int y, Object obj) {\r\n            String key = x + &quot;,&quot; + y;\r\n            map.put(key, obj);\r\n        }\r\n    \r\n        public Object get(int x, int y) {\r\n            String key = x + &quot;,&quot; + y;\r\n            return map.get(key);\r\n        }\r\n    }\r\n\r\nand usage:\r\n\r\n    Quadrant q = new Quadrant();\r\n    q.add(3, -5, myObject);\r\n    Object obj = q.get(3, -5);\r\n\r\n","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>Maybe you can use Hashmap instead of ArrayList:</p>\n<pre><code>public class Quadrant {\n    private HashMap&lt;String, Object&gt; map;\n\n    public Quadrant () {\n        map = new HashMap&lt;String, Object&gt;();\n    }\n\n    public void add(int x, int y, Object obj) {\n        String key = x + &quot;,&quot; + y;\n        map.put(key, obj);\n    }\n\n    public Object get(int x, int y) {\n        String key = x + &quot;,&quot; + y;\n        return map.get(key);\n    }\n}\n</code></pre>\n<p>and usage:</p>\n<pre><code>Quadrant q = new Quadrant();\nq.add(3, -5, myObject);\nObject obj = q.get(3, -5);\n</code></pre>\n"}],"owner":{"account_id":24227373,"reputation":1,"user_id":21685557,"display_name":"chewies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681976089,"creation_date":1681970120,"question_id":76060984,"body_markdown":"Trying to code procedural generation for a game for the first time but I&#39;m having trouble with implementing positive and negative coordinates on a 2D plane.\r\n\r\nRight now I have 4 ArrayLists representing each of the 4 quadrants but this feels inefficient and is also annoying to work with. Is there a way to get an ArrayList that can have negative indices, or am I just trying to make this the wrong way?","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>Trying to code procedural generation for a game for the first time but I'm having trouble with implementing positive and negative coordinates on a 2D plane.</p>\n<p>Right now I have 4 ArrayLists representing each of the 4 quadrants but this feels inefficient and is also annoying to work with. Is there a way to get an ArrayList that can have negative indices, or am I just trying to make this the wrong way?</p>\n"},{"tags":["java","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681882930,"post_id":76050981,"comment_id":134126618,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"score":0,"creation_date":1681975807,"post_id":76050981,"comment_id":134143802,"body_markdown":"added snap shot of my code.!! please click on the CODE hyperlink to view it","body":"added snap shot of my code.!! please click on the CODE hyperlink to view it"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682361684,"post_id":76050981,"comment_id":134200050,"body_markdown":"is the code reaching this method during execution, have you tried placing a debug point and checking that, is there any exception on the console","body":"is the code reaching this method during execution, have you tried placing a debug point and checking that, is there any exception on the console"}],"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681975911,"creation_date":1681881655,"question_id":76050981,"body_markdown":"ChromeBrower is not closing after the test execution\r\n\r\nPlease check the code in the attached picture [code][1] after the method code.!!\r\n\r\nPlease help me to resolve this.!! Thanks in advance\r\n\r\nMy Chrome driver should be closed after test execution\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24kzM.png","title":"Web driver is not closed even after using driver.quit()","body":"<p>ChromeBrower is not closing after the test execution</p>\n<p>Please check the code in the attached picture <a href=\"https://i.stack.imgur.com/24kzM.png\" rel=\"nofollow noreferrer\">code</a> after the method code.!!</p>\n<p>Please help me to resolve this.!! Thanks in advance</p>\n<p>My Chrome driver should be closed after test execution</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664382925,"post_id":73879871,"comment_id":130460831,"body_markdown":"It looks like you don&#39;t use Maven 3.8.X or even higher than 3.2.5?... Try on command line first..second which version of Eclipse do you use? Do you use an up-to-date version?","body":"It looks like you don&#39;t use Maven 3.8.X or even higher than 3.2.5?... Try on command line first..second which version of Eclipse do you use? Do you use an up-to-date version?"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664362107,"creation_date":1664362107,"answer_id":73880187,"question_id":73879871,"body_markdown":"You may **indirectly** addressing a `maven-clean-plugin` different than 3.2.0.\r\n\r\nPlease inspect your dependencies tree by `mvn dependency:tree` and find out if this is your real issue.","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>You may <strong>indirectly</strong> addressing a <code>maven-clean-plugin</code> different than 3.2.0.</p>\n<p>Please inspect your dependencies tree by <code>mvn dependency:tree</code> and find out if this is your real issue.</p>\n"},{"tags":[],"owner":{"account_id":16212572,"reputation":55,"user_id":11706125,"display_name":"Liyang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681975706,"creation_date":1681975706,"answer_id":76061542,"question_id":73879871,"body_markdown":"my case is network block when download jar when work from office network, need setup proxy\r\n\r\nrefer to this link https://maven.apache.org/guides/mini/guide-proxies.html\r\n\r\nafter create settings.xml in C:\\Users\\{username}\\.m2 folder\r\nthen update proxy information in settings.xml\r\n\r\nthen it success","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>my case is network block when download jar when work from office network, need setup proxy</p>\n<p>refer to this link <a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-proxies.html</a></p>\n<p>after create settings.xml in C:\\Users{username}.m2 folder\nthen update proxy information in settings.xml</p>\n<p>then it success</p>\n"}],"owner":{"account_id":2749252,"reputation":311,"user_id":2368975,"display_name":"user2368975"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1681975706,"creation_date":1664360671,"question_id":73879871,"body_markdown":"Need your kind help here. I am trying a very simple springweb application from Eclipse, but When I try Run As-&gt;Maven clean, I am getting below error.\r\n\r\n```\r\n Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean ---requires MAVEN 3.2.5.\r\n```\r\n\r\nMY Maven Version is: 3.8.6, however I have read in the maven-clean-plugin:3.2.0: documentation that, it supports Maven:3.2.5+\r\n","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>Need your kind help here. I am trying a very simple springweb application from Eclipse, but When I try Run As-&gt;Maven clean, I am getting below error.</p>\n<pre><code> Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean ---requires MAVEN 3.2.5.\n</code></pre>\n<p>MY Maven Version is: 3.8.6, however I have read in the maven-clean-plugin:3.2.0: documentation that, it supports Maven:3.2.5+</p>\n"},{"tags":["java","hibernate","jpa","nativequery"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1679052364,"post_id":75765038,"comment_id":133655787,"body_markdown":"What about setting other 2 parameters?","body":"What about setting other 2 parameters?"}],"owner":{"account_id":14008954,"reputation":81,"user_id":10118195,"display_name":"Aurora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681975559,"creation_date":1679040053,"question_id":75765038,"body_markdown":"I want to execute a simple native query, but it does not work:\r\n```\r\nQuery query = entityManager.createNativeQuery(&quot;SELECT col1,col2,col3\r\nFROM table(schema.fn_name(?1,?2,?3))\r\nORDER BY col1,col2&quot;);\r\n\r\nquery.setParameter(1, 1193679);\r\nquery.setParameter(2, 1193679);\r\nquery.setParameter(3, 1193679);   \r\n\r\nresultList = query.getResultList();\r\n```\r\nIt&#39;s failing with the below error\r\n\r\n&gt;&quot;message&quot;:&quot;Unknown data type: ; SQL statement\r\norg.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n","title":"Unknown data type issue with native query","body":"<p>I want to execute a simple native query, but it does not work:</p>\n<pre><code>Query query = entityManager.createNativeQuery(&quot;SELECT col1,col2,col3\nFROM table(schema.fn_name(?1,?2,?3))\nORDER BY col1,col2&quot;);\n\nquery.setParameter(1, 1193679);\nquery.setParameter(2, 1193679);\nquery.setParameter(3, 1193679);   \n\nresultList = query.getResultList();\n</code></pre>\n<p>It's failing with the below error</p>\n<blockquote>\n<p>&quot;message&quot;:&quot;Unknown data type: ; SQL statement\norg.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement</p>\n</blockquote>\n"},{"tags":["java","android","countdowntimer"],"answers":[{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585565372,"creation_date":1585408593,"answer_id":60902563,"question_id":60902152,"body_markdown":"**UPDATED**\r\n\r\n**Below is your code converted into a code snippet for a CountdownTimer which will keep working even when the app is closed, pushed to background or restarted.**\r\n\r\n\r\n\r\nset `START_TIME_IN_MILLIS` as the Timer start time, in the following example it is set to 15 seconds.\r\n\r\n\r\n\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity2 extends AppCompatActivity {\r\n        private static final long START_TIME_IN_MILLIS = 15000;\r\n        private TextView mTextViewCountDown;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        private long remainingTimeInMillis;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_new);\r\n    \r\n            mTextViewCountDown = findViewById(R.id.tv);\r\n        }\r\n    \r\n        private void startTimer() {\r\n            mCountDownTimer = new CountDownTimer(remainingTimeInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    remainingTimeInMillis = millisUntilFinished;\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    //mTimerRunning = false;\r\n                    //updateButtons();\r\n    \r\n                    updateCountDownText();\r\n                    resetTimer();\r\n                    startTimer();\r\n    \r\n                }\r\n            }.start();\r\n    \r\n            //mTimerRunning = true;\r\n    \r\n        }\r\n    \r\n    \r\n        private void resetTimer() {\r\n            remainingTimeInMillis = START_TIME_IN_MILLIS;\r\n            updateCountDownText();\r\n    \r\n        }\r\n    \r\n        private void updateCountDownText() {\r\n    \r\n    \r\n            int minutes = (int) (remainingTimeInMillis / 1000) / 60;\r\n            int seconds = (int) (remainingTimeInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n    \r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, System.currentTimeMillis());\r\n            editor.apply();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n            if (mEndTime == 0L) {\r\n                remainingTimeInMillis = (mTimeLeftInMillis);\r\n            } else {\r\n                Long timeDiff = (mEndTime - System.currentTimeMillis());\r\n                //to convert into positive number\r\n                timeDiff = Math.abs(timeDiff);\r\n    \r\n                long timeDiffInSeconds = (timeDiff / 1000) % 60;\r\n               long timeDiffInMillis = timeDiffInSeconds * 1000;\r\n                Long timeDiffInMillisPlusTimerRemaining = remainingTimeInMillis = mTimeLeftInMillis - timeDiffInMillis;\r\n    \r\n                if (timeDiffInMillisPlusTimerRemaining &lt; 0) {\r\n                    timeDiffInMillisPlusTimerRemaining = Math.abs(timeDiffInMillisPlusTimerRemaining);\r\n                    remainingTimeInMillis = START_TIME_IN_MILLIS - timeDiffInMillisPlusTimerRemaining;\r\n                }\r\n            }\r\n            updateCountDownText();\r\n            startTimer();\r\n        }\r\n    }\r\n\r\n","title":"CountDownTimer problem when app is closed","body":"<p><strong>UPDATED</strong></p>\n\n<p><strong>Below is your code converted into a code snippet for a CountdownTimer which will keep working even when the app is closed, pushed to background or restarted.</strong></p>\n\n<p>set <code>START_TIME_IN_MILLIS</code> as the Timer start time, in the following example it is set to 15 seconds.</p>\n\n<pre><code>import android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Locale;\n\npublic class MainActivity2 extends AppCompatActivity {\n    private static final long START_TIME_IN_MILLIS = 15000;\n    private TextView mTextViewCountDown;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    private long remainingTimeInMillis;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new);\n\n        mTextViewCountDown = findViewById(R.id.tv);\n    }\n\n    private void startTimer() {\n        mCountDownTimer = new CountDownTimer(remainingTimeInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                remainingTimeInMillis = millisUntilFinished;\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                //mTimerRunning = false;\n                //updateButtons();\n\n                updateCountDownText();\n                resetTimer();\n                startTimer();\n\n            }\n        }.start();\n\n        //mTimerRunning = true;\n\n    }\n\n\n    private void resetTimer() {\n        remainingTimeInMillis = START_TIME_IN_MILLIS;\n        updateCountDownText();\n\n    }\n\n    private void updateCountDownText() {\n\n\n        int minutes = (int) (remainingTimeInMillis / 1000) / 60;\n        int seconds = (int) (remainingTimeInMillis / 1000) % 60;\n\n        String timeLeftFormatted = String.format(Locale.getDefault(), \"%02d:%02d\", minutes, seconds);\n\n        mTextViewCountDown.setText(timeLeftFormatted);\n    }\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(\"prefs\", MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(\"millisLeft\", mTimeLeftInMillis);\n        editor.putBoolean(\"timerRunning\", mTimerRunning);\n        editor.putLong(\"endTime\", System.currentTimeMillis());\n        editor.apply();\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(\"prefs\", MODE_PRIVATE);\n\n        mTimeLeftInMillis = prefs.getLong(\"millisLeft\", START_TIME_IN_MILLIS);\n        mTimerRunning = prefs.getBoolean(\"timerRunning\", false);\n        mEndTime = prefs.getLong(\"endTime\", 0);\n        if (mEndTime == 0L) {\n            remainingTimeInMillis = (mTimeLeftInMillis);\n        } else {\n            Long timeDiff = (mEndTime - System.currentTimeMillis());\n            //to convert into positive number\n            timeDiff = Math.abs(timeDiff);\n\n            long timeDiffInSeconds = (timeDiff / 1000) % 60;\n           long timeDiffInMillis = timeDiffInSeconds * 1000;\n            Long timeDiffInMillisPlusTimerRemaining = remainingTimeInMillis = mTimeLeftInMillis - timeDiffInMillis;\n\n            if (timeDiffInMillisPlusTimerRemaining &lt; 0) {\n                timeDiffInMillisPlusTimerRemaining = Math.abs(timeDiffInMillisPlusTimerRemaining);\n                remainingTimeInMillis = START_TIME_IN_MILLIS - timeDiffInMillisPlusTimerRemaining;\n            }\n        }\n        updateCountDownText();\n        startTimer();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14107969,"reputation":3700,"user_id":10191554,"display_name":"Angus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585410630,"creation_date":1585410630,"answer_id":60903030,"question_id":60902152,"body_markdown":"First, take a look here: [Understand the Activity Lifecycle][1]\n\nYou need `onResume`, `onPause` and `onDestroy` so that all scenarios are covered. \n\nFor `onResume`, the reason is, when you put your app to `background`, and resume the app by making it to `foreground`, action can be further applied, for example, getting the last saved state from SharedPreferences to ensure the condition is executed. \n\nFor `onPause`, it is crucial because when you click your phone home button, this state will be executed. Therefore, it ensures all the states is saved before it is destroyed (insurance).\n\nFor `onDestroy`, it is the most crucial part, because for some low-end phones, resources are limited, the os will do the &#39;cleaning&#39; by killing apps, so for your app, it will get kill, so before it is killed, you can save the state.\n\nHence, whenever you start or use your app, query the `SharedPreferences`, and do some calculation to ensure everything is correct.\n\nUse `service` or `broadcast`, which allow your program to run background.\n\nSome detailed explanation from the documentation:\n\n 1. `onResume()`\n\nWhen the activity enters the Resumed state, it comes to the foreground, and then the system invokes the onResume() callback. This is the state in which the app interacts with the user. The app stays in this state until something happens to take focus away from the app. Such an event might be, for instance, receiving a phone call, the user‚Äôs navigating to another activity, or the device screen‚Äôs turning off.\n\nWhen the activity moves to the resumed state, any lifecycle-aware component tied to the activity&#39;s lifecycle will receive the `ON_RESUME` event. This is where the lifecycle components can enable any functionality that needs to run while the component is visible and in the foreground, such as starting a camera preview.\n\nWhen an interruptive event occurs, the activity enters the Paused state, and the system invokes the `onPause()` callback.\n\nIf the activity returns to the Resumed state from the Paused state, the system once again calls `onResume()` method. For this reason, you should implement `onResume()` to initialize components that you release during `onPause()`, and perform any other initializations that must occur each time the activity enters the Resumed state.\n\n 2. `onPause`\n\nThe system calls this method as the first indication that the user is leaving your activity (though it does not always mean the activity is being destroyed); it indicates that the activity is no longer in the foreground (though it may still be visible if the user is in multi-window mode). Use the onPause() method to pause or adjust operations that should not continue (or should continue in moderation) while the Activity is in the Paused state, and that you expect to resume shortly. There are several reasons why an activity may enter this state.\n\n 3. `onDestroy()`\n\n`onDestroy()` is called before the activity is destroyed. The system invokes this callback either because:\n\n 1. the activity is finishing (due to the user completely dismissing the\n    activity or due to finish() being called on the activity), or\n 2. the system is temporarily destroying the activity due to a\n    configuration change (such as device rotation or multi-window mode)\n\nWhen the activity moves to the destroyed state, any lifecycle-aware component tied to the activity&#39;s lifecycle will receive the ON_DESTROY event. This is where the lifecycle components can clean up anything it needs to before the Activity is destroyed.\n\n\n\nHave a look here: [Background Execution Limits][2]\n\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle\n  [2]: https://developer.android.com/about/versions/oreo/background","title":"CountDownTimer problem when app is closed","body":"<p>First, take a look here: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">Understand the Activity Lifecycle</a></p>\n<p>You need <code>onResume</code>, <code>onPause</code> and <code>onDestroy</code> so that all scenarios are covered.</p>\n<p>For <code>onResume</code>, the reason is, when you put your app to <code>background</code>, and resume the app by making it to <code>foreground</code>, action can be further applied, for example, getting the last saved state from SharedPreferences to ensure the condition is executed.</p>\n<p>For <code>onPause</code>, it is crucial because when you click your phone home button, this state will be executed. Therefore, it ensures all the states is saved before it is destroyed (insurance).</p>\n<p>For <code>onDestroy</code>, it is the most crucial part, because for some low-end phones, resources are limited, the os will do the 'cleaning' by killing apps, so for your app, it will get kill, so before it is killed, you can save the state.</p>\n<p>Hence, whenever you start or use your app, query the <code>SharedPreferences</code>, and do some calculation to ensure everything is correct.</p>\n<p>Use <code>service</code> or <code>broadcast</code>, which allow your program to run background.</p>\n<p>Some detailed explanation from the documentation:</p>\n<ol>\n<li><code>onResume()</code></li>\n</ol>\n<p>When the activity enters the Resumed state, it comes to the foreground, and then the system invokes the onResume() callback. This is the state in which the app interacts with the user. The app stays in this state until something happens to take focus away from the app. Such an event might be, for instance, receiving a phone call, the user‚Äôs navigating to another activity, or the device screen‚Äôs turning off.</p>\n<p>When the activity moves to the resumed state, any lifecycle-aware component tied to the activity's lifecycle will receive the <code>ON_RESUME</code> event. This is where the lifecycle components can enable any functionality that needs to run while the component is visible and in the foreground, such as starting a camera preview.</p>\n<p>When an interruptive event occurs, the activity enters the Paused state, and the system invokes the <code>onPause()</code> callback.</p>\n<p>If the activity returns to the Resumed state from the Paused state, the system once again calls <code>onResume()</code> method. For this reason, you should implement <code>onResume()</code> to initialize components that you release during <code>onPause()</code>, and perform any other initializations that must occur each time the activity enters the Resumed state.</p>\n<ol start=\"2\">\n<li><code>onPause</code></li>\n</ol>\n<p>The system calls this method as the first indication that the user is leaving your activity (though it does not always mean the activity is being destroyed); it indicates that the activity is no longer in the foreground (though it may still be visible if the user is in multi-window mode). Use the onPause() method to pause or adjust operations that should not continue (or should continue in moderation) while the Activity is in the Paused state, and that you expect to resume shortly. There are several reasons why an activity may enter this state.</p>\n<ol start=\"3\">\n<li><code>onDestroy()</code></li>\n</ol>\n<p><code>onDestroy()</code> is called before the activity is destroyed. The system invokes this callback either because:</p>\n<ol>\n<li>the activity is finishing (due to the user completely dismissing the\nactivity or due to finish() being called on the activity), or</li>\n<li>the system is temporarily destroying the activity due to a\nconfiguration change (such as device rotation or multi-window mode)</li>\n</ol>\n<p>When the activity moves to the destroyed state, any lifecycle-aware component tied to the activity's lifecycle will receive the ON_DESTROY event. This is where the lifecycle components can clean up anything it needs to before the Activity is destroyed.</p>\n<p>Have a look here: <a href=\"https://developer.android.com/about/versions/oreo/background\" rel=\"nofollow noreferrer\">Background Execution Limits</a></p>\n"}],"owner":{"account_id":18024804,"reputation":47,"user_id":13101103,"display_name":"joska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60902563,"answer_count":2,"score":2,"last_activity_date":1681974908,"creation_date":1585406841,"question_id":60902152,"body_markdown":"I made a CountDownTimer code, I would like the CountDownTimer to restart when it is finished even if the app is closed, but it only restarts if the app is running or when the app is re-launched. So if I close the app when the countdown is 00:10 (min: sec) and reopen the app after 30 sec, the counter should be 00:40, but it starts from 1 minute... But if I close the app at 00:40 and reopen it after 10 sec, it starts at 00:30 so it&#39;s good, but the problem is that it restarts from 1 min when the app closed and reopened.... can somebody help me?\r\n\r\nMy code:\r\n\r\n\r\n    package com.example.countdown_implement;\r\n\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import java.util.Locale;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final long START_TIME_IN_MILLIS = 60000;\r\n        private TextView mTextViewCountDown;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n\r\n    }\r\n\r\n    private void startTimer() {\r\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n\r\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                mTimeLeftInMillis = millisUntilFinished;\r\n                updateCountDownText();\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                //mTimerRunning = false;\r\n                //updateButtons();\r\n\r\n                updateCountDownText();\r\n                resetTimer();\r\n                startTimer();\r\n\r\n            }\r\n        }.start();\r\n\r\n        //mTimerRunning = true;\r\n\r\n    }\r\n\r\n\r\n    private void resetTimer() {\r\n        mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n        updateCountDownText();\r\n\r\n    }\r\n\r\n    private void updateCountDownText() {\r\n        int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\r\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n\r\n        String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n\r\n        mTextViewCountDown.setText(timeLeftFormatted);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n\r\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n        editor.putLong(&quot;endTime&quot;, mEndTime);\r\n\r\n        editor.apply();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n\r\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n        mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n        mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n\r\n        updateCountDownText();\r\n        startTimer();\r\n        if (mTimeLeftInMillis &lt; 0) {\r\n            updateCountDownText();\r\n            startTimer();\r\n        }\r\n      }\r\n    }","title":"CountDownTimer problem when app is closed","body":"<p>I made a CountDownTimer code, I would like the CountDownTimer to restart when it is finished even if the app is closed, but it only restarts if the app is running or when the app is re-launched. So if I close the app when the countdown is 00:10 (min: sec) and reopen the app after 30 sec, the counter should be 00:40, but it starts from 1 minute... But if I close the app at 00:40 and reopen it after 10 sec, it starts at 00:30 so it's good, but the problem is that it restarts from 1 min when the app closed and reopened.... can somebody help me?</p>\n<p>My code:</p>\n<pre><code>package com.example.countdown_implement;\n\nimport android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final long START_TIME_IN_MILLIS = 60000;\n    private TextView mTextViewCountDown;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n}\n\nprivate void startTimer() {\n    mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n    mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            mTimeLeftInMillis = millisUntilFinished;\n            updateCountDownText();\n        }\n\n        @Override\n        public void onFinish() {\n            //mTimerRunning = false;\n            //updateButtons();\n\n            updateCountDownText();\n            resetTimer();\n            startTimer();\n\n        }\n    }.start();\n\n    //mTimerRunning = true;\n\n}\n\n\nprivate void resetTimer() {\n    mTimeLeftInMillis = START_TIME_IN_MILLIS;\n    updateCountDownText();\n\n}\n\nprivate void updateCountDownText() {\n    int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\n    int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n    String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\n\n    mTextViewCountDown.setText(timeLeftFormatted);\n}\n\n\n@Override\nprotected void onStop() {\n    super.onStop();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n    SharedPreferences.Editor editor = prefs.edit();\n\n    editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n    editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n    editor.putLong(&quot;endTime&quot;, mEndTime);\n\n    editor.apply();\n\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n    mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\n    mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n    mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n    mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n    updateCountDownText();\n    startTimer();\n    if (mTimeLeftInMillis &lt; 0) {\n        updateCountDownText();\n        startTimer();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","appium","appium-android"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1624472143,"post_id":68104028,"comment_id":120371512,"body_markdown":"What is the 18 line in HomeScreen?","body":"What is the 18 line in HomeScreen?"},{"owner":{"account_id":6737300,"reputation":3,"user_id":5191607,"display_name":"Chanakya Garikapati"},"score":0,"creation_date":1624477013,"post_id":68104028,"comment_id":120373128,"body_markdown":"those are few suggestion from internet that i have tried and i have commented those out. For the convivence i have removed them.","body":"those are few suggestion from internet that i have tried and i have commented those out. For the convivence i have removed them."}],"answers":[{"tags":[],"owner":{"account_id":26727495,"reputation":1,"user_id":20330406,"display_name":"zheliang liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681974819,"creation_date":1681974819,"answer_id":76061447,"question_id":68104028,"body_markdown":"an example:\r\n\r\n    private void findUIByText(String t,String b,int n){\r\n        Log.d(TAG,&quot;findUIByText&quot;);\r\n        //autoCheckAndClick.autoClick();\r\n        int i = 0;\r\n        UiObject2 object2 = null;\r\n        while (i &lt; 6) {\r\n            i++;\r\n            object2 = mDevice.findObject(\r\n                    By.textContains(t)\r\n            );\r\n            try {\r\n                if(object2 != null){\r\n                    Log.d(TAG,&quot;not null&quot;);\r\n                    if(Objects.equals(b, &quot;TRUE&quot;)){\r\n                        object2.click(1000);\r\n                    }else {\r\n                        object2.click();\r\n                    }\r\n                    break;\r\n                }\r\n\r\n            } catch (StaleObjectException e) {\r\n                Log.d(TAG,&quot;StaleObjectException&quot;);\r\n                if (n &lt; 4){\r\n                    findUIByText(t,b,n+1);\r\n                }\r\n            }\r\n            toSleep(500);\r\n\r\n        }\r\n    }","title":"Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException","body":"<p>an example:</p>\n<pre><code>private void findUIByText(String t,String b,int n){\n    Log.d(TAG,&quot;findUIByText&quot;);\n    //autoCheckAndClick.autoClick();\n    int i = 0;\n    UiObject2 object2 = null;\n    while (i &lt; 6) {\n        i++;\n        object2 = mDevice.findObject(\n                By.textContains(t)\n        );\n        try {\n            if(object2 != null){\n                Log.d(TAG,&quot;not null&quot;);\n                if(Objects.equals(b, &quot;TRUE&quot;)){\n                    object2.click(1000);\n                }else {\n                    object2.click();\n                }\n                break;\n            }\n\n        } catch (StaleObjectException e) {\n            Log.d(TAG,&quot;StaleObjectException&quot;);\n            if (n &lt; 4){\n                findUIByText(t,b,n+1);\n            }\n        }\n        toSleep(500);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6737300,"reputation":3,"user_id":5191607,"display_name":"Chanakya Garikapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681974819,"creation_date":1624466808,"question_id":68104028,"body_markdown":"I was trying to run this on the Android TV i see the Appium is able to click on all the buttons and input the data in text box except the very first one. i have to click on it then wait and used send keys to see if it solves the issue but no luck. can someone help me on this.[enter image description here][1]\r\n\r\n    Base.Java\r\n    \r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    \r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.android.AndroidElement;\r\n    import io.appium.java_client.remote.MobileCapabilityType;\r\n    \r\n    public class Base {\r\n    \t\r\n    \tpublic static AndroidDriver&lt;AndroidElement&gt; capabalities() throws MalformedURLException {\r\n    \t\t\r\n    \t\tFile file = new File (&quot;src&quot;);\r\n    \t\tFile fs = new File(file,&quot;TVTestApp_ct.apk&quot;);\r\n    \t\t\r\n    \t\tDesiredCapabilities capabalities = new DesiredCapabilities();\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.AUTOMATION_NAME,&quot;uiautomator2&quot;);\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Automation&quot;);\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.APP, fs.getAbsolutePath());\r\n    \t\tAndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver&lt;AndroidElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabalities);\r\n    \t\treturn driver;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    HomeScreen.Java\r\n    \r\n    import java.net.MalformedURLException;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.By.ByClassName;\r\n    import org.openqa.selenium.StaleElementReferenceException;\r\n    \r\n    import io.appium.java_client.MobileElement;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.android.AndroidElement;\r\n    \r\n    public class HomeScreen extends Base {\r\n    \t\r\n    \tpublic static void main(String[] args) throws MalformedURLException, InterruptedException {\r\n    \t\t\r\n    \t\tAndroidDriver&lt;AndroidElement&gt; driver = capabalities();\r\n    \t\t\r\n    \t\tdriver.findElementById(&quot;com.tvexample.tvtestapp:id/editText&quot;).sendKeys(&quot;1234&quot;);\r\n    \t\tdriver.findElementById(&quot;com.tvexample.tvtestapp:id/editText1&quot;).sendKeys(&quot;1234&quot;)    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\nLogs:\r\n```\r\nJun 21, 2021 2:11:47 PM io.appium.java_client.remote.AppiumCommandExecutor$1 lambda$0\r\nINFO: Detected dialect: W3C\r\nException in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:48&#39;\r\nSystem info: host: &#39;TXCDTL20CT1696&#39;, ip: &#39;135.70.71.74&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;15.0.2&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCapabilities {app: C:\\Users\\cg517n\\Documents\\e..., appPackage: com.tvexample.tvtestapp, automationName: uiautomator2, databaseEnabled: false, desired: {app: C:\\Users\\cg517n\\Documents\\e..., automationName: uiautomator2, deviceName: Automation, platformName: android}, deviceApiLevel: 28, deviceManufacturer: unknown, deviceModel: sdk_google_atv_x86, deviceName: emulator-5554, deviceScreenDensity: 320, deviceScreenSize: 1920x1080, deviceUDID: emulator-5554, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, pixelRatio: 2, platform: LINUX, platformName: Android, platformVersion: 9, statBarHeight: 0, takesScreenshot: true, viewportRect: {height: 1080, left: 0, top: 0, width: 1920}, warnings: {}, webStorageEnabled: false}\r\nSession ID: 75f6f7db-21e8-407e-8a53-59271e4e9e02\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:247)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\r\n\tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n\tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\r\n\tat io.appium.java_client.DefaultGenericMobileElement.execute(DefaultGenericMobileElement.java:45)\r\n\tat io.appium.java_client.MobileElement.execute(MobileElement.java:1)\r\n\tat io.appium.java_client.android.AndroidElement.execute(AndroidElement.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\r\n\tat HomeScreen.main(HomeScreen.java:18)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/gq32o.png","title":"Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException","body":"<p>I was trying to run this on the Android TV i see the Appium is able to click on all the buttons and input the data in text box except the very first one. i have to click on it then wait and used send keys to see if it solves the issue but no luck. can someone help me on this.<a href=\"https://i.stack.imgur.com/gq32o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>Base.Java\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.AndroidElement;\nimport io.appium.java_client.remote.MobileCapabilityType;\n\npublic class Base {\n    \n    public static AndroidDriver&lt;AndroidElement&gt; capabalities() throws MalformedURLException {\n        \n        File file = new File (&quot;src&quot;);\n        File fs = new File(file,&quot;TVTestApp_ct.apk&quot;);\n        \n        DesiredCapabilities capabalities = new DesiredCapabilities();\n        capabalities.setCapability(MobileCapabilityType.AUTOMATION_NAME,&quot;uiautomator2&quot;);\n        capabalities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Automation&quot;);\n        capabalities.setCapability(MobileCapabilityType.APP, fs.getAbsolutePath());\n        AndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver&lt;AndroidElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabalities);\n        return driver;\n    }\n\n}\n\nHomeScreen.Java\n\nimport java.net.MalformedURLException;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.By.ByClassName;\nimport org.openqa.selenium.StaleElementReferenceException;\n\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.AndroidElement;\n\npublic class HomeScreen extends Base {\n    \n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\n        \n        AndroidDriver&lt;AndroidElement&gt; driver = capabalities();\n        \n        driver.findElementById(&quot;com.tvexample.tvtestapp:id/editText&quot;).sendKeys(&quot;1234&quot;);\n        driver.findElementById(&quot;com.tvexample.tvtestapp:id/editText1&quot;).sendKeys(&quot;1234&quot;)         \n        \n    }\n\n\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>Jun 21, 2021 2:11:47 PM io.appium.java_client.remote.AppiumCommandExecutor$1 lambda$0\nINFO: Detected dialect: W3C\nException in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:48'\nSystem info: host: 'TXCDTL20CT1696', ip: '135.70.71.74', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '15.0.2'\nDriver info: io.appium.java_client.android.AndroidDriver\nCapabilities {app: C:\\Users\\cg517n\\Documents\\e..., appPackage: com.tvexample.tvtestapp, automationName: uiautomator2, databaseEnabled: false, desired: {app: C:\\Users\\cg517n\\Documents\\e..., automationName: uiautomator2, deviceName: Automation, platformName: android}, deviceApiLevel: 28, deviceManufacturer: unknown, deviceModel: sdk_google_atv_x86, deviceName: emulator-5554, deviceScreenDensity: 320, deviceScreenSize: 1920x1080, deviceUDID: emulator-5554, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, pixelRatio: 2, platform: LINUX, platformName: Android, platformVersion: 9, statBarHeight: 0, takesScreenshot: true, viewportRect: {height: 1080, left: 0, top: 0, width: 1920}, warnings: {}, webStorageEnabled: false}\nSession ID: 75f6f7db-21e8-407e-8a53-59271e4e9e02\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:247)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\n    at io.appium.java_client.DefaultGenericMobileElement.execute(DefaultGenericMobileElement.java:45)\n    at io.appium.java_client.MobileElement.execute(MobileElement.java:1)\n    at io.appium.java_client.android.AndroidElement.execute(AndroidElement.java:1)\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\n    at HomeScreen.main(HomeScreen.java:18)\n</code></pre>\n"},{"tags":["java","android","unit-testing","junit","android-webview"],"comments":[{"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"score":1,"creation_date":1363622006,"post_id":15481034,"comment_id":21912264,"body_markdown":"You&#39;re breaking one of the fundamental principles of Junit - that all tests should be independent of each other.  A good test class should have tests which can be executed in any order and don&#39;t have dependencies between them.","body":"You&#39;re breaking one of the fundamental principles of Junit - that all tests should be independent of each other.  A good test class should have tests which can be executed in any order and don&#39;t have dependencies between them."},{"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"score":0,"creation_date":1363622106,"post_id":15481034,"comment_id":21912333,"body_markdown":"also see http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-spec-order-in-junit4","body":"also see <a href=\"http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-spec-order-in-junit4\" title=\"how to run test methods in spec order in junit4\">stackoverflow.com/questions/3693626/&hellip;</a>"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1363622178,"post_id":15481034,"comment_id":21912381,"body_markdown":"There is a [pretty nifty example from IBM DeveloperWorks](https://www.ibm.com/developerworks/mydeveloperworks/blogs/amcohen/entry/stop_junit_before_you_get_into_trouble3?lang=en) of using a custom suite to accomplish this. You could also run your tests with Ant, which has an attribute on the Junit task that will allow you to halt on failure.","body":"There is a <a href=\"https://www.ibm.com/developerworks/mydeveloperworks/blogs/amcohen/entry/stop_junit_before_you_get_into_trouble3?lang=en\" rel=\"nofollow noreferrer\">pretty nifty example from IBM DeveloperWorks</a> of using a custom suite to accomplish this. You could also run your tests with Ant, which has an attribute on the Junit task that will allow you to halt on failure."},{"owner":{"account_id":1613746,"reputation":5826,"user_id":1492005,"accept_rate":71,"display_name":"Jaison Brooks"},"score":0,"creation_date":1363622516,"post_id":15481034,"comment_id":21912615,"body_markdown":"@Perception Thanks for this, do you happen to know what that attribute is called possibly?","body":"@Perception Thanks for this, do you happen to know what that attribute is called possibly?"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1363622673,"post_id":15481034,"comment_id":21912708,"body_markdown":"On the [Ant JUnit](http://ant.apache.org/manual/Tasks/junit.html) task the attribute you would be looking for is called `haltonfailure`.","body":"On the <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">Ant JUnit</a> task the attribute you would be looking for is called <code>haltonfailure</code>."}],"answers":[{"tags":[],"owner":{"account_id":1000058,"reputation":3169,"user_id":1015144,"accept_rate":100,"display_name":"Shellum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1363621958,"creation_date":1363621958,"answer_id":15481128,"question_id":15481034,"body_markdown":"If you&#39;re doing integration tests using JUnit, you could prefix the method name with _1, _2 etc.:\r\n\r\n    public void _1_testThatButton()...\r\n    public void _2_testSomethingSecond()...\r\n\r\nI suppose you could call System.exit() instead of throwing an exception, but if your tests are taking too long, that may be a bad sign for adding more tests in the future (adding more tests may discourage you from running them).\r\n\r\nIf your&#39;re using ant, you can try this: https://stackoverflow.com/questions/188606/how-to-make-junit-testing-to-stop-after-first-failing-test","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>If you're doing integration tests using JUnit, you could prefix the method name with _1, _2 etc.:</p>\n\n<pre><code>public void _1_testThatButton()...\npublic void _2_testSomethingSecond()...\n</code></pre>\n\n<p>I suppose you could call System.exit() instead of throwing an exception, but if your tests are taking too long, that may be a bad sign for adding more tests in the future (adding more tests may discourage you from running them).</p>\n\n<p>If your're using ant, you can try this: <a href=\"https://stackoverflow.com/questions/188606/how-to-make-junit-testing-to-stop-after-first-failing-test\">How to make junit testing to stop after first failing test</a></p>\n"},{"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363622213,"creation_date":1363622213,"answer_id":15481226,"question_id":15481034,"body_markdown":"I Haven&#39;t done Junit test for Android Apps, but based on my experience with web application, I am suggesting this answer.\r\n\r\nWhen ever I face such situation, I&#39;ll call them in separate method with return type\r\n\r\nExample:\r\n\r\n    public void testCheckFunctions()\r\n    {\r\n    boolean returnval=false;\r\n    \r\n    returnval=test1();\r\n    if(returnval)\r\n    {\r\n    returnval=test2();\r\n    }\r\n    if(returnval)\r\n    {\r\n    returnval=test3();\r\n    }\r\n    }\r\n\r\nYou can exit the test if any of the above condition fails.","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>I Haven't done Junit test for Android Apps, but based on my experience with web application, I am suggesting this answer.</p>\n\n<p>When ever I face such situation, I'll call them in separate method with return type</p>\n\n<p>Example:</p>\n\n<pre><code>public void testCheckFunctions()\n{\nboolean returnval=false;\n\nreturnval=test1();\nif(returnval)\n{\nreturnval=test2();\n}\nif(returnval)\n{\nreturnval=test3();\n}\n}\n</code></pre>\n\n<p>You can exit the test if any of the above condition fails.</p>\n"},{"tags":[],"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681974569,"creation_date":1681974569,"answer_id":76061412,"question_id":15481034,"body_markdown":"Changing the tests order in jUnit5 can be done by using [@MethodOrder][1] \r\n\r\nIf you want to have a specific order, you should annotate your class to use [OrderAnnotion][2]\r\n\r\n    \r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class OrderInJunit {\r\n\r\n        @Test\r\n        @Order(1)\r\n        public void runsFirst() {\r\n            System.out.println(&quot;runs first&quot;);\r\n        }\r\n        @Test\r\n        @Order(2)\r\n        public void runsSecond() {\r\n            System.out.println(&quot;runs second&quot;);\r\n        }\r\n\r\n    }\r\n\r\nIf you want that one test fails consecutive tests in vanilla junit, you can do something like this:\r\n\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    // One test instance per class, to keep the state of &quot;previousTestFailed&quot; between each test\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class OrderInJunit {\r\n\r\n        private Boolean previousTestFailed = false;\r\n\r\n        @Test\r\n        @Order(1)\r\n        public void runsFirst() {\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs first&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n\r\n        @Test\r\n        @Order(2)\r\n        public void runsSecond() {\r\n            Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsFirst\\&quot; fails&quot;);\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs second&quot;);\r\n            fail(&quot;Test failure&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n        @Test\r\n        @Order(3)\r\n        public void runsThird() {\r\n            Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsSecond\\&quot; fails&quot;);\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs second&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n    }\r\n\r\nThis will always result in:\r\n\r\n[![Image displaying that the first test succeeds, the second fails and the third gets ignored in intellij UI][3]][3]\r\n\r\nHowever, it&#39;s clear that this setup has some issues:\r\n 1. you change the order which you regulary don&#39;t want to do in jUnit\r\n 2. you create an instance per class instead of per test method\r\n 3. it does come with boilerplate since you have to flip the previousTestFailed boolean and you have to add the assumption in each test (except the first).\r\n\r\nYou probably want to look into a more E2E specific test framework or jUnit plugin(s).\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\r\n  [2]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.OrderAnnotation.html\r\n  [3]: https://i.stack.imgur.com/kxs9M.png","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>Changing the tests order in jUnit5 can be done by using <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\" rel=\"nofollow noreferrer\">@MethodOrder</a></p>\n<p>If you want to have a specific order, you should annotate your class to use <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.OrderAnnotation.html\" rel=\"nofollow noreferrer\">OrderAnnotion</a></p>\n<pre><code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class OrderInJunit {\n\n    @Test\n    @Order(1)\n    public void runsFirst() {\n        System.out.println(&quot;runs first&quot;);\n    }\n    @Test\n    @Order(2)\n    public void runsSecond() {\n        System.out.println(&quot;runs second&quot;);\n    }\n\n}\n</code></pre>\n<p>If you want that one test fails consecutive tests in vanilla junit, you can do something like this:</p>\n<pre><code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n// One test instance per class, to keep the state of &quot;previousTestFailed&quot; between each test\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class OrderInJunit {\n\n    private Boolean previousTestFailed = false;\n\n    @Test\n    @Order(1)\n    public void runsFirst() {\n        previousTestFailed = true;\n        System.out.println(&quot;runs first&quot;);\n        previousTestFailed = false;\n    }\n\n    @Test\n    @Order(2)\n    public void runsSecond() {\n        Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsFirst\\&quot; fails&quot;);\n        previousTestFailed = true;\n        System.out.println(&quot;runs second&quot;);\n        fail(&quot;Test failure&quot;);\n        previousTestFailed = false;\n    }\n    @Test\n    @Order(3)\n    public void runsThird() {\n        Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsSecond\\&quot; fails&quot;);\n        previousTestFailed = true;\n        System.out.println(&quot;runs second&quot;);\n        previousTestFailed = false;\n    }\n}\n</code></pre>\n<p>This will always result in:</p>\n<p><a href=\"https://i.stack.imgur.com/kxs9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxs9M.png\" alt=\"Image displaying that the first test succeeds, the second fails and the third gets ignored in intellij UI\" /></a></p>\n<p>However, it's clear that this setup has some issues:</p>\n<ol>\n<li>you change the order which you regulary don't want to do in jUnit</li>\n<li>you create an instance per class instead of per test method</li>\n<li>it does come with boilerplate since you have to flip the previousTestFailed boolean and you have to add the assumption in each test (except the first).</li>\n</ol>\n<p>You probably want to look into a more E2E specific test framework or jUnit plugin(s).</p>\n"}],"owner":{"account_id":1613746,"reputation":5826,"user_id":1492005,"accept_rate":71,"display_name":"Jaison Brooks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15481128,"answer_count":3,"score":2,"last_activity_date":1681974569,"creation_date":1363621711,"question_id":15481034,"body_markdown":"I&#39;m trying to figure out **How i can make my JUnits tests run a specific order as well as stop all test&#39;s if one of the test&#39;s fail**. Here below i have included just some simple actionbar item test&#39;s. All i basically want to make sure is when i run my build/test via command line, i want the test to stop if one of these tests fails. Any Recommendations?\r\n\r\n    public void testPreconditions() {\r\n        assertNotNull(instrumentation);\r\n        assertNotNull(mWeb);\r\n        assertNotNull(mActivity);\r\n    }\r\n\r\n    protected void setUp() throws Exception {\r\n        super.setUp();\r\n\r\n        instrumentation = getInstrumentation();\r\n        mActivity = getActivity();\r\n        setActivityInitialTouchMode(false);\r\n        mWeb = (WebView) mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.webview_main);\r\n        mMockWebViewClient = new MockWebViewClient();\r\n        mWeb.setWebViewClient(mMockWebViewClient);\r\n        mSettings = mWeb.getSettings();\r\n    }\r\n\r\n    public void testThatButtonReloadWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_refresh);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void testThatButtonForwardWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_forward);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void testThatButtonBackWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_back);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>I'm trying to figure out <strong>How i can make my JUnits tests run a specific order as well as stop all test's if one of the test's fail</strong>. Here below i have included just some simple actionbar item test's. All i basically want to make sure is when i run my build/test via command line, i want the test to stop if one of these tests fails. Any Recommendations?</p>\n\n<pre><code>public void testPreconditions() {\n    assertNotNull(instrumentation);\n    assertNotNull(mWeb);\n    assertNotNull(mActivity);\n}\n\nprotected void setUp() throws Exception {\n    super.setUp();\n\n    instrumentation = getInstrumentation();\n    mActivity = getActivity();\n    setActivityInitialTouchMode(false);\n    mWeb = (WebView) mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.webview_main);\n    mMockWebViewClient = new MockWebViewClient();\n    mWeb.setWebViewClient(mMockWebViewClient);\n    mSettings = mWeb.getSettings();\n}\n\npublic void testThatButtonReloadWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_refresh);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n\npublic void testThatButtonForwardWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_forward);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n\npublic void testThatButtonBackWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_back);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","timer"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":1,"creation_date":1281848612,"post_id":3486162,"comment_id":3640304,"body_markdown":"If you post a few snippets of the code that you&#39;ve tried, it might be helpful.","body":"If you post a few snippets of the code that you&#39;ve tried, it might be helpful."}],"answers":[{"tags":[],"owner":{"account_id":84475,"reputation":36366,"user_id":236128,"accept_rate":92,"display_name":"Samuh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681973590,"creation_date":1281854407,"answer_id":3486485,"question_id":3486162,"body_markdown":"One way could be creating a Pipeline thread(a normal thread with Looper.prepare()). Post delayed messages to its message loop. In the Message Handler, swap the images. See the following list of tutorials to understand the entities involved:  \r\n[Handler Tutorial][1]   \r\n[Handler: documentation][2]  \r\n[Android guts into Loopers(Pipeline threads) and Handlers][3]\r\n\r\nHope that helps.\r\n\r\n  [1]: https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\r\n  [2]: https://developer.android.com/reference/android/os/Handler.html\r\n  [3]: https://mindtherobot.com/blog/159/android-guts-intro-to-loopers-and-handlers/","title":"Android: how to use a timer","body":"<p>One way could be creating a Pipeline thread(a normal thread with Looper.prepare()). Post delayed messages to its message loop. In the Message Handler, swap the images. See the following list of tutorials to understand the entities involved:<br />\n<a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">Handler Tutorial</a><br />\n<a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler: documentation</a><br />\n<a href=\"https://mindtherobot.com/blog/159/android-guts-intro-to-loopers-and-handlers/\" rel=\"nofollow noreferrer\">Android guts into Loopers(Pipeline threads) and Handlers</a></p>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":184323,"reputation":1323,"user_id":420301,"accept_rate":60,"display_name":"StefanMK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1314948584,"creation_date":1281868099,"answer_id":3486993,"question_id":3486162,"body_markdown":"Here is my Android timer class which should work fine. It sends a signal every second. Change schedule() call is you want a different scheme.\r\n\r\nNote that you cannot change Android gui stuff in the timer thread, this is only allowed in the main thread. This is why you have to use a Handler to give the control back to the main thread.\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n\r\n    public class SystemTimerAndroid {\r\n    \tprivate final Timer clockTimer;\r\n\r\n    \tprivate class Task extends TimerTask {\r\n    \t\tpublic void run() {\r\n    \t\t\ttimerHandler.sendEmptyMessage(0);\r\n    \t\t}\r\n    \t}\r\n\t\r\n    \tprivate final Handler timerHandler = new Handler() {\r\n    \t\tpublic void handleMessage (Message  msg) {\r\n    \t\t\t// runs in context of the main thread\r\n    \t\t\ttimerSignal();\r\n    \t\t}\r\n    \t};\r\n\t\r\n    \tprivate List&lt;SystemTimerListener&gt; clockListener = new ArrayList&lt;SystemTimerListener&gt;();\r\n\t\r\n    \tpublic SystemTimerAndroid() {\r\n    \t\tclockTimer = new Timer();\r\n    \t\tclockTimer.schedule(new Task(), 1000, 1000);\r\n    \t}\r\n\t\r\n    \tprivate void timerSignal() {\r\n    \t\tfor(SystemTimerListener listener : clockListener)\r\n    \t\t\tlistener.onSystemTimeSignal();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void killTimer() {\r\n    \t\tclockTimer.cancel();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void addListener(SystemTimerListener listener) {\r\n    \t\tclockListener.add(listener);\t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Android: how to use a timer","body":"<p>Here is my Android timer class which should work fine. It sends a signal every second. Change schedule() call is you want a different scheme.</p>\n\n<p>Note that you cannot change Android gui stuff in the timer thread, this is only allowed in the main thread. This is why you have to use a Handler to give the control back to the main thread.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\nimport android.os.Handler;\nimport android.os.Message;\n\npublic class SystemTimerAndroid {\n    private final Timer clockTimer;\n\n    private class Task extends TimerTask {\n        public void run() {\n            timerHandler.sendEmptyMessage(0);\n        }\n    }\n\n    private final Handler timerHandler = new Handler() {\n        public void handleMessage (Message  msg) {\n            // runs in context of the main thread\n            timerSignal();\n        }\n    };\n\n    private List&lt;SystemTimerListener&gt; clockListener = new ArrayList&lt;SystemTimerListener&gt;();\n\n    public SystemTimerAndroid() {\n        clockTimer = new Timer();\n        clockTimer.schedule(new Task(), 1000, 1000);\n    }\n\n    private void timerSignal() {\n        for(SystemTimerListener listener : clockListener)\n            listener.onSystemTimeSignal();      \n    }\n\n    public void killTimer() {\n        clockTimer.cancel();\n    }\n\n    @Override\n    public void addListener(SystemTimerListener listener) {\n        clockListener.add(listener);        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":184616,"reputation":43,"user_id":420775,"display_name":"Yorgo12345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13944,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3486993,"answer_count":2,"score":3,"last_activity_date":1681973590,"creation_date":1281845532,"question_id":3486162,"body_markdown":"this is my first post..\r\n\r\nso I&#39;m learning Android &amp; Java (coming from Actionscript), and I&#39;m working on a project where :  \r\n\r\nI&#39;m trying to click an ImageView, have that ImageView swap images for a second, then return to the original image.  ( this is for a tapping game )\r\n\r\nsounds easy enough, right?    I&#39;ve spent the whole day trying to get a standard Java Timer / TimerTask to work.. no luck..  \r\n\r\nis there a better way? I mean, is there an Android specific way to do something like this?  If not, then what is the ideal way?\r\n\r\nthanks for all your help in advance guys!\r\n-g","title":"Android: how to use a timer","body":"<p>this is my first post..</p>\n\n<p>so I'm learning Android &amp; Java (coming from Actionscript), and I'm working on a project where :  </p>\n\n<p>I'm trying to click an ImageView, have that ImageView swap images for a second, then return to the original image.  ( this is for a tapping game )</p>\n\n<p>sounds easy enough, right?    I've spent the whole day trying to get a standard Java Timer / TimerTask to work.. no luck..  </p>\n\n<p>is there a better way? I mean, is there an Android specific way to do something like this?  If not, then what is the ideal way?</p>\n\n<p>thanks for all your help in advance guys!\n-g</p>\n"},{"tags":["java","azure","project-reactor","azure-keyvault"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681835279,"post_id":76046932,"comment_id":134119526,"body_markdown":"Please tidy up the code formatting and include the .subscribe() code that extracts the secret from the Mono and causes a FlapNotNull.","body":"Please tidy up the code formatting and include the .subscribe() code that extracts the secret from the Mono and causes a FlapNotNull."},{"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"score":0,"creation_date":1681837393,"post_id":76046932,"comment_id":134120020,"body_markdown":"I added the subscribe and it gives the error &quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;   and reactor shows  &quot;reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono&quot;","body":"I added the subscribe and it gives the error &quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;   and reactor shows  &quot;reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/&zwnj;&#8203;Function;)Lreactor/c&zwnj;&#8203;ore/publisher/Mono&quot;"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681838441,"post_id":76046932,"comment_id":134120273,"body_markdown":"Perfect. Now you know why it‚Äôs failing. The call to Vault is missing the ‚ÄúAuthorization‚Äù:‚ÄùBearer token‚Äù header. Google the error message (maybe even the error code) and Vault and you should make some progress.","body":"Perfect. Now you know why it‚Äôs failing. The call to Vault is missing the ‚ÄúAuthorization‚Äù:‚ÄùBearer token‚Äù header. Google the error message (maybe even the error code) and Vault and you should make some progress."},{"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"score":0,"creation_date":1681842378,"post_id":76046932,"comment_id":134121207,"body_markdown":"The thing is, I&#39;m creating the ClientSecretCredential with the clientId, clientSecret and the tenantId with the values obtained from the portal, and it still gives me the same error. I have tried with a weblfux application, but using SecreCliente instead of SecretASyncClient, and it brings me the value of the secret, it works fine in that project ..    the credentials are ok and i have full access..","body":"The thing is, I&#39;m creating the ClientSecretCredential with the clientId, clientSecret and the tenantId with the values obtained from the portal, and it still gives me the same error. I have tried with a weblfux application, but using SecreCliente instead of SecretASyncClient, and it brings me the value of the secret, it works fine in that project ..    the credentials are ok and i have full access.."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681843304,"post_id":76046932,"comment_id":134121377,"body_markdown":"There must be a different way of adding the Bearer or PoP token with the Async route. Can‚Äôt find anything helpful on Google though.‚òπÔ∏è","body":"There must be a different way of adding the Bearer or PoP token with the Async route. Can‚Äôt find anything helpful on Google though.‚òπÔ∏è"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681973439,"creation_date":1681973439,"answer_id":76061295,"question_id":76046932,"body_markdown":"I have tried your requirement in my environment by using the below code and got expected results:\r\n\r\n**Note:** I have configured my credentials in my environment.\r\n\r\n***Code Snippet:*** \r\n```java\r\n@RestController\r\npublic class AzureKeyReactorController {\r\n\r\n@GetMapping(&quot;/data&quot;)\r\npublic String getSecret() {\r\n\r\nSecretClient secretClient = new SecretClientBuilder().vaultUrl(&quot;https://mykey7.vault.azure.net/&quot;)\r\n\r\n.credential(new DefaultAzureCredentialBuilder().build()).buildClient();\r\n\r\nKeyVaultSecret secretMono = secretClient.getSecret(&quot;mysecret&quot;);\r\n\r\nString secretValue = secretMono.getValue();\r\n\r\nSystem.out.println(secretValue);\r\nreturn &quot;My Stored Secret is : &quot; + secretValue;\r\n}\r\n}\r\n```\r\nFirstly, Created KeyVault without giving permission or without adding it to my service principal and I was getting *Access Denied* error as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/uwW0x.png)\r\n\r\nBut after giving Access Control to my service principal for this KeyVault which I have created, I&#39;m able to get the secret from the KeyVault.\r\n- *Storing the test secret and I&#39;m able to fetch the same through the code.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/WZxQc.png)\r\n\r\n***Console output:***\r\n![enter image description here](https://i.stack.imgur.com/4EIr4.png)\r\n\r\n***Result:***\r\n\r\nAble to fetch secret value:\r\n![enter image description here](https://i.stack.imgur.com/4aXg4.png)","title":"How do I get the secret from Azure Key Vault using reactor java?","body":"<p>I have tried your requirement in my environment by using the below code and got expected results:</p>\n<p><strong>Note:</strong> I have configured my credentials in my environment.</p>\n<p><em><strong>Code Snippet:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AzureKeyReactorController {\n\n@GetMapping(&quot;/data&quot;)\npublic String getSecret() {\n\nSecretClient secretClient = new SecretClientBuilder().vaultUrl(&quot;https://mykey7.vault.azure.net/&quot;)\n\n.credential(new DefaultAzureCredentialBuilder().build()).buildClient();\n\nKeyVaultSecret secretMono = secretClient.getSecret(&quot;mysecret&quot;);\n\nString secretValue = secretMono.getValue();\n\nSystem.out.println(secretValue);\nreturn &quot;My Stored Secret is : &quot; + secretValue;\n}\n}\n</code></pre>\n<p>Firstly, Created KeyVault without giving permission or without adding it to my service principal and I was getting <em>Access Denied</em> error as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/uwW0x.png\" alt=\"enter image description here\" /></p>\n<p>But after giving Access Control to my service principal for this KeyVault which I have created, I'm able to get the secret from the KeyVault.</p>\n<ul>\n<li><em>Storing the test secret and I'm able to fetch the same through the code.</em></li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/WZxQc.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Console output:</strong></em>\n<img src=\"https://i.stack.imgur.com/4EIr4.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Result:</strong></em></p>\n<p>Able to fetch secret value:\n<img src=\"https://i.stack.imgur.com/4aXg4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681973439,"creation_date":1681834957,"question_id":76046932,"body_markdown":"I&#39;m currently working in a microservice using reactor. I&#39;ve implemented this method to return an asyncrhonous KeyVaultSecret, but when i debug the code I get a value like &quot;MonoLiftFuseable&quot;. I&#39;ve looked why is that value shows but i haven&#39;t found much information.\r\n\r\nMethod in java:\r\n\r\n  public Mono&lt;KeyVaultSecret&gt; retrieveParamSecret(String secretName) {\r\n\r\n    ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\r\n            .clientId(paramClientId)\r\n            .clientSecret(paramClientKey)\r\n            .tenantId(paramTenantId)\r\n            .build();\r\n\r\n    SecretAsyncClient paramSecretClient = new SecretClientBuilder()\r\n            .credential(paramClientSecretCredential)\r\n            .vaultUrl(paramVaultUrl)\r\n            .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\r\n            .buildAsyncClient();\r\n\r\n    return paramSecretClient.getSecret(secretName);\r\n\r\n  }\r\n\r\nMainService:\r\n\r\nMono&lt;KeyVaultSecret&gt; keyVaultSecretParam = azureKeyVaultService.retrieveParamSecret(&quot;KV_PARAMS&quot;);\r\n\r\n        keyVaultSecretParam.map(secretWithVersion -&gt;\r\n                System.out.printf(&quot;Secret is returned with name %s and value %s %n&quot;,\r\n                        secretWithVersion.getName(), secretWithVersion.getValue()));\r\n\r\nSidenote: In the main service implementation class it doesn&#39;t enter in the map to print the values.\r\n\r\n[enter image description here](https://i.stack.imgur.com/jmECQ.png)\r\n\r\nI&#39;ve tried to keep the SecretClient and use a Mono.fromCallable but I get the same value\r\nI&#39;ve looked in the Microsoft page about the SecretAsyncClient and it says I need to subscribe it, but when I do that It shows an error for FlapNotNull. \r\n\r\nOfficial page: https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable\r\n\r\nUpdate: \r\n\r\nWhen I use the subscribe to print the value obtain, AzureKeyVault gives me this error &quot;code\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.\r\n\r\nAnd reactor shows : java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\r\n\r\nCode:\r\n\r\n[Code and error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9iJQj.png","title":"How do I get the secret from Azure Key Vault using reactor java?","body":"<p>I'm currently working in a microservice using reactor. I've implemented this method to return an asyncrhonous KeyVaultSecret, but when i debug the code I get a value like &quot;MonoLiftFuseable&quot;. I've looked why is that value shows but i haven't found much information.</p>\n<p>Method in java:</p>\n<p>public Mono retrieveParamSecret(String secretName) {</p>\n<pre><code>ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\n        .clientId(paramClientId)\n        .clientSecret(paramClientKey)\n        .tenantId(paramTenantId)\n        .build();\n\nSecretAsyncClient paramSecretClient = new SecretClientBuilder()\n        .credential(paramClientSecretCredential)\n        .vaultUrl(paramVaultUrl)\n        .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\n        .buildAsyncClient();\n\nreturn paramSecretClient.getSecret(secretName);\n</code></pre>\n<p>}</p>\n<p>MainService:</p>\n<p>Mono keyVaultSecretParam = azureKeyVaultService.retrieveParamSecret(&quot;KV_PARAMS&quot;);</p>\n<pre><code>    keyVaultSecretParam.map(secretWithVersion -&gt;\n            System.out.printf(&quot;Secret is returned with name %s and value %s %n&quot;,\n                    secretWithVersion.getName(), secretWithVersion.getValue()));\n</code></pre>\n<p>Sidenote: In the main service implementation class it doesn't enter in the map to print the values.</p>\n<p><a href=\"https://i.stack.imgur.com/jmECQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried to keep the SecretClient and use a Mono.fromCallable but I get the same value\nI've looked in the Microsoft page about the SecretAsyncClient and it says I need to subscribe it, but when I do that It shows an error for FlapNotNull.</p>\n<p>Official page: <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable</a></p>\n<p>Update:</p>\n<p>When I use the subscribe to print the value obtain, AzureKeyVault gives me this error &quot;code&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;AKV10000: Request is missing a Bearer or PoP token.</p>\n<p>And reactor shows : java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;</p>\n<p>Code:</p>\n<p><a href=\"https://i.stack.imgur.com/9iJQj.png\" rel=\"nofollow noreferrer\">Code and error</a></p>\n"},{"tags":["java","jackson","jackson-databind"],"owner":{"account_id":28203287,"reputation":31,"user_id":21556763,"display_name":"Jharokha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681973280,"creation_date":1681960676,"question_id":76060307,"body_markdown":"I have to sort the entities based on their attributes. There is priority given to attributes based on that I need to sort the objects.  \r\n\r\nGiven input looks like: \r\n    \r\n\r\n    [\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:true , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true}\r\n    ]\r\n\r\nAnd this is what expected:\r\n\r\n    [\r\n       {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:true ,  &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n    ]\r\n\r\nI want to do something like:\r\n\r\n    priority = [&quot;Clever&quot; ,&quot;Singer&quot; , &quot;Actor&quot;] \r\n          \r\n    list.sort(priority);\r\n\r\n","title":"Sort JsonNode inside ArrayNode in some sequence using java jackson API","body":"<p>I have to sort the entities based on their attributes. There is priority given to attributes based on that I need to sort the objects.</p>\n<p>Given input looks like:</p>\n<pre><code>[\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:true , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true}\n]\n</code></pre>\n<p>And this is what expected:</p>\n<pre><code>[\n   {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:true ,  &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n]\n</code></pre>\n<p>I want to do something like:</p>\n<pre><code>priority = [&quot;Clever&quot; ,&quot;Singer&quot; , &quot;Actor&quot;] \n      \nlist.sort(priority);\n</code></pre>\n"},{"tags":["java","com","rpc","opc-da","j-interop"],"comments":[{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681975604,"post_id":76061241,"comment_id":134143762,"body_markdown":"These are not bugs, just reports that your client requires changes to support servers DCOM hardening. Not familiar with your overall environment, but about RPC and DCOM, you need to determine precisely in what part of your setup you (or components you use) configure DCOM (CoInitializeSecurity calls) authentication level. Note the way you authenticate is somewhat another matter at this point. This is not clear to me reading your question. You can also check for messages event viewer message 10037 and 10038 they may add some info.","body":"These are not bugs, just reports that your client requires changes to support servers DCOM hardening. Not familiar with your overall environment, but about RPC and DCOM, you need to determine precisely in what part of your setup you (or components you use) configure DCOM (CoInitializeSecurity calls) authentication level. Note the way you authenticate is somewhat another matter at this point. This is not clear to me reading your question. You can also check for messages event viewer message 10037 and 10038 they may add some info."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681977425,"post_id":76061241,"comment_id":134144154,"body_markdown":"`j-interop` is Java library, so there is no `CoInitializeSecurity `. I added mentioned `Admin` Windows user to default DCOM activation and access permissions via `dcomcnfg`, grant both local and remote access and ensured that OPC server uses that default DCOM settings.","body":"<code>j-interop</code> is Java library, so there is no <code>CoInitializeSecurity </code>. I added mentioned <code>Admin</code> Windows user to default DCOM activation and access permissions via <code>dcomcnfg</code>, grant both local and remote access and ensured that OPC server uses that default DCOM settings."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681978505,"post_id":76061241,"comment_id":134144389,"body_markdown":"I guess I am not correct in terms. But also my app  &quot;formes&quot; outgoing NDR buffer with `PROTECTION_LEVEL_PRIVACY` (so it is stronger than `PROTECTION_LEVEL_INTEGRITY`) and authentication service is NTLM","body":"I guess I am not correct in terms. But also my app  &quot;formes&quot; outgoing NDR buffer with <code>PROTECTION_LEVEL_PRIVACY</code> (so it is stronger than <code>PROTECTION_LEVEL_INTEGRITY</code>) and authentication service is NTLM"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681978532,"post_id":76061241,"comment_id":134144393,"body_markdown":"These configuration settings are (at that point) irrelevant. Java or not, if you want to talk to a hardened DCOM server using DCOM you must call CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher somehow. If you don&#39;t, you&#39;ll use default security.","body":"These configuration settings are (at that point) irrelevant. Java or not, if you want to talk to a hardened DCOM server using DCOM you must call CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher somehow. If you don&#39;t, you&#39;ll use default security."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681986589,"post_id":76061241,"comment_id":134146220,"body_markdown":"@SimonMourier I guess you are talking about the same as in [this SO](https://stackoverflow.com/a/6125335/17782348), right?","body":"@SimonMourier I guess you are talking about the same as in <a href=\"https://stackoverflow.com/a/6125335/17782348\">this SO</a>, right?"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681994430,"post_id":76061241,"comment_id":134148043,"body_markdown":"Impersonation is another subject. I&#39;m just talking about calling CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in the client.","body":"Impersonation is another subject. I&#39;m just talking about calling CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in the client."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682402312,"post_id":76061241,"comment_id":134205072,"body_markdown":"Leave here [useful article about RPC on Windows](https://flylib.com/books/en/2.294.1.111/1/)","body":"Leave here <a href=\"https://flylib.com/books/en/2.294.1.111/1/\" rel=\"nofollow noreferrer\">useful article about RPC on Windows</a>"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682518336,"post_id":76061241,"comment_id":134229009,"body_markdown":"@SimonMourier Could you explain me again how [this C++ OPC DA](https://github.com/edimetia3d/OPC-Client-X64) client even with [RPC_C_AUTHN_LEVEL_NONE](https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57) in `CoInitializeSecurity` works out of the box on my the same test machine? Here is its [CoCreateInstanceEx](https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCHost.cpp#L69) call for more information.","body":"@SimonMourier Could you explain me again how <a href=\"https://github.com/edimetia3d/OPC-Client-X64\" rel=\"nofollow noreferrer\">this C++ OPC DA</a> client even with <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57\" rel=\"nofollow noreferrer\">RPC_C_AUTHN_LEVEL_NONE</a> in <code>CoInitializeSecurity</code> works out of the box on my the same test machine? Here is its <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCHost.cpp#L69\" rel=\"nofollow noreferrer\">CoCreateInstanceEx</a> call for more information."},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682521302,"post_id":76061241,"comment_id":134229889,"body_markdown":"You say &quot;on the same test machine&quot;. Is this client connecting to a DCOM-hardened machine through network? Otherwise have you checked the AppID registry key (for this client and yours) https://learn.microsoft.com/en-us/windows/win32/com/appid-key. Note there&#39;s also an auto-elevation patch (see end of https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c) that works for most non-anonymous clients. It&#39;s possible that this client benefits fromt it since it&#39;s non-anonymous.","body":"You say &quot;on the same test machine&quot;. Is this client connecting to a DCOM-hardened machine through network? Otherwise have you checked the AppID registry key (for this client and yours) <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/appid-key\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/appid-key</a>. Note there&#39;s also an auto-elevation patch (see end of <a href=\"https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/topic/&hellip;</a>) that works for most non-anonymous clients. It&#39;s possible that this client benefits fromt it since it&#39;s non-anonymous."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682572057,"post_id":76061241,"comment_id":134237666,"body_markdown":"@SimonMourier 1) Working C++ client, non-working Java client and OPC DA server are on the same machine - my laptop, so `localhost` connection. 2) I guess there is no AppID for both clients (I didn&#39;t find source code of editing registry) and they runs as raw `exe` binaries built from source code, so no installers that might add that registry AppID.\n3) You said `this client benefits fromt it since it&#39;s non-anonymous` Explain me, please, how do to you know that the C++ client is non-anonymous, because I thought that setting `RPC_C_AUTHN_LEVEL_NONE` in `CoInitializeSecurity` means anomymous.","body":"@SimonMourier 1) Working C++ client, non-working Java client and OPC DA server are on the same machine - my laptop, so <code>localhost</code> connection. 2) I guess there is no AppID for both clients (I didn&#39;t find source code of editing registry) and they runs as raw <code>exe</code> binaries built from source code, so no installers that might add that registry AppID. 3) You said <code>this client benefits fromt it since it&#39;s non-anonymous</code> Explain me, please, how do to you know that the C++ client is non-anonymous, because I thought that setting <code>RPC_C_AUTHN_LEVEL_NONE</code> in <code>CoInitializeSecurity</code> means anomymous."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682572501,"post_id":76061241,"comment_id":134237730,"body_markdown":"4) `RequireIntegrityActivationAuthenticationLevel` is 0 (so disabled) and `RaiseActivationAuthenticationLevel` is 2","body":"4) <code>RequireIntegrityActivationAuthenticationLevel</code> is 0 (so disabled) and <code>RaiseActivationAuthenticationLevel</code> is 2"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682575239,"post_id":76061241,"comment_id":134238077,"body_markdown":"If system is under normal maintenance, post March 2023, `RequireIntegrityActivationAuthenticationLevel` (server) has no longer any effect, and settings `RaiseActivationAuthenticationLevel` (client) should not be needed (defaults to 2). This line of code here https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57 tells this client seems (is it ran? can&#39;t say) to use anonymous activation security (https://learn.microsoft.com/en-us/windows/win32/com/turning-off-activation-security) that&#39;s whay it may work.\nAnonymous clients are not affected by DCOM hardening.","body":"If system is under normal maintenance, post March 2023, <code>RequireIntegrityActivationAuthenticationLevel</code> (server) has no longer any effect, and settings <code>RaiseActivationAuthenticationLevel</code> (client) should not be needed (defaults to 2). This line of code here <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57\" rel=\"nofollow noreferrer\">github.com/edimetia3d/OPC-Client-X64/blob/master/&hellip;</a> tells this client seems (is it ran? can&#39;t say) to use anonymous activation security (<a href=\"https://learn.microsoft.com/en-us/windows/win32/com/turning-off-activation-security\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/&hellip;</a>) that&#39;s whay it may work. Anonymous clients are not affected by DCOM hardening."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682576570,"post_id":76061241,"comment_id":134238310,"body_markdown":"@SimonMourier Regarding to security setting under AppID, is there any way to set Java-wide DCOM settings (via registry)? As it is suggested in [this forum topic](https://forums.oracle.com/ords/apexds/post/coinitializesecurity-7100): `Change security for java.exe in the registry. This effects\nall java-DCOM applications`","body":"@SimonMourier Regarding to security setting under AppID, is there any way to set Java-wide DCOM settings (via registry)? As it is suggested in <a href=\"https://forums.oracle.com/ords/apexds/post/coinitializesecurity-7100\" rel=\"nofollow noreferrer\">this forum topic</a>: <code>Change security for java.exe in the registry. This effects all java-DCOM applications</code>"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682578275,"post_id":76061241,"comment_id":134238660,"body_markdown":"All is explained here https://learn.microsoft.com/en-us/windows/win32/com/appid-key so yes with something similar to this : https://forums.oracle.com/ords/apexds/post/running-as-administrator-2258  but if CoInitializeSecurity is used somehow, the AppID info concerning security will not be used https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializesecurity#remarks","body":"All is explained here <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/appid-key\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/appid-key</a> so yes with something similar to this : <a href=\"https://forums.oracle.com/ords/apexds/post/running-as-administrator-2258\" rel=\"nofollow noreferrer\">forums.oracle.com/ords/apexds/post/&hellip;</a>  but if CoInitializeSecurity is used somehow, the AppID info concerning security will not be used <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializesecurity#remarks\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/api/combaseapi/&hellip;</a>"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1683118387,"post_id":76061241,"comment_id":134317076,"body_markdown":"@SimonMourier Do you know how manually create/edit `LaunchPermission` and `AccessPermission` registry values?","body":"@SimonMourier Do you know how manually create/edit <code>LaunchPermission</code> and <code>AccessPermission</code> registry values?"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1683121637,"post_id":76061241,"comment_id":134318026,"body_markdown":"Once you have created an APPID you can use DCOMCNFG https://learn.microsoft.com/en-us/windows/win32/com/setting-processwide-security-using-dcomcnfg example https://social.technet.microsoft.com/Forums/fr-FR/a28706ff-216c-437d-8210-311dd7dd93c5/how-to-grant-component-servicesdcom-permissions-for-an-application-via-gpo-ssis?forum=winserverGP","body":"Once you have created an APPID you can use DCOMCNFG <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/setting-processwide-security-using-dcomcnfg\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/&hellip;</a> example <a href=\"https://social.technet.microsoft.com/Forums/fr-FR/a28706ff-216c-437d-8210-311dd7dd93c5/how-to-grant-component-servicesdcom-permissions-for-an-application-via-gpo-ssis?forum=winserverGP\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/Forums/fr-FR/&hellip;</a>"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681972961,"creation_date":1681972961,"question_id":76061241,"body_markdown":"Our applications cannot poll OPC DA server (running on the SAME MACHINE) **ONLY in asynchronous mode**, because of (got from Windows Event Viewer -&gt; Windows Logs -&gt; System)\r\n```\r\nThe server-side authentication level policy does not allow the user \r\nDESKTOP-AAAAA\\Admin SID (S-1-5-21-239355189-745547292-2783995333-1001) \r\nfrom address 192.168.0.5 to activate DCOM server. \r\n\r\nPlease raise the activation authentication level at least to \r\nRPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application.\r\n```\r\nThis is because of tricky and buggy [Microsoft DCOM hardening][1]. Thus our application already uses [the highest authentication level][2] (higher than `RPC_C_AUTHN_LEVEL_PKT_INTEGRITY`) and DCOM settings are configured according to recommendation of OPC DA Server provider (Matricon Simulation in our case).\r\n\r\nFrom the error above I can conclude that `j-interop` (or something else in calling chain) uses wrong IP address of my machine, thus Windows applies wrong authentication rules. Because both the our application and OPC DA server run on the same machine, so I initialized `JiSession` with `127.0.0.1` as target host. But the error shows that request is from `192.168.0.5` - the IP of my WiFi adapter (*by the way, my machine hasn&#39;t static IP*):\r\n```\r\n$ ipconfig\r\n....\r\n\r\nWireless LAN adapter:\r\n\r\n   Connection-specific DNS Suffix  . :\r\n   IPv6 Address. . . . . . . . . . . : 2a02:2698:582b:1606:91d4:8c27:683f:333f\r\n   Temporary IPv6 Address. . . . . . : 2a02:2698:582b:1606:8042:9881:a089:37e3\r\n   Link-local IPv6 Address . . . . . : fe80::ac0:a10c:425:4577%8\r\n   IPv4 Address. . . . . . . . . . . : 192.168.0.5\r\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\r\n   Default Gateway . . . . . . . . . : fe80::1%8\r\n```\r\n\r\nAfter digging into `j-interop` source code, I found it [supports only][3] `ncacn_ip_tcp` RPC  [endpoint][4] disregarding remote address or localhost. For the latter `j-interop` might use `ncalrpc` RPC endpoint. I guess it could be the root cause of the error mentioned at the begging on the question.\r\n\r\nAt the moment my questions are:\r\n\r\n 1. Did anyone try to force `j-interop` using `ncalrpc` for `127.0.0.1`\r\n    (i.e. *localhost*)? \r\n 2. Or maybe someone solved the error of authentication level check?\r\n\r\n  [1]: https://techcommunity.microsoft.com/t5/windows-it-pro-blog/dcom-authentication-hardening-what-you-need-to-know/ba-p/3657154\r\n  [2]: https://github.com/skyghis/j-interop-ng/pull/17\r\n  [3]: https://github.com/skyghis/j-interop-ng/blob/jcifs-ng/j-interop/src/main/java/org/jinterop/dcom/core/JIComServer.java#L329\r\n  [4]: https://learn.microsoft.com/en-us/windows/win32/midl/ncacn-ip-tcp","title":"How to force j-interop using ncalrpc for localhost?","body":"<p>Our applications cannot poll OPC DA server (running on the SAME MACHINE) <strong>ONLY in asynchronous mode</strong>, because of (got from Windows Event Viewer -&gt; Windows Logs -&gt; System)</p>\n<pre><code>The server-side authentication level policy does not allow the user \nDESKTOP-AAAAA\\Admin SID (S-1-5-21-239355189-745547292-2783995333-1001) \nfrom address 192.168.0.5 to activate DCOM server. \n\nPlease raise the activation authentication level at least to \nRPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application.\n</code></pre>\n<p>This is because of tricky and buggy <a href=\"https://techcommunity.microsoft.com/t5/windows-it-pro-blog/dcom-authentication-hardening-what-you-need-to-know/ba-p/3657154\" rel=\"nofollow noreferrer\">Microsoft DCOM hardening</a>. Thus our application already uses <a href=\"https://github.com/skyghis/j-interop-ng/pull/17\" rel=\"nofollow noreferrer\">the highest authentication level</a> (higher than <code>RPC_C_AUTHN_LEVEL_PKT_INTEGRITY</code>) and DCOM settings are configured according to recommendation of OPC DA Server provider (Matricon Simulation in our case).</p>\n<p>From the error above I can conclude that <code>j-interop</code> (or something else in calling chain) uses wrong IP address of my machine, thus Windows applies wrong authentication rules. Because both the our application and OPC DA server run on the same machine, so I initialized <code>JiSession</code> with <code>127.0.0.1</code> as target host. But the error shows that request is from <code>192.168.0.5</code> - the IP of my WiFi adapter (<em>by the way, my machine hasn't static IP</em>):</p>\n<pre><code>$ ipconfig\n....\n\nWireless LAN adapter:\n\n   Connection-specific DNS Suffix  . :\n   IPv6 Address. . . . . . . . . . . : 2a02:2698:582b:1606:91d4:8c27:683f:333f\n   Temporary IPv6 Address. . . . . . : 2a02:2698:582b:1606:8042:9881:a089:37e3\n   Link-local IPv6 Address . . . . . : fe80::ac0:a10c:425:4577%8\n   IPv4 Address. . . . . . . . . . . : 192.168.0.5\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . : fe80::1%8\n</code></pre>\n<p>After digging into <code>j-interop</code> source code, I found it <a href=\"https://github.com/skyghis/j-interop-ng/blob/jcifs-ng/j-interop/src/main/java/org/jinterop/dcom/core/JIComServer.java#L329\" rel=\"nofollow noreferrer\">supports only</a> <code>ncacn_ip_tcp</code> RPC  <a href=\"https://learn.microsoft.com/en-us/windows/win32/midl/ncacn-ip-tcp\" rel=\"nofollow noreferrer\">endpoint</a> disregarding remote address or localhost. For the latter <code>j-interop</code> might use <code>ncalrpc</code> RPC endpoint. I guess it could be the root cause of the error mentioned at the begging on the question.</p>\n<p>At the moment my questions are:</p>\n<ol>\n<li>Did anyone try to force <code>j-interop</code> using <code>ncalrpc</code> for <code>127.0.0.1</code>\n(i.e. <em>localhost</em>)?</li>\n<li>Or maybe someone solved the error of authentication level check?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9505,"page":487,"page_size":100}
