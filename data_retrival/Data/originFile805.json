{"items":[{"tags":["java","selenium","selenium-webdriver","selenium-grid","saucelabs"],"owner":{"account_id":25586414,"reputation":23,"user_id":19364109,"display_name":"Durgesh patidar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671125305,"creation_date":1671109386,"question_id":74811972,"body_markdown":"Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0 only in case of &quot;APAC Southeast&quot; datacenter.\r\nAnd same is working using selenium 4.7.0 jar.\r\nand other datacenter are working fine with 3.4.0\r\n\r\n      public static void main(String[] args) throws MalformedURLException {\r\n        String sauceUrl = &quot;https://{username}:{accesskey}@ondemand.apac-southeast-1.saucelabs.com/wd/hub&quot;;\r\n        DesiredCapabilities cap = new DesiredCapabilities();\r\n        cap.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\r\n        cap.setCapability(&quot;platformName&quot;, &quot;windows 10&quot;);\r\n        cap.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\r\n        RemoteWebDriver driver = new RemoteWebDriver(new URL(sauceUrl), cap);\r\n        driver.get(&quot;https://x.github.io/sample-todo-app/&quot;);\r\n        System.out.println(&quot;working&quot;);\r\n      }\r\n\r\n\r\n&gt; error : org.openqa.selenium.SessionNotCreatedException: Unable to\r\n&gt; create new remote session desired capabilities = Capabilities\r\n&gt; [{securityToken=null, acceptSslCerts=true, marionette=true, build=X\r\n&gt; Test Run 2022-12-15 17:10:56 IST, acceptInsecureCerts=true,\r\n&gt; name=test.testcase, browserName=chrome, version=106.0,\r\n&gt; platform=WIN10,\r\n&gt; firefox_profile=org.openqa.selenium.chrome.ChromeProfile@1595c99e}],\r\n&gt; required capabilities = Capabilities [{}]\r\n\r\n#selenium #saucelab\r\n\r\nIt should work for all data centers\r\n","title":"Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0","body":"<p>Getting org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session for SauceLab using selenium 3.4.0 only in case of &quot;APAC Southeast&quot; datacenter.\nAnd same is working using selenium 4.7.0 jar.\nand other datacenter are working fine with 3.4.0</p>\n<pre><code>  public static void main(String[] args) throws MalformedURLException {\n    String sauceUrl = &quot;https://{username}:{accesskey}@ondemand.apac-southeast-1.saucelabs.com/wd/hub&quot;;\n    DesiredCapabilities cap = new DesiredCapabilities();\n    cap.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\n    cap.setCapability(&quot;platformName&quot;, &quot;windows 10&quot;);\n    cap.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\n    RemoteWebDriver driver = new RemoteWebDriver(new URL(sauceUrl), cap);\n    driver.get(&quot;https://x.github.io/sample-todo-app/&quot;);\n    System.out.println(&quot;working&quot;);\n  }\n</code></pre>\n<blockquote>\n<p>error : org.openqa.selenium.SessionNotCreatedException: Unable to\ncreate new remote session desired capabilities = Capabilities\n[{securityToken=null, acceptSslCerts=true, marionette=true, build=X\nTest Run 2022-12-15 17:10:56 IST, acceptInsecureCerts=true,\nname=test.testcase, browserName=chrome, version=106.0,\nplatform=WIN10,\nfirefox_profile=org.openqa.selenium.chrome.ChromeProfile@1595c99e}],\nrequired capabilities = Capabilities [{}]</p>\n</blockquote>\n<p>#selenium #saucelab</p>\n<p>It should work for all data centers</p>\n"},{"tags":["java","spring-boot","aspectj","spring-aop","aspect"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1671107876,"post_id":74811630,"comment_id":132029538,"body_markdown":"You are catching and swallowing the exception, what else would you expect? You shouldn&#39;t catch and swallow. You should at least do a `throw e` in your `catch` clause else processing will stop.","body":"You are catching and swallowing the exception, what else would you expect? You shouldn&#39;t catch and swallow. You should at least do a <code>throw e</code> in your <code>catch</code> clause else processing will stop."},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671108062,"post_id":74811630,"comment_id":132029616,"body_markdown":"I have add throw e, but still the exceptionHandler is not called. its like with finally block send null answer and nothing is showing in browser.","body":"I have add throw e, but still the exceptionHandler is not called. its like with finally block send null answer and nothing is showing in browser."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671108236,"post_id":74811630,"comment_id":132029677,"body_markdown":"Then there must be something else as well, however you should never swallow exceptions in an around aspect (unless you are writing a specific aspect for that).","body":"Then there must be something else as well, however you should never swallow exceptions in an around aspect (unless you are writing a specific aspect for that)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1671108870,"post_id":74811630,"comment_id":132029933,"body_markdown":"a `return` inside a `finally` block is calling for problems (at least an unexpected behavior for some developers) - the `finally` block is always executed, so even if (re-)throwing the Exception, the `return` statement will be executed and *override* (or *cancel*) the exception","body":"a <code>return</code> inside a <code>finally</code> block is calling for problems (at least an unexpected behavior for some developers) - the <code>finally</code> block is always executed, so even if (re-)throwing the Exception, the <code>return</code> statement will be executed and <i>override</i> (or <i>cancel</i>) the exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671109164,"post_id":74811630,"comment_id":132030023,"body_markdown":"actually it IS expected behavior according [JLS 14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.20.2-100-B-A-B-B): &quot;*If the catch block completes abruptly for reason R, then the finally block is executed. Then there is a choice: ...  If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and reason R is discarded)*&quot; (a `return` is also one reason for terminating the method abruptly)","body":"actually it IS expected behavior according <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.20.2-100-B-A-B-B\" rel=\"nofollow noreferrer\">JLS 14.20.2. Execution of try-finally and try-catch-finally</a>: &quot;<i>If the catch block completes abruptly for reason R, then the finally block is executed. Then there is a choice: ...  If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and reason R is discarded)</i>&quot; (a <code>return</code> is also one reason for terminating the method abruptly)"},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671113874,"post_id":74811630,"comment_id":132031870,"body_markdown":"I have changed the signature of log method to void and removed return statement. and what happened is that my handleException is called( shown in  log ) but as long as I have removed return statement nothing is shown in navigator.","body":"I have changed the signature of log method to void and removed return statement. and what happened is that my handleException is called( shown in  log ) but as long as I have removed return statement nothing is shown in navigator."},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1671115387,"post_id":74811630,"comment_id":132032474,"body_markdown":"I think the solution is to exclude the method handleException, is there any way to exclude it from being intercepted ?","body":"I think the solution is to exclude the method handleException, is there any way to exclude it from being intercepted ?"}],"answers":[{"tags":[],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671125156,"creation_date":1671125156,"answer_id":74815368,"question_id":74811630,"body_markdown":"I have first exclude the method handleException annotated with @ExceptionHandler as the following :\r\n\r\n     @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\r\n                + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\r\n\r\nI have added a flag that is been set to true when there is an exception, adding a return null at the end of the method ( not in finally) solve the problem, I dont know why :\r\n\r\n     @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\r\n                + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\r\n     public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            Object temp = null;\r\n            String inputString = getInput(joinPoint);\r\n            logger.debug(inputString);\r\n            boolean flag = false;\r\n            try{\r\n                temp = joinPoint.proceed();\r\n            }\r\n            catch (Exception e) {\r\n                flag = true;\r\n                logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\r\n                throw e;\r\n            }\r\n            finally {\r\n                logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\r\n                if(! flag)\r\n                    return temp;\r\n            }\r\n            return null;\r\n        }","title":"Exception handler is not called when exception is thrown because of Interceptor Around","body":"<p>I have first exclude the method handleException annotated with @ExceptionHandler as the following :</p>\n<pre><code> @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\n            + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\n</code></pre>\n<p>I have added a flag that is been set to true when there is an exception, adding a return null at the end of the method ( not in finally) solve the problem, I dont know why :</p>\n<pre><code> @Around(&quot;execution(*  com.coviddata..*(..) )&quot;\n            + &quot;&amp;&amp; !@annotation( org.springframework.web.bind.annotation.ExceptionHandler)&quot;)\n public Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object temp = null;\n        String inputString = getInput(joinPoint);\n        logger.debug(inputString);\n        boolean flag = false;\n        try{\n            temp = joinPoint.proceed();\n        }\n        catch (Exception e) {\n            flag = true;\n            logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\n            throw e;\n        }\n        finally {\n            logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\n            if(! flag)\n                return temp;\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671208086,"answer_count":1,"score":0,"last_activity_date":1671125156,"creation_date":1671107776,"question_id":74811630,"body_markdown":"I have a method handleException that return a ResponseEntity :\r\n\r\n```\r\n\r\n@ExceptionHandler({Exception.class})\r\npublic ResponseEntity handleException(Exception e) {\r\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;( );\r\n    List temp;\r\n    data.put( &quot;message&quot;, e.getMessage() );\r\n    if (e instanceof MissingServletRequestParameterException) {\r\n        if ( e.getMessage().contains(&quot;countryName&quot;) )\r\n        {\r\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_CNABSENT);\r\n        } else{\r\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_DTABSENT);\r\n        }\r\n        data.clear();\r\n        data.put( &quot;message&quot;,  (String)temp.get(1));\r\n        return ResponseEntity.status((HttpStatus)temp.get(0)).body( data);\r\n    } else if (e instanceof CustomException) {\r\n        return ResponseEntity.status(((CustomException) e).getStatus()).body(data);\r\n    }\r\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(data);\r\n}\r\n```\r\n\r\nand it was working fine before adding loggingInterceptor :\r\n\r\n\r\n```\r\n@Around(&quot;execution(*  com.coviddata..*(..) )&quot;)\r\npublic Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    Object temp = null;\r\n    String inputString = getInput(joinPoint);\r\n    logger.debug(inputString);\r\n    try{\r\n        temp = joinPoint.proceed();\r\n    }\r\n    catch (Exception e) {\r\n        logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\r\n    }\r\n    finally {\r\n        logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\nNow, i can log before and after of all methods. the problem is when an exception is thrown, this log method prevent my exception handler to be called and thus nothing is send to the user as ResponseENtity and even the joinPoin.proceed() return null.\r\n\r\n\r\nI have tought to intercept all methods except handleException but I think this is not the problem. I think the solution of that. I want only to log when there is exception and return ResponseEntity.\r\n\r\nIs there a way to exclude handleException method from being intercepted ?","title":"Exception handler is not called when exception is thrown because of Interceptor Around","body":"<p>I have a method handleException that return a ResponseEntity :</p>\n<pre><code>\n@ExceptionHandler({Exception.class})\npublic ResponseEntity handleException(Exception e) {\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;( );\n    List temp;\n    data.put( &quot;message&quot;, e.getMessage() );\n    if (e instanceof MissingServletRequestParameterException) {\n        if ( e.getMessage().contains(&quot;countryName&quot;) )\n        {\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_CNABSENT);\n        } else{\n            temp = REP_MAP.get(Utility.HttpCode.REP_HTTP_DTABSENT);\n        }\n        data.clear();\n        data.put( &quot;message&quot;,  (String)temp.get(1));\n        return ResponseEntity.status((HttpStatus)temp.get(0)).body( data);\n    } else if (e instanceof CustomException) {\n        return ResponseEntity.status(((CustomException) e).getStatus()).body(data);\n    }\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(data);\n}\n</code></pre>\n<p>and it was working fine before adding loggingInterceptor :</p>\n<pre><code>@Around(&quot;execution(*  com.coviddata..*(..) )&quot;)\npublic Object logMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n    Object temp = null;\n    String inputString = getInput(joinPoint);\n    logger.debug(inputString);\n    try{\n        temp = joinPoint.proceed();\n    }\n    catch (Exception e) {\n        logger.error( ERROR  + &quot;  &quot; + ((MethodSignature)joinPoint.getSignature()).getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName() );\n    }\n    finally {\n        logger.debug( OUT  + ((MethodSignature)joinPoint.getSignature()).getReturnType() );\n        return temp;\n    }\n}\n</code></pre>\n<p>Now, i can log before and after of all methods. the problem is when an exception is thrown, this log method prevent my exception handler to be called and thus nothing is send to the user as ResponseENtity and even the joinPoin.proceed() return null.</p>\n<p>I have tought to intercept all methods except handleException but I think this is not the problem. I think the solution of that. I want only to log when there is exception and return ResponseEntity.</p>\n<p>Is there a way to exclude handleException method from being intercepted ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671125037,"creation_date":1671125037,"answer_id":74815352,"question_id":74814279,"body_markdown":"Make sure you added last version\r\n```\r\ndependencies {\r\n    implementation &quot;com.vanniktech:android-image-cropper:4.5.0&quot;\r\n}\r\n```\r\n\r\nUse this code \r\n```\r\nActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\r\n    if (result.isSuccessful()) {\r\n        Bitmap cropped = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\r\n    }\r\n});\r\n```\r\n\r\n```\r\nCropImageOptions cropImageOptions = new CropImageOptions();\r\ncropImageOptions.imageSourceIncludeGallery = false;\r\ncropImageOptions.imageSourceIncludeCamera = true;\r\nCropImageContractOptions cropImageContractOptions = new CropImageContractOptions(/*pass you image uri*/, cropImageOptions);\r\ncropImage.launch(cropImageContractOptions);\r\n```","title":"How to use CanHub Image Cropper latest version on Java","body":"<p>Make sure you added last version</p>\n<pre><code>dependencies {\n    implementation &quot;com.vanniktech:android-image-cropper:4.5.0&quot;\n}\n</code></pre>\n<p>Use this code</p>\n<pre><code>ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\n    if (result.isSuccessful()) {\n        Bitmap cropped = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\n    }\n});\n</code></pre>\n<pre><code>CropImageOptions cropImageOptions = new CropImageOptions();\ncropImageOptions.imageSourceIncludeGallery = false;\ncropImageOptions.imageSourceIncludeCamera = true;\nCropImageContractOptions cropImageContractOptions = new CropImageContractOptions(/*pass you image uri*/, cropImageOptions);\ncropImage.launch(cropImageContractOptions);\n</code></pre>\n"}],"owner":{"account_id":27263586,"reputation":3,"user_id":20786030,"display_name":"ein storage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815352,"answer_count":1,"score":0,"last_activity_date":1671125037,"creation_date":1671119728,"question_id":74814279,"body_markdown":"Need help, I&#39;m stuck at how to convert kotlin function from CanHub Image Cropper to Java.\r\nIt include two code, Activity result and the calling method\r\n\r\nthe original kotlin code is like this for the activity result:\r\n\r\n```\r\nprivate val cropImage = registerForActivityResult(CropImageContract()) { result -&gt;\r\n    if (result.isSuccessful) {\r\n        // use the returned uri\r\n        val uriContent = result.uriContent\r\n        val bitmap = MediaStore.Images.Media.getBitmap(myActivity.contentResolver, uriContent)\r\n\r\n        imageView.setImageBitmap(bitmap)\r\n\r\n    } else {\r\n        // an error occurred\r\n        val exception = result.error\r\n    }\r\n}\r\n```\r\n\r\nand this is how the calling method in kotlin:\r\n\r\n```\r\ncropImage.launch(\r\n    options {\r\n        setImageSource(\r\n            includeGallery = true,\r\n            includeCamera = true\r\n        )\r\n        setAspectRatio(150,150)\r\n        setGuidelines(CropImageView.Guidelines.ON)\r\n        setOutputCompressFormat(Bitmap.CompressFormat.JPEG)\r\n        setOutputCompressQuality(85)\r\n    }\r\n)\r\n```\r\n\r\n\r\nI try to convert the code into java since my project right now is Java and older library is not compatible with Android 11\r\n\r\nhere is my activity result converted into java, I don&#39;t know if it&#39;s the right one but at least it has no error:\r\n\r\n```\r\nActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(\r\n        new CropImageContract(),\r\n        result -&gt; {\r\n            Uri uriContent = result.getUriContent();\r\n            Bitmap bitmap = null;\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(myActivity.getContentResolver(), uriContent);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            imageView.setImageBitmap(bitmap);\r\n        });\r\n```\r\n\r\nbut I&#39;m stuck at the calling method:\r\n\r\n```\r\nCropImageContractOptions cropImageContractOptions = ? /* &lt;-- what to put here?? */\r\ncropImage.launch(cropImageContractOptions);\r\n```\r\n\r\nI have tried to use option but it just error unresolved variable\r\n\r\nI have taking a look at this: https://stackoverflow.com/questions/71976279/how-to-croping-image-with-source-just-from-camera-with-canhub-android-image-crop\r\n\r\nBut for some reason it does not even work at all for me\r\n\r\nIs CanHub Image Cropper is not compatible with Java at all? ","title":"How to use CanHub Image Cropper latest version on Java","body":"<p>Need help, I'm stuck at how to convert kotlin function from CanHub Image Cropper to Java.\nIt include two code, Activity result and the calling method</p>\n<p>the original kotlin code is like this for the activity result:</p>\n<pre><code>private val cropImage = registerForActivityResult(CropImageContract()) { result -&gt;\n    if (result.isSuccessful) {\n        // use the returned uri\n        val uriContent = result.uriContent\n        val bitmap = MediaStore.Images.Media.getBitmap(myActivity.contentResolver, uriContent)\n\n        imageView.setImageBitmap(bitmap)\n\n    } else {\n        // an error occurred\n        val exception = result.error\n    }\n}\n</code></pre>\n<p>and this is how the calling method in kotlin:</p>\n<pre><code>cropImage.launch(\n    options {\n        setImageSource(\n            includeGallery = true,\n            includeCamera = true\n        )\n        setAspectRatio(150,150)\n        setGuidelines(CropImageView.Guidelines.ON)\n        setOutputCompressFormat(Bitmap.CompressFormat.JPEG)\n        setOutputCompressQuality(85)\n    }\n)\n</code></pre>\n<p>I try to convert the code into java since my project right now is Java and older library is not compatible with Android 11</p>\n<p>here is my activity result converted into java, I don't know if it's the right one but at least it has no error:</p>\n<pre><code>ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(\n        new CropImageContract(),\n        result -&gt; {\n            Uri uriContent = result.getUriContent();\n            Bitmap bitmap = null;\n            try {\n                bitmap = MediaStore.Images.Media.getBitmap(myActivity.getContentResolver(), uriContent);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            imageView.setImageBitmap(bitmap);\n        });\n</code></pre>\n<p>but I'm stuck at the calling method:</p>\n<pre><code>CropImageContractOptions cropImageContractOptions = ? /* &lt;-- what to put here?? */\ncropImage.launch(cropImageContractOptions);\n</code></pre>\n<p>I have tried to use option but it just error unresolved variable</p>\n<p>I have taking a look at this: <a href=\"https://stackoverflow.com/questions/71976279/how-to-croping-image-with-source-just-from-camera-with-canhub-android-image-crop\">How to croping image with source just from camera with Canhub Android Image Cropper with Java</a></p>\n<p>But for some reason it does not even work at all for me</p>\n<p>Is CanHub Image Cropper is not compatible with Java at all?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1671125405,"post_id":74815338,"comment_id":132036305,"body_markdown":"If I understand what you&#39;re saying, you shouldn&#39;t have a single Lambda function for multiple (dev/prod/etc) environments.","body":"If I understand what you&#39;re saying, you shouldn&#39;t have a single Lambda function for multiple (dev/prod/etc) environments."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671126264,"post_id":74815338,"comment_id":132036562,"body_markdown":"I have single lambda function , right, now that lambda is purely written using java APIs no framework, right, now I have multiple env like qa,dev,statging, right. I am not able to achieve the environment specific profiling, what is the approach, using ultiple lambda for each env??\\","body":"I have single lambda function , right, now that lambda is purely written using java APIs no framework, right, now I have multiple env like qa,dev,statging, right. I am not able to achieve the environment specific profiling, what is the approach, using ultiple lambda for each env??\\"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1671126826,"post_id":74815338,"comment_id":132036717,"body_markdown":"I&#39;m saying that if you have 3 environments (qa, dev, staging) then you should have 3 Lambda functions. Their code might be identical but they are 3 different Lambda functions and hence each can have its own environment variables or XML settings file or whatever so they can each do environment-specific things. Ideally, they&#39;d also be deployed in 3 different AWS accounts, but that&#39;s for another day.","body":"I&#39;m saying that if you have 3 environments (qa, dev, staging) then you should have 3 Lambda functions. Their code might be identical but they are 3 different Lambda functions and hence each can have its own environment variables or XML settings file or whatever so they can each do environment-specific things. Ideally, they&#39;d also be deployed in 3 different AWS accounts, but that&#39;s for another day."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671127101,"post_id":74815338,"comment_id":132036800,"body_markdown":"Fair enough, that means we don&#39;t have any provision to achieve env profiling just like spring boot in aws lambda java, please correct my understanding.","body":"Fair enough, that means we don&#39;t have any provision to achieve env profiling just like spring boot in aws lambda java, please correct my understanding."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1671127442,"post_id":74815338,"comment_id":132036901,"body_markdown":"I&#39;d expect you to be able to dictate which profile is active through a Lambda environment variable (see [example](https://www.kapresoft.com/java/2019/10/20/aws-lambda-spring-boot-profiles.html)). Each of your 3 Lambda functions would have a different value set for the active profile.","body":"I&#39;d expect you to be able to dictate which profile is active through a Lambda environment variable (see <a href=\"https://www.kapresoft.com/java/2019/10/20/aws-lambda-spring-boot-profiles.html\" rel=\"nofollow noreferrer\">example</a>). Each of your 3 Lambda functions would have a different value set for the active profile."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1671134162,"post_id":74815338,"comment_id":132038970,"body_markdown":"Your maven script already builds 3 different packages depending on the profile selected at build time.  Unless the caller to your Lambda specifies the environment how would the code &quot;know&quot; that which environment is being used?","body":"Your maven script already builds 3 different packages depending on the profile selected at build time.  Unless the caller to your Lambda specifies the environment how would the code &quot;know&quot; that which environment is being used?"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671169721,"post_id":74815338,"comment_id":132045564,"body_markdown":"That &quot;How would...&#39; I want to figured it out, if maven already build the selected profile, then How I tell lambda that you need to pick this profile, please help me on this","body":"That &quot;How would...&#39; I want to figured it out, if maven already build the selected profile, then How I tell lambda that you need to pick this profile, please help me on this"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671124986,"creation_date":1671124986,"question_id":74815338,"body_markdown":"I have written AWS lambda using java 11 runtime, not the lambda snippet require to invoke external API, the APIs are different for dev, qa, uat and preprod environment.\r\n\r\nThere is no framework has been integrating, the pure Java SDK is used to write the lambda handler.\r\n\r\nI have created environment specific properties file, dev.properties, qa.properties etc.\r\nI tried to create the jar using maven profile like below \r\n\r\nI have added profile section in my pom.xml\r\n\r\n    &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;&lt;/id&gt;\r\n    \t\t&lt;activation&gt;\r\n    \t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t&lt;/activation&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;local&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-local&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;dev&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-dev&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;qa&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-qa&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;preprod&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-preprod&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;env&gt;-prod&lt;/env&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;finalName&gt;trv-lambda&lt;/finalName&gt;\r\n    \t&lt;filters&gt;\r\n    \t\t&lt;filter&gt;src/main/resources/application${env}.properties&lt;/filter&gt;\r\n    \t&lt;/filters&gt;\r\n    \r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;*.properties&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n\r\nAnd then after, I used the below command\r\n\r\n    mvn -P dev clean install\r\n\r\nbut it didn&#39;t work.\r\n\r\nThen I tried to specify the environment variables inside AWS Lambda, but later I realized that it won&#39;t work, because I have trigger for every env, but I have single lambda to trigger for all the environment, how do I identify which profile need to pick, for single time, only single jar can be created, so I am stuck here\r\n\r\nI want to figure out the way to achieve the profiling just like we used to did in Spring boot.\r\n ","title":"Java 11 environment specific profiling in AWS lambda","body":"<p>I have written AWS lambda using java 11 runtime, not the lambda snippet require to invoke external API, the APIs are different for dev, qa, uat and preprod environment.</p>\n<p>There is no framework has been integrating, the pure Java SDK is used to write the lambda handler.</p>\n<p>I have created environment specific properties file, dev.properties, qa.properties etc.\nI tried to create the jar using maven profile like below</p>\n<p>I have added profile section in my pom.xml</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;env&gt;&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-local&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-dev&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;qa&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-qa&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;preprod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-preprod&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;prod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;env&gt;-prod&lt;/env&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;trv-lambda&lt;/finalName&gt;\n    &lt;filters&gt;\n        &lt;filter&gt;src/main/resources/application${env}.properties&lt;/filter&gt;\n    &lt;/filters&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>And then after, I used the below command</p>\n<pre><code>mvn -P dev clean install\n</code></pre>\n<p>but it didn't work.</p>\n<p>Then I tried to specify the environment variables inside AWS Lambda, but later I realized that it won't work, because I have trigger for every env, but I have single lambda to trigger for all the environment, how do I identify which profile need to pick, for single time, only single jar can be created, so I am stuck here</p>\n<p>I want to figure out the way to achieve the profiling just like we used to did in Spring boot.</p>\n"},{"tags":["java","retrofit2"],"comments":[{"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"score":0,"creation_date":1671108006,"post_id":74795424,"comment_id":132029587,"body_markdown":"I&#39;m not familiar with retrofit, but saw this line in your code: `if (retrofit == null) {` - that means that you only replace the retrofit instance if it was null... And the token&#39;s set in that code, so you&#39;ll keep getting the instance with the original token, rather than the instance with the modified token, if I&#39;ve understood correctly.","body":"I&#39;m not familiar with retrofit, but saw this line in your code: <code>if (retrofit == null) {</code> - that means that you only replace the retrofit instance if it was null... And the token&#39;s set in that code, so you&#39;ll keep getting the instance with the original token, rather than the instance with the modified token, if I&#39;ve understood correctly."},{"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"score":0,"creation_date":1671108265,"post_id":74795424,"comment_id":132029690,"body_markdown":"If that&#39;s the issue, a quick fix could be to compare the token passed to the method with the token used to create the retrofit instance (if it&#39;s exposed as a property on the Retrofit class use that; if not, hold it in another static variable and set it when you set the retrofit variable itself, so it shows the token that&#39;s used by that instance at any time); that way you reuse the existing instance when appropriate, but renew whenever you have a fresh token value, so it&#39;ll always work as expected.","body":"If that&#39;s the issue, a quick fix could be to compare the token passed to the method with the token used to create the retrofit instance (if it&#39;s exposed as a property on the Retrofit class use that; if not, hold it in another static variable and set it when you set the retrofit variable itself, so it shows the token that&#39;s used by that instance at any time); that way you reuse the existing instance when appropriate, but renew whenever you have a fresh token value, so it&#39;ll always work as expected."},{"owner":{"account_id":23793352,"reputation":3,"user_id":17804555,"display_name":"Michael Blaser"},"score":1,"creation_date":1671109973,"post_id":74795424,"comment_id":132030316,"body_markdown":"That is the solution of\nJohnlBevan. I have the line: if (retrofit == zero) {\nturned off. And it works! Thanks for your support.","body":"That is the solution of JohnlBevan. I have the line: if (retrofit == zero) { turned off. And it works! Thanks for your support."}],"answers":[{"tags":[],"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671124042,"creation_date":1671124042,"answer_id":74815177,"question_id":74795424,"body_markdown":"Your method has the below logic:\r\n\r\n\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl, String token) {\r\n        if (retrofit == null) {\r\n           // ...\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n\r\nBecause `retrofit` is defined as static it will keep its given value from the moment it&#39;s first assigned / even without the `static` keyword it would keep that value for the duration of the instantiated object&#39;s lifetime.  \r\n\r\nThe first time `getClient` is called the value is null, so the logic in the `if` block is run &amp; the retrofit gets defined with an Authorization header which includes the given `token` value.  \r\n\r\nHowever, subsequent calls to `getClient` will see that `retrofit` is already assigned, so will just return it; regardless of what parameters were sent to the method (i.e. even if there&#39;s a new token), and as the variable is static this will be true even if you&#39;ve created a new instance of your `RetrofitClient`.\r\n\r\nThere are various solutions:\r\n\r\n1) Remove the `if` statement so that the logic within it is run every time.  This will incur some performance overhead (i.e. as you&#39;re having to do work for every request, even if the `baseUrl` and `token` values are the same as previously), but will return a `Retrofit` instance with the correct values every time.  If doing this, you may not need the `private static Retrofit retrofit  = null;` line at all; as the value is created and returned entirely within your `getClient` method; so making the value accessible outside of this context just adds risk.\r\n\r\n2) Remove the `static` keyword and create a new instance of the `RetrofitClient` class for each new baseUrl + token value (i.e. each time your token expires).  This may require additional refactoring, as you&#39;ll then require an instance of your class to access the `getClient` method.\r\n\r\n3) Add code such as below, to check if the values are different to previous requests and update `retrofit` only when required.  E.g.\r\n\r\n```\r\nprivate static Retrofit retrofit = null;\r\nprivate static String baseUrlCached = null;\r\nprivate static String tokenCached = null;\r\n\r\npublic static Retrofit getClient(String baseUrl, String token) {\r\n    if (retrofit == null || (baseUrl != baseUrlCached || token != tokenCached)) {\r\n       // ...\r\n    }\r\n    return retrofit;\r\n}\r\n```\r\n\r\n","title":"Why does my retrofit always get the query with old tokens?","body":"<p>Your method has the below logic:</p>\n<pre><code>private static Retrofit retrofit = null;\n\npublic static Retrofit getClient(String baseUrl, String token) {\n    if (retrofit == null) {\n       // ...\n    }\n    return retrofit;\n}\n</code></pre>\n<p>Because <code>retrofit</code> is defined as static it will keep its given value from the moment it's first assigned / even without the <code>static</code> keyword it would keep that value for the duration of the instantiated object's lifetime.</p>\n<p>The first time <code>getClient</code> is called the value is null, so the logic in the <code>if</code> block is run &amp; the retrofit gets defined with an Authorization header which includes the given <code>token</code> value.</p>\n<p>However, subsequent calls to <code>getClient</code> will see that <code>retrofit</code> is already assigned, so will just return it; regardless of what parameters were sent to the method (i.e. even if there's a new token), and as the variable is static this will be true even if you've created a new instance of your <code>RetrofitClient</code>.</p>\n<p>There are various solutions:</p>\n<ol>\n<li><p>Remove the <code>if</code> statement so that the logic within it is run every time.  This will incur some performance overhead (i.e. as you're having to do work for every request, even if the <code>baseUrl</code> and <code>token</code> values are the same as previously), but will return a <code>Retrofit</code> instance with the correct values every time.  If doing this, you may not need the <code>private static Retrofit retrofit  = null;</code> line at all; as the value is created and returned entirely within your <code>getClient</code> method; so making the value accessible outside of this context just adds risk.</p>\n</li>\n<li><p>Remove the <code>static</code> keyword and create a new instance of the <code>RetrofitClient</code> class for each new baseUrl + token value (i.e. each time your token expires).  This may require additional refactoring, as you'll then require an instance of your class to access the <code>getClient</code> method.</p>\n</li>\n<li><p>Add code such as below, to check if the values are different to previous requests and update <code>retrofit</code> only when required.  E.g.</p>\n</li>\n</ol>\n<pre><code>private static Retrofit retrofit = null;\nprivate static String baseUrlCached = null;\nprivate static String tokenCached = null;\n\npublic static Retrofit getClient(String baseUrl, String token) {\n    if (retrofit == null || (baseUrl != baseUrlCached || token != tokenCached)) {\n       // ...\n    }\n    return retrofit;\n}\n</code></pre>\n"}],"owner":{"account_id":23793352,"reputation":3,"user_id":17804555,"display_name":"Michael Blaser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815177,"answer_count":1,"score":0,"last_activity_date":1671124042,"creation_date":1671006580,"question_id":74795424,"body_markdown":"In my app I use Retrofit2 with a service to collect data on eBay. For this I need a token that is valid for 2 hours. \r\n\r\nIf I start the query, the token is taken over from my database and works. If the 2 hours have expired, the token will be re-entered in the database. But when the data is picked up again on Ebay, I get an error 401 - unauthorized access. I use a `MainActivity` and invite the fragments there. As soon as I restart the app, everything works again. I suspect that the service does not update the token when query and use the old token. How can I end the service or query and start with the new token? What could be the problem?\r\n\r\n\r\n```java\r\npublic class RetrofitClient {\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl, String token) {\r\n        if (retrofit == null) {\r\n\r\n            String auth = &quot;Bearer &quot; + token;\r\n            String cont = &quot;application/json&quot;;\r\n\r\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\r\n\r\n            okHttpClient.addInterceptor(chain -&gt; {\r\n                Request request = chain.request().newBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, auth)\r\n                        .addHeader(&quot;Content-Type&quot;, cont)\r\n                        .build();\r\n                return chain.proceed(request);\r\n            });\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(okHttpClient.build())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n```\r\n\r\n\r\nWhen picking up the token from the database, according to log, the current token is always read out. But the feedback from eBay is always the 401 error.\r\n\r\n**Edit:** The OkHttp connection keeps the token. Since the same address is called up, the previous connection with the old token is used. How can I replace/replace the token?","title":"Why does my retrofit always get the query with old tokens?","body":"<p>In my app I use Retrofit2 with a service to collect data on eBay. For this I need a token that is valid for 2 hours.</p>\n<p>If I start the query, the token is taken over from my database and works. If the 2 hours have expired, the token will be re-entered in the database. But when the data is picked up again on Ebay, I get an error 401 - unauthorized access. I use a <code>MainActivity</code> and invite the fragments there. As soon as I restart the app, everything works again. I suspect that the service does not update the token when query and use the old token. How can I end the service or query and start with the new token? What could be the problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RetrofitClient {\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseUrl, String token) {\n        if (retrofit == null) {\n\n            String auth = &quot;Bearer &quot; + token;\n            String cont = &quot;application/json&quot;;\n\n            OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();\n\n            okHttpClient.addInterceptor(chain -&gt; {\n                Request request = chain.request().newBuilder()\n                        .addHeader(&quot;Authorization&quot;, auth)\n                        .addHeader(&quot;Content-Type&quot;, cont)\n                        .build();\n                return chain.proceed(request);\n            });\n\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(okHttpClient.build())\n                    .build();\n        }\n        return retrofit;\n    }\n</code></pre>\n<p>When picking up the token from the database, according to log, the current token is always read out. But the feedback from eBay is always the 401 error.</p>\n<p><strong>Edit:</strong> The OkHttp connection keeps the token. Since the same address is called up, the previous connection with the old token is used. How can I replace/replace the token?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1630152722,"post_id":68962694,"comment_id":121881110,"body_markdown":"The error is saying that the address you provided is returning html, not JSON","body":"The error is saying that the address you provided is returning html, not JSON"},{"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"score":0,"creation_date":1630172540,"post_id":68962694,"comment_id":121885963,"body_markdown":"right, which means I&#39;m not connected to the schema somehow, and something is wrong with the configurations.. a. ny idea what exactly?","body":"right, which means I&#39;m not connected to the schema somehow, and something is wrong with the configurations.. a. ny idea what exactly?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1630239340,"post_id":68962694,"comment_id":121897002,"body_markdown":"I&#39;m not sure your ssl properties are all correct. The Kafka properties themselves have periods, not hyphens https://stackoverflow.com/questions/51200107/spring-kafka-ssl-setup-in-spring-boot-application-yml","body":"I&#39;m not sure your ssl properties are all correct. The Kafka properties themselves have periods, not hyphens <a href=\"https://stackoverflow.com/questions/51200107/spring-kafka-ssl-setup-in-spring-boot-application-yml\" title=\"spring kafka ssl setup in spring boot application yml\">stackoverflow.com/questions/51200107/&hellip;</a>"}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123857,"creation_date":1630139879,"question_id":68962694,"body_markdown":"I&#39;m trying to connect a spring boot Kafka application to a schema registry to read messages, but I keep running into an issue.\r\n\r\nmy **application.yaml** looks like this\r\n```yaml\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: //server_url:port\r\n    client-id: //client_id\r\n    consumer:\r\n      ssl:\r\n        key-password: //password\r\n        key-store-password: //password\r\n        key-store-location: //path to jks\r\n        key-store-type: jks\r\n        trust-store-password: //password\r\n        trust-store-location: //path to jks\r\n        trust-store-type: jks\r\n      bootstrap-servers: //server_url:port\r\n      auto-offset-reset: earliest\r\n      client-id: //client_id\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    properties:\r\n      schema.registry.url: // https:schema_reg_url\r\n      sasl.mechanism: PLAIN\r\n      security.protocol: SSL\r\n      ssl.endpoint.identification.algorithm:\r\n```\r\n\r\n**Main class**\r\n```java\r\n@SpringBootApplication\r\n@EnableKafka\r\npublic class AksKafkaConsumer {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(AksKafkaConsumer.class, args);\r\n  }\r\n}\r\n```\r\nThen my **Kafka Listener service**\r\n```java\r\n@Service\r\npublic class listenerService {\r\n  @KafkaListener(topics = &quot;topic_name&quot;, groupId = &quot;group_id&quot;)\r\n  public void consumer(GenericRecord record) {\r\n    System.out.println(record);\r\n  }\r\n}\r\n```\r\n\r\nwhile running this, I&#39;m always getting an error as follows\r\n```stack\r\nERROR o.s.klistener.LoggingErrorHandler.handle - Error while processing null\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition [---] at offset 700501. If needed, please seek past the record to continue consumption\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error retreiving Avro schema for id 1234\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exception.RestClientException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, oject, &#39;true&#39;, &#39;false&#39;, or &#39;null&#39;)\r\nat[source: (sun.net.www.protocol.http.HttpUrlConnection$HttpInputStream): line 1, column 2]; error code 50005\r\n.......\r\n```\r\n\r\nI know there&#39;s nothing wrong with the topic messages, because I can view it &amp; even consume it through another application.\r\n\r\nany thing I&#39;m doing wrong that&#39;s causing me not reading the message? is it a schema registry connection problem??? \r\n\r\nthe KafkaListener method is working for consuming String messages, but I need to consume a GenericRecord.\r\n\r\nany suggestions?\r\n\r\n**EDIT** - \r\nI can connect in a different way as a POC, but it doesn&#39;t really serve my purposes. This is how...\r\n**Main Class**\r\n```java\r\n@SpringBootApplication\r\n@EnableKafka\r\npublic class AksKafkaConsumer {\r\n  public void main (String[] args) {\r\n    ApplicationContext appContxt = SpringApplication.run(AksKafkaConsumer.class, args);\r\n    KafkaConsumerService service = appContxt.getBean(AksKafkaConsumer.class);\r\n    service.consumMsg(args);\r\n  }\r\n\r\n  @Service\r\n  class KafkaConsumerService {\r\n    public void consumMsg(String[] args) {\r\n      Properties props = new Properties();\r\n      ......\r\n      props.put(ProducreConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;bootstrap_config&quot;);\r\n      props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;schema_registry_url&quot;);\r\n      props.put(CONSUMER_CONFIG.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n      props.put(CONSUMER_CONFIG.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n      //this goes on to manually setup 12 other property\r\n      .....\r\n\r\n      KafkaConsumer&lt;GenericRecord, GenericRecord&gt; consumer = null\r\n\r\n      try {\r\n        ArrayList&lt;String&gt; topics = new ArrayList&lt;String&gt;();\r\n        topics.add(&quot;topic_name&quot;);\r\n        consumer = new KafkaConsumer&lt;GenericRecord, GenericRecord&gt;(props);\r\n        consumer.subscribe(topics);\r\n\r\n        while(true) {\r\n          ConsumerRecord&lt;GenericRecord, GenericRecord&gt; records = consumer.poll(1000);\r\n          for (ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record : records) {\r\n           System.out.println(record);  \r\n         }\r\n        }\r\n        catch (Exception e) { ... }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nManually adding all the configurations like that, is causing all sort of problems, especially with pulling the key/trust store jks files..... plus while running from an IDE I need to also set System.setProperty() too.\r\n\r\nAlso, I don&#39;t like exposing the jks file path &amp; passwords from the main class like that.\r\n\r\nI&#39;m okay with building a separate configuration class for it, I&#39;m just not sure I know how to configure something like that (w/ schema registry).\r\n\r\n**ANY** help or pointers would be appreciated.","title":"Connecting my Kafka Consumer to a Schema registry","body":"<p>I'm trying to connect a spring boot Kafka application to a schema registry to read messages, but I keep running into an issue.</p>\n<p>my <strong>application.yaml</strong> looks like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    bootstrap-servers: //server_url:port\n    client-id: //client_id\n    consumer:\n      ssl:\n        key-password: //password\n        key-store-password: //password\n        key-store-location: //path to jks\n        key-store-type: jks\n        trust-store-password: //password\n        trust-store-location: //path to jks\n        trust-store-type: jks\n      bootstrap-servers: //server_url:port\n      auto-offset-reset: earliest\n      client-id: //client_id\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n    properties:\n      schema.registry.url: // https:schema_reg_url\n      sasl.mechanism: PLAIN\n      security.protocol: SSL\n      ssl.endpoint.identification.algorithm:\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableKafka\npublic class AksKafkaConsumer {\n  public static void main(String[] args) {\n    SpringApplication.run(AksKafkaConsumer.class, args);\n  }\n}\n</code></pre>\n<p>Then my <strong>Kafka Listener service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class listenerService {\n  @KafkaListener(topics = &quot;topic_name&quot;, groupId = &quot;group_id&quot;)\n  public void consumer(GenericRecord record) {\n    System.out.println(record);\n  }\n}\n</code></pre>\n<p>while running this, I'm always getting an error as follows</p>\n<pre><code>ERROR o.s.klistener.LoggingErrorHandler.handle - Error while processing null\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition [---] at offset 700501. If needed, please seek past the record to continue consumption\nCaused by: org.apache.kafka.common.errors.SerializationException: Error retreiving Avro schema for id 1234\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exception.RestClientException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, oject, 'true', 'false', or 'null')\nat[source: (sun.net.www.protocol.http.HttpUrlConnection$HttpInputStream): line 1, column 2]; error code 50005\n.......\n</code></pre>\n<p>I know there's nothing wrong with the topic messages, because I can view it &amp; even consume it through another application.</p>\n<p>any thing I'm doing wrong that's causing me not reading the message? is it a schema registry connection problem???</p>\n<p>the KafkaListener method is working for consuming String messages, but I need to consume a GenericRecord.</p>\n<p>any suggestions?</p>\n<p><strong>EDIT</strong> -\nI can connect in a different way as a POC, but it doesn't really serve my purposes. This is how...\n<strong>Main Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableKafka\npublic class AksKafkaConsumer {\n  public void main (String[] args) {\n    ApplicationContext appContxt = SpringApplication.run(AksKafkaConsumer.class, args);\n    KafkaConsumerService service = appContxt.getBean(AksKafkaConsumer.class);\n    service.consumMsg(args);\n  }\n\n  @Service\n  class KafkaConsumerService {\n    public void consumMsg(String[] args) {\n      Properties props = new Properties();\n      ......\n      props.put(ProducreConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;bootstrap_config&quot;);\n      props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;schema_registry_url&quot;);\n      props.put(CONSUMER_CONFIG.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n      props.put(CONSUMER_CONFIG.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n      //this goes on to manually setup 12 other property\n      .....\n\n      KafkaConsumer&lt;GenericRecord, GenericRecord&gt; consumer = null\n\n      try {\n        ArrayList&lt;String&gt; topics = new ArrayList&lt;String&gt;();\n        topics.add(&quot;topic_name&quot;);\n        consumer = new KafkaConsumer&lt;GenericRecord, GenericRecord&gt;(props);\n        consumer.subscribe(topics);\n\n        while(true) {\n          ConsumerRecord&lt;GenericRecord, GenericRecord&gt; records = consumer.poll(1000);\n          for (ConsumerRecord&lt;GenericRecord, GenericRecord&gt; record : records) {\n           System.out.println(record);  \n         }\n        }\n        catch (Exception e) { ... }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Manually adding all the configurations like that, is causing all sort of problems, especially with pulling the key/trust store jks files..... plus while running from an IDE I need to also set System.setProperty() too.</p>\n<p>Also, I don't like exposing the jks file path &amp; passwords from the main class like that.</p>\n<p>I'm okay with building a separate configuration class for it, I'm just not sure I know how to configure something like that (w/ schema registry).</p>\n<p><strong>ANY</strong> help or pointers would be appreciated.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1389717,"reputation":25845,"user_id":1320845,"display_name":"Charles Mager"},"score":0,"creation_date":1671123974,"post_id":74815132,"comment_id":132035838,"body_markdown":"Have you tried using [`read`](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#read--) instead of `readLine`?","body":"Have you tried using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#read--\" rel=\"nofollow noreferrer\"><code>read</code></a> instead of <code>readLine</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671124150,"post_id":74815132,"comment_id":132035882,"body_markdown":"`read(char[])` is what you need, as @CharlesMager says. Create a `String` from the array","body":"<code>read(char[])</code> is what you need, as @CharlesMager says. Create a <code>String</code> from the array"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671124156,"post_id":74815132,"comment_id":132035886,"body_markdown":"Any of the other `read` methods of `Reader` can be used. If you don&#39;t need `readLine` you can also just leave out the `BufferedReader` entirely. Also [please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"Any of the other <code>read</code> methods of <code>Reader</code> can be used. If you don&#39;t need <code>readLine</code> you can also just leave out the <code>BufferedReader</code> entirely. Also <a href=\"//meta.stackoverflow.com/q/285551\">please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":11773460,"reputation":13,"user_id":13014517,"display_name":"Bruno Morato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123855,"creation_date":1671123855,"question_id":74815132,"body_markdown":"I need to read only one character in a text File. Inside my method I&#39;ve already have the BufferedReader object with the resource inside. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/X4dIX.png)](https://i.stack.imgur.com/X4dIX.png) \r\n\r\nI can&#39;t read the line because my text file is ebcdic and it has more than 2GB on the same line.\r\nThere&#39;s no another line.\r\nThe object String doesn&#39;t support more than 2GB.\r\n\r\nI need to check the first characters.\r\n\r\nCan anybody help me?\r\nThanks!\r\n\r\nI&#39;ve tried to use the Scanner object and its methods but it didn&#39;t work.","title":"How to read just one character on a text File (or few characters) without using readLine() method?","body":"<p>I need to read only one character in a text File. Inside my method I've already have the BufferedReader object with the resource inside.</p>\n<p><a href=\"https://i.stack.imgur.com/X4dIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4dIX.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't read the line because my text file is ebcdic and it has more than 2GB on the same line.\nThere's no another line.\nThe object String doesn't support more than 2GB.</p>\n<p>I need to check the first characters.</p>\n<p>Can anybody help me?\nThanks!</p>\n<p>I've tried to use the Scanner object and its methods but it didn't work.</p>\n"},{"tags":["java","excel","apache-poi","file-writing"],"answers":[{"tags":[],"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671123426,"creation_date":1671123426,"answer_id":74815045,"question_id":74813902,"body_markdown":"You cannot always rely on the CellType in your special case. It may happen that you have a cell with whitespaces in, identified as STRING. So check the content of cell.getStringCellValue() and replace by dash if empty.","title":"Apache POI Blank cell enum isnt working properly?","body":"<p>You cannot always rely on the CellType in your special case. It may happen that you have a cell with whitespaces in, identified as STRING. So check the content of cell.getStringCellValue() and replace by dash if empty.</p>\n"}],"owner":{"display_name":"user20137453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74815045,"answer_count":1,"score":0,"last_activity_date":1671123426,"creation_date":1671118124,"question_id":74813902,"body_markdown":"I am trying to write the data from an excel file to a text file and if there is a blank cell I need to write &quot;-&quot; to the file. However this doesn&#39;t work on some excel files for reasons I do not understand.\r\n\r\nHere&#39;s the code:\r\n\r\n    for (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\r\n            sheet = wb.getSheetAt(i);\r\n            fw = new FileWriter(&quot;C:\\\\Users\\\\Emre\\\\Desktop\\\\excelstore.txt&quot;);\r\n            for (Row row : sheet) {\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    switch (cell.getCellType()) {\r\n                        case STRING:\r\n                            fw.write(cell.getStringCellValue() + &quot;,&quot;);\r\n                            break;\r\n                        case NUMERIC:\r\n                            fw.write(cell.getNumericCellValue() + &quot;,&quot;);\r\n                            break;\r\n                        case BLANK:\r\n                            fw.write(&quot;-&quot; + &quot;,&quot;);\r\n                        default:\r\n                    }\r\n                }\r\n                fw.write(&quot;\\n&quot;);\r\n\r\n            }\r\n            fw.close();\r\n\r\nPic of the excel file im supposed to read it from: https://ibb.co/2NqDgtj\r\n\r\nHere is the output: https://ibb.co/MnMS0Dp","title":"Apache POI Blank cell enum isnt working properly?","body":"<p>I am trying to write the data from an excel file to a text file and if there is a blank cell I need to write &quot;-&quot; to the file. However this doesn't work on some excel files for reasons I do not understand.</p>\n<p>Here's the code:</p>\n<pre><code>for (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\n        sheet = wb.getSheetAt(i);\n        fw = new FileWriter(&quot;C:\\\\Users\\\\Emre\\\\Desktop\\\\excelstore.txt&quot;);\n        for (Row row : sheet) {\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                switch (cell.getCellType()) {\n                    case STRING:\n                        fw.write(cell.getStringCellValue() + &quot;,&quot;);\n                        break;\n                    case NUMERIC:\n                        fw.write(cell.getNumericCellValue() + &quot;,&quot;);\n                        break;\n                    case BLANK:\n                        fw.write(&quot;-&quot; + &quot;,&quot;);\n                    default:\n                }\n            }\n            fw.write(&quot;\\n&quot;);\n\n        }\n        fw.close();\n</code></pre>\n<p>Pic of the excel file im supposed to read it from: <a href=\"https://ibb.co/2NqDgtj\" rel=\"nofollow noreferrer\">https://ibb.co/2NqDgtj</a></p>\n<p>Here is the output: <a href=\"https://ibb.co/MnMS0Dp\" rel=\"nofollow noreferrer\">https://ibb.co/MnMS0Dp</a></p>\n"},{"tags":["java","xml","xsd","jaxb","moxy"],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671123415,"creation_date":1671123415,"question_id":74815041,"body_markdown":"I would like to validate the XML against XSD using the Moxy implementation so I have added the dependency for the same in `pom.xmml`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have created custom ErrorHandler to handle all the errors:\r\n```\r\nimport jakarta.xml.bind.ValidationEvent;\r\nimport jakarta.xml.bind.ValidationEventHandler;\r\n\r\npublic class MyValidationEventHandler implements ValidationEventHandler {\r\n\r\n    public boolean handleEvent(ValidationEvent event) {\r\n        System.out.println(&quot;EVENT&quot;);\r\n        System.out.println(&quot;SEVERITY: &quot; + event.getSeverity());\r\n        System.out.println(&quot;MESSAGE: &quot; + event.getMessage());\r\n        System.out.println(&quot;LINKED EXCEPTION: &quot; + event.getLinkedException());\r\n        System.out.println(&quot;LOCATOR&quot;);\r\n        System.out.println(&quot;LINE NUMBER: &quot; + event.getLocator().getLineNumber());\r\n        System.out.println(&quot;COLUMN NUMBER: &quot; + event.getLocator().getColumnNumber());\r\n        System.out.println(&quot;OFFSET: &quot; + event.getLocator().getOffset());\r\n        System.out.println(&quot;OBJECT: &quot; + event.getLocator().getObject());\r\n        System.out.println(&quot;NODE: &quot; + event.getLocator().getNode());\r\n        System.out.println(&quot;URL: &quot; + event.getLocator().getURL());\r\n        System.out.println(&quot;\\n \\n&quot;);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nFollowing is my Main class to validate the XML:\r\n```\r\nimport jakarta.xml.bind.JAXBContext;\r\nimport jakarta.xml.bind.Unmarshaller;\r\n\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport javax.xml.validation.Schema;\r\nimport javax.xml.validation.SchemaFactory;\r\nimport java.io.InputStream;\r\n\r\npublic class ValidateXmlWithXsd {\r\n    public static void main(String[] args) throws Exception {\r\n        // Create a SchemaFactory object\r\n        SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\r\n        // Load the XSD schema file\r\n        final InputStream xsdDocument = TestMain.class.getResourceAsStream(&quot;/xsd/myXSD.xsd&quot;);\r\n        final Source xsdSource = new StreamSource(xsdDocument);\r\n        Schema schema = sf.newSchema(xsdSource);\r\n\r\n        // Create a JAXBContext\r\n        JAXBContext jc = JAXBContext.newInstance();\r\n\r\n        // Create an Unmarshaller object\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        unmarshaller.setSchema(schema);\r\n        unmarshaller.setEventHandler(new MyValidationEventHandler());\r\n\r\n        // Unmarshal the XML document, using the schema for validation\r\n        final InputStream xmlDocument = TestMain.class.getResourceAsStream( &quot;/myXML.xml&quot;);\r\n        unmarshaller.unmarshal(xmlDocument);\r\n    }\r\n}\r\n```\r\n\r\nI am facing few issues:\r\n1. I am unable to add the `JAXBContext` from `Moxy` then I try to add something like this then I get the error:\r\n```\r\n// Create a JAXBContext\r\norg.eclipse.persistence.jaxb.JAXBContext jc = org.eclipse.persistence.jaxb.JAXBContext.newInstance();\r\n```\r\nThen I get the error:\r\n```\r\nRequired type: org.eclipse.persistence.jaxb.JAXBContext\r\nProvided: jakarta.xml.bind.JAXBContext\r\n```\r\n\r\n2. When I use the `jakarta.xml.bind.JAXBContext` and validate my XML then I for some reason get all the errors for all elements which should not happen because my XSD does not require all elements.\r\n\r\nI would like to know how to validate a XML against XSD using the `Moxy` without needing to use the `POJO` class and how to capture all the errors not just a single error and throw exception.","title":"How to validate XML against XSD using the Moxy implementation without POJO and capture all errors?","body":"<p>I would like to validate the XML against XSD using the Moxy implementation so I have added the dependency for the same in <code>pom.xmml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have created custom ErrorHandler to handle all the errors:</p>\n<pre><code>import jakarta.xml.bind.ValidationEvent;\nimport jakarta.xml.bind.ValidationEventHandler;\n\npublic class MyValidationEventHandler implements ValidationEventHandler {\n\n    public boolean handleEvent(ValidationEvent event) {\n        System.out.println(&quot;EVENT&quot;);\n        System.out.println(&quot;SEVERITY: &quot; + event.getSeverity());\n        System.out.println(&quot;MESSAGE: &quot; + event.getMessage());\n        System.out.println(&quot;LINKED EXCEPTION: &quot; + event.getLinkedException());\n        System.out.println(&quot;LOCATOR&quot;);\n        System.out.println(&quot;LINE NUMBER: &quot; + event.getLocator().getLineNumber());\n        System.out.println(&quot;COLUMN NUMBER: &quot; + event.getLocator().getColumnNumber());\n        System.out.println(&quot;OFFSET: &quot; + event.getLocator().getOffset());\n        System.out.println(&quot;OBJECT: &quot; + event.getLocator().getObject());\n        System.out.println(&quot;NODE: &quot; + event.getLocator().getNode());\n        System.out.println(&quot;URL: &quot; + event.getLocator().getURL());\n        System.out.println(&quot;\\n \\n&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p>Following is my Main class to validate the XML:</p>\n<pre><code>import jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.Unmarshaller;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport java.io.InputStream;\n\npublic class ValidateXmlWithXsd {\n    public static void main(String[] args) throws Exception {\n        // Create a SchemaFactory object\n        SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n\n        // Load the XSD schema file\n        final InputStream xsdDocument = TestMain.class.getResourceAsStream(&quot;/xsd/myXSD.xsd&quot;);\n        final Source xsdSource = new StreamSource(xsdDocument);\n        Schema schema = sf.newSchema(xsdSource);\n\n        // Create a JAXBContext\n        JAXBContext jc = JAXBContext.newInstance();\n\n        // Create an Unmarshaller object\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        unmarshaller.setSchema(schema);\n        unmarshaller.setEventHandler(new MyValidationEventHandler());\n\n        // Unmarshal the XML document, using the schema for validation\n        final InputStream xmlDocument = TestMain.class.getResourceAsStream( &quot;/myXML.xml&quot;);\n        unmarshaller.unmarshal(xmlDocument);\n    }\n}\n</code></pre>\n<p>I am facing few issues:</p>\n<ol>\n<li>I am unable to add the <code>JAXBContext</code> from <code>Moxy</code> then I try to add something like this then I get the error:</li>\n</ol>\n<pre><code>// Create a JAXBContext\norg.eclipse.persistence.jaxb.JAXBContext jc = org.eclipse.persistence.jaxb.JAXBContext.newInstance();\n</code></pre>\n<p>Then I get the error:</p>\n<pre><code>Required type: org.eclipse.persistence.jaxb.JAXBContext\nProvided: jakarta.xml.bind.JAXBContext\n</code></pre>\n<ol start=\"2\">\n<li>When I use the <code>jakarta.xml.bind.JAXBContext</code> and validate my XML then I for some reason get all the errors for all elements which should not happen because my XSD does not require all elements.</li>\n</ol>\n<p>I would like to know how to validate a XML against XSD using the <code>Moxy</code> without needing to use the <code>POJO</code> class and how to capture all the errors not just a single error and throw exception.</p>\n"},{"tags":["java","random","grouping","word-count"],"comments":[{"owner":{"account_id":1692682,"reputation":1535,"user_id":4198912,"display_name":"Slawomir Chodnicki"},"score":2,"creation_date":1558994011,"post_id":56332742,"comment_id":99272143,"body_markdown":"Hi, welcome to StackOverflow. You can help us understand your issue better by formatting your text into paragraphs, and reducing your question to a minimal set of relevant details.","body":"Hi, welcome to StackOverflow. You can help us understand your issue better by formatting your text into paragraphs, and reducing your question to a minimal set of relevant details."}],"answers":[{"tags":[],"owner":{"account_id":13854547,"reputation":5082,"user_id":10001688,"display_name":"Michael Bianconi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558994450,"creation_date":1558994450,"answer_id":56332870,"question_id":56332742,"body_markdown":"Personally, I would forego the if-else and do the array. Make an array with every integer from 0-N, where N is the number of the students. Then, shuffle the list around. I believe Java has a prebuilt function for it, but if not the algorithm for one is trivial.\r\n\r\nFrom there, simply read in the student file line by line and assign the corresponding number from the shuffled array.\r\nExample psuedocode:\r\n\r\n```python\r\n\r\n# &gt;&gt;&gt; Generate the list of numbers of shuffle it. &lt;&lt;&lt; #\r\nN = number of students\r\nnumbers = [i for i in range(N)]\r\nrandom.shuffle(numbers)\r\n\r\n# &gt;&gt;&gt; Initialize a list to store number-student pair &lt;&lt;&lt; #\r\nstudents = []\r\n\r\n# &gt;&gt;&gt; Read in the student file line by line &lt;&lt;&lt; #\r\nfor line in students.txt:\r\n    randomNumber = numbers.pop()\r\n    students.append((line, randomNumber))\r\n```\r\n\r\nViola, the ```students``` list now has all of the students, paired with a random number.\r\n\r\nAs for counting words, run the input through trim() and then split().\r\n\r\n```python\r\n# &gt;&gt;&gt; Removes whitespace before and after the string (&quot;  A &quot; -&gt; &quot;A&quot;) &lt;&lt;&lt; #\r\ninput = input.trim()\r\n# &gt;&gt;&gt; Splits input into an array (&quot;AA BB CC&quot; -&gt; [&quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;]) &lt;&lt;&lt; #\r\nwords = input.split(&quot; &quot;)\r\nnumWords = word.length\r\n```\r\n","title":"How to write a random group generator in java using else-if statements?","body":"<p>Personally, I would forego the if-else and do the array. Make an array with every integer from 0-N, where N is the number of the students. Then, shuffle the list around. I believe Java has a prebuilt function for it, but if not the algorithm for one is trivial.</p>\n\n<p>From there, simply read in the student file line by line and assign the corresponding number from the shuffled array.\nExample psuedocode:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n# &gt;&gt;&gt; Generate the list of numbers of shuffle it. &lt;&lt;&lt; #\nN = number of students\nnumbers = [i for i in range(N)]\nrandom.shuffle(numbers)\n\n# &gt;&gt;&gt; Initialize a list to store number-student pair &lt;&lt;&lt; #\nstudents = []\n\n# &gt;&gt;&gt; Read in the student file line by line &lt;&lt;&lt; #\nfor line in students.txt:\n    randomNumber = numbers.pop()\n    students.append((line, randomNumber))\n</code></pre>\n\n<p>Viola, the <code>students</code> list now has all of the students, paired with a random number.</p>\n\n<p>As for counting words, run the input through trim() and then split().</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># &gt;&gt;&gt; Removes whitespace before and after the string (\"  A \" -&gt; \"A\") &lt;&lt;&lt; #\ninput = input.trim()\n# &gt;&gt;&gt; Splits input into an array (\"AA BB CC\" -&gt; [\"AA\", \"BB\", \"CC\"]) &lt;&lt;&lt; #\nwords = input.split(\" \")\nnumWords = word.length\n</code></pre>\n"}],"owner":{"account_id":16023437,"reputation":3,"user_id":11564363,"display_name":"bella26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":56332870,"answer_count":1,"score":-3,"last_activity_date":1671123396,"creation_date":1558993611,"question_id":56332742,"body_markdown":"I have to code a program that allows the user to choose between two task: a random group generator, and a task that parses and counts an input sentence by word. I am really confused on how to go about it.\r\nThe instructions are: \r\nTeam Maker:\r\nIf 1 is entered, the application prompts the user to enter the desired number of teams to make.\r\nIf 0 is entered, nothing happens and the application continues on prompting the user to enter 1 or 2. See Fig-3.\r\nIf the number of teams is 1 or greater, the application displays the team number, beginning from 1, followed by three full names randomly selected from the 49 students provided in COP2510.txt. See also Fig-3, where 1 and 3 are entered for making one team and three teams, respectively.  Hint: Use the Random class as seen in GetRandom1.java or GR.zip of Quiz 3 to implement this random selection.  \r\nAll names of each team must be displayed beginning with a &#39;tab&#39;. \r\nIt&#39;s very important in this application that no student appears in the same or different teams more than once.\r\nHint: there are more than one way to &quot;map&quot; a random number (integer) to a specific student name. Using if....else if....else if....else if.... is one possible approach and is recommended here. Storing all names in an array is another way but is not introduced until Chapter 10 .\r\nCounting Words:\r\nIf 2 is entered, the application prompts the user to enter one or more sentences.  See Fig-4.\r\nThe application uses the space character, &quot; &quot;, to separate and count words in the input. If there are two or more consecutive spaces, they are treated as just one. That is, &quot;AA BB&quot; and &quot;AA             BB&quot; both contains two words.  See Fig-5.\r\nAll leading and trailing spaces in the input would be ignored. Hint: use &#39;trim()&#39; method of String.\r\nThe application display two lines of dashes, i.e., &quot;-------------------&quot; to enclose every word it finds. Each word must be displayed together with its length. For example, if &quot;Hi,  John!&quot; is entered, the two lines between dashes should be &quot;Hi, (3)&quot; and &quot;John!(5)&quot;.\r\nAfter the 2nd dashes line, the total number of words is displayed to end the task. \r\nIf no words or sentences are entered, a message of &quot;Nothing or only space(s) is entered.&quot; is displayed between the two dashes lines and the count is zero. See the last input in Fig-5.\r\nHint: You may use trim(), indexOf(), length(), substring(), and equals() methods of String to implement the above word count task. Even the same methods are used, there are different approaches to get this task completed.\r\n\r\n\r\nI got the first part where the program welcomes the user, and shows what the program does. However I don&#39;t know how to code the random team generator. I can only use else if statements. Someone told me to assign a random number to each name and then use the else if statements, however I have no idea how to do that. And as for the word counter I just have no clue. If anyone could help that would be great. \r\n\r\n       import java.util.Scanner;\r\n       import java.util.Random;\r\n       public class asssignment3 {\r\n       public static void main (String args[]){\r\n       Scanner sc = new Scanner(System.in);\r\n        //print out a task prompt \r\n        System.out.println(&quot;Assignment-3 can perform the following two task:&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;\\t1-Making 3-member tems from class of COP2510&quot;);\r\n        System.out.println(&quot;\\t2-Parsing and counting an input sentence by word&quot;);\r\n        System.out.println();\r\n        System.out.print(&quot;Enter 1 or 2 to begin your task or anything else to quit:   &quot;);\r\n        String choiceNumber = sc.nextLine (); \r\n\r\n      if (choiceNumber.equalsIgnoreCase(&quot;0&quot;)) {\r\n          System.out.println(&quot;Enter 1 or 2 to begin your task or anything else to quit:  &quot;);\r\n          String optionNumber = sc.nextLine ();\r\n      }\r\n      Random r = new Random();    \r\n     if (choiceNumber.equalsIgnoreCase (&quot;1&quot;)) {\r\n         String studentName = &quot;&quot;;`","title":"How to write a random group generator in java using else-if statements?","body":"<p>I have to code a program that allows the user to choose between two task: a random group generator, and a task that parses and counts an input sentence by word. I am really confused on how to go about it.\nThe instructions are: \nTeam Maker:\nIf 1 is entered, the application prompts the user to enter the desired number of teams to make.\nIf 0 is entered, nothing happens and the application continues on prompting the user to enter 1 or 2. See Fig-3.\nIf the number of teams is 1 or greater, the application displays the team number, beginning from 1, followed by three full names randomly selected from the 49 students provided in COP2510.txt. See also Fig-3, where 1 and 3 are entered for making one team and three teams, respectively.  Hint: Use the Random class as seen in GetRandom1.java or GR.zip of Quiz 3 to implement this random selection.<br>\nAll names of each team must be displayed beginning with a 'tab'. \nIt's very important in this application that no student appears in the same or different teams more than once.\nHint: there are more than one way to \"map\" a random number (integer) to a specific student name. Using if....else if....else if....else if.... is one possible approach and is recommended here. Storing all names in an array is another way but is not introduced until Chapter 10 .\nCounting Words:\nIf 2 is entered, the application prompts the user to enter one or more sentences.  See Fig-4.\nThe application uses the space character, \" \", to separate and count words in the input. If there are two or more consecutive spaces, they are treated as just one. That is, \"AA BB\" and \"AA             BB\" both contains two words.  See Fig-5.\nAll leading and trailing spaces in the input would be ignored. Hint: use 'trim()' method of String.\nThe application display two lines of dashes, i.e., \"-------------------\" to enclose every word it finds. Each word must be displayed together with its length. For example, if \"Hi,  John!\" is entered, the two lines between dashes should be \"Hi, (3)\" and \"John!(5)\".\nAfter the 2nd dashes line, the total number of words is displayed to end the task. \nIf no words or sentences are entered, a message of \"Nothing or only space(s) is entered.\" is displayed between the two dashes lines and the count is zero. See the last input in Fig-5.\nHint: You may use trim(), indexOf(), length(), substring(), and equals() methods of String to implement the above word count task. Even the same methods are used, there are different approaches to get this task completed.</p>\n\n<p>I got the first part where the program welcomes the user, and shows what the program does. However I don't know how to code the random team generator. I can only use else if statements. Someone told me to assign a random number to each name and then use the else if statements, however I have no idea how to do that. And as for the word counter I just have no clue. If anyone could help that would be great. </p>\n\n<pre><code>   import java.util.Scanner;\n   import java.util.Random;\n   public class asssignment3 {\n   public static void main (String args[]){\n   Scanner sc = new Scanner(System.in);\n    //print out a task prompt \n    System.out.println(\"Assignment-3 can perform the following two task:\");\n    System.out.println();\n    System.out.println(\"\\t1-Making 3-member tems from class of COP2510\");\n    System.out.println(\"\\t2-Parsing and counting an input sentence by word\");\n    System.out.println();\n    System.out.print(\"Enter 1 or 2 to begin your task or anything else to quit:   \");\n    String choiceNumber = sc.nextLine (); \n\n  if (choiceNumber.equalsIgnoreCase(\"0\")) {\n      System.out.println(\"Enter 1 or 2 to begin your task or anything else to quit:  \");\n      String optionNumber = sc.nextLine ();\n  }\n  Random r = new Random();    \n if (choiceNumber.equalsIgnoreCase (\"1\")) {\n     String studentName = \"\";`\n</code></pre>\n"},{"tags":["java","immutables-library"],"owner":{"account_id":273169,"reputation":2083,"user_id":564606,"accept_rate":79,"display_name":"ciferkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671123364,"creation_date":1671123364,"question_id":74815027,"body_markdown":"In the Immutables [documentation](https://immutables.github.io/immutable.html#builder:~:text=For%20advanced%20use%20cases%2C%20it%20may%20be%20desirable%20to%20have%20builders%20that%20produce%20different%20types%20of%20objects%20but%20conform%20to%20the%20same%20interface%2C%20akin%20to%20the%20original%20Builder%20pattern.%20This%20is%20achievable%20by%20declaring%20a%20static%20nested%20class%20named%20%E2%80%9CBuilder%E2%80%9D%20which%20will%20be%20extended%20by%20the%20generated%20builder.) it says that:\r\n\r\n&gt; For advanced use cases, it may be desirable to have builders that produce different types of objects but conform to the same interface, akin to the original Builder pattern. This is achievable by declaring a static nested class named Builder which will be extended by the generated builder.\r\n\r\nIt then provides an example where:\r\n - there is an interface that multiple Immutable classes implement called Vehicle\r\n - there is an interface for the builders the Immutable class will generate call VehicleBuilder\r\n - the two abstract Immutable classes Scooter and Automobile implement Vehicle and have a abstract static class that implements VehicleBuilder.\r\n\r\nThis is super useful but it means every Immutable implementation needs to duplicate the abstract static class line. Is there any way to push this up into the parent definition?\r\n\r\nI&#39;ve tried making Vehicle an abstract class and moving the abstract static class into it:\r\n\r\n```java\r\npublic abstract class Vehicle {\r\n  public abstract static class Builder implements VehicleBuilder {}\r\n}\r\n```\r\n\r\nHowever this does not work and the builder on the generated class does not extend it.","title":"Java Immutables builder interface defintion in parent class?","body":"<p>In the Immutables <a href=\"https://immutables.github.io/immutable.html#builder:%7E:text=For%20advanced%20use%20cases%2C%20it%20may%20be%20desirable%20to%20have%20builders%20that%20produce%20different%20types%20of%20objects%20but%20conform%20to%20the%20same%20interface%2C%20akin%20to%20the%20original%20Builder%20pattern.%20This%20is%20achievable%20by%20declaring%20a%20static%20nested%20class%20named%20%E2%80%9CBuilder%E2%80%9D%20which%20will%20be%20extended%20by%20the%20generated%20builder.\" rel=\"nofollow noreferrer\">documentation</a> it says that:</p>\n<blockquote>\n<p>For advanced use cases, it may be desirable to have builders that produce different types of objects but conform to the same interface, akin to the original Builder pattern. This is achievable by declaring a static nested class named Builder which will be extended by the generated builder.</p>\n</blockquote>\n<p>It then provides an example where:</p>\n<ul>\n<li>there is an interface that multiple Immutable classes implement called Vehicle</li>\n<li>there is an interface for the builders the Immutable class will generate call VehicleBuilder</li>\n<li>the two abstract Immutable classes Scooter and Automobile implement Vehicle and have a abstract static class that implements VehicleBuilder.</li>\n</ul>\n<p>This is super useful but it means every Immutable implementation needs to duplicate the abstract static class line. Is there any way to push this up into the parent definition?</p>\n<p>I've tried making Vehicle an abstract class and moving the abstract static class into it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Vehicle {\n  public abstract static class Builder implements VehicleBuilder {}\n}\n</code></pre>\n<p>However this does not work and the builder on the generated class does not extend it.</p>\n"},{"tags":["java","android"],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1671123358,"creation_date":1668243555,"question_id":74411609,"body_markdown":"Is it possible to inhibit the recognizing of the touch in an Android App programmatically?\r\n\r\nMore precisely, can I make from code to not recognize the touch on my App (and also reactivate it after few seconds without restart the App), also to inhibit the OS from showing that touch if I set &quot;show touches&quot; in &quot;developer&#39;s options&quot; on my smartphone (Samsung)?\r\n\r\nI need to know/test it because I&#39;m thinking that some &quot;music tile&quot; games disables the touch during the play with the hope that the user will spend in-game currency to retry the song or buy the song with real money.\r\n\r\nWhen in that game it happened, I&#39;m 100% secure I touched the tile properly, so it maybe a developer decision to sometimes block the touch.\r\n\r\nI want to know if that behavior is possible programmatically.\r\n\r\nFor example:\r\n- I touch the screen during play\r\n- the game App receives that touch and handle it showing me the tile is being touched in the game\r\n- the game App disables the handling of the touch for few seconds\r\n- I touch the screen during play\r\n- the touch isn&#39;t handled by the game App and also the dot representing that touch isn&#39;t displayed (it should because I set &quot;show touches&quot; in developer option in Android)\r\n- the game App tell me that I missed that tile (e.g. &quot;You didn&#39;t touched it&quot;) so I lose\r\n\r\nIs this scenario possible?\r\n\r\nThanks","title":"inhibit the touch","body":"<p>Is it possible to inhibit the recognizing of the touch in an Android App programmatically?</p>\n<p>More precisely, can I make from code to not recognize the touch on my App (and also reactivate it after few seconds without restart the App), also to inhibit the OS from showing that touch if I set &quot;show touches&quot; in &quot;developer's options&quot; on my smartphone (Samsung)?</p>\n<p>I need to know/test it because I'm thinking that some &quot;music tile&quot; games disables the touch during the play with the hope that the user will spend in-game currency to retry the song or buy the song with real money.</p>\n<p>When in that game it happened, I'm 100% secure I touched the tile properly, so it maybe a developer decision to sometimes block the touch.</p>\n<p>I want to know if that behavior is possible programmatically.</p>\n<p>For example:</p>\n<ul>\n<li>I touch the screen during play</li>\n<li>the game App receives that touch and handle it showing me the tile is being touched in the game</li>\n<li>the game App disables the handling of the touch for few seconds</li>\n<li>I touch the screen during play</li>\n<li>the touch isn't handled by the game App and also the dot representing that touch isn't displayed (it should because I set &quot;show touches&quot; in developer option in Android)</li>\n<li>the game App tell me that I missed that tile (e.g. &quot;You didn't touched it&quot;) so I lose</li>\n</ul>\n<p>Is this scenario possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","json","list","org.json"],"answers":[{"tags":[],"owner":{"account_id":8522790,"reputation":549,"user_id":6389080,"display_name":"Rohit Lalwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671015232,"creation_date":1671015232,"answer_id":74797112,"question_id":74797039,"body_markdown":"you can get this data as a JsonArray\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>you can get this data as a JsonArray</p>\n"},{"tags":[],"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671017353,"creation_date":1671017353,"answer_id":74797591,"question_id":74797039,"body_markdown":"You can customize a little bit of code like it \r\n\r\n    public static void main(String[] args) throws ParseException {\r\n    \t\tString data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\n    \t\tJSONObject json = new JSONObject(\r\n    \t\t\t\tdata);\r\n    \t\t \r\n    \t\tJSONArray jasonArray = json.getJSONArray(&quot;data&quot;);\r\n    \t\tList list = new ArrayList();\r\n    \r\n    \t\tint size = jasonArray.length();\r\n    \t\tint i = 0;\r\n    \t\twhile (i &lt; size) {\r\n    \t\t\tlist.add(jasonArray.get(i));\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t}","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>You can customize a little bit of code like it</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n        String data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\n        JSONObject json = new JSONObject(\n                data);\n         \n        JSONArray jasonArray = json.getJSONArray(&quot;data&quot;);\n        List list = new ArrayList();\n\n        int size = jasonArray.length();\n        int i = 0;\n        while (i &lt; size) {\n            list.add(jasonArray.get(i));\n            i++;\n        }\n\n        System.out.println(list);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017813,"creation_date":1671017813,"answer_id":74797701,"question_id":74797039,"body_markdown":"You wish to parse a JSON string using Java code. It is recommended to use a JSON library for Java. There are several. The below code uses [Gson](https://github.com/google/gson). There are many online examples such as [Convert String to JsonObject with Gson](https://www.baeldung.com/gson-string-to-jsonobject). You should also familiarize yourself with the Gson [API](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html).\r\n```java\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JsonList {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\n        JsonElement elem = JsonParser.parseString(json);\r\n        if (elem.isJsonObject()) {\r\n            JsonObject obj = elem.getAsJsonObject();\r\n            elem = obj.get(&quot;data&quot;);\r\n            if (elem.isJsonArray()) {\r\n                JsonArray arr = elem.getAsJsonArray();\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                int count = arr.size();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    elem = arr.get(i);\r\n                    if (elem.isJsonPrimitive()) {\r\n                        String str = elem.getAsString();\r\n                        list.add(str);\r\n                    }\r\n                }\r\n                System.out.println(list);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code gives the following output:\r\n```none\r\n[str1, str2, str3]\r\n```\r\nThere are other ways to convert the `JsonArray` to a `List`. The above is not the only way. As I wrote earlier, peruse the API documentation and search the Internet.\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>You wish to parse a JSON string using Java code. It is recommended to use a JSON library for Java. There are several. The below code uses <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>. There are many online examples such as <a href=\"https://www.baeldung.com/gson-string-to-jsonobject\" rel=\"nofollow noreferrer\">Convert String to JsonObject with Gson</a>. You should also familiarize yourself with the Gson <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JsonList {\n\n    public static void main(String[] args) {\n        String json = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\n        JsonElement elem = JsonParser.parseString(json);\n        if (elem.isJsonObject()) {\n            JsonObject obj = elem.getAsJsonObject();\n            elem = obj.get(&quot;data&quot;);\n            if (elem.isJsonArray()) {\n                JsonArray arr = elem.getAsJsonArray();\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                int count = arr.size();\n                for (int i = 0; i &lt; count; i++) {\n                    elem = arr.get(i);\n                    if (elem.isJsonPrimitive()) {\n                        String str = elem.getAsString();\n                        list.add(str);\n                    }\n                }\n                System.out.println(list);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Running the above code gives the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[str1, str2, str3]\n</code></pre>\n<p>There are other ways to convert the <code>JsonArray</code> to a <code>List</code>. The above is not the only way. As I wrote earlier, peruse the API documentation and search the Internet.</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671123161,"creation_date":1671122578,"answer_id":74814857,"question_id":74797039,"body_markdown":"Behind the scenes, the `JSONArray` object stores the json data in an `ArrayList&lt;Object&gt;`, and it has a method called `toList()`.  There&#39;s absolutely no need to loop through the `JSONArray` in order to set values in the array.  The simpler code would look something like this\r\n```java\r\nString data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\r\nJSONObject json = new JSONObject(data);\r\n\r\nList&lt;Object&gt; list = json.getJSONArray(&quot;data&quot;).toList();\r\n\r\nSystem.out.println(myList);\r\n```\r\n\r\n*Note:  This will create a list of generic Objects.  The currently accepted answer doesn&#39;t define a type for the List, which is unsafe.  It doesn&#39;t enforce type safety, and errors will occur at runtime instead of at compile time.*\r\n\r\nIf you want to convert all of the inner objects to a String, you can do this by upcasting the List to an Object, and then casting it to a `List&lt;String&gt;`.  I don&#39;t particularly recommend it, but it can be done like this.  `List&lt;String&gt; list = (List&lt;String&gt;) (Object) json.getJSONArray(&quot;data&quot;).toList();`.  \r\n\r\nA better way of casting the value to a specific type would be via a stream to call the `Object.toString()` method.\r\n```java\r\nList&lt;String&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(Object::toString).collect(Collectors.toList());\r\n```\r\nor, if you have a specific type you want to cast it to, you can use\r\n```java\r\nList&lt;MyObject&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(jsonObject -&gt; (MyObject) jsonObject).collect(Collectors.toList());\r\n```\r\n\r\nFinally, as others have pointed out, there are better libraries for dealing with json.  [Gson][1] is a great library, however I personally prefer [Jackson][2].  They both offer similar resources, but I&#39;ve found that Jackson&#39;s `ObjectMapper` is more customizable and more widely used.\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/FasterXML/jackson","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>Behind the scenes, the <code>JSONArray</code> object stores the json data in an <code>ArrayList&lt;Object&gt;</code>, and it has a method called <code>toList()</code>.  There's absolutely no need to loop through the <code>JSONArray</code> in order to set values in the array.  The simpler code would look something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = &quot;{\\&quot;data\\&quot;:[\\&quot;str1\\&quot;, \\&quot;str2\\&quot;, \\&quot;str3\\&quot;]}&quot;;\nJSONObject json = new JSONObject(data);\n\nList&lt;Object&gt; list = json.getJSONArray(&quot;data&quot;).toList();\n\nSystem.out.println(myList);\n</code></pre>\n<p><em>Note:  This will create a list of generic Objects.  The currently accepted answer doesn't define a type for the List, which is unsafe.  It doesn't enforce type safety, and errors will occur at runtime instead of at compile time.</em></p>\n<p>If you want to convert all of the inner objects to a String, you can do this by upcasting the List to an Object, and then casting it to a <code>List&lt;String&gt;</code>.  I don't particularly recommend it, but it can be done like this.  <code>List&lt;String&gt; list = (List&lt;String&gt;) (Object) json.getJSONArray(&quot;data&quot;).toList();</code>.</p>\n<p>A better way of casting the value to a specific type would be via a stream to call the <code>Object.toString()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(Object::toString).collect(Collectors.toList());\n</code></pre>\n<p>or, if you have a specific type you want to cast it to, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyObject&gt; list = json.getJSONArray(&quot;data&quot;).toList().stream().map(jsonObject -&gt; (MyObject) jsonObject).collect(Collectors.toList());\n</code></pre>\n<p>Finally, as others have pointed out, there are better libraries for dealing with json.  <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> is a great library, however I personally prefer <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>.  They both offer similar resources, but I've found that Jackson's <code>ObjectMapper</code> is more customizable and more widely used.</p>\n"}],"owner":{"account_id":21295054,"reputation":11,"user_id":15671722,"display_name":"Elaine Ettariel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4493,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74797591,"answer_count":4,"score":0,"last_activity_date":1671123161,"creation_date":1671014883,"question_id":74797039,"body_markdown":"I have a following JSON:\r\n\r\n```none\r\n{&quot;data&quot;:[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]}\r\n```\r\nI want to get a `List`, i.e. `[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]`\r\n\r\nMy code is:\r\n```java\r\nJSONObject json = new JSONObject();\r\nList list = new ArrayList();\r\n...\r\n// adding data in json\r\n...\r\nlist = (List) json.get(&quot;data&quot;);\r\n```\r\nThis is not working.\r\n","title":"How to get a value which is a List from a JSONObject in Java","body":"<p>I have a following JSON:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;data&quot;:[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]}\n</code></pre>\n<p>I want to get a <code>List</code>, i.e. <code>[&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;]</code></p>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject json = new JSONObject();\nList list = new ArrayList();\n...\n// adding data in json\n...\nlist = (List) json.get(&quot;data&quot;);\n</code></pre>\n<p>This is not working.</p>\n"},{"tags":["java","asynchronous","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1553721903,"post_id":55379881,"comment_id":97495302,"body_markdown":"How long does it take for the client to fire the timeout?  There appear to be [several timers](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/constant-values.html#com.amazonaws.ClientConfiguration.DEFAULT_SOCKET_TIMEOUT) and perhaps the interval will give you an idea which one it is.","body":"How long does it take for the client to fire the timeout?  There appear to be <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/constant-values.html#com.amazonaws.ClientConfiguration.DEFAULT_SOCKET_TIMEOUT\" rel=\"nofollow noreferrer\">several timers</a> and perhaps the interval will give you an idea which one it is."}],"answers":[{"tags":[],"owner":{"account_id":6744301,"reputation":15398,"user_id":5196394,"display_name":"hoangdv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573177742,"creation_date":1553698711,"answer_id":55380331,"question_id":55379881,"body_markdown":"AWS Lambda function has maximum execution duration per request is 900 seconds (15 minutes), the default value is 30 seconds.\r\n\r\nYou can increase this value in function settings:\r\n\r\nOpen the AWS Lambda console at https://console.aws.amazon.com/lambda/\r\n\r\nChoose your function.\r\n\r\nChange the Timeout setting.\r\n\r\n[![Timeout setting][1]][1]\r\r\n[1]: https://i.stack.imgur.com/JVoCw.png","title":"How to increase the timeout for AWS Lambda client","body":"<p>AWS Lambda function has maximum execution duration per request is 900 seconds (15 minutes), the default value is 30 seconds.</p>\n\n<p>You can increase this value in function settings:</p>\n\n<p>Open the AWS Lambda console at <a href=\"https://console.aws.amazon.com/lambda/\" rel=\"nofollow noreferrer\">https://console.aws.amazon.com/lambda/</a></p>\n\n<p>Choose your function.</p>\n\n<p>Change the Timeout setting.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JVoCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JVoCw.png\" alt=\"Timeout setting\"></a></p>\n"},{"tags":[],"owner":{"account_id":445434,"reputation":940,"user_id":837886,"display_name":"pbeardshear"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1553795560,"creation_date":1553795560,"answer_id":55404019,"question_id":55379881,"body_markdown":"When you say your client is timing out, do you mean your Lambda SDK client? If so, you may need to pass a longer socket timeout when creating your client:\r\n\r\n```java\r\nAWSLambdaClientBuilder.standard()\r\n  .withClientConfiguration(new ClientConfiguration()\r\n    .withSocketTimeout(SOCKET_TIMEOUT_IN_MS))\r\n  .build();\r\n```\r\n\r\nThe default socket timeout is 50 seconds: https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43\r\n\r\nYour Lambda function itself will continue running regardless of whether the socket is closed on the client side, which is likely why you see the function completing the job.","title":"How to increase the timeout for AWS Lambda client","body":"<p>When you say your client is timing out, do you mean your Lambda SDK client? If so, you may need to pass a longer socket timeout when creating your client:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>AWSLambdaClientBuilder.standard()\n  .withClientConfiguration(new ClientConfiguration()\n    .withSocketTimeout(SOCKET_TIMEOUT_IN_MS))\n  .build();\n</code></pre>\n\n<p>The default socket timeout is 50 seconds: <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43\" rel=\"noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/ClientConfiguration.java#L43</a></p>\n\n<p>Your Lambda function itself will continue running regardless of whether the socket is closed on the client side, which is likely why you see the function completing the job.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638624469,"creation_date":1638624469,"answer_id":70226032,"question_id":55379881,"body_markdown":"In order to increase the timeout in 2021 you will need to:\r\n\r\n- edit your function\r\n- click on the configuration tab\r\n[![enter image description here][1]][1]\r\n- Click on the `Edit` button\r\n- Change the timeout property in the `Basic Settings` category:\r\n[![enter image description here][2]][2]\r\n- Press `Save` down below\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTbPX.png\r\n  [2]: https://i.stack.imgur.com/3FCrp.png","title":"How to increase the timeout for AWS Lambda client","body":"<p>In order to increase the timeout in 2021 you will need to:</p>\n<ul>\n<li>edit your function</li>\n<li>click on the configuration tab\n<a href=\"https://i.stack.imgur.com/iTbPX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iTbPX.png\" alt=\"enter image description here\" /></a></li>\n<li>Click on the <code>Edit</code> button</li>\n<li>Change the timeout property in the <code>Basic Settings</code> category:\n<a href=\"https://i.stack.imgur.com/3FCrp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3FCrp.png\" alt=\"enter image description here\" /></a></li>\n<li>Press <code>Save</code> down below</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641919455,"creation_date":1641919455,"answer_id":70670392,"question_id":55379881,"body_markdown":"When using the new sdk, for increasing the timeout in the client, you can do something like this:\r\n\r\n    SdkHttpClient httpClient = ApacheHttpClient.builder()\r\n                .socketTimeout(Duration.ofSeconds(50))\r\n                .build();\r\n\r\n    LambdaClient lambdaClient = LambdaClient.builder()\r\n                .httpClient(httpClient)\r\n                .build();\r\n\r\nNotice there is also a **ClientOverrideConfiguration** that could be passed to create the lambdaClient, which has methods **apiCallTimeout** and **apiCallAttemptTimeout**, but in my case it only started working when I set the timeout in the httpClient.","title":"How to increase the timeout for AWS Lambda client","body":"<p>When using the new sdk, for increasing the timeout in the client, you can do something like this:</p>\n<pre><code>SdkHttpClient httpClient = ApacheHttpClient.builder()\n            .socketTimeout(Duration.ofSeconds(50))\n            .build();\n\nLambdaClient lambdaClient = LambdaClient.builder()\n            .httpClient(httpClient)\n            .build();\n</code></pre>\n<p>Notice there is also a <strong>ClientOverrideConfiguration</strong> that could be passed to create the lambdaClient, which has methods <strong>apiCallTimeout</strong> and <strong>apiCallAttemptTimeout</strong>, but in my case it only started working when I set the timeout in the httpClient.</p>\n"},{"tags":[],"owner":{"account_id":3472591,"reputation":1474,"user_id":2906568,"accept_rate":71,"display_name":"F.H."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671123054,"creation_date":1671123054,"answer_id":74814971,"question_id":55379881,"body_markdown":"If the timeout occured after 120 seconds it is probably the sdk client which timed out.\r\n\r\nThis did the trick for me (nodejs example):\r\n\r\n```js\r\nimport aws from &#39;aws-sdk&#39;;\r\n\r\nconst lambdaHandler = new aws.Lambda({\r\n    ...\r\n    httpOptions: {\r\n        timeout: 15 * 60 * 1000 // 15 minutes\r\n    }, \r\n});\r\n```\r\n\r\nYou can see the available constructor parameters here: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property","title":"How to increase the timeout for AWS Lambda client","body":"<p>If the timeout occured after 120 seconds it is probably the sdk client which timed out.</p>\n<p>This did the trick for me (nodejs example):</p>\n<pre class=\"lang-js prettyprint-override\"><code>import aws from 'aws-sdk';\n\nconst lambdaHandler = new aws.Lambda({\n    ...\n    httpOptions: {\n        timeout: 15 * 60 * 1000 // 15 minutes\n    }, \n});\n</code></pre>\n<p>You can see the available constructor parameters here: <a href=\"https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Lambda.html#updateFunctionConfiguration-property</a></p>\n"}],"owner":{"account_id":9576517,"reputation":823,"user_id":7112415,"display_name":"Awad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31043,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55404019,"answer_count":5,"score":7,"last_activity_date":1671123054,"creation_date":1553697469,"question_id":55379881,"body_markdown":"I am trying to scan a file using AWS Lambda, and I am getting timeout since the scan function is taking longer than expected.\r\n\r\nI would like to increase the timeout for my client since this process is @Async and I can handle few more seconds.\r\n\r\nThis is my method:\r\n\r\n       @Override\r\n       @Async\r\n       public void scanFile( String s3Bucket, String fileName, String path, String documentId, String createdBy ) throws IOException {\r\n    \r\n          FileScanInput input = new FileScanInput();\r\n          input.setS3Bucket( s3Bucket );\r\n          input.setS3Key( path );\r\n    \r\n          logger.debug( &quot;Scan file: &quot; + path + &quot;, in S3 bucket:  &quot; + s3Bucket );\r\n          if ( fileScanService == null ) {\r\n             fileScanService = buildFileScanService();\r\n          }\r\n    \r\n          FileScanOutput fileScanOutput = fileScanService.scanFile( input );\r\n    //      TODO: if the scan process failed, ask what should be the next step.\r\n    //      for now, the file stays in S3.\r\n          Assert.notNull( fileScanOutput );\r\n          String status = fileScanOutput.getStatus();\r\n    \r\n          // in case the document owner was not found an infected file was file. Email approved emails\r\n          if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) ) {\r\n             // delete file on S3\r\n             this.deleteFile( s3Bucket, path );\r\n             String toEmail = personInfoMapper.findStudentEmail( createdBy );\r\n             try {\r\n                sendVirusDetectedEmail( fileName, toEmail );\r\n             }\r\n             catch ( Exception e ) {\r\n                logger.error( e.getMessage() );\r\n             }\r\n    \r\n             //         we clean up the metadata table in case there was a virus since this is running async.\r\n             metadataDao.cleanUpMetadata( documentId );\r\n    \r\n             logger.error( &quot;The file is infected.&quot; );\r\n             throw new VirusFoundException( &quot;File is infected.&quot; );\r\n          }\r\n       }\r\n\r\n\r\n       public final FileScanService buildFileScanService() {\r\n          return LambdaInvokerFactory.builder().lambdaClient( AWSLambdaClientBuilder.defaultClient() ).build( FileScanService.class );\r\n       }\r\n\r\nAnd this is the resource configs for my Lambda function.\r\n[![enter image description here][1]][1]\r\n\r\n**Update**\r\nI also noticed that my Lambda function actually does its job, which means the issue is basically in this line\r\n`FileScanOutput fileScanOutput = fileScanService.scanFile( input );`\r\n\r\nfileScanOutput doesn&#39;t get initialized instead I get timeout issue.\r\n\r\nMy other classes look like:\r\n\r\n    public interface FileScanService {\r\n    \r\n       @LambdaFunction( functionName = &quot;s3-antivirus-api-scan&quot; )\r\n       public FileScanOutput scanFile( FileScanInput fileScanInput );\r\n    }\r\n\r\n    public class FileScanInput {\r\n    \r\n       private String s3Bucket;\r\n       private String s3Key;\r\n    \r\n       public String getS3Bucket() {\r\n          return s3Bucket;\r\n       }\r\n    \r\n       public void setS3Bucket( String value ) {\r\n          s3Bucket = value;\r\n       }\r\n    \r\n       public String getS3Key() {\r\n          return s3Key;\r\n       }\r\n    \r\n       public void setS3Key( String value ) {\r\n          s3Key = value;\r\n       }\r\n    }\r\n\r\n\r\n\r\n    public class FileScanOutput {\r\n    \r\n       private String status;\r\n    \r\n       public FileScanOutput() {\r\n       }\r\n    \r\n       public FileScanOutput( String status ) {\r\n          this.status = status;\r\n       }\r\n    \r\n       public String getStatus() {\r\n          return status;\r\n       }\r\n    \r\n       public void setStatus( String value ) {\r\n          status = value;\r\n       }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/9xcWG.png\r\n","title":"How to increase the timeout for AWS Lambda client","body":"<p>I am trying to scan a file using AWS Lambda, and I am getting timeout since the scan function is taking longer than expected.</p>\n\n<p>I would like to increase the timeout for my client since this process is @Async and I can handle few more seconds.</p>\n\n<p>This is my method:</p>\n\n<pre><code>   @Override\n   @Async\n   public void scanFile( String s3Bucket, String fileName, String path, String documentId, String createdBy ) throws IOException {\n\n      FileScanInput input = new FileScanInput();\n      input.setS3Bucket( s3Bucket );\n      input.setS3Key( path );\n\n      logger.debug( \"Scan file: \" + path + \", in S3 bucket:  \" + s3Bucket );\n      if ( fileScanService == null ) {\n         fileScanService = buildFileScanService();\n      }\n\n      FileScanOutput fileScanOutput = fileScanService.scanFile( input );\n//      TODO: if the scan process failed, ask what should be the next step.\n//      for now, the file stays in S3.\n      Assert.notNull( fileScanOutput );\n      String status = fileScanOutput.getStatus();\n\n      // in case the document owner was not found an infected file was file. Email approved emails\n      if ( status.equalsIgnoreCase( VIRUS_SCAN_INFECTED ) ) {\n         // delete file on S3\n         this.deleteFile( s3Bucket, path );\n         String toEmail = personInfoMapper.findStudentEmail( createdBy );\n         try {\n            sendVirusDetectedEmail( fileName, toEmail );\n         }\n         catch ( Exception e ) {\n            logger.error( e.getMessage() );\n         }\n\n         //         we clean up the metadata table in case there was a virus since this is running async.\n         metadataDao.cleanUpMetadata( documentId );\n\n         logger.error( \"The file is infected.\" );\n         throw new VirusFoundException( \"File is infected.\" );\n      }\n   }\n\n\n   public final FileScanService buildFileScanService() {\n      return LambdaInvokerFactory.builder().lambdaClient( AWSLambdaClientBuilder.defaultClient() ).build( FileScanService.class );\n   }\n</code></pre>\n\n<p>And this is the resource configs for my Lambda function.\n<a href=\"https://i.stack.imgur.com/9xcWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9xcWG.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong>\nI also noticed that my Lambda function actually does its job, which means the issue is basically in this line\n<code>FileScanOutput fileScanOutput = fileScanService.scanFile( input );</code></p>\n\n<p>fileScanOutput doesn't get initialized instead I get timeout issue.</p>\n\n<p>My other classes look like:</p>\n\n<pre><code>public interface FileScanService {\n\n   @LambdaFunction( functionName = \"s3-antivirus-api-scan\" )\n   public FileScanOutput scanFile( FileScanInput fileScanInput );\n}\n\npublic class FileScanInput {\n\n   private String s3Bucket;\n   private String s3Key;\n\n   public String getS3Bucket() {\n      return s3Bucket;\n   }\n\n   public void setS3Bucket( String value ) {\n      s3Bucket = value;\n   }\n\n   public String getS3Key() {\n      return s3Key;\n   }\n\n   public void setS3Key( String value ) {\n      s3Key = value;\n   }\n}\n\n\n\npublic class FileScanOutput {\n\n   private String status;\n\n   public FileScanOutput() {\n   }\n\n   public FileScanOutput( String status ) {\n      this.status = status;\n   }\n\n   public String getStatus() {\n      return status;\n   }\n\n   public void setStatus( String value ) {\n      status = value;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671122791,"creation_date":1671122791,"answer_id":74814896,"question_id":74814739,"body_markdown":"The timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable is defined by the `Cache Manager`. \r\n\r\nYou can refer to this [article][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cache-tutorial","title":"What is the timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable","body":"<p>The timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable is defined by the <code>Cache Manager</code>.</p>\n<p>You can refer to this <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">article</a></p>\n"}],"owner":{"account_id":9340868,"reputation":23,"user_id":6933711,"display_name":"Patryk1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671122791,"creation_date":1671121936,"question_id":74814739,"body_markdown":"Im using a @Cacheable annotation for caching data from my GET Request. Im just wondering what is the default timeout for items getting removed from the cache. I cant really find anything to say what it is.\r\n","title":"What is the timeout for items getting removed from cache when using org.springframework.cache.annotation.Cacheable","body":"<p>Im using a @Cacheable annotation for caching data from my GET Request. Im just wondering what is the default timeout for items getting removed from the cache. I cant really find anything to say what it is.</p>\n"},{"tags":["java","spring-boot","spring-jdbc","transbase"],"answers":[{"tags":[],"owner":{"account_id":1615024,"reputation":4089,"user_id":1492969,"accept_rate":56,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671122478,"creation_date":1671122478,"answer_id":74814842,"question_id":74814653,"body_markdown":"Yes, you need to add additional Transbase jdbc driver to your classpath. \r\n\r\nAnd you can configure your your spring boot with following properties:\r\n\r\n    spring.datasource.driver-class-name: transbase.jdbc.Driver\r\n    spring.datasource.url: jdbc:&lt;your jdbc url&gt;\r\n    spring.datasource.username: &lt;username&gt;\r\n    spring.datasource.password: &lt;password&gt;\r\n\r\nAnd if you got any database specific additional properties, set it like this\r\n\r\n    spring.datasource.hikari.data-source-properties.&lt;your datasource specific property key&gt; : &lt;value&gt;\r\n\r\n","title":"Connect to Transbase via Spring Boot","body":"<p>Yes, you need to add additional Transbase jdbc driver to your classpath.</p>\n<p>And you can configure your your spring boot with following properties:</p>\n<pre><code>spring.datasource.driver-class-name: transbase.jdbc.Driver\nspring.datasource.url: jdbc:&lt;your jdbc url&gt;\nspring.datasource.username: &lt;username&gt;\nspring.datasource.password: &lt;password&gt;\n</code></pre>\n<p>And if you got any database specific additional properties, set it like this</p>\n<pre><code>spring.datasource.hikari.data-source-properties.&lt;your datasource specific property key&gt; : &lt;value&gt;\n</code></pre>\n"}],"owner":{"account_id":10425609,"reputation":13,"user_id":7687007,"display_name":"luck2y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74814842,"answer_count":1,"score":0,"last_activity_date":1671122478,"creation_date":1671121483,"question_id":74814653,"body_markdown":"I&#39;m currently looking for the most convenient way to connect to a Transbase DB with Spring Boot.\r\nIs it even possible with Spring JDBC? Do I need additional drivers? And what do I need to configure in my application.properties? I couldn&#39;t make it work by now.\r\n\r\nAlready tried to search for someone who has done this before but Transbase does not seem to be very popular, so without success.\r\n\r\nBest regards","title":"Connect to Transbase via Spring Boot","body":"<p>I'm currently looking for the most convenient way to connect to a Transbase DB with Spring Boot.\nIs it even possible with Spring JDBC? Do I need additional drivers? And what do I need to configure in my application.properties? I couldn't make it work by now.</p>\n<p>Already tried to search for someone who has done this before but Transbase does not seem to be very popular, so without success.</p>\n<p>Best regards</p>\n"},{"tags":["java","jjwt"],"answers":[{"tags":[],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1484678160,"creation_date":1484678160,"answer_id":41704545,"question_id":41661821,"body_markdown":"`apiKey.getSecret()` in the blog article is a reference to the secure, randomly-generated &amp; Base64-encoded secret key (like a password) assigned to the API Key that Stormpath provides every customer.  Stormpath customers use this API key to authenticate every request into the Stormpath REST API.  Because every Stormpath customer has an API Key (and the key is accessible to your application), the API Key secret is an ideal &#39;default&#39; for signing and verifying JWTs specific to your application.\r\n\r\nIf you don&#39;t have a Stormpath API Key, any sufficiently strong secure-random byte array will be just fine for signing and verifying JWTs.\r\n\r\nIn your above example, the following is shown as a test key:\r\n\r\n    private static final String secret = &quot;MySecrete&quot;;\r\n\r\nThis is not a valid (JWT-compliant) key, and it cannot be used for JWT HMAC algorithms.\r\n\r\nThe JWT RFC _requires_ that you [MUST](https://www.rfc-editor.org/rfc/rfc7518#section-3.2) use a byte array key length equal to or greater than the hash output length.\r\n\r\nThis means that if you use HS256, HS384, or HS512, your key byte arrays must be 256 bits (32 bytes), 384 bits (48 bytes), or 512 bits (64 bytes) respectively.  I go into more detail on this in [another StackOverflow answer](https://stackoverflow.com/a/40274325/407170) - see the data there, and the `MacProvider` examples that can generate you a spec-compliant and secure key.\r\n\r\nBased on this, here is that code sample, rewritten to a) generate a valid key and b) reference that key as a Base64-encoded string:\r\n\r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n    \r\n    import java.security.Key;\r\n    import java.util.Base64;\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    public class JJWTDemo {\r\n    \r\n        private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\r\n        private static final byte[] secretBytes = secret.getEncoded();\r\n        private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\r\n    \r\n        private static String generateToken() {\r\n            String id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n            Date now = new Date();\r\n            Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\r\n    \r\n            String token = Jwts.builder()\r\n                .setId(id)\r\n                .setIssuedAt(now)\r\n                .setNotBefore(now)\r\n                .setExpiration(exp)\r\n                .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\r\n                .compact();\r\n            \r\n            return token;\r\n        }\r\n    \r\n        private static void verifyToken(String token) {\r\n            Claims claims = Jwts.parser()\r\n                .setSigningKey(base64SecretBytes)\r\n                .parseClaimsJws(token).getBody();\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(&quot;ID: &quot; + claims.getId());\r\n            System.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n            System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n            System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(generateToken());\r\n            String token = generateToken();\r\n            verifyToken(token);\r\n        }\r\n    }\r\n\r\nNote that Base64-encoded byte arrays are *not* encrypted (text encoding != encryption), so ensure that if you Base64-encode your secret key bytes that you still keep that Base64 string safe/hidden.\r\n\r\nFinally, the above static final constants (named `secret`, `secretBytes` and `base64SecretBytes`) are there for this simple test demonstration only - one should never hard code keys into source code, let alone make them static constants, as they can easily be decompiled.","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p><code>apiKey.getSecret()</code> in the blog article is a reference to the secure, randomly-generated &amp; Base64-encoded secret key (like a password) assigned to the API Key that Stormpath provides every customer.  Stormpath customers use this API key to authenticate every request into the Stormpath REST API.  Because every Stormpath customer has an API Key (and the key is accessible to your application), the API Key secret is an ideal 'default' for signing and verifying JWTs specific to your application.</p>\n<p>If you don't have a Stormpath API Key, any sufficiently strong secure-random byte array will be just fine for signing and verifying JWTs.</p>\n<p>In your above example, the following is shown as a test key:</p>\n<pre><code>private static final String secret = &quot;MySecrete&quot;;\n</code></pre>\n<p>This is not a valid (JWT-compliant) key, and it cannot be used for JWT HMAC algorithms.</p>\n<p>The JWT RFC <em>requires</em> that you <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">MUST</a> use a byte array key length equal to or greater than the hash output length.</p>\n<p>This means that if you use HS256, HS384, or HS512, your key byte arrays must be 256 bits (32 bytes), 384 bits (48 bytes), or 512 bits (64 bytes) respectively.  I go into more detail on this in <a href=\"https://stackoverflow.com/a/40274325/407170\">another StackOverflow answer</a> - see the data there, and the <code>MacProvider</code> examples that can generate you a spec-compliant and secure key.</p>\n<p>Based on this, here is that code sample, rewritten to a) generate a valid key and b) reference that key as a Base64-encoded string:</p>\n<pre><code>import io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\nimport java.security.Key;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.UUID;\n\npublic class JJWTDemo {\n\n    private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\n    private static final byte[] secretBytes = secret.getEncoded();\n    private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\n\n    private static String generateToken() {\n        String id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\n\n        String token = Jwts.builder()\n            .setId(id)\n            .setIssuedAt(now)\n            .setNotBefore(now)\n            .setExpiration(exp)\n            .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\n            .compact();\n        \n        return token;\n    }\n\n    private static void verifyToken(String token) {\n        Claims claims = Jwts.parser()\n            .setSigningKey(base64SecretBytes)\n            .parseClaimsJws(token).getBody();\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(&quot;ID: &quot; + claims.getId());\n        System.out.println(&quot;Subject: &quot; + claims.getSubject());\n        System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\n        System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\n    }\n\n    public static void main(String[] args) {\n        System.out.println(generateToken());\n        String token = generateToken();\n        verifyToken(token);\n    }\n}\n</code></pre>\n<p>Note that Base64-encoded byte arrays are <em>not</em> encrypted (text encoding != encryption), so ensure that if you Base64-encode your secret key bytes that you still keep that Base64 string safe/hidden.</p>\n<p>Finally, the above static final constants (named <code>secret</code>, <code>secretBytes</code> and <code>base64SecretBytes</code>) are there for this simple test demonstration only - one should never hard code keys into source code, let alone make them static constants, as they can easily be decompiled.</p>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506689778,"creation_date":1506689778,"answer_id":46489305,"question_id":41661821,"body_markdown":"I am 100% agree on Les Hazlewood. But we should always send the `Subject`, `Issuer` and `Audience` to identify the current login users more details. The code can be modified like below:\r\n\r\n\r\n    import java.security.Key;\r\n    import java.util.Base64;\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n    \r\n    public class TokenUtil {\r\n    \tprivate static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\r\n    \tprivate static final byte[] secretBytes = secret.getEncoded();\r\n    \tprivate static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\r\n    \r\n    \tprivate static String generateToken(String subject, String issuer, String audience) {\r\n    \t\tString id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n    \t\tDate now = new Date();\r\n    \t\tDate exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\r\n    \r\n    \t\tString token = Jwts.builder()\r\n    \t\t\t\t.setId(id)\r\n    \t\t\t\t.setIssuedAt(now)\r\n    \t\t\t\t.setNotBefore(now)\r\n    \t\t\t\t.setExpiration(exp)\r\n    \t\t\t\t.setSubject(subject)\r\n    \t\t\t\t.setIssuer(issuer)\r\n    \t\t\t\t.setAudience(audience)\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS256, base64SecretBytes)\r\n    \t\t\t\t.compact();\r\n    \r\n    \t\treturn token;\r\n    \t}\r\n    \r\n    \tprivate static void verifyToken(String token) {\r\n    \t\tClaims claims = Jwts.parser()\r\n    \t\t\t\t.setSigningKey(base64SecretBytes)\r\n    \t\t\t\t.parseClaimsJws(token).getBody();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;----------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + claims.getId());\r\n    \t\tSystem.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n    \t\tSystem.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n    \t\tSystem.out.println(&quot;Expiration : &quot; + claims.getExpiration());\r\n    \t\tSystem.out.println(&quot;Not Before : &quot;+claims.getNotBefore());\r\n    \t\tSystem.out.println(&quot;Audience :: &quot;+claims.getAudience());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString token = generateToken(&quot;MySubject&quot;, &quot;AH&quot;, &quot;MyAudience&quot;);\r\n    \t\tSystem.out.println(&quot;TOKEN :: &quot;+token);\r\n    \t\tverifyToken(token);\r\n    \t}\r\n    }\r\n\r\n","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>I am 100% agree on Les Hazlewood. But we should always send the <code>Subject</code>, <code>Issuer</code> and <code>Audience</code> to identify the current login users more details. The code can be modified like below:</p>\n\n<pre><code>import java.security.Key;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.UUID;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\npublic class TokenUtil {\n    private static final Key secret = MacProvider.generateKey(SignatureAlgorithm.HS256);\n    private static final byte[] secretBytes = secret.getEncoded();\n    private static final String base64SecretBytes = Base64.getEncoder().encodeToString(secretBytes);\n\n    private static String generateToken(String subject, String issuer, String audience) {\n        String id = UUID.randomUUID().toString().replace(\"-\", \"\");\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000 * 30)); // 30 seconds\n\n        String token = Jwts.builder()\n                .setId(id)\n                .setIssuedAt(now)\n                .setNotBefore(now)\n                .setExpiration(exp)\n                .setSubject(subject)\n                .setIssuer(issuer)\n                .setAudience(audience)\n                .signWith(SignatureAlgorithm.HS256, base64SecretBytes)\n                .compact();\n\n        return token;\n    }\n\n    private static void verifyToken(String token) {\n        Claims claims = Jwts.parser()\n                .setSigningKey(base64SecretBytes)\n                .parseClaimsJws(token).getBody();\n\n        System.out.println(\"----------------------------\");\n        System.out.println(\"ID: \" + claims.getId());\n        System.out.println(\"Subject: \" + claims.getSubject());\n        System.out.println(\"Issuer: \" + claims.getIssuer());\n        System.out.println(\"Expiration : \" + claims.getExpiration());\n        System.out.println(\"Not Before : \"+claims.getNotBefore());\n        System.out.println(\"Audience :: \"+claims.getAudience());\n    }\n\n    public static void main(String[] args) {\n        String token = generateToken(\"MySubject\", \"AH\", \"MyAudience\");\n        System.out.println(\"TOKEN :: \"+token);\n        verifyToken(token);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20026453,"reputation":11,"user_id":14680157,"display_name":"AbYa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671122197,"creation_date":1671122197,"answer_id":74814794,"question_id":41661821,"body_markdown":"To generate token :\r\n\r\n        AppUser appUserPrincipal = (AppUser) authentication.getPrincipal();\r\n\r\n        return Jwts.builder()\r\n                .setSubject((appUserPrincipal.getUsername()))\r\n                .setIssuedAt(new Date())\r\n                .signWith(getKey(), SignatureAlgorithm.HS512)\r\n                .compact();\r\n        }\r\n\r\n\r\n        public Key getKey() {\r\n          byte[] keyByte = Decoders.BASE64.decode(jwtSecret);\r\n          return Keys.hmacShaKeyFor(keyByte);\r\n        }  \r\n\r\nAnd then get the userName (subject) from token using this code :\r\n\r\n        public String getUserNameFromJwtToken(String token) {\r\n              return Jwts.parserBuilder().setSigningKey(getKey()).build()\r\n                .parseClaimsJws(token).getBody().getSubject();\r\n        }","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>To generate token :</p>\n<pre><code>    AppUser appUserPrincipal = (AppUser) authentication.getPrincipal();\n\n    return Jwts.builder()\n            .setSubject((appUserPrincipal.getUsername()))\n            .setIssuedAt(new Date())\n            .signWith(getKey(), SignatureAlgorithm.HS512)\n            .compact();\n    }\n\n\n    public Key getKey() {\n      byte[] keyByte = Decoders.BASE64.decode(jwtSecret);\n      return Keys.hmacShaKeyFor(keyByte);\n    }  \n</code></pre>\n<p>And then get the userName (subject) from token using this code :</p>\n<pre><code>    public String getUserNameFromJwtToken(String token) {\n          return Jwts.parserBuilder().setSigningKey(getKey()).build()\n            .parseClaimsJws(token).getBody().getSubject();\n    }\n</code></pre>\n"}],"owner":{"display_name":"user5778069"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28622,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41704545,"answer_count":3,"score":12,"last_activity_date":1671122197,"creation_date":1484488105,"question_id":41661821,"body_markdown":"I&#39;m looking to implement `JWT` in my application for that I&#39;m doing some R&amp;D on it by taking a reference from : https://stormpath.com/blog/jwt-java-create-verify. I was successfully able to implement the `generateToken()` method, when I am trying to `verifyToken()` by extracting claim sets. I dont understand from where `apiKey.getSecret()` is came from. Could you please guide me on this?\r\n\r\nThe code below for reference:\r\n\r\n    public class JJWTDemo {\r\n    \t\r\n    \tprivate static final String secret = &quot;MySecrete&quot;;\r\n    \t\r\n    \tprivate static String generateToken(){\r\n    \t\tString id = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n    \t\tDate now = new Date();\r\n            Date exp = new Date(System.currentTimeMillis() + (1000*30)); // 30 seconds\r\n    \t\t\r\n    \t\tString token = Jwts.builder()\r\n    \t            .setId(id)\r\n    \t            .setIssuedAt(now)\r\n    \t            .setNotBefore(now)\r\n    \t            .setExpiration(exp)\r\n    \t            .signWith(SignatureAlgorithm.HS256, secret)\r\n    \t            .compact();\r\n    \t\t\r\n    \t\treturn token;\r\n    \t}\r\n    \t\r\n    \tprivate static void verifyToken(String token){\r\n    \t\tClaims claims = Jwts.parser().\r\n    \t\t\t\tsetSigningKey(DatatypeConverter.parseBase64Binary(apiKey.getSecret()))\r\n    \t\t\t\t.parseClaimsJws(token).getBody();\r\n    \t\tSystem.out.println(&quot;----------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + claims.getId());\r\n    \t    System.out.println(&quot;Subject: &quot; + claims.getSubject());\r\n    \t    System.out.println(&quot;Issuer: &quot; + claims.getIssuer());\r\n    \t    System.out.println(&quot;Expiration: &quot; + claims.getExpiration());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(generateToken());\r\n    \t\tString token = generateToken();\r\n    \t\tverifyToken(token);\r\n    \t}\r\n    }\r\n\r\n I see the below error is coming:\r\n\r\n    eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4N2E5NmYwNTcyN2M0ZDY0YjZmODlhNDAyOTQ2OTZiNyIsImlhdCI6MTQ4NDQ4NjYyNiwibmJmIjoxNDg0NDg2NjI2LCJleHAiOjE0ODQ0ODY2NTZ9.ycS7nLWnPpe28DM7CcQYBswOmMUhBd3wQwfZ9C-yQYs\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed.\r\n    \tat io.jsonwebtoken.lang.Assert.notNull(Assert.java:85)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:331)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\r\n    \tat io.jsonwebtoken.jjwtfun.service.JJWTDemo.verifyToken(JJWTDemo.java:31)\r\n    \tat io.jsonwebtoken.jjwtfun.service.JJWTDemo.main(JJWTDemo.java:41)\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;","title":"java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed","body":"<p>I'm looking to implement <code>JWT</code> in my application for that I'm doing some R&amp;D on it by taking a reference from : <a href=\"https://stormpath.com/blog/jwt-java-create-verify\" rel=\"noreferrer\">https://stormpath.com/blog/jwt-java-create-verify</a>. I was successfully able to implement the <code>generateToken()</code> method, when I am trying to <code>verifyToken()</code> by extracting claim sets. I dont understand from where <code>apiKey.getSecret()</code> is came from. Could you please guide me on this?</p>\n\n<p>The code below for reference:</p>\n\n<pre><code>public class JJWTDemo {\n\n    private static final String secret = \"MySecrete\";\n\n    private static String generateToken(){\n        String id = UUID.randomUUID().toString().replace(\"-\", \"\");\n        Date now = new Date();\n        Date exp = new Date(System.currentTimeMillis() + (1000*30)); // 30 seconds\n\n        String token = Jwts.builder()\n                .setId(id)\n                .setIssuedAt(now)\n                .setNotBefore(now)\n                .setExpiration(exp)\n                .signWith(SignatureAlgorithm.HS256, secret)\n                .compact();\n\n        return token;\n    }\n\n    private static void verifyToken(String token){\n        Claims claims = Jwts.parser().\n                setSigningKey(DatatypeConverter.parseBase64Binary(apiKey.getSecret()))\n                .parseClaimsJws(token).getBody();\n        System.out.println(\"----------------------------\");\n        System.out.println(\"ID: \" + claims.getId());\n        System.out.println(\"Subject: \" + claims.getSubject());\n        System.out.println(\"Issuer: \" + claims.getIssuer());\n        System.out.println(\"Expiration: \" + claims.getExpiration());\n    }\n\n    public static void main(String[] args) {\n        System.out.println(generateToken());\n        String token = generateToken();\n        verifyToken(token);\n    }\n}\n</code></pre>\n\n<p>I see the below error is coming:</p>\n\n<pre><code>eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4N2E5NmYwNTcyN2M0ZDY0YjZmODlhNDAyOTQ2OTZiNyIsImlhdCI6MTQ4NDQ4NjYyNiwibmJmIjoxNDg0NDg2NjI2LCJleHAiOjE0ODQ0ODY2NTZ9.ycS7nLWnPpe28DM7CcQYBswOmMUhBd3wQwfZ9C-yQYs\nException in thread \"main\" java.lang.IllegalArgumentException: A signing key must be specified if the specified JWT is digitally signed.\n    at io.jsonwebtoken.lang.Assert.notNull(Assert.java:85)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:331)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\n    at io.jsonwebtoken.jjwtfun.service.JJWTDemo.verifyToken(JJWTDemo.java:31)\n    at io.jsonwebtoken.jjwtfun.service.JJWTDemo.main(JJWTDemo.java:41)\n</code></pre>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671118936,"post_id":74813991,"comment_id":132033958,"body_markdown":"You already have it , there is no copy. The line `ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});` doesn&#39;t do anything apart from starting yet another application which `@SpringBootTest` also does.","body":"You already have it , there is no copy. The line <code>ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});</code> doesn&#39;t do anything apart from starting yet another application which <code>@SpringBootTest</code> also does."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671120490,"post_id":74813991,"comment_id":132034551,"body_markdown":"@M.Deinum Ok, now I&#39;m sending args to main class like this: @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}), but now it doesn&#39;t do anything, I still have {}","body":"@M.Deinum Ok, now I&#39;m sending args to main class like this: @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}), but now it doesn&#39;t do anything, I still have {}"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671121059,"post_id":74813991,"comment_id":132034802,"body_markdown":"Are you using H2 db in test case?","body":"Are you using H2 db in test case?"},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671121612,"post_id":74813991,"comment_id":132035022,"body_markdown":"@RohitAgarwal PostgreSQL, but it doesn&#39;t matter, as I can&#39;t send data to args","body":"@RohitAgarwal PostgreSQL, but it doesn&#39;t matter, as I can&#39;t send data to args"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671122526,"post_id":74813991,"comment_id":132035366,"body_markdown":"Ok is it possible to share code in repo to debug it further?","body":"Ok is it possible to share code in repo to debug it further?"},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671124162,"post_id":74813991,"comment_id":132035890,"body_markdown":"@RohitAgarwal https://github.com/Kernazhytski/ClevertechTestTask","body":"@RohitAgarwal <a href=\"https://github.com/Kernazhytski/ClevertechTestTask\" rel=\"nofollow noreferrer\">github.com/Kernazhytski/ClevertechTestTask</a>"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671126416,"post_id":74813991,"comment_id":132036604,"body_markdown":"I checked your code, it looks fine. Test case is working as expected. If you want to get data from Items table then you have to first load data in that table in test case. In H2 database this is possible with data.sql file.","body":"I checked your code, it looks fine. Test case is working as expected. If you want to get data from Items table then you have to first load data in that table in test case. In H2 database this is possible with data.sql file."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671132218,"post_id":74813991,"comment_id":132038341,"body_markdown":"@RohitAgarwal It can&#39;t connect to an existing table?","body":"@RohitAgarwal It can&#39;t connect to an existing table?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671168280,"post_id":74813991,"comment_id":132045339,"body_markdown":"Yes you can but then you need to add same database details in application.properties file present in test/resource folder but this is not recommended to use actual database for testing. We should use in-memory database","body":"Yes you can but then you need to add same database details in application.properties file present in test/resource folder but this is not recommended to use actual database for testing. We should use in-memory database"}],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671122136,"creation_date":1671118533,"question_id":74813991,"body_markdown":"I have a SpringBootTest class:\r\n\r\n```\r\n\r\n@SpringBootTest\r\nclass EntryData1 {\r\n\r\n\t@Autowired\r\n\tprivate ItemsDAO itemsDAO;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});\r\n\t\tSystem.out.println(itemsDAO.getList());\r\n\t}\r\n\r\n}\r\n```\r\nWhen I call itemsDAO.getList() in test I get {}, but when I write System.out.println(itemsDAO.getList()); in the main code I get a HashMap. So that means, test class make copy of ItemsDAO Bean, how can I use the main one?\r\n\r\nEdit:\r\n\r\nNow I have @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}) and made in main method getter of args, to see, if String[] args getts anything. I got {} from getter, so it means nothing was sent to args","title":"How to get Bean from a main code to the SpringBootTest?","body":"<p>I have a SpringBootTest class:</p>\n<pre><code>\n@SpringBootTest\nclass EntryData1 {\n\n    @Autowired\n    private ItemsDAO itemsDAO;\n\n    @Test\n    void contextLoads() {\n        ClevertechTestTaskApplication.main(new String[]{&quot;3-1&quot;,&quot;4-2&quot;});\n        System.out.println(itemsDAO.getList());\n    }\n\n}\n</code></pre>\n<p>When I call itemsDAO.getList() in test I get {}, but when I write System.out.println(itemsDAO.getList()); in the main code I get a HashMap. So that means, test class make copy of ItemsDAO Bean, how can I use the main one?</p>\n<p>Edit:</p>\n<p>Now I have @SpringBootTest(args = {&quot;1-3&quot;,&quot;4-2&quot;}) and made in main method getter of args, to see, if String[] args getts anything. I got {} from getter, so it means nothing was sent to args</p>\n"},{"tags":["java","hibernate","spring"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1313687785,"creation_date":1313686558,"answer_id":7111172,"question_id":7111134,"body_markdown":"Wrapping exceptions usually have a way to nest the original exception within them. For Hibernate, your ConstraintViolationException is a JDBCException, it has a method called [getSQLException][1] that returns the actual exception. So call getCause on the Spring DataIntegrityViolationException (in order to get the Hibernate exception), call getSQLException on that, and finally call getMessage() on the SQLException. The message should be the same as what you see logged by the Hibernate JDBCExceptionReporter, if you want only the constraint name you will have to parse the string.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/JDBCException.html#getSQLException%28%29","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>Wrapping exceptions usually have a way to nest the original exception within them. For Hibernate, your ConstraintViolationException is a JDBCException, it has a method called <a href=\"http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/JDBCException.html#getSQLException%28%29\" rel=\"noreferrer\">getSQLException</a> that returns the actual exception. So call getCause on the Spring DataIntegrityViolationException (in order to get the Hibernate exception), call getSQLException on that, and finally call getMessage() on the SQLException. The message should be the same as what you see logged by the Hibernate JDBCExceptionReporter, if you want only the constraint name you will have to parse the string.</p>\n"},{"tags":[],"owner":{"account_id":9031814,"reputation":131,"user_id":6729129,"display_name":"Guilherme Berghauser"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1471500238,"creation_date":1471496784,"answer_id":39010362,"question_id":7111134,"body_markdown":"Insert a `catch` statement like this:\r\n\r\n    catch (DataIntegrityViolationException e) {\r\n\t\t\tString message = e.getMostSpecificCause().getMessage();\r\n    }","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>Insert a <code>catch</code> statement like this:</p>\n\n<pre><code>catch (DataIntegrityViolationException e) {\n        String message = e.getMostSpecificCause().getMessage();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18935660,"reputation":86,"user_id":13816773,"display_name":"Crist&#243;bal Gajardo Vera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646435120,"creation_date":1646435120,"answer_id":71358123,"question_id":7111134,"body_markdown":"If you are using PostgreSQL and you are really interested to find detailed cause of the exception, then you can use PostgreSQL in compilation time, as so:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis way, you will have utility methods and the PSQLException class. With this, now you can cast most specific cause to it.\r\n\r\n```java\r\nvar exceptionCause = exception.getMostSpecificCause();\r\n\r\nif (exceptionCause instanceof PSQLException psqlException) {\r\n    var serverErrorMessage = psqlException.getServerErrorMessage();\r\n\r\n    if (serverErrorMessage != null) {\r\n        var detail = serverErrorMessage.getDetail();\r\n        exceptionCause = new Exception(detail);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, now you can throw or handle this `exceptionCause` that will have your detailed or human-readable message.","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>If you are using PostgreSQL and you are really interested to find detailed cause of the exception, then you can use PostgreSQL in compilation time, as so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This way, you will have utility methods and the PSQLException class. With this, now you can cast most specific cause to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var exceptionCause = exception.getMostSpecificCause();\n\nif (exceptionCause instanceof PSQLException psqlException) {\n    var serverErrorMessage = psqlException.getServerErrorMessage();\n\n    if (serverErrorMessage != null) {\n        var detail = serverErrorMessage.getDetail();\n        exceptionCause = new Exception(detail);\n    }\n}\n</code></pre>\n<p>As you can see, now you can throw or handle this <code>exceptionCause</code> that will have your detailed or human-readable message.</p>\n"},{"tags":[],"owner":{"account_id":11906277,"reputation":93,"user_id":8712753,"display_name":"ebey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671122016,"creation_date":1671122016,"answer_id":74814757,"question_id":7111134,"body_markdown":"You can handle like that\r\n\r\n    catch (DataIntegrityViolationException ex){\r\n         String constraintName = ((ConstraintViolationException)ex.getCause()).getConstraintName();\r\n     ...\r\n\r\nBut be careful import will be\r\n\r\n     import org.hibernate.exception.ConstraintViolationException;\r\nnot \r\n\r\n     import javax.validaiton;","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>You can handle like that</p>\n<pre><code>catch (DataIntegrityViolationException ex){\n     String constraintName = ((ConstraintViolationException)ex.getCause()).getConstraintName();\n ...\n</code></pre>\n<p>But be careful import will be</p>\n<pre><code> import org.hibernate.exception.ConstraintViolationException;\n</code></pre>\n<p>not</p>\n<pre><code> import javax.validaiton;\n</code></pre>\n"}],"owner":{"account_id":60082,"reputation":801,"user_id":179589,"accept_rate":79,"display_name":"Arthur Accioly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9887,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7111172,"answer_count":4,"score":12,"last_activity_date":1671122016,"creation_date":1313686374,"question_id":7111134,"body_markdown":"In my application when a violation key is raised, I would like to get the constraint name, but I&#39;m not finding any method to get this information. The message returned by &quot;getMessage()&quot; is very summarized and I need more information about the error to make a customizable error message to the end user.\r\n\r\nThe stack trace:\r\n\r\n    84732 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\r\n    84732 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint &quot;ix_tb_oferta_vaga&quot;\r\n      Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\r\n    187405 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\r\n    187405 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint &quot;ix_tb_oferta_vaga&quot;\r\n      Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\r\n\r\nThe getMessage():\r\n\r\n    could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]\r\n\r\nThanks.\r\n\r\nArthur\r\n","title":"How to get the constraint name in a org.springframework.dao.DataIntegrityViolationException?","body":"<p>In my application when a violation key is raised, I would like to get the constraint name, but I'm not finding any method to get this information. The message returned by \"getMessage()\" is very summarized and I need more information about the error to make a customizable error message to the end user.</p>\n\n<p>The stack trace:</p>\n\n<pre><code>84732 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\n84732 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint \"ix_tb_oferta_vaga\"\n  Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\n187405 [http-8080-1] WARN  org.hibernate.util.JDBCExceptionReporter  - SQL Error: 0, SQLState: 23505\n187405 [http-8080-1] ERROR org.hibernate.util.JDBCExceptionReporter  - ERROR: duplicate key value violates unique constraint \"ix_tb_oferta_vaga\"\n  Detalhe: Key (cd_pj, cd_curso)=(680, 29) already exists.\n</code></pre>\n\n<p>The getMessage():</p>\n\n<pre><code>could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [br.gov.ce.seduc.estagio.model.bean.OfertaVaga]\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>Arthur</p>\n"},{"tags":["java","android","httprequest","android-volley"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1671053378,"post_id":74801511,"comment_id":132017290,"body_markdown":"What does the documentation say exactly about the authentication token? Do you need to send it as a parameter, or maybe as a header? (If it&#39;s the latter, [this article about Volley headers](http://arnab.ch/blog/2013/08/asynchronous-http-requests-in-android-using-volley/) might help you","body":"What does the documentation say exactly about the authentication token? Do you need to send it as a parameter, or maybe as a header? (If it&#39;s the latter, <a href=\"http://arnab.ch/blog/2013/08/asynchronous-http-requests-in-android-using-volley/\" rel=\"nofollow noreferrer\">this article about Volley headers</a> might help you"}],"owner":{"account_id":20328218,"reputation":11,"user_id":14910955,"display_name":"BFM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671121434,"creation_date":1671035927,"question_id":74801511,"body_markdown":"I want to send a DELETE request to an API to delete a city with the given id. In the API request documentation it says that the DELETE request requires as parameters the authentication token and the city id. When I run the code below I always get a `com.android.volley.AuthFailureError`.\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nvoid deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\r\n    String url = baseUrl + &quot;city&quot;;\r\n\r\n    try {\r\n        JSONObject params = new JSONObject();\r\n        params.put(&quot;token&quot;, token);\r\n        params.put(&quot;city_id&quot;, cityId);\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\r\n                (Request.Method.DELETE, url, params, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try{\r\n                            String success = response.get(&quot;success&quot;).toString();\r\n                            if(success.equals(&quot;true&quot;)){\r\n                                volleyResponseListener.onResponse();\r\n                            }else{\r\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\r\n                                throw new Exception(errorMessage);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            volleyResponseListener.onError(e.getMessage());\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        System.out.println(error);\r\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\r\n                    }\r\n                });\r\n        requestQueue.add(jsonObjectRequest);\r\n    }catch (JSONException e){\r\n        volleyResponseListener.onError(&quot;Param error&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nUPDATE:\r\n\r\nI solved the problem by adding the city id as a query in the HTTP request and sent the authentication token in the header. Here is the final code:\r\n```java\r\nvoid deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\r\n    String url = baseUrl + &quot;city?city_id=&quot;+cityId;\r\n\r\n   \r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\r\n                (Request.Method.DELETE, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try{\r\n                            String success = response.get(&quot;success&quot;).toString();\r\n                            if(success.equals(&quot;true&quot;)){\r\n                                volleyResponseListener.onResponse();\r\n                            }else{\r\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\r\n                                throw new Exception(errorMessage);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            volleyResponseListener.onError(e.getMessage());\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        System.out.println(error);\r\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\r\n                    }\r\n                }){\r\n\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = super.getHeaders();\r\n\r\n                    if (headers == null || headers.equals(Collections.emptyMap())) {\r\n                        headers = new HashMap&lt;String, String&gt;();\r\n                    }\r\n\r\n                    headers.put(&quot;token&quot;, token);\r\n\r\n                    return headers;\r\n                }\r\n\r\n\r\n            };\r\n        requestQueue.add(jsonObjectRequest);\r\n}\r\n```","title":"How can I send a DELETE request with parameters using Volley?","body":"<p>I want to send a DELETE request to an API to delete a city with the given id. In the API request documentation it says that the DELETE request requires as parameters the authentication token and the city id. When I run the code below I always get a <code>com.android.volley.AuthFailureError</code>.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\n    String url = baseUrl + &quot;city&quot;;\n\n    try {\n        JSONObject params = new JSONObject();\n        params.put(&quot;token&quot;, token);\n        params.put(&quot;city_id&quot;, cityId);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\n                (Request.Method.DELETE, url, params, new Response.Listener&lt;JSONObject&gt;() {\n\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try{\n                            String success = response.get(&quot;success&quot;).toString();\n                            if(success.equals(&quot;true&quot;)){\n                                volleyResponseListener.onResponse();\n                            }else{\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\n                                throw new Exception(errorMessage);\n                            }\n                        } catch (Exception e) {\n                            volleyResponseListener.onError(e.getMessage());\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        System.out.println(error);\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\n                    }\n                });\n        requestQueue.add(jsonObjectRequest);\n    }catch (JSONException e){\n        volleyResponseListener.onError(&quot;Param error&quot;);\n    }\n}\n</code></pre>\n<p>UPDATE:</p>\n<p>I solved the problem by adding the city id as a query in the HTTP request and sent the authentication token in the header. Here is the final code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void deleteCity(String cityId, final VolleyResponseListener volleyResponseListener){\n    String url = baseUrl + &quot;city?city_id=&quot;+cityId;\n\n   \n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest\n                (Request.Method.DELETE, url, null, new Response.Listener&lt;JSONObject&gt;() {\n\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try{\n                            String success = response.get(&quot;success&quot;).toString();\n                            if(success.equals(&quot;true&quot;)){\n                                volleyResponseListener.onResponse();\n                            }else{\n                                String errorMessage = response.get(&quot;errorMessage&quot;).toString();\n                                throw new Exception(errorMessage);\n                            }\n                        } catch (Exception e) {\n                            volleyResponseListener.onError(e.getMessage());\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        System.out.println(error);\n                        volleyResponseListener.onError(&quot;Volley Error&quot;);\n                    }\n                }){\n\n                @Override\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                    Map&lt;String, String&gt; headers = super.getHeaders();\n\n                    if (headers == null || headers.equals(Collections.emptyMap())) {\n                        headers = new HashMap&lt;String, String&gt;();\n                    }\n\n                    headers.put(&quot;token&quot;, token);\n\n                    return headers;\n                }\n\n\n            };\n        requestQueue.add(jsonObjectRequest);\n}\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1551086260,"post_id":54862835,"comment_id":96496316,"body_markdown":"I can&#39;t answer the first part (other than the usual: worry about performance when you have a performance problem to worry about), but re the latter, of course you can: `private Predicate&lt;String&gt; p = (arg) -&gt; true;`.","body":"I can&#39;t answer the first part (other than the usual: worry about performance when you have a performance problem to worry about), but re the latter, of course you can: <code>private Predicate&lt;String&gt; p = (arg) -&gt; true;</code>."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1551086263,"post_id":54862835,"comment_id":96496318,"body_markdown":"Doing what without lambda? This method does effectively nothing.","body":"Doing what without lambda? This method does effectively nothing."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1551086264,"post_id":54862835,"comment_id":96496319,"body_markdown":"The method `doThis` does not actually do anything except declaring a Predicate that remains unused. Did you want to return it ?","body":"The method <code>doThis</code> does not actually do anything except declaring a Predicate that remains unused. Did you want to return it ?"},{"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"score":0,"creation_date":1551086339,"post_id":54862835,"comment_id":96496359,"body_markdown":"@Henry added more code","body":"@Henry added more code"},{"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"score":0,"creation_date":1551086404,"post_id":54862835,"comment_id":96496398,"body_markdown":"@T.J.Crowder will it make any difference (good/bad)if I refactor it as a instance variable.","body":"@T.J.Crowder will it make any difference (good/bad)if I refactor it as a instance variable."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1551086544,"post_id":54862835,"comment_id":96496475,"body_markdown":"It depends on how often you would call that method (and hence create a new predicate). Making it a static class member (no need to access instance scope) is probably faster, but also it probably does not really matter.","body":"It depends on how often you would call that method (and hence create a new predicate). Making it a static class member (no need to access instance scope) is probably faster, but also it probably does not really matter."},{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1551086906,"post_id":54862835,"comment_id":96496689,"body_markdown":"You could also make it  a private static Predicate or even better a complete new private static method and use it in dothis().","body":"You could also make it  a private static Predicate or even better a complete new private static method and use it in dothis()."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671122254,"post_id":54862835,"comment_id":132035279,"body_markdown":"the only way to verify performance assumptions is to measure it ;) Everything else is as reliable as reading tea leaves ..","body":"the only way to verify performance assumptions is to measure it ;) Everything else is as reliable as reading tea leaves .."}],"answers":[{"tags":[],"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671121138,"creation_date":1551087928,"answer_id":54863324,"question_id":54862835,"body_markdown":"you can see performance:\r\n\r\n  \r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;Predicate using Lambda&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            doThis();\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Without Lambda&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            doThisWithoutLambda();\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Lambda 100000&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                doThis();\r\n            }\r\n            System.out.println(System.currentTimeMillis());\r\n    \r\n            System.out.println(&quot;Predicate using Without Lambda 100000&quot;);\r\n            System.out.println(System.currentTimeMillis());\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                doThisWithoutLambda();\r\n            }\r\n            System.out.println(System.currentTimeMillis());\r\n        }\r\n    \r\n        public static void doThis() {\r\n            Predicate&lt;String&gt; p = (arg) -&gt; true;\r\n    \r\n        }\r\n    \r\n        public static void doThisWithoutLambda() {\r\n            Predicate&lt;String&gt; p = new Predicate&lt;String&gt;() {\r\n                @Override\r\n                public boolean evaluate(String object) {\r\n                    return true;\r\n                }\r\n            };\r\n    \r\n        }\r\n\r\nOutput : \r\n\r\n    Predicate using Lambda\r\n    1551087600419\r\n    1551087600491\r\n    Predicate using Without Lambda\r\n    1551087600491\r\n    1551087600492\r\n    Predicate using Lambda 100000\r\n    1551087600492\r\n    1551087600496\r\n    Predicate using Without Lambda 100000\r\n    1551087600496\r\n    1551087600500\r\n\r\n\r\n&gt; [Java lambdas 20 times slower than anonymous classes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes","title":"lambda expression within method body","body":"<p>you can see performance:</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;Predicate using Lambda&quot;);\n        System.out.println(System.currentTimeMillis());\n        doThis();\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Without Lambda&quot;);\n        System.out.println(System.currentTimeMillis());\n        doThisWithoutLambda();\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Lambda 100000&quot;);\n        System.out.println(System.currentTimeMillis());\n        for (int i = 0; i &lt; 100000; i++) {\n            doThis();\n        }\n        System.out.println(System.currentTimeMillis());\n\n        System.out.println(&quot;Predicate using Without Lambda 100000&quot;);\n        System.out.println(System.currentTimeMillis());\n        for (int i = 0; i &lt; 100000; i++) {\n            doThisWithoutLambda();\n        }\n        System.out.println(System.currentTimeMillis());\n    }\n\n    public static void doThis() {\n        Predicate&lt;String&gt; p = (arg) -&gt; true;\n\n    }\n\n    public static void doThisWithoutLambda() {\n        Predicate&lt;String&gt; p = new Predicate&lt;String&gt;() {\n            @Override\n            public boolean evaluate(String object) {\n                return true;\n            }\n        };\n\n    }\n</code></pre>\n<p>Output :</p>\n<pre><code>Predicate using Lambda\n1551087600419\n1551087600491\nPredicate using Without Lambda\n1551087600491\n1551087600492\nPredicate using Lambda 100000\n1551087600492\n1551087600496\nPredicate using Without Lambda 100000\n1551087600496\n1551087600500\n</code></pre>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes\">Java lambdas 20 times slower than anonymous classes</a></p>\n</blockquote>\n"}],"owner":{"account_id":3067702,"reputation":1076,"user_id":2599052,"accept_rate":48,"display_name":"user2599052"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671121138,"creation_date":1551086120,"question_id":54862835,"body_markdown":"I have a method like this \r\n\r\n    public void doThis(){\r\n       Predicate&lt;String&gt; p = (arg) -&gt; true;\r\n       doThat(p);\r\n    }\r\n\r\nWill this have any performance impact as compared to doing it without lambda ?\r\nIs it possible to store this lambda expression as a instance variable to make it better ?","title":"lambda expression within method body","body":"<p>I have a method like this </p>\n\n<pre><code>public void doThis(){\n   Predicate&lt;String&gt; p = (arg) -&gt; true;\n   doThat(p);\n}\n</code></pre>\n\n<p>Will this have any performance impact as compared to doing it without lambda ?\nIs it possible to store this lambda expression as a instance variable to make it better ?</p>\n"},{"tags":["java","maven","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":9181659,"reputation":1746,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":0,"creation_date":1474270378,"post_id":39567434,"comment_id":66445370,"body_markdown":"Does your application contains web.xml?","body":"Does your application contains web.xml?"},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":2,"creation_date":1474270714,"post_id":39567434,"comment_id":66445546,"body_markdown":"@SergeyBespalov I don&#39;t think it needs one with Spring Boot. See my answer below - I had forgotten to adjust my `Application.java` file.","body":"@SergeyBespalov I don&#39;t think it needs one with Spring Boot. See my answer below - I had forgotten to adjust my <code>Application.java</code> file."},{"owner":{"account_id":9181659,"reputation":1746,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":0,"creation_date":1474271218,"post_id":39567434,"comment_id":66445817,"body_markdown":"you&#39;re right it&#39;s not necessary, but still can be used with Spring Boot","body":"you&#39;re right it&#39;s not necessary, but still can be used with Spring Boot"}],"answers":[{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1506839801,"creation_date":1474270614,"answer_id":39567726,"question_id":39567434,"body_markdown":"I had forgotten to tweak my `Application.java` file to extend `SpringBootServletInitializer` and override the `configure` method.\r\n\r\nCorrected file:\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n      public static void main(String[] args) {\r\n          SpringApplication.run(Application.class, args);\r\n      }\r\n    \r\n      @Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n          return builder.sources(Application.class);\r\n      }\r\n    }\r\n\r\nHat tip to https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/ for pointing out my mistake.\r\n\r\nMore info at [Create a deployable war file][1] in Spring Boot Official docs.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle/#howto-create-a-deployable-war-file","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had forgotten to tweak my <code>Application.java</code> file to extend <code>SpringBootServletInitializer</code> and override the <code>configure</code> method.</p>\n\n<p>Corrected file:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n  public static void main(String[] args) {\n      SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n      return builder.sources(Application.class);\n  }\n}\n</code></pre>\n\n<p>Hat tip to <a href=\"https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/\" rel=\"noreferrer\">https://mtdevuk.com/2015/07/16/how-to-make-a-spring-boot-jar-into-a-war-to-deploy-on-tomcat/</a> for pointing out my mistake.</p>\n\n<p>More info at <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/htmlsingle/#howto-create-a-deployable-war-file\" rel=\"noreferrer\">Create a deployable war file</a> in Spring Boot Official docs.</p>\n"},{"tags":[],"owner":{"account_id":9194624,"reputation":29,"user_id":6833774,"display_name":"Hanumant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571554328,"creation_date":1571554328,"answer_id":58470677,"question_id":39567434,"body_markdown":"In case anyone having same problem while using sprint boot in the IntelliJ community edition. You just need to put your main class in the main package (com.xyx) don&#39;t put it in any subpackage which is created inside com.xyx.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>In case anyone having same problem while using sprint boot in the IntelliJ community edition. You just need to put your main class in the main package (com.xyx) don't put it in any subpackage which is created inside com.xyx.</p>\n"},{"tags":[],"owner":{"account_id":14909662,"reputation":1,"user_id":10765596,"display_name":"Diego Mejia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593564763,"creation_date":1593564763,"answer_id":62668116,"question_id":39567434,"body_markdown":"Just add the route in the controller annotation, something like this: \r\n@RestController\r\n@RequestMapping(value = &quot;/&lt;route&gt;&quot;)","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Just add the route in the controller annotation, something like this:\n@RestController\n@RequestMapping(value = &quot;/&quot;)</p>\n"},{"tags":[],"owner":{"account_id":6543259,"reputation":181,"user_id":5059995,"display_name":"Dipu Krishnan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1629869817,"creation_date":1629869817,"answer_id":68917349,"question_id":39567434,"body_markdown":"As of August 2021 .\r\nIf anyone facing this issue in Tomcat 10 server, just read in the below post that Spring boot won&#39;t work in Tomcat 10.\r\nhttps://github.com/spring-projects/spring-boot/issues/22414\r\n\r\nI had faced this issue and switching to an previous version, which resolved the problem.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>As of August 2021 .\nIf anyone facing this issue in Tomcat 10 server, just read in the below post that Spring boot won't work in Tomcat 10.\n<a href=\"https://github.com/spring-projects/spring-boot/issues/22414\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/22414</a></p>\n<p>I had faced this issue and switching to an previous version, which resolved the problem.</p>\n"},{"tags":[],"owner":{"account_id":18262452,"reputation":31,"user_id":13294956,"display_name":"Achintya Shivam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642769151,"creation_date":1642769151,"answer_id":70801496,"question_id":39567434,"body_markdown":"Downgrading Tomcat from version 10 to 9 did the trick for me.\r\nUpdate January 2022, apparently tomcat 10 still does not support spring-boot.\r\nAs mentioned by Dipu over here,\r\nhttps://stackoverflow.com/a/68917349/13294956","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Downgrading Tomcat from version 10 to 9 did the trick for me.\nUpdate January 2022, apparently tomcat 10 still does not support spring-boot.\nAs mentioned by Dipu over here,\n<a href=\"https://stackoverflow.com/a/68917349/13294956\">https://stackoverflow.com/a/68917349/13294956</a></p>\n"},{"tags":[],"owner":{"account_id":1643771,"reputation":11,"user_id":1515724,"display_name":"CesarJunior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652065959,"creation_date":1652065959,"answer_id":72166634,"question_id":39567434,"body_markdown":"For me, the Spring boot wasn&#39;t work with tomcat 10. I changed for 9 version and it worked.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>For me, the Spring boot wasn't work with tomcat 10. I changed for 9 version and it worked.</p>\n"},{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654061036,"creation_date":1654061036,"answer_id":72456765,"question_id":39567434,"body_markdown":"[Quoting dieter&#39;s answer on another SO question][1]:\r\n\r\n&gt; You war file name is priz-0.5.war. So the context name is also priz-0.5. You have to call for example http://localhost:8080/priz-0.5\r\n&gt;\r\n&gt; If you want to call it like http://localhost:8080/ just rename the war-File to ROOT.war\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40714904/after-deployment-of-war-to-tomcat-docker-container-always-getting-404","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p><a href=\"https://stackoverflow.com/questions/40714904/after-deployment-of-war-to-tomcat-docker-container-always-getting-404\">Quoting dieter's answer on another SO question</a>:</p>\n<blockquote>\n<p>You war file name is priz-0.5.war. So the context name is also priz-0.5. You have to call for example http://localhost:8080/priz-0.5</p>\n<p>If you want to call it like http://localhost:8080/ just rename the war-File to ROOT.war</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9276049,"reputation":1,"user_id":6888682,"display_name":"TractorTire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665066276,"creation_date":1665066276,"answer_id":73975467,"question_id":39567434,"body_markdown":"I had the same problem but everything was fine with my SpringBootConfiguration\r\nI finally found out why I had a 404\r\n\r\nI just removed maven-dependency-plugin in build-&gt;plugin from my pom.xml\r\n\r\n    &lt;!--\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t--&gt;\r\n\r\nThis removal allowed me to finally test my war file on a tomcat9 with success and still allow me to test via mvnw\r\n\r\nMay this help someone","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had the same problem but everything was fine with my SpringBootConfiguration\nI finally found out why I had a 404</p>\n<p>I just removed maven-dependency-plugin in build-&gt;plugin from my pom.xml</p>\n<pre><code>&lt;!--\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n--&gt;\n</code></pre>\n<p>This removal allowed me to finally test my war file on a tomcat9 with success and still allow me to test via mvnw</p>\n<p>May this help someone</p>\n"},{"tags":[],"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669826202,"creation_date":1669826202,"answer_id":74631206,"question_id":39567434,"body_markdown":"I had the same issue and it turned out that I had compiled the app for java 11, while my server was running java 8. Once I upgraded to java 11 it worked fine. It was tricky because I there was absolutely nothing in Tomcats log that indicated that issue.","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>I had the same issue and it turned out that I had compiled the app for java 11, while my server was running java 8. Once I upgraded to java 11 it worked fine. It was tricky because I there was absolutely nothing in Tomcats log that indicated that issue.</p>\n"}],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59858,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":39567726,"answer_count":9,"score":59,"last_activity_date":1671121089,"creation_date":1474269562,"question_id":39567434,"body_markdown":"Guided by [Serving Web Content with Spring MVC](https://spring.io/guides/gs/serving-web-content/), I&#39;m creating a Spring Boot web application that I can run using both the embedded Tomcat instance as well as on a standalone Tomcat 8 server.\r\n\r\nThe application works as expected when executed as `java -jar adminpage.war` and I see the expected outcome when I visit `http://localhost:8080/table`. However, when I deploy to a Tomcat 8 server (by dropping `adminpage.war` into the `webapps` directory), I get a 404 error when I visit `https://myserver/adminpage/table`.\r\n\r\nThe `catelina.log` and `localhost.log` files contain nothing helpful on the Tomcat server.\r\n\r\nCan anyone suggest where I&#39;ve made a misconfiguration? I&#39;ve not had the same problems in the past when deploying RESTful services with Spring Boot, but this is my first foray into a web application.\r\n\r\nMy application files:\r\n\r\n`src/main/java/com/.../Application.java`\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n`src/main/java/com/.../MainController.java`\r\n\r\n    @Controller\r\n    public class MainController {\r\n    \r\n        @RequestMapping(&quot;/table&quot;)\r\n        public String greeting(Model model) {\r\n            model.addAttribute(&quot;name&quot;, &quot;Fooballs&quot;);\r\n            return &quot;table&quot;;\r\n        }\r\n    }\r\n\r\n`src/main/resources/templates/table.html`\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\t&lt;!DOCTYPE HTML&gt;\r\n\t&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\t&lt;head&gt;\r\n\t    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t    &lt;p th:text=&quot;&#39;Hello, &#39; + ${name} + &#39;!&#39;&quot; /&gt;\r\n\t&lt;/body&gt;\r\n\t&lt;/html&gt;\r\n\r\n`pom.xml`\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project\r\n      xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;adminpage&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;adminpage&lt;/finalName&gt;\r\n    \r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"Spring Boot application gives 404 when deployed to Tomcat but works with embedded server","body":"<p>Guided by <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">Serving Web Content with Spring MVC</a>, I'm creating a Spring Boot web application that I can run using both the embedded Tomcat instance as well as on a standalone Tomcat 8 server.</p>\n\n<p>The application works as expected when executed as <code>java -jar adminpage.war</code> and I see the expected outcome when I visit <code>http://localhost:8080/table</code>. However, when I deploy to a Tomcat 8 server (by dropping <code>adminpage.war</code> into the <code>webapps</code> directory), I get a 404 error when I visit <code>https://myserver/adminpage/table</code>.</p>\n\n<p>The <code>catelina.log</code> and <code>localhost.log</code> files contain nothing helpful on the Tomcat server.</p>\n\n<p>Can anyone suggest where I've made a misconfiguration? I've not had the same problems in the past when deploying RESTful services with Spring Boot, but this is my first foray into a web application.</p>\n\n<p>My application files:</p>\n\n<p><code>src/main/java/com/.../Application.java</code></p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p><code>src/main/java/com/.../MainController.java</code></p>\n\n<pre><code>@Controller\npublic class MainController {\n\n    @RequestMapping(\"/table\")\n    public String greeting(Model model) {\n        model.addAttribute(\"name\", \"Fooballs\");\n        return \"table\";\n    }\n}\n</code></pre>\n\n<p><code>src/main/resources/templates/table.html</code></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=\"'Hello, ' + ${name} + '!'\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><code>pom.xml</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project\n  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n  &lt;artifactId&gt;adminpage&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n\n  &lt;build&gt;\n    &lt;finalName&gt;adminpage&lt;/finalName&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671176539,"post_id":74812894,"comment_id":132046761,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27262477,"reputation":1,"user_id":20785110,"display_name":"Xi Xi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671121022,"creation_date":1671113539,"question_id":74812894,"body_markdown":"expendablelistview pdf viewer tutorial from youtube.toast message is working.[youtube tutorial](https://youtu.be/O3J0q6nU6WM)\r\n\r\n```\r\n&gt; CustomAdapter.java\r\n```\r\n\r\n```\r\n@Override\r\npublic View getGroupView(int i, boolean b, View view, ViewGroup viewGroup) {\r\n\r\n    view= LayoutInflater.from(context).inflate(R.layout.chapter_item,viewGroup,false);\r\n    TextView chapterName = view.findViewById(R.id.chapterTitle);\r\n    chapterName.setText(chapterList.get(i).getChaptername());\r\n\r\n    return view;\r\n}\r\n@Override\r\npublic View getChildView(int i, int i1, boolean b, View view, ViewGroup viewGroup) {\r\n    view= LayoutInflater.from(context).inflate(R.layout.topics_item,viewGroup,false);\r\n    TextView topicName = (TextView) view.findViewById(R.id.topicTitle);\r\n    topicName.setText(chapterList.get(i).getTopicsList().get(i1).getTopicName());\r\n    CardView cardView=(CardView) view.findViewById(R.id.topicClick);\r\n    cardView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent intent =(new Intent(context, FullView.class));\r\n            intent.putExtra(&quot;fileName&quot;,chapterList.get(i).getTopicsList().get(i1).getFileName());\r\n            context.startActivity(intent);\r\n```\r\n","title":"ExpandableListView CustomAdapter app crack","body":"<p>expendablelistview pdf viewer tutorial from youtube.toast message is working.<a href=\"https://youtu.be/O3J0q6nU6WM\" rel=\"nofollow noreferrer\">youtube tutorial</a></p>\n<pre><code>&gt; CustomAdapter.java\n</code></pre>\n<pre><code>@Override\npublic View getGroupView(int i, boolean b, View view, ViewGroup viewGroup) {\n\n    view= LayoutInflater.from(context).inflate(R.layout.chapter_item,viewGroup,false);\n    TextView chapterName = view.findViewById(R.id.chapterTitle);\n    chapterName.setText(chapterList.get(i).getChaptername());\n\n    return view;\n}\n@Override\npublic View getChildView(int i, int i1, boolean b, View view, ViewGroup viewGroup) {\n    view= LayoutInflater.from(context).inflate(R.layout.topics_item,viewGroup,false);\n    TextView topicName = (TextView) view.findViewById(R.id.topicTitle);\n    topicName.setText(chapterList.get(i).getTopicsList().get(i1).getTopicName());\n    CardView cardView=(CardView) view.findViewById(R.id.topicClick);\n    cardView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent =(new Intent(context, FullView.class));\n            intent.putExtra(&quot;fileName&quot;,chapterList.get(i).getTopicsList().get(i1).getFileName());\n            context.startActivity(intent);\n</code></pre>\n"},{"tags":["java","java-stream","side-effects"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1671021261,"post_id":74798262,"comment_id":132006263,"body_markdown":"I think fundamentally any intentional side-effect inside of a stream will have the same problem of being non-obvious and easy to get wrong. I think your solution is reasonable with the caveats you gave. I don&#39;t think there&#39;s a way to fundamentally change the fact that side-effects are unintuitive/unexpected in streams.","body":"I think fundamentally any intentional side-effect inside of a stream will have the same problem of being non-obvious and easy to get wrong. I think your solution is reasonable with the caveats you gave. I don&#39;t think there&#39;s a way to fundamentally change the fact that side-effects are unintuitive/unexpected in streams."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1671144629,"post_id":74798262,"comment_id":132041867,"body_markdown":"Not everything should be implemented with streams","body":"Not everything should be implemented with streams"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1671205005,"post_id":74798262,"comment_id":132055704,"body_markdown":"@DidierL yes I think this is the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams.","body":"@DidierL yes I think this is the correct answer. For my simple case there&#39;s no savings in terms of lines of code, or in simplicity of understanding which is why I normally use Streams."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671120921,"creation_date":1671021944,"answer_id":74798525,"question_id":74798262,"body_markdown":"&gt; // to ensure that `peek` processes all components\r\n\r\nYou can&#39;t really ensure that `peek()` would process all the stream elements that should be modified. In some cases, this operation can be elided from the pipeline, and you should not perform any important actions via `peek()`.\r\n\r\nHere&#39;s a quote from the [documenation of `peek()`][peek]:\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; This method exists mainly to **support debugging**, where you want to see the elements as they flow past a certain point in a pipeline ...\r\n&gt; \r\n&gt; In cases where the **stream implementation is able to optimize away the production of some or all the elements** (such as with short-circuiting operations like findFirst, or in the example described in count()), the action will not be invoked for those elements.\r\n\r\nAlso, here&#39;s what [Stream API documentation][sideEffects] says regarding *Side-effects*:\r\n\r\n&gt; If the behavioral parameters do have side-effects, unless explicitly stated, there are no guarantees as to:\r\n&gt; \r\n&gt; * the visibility of those side-effects to other threads;\r\n&gt; * that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and\r\n&gt; * that behavioral parameters are always invoked, since a stream implementation is free to elide operations (or entire stages) from a\r\n&gt; stream pipeline if it can prove that it would not affect the result of\r\n&gt; the computation.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The eliding of side-effects may also be surprising. With the exception\r\n&gt; of terminal operations `forEach` and `forEachOrdered`, **side-effects of\r\n&gt; behavioral parameters may not always be executed when the stream\r\n&gt; implementation can optimize away** the execution of behavioral\r\n&gt; parameters without affecting the result of the computation. (For a\r\n&gt; specific example see the API note documented on the count operation.)\r\n\r\n&lt;sup&gt;Amphesys added&lt;/sup&gt;\r\n\r\nSince `peek` is not meant to contribute to the result of the stream execution Stream implementations are free to throw it away.\r\n\r\nInstead of relying on `peek()` you can do the following:\r\n\r\n```\r\nList&lt;PricingComponent&gt; componentsToChange = plan.getPricingComponents()\r\n    .stream()\r\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\r\n    .toList();\r\n    \r\ncomponentsToChange.forEach(pc -&gt; pc.setValidTill(dateNow));\r\n\r\nboolean anyPricingComponentsChanged = componentsToChange.size() != 0;\r\n```\r\n\r\nIf you don&#39;t want to materialize the objects that need to be modified as a List, then stick with a `for`-loop.\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\n* The quotes above from the [API documentation][sideEffects] like *&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would not affect the result of the computation&quot;* are applicable to **any intermediate operation** having an embedded side-effect. Either a side-effect can be elided, or the whole pipeline stage (stream operation) optimized away if it has no impact on the result. And to be on the same page regurding the terminology, in short, *side-effect* - is anything that a function does apart from producing the required result (*e.g. `i -&gt; { side-effect; return i * 2; }`*)\r\n\r\n* Although it&#39;s not advisable to assign `peek()` with an action which should be executed at any circumstances, at least is choice doesn&#39;t contradicts the semantics of `peek`. To the contrary, performing side-effects via `filter`, `map`, or other operation which are not designed to operate through side-effects not only **doesn&#39;t resolve** the problem, but is also weird since it goes against the semantics of these operations and violates the [*Principle of least astonishment*][principleOfLeastAstonishment].\r\n\r\n\r\n\r\n   [peek]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\r\n\r\n   [sideEffects]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\r\n\r\n   [principleOfLeastAstonishment]: https://en.wikipedia.org/wiki/Principle_of_least_astonishment","title":"Alternative to peek in Java streams","body":"<blockquote>\n<p>// to ensure that <code>peek</code> processes all components</p>\n</blockquote>\n<p>You can't really ensure that <code>peek()</code> would process all the stream elements that should be modified. In some cases, this operation can be elided from the pipeline, and you should not perform any important actions via <code>peek()</code>.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documenation of <code>peek()</code></a>:</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>This method exists mainly to <strong>support debugging</strong>, where you want to see the elements as they flow past a certain point in a pipeline ...</p>\n<p>In cases where the <strong>stream implementation is able to optimize away the production of some or all the elements</strong> (such as with short-circuiting operations like findFirst, or in the example described in count()), the action will not be invoked for those elements.</p>\n</blockquote>\n<p>Also, here's what <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">Stream API documentation</a> says regarding <em>Side-effects</em>:</p>\n<blockquote>\n<p>If the behavioral parameters do have side-effects, unless explicitly stated, there are no guarantees as to:</p>\n<ul>\n<li>the visibility of those side-effects to other threads;</li>\n<li>that different operations on the &quot;same&quot; element within the same stream pipeline are executed in the same thread; and</li>\n<li>that behavioral parameters are always invoked, since a stream implementation is free to elide operations (or entire stages) from a\nstream pipeline if it can prove that it would not affect the result of\nthe computation.</li>\n</ul>\n<p>...</p>\n<p>The eliding of side-effects may also be surprising. With the exception\nof terminal operations <code>forEach</code> and <code>forEachOrdered</code>, <strong>side-effects of\nbehavioral parameters may not always be executed when the stream\nimplementation can optimize away</strong> the execution of behavioral\nparameters without affecting the result of the computation. (For a\nspecific example see the API note documented on the count operation.)</p>\n</blockquote>\n<p><sup>Amphesys added</sup></p>\n<p>Since <code>peek</code> is not meant to contribute to the result of the stream execution Stream implementations are free to throw it away.</p>\n<p>Instead of relying on <code>peek()</code> you can do the following:</p>\n<pre><code>List&lt;PricingComponent&gt; componentsToChange = plan.getPricingComponents()\n    .stream()\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\n    .toList();\n    \ncomponentsToChange.forEach(pc -&gt; pc.setValidTill(dateNow));\n\nboolean anyPricingComponentsChanged = componentsToChange.size() != 0;\n</code></pre>\n<p>If you don't want to materialize the objects that need to be modified as a List, then stick with a <code>for</code>-loop.</p>\n<h3>Note</h3>\n<ul>\n<li><p>The quotes above from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">API documentation</a> like <em>&quot;stream implementation is free to elide operations (or entire stages) from a stream pipeline if it can prove that it would not affect the result of the computation&quot;</em> are applicable to <strong>any intermediate operation</strong> having an embedded side-effect. Either a side-effect can be elided, or the whole pipeline stage (stream operation) optimized away if it has no impact on the result. And to be on the same page regurding the terminology, in short, <em>side-effect</em> - is anything that a function does apart from producing the required result (<em>e.g. <code>i -&gt; { side-effect; return i * 2; }</code></em>)</p>\n</li>\n<li><p>Although it's not advisable to assign <code>peek()</code> with an action which should be executed at any circumstances, at least is choice doesn't contradicts the semantics of <code>peek</code>. To the contrary, performing side-effects via <code>filter</code>, <code>map</code>, or other operation which are not designed to operate through side-effects not only <strong>doesn't resolve</strong> the problem, but is also weird since it goes against the semantics of these operations and violates the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\"><em>Principle of least astonishment</em></a>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671120921,"creation_date":1671020688,"question_id":74798262,"body_markdown":"There are lots of questions regarding `peek` in the Java Streams API. I&#39;m looking for a way to complete the following common pattern using Java Streams. I can make it work with Streams, but it is non-obvious which means slightly dangerous without a comment which it is not ideal.\r\n\r\n```java\r\nboolean anyPricingComponentsChanged = false;\r\nfor (var pc : plan.getPricingComponents()) {\r\n    if (pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0) {\r\n        anyPricingComponentsChanged = true;\r\n        pc.setValidTill(dateNow);\r\n    }\r\n}\r\n```\r\n\r\nMy option:\r\n\r\n```java\r\nlong numberChanged = plan.getPricingComponents()\r\n    .stream()\r\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\r\n    .peek(pc -&gt; pc.setValidTill(dateNow))\r\n    .count(); //`count` rather than `findAny` to ensure that `peek` processes all components.\r\n\r\nboolean anyPricingComponentsChanged = numberChanged != 0;\r\n```\r\n\r\nAs an aside, whilst `compareTo` is not an expensive operation here and consistently returns the same result, in other cases this might not be true, and I&#39;d rather avoid running it multiple times for this pattern.","title":"Alternative to peek in Java streams","body":"<p>There are lots of questions regarding <code>peek</code> in the Java Streams API. I'm looking for a way to complete the following common pattern using Java Streams. I can make it work with Streams, but it is non-obvious which means slightly dangerous without a comment which it is not ideal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean anyPricingComponentsChanged = false;\nfor (var pc : plan.getPricingComponents()) {\n    if (pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0) {\n        anyPricingComponentsChanged = true;\n        pc.setValidTill(dateNow);\n    }\n}\n</code></pre>\n<p>My option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long numberChanged = plan.getPricingComponents()\n    .stream()\n    .filter(pc -&gt; pc.getValidTill() == null || pc.getValidTill().compareTo(dateNow) &lt;= 0)\n    .peek(pc -&gt; pc.setValidTill(dateNow))\n    .count(); //`count` rather than `findAny` to ensure that `peek` processes all components.\n\nboolean anyPricingComponentsChanged = numberChanged != 0;\n</code></pre>\n<p>As an aside, whilst <code>compareTo</code> is not an expensive operation here and consistently returns the same result, in other cases this might not be true, and I'd rather avoid running it multiple times for this pattern.</p>\n"},{"tags":["java","jvm","virtual-machine","classloader","classloading"],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671120433,"creation_date":1671120433,"answer_id":74814431,"question_id":74814312,"body_markdown":"The `jinfo &lt;pid&gt;` command offers some insight. For example it contains the following for a running eclipse instance for me:\r\n```\r\n[...]\r\nVM Arguments:\r\n[...]\r\njava_class_path (initial): C:\\foo\\bar\\eclipse\\jee-2022-06\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n[...]\r\n```\r\nHowever this is only the initial class path when the application was started. Depending on the application it may create additional classloaders on runtime information and hence extend the classpath during runtime. For example if you are running a spring boot fat jar, the initial classpath will contain the fat jar and hence all of the additional classes besides the jvm classes itself. However this fat jar is in the spring boot format and the actual classpath consists of the jars contained in the fat jar.","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>The <code>jinfo &lt;pid&gt;</code> command offers some insight. For example it contains the following for a running eclipse instance for me:</p>\n<pre><code>[...]\nVM Arguments:\n[...]\njava_class_path (initial): C:\\foo\\bar\\eclipse\\jee-2022-06\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n[...]\n</code></pre>\n<p>However this is only the initial class path when the application was started. Depending on the application it may create additional classloaders on runtime information and hence extend the classpath during runtime. For example if you are running a spring boot fat jar, the initial classpath will contain the fat jar and hence all of the additional classes besides the jvm classes itself. However this fat jar is in the spring boot format and the actual classpath consists of the jars contained in the fat jar.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671120684,"creation_date":1671120684,"answer_id":74814482,"question_id":74814312,"body_markdown":"You can check and cast to a subinterface, [PathSearchingVirtualMachine](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/PathSearchingVirtualMachine.html)\r\n\r\n    if (vm instanceof PathSearchingVirtualMachine psvm) {\r\n        List&lt;String&gt; cp = psvm.classPath();\r\n    }\r\n\r\nAbove example uses [instanceof pattern matching](https://openjdk.org/jeps/394), which is a newer language feature. If you&#39;re on an older version of Java then do a normal cast.","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>You can check and cast to a subinterface, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/PathSearchingVirtualMachine.html\" rel=\"nofollow noreferrer\">PathSearchingVirtualMachine</a></p>\n<pre><code>if (vm instanceof PathSearchingVirtualMachine psvm) {\n    List&lt;String&gt; cp = psvm.classPath();\n}\n</code></pre>\n<p>Above example uses <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">instanceof pattern matching</a>, which is a newer language feature. If you're on an older version of Java then do a normal cast.</p>\n"}],"owner":{"account_id":23922867,"reputation":3,"user_id":17918409,"display_name":"grazing cow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74814482,"answer_count":2,"score":0,"last_activity_date":1671120684,"creation_date":1671119847,"question_id":74814312,"body_markdown":"I have a [VirtualMachine](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/VirtualMachine.html) from which I want to extract &quot;classpaths&quot;. The VM in this case is launched using a `RawCommandLineLauncher`.\r\n\r\n\r\nThe closest thing I could find is the `VirtualMachine` method `allClasses`, but I would like one step above that and get a list of class directories instead. Is this possible? \r\n\r\nI tried:\r\n- Obtaining a `ClassLoader` from the VM. Don&#39;t think this is possible.\r\n- Using the JDI implementation for this. Unfortunately the method is not public.  ","title":"How do I obtain classpaths from a VirtualMachine?","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jdi/com/sun/jdi/VirtualMachine.html\" rel=\"nofollow noreferrer\">VirtualMachine</a> from which I want to extract &quot;classpaths&quot;. The VM in this case is launched using a <code>RawCommandLineLauncher</code>.</p>\n<p>The closest thing I could find is the <code>VirtualMachine</code> method <code>allClasses</code>, but I would like one step above that and get a list of class directories instead. Is this possible?</p>\n<p>I tried:</p>\n<ul>\n<li>Obtaining a <code>ClassLoader</code> from the VM. Don't think this is possible.</li>\n<li>Using the JDI implementation for this. Unfortunately the method is not public.</li>\n</ul>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671042470,"post_id":74802679,"comment_id":132014344,"body_markdown":"What OS are you using? This is implemented using native system calls, so the behaviour may vary across implementations. FWIW, I&#39;m on a Mac and it has the same problem.","body":"What OS are you using? This is implemented using native system calls, so the behaviour may vary across implementations. FWIW, I&#39;m on a Mac and it has the same problem."},{"owner":{"account_id":1291049,"reputation":240,"user_id":1243152,"accept_rate":100,"display_name":"MrDetail"},"score":0,"creation_date":1671042699,"post_id":74802679,"comment_id":132014412,"body_markdown":"Also FWIW, I&#39;m on Windows 10 and I am not having this problem with your code.","body":"Also FWIW, I&#39;m on Windows 10 and I am not having this problem with your code."},{"owner":{"account_id":27254055,"reputation":1,"user_id":20777995,"display_name":"James Walker"},"score":0,"creation_date":1671119369,"post_id":74802679,"comment_id":132034139,"body_markdown":"@Michael interesting, I&#39;m also using macOS.","body":"@Michael interesting, I&#39;m also using macOS."}],"owner":{"account_id":27254055,"reputation":1,"user_id":20777995,"display_name":"James Walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671120643,"creation_date":1671041944,"question_id":74802679,"body_markdown":"**Update:** it seems like this issue only affects macOS users.\r\n\r\nI&#39;m making an auto clicker program. I&#39;m using a while loop that spams left click whenever the auto clicker is enabled. However, after the auto clicker clicks the first time, every subsequent click snaps to the original click location (even though I never used the mouseMove() method). I&#39;ve taken a look at other auto clicker implementations and can&#39;t see why mine would result in this issue.\r\n\r\nI reproduced the issue with the following simple code:\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.InputEvent;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Robot robot;\r\n        try {\r\n            robot = new Robot();\r\n        } catch (AWTException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        Thread.sleep(5000);\r\n        for(int i = 0; i &lt; 20; i++){\r\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            Thread.sleep(100);\r\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n            Thread.sleep(100);\r\n        }\r\n    }\r\n}\r\n```","title":"Why does my cursor teleport while looping Robot mousePress() and mouseRelease()?","body":"<p><strong>Update:</strong> it seems like this issue only affects macOS users.</p>\n<p>I'm making an auto clicker program. I'm using a while loop that spams left click whenever the auto clicker is enabled. However, after the auto clicker clicks the first time, every subsequent click snaps to the original click location (even though I never used the mouseMove() method). I've taken a look at other auto clicker implementations and can't see why mine would result in this issue.</p>\n<p>I reproduced the issue with the following simple code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.InputEvent;\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Robot robot;\n        try {\n            robot = new Robot();\n        } catch (AWTException e) {\n            throw new RuntimeException(e);\n        }\n        Thread.sleep(5000);\n        for(int i = 0; i &lt; 20; i++){\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n            Thread.sleep(100);\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            Thread.sleep(100);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"down_vote_count":1,"up_vote_count":134,"is_accepted":true,"score":133,"last_activity_date":1525440821,"creation_date":1233854327,"answer_id":516899,"question_id":516771,"body_markdown":"Have you tried just &quot;TYPE1&quot;? I suppose Spring uses reflection to determine the type of &quot;type&quot; anyway, so the fully qualified name is redundant. Spring generally doesn&#39;t subscribe to redundancy!","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Have you tried just \"TYPE1\"? I suppose Spring uses reflection to determine the type of \"type\" anyway, so the fully qualified name is redundant. Spring generally doesn't subscribe to redundancy!</p>\n"},{"tags":[],"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1233854536,"creation_date":1233854536,"answer_id":516919,"question_id":516771,"body_markdown":"You can just do &quot;TYPE1&quot;.","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>You can just do \"TYPE1\".</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233964215,"creation_date":1233964215,"answer_id":522703,"question_id":516771,"body_markdown":"You can write Bean Editors (details are in the Spring Docs) if you want to add further value and write to custom types.\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>You can write Bean Editors (details are in the Spring Docs) if you want to add further value and write to custom types.</p>\n"},{"tags":[],"owner":{"account_id":585881,"reputation":559,"user_id":261345,"display_name":"Tsering"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1443017582,"creation_date":1264710904,"answer_id":2157757,"question_id":516771,"body_markdown":"Use the value child element instead of the value attribute and specify the Enum class name:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;property name=&quot;residence&quot;&gt;\r\n        &lt;value type=&quot;SocialSecurity$Residence&quot;&gt;ALIEN&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\nThe advantage of this approach over just writing `value=&quot;ALIEN&quot;` is that it also works if Spring can&#39;t infer the actual type of the enum from the property (e.g. the property&#39;s declared type is an interface).&lt;sub&gt;_Adapted from  araqnid&#39;s comment._&lt;/sub&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Use the value child element instead of the value attribute and specify the Enum class name:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=\"residence\"&gt;\n    &lt;value type=\"SocialSecurity$Residence\"&gt;ALIEN&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>The advantage of this approach over just writing <code>value=\"ALIEN\"</code> is that it also works if Spring can't infer the actual type of the enum from the property (e.g. the property's declared type is an interface).<sub><em>Adapted from  araqnid's comment.</em></sub></p>\n"},{"tags":[],"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1342049251,"creation_date":1342049251,"answer_id":11443028,"question_id":516771,"body_markdown":"I know this is a really old question, but in case someone is looking for the newer way to do this, use the spring util namespace:\r\n\r\n    &lt;util:constant static-field=&quot;my.pkg.types.MyEnumType.TYPE1&quot; /&gt;\r\n\r\nAs described in the [spring documentation][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/reference/xsd-config.html","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>I know this is a really old question, but in case someone is looking for the newer way to do this, use the spring util namespace:</p>\n\n<pre><code>&lt;util:constant static-field=\"my.pkg.types.MyEnumType.TYPE1\" /&gt;\n</code></pre>\n\n<p>As described in the <a href=\"http://static.springsource.org/spring/docs/3.0.x/reference/xsd-config.html\" rel=\"noreferrer\">spring documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":356778,"reputation":309,"user_id":696508,"display_name":"George"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372942119,"creation_date":1372942119,"answer_id":17470766,"question_id":516771,"body_markdown":"This is what did it for me MessageDeliveryMode is the enum the bean will have the value PERSISTENT:\r\n\r\n    &lt;bean class=&quot;org.springframework.amqp.core.MessageDeliveryMode&quot; factory-method=&quot;valueOf&quot;&gt;\r\n    \t&lt;constructor-arg value=&quot;PERSISTENT&quot; /&gt;\r\n    &lt;/bean&gt;\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>This is what did it for me MessageDeliveryMode is the enum the bean will have the value PERSISTENT:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.amqp.core.MessageDeliveryMode\" factory-method=\"valueOf\"&gt;\n    &lt;constructor-arg value=\"PERSISTENT\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376974101,"creation_date":1376974101,"answer_id":18327145,"question_id":516771,"body_markdown":"Spring-integration example, routing based on a an Enum field:\r\n\r\n\r\n    public class BookOrder {\r\n    \r\n        public enum OrderType { DELIVERY, PICKUP } //enum\r\n        public BookOrder(..., OrderType orderType) //orderType\r\n        ...\r\n\r\nconfig:\r\n\r\n    &lt;router expression=&quot;payload.orderType&quot; input-channel=&quot;processOrder&quot;&gt;\r\n        &lt;mapping value=&quot;DELIVERY&quot; channel=&quot;delivery&quot;/&gt;\r\n        &lt;mapping value=&quot;PICKUP&quot; channel=&quot;pickup&quot;/&gt;\r\n    &lt;/router&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Spring-integration example, routing based on a an Enum field:</p>\n\n<pre><code>public class BookOrder {\n\n    public enum OrderType { DELIVERY, PICKUP } //enum\n    public BookOrder(..., OrderType orderType) //orderType\n    ...\n</code></pre>\n\n<p>config:</p>\n\n<pre><code>&lt;router expression=\"payload.orderType\" input-channel=\"processOrder\"&gt;\n    &lt;mapping value=\"DELIVERY\" channel=\"delivery\"/&gt;\n    &lt;mapping value=\"PICKUP\" channel=\"pickup\"/&gt;\n&lt;/router&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6378123,"reputation":111,"user_id":4948451,"display_name":"Paul Rooney"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434530170,"creation_date":1434530170,"answer_id":30886355,"question_id":516771,"body_markdown":"Using SPEL and P-NAMESPACE:\r\n\r\n    &lt;beans...\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; ...&gt;\r\n    ..\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;\r\n        p:type=&quot;#{T(my.pkg.types.MyEnumType).TYPE1}&quot;/&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>Using SPEL and P-NAMESPACE:</p>\n\n<pre><code>&lt;beans...\nxmlns:p=\"http://www.springframework.org/schema/p\" ...&gt;\n..\n&lt;bean name=\"someName\" class=\"my.pkg.classes\"\n    p:type=\"#{T(my.pkg.types.MyEnumType).TYPE1}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3197479,"reputation":27823,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486121593,"creation_date":1486121593,"answer_id":42023293,"question_id":516771,"body_markdown":"To be specific, set the value to be the name of a constant of the enum type, e.g., &quot;TYPE1&quot; or &quot;TYPE2&quot; in your case, as shown below. And it will work:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;&gt;\r\n       &lt;property name=&quot;type&quot; value=&quot;TYPE1&quot; /&gt;\r\n    &lt;/bean&gt;","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>To be specific, set the value to be the name of a constant of the enum type, e.g., \"TYPE1\" or \"TYPE2\" in your case, as shown below. And it will work:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean name=\"someName\" class=\"my.pkg.classes\"&gt;\n   &lt;property name=\"type\" value=\"TYPE1\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3859142,"reputation":51,"user_id":3197293,"display_name":"exploder86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671120575,"creation_date":1671120575,"answer_id":74814454,"question_id":516771,"body_markdown":"If you have enum:\r\n\r\n    package my.pkg.types;\r\n    \r\n    public enum MyEnumType {\r\n        TYPE1,\r\n        TYPE2\r\n    }\r\n\r\nYou may instantiate it as a bean within this xml config\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.types.MyEnumType&quot; factory-method=&quot;valueOf&quot;&gt;\r\n        &lt;constructor-arg value=&quot;TYPE1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>If you have enum:</p>\n<pre><code>package my.pkg.types;\n\npublic enum MyEnumType {\n    TYPE1,\n    TYPE2\n}\n</code></pre>\n<p>You may instantiate it as a bean within this xml config</p>\n<pre><code>&lt;bean name=&quot;someName&quot; class=&quot;my.pkg.types.MyEnumType&quot; factory-method=&quot;valueOf&quot;&gt;\n    &lt;constructor-arg value=&quot;TYPE1&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":16373,"reputation":4304,"user_id":35520,"accept_rate":92,"display_name":"xelurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142830,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":516899,"answer_count":10,"score":115,"last_activity_date":1671120575,"creation_date":1233852749,"question_id":516771,"body_markdown":"I have a standalone enum type defined, something like this:\r\n\r\n    package my.pkg.types;\r\n\r\n    public enum MyEnumType {\r\n        TYPE1,\r\n        TYPE2\r\n    }\r\n\r\nNow, I want to inject a value of that type into a bean property:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;bean name=&quot;someName&quot; class=&quot;my.pkg.classes&quot;&gt;\r\n       &lt;property name=&quot;type&quot; value=&quot;my.pkg.types.MyEnumType.TYPE1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n...and that didn&#39;t work :(\r\n\r\nHow should I Inject an Enum into a spring bean? ","title":"How to assign bean&#39;s property an Enum value in Spring config file?","body":"<p>I have a standalone enum type defined, something like this:</p>\n\n<pre><code>package my.pkg.types;\n\npublic enum MyEnumType {\n    TYPE1,\n    TYPE2\n}\n</code></pre>\n\n<p>Now, I want to inject a value of that type into a bean property:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean name=\"someName\" class=\"my.pkg.classes\"&gt;\n   &lt;property name=\"type\" value=\"my.pkg.types.MyEnumType.TYPE1\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>...and that didn't work :(</p>\n\n<p>How should I Inject an Enum into a spring bean? </p>\n"},{"tags":["java","passwords"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671119730,"post_id":74814157,"comment_id":132034282,"body_markdown":"Short answer: no.  Any information in the JAR file that the application needs to be able to read at runtime ... cannot be protected against a determined reverse engineering effort.","body":"Short answer: no.  Any information in the JAR file that the application needs to be able to read at runtime ... cannot be protected against a determined reverse engineering effort."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671120583,"post_id":74814157,"comment_id":132034605,"body_markdown":"That&#39;s a primary reason that databases are server-side and accessed via applications","body":"That&#39;s a primary reason that databases are server-side and accessed via applications"}],"answers":[{"tags":[],"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671120348,"creation_date":1671119695,"answer_id":74814271,"question_id":74814157,"body_markdown":"**Short answer:** You can&#39;t\r\n\r\n**Longer answer:**  \r\nProtecting a JAR file is not really possible if the attacker has access to the file system and hence the JAR file. You could encrypt the property file that contains the database password, but then you&#39;re facing the same issue again as to where store the encryption password.  \r\n\r\nIn the end, having passwords stored in property files is not optimal for security. If possible, you should use a password safe with an API usable by your application. [Cyberark](https://cyberark.com) or [Vault](https://developer.hashicorp.com/vault/tutorials#getting-started) (and many more that I don&#39;t know) are examples of such password safes.","title":"Java - Protecting Properties file in jar","body":"<p><strong>Short answer:</strong> You can't</p>\n<p><strong>Longer answer:</strong><br />\nProtecting a JAR file is not really possible if the attacker has access to the file system and hence the JAR file. You could encrypt the property file that contains the database password, but then you're facing the same issue again as to where store the encryption password.</p>\n<p>In the end, having passwords stored in property files is not optimal for security. If possible, you should use a password safe with an API usable by your application. <a href=\"https://cyberark.com\" rel=\"nofollow noreferrer\">Cyberark</a> or <a href=\"https://developer.hashicorp.com/vault/tutorials#getting-started\" rel=\"nofollow noreferrer\">Vault</a> (and many more that I don't know) are examples of such password safes.</p>\n"}],"owner":{"account_id":27263582,"reputation":13,"user_id":20786029,"display_name":"Jim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74814271,"answer_count":1,"score":0,"last_activity_date":1671120348,"creation_date":1671119255,"question_id":74814157,"body_markdown":"If i include a properties file in my project that contains a database password, how do i stop someone from browsing the .jar file and accessing it.\r\n\r\n\r\nCurrently i have it hardcoded, but you can decompile and access it even with Obfuscation.\r\n\r\nIs there a best method for handling sensitive data in app code?","title":"Java - Protecting Properties file in jar","body":"<p>If i include a properties file in my project that contains a database password, how do i stop someone from browsing the .jar file and accessing it.</p>\n<p>Currently i have it hardcoded, but you can decompile and access it even with Obfuscation.</p>\n<p>Is there a best method for handling sensitive data in app code?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671116643,"post_id":74813413,"comment_id":132032964,"body_markdown":"Yes, you can still use `CompletableFuture`. If using full power of Kotlin, so coroutines, you could/should use `Deferred`/`CompletableDeferred` or better, turn this function into a suspend function. But moving to coroutines is definitely more work than just replacing code here and there.","body":"Yes, you can still use <code>CompletableFuture</code>. If using full power of Kotlin, so coroutines, you could/should use <code>Deferred</code>/<code>CompletableDeferred</code> or better, turn this function into a suspend function. But moving to coroutines is definitely more work than just replacing code here and there."},{"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"score":0,"creation_date":1671116784,"post_id":74813413,"comment_id":132033011,"body_markdown":"Alright.  This is a library, so If i was to implement coroutines here and then try to use this library in Java, would it work?","body":"Alright.  This is a library, so If i was to implement coroutines here and then try to use this library in Java, would it work?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671117132,"post_id":74813413,"comment_id":132033159,"body_markdown":"You can use coroutines in Kotlin and then provide adaptation layer for Java which would use `CompletableFuture`. In Kotlin you can fairly easily switch between futures and coroutines. However, coroutines is really a much bigger thing than just a class for wrapping asynchronous operations. I definitely don&#39;t want to discourage you, coroutines are awesome and much more reliable than other async patterns. However, they have their own learning curve and that really sounds more like reworking your whole library instead of just porting to another language.","body":"You can use coroutines in Kotlin and then provide adaptation layer for Java which would use <code>CompletableFuture</code>. In Kotlin you can fairly easily switch between futures and coroutines. However, coroutines is really a much bigger thing than just a class for wrapping asynchronous operations. I definitely don&#39;t want to discourage you, coroutines are awesome and much more reliable than other async patterns. However, they have their own learning curve and that really sounds more like reworking your whole library instead of just porting to another language."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1671117579,"post_id":74813413,"comment_id":132033351,"body_markdown":"Anyway, there is nothing wrong in using executors, `CompletableFuture` and stuff like that in Kotlin. This way the code is not multiplatform, but this is not a code smell or something.","body":"Anyway, there is nothing wrong in using executors, <code>CompletableFuture</code> and stuff like that in Kotlin. This way the code is not multiplatform, but this is not a code smell or something."},{"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"score":0,"creation_date":1671118256,"post_id":74813413,"comment_id":132033647,"body_markdown":"Okay.  So I guess it&#39;s just easier to keep using CompletableFuture since it just works in both languages and no need for an adaptation layer?","body":"Okay.  So I guess it&#39;s just easier to keep using CompletableFuture since it just works in both languages and no need for an adaptation layer?"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1671120132,"post_id":74813413,"comment_id":132034420,"body_markdown":"@ThomasFry If you want your library to be used by both Kotlin users and Java users, I would probably provide both options. Because not having coroutine support might turn Kotlin users away.","body":"@ThomasFry If you want your library to be used by both Kotlin users and Java users, I would probably provide both options. Because not having coroutine support might turn Kotlin users away."}],"owner":{"account_id":20693745,"reputation":13,"user_id":15194482,"display_name":"Eugine Francis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671119966,"creation_date":1671116036,"question_id":74813413,"body_markdown":"I&#39;ve been trying to convert some Java code into Kotlin, but I am having trouble when it comes to CompletableFuture.  I have the following code:\r\n\r\n```java\r\npublic CompletableFuture&lt;Integer&gt; updateAsync(@NotNull String sqlStatement, @NotNull SQLConsumer&lt;PreparedStatement&gt; psPreparer) throws UncheckedSQLException\r\n{\r\n    return CompletableFuture.supplyAsync(() -&gt; this.update(sqlStatement, psPreparer), this.threadPool);\r\n}\r\n```\r\n\r\nI usually leverage the Java to Kotlin conversion tool within Intelij, but when I do it for this, it converts it but still uses CompleteableFuture.  \r\n\r\nWhat is the Kotlin equivalent to using CompleteableFuture that would not require too much refactoring?  Or, should I just keep using CompletableFuture in Kotlin?\r\n\r\nThank you","title":"Converting CompletableFuture to Kotlin counterpart","body":"<p>I've been trying to convert some Java code into Kotlin, but I am having trouble when it comes to CompletableFuture.  I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;Integer&gt; updateAsync(@NotNull String sqlStatement, @NotNull SQLConsumer&lt;PreparedStatement&gt; psPreparer) throws UncheckedSQLException\n{\n    return CompletableFuture.supplyAsync(() -&gt; this.update(sqlStatement, psPreparer), this.threadPool);\n}\n</code></pre>\n<p>I usually leverage the Java to Kotlin conversion tool within Intelij, but when I do it for this, it converts it but still uses CompleteableFuture.</p>\n<p>What is the Kotlin equivalent to using CompleteableFuture that would not require too much refactoring?  Or, should I just keep using CompletableFuture in Kotlin?</p>\n<p>Thank you</p>\n"},{"tags":["java","soap","soap-client"],"owner":{"account_id":11267435,"reputation":21,"user_id":8263835,"display_name":"R Lawless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119932,"creation_date":1671119932,"question_id":74814328,"body_markdown":"Base class\r\n\r\n```\r\npublic class Identity {\r\n    private String a;\r\n\r\n    public Identity() { }\r\n\r\n    public Identity(String a) {\r\n        this.a = a;\r\n    }\r\n\r\n    public String getA() { return a;}\r\n\r\n    public void setA() { this.a = a;}\r\n}\r\n```\r\n\r\nThis is used by userId class\r\n\r\n```\r\npublic class UserId extends Identity {\r\n    private String id;\r\n\r\n    public UserId(String id) {\r\n        super(id);\r\n        this.id = id; }\r\n\r\n    public String getId() { return id;}\r\n\r\n    public void setId(String id) {this.id = id; }\r\n}\r\n```\r\n\r\nMy webservice method\r\n\r\n  \r\n```\r\n    @Override\r\n    public UserId testUserId() {\r\n        final String messageId = &quot;IDString&quot;;\r\n        UserId userId = new UserId(messageId);\r\n        return userId;\r\n    }\r\n```\r\n\r\nMy SOAP client imports the Identity and UserId class.  However, the Identity class has no methods\r\nwsimport -keep -p myclient http://localhost:8080/Uesrs.wsdl\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;identity&quot;)\r\n@XmlSeeAlso({\r\n    UserId.class\r\n})\r\npublic class Identity {\r\n\r\n\r\n}\r\n```\r\n\r\nWhen the SOAP client gets the object of type UserId, it only has getID() method and not getA() method.\r\n\r\n\r\n\r\n\r\nCan anyone advise how to used extended classes in SOAP?","title":"SOAP webservice not providing class methods when using extended classes","body":"<p>Base class</p>\n<pre><code>public class Identity {\n    private String a;\n\n    public Identity() { }\n\n    public Identity(String a) {\n        this.a = a;\n    }\n\n    public String getA() { return a;}\n\n    public void setA() { this.a = a;}\n}\n</code></pre>\n<p>This is used by userId class</p>\n<pre><code>public class UserId extends Identity {\n    private String id;\n\n    public UserId(String id) {\n        super(id);\n        this.id = id; }\n\n    public String getId() { return id;}\n\n    public void setId(String id) {this.id = id; }\n}\n</code></pre>\n<p>My webservice method</p>\n<pre><code>    @Override\n    public UserId testUserId() {\n        final String messageId = &quot;IDString&quot;;\n        UserId userId = new UserId(messageId);\n        return userId;\n    }\n</code></pre>\n<p>My SOAP client imports the Identity and UserId class.  However, the Identity class has no methods\nwsimport -keep -p myclient http://localhost:8080/Uesrs.wsdl</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;identity&quot;)\n@XmlSeeAlso({\n    UserId.class\n})\npublic class Identity {\n\n\n}\n</code></pre>\n<p>When the SOAP client gets the object of type UserId, it only has getID() method and not getA() method.</p>\n<p>Can anyone advise how to used extended classes in SOAP?</p>\n"},{"tags":["java","mockito","hamcrest"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1396479051,"post_id":8348046,"comment_id":34812169,"body_markdown":"Related: [How do Mockito matchers work?](http://stackoverflow.com/a/22822514/1426891)","body":"Related: <a href=\"http://stackoverflow.com/a/22822514/1426891\">How do Mockito matchers work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":122746,"reputation":5871,"user_id":316745,"accept_rate":83,"display_name":"jhericks"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1646260068,"creation_date":1322792793,"answer_id":8351055,"question_id":8348046,"body_markdown":"Hamcrest matcher methods return `Matcher&lt;T&gt;` and Mockito matchers return T.  So, for example: `org.hamcrest.Matchers.any(Integer.class)` returns an instance of `org.hamcrest.Matcher&lt;Integer&gt;`, and `org.mockito.Matchers.any(Integer.class)` returns an instance of `Integer`.\r\n\r\nThat means that you can only use Hamcrest matchers when a `Matcher&lt;?&gt;` object is expected in the signature - typically, in `assertThat` calls.  When setting up expectations or verifications where you are calling methods of the mock object, you use the Mockito matchers.\r\n\r\nFor example (with fully qualified names for clarity):\r\n\r\n    @Test\r\n    public void testGetDelegatedBarByIndex() {\r\n        Foo mockFoo = mock(Foo.class);\r\n        // inject our mock\r\n        objectUnderTest.setFoo(mockFoo);\r\n        Bar mockBar = mock(Bar.class);\r\n        when(mockFoo.getBarByIndex(org.mockito.Matchers.any(Integer.class))).\r\n            thenReturn(mockBar);\r\n    \r\n        Bar actualBar = objectUnderTest.getDelegatedBarByIndex(1);\r\n        \r\n        assertThat(actualBar, org.hamcrest.Matchers.any(Bar.class));\r\n        verify(mockFoo).getBarByIndex(org.mockito.Matchers.any(Integer.class));\r\n    }\r\n\r\nIf you want to use a Hamcrest matcher in a context that requires a Mockito matcher, you can use the `org.mockito.Matchers.argThat` (or `org.mockito.hamcrest.MockitoHamcrest.argThat` in [Mockito 2][1]).  It converts a Hamcrest matcher into a Mockito matcher.  So, say you wanted to match a double value with some precision (but not much).  In that case, you could do:\r\n\r\n    when(mockFoo.getBarByDouble(argThat(is(closeTo(1.0, 0.001))))).\r\n        thenReturn(mockBar);\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.18/org/mockito/hamcrest/MockitoHamcrest.html","title":"Mockito&#39;s Matcher vs Hamcrest Matcher?","body":"<p>Hamcrest matcher methods return <code>Matcher&lt;T&gt;</code> and Mockito matchers return T.  So, for example: <code>org.hamcrest.Matchers.any(Integer.class)</code> returns an instance of <code>org.hamcrest.Matcher&lt;Integer&gt;</code>, and <code>org.mockito.Matchers.any(Integer.class)</code> returns an instance of <code>Integer</code>.</p>\n<p>That means that you can only use Hamcrest matchers when a <code>Matcher&lt;?&gt;</code> object is expected in the signature - typically, in <code>assertThat</code> calls.  When setting up expectations or verifications where you are calling methods of the mock object, you use the Mockito matchers.</p>\n<p>For example (with fully qualified names for clarity):</p>\n<pre><code>@Test\npublic void testGetDelegatedBarByIndex() {\n    Foo mockFoo = mock(Foo.class);\n    // inject our mock\n    objectUnderTest.setFoo(mockFoo);\n    Bar mockBar = mock(Bar.class);\n    when(mockFoo.getBarByIndex(org.mockito.Matchers.any(Integer.class))).\n        thenReturn(mockBar);\n\n    Bar actualBar = objectUnderTest.getDelegatedBarByIndex(1);\n    \n    assertThat(actualBar, org.hamcrest.Matchers.any(Bar.class));\n    verify(mockFoo).getBarByIndex(org.mockito.Matchers.any(Integer.class));\n}\n</code></pre>\n<p>If you want to use a Hamcrest matcher in a context that requires a Mockito matcher, you can use the <code>org.mockito.Matchers.argThat</code> (or <code>org.mockito.hamcrest.MockitoHamcrest.argThat</code> in <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.2.18/org/mockito/hamcrest/MockitoHamcrest.html\" rel=\"nofollow noreferrer\">Mockito 2</a>).  It converts a Hamcrest matcher into a Mockito matcher.  So, say you wanted to match a double value with some precision (but not much).  In that case, you could do:</p>\n<pre><code>when(mockFoo.getBarByDouble(argThat(is(closeTo(1.0, 0.001))))).\n    thenReturn(mockBar);\n</code></pre>\n"}],"owner":{"account_id":144817,"reputation":5766,"user_id":354161,"accept_rate":62,"display_name":"tintin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33898,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":8351055,"answer_count":1,"score":50,"last_activity_date":1671119840,"creation_date":1322772372,"question_id":8348046,"body_markdown":"This is going to be an easy one, but I cannot find the difference between them and which one to use, if I have both the lib&#39;s included in my classpath? ","title":"Mockito&#39;s Matcher vs Hamcrest Matcher?","body":"<p>This is going to be an easy one, but I cannot find the difference between them and which one to use, if I have both the lib's included in my classpath?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1671120571,"post_id":74814269,"comment_id":132034594,"body_markdown":"You&#39;d have to quote the original source, but it&#39;s likely referring to a [class&#39; initialization procedure](https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.4.2) and the default values of static fields (ie. `false` for a `boolean`). This all happens while holding a lock so is later visible to other threads.","body":"You&#39;d have to quote the original source, but it&#39;s likely referring to a <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">class&#39; initialization procedure</a> and the default values of static fields (ie. <code>false</code> for a <code>boolean</code>). This all happens while holding a lock so is later visible to other threads."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1671120585,"post_id":74814269,"comment_id":132034607,"body_markdown":"Without any specific knowledge, I&#39;d say that sounds like the kind of thing that may be true-ish for common implementations but isn&#39;t required by the spec. I&#39;m not aware of anything in the spec requiring something like that (but then again I&#39;m not an expert on the Java memory model).","body":"Without any specific knowledge, I&#39;d say that sounds like the kind of thing that may be true-ish for common implementations but isn&#39;t required by the spec. I&#39;m not aware of anything in the spec requiring something like that (but then again I&#39;m not an expert on the Java memory model)."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1671131688,"post_id":74814269,"comment_id":132038177,"body_markdown":"Ask yourself this: how would it detect that the write is the first one or not? It would likely require an extra check for each write, which would just add overhead. It&#39;s pretty unlikely that the first write is treated any differently than subsequent ones.","body":"Ask yourself this: how would it detect that the write is the first one or not? It would likely require an extra check for each write, which would just add overhead. It&#39;s pretty unlikely that the first write is treated any differently than subsequent ones."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671200275,"post_id":74814269,"comment_id":132054021,"body_markdown":"flush to main memory is an entirely wrong mindset. There is no flush and in fact, an implementation doesnt even have to have a main memory. As Sotirios Delimanolis said, the default value is the `false` that the field has before the write of a non-default value. What is guaranteed, is that a thread cant perceive a value that was in this memory location before this initialization. Which doesnt require a flush but just a mechanism to prevent reading the variable before the initialization.","body":"flush to main memory is an entirely wrong mindset. There is no flush and in fact, an implementation doesnt even have to have a main memory. As Sotirios Delimanolis said, the default value is the <code>false</code> that the field has before the write of a non-default value. What is guaranteed, is that a thread cant perceive a value that was in this memory location before this initialization. Which doesnt require a flush but just a mechanism to prevent reading the variable before the initialization."}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119681,"creation_date":1671119681,"question_id":74814269,"body_markdown":"I heard from somewhere that\r\n\r\n&gt; The first write to shared primitive variables&#39; default values are immediately visible to other threads\r\n\r\nI guess it wants to say that the first write to default values are flushed to memory instead of being cached in local memory.\r\n\r\nLike\r\n```java\r\nstatic boolean flag;\r\n// thread 1\r\nflag = true; // and flushed it to main memory\r\n// thread 2\r\nread(flag); // and flag==true is immediately visible to thread 2 if it fetches it from memory using getstatic after flag = true is executed by thread 1\r\n\r\n```\r\n\r\nBut I was not able to find any resources verifying it. Nor could I make a experiment to reproduce it.(I don&#39;t know how to inspect main memory values).\r\n\r\nSo does anyone with relevant knowledge verify it to be true or false? ","title":"Is the first write of default values forcefully flushed to main memory in Java?","body":"<p>I heard from somewhere that</p>\n<blockquote>\n<p>The first write to shared primitive variables' default values are immediately visible to other threads</p>\n</blockquote>\n<p>I guess it wants to say that the first write to default values are flushed to memory instead of being cached in local memory.</p>\n<p>Like</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean flag;\n// thread 1\nflag = true; // and flushed it to main memory\n// thread 2\nread(flag); // and flag==true is immediately visible to thread 2 if it fetches it from memory using getstatic after flag = true is executed by thread 1\n\n</code></pre>\n<p>But I was not able to find any resources verifying it. Nor could I make a experiment to reproduce it.(I don't know how to inspect main memory values).</p>\n<p>So does anyone with relevant knowledge verify it to be true or false?</p>\n"},{"tags":["java","maven","maven-dependency-plugin"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1488534114,"post_id":42575322,"comment_id":72283784,"body_markdown":"Curiosity and further context: why do you want only the poms? What are you trying to do?","body":"Curiosity and further context: why do you want only the poms? What are you trying to do?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1488535054,"post_id":42575322,"comment_id":72284435,"body_markdown":"What kind of problem are you trying to solve?","body":"What kind of problem are you trying to solve?"},{"owner":{"account_id":1752871,"reputation":7935,"user_id":1601571,"display_name":"&#214;mer Erden"},"score":0,"creation_date":1488537569,"post_id":42575322,"comment_id":72286129,"body_markdown":"according to [doc](https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html#copyPom) , it says _&quot;Also copy the pom of each artifact.&quot;_ , looks like the main purpose of this plugin is to copy artifact not the pom.","body":"according to <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html#copyPom\" rel=\"nofollow noreferrer\">doc</a> , it says <i>&quot;Also copy the pom of each artifact.&quot;</i> , looks like the main purpose of this plugin is to copy artifact not the pom."},{"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":0,"creation_date":1488538538,"post_id":42575322,"comment_id":72286799,"body_markdown":"Context: Ultimately I do want to download the source code of all transitive dependencies, but from SCM (for provenance analysis reasons), not from `-sources` artifacts. For that, I&#39;m calling [scm:checkout](https://maven.apache.org/components/scm/maven-scm-plugin/checkout-mojo.html) in a post-processing step.","body":"Context: Ultimately I do want to download the source code of all transitive dependencies, but from SCM (for provenance analysis reasons), not from <code>-sources</code> artifacts. For that, I&#39;m calling <a href=\"https://maven.apache.org/components/scm/maven-scm-plugin/checkout-mojo.html\" rel=\"nofollow noreferrer\">scm:checkout</a> in a post-processing step."}],"answers":[{"tags":[],"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671119607,"creation_date":1573725046,"answer_id":58853819,"question_id":42575322,"body_markdown":"I ended up creating an Open Source project that downloads and gathers metadata from Maven builds, and actually [several other build systems](https://github.com/oss-review-toolkit/ort#analyzer), too. It&#39;s called [OSS Review Toolkit](https://github.com/oss-review-toolkit/ort) (ORT for short) and programmatically uses the [maven-resolver](https://github.com/apache/maven-resolver) library to download only the POMs to analyze their contained metadata.","title":"How to make Maven download only the POM files for all (transitive) dependencies?","body":"<p>I ended up creating an Open Source project that downloads and gathers metadata from Maven builds, and actually <a href=\"https://github.com/oss-review-toolkit/ort#analyzer\" rel=\"nofollow noreferrer\">several other build systems</a>, too. It's called <a href=\"https://github.com/oss-review-toolkit/ort\" rel=\"nofollow noreferrer\">OSS Review Toolkit</a> (ORT for short) and programmatically uses the <a href=\"https://github.com/apache/maven-resolver\" rel=\"nofollow noreferrer\">maven-resolver</a> library to download only the POMs to analyze their contained metadata.</p>\n"}],"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671119607,"creation_date":1488533891,"question_id":42575322,"body_markdown":"I&#39;m currently using the [maven-dependency-plugin](https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html) like \r\n\r\n    mvn -B dependency:copy-dependencies \\\r\n        -Dmdep.copyPom=true \\\r\n        -DoutputDirectory=&quot;$OUTDIR&quot;\r\n\r\nto download all POMs of all (transitive) dependencies. However, that is *also* downloading the JARs, which I don&#39;t want. I tried to use `includeTypes` / `excludeTypes` to limit to POM files only, but that didn&#39;t work as nothing is retrieved then.\r\n\r\nIs there another option / command that really just retrieves the POMs?\r\n\r\nBackground: I only need the meta-data from all transitive POMs for compliance checks.","title":"How to make Maven download only the POM files for all (transitive) dependencies?","body":"<p>I'm currently using the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a> like </p>\n\n<pre><code>mvn -B dependency:copy-dependencies \\\n    -Dmdep.copyPom=true \\\n    -DoutputDirectory=\"$OUTDIR\"\n</code></pre>\n\n<p>to download all POMs of all (transitive) dependencies. However, that is <em>also</em> downloading the JARs, which I don't want. I tried to use <code>includeTypes</code> / <code>excludeTypes</code> to limit to POM files only, but that didn't work as nothing is retrieved then.</p>\n\n<p>Is there another option / command that really just retrieves the POMs?</p>\n\n<p>Background: I only need the meta-data from all transitive POMs for compliance checks.</p>\n"},{"tags":["java","apache-flink","apache-beam","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671110279,"creation_date":1671110279,"answer_id":74812175,"question_id":74809884,"body_markdown":"Some Beam sinks (like BigQueryIO) have support for &quot;dynamic destinations&quot; but this isn&#39;t the case for KafkaIO. You&#39;ll need to set up 3 different sinks for the different topics and you&#39;ll need to split up your messages (perhaps using a `Partition` transform) to separate collections to feed into those sinks.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>Some Beam sinks (like BigQueryIO) have support for &quot;dynamic destinations&quot; but this isn't the case for KafkaIO. You'll need to set up 3 different sinks for the different topics and you'll need to split up your messages (perhaps using a <code>Partition</code> transform) to separate collections to feed into those sinks.</p>\n"},{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671115917,"creation_date":1671115917,"answer_id":74813390,"question_id":74809884,"body_markdown":"You can do that with 3 different sinks on a `PCollection`, example : \r\n\r\n```java\r\n    private transient TestPipeline pipeline = TestPipeline.create();\r\n\r\n    @Test\r\n    public void kafkaIOSinksTest(){\r\n        PCollection&lt;String&gt; inputCollection = pipeline.apply(Create.of(Arrays.asList(&quot;Object 1&quot;, &quot;Object 2&quot;)));\r\n        \r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic1&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n\r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic2&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n\r\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\r\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\r\n                .withTopic(&quot;topic3&quot;)\r\n                .withValueSerializer(new StringSerializer())\r\n                .values());\r\n    }\r\n```\r\n\r\nIn this example, the same `PCollection` is sinked in 3 different topics, via multi sinks.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>You can do that with 3 different sinks on a <code>PCollection</code>, example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private transient TestPipeline pipeline = TestPipeline.create();\n\n    @Test\n    public void kafkaIOSinksTest(){\n        PCollection&lt;String&gt; inputCollection = pipeline.apply(Create.of(Arrays.asList(&quot;Object 1&quot;, &quot;Object 2&quot;)));\n        \n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic1&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic2&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n\n        inputCollection.apply(KafkaIO.&lt;Void, String&gt;write()\n                .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)\n                .withTopic(&quot;topic3&quot;)\n                .withValueSerializer(new StringSerializer())\n                .values());\n    }\n</code></pre>\n<p>In this example, the same <code>PCollection</code> is sinked in 3 different topics, via multi sinks.</p>\n"},{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671119551,"creation_date":1671119551,"answer_id":74814231,"question_id":74809884,"body_markdown":"You can use `KafkaIO.&lt;K, V&gt;writeRecords()` for that. It takes a `PCollection&lt;ProducerRecord&lt;K, V&gt;&gt;` as an input - so, you just need to specify a required output topic for in `ProducerRecord` for every element or use a default one. \r\n\r\nPlease, take a look on [this test][1] as an example.\r\n\r\n\r\n  [1]: https://github.com/apache/beam/blob/f16d5d51b7551c12a854833676fc5a20bf8b6702/sdks/java/io/kafka/src/test/java/org/apache/beam/sdk/io/kafka/KafkaIOTest.java#L1391","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>You can use <code>KafkaIO.&lt;K, V&gt;writeRecords()</code> for that. It takes a <code>PCollection&lt;ProducerRecord&lt;K, V&gt;&gt;</code> as an input - so, you just need to specify a required output topic for in <code>ProducerRecord</code> for every element or use a default one.</p>\n<p>Please, take a look on <a href=\"https://github.com/apache/beam/blob/f16d5d51b7551c12a854833676fc5a20bf8b6702/sdks/java/io/kafka/src/test/java/org/apache/beam/sdk/io/kafka/KafkaIOTest.java#L1391\" rel=\"nofollow noreferrer\">this test</a> as an example.</p>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74813390,"answer_count":3,"score":0,"last_activity_date":1671119551,"creation_date":1671099063,"question_id":74809884,"body_markdown":"Currently, I&#39;m working on Apache Beam Pipeline implementation which consumes data from three different Kafka topics, and after some processing, I create three types of objects adding those data taken from the above-mentioned Kafka topics. Finally, it is required to publish those three objects into three different Kafka topics. \r\nIt is possible to read from multiple topics using ```withTopics``` method in ```KafkaIO.read``` but I did not find a KafkaIO feature to write to multiple topics.\r\n\r\nI would like to get some advice on how to do this in the most ideal way, appreciate it if anyone can provide some code examples.","title":"Apache Beam KafkaIO - Write to Multiple Topics","body":"<p>Currently, I'm working on Apache Beam Pipeline implementation which consumes data from three different Kafka topics, and after some processing, I create three types of objects adding those data taken from the above-mentioned Kafka topics. Finally, it is required to publish those three objects into three different Kafka topics.\nIt is possible to read from multiple topics using <code>withTopics</code> method in <code>KafkaIO.read</code> but I did not find a KafkaIO feature to write to multiple topics.</p>\n<p>I would like to get some advice on how to do this in the most ideal way, appreciate it if anyone can provide some code examples.</p>\n"},{"tags":["java","json","spring","rest","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671107301,"post_id":74811429,"comment_id":132029283,"body_markdown":"And the error is?","body":"And the error is?"},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1671107714,"post_id":74811429,"comment_id":132029463,"body_markdown":"When passing numbers in JSON as Map&lt;String, Object&gt; they are all always Integer, and I want them to be Integers and Longs somehow, or maybe im doing it the wrong way?","body":"When passing numbers in JSON as Map&lt;String, Object&gt; they are all always Integer, and I want them to be Integers and Longs somehow, or maybe im doing it the wrong way?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671107794,"post_id":74811429,"comment_id":132029494,"body_markdown":"How should Jackson know that (without having type information) that it needs to be a long? It will then convert to an `Integer` if it fits in the number range.","body":"How should Jackson know that (without having type information) that it needs to be a long? It will then convert to an <code>Integer</code> if it fits in the number range."},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1671107854,"post_id":74811429,"comment_id":132029526,"body_markdown":"So then what&#39;s the proper way to update multiple different types fields?","body":"So then what&#39;s the proper way to update multiple different types fields?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671113412,"creation_date":1671110434,"answer_id":74812201,"question_id":74811429,"body_markdown":"You can make use of the functionality offered by Jackson to perform the partial update.\r\n\r\nFor that, instead of reading the data to patch as a `Map` you specify in your Controller the type of the request body as `ObjectNode`:\r\n\r\n    @PatchMapping(&quot;/grades/{id}&quot;)\r\n    public GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id,\r\n                                  @RequestBody ObjectNode updateInfo) {\r\n        \r\n        return gradeService.partialUpdate(id, updateInfo);\r\n    }\r\n\r\nThen inside the Service to operate with `ObjectNode`s you need to turn `GradeEto` instance into a node tree using [`ObjectMapper.valueToTree()`][valueToTree] (*assuming that Service class is a managed Bean you can inject `ObjectMapper` into it instead of instantiating it locally*).\r\n\r\nMethod [`ObjectNode.fields()`][fields] can be used to iterate over the fields and corresponding values of `updateInfo`. Methods [`isNull()`][isNull] and [`isEmpty()`][isEmpty], which `ObjectNode` derives from its super types, would be handy to check if a particular property needs to be updated.\r\n\r\nThen, finally, you would need to parse the `ObjectNode` back into `GradeEto` type.\r\n\r\nSo the code in the Service might look like this:\r\n\r\n```\r\n@Service\r\npublic class GradeService {\r\n\r\n    private ObjectMapper mapper;\r\n    \r\n    public GradeEto partialUpdate(Long id, ObjectNode updateInfo) throws IOException {\r\n\r\n        Grade grade = gradeRepository.findById(id).get();\r\n        GradeEto gradeeto = GradeMapper.mapToETO(grade);\r\n        \r\n        ObjectNode gradeEtoTree = mapper.valueToTree(gradeeto);\r\n        \r\n        updateInfo.fields().forEachRemaining(e -&gt; {\r\n            if (!e.getValue().isNull() &amp;&amp; !e.getValue().isEmpty())\r\n                gradeEtoTree.replace(e.getKey(), e.getValue());\r\n        });\r\n        \r\n        return mapper\r\n            .readerFor(GradeEto.class) // creates an ObjectReader\r\n            .readValue(gradeEtoTree);\r\n    }\r\n}\r\n```\r\n\r\n***Note:** it&#39;s worth to draw the reader&#39;s attention to the fact we also need to update the information in the Database. This logic is missing in both the Question and this Answer, since it&#39;s not relevant to the narrow technical problem of extracting the data that should be patched from JSON, but we definitely need to save the patched object (for instance a method that produces patched object can be wrapped with another method responsible for retrieving/updating the data in the database).*\r\n\r\n\r\n   [valueToTree]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree-java.lang.Object-\r\n\r\n   [fields]: https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/node/ObjectNode.html#fields--\r\n\r\n   [isNull]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#isNull()\r\n\r\n   [isEmpty]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonSerializable.Base.html#isEmpty(com.fasterxml.jackson.databind.SerializerProvider)","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>You can make use of the functionality offered by Jackson to perform the partial update.</p>\n<p>For that, instead of reading the data to patch as a <code>Map</code> you specify in your Controller the type of the request body as <code>ObjectNode</code>:</p>\n<pre><code>@PatchMapping(&quot;/grades/{id}&quot;)\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id,\n                              @RequestBody ObjectNode updateInfo) {\n    \n    return gradeService.partialUpdate(id, updateInfo);\n}\n</code></pre>\n<p>Then inside the Service to operate with <code>ObjectNode</code>s you need to turn <code>GradeEto</code> instance into a node tree using <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>ObjectMapper.valueToTree()</code></a> (<em>assuming that Service class is a managed Bean you can inject <code>ObjectMapper</code> into it instead of instantiating it locally</em>).</p>\n<p>Method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/node/ObjectNode.html#fields--\" rel=\"nofollow noreferrer\"><code>ObjectNode.fields()</code></a> can be used to iterate over the fields and corresponding values of <code>updateInfo</code>. Methods <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#isNull()\" rel=\"nofollow noreferrer\"><code>isNull()</code></a> and <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonSerializable.Base.html#isEmpty(com.fasterxml.jackson.databind.SerializerProvider)\" rel=\"nofollow noreferrer\"><code>isEmpty()</code></a>, which <code>ObjectNode</code> derives from its super types, would be handy to check if a particular property needs to be updated.</p>\n<p>Then, finally, you would need to parse the <code>ObjectNode</code> back into <code>GradeEto</code> type.</p>\n<p>So the code in the Service might look like this:</p>\n<pre><code>@Service\npublic class GradeService {\n\n    private ObjectMapper mapper;\n    \n    public GradeEto partialUpdate(Long id, ObjectNode updateInfo) throws IOException {\n\n        Grade grade = gradeRepository.findById(id).get();\n        GradeEto gradeeto = GradeMapper.mapToETO(grade);\n        \n        ObjectNode gradeEtoTree = mapper.valueToTree(gradeeto);\n        \n        updateInfo.fields().forEachRemaining(e -&gt; {\n            if (!e.getValue().isNull() &amp;&amp; !e.getValue().isEmpty())\n                gradeEtoTree.replace(e.getKey(), e.getValue());\n        });\n        \n        return mapper\n            .readerFor(GradeEto.class) // creates an ObjectReader\n            .readValue(gradeEtoTree);\n    }\n}\n</code></pre>\n<p><em><strong>Note:</strong> it's worth to draw the reader's attention to the fact we also need to update the information in the Database. This logic is missing in both the Question and this Answer, since it's not relevant to the narrow technical problem of extracting the data that should be patched from JSON, but we definitely need to save the patched object (for instance a method that produces patched object can be wrapped with another method responsible for retrieving/updating the data in the database).</em></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671119436,"creation_date":1671119436,"answer_id":74814204,"question_id":74811429,"body_markdown":"I do believe `org.springframework.cglib.beans.BeanMap` can solve your problem in elegant way:\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    String json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;value\\&quot;: 2,\\n&quot; +\r\n            &quot;    \\&quot;comment\\&quot;: \\&quot;Test Idea\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;subjectEntityId\\&quot;: 20\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n\r\n    Grade grade = new Grade();\r\n    BeanMap map = BeanMap.create(grade);\r\n\r\n    map.putAll(new ObjectMapper().readValue(json, Map.class));\r\n\r\n\r\n    assertThat(grade.value)\r\n            .isEqualTo(2);\r\n    assertThat(grade.subjectEntityId)\r\n            .isEqualTo(20);\r\n    assertThat(grade.comment)\r\n            .isEqualTo(&quot;Test Idea&quot;);\r\n\r\n\r\n}\r\n\r\n\r\n@Data\r\nstatic class Grade {\r\n\r\n    int value;\r\n    String comment;\r\n    long subjectEntityId;\r\n}\r\n\r\n```","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>I do believe <code>org.springframework.cglib.beans.BeanMap</code> can solve your problem in elegant way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    String json = &quot;{\\n&quot; +\n            &quot;    \\&quot;value\\&quot;: 2,\\n&quot; +\n            &quot;    \\&quot;comment\\&quot;: \\&quot;Test Idea\\&quot;,\\n&quot; +\n            &quot;    \\&quot;subjectEntityId\\&quot;: 20\\n&quot; +\n            &quot;}&quot;;\n\n\n    Grade grade = new Grade();\n    BeanMap map = BeanMap.create(grade);\n\n    map.putAll(new ObjectMapper().readValue(json, Map.class));\n\n\n    assertThat(grade.value)\n            .isEqualTo(2);\n    assertThat(grade.subjectEntityId)\n            .isEqualTo(20);\n    assertThat(grade.comment)\n            .isEqualTo(&quot;Test Idea&quot;);\n\n\n}\n\n\n@Data\nstatic class Grade {\n\n    int value;\n    String comment;\n    long subjectEntityId;\n}\n\n</code></pre>\n"}],"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671119436,"creation_date":1671106851,"question_id":74811429,"body_markdown":"i have a PATCH mapping method that currently accepts a `Map&lt;String, Object&gt;` as `@ResponseBody`, because i&#39;ve seen `ReflectionUtils` as one of ways to implement the PatchMapping, but when I want to pass for example `String`, `Integer` and `Long`, then JSON doesn&#39;t distinguish which one are which one. I would like to  be able to pass EntityID which is Long, some Value which is Integer and some Strings at once.\r\n\r\nThis is my current Controller method\r\n\r\n```java\r\n@PatchMapping(&quot;/grades/{id}&quot;)\r\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id, @RequestBody Map&lt;String, Object&gt; updateInfo) {\r\n    return gradeService.partialUpdate(id, updateInfo);\r\n}\r\n```\r\n\r\nThis is main part of the `ReflectionUtils` update\r\n\r\n```\r\n@Override\r\npublic GradeEto partialUpdate(Long id, Map&lt;String, Object&gt; updateInfo) {\r\n\r\n    Grade grade = gradeRepository.findById(id).get();\r\n    GradeEto gradeeto = GradeMapper.mapToETO(grade);\r\n    updateInfo.forEach((key, value) -&gt; {\r\n        Field field = ReflectionUtils.findField(GradeEto.class, key);\r\n        field.setAccessible(true);\r\n        ReflectionUtils.setField(field, gradeeto, value);\r\n    });\r\n```\r\n\r\nAnd i want to be able to pass for example\r\n\r\n\r\n```json\r\n{\r\n    &quot;value&quot;: 2,   &lt;-- Integer\r\n    &quot;comment&quot;: &quot;Test Idea&quot;,   &lt;-- String\r\n    &quot;subjectEntityId&quot;: 2  &lt;-- Long\r\n}\r\n```\r\nBut it gives me `IllegalArgumentException` currently\r\n\r\nHow should i do it? And if im doing it the wrong way then how should I do it?\r\n\r\n","title":"Spring - How to pass different types at once in JSON using PATCH","body":"<p>i have a PATCH mapping method that currently accepts a <code>Map&lt;String, Object&gt;</code> as <code>@ResponseBody</code>, because i've seen <code>ReflectionUtils</code> as one of ways to implement the PatchMapping, but when I want to pass for example <code>String</code>, <code>Integer</code> and <code>Long</code>, then JSON doesn't distinguish which one are which one. I would like to  be able to pass EntityID which is Long, some Value which is Integer and some Strings at once.</p>\n<p>This is my current Controller method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PatchMapping(&quot;/grades/{id}&quot;)\npublic GradeEto partialUpdate(@PathVariable(&quot;id&quot;) final Long id, @RequestBody Map&lt;String, Object&gt; updateInfo) {\n    return gradeService.partialUpdate(id, updateInfo);\n}\n</code></pre>\n<p>This is main part of the <code>ReflectionUtils</code> update</p>\n<pre><code>@Override\npublic GradeEto partialUpdate(Long id, Map&lt;String, Object&gt; updateInfo) {\n\n    Grade grade = gradeRepository.findById(id).get();\n    GradeEto gradeeto = GradeMapper.mapToETO(grade);\n    updateInfo.forEach((key, value) -&gt; {\n        Field field = ReflectionUtils.findField(GradeEto.class, key);\n        field.setAccessible(true);\n        ReflectionUtils.setField(field, gradeeto, value);\n    });\n</code></pre>\n<p>And i want to be able to pass for example</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;value&quot;: 2,   &lt;-- Integer\n    &quot;comment&quot;: &quot;Test Idea&quot;,   &lt;-- String\n    &quot;subjectEntityId&quot;: 2  &lt;-- Long\n}\n</code></pre>\n<p>But it gives me <code>IllegalArgumentException</code> currently</p>\n<p>How should i do it? And if im doing it the wrong way then how should I do it?</p>\n"},{"tags":["java","file-upload","playframework","akamai","ws-client"],"comments":[{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671119756,"post_id":74814168,"comment_id":132034291,"body_markdown":"how to do this scala code into java:\nws.url(url).post(Source(FilePart(&quot;hello&quot;, &quot;hello.txt&quot;, Option(&quot;text/plain&quot;), FileIO.fromFile(tmpFile)) :: DataPart(&quot;key&quot;, &quot;value&quot;) :: List()))\n\nreference -&gt; https://www.playframework.com/documentation/2.5.x/ScalaWS","body":"how to do this scala code into java: ws.url(url).post(Source(FilePart(&quot;hello&quot;, &quot;hello.txt&quot;, Option(&quot;text/plain&quot;), FileIO.fromFile(tmpFile)) :: DataPart(&quot;key&quot;, &quot;value&quot;) :: List()))  reference -&gt; <a href=\"https://www.playframework.com/documentation/2.5.x/ScalaWS\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.5.x/ScalaWS</a>"},{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671122059,"post_id":74814168,"comment_id":132035208,"body_markdown":"i am getting :- after tring this approach :-&gt; https://www.playframework.com/documentation/2.5.x/JavaWS\nHi, I&#39;m trying to retrieve the JSON response from my API but I&#39;m having a problem if the status code is 412. It just keeps on loading and no response is being returned. Any reason for this?","body":"i am getting :- after tring this approach :-&gt; <a href=\"https://www.playframework.com/documentation/2.5.x/JavaWS\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.5.x/JavaWS</a> Hi, I&#39;m trying to retrieve the JSON response from my API but I&#39;m having a problem if the status code is 412. It just keeps on loading and no response is being returned. Any reason for this?"},{"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"score":0,"creation_date":1671176408,"post_id":74814168,"comment_id":132046735,"body_markdown":"it worked for me -&gt; playframework.com/documentation/2.5.x/JavaWS\n\nI was passing the wrong headers authenticated and URL combination without HTTPS\nwhich worked after providing hostname with HTTPS","body":"it worked for me -&gt; playframework.com/documentation/2.5.x/JavaWS  I was passing the wrong headers authenticated and URL combination without HTTPS which worked after providing hostname with HTTPS"}],"owner":{"account_id":9209922,"reputation":43,"user_id":6843587,"display_name":"suv1sh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119289,"creation_date":1671119289,"question_id":74814168,"body_markdown":"This is the code in scala how can we do a similar thing in java using the play framework\r\nreference: -&gt; https://stackoverflow.com/questions/63577224/play-ws-post-multipart-form-data-from-scala-bad-request\r\n\r\n\r\n\r\n  \r\n\r\n    import akka.stream.scaladsl.FileIO\r\n        import akka.stream.scaladsl.Source\r\n        import play.api.libs.ws.WSClient\r\n        import play.api.mvc.MultipartFormData._\r\n        \r\n        val pathToFile = &quot;./sampleCV.pdf&quot;\r\n        val fileName = &quot;sampleCV.pdf&quot;\r\n        val futureResponse = ws.url(url).withRequestTimeout(Duration.create(55, TimeUnit.SECONDS))\r\n              .addHttpHeaders(&quot;authorization&quot; -&gt; s&quot;bearer $access_token&quot;)\r\n              .addHttpHeaders(&quot;accept&quot; -&gt; &quot;*/*&quot;)\r\n              .addHttpHeaders(&quot;content-type&quot; -&gt; &quot;multipart/form-data&quot;)\r\n              .post(Source(\r\n                FilePart(&quot;File&quot;, fileName, Option(&quot;application/pdf&quot;), FileIO.fromPath(Paths.get(pathToFile)))  :: List()\r\n              ))\r\n\r\n\r\nI had tried but got 412 as the response code as I was using an HTTP multipart file.","title":"How to upload upload image/file to akamai server using play framework","body":"<p>This is the code in scala how can we do a similar thing in java using the play framework\nreference: -&gt; <a href=\"https://stackoverflow.com/questions/63577224/play-ws-post-multipart-form-data-from-scala-bad-request\">Play WS - post multipart/form-data from scala - Bad Request</a></p>\n<pre><code>import akka.stream.scaladsl.FileIO\n    import akka.stream.scaladsl.Source\n    import play.api.libs.ws.WSClient\n    import play.api.mvc.MultipartFormData._\n    \n    val pathToFile = &quot;./sampleCV.pdf&quot;\n    val fileName = &quot;sampleCV.pdf&quot;\n    val futureResponse = ws.url(url).withRequestTimeout(Duration.create(55, TimeUnit.SECONDS))\n          .addHttpHeaders(&quot;authorization&quot; -&gt; s&quot;bearer $access_token&quot;)\n          .addHttpHeaders(&quot;accept&quot; -&gt; &quot;*/*&quot;)\n          .addHttpHeaders(&quot;content-type&quot; -&gt; &quot;multipart/form-data&quot;)\n          .post(Source(\n            FilePart(&quot;File&quot;, fileName, Option(&quot;application/pdf&quot;), FileIO.fromPath(Paths.get(pathToFile)))  :: List()\n          ))\n</code></pre>\n<p>I had tried but got 412 as the response code as I was using an HTTP multipart file.</p>\n"},{"tags":["java","gradle","maven-plugin"],"owner":{"account_id":3904037,"reputation":13,"user_id":3231140,"accept_rate":25,"display_name":"user3231140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671119279,"creation_date":1671119279,"question_id":74814166,"body_markdown":"I am trying to run gradle install. The goal is to convert to the gradle project to a mvn project. For that we have the mvn plugin as a part of gradle project.\r\n\r\n**gradle version is 7.6**\r\n\r\n**java version is java 11**\r\n\r\ngradle build file:\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;com.diffplug.spotless&#39; version &#39;5.11.0&#39;\r\n    id &#39;checkstyle&#39;\r\n    id &#39;nebula.ospackage&#39;  version &quot;8.3.0&quot;\r\n    id &quot;org.gradle.test-retry&quot; version &quot;1.3.1&quot;\r\n}\r\n\r\n\r\nspotless {\r\n  java {\r\n    // note: you can use an empty string for all the imports you didn&#39;t specify explicitly, and &#39;\\\\#` prefix for static imports\r\n    importOrder(&#39;java&#39;, &#39;javax&#39;, &#39;&#39;, &#39;com.amazon&#39;, &#39;org.opensearch&#39;, &#39;\\\\#&#39;)\r\n  }\r\n}\r\n\r\njava.sourceCompatibility = JavaVersion.VERSION_11\r\njava.targetCompatibility = JavaVersion.VERSION_11\r\n\r\ntasks.withType(Checkstyle) {\r\n    showViolations true\r\n    reports {\r\n        ignoreFailures = false\r\n    }\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    configure(options) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-Xlint:removal&#39; &lt;&lt; &#39;-Werror&#39;\r\n    }\r\n}\r\n\r\ntasks.test.finalizedBy(jacocoTestReport)  // report is always generated after tests run\r\ntasks.jacocoTestReport.dependsOn(test) // tests are required to run before generating the report\r\n\r\nallprojects {\r\n    tasks.withType(Javadoc).all { enabled = false }\r\n}\r\n\r\nbundlePlugin {\r\n    from(&#39;plugin-security.policy&#39;)\r\n    from(&#39;config&#39;) {\r\n        into &#39;config&#39;\r\n    }\r\n    from(&#39;tools&#39;) {\r\n        into &#39;tools&#39;\r\n    }\r\n}\r\n``` \r\n\r\n***But facing the below issue:***\r\n\r\n```\r\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata(Ljava/io/File;)Lorg/gradle/internal/jvm/inspection/JvmInstallationMetadata;\r\n        at \r\n    ```\r\n","title":"facing issue with gradle install command: `java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata `","body":"<p>I am trying to run gradle install. The goal is to convert to the gradle project to a mvn project. For that we have the mvn plugin as a part of gradle project.</p>\n<p><strong>gradle version is 7.6</strong></p>\n<p><strong>java version is java 11</strong></p>\n<p>gradle build file:</p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'idea'\n    id 'jacoco'\n    id 'maven-publish'\n    id 'com.diffplug.spotless' version '5.11.0'\n    id 'checkstyle'\n    id 'nebula.ospackage'  version &quot;8.3.0&quot;\n    id &quot;org.gradle.test-retry&quot; version &quot;1.3.1&quot;\n}\n\n\nspotless {\n  java {\n    // note: you can use an empty string for all the imports you didn't specify explicitly, and '\\\\#` prefix for static imports\n    importOrder('java', 'javax', '', 'com.amazon', 'org.opensearch', '\\\\#')\n  }\n}\n\njava.sourceCompatibility = JavaVersion.VERSION_11\njava.targetCompatibility = JavaVersion.VERSION_11\n\ntasks.withType(Checkstyle) {\n    showViolations true\n    reports {\n        ignoreFailures = false\n    }\n}\n\ntasks.withType(JavaCompile) {\n    configure(options) {\n        options.encoding = 'UTF-8'\n        options.compilerArgs &lt;&lt; '-Xlint:removal' &lt;&lt; '-Werror'\n    }\n}\n\ntasks.test.finalizedBy(jacocoTestReport)  // report is always generated after tests run\ntasks.jacocoTestReport.dependsOn(test) // tests are required to run before generating the report\n\nallprojects {\n    tasks.withType(Javadoc).all { enabled = false }\n}\n\nbundlePlugin {\n    from('plugin-security.policy')\n    from('config') {\n        into 'config'\n    }\n    from('tools') {\n        into 'tools'\n    }\n}\n</code></pre>\n<p><em><strong>But facing the below issue:</strong></em></p>\n<pre><code>org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: java.lang.NoSuchMethodError: org.gradle.internal.jvm.inspection.JvmMetadataDetector.getMetadata(Ljava/io/File;)Lorg/gradle/internal/jvm/inspection/JvmInstallationMetadata;\n        at \n    ```\n</code></pre>\n"},{"tags":["java","amazon-dynamodb","aws-sdk"],"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671118751,"creation_date":1671118751,"question_id":74814044,"body_markdown":"I have got an operation that inserts items to dynamodb in batch. I have seen plenty of posts where people handle unprocessed items by making subsequent requests. In my scenario I want something a bit different. I want to be able to extract the **Items** from the unprocessedItems list to then log them into Kibana.\r\n\r\n    List&lt;List&lt;Item&gt;&gt; batchItems = Lists.partition(items, 25);\r\n\r\n        var promises = batchItems.stream().map(itemsList -&gt; Blocking.get(() -&gt; {\r\n            TableWriteItems tableWriteItems = new TableWriteItems(table.getTableName());\r\n            tableWriteItems.withItemsToPut(itemsList);\r\n            BatchWriteItemOutcome outcome = dynamoDB.batchWriteItem(tableWriteItems);\r\n            final int status = outcome.getBatchWriteItemResult().getSdkHttpMetadata().getHttpStatusCode();\r\n            return outcome.getUnprocessedItems().values();\r\n        })).collect(Collectors.toList());\r\n\r\nThat is the current logic I have, to sum up, I will have an array of promises that may or may not have unprocessed items.\r\n\r\n    ParallelPromises.yieldAll(promises).map((List&lt;? extends ExecResult&lt;Collection&lt;List&lt;WriteRequest&gt;&gt;&gt;&gt; results) -&gt; {\r\n    //from results I want to extract the Item/Items\r\n    //that failed but currently I only have the WriteRequest that failed. Can I convert it to an Item somehow?\r\n    }\r\n\r\nMy core question is in the comment of the block of code above, thank you","title":"Retrieve Unprocessed items from BatchWriteItemRequest","body":"<p>I have got an operation that inserts items to dynamodb in batch. I have seen plenty of posts where people handle unprocessed items by making subsequent requests. In my scenario I want something a bit different. I want to be able to extract the <strong>Items</strong> from the unprocessedItems list to then log them into Kibana.</p>\n<pre><code>List&lt;List&lt;Item&gt;&gt; batchItems = Lists.partition(items, 25);\n\n    var promises = batchItems.stream().map(itemsList -&gt; Blocking.get(() -&gt; {\n        TableWriteItems tableWriteItems = new TableWriteItems(table.getTableName());\n        tableWriteItems.withItemsToPut(itemsList);\n        BatchWriteItemOutcome outcome = dynamoDB.batchWriteItem(tableWriteItems);\n        final int status = outcome.getBatchWriteItemResult().getSdkHttpMetadata().getHttpStatusCode();\n        return outcome.getUnprocessedItems().values();\n    })).collect(Collectors.toList());\n</code></pre>\n<p>That is the current logic I have, to sum up, I will have an array of promises that may or may not have unprocessed items.</p>\n<pre><code>ParallelPromises.yieldAll(promises).map((List&lt;? extends ExecResult&lt;Collection&lt;List&lt;WriteRequest&gt;&gt;&gt;&gt; results) -&gt; {\n//from results I want to extract the Item/Items\n//that failed but currently I only have the WriteRequest that failed. Can I convert it to an Item somehow?\n}\n</code></pre>\n<p>My core question is in the comment of the block of code above, thank you</p>\n"},{"tags":["java","eclipse","selenium","maven"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1671120368,"post_id":74814015,"comment_id":132034500,"body_markdown":"This means that another element is preventing the click. Something appears on top of it may be?","body":"This means that another element is preventing the click. Something appears on top of it may be?"}],"owner":{"account_id":27263454,"reputation":1,"user_id":20785914,"display_name":"Naresh G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671118741,"answer_count":0,"score":0,"last_activity_date":1671118660,"creation_date":1671118660,"question_id":74814015,"body_markdown":"I am getting this error while running script, it is not clicking on the element. I am eclipse with maven\r\n\r\norg.openqa.selenium.ElementClickInterceptedException: element click intercepted\r\n\r\n Your help is appreciated \r\n\r\nwhen I click twice on the same element, it is working on the second click.\r\n\r\nNote: when I run the same script on AVD, , it is working fine.\r\n\r\nTried JsClick as well.","title":"Selenium with Java","body":"<p>I am getting this error while running script, it is not clicking on the element. I am eclipse with maven</p>\n<p>org.openqa.selenium.ElementClickInterceptedException: element click intercepted</p>\n<p>Your help is appreciated</p>\n<p>when I click twice on the same element, it is working on the second click.</p>\n<p>Note: when I run the same script on AVD, , it is working fine.</p>\n<p>Tried JsClick as well.</p>\n"},{"tags":["java","display","multiple-monitors"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632144455,"creation_date":1632144455,"answer_id":69255261,"question_id":69254778,"body_markdown":"Try it like this.\r\n```\r\nGraphicsDevice[] g = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\r\n\t\t \r\nfor ( GraphicsDevice gd : g) {\r\n\t System.out.println(gd.getDefaultConfiguration().getBounds());\r\n}\r\n```\r\nThe bounds should be representative of the relative position of the screen(s) to each other.\r\n\t\t","title":"Alignment of two different screens connected in dual-screen mode in a system","body":"<p>Try it like this.</p>\n<pre><code>GraphicsDevice[] g = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\n         \nfor ( GraphicsDevice gd : g) {\n     System.out.println(gd.getDefaultConfiguration().getBounds());\n}\n</code></pre>\n<p>The bounds should be representative of the relative position of the screen(s) to each other.</p>\n"}],"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69255261,"answer_count":1,"score":0,"last_activity_date":1671118390,"creation_date":1632142451,"question_id":69254778,"body_markdown":"When two systems connected in dual mode one system will be the default system and other will extend right to it or to its left. \r\n\r\nI want to programmatically find to which side does it extends. How is this found programmatically?\r\n\r\nNB: My app runs on Java and I&#39;ve already tried out the GraphicsEnvironment function.","title":"Alignment of two different screens connected in dual-screen mode in a system","body":"<p>When two systems connected in dual mode one system will be the default system and other will extend right to it or to its left.</p>\n<p>I want to programmatically find to which side does it extends. How is this found programmatically?</p>\n<p>NB: My app runs on Java and I've already tried out the GraphicsEnvironment function.</p>\n"},{"tags":["java","multiple-monitors","system-properties"],"comments":[{"owner":{"account_id":4200905,"reputation":534,"user_id":4921407,"display_name":"Ruksh&#225;n Dikovita"},"score":1,"creation_date":1626326491,"post_id":68388089,"comment_id":120863955,"body_markdown":"I guess you could use &quot;GraphicsEnvironment&quot; class and something like below:\nGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nscreens = ge.getScreenDevices()\n\nhttps://docs.oracle.com/javase/6/docs/api/java/awt/GraphicsDevice.html","body":"I guess you could use &quot;GraphicsEnvironment&quot; class and something like below: GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment(); screens = ge.getScreenDevices()  <a href=\"https://docs.oracle.com/javase/6/docs/api/java/awt/GraphicsDevice.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/awt/GraphicsDevice.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"score":0,"creation_date":1626328181,"post_id":68388089,"comment_id":120864326,"body_markdown":"@Ruksh&#225;n This worked.","body":"@Ruksh&#225;n This worked."}],"answers":[{"tags":[],"owner":{"account_id":9176481,"reputation":1069,"user_id":6821936,"display_name":"Uday Chauhan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1626347795,"creation_date":1626327236,"answer_id":68388453,"question_id":68388089,"body_markdown":"you can use GraphicsEnvironment https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html :\r\n\r\n```\r\nprivate String getMonitorSizes() {\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    GraphicsDevice[]    gs = ge.getScreenDevices();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; gs.length; i++) {\r\n        DisplayMode dm = gs[i].getDisplayMode();\r\n        sb.append(i + &quot;, width: &quot; + dm.getWidth() + &quot;, height: &quot; + dm.getHeight() + &quot;\\n&quot;);\r\n    }\r\n    return sb.toString();\r\n}\r\n```","title":"How to know if a computer has multiple monitors connected to it?","body":"<p>you can use GraphicsEnvironment <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/GraphicsEnvironment.html</a> :</p>\n<pre><code>private String getMonitorSizes() {\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    GraphicsDevice[]    gs = ge.getScreenDevices();\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; gs.length; i++) {\n        DisplayMode dm = gs[i].getDisplayMode();\n        sb.append(i + &quot;, width: &quot; + dm.getWidth() + &quot;, height: &quot; + dm.getHeight() + &quot;\\n&quot;);\n    }\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68388453,"answer_count":1,"score":0,"last_activity_date":1671118112,"creation_date":1626324701,"question_id":68388089,"body_markdown":"My system monitoring app takes screenshot every five minutes it runs in a system. But for a system connected in dual monitor mode needs a different set of codes to take the complete 180 degree screenshot. \r\n\r\nIs there a way to know if the system is working in dual monitor mode by some means(system property)?","title":"How to know if a computer has multiple monitors connected to it?","body":"<p>My system monitoring app takes screenshot every five minutes it runs in a system. But for a system connected in dual monitor mode needs a different set of codes to take the complete 180 degree screenshot.</p>\n<p>Is there a way to know if the system is working in dual monitor mode by some means(system property)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1671115432,"post_id":74813199,"comment_id":132032489,"body_markdown":"What do you mean by &quot;nothing happens&quot;? How do you call it? What *do* you expect to happen? Not having read your code in detail I don&#39;t see a `System.out.println()` or anything else that would output any visible feedback to you. What does your `main` method look like? My guess is that you call `headsNtails` but ignore the return value.","body":"What do you mean by &quot;nothing happens&quot;? How do you call it? What <i>do</i> you expect to happen? Not having read your code in detail I don&#39;t see a <code>System.out.println()</code> or anything else that would output any visible feedback to you. What does your <code>main</code> method look like? My guess is that you call <code>headsNtails</code> but ignore the return value."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1671115756,"post_id":74813199,"comment_id":132032615,"body_markdown":"I don&#39;t see any reason why the `decimalToBinary()` method presented would hang or take much time to run.","body":"I don&#39;t see any reason why the <code>decimalToBinary()</code> method presented would hang or take much time to run."},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671115842,"post_id":74813199,"comment_id":132032646,"body_markdown":"I posted my main method.","body":"I posted my main method."},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671115896,"post_id":74813199,"comment_id":132032663,"body_markdown":"when I say nothing happens It means there is no output . It is supposed to display all the characters.","body":"when I say nothing happens It means there is no output . It is supposed to display all the characters."},{"owner":{"account_id":4079098,"reputation":883,"user_id":3349973,"accept_rate":33,"display_name":"Sajjad"},"score":0,"creation_date":1671115918,"post_id":74813199,"comment_id":132032670,"body_markdown":"Please post the complete code. It is hard to guess what `display2D` method is doing here.","body":"Please post the complete code. It is hard to guess what <code>display2D</code> method is doing here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671115991,"post_id":74813199,"comment_id":132032696,"body_markdown":"just because your method is named &quot;displayX&quot; doesn&#39;t mean it&#39;ll display something","body":"just because your method is named &quot;displayX&quot; doesn&#39;t mean it&#39;ll display something"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671116098,"post_id":74813199,"comment_id":132032748,"body_markdown":"have you debugged your code to see whether what you pass is that what you think you pass?","body":"have you debugged your code to see whether what you pass is that what you think you pass?"},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671116145,"post_id":74813199,"comment_id":132032767,"body_markdown":"I think I shared all the codes. Sorry for not being specific enough.","body":"I think I shared all the codes. Sorry for not being specific enough."},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671116241,"post_id":74813199,"comment_id":132032802,"body_markdown":"When I debug, int[] array = decimalToBinary(number);  It stops here It won&#39;t pass.","body":"When I debug, int[] array = decimalToBinary(number);  It stops here It won&#39;t pass."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671116260,"post_id":74813199,"comment_id":132032808,"body_markdown":"what is the value of number there? if it is a valid int, and it just &quot;stops there&quot;, you may have forgotten to re-compile your code after adjusting it","body":"what is the value of number there? if it is a valid int, and it just &quot;stops there&quot;, you may have forgotten to re-compile your code after adjusting it"},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671116445,"post_id":74813199,"comment_id":132032878,"body_markdown":"In main method I use 7 for value of number. If you meant that.","body":"In main method I use 7 for value of number. If you meant that."},{"owner":{"account_id":4079098,"reputation":883,"user_id":3349973,"accept_rate":33,"display_name":"Sajjad"},"score":0,"creation_date":1671116555,"post_id":74813199,"comment_id":132032923,"body_markdown":"you are looping over your 2D char array wrong. You need a nested for loop. Also the `display` method should expect char array instead of `int[]`.","body":"you are looping over your 2D char array wrong. You need a nested for loop. Also the <code>display</code> method should expect char array instead of <code>int[]</code>."},{"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"score":0,"creation_date":1671116854,"post_id":74813199,"comment_id":132033047,"body_markdown":"Actually, display method is overloaded so there is a display(char[] array) method too. But when I click the display method It showed that it takes int[] parameters so I posted it int display.","body":"Actually, display method is overloaded so there is a display(char[] array) method too. But when I click the display method It showed that it takes int[] parameters so I posted it int display."},{"owner":{"account_id":6052078,"reputation":1367,"user_id":6306714,"display_name":"nakhodkin"},"score":0,"creation_date":1671121824,"post_id":74813199,"comment_id":132035107,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4079098,"reputation":883,"user_id":3349973,"accept_rate":33,"display_name":"Sajjad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671116817,"creation_date":1671116817,"answer_id":74813597,"question_id":74813199,"body_markdown":"To be able to loop over a 2D array, you will need a nested for loop. The first loop will iterate over the `rows` and the second on the `columns`.\r\nSo for example here is how you will rewrite your `display2D` method. \r\n\r\n    public static void display2D(char[][] array2D) {\r\n        for(int i = 0; i &lt; array2D.length; i++) {\r\n            for(int j = 0; j &lt; array2D[i].length; j++) {\r\n                display(array2D[i]);\r\n      }\r\n    }\r\n        System.out.println(&quot;--------------------------&quot;);\r\n    }\r\n\r\nAlso note that your `display` method is expecting a `char` array so you need to change the parameter from `int[]` to `char[]`","title":"Stuck when I call a method that is returned an array","body":"<p>To be able to loop over a 2D array, you will need a nested for loop. The first loop will iterate over the <code>rows</code> and the second on the <code>columns</code>.\nSo for example here is how you will rewrite your <code>display2D</code> method.</p>\n<pre><code>public static void display2D(char[][] array2D) {\n    for(int i = 0; i &lt; array2D.length; i++) {\n        for(int j = 0; j &lt; array2D[i].length; j++) {\n            display(array2D[i]);\n  }\n}\n    System.out.println(&quot;--------------------------&quot;);\n}\n</code></pre>\n<p>Also note that your <code>display</code> method is expecting a <code>char</code> array so you need to change the parameter from <code>int[]</code> to <code>char[]</code></p>\n"}],"owner":{"account_id":27254388,"reputation":11,"user_id":20778263,"display_name":"ibrahimerrr"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1671138027,"answer_count":1,"score":1,"last_activity_date":1671117705,"creation_date":1671115013,"question_id":74813199,"body_markdown":"I am very new to programming so if you don&#39;t judge me I&#39;d be happy. I am trying to my homework and I got stuck on one question.\r\n\r\n```\r\npublic static int[] decimalToBinary(int number) {\r\n   \tint[] binary = new int[9];\r\n   \tint remainder = 0;\r\n   \tint i = 0;\r\n   \twhile(i &lt; binary.length) {\r\n   \t\tremainder = number % 2;\r\n   \t\tbinary[binary.length - i - 1] = remainder;\r\n   \t\tnumber /= 2;\r\n   \t\ti++;\r\n   \t}\r\n   \treturn binary;\r\n}\r\n```\r\n\r\nI use this method as a helper method.\r\n\r\n```java\r\npublic static char[][] headsNtails(int number) {\r\n    int counter = 0;\r\n   \tint[] array = decimalToBinary(number);\r\n   \tint[][] decimalCoins = new int[3][3];\r\n   \tfor(int i = 0; i &lt; decimalCoins.length; i++) {\r\n   \t\tfor(int j = 0; j &lt; decimalCoins.length; j++) {\r\n   \t\t\tdecimalCoins[i][j] = array[counter];\r\n   \t\t\tcounter++;\r\n   \t\t}\r\n   \t}\r\n   \tchar[][] charCoins = new char[3][3];\r\n   \tfor(int i = 0; i &lt; charCoins.length; i++) {\r\n   \t\tfor(int j = 0; j &lt; charCoins.length; j++) {\r\n   \t\t\tif(decimalCoins[i][j] == 1)\r\n   \t\t\t\tcharCoins[i][j] = &#39;T&#39;;\r\n   \t\t\telse\r\n   \t\t\t\tcharCoins[i][j] = &#39;H&#39;;\r\n   \t\t}\r\n   \t}\r\n   \treturn charCoins;\r\n}\r\n```\r\nWhen I call `headsNtails` method, in `main`, to display the char array, nothing happens. I don&#39;t get an error but when I debug, I saw that the program gets stuck when I call `decimalToBinary` method.\r\n\r\n    public static void main(String[] args) {\r\n        char[][] charArray2D = headsNtails(7);\r\n        display2D(charArray2D);\r\n    }\r\n\r\nMy `main` method is something like that. `display2D` is a method to display all characters in 2D array.\r\n\r\n    public static void display(int[] array) {\r\n        for (int i : array) {\r\n            System.out.printf(&quot;%d\\t&quot;, i);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void display2D(char[][] array2D) {\r\n        for (char[] row : array2D) {\r\n            display(row);\r\n        }\r\n        System.out.println(&quot;--------------------------&quot;);\r\n    }\r\n\r\n    public static void display(double[] array) {\r\n        for (double i : array) {\r\n            System.out.printf(&quot;%.1f\\t&quot;, i);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void display(int[] array) {\r\n        for (int i : array) {\r\n            System.out.printf(&quot;%d\\t&quot;, i);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void display(char[] array) {\r\n        for (int i : array) {\r\n            System.out.printf(&quot;%c\\t&quot;, i);\r\n        }\r\n        System.out.println();\r\n    }","title":"Stuck when I call a method that is returned an array","body":"<p>I am very new to programming so if you don't judge me I'd be happy. I am trying to my homework and I got stuck on one question.</p>\n<pre><code>public static int[] decimalToBinary(int number) {\n    int[] binary = new int[9];\n    int remainder = 0;\n    int i = 0;\n    while(i &lt; binary.length) {\n        remainder = number % 2;\n        binary[binary.length - i - 1] = remainder;\n        number /= 2;\n        i++;\n    }\n    return binary;\n}\n</code></pre>\n<p>I use this method as a helper method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static char[][] headsNtails(int number) {\n    int counter = 0;\n    int[] array = decimalToBinary(number);\n    int[][] decimalCoins = new int[3][3];\n    for(int i = 0; i &lt; decimalCoins.length; i++) {\n        for(int j = 0; j &lt; decimalCoins.length; j++) {\n            decimalCoins[i][j] = array[counter];\n            counter++;\n        }\n    }\n    char[][] charCoins = new char[3][3];\n    for(int i = 0; i &lt; charCoins.length; i++) {\n        for(int j = 0; j &lt; charCoins.length; j++) {\n            if(decimalCoins[i][j] == 1)\n                charCoins[i][j] = 'T';\n            else\n                charCoins[i][j] = 'H';\n        }\n    }\n    return charCoins;\n}\n</code></pre>\n<p>When I call <code>headsNtails</code> method, in <code>main</code>, to display the char array, nothing happens. I don't get an error but when I debug, I saw that the program gets stuck when I call <code>decimalToBinary</code> method.</p>\n<pre><code>public static void main(String[] args) {\n    char[][] charArray2D = headsNtails(7);\n    display2D(charArray2D);\n}\n</code></pre>\n<p>My <code>main</code> method is something like that. <code>display2D</code> is a method to display all characters in 2D array.</p>\n<pre><code>public static void display(int[] array) {\n    for (int i : array) {\n        System.out.printf(&quot;%d\\t&quot;, i);\n    }\n    System.out.println();\n}\n\npublic static void display2D(char[][] array2D) {\n    for (char[] row : array2D) {\n        display(row);\n    }\n    System.out.println(&quot;--------------------------&quot;);\n}\n\npublic static void display(double[] array) {\n    for (double i : array) {\n        System.out.printf(&quot;%.1f\\t&quot;, i);\n    }\n    System.out.println();\n}\n\npublic static void display(int[] array) {\n    for (int i : array) {\n        System.out.printf(&quot;%d\\t&quot;, i);\n    }\n    System.out.println();\n}\n\npublic static void display(char[] array) {\n    for (int i : array) {\n        System.out.printf(&quot;%c\\t&quot;, i);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","powermockito","mockstatic"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670695067,"post_id":74741676,"comment_id":131934682,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16773629,"reputation":23,"user_id":12125514,"display_name":"codersaty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671117701,"creation_date":1670580946,"question_id":74741676,"body_markdown":"In order to mock static methods for unit testing in Java we can either use PowerMock or we Can use mockStatic of Mockito. I already know that need to mock static method means code smell and I should refactor the original code but that is not possible as of now.\r\n\r\n\r\n\r\nSample Class to be Tested \r\n\r\n    public class classToBeTested{\r\n    \r\n    //Some Code\r\n    \r\n    public static String methodToBeTested() {\r\n    // Some Code\r\n    }\r\n    \r\n    }\r\n\r\nTesting Using Mockito-Inline (Mockito MockStatic)\r\n\r\n    public class TestClassToBeTested{\r\n    private MockedStatic&lt;classToBeTested&gt; mockedClassToBeTested;\r\n    \r\n    @Test\r\n    public void testmethodToBeTested() {\r\n    \r\n    mockedClassToBeTested =\r\n    Mockito.mockStatic(classToBeTested.class);\r\n    mockedClassToBeTested.when(classToBeTested::methodToBeTested)\r\n    .thenReturn(&quot;Some Value&quot;);\r\n    \r\n    // extra code for testing\r\n    }\r\n    }\r\n\r\n\r\n\r\nTesting Using PowerMock\r\n\r\n    public class TestClassToBeTested{\r\n    \r\n    @Test\r\n    public void testmethodToBeTested() {\r\n    \r\n    PowerMockito.mockStatic(classToBeTested.class);\r\n    when(classToBeTested.methodToBeTested())\r\n    .thenReturn(&quot;Some Value&quot;);\r\n    \r\n    // extra code for testing\r\n    }\r\n    }\r\n\r\nSo which mocking technique is better mockito-inline one or power mockito. what is the difference between them? what do they do behind the scene to achieve this?","title":"mockStatic of Mockito vs mockStatic of PowerMock","body":"<p>In order to mock static methods for unit testing in Java we can either use PowerMock or we Can use mockStatic of Mockito. I already know that need to mock static method means code smell and I should refactor the original code but that is not possible as of now.</p>\n<p>Sample Class to be Tested</p>\n<pre><code>public class classToBeTested{\n\n//Some Code\n\npublic static String methodToBeTested() {\n// Some Code\n}\n\n}\n</code></pre>\n<p>Testing Using Mockito-Inline (Mockito MockStatic)</p>\n<pre><code>public class TestClassToBeTested{\nprivate MockedStatic&lt;classToBeTested&gt; mockedClassToBeTested;\n\n@Test\npublic void testmethodToBeTested() {\n\nmockedClassToBeTested =\nMockito.mockStatic(classToBeTested.class);\nmockedClassToBeTested.when(classToBeTested::methodToBeTested)\n.thenReturn(&quot;Some Value&quot;);\n\n// extra code for testing\n}\n}\n</code></pre>\n<p>Testing Using PowerMock</p>\n<pre><code>public class TestClassToBeTested{\n\n@Test\npublic void testmethodToBeTested() {\n\nPowerMockito.mockStatic(classToBeTested.class);\nwhen(classToBeTested.methodToBeTested())\n.thenReturn(&quot;Some Value&quot;);\n\n// extra code for testing\n}\n}\n</code></pre>\n<p>So which mocking technique is better mockito-inline one or power mockito. what is the difference between them? what do they do behind the scene to achieve this?</p>\n"},{"tags":["java","maven","unpack","maven-dependency-plugin"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671118033,"post_id":74813770,"comment_id":132033553,"body_markdown":"you have only two artifacts to unpack, why do not define artifact-specific  execution?","body":"you have only two artifacts to unpack, why do not define artifact-specific  execution?"},{"owner":{"account_id":6318047,"reputation":137,"user_id":4907260,"display_name":"Cl&#233;ment Honor&#233;"},"score":0,"creation_date":1671121173,"post_id":74813770,"comment_id":132034850,"body_markdown":"Unfortunately, in real life, the content of &lt;includeArtifactIds&gt;artifactA,artifactB&lt;/includeArtifactIds&gt; is defined dynamically :)","body":"Unfortunately, in real life, the content of &lt;includeArtifactIds&gt;artifactA,artifactB&lt;/includeArtifactIds&gt; is defined dynamically :)"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671122191,"post_id":74813770,"comment_id":132035259,"body_markdown":"taking into account your [previous Q](https://stackoverflow.com/questions/74728857/maven-unpack-a-war-keeping-its-name-and-extension) I would say you actually need `&lt;stripVersion&gt;true&lt;/stripVersion&gt;`","body":"taking into account your <a href=\"https://stackoverflow.com/questions/74728857/maven-unpack-a-war-keeping-its-name-and-extension\">previous Q</a> I would say you actually need <code>&lt;stripVersion&gt;true&lt;&#47;stripVersion&gt;</code>"},{"owner":{"account_id":6318047,"reputation":137,"user_id":4907260,"display_name":"Cl&#233;ment Honor&#233;"},"score":0,"creation_date":1671137544,"post_id":74813770,"comment_id":132040080,"body_markdown":"Yup this should be the easy way but I really want to try to keep the version number in the destination name :s","body":"Yup this should be the easy way but I really want to try to keep the version number in the destination name :s"}],"owner":{"account_id":6318047,"reputation":137,"user_id":4907260,"display_name":"Cl&#233;ment Honor&#233;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671117608,"creation_date":1671117608,"question_id":74813770,"body_markdown":"I&#39;m trying to unpack some dependencies with maven-dependency-plugin.\r\n\r\nI want each dependency in its own directory named with the artifact Id and the artifact version\r\n\r\nFor example :\r\n- target/unpacked/artifactA-1.0-SNAPSHOT-war/contentA\r\n- target/unpacked/artifactB-2.0-SNAPSHOT-ear/contentB\r\n\r\nMy execution is like that :\r\n```\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;unpack-applications&lt;/id&gt;\r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;includeArtifactIds&gt;artifactA,artifactB&lt;/includeArtifactIds&gt;\r\n                                    &lt;includeTypes&gt;war,ear&lt;/includeTypes&gt;\r\n                                    &lt;outputDirectory&gt;target/unpacked&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;useSubDirectoryPerArtifact&gt;true&lt;/useSubDirectoryPerArtifact&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;useBaseVersion&gt;true&lt;/useBaseVersion&gt;\r\n                              &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n\r\n```\r\n\r\nBut most of the time, i got :\r\n- target/unpacked/artifactA-1.0-timestampXXX-war/contentA\r\n- target/unpacked/artifactB-2.0-timestampXXX-ear/contentB\r\n\r\nIf I change the goal to copy-dependency, I obtain something like that :\r\n- target/unpacked/artifactA-1.0-timestampXXX-war/artifactA-1.0-SNAPSHOT.war\r\n- target/unpacked/artifactB-2.0-timestampXXX-ear/artifactB-2.0-SNAPSHOT.ear\r\n\r\nSo it appears that the useSubDirectoryPerArtifact is not affected by the useBaseVersion option, only the artifact itself is.\r\n\r\nIs there a way to workaround this without unpacking the artifact manually ?","title":"maven-dependency-plugin : &quot;useSubDirectoryPerArtifact&quot; parameter not affected by &quot;useBaseVersion&quot; parameter","body":"<p>I'm trying to unpack some dependencies with maven-dependency-plugin.</p>\n<p>I want each dependency in its own directory named with the artifact Id and the artifact version</p>\n<p>For example :</p>\n<ul>\n<li>target/unpacked/artifactA-1.0-SNAPSHOT-war/contentA</li>\n<li>target/unpacked/artifactB-2.0-SNAPSHOT-ear/contentB</li>\n</ul>\n<p>My execution is like that :</p>\n<pre><code>                            &lt;execution&gt;\n                                &lt;id&gt;unpack-applications&lt;/id&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;includeArtifactIds&gt;artifactA,artifactB&lt;/includeArtifactIds&gt;\n                                    &lt;includeTypes&gt;war,ear&lt;/includeTypes&gt;\n                                    &lt;outputDirectory&gt;target/unpacked&lt;/outputDirectory&gt;\n                                    &lt;useSubDirectoryPerArtifact&gt;true&lt;/useSubDirectoryPerArtifact&gt;\n                                    &lt;useBaseVersion&gt;true&lt;/useBaseVersion&gt;\n                              &lt;/configuration&gt;\n                            &lt;/execution&gt;\n\n</code></pre>\n<p>But most of the time, i got :</p>\n<ul>\n<li>target/unpacked/artifactA-1.0-timestampXXX-war/contentA</li>\n<li>target/unpacked/artifactB-2.0-timestampXXX-ear/contentB</li>\n</ul>\n<p>If I change the goal to copy-dependency, I obtain something like that :</p>\n<ul>\n<li>target/unpacked/artifactA-1.0-timestampXXX-war/artifactA-1.0-SNAPSHOT.war</li>\n<li>target/unpacked/artifactB-2.0-timestampXXX-ear/artifactB-2.0-SNAPSHOT.ear</li>\n</ul>\n<p>So it appears that the useSubDirectoryPerArtifact is not affected by the useBaseVersion option, only the artifact itself is.</p>\n<p>Is there a way to workaround this without unpacking the artifact manually ?</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671065057,"post_id":74803484,"comment_id":132019850,"body_markdown":"An application should only have a single main JFrame. For the child window you can use a JDialog and specify the frame as the parent of the dialog.","body":"An application should only have a single main JFrame. For the child window you can use a JDialog and specify the frame as the parent of the dialog."}],"answers":[{"tags":[],"owner":{"account_id":1291049,"reputation":240,"user_id":1243152,"accept_rate":100,"display_name":"MrDetail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671117388,"creation_date":1671051171,"answer_id":74804055,"question_id":74803484,"body_markdown":"It sounds like you want the [observer pattern][1], when an event occurs somewhere you want your first JFrame to react to it. \r\n\r\n**This solution requires Java 7 or later**\r\n\r\nIt would make sense to have a separate class maintain the state of your settings. This implementation is a [singleton][2] which will work well enough for your implementation, although as you learn there will be better options.\r\n\r\n```java\r\npublic class Settings {\r\n   public enum ScreenMode {\r\n      LIGHT,\r\n      DARK\r\n   }\r\n\r\n   private static Settings settings;\r\n   private ScreenMode screenMode = ScreenMode.LIGHT;\r\n   private final PropertyChangeSupport pcs;\r\n\r\n   /**\r\n    * Private constructor to force singleton pattern\r\n    */\r\n   private Settings() {\r\n      pcs = new PropertyChangeSupport(this);\r\n   }\r\n\r\n   /**\r\n    * Get the singleton instance of Settings.\r\n    * When you learn dependency injection, prefer that.\r\n    */\r\n   public static Settings getSettings() {\r\n      if (settings == null) {\r\n         settings = new Settings();\r\n      }\r\n      return settings;\r\n   }\r\n\r\n   public void addPropertyChangeListener(PropertyChangeListener pcl) {\r\n      pcs.addPropertyChangeListener(pcl);\r\n   }\r\n\r\n   public void setScreenMode(ScreenMode mode) {\r\n      pcs.firePropertyChange(&quot;screen_mode&quot;, this.screenMode, mode);\r\n      this.screenMode = mode;\r\n   }\r\n}\r\n```\r\n\r\nThis settings object will allow any `PropertyChangeListener` to subscribe to it and be notified whenever a property changes. JFrame 1 can become a `PropertyChangeListener` by implementing the interface and subscribing to the `Settings.addPropertyChangeListener()` method.\r\n\r\n```java\r\npublic class SpiceWars4 extends JFrame implements PropertyChangeListener {\r\n\r\n   public SpiceWars4() { \r\n      // Frame-Initialisierung\r\n      super();\r\n      Settings.getSettings().addPropertyChangeListener(this); // Subscribe\r\n      ...\r\n   }\r\n\r\n   ...\r\n\r\n   @Override\r\n   public void propertyChange(PropertyChangeEvent evt) {\r\n      if (evt.getPropertyName().equals(&quot;screen_mode&quot;)) {\r\n         Settings.ScreenMode mode = (Settings.ScreenMode) evt.getNewValue();\r\n         switch (mode) {\r\n            case LIGHT:\r\n               // Called when screen mode is changed from dark to light\r\n               break;\r\n            case DARK:\r\n               // Called when screen mode is changed from light to dark\r\n               break;\r\n         }\r\n      }\r\n   }\r\n\r\n   ...\r\n}\r\n```\r\n\r\nThen the code from JFrame 2 that actually sets the property when you click the button:\r\n\r\n```java\r\nSettings.getSettings().setScreenMode(Settings.ScreenMode.DARK);\r\n```\r\n\r\nSetting the screen mode fires a property change event that will execute the `propertyChange(PropertyEvent)` method of all subscribers (JFrame 1). The event can then be handled or ignored as needed.\r\n\r\n  [1]: https://www.baeldung.com/java-observer-pattern\r\n  [2]: https://en.wikipedia.org/wiki/Singleton_pattern","title":"How do I pass information between two JFrames?","body":"<p>It sounds like you want the <a href=\"https://www.baeldung.com/java-observer-pattern\" rel=\"nofollow noreferrer\">observer pattern</a>, when an event occurs somewhere you want your first JFrame to react to it.</p>\n<p><strong>This solution requires Java 7 or later</strong></p>\n<p>It would make sense to have a separate class maintain the state of your settings. This implementation is a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton</a> which will work well enough for your implementation, although as you learn there will be better options.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Settings {\n   public enum ScreenMode {\n      LIGHT,\n      DARK\n   }\n\n   private static Settings settings;\n   private ScreenMode screenMode = ScreenMode.LIGHT;\n   private final PropertyChangeSupport pcs;\n\n   /**\n    * Private constructor to force singleton pattern\n    */\n   private Settings() {\n      pcs = new PropertyChangeSupport(this);\n   }\n\n   /**\n    * Get the singleton instance of Settings.\n    * When you learn dependency injection, prefer that.\n    */\n   public static Settings getSettings() {\n      if (settings == null) {\n         settings = new Settings();\n      }\n      return settings;\n   }\n\n   public void addPropertyChangeListener(PropertyChangeListener pcl) {\n      pcs.addPropertyChangeListener(pcl);\n   }\n\n   public void setScreenMode(ScreenMode mode) {\n      pcs.firePropertyChange(&quot;screen_mode&quot;, this.screenMode, mode);\n      this.screenMode = mode;\n   }\n}\n</code></pre>\n<p>This settings object will allow any <code>PropertyChangeListener</code> to subscribe to it and be notified whenever a property changes. JFrame 1 can become a <code>PropertyChangeListener</code> by implementing the interface and subscribing to the <code>Settings.addPropertyChangeListener()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpiceWars4 extends JFrame implements PropertyChangeListener {\n\n   public SpiceWars4() { \n      // Frame-Initialisierung\n      super();\n      Settings.getSettings().addPropertyChangeListener(this); // Subscribe\n      ...\n   }\n\n   ...\n\n   @Override\n   public void propertyChange(PropertyChangeEvent evt) {\n      if (evt.getPropertyName().equals(&quot;screen_mode&quot;)) {\n         Settings.ScreenMode mode = (Settings.ScreenMode) evt.getNewValue();\n         switch (mode) {\n            case LIGHT:\n               // Called when screen mode is changed from dark to light\n               break;\n            case DARK:\n               // Called when screen mode is changed from light to dark\n               break;\n         }\n      }\n   }\n\n   ...\n}\n</code></pre>\n<p>Then the code from JFrame 2 that actually sets the property when you click the button:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Settings.getSettings().setScreenMode(Settings.ScreenMode.DARK);\n</code></pre>\n<p>Setting the screen mode fires a property change event that will execute the <code>propertyChange(PropertyEvent)</code> method of all subscribers (JFrame 1). The event can then be handled or ignored as needed.</p>\n"}],"owner":{"account_id":27254783,"reputation":1,"user_id":20778572,"display_name":"JonasOFF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671117388,"creation_date":1671047242,"question_id":74803484,"body_markdown":"I got a JFrame game as a school project, with a button, that leads to a second JFrame, which is the settings Frame. I now want my settings to apply to my main JFrame. How do I do this?\r\n\r\n\r\n\r\nMain JFrame:\r\n\r\n```\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\nimport java.math.*;\r\nimport java.util.Random;\r\nimport java.awt.geom.*;                                                   \r\nimport javax.swing.border.*;\r\nimport javax.swing.tree.*;\r\nimport java.io.*;\r\nimport javax.sound.sampled.*;\r\nimport javax.sound.*;\r\n\r\npublic class SpiceWars4 extends JFrame {\r\n  // Anfang Attribute\r\n  private JList jList1 = new JList();\r\n  private DefaultListModel jList1Model = new DefaultListModel();                   \r\n  private JScrollPane jList1ScrollPane = new JScrollPane(jList1);\r\n  private JList jList2 = new JList();\r\n  private DefaultListModel jList2Model = new DefaultListModel();\r\n  private JScrollPane jList2ScrollPane = new JScrollPane(jList2);\r\n  private JList jList3 = new JList();\r\n  private DefaultListModel jList3Model = new DefaultListModel();\r\n  private JScrollPane jList3ScrollPane = new JScrollPane(jList3);\r\n  private JLabel lSchwarzmarkt = new JLabel();\r\n  private JLabel lLaderaum = new JLabel();\r\n  private JButton bKaufen = new JButton();\r\n  private JButton bVerkaufen = new JButton();\r\n  private JNumberField jNumberField1 = new JNumberField();\r\n  private JButton bWeiterreisen = new JButton();\r\n  public int radius;\r\n\r\n  private JButton jButton1 = new JButton();\r\n  private JButton jtest = new JButton();\r\n  // Ende Attribute\r\n  \r\n  int [] KostenMin = new int [5]; \r\n  int [] KostenMax = new int [5]; \r\n  //**Grunddinger Anfang \r\n  \r\n  int Geld, Laderaum; \r\n  String [] Gew&#252;rze = new String [5]; \r\n  int [] aktKosten = new int [5]; \r\n  int [] EigeneLadung = new int [5]; \r\n  \r\n  Random rand = new Random(); \r\n  //**Grunddinger Ende                                                                  \r\n  public SpiceWars4() { \r\n    // Frame-Initialisierung\r\n    super();\r\n    //String filepath = &quot;song.wav&quot;; //w&#228;hlt song aus\r\n    setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n    int frameWidth = 865; \r\n    int frameHeight = 698;\r\n    setSize(frameWidth, frameHeight);\r\n    Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\r\n    int x = (d.width - getSize().width) / 2;\r\n    int y = (d.height - getSize().height) / 2;\r\n    setLocation(x, y);\r\n    setTitle(&quot;SpiceWars&quot;);\r\n    setResizable(false);\r\n    Container cp = getContentPane();\r\n    cp.setLayout(null);\r\n    \r\n    cp.setBackground(new Color(0x666666));\r\n    // Anfang Komponenten\r\n    \r\n    jList1.setModel(jList1Model);\r\n    jList1ScrollPane.setBounds(24, 48, 302, 228);\r\n    jList1.addMouseListener(new MouseAdapter() { \r\n      public void mouseClicked(MouseEvent evt) { \r\n        jList1_MouseClicked(evt);\r\n      }\r\n    });\r\n    jList1.setBackground(new Color(0x646464));\r\n    cp.add(jList1ScrollPane);\r\n    jList2.setModel(jList2Model);\r\n    jList2ScrollPane.setBounds(504, 48, 278, 260);\r\n    jList2.addMouseListener(new MouseAdapter() { \r\n      public void mouseClicked(MouseEvent evt) { \r\n        jList2_MouseClicked(evt);\r\n      }\r\n    });\r\n    jList2.setBackground(new Color(0x646464));\r\n    cp.add(jList2ScrollPane);\r\n    jList3.setModel(jList3Model);\r\n    jList3ScrollPane.setBounds(24, 296, 142, 220);\r\n    jList3.setBackground(new Color(0x646464));\r\n    cp.add(jList3ScrollPane);\r\n    lSchwarzmarkt.setBounds(104, 8, 91, 28);\r\n    lSchwarzmarkt.setText(&quot;Markt &quot;);\r\n    lSchwarzmarkt.setForeground(Color.WHITE);\r\n    cp.add(lSchwarzmarkt);\r\n    lLaderaum.setBounds(614, 8, 62, 28);\r\n    lLaderaum.setText(&quot;Laderaum &quot;);\r\n    lLaderaum.setForeground(Color.WHITE);\r\n    cp.add(lLaderaum);\r\n    bKaufen.setBounds(368, 88, 83, 33);\r\n    bKaufen.setText(&quot;&gt;&gt;Kaufen &quot;);\r\n    bKaufen.setMargin(new Insets(2, 2, 2, 2));\r\n    bKaufen.addActionListener(new ActionListener() { \r\n      public void actionPerformed(ActionEvent evt) { \r\n        bKaufen_ActionPerformed(evt);\r\n      }\r\n    });\r\n    bKaufen.addKeyListener(new KeyAdapter() { \r\n      public void keyPressed(KeyEvent evt) { \r\n        bKaufen_KeyPressed(evt);\r\n      }\r\n    });\r\n    bKaufen.setBackground(new Color(0x4F9B9B));\r\n    cp.add(bKaufen);\r\n    bVerkaufen.setBounds(368, 136, 83, 33);\r\n    bVerkaufen.setText(&quot;&lt;&lt;Verkaufen &quot;);\r\n    bVerkaufen.setMargin(new Insets(2, 2, 2, 2));\r\n    bVerkaufen.addActionListener(new ActionListener() { \r\n      public void actionPerformed(ActionEvent evt) { \r\n        bVerkaufen_ActionPerformed(evt);\r\n      }\r\n    });\r\n    bVerkaufen.setBackground(new Color(0x4F9B9B));\r\n    cp.add(bVerkaufen);\r\n    jNumberField1.setBounds(368, 48, 83, 28);\r\n    jNumberField1.setText(&quot;&quot;);\r\n    jNumberField1.setBackground(Color.GRAY);\r\n    cp.add(jNumberField1);\r\n    bWeiterreisen.setBounds(126, 570, 83, 33);\r\n    bWeiterreisen.setText(&quot;Weiterreisen&quot;);\r\n    bWeiterreisen.setMargin(new Insets(2, 2, 2, 2));\r\n    bWeiterreisen.addActionListener(new ActionListener() { \r\n      public void actionPerformed(ActionEvent evt) { \r\n        bWeiterreisen(evt);\r\n      }\r\n    });\r\n    \r\n    bWeiterreisen.setBackground(new Color(0x008080));\r\n    cp.add(bWeiterreisen);\r\n    bWeiterreisen.setBounds(96, 568, 136, 33);\r\n    bWeiterreisen.setBounds(32, 536, 136, 33);\r\n    jButton1.setBounds(712, 600, 112, 24);\r\n    jButton1.setText(&quot;Einstellungen&quot;);\r\n    jButton1.setMargin(new Insets(2, 2, 2, 2));\r\n\r\n  \r\n    jButton1.addActionListener(new ActionListener() { \r\n      public void actionPerformed(ActionEvent evt) { \r\n        jButton1_ActionPerformed(evt);\r\n      }\r\n    });\r\n    cp.add(jButton1);\r\n    jtest.setBounds(736, 536, 80, 24);\r\n    jtest.setText(&quot;Button&quot;);\r\n    jtest.setMargin(new Insets(2, 2, 2, 2));\r\n    jtest.addActionListener(new ActionListener() { \r\n      public void actionPerformed(ActionEvent evt) { \r\n        jtest_ActionPerformed(evt);\r\n      }\r\n    });\r\n    cp.add(jtest);\r\n    // Ende Komponenten\r\n    \r\n    //**Eigene Variabelen Anfang \r\n    Geld = 10000; \r\n    Laderaum = 1000 ;\r\n    \r\n    Gew&#252;rze[0] = &quot;Pfeffer&quot;;\r\n    Gew&#252;rze[1] = &quot;Muskat&quot;;\r\n    Gew&#252;rze[2] = &quot;Curry&quot;;\r\n    Gew&#252;rze[3] = &quot;Vanille&quot;;\r\n    Gew&#252;rze[4] = &quot;Zimt&quot;;\r\n    \r\n    aktKosten[0] = 1500;\r\n    aktKosten[1] = 5000;\r\n    aktKosten[2] = 900;\r\n    aktKosten[3] = 1400;\r\n    aktKosten[4] = 650;\r\n    \r\n    EigeneLadung[0] = 0;\r\n    EigeneLadung[1] = 0;\r\n    EigeneLadung[2] = 0;\r\n    EigeneLadung[3] = 0;\r\n    EigeneLadung[4] = 0;\r\n    //**Eigene Variablen Ende \r\n    \r\n    //**Preisrandomisen Weiterreisen Anfang \r\n    KostenMin[0] = 1300;\r\n    KostenMin[1] = 4250;\r\n    KostenMin[2] = 725;\r\n    KostenMin[3] = 1125;\r\n    KostenMin[4] = 400;\r\n    \r\n    KostenMax[0] = 1700; \r\n    KostenMax[1] = 6250; \r\n    KostenMax[2] = 1150; \r\n    KostenMax[3] = 1625; \r\n    KostenMax[4] = 800; \r\n    //**Preisrandomisen Weiterreisen Ende\r\n    \r\n    Datenanzeigen();\r\n    setVisible(true);\r\n  } // end of public SpiceWars4\r\n  \r\n  // Anfang Methoden\r\n  \r\n  public static void main(String[] args) {\r\n    new SpiceWars4();                                                                          \r\n  } // end of main\r\n  \r\n  //**Kaufenbutton Anfang \r\n  public void bKaufen_ActionPerformed(ActionEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    int Anzahl = Integer.parseInt(jNumberField1.getText());\r\n    int Nummer = jList1.getSelectedIndex();\r\n    if (Anzahl*aktKosten[Nummer] &lt;= Geld) {\r\n      Geld = Geld - Anzahl * aktKosten[Nummer]; \r\n      EigeneLadung[Nummer] = EigeneLadung[Nummer] + Anzahl;\r\n    } // end of if\r\n    Datenanzeigen();\r\n  } // end of bKaufen_ActionPerformed\r\n  //**Kaufenbutton Ende\r\n  \r\n  //**Vekaufsbutton Anfang \r\n  public void bVerkaufen_ActionPerformed(ActionEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    int Anzahl = Integer.parseInt(jNumberField1.getText());\r\n    int Nummer = jList2.getSelectedIndex();\r\n    if (Anzahl &lt;= EigeneLadung [Nummer]) {\r\n      Geld = Geld + Anzahl * aktKosten[Nummer]; \r\n      EigeneLadung[Nummer] = EigeneLadung[Nummer]-Anzahl; \r\n    } // end of if\r\n    Datenanzeigen();\r\n  } // end of bVerkaufen_ActionPerformed\r\n  //**Vekaufsbutton Ende\r\n  \r\n  public void Datenanzeigen(){\r\n    jList1Model.removeAllElements();\r\n    jList2Model.removeAllElements();\r\n    jList3Model.removeAllElements();\r\n    for (int i = 0; i &lt; 5; i++) {\r\n      jList1Model.addElement(Gew&#252;rze[i] + &quot; kostet: &quot; + aktKosten[i] + &quot; M&#252;nzen &quot;);\r\n    }\r\n    for (int i = 0; i &lt; 5; i++) {\r\n      jList2Model.addElement(Gew&#252;rze[i] + &quot; geladen: &quot; + EigeneLadung[i] + &quot; St&#252;ck &quot;);\r\n    }\r\n    jList2Model.addElement(&quot;----------&quot;) ;\r\n    jList2Model.addElement(&quot;Geld: &quot; + Geld);\r\n    \r\n    jList3Model.addElement(&quot;Mendig&quot;);\r\n    jList3Model.addElement(&quot;Mayen&quot;);\r\n    jList3Model.addElement(&quot;Kruft&quot;);\r\n    jList3Model.addElement(&quot;Th&#252;r&quot;);\r\n    jList3Model.addElement(&quot;Bell&quot;);\r\n    \r\n    \r\n    }\r\n  public void jList1_MouseClicked(MouseEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    int Index = jList1.getSelectedIndex();\r\n    jNumberField1.setText(Integer.toString((Geld / aktKosten[Index])));\r\n  } // end of jList1_MouseClicked\r\n\r\n  public void jList2_MouseClicked(MouseEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    int Index = jList1.getSelectedIndex();\r\n    jNumberField1.setText(Integer.toString(EigeneLadung[Index]));\r\n  } // end of jList2_MouseClicked\r\n  \r\n  //**weiterreisen von Welt zu Welt Anfang \r\n  public void bWeiterreisen(ActionEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    for (int i = 0; i &lt; 5; i++) {\r\n      aktKosten[i] = KostenMin[i] + rand.nextInt(KostenMax[i] - KostenMin[i]);\r\n    }\r\n    Datenanzeigen();\r\n  } // end of bWeiterreisen_ActionPerformed\r\n  //**Weiterreisen von Welt zu Welt Ende\r\n\r\n  public void bKaufen_KeyPressed(KeyEvent evt) {\r\n    // TODO hier Quelltext einf&#252;gen\r\n    \r\n  } // end of bKaufen_KeyPressed\r\n\r\n  public void jButton1_ActionPerformed(ActionEvent evt) {\r\n    JFrame2 jf2 = new JFrame2();  //initalisierung neues jframe\r\n    jf2.setVisible(true);\r\n    dispose();  //Schlie&#223;t das game\r\n \r\n  } // end of jButton1_ActionPerformed\r\n\r\n  public void jtest_ActionPerformed(ActionEvent evt) {\r\n   \r\n  } // end of jtest_ActionPerformed\r\n\r\n  // Ende Methoden\r\n} // end of class Spielprogrammieren\r\n  \r\n\r\n\r\n\r\n```\r\n\r\n\r\nSettings JFrame:\r\n\r\n```\r\n\r\n \r\n\r\nimport&#160;java.awt.*;\r\nimport&#160;java.awt.event.*;\r\nimport&#160;javax.swing.*;\r\nimport&#160;javax.swing.event.*;\r\nimport&#160;java.math.*;\r\nimport&#160;java.util.Random;\r\nimport&#160;java.awt.geom.*;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\nimport&#160;javax.swing.border.*;\r\nimport&#160;javax.swing.tree.*;\r\nimport&#160;java.io.*;\r\nimport&#160;javax.sound.sampled.*;\r\nimport&#160;javax.sound.*;\r\n\r\n\r\npublic&#160;class&#160;JFrame2&#160;extends&#160;JFrame&#160;{\r\n&#160;&#160;//&#160;Anfang&#160;Attribute\r\n&#160;&#160;private&#160;JButton&#160;jButton1&#160;=&#160;new&#160;JButton();\r\n&#160;&#160;private&#160;JScrollPane&#160;jScrollPane1&#160;=&#160;new&#160;JScrollPane();\r\n\r\n&#160;&#160;private&#160;JButton&#160;jmute&#160;=&#160;new&#160;JButton();\r\n&#160;&#160;private&#160;JLabel&#160;jLabel1&#160;=&#160;new&#160;JLabel();\r\n&#160;&#160;private&#160;JButton&#160;bDarkMode1&#160;=&#160;new&#160;JButton();\r\n&#160;&#160;private&#160;JButton&#160;bLightMode1&#160;=&#160;new&#160;JButton();\r\n&#160;&#160;private&#160;JPanel&#160;jDifficulty&#160;=&#160;new&#160;JPanel();\r\n&#160;&#160;private&#160;JScrollPane&#160;jScrollPane2&#160;=&#160;new&#160;JScrollPane();\r\n&#160;&#160;&#160;&#160;private&#160;ButtonGroup&#160;jDifficultyBG&#160;=&#160;new&#160;ButtonGroup();\r\n&#160;&#160;&#160;&#160;private&#160;TitledBorder&#160;jDifficultyTB&#160;=&#160;new&#160;TitledBorder(&quot;Schwierigkeit&quot;);\r\n&#160;&#160;&#160;&#160;private&#160;JRadioButton&#160;jDifficultyRB0&#160;=&#160;new&#160;JRadioButton(&quot;Schwer&quot;);\r\n&#160;&#160;&#160;&#160;private&#160;JRadioButton&#160;jDifficultyRB1&#160;=&#160;new&#160;JRadioButton(&quot;Mittel&quot;);\r\n&#160;&#160;&#160;&#160;private&#160;JRadioButton&#160;jDifficultyRB2&#160;=&#160;new&#160;JRadioButton(&quot;Leicht&quot;);\r\n&#160;&#160;//&#160;Ende&#160;Attribute\r\n&#160;&#160;\r\n&#160;&#160;public&#160;JFrame2()&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;//&#160;Frame-Initialisierung\r\n&#160;&#160;&#160;&#160;super();\r\n&#160;&#160;&#160;&#160;setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n&#160;&#160;&#160;&#160;int&#160;frameWidth&#160;=&#160;373;&#160;\r\n&#160;&#160;&#160;&#160;int&#160;frameHeight&#160;=&#160;517;\r\n&#160;&#160;&#160;&#160;setSize(frameWidth,&#160;frameHeight);\r\n&#160;&#160;&#160;&#160;Dimension&#160;d&#160;=&#160;Toolkit.getDefaultToolkit().getScreenSize();\r\n&#160;&#160;&#160;&#160;int&#160;x&#160;=&#160;(d.width&#160;-&#160;getSize().width)&#160;/&#160;2;\r\n&#160;&#160;&#160;&#160;int&#160;y&#160;=&#160;(d.height&#160;-&#160;getSize().height)&#160;/&#160;2;\r\n&#160;&#160;&#160;&#160;setLocation(x,&#160;y);\r\n&#160;&#160;&#160;&#160;setTitle(&quot;Einstellungen&quot;);\r\n&#160;&#160;&#160;&#160;setResizable(false);\r\n&#160;&#160;&#160;&#160;Container&#160;cp&#160;=&#160;getContentPane();\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;cp.setLayout(null);\r\n&#160;&#160;&#160;&#160;cp.setBackground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;//&#160;Anfang&#160;Komponenten\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;jButton1.setBounds(104,&#160;440,&#160;160,&#160;24);\r\n&#160;&#160;&#160;&#160;jButton1.setText(&quot;Zur&#252;ck&quot;);\r\n&#160;&#160;&#160;&#160;jButton1.setMargin(new&#160;Insets(2,&#160;2,&#160;2,&#160;2));\r\n&#160;&#160;&#160;&#160;jButton1.addActionListener(new&#160;ActionListener()&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;public&#160;void&#160;actionPerformed(ActionEvent&#160;evt)&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;jButton1_ActionPerformed(evt);\r\n&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;});\r\n&#160;&#160;&#160;&#160;jButton1.setBackground(new&#160;Color(0x49969E));\r\n&#160;&#160;&#160;&#160;cp.add(jButton1);\r\n&#160;&#160;&#160;&#160;jScrollPane1.setBounds(696,&#160;-16,&#160;1,&#160;17);\r\n&#160;&#160;&#160;&#160;cp.add(jScrollPane1);\r\n&#160;&#160;\r\n&#160;&#160;&#160;&#160;jmute.setBounds(120,&#160;160,&#160;128,&#160;24);\r\n&#160;&#160;&#160;&#160;jmute.setText(&quot;Musik&#160;aus&quot;);\r\n&#160;&#160;&#160;&#160;jmute.setMargin(new&#160;Insets(2,&#160;2,&#160;2,&#160;2));\r\n&#160;&#160;&#160;&#160;jmute.addActionListener(new&#160;ActionListener()&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;public&#160;void&#160;actionPerformed(ActionEvent&#160;evt)&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;jmute_ActionPerformed(evt);\r\n&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;});\r\n&#160;&#160;&#160;&#160;jmute.setBackground(new&#160;Color(0x49969E));\r\n&#160;&#160;&#160;&#160;jmute.setRolloverEnabled(false);\r\n&#160;&#160;&#160;&#160;cp.add(jmute);\r\n&#160;&#160;&#160;&#160;jLabel1.setBounds(112,&#160;24,&#160;328,&#160;47);\r\n&#160;&#160;&#160;&#160;jLabel1.setText(&quot;Einstellungen&quot;);\r\n&#160;&#160;&#160;&#160;jLabel1.setFont(new&#160;Font(&quot;Dialog&quot;,&#160;Font.BOLD,&#160;24));\r\n&#160;&#160;&#160;&#160;cp.add(jLabel1);\r\n\r\n\r\n&#160;&#160;&#160;&#160;bDarkMode1.setBounds(144,&#160;216,&#160;80,&#160;24);\r\n&#160;&#160;&#160;&#160;bDarkMode1.setText(&quot;Dark&#160;Mode&quot;);\r\n&#160;&#160;&#160;&#160;bDarkMode1.setMargin(new&#160;Insets(2,&#160;2,&#160;2,&#160;2));\r\n&#160;&#160;&#160;&#160;bDarkMode1.addActionListener(new&#160;ActionListener()&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;public&#160;void&#160;actionPerformed(ActionEvent&#160;evt)&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bDarkMode1_ActionPerformed(evt);\r\n&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;});\r\n&#160;&#160;&#160;&#160;bDarkMode1.setBackground(Color.BLACK);\r\n&#160;&#160;&#160;&#160;bDarkMode1.setForeground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;cp.add(bDarkMode1);\r\n&#160;&#160;&#160;&#160;bLightMode1.setBounds(144,&#160;272,&#160;80,&#160;24);\r\n&#160;&#160;&#160;&#160;bLightMode1.setText(&quot;Light&#160;Mode&quot;);\r\n&#160;&#160;&#160;&#160;bLightMode1.setMargin(new&#160;Insets(2,&#160;2,&#160;2,&#160;2));\r\n&#160;&#160;&#160;&#160;bLightMode1.addActionListener(new&#160;ActionListener()&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;public&#160;void&#160;actionPerformed(ActionEvent&#160;evt)&#160;{&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bLightMode1_ActionPerformed(evt);\r\n&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;});\r\n&#160;&#160;&#160;&#160;bLightMode1.setBackground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;bLightMode1.setForeground(new&#160;Color(0x060606));\r\n&#160;&#160;&#160;&#160;cp.add(bLightMode1);\r\n&#160;&#160;&#160;&#160;jDifficulty.setLayout(null);\r\n&#160;&#160;&#160;&#160;jDifficulty.setBounds(128,&#160;336,&#160;120,&#160;80);\r\n&#160;&#160;&#160;&#160;jDifficulty.setBackground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;jDifficulty.setForeground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;jDifficultyRB0.setBounds(7,&#160;18,&#160;106,&#160;20);\r\n&#160;&#160;&#160;&#160;jDifficultyRB0.setSelected(true);\r\n&#160;&#160;&#160;&#160;jDifficultyBG.add(jDifficultyRB0);\r\n&#160;&#160;&#160;&#160;jDifficulty.add(jDifficultyRB0);\r\n&#160;&#160;&#160;&#160;jDifficultyRB1.setBounds(7,&#160;37,&#160;106,&#160;19);\r\n&#160;&#160;&#160;&#160;jDifficultyBG.add(jDifficultyRB1);\r\n&#160;&#160;&#160;&#160;jDifficulty.add(jDifficultyRB1);\r\n&#160;&#160;&#160;&#160;jDifficultyRB2.setBounds(7,&#160;56,&#160;106,&#160;19);\r\n&#160;&#160;&#160;&#160;jDifficultyBG.add(jDifficultyRB2);\r\n&#160;&#160;&#160;&#160;jDifficulty.add(jDifficultyRB2);\r\n&#160;&#160;&#160;&#160;jDifficulty.setBorder(jDifficultyTB);\r\n&#160;&#160;&#160;&#160;cp.add(jDifficulty);\r\n&#160;&#160;&#160;&#160;jScrollPane2.setBounds(352,&#160;-16,&#160;1,&#160;17);\r\n&#160;&#160;&#160;&#160;cp.add(jScrollPane2);\r\n&#160;&#160;&#160;&#160;//&#160;Ende&#160;Komponenten\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;setVisible(true);\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;public&#160;JFrame2\r\n&#160;&#160;\r\n\r\n&#160;&#160;//&#160;Anfang&#160;Methoden\r\n&#160;&#160;\r\n&#160;&#160;public&#160;static&#160;void&#160;main(String[]&#160;args)&#160;{\r\n&#160;&#160;&#160;&#160;new&#160;JFrame2();\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;main\r\n&#160;&#160;\r\n&#160;&#160;public&#160;void&#160;jButton1_ActionPerformed(ActionEvent&#160;evt)&#160;{\r\n&#160;&#160;&#160;&#160;SpiceWars4&#160;jf1&#160;=&#160;new&#160;SpiceWars4();&#160;&#160;//initalisierung&#160;neues&#160;jframe\r\n&#160;&#160;&#160;&#160;jf1.setVisible(true);\r\n&#160;&#160;&#160;&#160;dispose();&#160;&#160;//Schlie&#223;t&#160;die&#160;Einstellungen\r\n&#160;&#160;&#160;\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;jButton1_ActionPerformed\r\n&#160;&#160;\r\n&#160;&#160;public&#160;void&#160;jmute_ActionPerformed(ActionEvent&#160;evt)&#160;{&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;jmute_ActionPerformed\r\n&#160;&#160;\r\n&#160;&#160;public&#160;void&#160;bDarkMode1_ActionPerformed(ActionEvent&#160;evt)&#160;{\r\n&#160;&#160;&#160;&#160;Container&#160;cp&#160;=&#160;getContentPane();\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;if&#160;(evt.getSource()==bDarkMode1)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;jButton1.setBackground(new&#160;Color(0x49969E));\r\n&#160;&#160;&#160;&#160;&#160;&#160;jButton1.setForeground(new&#160;Color(0x333333));\r\n&#160;&#160;&#160;&#160;&#160;&#160;cp.setBackground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;&#160;&#160;jmute.setBackground(new&#160;Color(0x49969E));\r\n&#160;&#160;&#160;&#160;&#160;&#160;jDifficulty.setBackground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;&#160;&#160;jDifficulty.setForeground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;if\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;bDarkMode1_ActionPerformed\r\n\r\n&#160;&#160;public&#160;void&#160;bLightMode1_ActionPerformed(ActionEvent&#160;evt)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Container&#160;cp&#160;=&#160;getContentPane();\r\n&#160;&#160;&#160;&#160;if&#160;(evt.getSource()==bLightMode1)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;jButton1.setBackground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;&#160;&#160;jButton1.setForeground(new&#160;Color(0x666666));\r\n&#160;&#160;&#160;&#160;&#160;&#160;jDifficulty.setBackground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;&#160;&#160;jmute.setBackground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;&#160;&#160;cp.setBackground(Color.WHITE);\r\n&#160;&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;}&#160;//&#160;end&#160;of&#160;if\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;\r\n&#160;&#160;}&#160;//&#160;end&#160;of&#160;bLightMode1_ActionPerformed\r\n\r\n&#160;&#160;public&#160;String&#160;jDifficultyBG_getSelectedButtonGroupLabel()&#160;{\r\n&#160;&#160;&#160;&#160;for&#160;(java.util.Enumeration&lt;AbstractButton&gt;&#160;e&#160;=&#160;jDifficultyBG.getElements();&#160;e.hasMoreElements();)&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;AbstractButton&#160;b&#160;=&#160;e.nextElement();\r\n&#160;&#160;&#160;&#160;&#160;&#160;if&#160;(b.isSelected())&#160;return&#160;b.getText();\r\n&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;return&#160;&quot;&quot;;\r\n&#160;&#160;}\r\n\r\n&#160;&#160;//&#160;Ende&#160;Methoden\r\n}&#160;//&#160;end&#160;of&#160;class&#160;JFrame2\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nFor Example, when the user clicks the LightMode button, it should apply to the main Jframe too, same with the DarkMode button.\r\n\r\n\r\n\r\n\r\n\r\n\r\nWould be thankful for help, since I&#39;m still a beginner.\r\n\r\n\r\n","title":"How do I pass information between two JFrames?","body":"<p>I got a JFrame game as a school project, with a button, that leads to a second JFrame, which is the settings Frame. I now want my settings to apply to my main JFrame. How do I do this?</p>\n<p>Main JFrame:</p>\n<pre><code>\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport java.math.*;\nimport java.util.Random;\nimport java.awt.geom.*;                                                   \nimport javax.swing.border.*;\nimport javax.swing.tree.*;\nimport java.io.*;\nimport javax.sound.sampled.*;\nimport javax.sound.*;\n\npublic class SpiceWars4 extends JFrame {\n  // Anfang Attribute\n  private JList jList1 = new JList();\n  private DefaultListModel jList1Model = new DefaultListModel();                   \n  private JScrollPane jList1ScrollPane = new JScrollPane(jList1);\n  private JList jList2 = new JList();\n  private DefaultListModel jList2Model = new DefaultListModel();\n  private JScrollPane jList2ScrollPane = new JScrollPane(jList2);\n  private JList jList3 = new JList();\n  private DefaultListModel jList3Model = new DefaultListModel();\n  private JScrollPane jList3ScrollPane = new JScrollPane(jList3);\n  private JLabel lSchwarzmarkt = new JLabel();\n  private JLabel lLaderaum = new JLabel();\n  private JButton bKaufen = new JButton();\n  private JButton bVerkaufen = new JButton();\n  private JNumberField jNumberField1 = new JNumberField();\n  private JButton bWeiterreisen = new JButton();\n  public int radius;\n\n  private JButton jButton1 = new JButton();\n  private JButton jtest = new JButton();\n  // Ende Attribute\n  \n  int [] KostenMin = new int [5]; \n  int [] KostenMax = new int [5]; \n  //**Grunddinger Anfang \n  \n  int Geld, Laderaum; \n  String [] Gewrze = new String [5]; \n  int [] aktKosten = new int [5]; \n  int [] EigeneLadung = new int [5]; \n  \n  Random rand = new Random(); \n  //**Grunddinger Ende                                                                  \n  public SpiceWars4() { \n    // Frame-Initialisierung\n    super();\n    //String filepath = &quot;song.wav&quot;; //whlt song aus\n    setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    int frameWidth = 865; \n    int frameHeight = 698;\n    setSize(frameWidth, frameHeight);\n    Dimension d = Toolkit.getDefaultToolkit().getScreenSize();\n    int x = (d.width - getSize().width) / 2;\n    int y = (d.height - getSize().height) / 2;\n    setLocation(x, y);\n    setTitle(&quot;SpiceWars&quot;);\n    setResizable(false);\n    Container cp = getContentPane();\n    cp.setLayout(null);\n    \n    cp.setBackground(new Color(0x666666));\n    // Anfang Komponenten\n    \n    jList1.setModel(jList1Model);\n    jList1ScrollPane.setBounds(24, 48, 302, 228);\n    jList1.addMouseListener(new MouseAdapter() { \n      public void mouseClicked(MouseEvent evt) { \n        jList1_MouseClicked(evt);\n      }\n    });\n    jList1.setBackground(new Color(0x646464));\n    cp.add(jList1ScrollPane);\n    jList2.setModel(jList2Model);\n    jList2ScrollPane.setBounds(504, 48, 278, 260);\n    jList2.addMouseListener(new MouseAdapter() { \n      public void mouseClicked(MouseEvent evt) { \n        jList2_MouseClicked(evt);\n      }\n    });\n    jList2.setBackground(new Color(0x646464));\n    cp.add(jList2ScrollPane);\n    jList3.setModel(jList3Model);\n    jList3ScrollPane.setBounds(24, 296, 142, 220);\n    jList3.setBackground(new Color(0x646464));\n    cp.add(jList3ScrollPane);\n    lSchwarzmarkt.setBounds(104, 8, 91, 28);\n    lSchwarzmarkt.setText(&quot;Markt &quot;);\n    lSchwarzmarkt.setForeground(Color.WHITE);\n    cp.add(lSchwarzmarkt);\n    lLaderaum.setBounds(614, 8, 62, 28);\n    lLaderaum.setText(&quot;Laderaum &quot;);\n    lLaderaum.setForeground(Color.WHITE);\n    cp.add(lLaderaum);\n    bKaufen.setBounds(368, 88, 83, 33);\n    bKaufen.setText(&quot;&gt;&gt;Kaufen &quot;);\n    bKaufen.setMargin(new Insets(2, 2, 2, 2));\n    bKaufen.addActionListener(new ActionListener() { \n      public void actionPerformed(ActionEvent evt) { \n        bKaufen_ActionPerformed(evt);\n      }\n    });\n    bKaufen.addKeyListener(new KeyAdapter() { \n      public void keyPressed(KeyEvent evt) { \n        bKaufen_KeyPressed(evt);\n      }\n    });\n    bKaufen.setBackground(new Color(0x4F9B9B));\n    cp.add(bKaufen);\n    bVerkaufen.setBounds(368, 136, 83, 33);\n    bVerkaufen.setText(&quot;&lt;&lt;Verkaufen &quot;);\n    bVerkaufen.setMargin(new Insets(2, 2, 2, 2));\n    bVerkaufen.addActionListener(new ActionListener() { \n      public void actionPerformed(ActionEvent evt) { \n        bVerkaufen_ActionPerformed(evt);\n      }\n    });\n    bVerkaufen.setBackground(new Color(0x4F9B9B));\n    cp.add(bVerkaufen);\n    jNumberField1.setBounds(368, 48, 83, 28);\n    jNumberField1.setText(&quot;&quot;);\n    jNumberField1.setBackground(Color.GRAY);\n    cp.add(jNumberField1);\n    bWeiterreisen.setBounds(126, 570, 83, 33);\n    bWeiterreisen.setText(&quot;Weiterreisen&quot;);\n    bWeiterreisen.setMargin(new Insets(2, 2, 2, 2));\n    bWeiterreisen.addActionListener(new ActionListener() { \n      public void actionPerformed(ActionEvent evt) { \n        bWeiterreisen(evt);\n      }\n    });\n    \n    bWeiterreisen.setBackground(new Color(0x008080));\n    cp.add(bWeiterreisen);\n    bWeiterreisen.setBounds(96, 568, 136, 33);\n    bWeiterreisen.setBounds(32, 536, 136, 33);\n    jButton1.setBounds(712, 600, 112, 24);\n    jButton1.setText(&quot;Einstellungen&quot;);\n    jButton1.setMargin(new Insets(2, 2, 2, 2));\n\n  \n    jButton1.addActionListener(new ActionListener() { \n      public void actionPerformed(ActionEvent evt) { \n        jButton1_ActionPerformed(evt);\n      }\n    });\n    cp.add(jButton1);\n    jtest.setBounds(736, 536, 80, 24);\n    jtest.setText(&quot;Button&quot;);\n    jtest.setMargin(new Insets(2, 2, 2, 2));\n    jtest.addActionListener(new ActionListener() { \n      public void actionPerformed(ActionEvent evt) { \n        jtest_ActionPerformed(evt);\n      }\n    });\n    cp.add(jtest);\n    // Ende Komponenten\n    \n    //**Eigene Variabelen Anfang \n    Geld = 10000; \n    Laderaum = 1000 ;\n    \n    Gewrze[0] = &quot;Pfeffer&quot;;\n    Gewrze[1] = &quot;Muskat&quot;;\n    Gewrze[2] = &quot;Curry&quot;;\n    Gewrze[3] = &quot;Vanille&quot;;\n    Gewrze[4] = &quot;Zimt&quot;;\n    \n    aktKosten[0] = 1500;\n    aktKosten[1] = 5000;\n    aktKosten[2] = 900;\n    aktKosten[3] = 1400;\n    aktKosten[4] = 650;\n    \n    EigeneLadung[0] = 0;\n    EigeneLadung[1] = 0;\n    EigeneLadung[2] = 0;\n    EigeneLadung[3] = 0;\n    EigeneLadung[4] = 0;\n    //**Eigene Variablen Ende \n    \n    //**Preisrandomisen Weiterreisen Anfang \n    KostenMin[0] = 1300;\n    KostenMin[1] = 4250;\n    KostenMin[2] = 725;\n    KostenMin[3] = 1125;\n    KostenMin[4] = 400;\n    \n    KostenMax[0] = 1700; \n    KostenMax[1] = 6250; \n    KostenMax[2] = 1150; \n    KostenMax[3] = 1625; \n    KostenMax[4] = 800; \n    //**Preisrandomisen Weiterreisen Ende\n    \n    Datenanzeigen();\n    setVisible(true);\n  } // end of public SpiceWars4\n  \n  // Anfang Methoden\n  \n  public static void main(String[] args) {\n    new SpiceWars4();                                                                          \n  } // end of main\n  \n  //**Kaufenbutton Anfang \n  public void bKaufen_ActionPerformed(ActionEvent evt) {\n    // TODO hier Quelltext einfgen\n    int Anzahl = Integer.parseInt(jNumberField1.getText());\n    int Nummer = jList1.getSelectedIndex();\n    if (Anzahl*aktKosten[Nummer] &lt;= Geld) {\n      Geld = Geld - Anzahl * aktKosten[Nummer]; \n      EigeneLadung[Nummer] = EigeneLadung[Nummer] + Anzahl;\n    } // end of if\n    Datenanzeigen();\n  } // end of bKaufen_ActionPerformed\n  //**Kaufenbutton Ende\n  \n  //**Vekaufsbutton Anfang \n  public void bVerkaufen_ActionPerformed(ActionEvent evt) {\n    // TODO hier Quelltext einfgen\n    int Anzahl = Integer.parseInt(jNumberField1.getText());\n    int Nummer = jList2.getSelectedIndex();\n    if (Anzahl &lt;= EigeneLadung [Nummer]) {\n      Geld = Geld + Anzahl * aktKosten[Nummer]; \n      EigeneLadung[Nummer] = EigeneLadung[Nummer]-Anzahl; \n    } // end of if\n    Datenanzeigen();\n  } // end of bVerkaufen_ActionPerformed\n  //**Vekaufsbutton Ende\n  \n  public void Datenanzeigen(){\n    jList1Model.removeAllElements();\n    jList2Model.removeAllElements();\n    jList3Model.removeAllElements();\n    for (int i = 0; i &lt; 5; i++) {\n      jList1Model.addElement(Gewrze[i] + &quot; kostet: &quot; + aktKosten[i] + &quot; Mnzen &quot;);\n    }\n    for (int i = 0; i &lt; 5; i++) {\n      jList2Model.addElement(Gewrze[i] + &quot; geladen: &quot; + EigeneLadung[i] + &quot; Stck &quot;);\n    }\n    jList2Model.addElement(&quot;----------&quot;) ;\n    jList2Model.addElement(&quot;Geld: &quot; + Geld);\n    \n    jList3Model.addElement(&quot;Mendig&quot;);\n    jList3Model.addElement(&quot;Mayen&quot;);\n    jList3Model.addElement(&quot;Kruft&quot;);\n    jList3Model.addElement(&quot;Thr&quot;);\n    jList3Model.addElement(&quot;Bell&quot;);\n    \n    \n    }\n  public void jList1_MouseClicked(MouseEvent evt) {\n    // TODO hier Quelltext einfgen\n    int Index = jList1.getSelectedIndex();\n    jNumberField1.setText(Integer.toString((Geld / aktKosten[Index])));\n  } // end of jList1_MouseClicked\n\n  public void jList2_MouseClicked(MouseEvent evt) {\n    // TODO hier Quelltext einfgen\n    int Index = jList1.getSelectedIndex();\n    jNumberField1.setText(Integer.toString(EigeneLadung[Index]));\n  } // end of jList2_MouseClicked\n  \n  //**weiterreisen von Welt zu Welt Anfang \n  public void bWeiterreisen(ActionEvent evt) {\n    // TODO hier Quelltext einfgen\n    for (int i = 0; i &lt; 5; i++) {\n      aktKosten[i] = KostenMin[i] + rand.nextInt(KostenMax[i] - KostenMin[i]);\n    }\n    Datenanzeigen();\n  } // end of bWeiterreisen_ActionPerformed\n  //**Weiterreisen von Welt zu Welt Ende\n\n  public void bKaufen_KeyPressed(KeyEvent evt) {\n    // TODO hier Quelltext einfgen\n    \n  } // end of bKaufen_KeyPressed\n\n  public void jButton1_ActionPerformed(ActionEvent evt) {\n    JFrame2 jf2 = new JFrame2();  //initalisierung neues jframe\n    jf2.setVisible(true);\n    dispose();  //Schliet das game\n \n  } // end of jButton1_ActionPerformed\n\n  public void jtest_ActionPerformed(ActionEvent evt) {\n   \n  } // end of jtest_ActionPerformed\n\n  // Ende Methoden\n} // end of class Spielprogrammieren\n  \n\n\n\n</code></pre>\n<p>Settings JFrame:</p>\n<pre><code>\n \n\nimportjava.awt.*;\nimportjava.awt.event.*;\nimportjavax.swing.*;\nimportjavax.swing.event.*;\nimportjava.math.*;\nimportjava.util.Random;\nimportjava.awt.geom.*;\nimportjavax.swing.border.*;\nimportjavax.swing.tree.*;\nimportjava.io.*;\nimportjavax.sound.sampled.*;\nimportjavax.sound.*;\n\n\npublicclassJFrame2extendsJFrame{\n//AnfangAttribute\nprivateJButtonjButton1=newJButton();\nprivateJScrollPanejScrollPane1=newJScrollPane();\n\nprivateJButtonjmute=newJButton();\nprivateJLabeljLabel1=newJLabel();\nprivateJButtonbDarkMode1=newJButton();\nprivateJButtonbLightMode1=newJButton();\nprivateJPaneljDifficulty=newJPanel();\nprivateJScrollPanejScrollPane2=newJScrollPane();\nprivateButtonGroupjDifficultyBG=newButtonGroup();\nprivateTitledBorderjDifficultyTB=newTitledBorder(&quot;Schwierigkeit&quot;);\nprivateJRadioButtonjDifficultyRB0=newJRadioButton(&quot;Schwer&quot;);\nprivateJRadioButtonjDifficultyRB1=newJRadioButton(&quot;Mittel&quot;);\nprivateJRadioButtonjDifficultyRB2=newJRadioButton(&quot;Leicht&quot;);\n//EndeAttribute\n\npublicJFrame2(){\n\n\n//Frame-Initialisierung\nsuper();\nsetDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\nintframeWidth=373;\nintframeHeight=517;\nsetSize(frameWidth,frameHeight);\nDimensiond=Toolkit.getDefaultToolkit().getScreenSize();\nintx=(d.width-getSize().width)/2;\ninty=(d.height-getSize().height)/2;\nsetLocation(x,y);\nsetTitle(&quot;Einstellungen&quot;);\nsetResizable(false);\nContainercp=getContentPane();\n\n\ncp.setLayout(null);\ncp.setBackground(newColor(0x666666));\n//AnfangKomponenten\n\njButton1.setBounds(104,440,160,24);\njButton1.setText(&quot;Zurck&quot;);\njButton1.setMargin(newInsets(2,2,2,2));\njButton1.addActionListener(newActionListener(){\npublicvoidactionPerformed(ActionEventevt){\njButton1_ActionPerformed(evt);\n}\n});\njButton1.setBackground(newColor(0x49969E));\ncp.add(jButton1);\njScrollPane1.setBounds(696,-16,1,17);\ncp.add(jScrollPane1);\n\njmute.setBounds(120,160,128,24);\njmute.setText(&quot;Musikaus&quot;);\njmute.setMargin(newInsets(2,2,2,2));\njmute.addActionListener(newActionListener(){\npublicvoidactionPerformed(ActionEventevt){\njmute_ActionPerformed(evt);\n}\n});\njmute.setBackground(newColor(0x49969E));\njmute.setRolloverEnabled(false);\ncp.add(jmute);\njLabel1.setBounds(112,24,328,47);\njLabel1.setText(&quot;Einstellungen&quot;);\njLabel1.setFont(newFont(&quot;Dialog&quot;,Font.BOLD,24));\ncp.add(jLabel1);\n\n\nbDarkMode1.setBounds(144,216,80,24);\nbDarkMode1.setText(&quot;DarkMode&quot;);\nbDarkMode1.setMargin(newInsets(2,2,2,2));\nbDarkMode1.addActionListener(newActionListener(){\npublicvoidactionPerformed(ActionEventevt){\nbDarkMode1_ActionPerformed(evt);\n}\n});\nbDarkMode1.setBackground(Color.BLACK);\nbDarkMode1.setForeground(Color.WHITE);\ncp.add(bDarkMode1);\nbLightMode1.setBounds(144,272,80,24);\nbLightMode1.setText(&quot;LightMode&quot;);\nbLightMode1.setMargin(newInsets(2,2,2,2));\nbLightMode1.addActionListener(newActionListener(){\npublicvoidactionPerformed(ActionEventevt){\nbLightMode1_ActionPerformed(evt);\n}\n});\nbLightMode1.setBackground(Color.WHITE);\nbLightMode1.setForeground(newColor(0x060606));\ncp.add(bLightMode1);\njDifficulty.setLayout(null);\njDifficulty.setBounds(128,336,120,80);\njDifficulty.setBackground(newColor(0x666666));\njDifficulty.setForeground(newColor(0x666666));\njDifficultyRB0.setBounds(7,18,106,20);\njDifficultyRB0.setSelected(true);\njDifficultyBG.add(jDifficultyRB0);\njDifficulty.add(jDifficultyRB0);\njDifficultyRB1.setBounds(7,37,106,19);\njDifficultyBG.add(jDifficultyRB1);\njDifficulty.add(jDifficultyRB1);\njDifficultyRB2.setBounds(7,56,106,19);\njDifficultyBG.add(jDifficultyRB2);\njDifficulty.add(jDifficultyRB2);\njDifficulty.setBorder(jDifficultyTB);\ncp.add(jDifficulty);\njScrollPane2.setBounds(352,-16,1,17);\ncp.add(jScrollPane2);\n//EndeKomponenten\n\nsetVisible(true);\n}//endofpublicJFrame2\n\n\n//AnfangMethoden\n\npublicstaticvoidmain(String[]args){\nnewJFrame2();\n\n\n}//endofmain\n\npublicvoidjButton1_ActionPerformed(ActionEventevt){\nSpiceWars4jf1=newSpiceWars4();//initalisierungneuesjframe\njf1.setVisible(true);\ndispose();//SchlietdieEinstellungen\n\n}//endofjButton1_ActionPerformed\n\npublicvoidjmute_ActionPerformed(ActionEventevt){\n\n\n\n}//endofjmute_ActionPerformed\n\npublicvoidbDarkMode1_ActionPerformed(ActionEventevt){\nContainercp=getContentPane();\n\nif(evt.getSource()==bDarkMode1){\njButton1.setBackground(newColor(0x49969E));\njButton1.setForeground(newColor(0x333333));\ncp.setBackground(newColor(0x666666));\njmute.setBackground(newColor(0x49969E));\njDifficulty.setBackground(newColor(0x666666));\njDifficulty.setForeground(newColor(0x666666));\n\n}//endofif\n\n}//endofbDarkMode1_ActionPerformed\n\npublicvoidbLightMode1_ActionPerformed(ActionEventevt){\nContainercp=getContentPane();\nif(evt.getSource()==bLightMode1){\n\njButton1.setBackground(Color.WHITE);\njButton1.setForeground(newColor(0x666666));\njDifficulty.setBackground(Color.WHITE);\njmute.setBackground(Color.WHITE);\ncp.setBackground(Color.WHITE);\n\n}//endofif\n\n\n}//endofbLightMode1_ActionPerformed\n\npublicStringjDifficultyBG_getSelectedButtonGroupLabel(){\nfor(java.util.Enumeration&lt;AbstractButton&gt;e=jDifficultyBG.getElements();e.hasMoreElements();){\nAbstractButtonb=e.nextElement();\nif(b.isSelected())returnb.getText();\n}\nreturn&quot;&quot;;\n}\n\n//EndeMethoden\n}//endofclassJFrame2\n\n\n\n\n\n</code></pre>\n<p>For Example, when the user clicks the LightMode button, it should apply to the main Jframe too, same with the DarkMode button.</p>\n<p>Would be thankful for help, since I'm still a beginner.</p>\n"},{"tags":["java","azure","asynchronous","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671117384,"creation_date":1671117384,"answer_id":74813723,"question_id":74805464,"body_markdown":"I believe that you&#39;re conflating asynchronous with concurrent.  The receiver returns a single stream of messages that you&#39;re subscribing to.  Flux dispatches messages from this stream 1-by-1, waiting for your `processMessage` function to return.  The subscription is asynchronous, as it does not block the thread that called `receiveMessages`.\r\n\r\nWhat I believe that you may be looking for is the [ServiceBusProcessorClient](https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusprocessorclient?view=azure-java-stable), which manages concurrency for you.  It allows setting [maxConcurrentCalls](https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusclientbuilder.servicebusprocessorclientbuilder?view=azure-java-stable) when building.  \r\n\r\nJava&#39;s `ServiceBusProcessorClient` is equivalent to .NET&#39;s `ServiceBusProcessor` type - which is &quot;configuration in C#&quot; that you referred to.  ","title":"Azure service bus using ServiceBusReceiverAsyncClient not consuming concurrently Java","body":"<p>I believe that you're conflating asynchronous with concurrent.  The receiver returns a single stream of messages that you're subscribing to.  Flux dispatches messages from this stream 1-by-1, waiting for your <code>processMessage</code> function to return.  The subscription is asynchronous, as it does not block the thread that called <code>receiveMessages</code>.</p>\n<p>What I believe that you may be looking for is the <a href=\"https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusprocessorclient?view=azure-java-stable\" rel=\"nofollow noreferrer\">ServiceBusProcessorClient</a>, which manages concurrency for you.  It allows setting <a href=\"https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusclientbuilder.servicebusprocessorclientbuilder?view=azure-java-stable\" rel=\"nofollow noreferrer\">maxConcurrentCalls</a> when building.</p>\n<p>Java's <code>ServiceBusProcessorClient</code> is equivalent to .NET's <code>ServiceBusProcessor</code> type - which is &quot;configuration in C#&quot; that you referred to.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74813723,"answer_count":1,"score":0,"last_activity_date":1671117384,"creation_date":1671062255,"question_id":74805464,"body_markdown":"I am creating Azure service bus listener using `ServiceBusReceiverAsyncClient` in order to process messages from Azure service bus queue like this (ASB class):\r\n```\r\nDefaultAzureCredential credential = new DefaultAzureCredentialBuilder()\r\n           .build();\r\n// Create an instance of the processor through the ServiceBusClientBuilder\r\nServiceBusReceiverAsyncClient asyncClient = new ServiceBusClientBuilder()\r\n    .credential(credential)\r\n    .connectionString(connectionString)\r\n    .receiver()\r\n    .queueName(queueName)\r\n    .buildAsyncClient();\r\n\r\nDisposable subscription = asyncClient.receiveMessages()\r\n    .subscribe(ASB::processMessage,\r\n               ASB::processError,\r\n               () -&gt; System.out.println(&quot;Receiving complete.&quot;));\r\n\r\nprivate static void processMessage(ServiceBusReceivedMessage message) {\r\n   System.out.println(&quot;Processing message.&quot;);\r\n   System.out.printf(&quot;Processed message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),\r\n                      message.getSequenceNumber(), message.getBody());\r\n    }\r\n```\r\nI have a tool to send few thousands messages to the service bus queue so I can test if it is asynchronously processing the messages. However, this is what I see in the log:\r\n```\r\nProcessing message.\r\nProcessed message. Session: 3151fe4ef7734ea19658bcb3459d4cea, Sequence #: 2945. Contents: test 330\r\n2022-12-14 18:51:11.379  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: a304b4fbf379436e8c0e95c5a2a8ec00, Sequence #: 2946. Contents: test 331\r\n2022-12-14 18:51:11.545  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: b2ca6cd5dc1a456d99eb469c2de37090, Sequence #: 2947. Contents: test 332\r\n2022-12-14 18:51:11.638  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: 39decd757a544fb09aecf62f11deef3d, Sequence #: 2948. Contents: test 333\r\n2022-12-14 18:51:11.765  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: 79bb1a6adaa542448075868ec190b7dd, Sequence #: 2949. Contents: test 334\r\n2022-12-14 18:51:11.881  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: e891896a85a548968de904f3ee6f07a0, Sequence #: 2950. Contents: test 335\r\n2022-12-14 18:51:12.008  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: b0326bcc0ebd40b2b32d9e9ceb88d965, Sequence #: 2951. Contents: test 336\r\n2022-12-14 18:51:12.121  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\nProcessed message. Session: b55d635672c449ec924d2121bb8575b8, Sequence #: 2952. Contents: test 337\r\n2022-12-14 18:51:12.268  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\r\nProcessing message.\r\n```\r\nI am not sure if I can conclude this, but it seems like the code is processing messages in sequential order, one by one, meaning it is doing it synchronously.\r\nI also tried using `Thread.sleep(10000)` to see if `ServiceBusReceiverAsyncClient` is spawning a new process for each messages, but it seems like it is processing on one thread.\r\n\r\nAm I miss understanding anything? or is there a configuration like c# that I have to set in order for it to process concurrently? Any help would be great!","title":"Azure service bus using ServiceBusReceiverAsyncClient not consuming concurrently Java","body":"<p>I am creating Azure service bus listener using <code>ServiceBusReceiverAsyncClient</code> in order to process messages from Azure service bus queue like this (ASB class):</p>\n<pre><code>DefaultAzureCredential credential = new DefaultAzureCredentialBuilder()\n           .build();\n// Create an instance of the processor through the ServiceBusClientBuilder\nServiceBusReceiverAsyncClient asyncClient = new ServiceBusClientBuilder()\n    .credential(credential)\n    .connectionString(connectionString)\n    .receiver()\n    .queueName(queueName)\n    .buildAsyncClient();\n\nDisposable subscription = asyncClient.receiveMessages()\n    .subscribe(ASB::processMessage,\n               ASB::processError,\n               () -&gt; System.out.println(&quot;Receiving complete.&quot;));\n\nprivate static void processMessage(ServiceBusReceivedMessage message) {\n   System.out.println(&quot;Processing message.&quot;);\n   System.out.printf(&quot;Processed message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),\n                      message.getSequenceNumber(), message.getBody());\n    }\n</code></pre>\n<p>I have a tool to send few thousands messages to the service bus queue so I can test if it is asynchronously processing the messages. However, this is what I see in the log:</p>\n<pre><code>Processing message.\nProcessed message. Session: 3151fe4ef7734ea19658bcb3459d4cea, Sequence #: 2945. Contents: test 330\n2022-12-14 18:51:11.379  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: a304b4fbf379436e8c0e95c5a2a8ec00, Sequence #: 2946. Contents: test 331\n2022-12-14 18:51:11.545  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: b2ca6cd5dc1a456d99eb469c2de37090, Sequence #: 2947. Contents: test 332\n2022-12-14 18:51:11.638  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: 39decd757a544fb09aecf62f11deef3d, Sequence #: 2948. Contents: test 333\n2022-12-14 18:51:11.765  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: 79bb1a6adaa542448075868ec190b7dd, Sequence #: 2949. Contents: test 334\n2022-12-14 18:51:11.881  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: e891896a85a548968de904f3ee6f07a0, Sequence #: 2950. Contents: test 335\n2022-12-14 18:51:12.008  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: b0326bcc0ebd40b2b32d9e9ceb88d965, Sequence #: 2951. Contents: test 336\n2022-12-14 18:51:12.121  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\nProcessed message. Session: b55d635672c449ec924d2121bb8575b8, Sequence #: 2952. Contents: test 337\n2022-12-14 18:51:12.268  INFO 91776 --- [oundedElastic-2] c.a.m.s.i.ServiceBusReceiveLinkProcessor : {&quot;az.sdk.message&quot;:&quot;Adding credits.&quot;,&quot;prefetch&quot;:0,&quot;requested&quot;:2,&quot;linkCredits&quot;:0,&quot;expectedTotalCredit&quot;:2,&quot;queuedMessages&quot;:1,&quot;creditsToAdd&quot;:1,&quot;messageQueueSize&quot;:0}\nProcessing message.\n</code></pre>\n<p>I am not sure if I can conclude this, but it seems like the code is processing messages in sequential order, one by one, meaning it is doing it synchronously.\nI also tried using <code>Thread.sleep(10000)</code> to see if <code>ServiceBusReceiverAsyncClient</code> is spawning a new process for each messages, but it seems like it is processing on one thread.</p>\n<p>Am I miss understanding anything? or is there a configuration like c# that I have to set in order for it to process concurrently? Any help would be great!</p>\n"},{"tags":["java","android","android-recyclerview","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":4725668,"reputation":11,"user_id":3822391,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671117062,"creation_date":1671117062,"answer_id":74813653,"question_id":74813528,"body_markdown":"Clear the arraylists `datesWithDupes`, `paymentByDateList` and `datesWithoutDupes` before the for loops. \r\n\r\n\r\n    datesWithDupes.clear();\r\n    datesWithoutDupes.clear();\r\n    paymentByDateList.clear();\r\n    \r\n    for (Payment i : payments) {\r\n        datesWithDupes.add(i.getPaymentDate());\r\n    }\r\n    for (String i : datesWithDupes) {\r\n        if (!datesWithoutDupes.contains(i)) {\r\n            datesWithoutDupes.add(i);\r\n        }\r\n    }\r\n    for (String date : datesWithoutDupes) {\r\n        viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;Payment&gt; payments) {\r\n                PaymentByDate paymentByDate = new PaymentByDate(date, payments);\r\n                paymentByDateList.add(paymentByDate);\r\n                adapter.setPayments(paymentByDateList);\r\n            }\r\n        });\r\n    }","title":"why i keep getting duplicated lists in my recyclerView?","body":"<p>Clear the arraylists <code>datesWithDupes</code>, <code>paymentByDateList</code> and <code>datesWithoutDupes</code> before the for loops.</p>\n<pre><code>datesWithDupes.clear();\ndatesWithoutDupes.clear();\npaymentByDateList.clear();\n\nfor (Payment i : payments) {\n    datesWithDupes.add(i.getPaymentDate());\n}\nfor (String i : datesWithDupes) {\n    if (!datesWithoutDupes.contains(i)) {\n        datesWithoutDupes.add(i);\n    }\n}\nfor (String date : datesWithoutDupes) {\n    viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;Payment&gt; payments) {\n            PaymentByDate paymentByDate = new PaymentByDate(date, payments);\n            paymentByDateList.add(paymentByDate);\n            adapter.setPayments(paymentByDateList);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":24274748,"reputation":1,"user_id":18222209,"display_name":"sidali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671117062,"creation_date":1671116541,"question_id":74813528,"body_markdown":"Can anyone show me what have I done wrong here, I am using `recyclerView` with livedata every time I launch the app it spawns with a random list and sometimes its full of duplicates.\r\nHere is the code that assigns data to the adapter :\r\n\r\n    adapter = new PaymentsByDateParentAdapter(getContext());\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\r\n\r\n        viewModel.getAllPayments().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;Payment&gt; payments) {\r\n                for (Payment i : payments) {\r\n                    datesWithDupes.add(i.getPaymentDate());\r\n                }\r\n                for (String i : datesWithDupes) {\r\n                    if (!datesWithoutDupes.contains(i)) {\r\n                        datesWithoutDupes.add(i);\r\n                    }\r\n                }\r\n                for (String date : datesWithoutDupes) {\r\n                    viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\r\n                        @Override\r\n                        public void onChanged(List&lt;Payment&gt; payments) {\r\n                            PaymentByDate paymentByDate = new PaymentByDate(date, payments);\r\n                            paymentByDateList.add(paymentByDate);\r\n                            adapter.setPayments(paymentByDateList);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });","title":"why i keep getting duplicated lists in my recyclerView?","body":"<p>Can anyone show me what have I done wrong here, I am using <code>recyclerView</code> with livedata every time I launch the app it spawns with a random list and sometimes its full of duplicates.\nHere is the code that assigns data to the adapter :</p>\n<pre><code>adapter = new PaymentsByDateParentAdapter(getContext());\n    recyclerView.setAdapter(adapter);\n\n    viewModel = new ViewModelProvider(this).get(SchoolViewModel.class);\n\n    viewModel.getAllPayments().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;Payment&gt; payments) {\n            for (Payment i : payments) {\n                datesWithDupes.add(i.getPaymentDate());\n            }\n            for (String i : datesWithDupes) {\n                if (!datesWithoutDupes.contains(i)) {\n                    datesWithoutDupes.add(i);\n                }\n            }\n            for (String date : datesWithoutDupes) {\n                viewModel.getPaymentsByDate(date).observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Payment&gt;&gt;() {\n                    @Override\n                    public void onChanged(List&lt;Payment&gt; payments) {\n                        PaymentByDate paymentByDate = new PaymentByDate(date, payments);\n                        paymentByDateList.add(paymentByDate);\n                        adapter.setPayments(paymentByDateList);\n                    }\n                });\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":2,"creation_date":1546211472,"post_id":53982169,"comment_id":94801777,"body_markdown":"Lambda expressions are regular expressions and can be used anywhere an expression can.","body":"Lambda expressions are regular expressions and can be used anywhere an expression can."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1546212173,"post_id":53982169,"comment_id":94801867,"body_markdown":"Note, that lambda is actually in the (default) constructor. If it was a `static` variable it would be in the implicit static initialiser (named `&lt;clinit&gt;` in the class file). You could also place an anonymous inner class there.","body":"Note, that lambda is actually in the (default) constructor. If it was a <code>static</code> variable it would be in the implicit static initialiser (named <code>&lt;clinit&gt;</code> in the class file). You could also place an anonymous inner class there."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546212723,"creation_date":1546211883,"answer_id":53982219,"question_id":53982169,"body_markdown":"You can declare lambda expression any where in class\r\n\r\n&gt;If you declare inside a method (which is similar to local variables, scope inside of method)\r\n\r\n    public String message() {\r\n     \r\n      IFunc functionB = () -&gt;  &quot;Hi, I am functionB from Java, I am passed to functionA as a parameter.&quot;;\r\n\r\n        return functionA(functionB);\r\n    }\r\n\r\n&gt;If you declare in the class (Which is similar to instance variables that can be accessed in all instance methods directly and with object reference in static area )\r\n\r\n    public class JavaFunc {\r\n\r\n     IFunc functionB = () -&gt;  &quot;Hi, I am functionB from Java, I am passed to functionA as a parameter.&quot;;\r\n\r\n    public String message() {\r\n          \r\n        // use here functionB\r\n        return functionA(functionB);\r\n    }\r\n\r\n**Example :** lambda expression for `Predicate` and anonymous inner class\r\n\r\n&gt;p1,p2 are at instance level and p3,p4 are local\r\n\r\n    public class DemoMain {\r\n\r\n\tPredicate&lt;Integer&gt; p1 = i -&gt; i &gt; 5;\r\n\r\n\tPredicate&lt;Integer&gt; p2 = new Predicate&lt;Integer&gt;() {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean test(Integer t) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tDemoMain m = new DemoMain();\r\n\t\tSystem.out.println(m.p1.test(10));\r\n\t\tSystem.out.println(m.p2.test(10));\r\n\t}\r\n\r\n\tpublic void m1() {\r\n\t\t\r\n\t\tSystem.out.println(p1.test(10));\r\n\t\tSystem.out.println(p2.test(10));\r\n\r\n\t\tPredicate&lt;Integer&gt; p3 = i -&gt; i &gt; 5;\r\n\r\n\t\tPredicate&lt;Integer&gt; p4 = new Predicate&lt;Integer&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean test(Integer t) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\treturn false;\r\n\t     \t\t}\r\n\t    \t};\r\n\r\n\t    }\r\n\r\n     }\r\n\r\n","title":"Do Lambda expressions have to be inside a method? Can they exist outside a method as a member of a class","body":"<p>You can declare lambda expression any where in class</p>\n\n<blockquote>\n  <p>If you declare inside a method (which is similar to local variables, scope inside of method)</p>\n</blockquote>\n\n<pre><code>public String message() {\n\n  IFunc functionB = () -&gt;  \"Hi, I am functionB from Java, I am passed to functionA as a parameter.\";\n\n    return functionA(functionB);\n}\n</code></pre>\n\n<blockquote>\n  <p>If you declare in the class (Which is similar to instance variables that can be accessed in all instance methods directly and with object reference in static area )</p>\n</blockquote>\n\n<pre><code>public class JavaFunc {\n\n IFunc functionB = () -&gt;  \"Hi, I am functionB from Java, I am passed to functionA as a parameter.\";\n\npublic String message() {\n\n    // use here functionB\n    return functionA(functionB);\n}\n</code></pre>\n\n<p><strong>Example :</strong> lambda expression for <code>Predicate</code> and anonymous inner class</p>\n\n<blockquote>\n  <p>p1,p2 are at instance level and p3,p4 are local</p>\n</blockquote>\n\n<pre><code>public class DemoMain {\n\nPredicate&lt;Integer&gt; p1 = i -&gt; i &gt; 5;\n\nPredicate&lt;Integer&gt; p2 = new Predicate&lt;Integer&gt;() {\n\n    @Override\n    public boolean test(Integer t) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n};\n\npublic static void main(String args[]) {\n\n    DemoMain m = new DemoMain();\n    System.out.println(m.p1.test(10));\n    System.out.println(m.p2.test(10));\n}\n\npublic void m1() {\n\n    System.out.println(p1.test(10));\n    System.out.println(p2.test(10));\n\n    Predicate&lt;Integer&gt; p3 = i -&gt; i &gt; 5;\n\n    Predicate&lt;Integer&gt; p4 = new Predicate&lt;Integer&gt;() {\n\n        @Override\n        public boolean test(Integer t) {\n            // TODO Auto-generated method stub\n            return false;\n            }\n        };\n\n    }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6170883,"reputation":823,"user_id":4809174,"accept_rate":71,"display_name":"Lucian Bredean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546213421,"creation_date":1546212701,"answer_id":53982285,"question_id":53982169,"body_markdown":"To put it in another way, lambda expressions are also known as function objects, so wherever you can use a normal objects, you can also use lambdas: you can define them as attributes, you can pass them as method parameters, etc.\r\n\r\n    public ExampleClass {\r\n        //Initializing the consumer with our method reference (subset of lambdas)\r\n        static Consumer&lt;Integer&gt; printer = System.out::println;\r\n    \r\n        public static void useLambda(Consumer&lt;Integer&gt; myIntegerPrinter, Integer value) {\r\n             myIntegerPrinter.accept(value);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n             // passing the lambda as parameter to useLambda\r\n             useLambda(printer, 100);\r\n        }\r\n    }\r\n\r\n","title":"Do Lambda expressions have to be inside a method? Can they exist outside a method as a member of a class","body":"<p>To put it in another way, lambda expressions are also known as function objects, so wherever you can use a normal objects, you can also use lambdas: you can define them as attributes, you can pass them as method parameters, etc.</p>\n\n<pre><code>public ExampleClass {\n    //Initializing the consumer with our method reference (subset of lambdas)\n    static Consumer&lt;Integer&gt; printer = System.out::println;\n\n    public static void useLambda(Consumer&lt;Integer&gt; myIntegerPrinter, Integer value) {\n         myIntegerPrinter.accept(value);\n    }\n\n    public static void main(String[] args) {\n         // passing the lambda as parameter to useLambda\n         useLambda(printer, 100);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12096730,"reputation":300,"user_id":10830215,"display_name":"Sal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546212998,"creation_date":1546212998,"answer_id":53982305,"question_id":53982169,"body_markdown":"Remember what Lambda is short for. It&#39;s simply used for method definitions, particularly for functional interfaces. Pretty much wherever you can use an object where you define some function (with simple logic), you could also easily use Lambda. A good example to use would be ActionListener.\r\n\r\nWithout lambda, we could say:\r\n\r\n    ActionListener al = new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tSystem.out.println(e.getActionCommand());\r\n\t\t}\r\n\t};\r\n\r\nWith lambda, we can shorten this to the simple expression:\r\n\r\n    ActionListener al = e -&gt; System.out.println(e.getActionCommand());\r\n\r\nIt&#39;s clear to see that these are directly related to each other; &#39;ActionEvent e&#39;, from the original, is simply declared as &#39;e&#39; in the secondary, as the compiler already knows what type it&#39;s of, and similarly, we can define the body of the method by declaring what it does in a singular line. \r\n\r\nNow, these can also be passed as parameters, because they&#39;re just like any other object. For instance, let&#39;s say we had a JButton object, which frequently is given an ActionListener. Note that JButton has a method JButton#addActionListener(ActionListener al). Now, we can pass our ActionListener in any of the following ways:\r\n\r\n    JButton b = new JButton();\r\n    //Option One\r\n    ActionListener al = e -&gt; System.out.println(e.getActionCommand());\r\n    b.addActionListener(al);\r\n    //Option Two\r\n    b.addActionListener(e -&gt; System.out.println(e.getActionCommand()));\r\n    //Option Three\r\n\tb.addActionListener(new ActionListener() {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tSystem.out.println(e.getActionCommand());\r\n\t\t}\r\n\t});\r\n    //Option Four\r\n    ActionListener al = new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tSystem.out.println(e.getActionCommand());\r\n    \t}\r\n    };\r\n    b.addActionListener(al);\r\n\r\nAll of these are logically equivalent!\r\n\r\n\r\n\r\n","title":"Do Lambda expressions have to be inside a method? Can they exist outside a method as a member of a class","body":"<p>Remember what Lambda is short for. It's simply used for method definitions, particularly for functional interfaces. Pretty much wherever you can use an object where you define some function (with simple logic), you could also easily use Lambda. A good example to use would be ActionListener.</p>\n\n<p>Without lambda, we could say:</p>\n\n<pre><code>ActionListener al = new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(e.getActionCommand());\n    }\n};\n</code></pre>\n\n<p>With lambda, we can shorten this to the simple expression:</p>\n\n<pre><code>ActionListener al = e -&gt; System.out.println(e.getActionCommand());\n</code></pre>\n\n<p>It's clear to see that these are directly related to each other; 'ActionEvent e', from the original, is simply declared as 'e' in the secondary, as the compiler already knows what type it's of, and similarly, we can define the body of the method by declaring what it does in a singular line. </p>\n\n<p>Now, these can also be passed as parameters, because they're just like any other object. For instance, let's say we had a JButton object, which frequently is given an ActionListener. Note that JButton has a method JButton#addActionListener(ActionListener al). Now, we can pass our ActionListener in any of the following ways:</p>\n\n<pre><code>JButton b = new JButton();\n//Option One\nActionListener al = e -&gt; System.out.println(e.getActionCommand());\nb.addActionListener(al);\n//Option Two\nb.addActionListener(e -&gt; System.out.println(e.getActionCommand()));\n//Option Three\nb.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(e.getActionCommand());\n    }\n});\n//Option Four\nActionListener al = new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(e.getActionCommand());\n    }\n};\nb.addActionListener(al);\n</code></pre>\n\n<p>All of these are logically equivalent!</p>\n"}],"owner":{"account_id":3693080,"reputation":79,"user_id":3430106,"display_name":"Srini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1671116737,"creation_date":1546211366,"question_id":53982169,"body_markdown":"I am trying to see, the difference in passing functions as parameters between Scala and Java. I have moved to Scala a few years ago, not in touch with Java much. Can I have a Lambda expression outside of a method, like below?.  It compiles and works fine, but  Is there anything wrong with it.  So far all the examples I have seen have Lamdas inside a method. The below code is just an example, I am aware you can achieve the same thing with \r\nSupplier Interface. \r\n\r\n    @FunctionalInterface\r\n    public interface IFunc {\r\n    \r\n        String printMessage();\r\n    }\r\n    \r\n    \r\n    public class JavaFunc {\r\n    \r\n        public String message() {\r\n    \r\n            return functionA(functionB);\r\n        }\r\n    \r\n        IFunc functionB = () -&gt;  &quot;Hi, I am functionB from Java, I am passed to functionA as a parameter.&quot;;\r\n    \r\n        public String functionA(IFunc funcB) {\r\n            return funcB.printMessage();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Do Lambda expressions have to be inside a method? Can they exist outside a method as a member of a class","body":"<p>I am trying to see, the difference in passing functions as parameters between Scala and Java. I have moved to Scala a few years ago, not in touch with Java much. Can I have a Lambda expression outside of a method, like below?.  It compiles and works fine, but  Is there anything wrong with it.  So far all the examples I have seen have Lamdas inside a method. The below code is just an example, I am aware you can achieve the same thing with \nSupplier Interface. </p>\n\n<pre><code>@FunctionalInterface\npublic interface IFunc {\n\n    String printMessage();\n}\n\n\npublic class JavaFunc {\n\n    public String message() {\n\n        return functionA(functionB);\n    }\n\n    IFunc functionB = () -&gt;  \"Hi, I am functionB from Java, I am passed to functionA as a parameter.\";\n\n    public String functionA(IFunc funcB) {\n        return funcB.printMessage();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2435926,"reputation":21157,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"score":0,"creation_date":1671117864,"post_id":632204,"comment_id":132033475,"body_markdown":"Note that this is a school project, and most answers missed collapsing the &quot;5 * x&quot; to &quot;5x&quot;. I.e., the question is actually not about string replacement, but the actual assignment is to implement a Polynomial Processing Java application.","body":"Note that this is a school project, and most answers missed collapsing the &quot;5 * x&quot; to &quot;5x&quot;. I.e., the question is actually not about string replacement, but the actual assignment is to implement a Polynomial Processing Java application."}],"answers":[{"tags":[],"owner":{"account_id":1582,"reputation":110772,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"down_vote_count":2,"up_vote_count":249,"is_accepted":false,"score":247,"last_activity_date":1236787829,"creation_date":1236718214,"answer_id":632218,"question_id":632204,"body_markdown":"    str.replaceAll(&quot;\\\\^([0-9]+)&quot;, &quot;&lt;sup&gt;$1&lt;/sup&gt;&quot;);","title":"Java; String replace (school project)?","body":"<pre><code>str.replaceAll(\"\\\\^([0-9]+)\", \"&lt;sup&gt;$1&lt;/sup&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24548,"reputation":8109,"user_id":62525,"display_name":"Ryann Graham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236718234,"creation_date":1236718234,"answer_id":632220,"question_id":632204,"body_markdown":"You&#39;ll want to look into capturing in regex to handle wrapping the 3 in ^3.","title":"Java; String replace (school project)?","body":"<p>You'll want to look into capturing in regex to handle wrapping the 3 in ^3.</p>\n"},{"tags":[],"owner":{"account_id":21597,"reputation":57565,"user_id":52598,"accept_rate":100,"display_name":"Lieven Keersmaekers"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1347798156,"creation_date":1236718488,"answer_id":632233,"question_id":632204,"body_markdown":"    import java.util.regex.PatternSyntaxException;\r\n    \r\n    // (:?\\d+) \\* x\\^(:?\\d+)\r\n    // \r\n    // Options: ^ and $ match at line breaks\r\n    // \r\n    // Match the regular expression below and capture its match into backreference number 1 &#171;(:?\\d+)&#187;\r\n    //    Match the character : literally &#171;:?&#187;\r\n    //       Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    //    Match a single digit 0..9 &#171;\\d+&#187;\r\n    //       Between one and unlimited times, as many times as possible, giving back as needed (greedy) &#171;+&#187;\r\n    // Match the character   literally &#171; &#187;\r\n    // Match the character * literally &#171;\\*&#187;\r\n    // Match the characters  x literally &#171; x&#187;\r\n    // Match the character ^ literally &#171;\\^&#187;\r\n    // Match the regular expression below and capture its match into backreference number 2 &#171;(:?\\d+)&#187;\r\n    //    Match the character : literally &#171;:?&#187;\r\n    //       Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    //    Match a single digit 0..9 &#171;\\d+&#187;\r\n    //       Between one and unlimited times, as many times as possible, giving back as needed (greedy) &#171;+&#187;\r\n    try {\r\n    \tString resultString = subjectString.replaceAll(&quot;(?m)(:?\\\\d+) \\\\* x\\\\^(:?\\\\d+)&quot;, &quot;$1x&lt;sup&gt;$2&lt;/sup&gt;&quot;);\r\n    } catch (PatternSyntaxException ex) {\r\n    \t// Syntax error in the regular expression\r\n    } catch (IllegalArgumentException ex) {\r\n    \t// Syntax error in the replacement text (unescaped $ signs?)\r\n    } catch (IndexOutOfBoundsException ex) {\r\n    \t// Non-existent backreference used the replacement text\r\n    }\r\n","title":"Java; String replace (school project)?","body":"<pre><code>import java.util.regex.PatternSyntaxException;\n\n// (:?\\d+) \\* x\\^(:?\\d+)\n// \n// Options: ^ and $ match at line breaks\n// \n// Match the regular expression below and capture its match into backreference number 1 (:?\\d+)\n//    Match the character : literally :?\n//       Between zero and one times, as many times as possible, giving back as needed (greedy) ?\n//    Match a single digit 0..9 \\d+\n//       Between one and unlimited times, as many times as possible, giving back as needed (greedy) +\n// Match the character   literally  \n// Match the character * literally \\*\n// Match the characters  x literally  x\n// Match the character ^ literally \\^\n// Match the regular expression below and capture its match into backreference number 2 (:?\\d+)\n//    Match the character : literally :?\n//       Between zero and one times, as many times as possible, giving back as needed (greedy) ?\n//    Match a single digit 0..9 \\d+\n//       Between one and unlimited times, as many times as possible, giving back as needed (greedy) +\ntry {\n    String resultString = subjectString.replaceAll(\"(?m)(:?\\\\d+) \\\\* x\\\\^(:?\\\\d+)\", \"$1x&lt;sup&gt;$2&lt;/sup&gt;\");\n} catch (PatternSyntaxException ex) {\n    // Syntax error in the regular expression\n} catch (IllegalArgumentException ex) {\n    // Syntax error in the replacement text (unescaped $ signs?)\n} catch (IndexOutOfBoundsException ex) {\n    // Non-existent backreference used the replacement text\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1236718574,"creation_date":1236718574,"answer_id":632237,"question_id":632204,"body_markdown":"If this is for any general math expression and parenthetical expressions are allowed, it will be very difficult (perhaps impossible) to do this with regular expressions.\r\n\r\nIf the only replacements are the ones you showed, it&#39;s not that hard to do. First strip out `*`&#39;s, then use capturing like Can Berk G&#252;der showed to handle the `^`&#39;s.","title":"Java; String replace (school project)?","body":"<p>If this is for any general math expression and parenthetical expressions are allowed, it will be very difficult (perhaps impossible) to do this with regular expressions.</p>\n\n<p>If the only replacements are the ones you showed, it's not that hard to do. First strip out <code>*</code>'s, then use capturing like Can Berk Gder showed to handle the <code>^</code>'s.</p>\n"},{"tags":[],"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236718657,"creation_date":1236718657,"answer_id":632243,"question_id":632204,"body_markdown":"Try this:\r\n\r\n    String str = &quot;5 * x^3 - 6 * x^1 + 1&quot;;\r\n    String replacedStr = str.replaceAll(&quot;\\\\^(\\\\d+)&quot;, &quot;&lt;sup&gt;\\$1&lt;/sup&gt;&quot;);\r\n\r\nBe sure to import java.util.regex.","title":"Java; String replace (school project)?","body":"<p>Try this:</p>\n\n<pre><code>String str = \"5 * x^3 - 6 * x^1 + 1\";\nString replacedStr = str.replaceAll(\"\\\\^(\\\\d+)\", \"&lt;sup&gt;\\$1&lt;/sup&gt;\");\n</code></pre>\n\n<p>Be sure to import java.util.regex.</p>\n"},{"tags":[],"owner":{"account_id":16298,"reputation":10964,"user_id":35322,"display_name":"Adam Jaskiewicz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1236719104,"creation_date":1236719104,"answer_id":632269,"question_id":632204,"body_markdown":"What is your polynomial? If you&#39;re &quot;processing&quot; it, I&#39;m envisioning some sort of tree of sub-expressions being generated at some point, and would think that it would be much simpler to use that to generate your string than to re-parse the raw expression with a regex.\r\n\r\nJust throwing a different way of thinking out there. I&#39;m not sure what else is going on in your app.","title":"Java; String replace (school project)?","body":"<p>What is your polynomial? If you're \"processing\" it, I'm envisioning some sort of tree of sub-expressions being generated at some point, and would think that it would be much simpler to use that to generate your string than to re-parse the raw expression with a regex.</p>\n\n<p>Just throwing a different way of thinking out there. I'm not sure what else is going on in your app.</p>\n"},{"tags":[],"owner":{"account_id":1823007,"reputation":231,"user_id":1656603,"display_name":"Hubbison"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1347103763,"creation_date":1347103763,"answer_id":12330328,"question_id":632204,"body_markdown":"\r\n\r\n    String input = &quot;hello I&#39;m a java dev&quot; +\r\n    &quot;no job experience needed&quot; +\r\n    &quot;senior software engineer&quot; +\r\n    &quot;java job available for senior software engineer&quot;;\r\n    \t\t\r\n    String fixedInput = input.replaceAll(&quot;(java|job|senior)&quot;, &quot;&lt;b&gt;$1&lt;/b&gt;&quot;);","title":"Java; String replace (school project)?","body":"<pre><code>String input = \"hello I'm a java dev\" +\n\"no job experience needed\" +\n\"senior software engineer\" +\n\"java job available for senior software engineer\";\n\nString fixedInput = input.replaceAll(\"(java|job|senior)\", \"&lt;b&gt;$1&lt;/b&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229930,"reputation":1278,"user_id":493216,"accept_rate":50,"display_name":"BigGinDaHouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347796639,"creation_date":1347796639,"answer_id":12446669,"question_id":632204,"body_markdown":"    class Replacement \r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            String Main = &quot;5 * x^3 - 6 * x^1 + 1&quot;;\r\n            String replaced = Main.replaceAll(&quot;(?m)(:?\\\\d+) \\\\* x\\\\^(:?\\\\d+)&quot;, &quot;$1x&lt;sup&gt;$2&lt;/sup&gt;&quot;);\r\n            System.out.println(replaced);\r\n        }\r\n    }","title":"Java; String replace (school project)?","body":"<pre><code>class Replacement \n{\n    public static void main(String args[])\n    {\n        String Main = \"5 * x^3 - 6 * x^1 + 1\";\n        String replaced = Main.replaceAll(\"(?m)(:?\\\\d+) \\\\* x\\\\^(:?\\\\d+)\", \"$1x&lt;sup&gt;$2&lt;/sup&gt;\");\n        System.out.println(replaced);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612504,"reputation":601,"user_id":3013189,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1384952760,"creation_date":1384952760,"answer_id":20096812,"question_id":632204,"body_markdown":"    private String removeScript(String content) {\r\n\t\tPattern p = Pattern.compile(&quot;&lt;script[^&gt;]*&gt;(.*?)&lt;/script&gt;&quot;,\r\n\t\t\t\tPattern.DOTALL | Pattern.CASE_INSENSITIVE);\r\n\t\treturn p.matcher(content).replaceAll(&quot;&quot;);\r\n\t}","title":"Java; String replace (school project)?","body":"<pre><code>private String removeScript(String content) {\n    Pattern p = Pattern.compile(\"&lt;script[^&gt;]*&gt;(.*?)&lt;/script&gt;\",\n            Pattern.DOTALL | Pattern.CASE_INSENSITIVE);\n    return p.matcher(content).replaceAll(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7822429,"reputation":21,"user_id":5915163,"display_name":"user5915163"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1455219903,"creation_date":1455215444,"answer_id":35347278,"question_id":632204,"body_markdown":"Try this, may not be the best way. but it works\r\n\r\n    String str = &quot;5 * x^3 - 6 * x^1 + 1&quot;;\r\n    str = str.replaceAll(&quot;(?x)(\\\\d+)(\\\\s+?\\\\*?\\\\s+?)(\\\\w+?)(\\\\^+?)(\\\\d+?)&quot;, &quot;$1$3&lt;sup&gt;$5&lt;/sup&gt;&quot;);\r\n    System.out.println(str);","title":"Java; String replace (school project)?","body":"<p>Try this, may not be the best way. but it works</p>\n\n<pre><code>String str = \"5 * x^3 - 6 * x^1 + 1\";\nstr = str.replaceAll(\"(?x)(\\\\d+)(\\\\s+?\\\\*?\\\\s+?)(\\\\w+?)(\\\\^+?)(\\\\d+?)\", \"$1$3&lt;sup&gt;$5&lt;/sup&gt;\");\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460471276,"creation_date":1460470610,"answer_id":36575965,"question_id":632204,"body_markdown":"Take a look at antlr4.  It will get you much farther along in creating a tree structure than regular expressions alone.\r\n\r\nhttps://github.com/antlr/grammars-v4/tree/master/calculator  (calculator.g4 contains the grammar you need)\r\n\r\nIn a nutshell, you define the grammar to parse an expression, use antlr to generate java code, and add callbacks to handle evaluation when the tree is being built.\r\n","title":"Java; String replace (school project)?","body":"<p>Take a look at antlr4.  It will get you much farther along in creating a tree structure than regular expressions alone.</p>\n\n<p><a href=\"https://github.com/antlr/grammars-v4/tree/master/calculator\" rel=\"nofollow\">https://github.com/antlr/grammars-v4/tree/master/calculator</a>  (calculator.g4 contains the grammar you need)</p>\n\n<p>In a nutshell, you define the grammar to parse an expression, use antlr to generate java code, and add callbacks to handle evaluation when the tree is being built.</p>\n"},{"tags":[],"owner":{"account_id":8879274,"reputation":131,"user_id":6630130,"display_name":"vit123"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1469318305,"creation_date":1469310749,"answer_id":38546728,"question_id":632204,"body_markdown":"    &quot;5 * x^3 - 6 * x^1 + 1&quot;.replaceAll(&quot;\\\\W*\\\\*\\\\W*&quot;,&quot;&quot;).replaceAll(&quot;\\\\^(\\\\d+)&quot;,&quot;&lt;sup&gt;$1&lt;/sup&gt;&quot;);\r\n\r\nplease note that joining both replacements in a single regex/replacement would be a bad choice because more general expressions such as `x^3 - 6 * x` would fail.","title":"Java; String replace (school project)?","body":"<pre><code>\"5 * x^3 - 6 * x^1 + 1\".replaceAll(\"\\\\W*\\\\*\\\\W*\",\"\").replaceAll(\"\\\\^(\\\\d+)\",\"&lt;sup&gt;$1&lt;/sup&gt;\");\n</code></pre>\n\n<p>please note that joining both replacements in a single regex/replacement would be a bad choice because more general expressions such as <code>x^3 - 6 * x</code> would fail.</p>\n"}],"owner":{"account_id":11253,"reputation":9932,"user_id":21613,"accept_rate":61,"display_name":"Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631185,"favorite_count":0,"down_vote_count":2,"up_vote_count":200,"answer_count":12,"score":198,"last_activity_date":1671116731,"creation_date":1236717969,"question_id":632204,"body_markdown":"As part of a project for school, I need to replace a string from the form:\r\n\r\n    5 * x^3 - 6 * x^1 + 1\r\n\r\nto something like:\r\n\r\n    5x&lt;sup&gt;3&lt;/sup&gt; - 6x&lt;sup&gt;1&lt;/sup&gt; + 1\r\n\r\nI believe this can be done with regular expressions, but I don&#39;t know how to do it yet.\r\n\r\nCan you lend me a hand? \r\n\r\nP.S. The actual assignment is to implement a Polynomial Processing Java application, and I&#39;m using this to pass polynomial.toString() from the model to the view, and I want do display it using html tags in a pretty way.","title":"Java; String replace (school project)?","body":"<p>As part of a project for school, I need to replace a string from the form:</p>\n\n<pre><code>5 * x^3 - 6 * x^1 + 1\n</code></pre>\n\n<p>to something like:</p>\n\n<pre><code>5x&lt;sup&gt;3&lt;/sup&gt; - 6x&lt;sup&gt;1&lt;/sup&gt; + 1\n</code></pre>\n\n<p>I believe this can be done with regular expressions, but I don't know how to do it yet.</p>\n\n<p>Can you lend me a hand? </p>\n\n<p>P.S. The actual assignment is to implement a Polynomial Processing Java application, and I'm using this to pass polynomial.toString() from the model to the view, and I want do display it using html tags in a pretty way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636024431,"post_id":69838078,"comment_id":123449929,"body_markdown":"Which Java version are you using?","body":"Which Java version are you using?"},{"owner":{"account_id":9606629,"reputation":627,"user_id":7132461,"display_name":"Mateusz Budzisz"},"score":0,"creation_date":1636024514,"post_id":69838078,"comment_id":123449965,"body_markdown":"Java used to compile: OpenJDK17","body":"Java used to compile: OpenJDK17"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636025610,"post_id":69838078,"comment_id":123450398,"body_markdown":"I cannot reproduce this.","body":"I cannot reproduce this."},{"owner":{"account_id":9606629,"reputation":627,"user_id":7132461,"display_name":"Mateusz Budzisz"},"score":0,"creation_date":1636031751,"post_id":69838078,"comment_id":123452795,"body_markdown":"@MCEmperor I created git repo with all files that Idea needs to be able to open it as project. Entry point is in Main.java. I hope that would help.","body":"@MCEmperor I created git repo with all files that Idea needs to be able to open it as project. Entry point is in Main.java. I hope that would help."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1636034232,"post_id":69838078,"comment_id":123453818,"body_markdown":"Yep, can reproduce it with your sample project (IntelliJ 2021.2.3, with Temurin JDK 17). Interestingly, IntelliJ itself doesn&#39;t show an error here, only when running the build the javac compiler produces that error.","body":"Yep, can reproduce it with your sample project (IntelliJ 2021.2.3, with Temurin JDK 17). Interestingly, IntelliJ itself doesn&#39;t show an error here, only when running the build the javac compiler produces that error."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636036402,"creation_date":1636036402,"answer_id":69840933,"question_id":69838078,"body_markdown":"## Not an answer, aiming to provide a simplified reproducible example for other to solve the problem.\r\n\r\n```java\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List.of(0.1d).stream().map(aDouble -&gt; {\r\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Number::doubleValue);\r\n                }\r\n        );\r\n    }\r\n}\r\n```\r\nSeems the problem is the compiler can&#39;t recognize the type of `aDouble` in the nested stream and cause some strange error.\r\n\r\n### Some way to make it compiles\r\n1. Remove return  \r\n```java\r\n        Stream.of(0.1d).map(aDouble -&gt;\r\n                List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Double::doubleValue)\r\n        );\r\n```\r\n2. Specify type of `aDouble`  \r\n```java\r\n        Stream.of(0.1d).map((Double aDouble) -&gt; {\r\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Double::doubleValue);\r\n                }\r\n        );\r\n```\r\n3. Not use method reference  \r\n```java\r\n        Stream.of(0.1d).map(aDouble -&gt; {\r\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(d -&gt; d.doubleValue());\r\n                }\r\n        );\r\n```","title":"Why does using a method reference instead of a lambda result in a compile error in this case?","body":"<h2>Not an answer, aiming to provide a simplified reproducible example for other to solve the problem.</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List.of(0.1d).stream().map(aDouble -&gt; {\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Number::doubleValue);\n                }\n        );\n    }\n}\n</code></pre>\n<p>Seems the problem is the compiler can't recognize the type of <code>aDouble</code> in the nested stream and cause some strange error.</p>\n<h3>Some way to make it compiles</h3>\n<ol>\n<li>Remove return</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        Stream.of(0.1d).map(aDouble -&gt;\n                List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Double::doubleValue)\n        );\n</code></pre>\n<ol start=\"2\">\n<li>Specify type of <code>aDouble</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        Stream.of(0.1d).map((Double aDouble) -&gt; {\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(Double::doubleValue);\n                }\n        );\n</code></pre>\n<ol start=\"3\">\n<li>Not use method reference</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        Stream.of(0.1d).map(aDouble -&gt; {\n                    return List.of(1).stream().map(p -&gt; aDouble).mapToDouble(d -&gt; d.doubleValue());\n                }\n        );\n</code></pre>\n"}],"owner":{"account_id":9606629,"reputation":627,"user_id":7132461,"display_name":"Mateusz Budzisz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1671116702,"creation_date":1636023126,"question_id":69838078,"body_markdown":"I have the following code:\r\n\r\n    final var fieldValuesStream = items.stream()\r\n                    .map(person -&gt; PersonFieldGetter.getFieldValueAsNumber(functionsParameters.getFieldName(), person)) // Number\r\n                    .mapToDouble(number -&gt; number.doubleValue());\r\n\r\nIDEA highlights &quot;number -&gt; number.doubleValue()&quot; with the message:\r\n\r\n&gt; Lambda can be replaced with method reference\r\n&gt; &lt;br&gt;Replace Lamda with method reference\r\n\r\nBut when I change the code to `.mapToDouble(Number::doubleValue)` a compile error happens:\r\n\r\n&gt; QueryProcessor.java:31:34\r\njava: incompatible types: invalid method reference\r\n    method doubleValue in class java.lang.Number cannot be applied to given types\r\n      required: no arguments\r\n      found:    java.lang.Object\r\n      reason: actual and formal argument lists differ in length\r\n\r\n[Full source code][1]&lt;br&gt;\r\nWhy is this happening?\r\n\r\n[Project to reproduce the problem][2]\r\n\r\nEDIT: Added link to GitHub project with example\r\nproject that is failing to build using:\r\n\r\nIntelliJ IDEA 2021.2.3 (Ultimate Edition)&lt;br&gt;\r\nBuild #IU-212.5457.46, built on October 12, 2021&lt;br&gt;\r\nRuntime version: 11.0.12+7-b1504.40 amd64&lt;br&gt;\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.&lt;br&gt;\r\nSDK: Oracle OpenJDK 17.0.1\r\n\r\n\r\n  [1]: https://github.com/PJMPR/JAZ_st_2021_gr3/blob/lab03/Mateusz_Budzisz/s24048/dev/lab03/demo/src/main/java/org/example/queries/QueryProcessor.java\r\n  [2]: https://github.com/ElectroluxV2/repro","title":"Why does using a method reference instead of a lambda result in a compile error in this case?","body":"<p>I have the following code:</p>\n<pre><code>final var fieldValuesStream = items.stream()\n                .map(person -&gt; PersonFieldGetter.getFieldValueAsNumber(functionsParameters.getFieldName(), person)) // Number\n                .mapToDouble(number -&gt; number.doubleValue());\n</code></pre>\n<p>IDEA highlights &quot;number -&gt; number.doubleValue()&quot; with the message:</p>\n<blockquote>\n<p>Lambda can be replaced with method reference\n<br>Replace Lamda with method reference</p>\n</blockquote>\n<p>But when I change the code to <code>.mapToDouble(Number::doubleValue)</code> a compile error happens:</p>\n<blockquote>\n<p>QueryProcessor.java:31:34\njava: incompatible types: invalid method reference\nmethod doubleValue in class java.lang.Number cannot be applied to given types\nrequired: no arguments\nfound:    java.lang.Object\nreason: actual and formal argument lists differ in length</p>\n</blockquote>\n<p><a href=\"https://github.com/PJMPR/JAZ_st_2021_gr3/blob/lab03/Mateusz_Budzisz/s24048/dev/lab03/demo/src/main/java/org/example/queries/QueryProcessor.java\" rel=\"nofollow noreferrer\">Full source code</a><br>\nWhy is this happening?</p>\n<p><a href=\"https://github.com/ElectroluxV2/repro\" rel=\"nofollow noreferrer\">Project to reproduce the problem</a></p>\n<p>EDIT: Added link to GitHub project with example\nproject that is failing to build using:</p>\n<p>IntelliJ IDEA 2021.2.3 (Ultimate Edition)<br>\nBuild #IU-212.5457.46, built on October 12, 2021<br>\nRuntime version: 11.0.12+7-b1504.40 amd64<br>\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.<br>\nSDK: Oracle OpenJDK 17.0.1</p>\n"},{"tags":["java","httpurlconnection","http-status-codes","runtimeexception","nosuchelementexception"],"comments":[{"owner":{"account_id":9366227,"reputation":592,"user_id":6951053,"accept_rate":50,"display_name":"Brian K"},"score":0,"creation_date":1671129451,"post_id":74813557,"comment_id":132037462,"body_markdown":"Does this post help at all? Looks like this person ran into a similar issue: https://stackoverflow.com/questions/9228120/httpurlconnection-runtimeexception","body":"Does this post help at all? Looks like this person ran into a similar issue: <a href=\"https://stackoverflow.com/questions/9228120/httpurlconnection-runtimeexception\" title=\"httpurlconnection runtimeexception\">stackoverflow.com/questions/9228120/&hellip;</a>"}],"owner":{"account_id":25554670,"reputation":15,"user_id":19338443,"display_name":"Yair Ruiz barbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671116682,"creation_date":1671116682,"question_id":74813557,"body_markdown":"I&#39;m performing an endpoint check but somehow I got a NoSuchElementException:\r\n\r\n```\r\nHttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\r\nconn.setRequestMethod(HttpMethod.HEAD.name());\r\nconn.setUseCaches(false);\r\nconn.setConnectTimeout(CONNECT_TIMEOUT);\r\nconn.setReadTimeout(READ_TIMEOUT);\r\nfinal HttpStatus rc = HttpStatus.valueOf(conn.getResponseCode());\r\n```\r\nAccording to the logs, it failing on the\r\n\r\n```\r\nfinal HttpStatus rc = HttpStatus.valueOf(conn.getResponseCode());\r\n```\r\n\r\nWhat I&#39;m not sure is why is this happening, I&#39;ve checked Java documentation regarding HttpURLConnection and HttpStatus and none of them will throw a this kind of exception.\r\n\r\n\r\nI&#39;ve go through the documentation and also tried to insert values that may trigger that exception so I can understand a little bit why this is happening but I&#39;ve no luck","title":"HttpURLConnection throws NoSuchElementException","body":"<p>I'm performing an endpoint check but somehow I got a NoSuchElementException:</p>\n<pre><code>HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\nconn.setRequestMethod(HttpMethod.HEAD.name());\nconn.setUseCaches(false);\nconn.setConnectTimeout(CONNECT_TIMEOUT);\nconn.setReadTimeout(READ_TIMEOUT);\nfinal HttpStatus rc = HttpStatus.valueOf(conn.getResponseCode());\n</code></pre>\n<p>According to the logs, it failing on the</p>\n<pre><code>final HttpStatus rc = HttpStatus.valueOf(conn.getResponseCode());\n</code></pre>\n<p>What I'm not sure is why is this happening, I've checked Java documentation regarding HttpURLConnection and HttpStatus and none of them will throw a this kind of exception.</p>\n<p>I've go through the documentation and also tried to insert values that may trigger that exception so I can understand a little bit why this is happening but I've no luck</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":1,"creation_date":1529476981,"post_id":50941811,"comment_id":88881172,"body_markdown":"Could you add the full stack trace? (it&#39;s explained in the error message how to get a hold of it)","body":"Could you add the full stack trace? (it&#39;s explained in the error message how to get a hold of it)"}],"answers":[{"tags":[],"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1529477944,"creation_date":1529477944,"answer_id":50942098,"question_id":50941811,"body_markdown":"To use lamdas in my maven plugin i had to use the maven-plugin-plugin in a recent version (in my case 3.5) like this:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.5&lt;/version&gt;\r\n\t&lt;/plugin&gt;","title":"Use lambda in own maven-plugin &quot;breaks&quot; install plugin goal","body":"<p>To use lamdas in my maven plugin i had to use the maven-plugin-plugin in a recent version (in my case 3.5) like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50942098,"answer_count":1,"score":0,"last_activity_date":1671116460,"creation_date":1529476922,"question_id":50941811,"body_markdown":"I started creating my own maven-plugin. Everything was fine and worked with the [documentation from maven][1].\r\n\r\nNow I created a new class where I do want to sort a List:\r\n\r\npublic class VersionResolver {\r\n\r\n    File file;\r\n\r\n    public VersionResolver(String path) {\r\n\r\n        ...\r\n    }\r\n\r\n    public List&lt;String&gt; getAvailableOrderedVersions(){\r\n\r\n        File[] versionFolders = file.listFiles(new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                return name.startsWith(&quot;v&quot;);\r\n            }\r\n        });\r\n\r\n        List&lt;String&gt; versions = new ArrayList&lt;String&gt;();\r\n        for (File f :versionFolders) {\r\n            if (f.isDirectory()){\r\n                versions.add(f.getName().replace(&quot;v&quot;, &quot;&quot;));\r\n            }\r\n        }\r\n\r\n        Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {\r\n\r\n            public int compare(String v1, String v2) {\r\n                   .....(code not really relevant)...\r\n            }\r\n        };\r\n\r\n        Collections.sort(versions, comparator);\r\n\r\n        return versions;\r\n    }\r\n\r\nThanks to lamda this can be done like:\r\n\r\n        versions.sort((v1, v2) -&gt; {\r\n\r\n            ....\r\n        });\r\n\r\nAfter that, when I do an mvn install I get the error:\r\n\r\n\t[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264 -&gt; [Help 1]\r\n\t[ERROR] \r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR] \r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\nMy parent pom has:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd the maven-plugin pom looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;installer&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;installer-maven-plugin&lt;/artifactId&gt;\r\n        &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n        &lt;name&gt;Plugin for building the Installer and Patches&lt;/name&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- dependencies to annotations --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- inherits config from parent: can override if required --&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nDoes anyone know what I do wrong?\r\n\r\nEDIT:\r\n\r\nhere is the ouptut for mvn -x install \r\n\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time: 02:50 min\r\n\t[INFO] Finished at: 2018-06-20T08:58:23+02:00\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264\r\n\t-&gt; [Help 1]\r\n\torg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:m\r\n\taven-plugin-plugin:3.2:descriptor failed: 52264\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n\t\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n\t\tat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n\t\tat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n\t\tat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n\t\tat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke (Method.java:498)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\tCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n\t\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n\t\tat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n\t\tat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n\t\tat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n\t\tat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke (Method.java:498)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\tCaused by: java.lang.ArrayIndexOutOfBoundsException: 52264\r\n\t\tat org.objectweb.asm.ClassReader.readClass (Unknown Source)\r\n\t\tat org.objectweb.asm.ClassReader.accept (Unknown Source)\r\n\t\tat org.objectweb.asm.ClassReader.accept (Unknown Source)\r\n\t\tat org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scanDirectory (DefaultMojoAnnotationsScanner.java:205)\r\n\t\tat org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:95)\r\n\t\tat org.apache.maven.tools.plugin.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:125)\r\n\t\tat org.apache.maven.tools.plugin.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:104)\r\n\t\tat org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:108)\r\n\t\tat org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:233)\r\n\t\tat org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:92)\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n\t\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n\t\tat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n\t\tat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n\t\tat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n\t\tat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke (Method.java:498)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\t[ERROR]\r\n\t[ERROR]\r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\t[ERROR]\r\n\t[ERROR] After correcting the problems, you can resume the build with the command\r\n\t[ERROR]   mvn &lt;goals&gt; -rf :lsg-installer-maven-plugin\r\n \r\n\r\n\r\n  [1]: http://maven.apache.org/guides/plugin/guide-java-plugin-development.html","title":"Use lambda in own maven-plugin &quot;breaks&quot; install plugin goal","body":"<p>I started creating my own maven-plugin. Everything was fine and worked with the <a href=\"http://maven.apache.org/guides/plugin/guide-java-plugin-development.html\" rel=\"nofollow noreferrer\">documentation from maven</a>.</p>\n\n<p>Now I created a new class where I do want to sort a List:</p>\n\n<p>public class VersionResolver {</p>\n\n<pre><code>File file;\n\npublic VersionResolver(String path) {\n\n    ...\n}\n\npublic List&lt;String&gt; getAvailableOrderedVersions(){\n\n    File[] versionFolders = file.listFiles(new FilenameFilter() {\n        public boolean accept(File dir, String name) {\n            return name.startsWith(\"v\");\n        }\n    });\n\n    List&lt;String&gt; versions = new ArrayList&lt;String&gt;();\n    for (File f :versionFolders) {\n        if (f.isDirectory()){\n            versions.add(f.getName().replace(\"v\", \"\"));\n        }\n    }\n\n    Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {\n\n        public int compare(String v1, String v2) {\n               .....(code not really relevant)...\n        }\n    };\n\n    Collections.sort(versions, comparator);\n\n    return versions;\n}\n</code></pre>\n\n<p>Thanks to lamda this can be done like:</p>\n\n<pre><code>    versions.sort((v1, v2) -&gt; {\n\n        ....\n    });\n</code></pre>\n\n<p>After that, when I do an mvn install I get the error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n\n<p>My parent pom has:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And the maven-plugin pom looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;installer&lt;/artifactId&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;installer-maven-plugin&lt;/artifactId&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n    &lt;name&gt;Plugin for building the Installer and Patches&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- dependencies to annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;!-- inherits config from parent: can override if required --&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Does anyone know what I do wrong?</p>\n\n<p>EDIT:</p>\n\n<p>here is the ouptut for mvn -x install </p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 02:50 min\n[INFO] Finished at: 2018-06-20T08:58:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264\n-&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project lsg-installer-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:m\naven-plugin-plugin:3.2:descriptor failed: 52264\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: 52264\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 52264\n    at org.objectweb.asm.ClassReader.readClass (Unknown Source)\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\n    at org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scanDirectory (DefaultMojoAnnotationsScanner.java:205)\n    at org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:95)\n    at org.apache.maven.tools.plugin.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:125)\n    at org.apache.maven.tools.plugin.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:104)\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:108)\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:233)\n    at org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:92)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :lsg-installer-maven-plugin\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-rest","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588381011,"post_id":61551567,"comment_id":108881659,"body_markdown":"check if the workaround here solves your issue https://github.com/spring-cloud/spring-cloud-commons/issues/295#issuecomment-414206032","body":"check if the workaround here solves your issue <a href=\"https://github.com/spring-cloud/spring-cloud-commons/issues/295#issuecomment-414206032\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-commons/issues/&hellip;</a>"},{"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"score":0,"creation_date":1588428761,"post_id":61551567,"comment_id":108894173,"body_markdown":"I thought that was the case but unfortunately it didn&#39;t work","body":"I thought that was the case but unfortunately it didn&#39;t work"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588430092,"post_id":61551567,"comment_id":108894690,"body_markdown":"When you say it didnt work, post EXACTLY what didnt eork, error message, implementation. Im not going to sit and guess all night","body":"When you say it didnt work, post EXACTLY what didnt eork, error message, implementation. Im not going to sit and guess all night"},{"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"score":0,"creation_date":1588437307,"post_id":61551567,"comment_id":108897619,"body_markdown":"When I re-implemented that workaround for what happened, it actually worked now, I guess I did it wrong at the beginning.\nI thought you weren&#39;t sure and just gave the link for try, I didn&#39;t know you wanted to follow along.\nThank you.","body":"When I re-implemented that workaround for what happened, it actually worked now, I guess I did it wrong at the beginning. I thought you weren&#39;t sure and just gave the link for try, I didn&#39;t know you wanted to follow along. Thank you."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588451629,"post_id":61551567,"comment_id":108903295,"body_markdown":"i like to help people, but it is very hard to help people when people usually just answer &quot;it didn&#39;t work&quot; i always like to know exactly what did not work so that one can work more on the problem at hand.","body":"i like to help people, but it is very hard to help people when people usually just answer &quot;it didn&#39;t work&quot; i always like to know exactly what did not work so that one can work more on the problem at hand."},{"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"score":1,"creation_date":1588522782,"post_id":61551567,"comment_id":108923966,"body_markdown":"this is what I get as an error , don&#39;t mind my last comment please.\n503 Service Unavailable from UNKNOWN \norg.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:207)\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n\t|_ checkpoint  503 from GET https://api.themoviedb.org/3/movie/551?api_key=apikey [DefaultWebClient]","body":"this is what I get as an error , don&#39;t mind my last comment please. 503 Service Unavailable from UNKNOWN  org.springframework.web.reactive.function.client.WebClientRe&zwnj;&#8203;sponseException$Serv&zwnj;&#8203;iceUnavailable: 503 Service Unavailable from UNKNOWN  \tat org.springframework.web.reactive.function.client.WebClientRe&zwnj;&#8203;sponseException.crea&zwnj;&#8203;te(WebClientResponse&zwnj;&#8203;Exception.java:207) \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:  Error has been observed at the following site(s): \t|_ checkpoint  503 from GET <a href=\"https://api.themoviedb.org/3/movie/551?api_key=apikey\" rel=\"nofollow noreferrer\">api.themoviedb.org/3/movie/551?api_key=apikey</a> [DefaultWebClient]"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588536656,"post_id":61551567,"comment_id":108929876,"body_markdown":"it says straight up, you are calling UNKNOWN and nothing is answering at the address UNKNOW (becuase thats not a valid uri) so you get a 503 back","body":"it says straight up, you are calling UNKNOWN and nothing is answering at the address UNKNOW (becuase thats not a valid uri) so you get a 503 back"},{"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"score":0,"creation_date":1588542376,"post_id":61551567,"comment_id":108931871,"body_markdown":"It happens when I annotate my WebClient bean with LoadBalanced annotation. If I remove annotation this service works fine on the other hand I have another service using same implementation for WebClient it works with LoadBalanced annotation and gives same http 503 error when I don&#39;t use it. Only different between these two service is the one working with annotation makes requests to eureka discovery server, other one makes requests to external api.  I cant use same implementation for two service, I wonder if there is a generic way to use WebClient in both scenario","body":"It happens when I annotate my WebClient bean with LoadBalanced annotation. If I remove annotation this service works fine on the other hand I have another service using same implementation for WebClient it works with LoadBalanced annotation and gives same http 503 error when I don&#39;t use it. Only different between these two service is the one working with annotation makes requests to eureka discovery server, other one makes requests to external api.  I cant use same implementation for two service, I wonder if there is a generic way to use WebClient in both scenario"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588544076,"post_id":61551567,"comment_id":108932456,"body_markdown":"wait, you are trying to call a non-eureka registered service using a `@LoadBalanced` webclient? becuase that is obviously NOT going to work.","body":"wait, you are trying to call a non-eureka registered service using a <code>@LoadBalanced</code> webclient? becuase that is obviously NOT going to work."},{"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"score":0,"creation_date":1588620125,"post_id":61551567,"comment_id":108963797,"body_markdown":"All my services registered to eureka server. My app works like this ; A service calling the B and C services through service discovery. B service makes request to external API, A service collect data from other two service and returns it. A works with @LoadBalanced , B doesn&#39;t.","body":"All my services registered to eureka server. My app works like this ; A service calling the B and C services through service discovery. B service makes request to external API, A service collect data from other two service and returns it. A works with @LoadBalanced , B doesn&#39;t."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1588621635,"post_id":61551567,"comment_id":108964517,"body_markdown":"it&#39;s been a while, but if i remember correctly, the `@LoadBalanced` client is only for registering your service with eureka. It calls eureka during startup and registers it using that webclient. All other calls have to be made with another client, but you do the calls to their service names instead of public uri&#39;s.","body":"it&#39;s been a while, but if i remember correctly, the <code>@LoadBalanced</code> client is only for registering your service with eureka. It calls eureka during startup and registers it using that webclient. All other calls have to be made with another client, but you do the calls to their service names instead of public uri&#39;s."}],"owner":{"account_id":14631472,"reputation":144,"user_id":10567099,"display_name":"Ali D.A."},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671116402,"creation_date":1588370961,"question_id":61551567,"body_markdown":"When I use @LoadBalanced annotation for WebClient.Builder I get following stack trace from external API.\r\nThe demo I wrote before this was returning hardcoded data and I use EurekaServer. That application also giving error because I didn&#39;t annotated my WebClient.Builder with @LoadBalanced so how can I use this for both usage I believe its happening because server has one or multiple instances.\r\n\r\nMainApp\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class MovieInfoServiceApplication {\r\n\r\n\t@Bean\r\n    @LoadBalanced\r\n\tpublic WebClient.Builder getWebClientBuilder() {\r\n\t\treturn WebClient.builder();\r\n\r\n\t}\r\n        public static void main(String[] args) {\r\n\t\tSpringApplication.run(MovieInfoServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRestController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/movies&quot;)\r\npublic class MovieRestController {\r\n\r\napi key field\r\n\r\n\t@Autowired\r\n\tprivate WebClient.Builder webClientBuilder;\r\n\r\n@RequestMapping(&quot;/{movieId}&quot;)\r\n\tpublic Movie getMovieById(@PathVariable(&quot;movieId&quot;) int movieId) {\r\nMovie movieDetails = webClientBuilder\r\n\t\t\t\t.build()\r\n\t\t\t\t.get()\r\n\t\t\t\t.uri(&quot;https://api.themoviedb.org/3/movie/&quot; + movieId + &quot;?api_key=&quot; + apiKey)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(Movie.class).block();\r\n\r\n\t\treturn new Movie(movieId, movieDetails.getTitle(), movieDetails.getOverview());\r\n}\r\n}\r\n```\r\n\r\n\r\nStack trace\r\n```\r\n500 Internal Server Error from GET http://localhost:8082/movies/550\r\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET http://localhost:8082/movies/550\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:201)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint  500 from GET http://movie-info-service/movies/550 [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:201)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\r\n```\r\n\r\n\r\n\r\n\r\nAfter https://github.com/spring-cloud/spring-cloud-commons/issues/295#issuecomment-414206032 this implementation\r\n\r\n\r\n\r\nMainApp\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n\r\n@EnableEurekaClient\r\n\r\npublic class MovieInfoServiceApplication {\r\n\r\n\t\r\n\r\n    @Bean\r\n\r\n    WebClient webClient(LoadBalancerClient loadBalancerClient) {\r\n\r\n        return WebClient.builder()\r\n\r\n                .filter(new LoadBalancerExchangeFilterFunction(loadBalancerClient))\r\n\r\n                .build();\r\n\r\n    }\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(MovieInfoServiceApplication.class, args);\r\n\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nRestController\r\n\r\n```\r\n\r\n@RestController\r\n\r\n@RequestMapping(&quot;/movies&quot;)\r\n\r\npublic class MovieRestController {\r\n\r\n\t\r\n\r\n\t@Value(&quot;${api.key}&quot;)\r\n\r\n\tprivate String apiKey;\r\n\r\n\t\r\n\r\n\t@Autowired\r\n\r\n\tprivate WebClient webClient;\r\n\r\n\r\n\r\n\t\r\n\r\n\t@RequestMapping(&quot;/{movieId}&quot;)\r\n\r\n\tpublic Movie getMovieById(@PathVariable(&quot;movieId&quot;) int movieId) {\r\n\r\n\t\t\r\n\r\n\t\tMovie movieDetails = webClient\r\n\r\n\t\t\t\t.get()\r\n\r\n\t\t\t\t.uri(&quot;https://api.themoviedb.org/3/movie/&quot; + movieId + &quot;?api_key=&quot; + apiKey)\r\n\r\n\t\t\t\t.retrieve()\r\n\r\n\t\t\t\t.bodyToMono(Movie.class)\r\n\r\n\t\t\t\t.block();\r\n\r\n\t\t\r\n\r\n\r\n\r\n\t\treturn new Movie(movieId, movieDetails.getTitle(), movieDetails.getOverview());\r\n\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nError\r\n\r\n```\r\n\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun May 03 19:15:51 EET 2020\r\n\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\n\r\n503 Service Unavailable from UNKNOWN \r\n\r\norg.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \r\n\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:207)\r\n\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n\r\nError has been observed at the following site(s):\r\n\r\n\t|_ checkpoint  503 from GET https://api.themoviedb.org/3/movie/551?api_key=apikeyvalue [DefaultWebClient]\r\n\r\nStack trace:\r\n\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:207)\r\n\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\r\n\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\r\n\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92)\r\n\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121)\r\n\r\n\t\tat reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:103)\r\n\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287)\r\n\r\n```","title":"I get WebClientResponseException$ServiceUnavailable error when I use @LoadBalanced annotated WebClient.Builder","body":"<p>When I use @LoadBalanced annotation for WebClient.Builder I get following stack trace from external API.\nThe demo I wrote before this was returning hardcoded data and I use EurekaServer. That application also giving error because I didn't annotated my WebClient.Builder with @LoadBalanced so how can I use this for both usage I believe its happening because server has one or multiple instances.</p>\n\n<p>MainApp</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\npublic class MovieInfoServiceApplication {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder getWebClientBuilder() {\n        return WebClient.builder();\n\n    }\n        public static void main(String[] args) {\n        SpringApplication.run(MovieInfoServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>RestController</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/movies\")\npublic class MovieRestController {\n\napi key field\n\n    @Autowired\n    private WebClient.Builder webClientBuilder;\n\n@RequestMapping(\"/{movieId}\")\n    public Movie getMovieById(@PathVariable(\"movieId\") int movieId) {\nMovie movieDetails = webClientBuilder\n                .build()\n                .get()\n                .uri(\"https://api.themoviedb.org/3/movie/\" + movieId + \"?api_key=\" + apiKey)\n                .retrieve()\n                .bodyToMono(Movie.class).block();\n\n        return new Movie(movieId, movieDetails.getTitle(), movieDetails.getOverview());\n}\n}\n</code></pre>\n\n<p>Stack trace</p>\n\n<pre><code>500 Internal Server Error from GET http://localhost:8082/movies/550\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET http://localhost:8082/movies/550\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:201)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint  500 from GET http://movie-info-service/movies/550 [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:201)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\n</code></pre>\n\n<p>After <a href=\"https://github.com/spring-cloud/spring-cloud-commons/issues/295#issuecomment-414206032\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-commons/issues/295#issuecomment-414206032</a> this implementation</p>\n\n<p>MainApp</p>\n\n<pre><code>\n@SpringBootApplication\n\n@EnableEurekaClient\n\npublic class MovieInfoServiceApplication {\n\n\n\n    @Bean\n\n    WebClient webClient(LoadBalancerClient loadBalancerClient) {\n\n        return WebClient.builder()\n\n                .filter(new LoadBalancerExchangeFilterFunction(loadBalancerClient))\n\n                .build();\n\n    }\n\n\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(MovieInfoServiceApplication.class, args);\n\n    }\n\n\n\n}\n\n</code></pre>\n\n<p>RestController</p>\n\n<pre><code>\n@RestController\n\n@RequestMapping(\"/movies\")\n\npublic class MovieRestController {\n\n\n\n    @Value(\"${api.key}\")\n\n    private String apiKey;\n\n\n\n    @Autowired\n\n    private WebClient webClient;\n\n\n\n\n\n    @RequestMapping(\"/{movieId}\")\n\n    public Movie getMovieById(@PathVariable(\"movieId\") int movieId) {\n\n\n\n        Movie movieDetails = webClient\n\n                .get()\n\n                .uri(\"https://api.themoviedb.org/3/movie/\" + movieId + \"?api_key=\" + apiKey)\n\n                .retrieve()\n\n                .bodyToMono(Movie.class)\n\n                .block();\n\n\n\n\n\n        return new Movie(movieId, movieDetails.getTitle(), movieDetails.getOverview());\n\n\n\n    }\n\n}\n\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun May 03 19:15:51 EET 2020\n\nThere was an unexpected error (type=Internal Server Error, status=500).\n\n503 Service Unavailable from UNKNOWN \n\norg.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \n\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:207)\n\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \n\nError has been observed at the following site(s):\n\n    |_ checkpoint  503 from GET https://api.themoviedb.org/3/movie/551?api_key=apikeyvalue [DefaultWebClient]\n\nStack trace:\n\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:207)\n\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:209)\n\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100)\n\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92)\n\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121)\n\n        at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:103)\n\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287)\n\n</code></pre>\n"},{"tags":["java","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594040512,"creation_date":1594040512,"answer_id":62756694,"question_id":62756533,"body_markdown":"Via `authentication.getName` &amp; `principal.getName` you can get username :\r\n\r\n**Try below code :** \r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/info&quot;)\r\n    public class GetNameController {\r\n    \r\n        @RequestMapping(value = &quot;/name&quot;, method = RequestMethod.GET)\r\n        public String getName(Authentication authentication, Principal principal) {\r\n            System.out.println(authentication.getName());\r\n            System.out.println(principal.getName());\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n","title":"How can I get the username from the JWT?","body":"<p>Via <code>authentication.getName</code> &amp; <code>principal.getName</code> you can get username :</p>\n<p><strong>Try below code :</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/info&quot;)\npublic class GetNameController {\n\n    @RequestMapping(value = &quot;/name&quot;, method = RequestMethod.GET)\n    public String getName(Authentication authentication, Principal principal) {\n        System.out.println(authentication.getName());\n        System.out.println(principal.getName());\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16200702,"reputation":363,"user_id":11697171,"display_name":"neilnikkunilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594464252,"creation_date":1594041196,"answer_id":62756881,"question_id":62756533,"body_markdown":"After Authenticate you can send JWT Token through Overriding `successfulAuthentication()` method\r\n\r\n**Generate Token code:**\r\n\r\n    @Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\tAuthentication authResult) throws IOException, ServletException {\r\n\t\tString userName = ((User)authResult.getPrincipal()).getUsername();\r\n\t\tUserDto userDetails = userService.getUserDetailsByEmail(userName);\r\n\t\t\r\n\t\t// Generate JWO Token\r\n\t\tString token = Jwts.builder()\r\n\t\t\t\t.setSubject(userDetails.getUserId())\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + Long.parseLong(env.getProperty(&quot;token.expiration_time&quot;))))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, env.getProperty(&quot;token.secret&quot;))\r\n\t\t\t\t.compact();\r\n\t\tresponse.addHeader(&quot;token&quot;, token);\r\n\t\tresponse.addHeader(&quot;userId&quot;, userDetails.getUserId());\r\n\t}\r\n\r\n\r\n&gt; SecurityConfig.java\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp.csrf().disable();\r\n\t\thttp.headers().frameOptions().disable();\r\n\t\thttp.authorizeRequests()\r\n\t\t.antMatchers(env.getProperty(&quot;api.h2console.url.path&quot;)).permitAll()\r\n\t\t.antMatchers(HttpMethod.POST, env.getProperty(&quot;api.registration.url.path&quot;)).permitAll()\r\n\t\t.antMatchers(HttpMethod.POST, env.getProperty(&quot;api.login.url.path&quot;)).permitAll()\r\n\t\t.anyRequest().authenticated();\r\n\t\t\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t}\t\r\n}\r\n``` \r\n&gt; After Getting request, It will authenticated using `http.anyRequest().authenticated()` method.\r\nThen it will call the follow authorization filter for authenticate the request.\r\n\r\n&gt; AuthorizationFilter.java\r\n```\r\npublic class AuthorizationFilter extends BasicAuthenticationFilter{\r\n\r\n\tEnvironment environment;\r\n\t\r\n\tpublic AuthorizationFilter(AuthenticationManager authenticationManager, Environment environment) {\r\n\t\tsuper(authenticationManager);\r\n\t\tthis.environment = environment;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest req,HttpServletResponse res, FilterChain filter)\r\n\t\tthrows IOException, ServletException{\r\n\t\t\r\n\t\tString authorizationHeader = req.getHeader(environment.getProperty(&quot;authorization.token.header.name&quot;));\r\n\t\t\r\n\t\tif(authorizationHeader != null || \r\n\t\t\t\t!authorizationHeader.startsWith(environment.getProperty(&quot;authorization.token.header.name.prefix&quot;))) {\r\n\t\t\tfilter.doFilter(req, res);\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tUsernamePasswordAuthenticationToken authentication = getAuthentication(req);\r\n\t\t\r\n\t\tSecurityContextHolder.getContext().getAuthentication();\r\n\t\tfilter.doFilter(req, res);\r\n\t}\r\n\r\n\tprivate UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest req) {\r\n\t\t\tString authorizationHeader = req.getHeader(environment.getProperty(&quot;authorization.token.header.name&quot;));\r\n\t\t\t\r\n\t\t\tif(authorizationHeader == null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tString token = authorizationHeader.replace(\r\n\t\t\t\t\tenvironment.getProperty(&quot;authorization.token.header.name.prefix&quot;), &quot;&quot;);\r\n\t\t\tString userId = Jwts.parser()\r\n\t\t\t\t\t.setSigningKey(environment.getProperty(&quot;token.secret&quot;))\r\n\t\t\t\t\t.parseClaimsJws(token)\r\n\t\t\t\t\t.getBody()\r\n\t\t\t\t\t.getSubject();\r\n\t\t\tif(userId == null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\treturn new UsernamePasswordAuthenticationToken(userId, null, new ArrayList&lt;&gt;());\r\n\t}\r\n\t\r\n}\r\n```\r\n**I hope this code will work for you**\r\n","title":"How can I get the username from the JWT?","body":"<p>After Authenticate you can send JWT Token through Overriding <code>successfulAuthentication()</code> method</p>\n<p><strong>Generate Token code:</strong></p>\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n        Authentication authResult) throws IOException, ServletException {\n    String userName = ((User)authResult.getPrincipal()).getUsername();\n    UserDto userDetails = userService.getUserDetailsByEmail(userName);\n    \n    // Generate JWO Token\n    String token = Jwts.builder()\n            .setSubject(userDetails.getUserId())\n            .setExpiration(new Date(System.currentTimeMillis() + Long.parseLong(env.getProperty(&quot;token.expiration_time&quot;))))\n            .signWith(SignatureAlgorithm.HS512, env.getProperty(&quot;token.secret&quot;))\n            .compact();\n    response.addHeader(&quot;token&quot;, token);\n    response.addHeader(&quot;userId&quot;, userDetails.getUserId());\n}\n</code></pre>\n<blockquote>\n<p>SecurityConfig.java</p>\n</blockquote>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n    @Autowired\n    private Environment env;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.csrf().disable();\n        http.headers().frameOptions().disable();\n        http.authorizeRequests()\n        .antMatchers(env.getProperty(&quot;api.h2console.url.path&quot;)).permitAll()\n        .antMatchers(HttpMethod.POST, env.getProperty(&quot;api.registration.url.path&quot;)).permitAll()\n        .antMatchers(HttpMethod.POST, env.getProperty(&quot;api.login.url.path&quot;)).permitAll()\n        .anyRequest().authenticated();\n        \n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }   \n}\n</code></pre>\n<blockquote>\n<p>After Getting request, It will authenticated using <code>http.anyRequest().authenticated()</code> method.\nThen it will call the follow authorization filter for authenticate the request.</p>\n</blockquote>\n<blockquote>\n<p>AuthorizationFilter.java</p>\n</blockquote>\n<pre><code>public class AuthorizationFilter extends BasicAuthenticationFilter{\n\n    Environment environment;\n    \n    public AuthorizationFilter(AuthenticationManager authenticationManager, Environment environment) {\n        super(authenticationManager);\n        this.environment = environment;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req,HttpServletResponse res, FilterChain filter)\n        throws IOException, ServletException{\n        \n        String authorizationHeader = req.getHeader(environment.getProperty(&quot;authorization.token.header.name&quot;));\n        \n        if(authorizationHeader != null || \n                !authorizationHeader.startsWith(environment.getProperty(&quot;authorization.token.header.name.prefix&quot;))) {\n            filter.doFilter(req, res);\n            \n            return;\n        }\n        \n        UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\n        \n        SecurityContextHolder.getContext().getAuthentication();\n        filter.doFilter(req, res);\n    }\n\n    private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest req) {\n            String authorizationHeader = req.getHeader(environment.getProperty(&quot;authorization.token.header.name&quot;));\n            \n            if(authorizationHeader == null) {\n                return null;\n            }\n            \n            String token = authorizationHeader.replace(\n                    environment.getProperty(&quot;authorization.token.header.name.prefix&quot;), &quot;&quot;);\n            String userId = Jwts.parser()\n                    .setSigningKey(environment.getProperty(&quot;token.secret&quot;))\n                    .parseClaimsJws(token)\n                    .getBody()\n                    .getSubject();\n            if(userId == null) {\n                return null;\n            }\n            \n        return new UsernamePasswordAuthenticationToken(userId, null, new ArrayList&lt;&gt;());\n    }\n    \n}\n</code></pre>\n<p><strong>I hope this code will work for you</strong></p>\n"},{"tags":[],"owner":{"account_id":2771091,"reputation":176,"user_id":4791750,"display_name":"techiesantosh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594060774,"creation_date":1594060774,"answer_id":62762434,"question_id":62756533,"body_markdown":"You can extract user from Token using below code\r\n\r\n     String token = request.getHeader(HEADER_STRING);\r\n        String user = null;\r\n        if (token != null) {\r\n            // parse the token.\r\n\r\n            try {\r\n                user = Jwts.parser()\r\n                        .setSigningKey(SECRET)\r\n                        .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\r\n                        .getBody()\r\n                        .getSubject();\r\n\r\n\r\n            } catch (Exception e) {\r\n\r\n                throw e;\r\n\r\n            }\r\n\r\nYou can refer the full code and project \r\n\r\nhttps://github.com/techiesantosh/taskmanager-service/blob/develop/src/main/java/com/web/taskmanager/auth/TokenAuthenticationService.java","title":"How can I get the username from the JWT?","body":"<p>You can extract user from Token using below code</p>\n<pre><code> String token = request.getHeader(HEADER_STRING);\n    String user = null;\n    if (token != null) {\n        // parse the token.\n\n        try {\n            user = Jwts.parser()\n                    .setSigningKey(SECRET)\n                    .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\n                    .getBody()\n                    .getSubject();\n\n\n        } catch (Exception e) {\n\n            throw e;\n\n        }\n</code></pre>\n<p>You can refer the full code and project</p>\n<p><a href=\"https://github.com/techiesantosh/taskmanager-service/blob/develop/src/main/java/com/web/taskmanager/auth/TokenAuthenticationService.java\" rel=\"nofollow noreferrer\">https://github.com/techiesantosh/taskmanager-service/blob/develop/src/main/java/com/web/taskmanager/auth/TokenAuthenticationService.java</a></p>\n"},{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635387626,"creation_date":1635387626,"answer_id":69747518,"question_id":62756533,"body_markdown":"Use following to parse username from jwt token\r\n\r\n     final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String username = null;\r\n        String jwt = null;\r\n\r\n        if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer&quot;)) {\r\n            jwt = authHeader.substring(7);\r\n            username = jwtUtil.extractUsername(jwt);\r\n        }\r\n","title":"How can I get the username from the JWT?","body":"<p>Use following to parse username from jwt token</p>\n<pre><code> final String authHeader = request.getHeader(&quot;Authorization&quot;);\n    String username = null;\n    String jwt = null;\n\n    if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer&quot;)) {\n        jwt = authHeader.substring(7);\n        username = jwtUtil.extractUsername(jwt);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20026453,"reputation":11,"user_id":14680157,"display_name":"AbYa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671116368,"creation_date":1671116111,"answer_id":74813435,"question_id":62756533,"body_markdown":"Hello for the new version spring boot 3 and jjwt version 0.11.5, this work fine for me :&lt;br&gt;\r\n``final var subject = Jwts.parserBuilder().setSigningKey(Keys.hmacShaKeyFor(Decoders.BASE64.decode(jwtSecret))).build().parseClaimsJws(token).getBody().getSubject();``\r\n\r\n","title":"How can I get the username from the JWT?","body":"<p>Hello for the new version spring boot 3 and jjwt version 0.11.5, this work fine for me :<br>\n<code>final var subject = Jwts.parserBuilder().setSigningKey(Keys.hmacShaKeyFor(Decoders.BASE64.decode(jwtSecret))).build().parseClaimsJws(token).getBody().getSubject();</code></p>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1671116368,"creation_date":1594040025,"question_id":62756533,"body_markdown":"I have 2 microservices. An API gateway and microservices that send messages to customers.\r\nMy API returns a JWT token after authentication. The username of the user is contained in the token.\r\n\r\n```\r\n\t\tpublic String extractUsername(String token)\r\n\t\t{\r\n\t\t\treturn extractClaim(token, Claims::getSubject);\r\n\t\t}\r\n\t\tpublic Date extractExpiration(String token)\r\n\t\t{\r\n\t\t\treturn extractClaim(token, Claims::getExpiration);\r\n\t\t}\r\n\t\tpublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims,T&gt; claimsResolver)\r\n\t\t{\r\n\t\t\tfinal Claims claims = extractAllClaims(token);\r\n\t\t\treturn claimsResolver.apply(claims);\r\n\t\t}\r\n\t\tprivate Claims extractAllClaims(String token)\r\n\t\t{\r\n\t\t\treturn Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\r\n\t\t}\r\n\t\tprivate Boolean isTokenExpired(String token)\r\n\t\t{\r\n\t\t\treturn extractExpiration(token).before(new Date());\r\n\t\t}\r\n\t\tpublic String generateToken(UserDetails userDetails)\r\n\t\t{\r\n\t\t\tMap&lt;String,Object&gt; claims =new HashMap&lt;&gt;();\r\n\t\t\treturn createToken(claims,userDetails.getUsername());\r\n\t\t}\r\n\t\tprivate String createToken(Map&lt;String, Object&gt; claims, String subject)\r\n\t\t{\r\n\t\t\treturn Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + 1000*60*60*24*360))\r\n\t\t\t\t\t.signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\r\n\t\t}\r\n\t\tpublic Boolean validateToken(String token, UserDetails userDetails)\r\n\t\t{\r\n\t\t\tfinal String username = extractUsername(token);\r\n\t\t\treturn (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n\t\t}\r\n```\r\nIf I want to address my SendMessage microservice through the API gateway, he needs the username to send the message. I am currently passing on the username via Rest-Api. I would prefer that the SendMessage Microservice takes the username from the token. I have read that this works with the TokenEnhancer. But I have found no further information. Can someone tell me how I can do this or where I can find more information?\r\n\r\n**UPDATE**\r\n\r\n```\r\n@GetMapping(&quot;/contacts/sms/{name}/{customer_phone_number}/{text}&quot;)\r\n\t\t\tpublic String sendSmsToCustomer(@PathVariable(&quot;name&quot;) String name,@PathVariable(&quot;customer_phone_number&quot;) String customer_phone_number, @PathVariable(&quot;text&quot;) String text) throws Exception\r\n\t\t\t{\r\n\t\t\t\r\nString user= getUsernameFromToken(HttpServletRequest request);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSmsSubmissionResponse responses = client.getSmsClient().submitMessage(new TextMessage(\r\n\t\t\t\t\tname,\r\n\t\t\t        customer_phone_number,\r\n\t\t\t        text));\r\n\t\t\tfor (SmsSubmissionResponseMessage response : responses.getMessages()) {\r\n\t\t\t    System.out.println (response);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (responses.getMessages().get(0).getStatus() == MessageStatus.OK) {\r\n\t\t\t\tString date=new SimpleDateFormat(&quot;yyyy.MM.dd - HH:mm:ss&quot;).format(new java.util.Date());\r\n\t\t\t\t\tSQL_Connection.SaveDataInSmsDB(name, customer_phone_number, text,date);\r\n\t\t\t\t\treturn &quot;Message sent successfully.&quot;;\r\n\t\t\t    } else {\r\n\t\t\t        return &quot;Message failed with error: &quot; + responses.getMessages().get(0).getErrorText();\r\n\t\t\t    }\r\n\t\t\t}\r\n```\r\n**UPDATE 2**\r\n```\r\n@GetMapping(&quot;/contacts/sms/{name}/{customer_phone_number}/{text}&quot;)\r\n\t\t\tpublic String sendSmsToCustomer(@RequestHeader(HEADER_STRING) HttpServletRequest request, @PathVariable(&quot;name&quot;) String name,@PathVariable(&quot;customer_phone_number&quot;) String customer_phone_number, @PathVariable(&quot;text&quot;) String text) throws Exception\r\n\t\t\t{\r\n\t\t\tString user= getUsernameFromToken(request);\r\n\t\t\tSystem.out.println(user);\r\n```\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2020-07-07T08:08:34.975+0000&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;message&quot;: &quot;Missing request header &#39;Authorization&#39; for method parameter of type HttpServletRequest&quot;,\r\n    &quot;path&quot;: &quot;/contacts/sms/segos/44256674/hallo%20Container%20kommt&quot;\r\n}\r\n```","title":"How can I get the username from the JWT?","body":"<p>I have 2 microservices. An API gateway and microservices that send messages to customers.\nMy API returns a JWT token after authentication. The username of the user is contained in the token.</p>\n<pre><code>        public String extractUsername(String token)\n        {\n            return extractClaim(token, Claims::getSubject);\n        }\n        public Date extractExpiration(String token)\n        {\n            return extractClaim(token, Claims::getExpiration);\n        }\n        public &lt;T&gt; T extractClaim(String token, Function&lt;Claims,T&gt; claimsResolver)\n        {\n            final Claims claims = extractAllClaims(token);\n            return claimsResolver.apply(claims);\n        }\n        private Claims extractAllClaims(String token)\n        {\n            return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\n        }\n        private Boolean isTokenExpired(String token)\n        {\n            return extractExpiration(token).before(new Date());\n        }\n        public String generateToken(UserDetails userDetails)\n        {\n            Map&lt;String,Object&gt; claims =new HashMap&lt;&gt;();\n            return createToken(claims,userDetails.getUsername());\n        }\n        private String createToken(Map&lt;String, Object&gt; claims, String subject)\n        {\n            return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000*60*60*24*360))\n                    .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\n        }\n        public Boolean validateToken(String token, UserDetails userDetails)\n        {\n            final String username = extractUsername(token);\n            return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n        }\n</code></pre>\n<p>If I want to address my SendMessage microservice through the API gateway, he needs the username to send the message. I am currently passing on the username via Rest-Api. I would prefer that the SendMessage Microservice takes the username from the token. I have read that this works with the TokenEnhancer. But I have found no further information. Can someone tell me how I can do this or where I can find more information?</p>\n<p><strong>UPDATE</strong></p>\n<pre><code>@GetMapping(&quot;/contacts/sms/{name}/{customer_phone_number}/{text}&quot;)\n            public String sendSmsToCustomer(@PathVariable(&quot;name&quot;) String name,@PathVariable(&quot;customer_phone_number&quot;) String customer_phone_number, @PathVariable(&quot;text&quot;) String text) throws Exception\n            {\n            \nString user= getUsernameFromToken(HttpServletRequest request);\n            \n            \n            SmsSubmissionResponse responses = client.getSmsClient().submitMessage(new TextMessage(\n                    name,\n                    customer_phone_number,\n                    text));\n            for (SmsSubmissionResponseMessage response : responses.getMessages()) {\n                System.out.println (response);\n            }\n        \n            if (responses.getMessages().get(0).getStatus() == MessageStatus.OK) {\n                String date=new SimpleDateFormat(&quot;yyyy.MM.dd - HH:mm:ss&quot;).format(new java.util.Date());\n                    SQL_Connection.SaveDataInSmsDB(name, customer_phone_number, text,date);\n                    return &quot;Message sent successfully.&quot;;\n                } else {\n                    return &quot;Message failed with error: &quot; + responses.getMessages().get(0).getErrorText();\n                }\n            }\n</code></pre>\n<p><strong>UPDATE 2</strong></p>\n<pre><code>@GetMapping(&quot;/contacts/sms/{name}/{customer_phone_number}/{text}&quot;)\n            public String sendSmsToCustomer(@RequestHeader(HEADER_STRING) HttpServletRequest request, @PathVariable(&quot;name&quot;) String name,@PathVariable(&quot;customer_phone_number&quot;) String customer_phone_number, @PathVariable(&quot;text&quot;) String text) throws Exception\n            {\n            String user= getUsernameFromToken(request);\n            System.out.println(user);\n</code></pre>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2020-07-07T08:08:34.975+0000&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;Missing request header 'Authorization' for method parameter of type HttpServletRequest&quot;,\n    &quot;path&quot;: &quot;/contacts/sms/segos/44256674/hallo%20Container%20kommt&quot;\n}\n</code></pre>\n"},{"tags":["javascript","java","html"],"answers":[{"tags":[],"owner":{"account_id":11352783,"reputation":473,"user_id":10024416,"display_name":"kazemm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671116275,"creation_date":1671116275,"answer_id":74813469,"question_id":74813309,"body_markdown":"That is actually server-side validations there are many type of xss attack which is the best way to handle them is keep your codes update and checking inputs from the server","title":"Cross site scripting: DOM","body":"<p>That is actually server-side validations there are many type of xss attack which is the best way to handle them is keep your codes update and checking inputs from the server</p>\n"}],"owner":{"account_id":27073408,"reputation":1,"user_id":20623735,"display_name":"swolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671116275,"creation_date":1671115544,"question_id":74813309,"body_markdown":"```\r\nvar path = document.location.pathname;\r\n\r\nif (path.lastIndexOf(&quot;/&quot;) != 0){\r\n  path= path.substring(path.lastIndexOf(&quot;/&quot;)+1);\r\n}\r\n\r\nopen(&quot;default.htm?startat=&quot; + path + document.location.search, &quot;_top&quot;);\r\n```\r\n\r\n\r\n\r\n\r\nWhich is the best way to prevent cross site scripting?\r\nI am using this code I am trying to find a way to validate the data coming from url. But I do not know what kind of validation should I do.","title":"Cross site scripting: DOM","body":"<pre><code>var path = document.location.pathname;\n\nif (path.lastIndexOf(&quot;/&quot;) != 0){\n  path= path.substring(path.lastIndexOf(&quot;/&quot;)+1);\n}\n\nopen(&quot;default.htm?startat=&quot; + path + document.location.search, &quot;_top&quot;);\n</code></pre>\n<p>Which is the best way to prevent cross site scripting?\nI am using this code I am trying to find a way to validate the data coming from url. But I do not know what kind of validation should I do.</p>\n"},{"tags":["java","spring-boot","rest"],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671116912,"answer_count":0,"score":0,"last_activity_date":1671115916,"creation_date":1671115916,"question_id":74813389,"body_markdown":"I have this @PostMapping on my controller:\r\n\r\n```Java\r\n@PostMapping(value = Endpoints.PERMANENT, produces = MediaType.APPLICATION_JSON_VALUE)\r\n```\r\n\r\nI want to add versioning to my API so I updated it to accept the version in the `Accept` header:\r\n\r\n```Java\r\n@PostMapping(value = Endpoints.PERMANENT, produces = {&quot;application/vnd.myapp.v1+json&quot;})\r\n```\r\n\r\nIf I now send a `POST` to that endpoint and include `application/vnd.myapp.v1+json` in the `Acccept` header the request is successful. If I change the value in my `Accept` header to `application/vnd.pricegenerator.v2+json` I get this(which is as expected):\r\n\r\n```JSON\r\n{\r\n    &quot;statusMessage&quot;: &quot;Not Acceptable&quot;\r\n}\r\n```\r\n\r\nIf however, I send nothing in my `Accept` header the request still succeeds. Why is this and how can I resolve it?","title":"No version in Accept header produces successful request result","body":"<p>I have this @PostMapping on my controller:</p>\n<pre><code>@PostMapping(value = Endpoints.PERMANENT, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>I want to add versioning to my API so I updated it to accept the version in the <code>Accept</code> header:</p>\n<pre><code>@PostMapping(value = Endpoints.PERMANENT, produces = {&quot;application/vnd.myapp.v1+json&quot;})\n</code></pre>\n<p>If I now send a <code>POST</code> to that endpoint and include <code>application/vnd.myapp.v1+json</code> in the <code>Acccept</code> header the request is successful. If I change the value in my <code>Accept</code> header to <code>application/vnd.pricegenerator.v2+json</code> I get this(which is as expected):</p>\n<pre><code>{\n    &quot;statusMessage&quot;: &quot;Not Acceptable&quot;\n}\n</code></pre>\n<p>If however, I send nothing in my <code>Accept</code> header the request still succeeds. Why is this and how can I resolve it?</p>\n"},{"tags":["java","heroku","jakarta-mail"],"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":1,"creation_date":1579555842,"post_id":30156048,"comment_id":105798639,"body_markdown":"Similar and in my case more useful question/answers: https://stackoverflow.com/questions/45444031/nosuchmethoderror-when-trying-to-send-email-in-spring-boot","body":"Similar and in my case more useful question/answers: <a href=\"https://stackoverflow.com/questions/45444031/nosuchmethoderror-when-trying-to-send-email-in-spring-boot\" title=\"nosuchmethoderror when trying to send email in spring boot\">stackoverflow.com/questions/45444031/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1431289061,"creation_date":1431289061,"answer_id":30156216,"question_id":30156048,"body_markdown":"By default, Java apps running on latest Heroku stack use OpenJDK 8. \r\n\r\nYour problem does not seems related to the actual JVM implementation but rather due to the missing `smtp-1.5.1.jar` in classpath . To be sure to load correctly TraceInputStream try this : \r\n\r\n    java.net.URL classUrl = this.getClass().getResource(&quot;com.sun.mail.util.TraceInputStream&quot;);\r\n    out.println(classUrl.getFile());","title":"java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>By default, Java apps running on latest Heroku stack use OpenJDK 8. </p>\n\n<p>Your problem does not seems related to the actual JVM implementation but rather due to the missing <code>smtp-1.5.1.jar</code> in classpath . To be sure to load correctly TraceInputStream try this : </p>\n\n<pre><code>java.net.URL classUrl = this.getClass().getResource(\"com.sun.mail.util.TraceInputStream\");\nout.println(classUrl.getFile());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431314969,"creation_date":1431314969,"answer_id":30159230,"question_id":30156048,"body_markdown":"You&#39;ve mixed different versions of the API and implementation; don&#39;t do that.  For that matter, you only need the com.sun.mail:javax.mail dependency.  If Heroku isn&#39;t providing it in the runtime environment, you&#39;ll need to package it in your application.  Make sure the JavaMail jar file is ending up in the WEB-INF/lib directory of your application.\r\n","title":"java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>You've mixed different versions of the API and implementation; don't do that.  For that matter, you only need the com.sun.mail:javax.mail dependency.  If Heroku isn't providing it in the runtime environment, you'll need to package it in your application.  Make sure the JavaMail jar file is ending up in the WEB-INF/lib directory of your application.</p>\n"},{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608552286,"creation_date":1608552286,"answer_id":65392480,"question_id":30156048,"body_markdown":"I also faced the same issue. It was because I don&#39;t have the class TraceInputStream inside the library. I simply downgrade libraries to 1.4.4 and it worked.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smtp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>I also faced the same issue. It was because I don't have the class TraceInputStream inside the library. I simply downgrade libraries to 1.4.4 and it worked.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;smtp&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671115553,"creation_date":1671115553,"answer_id":74813311,"question_id":30156048,"body_markdown":"Getting reference from @Osanda Deshan. Adding below `gradle` dependencies Worked for me.\r\n\r\n```\r\n    implementation &#39;javax.mail:javax.mail-api:1.4.4&#39;\r\n    implementation &#39;javax.mail:mail:1.4.4&#39;\r\n```","title":"java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>Getting reference from @Osanda Deshan. Adding below <code>gradle</code> dependencies Worked for me.</p>\n<pre><code>    implementation 'javax.mail:javax.mail-api:1.4.4'\n    implementation 'javax.mail:mail:1.4.4'\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21114,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":30156216,"answer_count":4,"score":7,"last_activity_date":1671115553,"creation_date":1431287917,"question_id":30156048,"body_markdown":"I&#39;m trying to send an email through Java Mail API and it works fine on my laptop. When I&#39;m doing exactly the same in Heroku, I&#39;m getting this:\r\n\r\n    java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\r\n        at com.sun.mail.smtp.SMTPTransport.initStreams(SMTPTransport.java:2014)\r\n        at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1936)\r\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)\r\n        at javax.mail.Service.connect(Service.java:291)\r\n        at ...\r\n\r\nHere is what I have in `pom.xml`:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI guess there is another version of Java Mail API inside Heroku JDK, which doesn&#39;t have this constructor... How can this be fixed?","title":"java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>I'm trying to send an email through Java Mail API and it works fine on my laptop. When I'm doing exactly the same in Heroku, I'm getting this:</p>\n\n<pre><code>java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\n    at com.sun.mail.smtp.SMTPTransport.initStreams(SMTPTransport.java:2014)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1936)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)\n    at javax.mail.Service.connect(Service.java:291)\n    at ...\n</code></pre>\n\n<p>Here is what I have in <code>pom.xml</code>:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\n        &lt;version&gt;1.4.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I guess there is another version of Java Mail API inside Heroku JDK, which doesn't have this constructor... How can this be fixed?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-fargate"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1671016540,"creation_date":1671011008,"answer_id":74796249,"question_id":74795635,"body_markdown":"The error states that the SDK is looking for credentials within the default credential profiles file &amp; cannot find any.\r\n\r\nThis is because the sample code explicitly specifies a `ProfileCredentialsProvider` as the credentials provider for the `DynamoDbClient`.\r\n\r\nThis overrides the [default credential provider chain][1], which by default would be looking for credentials in a variety of locations - including the ECS container credentials.\r\n\r\n**You need to remove the use of the [`ProfileCredentialsProvider`][2].**\r\n\r\n---\r\n\r\nYou have 2 options:\r\n\r\n1. specify no credential provider when creating the client - the SDK will fallback to the default credential provider and then find the ECS container credentials; this is the most common option and will most likely work across various environments (as the chain would look sequentially in multiple places)\r\n\r\n2. replace the use of `ProfileCredentialsProvider` with [`ContainerCredentialsProvider`][3] instead, which would only specifically look for ECS container credentials\r\n\r\nOption 1 is recommended as it is the most common configuration &amp; your code has the highest chance of working across various environments (as the chain would look sequentially for multiple credential providers).\r\n\r\n---\r\n\r\nTo implement option 1, change:\r\n\r\n```java\r\nProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\nRegion region = Region.US_EAST_1;\r\nDynamoDbClient ddb = DynamoDbClient.builder()\r\n    .credentialsProvider(credentialsProvider)\r\n    .region(region)\r\n    .build();\r\n```\r\n\r\nto:\r\n\r\n```\r\nRegion region = Region.US_EAST_1;\r\nDynamoDbClient ddb = DynamoDbClient.builder()\r\n    .region(region)\r\n    .build();\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html#credentials-default\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/v1/reference/com/amazonaws/auth/profile/ProfileCredentialsProvider.html\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/v1/reference/com/amazonaws/auth/ContainerCredentialsProvider.html","title":"&#39;Profile file contained no credentials for profile&#39; error when doing PutItem using AWS Java SDK","body":"<p>The error states that the SDK is looking for credentials within the default credential profiles file &amp; cannot find any.</p>\n<p>This is because the sample code explicitly specifies a <code>ProfileCredentialsProvider</code> as the credentials provider for the <code>DynamoDbClient</code>.</p>\n<p>This overrides the <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html#credentials-default\" rel=\"noreferrer\">default credential provider chain</a>, which by default would be looking for credentials in a variety of locations - including the ECS container credentials.</p>\n<p><strong>You need to remove the use of the <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/reference/com/amazonaws/auth/profile/ProfileCredentialsProvider.html\" rel=\"noreferrer\"><code>ProfileCredentialsProvider</code></a>.</strong></p>\n<hr />\n<p>You have 2 options:</p>\n<ol>\n<li><p>specify no credential provider when creating the client - the SDK will fallback to the default credential provider and then find the ECS container credentials; this is the most common option and will most likely work across various environments (as the chain would look sequentially in multiple places)</p>\n</li>\n<li><p>replace the use of <code>ProfileCredentialsProvider</code> with <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/reference/com/amazonaws/auth/ContainerCredentialsProvider.html\" rel=\"noreferrer\"><code>ContainerCredentialsProvider</code></a> instead, which would only specifically look for ECS container credentials</p>\n</li>\n</ol>\n<p>Option 1 is recommended as it is the most common configuration &amp; your code has the highest chance of working across various environments (as the chain would look sequentially for multiple credential providers).</p>\n<hr />\n<p>To implement option 1, change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\nRegion region = Region.US_EAST_1;\nDynamoDbClient ddb = DynamoDbClient.builder()\n    .credentialsProvider(credentialsProvider)\n    .region(region)\n    .build();\n</code></pre>\n<p>to:</p>\n<pre><code>Region region = Region.US_EAST_1;\nDynamoDbClient ddb = DynamoDbClient.builder()\n    .region(region)\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671115218,"creation_date":1671016361,"answer_id":74797373,"question_id":74795635,"body_markdown":"Option 2 looks like this:\r\n\r\n    private AwsCredentialsProvider awsCredentialsProvider =  ContainerCredentialsProvider.builder().build();\r\n\r\n    private final DynamoDbClient ddb = DynamoDbClient.builder()\r\n            .credentialsProvider(awsCredentialsProvider)\r\n            .region(Region.of(REGION))\r\n            .build();","title":"&#39;Profile file contained no credentials for profile&#39; error when doing PutItem using AWS Java SDK","body":"<p>Option 2 looks like this:</p>\n<pre><code>private AwsCredentialsProvider awsCredentialsProvider =  ContainerCredentialsProvider.builder().build();\n\nprivate final DynamoDbClient ddb = DynamoDbClient.builder()\n        .credentialsProvider(awsCredentialsProvider)\n        .region(Region.of(REGION))\n        .build();\n</code></pre>\n"}],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796249,"answer_count":2,"score":0,"last_activity_date":1671115218,"creation_date":1671007878,"question_id":74795635,"body_markdown":"I&#39;m trying to put an item into a DynamoDB table using the AWS SDK for Java.\r\n\r\nI am using the `EnhancedPutItem.java` [example from the docs][1]:\r\n\r\n```java\r\n public static void main(String[] args) {\r\n\r\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n        Region region = Region.US_EAST_1;\r\n        DynamoDbClient ddb = DynamoDbClient.builder()\r\n            .credentialsProvider(credentialsProvider)\r\n            .region(region)\r\n            .build();\r\n\r\n        DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\r\n            .dynamoDbClient(ddb)\r\n            .build();\r\n\r\n        putRecord(enhancedClient) ;\r\n        ddb.close();\r\n    }\r\n...\r\n```\r\n\r\nWhen running locally I can put the item successfully, but when I run my application as a task on Fargate, it throws this error:\r\n\r\n&gt; software.amazon.awssdk.core.exception.SdkClientException: Profile file contained no credentials for profile &#39;default&#39;: ProfileFile(profilesAndSectionsMap=[]).\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/EnhancedPutItem.java","title":"&#39;Profile file contained no credentials for profile&#39; error when doing PutItem using AWS Java SDK","body":"<p>I'm trying to put an item into a DynamoDB table using the AWS SDK for Java.</p>\n<p>I am using the <code>EnhancedPutItem.java</code> <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/EnhancedPutItem.java\" rel=\"nofollow noreferrer\">example from the docs</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void main(String[] args) {\n\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        DynamoDbClient ddb = DynamoDbClient.builder()\n            .credentialsProvider(credentialsProvider)\n            .region(region)\n            .build();\n\n        DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\n            .dynamoDbClient(ddb)\n            .build();\n\n        putRecord(enhancedClient) ;\n        ddb.close();\n    }\n...\n</code></pre>\n<p>When running locally I can put the item successfully, but when I run my application as a task on Fargate, it throws this error:</p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.SdkClientException: Profile file contained no credentials for profile 'default': ProfileFile(profilesAndSectionsMap=[]).</p>\n</blockquote>\n"},{"tags":["javascript","java","selenium","web-scraping","xpath"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671176891,"post_id":74812698,"comment_id":132046856,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17982534,"reputation":58,"user_id":13068500,"display_name":"devalurum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671114794,"creation_date":1671114794,"answer_id":74813153,"question_id":74812698,"body_markdown":"Firstly, you should always set timeouts for loading the page, it is also advisable to check the end of the javascript loading, then find out if the element is clickable, and then call the click method\r\n\r\n    Duration pageLoadTimeout = Duration.ofMinutes(1);\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    \r\n    driver.manage().window().fullscreen();\r\n    driver.manage().timeouts().pageLoadTimeout(pageLoadTimeout);\r\n    \r\n    driver.get(&quot;https://deutsche-giganetz.de/&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, pageLoadTimeout);\r\n\r\n    // waiting for loading all page\r\n    wait.until(webDriver -&gt; ((JavascriptExecutor) webDriver)\r\n                    .executeScript(&quot;return document.readyState&quot;)\r\n                    .equals(&quot;complete&quot;));\r\n\r\n    // By.className alternative By.xpath (for example use &quot;uk-button btn-white&quot;) \r\n    WebElement button = driver.findElement(By.className(&quot;uk-button btn-white&quot;));\r\n    wait.until(ExpectedConditions.elementToBeClickable(button));\r\n    button.click();","title":"Java &amp; Selenium Web Scraping click button doesent work","body":"<p>Firstly, you should always set timeouts for loading the page, it is also advisable to check the end of the javascript loading, then find out if the element is clickable, and then call the click method</p>\n<pre><code>Duration pageLoadTimeout = Duration.ofMinutes(1);\n\nWebDriver driver = new FirefoxDriver();\n\ndriver.manage().window().fullscreen();\ndriver.manage().timeouts().pageLoadTimeout(pageLoadTimeout);\n\ndriver.get(&quot;https://deutsche-giganetz.de/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, pageLoadTimeout);\n\n// waiting for loading all page\nwait.until(webDriver -&gt; ((JavascriptExecutor) webDriver)\n                .executeScript(&quot;return document.readyState&quot;)\n                .equals(&quot;complete&quot;));\n\n// By.className alternative By.xpath (for example use &quot;uk-button btn-white&quot;) \nWebElement button = driver.findElement(By.className(&quot;uk-button btn-white&quot;));\nwait.until(ExpectedConditions.elementToBeClickable(button));\nbutton.click();\n</code></pre>\n"}],"owner":{"account_id":27179531,"reputation":1,"user_id":20714999,"display_name":"Okan Aydin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671114794,"creation_date":1671112643,"question_id":74812698,"body_markdown":"**Hello guys,**\r\n\r\nI am currently using Java Selenium to code a script that will automatically click and fill types for me. I have written a code line which does not work. I want it to click on a button, but it does not do this. When I run the application the bot scrolls down to the button but does not click on the button. When you click on the button a new page should be opened. I do not know what I did wrong can someone help me? Thanks for any answer!\r\n\r\n**My Code:**\r\n\t\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\t\r\n\t\tdriver.manage().window().fullscreen();\r\n\t\t\r\n\t\tdriver.get(&quot;https://deutsche-giganetz.de/&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/section/div/div[1]/div[2]/button[1]&quot;)).click();\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/div[1]/div[2]/ul/li[1]/a&quot;)).click();\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;)).click();\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\n**My error code:**\r\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 108.0,\r\nmoz:accessibilityChecks: false, moz:buildID: 20221208122842, moz:debuggerAddress: 127.0.0.1:38233,\r\nmoz:geckodriverVersion: 0.32.0, moz:headless: false, moz:platformVersion: 10.0, moz:processID: 15732, moz:profile: C:\\Users\\OKANAY~1\\AppData\\L..., moz:shutdownTimeout: 60000, `\r\n`moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp:\r\nws://127.0.0.1:38233/devtoo..., se:cdpVersion: 85.0, setWindowRect: true, strictFileInteractability:  false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss    and notify}\r\n\r\n    Element: [[FirefoxDriver: firefox on WINDOWS (dae2e314-a112-48de-ada9-bd6ffce54a94)]\r\n    -&gt; xpath: `/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a]\r\n    Session ID: dae2e314-a112-48de-ada9-bd6ffce54a94\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\r\n\r\nI tried to do it with &quot;findelement css selector&quot; instead of &quot;findelement xpath&quot;. I couldn&#39;t implement it via a link because there are several buttons called &quot;Order Now&quot;. I did a lot of research but didn&#39;t find anything else.","title":"Java &amp; Selenium Web Scraping click button doesent work","body":"<p><strong>Hello guys,</strong></p>\n<p>I am currently using Java Selenium to code a script that will automatically click and fill types for me. I have written a code line which does not work. I want it to click on a button, but it does not do this. When I run the application the bot scrolls down to the button but does not click on the button. When you click on the button a new page should be opened. I do not know what I did wrong can someone help me? Thanks for any answer!</p>\n<p><strong>My Code:</strong></p>\n<pre><code>public static void main(String[] args) {\n\n\n    WebDriver driver = new FirefoxDriver();\n    \n    driver.manage().window().fullscreen();\n    \n    driver.get(&quot;https://deutsche-giganetz.de/&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/section/div/div[1]/div[2]/button[1]&quot;)).click();\n    driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/div[1]/div[2]/ul/li[1]/a&quot;)).click();\n    driver.findElement(By.xpath(&quot;/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a&quot;)).click();\n    \n}\n\n}\n</code></pre>\n<p><strong>My error code:</strong>\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 108.0,\nmoz:accessibilityChecks: false, moz:buildID: 20221208122842, moz:debuggerAddress: 127.0.0.1:38233,\nmoz:geckodriverVersion: 0.32.0, moz:headless: false, moz:platformVersion: 10.0, moz:processID: 15732, moz:profile: C:\\Users\\OKANAY~1\\AppData\\L..., moz:shutdownTimeout: 60000, <code> </code>moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp:\nws://127.0.0.1:38233/devtoo..., se:cdpVersion: 85.0, setWindowRect: true, strictFileInteractability:  false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss    and notify}</p>\n<pre><code>Element: [[FirefoxDriver: firefox on WINDOWS (dae2e314-a112-48de-ada9-bd6ffce54a94)]\n-&gt; xpath: `/html/body/main/div[8]/div/section/div/div[1]/div[2]/div[3]/div[1]/div/div[5]/a]\nSession ID: dae2e314-a112-48de-ada9-bd6ffce54a94\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Unknown Source)\n</code></pre>\n<p>I tried to do it with &quot;findelement css selector&quot; instead of &quot;findelement xpath&quot;. I couldn't implement it via a link because there are several buttons called &quot;Order Now&quot;. I did a lot of research but didn't find anything else.</p>\n"},{"tags":["java","spring","spring-security","jwt","spring-filter"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1620996014,"post_id":67516245,"comment_id":119368774,"body_markdown":"you dont need a custom jwtfilter as spring security already has a included jwtfilter that you can customize. https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture","body":"you dont need a custom jwtfilter as spring security already has a included jwtfilter that you can customize. <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620898110,"creation_date":1620896444,"answer_id":67516567,"question_id":67516245,"body_markdown":"You only specified `.antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()`, to force authentication to other things you must add `.anyRequest().authenticated()`\r\nSo something like this\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .httpBasic().disable()\r\n            .csrf().disable()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\r\n                .and()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n","title":"The request is not included in the custom filter. Spring Security","body":"<p>You only specified <code>.antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()</code>, to force authentication to other things you must add <code>.anyRequest().authenticated()</code>\nSo something like this</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .httpBasic().disable()\n        .csrf().disable()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeRequests()\n            .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\n            .and()\n            .anyRequest().authenticated()\n            .and()\n        .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671114734,"creation_date":1620894835,"question_id":67516245,"body_markdown":"Hello everyone I am writing Authentication using Spring Security and JWT tokens.\r\n\r\nI add my own filter in the configuration. But the request is not included in the filter. Therefore, all requests to any address are executed, even without a token.\r\n\r\n**SecurityConfig.class**\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @ComponentScan(&quot;my.pac&quot;)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private JwtFilter jwtFilter;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .httpBasic().disable()\r\n                    .csrf().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\r\n                    .and()\r\n                    .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\n**Filter**\r\n\r\n    @Component\r\n    public class JwtFilter extends GenericFilterBean {\r\n    \r\n        public static final String AUTHORIZATION = &quot;Authorization&quot;;\r\n    \r\n        @Autowired\r\n        private JwtProvider jwtProvider;\r\n    \r\n        @Autowired\r\n        private CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            logger.info(&quot;do filter...&quot;);\r\n            String token = getTokenFromRequest((HttpServletRequest) servletRequest);\r\n            if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\r\n                String userLogin = jwtProvider.getLoginFromToken(token);\r\n                CustomUserDetails customUserDetails = customUserDetailsService.loadUserByUsername(userLogin);\r\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(customUserDetails, null, customUserDetails.getAuthorities());\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n            filterChain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        private String getTokenFromRequest(HttpServletRequest request) {\r\n            String bearer = request.getHeader(AUTHORIZATION);\r\n            if (hasText(bearer) &amp;&amp; bearer.startsWith(&quot;Bearer &quot;)) {\r\n                return bearer.substring(7);\r\n            }\r\n            return null;\r\n        }}\r\n\r\n**upd:**\r\n\r\nthis option also does not work for the filter:\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .httpBasic().disable()\r\n                    .csrf().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }","title":"The request is not included in the custom filter. Spring Security","body":"<p>Hello everyone I am writing Authentication using Spring Security and JWT tokens.</p>\n<p>I add my own filter in the configuration. But the request is not included in the filter. Therefore, all requests to any address are executed, even without a token.</p>\n<p><strong>SecurityConfig.class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@ComponentScan(&quot;my.pac&quot;)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p><strong>Filter</strong></p>\n<pre><code>@Component\npublic class JwtFilter extends GenericFilterBean {\n\n    public static final String AUTHORIZATION = &quot;Authorization&quot;;\n\n    @Autowired\n    private JwtProvider jwtProvider;\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        logger.info(&quot;do filter...&quot;);\n        String token = getTokenFromRequest((HttpServletRequest) servletRequest);\n        if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\n            String userLogin = jwtProvider.getLoginFromToken(token);\n            CustomUserDetails customUserDetails = customUserDetailsService.loadUserByUsername(userLogin);\n            UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(customUserDetails, null, customUserDetails.getAuthorities());\n            SecurityContextHolder.getContext().setAuthentication(auth);\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    private String getTokenFromRequest(HttpServletRequest request) {\n        String bearer = request.getHeader(AUTHORIZATION);\n        if (hasText(bearer) &amp;&amp; bearer.startsWith(&quot;Bearer &quot;)) {\n            return bearer.substring(7);\n        }\n        return null;\n    }}\n</code></pre>\n<p><strong>upd:</strong></p>\n<p>this option also does not work for the filter:</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","intellij-idea","build-script"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1671116624,"post_id":74813132,"comment_id":132032954,"body_markdown":"I guess Intellij uses not ./gradlew, since it&#39;s for Unix, but ./gradlew.bat or something. Can you try running that with gradlew.bat or with the downloaded graldle.exe directly? It might have something to do with the fact, that Intellij uses Windows version","body":"I guess Intellij uses not ./gradlew, since it&#39;s for Unix, but ./gradlew.bat or something. Can you try running that with gradlew.bat or with the downloaded graldle.exe directly? It might have something to do with the fact, that Intellij uses Windows version"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671117423,"post_id":74813132,"comment_id":132033289,"body_markdown":"Have you configured IntelliJ to delegate Gradle actions to the Gradle wrapper? https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#delegate_build_gradle","body":"Have you configured IntelliJ to delegate Gradle actions to the Gradle wrapper? <a href=\"https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#delegate_build_gradle\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":9932799,"reputation":35,"user_id":7352089,"display_name":"JetairThePlane"},"score":0,"creation_date":1671127434,"post_id":74813132,"comment_id":132036898,"body_markdown":"@VitalyChura Either gradlew, gradlew.bat nor C:\\gradle\\...\\gradle.bat work...","body":"@VitalyChura Either gradlew, gradlew.bat nor C:\\gradle\\...\\gradle.bat work..."},{"owner":{"account_id":9932799,"reputation":35,"user_id":7352089,"display_name":"JetairThePlane"},"score":0,"creation_date":1671127529,"post_id":74813132,"comment_id":132036931,"body_markdown":"@aSemy I&#39;ve tried the three configuration they allow me (use gradle from:) and nothing changes... Even changing JDK doesn&#39;t change anything :/","body":"@aSemy I&#39;ve tried the three configuration they allow me (use gradle from:) and nothing changes... Even changing JDK doesn&#39;t change anything :/"}],"owner":{"account_id":9932799,"reputation":35,"user_id":7352089,"display_name":"JetairThePlane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671114673,"creation_date":1671114673,"question_id":74813132,"body_markdown":"I just understood how buildscript works and I&#39;ve made a basic script that just puts kotlin inside any subproject with\r\n\r\n```\r\n`kotlin-conventions`\r\n```\r\n\r\nMy gradle multiproject is setup like this:\r\n\r\n```\r\nproject\r\n  acq\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n  acs\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n  acs-client\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n  buildSrc\r\n |   src\r\n |  |   main\r\n |  |  |   kotlin\r\n |  |  |  |   containerized-app.gradle.kts\r\n |  |  |  |   kotlin-conventions.gradle.kts\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n  core\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n  sp\r\n |   build.gradle.kts\r\n |   settings.gradle.kts\r\n```\r\n\r\n`project/buildSrc/src/main/kotlin/kotlin-conventions.gradle.kts`\r\n```kt\r\nplugins {\r\n    kotlin(&quot;jvm&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n}\r\n\r\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n`project/buildScr/build.gradle.kts`\r\n```\r\nplugins {\r\n    `kotlin-dsl`\r\n}\r\n\r\nrepositories {\r\n    gradlePluginPortal()\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;)\r\n    implementation(&quot;com.google.cloud.tools:jib-gradle-plugin:3.3.1&quot;)\r\n}\r\n```\r\n\r\n`project/acq/build.gradle.kts`\r\n```\r\nval ktor_version: String by project\r\nval kotlin_version: String by project\r\nval logback_version: String by project\r\n\r\nplugins {\r\n    `kotlin-conventions`\r\n    `containerized-app`\r\n}\r\n\r\ngroup = &quot;be.rm.secu.tp2&quot;\r\nversion = &quot;0.0.1&quot;\r\n\r\napplication {\r\n    mainClass.set(&quot;be.rm.secu.tp2.acq.ApplicationKt&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;ch.qos.logback:logback-classic:$logback_version&quot;)\r\n    testImplementation(&quot;org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version&quot;)\r\n}\r\n```\r\n(You can go to the [github repository](https://github.com/Florent-Git/SecurityTP2/tree/buildscript) to get the full code, although I cannot promise that the code won&#39;t change in the future)\r\n\r\nThe problem I&#39;m having, is that when I run gradlew from a CLI (WSL 2.0, Java 17.0.5-tem, Gradle 7.4.2), everything is fine and this is the output:\r\n[![Working output](https://i.stack.imgur.com/O6UkB.png)](https://i.stack.imgur.com/O6UkB.png)\r\n\r\nBut, when I&#39;m executing the task on IntelliJ, it says that they cannot resolve my buildscript...\r\n[![Error output](https://i.stack.imgur.com/33bzV.png)](https://i.stack.imgur.com/33bzV.png)\r\n\r\nI don&#39;t really understand why is this happening, I am guessing this is an IntelliJ problem.\r\n\r\nI tried searching for a similar case, although I couldn&#39;t find anything. I tried invalidating caches, removing caches. Changing environment (CMD, PowerShell, WSL), removing .gradle(s), removing .idea...\r\n\r\nI could try working with gradle on CLI and IntelliJ as an IDE, but this is not really efficient, as I will surely rely on the IntelliJ debugger in the future...\r\n\r\nThanks !","title":"IntelliJ Gradle task execution cannot resolve local build script references","body":"<p>I just understood how buildscript works and I've made a basic script that just puts kotlin inside any subproject with</p>\n<pre><code>`kotlin-conventions`\n</code></pre>\n<p>My gradle multiproject is setup like this:</p>\n<pre><code>project\n  acq\n |   build.gradle.kts\n |   settings.gradle.kts\n  acs\n |   build.gradle.kts\n |   settings.gradle.kts\n  acs-client\n |   build.gradle.kts\n |   settings.gradle.kts\n  buildSrc\n |   src\n |  |   main\n |  |  |   kotlin\n |  |  |  |   containerized-app.gradle.kts\n |  |  |  |   kotlin-conventions.gradle.kts\n |   build.gradle.kts\n |   settings.gradle.kts\n  core\n |   build.gradle.kts\n |   settings.gradle.kts\n  sp\n |   build.gradle.kts\n |   settings.gradle.kts\n</code></pre>\n<p><code>project/buildSrc/src/main/kotlin/kotlin-conventions.gradle.kts</code></p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n}\n\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>project/buildScr/build.gradle.kts</code></p>\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n\nrepositories {\n    gradlePluginPortal()\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;)\n    implementation(&quot;com.google.cloud.tools:jib-gradle-plugin:3.3.1&quot;)\n}\n</code></pre>\n<p><code>project/acq/build.gradle.kts</code></p>\n<pre><code>val ktor_version: String by project\nval kotlin_version: String by project\nval logback_version: String by project\n\nplugins {\n    `kotlin-conventions`\n    `containerized-app`\n}\n\ngroup = &quot;be.rm.secu.tp2&quot;\nversion = &quot;0.0.1&quot;\n\napplication {\n    mainClass.set(&quot;be.rm.secu.tp2.acq.ApplicationKt&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;ch.qos.logback:logback-classic:$logback_version&quot;)\n    testImplementation(&quot;org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version&quot;)\n}\n</code></pre>\n<p>(You can go to the <a href=\"https://github.com/Florent-Git/SecurityTP2/tree/buildscript\" rel=\"nofollow noreferrer\">github repository</a> to get the full code, although I cannot promise that the code won't change in the future)</p>\n<p>The problem I'm having, is that when I run gradlew from a CLI (WSL 2.0, Java 17.0.5-tem, Gradle 7.4.2), everything is fine and this is the output:\n<a href=\"https://i.stack.imgur.com/O6UkB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6UkB.png\" alt=\"Working output\" /></a></p>\n<p>But, when I'm executing the task on IntelliJ, it says that they cannot resolve my buildscript...\n<a href=\"https://i.stack.imgur.com/33bzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33bzV.png\" alt=\"Error output\" /></a></p>\n<p>I don't really understand why is this happening, I am guessing this is an IntelliJ problem.</p>\n<p>I tried searching for a similar case, although I couldn't find anything. I tried invalidating caches, removing caches. Changing environment (CMD, PowerShell, WSL), removing .gradle(s), removing .idea...</p>\n<p>I could try working with gradle on CLI and IntelliJ as an IDE, but this is not really efficient, as I will surely rely on the IntelliJ debugger in the future...</p>\n<p>Thanks !</p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671114805,"post_id":74812917,"comment_id":132032237,"body_markdown":"https://logback.qos.ch/manual/filters.html#JaninoEventEvaluator","body":"<a href=\"https://logback.qos.ch/manual/filters.html#JaninoEventEvaluator\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/filters.html#JaninoEventEvaluator</a>"}],"owner":{"account_id":7633976,"reputation":11,"user_id":5788088,"display_name":"Kash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671114030,"creation_date":1671113664,"question_id":74812917,"body_markdown":"For one specific logger, I need to have info level logging during 9 to 5 but warning level after that. Can someone help me with logback configuration for something like this? \r\n\r\nI couldn&#39;t find any time based log level configuration anywhere. ","title":"Time based log level","body":"<p>For one specific logger, I need to have info level logging during 9 to 5 but warning level after that. Can someone help me with logback configuration for something like this?</p>\n<p>I couldn't find any time based log level configuration anywhere.</p>\n"},{"tags":["python","java","c#","excel"],"answers":[{"tags":[],"owner":{"account_id":2387341,"reputation":2530,"user_id":2088029,"accept_rate":75,"display_name":"MrD at KookerellaLtd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671113917,"creation_date":1671113917,"answer_id":74812974,"question_id":74810524,"body_markdown":"So this is an option someone I know gave me:\r\n\r\n[groupdocs.conversion][1]\r\n\r\nits a dotnet 3rd party library, not cheap but works for me in 3 lines of code (on the link)\r\n\r\ntbh, this ticks the box for simplicity, though not cheap.\r\n\r\n\r\n  [1]: https://products.groupdocs.com/conversion/net/xml-to-xlsx/#:~:text=Steps%20to%20convert%20XML%20to%20XLSX%20in%20C%23,full%20path%20and%20format%20%28XLSX%29%20as%20a%20parameter","title":"How to convert &quot;Excel Xml&quot;/&quot;Xml Spreadsheet 2003&quot;, to .xlsx format without office/excel install","body":"<p>So this is an option someone I know gave me:</p>\n<p><a href=\"https://products.groupdocs.com/conversion/net/xml-to-xlsx/#:%7E:text=Steps%20to%20convert%20XML%20to%20XLSX%20in%20C%23,full%20path%20and%20format%20%28XLSX%29%20as%20a%20parameter\" rel=\"nofollow noreferrer\">groupdocs.conversion</a></p>\n<p>its a dotnet 3rd party library, not cheap but works for me in 3 lines of code (on the link)</p>\n<p>tbh, this ticks the box for simplicity, though not cheap.</p>\n"}],"owner":{"account_id":2387341,"reputation":2530,"user_id":2088029,"accept_rate":75,"display_name":"MrD at KookerellaLtd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671113917,"creation_date":1671102284,"question_id":74810524,"body_markdown":"The input files are single XML files, that can be generated from excel using &quot;Xml Spreadsheet 2003&quot;, often referred to as &quot;Excel XML&quot; format, and described in this namespace\r\n\r\n    xmlns=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\r\n\r\n(a simple file is at the end of this post for clarity).\r\n\r\nI can potentially use dotnet, JVM or python, all of which have a enormous range of 3rd party libraries for excel manipulation but none (except excel) seem to be able to achieve this.\r\n\r\nThe only additional restriction is that excel cannot be a dependency, i.e. it will almost always not be present on the OS that runs the code.\r\n\r\nNote: There are many many posts about very similar issues, but all come to dead end, mostly referring to 3rd party packages that don&#39;t support this format, or suggesting creating the input files in a different format (not an option).\r\n\r\nexample file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;?mso-application progid=&quot;Excel.Sheet&quot;?&gt;\r\n    &lt;Workbook xmlns=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\r\n     xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;\r\n     xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\r\n     xmlns:ss=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\r\n     xmlns:html=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;\r\n     &lt;DocumentProperties xmlns=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;\r\n      &lt;Author&gt;&lt;/Author&gt;\r\n      &lt;LastAuthor&gt;&lt;/LastAuthor&gt;\r\n      &lt;Created&gt;2022-12-15T10:58:05Z&lt;/Created&gt;\r\n      &lt;Version&gt;16.00&lt;/Version&gt;\r\n     &lt;/DocumentProperties&gt;\r\n     &lt;OfficeDocumentSettings xmlns=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;\r\n      &lt;AllowPNG/&gt;\r\n     &lt;/OfficeDocumentSettings&gt;\r\n     &lt;ExcelWorkbook xmlns=&quot;urn:schemas-microsoft-com:office:excel&quot;&gt;\r\n      &lt;WindowHeight&gt;5556&lt;/WindowHeight&gt;\r\n      &lt;WindowWidth&gt;17256&lt;/WindowWidth&gt;\r\n      &lt;WindowTopX&gt;32767&lt;/WindowTopX&gt;\r\n      &lt;WindowTopY&gt;32767&lt;/WindowTopY&gt;\r\n      &lt;ProtectStructure&gt;False&lt;/ProtectStructure&gt;\r\n      &lt;ProtectWindows&gt;False&lt;/ProtectWindows&gt;\r\n     &lt;/ExcelWorkbook&gt;\r\n     &lt;Styles&gt;\r\n      &lt;Style ss:ID=&quot;Default&quot; ss:Name=&quot;Normal&quot;&gt;\r\n       &lt;Alignment ss:Vertical=&quot;Bottom&quot;/&gt;\r\n       &lt;Borders/&gt;\r\n       &lt;Font ss:FontName=&quot;Calibri&quot; x:Family=&quot;Swiss&quot; ss:Size=&quot;11&quot; ss:Color=&quot;#000000&quot;/&gt;\r\n       &lt;Interior/&gt;\r\n       &lt;NumberFormat/&gt;\r\n       &lt;Protection/&gt;\r\n      &lt;/Style&gt;\r\n     &lt;/Styles&gt;\r\n     &lt;Worksheet ss:Name=&quot;Sheet1&quot;&gt;\r\n      &lt;Table ss:ExpandedColumnCount=&quot;1&quot; ss:ExpandedRowCount=&quot;1&quot; x:FullColumns=&quot;1&quot;\r\n       x:FullRows=&quot;1&quot; ss:DefaultRowHeight=&quot;14.4&quot;&gt;\r\n      &lt;/Table&gt;\r\n      &lt;WorksheetOptions xmlns=&quot;urn:schemas-microsoft-com:office:excel&quot;&gt;\r\n       &lt;PageSetup&gt;\r\n        &lt;Header x:Margin=&quot;0.3&quot;/&gt;\r\n        &lt;Footer x:Margin=&quot;0.3&quot;/&gt;\r\n        &lt;PageMargins x:Bottom=&quot;0.75&quot; x:Left=&quot;0.7&quot; x:Right=&quot;0.7&quot; x:Top=&quot;0.75&quot;/&gt;\r\n       &lt;/PageSetup&gt;\r\n       &lt;Selected/&gt;\r\n       &lt;ProtectObjects&gt;False&lt;/ProtectObjects&gt;\r\n       &lt;ProtectScenarios&gt;False&lt;/ProtectScenarios&gt;\r\n      &lt;/WorksheetOptions&gt;\r\n     &lt;/Worksheet&gt;\r\n    &lt;/Workbook&gt;\r\n\r\n","title":"How to convert &quot;Excel Xml&quot;/&quot;Xml Spreadsheet 2003&quot;, to .xlsx format without office/excel install","body":"<p>The input files are single XML files, that can be generated from excel using &quot;Xml Spreadsheet 2003&quot;, often referred to as &quot;Excel XML&quot; format, and described in this namespace</p>\n<pre><code>xmlns=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\n</code></pre>\n<p>(a simple file is at the end of this post for clarity).</p>\n<p>I can potentially use dotnet, JVM or python, all of which have a enormous range of 3rd party libraries for excel manipulation but none (except excel) seem to be able to achieve this.</p>\n<p>The only additional restriction is that excel cannot be a dependency, i.e. it will almost always not be present on the OS that runs the code.</p>\n<p>Note: There are many many posts about very similar issues, but all come to dead end, mostly referring to 3rd party packages that don't support this format, or suggesting creating the input files in a different format (not an option).</p>\n<p>example file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;?mso-application progid=&quot;Excel.Sheet&quot;?&gt;\n&lt;Workbook xmlns=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\n xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;\n xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\n xmlns:ss=&quot;urn:schemas-microsoft-com:office:spreadsheet&quot;\n xmlns:html=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;\n &lt;DocumentProperties xmlns=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;\n  &lt;Author&gt;&lt;/Author&gt;\n  &lt;LastAuthor&gt;&lt;/LastAuthor&gt;\n  &lt;Created&gt;2022-12-15T10:58:05Z&lt;/Created&gt;\n  &lt;Version&gt;16.00&lt;/Version&gt;\n &lt;/DocumentProperties&gt;\n &lt;OfficeDocumentSettings xmlns=&quot;urn:schemas-microsoft-com:office:office&quot;&gt;\n  &lt;AllowPNG/&gt;\n &lt;/OfficeDocumentSettings&gt;\n &lt;ExcelWorkbook xmlns=&quot;urn:schemas-microsoft-com:office:excel&quot;&gt;\n  &lt;WindowHeight&gt;5556&lt;/WindowHeight&gt;\n  &lt;WindowWidth&gt;17256&lt;/WindowWidth&gt;\n  &lt;WindowTopX&gt;32767&lt;/WindowTopX&gt;\n  &lt;WindowTopY&gt;32767&lt;/WindowTopY&gt;\n  &lt;ProtectStructure&gt;False&lt;/ProtectStructure&gt;\n  &lt;ProtectWindows&gt;False&lt;/ProtectWindows&gt;\n &lt;/ExcelWorkbook&gt;\n &lt;Styles&gt;\n  &lt;Style ss:ID=&quot;Default&quot; ss:Name=&quot;Normal&quot;&gt;\n   &lt;Alignment ss:Vertical=&quot;Bottom&quot;/&gt;\n   &lt;Borders/&gt;\n   &lt;Font ss:FontName=&quot;Calibri&quot; x:Family=&quot;Swiss&quot; ss:Size=&quot;11&quot; ss:Color=&quot;#000000&quot;/&gt;\n   &lt;Interior/&gt;\n   &lt;NumberFormat/&gt;\n   &lt;Protection/&gt;\n  &lt;/Style&gt;\n &lt;/Styles&gt;\n &lt;Worksheet ss:Name=&quot;Sheet1&quot;&gt;\n  &lt;Table ss:ExpandedColumnCount=&quot;1&quot; ss:ExpandedRowCount=&quot;1&quot; x:FullColumns=&quot;1&quot;\n   x:FullRows=&quot;1&quot; ss:DefaultRowHeight=&quot;14.4&quot;&gt;\n  &lt;/Table&gt;\n  &lt;WorksheetOptions xmlns=&quot;urn:schemas-microsoft-com:office:excel&quot;&gt;\n   &lt;PageSetup&gt;\n    &lt;Header x:Margin=&quot;0.3&quot;/&gt;\n    &lt;Footer x:Margin=&quot;0.3&quot;/&gt;\n    &lt;PageMargins x:Bottom=&quot;0.75&quot; x:Left=&quot;0.7&quot; x:Right=&quot;0.7&quot; x:Top=&quot;0.75&quot;/&gt;\n   &lt;/PageSetup&gt;\n   &lt;Selected/&gt;\n   &lt;ProtectObjects&gt;False&lt;/ProtectObjects&gt;\n   &lt;ProtectScenarios&gt;False&lt;/ProtectScenarios&gt;\n  &lt;/WorksheetOptions&gt;\n &lt;/Worksheet&gt;\n&lt;/Workbook&gt;\n</code></pre>\n"},{"tags":["java","parameters","stack","aws-cdk-context","ncurses-cdk"],"owner":{"account_id":27262400,"reputation":11,"user_id":20785037,"display_name":"jonny99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671113804,"creation_date":1671113804,"question_id":74812945,"body_markdown":"So I&#39;m just getting started with CDK using Java &amp; I&#39;d like to find how to extract context info from the cdk.context.json.\r\nEssentially looking to hold parameters externally from the Stack relative to the environment (dev, test etc).\r\nSo will be looking at incorporating into a pipeline (probably Gitlab) so the cdk.context.json will be version controlled.\r\nFor instance, a cut of my context is as follows;\r\n\r\n\r\n```\r\n{\r\n  &quot;vpc-provider:account=999999999:filter.isDefault=true:filter.vpc-id=vpc-w4w4w4w4w4:region=eu-west-2:returnAsymmetricSubnets=true&quot;: {\r\n    &quot;vpcId&quot;: &quot;vpc-w4w4w4w4w4&quot;,\r\n    .......\r\n  &quot;environments&quot;: {\r\n    &quot;dev&quot;: {\r\n      &quot;documentDb&quot;: [\r\n        {\r\n          &quot;port&quot;: &quot;27017&quot;\r\n        }\r\n      ],\r\n      &quot;subnetGroups&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;Private&quot;,\r\n          &quot;type&quot;: &quot;Private&quot;,\r\n          &quot;subnets&quot;: [\r\n            {\r\n              &quot;cidr&quot;: &quot;10.0.1.0/24/24&quot;,\r\n              &quot;availabilityZone&quot;: &quot;eu-west-2a&quot;\r\n            },\r\n            {\r\n              &quot;cidr&quot;: &quot;10.0.2.0/24&quot;,\r\n              &quot;availabilityZone&quot;: &quot;eu-west-2b&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    &quot;prod&quot;: {\r\n      &quot;documentDb&quot;: [\r\n        {\r\n          &quot;port&quot;: &quot;27018&quot;\r\n        }\r\n      ],\r\n      &quot;subnetGroups&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;Private&quot;,\r\n          &quot;type&quot;: &quot;Private&quot;,\r\n          &quot;subnets&quot;: [\r\n            {\r\n              &quot;cidr&quot;: &quot;20.0.1.0/24/24&quot;,\r\n              &quot;availabilityZone&quot;: &quot;eu-west-2a&quot;\r\n            },\r\n            {\r\n              &quot;cidr&quot;: &quot;20.0.2.0/24&quot;,\r\n              &quot;availabilityZone&quot;: &quot;eu-west-2b&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;d like to extract the values for dev --&gt; documentDb --&gt; port for instance in the most elegant CDK way.  If in my Stack I use;\r\n\r\n`\r\nthis.getNode().tryGetContext(&quot;environments&quot;)\r\n`\r\n\r\nI am returned the whole JSON block;\r\n\r\n```\r\n{dev={documentDb=[{port=27017], subnetGroups=[{name=Private, type=Private, subnets=[{cidr=10.0.1.0/24/24, availabilityZone=eu-west-2a}, {cidr=10.0.2.0/24, availabilityZone=eu-west-2b}]}]}, prod={documentDb=[{port=27018], subnetGroups=..............\r\n```\r\n\r\n&amp; not sure how to progress up the tree.  If I synch passing in the config;\r\n\r\n```\r\ncdk synth -c config=environments &gt; target/DocumentDbAppStack.yaml\r\n```\r\n\r\n&amp; in my Stack;\r\n\r\n```\r\nthis.getNode().tryGetContext(&quot;config&quot;)\r\n```\r\n\r\nI get &quot;environments&quot;.\r\n\r\nI can parse the LinkedHashMap using a JSON parser but that&#39;s obviously the wrong approach.  I have looked at loads of examples / AWS documentation etc but can&#39;t seem to find the answer.  There seems to be a wealth of info using Typescript (think that was the first language used for CDK), but I&#39;ve never used it.\r\n\r\nThanks in advance.\r\n\r\nDetailed above in description.","title":"CDK Java - Referencing nested json context values within a Stack","body":"<p>So I'm just getting started with CDK using Java &amp; I'd like to find how to extract context info from the cdk.context.json.\nEssentially looking to hold parameters externally from the Stack relative to the environment (dev, test etc).\nSo will be looking at incorporating into a pipeline (probably Gitlab) so the cdk.context.json will be version controlled.\nFor instance, a cut of my context is as follows;</p>\n<pre><code>{\n  &quot;vpc-provider:account=999999999:filter.isDefault=true:filter.vpc-id=vpc-w4w4w4w4w4:region=eu-west-2:returnAsymmetricSubnets=true&quot;: {\n    &quot;vpcId&quot;: &quot;vpc-w4w4w4w4w4&quot;,\n    .......\n  &quot;environments&quot;: {\n    &quot;dev&quot;: {\n      &quot;documentDb&quot;: [\n        {\n          &quot;port&quot;: &quot;27017&quot;\n        }\n      ],\n      &quot;subnetGroups&quot;: [\n        {\n          &quot;name&quot;: &quot;Private&quot;,\n          &quot;type&quot;: &quot;Private&quot;,\n          &quot;subnets&quot;: [\n            {\n              &quot;cidr&quot;: &quot;10.0.1.0/24/24&quot;,\n              &quot;availabilityZone&quot;: &quot;eu-west-2a&quot;\n            },\n            {\n              &quot;cidr&quot;: &quot;10.0.2.0/24&quot;,\n              &quot;availabilityZone&quot;: &quot;eu-west-2b&quot;\n            }\n          ]\n        }\n      ]\n    },\n    &quot;prod&quot;: {\n      &quot;documentDb&quot;: [\n        {\n          &quot;port&quot;: &quot;27018&quot;\n        }\n      ],\n      &quot;subnetGroups&quot;: [\n        {\n          &quot;name&quot;: &quot;Private&quot;,\n          &quot;type&quot;: &quot;Private&quot;,\n          &quot;subnets&quot;: [\n            {\n              &quot;cidr&quot;: &quot;20.0.1.0/24/24&quot;,\n              &quot;availabilityZone&quot;: &quot;eu-west-2a&quot;\n            },\n            {\n              &quot;cidr&quot;: &quot;20.0.2.0/24&quot;,\n              &quot;availabilityZone&quot;: &quot;eu-west-2b&quot;\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>I'd like to extract the values for dev --&gt; documentDb --&gt; port for instance in the most elegant CDK way.  If in my Stack I use;</p>\n<p><code>this.getNode().tryGetContext(&quot;environments&quot;)</code></p>\n<p>I am returned the whole JSON block;</p>\n<pre><code>{dev={documentDb=[{port=27017], subnetGroups=[{name=Private, type=Private, subnets=[{cidr=10.0.1.0/24/24, availabilityZone=eu-west-2a}, {cidr=10.0.2.0/24, availabilityZone=eu-west-2b}]}]}, prod={documentDb=[{port=27018], subnetGroups=..............\n</code></pre>\n<p>&amp; not sure how to progress up the tree.  If I synch passing in the config;</p>\n<pre><code>cdk synth -c config=environments &gt; target/DocumentDbAppStack.yaml\n</code></pre>\n<p>&amp; in my Stack;</p>\n<pre><code>this.getNode().tryGetContext(&quot;config&quot;)\n</code></pre>\n<p>I get &quot;environments&quot;.</p>\n<p>I can parse the LinkedHashMap using a JSON parser but that's obviously the wrong approach.  I have looked at loads of examples / AWS documentation etc but can't seem to find the answer.  There seems to be a wealth of info using Typescript (think that was the first language used for CDK), but I've never used it.</p>\n<p>Thanks in advance.</p>\n<p>Detailed above in description.</p>\n"},{"tags":["java","apache-camel","spring-camel","apache-camel-3"],"comments":[{"owner":{"account_id":1362824,"reputation":420,"user_id":1299861,"accept_rate":59,"display_name":"Srini"},"score":0,"creation_date":1661498465,"post_id":73456975,"comment_id":129791013,"body_markdown":"Not sure if I understand your question correctly. You could still create endpoints dynamically using the uri parameters ? Or you could get the endpoint instance from the component and apply the configuration the you need dynamically.","body":"Not sure if I understand your question correctly. You could still create endpoints dynamically using the uri parameters ? Or you could get the endpoint instance from the component and apply the configuration the you need dynamically."}],"answers":[{"tags":[],"owner":{"account_id":25843409,"reputation":1,"user_id":19578636,"display_name":"Deepti Ranjan Pradhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671113624,"creation_date":1671113624,"answer_id":74812909,"question_id":73456975,"body_markdown":"\r\nIn camel3x \r\n----------\r\n\r\nthe method getEndpointConfiguration() is removed from Endpoint class\r\n\r\nthe class EndpointConfiguration is  removed\r\n\r\nalso there is no  getParameter(Stirng parameter) available any where else which can return Endpoint&#39;s parameter (as per my knowledge)\r\n\r\n\r\nInside my custom processor :-\r\n\r\nPreviously my code was like\t  \r\n\r\n    Endpoint fromEndpoint = exchange.getFromEndpoint();\r\n    String noop=fromEndpoint.getEndpointConfiguration().getParameter(&quot;noop&quot;);\r\n\r\n\r\nNow in camel3x my code is        \r\n\r\n    Endpoint fromEndpoint = exchange.getFromEndpoint();\r\n    String fullEndpointUri = fromEndpoint.getEndpointUri();\r\n    URI uri = new URI(fullEndpointUri);\r\n    Map&lt;String, Object&gt; parameters = URISupport.parseParameters(uri);\r\n    String password =(String)parameters.get(&quot;noop&quot;);\r\n\r\n If any one have better implementation please advise.\r\n\r\n\r\n\r\n","title":"EndpointConfiguration in Apache camel after 2.19.0 version deprecated","body":"<h2>In camel3x</h2>\n<p>the method getEndpointConfiguration() is removed from Endpoint class</p>\n<p>the class EndpointConfiguration is  removed</p>\n<p>also there is no  getParameter(Stirng parameter) available any where else which can return Endpoint's parameter (as per my knowledge)</p>\n<p>Inside my custom processor :-</p>\n<p>Previously my code was like</p>\n<pre><code>Endpoint fromEndpoint = exchange.getFromEndpoint();\nString noop=fromEndpoint.getEndpointConfiguration().getParameter(&quot;noop&quot;);\n</code></pre>\n<p>Now in camel3x my code is</p>\n<pre><code>Endpoint fromEndpoint = exchange.getFromEndpoint();\nString fullEndpointUri = fromEndpoint.getEndpointUri();\nURI uri = new URI(fullEndpointUri);\nMap&lt;String, Object&gt; parameters = URISupport.parseParameters(uri);\nString password =(String)parameters.get(&quot;noop&quot;);\n</code></pre>\n<p>If any one have better implementation please advise.</p>\n"}],"owner":{"account_id":7034598,"reputation":1,"user_id":5389164,"display_name":"Dheenan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671113624,"creation_date":1661250063,"question_id":73456975,"body_markdown":"In our application we were using older camel version where EndpointConfiguration interface and getEndpointConfiguration() method are referenced [Returns the object representation of the endpoint configuration].\r\n\r\nFrom 2.19.0 camel version we see it&#39;s deprecated. Is there any alternate class/method help us in achieving the same functionality. Kindly advise. \r\n\r\nIdeally If we get any class/method/method where we can get value at runtime and form the URI dynamically will solve our problem. ","title":"EndpointConfiguration in Apache camel after 2.19.0 version deprecated","body":"<p>In our application we were using older camel version where EndpointConfiguration interface and getEndpointConfiguration() method are referenced [Returns the object representation of the endpoint configuration].</p>\n<p>From 2.19.0 camel version we see it's deprecated. Is there any alternate class/method help us in achieving the same functionality. Kindly advise.</p>\n<p>Ideally If we get any class/method/method where we can get value at runtime and form the URI dynamically will solve our problem.</p>\n"},{"tags":["java","android","facebook","kotlin","facebook-graph-api"],"answers":[{"tags":[],"owner":{"account_id":1755126,"reputation":31445,"user_id":1603357,"accept_rate":59,"display_name":"Tobi"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1440584538,"creation_date":1440584538,"answer_id":32223997,"question_id":32223403,"body_markdown":"I guess this is related to a change in the Graph API v2.4 which makes it necessary that you specify every field you want to have returned from the Graph API.\r\n\r\nHave a look at my answer at \r\n\r\n* https://stackoverflow.com/questions/31692355/facebook-only-returning-name-and-id-of-user/31692908#31692908\r\n\r\nregarding this\r\n\r\nConcerning your actual problem, see\r\n\r\n* https://developers.facebook.com/docs/android/graph#userdata\r\n\r\nfor an example on how to specify the fields for a `GraphRequest`\r\n\r\n    GraphRequest request = GraphRequest.newMeRequest(\r\n            accessToken,\r\n            new GraphRequest.GraphJSONObjectCallback() {\r\n                @Override\r\n                public void onCompleted(\r\n                       JSONObject object,\r\n                       GraphResponse response) {\r\n                    // Application code\r\n                }\r\n            });\r\n    Bundle parameters = new Bundle();\r\n    parameters.putString(&quot;fields&quot;, &quot;id,name,email&quot;);\r\n    request.setParameters(parameters);\r\n    request.executeAsync();","title":"How to get user email on GraphRequest.newMeRequest","body":"<p>I guess this is related to a change in the Graph API v2.4 which makes it necessary that you specify every field you want to have returned from the Graph API.</p>\n\n<p>Have a look at my answer at </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31692355/facebook-only-returning-name-and-id-of-user/31692908#31692908\">Facebook only returning name and id of user</a></li>\n</ul>\n\n<p>regarding this</p>\n\n<p>Concerning your actual problem, see</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/android/graph#userdata\" rel=\"noreferrer\">https://developers.facebook.com/docs/android/graph#userdata</a></li>\n</ul>\n\n<p>for an example on how to specify the fields for a <code>GraphRequest</code></p>\n\n<pre><code>GraphRequest request = GraphRequest.newMeRequest(\n        accessToken,\n        new GraphRequest.GraphJSONObjectCallback() {\n            @Override\n            public void onCompleted(\n                   JSONObject object,\n                   GraphResponse response) {\n                // Application code\n            }\n        });\nBundle parameters = new Bundle();\nparameters.putString(\"fields\", \"id,name,email\");\nrequest.setParameters(parameters);\nrequest.executeAsync();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8110518,"reputation":3386,"user_id":6110783,"accept_rate":78,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632675164,"creation_date":1632675164,"answer_id":69337012,"question_id":32223403,"body_markdown":"**Kotlin**\r\n\r\nAlso, avoids the error of `Interface GraphJSONObjectCallback does not have constructors`, which may pop up if you automatically covert the Java version to Kotlin.\r\n\r\n            val request = GraphRequest.newMeRequest(\r\n              token,\r\n              object : GraphRequest.GraphJSONObjectCallback {\r\n                override fun onCompleted(\r\n                  obj: JSONObject?,\r\n                  response: GraphResponse?\r\n                ) {\r\n\r\n                  try {\r\n                    // Save user email to variable\r\n                    email = obj!!.getString(&quot;email&quot;)\r\n                    firstName = obj.getString(&quot;first_name&quot;)\r\n                    lastName = obj.getString(&quot;last_name&quot;)\r\n                    handleFacebookAccessToken(token)\r\n                  }\r\n                  catch (e: JSONException) {\r\n                    Toast.makeText(\r\n                      this@MainActivity,\r\n                      &quot;Facebook Authentication Failed.&quot;,\r\n                      Toast.LENGTH_LONG\r\n                    ).show()\r\n                  }\r\n                }\r\n              })\r\n\r\n            val parameters = Bundle()\r\n            parameters.putString(&quot;fields&quot;, &quot;email,first_name,last_name&quot;)\r\n            request.parameters = parameters\r\n            request.executeAsync()","title":"How to get user email on GraphRequest.newMeRequest","body":"<p><strong>Kotlin</strong></p>\n<p>Also, avoids the error of <code>Interface GraphJSONObjectCallback does not have constructors</code>, which may pop up if you automatically covert the Java version to Kotlin.</p>\n<pre><code>        val request = GraphRequest.newMeRequest(\n          token,\n          object : GraphRequest.GraphJSONObjectCallback {\n            override fun onCompleted(\n              obj: JSONObject?,\n              response: GraphResponse?\n            ) {\n\n              try {\n                // Save user email to variable\n                email = obj!!.getString(&quot;email&quot;)\n                firstName = obj.getString(&quot;first_name&quot;)\n                lastName = obj.getString(&quot;last_name&quot;)\n                handleFacebookAccessToken(token)\n              }\n              catch (e: JSONException) {\n                Toast.makeText(\n                  this@MainActivity,\n                  &quot;Facebook Authentication Failed.&quot;,\n                  Toast.LENGTH_LONG\n                ).show()\n              }\n            }\n          })\n\n        val parameters = Bundle()\n        parameters.putString(&quot;fields&quot;, &quot;email,first_name,last_name&quot;)\n        request.parameters = parameters\n        request.executeAsync()\n</code></pre>\n"}],"owner":{"account_id":6752275,"reputation":119,"user_id":5201948,"display_name":"cordeiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9284,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32223997,"answer_count":2,"score":8,"last_activity_date":1671113524,"creation_date":1440582925,"question_id":32223403,"body_markdown":"I have a Facebook login option in my Android app and I am trying to get the user&#39;s email unsuccessfully.\r\nAfter the user is logged in, and added to the Parse.com User table (with a valid access token), I request the Facebook user info, but only get it&#39;s id and name (even though the email is set as one of the permissions).\r\n\r\nHere&#39;s my code (inside OnClickListener of my button):\r\n\r\n    ParseFacebookUtils.logInWithReadPermissionsInBackground(\r\n        getActivity(), Arrays.asList(&quot;email&quot;, &quot;user_friends&quot;), new LogInCallback() {\r\n            @Override\r\n            public void done(ParseUser user, ParseException err) {\r\n                //err is null\r\n\r\n                if (user == null) {\r\n                    Log.d(TAG, &quot;Uh oh. The user cancelled the Facebook login.&quot;);\r\n                } else {\r\n                    GraphRequest.newMeRequest(\r\n                        AccessToken.getCurrentAccessToken(),\r\n                        new GraphRequest.GraphJSONObjectCallback() {\r\n                            @Override\r\n                            public void onCompleted(JSONObject user, GraphResponse response) {\r\n                                \r\n                                Log.d(TAG, &quot;user = &quot; + user.toString());\r\n                                //prints -&gt; user = {&quot;name&quot;:&quot;my_fb_name&quot;,&quot;id&quot;:&quot;my_fb_id&quot;}\r\n                            }\r\n                        }\r\n                    ).executeAsync();                \r\n               }\r\n           });","title":"How to get user email on GraphRequest.newMeRequest","body":"<p>I have a Facebook login option in my Android app and I am trying to get the user's email unsuccessfully.\nAfter the user is logged in, and added to the Parse.com User table (with a valid access token), I request the Facebook user info, but only get it's id and name (even though the email is set as one of the permissions).</p>\n\n<p>Here's my code (inside OnClickListener of my button):</p>\n\n<pre><code>ParseFacebookUtils.logInWithReadPermissionsInBackground(\n    getActivity(), Arrays.asList(\"email\", \"user_friends\"), new LogInCallback() {\n        @Override\n        public void done(ParseUser user, ParseException err) {\n            //err is null\n\n            if (user == null) {\n                Log.d(TAG, \"Uh oh. The user cancelled the Facebook login.\");\n            } else {\n                GraphRequest.newMeRequest(\n                    AccessToken.getCurrentAccessToken(),\n                    new GraphRequest.GraphJSONObjectCallback() {\n                        @Override\n                        public void onCompleted(JSONObject user, GraphResponse response) {\n\n                            Log.d(TAG, \"user = \" + user.toString());\n                            //prints -&gt; user = {\"name\":\"my_fb_name\",\"id\":\"my_fb_id\"}\n                        }\n                    }\n                ).executeAsync();                \n           }\n       });\n</code></pre>\n"},{"tags":["java","android","permissions","copy","backup"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1671103136,"post_id":74810535,"comment_id":132027836,"body_markdown":"if you have stored your backup in local database then it will clear at the time of uninstalling the application","body":"if you have stored your backup in local database then it will clear at the time of uninstalling the application"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1671103169,"post_id":74810535,"comment_id":132027847,"body_markdown":"you are uploading your back up at cloud?","body":"you are uploading your back up at cloud?"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1671103237,"post_id":74810535,"comment_id":132027870,"body_markdown":"please upload manifest file","body":"please upload manifest file"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671113482,"creation_date":1671113482,"answer_id":74812878,"question_id":74810535,"body_markdown":"After reinstalling your app the backup files do not belong to your app anymore.\r\n\r\nYou could have checked that with File.exists() and File.canRead().\r\n\r\nUse ACTION_OPEN_DOCUMENT_TREE to let the user select APP_NAME directory.\r\n\r\nOr use ACTION_OPEN_DOCUMENT to let the user choose individual files.","title":"NOTES&#160;Alpha: Error copying file : open failed: EACCES (Permission denied)","body":"<p>After reinstalling your app the backup files do not belong to your app anymore.</p>\n<p>You could have checked that with File.exists() and File.canRead().</p>\n<p>Use ACTION_OPEN_DOCUMENT_TREE to let the user select APP_NAME directory.</p>\n<p>Or use ACTION_OPEN_DOCUMENT to let the user choose individual files.</p>\n"}],"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671113482,"creation_date":1671102347,"question_id":74810535,"body_markdown":"I need to create and restore a backup into my application. My backup logic is working well. but there was a problem for me that I describe below.\r\n\r\n - I create my backup and restore it without uninstalling the application. its working well\r\n\r\n - but when i create backup and uninstall the application, then i installing the application and try to restore it then i facing eorros.\r\n\r\nMy backup file location is `/storage/emulated/0/Downloads/APP_NAME/BACKUP_FOLDER/BACKUP_NAME.xml.` and i want to copy into `/storage/emulated/0/Android/data/user/PACKAGE_NAME/shared_prefs/BACKUP_NAME.xml`\r\n\r\nand error is ` java.io.FileNotFoundException: /storage/emulated/0/Downloads/APP_NAME/BACKUP_FOLDER/BACKUP_NAME.xml: open failed: EACCES (Permission denied)`","title":"NOTES&#160;Alpha: Error copying file : open failed: EACCES (Permission denied)","body":"<p>I need to create and restore a backup into my application. My backup logic is working well. but there was a problem for me that I describe below.</p>\n<ul>\n<li><p>I create my backup and restore it without uninstalling the application. its working well</p>\n</li>\n<li><p>but when i create backup and uninstall the application, then i installing the application and try to restore it then i facing eorros.</p>\n</li>\n</ul>\n<p>My backup file location is <code>/storage/emulated/0/Downloads/APP_NAME/BACKUP_FOLDER/BACKUP_NAME.xml.</code> and i want to copy into <code>/storage/emulated/0/Android/data/user/PACKAGE_NAME/shared_prefs/BACKUP_NAME.xml</code></p>\n<p>and error is <code> java.io.FileNotFoundException: /storage/emulated/0/Downloads/APP_NAME/BACKUP_FOLDER/BACKUP_NAME.xml: open failed: EACCES (Permission denied)</code></p>\n"},{"tags":["java","scripting","drools","rules","rule-engine"],"comments":[{"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":1,"creation_date":1518561206,"post_id":12705586,"comment_id":84555287,"body_markdown":"Realize this is a really old question, but I just want to point out that Drools does have some UIs to modify the rules in a &quot;nice&quot; way without having to worry about script syntax.","body":"Realize this is a really old question, but I just want to point out that Drools does have some UIs to modify the rules in a &quot;nice&quot; way without having to worry about script syntax."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1349268058,"creation_date":1349256889,"answer_id":12705670,"question_id":12705586,"body_markdown":"Fanatics of all stripes should be questioned, no matter what topic they rave about.\r\n\r\nData-driven decision tables are a perfectly good way to implement complex behavior.  On the day it doesn&#39;t scale or perform to your requirements, perhaps you&#39;ll want to consider something else.\r\n\r\nI wouldn&#39;t want to make a technology swap in working production code unless I had a compelling reason.  It would take a lot more than fan boy lobbying.\r\n\r\nIf you&#39;re really interested, do a PoC and get some real data.  If not, learn how to politely smile and ignore them.\r\n\r\nI&#39;ve answered about this before: \r\n\r\nhttps://stackoverflow.com/questions/250403/rules-engine-pros-and-cons/398389#398389\r\n\r\nUPDATE: If it&#39;s your boss, and you can&#39;t dismiss, then make it interface based and try a Drools implementation in a PoC.  If you&#39;re using Spring, inject one and then the other, measuring performance under a meaningful production rated load.  Get some real data - maybe you&#39;ll both learn something.\r\n\r\n\r\n","title":"Why should i use Drools?","body":"<p>Fanatics of all stripes should be questioned, no matter what topic they rave about.</p>\n\n<p>Data-driven decision tables are a perfectly good way to implement complex behavior.  On the day it doesn't scale or perform to your requirements, perhaps you'll want to consider something else.</p>\n\n<p>I wouldn't want to make a technology swap in working production code unless I had a compelling reason.  It would take a lot more than fan boy lobbying.</p>\n\n<p>If you're really interested, do a PoC and get some real data.  If not, learn how to politely smile and ignore them.</p>\n\n<p>I've answered about this before: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/250403/rules-engine-pros-and-cons/398389#398389\">Rules Engine - pros and cons</a></p>\n\n<p>UPDATE: If it's your boss, and you can't dismiss, then make it interface based and try a Drools implementation in a PoC.  If you're using Spring, inject one and then the other, measuring performance under a meaningful production rated load.  Get some real data - maybe you'll both learn something.</p>\n"},{"tags":[],"owner":{"account_id":4518733,"reputation":61,"user_id":3672721,"display_name":"Rehan Rana"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1400974413,"creation_date":1400973179,"answer_id":23850534,"question_id":12705586,"body_markdown":" - Drools is open source.\r\n - It provides forward and backward chaining of rules execution\r\n - It provides template base rule definitions\r\n - It is implemented using JSR-94\r\n - It has decision table facility\r\n - Its rules are human readable\r\n - It is integrated with Spring","title":"Why should i use Drools?","body":"<ul>\n<li>Drools is open source.</li>\n<li>It provides forward and backward chaining of rules execution</li>\n<li>It provides template base rule definitions</li>\n<li>It is implemented using JSR-94</li>\n<li>It has decision table facility</li>\n<li>Its rules are human readable</li>\n<li>It is integrated with Spring</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10082443,"reputation":2920,"user_id":8459403,"display_name":"Dr. X"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1550098564,"creation_date":1550098564,"answer_id":54680711,"question_id":12705586,"body_markdown":"Advantages of rule engines are; \r\n\r\n - **Declarative Programming**: Rules make it easy to express solutions to difficult problems and get the solutions verified as well. Unlike codes, Rules are written in less complex language; Business Analysts can easily read and verify a set of rules.\r\n -  **Logic and Data Separation**: The data resides in the Domain Objects and the business logic resides in the Rules. Depending upon the kind of project, this kind of separation can be very advantageous.\r\n -  **Speed and Scalability**:  The Rete OO algorithm on which Drools is written is already a proven algorithm. With the help of Drools, your application becomes very scalable. If there are frequent change requests, one can add new rules without having to modify the existing rules.\r\n -  **Centralization of Knowledge**: By using Rules, you create a repository of knowledge (a knowledge base) which is executable. It is a single point of truth for business policy. Ideally, Rules are so readable that they can also serve as documentation.\r\nTool Integration:  Tools such as Eclipse provide ways to edit and manage rules and get immediate feedback, validation, and content assistance. Auditing and debugging tools are also available.\r\n -  **Explanation Facility**: Rule systems effectively provide an explanation facility by being able to log the decisions made by the rule engine along with why the decisions were made.\r\n -  **Understandable Rules**: By creating object models and, optionally, Domain Specific Languages that model your problem domain you can set yourself up to write rules that are very close to natural language. They lend themselves to logic that is understandable to, possibly nontechnical, domain experts as they are expressed in their language, with all the program plumbing, the technical know-how being hidden away in the usual code.\r\n","title":"Why should i use Drools?","body":"<p>Advantages of rule engines are; </p>\n\n<ul>\n<li><strong>Declarative Programming</strong>: Rules make it easy to express solutions to difficult problems and get the solutions verified as well. Unlike codes, Rules are written in less complex language; Business Analysts can easily read and verify a set of rules.</li>\n<li><strong>Logic and Data Separation</strong>: The data resides in the Domain Objects and the business logic resides in the Rules. Depending upon the kind of project, this kind of separation can be very advantageous.</li>\n<li><strong>Speed and Scalability</strong>:  The Rete OO algorithm on which Drools is written is already a proven algorithm. With the help of Drools, your application becomes very scalable. If there are frequent change requests, one can add new rules without having to modify the existing rules.</li>\n<li><strong>Centralization of Knowledge</strong>: By using Rules, you create a repository of knowledge (a knowledge base) which is executable. It is a single point of truth for business policy. Ideally, Rules are so readable that they can also serve as documentation.\nTool Integration:  Tools such as Eclipse provide ways to edit and manage rules and get immediate feedback, validation, and content assistance. Auditing and debugging tools are also available.</li>\n<li><strong>Explanation Facility</strong>: Rule systems effectively provide an explanation facility by being able to log the decisions made by the rule engine along with why the decisions were made.</li>\n<li><strong>Understandable Rules</strong>: By creating object models and, optionally, Domain Specific Languages that model your problem domain you can set yourself up to write rules that are very close to natural language. They lend themselves to logic that is understandable to, possibly nontechnical, domain experts as they are expressed in their language, with all the program plumbing, the technical know-how being hidden away in the usual code.</li>\n</ul>\n"}],"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28591,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"closed_date":1671122233,"accepted_answer_id":12705670,"answer_count":3,"score":38,"last_activity_date":1671112968,"creation_date":1349256621,"question_id":12705586,"body_markdown":"I am no Drools expert. I have some familiarity with it though, by experimenting with it.\r\nI am unable to appreciate, why would i need it.\r\n\r\nMy Typical Applications are Business Web Applications. Yes they do have some amount of Rules. But those are implemented using Database Tables, SQL Queries, and a nice UI in for the Business-Users to modify the Rules. Rules are not arbitrary, they are carefully thought-thru before being put in Production.\r\n\r\nMy Business Users would never ever use a (Drools)Scripting Language to modify Anything. Let Alone Modify Rules. They are perfectly happy using UI Screens to modify Rules. Plus they can make a zillion syntax mistakes in a Drools files, if i let them anywhere near it.\r\n\r\nAgain &lt;br&gt;\r\n- Why should i use Drools in this scenario?&lt;br&gt;\r\n- There are Drools fanatics i have met who insist i should change all my code to make use of Drools.\r\n\r\nSo, is Drools useful? I am not sure.","title":"Why should i use Drools?","body":"<p>I am no Drools expert. I have some familiarity with it though, by experimenting with it.\nI am unable to appreciate, why would i need it.</p>\n\n<p>My Typical Applications are Business Web Applications. Yes they do have some amount of Rules. But those are implemented using Database Tables, SQL Queries, and a nice UI in for the Business-Users to modify the Rules. Rules are not arbitrary, they are carefully thought-thru before being put in Production.</p>\n\n<p>My Business Users would never ever use a (Drools)Scripting Language to modify Anything. Let Alone Modify Rules. They are perfectly happy using UI Screens to modify Rules. Plus they can make a zillion syntax mistakes in a Drools files, if i let them anywhere near it.</p>\n\n<p>Again <br>\n- Why should i use Drools in this scenario?<br>\n- There are Drools fanatics i have met who insist i should change all my code to make use of Drools.</p>\n\n<p>So, is Drools useful? I am not sure.</p>\n"},{"tags":["java","spring-boot","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1664037048,"post_id":73838849,"comment_id":130381858,"body_markdown":"Missing dependency","body":"Missing dependency"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1664037999,"post_id":73838849,"comment_id":130382026,"body_markdown":"The current m2e (maven support) ResolverConfiguration class doesn&#39;t seem to have a setActiveProfiles method. Possibly the STS plugins need an older version (or need to be updated)","body":"The current m2e (maven support) ResolverConfiguration class doesn&#39;t seem to have a setActiveProfiles method. Possibly the STS plugins need an older version (or need to be updated)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664040302,"post_id":73838849,"comment_id":130382477,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1664046594,"post_id":73838849,"comment_id":130383704,"body_markdown":"Something is using a [deprecated API of m2e (the Maven integration of Eclipse) that has been removed in the current version of m2e](https://github.com/eclipse-m2e/m2e-core/commit/cab8936dec18386354d6fc9e431e82f26197cb7d). It is not clear from the cropped message what this something is. Are you sure everything is up to date (_Help &gt; Check for Updates_)? Please show the full error message starting with `!SESSION` (see _Error Log_ view, select the error, copy it and paste it as text to your question).","body":"Something is using a <a href=\"https://github.com/eclipse-m2e/m2e-core/commit/cab8936dec18386354d6fc9e431e82f26197cb7d\" rel=\"nofollow noreferrer\">deprecated API of m2e (the Maven integration of Eclipse) that has been removed in the current version of m2e</a>. It is not clear from the cropped message what this something is. Are you sure everything is up to date (<i>Help &gt; Check for Updates</i>)? Please show the full error message starting with <code>!SESSION</code> (see <i>Error Log</i> view, select the error, copy it and paste it as text to your question)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1671114069,"post_id":73838849,"comment_id":132031944,"body_markdown":"See https://stackoverflow.com/q/73757713/6505250 including the comments (as it is unclear what exactly is using the method that has been removed).","body":"See <a href=\"https://stackoverflow.com/q/73757713/6505250\">stackoverflow.com/q/73757713/6505250</a> including the comments (as it is unclear what exactly is using the method that has been removed)."}],"owner":{"account_id":26432348,"reputation":1,"user_id":20078304,"display_name":"Ravi Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671114121,"answer_count":0,"score":0,"last_activity_date":1671112825,"creation_date":1664036871,"question_id":73838849,"body_markdown":"facing this issue while creating spring starter project in eclipse IDE, i have installed STS plugins also\r\nI tried of installing latest version of eclipse also","title":"NoSuchMethodError: &#39;void org.eclipse.m2e.core.project.ResolverConfiguration.setActiveProfiles(java.lang.String)&#39; java.lang.reflect.InvocationTargetExe","body":"<p>facing this issue while creating spring starter project in eclipse IDE, i have installed STS plugins also\nI tried of installing latest version of eclipse also</p>\n"},{"tags":["java","android","multithreading","android-animation"],"answers":[{"tags":[],"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1465336677,"creation_date":1465336580,"answer_id":37690090,"question_id":37689903,"body_markdown":"[Looper threads][1] are threads in Android that permanently loop (or until you cancel them).  They work in conjunction with [Handlers][1] which will post and send messages to `Looper` threads.  Animators use heavy use of Looper threads because they perform their actions in repeated cycles.  This allows the animator to not block after you press &quot;start&quot; so you can continue to perform other actions.\r\n\r\nTo further complicate matters, you most likely are performing animations on `View` objects.  These can only be run on the main UI thread (which happens to be the biggest `Looper` thread of them all).  So, you can not run these animations on separate threads like you are trying. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Handler.html","title":"Animators may only be run on Looper threads Android","body":"<p><a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Looper threads</a> are threads in Android that permanently loop (or until you cancel them).  They work in conjunction with <a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Handlers</a> which will post and send messages to <code>Looper</code> threads.  Animators use heavy use of Looper threads because they perform their actions in repeated cycles.  This allows the animator to not block after you press \"start\" so you can continue to perform other actions.</p>\n\n<p>To further complicate matters, you most likely are performing animations on <code>View</code> objects.  These can only be run on the main UI thread (which happens to be the biggest <code>Looper</code> thread of them all).  So, you can not run these animations on separate threads like you are trying. </p>\n"},{"tags":[],"owner":{"account_id":6069758,"reputation":1,"user_id":4738960,"display_name":"tuzhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465350592,"creation_date":1465350592,"answer_id":37692035,"question_id":37689903,"body_markdown":"I think you can create a main handler instance in your activity and override handle message method. you can save a handler quote in your work thread.When you finished work you can use handler to send a message and you receive message in handle message method. To start animation from handler message method and so on...","title":"Animators may only be run on Looper threads Android","body":"<p>I think you can create a main handler instance in your activity and override handle message method. you can save a handler quote in your work thread.When you finished work you can use handler to send a message and you receive message in handle message method. To start animation from handler message method and so on...</p>\n"},{"tags":[],"owner":{"account_id":2357554,"reputation":29505,"user_id":2065039,"accept_rate":89,"display_name":"Guruprasad J Rao"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1478698020,"creation_date":1478698020,"answer_id":40508143,"question_id":37689903,"body_markdown":"I think, there has been a **[solution][1]** for this using `Handler`. You can use `postDelayed` to minimal as `100` and run your animating tasks. In your case it would be:\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n            final String s = getGiphyViews(String.valueOf(mEdit.getText()));\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    result.setText(s);\r\n                }\r\n            });\r\n    \r\n            loading.animate()\r\n                    .alpha(0)\r\n                    .setDuration(100);\r\n    \r\n            done.animate()\r\n                    .scaleY(1)\r\n                    .scaleX(1)\r\n                    .setDuration(300);\r\n         }\r\n    }, 100);\r\n\r\nI had this problem today and above work resolved the problem. I would love to hear from anyone if there is any problem with this method.\r\n\r\n  [1]: https://stackoverflow.com/a/22804163/2065039","title":"Animators may only be run on Looper threads Android","body":"<p>I think, there has been a <strong><a href=\"https://stackoverflow.com/a/22804163/2065039\">solution</a></strong> for this using <code>Handler</code>. You can use <code>postDelayed</code> to minimal as <code>100</code> and run your animating tasks. In your case it would be:</p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n     @Override\n     public void run() {\n        final String s = getGiphyViews(String.valueOf(mEdit.getText()));\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                result.setText(s);\n            }\n        });\n\n        loading.animate()\n                .alpha(0)\n                .setDuration(100);\n\n        done.animate()\n                .scaleY(1)\n                .scaleX(1)\n                .setDuration(300);\n     }\n}, 100);\n</code></pre>\n\n<p>I had this problem today and above work resolved the problem. I would love to hear from anyone if there is any problem with this method.</p>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1501172483,"creation_date":1501157879,"answer_id":45350619,"question_id":37689903,"body_markdown":"Put Code Where Are getting error and doing any network operations    \r\n\r\n    new Handler().post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // add your code here \r\n            }\r\n        });","title":"Animators may only be run on Looper threads Android","body":"<p>Put Code Where Are getting error and doing any network operations    </p>\n\n<pre><code>new Handler().post(new Runnable() {\n        @Override\n        public void run() {\n            // add your code here \n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1502820291,"creation_date":1502820291,"answer_id":45698805,"question_id":37689903,"body_markdown":"    runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Your code\r\n                }\r\n    });\r\n\r\nYou have to execute the code in the UI Thread","title":"Animators may only be run on Looper threads Android","body":"<pre><code>runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                //Your code\n            }\n});\n</code></pre>\n\n<p>You have to execute the code in the UI Thread</p>\n"},{"tags":[],"owner":{"account_id":8110518,"reputation":3386,"user_id":6110783,"accept_rate":78,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646857600,"creation_date":1646857600,"answer_id":71415605,"question_id":37689903,"body_markdown":"**Kotlin** \r\n\r\nIf you still want to use a delay (or not)\r\n\r\n    Handler(Looper.getMainLooper()).postDelayed({\r\n        // Your Code\r\n    }, 1000)","title":"Animators may only be run on Looper threads Android","body":"<p><strong>Kotlin</strong></p>\n<p>If you still want to use a delay (or not)</p>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed({\n    // Your Code\n}, 1000)\n</code></pre>\n"}],"owner":{"account_id":7184663,"reputation":697,"user_id":5487135,"accept_rate":85,"display_name":"Adrien Zier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51354,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":45698805,"answer_count":6,"score":47,"last_activity_date":1671112475,"creation_date":1465335855,"question_id":37689903,"body_markdown":"I&#39;m trying to animate something when a task is completed. The problem here is I get this error message: \r\n\r\n    android.util.AndroidRuntimeException: Animators may only be run on Looper threads\r\n       at android.animation.ValueAnimator.cancel(ValueAnimator.java:1004)\r\n       at android.view.ViewPropertyAnimator.animatePropertyBy(ViewPropertyAnimator.java:965)\r\n       at android.view.ViewPropertyAnimator.animateProperty(ViewPropertyAnimator.java:921)\r\n       at android.view.ViewPropertyAnimator.alpha(ViewPropertyAnimator.java:735)\r\n       at com.design.zaton.prototypei.MainActivity$1$1.run(MainActivity.java:93)\r\n       at java.lang.Thread.run(Thread.java:761)\r\n\r\nThe app worked fine before with the same exact code but now it simply doesn&#39;t. I&#39;m really confused.\r\n\r\nHere&#39;s where the error happens:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            final String s = getGiphyViews(String.valueOf(mEdit.getText()));\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    result.setText(s);\r\n                }\r\n            });\r\n\r\n            loading.animate()\r\n                    .alpha(0)\r\n                    .setDuration(100);\r\n\r\n            done.animate()\r\n                    .scaleY(1)\r\n                    .scaleX(1)\r\n                    .setDuration(300);\r\n        }\r\n    }).start();\r\n\r\nThe error outlines the `loading.animate()` method.\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n","title":"Animators may only be run on Looper threads Android","body":"<p>I'm trying to animate something when a task is completed. The problem here is I get this error message: </p>\n\n<pre><code>android.util.AndroidRuntimeException: Animators may only be run on Looper threads\n   at android.animation.ValueAnimator.cancel(ValueAnimator.java:1004)\n   at android.view.ViewPropertyAnimator.animatePropertyBy(ViewPropertyAnimator.java:965)\n   at android.view.ViewPropertyAnimator.animateProperty(ViewPropertyAnimator.java:921)\n   at android.view.ViewPropertyAnimator.alpha(ViewPropertyAnimator.java:735)\n   at com.design.zaton.prototypei.MainActivity$1$1.run(MainActivity.java:93)\n   at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n\n<p>The app worked fine before with the same exact code but now it simply doesn't. I'm really confused.</p>\n\n<p>Here's where the error happens:</p>\n\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        final String s = getGiphyViews(String.valueOf(mEdit.getText()));\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                result.setText(s);\n            }\n        });\n\n        loading.animate()\n                .alpha(0)\n                .setDuration(100);\n\n        done.animate()\n                .scaleY(1)\n                .scaleX(1)\n                .setDuration(300);\n    }\n}).start();\n</code></pre>\n\n<p>The error outlines the <code>loading.animate()</code> method.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","ajax","string","spring-boot"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1671110061,"post_id":74812067,"comment_id":132030356,"body_markdown":"sounds like you are not properly sending up the value","body":"sounds like you are not properly sending up the value"},{"owner":{"account_id":3703139,"reputation":34584,"user_id":3082296,"accept_rate":90,"display_name":"adiga"},"score":0,"creation_date":1671110230,"post_id":74812067,"comment_id":132030413,"body_markdown":"Please add the ajax call related code where you are making the call to the server","body":"Please add the ajax call related code where you are making the call to the server"},{"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"score":0,"creation_date":1671115481,"post_id":74812067,"comment_id":132032504,"body_markdown":"@adiga Added ajax call in question","body":"@adiga Added ajax call in question"},{"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"score":0,"creation_date":1671115500,"post_id":74812067,"comment_id":132032511,"body_markdown":"@epascarello working for every scenario but failing for only one case","body":"@epascarello working for every scenario but failing for only one case"}],"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671112431,"creation_date":1671109837,"question_id":74812067,"body_markdown":"I am using bootstrap multiselect and in that i have multiple string values and i am passing that list of string in formData in an ajax call and in backend Spring Boot Controller i am getting that value in \r\n\r\n    @RequestParam(&quot;selectedNames&quot;) List&lt;String&gt; selectedNames\r\n\r\nThis is working fine for almost all scenarios but getting failed in scenario\r\n\r\n(&quot;Eng,l&#39;s&quot;) -&gt; This is single string  **it contains , and &#39; special characters**\r\n\r\nFor Example I selected three values in multiselect - \r\n\r\n  1- INDIA 2- AMERICA 3- Eng,l&#39;s\r\n\r\nNow in Backend i am getting 4 values in selectedNames list parameter (INDIA,AMERICA,Eng,l&#39;s),\r\n\r\n but i need only there values\r\n\r\nSuggest me some ways to handle this specific scenario \r\n\r\n\r\nThis Code is working fine for values (AMERICA,INDIA,ENGLAND) but failing for  when i have comma in one of the selected names\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    function selectedNamesData() {\r\n      let selectedNames = $(&quot;#selectedNames&quot;).val();\r\n      let formData = new FormData();\r\n      formData.append(&quot;selectedNames&quot;,selectedNames);\r\n      $.ajax({\r\n        type: &quot;GET&quot;,\r\n        url: &quot;url&quot;,\r\n        data: formData,\r\n        success: function (data) {\r\n          console.log(data);\r\n        },\r\n      });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Osf2X.png","title":"Comma(,) issue in string in Java","body":"<p>I am using bootstrap multiselect and in that i have multiple string values and i am passing that list of string in formData in an ajax call and in backend Spring Boot Controller i am getting that value in</p>\n<pre><code>@RequestParam(&quot;selectedNames&quot;) List&lt;String&gt; selectedNames\n</code></pre>\n<p>This is working fine for almost all scenarios but getting failed in scenario</p>\n<p>(&quot;Eng,l's&quot;) -&gt; This is single string  <strong>it contains , and ' special characters</strong></p>\n<p>For Example I selected three values in multiselect -</p>\n<p>1- INDIA 2- AMERICA 3- Eng,l's</p>\n<p>Now in Backend i am getting 4 values in selectedNames list parameter (INDIA,AMERICA,Eng,l's),</p>\n<p>but i need only there values</p>\n<p>Suggest me some ways to handle this specific scenario</p>\n<p>This Code is working fine for values (AMERICA,INDIA,ENGLAND) but failing for  when i have comma in one of the selected names</p>\n<p><a href=\"https://i.stack.imgur.com/Osf2X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Osf2X.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>function selectedNamesData() {\n  let selectedNames = $(&quot;#selectedNames&quot;).val();\n  let formData = new FormData();\n  formData.append(&quot;selectedNames&quot;,selectedNames);\n  $.ajax({\n    type: &quot;GET&quot;,\n    url: &quot;url&quot;,\n    data: formData,\n    success: function (data) {\n      console.log(data);\n    },\n  });\n}\n</code></pre>\n"},{"tags":["java","rest","wiremock","mockserver"],"answers":[{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1661273601,"creation_date":1596123986,"answer_id":63176763,"question_id":57422081,"body_markdown":"They both do more or less the same thing. WireMock is slightly more popular (in terms of stars on the GitHub repo).\r\n\r\nWithout being entirely certain, some differences seem to be:\r\n* **MockServer** seems to have a Maven Plugin for configuration and starting the server\r\n* **MockServer** offers a way to set up callbacks when a request matches an Expectations\r\n* **WireMock** seems to have an easier way of manipulating external files to set up the Expectations\r\n\r\nThey, on the other side, both offer:\r\n* A UI dashboard\r\n* A record+replay feature\r\n\r\nWe are currently using both at work, but I&#39;ve only interacted with MockServer.","title":"Difference between WireMockServer vs MockServerClient","body":"<p>They both do more or less the same thing. WireMock is slightly more popular (in terms of stars on the GitHub repo).</p>\n<p>Without being entirely certain, some differences seem to be:</p>\n<ul>\n<li><strong>MockServer</strong> seems to have a Maven Plugin for configuration and starting the server</li>\n<li><strong>MockServer</strong> offers a way to set up callbacks when a request matches an Expectations</li>\n<li><strong>WireMock</strong> seems to have an easier way of manipulating external files to set up the Expectations</li>\n</ul>\n<p>They, on the other side, both offer:</p>\n<ul>\n<li>A UI dashboard</li>\n<li>A record+replay feature</li>\n</ul>\n<p>We are currently using both at work, but I've only interacted with MockServer.</p>\n"},{"tags":[],"owner":{"account_id":27262386,"reputation":1,"user_id":20785023,"display_name":"Karol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671112163,"creation_date":1671112101,"answer_id":74812574,"question_id":57422081,"body_markdown":"I first used Mockserver when I discovered, that there is a dedicated testcontainers module for it, while there is none for Wiremock\r\nhttps://www.testcontainers.org/modules/mockserver/\r\nBut on the other hand Wiremock seems to be easy to use with testcontainers without official testcontainers support anyway \r\nhttps://github.com/testcontainers/testcontainers-java/issues/3554\r\nI haven&#39;t tried it though","title":"Difference between WireMockServer vs MockServerClient","body":"<p>I first used Mockserver when I discovered, that there is a dedicated testcontainers module for it, while there is none for Wiremock\n<a href=\"https://www.testcontainers.org/modules/mockserver/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/mockserver/</a>\nBut on the other hand Wiremock seems to be easy to use with testcontainers without official testcontainers support anyway\n<a href=\"https://github.com/testcontainers/testcontainers-java/issues/3554\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/issues/3554</a>\nI haven't tried it though</p>\n"}],"owner":{"account_id":12981937,"reputation":441,"user_id":9384025,"accept_rate":25,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11247,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1671112163,"creation_date":1565309711,"question_id":57422081,"body_markdown":"I am trying to understand what is the difference between two frameworks which are MockServerClient( or org.mockserver.integration.ClientAndServer) and WireMockServer?Can they be exchanged? I read the docs. but could not figure out what is the difference between these two? Thanks.","title":"Difference between WireMockServer vs MockServerClient","body":"<p>I am trying to understand what is the difference between two frameworks which are MockServerClient( or org.mockserver.integration.ClientAndServer) and WireMockServer?Can they be exchanged? I read the docs. but could not figure out what is the difference between these two? Thanks.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1671112992,"post_id":74812561,"comment_id":132031532,"body_markdown":"First of all, if you want to pass more than one argument in your request, just put the request are waiting for a `List` of the objects you need. But anyway the main problem you do not understand how the data flow works in your design. I recommend you to look for articles about creating an API, and the architecture behind that. Because you have the idea, but dont know how implement that in API. https://www.baeldung.com/rest-with-spring-series Take your time reading it and practice, not easy at the beginning but is so enjoyable. Good luck","body":"First of all, if you want to pass more than one argument in your request, just put the request are waiting for a <code>List</code> of the objects you need. But anyway the main problem you do not understand how the data flow works in your design. I recommend you to look for articles about creating an API, and the architecture behind that. Because you have the idea, but dont know how implement that in API. <a href=\"https://www.baeldung.com/rest-with-spring-series\" rel=\"nofollow noreferrer\">baeldung.com/rest-with-spring-series</a> Take your time reading it and practice, not easy at the beginning but is so enjoyable. Good luck"}],"owner":{"account_id":19678008,"reputation":71,"user_id":14405695,"display_name":"Ani23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671112051,"creation_date":1671112051,"question_id":74812561,"body_markdown":"I&#39;m trying to make a recipe app and I have these models:\r\n\r\nRecipe\r\n```\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String title;\r\n\r\n    private Integer prepTime;\r\n\r\n    private Integer cookTime;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    private ArrayList&lt;Ingredient&gt; ingredients;\r\n\r\n    private String instructions;\r\n\r\n    private String notes;\r\n\r\n    public Recipe(String title, Integer prepTime, Integer cookTime, ArrayList&lt;Ingredient&gt; ingredients, String instructions, String notes) {\r\n        this.title = title;\r\n        this.prepTime = prepTime;\r\n        this.cookTime = cookTime;\r\n        this.ingredients = ingredients;\r\n        this.instructions = instructions;\r\n        this.notes = notes;\r\n    }\r\n```\r\n\r\nIngredient\r\n```\r\npublic class Ingredient {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n    private Integer quantity;\r\n\r\n    private Integer price;\r\n\r\n    public Ingredient(Product product, int quantity, Integer price) {\r\n        if (product != null) {\r\n            this.product = product;\r\n        }\r\n        this.quantity = quantity;\r\n        this.price = Objects.requireNonNullElseGet(price, () -&gt; this.quantity * this.product.getPricePerUnit());\r\n    }\r\n```\r\n\r\nProduct\r\n```\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n    private String unit;\r\n\r\n    private Integer pricePerUnit;\r\n\r\n    public Product(String name, String unit, Integer price) {\r\n        this.name = name;\r\n        this.unit = unit;\r\n        this.pricePerUnit = price;\r\n    }\r\n```\r\n\r\nI&#39;m trying to create a new recipe and ingredients using existing products in my database, so I need to:\r\n1. Get product ids from the JSON\r\n2. Look up the product ids in the ProductRepository and return the relevant Product\r\n3. Use those products in the Ingredients constructor to create a list of ingredients\r\n4. Pass that list of ingredients to the Recipe constructor\r\n\r\nMy problem is how to reflect all this in my Recipe controller:\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\n    public void addRecipe(@RequestBody ??? data)\r\n```\r\n\r\nThis is my Json data for testing:\r\n```\r\n{\r\n    &quot;title&quot;: &quot;Test Recipe&quot;,\r\n    &quot;prepTime&quot;: 20,\r\n    &quot;cookTime&quot;: 50,\r\n    &quot;ingredients&quot;: [\r\n        {\r\n            &quot;product&quot;: 1,\r\n            &quot;quantity&quot;: 30\r\n        }\r\n    ],\r\n    &quot;instructions&quot;: &quot;blah blah&quot;,\r\n    &quot;notes&quot;: &quot;etc&quot;\r\n}\r\n```\r\n\r\nIdeally I&#39;d like to pass multiple parameters to @RequestBody (the list of product ids, the values for the remaining Ingredient fields, and the values for the remaining Recipe fields). Then I could proceed from step 2 above. The problem is that @RequestBody can&#39;t accept more than 1 parameter. Is there any way to make my controller find the product IDs first and create the Ingredients before trying to create a Recipe?\r\n\r\nI have seen a potentially linked question [here][1] but it doesn&#39;t deal with where/how I can look up the Product id and get the Product before creating the Ingredient.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54370637/wrapping-json-fields-into-instance-variable-of-a-pojo","title":"Spring Boot - how to process JSON data with nested objects?","body":"<p>I'm trying to make a recipe app and I have these models:</p>\n<p>Recipe</p>\n<pre><code>public class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String title;\n\n    private Integer prepTime;\n\n    private Integer cookTime;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    private ArrayList&lt;Ingredient&gt; ingredients;\n\n    private String instructions;\n\n    private String notes;\n\n    public Recipe(String title, Integer prepTime, Integer cookTime, ArrayList&lt;Ingredient&gt; ingredients, String instructions, String notes) {\n        this.title = title;\n        this.prepTime = prepTime;\n        this.cookTime = cookTime;\n        this.ingredients = ingredients;\n        this.instructions = instructions;\n        this.notes = notes;\n    }\n</code></pre>\n<p>Ingredient</p>\n<pre><code>public class Ingredient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n    private Integer quantity;\n\n    private Integer price;\n\n    public Ingredient(Product product, int quantity, Integer price) {\n        if (product != null) {\n            this.product = product;\n        }\n        this.quantity = quantity;\n        this.price = Objects.requireNonNullElseGet(price, () -&gt; this.quantity * this.product.getPricePerUnit());\n    }\n</code></pre>\n<p>Product</p>\n<pre><code>public class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String name;\n\n    private String unit;\n\n    private Integer pricePerUnit;\n\n    public Product(String name, String unit, Integer price) {\n        this.name = name;\n        this.unit = unit;\n        this.pricePerUnit = price;\n    }\n</code></pre>\n<p>I'm trying to create a new recipe and ingredients using existing products in my database, so I need to:</p>\n<ol>\n<li>Get product ids from the JSON</li>\n<li>Look up the product ids in the ProductRepository and return the relevant Product</li>\n<li>Use those products in the Ingredients constructor to create a list of ingredients</li>\n<li>Pass that list of ingredients to the Recipe constructor</li>\n</ol>\n<p>My problem is how to reflect all this in my Recipe controller:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public void addRecipe(@RequestBody ??? data)\n</code></pre>\n<p>This is my Json data for testing:</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Test Recipe&quot;,\n    &quot;prepTime&quot;: 20,\n    &quot;cookTime&quot;: 50,\n    &quot;ingredients&quot;: [\n        {\n            &quot;product&quot;: 1,\n            &quot;quantity&quot;: 30\n        }\n    ],\n    &quot;instructions&quot;: &quot;blah blah&quot;,\n    &quot;notes&quot;: &quot;etc&quot;\n}\n</code></pre>\n<p>Ideally I'd like to pass multiple parameters to @RequestBody (the list of product ids, the values for the remaining Ingredient fields, and the values for the remaining Recipe fields). Then I could proceed from step 2 above. The problem is that @RequestBody can't accept more than 1 parameter. Is there any way to make my controller find the product IDs first and create the Ingredients before trying to create a Recipe?</p>\n<p>I have seen a potentially linked question <a href=\"https://stackoverflow.com/questions/54370637/wrapping-json-fields-into-instance-variable-of-a-pojo\">here</a> but it doesn't deal with where/how I can look up the Product id and get the Product before creating the Ingredient.</p>\n"},{"tags":["java","spring","data-binding"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671115298,"post_id":74811753,"comment_id":132032442,"body_markdown":"Use `@ModelAttribute` to bind parameters. However with your current setup that will fail as `code.phone` matches nothing. You should propably use `code.type=phone` and `code.value=999999999` and include an index `code[0].type=phone` else it won&#39;t bind to the list. But as stated use `@ModelAttribute` to bind to an object.","body":"Use <code>@ModelAttribute</code> to bind parameters. However with your current setup that will fail as <code>code.phone</code> matches nothing. You should propably use <code>code.type=phone</code> and <code>code.value=999999999</code> and include an index <code>code[0].type=phone</code> else it won&#39;t bind to the list. But as stated use <code>@ModelAttribute</code> to bind to an object."}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671111227,"creation_date":1671111227,"answer_id":74812363,"question_id":74811753,"body_markdown":"you can customize a `HandlerMethodArgumentResolver` to implement it. \r\n\r\n&gt; but , if you want a object receive incoming parameter. why not use POST\r\n\r\n```java\r\n@Target({ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface Example {\r\n}\r\n```\r\n\r\n```java\r\npublic class ExampleArgumentResolver implements HandlerMethodArgumentResolver {\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        Example requestParam = parameter.getParameterAnnotation(Example.class);\r\n        return requestParam != null;\r\n    }\r\n\r\n    @Override\r\n    public Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer,\r\n                                  NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception {\r\n\r\n        ResolvableType resolvableType = ResolvableType.forMethodParameter(parameter);\r\n\r\n        Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\r\n        Map&lt;String, String&gt; result = CollectionUtils.newLinkedHashMap(parameterMap.size());\r\n        parameterMap.forEach((key, values) -&gt; {\r\n            if (values.length &gt; 0) {\r\n                result.put(key, values[0]);\r\n            }\r\n        });\r\n\r\n        //here will return a map object.  then you convert map to your object, I don&#39;t know how to convert , but you have achieve it.\r\n        return o;\r\n    }\r\n\r\n}\r\n```\r\n\r\nadd to container\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class ExampleMvcConfiguration implements WebMvcConfigurer {\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n        resolvers.add(new ExampleArgumentResolver());\r\n    }\r\n}\r\n```\r\n\r\nusage\r\n```java\r\n@RestController\r\npublic class TestCtrl {\r\n\r\n\r\n    @GetMapping(&quot;api&quot;)\r\n    public Object gg(@Example SearchDto searchDto) {\r\n        System.out.println(searchDto);\r\n        return &quot;1&quot;;\r\n    }\r\n\r\n    @Data\r\n    public static class SearchDto {\r\n        String name;\r\n        List&lt;Code&gt; code;\r\n    }\r\n\r\n    @Data\r\n    public static class Code {\r\n        String type;\r\n        String value;\r\n    }\r\n}\r\n```\r\n\r\nHere is a demo. \r\n\r\n","title":"Convert @RequestParam to custom Object","body":"<p>you can customize a <code>HandlerMethodArgumentResolver</code> to implement it.</p>\n<blockquote>\n<p>but , if you want a object receive incoming parameter. why not use POST</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Example {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        Example requestParam = parameter.getParameterAnnotation(Example.class);\n        return requestParam != null;\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception {\n\n        ResolvableType resolvableType = ResolvableType.forMethodParameter(parameter);\n\n        Map&lt;String, String[]&gt; parameterMap = webRequest.getParameterMap();\n        Map&lt;String, String&gt; result = CollectionUtils.newLinkedHashMap(parameterMap.size());\n        parameterMap.forEach((key, values) -&gt; {\n            if (values.length &gt; 0) {\n                result.put(key, values[0]);\n            }\n        });\n\n        //here will return a map object.  then you convert map to your object, I don't know how to convert , but you have achieve it.\n        return o;\n    }\n\n}\n</code></pre>\n<p>add to container</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class ExampleMvcConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new ExampleArgumentResolver());\n    }\n}\n</code></pre>\n<p>usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestCtrl {\n\n\n    @GetMapping(&quot;api&quot;)\n    public Object gg(@Example SearchDto searchDto) {\n        System.out.println(searchDto);\n        return &quot;1&quot;;\n    }\n\n    @Data\n    public static class SearchDto {\n        String name;\n        List&lt;Code&gt; code;\n    }\n\n    @Data\n    public static class Code {\n        String type;\n        String value;\n    }\n}\n</code></pre>\n<p>Here is a demo.</p>\n"},{"tags":[],"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671111277,"creation_date":1671111277,"answer_id":74812374,"question_id":74811753,"body_markdown":"Passing a json in querystring is actually a bad practice, since it decrease the security and sets limits on the number of parameters you can send to your endpoint.\r\n\r\nTechnically speaking, you could make everything work by using your DTO as a controller&#39;s parameter, then URL encoding the json before you send it to the backend. \r\n\r\nThe best option, in your case, is to serve an endpoint that listen to a POST request: it is not an error, neither a bad practise, to use POST when performing a search.","title":"Convert @RequestParam to custom Object","body":"<p>Passing a json in querystring is actually a bad practice, since it decrease the security and sets limits on the number of parameters you can send to your endpoint.</p>\n<p>Technically speaking, you could make everything work by using your DTO as a controller's parameter, then URL encoding the json before you send it to the backend.</p>\n<p>The best option, in your case, is to serve an endpoint that listen to a POST request: it is not an error, neither a bad practise, to use POST when performing a search.</p>\n"}],"owner":{"account_id":11295315,"reputation":101,"user_id":8283018,"display_name":"Evillain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671111807,"creation_date":1671108351,"question_id":74811753,"body_markdown":"Have a problem with optimizing search request.\r\nI have search method that accepts parameters in url query like: \r\n```\r\nhttp://localhost:8080/api?code.&lt;type&gt;=&lt;value&gt;&amp;name=Test\r\n\r\nExample: http://localhost:8080/api?code.phone=9999999999&amp;name=Test\r\n```\r\n\r\nDefined SearchDto: \r\n```\r\npublic class SearchDto {\r\n\r\n    String name;    \r\n    List&lt;Code&gt; code;\r\n\r\n}\r\n```\r\n\r\nDefined Code class:\r\n\r\n```\r\npublic class Code {\r\n\r\n    String type;    \r\n    String value;\r\n\r\n}\r\n```\r\n\r\nCurrently I&#39;m using Map&lt;String,String&gt; as incoming parameter for the method:\r\n\r\n```\r\n@GetMapping(&quot;/search&quot;)\r\npublic ResponseEntity&lt;?&gt; search(final @RequestParam Map&lt;String, String&gt; searchParams) {\r\n  return service.search(searchParams);\r\n}\r\n```\r\n\r\nThen manually converting map values for SearchDto class. Is it possible to get rid of Map&lt;String,String&gt; and pass SearchDto directly as argument in controller method?\r\n\r\n\r\n\r\n","title":"Convert @RequestParam to custom Object","body":"<p>Have a problem with optimizing search request.\nI have search method that accepts parameters in url query like:</p>\n<pre><code>http://localhost:8080/api?code.&lt;type&gt;=&lt;value&gt;&amp;name=Test\n\nExample: http://localhost:8080/api?code.phone=9999999999&amp;name=Test\n</code></pre>\n<p>Defined SearchDto:</p>\n<pre><code>public class SearchDto {\n\n    String name;    \n    List&lt;Code&gt; code;\n\n}\n</code></pre>\n<p>Defined Code class:</p>\n<pre><code>public class Code {\n\n    String type;    \n    String value;\n\n}\n</code></pre>\n<p>Currently I'm using Map&lt;String,String&gt; as incoming parameter for the method:</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\npublic ResponseEntity&lt;?&gt; search(final @RequestParam Map&lt;String, String&gt; searchParams) {\n  return service.search(searchParams);\n}\n</code></pre>\n<p>Then manually converting map values for SearchDto class. Is it possible to get rid of Map&lt;String,String&gt; and pass SearchDto directly as argument in controller method?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671006980,"post_id":74795010,"comment_id":132001601,"body_markdown":"Why is the sequence important? That shouldn&#39;t really matter... Also you won&#39;t get them in sequence because when multiple arguments with the same name are submitted it is treated as an array underneath.","body":"Why is the sequence important? That shouldn&#39;t really matter... Also you won&#39;t get them in sequence because when multiple arguments with the same name are submitted it is treated as an array underneath."},{"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"score":0,"creation_date":1671007825,"post_id":74795010,"comment_id":132001818,"body_markdown":"@M.Deinum Because after id goes number, but if it doesn&#39;t, that means the number is 1","body":"@M.Deinum Because after id goes number, but if it doesn&#39;t, that means the number is 1"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671008481,"post_id":74795010,"comment_id":132001989,"body_markdown":"WIthout checking the full string of the request that isn&#39;t possible. Due to arguments with the same name being send will be interpreted as an array. You probably should be considering using a different way like passing matrix variables (https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-matrix-variables)","body":"WIthout checking the full string of the request that isn&#39;t possible. Due to arguments with the same name being send will be interpreted as an array. You probably should be considering using a different way like passing matrix variables (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-matrix-variables\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html&zwnj;&#8203;/&hellip;</a>)"}],"owner":{"account_id":25708809,"reputation":13,"user_id":19467684,"display_name":"Andrei Kernazhytski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671111628,"creation_date":1671004100,"question_id":74795010,"body_markdown":"I have such get request: localhost:8080/check?id=10&amp;id=1&amp;num=2&amp;id=13\r\n\r\nI get params like this:\r\n\r\n    @GetMapping(&quot;/check&quot;)\r\n    @ResponseBody\r\n    public void getCheck(@RequestParam LinkedMultiValueMap&lt;String,Long&gt; ex){\r\n        System.out.println(ex);\r\n    }\r\n\r\nConsole: {id=[10, 1, 13], num=[2]}\r\n\r\nBut I need to get all data in its sequence like this:\r\n{id=[10],id=[1],num=[2],id=[13]}\r\n\r\nHow can I do this?","title":"How to get all parametrs from get request in Param in their sequence","body":"<p>I have such get request: localhost:8080/check?id=10&amp;id=1&amp;num=2&amp;id=13</p>\n<p>I get params like this:</p>\n<pre><code>@GetMapping(&quot;/check&quot;)\n@ResponseBody\npublic void getCheck(@RequestParam LinkedMultiValueMap&lt;String,Long&gt; ex){\n    System.out.println(ex);\n}\n</code></pre>\n<p>Console: {id=[10, 1, 13], num=[2]}</p>\n<p>But I need to get all data in its sequence like this:\n{id=[10],id=[1],num=[2],id=[13]}</p>\n<p>How can I do this?</p>\n"},{"tags":["java","jackson","spring-data-rest","projection"],"comments":[{"owner":{"account_id":27249236,"reputation":11,"user_id":20773993,"display_name":"cdrpoboaic"},"score":0,"creation_date":1680507150,"post_id":74812171,"comment_id":133903944,"body_markdown":"nope did not have the time to continue investigating","body":"nope did not have the time to continue investigating"}],"owner":{"account_id":27249236,"reputation":11,"user_id":20773993,"display_name":"cdrpoboaic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671111612,"creation_date":1671110270,"question_id":74812171,"body_markdown":"I have two classes (cat/dog) extending one superclass (animals) and one class owner that has a relation to either a dog or a cat\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;animals&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\r\npublic abstract class Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\n@DiscriminatorValue(&quot;cat&quot;)\r\npublic class Cat extends Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\n@DiscriminatorValue(&quot;dog&quot;)\r\npublic class Dog extends Animal {\r\n}\r\n\r\n@Data\r\n@Entity\r\npublic class Owner {\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;animal_id&quot;, insertable = false, nullable = false, updatable = false)\r\n    private Animal&lt;?&gt; animal;\r\n}\r\n```\r\n\r\nEach of them have a projection\r\n\r\n```java\r\n@Projection(name = &quot;light&quot;, types = Animal.class)\r\npublic interface LightAnimal {\r\n}\r\n@Projection(name = &quot;light&quot;, types = Cat.class)\r\npublic interface LightCat extends LightAnimal {\r\n}\r\n@Projection(name = &quot;light&quot;, types = Dog.class)\r\npublic interface LightDog extends LightAnimal {\r\n}\r\n```\r\n\r\nI try to reference the Animal inside another projection\r\n\r\n```java\r\n@Projection(name = &quot;light&quot;, types = Owner.class)\r\npublic interface LightOwner {\r\n    LightAnimal getAnimal();\r\n}\r\n```\r\n\r\nI would have hoped that the animal object would have been properly deserialized either into a dog or a cat when calling the owner with the LightOwner projection, and thus have attributes defined in child projection but it only have the ones defined the parent projection\r\n\r\nI tried to add JsonTypeInfo annotation on LightAnimal projection but had the following error:\r\n\r\n```\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type org.springframework.data.projection.TargetAware (by serializer of type org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionSerializer) (through reference chain: org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResource\\[&quot;content&quot;\\]-\\&gt;com.sun.proxy.$Proxy307\\[&quot;animal&quot;\\])\r\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:730) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat ch.mfrey.jackson.antpathfilter.AntPathPropertyFilter.serializeAsField(AntPathPropertyFilter.java:205) \\~\\[jackson-antpathfilter-1.0.2.jar:na\\]\r\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:825) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanSerializer.serialize(UnwrappingBeanSerializer.java:136) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:794) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:767) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.hateoas.EntityModel$MapSuppressingUnwrappingSerializer.serialize(EntityModel.java:246) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\r\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanPropertyWriter.serializeAsField(UnwrappingBeanPropertyWriter.java:127) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1142) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:193) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:153) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\r\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.\\_serialize(DefaultSerializerProvider.java:480) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\r\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.hateoas.server.mvc.RepresentationModelProcessorHandlerMethodReturnValueHandler.handleReturnValue(RepresentationModelProcessorHandlerMethodReturnValueHandler.java:134) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\r\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) \\~\\[spring-boot-actuator-2.6.11.jar:2.6.11\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\r\nat java.base/java.lang.Thread.run(Thread.java:829) \\~\\[na:na\\]\r\n```\r\n\r\n```\r\n```","title":"spring data projection containing a nested superclass","body":"<p>I have two classes (cat/dog) extending one superclass (animals) and one class owner that has a relation to either a dog or a cat</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;animals&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class Animal {\n}\n\n@Data\n@Entity\n@DiscriminatorValue(&quot;cat&quot;)\npublic class Cat extends Animal {\n}\n\n@Data\n@Entity\n@DiscriminatorValue(&quot;dog&quot;)\npublic class Dog extends Animal {\n}\n\n@Data\n@Entity\npublic class Owner {\n    @ManyToOne\n    @JoinColumn(name = &quot;animal_id&quot;, insertable = false, nullable = false, updatable = false)\n    private Animal&lt;?&gt; animal;\n}\n</code></pre>\n<p>Each of them have a projection</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Projection(name = &quot;light&quot;, types = Animal.class)\npublic interface LightAnimal {\n}\n@Projection(name = &quot;light&quot;, types = Cat.class)\npublic interface LightCat extends LightAnimal {\n}\n@Projection(name = &quot;light&quot;, types = Dog.class)\npublic interface LightDog extends LightAnimal {\n}\n</code></pre>\n<p>I try to reference the Animal inside another projection</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Projection(name = &quot;light&quot;, types = Owner.class)\npublic interface LightOwner {\n    LightAnimal getAnimal();\n}\n</code></pre>\n<p>I would have hoped that the animal object would have been properly deserialized either into a dog or a cat when calling the owner with the LightOwner projection, and thus have attributes defined in child projection but it only have the ones defined the parent projection</p>\n<p>I tried to add JsonTypeInfo annotation on LightAnimal projection but had the following error:</p>\n<pre><code>\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type org.springframework.data.projection.TargetAware (by serializer of type org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionSerializer) (through reference chain: org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResource\\[&quot;content&quot;\\]-\\&gt;com.sun.proxy.$Proxy307\\[&quot;animal&quot;\\])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:730) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat ch.mfrey.jackson.antpathfilter.AntPathPropertyFilter.serializeAsField(AntPathPropertyFilter.java:205) \\~\\[jackson-antpathfilter-1.0.2.jar:na\\]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:825) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanSerializer.serialize(UnwrappingBeanSerializer.java:136) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:794) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$ProjectionResourceContentSerializer.serialize(PersistentEntityJackson2Module.java:767) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.hateoas.EntityModel$MapSuppressingUnwrappingSerializer.serialize(EntityModel.java:246) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\nat com.fasterxml.jackson.databind.ser.impl.UnwrappingBeanPropertyWriter.serializeAsField(UnwrappingBeanPropertyWriter.java:127) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.SerializerProvider.defaultSerializeValue(SerializerProvider.java:1142) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:193) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat org.springframework.data.rest.webmvc.json.PersistentEntityJackson2Module$PersistentEntityResourceSerializer.serialize(PersistentEntityJackson2Module.java:153) \\~\\[spring-data-rest-webmvc-3.6.6.jar:3.6.6\\]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.\\_serialize(DefaultSerializerProvider.java:480) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) \\~\\[jackson-databind-2.13.3.jar:2.13.3\\]\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.hateoas.server.mvc.RepresentationModelProcessorHandlerMethodReturnValueHandler.handleReturnValue(RepresentationModelProcessorHandlerMethodReturnValueHandler.java:134) \\~\\[spring-hateoas-1.4.4.jar:1.4.4\\]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) \\~\\[spring-webmvc-5.3.22.jar:5.3.22\\]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) \\~\\[tomcat-embed-core-9.0.65.jar:4.0.FR\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) \\~\\[spring-security-web-5.6.7.jar:5.6.7\\]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) \\~\\[spring-boot-actuator-2.6.11.jar:2.6.11\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) \\~\\[spring-web-5.3.22.jar:5.3.22\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-9.0.65.jar:9.0.65\\]\nat java.base/java.lang.Thread.run(Thread.java:829) \\~\\[na:na\\]\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","amazon-s3","aws-lambda","protocol-buffers","parquet"],"answers":[{"tags":[],"owner":{"account_id":1020261,"reputation":304,"user_id":1030799,"display_name":"Haojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552113891,"creation_date":1552113891,"answer_id":55074774,"question_id":54665077,"body_markdown":"If you want to write to S3, you can set the Path as `Path(&quot;s3a://&lt;bucketName&gt;/&lt;s3Key&gt;&quot;)`. And don&#39;t forget to set S3 credentials in the configurations:\r\n\r\n        conf.set(&quot;fs.s3a.access.key&quot;, &quot;&lt;s3AccessKey&quot;);\r\n        conf.set(&quot;fs.s3a.secret.key&quot;, &quot;&lt;s3SecretKey&quot;);\r\n","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>If you want to write to S3, you can set the Path as <code>Path(\"s3a://&lt;bucketName&gt;/&lt;s3Key&gt;\")</code>. And don't forget to set S3 credentials in the configurations:</p>\n\n<pre><code>    conf.set(\"fs.s3a.access.key\", \"&lt;s3AccessKey\");\n    conf.set(\"fs.s3a.secret.key\", \"&lt;s3SecretKey\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339218,"reputation":1081,"user_id":668557,"accept_rate":64,"display_name":"Haroon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1552974529,"creation_date":1552974529,"answer_id":55234410,"question_id":54665077,"body_markdown":"Assuming you have a List&lt;Transaction&gt; (can be any complex object), sample code to read/write protobuf S3 parquet\r\n```\r\n    public class SimpleS3ParquetUtilities implements S3Utilities {\r\n\r\n    final Logger logger;\r\n    String PATH_SCHEMA = &quot;s3a&quot;;\r\n    CompressionCodecName compressionCodecName;\r\n\r\n    public SimpleS3ParquetUtilities(Logger logger) {\r\n        this.logger = logger;\r\n        this.compressionCodecName = CompressionCodecName.UNCOMPRESSED;\r\n    }\r\n\r\n    public SimpleS3ParquetUtilities(Logger logger, CompressionCodecName compressionCodecName) {\r\n        this.logger = logger;\r\n        this.compressionCodecName = compressionCodecName;\r\n    }\r\n\r\n    @Override\r\n    public String writeTransactions(String bucket, String objectKey, List&lt;Transaction&gt; transactions)\r\n            throws Exception {\r\n        if (objectKey.charAt(0) != &#39;/&#39;)\r\n            objectKey = &quot;/&quot; + objectKey;\r\n        Path file = new Path(PATH_SCHEMA, bucket, objectKey);\r\n        Stopwatch sw = Stopwatch.createStarted();\r\n        // convert the list into protobuf \r\n        List&lt;TransactionProtos.Transaction&gt; protoTransactions = Convertor.toProtoBuf(transactions);\r\n        try (ProtoParquetWriter&lt;TransactionProtos.Transaction&gt; writer = new ProtoParquetWriter&lt;TransactionProtos.Transaction&gt;(\r\n                file, TransactionProtos.Transaction.class, this.compressionCodecName,\r\n                ProtoParquetWriter.DEFAULT_BLOCK_SIZE, ProtoParquetWriter.DEFAULT_PAGE_SIZE)) {\r\n\r\n            for (TransactionProtos.Transaction transaction : protoTransactions) {\r\n                writer.write(transaction);\r\n            }\r\n        }\r\n        logger.info(&quot;Parquet write elapse:[{}{}] Time:{}ms items:{}&quot;, bucket, objectKey,\r\n                sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Transaction&gt; readTransactions(String bucket, String pathWithFileName)\r\n            throws Exception {\r\n        if (pathWithFileName.charAt(0) != &#39;/&#39;)\r\n            pathWithFileName = &quot;/&quot; + pathWithFileName;\r\n        Path file = new Path(PATH_SCHEMA, bucket, pathWithFileName);\r\n        Stopwatch sw = Stopwatch.createStarted();\r\n        try (ParquetReader&lt;TransactionProtos.Transaction.Builder&gt; reader = ProtoParquetReader.&lt;TransactionProtos.Transaction.Builder&gt;builder(\r\n                file).build()) {\r\n            List&lt;TransactionProtos.Transaction&gt; transactions = new ArrayList&lt;TransactionProtos.Transaction&gt;();\r\n            TransactionProtos.Transaction.Builder builder = reader.read();\r\n            while (builder != null) {\r\n                TransactionProtos.Transaction transaction = builder.build();\r\n                transactions.add(transaction);\r\n                builder = reader.read();\r\n            }\r\n            logger.info(&quot;Parquet read elapsed:[{}{}] Time:{}ms items:{}&quot;, bucket, pathWithFileName,\r\n                    sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\r\n            return Convertor.fromProtoBuf(transactions);\r\n        }\r\n    }\r\n}\r\n```","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>Assuming you have a List (can be any complex object), sample code to read/write protobuf S3 parquet</p>\n\n<pre><code>    public class SimpleS3ParquetUtilities implements S3Utilities {\n\n    final Logger logger;\n    String PATH_SCHEMA = \"s3a\";\n    CompressionCodecName compressionCodecName;\n\n    public SimpleS3ParquetUtilities(Logger logger) {\n        this.logger = logger;\n        this.compressionCodecName = CompressionCodecName.UNCOMPRESSED;\n    }\n\n    public SimpleS3ParquetUtilities(Logger logger, CompressionCodecName compressionCodecName) {\n        this.logger = logger;\n        this.compressionCodecName = compressionCodecName;\n    }\n\n    @Override\n    public String writeTransactions(String bucket, String objectKey, List&lt;Transaction&gt; transactions)\n            throws Exception {\n        if (objectKey.charAt(0) != '/')\n            objectKey = \"/\" + objectKey;\n        Path file = new Path(PATH_SCHEMA, bucket, objectKey);\n        Stopwatch sw = Stopwatch.createStarted();\n        // convert the list into protobuf \n        List&lt;TransactionProtos.Transaction&gt; protoTransactions = Convertor.toProtoBuf(transactions);\n        try (ProtoParquetWriter&lt;TransactionProtos.Transaction&gt; writer = new ProtoParquetWriter&lt;TransactionProtos.Transaction&gt;(\n                file, TransactionProtos.Transaction.class, this.compressionCodecName,\n                ProtoParquetWriter.DEFAULT_BLOCK_SIZE, ProtoParquetWriter.DEFAULT_PAGE_SIZE)) {\n\n            for (TransactionProtos.Transaction transaction : protoTransactions) {\n                writer.write(transaction);\n            }\n        }\n        logger.info(\"Parquet write elapse:[{}{}] Time:{}ms items:{}\", bucket, objectKey,\n                sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\n        return \"\";\n    }\n\n    @Override\n    public List&lt;Transaction&gt; readTransactions(String bucket, String pathWithFileName)\n            throws Exception {\n        if (pathWithFileName.charAt(0) != '/')\n            pathWithFileName = \"/\" + pathWithFileName;\n        Path file = new Path(PATH_SCHEMA, bucket, pathWithFileName);\n        Stopwatch sw = Stopwatch.createStarted();\n        try (ParquetReader&lt;TransactionProtos.Transaction.Builder&gt; reader = ProtoParquetReader.&lt;TransactionProtos.Transaction.Builder&gt;builder(\n                file).build()) {\n            List&lt;TransactionProtos.Transaction&gt; transactions = new ArrayList&lt;TransactionProtos.Transaction&gt;();\n            TransactionProtos.Transaction.Builder builder = reader.read();\n            while (builder != null) {\n                TransactionProtos.Transaction transaction = builder.build();\n                transactions.add(transaction);\n                builder = reader.read();\n            }\n            logger.info(\"Parquet read elapsed:[{}{}] Time:{}ms items:{}\", bucket, pathWithFileName,\n                    sw.elapsed(TimeUnit.MILLISECONDS), transactions.size());\n            return Convertor.fromProtoBuf(transactions);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55234410,"answer_count":2,"score":2,"last_activity_date":1671111595,"creation_date":1550044436,"question_id":54665077,"body_markdown":"I&#39;m writing AWS lambda that reads protobuf obejcts from Kinesis and would like to write them to s3 as parquet file.  \r\n\r\nI saw there&#39;s a implementation of ParquetWriter for protobuf called ProtoParquetWriter, which is good. My problem is that ProtoParquetWriter expects a Path in its constructor.  \r\n\r\nWhat&#39;s the right way to do that without saving the content as parquet file, assuming I&#39;m not using the file system at all?","title":"Writing parquet files to S3 using AWS java lambda","body":"<p>I'm writing AWS lambda that reads protobuf obejcts from Kinesis and would like to write them to s3 as parquet file.  </p>\n\n<p>I saw there's a implementation of ParquetWriter for protobuf called ProtoParquetWriter, which is good. My problem is that ProtoParquetWriter expects a Path in its constructor.  </p>\n\n<p>What's the right way to do that without saving the content as parquet file, assuming I'm not using the file system at all?</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":12572870,"reputation":369,"user_id":10385596,"display_name":"Rishab Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596972842,"creation_date":1596972842,"answer_id":63325827,"question_id":61348620,"body_markdown":"So I solved this by completely ditching the maven approach and did it using a simple java class. You can follow the solution for creating a simple AWS Lambda function in java step by step with this video tutorial I created.\r\n\r\nhttps://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s\r\n","title":"AWS Lambda gives class not found exception for jdbc and org.json JARS","body":"<p>So I solved this by completely ditching the maven approach and did it using a simple java class. You can follow the solution for creating a simple AWS Lambda function in java step by step with this video tutorial I created.</p>\n<p><a href=\"https://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-Pm22SJibpQ&amp;t=40s</a></p>\n"}],"owner":{"account_id":12572870,"reputation":369,"user_id":10385596,"display_name":"Rishab Parmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63325827,"answer_count":1,"score":0,"last_activity_date":1671111573,"creation_date":1587487329,"question_id":61348620,"body_markdown":"I&#39;m trying to run an AWS Lambda function with the help of eclipse and Maven using AWS tool kit. When I run the project as a Maven test, it successfully runs. But when I export the project as a .jar and upload the jar to AWS Lambda, it gives me the following error trace:\r\n\r\n    Input: ToRupeeDatabase error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n    Done inserting the data in RDS\r\n\r\nThe code says it runs successfully and the data has been inserted in the RDS, but it is being caught as an exception and the code is crashing.\r\n\r\nCode:\r\n\r\n    package com.amazonaws.torupee.demo;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    \r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class RemoteDataCRON implements RequestHandler&lt;Object, String&gt; {\r\n    \r\n     @Override\r\n        public String handleRequest(Object input, Context context) {\r\n            context.getLogger().log(&quot;Input: &quot; + input);\r\n            \r\n            try {                \r\n                // Exception in the following line when uploaded on AWS Lambda!\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                String endPoint = &quot;pathtodatabase?useSSL=false&quot;;\r\n                String username = &quot;foor&quot;;\r\n                String password = &quot;bar&quot;;\r\n                PreparedStatement stmt = null;               \r\n                try {\r\n                    Connection dbConnection = DriverManager.getConnection(endPoint, username, password);                    \r\n                } catch (SQLException ex) {\r\n                    Logger.getLogger(RemoteDataCRON.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                // Some processing here and org.json exception here!\r\n            } catch (Exception ex) {\r\n                System.err.println(&quot;Database error: &quot; + ex);\r\n            }\r\n            System.out.println(&quot;Done inserting the data in RDS&quot;);\r\n    \r\n            // TODO: implement your handler\r\n            return &quot;Hello from Lambda!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n.pom file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.amazonaws.torupee&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n              &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.256&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20180130&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nHere is a list of solutions that I tried:\r\n\r\n1) I tried adding external JARS for mysql and org.json but that gave me the same errors&lt;br&gt;\r\n2) I tried zipping the project instead of exporting it as a JAR but that gave me ClassNotFoundException on the handler itself&lt;br&gt;\r\n3) I then added the dependencies in the pom file itself as I thought that external JARS were not bundled when making a .jar file&lt;br&gt;\r\n4) I then changed the driver path from &quot;com.mysql.jdbc.Driver&quot; to &quot;com.mysql.cj.jdbc.Driver&quot; but that still gave me the exception on the console&lt;br&gt;\r\n&lt;br&gt;\r\nAm I doing something wrong or building the Jar incorrectly, is it why Lambda gives me the error when I&#39;m on the management console?","title":"AWS Lambda gives class not found exception for jdbc and org.json JARS","body":"<p>I'm trying to run an AWS Lambda function with the help of eclipse and Maven using AWS tool kit. When I run the project as a Maven test, it successfully runs. But when I export the project as a .jar and upload the jar to AWS Lambda, it gives me the following error trace:</p>\n<pre><code>Input: ToRupeeDatabase error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\nDone inserting the data in RDS\n</code></pre>\n<p>The code says it runs successfully and the data has been inserted in the RDS, but it is being caught as an exception and the code is crashing.</p>\n<p>Code:</p>\n<pre><code>package com.amazonaws.torupee.demo;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.HashSet;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class RemoteDataCRON implements RequestHandler&lt;Object, String&gt; {\n\n @Override\n    public String handleRequest(Object input, Context context) {\n        context.getLogger().log(&quot;Input: &quot; + input);\n        \n        try {                \n            // Exception in the following line when uploaded on AWS Lambda!\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            String endPoint = &quot;pathtodatabase?useSSL=false&quot;;\n            String username = &quot;foor&quot;;\n            String password = &quot;bar&quot;;\n            PreparedStatement stmt = null;               \n            try {\n                Connection dbConnection = DriverManager.getConnection(endPoint, username, password);                    \n            } catch (SQLException ex) {\n                Logger.getLogger(RemoteDataCRON.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            // Some processing here and org.json exception here!\n        } catch (Exception ex) {\n            System.err.println(&quot;Database error: &quot; + ex);\n        }\n        System.out.println(&quot;Done inserting the data in RDS&quot;);\n\n        // TODO: implement your handler\n        return &quot;Hello from Lambda!&quot;;\n    }\n\n}\n</code></pre>\n<p>.pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.amazonaws.torupee&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.11.256&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n      &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is a list of solutions that I tried:</p>\n<ol>\n<li>I tried adding external JARS for mysql and org.json but that gave me the same errors<br></li>\n<li>I tried zipping the project instead of exporting it as a JAR but that gave me ClassNotFoundException on the handler itself<br></li>\n<li>I then added the dependencies in the pom file itself as I thought that external JARS were not bundled when making a .jar file<br></li>\n<li>I then changed the driver path from &quot;com.mysql.jdbc.Driver&quot; to &quot;com.mysql.cj.jdbc.Driver&quot; but that still gave me the exception on the console<br>\n<br>\nAm I doing something wrong or building the Jar incorrectly, is it why Lambda gives me the error when I'm on the management console?</li>\n</ol>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671111470,"creation_date":1671111470,"answer_id":74812428,"question_id":74811267,"body_markdown":"That seems not to be a big deal to define your own interface:\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface Specification&lt;X&gt; extends Serializable {\r\n\r\n    Predicate toPredicate(From&lt;?, ? extends X&gt; from, CriteriaQuery&lt;?&gt; cq, CriteriaBuilder cb);\r\n\r\n\r\n    default Specification&lt;X&gt; not() {\r\n        return (from, cq, cb) -&gt; cb.not(toPredicate(from, cq, cb));\r\n    }\r\n\r\n    default Specification&lt;X&gt; and(@Nullable Specification&lt;? super X&gt; other) {\r\n        if (other == null) {\r\n            return this;\r\n        }\r\n        return (path, cq, cb) -&gt; cb.and(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\r\n    }\r\n\r\n    default Specification&lt;X&gt; or(@Nullable Specification&lt;? super X&gt; other) {\r\n        if (other == null) {\r\n            return this;\r\n        }\r\n        return (path, cq, cb) -&gt; cb.or(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\r\n    }\r\n\r\n    default org.springframework.data.jpa.domain.Specification&lt;X&gt; asSpring() {\r\n        return this::toPredicate;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever we have found that more convenient to reuse criteria predicates rather than spring specifications (at least the most of our developers prefer this option), smth. like:\r\n\r\n```java\r\n@Entity\r\npublic class Pet {\r\n\r\n    private String name;\r\n    \r\n    private int age;\r\n\r\n    public static Predicate hasName(From&lt;?, ? extends Pet&gt; from, CriteriaBuilder cb, String name) {\r\n        return cb.equal(from.get(Pet_.name), cb.literal(name));\r\n    }\r\n\r\n    @ManyToOne\r\n    Person owner;\r\n\r\n}\r\n```","title":"Reuse of JPA `Specification` on joiuned entities","body":"<p>That seems not to be a big deal to define your own interface:</p>\n<pre><code>@FunctionalInterface\npublic interface Specification&lt;X&gt; extends Serializable {\n\n    Predicate toPredicate(From&lt;?, ? extends X&gt; from, CriteriaQuery&lt;?&gt; cq, CriteriaBuilder cb);\n\n\n    default Specification&lt;X&gt; not() {\n        return (from, cq, cb) -&gt; cb.not(toPredicate(from, cq, cb));\n    }\n\n    default Specification&lt;X&gt; and(@Nullable Specification&lt;? super X&gt; other) {\n        if (other == null) {\n            return this;\n        }\n        return (path, cq, cb) -&gt; cb.and(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\n    }\n\n    default Specification&lt;X&gt; or(@Nullable Specification&lt;? super X&gt; other) {\n        if (other == null) {\n            return this;\n        }\n        return (path, cq, cb) -&gt; cb.or(toPredicate(path, cq, cb), other.toPredicate(path, cq, cb));\n    }\n\n    default org.springframework.data.jpa.domain.Specification&lt;X&gt; asSpring() {\n        return this::toPredicate;\n    }\n\n}\n</code></pre>\n<p>However we have found that more convenient to reuse criteria predicates rather than spring specifications (at least the most of our developers prefer this option), smth. like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Pet {\n\n    private String name;\n    \n    private int age;\n\n    public static Predicate hasName(From&lt;?, ? extends Pet&gt; from, CriteriaBuilder cb, String name) {\n        return cb.equal(from.get(Pet_.name), cb.literal(name));\n    }\n\n    @ManyToOne\n    Person owner;\n\n}\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671111470,"creation_date":1671105999,"question_id":74811267,"body_markdown":"Say that I have written a small *library* of reusable JPA specifications this way, as more of syntactic sugar\r\n\r\n```java\r\npublic static Specification&lt;Person&gt; lastNameEquas(String lastName) {\r\n    return (r,q,cb)-&gt;cb.equals(r.get(Person_.lastName),lastName);\r\n}\r\n```\r\n\r\nImagine a lot more predicates and I use them such as:\r\n\r\n```\r\nSpecification&lt;Person&gt; s = where(firstNameEquals(&quot;John&quot;))\r\n                          .and(lastNameEquals(&quot;Smith&quot;))\r\n                          .and(ageGreaterThan(18));\r\n\r\n\r\n```\r\n\r\nI am facing the problem of reusing defined `Specification&lt;T&gt;` for `T` entity also in context where `T` is a **joined entity** of `U`\r\n\r\nGiven that class `Person` is `@OneToMany`-joined to `Pet`, and that I have specifications both for `Person` and `Pet`, I want to reuse helper methods both for `Person` and `Pet` in the same construction of the specification\r\n\r\n\r\n```java \r\n\r\n@Entity\r\npublic class Person{\r\n\r\n    ......\r\n\r\n}\r\n\r\n@Entity\r\npublic class Pet{\r\n\r\n    private String name;\r\n    private int age;\r\n\r\n    @ManyToOne\r\n    Person owner\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI want a `Specification&lt;Pet&gt;` that can be combined with reusable `Specification&lt;Person&gt;` instances\r\n\r\n```java\r\n\r\nSpecification&lt;Pet&gt; spec = where(PetSpecs.petNameEqual(&quot;Lucky&quot;))\r\n                          .and(PetSpecs.petAgeGreaterThan(1))\r\n                          .and(PetSpecs.owner(\r\n                              personNameEquals(&quot;John&quot;)\r\n                              .and(personAgeGreaterThan(18))\r\n                          ))\r\n\r\nselect from Pet p where\r\np.name = &#39;Lucky&#39; and p.age &gt; 1 and p.owner.name = &#39;John&#39; and p.owner.age &gt; 18;\r\n\r\n```\r\n\r\n**What I have tried so far**\r\n\r\nI want to write a method `public static Specification&lt;Pet&gt; owner(Specification&lt;Person&gt;)` that takes in input any `Specification-of-Person` and applies it to the joined attribute, resulting in a `Specification-of-Pet` that can feed the query\r\n\r\n\r\nMore generically, I could try to write\r\n\r\n```java\r\n    public static &lt;T, U&gt; Specification&lt;T&gt; joinedSpecification(@NonNull SingularAttribute&lt;T, U&gt; joinAttribute, JoinType joinType, Specification&lt;U&gt; joinSpecification) {\r\n        if (joinSpecification == null) return (root, query, criteriaBuilder) -&gt; null;\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            Join&lt;T, U&gt; join = root.join(joinAttribute, joinType);\r\n            return joinSpecification.toPredicate(join, query, criteriaBuilder);\r\n        };\r\n    }\r\n\r\n```\r\nThe idea is that the Specification is a function that returns a predicate, so my predicate will recursively translate input specifications into more predicates, applied to the joined entity.\r\n\r\nNow here is my problem. JPA defines `Specification&lt;T&gt;` as a lambda interface\r\n\r\n```java\r\n\tPredicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder);\r\n```\r\n\r\nNote that `Root&lt;X&gt;` extends `From&lt;X,X&gt;` extends `Path&lt;X&gt;`, and `Join&lt;T,U&gt;` extends `Path&lt;T,U&gt;`.\r\n\r\nThe above code does not compile, because `root.join(...)` returns a `Join`, which **is** a `Path` (to get entity attribute) but is not a `Root`.\r\n\r\n\r\nMy question is: is it possible in JPA to reuse specifications to reapply in joined paths?","title":"Reuse of JPA `Specification` on joiuned entities","body":"<p>Say that I have written a small <em>library</em> of reusable JPA specifications this way, as more of syntactic sugar</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&lt;Person&gt; lastNameEquas(String lastName) {\n    return (r,q,cb)-&gt;cb.equals(r.get(Person_.lastName),lastName);\n}\n</code></pre>\n<p>Imagine a lot more predicates and I use them such as:</p>\n<pre><code>Specification&lt;Person&gt; s = where(firstNameEquals(&quot;John&quot;))\n                          .and(lastNameEquals(&quot;Smith&quot;))\n                          .and(ageGreaterThan(18));\n\n\n</code></pre>\n<p>I am facing the problem of reusing defined <code>Specification&lt;T&gt;</code> for <code>T</code> entity also in context where <code>T</code> is a <strong>joined entity</strong> of <code>U</code></p>\n<p>Given that class <code>Person</code> is <code>@OneToMany</code>-joined to <code>Pet</code>, and that I have specifications both for <code>Person</code> and <code>Pet</code>, I want to reuse helper methods both for <code>Person</code> and <code>Pet</code> in the same construction of the specification</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\npublic class Person{\n\n    ......\n\n}\n\n@Entity\npublic class Pet{\n\n    private String name;\n    private int age;\n\n    @ManyToOne\n    Person owner\n\n}\n\n</code></pre>\n<p>I want a <code>Specification&lt;Pet&gt;</code> that can be combined with reusable <code>Specification&lt;Person&gt;</code> instances</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nSpecification&lt;Pet&gt; spec = where(PetSpecs.petNameEqual(&quot;Lucky&quot;))\n                          .and(PetSpecs.petAgeGreaterThan(1))\n                          .and(PetSpecs.owner(\n                              personNameEquals(&quot;John&quot;)\n                              .and(personAgeGreaterThan(18))\n                          ))\n\nselect from Pet p where\np.name = 'Lucky' and p.age &gt; 1 and p.owner.name = 'John' and p.owner.age &gt; 18;\n\n</code></pre>\n<p><strong>What I have tried so far</strong></p>\n<p>I want to write a method <code>public static Specification&lt;Pet&gt; owner(Specification&lt;Person&gt;)</code> that takes in input any <code>Specification-of-Person</code> and applies it to the joined attribute, resulting in a <code>Specification-of-Pet</code> that can feed the query</p>\n<p>More generically, I could try to write</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T, U&gt; Specification&lt;T&gt; joinedSpecification(@NonNull SingularAttribute&lt;T, U&gt; joinAttribute, JoinType joinType, Specification&lt;U&gt; joinSpecification) {\n        if (joinSpecification == null) return (root, query, criteriaBuilder) -&gt; null;\n        return (root, query, criteriaBuilder) -&gt; {\n            Join&lt;T, U&gt; join = root.join(joinAttribute, joinType);\n            return joinSpecification.toPredicate(join, query, criteriaBuilder);\n        };\n    }\n\n</code></pre>\n<p>The idea is that the Specification is a function that returns a predicate, so my predicate will recursively translate input specifications into more predicates, applied to the joined entity.</p>\n<p>Now here is my problem. JPA defines <code>Specification&lt;T&gt;</code> as a lambda interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder);\n</code></pre>\n<p>Note that <code>Root&lt;X&gt;</code> extends <code>From&lt;X,X&gt;</code> extends <code>Path&lt;X&gt;</code>, and <code>Join&lt;T,U&gt;</code> extends <code>Path&lt;T,U&gt;</code>.</p>\n<p>The above code does not compile, because <code>root.join(...)</code> returns a <code>Join</code>, which <strong>is</strong> a <code>Path</code> (to get entity attribute) but is not a <code>Root</code>.</p>\n<p>My question is: is it possible in JPA to reuse specifications to reapply in joined paths?</p>\n"},{"tags":["java","dom","htmlunit"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669757905,"post_id":74619619,"comment_id":131714706,"body_markdown":"I have been testing the www2 version of your website and it seems that you&#39;re being hosted by cloudflare.  The first page that comes back seems to be testing your browser and I am unsure of how to get around that check.  Perhaps there is something you could do to turn off that security check at cloudflare?","body":"I have been testing the www2 version of your website and it seems that you&#39;re being hosted by cloudflare.  The first page that comes back seems to be testing your browser and I am unsure of how to get around that check.  Perhaps there is something you could do to turn off that security check at cloudflare?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669757965,"post_id":74619619,"comment_id":131714713,"body_markdown":"The google term to use is cloudflare Checking if the site connection is secure.  Hope that helps.","body":"The google term to use is cloudflare Checking if the site connection is secure.  Hope that helps."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1669824527,"post_id":74619619,"comment_id":131732232,"body_markdown":"Thanks for the tip. It seems the right direction. But until now, I have not found a solution to bypass the cloudfare security check. The odd thing is: it worked before. It suddenly stopped working....","body":"Thanks for the tip. It seems the right direction. But until now, I have not found a solution to bypass the cloudfare security check. The odd thing is: it worked before. It suddenly stopped working...."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1669828032,"post_id":74619619,"comment_id":131733488,"body_markdown":"I found that the page has a `challenge-form`. Posibly a captcha. Please, do you know how can I bypass it? Thanks!","body":"I found that the page has a <code>challenge-form</code>. Posibly a captcha. Please, do you know how can I bypass it? Thanks!"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669828944,"post_id":74619619,"comment_id":131733801,"body_markdown":"I have zero idea.  I did a google search on &#39;cloudflare Checking if the site connection is secure&#39; and the best answer I could find is this one:  [Cloudflare Checking if the site connection is secure](https://community.cloudflare.com/t/cloudflare-checking-if-the-site-connection-is-secure/419107/20). I would suggest trying to contact the admin folks that manage that site for your company and ask them to disable that check and/or add your company&#39;s ip address block to a safe list. I am unsure if this helps or not, you are not the only one to be affected by this issue.  Good luck.","body":"I have zero idea.  I did a google search on &#39;cloudflare Checking if the site connection is secure&#39; and the best answer I could find is this one:  <a href=\"https://community.cloudflare.com/t/cloudflare-checking-if-the-site-connection-is-secure/419107/20\" rel=\"nofollow noreferrer\">Cloudflare Checking if the site connection is secure</a>. I would suggest trying to contact the admin folks that manage that site for your company and ask them to disable that check and/or add your company&#39;s ip address block to a safe list. I am unsure if this helps or not, you are not the only one to be affected by this issue.  Good luck."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":1,"creation_date":1669840751,"post_id":74619619,"comment_id":131737471,"body_markdown":"Well, I am in trouble... The website I am tryng to access is from the Government. But I will keep on searching. When I have a solution I wil post it. Thanks anyway bro.","body":"Well, I am in trouble... The website I am tryng to access is from the Government. But I will keep on searching. When I have a solution I wil post it. Thanks anyway bro."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":1,"creation_date":1671110670,"post_id":74619619,"comment_id":132030560,"body_markdown":"It worked.. what I did was to update the version of htmlunit (had to update the apache-commons-lang3 too) and it worked. A guy from htmlunit read another of my questions and released an updated version to solve the cookie problem. And voil&#225;. Worked. Will prepare a proper answer.","body":"It worked.. what I did was to update the version of htmlunit (had to update the apache-commons-lang3 too) and it worked. A guy from htmlunit read another of my questions and released an updated version to solve the cookie problem. And voil&#225;. Worked. Will prepare a proper answer."}],"answers":[{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671111048,"creation_date":1671111048,"answer_id":74812329,"question_id":74619619,"body_markdown":"Well. This is what happened. I posted (a related) [question][1], and a guy (possibly from the htmlunit crew) posted an update on git to solve the cookie problem. \r\nWhen using that updated version (`2.68.0-SNAPSHOT` - and I had to update the version of `apache-commons-lang3` too) all the problems disappeared. `Cloudflare` accepted the connection and everything worked! Here is the final version of the code....\r\n\r\n    try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n\t\t\tString url = &quot;https://www2.aneel.gov.br:443/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\t\r\n\t\t\t// par&#226;metros do webclient\r\n\t\t\twebClient.getOptions().setCssEnabled(true);\r\n\t\t\twebClient.setJavaScriptTimeout(0);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(0);\r\n\t\t\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\t\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\t\r\n\t\t\tCookieManager cookies = new CookieManager();\t\t\t\r\n\t\t\tcookies.setCookiesEnabled(true);\r\n\t\t\twebClient.setCookieManager(cookies);\r\n\t\t\t\r\n\t\t\twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\t\t\t\r\n\t\t\twebClient.waitForBackgroundJavaScript(10000);\r\n\t\t\twebClient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n\t\t\t\r\n\t\t\twebClient.getCache().setMaxSize(0);\r\n\t\t\t\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\t\t\t\r\n\t\t\tHtmlPage page = webClient.getPage(url);\r\n\t\t\twebClient.getRefreshHandler().handleRefresh(page, new URL(url), 10);\r\n\t\t\t\r\n\t\t\tsynchronized(page) {\r\n\t\t        page.wait(10000);\r\n\t\t    }\r\n\t\t\t\r\n\t\t\tif (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\r\n\t\t\t\tlog.info(page.asXml());\r\n\t\t\t    webClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\t}\r\n   \r\n            List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\r\n\r\nWith the updates, and this piece of code, the list of DOM Elements I needed came properly.\r\nThank you all for the assist!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74732202/java-htmlunit-cloudflare-protection-stuck-on-redirecting-to-the-final-page","title":"HtmlUnit returning empty list of DomElements","body":"<p>Well. This is what happened. I posted (a related) <a href=\"https://stackoverflow.com/questions/74732202/java-htmlunit-cloudflare-protection-stuck-on-redirecting-to-the-final-page\">question</a>, and a guy (possibly from the htmlunit crew) posted an update on git to solve the cookie problem.\nWhen using that updated version (<code>2.68.0-SNAPSHOT</code> - and I had to update the version of <code>apache-commons-lang3</code> too) all the problems disappeared. <code>Cloudflare</code> accepted the connection and everything worked! Here is the final version of the code....</p>\n<pre><code>try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        String url = &quot;https://www2.aneel.gov.br:443/aplicacoes_liferay/tarifa/&quot;;\n        \n        // parmetros do webclient\n        webClient.getOptions().setCssEnabled(true);\n        webClient.setJavaScriptTimeout(0);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(0);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        \n        CookieManager cookies = new CookieManager();            \n        cookies.setCookiesEnabled(true);\n        webClient.setCookieManager(cookies);\n        \n        webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n        \n        webClient.waitForBackgroundJavaScript(10000);\n        webClient.waitForBackgroundJavaScriptStartingBefore(10000);\n        \n        webClient.getCache().setMaxSize(0);\n        \n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n        \n        HtmlPage page = webClient.getPage(url);\n        webClient.getRefreshHandler().handleRefresh(page, new URL(url), 10);\n        \n        synchronized(page) {\n            page.wait(10000);\n        }\n        \n        if (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\n            log.info(page.asXml());\n            webClient.waitForBackgroundJavaScript(10_000);\n        }\n\n        List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\n</code></pre>\n<p>With the updates, and this piece of code, the list of DOM Elements I needed came properly.\nThank you all for the assist!</p>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74812329,"answer_count":1,"score":0,"last_activity_date":1671111048,"creation_date":1669751935,"question_id":74619619,"body_markdown":"I am having trouble retrieving the list of Dom Elements when using the method `getElementsByName` from `HtmlPage`.\r\n\r\nHere is the HTML Page. (Trying to get the `CategoriaAgente` from the `select` tag).\r\n\r\nHTML (The part that I need):\r\n\r\n    &lt;select name=&quot;CategoriaAgente&quot;&gt;\r\n      &lt;option value=&quot;-&quot;&gt;Escolha uma categoria&lt;/option&gt;\r\n      &lt;option value=&quot;t&quot;&gt;Todos&lt;/option&gt;\r\n      &lt;option value=&quot;p&quot;&gt;Permission&#225;ria de Distribui&#231;&#227;o&lt;/option&gt;\r\n      &lt;option value=&quot;d&quot;&gt;Concession&#225;ria de Distribui&#231;&#227;o&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nSnippet of the Java code (Using HtmlUnit):\r\n\r\n        public List&lt;HtmlOption&gt; listaAgentes() {\r\n\t\tList&lt;HtmlOption&gt; listaAgentes = null;\r\n\r\n\t\ttry (WebClient webClient = new WebClient()) {\r\n\t\t\tlog.info(&quot;COLETANDO AGENTES&quot;);\r\n\r\n\t\t\t// par&#226;metros do webclient\r\n\t\t\twebClient.setJavaScriptTimeout(15000);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(300000);\r\n\r\n\t\t\tString url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\tHtmlPage page = webClient.getPage(url);\r\n\t\t\t\r\n\t\t\t// SELECIONAR CATEGORIA AGENTE\r\n\t\t\tList&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\r\n           //... \r\n\r\nThe list `listaCategoriaAgente` is ALWAYS empty. \r\nI tried some solutions found on S.O. but none of them works. \r\nHelp? Thanks in advance!\r\n\r\n**EDIT**:\r\nAfter the comment from @hooknc , I found that the page is looking for some kind of captcha from cloudfare. \r\nThis is what I get from POSTMAN....\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSomeone knows how to bypass this `challenge-form` using HtmlUnit?\r\n Thanks!!!!!\r\n\r\n  [1]: https://i.stack.imgur.com/IM3pT.png\r\n\r\n**EDIT 2:**\r\n\r\nWell, I think I made some progress(?)...\r\n\r\nThis is the code so far....\r\n\r\n    try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n\t\t\twebClient.getOptions().setCssEnabled(false);\r\n\t\t\twebClient.setJavaScriptTimeout(0);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(0);\r\n\t\t\twebClient.getCookieManager().setCookiesEnabled(true);\r\n\t\t\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\t\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\twebClient.getCache().setMaxSize(0);\r\n\t\t\twebClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\twebClient.waitForBackgroundJavaScriptStartingBefore(10_000);\r\n\r\n\t\t\tHtmlPage page = null;\r\n\t\t\tString url = null;\r\n\r\n\t\t\turl = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\r\n\t\t\tpage = webClient.getPage(url);\r\n\r\n\t\t\tif (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\r\n\t\t\t\tlog.info(page.asXml());\r\n\r\n\t\t\t\tsynchronized(page) {\r\n\t\t\t        page.wait(10_000);\r\n\t\t\t    }\r\n\t\t\t\twebClient.waitForBackgroundJavaScript(10_000);\r\n\t\t\t}\r\n\r\nAnd... this is what I get from the log...\r\n\r\n    &lt;div id=&quot;challenge-success&quot; style=&quot;display: none;&quot;&gt;\r\n          &lt;div class=&quot;h2&quot;&gt;\r\n            &lt;span class=&quot;icon-wrapper&quot;&gt;\r\n              &lt;img class=&quot;heading-icon&quot; alt=&quot;Success icon&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAANlBMVEUAAAAxMTEwMDAxMTExMTEwMDAwMDAwMDAxMTExMTExMTEwMDAwMDAxMTExMTEwMDAwMDAxMTHB9N+uAAAAEXRSTlMA3zDvfyBAEJC/n3BQz69gX7VMkcMAAAGySURBVEjHnZZbFoMgDEQJiDzVuv/NtgbtFGuQ4/zUKpeMIQbUhXSKE5l1XSn4pFWHRm/WShT1HRLWC01LGxFEVkCc30eYkLJ1Sjk9pvkw690VY6k8DWP9OM9yMG0Koi+mi8XA36NXmW0UXra4eJ3iwHfrfXVlgL0NqqGBHdqfeQhMmyJ48WDuKP81h3+SMPeRKkJcSXiLUK4XTHCjESOnz1VUXQoc6lgi2x4cI5aTQ201Mt8wHysI5fc05M5c81uZEtHcMKhxZ7iYEty1GfhLvGKpm+EYkdGxm1F5axmcB93DoORIbXfdN7f+hlFuyxtDP+sxtBnF43cIYwaZAWRgzxIoiXEMESoPlMhwLRDXeK772CAzXEdBRV7cmnoVBp0OSlyGidEzJTFq5hhcsA5388oSGM6b5p+qjpZrBlMS9xj4AwXmz108ukU1IomM3ceiW0CDwHCqp1NjAqXlFrbga+xuloQJ+tuyfbIBPNpqnmxqT7dPaOnZqBfhSBCteJAxWj58zLk2xgg+SPGYM6dRO6WczSnIxxwEExRaO+UyCUhbOp7CGQ+kxSUfNtLQFC+Po29vvy7jj4y0yAAAAABJRU5ErkJggg==&quot;/&gt;\r\n            &lt;/span&gt;\r\n            Connection is secure\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;core-msg spacer&quot;&gt;\r\n            Proceeding...\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\nSo... It says `Proceeding...` but nothing happens... I waited 4ever, but it just stucks on the `Proceeding`...\r\n\r\nAny thoughts??\r\nThanks!!!","title":"HtmlUnit returning empty list of DomElements","body":"<p>I am having trouble retrieving the list of Dom Elements when using the method <code>getElementsByName</code> from <code>HtmlPage</code>.</p>\n<p>Here is the HTML Page. (Trying to get the <code>CategoriaAgente</code> from the <code>select</code> tag).</p>\n<p>HTML (The part that I need):</p>\n<pre><code>&lt;select name=&quot;CategoriaAgente&quot;&gt;\n  &lt;option value=&quot;-&quot;&gt;Escolha uma categoria&lt;/option&gt;\n  &lt;option value=&quot;t&quot;&gt;Todos&lt;/option&gt;\n  &lt;option value=&quot;p&quot;&gt;Permissionria de Distribuio&lt;/option&gt;\n  &lt;option value=&quot;d&quot;&gt;Concessionria de Distribuio&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Snippet of the Java code (Using HtmlUnit):</p>\n<pre><code>    public List&lt;HtmlOption&gt; listaAgentes() {\n    List&lt;HtmlOption&gt; listaAgentes = null;\n\n    try (WebClient webClient = new WebClient()) {\n        log.info(&quot;COLETANDO AGENTES&quot;);\n\n        // parmetros do webclient\n        webClient.setJavaScriptTimeout(15000);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(300000);\n\n        String url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\n        HtmlPage page = webClient.getPage(url);\n        \n        // SELECIONAR CATEGORIA AGENTE\n        List&lt;DomElement&gt; listaCategoriaAgente = page.getElementsByName(&quot;CategoriaAgente&quot;);\n       //... \n</code></pre>\n<p>The list <code>listaCategoriaAgente</code> is ALWAYS empty.\nI tried some solutions found on S.O. but none of them works.\nHelp? Thanks in advance!</p>\n<p><strong>EDIT</strong>:\nAfter the comment from @hooknc , I found that the page is looking for some kind of captcha from cloudfare.\nThis is what I get from POSTMAN....</p>\n<p><a href=\"https://i.stack.imgur.com/IM3pT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IM3pT.png\" alt=\"enter image description here\" /></a></p>\n<p>Someone knows how to bypass this <code>challenge-form</code> using HtmlUnit?\nThanks!!!!!</p>\n<p><strong>EDIT 2:</strong></p>\n<p>Well, I think I made some progress(?)...</p>\n<p>This is the code so far....</p>\n<pre><code>try (WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        webClient.getOptions().setCssEnabled(false);\n        webClient.setJavaScriptTimeout(0);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(0);\n        webClient.getCookieManager().setCookiesEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        webClient.getCache().setMaxSize(0);\n        webClient.waitForBackgroundJavaScript(10_000);\n        webClient.waitForBackgroundJavaScriptStartingBefore(10_000);\n\n        HtmlPage page = null;\n        String url = null;\n\n        url = &quot;https://www2.aneel.gov.br/aplicacoes_liferay/tarifa/&quot;;\n        page = webClient.getPage(url);\n\n        if (page.asXml().contains(&quot;Checking if the site connection is secure&quot;)) {\n            log.info(page.asXml());\n\n            synchronized(page) {\n                page.wait(10_000);\n            }\n            webClient.waitForBackgroundJavaScript(10_000);\n        }\n</code></pre>\n<p>And... this is what I get from the log...</p>\n<pre><code>&lt;div id=&quot;challenge-success&quot; style=&quot;display: none;&quot;&gt;\n      &lt;div class=&quot;h2&quot;&gt;\n        &lt;span class=&quot;icon-wrapper&quot;&gt;\n          &lt;img class=&quot;heading-icon&quot; alt=&quot;Success icon&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAANlBMVEUAAAAxMTEwMDAxMTExMTEwMDAwMDAwMDAxMTExMTExMTEwMDAwMDAxMTExMTEwMDAwMDAxMTHB9N+uAAAAEXRSTlMA3zDvfyBAEJC/n3BQz69gX7VMkcMAAAGySURBVEjHnZZbFoMgDEQJiDzVuv/NtgbtFGuQ4/zUKpeMIQbUhXSKE5l1XSn4pFWHRm/WShT1HRLWC01LGxFEVkCc30eYkLJ1Sjk9pvkw690VY6k8DWP9OM9yMG0Koi+mi8XA36NXmW0UXra4eJ3iwHfrfXVlgL0NqqGBHdqfeQhMmyJ48WDuKP81h3+SMPeRKkJcSXiLUK4XTHCjESOnz1VUXQoc6lgi2x4cI5aTQ201Mt8wHysI5fc05M5c81uZEtHcMKhxZ7iYEty1GfhLvGKpm+EYkdGxm1F5axmcB93DoORIbXfdN7f+hlFuyxtDP+sxtBnF43cIYwaZAWRgzxIoiXEMESoPlMhwLRDXeK772CAzXEdBRV7cmnoVBp0OSlyGidEzJTFq5hhcsA5388oSGM6b5p+qjpZrBlMS9xj4AwXmz108ukU1IomM3ceiW0CDwHCqp1NjAqXlFrbga+xuloQJ+tuyfbIBPNpqnmxqT7dPaOnZqBfhSBCteJAxWj58zLk2xgg+SPGYM6dRO6WczSnIxxwEExRaO+UyCUhbOp7CGQ+kxSUfNtLQFC+Po29vvy7jj4y0yAAAAABJRU5ErkJggg==&quot;/&gt;\n        &lt;/span&gt;\n        Connection is secure\n      &lt;/div&gt;\n      &lt;div class=&quot;core-msg spacer&quot;&gt;\n        Proceeding...\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>So... It says <code>Proceeding...</code> but nothing happens... I waited 4ever, but it just stucks on the <code>Proceeding</code>...</p>\n<p>Any thoughts??\nThanks!!!</p>\n"},{"tags":["java","generics","parameters","verification","mockito"],"answers":[{"tags":[],"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306756532,"creation_date":1306755779,"answer_id":6175832,"question_id":6175753,"body_markdown":"You can&#39;t express this because of type erasure. Even if you could express it in code, Mockito had no chance to check it at runtime. You could create an interface like \r\n\r\n    interface PersonCollection extends Collection&lt;Person&gt; { /* nothing */ }\r\n\r\ninstead and use this throughout your code.\r\n\r\nEdit: I was wrong, Mockito has [anyCollectionOf(..)][1] which is what you want.\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html#anyCollectionOf%28java.lang.Class%29","title":"Mockito: Verifying with generic parameters","body":"<p>You can't express this because of type erasure. Even if you could express it in code, Mockito had no chance to check it at runtime. You could create an interface like </p>\n\n<pre><code>interface PersonCollection extends Collection&lt;Person&gt; { /* nothing */ }\n</code></pre>\n\n<p>instead and use this throughout your code.</p>\n\n<p>Edit: I was wrong, Mockito has <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Matchers.html#anyCollectionOf%28java.lang.Class%29\" rel=\"nofollow\">anyCollectionOf(..)</a> which is what you want.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":3,"up_vote_count":113,"is_accepted":true,"score":110,"last_activity_date":1671110789,"creation_date":1306755847,"answer_id":6175840,"question_id":6175753,"body_markdown":"Try:\r\n\r\n    verify(someService).process(ArgumentMatchers.&lt;Collection&lt;Person&gt;&gt;any());\r\n\r\nActually, IntelliJ automatically suggested this fix when I typed `any()`... Unfortunately you cannot use static import in this case.","title":"Mockito: Verifying with generic parameters","body":"<p>Try:</p>\n<pre><code>verify(someService).process(ArgumentMatchers.&lt;Collection&lt;Person&gt;&gt;any());\n</code></pre>\n<p>Actually, IntelliJ automatically suggested this fix when I typed <code>any()</code>... Unfortunately you cannot use static import in this case.</p>\n"},{"tags":[],"owner":{"account_id":2835943,"reputation":370,"user_id":2436568,"display_name":"seblm"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1379505363,"creation_date":1379505363,"answer_id":18871609,"question_id":6175753,"body_markdown":"Try :\r\n\r\n    verify(someService).process(anyCollectionOf(Person.class));\r\n\r\nSince version [1.8][1] Mockito introduces\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; anyCollectionOf(Class&lt;T&gt; clazz);\r\n\r\n  [1]: https://github.com/mockito/mockito/blob/1.8.0/src/org/mockito/Matchers.java","title":"Mockito: Verifying with generic parameters","body":"<p>Try :</p>\n\n<pre><code>verify(someService).process(anyCollectionOf(Person.class));\n</code></pre>\n\n<p>Since version <a href=\"https://github.com/mockito/mockito/blob/1.8.0/src/org/mockito/Matchers.java\" rel=\"noreferrer\">1.8</a> Mockito introduces</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; anyCollectionOf(Class&lt;T&gt; clazz);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8195234,"reputation":11,"user_id":6168315,"display_name":"fxa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459964696,"creation_date":1459964696,"answer_id":36458540,"question_id":6175753,"body_markdown":"if you use a own method, you can even use static import:\r\n\r\n    private Collection&lt;Person&gt; anyPersonCollection() {\r\n        return any();\r\n    }\r\n\r\nThen you can use\r\n\r\n    verify(someService).process(anyPersonCollection());\r\n\r\n ","title":"Mockito: Verifying with generic parameters","body":"<p>if you use a own method, you can even use static import:</p>\n\n<pre><code>private Collection&lt;Person&gt; anyPersonCollection() {\n    return any();\n}\n</code></pre>\n\n<p>Then you can use</p>\n\n<pre><code>verify(someService).process(anyPersonCollection());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640791496,"creation_date":1640791496,"answer_id":70521447,"question_id":6175753,"body_markdown":"As an alternative to the accepted answer you can try:\r\n\r\n    verify(someService).process(Mockito.&lt;SomeGenericClass&lt;Person&gt;&gt;any());\r\n\r\nWhere I used `org.mockito.Mockito` instead of `Matchers`.","title":"Mockito: Verifying with generic parameters","body":"<p>As an alternative to the accepted answer you can try:</p>\n<pre><code>verify(someService).process(Mockito.&lt;SomeGenericClass&lt;Person&gt;&gt;any());\n</code></pre>\n<p>Where I used <code>org.mockito.Mockito</code> instead of <code>Matchers</code>.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42459,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":6175840,"answer_count":5,"score":67,"last_activity_date":1671110789,"creation_date":1306755268,"question_id":6175753,"body_markdown":"With Mockito I can do the following:\r\n\r\n    verify(someService).process(any(Person.class));\r\n\r\nBut how do I write this if `process` takes a `Collection&lt;Person&gt;` instead? Can&#39;t figure out how to write it correctly. Just getting syntax errors...","title":"Mockito: Verifying with generic parameters","body":"<p>With Mockito I can do the following:</p>\n\n<pre><code>verify(someService).process(any(Person.class));\n</code></pre>\n\n<p>But how do I write this if <code>process</code> takes a <code>Collection&lt;Person&gt;</code> instead? Can't figure out how to write it correctly. Just getting syntax errors...</p>\n"},{"tags":["java","properties","config","system","typesafe"],"owner":{"account_id":4784985,"reputation":51,"user_id":3865748,"display_name":"user3865748"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671110650,"creation_date":1671110650,"question_id":74812254,"body_markdown":"We are using Typesafe config in our application.\r\nAny way to ignore loading system properties into config object ?","title":"How to avoid System Properties getting loaded in Typesafe config","body":"<p>We are using Typesafe config in our application.\nAny way to ignore loading system properties into config object ?</p>\n"},{"tags":["java","selenium-webdriver","serenity-bdd"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671102170,"post_id":74810471,"comment_id":132027551,"body_markdown":"Can you share a link to the page you working on?","body":"Can you share a link to the page you working on?"},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671102406,"post_id":74810471,"comment_id":132027618,"body_markdown":"Sorry i can&#39;t because in order to access this page you need to login first. But the problem doesn&#39;t have to do with the element itself because i can locate it at least with no waiting. Apart from that i can confirm that the xpath is valid regardless the webdriver, i mean that typing this xpath in devtools can locate the desired element. Also this xpath returns a unique element","body":"Sorry i can&#39;t because in order to access this page you need to login first. But the problem doesn&#39;t have to do with the element itself because i can locate it at least with no waiting. Apart from that i can confirm that the xpath is valid regardless the webdriver, i mean that typing this xpath in devtools can locate the desired element. Also this xpath returns a unique element"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671102617,"post_id":74810471,"comment_id":132027679,"body_markdown":"Maybe you need to scroll the page there since element is initially out of the visible area?","body":"Maybe you need to scroll the page there since element is initially out of the visible area?"},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671102764,"post_id":74810471,"comment_id":132027727,"body_markdown":"The strange thing is that without waiting I can locate it. What could have happened?","body":"The strange thing is that without waiting I can locate it. What could have happened?"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671103394,"post_id":74810471,"comment_id":132027931,"body_markdown":"Well, I think I need to see your code and make actual debugging to answer here. I&#39;m sorry..","body":"Well, I think I need to see your code and make actual debugging to answer here. I&#39;m sorry.."},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671103472,"post_id":74810471,"comment_id":132027951,"body_markdown":"Thanks @Prophet NP :) but i can&#39;t since it&#39;s from a private organization&#39;s code base","body":"Thanks @Prophet NP :) but i can&#39;t since it&#39;s from a private organization&#39;s code base"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671103587,"post_id":74810471,"comment_id":132027995,"body_markdown":"I understand, you already mentioned that. I just wanted to say unfortunately I&#39;m not sure I can help in these circumstances.","body":"I understand, you already mentioned that. I just wanted to say unfortunately I&#39;m not sure I can help in these circumstances."},{"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"score":0,"creation_date":1671103724,"post_id":74810471,"comment_id":132028047,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250433/discussion-between-ggeorge-and-prophet).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250433/discussion-between-ggeorge-and-prophet\">continue this discussion in chat</a>."}],"owner":{"account_id":6863787,"reputation":1498,"user_id":5276946,"display_name":"ggeorge"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671110559,"creation_date":1671102025,"question_id":74810471,"body_markdown":"First of all i need to locate this element: \r\n\r\n`&lt;input aria-checked=&quot;false&quot; id=&quot;input-190&quot; role=&quot;switch&quot; type=&quot;checkbox&quot; aria-disabled=&quot;false&quot; value=&quot;&quot;&gt;`\r\n\r\nso i have created this Target:\r\n```\r\npublic class Page  {\r\n      public static final Target SWITCH_INPUT = Target.the(&quot;switch input&quot;)\r\n            .locatedBy(&quot;//input[@role=&#39;switch&#39;]&quot;)\r\n            .waitingForNoMoreThan(Duration.ofSeconds(20));\r\n}\r\n```\r\nand in another class need to locate this target and get the attribute `aria-checked`\r\n\r\n```\r\nvar ariaChecked = actor.asksFor(Attribute.of(SWITCH_INPUT, &quot;aria-checked&quot;));\r\n```\r\nand here occurs something too odd to me, if i remove the `waitingForNoMoreThan(Duration.ofSeconds(20))` from my target definition, the actor can locate that target but by having the `waitingForNoMoreThan` in place, it returns empty string because the element is null.\r\n\r\nIs this normal? I feel that the opposite is a legit scenario.","title":"Using Serenity Screenplay pattern waiting an element causes problems locating it","body":"<p>First of all i need to locate this element:</p>\n<p><code>&lt;input aria-checked=&quot;false&quot; id=&quot;input-190&quot; role=&quot;switch&quot; type=&quot;checkbox&quot; aria-disabled=&quot;false&quot; value=&quot;&quot;&gt;</code></p>\n<p>so i have created this Target:</p>\n<pre><code>public class Page  {\n      public static final Target SWITCH_INPUT = Target.the(&quot;switch input&quot;)\n            .locatedBy(&quot;//input[@role='switch']&quot;)\n            .waitingForNoMoreThan(Duration.ofSeconds(20));\n}\n</code></pre>\n<p>and in another class need to locate this target and get the attribute <code>aria-checked</code></p>\n<pre><code>var ariaChecked = actor.asksFor(Attribute.of(SWITCH_INPUT, &quot;aria-checked&quot;));\n</code></pre>\n<p>and here occurs something too odd to me, if i remove the <code>waitingForNoMoreThan(Duration.ofSeconds(20))</code> from my target definition, the actor can locate that target but by having the <code>waitingForNoMoreThan</code> in place, it returns empty string because the element is null.</p>\n<p>Is this normal? I feel that the opposite is a legit scenario.</p>\n"},{"tags":["java","android","kotlin","android-alertdialog","material-components-android"],"comments":[{"owner":{"account_id":12153023,"reputation":624,"user_id":8872691,"display_name":"m&#39;hd semps"},"score":0,"creation_date":1593029575,"post_id":62562609,"comment_id":110640474,"body_markdown":"Does this answer your question? [Center message in android dialog box](https://stackoverflow.com/questions/4954130/center-message-in-android-dialog-box)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4954130/center-message-in-android-dialog-box\">Center message in android dialog box</a>"}],"answers":[{"tags":[],"owner":{"account_id":18852957,"reputation":141,"user_id":13771886,"display_name":"danms07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593027722,"creation_date":1593027722,"answer_id":62562885,"question_id":62562609,"body_markdown":"You can create your own layout and add it to your dialog\r\n\r\n    \r\n    val inflater=LayoutInflater.from(requireContext())\r\n    //Getting the custom view\r\n    val view=inflater.inflate(R.layout.YOUR_CUSTOM_LAYOUT,null)\r\n    //Obtaining the components\r\n    val title=view.findViewById(R.id.YOUR_CUSTOM_TILE)\r\n    title.text=&quot;Message&quot;\r\n    val button=view.findViewById(R.id.YOUR_CUSTOM_BUTTON)\r\n    button.setOnCLickListener{\r\n        //onClick\r\n        }\r\n    val dialog=MaterialAlertDialogBuilder(requireContext()).setView(view).create()\r\n    dialog.show()","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>You can create your own layout and add it to your dialog</p>\n<pre><code>val inflater=LayoutInflater.from(requireContext())\n//Getting the custom view\nval view=inflater.inflate(R.layout.YOUR_CUSTOM_LAYOUT,null)\n//Obtaining the components\nval title=view.findViewById(R.id.YOUR_CUSTOM_TILE)\ntitle.text=&quot;Message&quot;\nval button=view.findViewById(R.id.YOUR_CUSTOM_BUTTON)\nbutton.setOnCLickListener{\n    //onClick\n    }\nval dialog=MaterialAlertDialogBuilder(requireContext()).setView(view).create()\ndialog.show()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1593028736,"creation_date":1593028736,"answer_id":62563122,"question_id":62562609,"body_markdown":"For the the title and the message you can use:\r\n\r\n        &lt;style name=&quot;MaterialAlertDialog__Center&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n            &lt;item name=&quot;materialAlertDialogTitlePanelStyle&quot;&gt;@style/Title.Panel.Center&lt;/item&gt;\r\n            &lt;item name=&quot;materialAlertDialogBodyTextStyle&quot;&gt;@style/Message.Center&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;Title.Panel.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Panel&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;Message.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Body.Text&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nwith:\r\n\r\n    MaterialAlertDialogBuilder(this, R.style.MaterialAlertDialog_Center)\r\n                    .setTitle(&quot;Message&quot;)\r\n                    ..\r\n                    .show()\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B3Bor.png","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>For the the title and the message you can use:</p>\n<pre><code>    &lt;style name=&quot;MaterialAlertDialog__Center&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n        &lt;item name=&quot;materialAlertDialogTitlePanelStyle&quot;&gt;@style/Title.Panel.Center&lt;/item&gt;\n        &lt;item name=&quot;materialAlertDialogBodyTextStyle&quot;&gt;@style/Message.Center&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Title.Panel.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Panel&quot;&gt;\n        &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Message.Center&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Body.Text&quot;&gt;\n        &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>with:</p>\n<pre><code>MaterialAlertDialogBuilder(this, R.style.MaterialAlertDialog_Center)\n                .setTitle(&quot;Message&quot;)\n                ..\n                .show()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B3Bor.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B3Bor.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8541945,"reputation":8190,"user_id":6401755,"display_name":"Juan Cruz Soler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602619256,"creation_date":1602619256,"answer_id":64342368,"question_id":62562609,"body_markdown":"To center the title and message you only have to change this in your Theme\r\n\r\n```\r\n&lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog.Centered&lt;/item&gt;\r\n```","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>To center the title and message you only have to change this in your Theme</p>\n<pre><code>&lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog.Centered&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669334426,"creation_date":1669334426,"answer_id":74567238,"question_id":62562609,"body_markdown":"In the simplest way\r\n\r\n    MaterialAlertDialogBuilder(context, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>In the simplest way</p>\n<pre><code>MaterialAlertDialogBuilder(context, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671110388,"creation_date":1671110388,"answer_id":74812192,"question_id":62562609,"body_markdown":"Change to this\r\n\r\n    MaterialAlertDialogBuilder(requireContext(), com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered))\r\n                        .setTitle(&quot;Message&quot;)\r\n                        .setMessage(&quot;This is info message.&quot;)\r\n                        .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\r\n                     \r\n                        }\r\n                        \r\n                        .show()\r\n\r\n","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>Change to this</p>\n<pre><code>MaterialAlertDialogBuilder(requireContext(), com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered))\n                    .setTitle(&quot;Message&quot;)\n                    .setMessage(&quot;This is info message.&quot;)\n                    .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\n                 \n                    }\n                    \n                    .show()\n</code></pre>\n"}],"owner":{"account_id":10279781,"reputation":6290,"user_id":7585388,"display_name":"Bolt UIX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62563122,"answer_count":5,"score":2,"last_activity_date":1671110388,"creation_date":1593026540,"question_id":62562609,"body_markdown":"how to make center alignment title, message &amp; button \r\n\r\n    MaterialAlertDialogBuilder(requireContext())\r\n                    .setTitle(&quot;Message&quot;)\r\n                    .setMessage(&quot;This is info message.&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\r\n                 \r\n                    }\r\n                    \r\n                    .show()","title":"how to make center MaterialAlertDialogBuilder alignment title, message &amp; button","body":"<p>how to make center alignment title, message &amp; button</p>\n<pre><code>MaterialAlertDialogBuilder(requireContext())\n                .setTitle(&quot;Message&quot;)\n                .setMessage(&quot;This is info message.&quot;)\n                .setPositiveButton(&quot;Ok&quot;) { dialog, which -&gt;\n             \n                }\n                \n                .show()\n</code></pre>\n"},{"tags":["java","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671108850,"creation_date":1671108850,"answer_id":74811867,"question_id":74809724,"body_markdown":"you may try with having the `data` field be converted (eg by Jackson) as a Map following a prototype based approach and then\r\n\r\n```java\r\n...\r\nwhen\r\n  Submission(data[&quot;name&quot;] == &quot;john&quot;) ...\r\n```\r\n\r\nof instead of Map have a JSONNode (and adapt the constraint in the rule), again for the `data` field in your Submission object model.","title":"Drools rule for Object type member","body":"<p>you may try with having the <code>data</code> field be converted (eg by Jackson) as a Map following a prototype based approach and then</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nwhen\n  Submission(data[&quot;name&quot;] == &quot;john&quot;) ...\n</code></pre>\n<p>of instead of Map have a JSONNode (and adapt the constraint in the rule), again for the <code>data</code> field in your Submission object model.</p>\n"}],"owner":{"account_id":7864946,"reputation":1,"user_id":6853002,"display_name":"Hashim Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671110132,"creation_date":1671098290,"question_id":74809724,"body_markdown":"I am new to drools, please bear with me if this is a silly question. I have a class member type of `Object` which I am using to store JSON value (passed from frontend), due to unstructured data I am using Object type for a variable. Here&#39;s the POJO class.\r\n\r\n```\r\npublic class Submission {\r\n    @Id\r\n    private String id;\r\n    private String form;\r\n    private String formId;\r\n    private Object data;\r\n    private Date createdAt = new Date();\r\n    private Date modifiedAt = new Date();\r\n    private String state;\r\n    private Boolean isDeleted = false;\r\n    private Boolean valid = false;\r\n\r\n    public Boolean getValid() {\r\n        return valid;\r\n    }\r\n\r\n    public void setValid(Boolean valid) {\r\n        this.valid = valid;\r\n    }\r\n\r\n    public String getForm() {\r\n        return form;\r\n    }\r\n\r\n    public void setForm(String form) {\r\n        this.form = form;\r\n    }\r\n\r\n    public String getFormId() {\r\n        return formId;\r\n    }\r\n\r\n    public void setFormId(String formId) {\r\n        this.formId = formId;\r\n    }\r\n\r\n    public Object getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(Object data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getState() {\r\n        return state;\r\n    }\r\n\r\n    public void setState(String state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getModifiedAt() {\r\n        return modifiedAt;\r\n    }\r\n\r\n    public void setModifiedAt(Date modifiedAt) {\r\n        this.modifiedAt = modifiedAt;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Boolean getDeleted() {\r\n        return isDeleted;\r\n    }\r\n\r\n    public void setDeleted(Boolean deleted) {\r\n        isDeleted = deleted;\r\n    }\r\n}\r\n```\r\n\r\nand this is my .drl\r\n```\r\npackage rules; \r\nimport com.ics.lcnc.Submission.Submission;\r\nrule &quot;check name is correct&quot;\r\nwhen\r\n  Submission(data.name == &quot;john&quot;)\r\nthen\r\n  submission.setValid(true)\r\nend\r\n```\r\nBut for above file I get following error when I try to load this file into `KieBuilder` \r\n```\r\nMessage [id=3, kieBase=defaultKieBase, level=ERROR, path=rules/123.drl, line=5, column=0\r\n   text=Unable to Analyse Expression data.name == &quot;hashim&quot;:\r\n[Error: unable to resolve method using strict-mode: java.lang.Object.name()]\r\n[Near : {... data.name == &quot;hashim&quot; ....}]\r\n```\r\nSeems like rule engine is unable to find nested property of `Object data`. How do I target nested property which will be known to a program at runtime only?\r\n","title":"Drools rule for Object type member","body":"<p>I am new to drools, please bear with me if this is a silly question. I have a class member type of <code>Object</code> which I am using to store JSON value (passed from frontend), due to unstructured data I am using Object type for a variable. Here's the POJO class.</p>\n<pre><code>public class Submission {\n    @Id\n    private String id;\n    private String form;\n    private String formId;\n    private Object data;\n    private Date createdAt = new Date();\n    private Date modifiedAt = new Date();\n    private String state;\n    private Boolean isDeleted = false;\n    private Boolean valid = false;\n\n    public Boolean getValid() {\n        return valid;\n    }\n\n    public void setValid(Boolean valid) {\n        this.valid = valid;\n    }\n\n    public String getForm() {\n        return form;\n    }\n\n    public void setForm(String form) {\n        this.form = form;\n    }\n\n    public String getFormId() {\n        return formId;\n    }\n\n    public void setFormId(String formId) {\n        this.formId = formId;\n    }\n\n    public Object getData() {\n        return data;\n    }\n\n    public void setData(Object data) {\n        this.data = data;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Date getModifiedAt() {\n        return modifiedAt;\n    }\n\n    public void setModifiedAt(Date modifiedAt) {\n        this.modifiedAt = modifiedAt;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Boolean getDeleted() {\n        return isDeleted;\n    }\n\n    public void setDeleted(Boolean deleted) {\n        isDeleted = deleted;\n    }\n}\n</code></pre>\n<p>and this is my .drl</p>\n<pre><code>package rules; \nimport com.ics.lcnc.Submission.Submission;\nrule &quot;check name is correct&quot;\nwhen\n  Submission(data.name == &quot;john&quot;)\nthen\n  submission.setValid(true)\nend\n</code></pre>\n<p>But for above file I get following error when I try to load this file into <code>KieBuilder</code></p>\n<pre><code>Message [id=3, kieBase=defaultKieBase, level=ERROR, path=rules/123.drl, line=5, column=0\n   text=Unable to Analyse Expression data.name == &quot;hashim&quot;:\n[Error: unable to resolve method using strict-mode: java.lang.Object.name()]\n[Near : {... data.name == &quot;hashim&quot; ....}]\n</code></pre>\n<p>Seems like rule engine is unable to find nested property of <code>Object data</code>. How do I target nested property which will be known to a program at runtime only?</p>\n"},{"tags":["java","json"],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109924,"creation_date":1671109924,"question_id":74812088,"body_markdown":"I&#39;have this api and i want to send requestBody:\r\n\r\n    public void sendSMS(SMS sms) throws IOException {\r\n        HttpPost post = new HttpPost(smsEndpoint);\r\n        String auth = smsUsername + &quot;:&quot; + smsPassword;\r\n        // Encode the user-password pair string in Base64\r\n        byte[] encodedAuth = org.apache.commons.codec.binary.Base64.encodeBase64(\r\n                auth.getBytes(StandardCharsets.ISO_8859_1));\r\n        String authHeader = &quot;Basic &quot; + new String(encodedAuth);\r\n        post.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\r\n        post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        StringEntity params = new StringEntity(ow.writeValueAsString(sms));\r\n        post.setEntity(params);\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault();\r\n                CloseableHttpResponse response = httpClient.execute(post)) {\r\n            LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\r\n        }\r\n    }\r\n\r\nwhen I want I try to send this format :\r\n\r\n    StringEntity params = new StringEntity(&quot;{\\&quot;endpoints\\&quot;:[\\&quot;32495122345\\&quot;],\\&quot;text\\&quot;:\\&quot;This is \r\n    Great !\\&quot;}&quot;);\r\n\r\nIt is succeded but when i send this format json converted to string not succeded.\r\n\r\nHow to resolve the problem? thanks in advance.\r\n\r\n\r\n\r\n","title":"Format requestBody not to be sent?","body":"<p>I'have this api and i want to send requestBody:</p>\n<pre><code>public void sendSMS(SMS sms) throws IOException {\n    HttpPost post = new HttpPost(smsEndpoint);\n    String auth = smsUsername + &quot;:&quot; + smsPassword;\n    // Encode the user-password pair string in Base64\n    byte[] encodedAuth = org.apache.commons.codec.binary.Base64.encodeBase64(\n            auth.getBytes(StandardCharsets.ISO_8859_1));\n    String authHeader = &quot;Basic &quot; + new String(encodedAuth);\n    post.setHeader(HttpHeaders.AUTHORIZATION, authHeader);\n    post.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    StringEntity params = new StringEntity(ow.writeValueAsString(sms));\n    post.setEntity(params);\n    try (CloseableHttpClient httpClient = HttpClients.createDefault();\n            CloseableHttpResponse response = httpClient.execute(post)) {\n        LOGGER.log(Level.INFO, () -&gt; &quot;the response: &quot; + response.toString());\n    }\n}\n</code></pre>\n<p>when I want I try to send this format :</p>\n<pre><code>StringEntity params = new StringEntity(&quot;{\\&quot;endpoints\\&quot;:[\\&quot;32495122345\\&quot;],\\&quot;text\\&quot;:\\&quot;This is \nGreat !\\&quot;}&quot;);\n</code></pre>\n<p>It is succeded but when i send this format json converted to string not succeded.</p>\n<p>How to resolve the problem? thanks in advance.</p>\n"},{"tags":["java","spring","maven","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1485874712,"creation_date":1485874712,"answer_id":41960712,"question_id":41960588,"body_markdown":"I believe you are missing \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin your dependencies","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>I believe you are missing </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>in your dependencies</p>\n"},{"tags":[],"owner":{"account_id":17235777,"reputation":1,"user_id":12479291,"display_name":"Nirmal Mandhata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671109846,"creation_date":1671109846,"answer_id":74812073,"question_id":41960588,"body_markdown":"I believe you are missing key\r\nspring.liquibase.enabled: true","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>I believe you are missing key\nspring.liquibase.enabled: true</p>\n"}],"owner":{"account_id":3834259,"reputation":1003,"user_id":3179011,"accept_rate":75,"display_name":"Sok Pomaranczowy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22939,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41960712,"answer_count":2,"score":12,"last_activity_date":1671109846,"creation_date":1485874378,"question_id":41960588,"body_markdown":"Following [this][1] documentation:\r\n\r\n    To automatically run Liquibase database migrations on startup, add the org.liquibase:liquibase-core to your classpath.\r\n    \r\n    The master change log is by default read from db/changelog/db.changelog-master.yaml but can be set using liquibase.change-log. In addition to YAML, Liquibase also supports JSON, XML, and SQL change log formats.\r\n\r\nI configured my application to use liquibase migrations.\r\nI added `liquibase.change-log` property so my whole `application.properties` file looks like this:\r\n\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    \r\n    spring.datasource.url=jdbc:mysql://192.168.0.1/db_name\r\n    spring.datasource.username=db_username\r\n    spring.datasource.password=super_secret_secret!123\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    spring.datasource.testOnBorrow=true\r\n    spring.datasource.timeBetweenEvictionRunsMillis = 60000\r\n    spring.datasource.validationQuery=SELECT 1\r\n    \r\n    liquibase.change-log=db.changelog-master.xml\r\n\r\nand here is my `pom.xml` with `liquibase-core`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.my.application&lt;/groupId&gt;\r\n        &lt;artifactId&gt;application-name&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;application_name&lt;/name&gt;\r\n        &lt;description&gt;Best app ever&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBut unfortunately nothing happens on startup. I believed that this would add the table specified in my `db.changelog-master.xml` to my database but `SHOW TABLES` prints an empty set. \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n             http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd&quot;&gt;\r\n        &lt;include file=&quot;classpath:liquibase/changelogs/init.xml&quot;\r\n                 relativeToChangelogFile=&quot;false&quot;/&gt;\r\n    \r\n        &lt;changeSet id=&quot;1&quot; author=&quot;bob&quot;&gt;\r\n            &lt;createTable tableName=&quot;department&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;int&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;name&quot; type=&quot;varchar(50)&quot;&gt;\r\n                    &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;active&quot; type=&quot;boolean&quot; defaultValueBoolean=&quot;true&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n    \r\n    &lt;/databaseChangeLog&gt;\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-execute-liquibase-database-migrations-on-startup\r\n\r\n\r\n","title":"Liquibase migration on startup doesnt work using Spring-Boot","body":"<p>Following <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-execute-liquibase-database-migrations-on-startup\" rel=\"noreferrer\">this</a> documentation:</p>\n\n<pre><code>To automatically run Liquibase database migrations on startup, add the org.liquibase:liquibase-core to your classpath.\n\nThe master change log is by default read from db/changelog/db.changelog-master.yaml but can be set using liquibase.change-log. In addition to YAML, Liquibase also supports JSON, XML, and SQL change log formats.\n</code></pre>\n\n<p>I configured my application to use liquibase migrations.\nI added <code>liquibase.change-log</code> property so my whole <code>application.properties</code> file looks like this:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n\nspring.datasource.url=jdbc:mysql://192.168.0.1/db_name\nspring.datasource.username=db_username\nspring.datasource.password=super_secret_secret!123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.datasource.testOnBorrow=true\nspring.datasource.timeBetweenEvictionRunsMillis = 60000\nspring.datasource.validationQuery=SELECT 1\n\nliquibase.change-log=db.changelog-master.xml\n</code></pre>\n\n<p>and here is my <code>pom.xml</code> with <code>liquibase-core</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.my.application&lt;/groupId&gt;\n    &lt;artifactId&gt;application-name&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;application_name&lt;/name&gt;\n    &lt;description&gt;Best app ever&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>But unfortunately nothing happens on startup. I believed that this would add the table specified in my <code>db.changelog-master.xml</code> to my database but <code>SHOW TABLES</code> prints an empty set. </p>\n\n\n\n<pre><code>&lt;databaseChangeLog\n        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\"&gt;\n    &lt;include file=\"classpath:liquibase/changelogs/init.xml\"\n             relativeToChangelogFile=\"false\"/&gt;\n\n    &lt;changeSet id=\"1\" author=\"bob\"&gt;\n        &lt;createTable tableName=\"department\"&gt;\n            &lt;column name=\"id\" type=\"int\"&gt;\n                &lt;constraints primaryKey=\"true\" nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"name\" type=\"varchar(50)\"&gt;\n                &lt;constraints nullable=\"false\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"active\" type=\"boolean\" defaultValueBoolean=\"true\"/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","rabbitmq","spring-cloud-stream"],"owner":{"account_id":201350,"reputation":2144,"user_id":447738,"accept_rate":57,"display_name":"cksrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109595,"creation_date":1671109595,"question_id":74812013,"body_markdown":"I have generated Proto classes from Protobuf and I would like to exchange the bytes between two Spring Cloud microservices over RabbitMQ but I wasn&#39;t able to figure out what is the proper way of serializing/deserializing.\r\n     \r\nProducer\r\n\r\n     @Bean\r\n     private fun produce(): Message&lt;ByteArray&gt;? {\r\n        val protoObj = protoObj {\r\n            id = UUID.randomUUID().toString()\r\n            name = &quot;name&quot;\r\n        }\r\n\r\n        return MessageBuilder.withPayload(protoObj.toByteArray())\r\n            .setHeader(&quot;Content-Type&quot;, &quot;application/x-brotobuf&quot;).build()\r\n    }\r\nConsumer\r\n\r\n    @Bean\r\n    fun consume(): Consumer&lt;ByteArray&gt; = Consumer {\r\n        val protoObj = ProtoObj.parseFrom(it)\r\n        logger.info(&quot;Received: {}&quot;, protoObj)\r\n    }\r\n\r\n\r\nException\r\n\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@7d801f4c]; nested exception is com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length., failedMessage=GenericMessage [payload=byte[32], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=my_exchange, amqp_deliveryTag=1, deliveryAttempt=3, amqp_consumerQueue=my_exchange.my_queue, amqp_redelivered=false, amqp_receivedRoutingKey=data.key, amqp_timestamp=Thu Dec 15 14:54:12 EET 2022, amqp_messageId=3abf6bf4-5716-70d7-982e-824248b86119, id=a28f1235-ff3b-7c48-33c3-dac864f49728, amqp_consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, sourceData=(Body:&#39;{&quot;validUtf8&quot;:true,&quot;empty&quot;:false}&#39; MessageProperties [headers={Content-Type=application/x-brotobuf}, timestamp=Thu Dec 15 14:54:12 EET 2022, messageId=3abf6bf4-5716-70d7-982e-824248b86119, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=my_exchange, receivedRoutingKey=data.key, deliveryTag=1, consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, consumerQueue=my_queue]), contentType=application/json, Content-Type=application/x-brotobuf, timestamp=1671108941161}]```","title":"What is the correct way of sending Protobuf data using Spring Cloud and RabbitMQ","body":"<p>I have generated Proto classes from Protobuf and I would like to exchange the bytes between two Spring Cloud microservices over RabbitMQ but I wasn't able to figure out what is the proper way of serializing/deserializing.</p>\n<p>Producer</p>\n<pre><code> @Bean\n private fun produce(): Message&lt;ByteArray&gt;? {\n    val protoObj = protoObj {\n        id = UUID.randomUUID().toString()\n        name = &quot;name&quot;\n    }\n\n    return MessageBuilder.withPayload(protoObj.toByteArray())\n        .setHeader(&quot;Content-Type&quot;, &quot;application/x-brotobuf&quot;).build()\n}\n</code></pre>\n<p>Consumer</p>\n<pre><code>@Bean\nfun consume(): Consumer&lt;ByteArray&gt; = Consumer {\n    val protoObj = ProtoObj.parseFrom(it)\n    logger.info(&quot;Received: {}&quot;, protoObj)\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@7d801f4c]; nested exception is com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length., failedMessage=GenericMessage [payload=byte[32], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=my_exchange, amqp_deliveryTag=1, deliveryAttempt=3, amqp_consumerQueue=my_exchange.my_queue, amqp_redelivered=false, amqp_receivedRoutingKey=data.key, amqp_timestamp=Thu Dec 15 14:54:12 EET 2022, amqp_messageId=3abf6bf4-5716-70d7-982e-824248b86119, id=a28f1235-ff3b-7c48-33c3-dac864f49728, amqp_consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, sourceData=(Body:'{&quot;validUtf8&quot;:true,&quot;empty&quot;:false}' MessageProperties [headers={Content-Type=application/x-brotobuf}, timestamp=Thu Dec 15 14:54:12 EET 2022, messageId=3abf6bf4-5716-70d7-982e-824248b86119, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=my_exchange, receivedRoutingKey=data.key, deliveryTag=1, consumerTag=amq.ctag-66oI3hsHrZpWVJQDwaLQ0g, consumerQueue=my_queue]), contentType=application/json, Content-Type=application/x-brotobuf, timestamp=1671108941161}]```\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak","idp"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671109594,"creation_date":1671109594,"answer_id":74812012,"question_id":74808539,"body_markdown":"Your client applications should never have access to users credentials.\r\n\r\nI&#39;d consider things an other way arround (I make assumptions on your setup because you didn&#39;t give much details about it):\r\n- provide Keycloak with a custom theme to match your client application(s) look &amp; feel\r\n- probably change your Spring backend configuration from `client` to `resource-server`. In OAuth2 wording, REST APIs are resource-server, not clients.\r\n- probably switch from 302 (redirect to Spring&#39;s `oauth2Login`) for unauthorized request to 401 (which is the standard HTTP status for unauthorized request)\r\n- probably, in your SPA client(s), use one of [certified OIDC client libs][1] to handle authorization-code flow with PKCE, silent token refreshing before it expires, HTTP interceptor to insert access token, route guards with auto-login,... My favorite for Angular is [angular-auth-oidc-client][2]\r\n\r\nIf I&#39;m right about your REST API being configured with `spring-boot-starter-oauth2-client` and if you don&#39;t know yet how to configure it with `spring-boot-starter-oauth2-resource-server`, you can refer to Spring official doc or to [this tutorials][3] i wrote. \r\n\r\n\r\n  [1]: https://openid.net/developers/certified/\r\n  [2]: https://github.com/damienbod/angular-auth-oidc-client\r\n  [3]: https://github.com/ch4mpy/spring-addons","title":"Keycloak external login page for external IDP","body":"<p>Your client applications should never have access to users credentials.</p>\n<p>I'd consider things an other way arround (I make assumptions on your setup because you didn't give much details about it):</p>\n<ul>\n<li>provide Keycloak with a custom theme to match your client application(s) look &amp; feel</li>\n<li>probably change your Spring backend configuration from <code>client</code> to <code>resource-server</code>. In OAuth2 wording, REST APIs are resource-server, not clients.</li>\n<li>probably switch from 302 (redirect to Spring's <code>oauth2Login</code>) for unauthorized request to 401 (which is the standard HTTP status for unauthorized request)</li>\n<li>probably, in your SPA client(s), use one of <a href=\"https://openid.net/developers/certified/\" rel=\"nofollow noreferrer\">certified OIDC client libs</a> to handle authorization-code flow with PKCE, silent token refreshing before it expires, HTTP interceptor to insert access token, route guards with auto-login,... My favorite for Angular is <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a></li>\n</ul>\n<p>If I'm right about your REST API being configured with <code>spring-boot-starter-oauth2-client</code> and if you don't know yet how to configure it with <code>spring-boot-starter-oauth2-resource-server</code>, you can refer to Spring official doc or to <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this tutorials</a> i wrote.</p>\n"}],"owner":{"account_id":10494409,"reputation":407,"user_id":7735168,"accept_rate":50,"display_name":"Sara Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671109594,"creation_date":1671091906,"question_id":74808539,"body_markdown":"In our spring boot app, we are using keycloak and we configured multiple external IDP. Everything is working successfully on browser based. The login page that is provided by keycloak is showing direct grant option in addition to login with IDPs then if user clicks to login using IDP, he is redirected to IDP&#39;s login page then our keycloak receives the token.\r\n \r\nWhat I want to change in that flow is that instead of showing user login page of keycloak I want to show him login page from my app(my FE) which is dealing with my BE api. My BE would dealing with KC. then If user select to login with IDP I want to get the redirect url from KC to pass it to my FE. Then after getting the token I want to redirect user to my FE immediately. \r\n\r\nIn other words I don&#39;t want users to access KC directly this should be throughout my BE ","title":"Keycloak external login page for external IDP","body":"<p>In our spring boot app, we are using keycloak and we configured multiple external IDP. Everything is working successfully on browser based. The login page that is provided by keycloak is showing direct grant option in addition to login with IDPs then if user clicks to login using IDP, he is redirected to IDP's login page then our keycloak receives the token.</p>\n<p>What I want to change in that flow is that instead of showing user login page of keycloak I want to show him login page from my app(my FE) which is dealing with my BE api. My BE would dealing with KC. then If user select to login with IDP I want to get the redirect url from KC to pass it to my FE. Then after getting the token I want to redirect user to my FE immediately.</p>\n<p>In other words I don't want users to access KC directly this should be throughout my BE</p>\n"},{"tags":["java","timeout","blocking"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671109795,"post_id":74811977,"comment_id":132030248,"body_markdown":"don&#39;t quite understand what&#39;s the problem .. how is blocking related to timeout? To make it not-blocking, do the reading in a background thread and cancel it on exceeding the timeout.","body":"don&#39;t quite understand what&#39;s the problem .. how is blocking related to timeout? To make it not-blocking, do the reading in a background thread and cancel it on exceeding the timeout."},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671109952,"post_id":74811977,"comment_id":132030306,"body_markdown":"output.readLine() may take several min but i want to spot it if it pass certain time for example 30 sec , but because its blocking it always wait for it to complete","body":"output.readLine() may take several min but i want to spot it if it pass certain time for example 30 sec , but because its blocking it always wait for it to complete"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671110034,"post_id":74811977,"comment_id":132030344,"body_markdown":"ahh .. I see, thanks for the clarification - though: why can a single line read take minutes? Broken connection, file disruption, ..?","body":"ahh .. I see, thanks for the clarification - though: why can a single line read take minutes? Broken connection, file disruption, ..?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1671110105,"post_id":74811977,"comment_id":132030370,"body_markdown":"What is the underlying i/o - socket?","body":"What is the underlying i/o - socket?"},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671110150,"post_id":74811977,"comment_id":132030389,"body_markdown":"no its process , i saw to socket solution but i cant use socket","body":"no its process , i saw to socket solution but i cant use socket"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671111074,"post_id":74811977,"comment_id":132030719,"body_markdown":"did you see https://stackoverflow.com/questions/72510274/terminate-a-stream-when-there-is-no-incoming-data-after-certain-timeout - maybe it has a grain of a solution for context also :)","body":"did you see <a href=\"https://stackoverflow.com/questions/72510274/terminate-a-stream-when-there-is-no-incoming-data-after-certain-timeout\" title=\"terminate a stream when there is no incoming data after certain timeout\">stackoverflow.com/questions/72510274/&hellip;</a> - maybe it has a grain of a solution for context also :)"},{"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"score":0,"creation_date":1671353855,"post_id":74811977,"comment_id":132078166,"body_markdown":"@kleopatra for example if the user input sleep 100000 then its waiting for that time , my impl is for executing unix command","body":"@kleopatra for example if the user input sleep 100000 then its waiting for that time , my impl is for executing unix command"}],"owner":{"account_id":17161130,"reputation":67,"user_id":12420753,"display_name":"itzik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671109402,"creation_date":1671109402,"question_id":74811977,"body_markdown":"I have a process which do read() that is blocking and I want to add timeout that interrupt the read operation.\r\nthis is what I tried to do but the timeout happened only after read is finished\r\n```private List&lt;String&gt; readOutput(InputStream inputStream , Long timeout , TimeUnit timeUnit) throws IOException {\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\tlong theRealTimeOfProcess , endTime ,timeOutMillis;\r\n\t\tString line;\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t\ttry (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\r\n\t\t\tif (Objects.isNull(timeUnit) || Objects.isNull(timeout)) {\r\n\t\t\t\treturn output.lines().collect(Collectors.toList());\r\n\t\t\t}\r\n\t\t\ttimeOutMillis = timeUnit.toMillis(timeout);\r\n\t\t\twhile (true) {\r\n\t\t\t\tline = output.readLine();\r\n\t\t\t\tendTime = System.currentTimeMillis();\r\n\t\t\t\ttheRealTimeOfProcess = endTime - startTime;\r\n\t\t\t\tif (timeOutMillis &lt;= theRealTimeOfProcess) {\r\n\t\t\t\t\tthrow new ShellTaskExecutionException(String.format(&quot;Task reached timeout %s %s&quot;, timeout, timeUnit));\r\n\t\t\t\t}\r\n\t\t\t\tif (Objects.isNull(line)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.add(line);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n```","title":"add timeout for blocking read() in process","body":"<p>I have a process which do read() that is blocking and I want to add timeout that interrupt the read operation.\nthis is what I tried to do but the timeout happened only after read is finished</p>\n<pre><code>        long startTime = System.currentTimeMillis();\n        long theRealTimeOfProcess , endTime ,timeOutMillis;\n        String line;\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        try (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\n            if (Objects.isNull(timeUnit) || Objects.isNull(timeout)) {\n                return output.lines().collect(Collectors.toList());\n            }\n            timeOutMillis = timeUnit.toMillis(timeout);\n            while (true) {\n                line = output.readLine();\n                endTime = System.currentTimeMillis();\n                theRealTimeOfProcess = endTime - startTime;\n                if (timeOutMillis &lt;= theRealTimeOfProcess) {\n                    throw new ShellTaskExecutionException(String.format(&quot;Task reached timeout %s %s&quot;, timeout, timeUnit));\n                }\n                if (Objects.isNull(line)) {\n                    break;\n                }\n                result.add(line);\n            }\n            return result;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","speech-recognition","text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":13771620,"reputation":18,"user_id":9938918,"display_name":"qeva zessica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586934833,"creation_date":1586934833,"answer_id":61223249,"question_id":61222354,"body_markdown":"Sharing data via Application class, or, you can save your data into a Bundle and \r\ncall\r\n```\r\nBundle b = new Bundle();\r\n       b.putExtra(&quot;data&quot;, {your data collection}); \r\nintent.putExtra(&quot;b&quot;, b);\r\nstartActivity(intent);\r\n``` \r\nthus you can retrieve you data back at here\r\n```\r\nprotected void onCreate(Bundle b) {\r\n    Intent dataIntent = getIntent();\r\n    if (dataIntent != null) {\r\n        Bundle b = dataIntent.getExtra(&quot;b&quot;);\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nhope this could give some help","title":"Sending Android speech recognition text to another activity","body":"<p>Sharing data via Application class, or, you can save your data into a Bundle and \ncall</p>\n\n<pre><code>Bundle b = new Bundle();\n       b.putExtra(\"data\", {your data collection}); \nintent.putExtra(\"b\", b);\nstartActivity(intent);\n</code></pre>\n\n<p>thus you can retrieve you data back at here</p>\n\n<pre><code>protected void onCreate(Bundle b) {\n    Intent dataIntent = getIntent();\n    if (dataIntent != null) {\n        Bundle b = dataIntent.getExtra(\"b\");\n        //...\n    }\n}\n</code></pre>\n\n<p>hope this could give some help</p>\n"}],"owner":{"account_id":16033187,"reputation":35,"user_id":11571537,"display_name":"onibaku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61223249,"answer_count":1,"score":0,"last_activity_date":1671109133,"creation_date":1586930976,"question_id":61222354,"body_markdown":"I&#39;m currently try to use speech recognition in my android app. Essentially, I have a main activity, a loading activity, and a text display activity. When the button in main activity is pressed the microphone is turned on and then it transitions to the loading activity where it shows a gif with bouncing dots indicated that you&#39;re speaking into the microphone. After a certain amount of silence it sends the text to the test display activity. Right now I set it up where my main activity has a button that when pressed will send you to the loading screen. I&#39;m assuming my code to activate speech recognition will go in main activity, but I&#39;m unsure how to send the collected data to my text display activity. If anything is unclear please let me know. My code for my activities are given below.\r\n\r\n\r\n\r\nMain activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().hide();\r\n\r\n        ImageButton button = (ImageButton) findViewById(R.id.imageButton2);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                    openLoading();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void openLoading(){\r\n        Intent intent = new Intent(this, Loading.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nLoading activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.speech.RecognizerIntent;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.Locale;\r\n\r\npublic class Loading extends AppCompatActivity {\r\nprivate ImageView gifImageView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_loading);\r\n        getSupportActionBar().hide();\r\n\r\n        gifImageView=findViewById(R.id.imageView2);\r\n\r\n        Glide.with(Loading.this)\r\n                .load(R.drawable.loading)\r\n                .into(gifImageView);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\ntext display activity\r\n```\r\npackage app.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\npublic class Tweet extends AppCompatActivity {\r\n    private TextView txtResult;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tweet);\r\n        txtResult = (TextView) findViewById(R.id.textView);\r\n    }\r\n\r\n}\r\n```","title":"Sending Android speech recognition text to another activity","body":"<p>I'm currently try to use speech recognition in my android app. Essentially, I have a main activity, a loading activity, and a text display activity. When the button in main activity is pressed the microphone is turned on and then it transitions to the loading activity where it shows a gif with bouncing dots indicated that you're speaking into the microphone. After a certain amount of silence it sends the text to the test display activity. Right now I set it up where my main activity has a button that when pressed will send you to the loading screen. I'm assuming my code to activate speech recognition will go in main activity, but I'm unsure how to send the collected data to my text display activity. If anything is unclear please let me know. My code for my activities are given below.</p>\n\n<p>Main activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n\n        ImageButton button = (ImageButton) findViewById(R.id.imageButton2);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                    openLoading();\n            }\n        });\n    }\n\n    public void openLoading(){\n        Intent intent = new Intent(this, Loading.class);\n        startActivity(intent);\n    }\n\n\n}\n\n</code></pre>\n\n<p>Loading activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.speech.RecognizerIntent;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.Locale;\n\npublic class Loading extends AppCompatActivity {\nprivate ImageView gifImageView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_loading);\n        getSupportActionBar().hide();\n\n        gifImageView=findViewById(R.id.imageView2);\n\n        Glide.with(Loading.this)\n                .load(R.drawable.loading)\n                .into(gifImageView);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n    }\n}\n\n</code></pre>\n\n<p>text display activity</p>\n\n<pre><code>package app.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\npublic class Tweet extends AppCompatActivity {\n    private TextView txtResult;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tweet);\n        txtResult = (TextView) findViewById(R.id.textView);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1671115670,"post_id":74811882,"comment_id":132032580,"body_markdown":"When using Tycho, dependencies are resolved by Tycho, not directly by Maven since Maven does not understand p2. The `maven-dependency-plugin` is for Maven dependencies, not for p2. It also does not make sense for Tycho, since you can get a p2 repository with all the JARs. Maybe [ecentral](https://github.com/jmini/ecentral) is what you want when you want to use the `maven-dependency-plugin`.","body":"When using Tycho, dependencies are resolved by Tycho, not directly by Maven since Maven does not understand p2. The <code>maven-dependency-plugin</code> is for Maven dependencies, not for p2. It also does not make sense for Tycho, since you can get a p2 repository with all the JARs. Maybe <a href=\"https://github.com/jmini/ecentral\" rel=\"nofollow noreferrer\">ecentral</a> is what you want when you want to use the <code>maven-dependency-plugin</code>."}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671108918,"creation_date":1671108918,"question_id":74811882,"body_markdown":"I want to add JARs to a plugin. Previously, I added them by hand but thought it would be a good idea to add them via dependency definitions.\r\n\r\nI created a `pom.xml` in the bundle and added an execution:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\t\t\t\t\t\t\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAs soon as I save the file the dependency JARs are all copied to the `lib` folder. So far so good...\r\n\r\nWhen I start a tycho build, such as `mvn install`, the build succeeds but the `lib` folder now contains a new folder `lib/myplugin-1.0.0.qualifier-lib` and this folder contains copies of all the JARs in `lib` but they all have the extension `.jar.jar`.\r\n\r\nIf I remove the `copy-dependencies` execution before starting the tycho build then this folder is not created.\r\n\r\nCan anyone explain why this is happening and what I should do to avoid this behaviour?","title":"why is &#39;dependency:copy-dependencies&#39; executed unexpectedly during tycho build?","body":"<p>I want to add JARs to a plugin. Previously, I added them by hand but thought it would be a good idea to add them via dependency definitions.</p>\n<p>I created a <code>pom.xml</code> in the bundle and added an execution:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.basedir}/lib&lt;/outputDirectory&gt;\n                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;                       \n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>As soon as I save the file the dependency JARs are all copied to the <code>lib</code> folder. So far so good...</p>\n<p>When I start a tycho build, such as <code>mvn install</code>, the build succeeds but the <code>lib</code> folder now contains a new folder <code>lib/myplugin-1.0.0.qualifier-lib</code> and this folder contains copies of all the JARs in <code>lib</code> but they all have the extension <code>.jar.jar</code>.</p>\n<p>If I remove the <code>copy-dependencies</code> execution before starting the tycho build then this folder is not created.</p>\n<p>Can anyone explain why this is happening and what I should do to avoid this behaviour?</p>\n"},{"tags":["java","jaxb","jax-ws","xstream","xml-binding"],"owner":{"account_id":12848901,"reputation":621,"user_id":9294422,"accept_rate":0,"display_name":"Jaraws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671108773,"creation_date":1671023304,"question_id":74798779,"body_markdown":"I have got an legacy application using Xstream for serialization/de-serialization of Java classes having property declared with interface type as shown in sample below:\r\n\r\n    interface Address{\r\n    // ...\r\n    }\r\n    class CurrentAddress implements Address{\r\n    // ...\r\n    }\r\n    \r\n    class PermanentAddress implements Address{\r\n    // ....\r\n    }\r\n    \r\n    @XmlRootElement\r\n    class Student{\r\n    \r\n     private Address address;\r\n    \r\n     @XmlElement(type = Object.class)\r\n     public getAddress(){\r\n      // ...\r\n     }\r\n    }\r\n\r\nWhile Xstream was getting used the xml was generated as:\r\n\r\n    &lt;student&gt;\r\n     &lt;address class=&quot;package.for.CurrentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\r\n    &lt;/student&gt;\r\n\r\nHowever, with above Java JaxB code our xml is generated as:\r\n\r\n    &lt;student&gt;\r\n         &lt;address xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;currentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\r\n        &lt;/student&gt;\r\n\r\nHow can I get an xml equivalent to what is being generated through XStream. I tried multiple ways but not getting a way of generating xml as generated using XStream.\r\n\r\nThank you !\r\n","title":"How to remove xsi:type information form an XML element generated via JaxB?","body":"<p>I have got an legacy application using Xstream for serialization/de-serialization of Java classes having property declared with interface type as shown in sample below:</p>\n<pre><code>interface Address{\n// ...\n}\nclass CurrentAddress implements Address{\n// ...\n}\n\nclass PermanentAddress implements Address{\n// ....\n}\n\n@XmlRootElement\nclass Student{\n\n private Address address;\n\n @XmlElement(type = Object.class)\n public getAddress(){\n  // ...\n }\n}\n</code></pre>\n<p>While Xstream was getting used the xml was generated as:</p>\n<pre><code>&lt;student&gt;\n &lt;address class=&quot;package.for.CurrentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\n&lt;/student&gt;\n</code></pre>\n<p>However, with above Java JaxB code our xml is generated as:</p>\n<pre><code>&lt;student&gt;\n     &lt;address xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;currentAddress&quot;&gt;24, North Avenue&lt;/address&gt;\n    &lt;/student&gt;\n</code></pre>\n<p>How can I get an xml equivalent to what is being generated through XStream. I tried multiple ways but not getting a way of generating xml as generated using XStream.</p>\n<p>Thank you !</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108299,"creation_date":1671107692,"answer_id":74811612,"question_id":74811463,"body_markdown":"You are setting an adapter every time you add the item to the list. Whenever you are adding a new item to the list, you&#39;ve to use `adapter.notifyItemInserted(position)`","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>You are setting an adapter every time you add the item to the list. Whenever you are adding a new item to the list, you've to use <code>adapter.notifyItemInserted(position)</code></p>\n"},{"tags":[],"owner":{"account_id":16668225,"reputation":187,"user_id":12046379,"display_name":"Sadakat Hussain Fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108754,"creation_date":1671108754,"answer_id":74811845,"question_id":74811463,"body_markdown":"Here&#39;s the activiy\r\n\r\n\r\n    public class PantallaLista extends AppCompatActivity {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\r\n    RecyclerView recyclerLista;\r\n    AdaptadorLista adapter;\r\n    \r\n    //int cont = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista);\r\n\r\n        // Seccion ArrayList Lista\r\n\r\n        componentesLista=new ArrayList&lt;&gt;();\r\n\r\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\r\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        adapter = new AdaptadorLista(componentesLista);\r\n        recyclerLista.setAdapter(adapter);\r\n        \r\n        // Botones\r\n\r\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\r\n        \r\n        nuevo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                llenarLista();\r\n            }\r\n        });\r\n        \r\n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\r\n\r\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void llenarLista () {\r\n\r\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\r\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\r\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\r\n\r\n        ComponentesLista tempData = new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString())\r\n        adapter.addNewItems(tempData);\r\n     \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nheres the adapter\r\n\r\n    public class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\r\n\r\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\r\n        this.listaComponentes = listaComponentes;\r\n    }\r\n\r\n    public addNewItems(ComponentesLista tempComponent){\r\n        this.listaComponentes.add(tempComponent);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\r\n        return new ViewHolderLista(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\r\n\r\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\r\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\r\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listaComponentes.size();\r\n    }\r\n\r\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\r\n\r\n        public ViewHolderLista(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\r\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\r\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\r\n        }\r\n    }\r\n}\r\n\r\nplease tell if you are not understanding something.","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>Here's the activiy</p>\n<pre><code>public class PantallaLista extends AppCompatActivity {\n\nArrayList&lt;ComponentesLista&gt; componentesLista;\nRecyclerView recyclerLista;\nAdaptadorLista adapter;\n\n//int cont = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lista);\n\n    // Seccion ArrayList Lista\n\n    componentesLista=new ArrayList&lt;&gt;();\n\n    recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\n    recyclerLista.setLayoutManager(new LinearLayoutManager(this));\n\n    adapter = new AdaptadorLista(componentesLista);\n    recyclerLista.setAdapter(adapter);\n    \n    // Botones\n\n    Button nuevo = (Button) findViewById(R.id.nuevoButton);\n    \n    nuevo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            llenarLista();\n        }\n    });\n    \n    Button guardarVolver = (Button) findViewById(R.id.terminarButton);\n\n    guardarVolver.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(PantallaLista.this, MainActivity.class);\n            startActivity(intent);\n        }\n    });\n}\n\nprivate void llenarLista () {\n\n    EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\n    EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\n    EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\n\n    ComponentesLista tempData = new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString())\n    adapter.addNewItems(tempData);\n \n}\n</code></pre>\n<p>}</p>\n<p>heres the adapter</p>\n<pre><code>public class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\n\nArrayList&lt;ComponentesLista&gt; listaComponentes;\n\npublic AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\n    this.listaComponentes = listaComponentes;\n}\n\npublic addNewItems(ComponentesLista tempComponent){\n    this.listaComponentes.add(tempComponent);\n    notifyDataSetChanged();\n}\n\n@NonNull\n@Override\npublic ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\n    return new ViewHolderLista(view);\n}\n\n@Override\npublic void onBindViewHolder(ViewHolderLista holder, int position) {\n\n    holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\n    holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\n    holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\n}\n\n@Override\npublic int getItemCount() {\n    return listaComponentes.size();\n}\n\npublic class ViewHolderLista extends RecyclerView.ViewHolder {\n\n    private TextView textViewCantidad, textViewDescripcion, textViewDinero;\n\n    public ViewHolderLista(@NonNull View itemView) {\n        super(itemView);\n        textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\n        textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\n        textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>please tell if you are not understanding something.</p>\n"}],"owner":{"account_id":27261476,"reputation":1,"user_id":20784244,"display_name":"Ka-BoomMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671108754,"creation_date":1671107000,"question_id":74811463,"body_markdown":"Been working on this code for a while and as im new to recyclerList I can&#39;t seem to figure out why the button works only once.\r\n\r\nHere is the adapter:\r\n\r\n\r\n```\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\r\n\r\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\r\n        this.listaComponentes = listaComponentes;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\r\n        return new ViewHolderLista(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\r\n\r\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\r\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\r\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listaComponentes.size();\r\n    }\r\n\r\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\r\n\r\n        public ViewHolderLista(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\r\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\r\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the object it works with:\r\n\r\n\r\n```\r\npublic class ComponentesLista {\r\n    private String descripcion;\r\n    private String cantidad;\r\n    private String dinero;\r\n\r\n    public ComponentesLista() {\r\n\r\n    }\r\n\r\n    public ComponentesLista(String descripcion, String cantidad, String dinero) {\r\n        this.descripcion = descripcion;\r\n        this.cantidad = cantidad;\r\n        this.dinero = dinero;\r\n    }\r\n\r\n    public String getDescripcion() {\r\n        return descripcion;\r\n    }\r\n\r\n    public void setDescripcion(String descripcion) {\r\n        this.descripcion = descripcion;\r\n    }\r\n\r\n    public String getCantidad() {\r\n        return cantidad;\r\n    }\r\n\r\n    public void setCantidad(String cantidad) {\r\n        this.cantidad = cantidad;\r\n    }\r\n\r\n    public String getDinero() {\r\n        return dinero;\r\n    }\r\n\r\n    public void setDinero(String dinero) {\r\n        this.dinero = dinero;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd here is the main method (It&#39;s not the main method, it&#39;s another screen I use after a button press but it shouldn&#39;t be the issue right?)\r\n\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class PantallaLista extends AppCompatActivity {\r\n\r\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\r\n    RecyclerView recyclerLista;\r\n    \r\n    //int cont = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista);\r\n\r\n        // Seccion ArrayList Lista\r\n\r\n        componentesLista=new ArrayList&lt;&gt;();\r\n\r\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\r\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        \r\n        // Botones\r\n\r\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\r\n        \r\n        nuevo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                llenarLista();\r\n            }\r\n        });\r\n        \r\n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\r\n\r\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void llenarLista () {\r\n\r\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\r\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\r\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\r\n\r\n\r\n        componentesLista.add(new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString()));\r\n\r\n        AdaptadorLista adapter = new AdaptadorLista(componentesLista);\r\n\r\n        recyclerLista.setAdapter(adapter);\r\n        \r\n        //System.out.println(textoGetDescripcion.getText().toString() + textoGetPrecio.getText().toString() + textoGetPrecio.getText().toString());\r\n    }\r\n\r\n}\r\n```\r\n","title":"Can&#39;t make the button add a new item on the RecyclerList, only works once","body":"<p>Been working on this code for a while and as im new to recyclerList I can't seem to figure out why the button works only once.</p>\n<p>Here is the adapter:</p>\n<pre><code>\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class AdaptadorLista extends RecyclerView.Adapter&lt;AdaptadorLista.ViewHolderLista&gt; {\n\n    ArrayList&lt;ComponentesLista&gt; listaComponentes;\n\n    public AdaptadorLista(ArrayList&lt;ComponentesLista&gt; listaComponentes) {\n        this.listaComponentes = listaComponentes;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolderLista onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list_lista, parent, false);\n        return new ViewHolderLista(view);\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolderLista holder, int position) {\n\n        holder.textViewDescripcion.setText(String.valueOf(listaComponentes.get(position).getDescripcion()));\n        holder.textViewDinero.setText(String.valueOf(listaComponentes.get(position).getDinero()));\n        holder.textViewCantidad.setText(String.valueOf(listaComponentes.get(position).getCantidad()));\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return listaComponentes.size();\n    }\n\n    public class ViewHolderLista extends RecyclerView.ViewHolder {\n\n        private TextView textViewCantidad, textViewDescripcion, textViewDinero;\n\n        public ViewHolderLista(@NonNull View itemView) {\n            super(itemView);\n            textViewCantidad= (TextView) itemView.findViewById(R.id.textMuestraCantidad);\n            textViewDescripcion = (TextView) itemView.findViewById(R.id.textMuestraDescripcion);\n            textViewDinero = (TextView) itemView.findViewById(R.id.textMuestraPrecio);\n        }\n    }\n}\n\n</code></pre>\n<p>Here is the object it works with:</p>\n<pre><code>public class ComponentesLista {\n    private String descripcion;\n    private String cantidad;\n    private String dinero;\n\n    public ComponentesLista() {\n\n    }\n\n    public ComponentesLista(String descripcion, String cantidad, String dinero) {\n        this.descripcion = descripcion;\n        this.cantidad = cantidad;\n        this.dinero = dinero;\n    }\n\n    public String getDescripcion() {\n        return descripcion;\n    }\n\n    public void setDescripcion(String descripcion) {\n        this.descripcion = descripcion;\n    }\n\n    public String getCantidad() {\n        return cantidad;\n    }\n\n    public void setCantidad(String cantidad) {\n        this.cantidad = cantidad;\n    }\n\n    public String getDinero() {\n        return dinero;\n    }\n\n    public void setDinero(String dinero) {\n        this.dinero = dinero;\n    }\n}\n</code></pre>\n<p>And here is the main method (It's not the main method, it's another screen I use after a button press but it shouldn't be the issue right?)</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class PantallaLista extends AppCompatActivity {\n\n    ArrayList&lt;ComponentesLista&gt; componentesLista;\n    RecyclerView recyclerLista;\n    \n    //int cont = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_lista);\n\n        // Seccion ArrayList Lista\n\n        componentesLista=new ArrayList&lt;&gt;();\n\n        recyclerLista= (RecyclerView) findViewById(R.id.recyclerViewLista);\n        recyclerLista.setLayoutManager(new LinearLayoutManager(this));\n\n        \n        // Botones\n\n        Button nuevo = (Button) findViewById(R.id.nuevoButton);\n        \n        nuevo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                llenarLista();\n            }\n        });\n        \n        Button guardarVolver = (Button) findViewById(R.id.terminarButton);\n\n        guardarVolver.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(PantallaLista.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    private void llenarLista () {\n\n        EditText textoGetDescripcion = (EditText) findViewById(R.id.textInputProducto);\n        EditText textoGetCantidad = (EditText) findViewById(R.id.textInputCantidad);\n        EditText textoGetPrecio = (EditText) findViewById(R.id.textInputPrecio);\n\n\n        componentesLista.add(new ComponentesLista(textoGetDescripcion.getText().toString(), textoGetPrecio.getText().toString(), textoGetCantidad.getText().toString()));\n\n        AdaptadorLista adapter = new AdaptadorLista(componentesLista);\n\n        recyclerLista.setAdapter(adapter);\n        \n        //System.out.println(textoGetDescripcion.getText().toString() + textoGetPrecio.getText().toString() + textoGetPrecio.getText().toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","asynchronous","java-8","completable-future"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1671050625,"post_id":74799047,"comment_id":132016551,"body_markdown":"Not that I know of, but you can simulate them using the inherited [Future.get(long, TimeUnit)](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Future.html#get(long,java.util.concurrent.TimeUnit)) method.","body":"Not that I know of, but you can simulate them using the inherited <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Future.html#get(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Future.get(long, TimeUnit)</a> method."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671109088,"post_id":74799047,"comment_id":132029994,"body_markdown":"@VGR the `get` method forces the caller to *wait* up to the specified time for the completion. In contrast, the methods mentioned in the question will *complete the future* with the alternative result (value or `TimeoutException`) after the elapsed time, *without actually waiting*. In other words, these methods do entirely different things.","body":"@VGR the <code>get</code> method forces the caller to <i>wait</i> up to the specified time for the completion. In contrast, the methods mentioned in the question will <i>complete the future</i> with the alternative result (value or <code>TimeoutException</code>) after the elapsed time, <i>without actually waiting</i>. In other words, these methods do entirely different things."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1671113192,"post_id":74799047,"comment_id":132031624,"body_markdown":"@Holger Correct.  Its not a drop-in replacement, but you can use it to write your own equivalent of the Java 9+ timeout methods.","body":"@Holger Correct.  Its not a drop-in replacement, but you can use it to write your own equivalent of the Java 9+ timeout methods."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671057893,"creation_date":1671057893,"answer_id":74804962,"question_id":74799047,"body_markdown":"You can use `ExecutorService` and then `Future#get(long, TimeUnit)`. They are available as of Java 1.5 (the 5th version) if I am not mistaken.\r\n\r\n```java\r\nfinal ExecutorService executorService = Executors.newSingleThreadExecutor();\r\nfinal Future&lt;String&gt; future = executorService.submit(() -&gt; {\r\n\tThread.sleep(1000L);\r\n\treturn &quot;Success&quot;;\r\n});\r\n\r\ntry {\r\n\tfinal String result = future.get(1500L, TimeUnit.MILLISECONDS);\r\n\tSystem.out.println(result);\r\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n\tSystem.out.println(&quot;Error&quot;);\r\n} finally {\r\n\texecutorService.shutdown();\r\n}\r\n```","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>You can use <code>ExecutorService</code> and then <code>Future#get(long, TimeUnit)</code>. They are available as of Java 1.5 (the 5th version) if I am not mistaken.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ExecutorService executorService = Executors.newSingleThreadExecutor();\nfinal Future&lt;String&gt; future = executorService.submit(() -&gt; {\n    Thread.sleep(1000L);\n    return &quot;Success&quot;;\n});\n\ntry {\n    final String result = future.get(1500L, TimeUnit.MILLISECONDS);\n    System.out.println(result);\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\n    System.out.println(&quot;Error&quot;);\n} finally {\n    executorService.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671108701,"creation_date":1671108701,"answer_id":74811833,"question_id":74799047,"body_markdown":"There is no magic in the methods `completeOnTimeout` and `orTimeout`. When you have something like\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\r\n    return &quot;ordinary value&quot;;\r\n});\r\ncf.completeOnTimeout(&quot;timeout value&quot;, 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nyou can do the same in Java&#160;8 with\r\n```java\r\nstatic final ScheduledExecutorService TIMEOUT_SCHEDULER\r\n                                      = Executors.newScheduledThreadPool(0);\r\n```\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\r\n    return &quot;ordinary value&quot;;\r\n});\r\nTIMEOUT_SCHEDULER.schedule(()-&gt;cf.complete(&quot;timeout value&quot;), 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nTo be closer to what Java&#160;9s `CompletableFuture` does internally, e.g. use daemon threads, keep at least one thread alive, and having cleanup for cases where the future is completed ordinarily earlier than the timeout, you may use a helper class like\r\n\r\n```java\r\npublic final class TimeoutSupport {\r\n    private static final ScheduledExecutorService TIMEOUT_SCHEDULER;\r\n    static {\r\n        ScheduledThreadPoolExecutor e = new ScheduledThreadPoolExecutor(1, r -&gt; {\r\n            Thread t = new Thread(r);\r\n            t.setDaemon(true);\r\n            return t;\r\n        });\r\n        e.setRemoveOnCancelPolicy(true);\r\n        TIMEOUT_SCHEDULER = e;\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; orTimeout(\r\n        CompletableFuture&lt;T&gt; cf, long timeout, TimeUnit unit) {\r\n        return withTimeout(cf,\r\n            ()-&gt;cf.completeExceptionally(new TimeoutException()), timeout, unit);\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeOnTimeout(\r\n        CompletableFuture&lt;T&gt; cf, T value, long timeout, TimeUnit unit) {\r\n\r\n        return withTimeout(cf, () -&gt; cf.complete(value), timeout, unit);\r\n    }\r\n\r\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; withTimeout(\r\n        CompletableFuture&lt;T&gt; cf, Runnable action, long timeout, TimeUnit unit) {\r\n\r\n        Future&lt;?&gt; f = TIMEOUT_SCHEDULER.schedule(action, timeout, unit);\r\n        cf.whenComplete((o, t) -&gt; f.cancel(false));\r\n        return cf;\r\n    }\r\n\r\n    private TimeoutSupport() {}\r\n}\r\n```\r\n\r\nto be used like\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\r\n    return &quot;ordinary value&quot;;\r\n});\r\nTimeoutSupport.completeOnTimeout(cf, &quot;timeout value&quot;, 10, TimeUnit.SECONDS);\r\n\r\ncf.thenAccept(System.out::println).join();\r\n```\r\n\r\nor in a fluent style\r\n\r\n```java\r\nTimeoutSupport.completeOnTimeout(\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\r\n        return &quot;ordinary value&quot;;\r\n    }), &quot;timeout value&quot;, 10, TimeUnit.SECONDS)\r\n.thenAccept(System.out::println).join();\r\n```\r\n\r\nthough not as neat as just chaining, like with Java&#160;9s methods.\r\n\r\nThe `orTimeout` method works similar.\r\n","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>There is no magic in the methods <code>completeOnTimeout</code> and <code>orTimeout</code>. When you have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\n    return &quot;ordinary value&quot;;\n});\ncf.completeOnTimeout(&quot;timeout value&quot;, 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>you can do the same in Java8 with</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final ScheduledExecutorService TIMEOUT_SCHEDULER\n                                      = Executors.newScheduledThreadPool(0);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.MINUTES.toNanos(1));\n    return &quot;ordinary value&quot;;\n});\nTIMEOUT_SCHEDULER.schedule(()-&gt;cf.complete(&quot;timeout value&quot;), 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>To be closer to what Java9s <code>CompletableFuture</code> does internally, e.g. use daemon threads, keep at least one thread alive, and having cleanup for cases where the future is completed ordinarily earlier than the timeout, you may use a helper class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class TimeoutSupport {\n    private static final ScheduledExecutorService TIMEOUT_SCHEDULER;\n    static {\n        ScheduledThreadPoolExecutor e = new ScheduledThreadPoolExecutor(1, r -&gt; {\n            Thread t = new Thread(r);\n            t.setDaemon(true);\n            return t;\n        });\n        e.setRemoveOnCancelPolicy(true);\n        TIMEOUT_SCHEDULER = e;\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; orTimeout(\n        CompletableFuture&lt;T&gt; cf, long timeout, TimeUnit unit) {\n        return withTimeout(cf,\n            ()-&gt;cf.completeExceptionally(new TimeoutException()), timeout, unit);\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; completeOnTimeout(\n        CompletableFuture&lt;T&gt; cf, T value, long timeout, TimeUnit unit) {\n\n        return withTimeout(cf, () -&gt; cf.complete(value), timeout, unit);\n    }\n\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; withTimeout(\n        CompletableFuture&lt;T&gt; cf, Runnable action, long timeout, TimeUnit unit) {\n\n        Future&lt;?&gt; f = TIMEOUT_SCHEDULER.schedule(action, timeout, unit);\n        cf.whenComplete((o, t) -&gt; f.cancel(false));\n        return cf;\n    }\n\n    private TimeoutSupport() {}\n}\n</code></pre>\n<p>to be used like</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\n    return &quot;ordinary value&quot;;\n});\nTimeoutSupport.completeOnTimeout(cf, &quot;timeout value&quot;, 10, TimeUnit.SECONDS);\n\ncf.thenAccept(System.out::println).join();\n</code></pre>\n<p>or in a fluent style</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeoutSupport.completeOnTimeout(\n    CompletableFuture.supplyAsync(() -&gt; {\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(20));\n        return &quot;ordinary value&quot;;\n    }), &quot;timeout value&quot;, 10, TimeUnit.SECONDS)\n.thenAccept(System.out::println).join();\n</code></pre>\n<p>though not as neat as just chaining, like with Java9s methods.</p>\n<p>The <code>orTimeout</code> method works similar.</p>\n"}],"owner":{"account_id":21497056,"reputation":53,"user_id":15841915,"display_name":"AP_22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74811833,"answer_count":2,"score":1,"last_activity_date":1671108701,"creation_date":1671024731,"question_id":74799047,"body_markdown":"I want a way to handle timeouts(custom value) for completable futures where we can assign a default value to the future object if there is a timeout. I know there are a couple of methods to handle it in Java 9 and above.\r\n\r\nBut is there any alternative to Java 9 CompletableFuture methods similar to \r\n```\r\npublic CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,                                                   TimeUnit unit)\r\nOR\r\npublic CompletableFuture&lt;T&gt; orTimeout(long timeout, TimeUnit unit)\r\n```","title":"Do we have alternative to Java 9 CompletableFuture methods to handle timeouts?","body":"<p>I want a way to handle timeouts(custom value) for completable futures where we can assign a default value to the future object if there is a timeout. I know there are a couple of methods to handle it in Java 9 and above.</p>\n<p>But is there any alternative to Java 9 CompletableFuture methods similar to</p>\n<pre><code>public CompletableFuture&lt;T&gt; completeOnTimeout(T value, long timeout,                                                   TimeUnit unit)\nOR\npublic CompletableFuture&lt;T&gt; orTimeout(long timeout, TimeUnit unit)\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":24502054,"reputation":21,"user_id":18417541,"display_name":"Sardor Shorahimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671108356,"creation_date":1671108356,"answer_id":74811756,"question_id":74811112,"body_markdown":"Name of table and column should be in lower case.\r\n\r\nExample:\r\n1.  ```TODO``` --&gt; ```todo```\r\n2.  ```START_DATE``` --&gt; ```start_date```","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL","body":"<p>Name of table and column should be in lower case.</p>\n<p>Example:</p>\n<ol>\n<li><code>TODO</code> --&gt; <code>todo</code></li>\n<li><code>START_DATE</code> --&gt; <code>start_date</code></li>\n</ol>\n"}],"owner":{"account_id":26546124,"reputation":11,"user_id":20770273,"display_name":"Dmytro Sydoruk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671108356,"creation_date":1671105285,"question_id":74811112,"body_markdown":"**I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don&#39;t know what.\r\nWhen i save &quot;User&quot; in my database it&#39;s good, but when i try to save class &quot;Todo&quot; my program throws exception:**\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table TODO \r\n       drop \r\n       foreign key FK3m52pf8uh22v3rgas56hrny9v&quot; via JDBC Statement\r\n\t\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\r\n\t\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n\t\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\t\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n\t\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336)\r\n\t\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:699)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:713)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:588)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n\t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\r\n\t\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4907)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5214)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n\t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1873)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\r\n\t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\t\tat java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\r\n\t\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\t\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\t\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\t\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\t\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\n\r\n[Other exceptions](https://i.stack.imgur.com/WNVzx.png)\r\n\r\n**I don&#39;t know why it doesn&#39;t work, Hibernate create all tables and i can create new rows.\r\n\r\nI use CrudRepository, my class &#39;Todo&#39;:**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TODO&quot;)\r\npublic class Todo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;, unique = true)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;COMMENT&quot;)\r\n    private String comment;\r\n\r\n    @Column(name = &quot;START_DATE&quot;)\r\n    private Date startDate;\r\n\r\n    @Column(name = &quot;END_DATE&quot;)\r\n    private Date endDate;\r\n\r\n    @Column(name = &quot;IMPORTANT&quot;)\r\n    private Boolean important;\r\n\r\n    @Column(name = &quot;PRIORITY&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Priority priority;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;TODO_TAG&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;TODO_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;TAG_ID&quot;, referencedColumnName = &quot;ID&quot;))\r\n    private Set&lt;Tag&gt; tagList = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;USER_ID&quot;, nullable = false)\r\n    private User user;\r\n```\r\n**config.xml:**\r\n\r\n```\r\n&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;jpaProperties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.generate-ddl&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;sydoruk.domain&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;jpa:repositories base-package=&quot;sydoruk.repositories&quot;\r\n                  entity-manager-factory-ref=&quot;entityManagerFactory&quot;\r\n                  transaction-manager-ref=&quot;transactionManager&quot; /&gt;\r\n```\r\n\r\nWhen i tried to create request in postman:\r\n[Add ToDo](https://i.stack.imgur.com/1gyV4.png)\r\n\r\nBut when i tried to create User:\r\n[Add User](https://i.stack.imgur.com/4ALEg.png)\r\n\r\nI&#39;ve been trying to change MySQL dialect, when i use MySQLDialect, Hibernate create weird foreign key: foreign key FKo333p0iofefya2l1xhyccobat&quot; via JDBC Statement, my RestController class is correct\r\n\r\n[GitHub: ](https://github.com/HosakooD/ToDoList)","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL","body":"<p><strong>I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don't know what.\nWhen i save &quot;User&quot; in my database it's good, but when i try to save class &quot;Todo&quot; my program throws exception:</strong></p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table TODO \n       drop \n       foreign key FK3m52pf8uh22v3rgas56hrny9v&quot; via JDBC Statement\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)\n        at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n        at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336)\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:699)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:713)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:588)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4907)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5214)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n        at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1873)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:376)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WNVzx.png\" rel=\"nofollow noreferrer\">Other exceptions</a></p>\n<p>**I don't know why it doesn't work, Hibernate create all tables and i can create new rows.</p>\n<p>I use CrudRepository, my class 'Todo':**</p>\n<pre><code>@Entity\n@Table(name = &quot;TODO&quot;)\npublic class Todo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;, unique = true)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;COMMENT&quot;)\n    private String comment;\n\n    @Column(name = &quot;START_DATE&quot;)\n    private Date startDate;\n\n    @Column(name = &quot;END_DATE&quot;)\n    private Date endDate;\n\n    @Column(name = &quot;IMPORTANT&quot;)\n    private Boolean important;\n\n    @Column(name = &quot;PRIORITY&quot;)\n    @Enumerated(EnumType.STRING)\n    private Priority priority;\n\n    @ManyToMany\n    @JoinTable(name = &quot;TODO_TAG&quot;,\n            joinColumns = @JoinColumn(name = &quot;TODO_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;TAG_ID&quot;, referencedColumnName = &quot;ID&quot;))\n    private Set&lt;Tag&gt; tagList = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;USER_ID&quot;, nullable = false)\n    private User user;\n</code></pre>\n<p><strong>config.xml:</strong></p>\n<pre><code>&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.generate-ddl&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;sydoruk.domain&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;jpa:repositories base-package=&quot;sydoruk.repositories&quot;\n                  entity-manager-factory-ref=&quot;entityManagerFactory&quot;\n                  transaction-manager-ref=&quot;transactionManager&quot; /&gt;\n</code></pre>\n<p>When i tried to create request in postman:\n<a href=\"https://i.stack.imgur.com/1gyV4.png\" rel=\"nofollow noreferrer\">Add ToDo</a></p>\n<p>But when i tried to create User:\n<a href=\"https://i.stack.imgur.com/4ALEg.png\" rel=\"nofollow noreferrer\">Add User</a></p>\n<p>I've been trying to change MySQL dialect, when i use MySQLDialect, Hibernate create weird foreign key: foreign key FKo333p0iofefya2l1xhyccobat&quot; via JDBC Statement, my RestController class is correct</p>\n<p><a href=\"https://github.com/HosakooD/ToDoList\" rel=\"nofollow noreferrer\">GitHub: </a></p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671108147,"creation_date":1671108147,"answer_id":74811709,"question_id":74809690,"body_markdown":"Despite your method logic runs in parallel all your threads still use the same instance of your test class. Hence they share the same instance of your `driver` field.\r\n\r\nThis leads to the case when the `setUp()` executed &quot;after&quot; overwrites the value set by `setUp` that has been executed &quot;before&quot;..\r\n\r\nSo to overcome this you need to introduce `ThreadLocal` variable. Instead of `public WebDriver driver;` you would have `ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();`\r\n\r\nNow instead of `driver = new FirefoxDriver();` you would have `driver.set( new FirefoxDriver());`\r\n\r\nAfter you have set that driver to `ThreadLocal`, wherever you obtain its value you have to do `driver.get()`. For example:\r\n\r\n```java\r\n  driver.get().manage().deleteAllCookies();\r\n  driver.get().manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \r\n  driver.get().get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n``` ","title":"How to solve the error of data provider if only one browser is taking the complete input data?","body":"<p>Despite your method logic runs in parallel all your threads still use the same instance of your test class. Hence they share the same instance of your <code>driver</code> field.</p>\n<p>This leads to the case when the <code>setUp()</code> executed &quot;after&quot; overwrites the value set by <code>setUp</code> that has been executed &quot;before&quot;..</p>\n<p>So to overcome this you need to introduce <code>ThreadLocal</code> variable. Instead of <code>public WebDriver driver;</code> you would have <code>ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();</code></p>\n<p>Now instead of <code>driver = new FirefoxDriver();</code> you would have <code>driver.set( new FirefoxDriver());</code></p>\n<p>After you have set that driver to <code>ThreadLocal</code>, wherever you obtain its value you have to do <code>driver.get()</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  driver.get().manage().deleteAllCookies();\n  driver.get().manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \n  driver.get().get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n</code></pre>\n"}],"owner":{"account_id":27260134,"reputation":3,"user_id":20783087,"display_name":"k chary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74811709,"answer_count":1,"score":0,"last_activity_date":1671108147,"creation_date":1671098126,"question_id":74809690,"body_markdown":"I&#39;m trying to achieve parallel execution through data provider, but unable to do it. can someone help me with this.  \r\nThe error is two browsers are opening but the data is going to only one browser.\r\n\r\nHere, is my program code:\r\n\r\n\r\n```\r\npackage PracticePrograms;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.BeforeMethod;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\npublic class DataProviderSample1{\r\n\t\r\n\tpublic WebDriver driver;\r\n\t\r\n\t@BeforeMethod\r\n\tpublic void setUp() throws InterruptedException {\r\n\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\tdriver = new FirefoxDriver();\t\t\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(6));\t\r\n\t\tdriver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\r\n\t}\r\n\t\r\n\t@Test(dataProvider = &quot;inputData&quot;)\r\n\tpublic void testLogin(String UserName, String Password ) throws InterruptedException {\r\n\t\r\n\t\tdriver.findElement(By.name(&quot;username&quot;)).sendKeys(UserName);\r\n\t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(Password);\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;)).click();\r\n\t}\r\n\t\r\n\t@DataProvider(name = &quot;inputData&quot;, parallel = true)\r\n\tpublic static Object[][] loginData() {\r\n\t\tObject[][] data = new Object[2][2];\r\n\t\tdata[0][0] = &quot;Admin&quot;;\r\n\t\tdata[0][1] = &quot;admin123&quot;;\r\n\r\n\t\tdata[1][0] = &quot;admin&quot;;\r\n\t\tdata[1][1] = &quot;admin123&quot;;\r\n\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\t @AfterMethod\r\n\t    public void tear_down() throws InterruptedException {\r\n           driver.quit();\t         \r\n\t    }  \r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI appreciate u r help on this.","title":"How to solve the error of data provider if only one browser is taking the complete input data?","body":"<p>I'm trying to achieve parallel execution through data provider, but unable to do it. can someone help me with this.<br />\nThe error is two browsers are opening but the data is going to only one browser.</p>\n<p>Here, is my program code:</p>\n<pre><code>package PracticePrograms;\n\nimport java.time.Duration;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class DataProviderSample1{\n    \n    public WebDriver driver;\n    \n    @BeforeMethod\n    public void setUp() throws InterruptedException {\n\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();       \n        driver.manage().deleteAllCookies();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(6));   \n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n\n    }\n    \n    @Test(dataProvider = &quot;inputData&quot;)\n    public void testLogin(String UserName, String Password ) throws InterruptedException {\n    \n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(UserName);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(Password);\n        driver.findElement(By.xpath(&quot;//button[@type='submit']&quot;)).click();\n    }\n    \n    @DataProvider(name = &quot;inputData&quot;, parallel = true)\n    public static Object[][] loginData() {\n        Object[][] data = new Object[2][2];\n        data[0][0] = &quot;Admin&quot;;\n        data[0][1] = &quot;admin123&quot;;\n\n        data[1][0] = &quot;admin&quot;;\n        data[1][1] = &quot;admin123&quot;;\n\n        return data;\n    }\n    \n     @AfterMethod\n        public void tear_down() throws InterruptedException {\n           driver.quit();            \n        }  \n\n}\n\n</code></pre>\n<p>I appreciate u r help on this.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671108061,"post_id":74811230,"comment_id":132029615,"body_markdown":"I would say it is a duplicate from https://stackoverflow.com/questions/33289695/inetaddress-getlocalhost-slow-to-run-30-seconds. Instead of doing the lookup over and over, I would suggest doing the lookup once (at startup) and reuse. That will save the continuous lookup and increase performance.","body":"I would say it is a duplicate from <a href=\"https://stackoverflow.com/questions/33289695/inetaddress-getlocalhost-slow-to-run-30-seconds\" title=\"inetaddress getlocalhost slow to run 30 seconds\">stackoverflow.com/questions/33289695/&hellip;</a>. Instead of doing the lookup over and over, I would suggest doing the lookup once (at startup) and reuse. That will save the continuous lookup and increase performance."}],"answers":[{"tags":[],"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671107905,"creation_date":1671107905,"answer_id":74811654,"question_id":74811230,"body_markdown":"That surprises me. I can only guess it&#39;s related to the fact that [`getLocalHost()`][1] does a DNS name lookup to get the IP address. You could try\r\n\r\n    httpServletRequest.getLocalAddr()\r\n\r\ninstead, if that would that give you the same IP in your use case.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getLocalHost()","title":"Threads getting locked due to InetAddress.getLocalHost()","body":"<p>That surprises me. I can only guess it's related to the fact that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getLocalHost()\" rel=\"nofollow noreferrer\"><code>getLocalHost()</code></a> does a DNS name lookup to get the IP address. You could try</p>\n<pre><code>httpServletRequest.getLocalAddr()\n</code></pre>\n<p>instead, if that would that give you the same IP in your use case.</p>\n"}],"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671107905,"creation_date":1671105827,"question_id":74811230,"body_markdown":"I am using this in a logging filter in a SpringBoot application, almost all the main threads are going in lock state due to **InetAddress.getLocalHost()**. What could be the possible reason and how can I fix this?\r\n\r\n```\r\nprivate void populateMandatoryDetailsFromRequest(final HttpServletRequest httpServletRequest)\r\n        throws UnknownHostException {\r\n    ThreadContext.put(CO_HOST_ADDRESS.value(), InetAddress.getLocalHost().getHostAddress());\r\n    ThreadContext.put(CO_REQUEST_URI.value(), httpServletRequest.getRequestURI());\r\n}\r\n```","title":"Threads getting locked due to InetAddress.getLocalHost()","body":"<p>I am using this in a logging filter in a SpringBoot application, almost all the main threads are going in lock state due to <strong>InetAddress.getLocalHost()</strong>. What could be the possible reason and how can I fix this?</p>\n<pre><code>private void populateMandatoryDetailsFromRequest(final HttpServletRequest httpServletRequest)\n        throws UnknownHostException {\n    ThreadContext.put(CO_HOST_ADDRESS.value(), InetAddress.getLocalHost().getHostAddress());\n    ThreadContext.put(CO_REQUEST_URI.value(), httpServletRequest.getRequestURI());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-dgs"],"owner":{"account_id":15627192,"reputation":23,"user_id":11274511,"display_name":"Shubhankar kotnala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671107652,"creation_date":1671107652,"question_id":74811604,"body_markdown":"I&#39;m using [Netflix DGS library](https://netflix.github.io/dgs/) in SpringBoot, and I have a parent query that whose schema is something like, \r\n```json\r\ntype Parent @connection {\r\n    attr1\r\n    attr2\r\n    ...\r\n    child1: Child\r\n}\r\n\r\ntype Child {\r\n    childAttr1\r\n    childAttr2\r\n```\r\n\r\n\r\nHere for a graphql query to fetch first 10 records for Parent, I&#39;m using [Data Loader](https://netflix.github.io/dgs/data-loaders/) to load all the Child data at once for all the 10 Parents using. \r\n\r\nCurrently bulk fetch for Child returns a List&lt;Child&gt; which may or may not contain values for every Parent object. I want to add a error block which can be attached to the request to notify which Parent object didn&#39;t had Child. \r\n\r\nSince the Data Loader returns a CompletableFuture, I am not able to interrupt the flow and throw an exception if data is null. \r\n\r\nIs there some solution to this problem, or any other way with which it can be handled?\r\n\r\n\r\nThanks!","title":"Netflix DGS: Throw Exception if DataLoader fails to received data for all objects","body":"<p>I'm using <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">Netflix DGS library</a> in SpringBoot, and I have a parent query that whose schema is something like,</p>\n<pre class=\"lang-json prettyprint-override\"><code>type Parent @connection {\n    attr1\n    attr2\n    ...\n    child1: Child\n}\n\ntype Child {\n    childAttr1\n    childAttr2\n</code></pre>\n<p>Here for a graphql query to fetch first 10 records for Parent, I'm using <a href=\"https://netflix.github.io/dgs/data-loaders/\" rel=\"nofollow noreferrer\">Data Loader</a> to load all the Child data at once for all the 10 Parents using.</p>\n<p>Currently bulk fetch for Child returns a List which may or may not contain values for every Parent object. I want to add a error block which can be attached to the request to notify which Parent object didn't had Child.</p>\n<p>Since the Data Loader returns a CompletableFuture, I am not able to interrupt the flow and throw an exception if data is null.</p>\n<p>Is there some solution to this problem, or any other way with which it can be handled?</p>\n<p>Thanks!</p>\n"},{"tags":["java","performance","reflection","lambda"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1524240291,"post_id":49945423,"comment_id":86907710,"body_markdown":"You should use JMH for these kinds of microbenchmarks.","body":"You should use JMH for these kinds of microbenchmarks."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1524241447,"post_id":49945423,"comment_id":86908349,"body_markdown":"Most likely the JIT is getting confused by your benchmark and not optimising it properly.  I suggest placing each test in it&#39;s own method to avoid a poor optimisation when the method is compiled (or use JMH which does this)","body":"Most likely the JIT is getting confused by your benchmark and not optimising it properly.  I suggest placing each test in it&#39;s own method to avoid a poor optimisation when the method is compiled (or use JMH which does this)"},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1524292758,"post_id":49945423,"comment_id":86922692,"body_markdown":"I reduced the test to just the Lambda get. Next, if I run test the test with the same Lambda object (created in Main) across all runs then performance is stable. Otherwise it decreases to some value. Guess this prevents the poor optimization; but I am still guessing why.","body":"I reduced the test to just the Lambda get. Next, if I run test the test with the same Lambda object (created in Main) across all runs then performance is stable. Otherwise it decreases to some value. Guess this prevents the poor optimization; but I am still guessing why."},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526160858,"post_id":49945423,"comment_id":87637756,"body_markdown":"I am still puzzling about the performance of reflection using the LambdaMetafactory. I have slightly updated the example above to run as a self-contained test that I can invoke at any point in my application. Performance is as expected (direct vs lambda) whenI use it on just a single class, but drops as soon as I do the lambda getter for another Java class. I wonder if code size or other factors are in play that influence (negatively) performance.","body":"I am still puzzling about the performance of reflection using the LambdaMetafactory. I have slightly updated the example above to run as a self-contained test that I can invoke at any point in my application. Performance is as expected (direct vs lambda) whenI use it on just a single class, but drops as soon as I do the lambda getter for another Java class. I wonder if code size or other factors are in play that influence (negatively) performance."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1526164089,"post_id":49945423,"comment_id":87638562,"body_markdown":"Please see: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Please see: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526173255,"post_id":49945423,"comment_id":87639994,"body_markdown":"Ok -- I have added a warmup period for every test. For the getter test on the Person1 and Person2 classes results are as expected (Direct/Lambda are comparable in performance). However, I still see performance collapse with a factor of 10 once I do the getter test on the third class named Person3. If there is space somewhere I can drop the code for anyone to try out too.","body":"Ok -- I have added a warmup period for every test. For the getter test on the Person1 and Person2 classes results are as expected (Direct/Lambda are comparable in performance). However, I still see performance collapse with a factor of 10 once I do the getter test on the third class named Person3. If there is space somewhere I can drop the code for anyone to try out too."},{"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"score":0,"creation_date":1526251499,"post_id":49945423,"comment_id":87658400,"body_markdown":"I have restated the question in https://stackoverflow.com/questions/50321114/java-reflection-performance-alternatives, since the test program has changed and I would not want to update the text here.","body":"I have restated the question in <a href=\"https://stackoverflow.com/questions/50321114/java-reflection-performance-alternatives\" title=\"java reflection performance alternatives\">stackoverflow.com/questions/50321114/&hellip;</a>, since the test program has changed and I would not want to update the text here."}],"owner":{"account_id":7569436,"reputation":165,"user_id":5743848,"accept_rate":0,"display_name":"bergtwvd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671107621,"creation_date":1524239305,"question_id":49945423,"body_markdown":"I have constructed a simple test to measure the performance of class reflection with the Java LambdaMetafactory. According to various posts reflection using LambdaMetafactory is as fast as directly calling getters. This seems true initially, but after a while performance degrades.\r\n\r\nOne of the test shows (this seems general trend):\r\n\r\nInitially:\r\n\r\n    GET - REFLECTION: Runtime=2.841seconds\r\n    GET - DIRECT:     Runtime=0.358seconds\r\n    GET - LAMBDA:     Runtime=0.362seconds\r\n    SET - REFLECTION: Runtime=3.86seconds\r\n    SET - DIRECT:     Runtime=0.507seconds\r\n    SET - LAMBDA:     Runtime=0.455seconds\r\n\r\nFinally:\r\n\r\n    GET - REFLECTION: Runtime=2.904seconds\r\n    GET - DIRECT:     Runtime=0.501seconds\r\n    GET - LAMBDA:     Runtime=5.299seconds\r\n    SET - REFLECTION: Runtime=4.62seconds\r\n    SET - DIRECT:     Runtime=1.723seconds\r\n    SET - LAMBDA:     Runtime=5.149seconds\r\n\r\nCode follows below.\r\n\r\nQuestions:\r\n\r\n - Why?\r\n\r\n - How can this be made more performant with the LambdaMetafactory?\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, Throwable {\r\n    \t\tint runs = 5;\r\n    \r\n    \t\tfor (int i = 0; i &lt; runs; i++) {\r\n    \t\t\tSystem.out.println(&quot;***** RUN &quot; + i);\r\n    \r\n    \t\t\tLambda lam = new Lambda();\r\n    \t\t\tlam.initGetter(Person.class, &quot;getName&quot;);\r\n    \t\t\tlam.initSetter(Person.class, &quot;setSalary&quot;, double.class);\r\n    \r\n    \t\t\tTest test = new Test();\r\n    \t\t\ttest.doTest(lam);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    import java.lang.invoke.CallSite;\r\n    import java.lang.invoke.LambdaMetafactory;\r\n    import java.lang.invoke.MethodHandle;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.invoke.MethodType;\r\n    import java.lang.reflect.Method;\r\n    import java.util.function.BiConsumer;\r\n    import java.util.function.Function;\r\n    \r\n    public final class Lambda {\r\n    \r\n    \t//https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html\r\n    \t//https://bytex.solutions/2017/07/java-lambdas/\r\n    \t//https://stackoverflow.com/questions/27602758/java-access-bean-methods-with-lambdametafactory\r\n    \tprivate Function getterFunction;\r\n    \tprivate BiConsumer setterFunction;\r\n    \r\n    \tprivate Function createGetter(final MethodHandles.Lookup lookup,\r\n    \t\t\tfinal MethodHandle getter) throws Exception {\r\n    \t\tfinal CallSite site = LambdaMetafactory.metafactory(lookup, &quot;apply&quot;,\r\n    \t\t\t\tMethodType.methodType(Function.class),\r\n    \t\t\t\tMethodType.methodType(Object.class, Object.class), //signature of method Function.apply after type erasure\r\n    \t\t\t\tgetter,\r\n    \t\t\t\tgetter.type()); //actual signature of getter\r\n    \t\ttry {\r\n    \t\t\treturn (Function) site.getTarget().invokeExact();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tthrow e;\r\n    \t\t} catch (final Throwable e) {\r\n    \t\t\tthrow new Exception(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate BiConsumer createSetter(final MethodHandles.Lookup lookup,\r\n    \t\t\tfinal MethodHandle setter) throws Exception {\r\n    \t\tfinal CallSite site = LambdaMetafactory.metafactory(lookup,\r\n    \t\t\t\t&quot;accept&quot;,\r\n    \t\t\t\tMethodType.methodType(BiConsumer.class),\r\n    \t\t\t\tMethodType.methodType(void.class, Object.class, Object.class), //signature of method BiConsumer.accept after type erasure\r\n    \t\t\t\tsetter,\r\n    \t\t\t\tsetter.type()); //actual signature of setter\r\n    \t\ttry {\r\n    \t\t\treturn (BiConsumer) site.getTarget().invokeExact();\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tthrow e;\r\n    \t\t} catch (final Throwable e) {\r\n    \t\t\tthrow new Exception(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void initGetter(Class theSubject, String methodName) throws ReflectiveOperationException, Exception {\r\n    \t\tMethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    \t\tMethod m = theSubject.getMethod(methodName);\r\n    \t\tMethodHandle mh = lookup.unreflect(m);\r\n    \r\n    \t\tgetterFunction = createGetter(lookup, mh);\r\n    \t}\r\n    \r\n    \tpublic void initSetter(Class theSubject, String methodName, Class parameterType) throws ReflectiveOperationException, Exception {\r\n    \t\tMethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    \t\tMethod m = theSubject.getMethod(methodName, parameterType);\r\n    \t\tMethodHandle mh = lookup.unreflect(m);\r\n    \r\n    \t\tsetterFunction = createSetter(lookup, mh);\r\n    \t}\r\n    \r\n    \tpublic Object executeGetter(Object theObject) {\r\n    \t\treturn getterFunction.apply(theObject);\r\n    \t}\r\n    \r\n    \tpublic void executeSetter(Object theObject, Object value) {\r\n    \t\tsetterFunction.accept(theObject, value);\r\n    \t}\r\n    \r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic void doTest(Lambda lam) throws NoSuchFieldException, IllegalArgumentException, Exception {\r\n    \t\r\n    \t\tif (lam == null) {\r\n    \t\t\tlam = new Lambda();\r\n    \t\t\tlam.initGetter(Person.class, &quot;getName&quot;);\r\n    \t\t\tlam.initSetter(Person.class, &quot;setSalary&quot;, double.class);\r\n    \t\t}\r\n    \r\n    \t\tPerson p = new Person();\r\n    \t\tp.setName(111);\r\n    \r\n    \t\tlong loops = 1000000000; // 10e9\r\n    \t\tSystem.out.println(&quot;Loops: &quot; + loops);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;GET - REFLECTION:&quot;);\r\n    \r\n    \t\tField field = Person.class.getField(&quot;name&quot;);\r\n    \r\n    \t\tlong start = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) field.get(p);\r\n    \t\t}\r\n    \t\tlong end = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;GET - DIRECT:&quot;);\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) p.getName();\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t////\r\n    \t\tSystem.out.println(&quot;GET - LAMBDA:&quot;);\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tint name = (int) lam.executeGetter(p);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;SET - REFLECTION:&quot;);\r\n    \t\tint name = 12;\r\n    \r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tfield.set(p, name);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t///\r\n    \t\tSystem.out.println(&quot;SET - DIRECT:&quot;);\r\n    \t\tname = 33;\r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tp.setName(name);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \r\n    \t\t////\r\n    \t\tSystem.out.println(&quot;SET - LAMBDA:&quot;);\r\n    \r\n    \t\tDouble name2 = 2.3;\r\n    \r\n    \t\tstart = System.currentTimeMillis();\r\n    \t\tfor (int i = 0; i &lt; loops; i++) {\r\n    \t\t\tlam.executeSetter(p, name2);\r\n    \t\t}\r\n    \t\tend = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Runtime=&quot; + ((end - start) / 1000.0) + &quot;seconds&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n----------\r\n\r\n    package lambda;\r\n    \r\n    public class Person {\r\n    \t\r\n    \tpublic int name;\r\n    \tprivate double salary;\r\n    \r\n    \tpublic int getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(int name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic double getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \tpublic void setSalary(double salary) {\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\nAs mentioned later in comments I have updated the code to run as a self-contained test that I can invoke from any point in my application. The test accepts a class, method name (string), and a class instance in order to run the performance test. As expected performance is fine when I just use one class (Person1). As soon as I invoke the test for another class (Person2) performance drops for both classes -- sometimes performance is even worse than normal method reflect calls. Below some data. Initially performance is okay for Person1. As soon as Person2 is used there is a drop.\r\n\r\n\r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.016seconds\r\n    GET - LAMBDA: Runtime=0.016seconds\r\n    \r\n    (Class=Person2, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.019seconds\r\n    createLambda: new getter for clazz=lambda.Person2 name=Name\r\n    createLambda: new setter for clazz=lambda.Person2 name=Name\r\n    GET - LAMBDA: Runtime=0.069seconds\r\n    \r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.02seconds\r\n    GET - LAMBDA: Runtime=0.045seconds\r\n    \r\n    (Class=Person2, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.017seconds\r\n    GET - LAMBDA: Runtime=0.054seconds\r\n    \r\n    (Class=Person1, name=Name)\r\n    Loops: 50000000\r\n    GET - DIRECT: Runtime=0.018seconds\r\n    GET - LAMBDA: Runtime=0.045seconds\r\n","title":"Why does Java lambda reflection performance get worse","body":"<p>I have constructed a simple test to measure the performance of class reflection with the Java LambdaMetafactory. According to various posts reflection using LambdaMetafactory is as fast as directly calling getters. This seems true initially, but after a while performance degrades.</p>\n\n<p>One of the test shows (this seems general trend):</p>\n\n<p>Initially:</p>\n\n<pre><code>GET - REFLECTION: Runtime=2.841seconds\nGET - DIRECT:     Runtime=0.358seconds\nGET - LAMBDA:     Runtime=0.362seconds\nSET - REFLECTION: Runtime=3.86seconds\nSET - DIRECT:     Runtime=0.507seconds\nSET - LAMBDA:     Runtime=0.455seconds\n</code></pre>\n\n<p>Finally:</p>\n\n<pre><code>GET - REFLECTION: Runtime=2.904seconds\nGET - DIRECT:     Runtime=0.501seconds\nGET - LAMBDA:     Runtime=5.299seconds\nSET - REFLECTION: Runtime=4.62seconds\nSET - DIRECT:     Runtime=1.723seconds\nSET - LAMBDA:     Runtime=5.149seconds\n</code></pre>\n\n<p>Code follows below.</p>\n\n<p>Questions:</p>\n\n<ul>\n<li><p>Why?</p></li>\n<li><p>How can this be made more performant with the LambdaMetafactory?</p></li>\n</ul>\n\n<hr>\n\n<pre><code>package lambda;\n\npublic class Main {\n\n    public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, Throwable {\n        int runs = 5;\n\n        for (int i = 0; i &lt; runs; i++) {\n            System.out.println(\"***** RUN \" + i);\n\n            Lambda lam = new Lambda();\n            lam.initGetter(Person.class, \"getName\");\n            lam.initSetter(Person.class, \"setSalary\", double.class);\n\n            Test test = new Test();\n            test.doTest(lam);\n        }\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\nimport java.lang.invoke.CallSite;\nimport java.lang.invoke.LambdaMetafactory;\nimport java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\nimport java.lang.reflect.Method;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\npublic final class Lambda {\n\n    //https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html\n    //https://bytex.solutions/2017/07/java-lambdas/\n    //https://stackoverflow.com/questions/27602758/java-access-bean-methods-with-lambdametafactory\n    private Function getterFunction;\n    private BiConsumer setterFunction;\n\n    private Function createGetter(final MethodHandles.Lookup lookup,\n            final MethodHandle getter) throws Exception {\n        final CallSite site = LambdaMetafactory.metafactory(lookup, \"apply\",\n                MethodType.methodType(Function.class),\n                MethodType.methodType(Object.class, Object.class), //signature of method Function.apply after type erasure\n                getter,\n                getter.type()); //actual signature of getter\n        try {\n            return (Function) site.getTarget().invokeExact();\n        } catch (final Exception e) {\n            throw e;\n        } catch (final Throwable e) {\n            throw new Exception(e);\n        }\n    }\n\n    private BiConsumer createSetter(final MethodHandles.Lookup lookup,\n            final MethodHandle setter) throws Exception {\n        final CallSite site = LambdaMetafactory.metafactory(lookup,\n                \"accept\",\n                MethodType.methodType(BiConsumer.class),\n                MethodType.methodType(void.class, Object.class, Object.class), //signature of method BiConsumer.accept after type erasure\n                setter,\n                setter.type()); //actual signature of setter\n        try {\n            return (BiConsumer) site.getTarget().invokeExact();\n        } catch (final Exception e) {\n            throw e;\n        } catch (final Throwable e) {\n            throw new Exception(e);\n        }\n    }\n\n    public void initGetter(Class theSubject, String methodName) throws ReflectiveOperationException, Exception {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        Method m = theSubject.getMethod(methodName);\n        MethodHandle mh = lookup.unreflect(m);\n\n        getterFunction = createGetter(lookup, mh);\n    }\n\n    public void initSetter(Class theSubject, String methodName, Class parameterType) throws ReflectiveOperationException, Exception {\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        Method m = theSubject.getMethod(methodName, parameterType);\n        MethodHandle mh = lookup.unreflect(m);\n\n        setterFunction = createSetter(lookup, mh);\n    }\n\n    public Object executeGetter(Object theObject) {\n        return getterFunction.apply(theObject);\n    }\n\n    public void executeSetter(Object theObject, Object value) {\n        setterFunction.accept(theObject, value);\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\nimport java.lang.reflect.Field;\n\npublic class Test {\n\n    public void doTest(Lambda lam) throws NoSuchFieldException, IllegalArgumentException, Exception {\n\n        if (lam == null) {\n            lam = new Lambda();\n            lam.initGetter(Person.class, \"getName\");\n            lam.initSetter(Person.class, \"setSalary\", double.class);\n        }\n\n        Person p = new Person();\n        p.setName(111);\n\n        long loops = 1000000000; // 10e9\n        System.out.println(\"Loops: \" + loops);\n\n        ///\n        System.out.println(\"GET - REFLECTION:\");\n\n        Field field = Person.class.getField(\"name\");\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) field.get(p);\n        }\n        long end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"GET - DIRECT:\");\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) p.getName();\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ////\n        System.out.println(\"GET - LAMBDA:\");\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            int name = (int) lam.executeGetter(p);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"SET - REFLECTION:\");\n        int name = 12;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            field.set(p, name);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ///\n        System.out.println(\"SET - DIRECT:\");\n        name = 33;\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            p.setName(name);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n\n        ////\n        System.out.println(\"SET - LAMBDA:\");\n\n        Double name2 = 2.3;\n\n        start = System.currentTimeMillis();\n        for (int i = 0; i &lt; loops; i++) {\n            lam.executeSetter(p, name2);\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Runtime=\" + ((end - start) / 1000.0) + \"seconds\");\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package lambda;\n\npublic class Person {\n\n    public int name;\n    private double salary;\n\n    public int getName() {\n        return name;\n    }\n\n    public void setName(int name) {\n        this.name = name;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>As mentioned later in comments I have updated the code to run as a self-contained test that I can invoke from any point in my application. The test accepts a class, method name (string), and a class instance in order to run the performance test. As expected performance is fine when I just use one class (Person1). As soon as I invoke the test for another class (Person2) performance drops for both classes -- sometimes performance is even worse than normal method reflect calls. Below some data. Initially performance is okay for Person1. As soon as Person2 is used there is a drop.</p>\n\n<pre><code>(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.016seconds\nGET - LAMBDA: Runtime=0.016seconds\n\n(Class=Person2, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.019seconds\ncreateLambda: new getter for clazz=lambda.Person2 name=Name\ncreateLambda: new setter for clazz=lambda.Person2 name=Name\nGET - LAMBDA: Runtime=0.069seconds\n\n(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.02seconds\nGET - LAMBDA: Runtime=0.045seconds\n\n(Class=Person2, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.017seconds\nGET - LAMBDA: Runtime=0.054seconds\n\n(Class=Person1, name=Name)\nLoops: 50000000\nGET - DIRECT: Runtime=0.018seconds\nGET - LAMBDA: Runtime=0.045seconds\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9187,"page":805,"page_size":100}
