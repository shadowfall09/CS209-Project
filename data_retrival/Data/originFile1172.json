{"items":[{"tags":["java","spring","spring-kafka","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658323686,"creation_date":1658323686,"answer_id":73052520,"question_id":73049865,"body_markdown":"Use a `StreamBridge` https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources\r\n\r\n    bridge.send(bindingName, message);","title":"How to move to functional programming model to publish to Kafka in Spring cloud","body":"<p>Use a <code>StreamBridge</code> <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources</a></p>\n<pre><code>bridge.send(bindingName, message);\n</code></pre>\n"}],"owner":{"account_id":7058942,"reputation":1415,"user_id":5405093,"accept_rate":57,"display_name":"Manoj Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73052520,"answer_count":1,"score":0,"last_activity_date":1658323686,"creation_date":1658312373,"question_id":73049865,"body_markdown":"I am trying to move away from now deprecated annotations like @EnableBinding and @Output but could not find a simple example to do it in a functional way. These are the files currently:\r\n\r\nKafkaConfig.java\r\n\r\n    @Configuration\r\n    @EnableBinding({\r\n            CcRegistrationFailureChannel.class\r\n    })\r\n    public class KafkaConfig {\r\n    }\r\nCcRegistrationFailureChannel.java\r\n\r\n    public interface CcRegistrationFailureChannel {\r\n        String CC_REGISTRATION = &quot;cc-registration&quot;;\r\n    \r\n        @Output(CC_REGISTRATION)\r\n        MessageChannel ccFailureChannel();\r\n    }\r\n\r\nCcRegistrationFailurePublisher.java\r\n\r\n    @Log4j2\r\n    @Component\r\n    public class CcRegistrationFailurePublisher {\r\n        public void publish(MessageChannel outputChannel, EventPayload payLoad) {\r\n            boolean success = outputChannel.send(MessageBuilder\r\n                    .withPayload(payLoad)\r\n                    .setHeader(MessageHeaders.CONTENT_TYPE, MimeTypeUtils.APPLICATION_JSON)\r\n                    .build()\r\n            );\r\n            if (!success) {\r\n                log.error(&quot;CC Registration Failure: publish message failed&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nand message publish is invoked from following code:\r\n\r\n    @Autowired\r\n    private final CcRegistrationFailurePublisher ccRegistrationFailurePublisher;\r\n\r\n    public void sendCCRegistrationFailure(String internalUserId) {\r\n        Long unixEpochTime = Instant.now().getEpochSecond();\r\n        CcRegistrationFailureEventPayload ccRegistrationFailureEventPayload =\r\n                new CcRegistrationFailureEventPayload(internalUserId, unixEpochTime, CcFailureEventType.ADD_CC_FAILURE);\r\n        ccRegistrationFailurePublisher.publish(ccRegistrationFailureChannel.ccFailureChannel(), ccRegistrationFailureEventPayload);\r\n    }\r\n\r\nHow can I migrate from the current state to using functional way recommended by Spring?","title":"How to move to functional programming model to publish to Kafka in Spring cloud","body":"<p>I am trying to move away from now deprecated annotations like @EnableBinding and @Output but could not find a simple example to do it in a functional way. These are the files currently:</p>\n<p>KafkaConfig.java</p>\n<pre><code>@Configuration\n@EnableBinding({\n        CcRegistrationFailureChannel.class\n})\npublic class KafkaConfig {\n}\n</code></pre>\n<p>CcRegistrationFailureChannel.java</p>\n<pre><code>public interface CcRegistrationFailureChannel {\n    String CC_REGISTRATION = &quot;cc-registration&quot;;\n\n    @Output(CC_REGISTRATION)\n    MessageChannel ccFailureChannel();\n}\n</code></pre>\n<p>CcRegistrationFailurePublisher.java</p>\n<pre><code>@Log4j2\n@Component\npublic class CcRegistrationFailurePublisher {\n    public void publish(MessageChannel outputChannel, EventPayload payLoad) {\n        boolean success = outputChannel.send(MessageBuilder\n                .withPayload(payLoad)\n                .setHeader(MessageHeaders.CONTENT_TYPE, MimeTypeUtils.APPLICATION_JSON)\n                .build()\n        );\n        if (!success) {\n            log.error(&quot;CC Registration Failure: publish message failed&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and message publish is invoked from following code:</p>\n<pre><code>@Autowired\nprivate final CcRegistrationFailurePublisher ccRegistrationFailurePublisher;\n\npublic void sendCCRegistrationFailure(String internalUserId) {\n    Long unixEpochTime = Instant.now().getEpochSecond();\n    CcRegistrationFailureEventPayload ccRegistrationFailureEventPayload =\n            new CcRegistrationFailureEventPayload(internalUserId, unixEpochTime, CcFailureEventType.ADD_CC_FAILURE);\n    ccRegistrationFailurePublisher.publish(ccRegistrationFailureChannel.ccFailureChannel(), ccRegistrationFailureEventPayload);\n}\n</code></pre>\n<p>How can I migrate from the current state to using functional way recommended by Spring?</p>\n"},{"tags":["java","javafx","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1658332467,"post_id":73052217,"comment_id":129027299,"body_markdown":"Are you aware of the GluonFX plugin? See https://docs.gluonhq.com","body":"Are you aware of the GluonFX plugin? See <a href=\"https://docs.gluonhq.com\" rel=\"nofollow noreferrer\">docs.gluonhq.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658323674,"creation_date":1658323674,"answer_id":73052519,"question_id":73052217,"body_markdown":"It seems the problem is missing reflection configuration. GraalVM static analyzer cannot figure out which features are accessed reflectively, so it relies on configuration files. You can create one manually as described [here](https://www.graalvm.org/dev/reference-manual/native-image/dynamic-features/Reflection/), or generate with GraalVM tracing agent as described [here](https://www.graalvm.org/dev/reference-manual/native-image/metadata/AutomaticMetadataCollection/).","title":"Can&#39;t generate Graal VM native-image with --no-fallback from executable javafx fat jar","body":"<p>It seems the problem is missing reflection configuration. GraalVM static analyzer cannot figure out which features are accessed reflectively, so it relies on configuration files. You can create one manually as described <a href=\"https://www.graalvm.org/dev/reference-manual/native-image/dynamic-features/Reflection/\" rel=\"nofollow noreferrer\">here</a>, or generate with GraalVM tracing agent as described <a href=\"https://www.graalvm.org/dev/reference-manual/native-image/metadata/AutomaticMetadataCollection/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3635166,"reputation":477,"user_id":3030447,"accept_rate":69,"display_name":"adragomir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658323674,"creation_date":1658322429,"question_id":73052217,"body_markdown":"I have build an executable javaFX fat jar using java 17 and javafx 18:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2uYxm.png\r\n\r\n\r\nThe JavaFXLauncher class calls the Main class which is necessary so that the executable JavaFX jar will work. It looks like this:\r\n\r\n        public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            VBox vBox = new VBox();\r\n            Button okButton = new Button(&quot;OK&quot;);\r\n            okButton.setOnAction(e -&gt; new Alert(Alert.AlertType.INFORMATION).showAndWait());\r\n    \r\n            TextField searchTextField = new TextField();\r\n            vBox.getChildren().addAll(searchTextField);\r\n    \r\n            ContextMenu contextMenu = new ContextMenu();\r\n    \r\n            Trie&lt;String, Integer&gt; trie = new PatriciaTrie&lt;&gt;();\r\n            trie.put(&quot;calorimetru&quot;, 0);\r\n            trie.put(&quot;calamar&quot;, 0);\r\n            trie.put(&quot;abecedar&quot;, 0);\r\n            trie.put(&quot;calorie&quot;, 0);\r\n    \r\n            searchTextField.setOnKeyTyped(e -&gt; {\r\n                TextField self = (TextField) e.getSource();\r\n    \r\n                if (StringUtils.isEmpty(self.getText())) {\r\n                    contextMenu.hide();\r\n                    return;\r\n                }\r\n    \r\n                Set&lt;String&gt; items = trie.prefixMap(self.getText()).keySet();\r\n                if (!items.isEmpty()) {\r\n                    Bounds boundsInScreen = self.localToScreen(self.getBoundsInLocal());\r\n                    int height = (int) self.getHeight();\r\n                    contextMenu.getItems().clear();\r\n                    items.forEach(item -&gt; contextMenu.getItems().add(new MenuItem(item)));\r\n                    contextMenu.show(self, boundsInScreen.getMinX(), boundsInScreen.getMinY() + height);\r\n                }\r\n    \r\n            });\r\n    \r\n            Scene scene = new Scene(vBox, 500, 500, Color.WHEAT);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\nI have built a native image using native-image like this:\r\n\r\n\r\n        c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target&gt;native-image.cmd -jar learnLambda-1.0.jar learn.lambda.JavaFXLauncher --no-fallback\r\n    ========================================================================================================================\r\n    GraalVM Native Image: Generating &#39;learn.lambda.JavaFXLauncher&#39; (executable)...\r\n    ========================================================================================================================\r\n    [1/7] Initializing...                                                                                   (26,7s @ 0,14GB)\r\n     Version info: &#39;GraalVM 22.1.0 Java 17 CE&#39;\r\n     C compiler: cl.exe (microsoft, x64, 19.32.31332)\r\n     Garbage collector: Serial GC\r\n    [2/7] Performing analysis...  [******]                                                                  (24,5s @ 0,58GB)\r\n       4.048 (75,16%) of  5.386 classes reachable\r\n       5.312 (52,92%) of 10.037 fields reachable\r\n      17.728 (44,22%) of 40.090 methods reachable\r\n          43 classes,     0 fields, and   526 methods registered for reflection\r\n          62 classes,    54 fields, and    51 methods registered for JNI access\r\n    [3/7] Building universe...                                                                               (2,1s @ 0,85GB)\r\n    [4/7] Parsing methods...      [*]                                                                        (1,7s @ 1,15GB)\r\n    [5/7] Inlining methods...     [****]                                                                     (2,1s @ 1,20GB)\r\n    [6/7] Compiling methods...    [****]                                                                    (18,9s @ 2,68GB)\r\n    [7/7] Creating image...                                                                                  (3,7s @ 0,60GB)\r\n       6,43MB (40,03%) for code area:   10.265 compilation units\r\n       8,43MB (52,52%) for image heap:   2.558 classes and 120.816 objects\r\n       1,20MB ( 7,45%) for other data\r\n      16,06MB in total\r\n    ------------------------------------------------------------------------------------------------------------------------\r\n    Top 10 packages in code area:                               Top 10 object types in image heap:\r\n     743,04KB java.util                                            1,29MB byte[] for code metadata\r\n     376,80KB java.lang                                            1,14MB byte[] for general heap data\r\n     359,01KB javafx.css                                           1,12MB java.lang.String\r\n     346,56KB com.oracle.svm.jni                                 929,29KB java.lang.Class\r\n     276,85KB java.text                                          725,44KB byte[] for java.lang.String\r\n     238,47KB com.oracle.svm.core.reflect                        403,36KB java.util.HashMap$Node\r\n     238,30KB java.util.regex                                    316,25KB com.oracle.svm.core.hub.DynamicHubCompanion\r\n     205,60KB java.util.concurrent                               247,83KB java.util.concurrent.ConcurrentHashMap$Node\r\n     149,52KB java.math                                          221,23KB java.lang.String[]\r\n     148,15KB com.oracle.svm.core.code                           188,09KB java.util.HashMap$Node[]\r\n          ... 179 additional packages                                 ... 1052 additional object types\r\n                                               (use GraalVM Dashboard to see all)\r\n    ------------------------------------------------------------------------------------------------------------------------\r\n                            2,6s (3,2% of total time) in 22 GCs | Peak RSS: 3,73GB | CPU load: 4,36\r\n    ------------------------------------------------------------------------------------------------------------------------\r\n    Produced artifacts:\r\n     c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\learn.lambda.JavaFXLauncher.exe (executable)\r\n     c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\awt.dll (jdk_lib)\r\n     c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\java.dll (jdk_lib_shim)\r\n     c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\jvm.dll (jdk_lib_shim)\r\n     c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\learn.lambda.JavaFXLauncher.build_artifacts.txt\r\n    ========================================================================================================================\r\n    Finished generating &#39;learn.lambda.JavaFXLauncher&#39; in 1m 22s.\r\n\r\n\r\n\r\nEverything seems fine but when I try to run the exe I get:\r\n\r\n        $ ./learn.lambda.JavaFXLauncher.exe\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: learn.lambda.Main\r\n            at javafx.application.Application.launch(Application.java:314)\r\n            at learn.lambda.Main.main(Main.java:67)\r\n            at learn.lambda.JavaFXLauncher.main(JavaFXLauncher.java:5)\r\n    Caused by: java.lang.ClassNotFoundException: learn.lambda.Main\r\n            at java.lang.Class.forName(DynamicHub.java:1121)\r\n            at javafx.application.Application.launch(Application.java:302)\r\n            ... 2 more\r\n\r\nI am using --no-fallback because I don&#39;t want to be dependent on a jvm, so I just want to run the exe by itself.\r\n\r\nDo you guys have some idea on what could be wrong?\r\n\r\nRegards,\r\n","title":"Can&#39;t generate Graal VM native-image with --no-fallback from executable javafx fat jar","body":"<p>I have build an executable javaFX fat jar using java 17 and javafx 18:\n<a href=\"https://i.stack.imgur.com/2uYxm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uYxm.png\" alt=\"enter image description here\" /></a></p>\n<p>The JavaFXLauncher class calls the Main class which is necessary so that the executable JavaFX jar will work. It looks like this:</p>\n<pre><code>    public class Main extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        VBox vBox = new VBox();\n        Button okButton = new Button(&quot;OK&quot;);\n        okButton.setOnAction(e -&gt; new Alert(Alert.AlertType.INFORMATION).showAndWait());\n\n        TextField searchTextField = new TextField();\n        vBox.getChildren().addAll(searchTextField);\n\n        ContextMenu contextMenu = new ContextMenu();\n\n        Trie&lt;String, Integer&gt; trie = new PatriciaTrie&lt;&gt;();\n        trie.put(&quot;calorimetru&quot;, 0);\n        trie.put(&quot;calamar&quot;, 0);\n        trie.put(&quot;abecedar&quot;, 0);\n        trie.put(&quot;calorie&quot;, 0);\n\n        searchTextField.setOnKeyTyped(e -&gt; {\n            TextField self = (TextField) e.getSource();\n\n            if (StringUtils.isEmpty(self.getText())) {\n                contextMenu.hide();\n                return;\n            }\n\n            Set&lt;String&gt; items = trie.prefixMap(self.getText()).keySet();\n            if (!items.isEmpty()) {\n                Bounds boundsInScreen = self.localToScreen(self.getBoundsInLocal());\n                int height = (int) self.getHeight();\n                contextMenu.getItems().clear();\n                items.forEach(item -&gt; contextMenu.getItems().add(new MenuItem(item)));\n                contextMenu.show(self, boundsInScreen.getMinX(), boundsInScreen.getMinY() + height);\n            }\n\n        });\n\n        Scene scene = new Scene(vBox, 500, 500, Color.WHEAT);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>I have built a native image using native-image like this:</p>\n<pre><code>    c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target&gt;native-image.cmd -jar learnLambda-1.0.jar learn.lambda.JavaFXLauncher --no-fallback\n========================================================================================================================\nGraalVM Native Image: Generating 'learn.lambda.JavaFXLauncher' (executable)...\n========================================================================================================================\n[1/7] Initializing...                                                                                   (26,7s @ 0,14GB)\n Version info: 'GraalVM 22.1.0 Java 17 CE'\n C compiler: cl.exe (microsoft, x64, 19.32.31332)\n Garbage collector: Serial GC\n[2/7] Performing analysis...  [******]                                                                  (24,5s @ 0,58GB)\n   4.048 (75,16%) of  5.386 classes reachable\n   5.312 (52,92%) of 10.037 fields reachable\n  17.728 (44,22%) of 40.090 methods reachable\n      43 classes,     0 fields, and   526 methods registered for reflection\n      62 classes,    54 fields, and    51 methods registered for JNI access\n[3/7] Building universe...                                                                               (2,1s @ 0,85GB)\n[4/7] Parsing methods...      [*]                                                                        (1,7s @ 1,15GB)\n[5/7] Inlining methods...     [****]                                                                     (2,1s @ 1,20GB)\n[6/7] Compiling methods...    [****]                                                                    (18,9s @ 2,68GB)\n[7/7] Creating image...                                                                                  (3,7s @ 0,60GB)\n   6,43MB (40,03%) for code area:   10.265 compilation units\n   8,43MB (52,52%) for image heap:   2.558 classes and 120.816 objects\n   1,20MB ( 7,45%) for other data\n  16,06MB in total\n------------------------------------------------------------------------------------------------------------------------\nTop 10 packages in code area:                               Top 10 object types in image heap:\n 743,04KB java.util                                            1,29MB byte[] for code metadata\n 376,80KB java.lang                                            1,14MB byte[] for general heap data\n 359,01KB javafx.css                                           1,12MB java.lang.String\n 346,56KB com.oracle.svm.jni                                 929,29KB java.lang.Class\n 276,85KB java.text                                          725,44KB byte[] for java.lang.String\n 238,47KB com.oracle.svm.core.reflect                        403,36KB java.util.HashMap$Node\n 238,30KB java.util.regex                                    316,25KB com.oracle.svm.core.hub.DynamicHubCompanion\n 205,60KB java.util.concurrent                               247,83KB java.util.concurrent.ConcurrentHashMap$Node\n 149,52KB java.math                                          221,23KB java.lang.String[]\n 148,15KB com.oracle.svm.core.code                           188,09KB java.util.HashMap$Node[]\n      ... 179 additional packages                                 ... 1052 additional object types\n                                           (use GraalVM Dashboard to see all)\n------------------------------------------------------------------------------------------------------------------------\n                        2,6s (3,2% of total time) in 22 GCs | Peak RSS: 3,73GB | CPU load: 4,36\n------------------------------------------------------------------------------------------------------------------------\nProduced artifacts:\n c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\learn.lambda.JavaFXLauncher.exe (executable)\n c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\awt.dll (jdk_lib)\n c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\java.dll (jdk_lib_shim)\n c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\jvm.dll (jdk_lib_shim)\n c:\\Users\\adragomir\\IdeaProjects\\learnLambda\\target\\learn.lambda.JavaFXLauncher.build_artifacts.txt\n========================================================================================================================\nFinished generating 'learn.lambda.JavaFXLauncher' in 1m 22s.\n</code></pre>\n<p>Everything seems fine but when I try to run the exe I get:</p>\n<pre><code>    $ ./learn.lambda.JavaFXLauncher.exe\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: learn.lambda.Main\n        at javafx.application.Application.launch(Application.java:314)\n        at learn.lambda.Main.main(Main.java:67)\n        at learn.lambda.JavaFXLauncher.main(JavaFXLauncher.java:5)\nCaused by: java.lang.ClassNotFoundException: learn.lambda.Main\n        at java.lang.Class.forName(DynamicHub.java:1121)\n        at javafx.application.Application.launch(Application.java:302)\n        ... 2 more\n</code></pre>\n<p>I am using --no-fallback because I don't want to be dependent on a jvm, so I just want to run the exe by itself.</p>\n<p>Do you guys have some idea on what could be wrong?</p>\n<p>Regards,</p>\n"},{"tags":["java","xml","eclipse","spring","maven"],"comments":[{"owner":{"account_id":78292,"reputation":776,"user_id":222926,"display_name":"Fabio Kenji"},"score":2,"creation_date":1443136467,"post_id":32772352,"comment_id":53383827,"body_markdown":"Kinda far-fetched, but maybe it&#39;s related to line-breaks from Windows to Unix? This can happen if someone saved the file on Windows and then opened it on unix. You could fix it by running dos2unix.","body":"Kinda far-fetched, but maybe it&#39;s related to line-breaks from Windows to Unix? This can happen if someone saved the file on Windows and then opened it on unix. You could fix it by running dos2unix."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1443137122,"post_id":32772352,"comment_id":53384032,"body_markdown":"Did you check out [Eclipse Content is not allowed in prolog](http://stackoverflow.com/questions/5445143/eclipse-content-is-not-allowed-in-prolog)?","body":"Did you check out <a href=\"http://stackoverflow.com/questions/5445143/eclipse-content-is-not-allowed-in-prolog\">Eclipse Content is not allowed in prolog</a>?"},{"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"score":0,"creation_date":1443139175,"post_id":32772352,"comment_id":53384590,"body_markdown":"@Elliott Frisch I posted my pom.xml","body":"@Elliott Frisch I posted my pom.xml"},{"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"score":0,"creation_date":1443139330,"post_id":32772352,"comment_id":53384633,"body_markdown":"@Mick Mnemonic Yes, the .springBeans file looked promising since that trick was for a java file and the .springBeans listed the problem java file in the config section (and nothing else there) instead of in the autoconfig section.  Yet, when I moved that one config line to the autoconfig section, still the same results.  Also same results after deleting the .springBeans file.","body":"@Mick Mnemonic Yes, the .springBeans file looked promising since that trick was for a java file and the .springBeans listed the problem java file in the config section (and nothing else there) instead of in the autoconfig section.  Yet, when I moved that one config line to the autoconfig section, still the same results.  Also same results after deleting the .springBeans file."},{"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"score":0,"creation_date":1443140445,"post_id":32772352,"comment_id":53384892,"body_markdown":"@Fabio Kenji Line endings are consistent in my pom.xml","body":"@Fabio Kenji Line endings are consistent in my pom.xml"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":2,"creation_date":1443141475,"post_id":32772352,"comment_id":53385156,"body_markdown":"Perhaps you have a [byte-order-mark](https://en.wikipedia.org/wiki/Byte_order_mark) in the beginning of pom.xml (or some other XML file). The BOM might only show in a hex editor.","body":"Perhaps you have a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">byte-order-mark</a> in the beginning of pom.xml (or some other XML file). The BOM might only show in a hex editor."},{"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"score":0,"creation_date":1443142505,"post_id":32772352,"comment_id":53385370,"body_markdown":"@Mick Mnemonic Unfortunately, the hex editor didn&#39;t show any bytes before the first &lt; in any xml file.","body":"@Mick Mnemonic Unfortunately, the hex editor didn&#39;t show any bytes before the first &lt; in any xml file."}],"answers":[{"tags":[],"owner":{"account_id":6113965,"reputation":1411,"user_id":4769589,"accept_rate":74,"display_name":"TheLuminor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443155646,"creation_date":1443155646,"answer_id":32774862,"question_id":32772352,"body_markdown":"Most likely the error was generated by the `UTF-8` `BOM` at the start of the `XML ` file - applications like `Notepad` puts that at the start of the file and the Java streams cannot handle that automatically. Your `XML `is correct, but the file is not `UTF-8 `Encoded. I&#39;ve seen this before.. try copying and pasting the XML from this forum into a text editor and saving it. Also make sure that you&#39;re text editor is really saving in `UTF-8`.\r\n\r\nAlso, `Spring `will work just fine without any `&lt;?xml ... &gt;` declaration so go ahead and remove the comment between the `DTD `declaration and the starting `element`. Remove the `UTF-8 `declaration. Problems with `UTF-8 `encoded `XML `in `Java` are pretty common, and not specific to `Spring`.","title":"Java file: Content not allowed in prolog","body":"<p>Most likely the error was generated by the <code>UTF-8</code> <code>BOM</code> at the start of the <code>XML</code> file - applications like <code>Notepad</code> puts that at the start of the file and the Java streams cannot handle that automatically. Your <code>XML</code>is correct, but the file is not <code>UTF-8</code>Encoded. I've seen this before.. try copying and pasting the XML from this forum into a text editor and saving it. Also make sure that you're text editor is really saving in <code>UTF-8</code>.</p>\n\n<p>Also, <code>Spring</code>will work just fine without any <code>&lt;?xml ... &gt;</code> declaration so go ahead and remove the comment between the <code>DTD</code>declaration and the starting <code>element</code>. Remove the <code>UTF-8</code>declaration. Problems with <code>UTF-8</code>encoded <code>XML</code>in <code>Java</code> are pretty common, and not specific to <code>Spring</code>.</p>\n"},{"tags":[],"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1443216254,"creation_date":1443215730,"answer_id":32790768,"question_id":32772352,"body_markdown":"It seems likely that the culprit was a corrupted eclipse workspace.  I created a new workspace and imported the project and everything works fine.  That would also explain why an external maven build didn&#39;t show any problems.\r\n\r\nAs noted in update 3, I had found some eclipse-generated xml files that had characters before the prolog.  Although correcting those did not fix the problems, I didn&#39;t inspect every eclipse file with xml content (like the user prefs) to see if they had some invisible characters before the prolog.\r\n\r\nDon&#39;t know what would have caused it to be corrupted except for perhaps force quitting eclipse during an unresponsive maven repo update but I can&#39;t be certain if that&#39;s when my troubles started. I&#39;m just glad I can move forward.","title":"Java file: Content not allowed in prolog","body":"<p>It seems likely that the culprit was a corrupted eclipse workspace.  I created a new workspace and imported the project and everything works fine.  That would also explain why an external maven build didn't show any problems.</p>\n\n<p>As noted in update 3, I had found some eclipse-generated xml files that had characters before the prolog.  Although correcting those did not fix the problems, I didn't inspect every eclipse file with xml content (like the user prefs) to see if they had some invisible characters before the prolog.</p>\n\n<p>Don't know what would have caused it to be corrupted except for perhaps force quitting eclipse during an unresponsive maven repo update but I can't be certain if that's when my troubles started. I'm just glad I can move forward.</p>\n"},{"tags":[],"owner":{"account_id":1663171,"reputation":7769,"user_id":1531064,"accept_rate":76,"display_name":"Cataclysm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497330465,"creation_date":1497330465,"answer_id":44512799,"question_id":32772352,"body_markdown":"In my case this error occured while I was renamed main class *(class annotated with @SpringBootApplication)* of springboot application. I don&#39;t mean this will always happen but I accidently got this error after rename this class file in STS 3.8.4.\r\n\r\nTo resolve this issue, I closed the IDE, navigate to project folder and delete the `.springBeans` file. After reopened IDE, this error was gone and my IDE no longer complains about this.","title":"Java file: Content not allowed in prolog","body":"<p>In my case this error occured while I was renamed main class <em>(class annotated with @SpringBootApplication)</em> of springboot application. I don't mean this will always happen but I accidently got this error after rename this class file in STS 3.8.4.</p>\n\n<p>To resolve this issue, I closed the IDE, navigate to project folder and delete the <code>.springBeans</code> file. After reopened IDE, this error was gone and my IDE no longer complains about this.</p>\n"},{"tags":[],"owner":{"account_id":2969487,"reputation":28,"user_id":2521886,"display_name":"h2hjastermereel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529593807,"creation_date":1529593807,"answer_id":50971913,"question_id":32772352,"body_markdown":"For me it was because I had renamed some classes and the .springBeans file needed some manual editing.","title":"Java file: Content not allowed in prolog","body":"<p>For me it was because I had renamed some classes and the .springBeans file needed some manual editing.</p>\n"},{"tags":[],"owner":{"account_id":17507737,"reputation":1,"user_id":12696565,"display_name":"Henrique m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628627711,"creation_date":1628627711,"answer_id":68733192,"question_id":32772352,"body_markdown":"Just put @Primary after @SpringBootApplication, delete @Primary and save again","title":"Java file: Content not allowed in prolog","body":"<p>Just put @Primary after @SpringBootApplication, delete @Primary and save again</p>\n"},{"tags":[],"owner":{"account_id":7844722,"reputation":116,"user_id":5930157,"display_name":"douglas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658323629,"creation_date":1658323629,"answer_id":73052510,"question_id":32772352,"body_markdown":"For me the issue was with the charset encoding. Using echo command redirection to create the bean resource xml file set it to an encoding other than the expected UTF-8 on IntelliJ. This applies to Java classes too.\r\nI fixed it by deleting the xml file, creating a new one using the GUI/Vim this time and with the xml file selected, going to Build-&gt;Recompile &lt;file_name&gt;.xml.","title":"Java file: Content not allowed in prolog","body":"<p>For me the issue was with the charset encoding. Using echo command redirection to create the bean resource xml file set it to an encoding other than the expected UTF-8 on IntelliJ. This applies to Java classes too.\nI fixed it by deleting the xml file, creating a new one using the GUI/Vim this time and with the xml file selected, going to Build-&gt;Recompile &lt;file_name&gt;.xml.</p>\n"}],"owner":{"account_id":560201,"reputation":1163,"user_id":922348,"accept_rate":52,"display_name":"rimsky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14616,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32790768,"answer_count":6,"score":8,"last_activity_date":1658323629,"creation_date":1443136031,"question_id":32772352,"body_markdown":"I&#39;m new to Spring and started using the Sprint Tool Suite (eclipse) and see this error in a java file in my maven project: &quot;Content is not allowed in prolog&quot;.  This prevents the class from compiling (which is just a minimal SpringBootApplication class) in eclipse.\r\n\r\n    package com.test;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nI&#39;ve scoured the web and saw that in virtually every reference, this is an XML-parsing error.  I had been updating three XML files but didn&#39;t see any invisible characters before the `&lt;?xml` in a hex editor.  They all specify to use UTF-8 encoding and I&#39;m not seeing alternating 0 bytes that would indicate an accidental UTF-16 encoding.  The line endings seem consistent (just a line feed).\r\n\r\nInterestingly, it builds without compiler errors with &quot;maven clean install&quot;.  I don&#39;t see any special characters in the java file either, but eclipse tells me that file is the problem and that&#39;s it a spring beans problem. The error message shows on the first line with the package statement.\r\n\r\nAny ideas what the root problem is or how I can solve this?\r\n\r\n**Update**\r\nAs requested, here&#39;s my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n           &lt;resources&gt;\r\n             &lt;resource&gt;\r\n               &lt;targetPath&gt;com/test/mybatis/mappers&lt;/targetPath&gt;\r\n               &lt;directory&gt;src/main/java/com/test/mybatis/mappers&lt;/directory&gt;\r\n               &lt;includes&gt;\r\n                 &lt;include&gt;*.xml&lt;/include&gt;\r\n               &lt;/includes&gt;\r\n             &lt;/resource&gt;\r\n             &lt;resource&gt;\r\n               &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n             &lt;/resource&gt;\r\n           &lt;/resources&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-releases&lt;/id&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-releases&lt;/id&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.1.36&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n**Update 2**\r\nI searched my project folder for all .xml files and have removed all invisible characters programmatically using `perl -i -pe &#39;s/[^\\x20-\\x7f\\x0A\\x09]//g&#39; fileName`, but there were no invisible characters.   This confirms what I saw in the hex editor.\r\n\r\n**Two questions come to mind:  Why is the error showing in a .java file instead of a. xml file?  Why is this only a problem for eclipse and not maven?**\r\n\r\nThe eclipse log shows this message (which indicates a .xml file):\r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n    \tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n    \tat org.springframework.ide.eclipse.core.io.xml.XercesDocumentLoader.loadDocument(XercesDocumentLoader.java:48)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\r\n    \tat org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$2.loadBeanDefinitions(BeansConfig.java:397)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n    \tat org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$3.call(BeansConfig.java:456)\r\n    \tat org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$3.call(BeansConfig.java:1)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n**Update 3**\r\nI did find some eclipse-generated xml files in my workspace with characters before the `&lt;?xml` using `grep -ERl &#39;^[^=]+&lt;\\?xml&#39; .` which ignores some of the eclipse user prefs which have xml embedded in the lines of the file.  After removing the extra characters, the problem remained though.\r\n\r\nThink I may restart the project and copy over files one at a time.   ","title":"Java file: Content not allowed in prolog","body":"<p>I'm new to Spring and started using the Sprint Tool Suite (eclipse) and see this error in a java file in my maven project: \"Content is not allowed in prolog\".  This prevents the class from compiling (which is just a minimal SpringBootApplication class) in eclipse.</p>\n\n<pre><code>package com.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>I've scoured the web and saw that in virtually every reference, this is an XML-parsing error.  I had been updating three XML files but didn't see any invisible characters before the <code>&lt;?xml</code> in a hex editor.  They all specify to use UTF-8 encoding and I'm not seeing alternating 0 bytes that would indicate an accidental UTF-16 encoding.  The line endings seem consistent (just a line feed).</p>\n\n<p>Interestingly, it builds without compiler errors with \"maven clean install\".  I don't see any special characters in the java file either, but eclipse tells me that file is the problem and that's it a spring beans problem. The error message shows on the first line with the package statement.</p>\n\n<p>Any ideas what the root problem is or how I can solve this?</p>\n\n<p><strong>Update</strong>\nAs requested, here's my pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n       &lt;resources&gt;\n         &lt;resource&gt;\n           &lt;targetPath&gt;com/test/mybatis/mappers&lt;/targetPath&gt;\n           &lt;directory&gt;src/main/java/com/test/mybatis/mappers&lt;/directory&gt;\n           &lt;includes&gt;\n             &lt;include&gt;*.xml&lt;/include&gt;\n           &lt;/includes&gt;\n         &lt;/resource&gt;\n         &lt;resource&gt;\n           &lt;directory&gt;src/main/resources&lt;/directory&gt;\n         &lt;/resource&gt;\n       &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;5.1.36&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Update 2</strong>\nI searched my project folder for all .xml files and have removed all invisible characters programmatically using <code>perl -i -pe 's/[^\\x20-\\x7f\\x0A\\x09]//g' fileName</code>, but there were no invisible characters.   This confirms what I saw in the hex editor.</p>\n\n<p><strong>Two questions come to mind:  Why is the error showing in a .java file instead of a. xml file?  Why is this only a problem for eclipse and not maven?</strong></p>\n\n<p>The eclipse log shows this message (which indicates a .xml file):</p>\n\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n    at org.springframework.ide.eclipse.core.io.xml.XercesDocumentLoader.loadDocument(XercesDocumentLoader.java:48)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\n    at org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$2.loadBeanDefinitions(BeansConfig.java:397)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n    at org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$3.call(BeansConfig.java:456)\n    at org.springframework.ide.eclipse.beans.core.internal.model.BeansConfig$3.call(BeansConfig.java:1)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p><strong>Update 3</strong>\nI did find some eclipse-generated xml files in my workspace with characters before the <code>&lt;?xml</code> using <code>grep -ERl '^[^=]+&lt;\\?xml' .</code> which ignores some of the eclipse user prefs which have xml embedded in the lines of the file.  After removing the extra characters, the problem remained though.</p>\n\n<p>Think I may restart the project and copy over files one at a time.   </p>\n"},{"tags":["java","spring","spring-boot","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1657613425,"post_id":72946508,"comment_id":128846144,"body_markdown":"Are you running same JDK version on both Windows and macOS? If you haven&#39;t modified generated projects and you are using latest version of JHipster, you should consider provide more information (`jhipster info`) on similar issue on github: https://github.com/jhipster/generator-jhipster/issues/18910","body":"Are you running same JDK version on both Windows and macOS? If you haven&#39;t modified generated projects and you are using latest version of JHipster, you should consider provide more information (<code>jhipster info</code>) on similar issue on github: <a href=\"https://github.com/jhipster/generator-jhipster/issues/18910\" rel=\"nofollow noreferrer\">github.com/jhipster/generator-jhipster/issues/18910</a>"},{"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"score":0,"creation_date":1657632856,"post_id":72946508,"comment_id":128853304,"body_markdown":"The SDK is the same, I will add it","body":"The SDK is the same, I will add it"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1657635330,"post_id":72946508,"comment_id":128854264,"body_markdown":"The jhipster info was supposed to be added to github issue not here because it&#39;s formatted for github markdown flavor.","body":"The jhipster info was supposed to be added to github issue not here because it&#39;s formatted for github markdown flavor."},{"owner":{"account_id":1020929,"reputation":3574,"user_id":1031296,"display_name":"vicpermir"},"score":0,"creation_date":1657654126,"post_id":72946508,"comment_id":128860803,"body_markdown":"Have you tried using tomcat instead of undertow? (jh issue [#18440](https://github.com/jhipster/generator-jhipster/issues/18440))","body":"Have you tried using tomcat instead of undertow? (jh issue <a href=\"https://github.com/jhipster/generator-jhipster/issues/18440\" rel=\"nofollow noreferrer\">#18440</a>)"},{"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"score":0,"creation_date":1657971993,"post_id":72946508,"comment_id":128939410,"body_markdown":"@vicpermir of course, it doesn&#39;t work, it&#39;s missing javax.servlet package","body":"@vicpermir of course, it doesn&#39;t work, it&#39;s missing javax.servlet package"}],"answers":[{"tags":[],"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658323123,"creation_date":1658323123,"answer_id":73052389,"question_id":72946508,"body_markdown":"I found the solution, in the configurations, tomcat has been excluded, I remove that line and change undertow to tomcat then it&#39;s work. Thanks!","title":"Unable to authenticate in Jhipster","body":"<p>I found the solution, in the configurations, tomcat has been excluded, I remove that line and change undertow to tomcat then it's work. Thanks!</p>\n"}],"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73052389,"answer_count":1,"score":0,"last_activity_date":1658323123,"creation_date":1657593865,"question_id":72946508,"body_markdown":"I&#39;m create an application using Jhipster stack and development on Windows 10, here is application config\r\n```\r\napplication {\r\n  config {\r\n    baseName xxx\r\n    applicationType monolith\r\n    packageName com.xxx\r\n    authenticationType jwt\r\n    prodDatabaseType mysql\r\n    devDatabaseType mysql\r\n    buildTool gradle\r\n    cacheProvider redis\r\n    clientFramework angularX\r\n    serverPort 8090\r\n    websocket spring-websocket\r\n  }\r\n  entities *\r\n}\r\n```\r\nThe problem is I can&#39;t even login to the default account or register the new one.\r\n\r\nI tried to find the solution and got that someone put `-Djdk.io.File.enableADS=true` into VM options will work but I&#39;m not. Especially, this error only occur on Windows, I tried to run this app without any modifier on Macos and it&#39;s working normally. But Macos is not my primary development enviroment then I have to make it work on Windows, thanks\r\n\r\nJhipster info:\r\n```\r\n&lt;summary&gt;.yo-rc.json file&lt;/summary&gt;\r\n{\r\n  &quot;generator-jhipster&quot;: {\r\n    &quot;applicationIndex&quot;: 0,\r\n    &quot;applicationType&quot;: &quot;monolith&quot;,\r\n    &quot;authenticationType&quot;: &quot;jwt&quot;,\r\n    &quot;baseName&quot;: &quot;xxx&quot;,\r\n    &quot;blueprints&quot;: [],\r\n    &quot;buildTool&quot;: &quot;gradle&quot;,\r\n    &quot;cacheProvider&quot;: &quot;redis&quot;,\r\n    &quot;clientFramework&quot;: &quot;angularX&quot;,\r\n    &quot;clientPackageManager&quot;: &quot;npm&quot;,\r\n    &quot;clientTheme&quot;: &quot;none&quot;,\r\n    &quot;clientThemeVariant&quot;: &quot;&quot;,\r\n    &quot;creationTimestamp&quot;: 1652962669893,\r\n    &quot;databaseType&quot;: &quot;sql&quot;,\r\n    &quot;devDatabaseType&quot;: &quot;mysql&quot;,\r\n    &quot;devServerPort&quot;: 4200,\r\n    &quot;dtoSuffix&quot;: &quot;DTO&quot;,\r\n    &quot;enableGradleEnterprise&quot;: false,\r\n    &quot;enableHibernateCache&quot;: true,\r\n    &quot;enableSwaggerCodegen&quot;: false,\r\n    &quot;enableTranslation&quot;: true,\r\n    &quot;entities&quot;: [&quot;Movie&quot;, &quot;Actor&quot;, &quot;Category&quot;, &quot;Country&quot;, &quot;Manufacturer&quot;, &quot;Link&quot;],\r\n    &quot;entitySuffix&quot;: &quot;&quot;,\r\n    &quot;gradleEnterpriseHost&quot;: &quot;&quot;,\r\n    &quot;jhiPrefix&quot;: &quot;jhi&quot;,\r\n    &quot;jhipsterVersion&quot;: &quot;7.8.1&quot;,\r\n    &quot;jwtSecretKey&quot;: &quot;YourJWTSecretKeyWasReplacedByThisMeaninglessTextByTheJHipsterInfoCommandForObviousSecurityReasons&quot;,\r\n    &quot;languages&quot;: [&quot;en&quot;],\r\n    &quot;lastLiquibaseTimestamp&quot;: 1652963029000,\r\n    &quot;messageBroker&quot;: false,\r\n    &quot;nativeLanguage&quot;: &quot;en&quot;,\r\n    &quot;otherModules&quot;: [],\r\n    &quot;packageFolder&quot;: &quot;com/xxx&quot;,\r\n    &quot;packageName&quot;: &quot;com.xxx&quot;,\r\n    &quot;pages&quot;: [],\r\n    &quot;prodDatabaseType&quot;: &quot;mysql&quot;,\r\n    &quot;reactive&quot;: false,\r\n    &quot;searchEngine&quot;: false,\r\n    &quot;serverPort&quot;: &quot;8090&quot;,\r\n    &quot;serviceDiscoveryType&quot;: false,\r\n    &quot;skipCheckLengthOfIdentifier&quot;: false,\r\n    &quot;skipFakeData&quot;: false,\r\n    &quot;skipUserManagement&quot;: false,\r\n    &quot;testFrameworks&quot;: [],\r\n    &quot;websocket&quot;: &quot;spring-websocket&quot;,\r\n    &quot;withAdminUi&quot;: true\r\n  }\r\n}\r\n\r\n##### **Environment and Tools**\r\n\r\nopenjdk version &quot;11.0.15&quot; 2022-04-19\r\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\r\n\r\ngit version 2.33.0.windows.2\r\n\r\nnode: v16.15.1\r\n\r\nnpm: 8.11.0\r\n\r\nDocker version 20.10.17, build 100c701\r\n\r\nDocker Compose version v2.6.1\r\n```\r\n\r\n[Here is the error log][1] It&#39;s long then I created a gist.\r\n\r\n\r\n  [1]: https://gist.github.com/dungreact/4a3dfd5b53674018feb49c413f299b09","title":"Unable to authenticate in Jhipster","body":"<p>I'm create an application using Jhipster stack and development on Windows 10, here is application config</p>\n<pre><code>application {\n  config {\n    baseName xxx\n    applicationType monolith\n    packageName com.xxx\n    authenticationType jwt\n    prodDatabaseType mysql\n    devDatabaseType mysql\n    buildTool gradle\n    cacheProvider redis\n    clientFramework angularX\n    serverPort 8090\n    websocket spring-websocket\n  }\n  entities *\n}\n</code></pre>\n<p>The problem is I can't even login to the default account or register the new one.</p>\n<p>I tried to find the solution and got that someone put <code>-Djdk.io.File.enableADS=true</code> into VM options will work but I'm not. Especially, this error only occur on Windows, I tried to run this app without any modifier on Macos and it's working normally. But Macos is not my primary development enviroment then I have to make it work on Windows, thanks</p>\n<p>Jhipster info:</p>\n<pre><code>&lt;summary&gt;.yo-rc.json file&lt;/summary&gt;\n{\n  &quot;generator-jhipster&quot;: {\n    &quot;applicationIndex&quot;: 0,\n    &quot;applicationType&quot;: &quot;monolith&quot;,\n    &quot;authenticationType&quot;: &quot;jwt&quot;,\n    &quot;baseName&quot;: &quot;xxx&quot;,\n    &quot;blueprints&quot;: [],\n    &quot;buildTool&quot;: &quot;gradle&quot;,\n    &quot;cacheProvider&quot;: &quot;redis&quot;,\n    &quot;clientFramework&quot;: &quot;angularX&quot;,\n    &quot;clientPackageManager&quot;: &quot;npm&quot;,\n    &quot;clientTheme&quot;: &quot;none&quot;,\n    &quot;clientThemeVariant&quot;: &quot;&quot;,\n    &quot;creationTimestamp&quot;: 1652962669893,\n    &quot;databaseType&quot;: &quot;sql&quot;,\n    &quot;devDatabaseType&quot;: &quot;mysql&quot;,\n    &quot;devServerPort&quot;: 4200,\n    &quot;dtoSuffix&quot;: &quot;DTO&quot;,\n    &quot;enableGradleEnterprise&quot;: false,\n    &quot;enableHibernateCache&quot;: true,\n    &quot;enableSwaggerCodegen&quot;: false,\n    &quot;enableTranslation&quot;: true,\n    &quot;entities&quot;: [&quot;Movie&quot;, &quot;Actor&quot;, &quot;Category&quot;, &quot;Country&quot;, &quot;Manufacturer&quot;, &quot;Link&quot;],\n    &quot;entitySuffix&quot;: &quot;&quot;,\n    &quot;gradleEnterpriseHost&quot;: &quot;&quot;,\n    &quot;jhiPrefix&quot;: &quot;jhi&quot;,\n    &quot;jhipsterVersion&quot;: &quot;7.8.1&quot;,\n    &quot;jwtSecretKey&quot;: &quot;YourJWTSecretKeyWasReplacedByThisMeaninglessTextByTheJHipsterInfoCommandForObviousSecurityReasons&quot;,\n    &quot;languages&quot;: [&quot;en&quot;],\n    &quot;lastLiquibaseTimestamp&quot;: 1652963029000,\n    &quot;messageBroker&quot;: false,\n    &quot;nativeLanguage&quot;: &quot;en&quot;,\n    &quot;otherModules&quot;: [],\n    &quot;packageFolder&quot;: &quot;com/xxx&quot;,\n    &quot;packageName&quot;: &quot;com.xxx&quot;,\n    &quot;pages&quot;: [],\n    &quot;prodDatabaseType&quot;: &quot;mysql&quot;,\n    &quot;reactive&quot;: false,\n    &quot;searchEngine&quot;: false,\n    &quot;serverPort&quot;: &quot;8090&quot;,\n    &quot;serviceDiscoveryType&quot;: false,\n    &quot;skipCheckLengthOfIdentifier&quot;: false,\n    &quot;skipFakeData&quot;: false,\n    &quot;skipUserManagement&quot;: false,\n    &quot;testFrameworks&quot;: [],\n    &quot;websocket&quot;: &quot;spring-websocket&quot;,\n    &quot;withAdminUi&quot;: true\n  }\n}\n\n##### **Environment and Tools**\n\nopenjdk version &quot;11.0.15&quot; 2022-04-19\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\n\ngit version 2.33.0.windows.2\n\nnode: v16.15.1\n\nnpm: 8.11.0\n\nDocker version 20.10.17, build 100c701\n\nDocker Compose version v2.6.1\n</code></pre>\n<p><a href=\"https://gist.github.com/dungreact/4a3dfd5b53674018feb49c413f299b09\" rel=\"nofollow noreferrer\">Here is the error log</a> It's long then I created a gist.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1658242256,"post_id":73039057,"comment_id":129000168,"body_markdown":"Please make the effort to format your code properly. Make it easy for the people, who will help you with your issue.","body":"Please make the effort to format your code properly. Make it easy for the people, who will help you with your issue."}],"answers":[{"tags":[],"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658323097,"creation_date":1658242403,"answer_id":73039173,"question_id":73039057,"body_markdown":"You need to initialize your `driver` variable in your `CommonFunctions` class.\r\n\r\n    WebDriver driver = new WebDriver(... etc);\r\n\r\nOr, write a constructor that initializes this variable.\r\n\r\n    public class CommonFunctions \r\n    {\r\n      public WebDriver driver;\r\n    \r\n      public CommonFunctions() // Constructor\r\n      {\r\n          driver = new WebDriver();\r\n      }","title":"How to replace static driver method","body":"<p>You need to initialize your <code>driver</code> variable in your <code>CommonFunctions</code> class.</p>\n<pre><code>WebDriver driver = new WebDriver(... etc);\n</code></pre>\n<p>Or, write a constructor that initializes this variable.</p>\n<pre><code>public class CommonFunctions \n{\n  public WebDriver driver;\n\n  public CommonFunctions() // Constructor\n  {\n      driver = new WebDriver();\n  }\n</code></pre>\n"}],"owner":{"account_id":25845495,"reputation":3,"user_id":19580410,"display_name":"heaven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73039173,"answer_count":1,"score":-1,"last_activity_date":1658323097,"creation_date":1658242001,"question_id":73039057,"body_markdown":"```\r\npublic class CommonFunctions {\r\n\r\n  public static WebDriver driver;\r\n\r\n  public void openWebsite(String url) {\r\n    driver.get(url);\r\n  }\r\n\r\n  public void closeBrowser() {\r\n    driver.close();\r\n  }\r\n}\r\n```\r\n```\r\npublic class TestCase {\r\n\r\n  CommonFunctions commonFunctions = new CommonFunctions();\r\n\r\n  @BeforeMethod\r\n  public void openWeb() {\r\n    homePage.openWeb();\r\n  }\r\n\r\n  @Test\r\n  public void navigateLoginPage() {\r\n    homePage.login();\r\n  }\r\n\r\n  @AfterMethod\r\n  public void closeBrowser() {\r\n    commonFunctions.closeBrowser();\r\n  }\r\n}\r\n```\r\n\r\nI have two class (commonfunction,homepage and testcase). When I run code without &quot;**static**&quot; at &quot;**public static Webdriver driver**&quot;, the code throw nullpointerexception at function &quot;**closeBrowser**&quot;. How to fix this error. I don&#39;t want use method &quot;**public static Webdriver driver**&quot; as code.\r\n\r\n\r\n","title":"How to replace static driver method","body":"<pre><code>public class CommonFunctions {\n\n  public static WebDriver driver;\n\n  public void openWebsite(String url) {\n    driver.get(url);\n  }\n\n  public void closeBrowser() {\n    driver.close();\n  }\n}\n</code></pre>\n<pre><code>public class TestCase {\n\n  CommonFunctions commonFunctions = new CommonFunctions();\n\n  @BeforeMethod\n  public void openWeb() {\n    homePage.openWeb();\n  }\n\n  @Test\n  public void navigateLoginPage() {\n    homePage.login();\n  }\n\n  @AfterMethod\n  public void closeBrowser() {\n    commonFunctions.closeBrowser();\n  }\n}\n</code></pre>\n<p>I have two class (commonfunction,homepage and testcase). When I run code without &quot;<strong>static</strong>&quot; at &quot;<strong>public static Webdriver driver</strong>&quot;, the code throw nullpointerexception at function &quot;<strong>closeBrowser</strong>&quot;. How to fix this error. I don't want use method &quot;<strong>public static Webdriver driver</strong>&quot; as code.</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658153557,"post_id":73023318,"comment_id":128973867,"body_markdown":"&quot;fastest execution&quot;, &quot;execution time&quot; maybe you could clarify what we are talking about? is it seconds/microseconds? and what are you testing, the memory array occupies?","body":"&quot;fastest execution&quot;, &quot;execution time&quot; maybe you could clarify what we are talking about? is it seconds/microseconds? and what are you testing, the memory array occupies?"},{"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"score":0,"creation_date":1658154918,"post_id":73023318,"comment_id":128974526,"body_markdown":"The time unit of the test is seconds. \nMainly want to test the execution time and memory usage at different memory sizes. Thanks for your inquiry and addition !","body":"The time unit of the test is seconds.  Mainly want to test the execution time and memory usage at different memory sizes. Thanks for your inquiry and addition !"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":1,"creation_date":1658155149,"post_id":73023318,"comment_id":128974669,"body_markdown":"but would you like to share the results? it&#39;s hard to judge based on nothing","body":"but would you like to share the results? it&#39;s hard to judge based on nothing"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658160877,"post_id":73023318,"comment_id":128977157,"body_markdown":"Your code is not doing anything useful; in the best case, a static compiler will eliminate everything but the last print statement. And, of course, such a simple program does not benefit from a JIT. Which aspect of the execution environment should affect this program?","body":"Your code is not doing anything useful; in the best case, a static compiler will eliminate everything but the last print statement. And, of course, such a simple program does not benefit from a JIT. Which aspect of the execution environment should affect this program?"},{"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"score":0,"creation_date":1658161213,"post_id":73023318,"comment_id":128977283,"body_markdown":"Of course, I&#39;m also concerned about whether it&#39;s hard to convey what I mean without experimental data.","body":"Of course, I&#39;m also concerned about whether it&#39;s hard to convey what I mean without experimental data."},{"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"score":0,"creation_date":1658162242,"post_id":73023318,"comment_id":128977670,"body_markdown":"Reply to Holger: I understand what you mean, but I have obtained the exact memory usage value in the test.(more than ten times)","body":"Reply to Holger: I understand what you mean, but I have obtained the exact memory usage value in the test.(more than ten times)"},{"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"score":0,"creation_date":1658203449,"post_id":73023318,"comment_id":128986818,"body_markdown":"I have posted my experimental data. The memory usage below is the average value, and the difference between the measured values ​​will not exceed 1MB. \nThank you very much for the above two answers !","body":"I have posted my experimental data. The memory usage below is the average value, and the difference between the measured values ​​will not exceed 1MB.  Thank you very much for the above two answers !"},{"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"score":0,"creation_date":1658229665,"post_id":73023318,"comment_id":128994665,"body_markdown":"&gt; &quot;Without JIT&quot;. (I close the JIT myself and execute)\n\nWhat does that mean? `-XX:-UseJVMCICompiler`? `-Xint`? How can you &quot;close the JIT&quot;?","body":"&gt; &quot;Without JIT&quot;. (I close the JIT myself and execute)  What does that mean? <code>-XX:-UseJVMCICompiler</code>? <code>-Xint</code>? How can you &quot;close the JIT&quot;?"},{"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"score":0,"creation_date":1658244160,"post_id":73023318,"comment_id":129001012,"body_markdown":"Should be corrected to temporarily disable, not close . Sorry for the wrong words in the translation. I use in  `java -Djava.compiler=NONE &lt;class&gt;`","body":"Should be corrected to temporarily disable, not close . Sorry for the wrong words in the translation. I use in  <code>java -Djava.compiler=NONE &lt;class&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658323057,"creation_date":1658323057,"answer_id":73052376,"question_id":73023318,"body_markdown":"In general, GraalVM native images are going to\r\n* Have much faster startup (compared to running under a JVM)\r\n* Be slightly more compact (compared to JRE + application jars)\r\n* Have reduced peak performance (as they are compiled once and ahead of time, while JVM can recompile/reoptimize code as it is being run)","title":"I&#39;m not sure about if GraalVM native image has all the advantages in any system environment","body":"<p>In general, GraalVM native images are going to</p>\n<ul>\n<li>Have much faster startup (compared to running under a JVM)</li>\n<li>Be slightly more compact (compared to JRE + application jars)</li>\n<li>Have reduced peak performance (as they are compiled once and ahead of time, while JVM can recompile/reoptimize code as it is being run)</li>\n</ul>\n"}],"owner":{"account_id":25835849,"reputation":1,"user_id":19572262,"display_name":"何承育"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658323057,"creation_date":1658151713,"question_id":73023318,"body_markdown":"I did some experiments according to the following code, and obtained some experimental results. Mainly compare three cases: 1. without JIT, 2. JIT (default), 3. Execution file generated after Graal native-image\r\n\r\n 1. The fastest execution result in my 8G memory environment turned out to be &quot;Without JIT&quot;. (I close the JIT myself and execute)\r\n 2. The execution time of Graal native-image and JIT are longer than that of 2G in the environment of 8G memory.\r\n 3. &quot;Without JIT&quot; and JIT are executed in 8G and 2G of memory, 8G takes up less memory when executing programs. (2G is 462MB vs. 8G is 457MB)\r\n\r\nI would like to know if anyone has done relevant tests and got the experimental results that match me, or that my experimental process is wrong.\r\n\r\nThis is my code.\r\n```\r\npublic class testmemory{\r\n\tpublic static void main(String[] args){\r\n\t\tint nums2 = 1024*1024*16;\r\n\t\tint[][] arr2 = new int[nums2][2];\r\n\t\tfor(int i = 0;i &lt; arr2.length;i++){\r\n\t\t\tarr2[i][0] = i;\r\n\t\t\tarr2[i][1] = i;\r\n\t\t}\r\n\r\n\t\tlong memory2 = Runtime.getRuntime().totalMemory()/1024/1024 - Runtime.getRuntime().freeMemory() / 1024 / 1024;\r\n\t\t//long memory2 = Runtime.getRuntime().totalMemory()/1024/1024;\r\n\t\tSystem.out.println(&quot;memory used：&quot;+memory2+&quot;MB&quot;);\r\n\t}\r\n}\r\n```\r\nThis is my experimental data. I&#39;m sorry, I didn&#39;t sort it out in the first place.\r\n\r\n[This is the experimental data under the memory configuration of 2G][1]\r\n\r\n[This is the experimental data under the memory configuration of 8G][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RMPF7.png\r\n  [2]: https://i.stack.imgur.com/ly3Ng.png","title":"I&#39;m not sure about if GraalVM native image has all the advantages in any system environment","body":"<p>I did some experiments according to the following code, and obtained some experimental results. Mainly compare three cases: 1. without JIT, 2. JIT (default), 3. Execution file generated after Graal native-image</p>\n<ol>\n<li>The fastest execution result in my 8G memory environment turned out to be &quot;Without JIT&quot;. (I close the JIT myself and execute)</li>\n<li>The execution time of Graal native-image and JIT are longer than that of 2G in the environment of 8G memory.</li>\n<li>&quot;Without JIT&quot; and JIT are executed in 8G and 2G of memory, 8G takes up less memory when executing programs. (2G is 462MB vs. 8G is 457MB)</li>\n</ol>\n<p>I would like to know if anyone has done relevant tests and got the experimental results that match me, or that my experimental process is wrong.</p>\n<p>This is my code.</p>\n<pre><code>public class testmemory{\n    public static void main(String[] args){\n        int nums2 = 1024*1024*16;\n        int[][] arr2 = new int[nums2][2];\n        for(int i = 0;i &lt; arr2.length;i++){\n            arr2[i][0] = i;\n            arr2[i][1] = i;\n        }\n\n        long memory2 = Runtime.getRuntime().totalMemory()/1024/1024 - Runtime.getRuntime().freeMemory() / 1024 / 1024;\n        //long memory2 = Runtime.getRuntime().totalMemory()/1024/1024;\n        System.out.println(&quot;memory used：&quot;+memory2+&quot;MB&quot;);\n    }\n}\n</code></pre>\n<p>This is my experimental data. I'm sorry, I didn't sort it out in the first place.</p>\n<p><a href=\"https://i.stack.imgur.com/RMPF7.png\" rel=\"nofollow noreferrer\">This is the experimental data under the memory configuration of 2G</a></p>\n<p><a href=\"https://i.stack.imgur.com/ly3Ng.png\" rel=\"nofollow noreferrer\">This is the experimental data under the memory configuration of 8G</a></p>\n"},{"tags":["java","android","jena"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1285359549,"post_id":3494412,"comment_id":4016487,"body_markdown":"I have no solution but I&#39;m curious as to how you would access the JMX on an android device?  Is this for doing IPC between Android apps?","body":"I have no solution but I&#39;m curious as to how you would access the JMX on an android device?  Is this for doing IPC between Android apps?"},{"owner":{"account_id":418377,"reputation":534,"user_id":794902,"display_name":"Al Baker"},"score":0,"creation_date":1310916042,"post_id":3494412,"comment_id":7965014,"body_markdown":"I think this question belongs on the Jena mailing list - see what the purpose of that usage is, and if it can be moved to a separate jena-management jar instead.  A cursory look through the Jena and ARQ source code shows that the core Jena model/query/graph usage does not use it.","body":"I think this question belongs on the Jena mailing list - see what the purpose of that usage is, and if it can be moved to a separate jena-management jar instead.  A cursory look through the Jena and ARQ source code shows that the core Jena model/query/graph usage does not use it."}],"answers":[{"tags":[],"owner":{"account_id":191282,"reputation":1081,"user_id":431773,"display_name":"Ivin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351168877,"creation_date":1351168877,"answer_id":13068841,"question_id":3494412,"body_markdown":"You might want to check out the project [androjena](https://code.google.com/p/androjena/) and its sub-project [ARQoid](https://code.google.com/p/androjena/wiki/ARQoid).\r\nThese are ports of jena and ARQ to android that I have successfully used in a project porting software to Android that is based on jena. I cannot say, though, how complete/correct/up-to-date the port is with respect to the orginals\r\n","title":"javax.management in Android","body":"<p>You might want to check out the project <a href=\"https://code.google.com/p/androjena/\" rel=\"nofollow\">androjena</a> and its sub-project <a href=\"https://code.google.com/p/androjena/wiki/ARQoid\" rel=\"nofollow\">ARQoid</a>.\nThese are ports of jena and ARQ to android that I have successfully used in a project porting software to Android that is based on jena. I cannot say, though, how complete/correct/up-to-date the port is with respect to the orginals</p>\n"},{"tags":[],"owner":{"account_id":13686529,"reputation":399,"user_id":9875498,"display_name":"geckoflume"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658322986,"creation_date":1658322986,"answer_id":73052355,"question_id":3494412,"body_markdown":"I encountered this issue while trying to use [Apache MINA SSHD client][1], which relies on javax.management Exceptions wrappers (such as javax.management.MBeanException, javax.management.ReflectionException).\r\n\r\nAfter some search, it seems that using `javax.management:jmx` from https://mvnrepository.com/artifact/javax.management/jmx works just fine.\r\nI just had to add the following to my `settings.gradle`, under `google()` and `mavenCentral()` repositories :\r\n```gradle\r\nmaven {\r\n    url &#39;https://www.datanucleus.org/downloads/maven2/&#39;\r\n}\r\n```\r\nThen, adding the following dependency to `build.gradle` did the trick!\r\n```gradle\r\nimplementation &#39;javax.management:jmx:1.2.1&#39;\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/mina-sshd","title":"javax.management in Android","body":"<p>I encountered this issue while trying to use <a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">Apache MINA SSHD client</a>, which relies on javax.management Exceptions wrappers (such as javax.management.MBeanException, javax.management.ReflectionException).</p>\n<p>After some search, it seems that using <code>javax.management:jmx</code> from <a href=\"https://mvnrepository.com/artifact/javax.management/jmx\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.management/jmx</a> works just fine.\nI just had to add the following to my <code>settings.gradle</code>, under <code>google()</code> and <code>mavenCentral()</code> repositories :</p>\n<pre><code>maven {\n    url 'https://www.datanucleus.org/downloads/maven2/'\n}\n</code></pre>\n<p>Then, adding the following dependency to <code>build.gradle</code> did the trick!</p>\n<pre><code>implementation 'javax.management:jmx:1.2.1'\n</code></pre>\n"}],"owner":{"account_id":10723,"reputation":1767,"user_id":20386,"accept_rate":80,"display_name":"Animesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1658322986,"creation_date":1281971014,"question_id":3494412,"body_markdown":"I am using a library (ARQ, with Jena), that uses `javax.management.ObjectName`. Sadly, it appears that the package `javax.management` is not included in android.\r\n\r\nHas anyone else faced (and successfully bypassed) this issue? Pointers will be deeply appreciated.\r\n\r\nThanks.","title":"javax.management in Android","body":"<p>I am using a library (ARQ, with Jena), that uses <code>javax.management.ObjectName</code>. Sadly, it appears that the package <code>javax.management</code> is not included in android.</p>\n\n<p>Has anyone else faced (and successfully bypassed) this issue? Pointers will be deeply appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","swing","swingworker"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1658190290,"post_id":73029551,"comment_id":128984861,"body_markdown":"Your missing use the `SwingWorker` - the `SwingWorker` should avoid interacting with the UI (or a state the UI relies on) and instead, it should be making changes and then &quot;publishing&quot; them so they can be applied to the UI, for [example](https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352)","body":"Your missing use the <code>SwingWorker</code> - the <code>SwingWorker</code> should avoid interacting with the UI (or a state the UI relies on) and instead, it should be making changes and then &quot;publishing&quot; them so they can be applied to the UI, for <a href=\"https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658229312,"creation_date":1658202826,"answer_id":73030934,"question_id":73029551,"body_markdown":"This is not as easy as it might seem, but, the basic answer comes down to making use of models and observers (something like the &quot;model-view-controller&quot; concept), so you can decouple the workflows in a more meaningful way.\r\n\r\nOne important note to make is, Swing is NOT thread save.  This means that you should not be modifying the UI or any state the UI relies on from out side the context the Event Dispatching Thread.  Under your current workflow it&#39;s possible for the `SwingWorker` to modify the state of the array (and other state values) while the UI is been painted, this could cause no end of issues.\r\n\r\nThe core functionality of a sorter is basically the same, it needs some values, needs to be able to swap those values and needs to deliver notifications to interested parties that some kind of state has changed.\r\n\r\n    public interface Sorter {\r\n        public interface Observer {\r\n            public void swap(int from, int to);\r\n            public void setCurrent(int current);\r\n            public void setTraverse(int traverse);\r\n        }\r\n\r\n        public int[] sort(int[] values, Observer observer);\r\n    }\r\n\r\nOkay, pretty basic, but the nice idea behind this anything that changes the values can be used, for example, we can shuffle the values through the interface...\r\n\r\n    public class ShuffleSorter extends AbstractSorter {\r\n        @Override\r\n        public int[] sort(int[] original, Observer observer) {\r\n            int[] values = Arrays.copyOf(original, original.length);\r\n            Random random = new Random();\r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                int swap = random.nextInt(values.length - 1);\r\n                fireSetCurrent(observer, i);\r\n                fireSetTraverse(observer, i);\r\n                Helper.swap(values, i, swap);\r\n                fireSwap(observer, i, swap);\r\n                try {\r\n                    Thread.sleep(5);\r\n                } catch (InterruptedException ex) {\r\n                }\r\n            }\r\n            return values;\r\n        }\r\n    }\r\n\r\nAnd the insertion sorter...\r\n\r\n    public class InsertionSorter extends AbstractSorter {\r\n        @Override\r\n        public int[] sort(int[] original, Observer observer) {\r\n            int[] values = Arrays.copyOf(original, original.length);\r\n            for (int current = 1; current &lt; values.length; current++) {\r\n                int traverse = current;\r\n                fireSetCurrent(observer, current);\r\n                fireSetTraverse(observer, traverse);\r\n                while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\r\n                    Helper.swap(values, traverse, traverse - 1);\r\n                    fireSwap(observer, traverse, traverse - 1);\r\n                    traverse--;\r\n                    fireSetTraverse(observer, traverse);\r\n                    try {\r\n                        Thread.sleep(5);\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            }\r\n            fireSetCurrent(observer, values.length - 1);\r\n            fireSetTraverse(observer, values.length - 1);\r\n            return values;\r\n        }\r\n\r\n    }\r\n\r\nThe idea here is the sorters will generate events telling what&#39;s changed, so you can apply those changes to the view independently of the sorters, so you don&#39;t risk dirty updates.\r\n\r\nAnd finally, the `SwingWorker`\r\n\r\n    public class SortWorker extends SwingWorker&lt;Void, Void&gt; {\r\n        private Sorter sorter;\r\n        private int[] values;\r\n        private Sorter.Observer observer;\r\n\r\n        public SortWorker(int[] values, Sorter sorter, Sorter.Observer observer) {\r\n            this.sorter = sorter;\r\n            this.values = values;\r\n            this.observer = observer;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground() throws Exception {\r\n            int[] shuffled = new ShuffleSorter().sort(values, observer);\r\n            sorter.sort(shuffled, observer);\r\n            return null;\r\n        }\r\n    }\r\n\r\nNow, this will shuffle the values and the re-sort them as a single unit of work.\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new SortPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class SortPane extends JPanel {\r\n            final int SCREEN_WIDTH = 1280;\r\n            final int SCREEN_HEIGHT = 720;\r\n            final int BAR_HEIGHT = SCREEN_HEIGHT * 4 / 5;\r\n            final int BAR_WIDTH = 5;\r\n            final int NUM_BARS = SCREEN_WIDTH / BAR_WIDTH;\r\n\r\n            private JButton bubbleSort = new JButton();\r\n            private JButton insertSort = new JButton();\r\n\r\n            private int[] values = new int[NUM_BARS];\r\n            private int current = 0;\r\n            private int traverse = 0;\r\n\r\n            public SortPane() {\r\n                for (int i = 0; i &lt; NUM_BARS; i++) {\r\n                    values[i] = i * BAR_HEIGHT / NUM_BARS;\r\n                }\r\n\r\n                //InsertionSort Button\r\n                insertSort.setText(&quot;Insertion Sort&quot;);\r\n                this.add(insertSort);\r\n                insertSort.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        insertSort.setEnabled(false);\r\n                        bubbleSort.setEnabled(false);\r\n\r\n                        current = 0;\r\n                        traverse = 0;\r\n\r\n                        SortWorker sortWorker = new SortWorker(values, new InsertionSorter(), new Sorter.Observer() {\r\n                            @Override\r\n                            public void swap(int from, int to) {\r\n                                SwingUtilities.invokeLater(() -&gt; {\r\n                                    Helper.swap(values, from, to);\r\n                                    repaint();\r\n                                });\r\n                            }\r\n\r\n                            @Override\r\n                            public void setCurrent(int current) {\r\n                                SwingUtilities.invokeLater(() -&gt; {\r\n                                    SortPane.this.current = current;\r\n                                    repaint();\r\n                                });\r\n                            }\r\n\r\n                            @Override\r\n                            public void setTraverse(int traverse) {\r\n                                SwingUtilities.invokeLater(() -&gt; {\r\n                                    SortPane.this.traverse = traverse;\r\n                                    repaint();\r\n                                });\r\n                            }\r\n                        });\r\n                        sortWorker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                            @Override\r\n                            public void propertyChange(PropertyChangeEvent evt) {\r\n                                if (sortWorker.getState() == SwingWorker.StateValue.DONE) {\r\n                                    insertSort.setEnabled(true);\r\n                                    bubbleSort.setEnabled(true);\r\n                                }\r\n                            }\r\n                        });\r\n                        sortWorker.execute();\r\n                    }\r\n                });\r\n\r\n                //BubbleSort Button\r\n                bubbleSort.setText(&quot;Bubble Sort&quot;);\r\n                this.add(bubbleSort);\r\n                bubbleSort.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                g.setColor(Color.white);\r\n                for (int i = 0; i &lt; values.length; i++) {\r\n                    g2d.fillRect(i * BAR_WIDTH, SCREEN_HEIGHT - values[i], BAR_WIDTH, values[i]);\r\n                }\r\n\r\n                g2d.setColor(Color.green);\r\n                g2d.fillRect(current * BAR_WIDTH, SCREEN_HEIGHT - values[current], BAR_WIDTH, values[current]);\r\n\r\n                g2d.setColor(Color.red);\r\n                g2d.fillRect(traverse * BAR_WIDTH, SCREEN_HEIGHT - values[traverse], BAR_WIDTH, values[traverse]);\r\n\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public class Helper {\r\n            public static void swap(int[] values, int indexOne, int indexTwo) {\r\n                int temp = values[indexOne];\r\n                values[indexOne] = values[indexTwo];\r\n                values[indexTwo] = temp;\r\n            }\r\n        }\r\n\r\n        public interface Sorter {\r\n            public interface Observer {\r\n                public void swap(int from, int to);\r\n                public void setCurrent(int current);\r\n                public void setTraverse(int traverse);\r\n            }\r\n            public int[] sort(int[] values, Observer observer);\r\n        }\r\n\r\n        public abstract class AbstractSorter implements Sorter {\r\n            protected void fireSwap(Observer obserer, int from, int to) {\r\n                obserer.swap(from, to);\r\n            }\r\n\r\n            protected void fireSetCurrent(Observer obserer, int current) {\r\n                obserer.setCurrent(current);\r\n            }\r\n\r\n            protected void fireSetTraverse(Observer obserer, int traverse) {\r\n                obserer.setTraverse(traverse);\r\n            }\r\n        }\r\n\r\n        public class ShuffleSorter extends AbstractSorter {\r\n            @Override\r\n            public int[] sort(int[] original, Observer observer) {\r\n                int[] values = Arrays.copyOf(original, original.length);\r\n                Random random = new Random();\r\n                for (int i = 0; i &lt; values.length; i++) {\r\n                    int swap = random.nextInt(values.length - 1);\r\n                    fireSetCurrent(observer, i);\r\n                    fireSetTraverse(observer, i);\r\n                    Helper.swap(values, i, swap);\r\n                    fireSwap(observer, i, swap);\r\n                    try {\r\n                        Thread.sleep(5);\r\n                    } catch (InterruptedException ex) {\r\n                    }\r\n                }\r\n                return values;\r\n            }\r\n        }\r\n\r\n        public class InsertionSorter extends AbstractSorter {\r\n            @Override\r\n            public int[] sort(int[] original, Observer observer) {\r\n                int[] values = Arrays.copyOf(original, original.length);\r\n                for (int current = 1; current &lt; values.length; current++) {\r\n                    int traverse = current;\r\n                    fireSetCurrent(observer, current);\r\n                    fireSetTraverse(observer, traverse);\r\n                    while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\r\n                        Helper.swap(values, traverse, traverse - 1);\r\n                        fireSwap(observer, traverse, traverse - 1);\r\n                        traverse--;\r\n                        fireSetTraverse(observer, traverse);\r\n                        try {\r\n                            Thread.sleep(5);\r\n                        } catch (InterruptedException ex) {\r\n                            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                    }\r\n                }\r\n                fireSetCurrent(observer, values.length - 1);\r\n                fireSetTraverse(observer, values.length - 1);\r\n                return values;\r\n            }\r\n\r\n        }\r\n\r\n        public class SortWorker extends SwingWorker&lt;Void, Void&gt; {\r\n            private Sorter sorter;\r\n            private int[] values;\r\n            private Sorter.Observer observer;\r\n\r\n            public SortWorker(int[] values, Sorter sorter, Sorter.Observer observer) {\r\n                this.sorter = sorter;\r\n                this.values = values;\r\n                this.observer = observer;\r\n            }\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n                int[] shuffled = new ShuffleSorter().sort(values, observer);\r\n                sorter.sort(shuffled, observer);\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n# Food for thought...\r\n\r\nA different approach would be to sort the values and in the process generate a series of &quot;events&quot; which describe what actions are been carried out.  This would allow you to take the same starting data and apply those actions in a more controlled manner (using a Swing `Timer` for example).  This would reduce some of the overhead of having to copy the array data each time an update occurs.\r\n\r\nIf you&#39;re interested, I&#39;ve done an example [here](https://gist.github.com/RustyKnight/40a4581830b9899c6e18f5ddee0707a9)","title":"Separating Swingworker Functions into different Classes Java","body":"<p>This is not as easy as it might seem, but, the basic answer comes down to making use of models and observers (something like the &quot;model-view-controller&quot; concept), so you can decouple the workflows in a more meaningful way.</p>\n<p>One important note to make is, Swing is NOT thread save.  This means that you should not be modifying the UI or any state the UI relies on from out side the context the Event Dispatching Thread.  Under your current workflow it's possible for the <code>SwingWorker</code> to modify the state of the array (and other state values) while the UI is been painted, this could cause no end of issues.</p>\n<p>The core functionality of a sorter is basically the same, it needs some values, needs to be able to swap those values and needs to deliver notifications to interested parties that some kind of state has changed.</p>\n<pre><code>public interface Sorter {\n    public interface Observer {\n        public void swap(int from, int to);\n        public void setCurrent(int current);\n        public void setTraverse(int traverse);\n    }\n\n    public int[] sort(int[] values, Observer observer);\n}\n</code></pre>\n<p>Okay, pretty basic, but the nice idea behind this anything that changes the values can be used, for example, we can shuffle the values through the interface...</p>\n<pre><code>public class ShuffleSorter extends AbstractSorter {\n    @Override\n    public int[] sort(int[] original, Observer observer) {\n        int[] values = Arrays.copyOf(original, original.length);\n        Random random = new Random();\n        for (int i = 0; i &lt; values.length; i++) {\n            int swap = random.nextInt(values.length - 1);\n            fireSetCurrent(observer, i);\n            fireSetTraverse(observer, i);\n            Helper.swap(values, i, swap);\n            fireSwap(observer, i, swap);\n            try {\n                Thread.sleep(5);\n            } catch (InterruptedException ex) {\n            }\n        }\n        return values;\n    }\n}\n</code></pre>\n<p>And the insertion sorter...</p>\n<pre><code>public class InsertionSorter extends AbstractSorter {\n    @Override\n    public int[] sort(int[] original, Observer observer) {\n        int[] values = Arrays.copyOf(original, original.length);\n        for (int current = 1; current &lt; values.length; current++) {\n            int traverse = current;\n            fireSetCurrent(observer, current);\n            fireSetTraverse(observer, traverse);\n            while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\n                Helper.swap(values, traverse, traverse - 1);\n                fireSwap(observer, traverse, traverse - 1);\n                traverse--;\n                fireSetTraverse(observer, traverse);\n                try {\n                    Thread.sleep(5);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        }\n        fireSetCurrent(observer, values.length - 1);\n        fireSetTraverse(observer, values.length - 1);\n        return values;\n    }\n\n}\n</code></pre>\n<p>The idea here is the sorters will generate events telling what's changed, so you can apply those changes to the view independently of the sorters, so you don't risk dirty updates.</p>\n<p>And finally, the <code>SwingWorker</code></p>\n<pre><code>public class SortWorker extends SwingWorker&lt;Void, Void&gt; {\n    private Sorter sorter;\n    private int[] values;\n    private Sorter.Observer observer;\n\n    public SortWorker(int[] values, Sorter sorter, Sorter.Observer observer) {\n        this.sorter = sorter;\n        this.values = values;\n        this.observer = observer;\n    }\n\n    @Override\n    protected Void doInBackground() throws Exception {\n        int[] shuffled = new ShuffleSorter().sort(values, observer);\n        sorter.sort(shuffled, observer);\n        return null;\n    }\n}\n</code></pre>\n<p>Now, this will shuffle the values and the re-sort them as a single unit of work.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new SortPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class SortPane extends JPanel {\n        final int SCREEN_WIDTH = 1280;\n        final int SCREEN_HEIGHT = 720;\n        final int BAR_HEIGHT = SCREEN_HEIGHT * 4 / 5;\n        final int BAR_WIDTH = 5;\n        final int NUM_BARS = SCREEN_WIDTH / BAR_WIDTH;\n\n        private JButton bubbleSort = new JButton();\n        private JButton insertSort = new JButton();\n\n        private int[] values = new int[NUM_BARS];\n        private int current = 0;\n        private int traverse = 0;\n\n        public SortPane() {\n            for (int i = 0; i &lt; NUM_BARS; i++) {\n                values[i] = i * BAR_HEIGHT / NUM_BARS;\n            }\n\n            //InsertionSort Button\n            insertSort.setText(&quot;Insertion Sort&quot;);\n            this.add(insertSort);\n            insertSort.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    insertSort.setEnabled(false);\n                    bubbleSort.setEnabled(false);\n\n                    current = 0;\n                    traverse = 0;\n\n                    SortWorker sortWorker = new SortWorker(values, new InsertionSorter(), new Sorter.Observer() {\n                        @Override\n                        public void swap(int from, int to) {\n                            SwingUtilities.invokeLater(() -&gt; {\n                                Helper.swap(values, from, to);\n                                repaint();\n                            });\n                        }\n\n                        @Override\n                        public void setCurrent(int current) {\n                            SwingUtilities.invokeLater(() -&gt; {\n                                SortPane.this.current = current;\n                                repaint();\n                            });\n                        }\n\n                        @Override\n                        public void setTraverse(int traverse) {\n                            SwingUtilities.invokeLater(() -&gt; {\n                                SortPane.this.traverse = traverse;\n                                repaint();\n                            });\n                        }\n                    });\n                    sortWorker.addPropertyChangeListener(new PropertyChangeListener() {\n                        @Override\n                        public void propertyChange(PropertyChangeEvent evt) {\n                            if (sortWorker.getState() == SwingWorker.StateValue.DONE) {\n                                insertSort.setEnabled(true);\n                                bubbleSort.setEnabled(true);\n                            }\n                        }\n                    });\n                    sortWorker.execute();\n                }\n            });\n\n            //BubbleSort Button\n            bubbleSort.setText(&quot;Bubble Sort&quot;);\n            this.add(bubbleSort);\n            bubbleSort.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            g.setColor(Color.white);\n            for (int i = 0; i &lt; values.length; i++) {\n                g2d.fillRect(i * BAR_WIDTH, SCREEN_HEIGHT - values[i], BAR_WIDTH, values[i]);\n            }\n\n            g2d.setColor(Color.green);\n            g2d.fillRect(current * BAR_WIDTH, SCREEN_HEIGHT - values[current], BAR_WIDTH, values[current]);\n\n            g2d.setColor(Color.red);\n            g2d.fillRect(traverse * BAR_WIDTH, SCREEN_HEIGHT - values[traverse], BAR_WIDTH, values[traverse]);\n\n            g2d.dispose();\n        }\n    }\n\n    public class Helper {\n        public static void swap(int[] values, int indexOne, int indexTwo) {\n            int temp = values[indexOne];\n            values[indexOne] = values[indexTwo];\n            values[indexTwo] = temp;\n        }\n    }\n\n    public interface Sorter {\n        public interface Observer {\n            public void swap(int from, int to);\n            public void setCurrent(int current);\n            public void setTraverse(int traverse);\n        }\n        public int[] sort(int[] values, Observer observer);\n    }\n\n    public abstract class AbstractSorter implements Sorter {\n        protected void fireSwap(Observer obserer, int from, int to) {\n            obserer.swap(from, to);\n        }\n\n        protected void fireSetCurrent(Observer obserer, int current) {\n            obserer.setCurrent(current);\n        }\n\n        protected void fireSetTraverse(Observer obserer, int traverse) {\n            obserer.setTraverse(traverse);\n        }\n    }\n\n    public class ShuffleSorter extends AbstractSorter {\n        @Override\n        public int[] sort(int[] original, Observer observer) {\n            int[] values = Arrays.copyOf(original, original.length);\n            Random random = new Random();\n            for (int i = 0; i &lt; values.length; i++) {\n                int swap = random.nextInt(values.length - 1);\n                fireSetCurrent(observer, i);\n                fireSetTraverse(observer, i);\n                Helper.swap(values, i, swap);\n                fireSwap(observer, i, swap);\n                try {\n                    Thread.sleep(5);\n                } catch (InterruptedException ex) {\n                }\n            }\n            return values;\n        }\n    }\n\n    public class InsertionSorter extends AbstractSorter {\n        @Override\n        public int[] sort(int[] original, Observer observer) {\n            int[] values = Arrays.copyOf(original, original.length);\n            for (int current = 1; current &lt; values.length; current++) {\n                int traverse = current;\n                fireSetCurrent(observer, current);\n                fireSetTraverse(observer, traverse);\n                while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\n                    Helper.swap(values, traverse, traverse - 1);\n                    fireSwap(observer, traverse, traverse - 1);\n                    traverse--;\n                    fireSetTraverse(observer, traverse);\n                    try {\n                        Thread.sleep(5);\n                    } catch (InterruptedException ex) {\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                }\n            }\n            fireSetCurrent(observer, values.length - 1);\n            fireSetTraverse(observer, values.length - 1);\n            return values;\n        }\n\n    }\n\n    public class SortWorker extends SwingWorker&lt;Void, Void&gt; {\n        private Sorter sorter;\n        private int[] values;\n        private Sorter.Observer observer;\n\n        public SortWorker(int[] values, Sorter sorter, Sorter.Observer observer) {\n            this.sorter = sorter;\n            this.values = values;\n            this.observer = observer;\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            int[] shuffled = new ShuffleSorter().sort(values, observer);\n            sorter.sort(shuffled, observer);\n            return null;\n        }\n    }\n}\n</code></pre>\n<h1>Food for thought...</h1>\n<p>A different approach would be to sort the values and in the process generate a series of &quot;events&quot; which describe what actions are been carried out.  This would allow you to take the same starting data and apply those actions in a more controlled manner (using a Swing <code>Timer</code> for example).  This would reduce some of the overhead of having to copy the array data each time an update occurs.</p>\n<p>If you're interested, I've done an example <a href=\"https://gist.github.com/RustyKnight/40a4581830b9899c6e18f5ddee0707a9\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658322662,"creation_date":1658322288,"answer_id":73052172,"question_id":73029551,"body_markdown":"An slightly simpler alternative to (though based on an [intermediate][1] state of) [MadProgrammer&#39;s answer][2] - the intention is to use as few custom notification patterns/classes as possible (== zero :)\r\n\r\nThe collaborators:\r\n\r\n- an immutable SorterModel to encapsulate the current sort progress (same as intermediate in the other answer)\r\n- a custom Worker does the sorting in the background and publishes intermediate sort states as property changes: there&#39;s a base class for doing the bookkeeping and notification, subclasses are specialized on a concrete actual (un-) sort algorithm\r\n- a custom panel to visualize a SorterModel and logic to trigger a sort and to update itself according to the changes reported from the worker \r\n\r\nThe Worker is very similar to the intermediate in the other answer, differs in how it publishes its values: here it uses its own property change api to notify interested parties. \r\n\r\n    @Override\r\n    protected void process(List&lt;SorterModel&gt; chunks) {\r\n        SorterModel last = chunks.get(chunks.size() - 1);\r\n        firePropertyChange(&quot;value&quot;, null, last);\r\n    }\r\n\r\nSubclasses simply use the standard mechanism to publish intermediate result\r\n\r\n    @Override\r\n    protected SorterModel doInBackground() throws Exception {\r\n        // do sorting step\r\n        publish(new SorterModel(&lt;current state&gt;));\r\n        ..\r\n    }\r\n\r\nThe custom panel is very similar to the other answer, except for the logic to start sorting / update visual state. Now that&#39;s extracted (from the button&#39;s action listeners) into a separate method to configure a specialized worker, register a property change listener and update the view&#39;s model (and related state like button enable) in that listener:\r\n\r\n    private void process(SortWorker worker, SortWorker next) {\r\n        updateEnabled(false);\r\n        worker.setModel(getSorterModel());\r\n        worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n\r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent evt) {\r\n\r\n                if (&quot;value&quot;.equals(evt.getPropertyName())) {\r\n                    setSorterModel((SorterModel) evt.getNewValue());\r\n                }\r\n                if (SwingWorker.StateValue.DONE == evt.getNewValue()) {\r\n                     try {\r\n                        setSorterModel(worker.get());\r\n                    } catch (InterruptedException | ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    if (next != null) {\r\n                        process(next, null);\r\n                    } else {\r\n                        updateEnabled(true);\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n        worker.execute();\r\n    }\r\n\r\nIt&#39;s usage from a buttons action might be:\r\n\r\n    insertSort.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            process(new ShuffleWorker(), new InsertionSortWorker());\r\n        }\r\n    });\r\n\r\nNote: \r\n\r\n- the sort classes (worker/model) are unaware of who is using them and do not require a custom observer/n\r\n- the sort trigger/update logic is decoupled from the view - all it needs is a source/target for the model and some enablement toggle. It still resides in the view, though - being lazy, and we had to subclass anyway for custom painting. \r\n\r\nPulling all together into a runnable example:\r\n\r\n    package so.notfx.swing;\r\n    \r\n    public class SortAnimation {\r\n    \r\n        public class SortPane extends JPanel {\r\n    \r\n            final int SCREEN_WIDTH = 800;\r\n            final int SCREEN_HEIGHT = 600;\r\n            final int BAR_HEIGHT = SCREEN_HEIGHT * 4 / 5;\r\n            final int BAR_WIDTH = 5;\r\n            final int NUM_BARS = SCREEN_WIDTH / BAR_WIDTH;\r\n    \r\n            private JButton shuffle = new JButton();\r\n            private JButton bubbleSort = new JButton();\r\n            private JButton insertSort = new JButton();\r\n    \r\n            private int[] values = new int[NUM_BARS];\r\n    \r\n            private SorterModel model;\r\n    \r\n            public SortPane() {\r\n                for (int i = 0; i &lt; NUM_BARS; i++) {\r\n                    values[i] = i * BAR_HEIGHT / NUM_BARS;\r\n                }\r\n    \r\n                model = new SorterModel(values, 0, 0);\r\n    \r\n                // shuffle button to trigger random values\r\n                shuffle.setText(&quot;Shuffle Values&quot;);\r\n                add(shuffle);\r\n                shuffle.addActionListener(e -&gt; {\r\n                    process(new ShuffleWorker(), null);\r\n                });\r\n                // InsertionSort Button\r\n                insertSort.setText(&quot;Insertion Sort&quot;);\r\n                this.add(insertSort);\r\n                insertSort.addActionListener(e -&gt; {\r\n                    process(new ShuffleWorker(), new InsertionSortWorker());\r\n                });\r\n    \r\n                // BubbleSort Button\r\n                bubbleSort.setText(&quot;Bubble Sort&quot;);\r\n                this.add(bubbleSort);\r\n                bubbleSort.addActionListener(e -&gt; {\r\n                    // NYI\r\n                });\r\n            }\r\n    \r\n           //--------------- sort related\r\n    \r\n            public void setSorterModel(SorterModel model) {\r\n                this.model = model;\r\n                repaint();\r\n            }\r\n    \r\n            public SorterModel getSorterModel() {\r\n                return model;\r\n            }\r\n    \r\n            private void updateEnabled(boolean enabled) {\r\n                shuffle.setEnabled(enabled);\r\n                insertSort.setEnabled(enabled);\r\n                bubbleSort.setEnabled(enabled);\r\n            }\r\n    \r\n            private void process(SortWorker worker, SortWorker next) {\r\n                updateEnabled(false);\r\n                worker.setModel(getSorterModel());\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n    \r\n                    @Override\r\n                    public void propertyChange(PropertyChangeEvent evt) {\r\n    \r\n                        if (&quot;value&quot;.equals(evt.getPropertyName())) {\r\n                            setSorterModel((SorterModel) evt.getNewValue());\r\n                        }\r\n                        if (SwingWorker.StateValue.DONE == evt.getNewValue()) {\r\n                            try {\r\n                                setSorterModel(worker.get());\r\n                            } catch (InterruptedException | ExecutionException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            if (next != null) {\r\n                                process(next, null);\r\n                            } else {\r\n                                updateEnabled(true);\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                });\r\n                worker.execute();\r\n            }\r\n    \r\n           //------------------------\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n    \r\n                g.setColor(Color.white);\r\n                for (int i = 0; i &lt; model.length(); i++) {\r\n                    g2d.fillRect(i * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(i), BAR_WIDTH, model.valueAt(i));\r\n                }\r\n    \r\n                int current = model.getCurrent();\r\n                g2d.setColor(Color.green);\r\n                g2d.fillRect(current * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(current), BAR_WIDTH,\r\n                        model.valueAt(current));\r\n    \r\n                int traverse = model.getTraverse();\r\n                g2d.setColor(Color.red);\r\n                g2d.fillRect(traverse * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(traverse), BAR_WIDTH,\r\n                        model.valueAt(traverse));\r\n    \r\n                g2d.dispose();\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new SortAnimation();\r\n        }\r\n    \r\n        public SortAnimation() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new SortPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n    \r\n            });\r\n        }\r\n    \r\n    }\r\n\r\n\r\nwhich is using the support class:\r\n\r\n    package so.notfx.swing;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.SwingWorker;\r\n\r\n    /**\r\n     * Utility class for sort animation. \r\n     * Contains a SorterModel with current sort state and workers that are doing\r\n     * the sorting on the background thread and publishing intermediate results\r\n     *  as property changes with name &quot;value&quot;.\r\n     */\r\n    public class SortAnimationSupport {\r\n    \r\n        /**\r\n         * Base class: bookkeeping, helper and publish a property change for its value. Subclasses are supposed to\r\n         * implement the actual sorting in the background and publish a new SorterModel with the current sort\r\n         * state when appropriate.\r\n         */\r\n        public static abstract class SortWorker extends SwingWorker&lt;SorterModel, SorterModel&gt; {\r\n    \r\n            int[] values;\r\n    \r\n            public void setModel(SorterModel model) {\r\n                if (getState() != StateValue.PENDING)\r\n                    throw new IllegalStateException(&quot;model must not be modified after starting the worker&quot;);\r\n                values = Arrays.copyOf(model.getValues(), model.getValues().length);\r\n            }\r\n    \r\n            @Override\r\n            protected void process(List&lt;SorterModel&gt; chunks) {\r\n                SorterModel last = chunks.get(chunks.size() - 1);\r\n                firePropertyChange(&quot;value&quot;, null, last);\r\n            }\r\n    \r\n            protected void swap(int indexOne, int indexTwo) {\r\n                int temp = values[indexOne];\r\n                values[indexOne] = values[indexTwo];\r\n                values[indexTwo] = temp;\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Use insertion sort.\r\n         */\r\n        public static class InsertionSortWorker extends SortWorker {\r\n    \r\n            @Override\r\n            protected SorterModel doInBackground() throws Exception {\r\n                for (int current = 1; current &lt; values.length; current++) {\r\n                    int traverse = current;\r\n                    while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\r\n                        swap(traverse, traverse - 1);\r\n                        traverse--;\r\n                        publish(new SorterModel(values, current, traverse));\r\n                        Thread.sleep(5);\r\n                    }\r\n                }\r\n                SorterModel model = new SorterModel(values, values.length - 1, values.length - 1);\r\n                publish(model);\r\n                return model;\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Unsort.\r\n         */\r\n        public static class ShuffleWorker extends SortWorker {\r\n    \r\n            @Override\r\n            protected SorterModel doInBackground() throws Exception {\r\n                Random random = new Random();\r\n                for (int i = 0; i &lt; values.length; i++) {\r\n                    int swap = random.nextInt(values.length - 1);\r\n                    swap(i, swap);\r\n                    publish(new SorterModel(values, i, 0));\r\n                    Thread.sleep(5);\r\n                }\r\n                SorterModel model = new SorterModel(values, values.length - 1, 0);\r\n                publish(model);\r\n                return model;\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * SorterModel: encapsulates the state of a sort process.\r\n         * Note: it has to keep its values immutable, so copying the array\r\n         */\r\n        public static class SorterModel {\r\n    \r\n            protected int[] values;\r\n            protected int current;\r\n            protected int traverse;\r\n    \r\n            public SorterModel(int[] array, int current, int traverse) {\r\n                this.values = Arrays.copyOf(array, array.length);\r\n                this.current = current;\r\n                this.traverse = traverse;\r\n            }\r\n    \r\n            public int[] getValues() {\r\n                return Arrays.copyOf(values, values.length);\r\n            }\r\n    \r\n            public int length() {\r\n                return values.length;\r\n            }\r\n    \r\n            public int valueAt(int index) {\r\n                return values[index];\r\n            }\r\n    \r\n            public int getCurrent() {\r\n                return current;\r\n            }\r\n    \r\n            public int getTraverse() {\r\n                return traverse;\r\n            }\r\n    \r\n        }\r\n    \r\n        private SortAnimationSupport() {\r\n        }\r\n    \r\n    }\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/revisions/73030934/3\r\n  [2]: https://stackoverflow.com/a/73030934/203657","title":"Separating Swingworker Functions into different Classes Java","body":"<p>An slightly simpler alternative to (though based on an <a href=\"https://stackoverflow.com/revisions/73030934/3\">intermediate</a> state of) <a href=\"https://stackoverflow.com/a/73030934/203657\">MadProgrammer's answer</a> - the intention is to use as few custom notification patterns/classes as possible (== zero :)</p>\n<p>The collaborators:</p>\n<ul>\n<li>an immutable SorterModel to encapsulate the current sort progress (same as intermediate in the other answer)</li>\n<li>a custom Worker does the sorting in the background and publishes intermediate sort states as property changes: there's a base class for doing the bookkeeping and notification, subclasses are specialized on a concrete actual (un-) sort algorithm</li>\n<li>a custom panel to visualize a SorterModel and logic to trigger a sort and to update itself according to the changes reported from the worker</li>\n</ul>\n<p>The Worker is very similar to the intermediate in the other answer, differs in how it publishes its values: here it uses its own property change api to notify interested parties.</p>\n<pre><code>@Override\nprotected void process(List&lt;SorterModel&gt; chunks) {\n    SorterModel last = chunks.get(chunks.size() - 1);\n    firePropertyChange(&quot;value&quot;, null, last);\n}\n</code></pre>\n<p>Subclasses simply use the standard mechanism to publish intermediate result</p>\n<pre><code>@Override\nprotected SorterModel doInBackground() throws Exception {\n    // do sorting step\n    publish(new SorterModel(&lt;current state&gt;));\n    ..\n}\n</code></pre>\n<p>The custom panel is very similar to the other answer, except for the logic to start sorting / update visual state. Now that's extracted (from the button's action listeners) into a separate method to configure a specialized worker, register a property change listener and update the view's model (and related state like button enable) in that listener:</p>\n<pre><code>private void process(SortWorker worker, SortWorker next) {\n    updateEnabled(false);\n    worker.setModel(getSorterModel());\n    worker.addPropertyChangeListener(new PropertyChangeListener() {\n\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n\n            if (&quot;value&quot;.equals(evt.getPropertyName())) {\n                setSorterModel((SorterModel) evt.getNewValue());\n            }\n            if (SwingWorker.StateValue.DONE == evt.getNewValue()) {\n                 try {\n                    setSorterModel(worker.get());\n                } catch (InterruptedException | ExecutionException e) {\n                    e.printStackTrace();\n                }\n                if (next != null) {\n                    process(next, null);\n                } else {\n                    updateEnabled(true);\n                }\n            }\n        }\n\n    });\n    worker.execute();\n}\n</code></pre>\n<p>It's usage from a buttons action might be:</p>\n<pre><code>insertSort.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        process(new ShuffleWorker(), new InsertionSortWorker());\n    }\n});\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>the sort classes (worker/model) are unaware of who is using them and do not require a custom observer/n</li>\n<li>the sort trigger/update logic is decoupled from the view - all it needs is a source/target for the model and some enablement toggle. It still resides in the view, though - being lazy, and we had to subclass anyway for custom painting.</li>\n</ul>\n<p>Pulling all together into a runnable example:</p>\n<pre><code>package so.notfx.swing;\n\npublic class SortAnimation {\n\n    public class SortPane extends JPanel {\n\n        final int SCREEN_WIDTH = 800;\n        final int SCREEN_HEIGHT = 600;\n        final int BAR_HEIGHT = SCREEN_HEIGHT * 4 / 5;\n        final int BAR_WIDTH = 5;\n        final int NUM_BARS = SCREEN_WIDTH / BAR_WIDTH;\n\n        private JButton shuffle = new JButton();\n        private JButton bubbleSort = new JButton();\n        private JButton insertSort = new JButton();\n\n        private int[] values = new int[NUM_BARS];\n\n        private SorterModel model;\n\n        public SortPane() {\n            for (int i = 0; i &lt; NUM_BARS; i++) {\n                values[i] = i * BAR_HEIGHT / NUM_BARS;\n            }\n\n            model = new SorterModel(values, 0, 0);\n\n            // shuffle button to trigger random values\n            shuffle.setText(&quot;Shuffle Values&quot;);\n            add(shuffle);\n            shuffle.addActionListener(e -&gt; {\n                process(new ShuffleWorker(), null);\n            });\n            // InsertionSort Button\n            insertSort.setText(&quot;Insertion Sort&quot;);\n            this.add(insertSort);\n            insertSort.addActionListener(e -&gt; {\n                process(new ShuffleWorker(), new InsertionSortWorker());\n            });\n\n            // BubbleSort Button\n            bubbleSort.setText(&quot;Bubble Sort&quot;);\n            this.add(bubbleSort);\n            bubbleSort.addActionListener(e -&gt; {\n                // NYI\n            });\n        }\n\n       //--------------- sort related\n\n        public void setSorterModel(SorterModel model) {\n            this.model = model;\n            repaint();\n        }\n\n        public SorterModel getSorterModel() {\n            return model;\n        }\n\n        private void updateEnabled(boolean enabled) {\n            shuffle.setEnabled(enabled);\n            insertSort.setEnabled(enabled);\n            bubbleSort.setEnabled(enabled);\n        }\n\n        private void process(SortWorker worker, SortWorker next) {\n            updateEnabled(false);\n            worker.setModel(getSorterModel());\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n\n                @Override\n                public void propertyChange(PropertyChangeEvent evt) {\n\n                    if (&quot;value&quot;.equals(evt.getPropertyName())) {\n                        setSorterModel((SorterModel) evt.getNewValue());\n                    }\n                    if (SwingWorker.StateValue.DONE == evt.getNewValue()) {\n                        try {\n                            setSorterModel(worker.get());\n                        } catch (InterruptedException | ExecutionException e) {\n                            e.printStackTrace();\n                        }\n                        if (next != null) {\n                            process(next, null);\n                        } else {\n                            updateEnabled(true);\n                        }\n                    }\n                }\n\n            });\n            worker.execute();\n        }\n\n       //------------------------\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            g.setColor(Color.white);\n            for (int i = 0; i &lt; model.length(); i++) {\n                g2d.fillRect(i * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(i), BAR_WIDTH, model.valueAt(i));\n            }\n\n            int current = model.getCurrent();\n            g2d.setColor(Color.green);\n            g2d.fillRect(current * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(current), BAR_WIDTH,\n                    model.valueAt(current));\n\n            int traverse = model.getTraverse();\n            g2d.setColor(Color.red);\n            g2d.fillRect(traverse * BAR_WIDTH, SCREEN_HEIGHT - model.valueAt(traverse), BAR_WIDTH,\n                    model.valueAt(traverse));\n\n            g2d.dispose();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        new SortAnimation();\n    }\n\n    public SortAnimation() {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new SortPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n\n        });\n    }\n\n}\n</code></pre>\n<p>which is using the support class:</p>\n<pre><code>package so.notfx.swing;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\n\nimport javax.swing.SwingWorker;\n\n/**\n * Utility class for sort animation. \n * Contains a SorterModel with current sort state and workers that are doing\n * the sorting on the background thread and publishing intermediate results\n *  as property changes with name &quot;value&quot;.\n */\npublic class SortAnimationSupport {\n\n    /**\n     * Base class: bookkeeping, helper and publish a property change for its value. Subclasses are supposed to\n     * implement the actual sorting in the background and publish a new SorterModel with the current sort\n     * state when appropriate.\n     */\n    public static abstract class SortWorker extends SwingWorker&lt;SorterModel, SorterModel&gt; {\n\n        int[] values;\n\n        public void setModel(SorterModel model) {\n            if (getState() != StateValue.PENDING)\n                throw new IllegalStateException(&quot;model must not be modified after starting the worker&quot;);\n            values = Arrays.copyOf(model.getValues(), model.getValues().length);\n        }\n\n        @Override\n        protected void process(List&lt;SorterModel&gt; chunks) {\n            SorterModel last = chunks.get(chunks.size() - 1);\n            firePropertyChange(&quot;value&quot;, null, last);\n        }\n\n        protected void swap(int indexOne, int indexTwo) {\n            int temp = values[indexOne];\n            values[indexOne] = values[indexTwo];\n            values[indexTwo] = temp;\n        }\n\n    }\n\n    /**\n     * Use insertion sort.\n     */\n    public static class InsertionSortWorker extends SortWorker {\n\n        @Override\n        protected SorterModel doInBackground() throws Exception {\n            for (int current = 1; current &lt; values.length; current++) {\n                int traverse = current;\n                while (traverse &gt; 0 &amp;&amp; values[traverse] &lt; values[traverse - 1]) {\n                    swap(traverse, traverse - 1);\n                    traverse--;\n                    publish(new SorterModel(values, current, traverse));\n                    Thread.sleep(5);\n                }\n            }\n            SorterModel model = new SorterModel(values, values.length - 1, values.length - 1);\n            publish(model);\n            return model;\n        }\n\n    }\n\n    /**\n     * Unsort.\n     */\n    public static class ShuffleWorker extends SortWorker {\n\n        @Override\n        protected SorterModel doInBackground() throws Exception {\n            Random random = new Random();\n            for (int i = 0; i &lt; values.length; i++) {\n                int swap = random.nextInt(values.length - 1);\n                swap(i, swap);\n                publish(new SorterModel(values, i, 0));\n                Thread.sleep(5);\n            }\n            SorterModel model = new SorterModel(values, values.length - 1, 0);\n            publish(model);\n            return model;\n        }\n\n    }\n\n    /**\n     * SorterModel: encapsulates the state of a sort process.\n     * Note: it has to keep its values immutable, so copying the array\n     */\n    public static class SorterModel {\n\n        protected int[] values;\n        protected int current;\n        protected int traverse;\n\n        public SorterModel(int[] array, int current, int traverse) {\n            this.values = Arrays.copyOf(array, array.length);\n            this.current = current;\n            this.traverse = traverse;\n        }\n\n        public int[] getValues() {\n            return Arrays.copyOf(values, values.length);\n        }\n\n        public int length() {\n            return values.length;\n        }\n\n        public int valueAt(int index) {\n            return values[index];\n        }\n\n        public int getCurrent() {\n            return current;\n        }\n\n        public int getTraverse() {\n            return traverse;\n        }\n\n    }\n\n    private SortAnimationSupport() {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24453378,"reputation":1,"user_id":18375294,"display_name":"PikaKirbyBro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658322662,"creation_date":1658186130,"question_id":73029551,"body_markdown":"I am trying to code a sorting algorithm visualizer. I put almost everything into one class called visualizer and I was wondering how I can move my &quot;insertionSort&quot; and &quot;bubbleSort&quot; methods into separate classes without breaking my code? \r\n\r\nI want to do this because when I integrate merge sort and quick sort I want to keep them in the same class as there helper methods.\r\n\r\n    public class Visualizer extends JPanel implements ActionListener{\r\n\r\n    //Initialize Variables\r\n    final int SCREEN_WIDTH = 1280;\r\n    final int SCREEN_HEIGHT = 720;\r\n    final int BAR_HEIGHT = SCREEN_HEIGHT * 4/5;\r\n    final int BAR_WIDTH = 5;\r\n    final int NUM_BARS = SCREEN_WIDTH/BAR_WIDTH;\r\n\r\n    JButton bubbleSort = new JButton();\r\n    JButton insertSort = new JButton();\r\n    SwingWorker&lt;Void,Void&gt; shuffler, sorter;\r\n\r\n    int[] array = new int[NUM_BARS];\r\n    int current;\r\n    int traverse;\r\n\r\n    public Visualizer() {\r\n        setBackground(Color.darkGray);\r\n        setPreferredSize(new Dimension());\r\n\r\n        //Initialize Bar Height\r\n        for (int i = 0; i &lt; NUM_BARS; i++) {\r\n            array[i] = i * BAR_HEIGHT / NUM_BARS;\r\n        }\r\n\r\n        //InsertionSort Button\r\n        insertSort.setText(&quot;Insertion Sort&quot;);\r\n        this.add(insertSort);\r\n        insertSort.addActionListener(this);\r\n\r\n\r\n        //BubbleSort Button\r\n        bubbleSort.setText(&quot;Bubble Sort&quot;);\r\n        this.add(bubbleSort);\r\n        bubbleSort.addActionListener(this);\r\n\r\n    }\r\n\r\n\r\n    public void shuffleArray() {\r\n        shuffler = new SwingWorker&lt;Void, Void&gt;() {\r\n            @Override\r\n            protected Void doInBackground() throws InterruptedException {\r\n                Random random = new Random();\r\n                for (int i = 0; i &lt; NUM_BARS; i++) {\r\n                    int swap = random.nextInt(NUM_BARS - 1);\r\n                    swap(i, swap);\r\n\r\n                    Thread.sleep(10);\r\n                    repaint();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void done() {\r\n                super.done();\r\n                sorter.execute();\r\n            }\r\n        };\r\n        shuffler.execute();\r\n    }\r\n\r\n\r\n    public void insertionSort() {\r\n        sorter = new SwingWorker&lt;Void, Void&gt;() {\r\n            @Override\r\n            public Void doInBackground() throws InterruptedException {\r\n                for (current = 1; current &lt; NUM_BARS; current++) {\r\n                    traverse = current;\r\n                    while (traverse &gt; 0 &amp;&amp; array[traverse] &lt; array[traverse - 1]) {\r\n                        swap(traverse, traverse - 1);\r\n                        traverse--;\r\n\r\n                        Thread.sleep(1);\r\n                        repaint();\r\n                    }\r\n                }\r\n                current = 0;\r\n                traverse = 0;\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n    public void bubbleSort() {\r\n        sorter = new SwingWorker&lt;Void, Void&gt;() {\r\n            @Override\r\n            public Void doInBackground() throws InterruptedException {\r\n                for(current = 0; current &lt; NUM_BARS; current++) {\r\n                    for(traverse = 1; traverse &lt; (NUM_BARS - current); traverse++) {\r\n                        if(array[traverse-1] &gt; array[traverse]) {\r\n                            swap(traverse, traverse-1);\r\n                            traverse--;\r\n\r\n                            Thread.sleep(1);\r\n                            repaint();\r\n                        }\r\n                    }\r\n                }\r\n                current = 0;\r\n                traverse = 0;\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n    public void quickSort() {\r\n        sorter = new SwingWorker&lt;Void, Void&gt;() {\r\n            @Override\r\n            public Void doInBackground() throws InterruptedException {\r\n\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n    public void swap(int indexOne, int indexTwo) {\r\n        int temp = array[indexOne];\r\n        array[indexOne] = array[indexTwo];\r\n        array[indexTwo] = temp;\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        Graphics2D graphics = (Graphics2D)g;\r\n        super.paintComponent(graphics);\r\n\r\n\r\n        g.setColor(Color.white);\r\n        for(int i = 0; i &lt; NUM_BARS; i++) {\r\n            graphics.fillRect(i * BAR_WIDTH,SCREEN_HEIGHT-array[i],BAR_WIDTH,array[i]);\r\n        }\r\n        g.setColor(Color.green);\r\n        graphics.fillRect(current*BAR_WIDTH,SCREEN_HEIGHT-array[current], BAR_WIDTH, array[current]);\r\n\r\n        g.setColor(Color.red);\r\n        graphics.fillRect(traverse*BAR_WIDTH,SCREEN_HEIGHT-array[traverse], BAR_WIDTH, array[traverse]);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == insertSort) {\r\n            insertionSort();\r\n            shuffleArray();\r\n        }\r\n        else if (e.getSource() == bubbleSort) {\r\n            bubbleSort();\r\n            shuffleArray();\r\n        }\r\n    }\r\n}\r\n","title":"Separating Swingworker Functions into different Classes Java","body":"<p>I am trying to code a sorting algorithm visualizer. I put almost everything into one class called visualizer and I was wondering how I can move my &quot;insertionSort&quot; and &quot;bubbleSort&quot; methods into separate classes without breaking my code?</p>\n<p>I want to do this because when I integrate merge sort and quick sort I want to keep them in the same class as there helper methods.</p>\n<pre><code>public class Visualizer extends JPanel implements ActionListener{\n\n//Initialize Variables\nfinal int SCREEN_WIDTH = 1280;\nfinal int SCREEN_HEIGHT = 720;\nfinal int BAR_HEIGHT = SCREEN_HEIGHT * 4/5;\nfinal int BAR_WIDTH = 5;\nfinal int NUM_BARS = SCREEN_WIDTH/BAR_WIDTH;\n\nJButton bubbleSort = new JButton();\nJButton insertSort = new JButton();\nSwingWorker&lt;Void,Void&gt; shuffler, sorter;\n\nint[] array = new int[NUM_BARS];\nint current;\nint traverse;\n\npublic Visualizer() {\n    setBackground(Color.darkGray);\n    setPreferredSize(new Dimension());\n\n    //Initialize Bar Height\n    for (int i = 0; i &lt; NUM_BARS; i++) {\n        array[i] = i * BAR_HEIGHT / NUM_BARS;\n    }\n\n    //InsertionSort Button\n    insertSort.setText(&quot;Insertion Sort&quot;);\n    this.add(insertSort);\n    insertSort.addActionListener(this);\n\n\n    //BubbleSort Button\n    bubbleSort.setText(&quot;Bubble Sort&quot;);\n    this.add(bubbleSort);\n    bubbleSort.addActionListener(this);\n\n}\n\n\npublic void shuffleArray() {\n    shuffler = new SwingWorker&lt;Void, Void&gt;() {\n        @Override\n        protected Void doInBackground() throws InterruptedException {\n            Random random = new Random();\n            for (int i = 0; i &lt; NUM_BARS; i++) {\n                int swap = random.nextInt(NUM_BARS - 1);\n                swap(i, swap);\n\n                Thread.sleep(10);\n                repaint();\n            }\n            return null;\n        }\n\n        @Override\n        public void done() {\n            super.done();\n            sorter.execute();\n        }\n    };\n    shuffler.execute();\n}\n\n\npublic void insertionSort() {\n    sorter = new SwingWorker&lt;Void, Void&gt;() {\n        @Override\n        public Void doInBackground() throws InterruptedException {\n            for (current = 1; current &lt; NUM_BARS; current++) {\n                traverse = current;\n                while (traverse &gt; 0 &amp;&amp; array[traverse] &lt; array[traverse - 1]) {\n                    swap(traverse, traverse - 1);\n                    traverse--;\n\n                    Thread.sleep(1);\n                    repaint();\n                }\n            }\n            current = 0;\n            traverse = 0;\n            return null;\n        }\n    };\n}\n\npublic void bubbleSort() {\n    sorter = new SwingWorker&lt;Void, Void&gt;() {\n        @Override\n        public Void doInBackground() throws InterruptedException {\n            for(current = 0; current &lt; NUM_BARS; current++) {\n                for(traverse = 1; traverse &lt; (NUM_BARS - current); traverse++) {\n                    if(array[traverse-1] &gt; array[traverse]) {\n                        swap(traverse, traverse-1);\n                        traverse--;\n\n                        Thread.sleep(1);\n                        repaint();\n                    }\n                }\n            }\n            current = 0;\n            traverse = 0;\n            return null;\n        }\n    };\n}\n\npublic void quickSort() {\n    sorter = new SwingWorker&lt;Void, Void&gt;() {\n        @Override\n        public Void doInBackground() throws InterruptedException {\n\n            return null;\n        }\n    };\n}\n\npublic void swap(int indexOne, int indexTwo) {\n    int temp = array[indexOne];\n    array[indexOne] = array[indexTwo];\n    array[indexTwo] = temp;\n}\n\n@Override\npublic void paintComponent(Graphics g) {\n    Graphics2D graphics = (Graphics2D)g;\n    super.paintComponent(graphics);\n\n\n    g.setColor(Color.white);\n    for(int i = 0; i &lt; NUM_BARS; i++) {\n        graphics.fillRect(i * BAR_WIDTH,SCREEN_HEIGHT-array[i],BAR_WIDTH,array[i]);\n    }\n    g.setColor(Color.green);\n    graphics.fillRect(current*BAR_WIDTH,SCREEN_HEIGHT-array[current], BAR_WIDTH, array[current]);\n\n    g.setColor(Color.red);\n    graphics.fillRect(traverse*BAR_WIDTH,SCREEN_HEIGHT-array[traverse], BAR_WIDTH, array[traverse]);\n}\n\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == insertSort) {\n        insertionSort();\n        shuffleArray();\n    }\n    else if (e.getSource() == bubbleSort) {\n        bubbleSort();\n        shuffleArray();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","serialization","transient"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1658314359,"post_id":73050321,"comment_id":129019331,"body_markdown":"Make it static, which [it should be anyway](https://rules.sonarsource.com/java/RSPEC-1312). Deserialized classes don&#39;t follow the same init mechanism as instantiating the class in code, so logger will be null. SpotBugs has found a genuine issue for you. This was a NPE waiting to happen.","body":"Make it static, which <a href=\"https://rules.sonarsource.com/java/RSPEC-1312\" rel=\"nofollow noreferrer\">it should be anyway</a>. Deserialized classes don&#39;t follow the same init mechanism as instantiating the class in code, so logger will be null. SpotBugs has found a genuine issue for you. This was a NPE waiting to happen."},{"owner":{"account_id":7447122,"reputation":13,"user_id":5662935,"display_name":"Ravi"},"score":0,"creation_date":1658315360,"post_id":73050321,"comment_id":129019713,"body_markdown":"if I made it static, getClass() need to be replaced by className like A.class, will it have any impact ?","body":"if I made it static, getClass() need to be replaced by className like A.class, will it have any impact ?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658315779,"post_id":73050321,"comment_id":129019877,"body_markdown":"If some class extends A (say C) then the class associated with the logger will change from C to A. Very unlikely to matter, but it&#39;s not identical.","body":"If some class extends A (say C) then the class associated with the logger will change from C to A. Very unlikely to matter, but it&#39;s not identical."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1658315848,"post_id":73050321,"comment_id":129019909,"body_markdown":"Does this answer your question? [How to handle a Findbugs &quot;Non-transient non-serializable instance field in serializable class&quot;?](https://stackoverflow.com/questions/4861228/how-to-handle-a-findbugs-non-transient-non-serializable-instance-field-in-seria)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4861228/how-to-handle-a-findbugs-non-transient-non-serializable-instance-field-in-seria\">How to handle a Findbugs &quot;Non-transient non-serializable instance field in serializable class&quot;?</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658322120,"post_id":73050321,"comment_id":129022493,"body_markdown":"@pringi I wouldn&#39;t consider that a duplicate.","body":"@pringi I wouldn&#39;t consider that a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658322582,"creation_date":1658322582,"answer_id":73052258,"question_id":73050321,"body_markdown":"The problem is that deserialization doesn&#39;t follow the normal rules of object initialization, so the transient field will not be populated, and instead it will be null.\r\n\r\nThe simplest solution is to make the field static, so it isn&#39;t a member of an instance. However, if you have a reason to make it an instance field, for example if you have a lot of subclasses, and you want your logging to be able to identify the actual class, then you need to make sure the transient field is populated when it is deserialized.\r\n\r\nThis can be done with either `readResolve()` or `readObject(ObjectInputStream)`. For example:\r\n\r\n```java\r\nprivate Object readResolve() throws ObjectStreamException {\r\n    logger = LoggerFactory.getLogger(getClass());\r\n    return this;\r\n}\r\n```\r\n\r\nor\r\n\r\n```java\r\nprivate void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n    in.defaultReadObject()\r\n    logger = LoggerFactory.getLogger(getClass())\r\n}\r\n```\r\n\r\nIn both cases, the field `logger` can no longer be `final`.","title":"Getting spotbug issue type SE_TRANSIENT_FIELD_NOT_RESTORED","body":"<p>The problem is that deserialization doesn't follow the normal rules of object initialization, so the transient field will not be populated, and instead it will be null.</p>\n<p>The simplest solution is to make the field static, so it isn't a member of an instance. However, if you have a reason to make it an instance field, for example if you have a lot of subclasses, and you want your logging to be able to identify the actual class, then you need to make sure the transient field is populated when it is deserialized.</p>\n<p>This can be done with either <code>readResolve()</code> or <code>readObject(ObjectInputStream)</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Object readResolve() throws ObjectStreamException {\n    logger = LoggerFactory.getLogger(getClass());\n    return this;\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n    in.defaultReadObject()\n    logger = LoggerFactory.getLogger(getClass())\n}\n</code></pre>\n<p>In both cases, the field <code>logger</code> can no longer be <code>final</code>.</p>\n"}],"owner":{"account_id":7447122,"reputation":13,"user_id":5662935,"display_name":"Ravi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73052258,"answer_count":1,"score":0,"last_activity_date":1658322582,"creation_date":1658314232,"question_id":73050321,"body_markdown":"I have one listner class &#39;A&#39;, which implements interface &#39;B&#39; and &#39;B&#39; extends Serializable class.\r\n\r\nNow in class &#39;A&#39;, \r\n1) If I declare logger as transient as below:\r\n\r\n    private final transient Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n  then spotbug reports error as below: \r\n\r\n    logger is transient but isn&#39;t set by deserialization\r\n\r\n2) If I declare logger as non-transient\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n m getting below error:\r\n\r\n    Make &quot;logger&quot; transient or serializable.\r\n\r\nhow to resolve this problem ?","title":"Getting spotbug issue type SE_TRANSIENT_FIELD_NOT_RESTORED","body":"<p>I have one listner class 'A', which implements interface 'B' and 'B' extends Serializable class.</p>\n<p>Now in class 'A',</p>\n<ol>\n<li><p>If I declare logger as transient as below:</p>\n<p>private final transient Logger logger = LoggerFactory.getLogger(getClass());</p>\n</li>\n</ol>\n<p>then spotbug reports error as below:</p>\n<pre><code>logger is transient but isn't set by deserialization\n</code></pre>\n<ol start=\"2\">\n<li><p>If I declare logger as non-transient</p>\n<p>private final Logger logger = LoggerFactory.getLogger(getClass());</p>\n</li>\n</ol>\n<p>m getting below error:</p>\n<pre><code>Make &quot;logger&quot; transient or serializable.\n</code></pre>\n<p>how to resolve this problem ?</p>\n"},{"tags":["java","spring","authentication","web-applications","ip"],"comments":[{"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"score":0,"creation_date":1654322974,"post_id":72493384,"comment_id":128068234,"body_markdown":"I think you can write a filter, and on that filter check that if the client&#39;s IP address was not in your whitelist set, then return a response with a 401 HTTP status code.","body":"I think you can write a filter, and on that filter check that if the client&#39;s IP address was not in your whitelist set, then return a response with a 401 HTTP status code."},{"owner":{"account_id":10337360,"reputation":85,"user_id":7625014,"display_name":"Fitz"},"score":0,"creation_date":1654522801,"post_id":72493384,"comment_id":128103840,"body_markdown":"That&#39;s what the code is attempting based on the recommendations in the Spring documentation. We are using authentication to verify the IP address by filtering using an authenticationProvider.","body":"That&#39;s what the code is attempting based on the recommendations in the Spring documentation. We are using authentication to verify the IP address by filtering using an authenticationProvider."}],"answers":[{"tags":[],"owner":{"account_id":15984803,"reputation":13,"user_id":11535589,"display_name":"Rodrigo Souza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658322581,"creation_date":1658322581,"answer_id":73052257,"question_id":72493384,"body_markdown":"I had the same problem. I ended up changing my mind and used a filter. Here&#39;s an [example][1]\r\n\r\n\r\n  [1]: https://blog.devgenius.io/how-to-build-spring-filters-for-api-cross-cutting-concerns-6e52ac667c0","title":"How to Restrict Access to Resources by IP Address and Credentials in Spring 5.7+","body":"<p>I had the same problem. I ended up changing my mind and used a filter. Here's an <a href=\"https://blog.devgenius.io/how-to-build-spring-filters-for-api-cross-cutting-concerns-6e52ac667c0\" rel=\"nofollow noreferrer\">example</a></p>\n"}],"owner":{"account_id":10337360,"reputation":85,"user_id":7625014,"display_name":"Fitz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658322581,"creation_date":1654278656,"question_id":72493384,"body_markdown":"Since WebSecurityConfigurerAdapter from Spring 5.6 has been deprecated, how can we restrict access to web app resources based on a set of IP addresses? My goal is to disable the default spring login form, but still send post requests to the app with certain credentials from only a given set of IP addresses.\r\n\r\nI have been following Eugen&#39;s example at Baeldung here https://github.com/eugenp/tutorials/blob/4fa0844faf6f95bbde4a38d0b16cde066fd4d8af/spring-security-modules/spring-security-web-boot-1/src/main/java/com/baeldung/roles/ip/config/CustomIpAuthenticationProvider.java, which was written for Spring 5.6. I tried upgrading to the SecurityFilterChain recommended here: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter. I then disabled SecurityAutoConfiguration while using @EnableWebSecurity on my class that uses the SecurityFilterChain, but I cannot get my code to work to block requests from certain IP addresses and a given user.\r\n\r\n## Below is my code.\r\n### Main App\r\n```java\r\n@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\r\npublic class MainApp {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MainApp.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n### Configuration Class\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig  {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\r\n\r\n        security.csrf().disable().authorizeRequests().anyRequest().permitAll(); // Works for GET, POST, PUT, DELETE\r\n        security.authenticationProvider(new CustomIpAuthenticationProvider());\r\n        security.formLogin().disable();\r\n\r\n        return security.build();\r\n    }\r\n}\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService() {\r\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\r\n        UserDetails user = User.withUsername(&quot;test_user&quot;)\r\n                .password(encoder.encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\n### Custom Authentication Provider\r\n```\r\npublic class CustomIpAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    Set&lt;String&gt; whitelist = new HashSet&lt;&gt;();\r\n\r\n    public CustomIpAuthenticationProvider() {\r\n        super();\r\n        whitelist.add(&quot;11.11.11.11&quot;);\r\n//        whitelist.add(&quot;0.0.0.0&quot;);\r\n//        whitelist.add(&quot;127.0.0.1&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication auth){\r\n        WebAuthenticationDetails details = (WebAuthenticationDetails) auth.getDetails();\r\n        String userIp = details.getRemoteAddress();\r\n\r\n        System.out.println(userIp);\r\n\r\n        if (!whitelist.contains(userIp)) {\r\n            throw new BadCredentialsException(&quot;Invalid IP Address&quot;);\r\n        }\r\n\r\n        final String name = auth.getName();\r\n        final String password = auth.getCredentials().toString();\r\n\r\n        if (name.equals(&quot;test_user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\r\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            return new UsernamePasswordAuthenticationToken(name, password, authorities);\r\n        }\r\n        else{\r\n            throw new BadCredentialsException(&quot;Invalid username or password&quot;);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return (UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication));\r\n    }\r\n    }\r\n```\r\n\r\n\r\n### Unit Test to Test App\r\n```\r\n@Test\r\n\tpublic void givenUserWithWrongIPForbidden() {\r\n\t\tResponse response = RestAssured.given().auth().form(&quot;test_user&quot;, &quot;password&quot;)\r\n\t\t\t\t.get(base + &quot;/login&quot;);\r\n\r\n\t\tassertEquals(403, response.getStatusCode());\r\n\t\tassertTrue(response.asString().contains(&quot;Forbidden&quot;));\r\n\t}\r\n```","title":"How to Restrict Access to Resources by IP Address and Credentials in Spring 5.7+","body":"<p>Since WebSecurityConfigurerAdapter from Spring 5.6 has been deprecated, how can we restrict access to web app resources based on a set of IP addresses? My goal is to disable the default spring login form, but still send post requests to the app with certain credentials from only a given set of IP addresses.</p>\n<p>I have been following Eugen's example at Baeldung here <a href=\"https://github.com/eugenp/tutorials/blob/4fa0844faf6f95bbde4a38d0b16cde066fd4d8af/spring-security-modules/spring-security-web-boot-1/src/main/java/com/baeldung/roles/ip/config/CustomIpAuthenticationProvider.java\" rel=\"nofollow noreferrer\">https://github.com/eugenp/tutorials/blob/4fa0844faf6f95bbde4a38d0b16cde066fd4d8af/spring-security-modules/spring-security-web-boot-1/src/main/java/com/baeldung/roles/ip/config/CustomIpAuthenticationProvider.java</a>, which was written for Spring 5.6. I tried upgrading to the SecurityFilterChain recommended here: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>. I then disabled SecurityAutoConfiguration while using @EnableWebSecurity on my class that uses the SecurityFilterChain, but I cannot get my code to work to block requests from certain IP addresses and a given user.</p>\n<h2>Below is my code.</h2>\n<h3>Main App</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\npublic class MainApp {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApp.class, args);\n    }\n\n}\n</code></pre>\n<h3>Configuration Class</h3>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig  {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\n\n        security.csrf().disable().authorizeRequests().anyRequest().permitAll(); // Works for GET, POST, PUT, DELETE\n        security.authenticationProvider(new CustomIpAuthenticationProvider());\n        security.formLogin().disable();\n\n        return security.build();\n    }\n}\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() {\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n\n        UserDetails user = User.withUsername(&quot;test_user&quot;)\n                .password(encoder.encode(&quot;password&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<h3>Custom Authentication Provider</h3>\n<pre><code>public class CustomIpAuthenticationProvider implements AuthenticationProvider {\n\n    Set&lt;String&gt; whitelist = new HashSet&lt;&gt;();\n\n    public CustomIpAuthenticationProvider() {\n        super();\n        whitelist.add(&quot;11.11.11.11&quot;);\n//        whitelist.add(&quot;0.0.0.0&quot;);\n//        whitelist.add(&quot;127.0.0.1&quot;);\n    }\n\n    @Override\n    public Authentication authenticate(Authentication auth){\n        WebAuthenticationDetails details = (WebAuthenticationDetails) auth.getDetails();\n        String userIp = details.getRemoteAddress();\n\n        System.out.println(userIp);\n\n        if (!whitelist.contains(userIp)) {\n            throw new BadCredentialsException(&quot;Invalid IP Address&quot;);\n        }\n\n        final String name = auth.getName();\n        final String password = auth.getCredentials().toString();\n\n        if (name.equals(&quot;test_user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n            return new UsernamePasswordAuthenticationToken(name, password, authorities);\n        }\n        else{\n            throw new BadCredentialsException(&quot;Invalid username or password&quot;);\n        }\n\n\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return (UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication));\n    }\n    }\n</code></pre>\n<h3>Unit Test to Test App</h3>\n<pre><code>@Test\n    public void givenUserWithWrongIPForbidden() {\n        Response response = RestAssured.given().auth().form(&quot;test_user&quot;, &quot;password&quot;)\n                .get(base + &quot;/login&quot;);\n\n        assertEquals(403, response.getStatusCode());\n        assertTrue(response.asString().contains(&quot;Forbidden&quot;));\n    }\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","annotations"],"comments":[{"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"score":0,"creation_date":1658254368,"post_id":73041583,"comment_id":129004597,"body_markdown":"Remove `insertable = false`.","body":"Remove <code>insertable = false</code>."},{"owner":{"account_id":12700896,"reputation":1,"user_id":9227658,"display_name":"shg619"},"score":0,"creation_date":1658296641,"post_id":73041583,"comment_id":129013099,"body_markdown":"@derstauner - after removing insertable = false , \norg.hibernate.PropertyValueException: not-null property references a null or transient value : com.cargill.fibi.dataprovider.Child.parent\n\tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n\tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]","body":"@derstauner - after removing insertable = false ,  org.hibernate.PropertyValueException: not-null property references a null or transient value : com.cargill.fibi.dataprovider.Child.parent \tat org.hibernate.engine.internal.Nullability.checkNullability(N&zwnj;&#8203;ullability.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final] \tat org.hibernate.engine.internal.Nullability.checkNullability(N&zwnj;&#8203;ullability.java:55) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]"}],"answers":[{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658322387,"creation_date":1658322387,"answer_id":73052201,"question_id":73041583,"body_markdown":"You have to set the bidirectional relationship first\r\n\r\n    public class Parent {\r\n\r\n         @Id\r\n         private Integer parentId;\r\n         private String name;\r\n\r\n         @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\r\n         private List&lt;Child&gt; children;\r\n\r\n         public void addChild(Child child) {\r\n               this.children.add(child);\r\n               child.setParent(this);\r\n         }\r\n    }\r\n\r\nand add the children via that method.","title":"Hibernate mapping error while inserting child record","body":"<p>You have to set the bidirectional relationship first</p>\n<pre><code>public class Parent {\n\n     @Id\n     private Integer parentId;\n     private String name;\n\n     @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\n     private List&lt;Child&gt; children;\n\n     public void addChild(Child child) {\n           this.children.add(child);\n           child.setParent(this);\n     }\n}\n</code></pre>\n<p>and add the children via that method.</p>\n"}],"owner":{"account_id":12700896,"reputation":1,"user_id":9227658,"display_name":"shg619"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658322387,"creation_date":1658253698,"question_id":73041583,"body_markdown":"I have two entity class as below -\r\n```\r\npublic class Parent {\r\n\r\n\t@Id\r\n\tprivate Integer parentId;\r\n\tprivate String name;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Child&gt; children;\r\n}\r\npublic class Child {\r\n\r\n\t@Id\r\n\tprivate Integer childId;\r\n\tprivate String name;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;parentId&quot;, insertable = false, updatable = true, nullable = false)\r\n\tprivate Parent parent;\r\n}\r\n\r\n@RestController\r\npublic class ParentController {\r\n\r\n\t@Autowired\r\n\tprivate ParentRepo repo;\r\n\r\n\t@GetMapping(&quot;/parent&quot;)\r\n\tpublic void get() {\r\n\t\tChild c1 = Child.builder().childId(1).name(&quot;s1&quot;).build();\r\n\t\tChild c2 = Child.builder().childId(2).name(&quot;s2&quot;).build();\r\n\t\tList&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\t\tchildren.add(c1);\r\n\t\tchildren.add(c2);\r\n\t\tParent parent = Parent.builder().parentId(1).name(&quot;PARENT&quot;)\r\n\t\t\t\t.children(children)\r\n\t\t\t\t.build();\r\n\t\tParent savedParent = repo.save(parent);\r\n}\r\n}\r\n```\r\n```\r\nTables -\r\n\r\nCREATE TABLE public.parent\r\n(\r\n    parent_id integer NOT NULL,\r\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n    CONSTRAINT parent_pkey PRIMARY KEY (parent_id)\r\n)WITH (\r\n    OIDS = FALSE\r\n)\r\nTABLESPACE pg_default;\r\n\r\nCREATE TABLE public.child\r\n(\r\n    child_id integer NOT NULL,\r\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n    parent_id integer NOT NULL,\r\n    CONSTRAINT child_pkey PRIMARY KEY (child_id),\r\n    CONSTRAINT fk7dag1cncltpyhoc2mbwka356h FOREIGN KEY (parent_id)\r\n        REFERENCES public.parent (parent_id) MATCH SIMPLE\r\n        ON UPDATE NO ACTION\r\n        ON DELETE NO ACTION\r\n)\r\nWITH (\r\n    OIDS = FALSE\r\n)\r\nTABLESPACE pg_default;\r\n```\r\nI&#39;m getting error while persisting child record.\r\n\r\n**Error -**\r\n\r\nHibernate: \r\n    insert \r\n    into\r\n        child\r\n        (name, child_id) \r\n    values\r\n        (?, ?)\r\n2022-07-19 23:12:31.727  WARN 20940 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\r\n2022-07-19 23:12:31.727 ERROR 20940 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;parent_id&quot; violates not-null constraint\r\n  Detail: Failing row contains (1, s1, null).\r\n2022-07-19 23:12:31.728  INFO 20940 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2022-07-19 23:12:31.754 ERROR 20940 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [parent_id]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;parent_id&quot; violates not-null constraint\r\n  Detail: Failing row contains (1, s1, null).\r\n\r\nNot sure how hibernate will pick and assign the foreign key to child.","title":"Hibernate mapping error while inserting child record","body":"<p>I have two entity class as below -</p>\n<pre><code>public class Parent {\n\n    @Id\n    private Integer parentId;\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\n    private List&lt;Child&gt; children;\n}\npublic class Child {\n\n    @Id\n    private Integer childId;\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parentId&quot;, insertable = false, updatable = true, nullable = false)\n    private Parent parent;\n}\n\n@RestController\npublic class ParentController {\n\n    @Autowired\n    private ParentRepo repo;\n\n    @GetMapping(&quot;/parent&quot;)\n    public void get() {\n        Child c1 = Child.builder().childId(1).name(&quot;s1&quot;).build();\n        Child c2 = Child.builder().childId(2).name(&quot;s2&quot;).build();\n        List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n        children.add(c1);\n        children.add(c2);\n        Parent parent = Parent.builder().parentId(1).name(&quot;PARENT&quot;)\n                .children(children)\n                .build();\n        Parent savedParent = repo.save(parent);\n}\n}\n</code></pre>\n<pre><code>Tables -\n\nCREATE TABLE public.parent\n(\n    parent_id integer NOT NULL,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT parent_pkey PRIMARY KEY (parent_id)\n)WITH (\n    OIDS = FALSE\n)\nTABLESPACE pg_default;\n\nCREATE TABLE public.child\n(\n    child_id integer NOT NULL,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    parent_id integer NOT NULL,\n    CONSTRAINT child_pkey PRIMARY KEY (child_id),\n    CONSTRAINT fk7dag1cncltpyhoc2mbwka356h FOREIGN KEY (parent_id)\n        REFERENCES public.parent (parent_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n)\nWITH (\n    OIDS = FALSE\n)\nTABLESPACE pg_default;\n</code></pre>\n<p>I'm getting error while persisting child record.</p>\n<p><strong>Error -</strong></p>\n<p>Hibernate:\ninsert\ninto\nchild\n(name, child_id)\nvalues\n(?, ?)\n2022-07-19 23:12:31.727  WARN 20940 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\n2022-07-19 23:12:31.727 ERROR 20940 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;parent_id&quot; violates not-null constraint\nDetail: Failing row contains (1, s1, null).\n2022-07-19 23:12:31.728  INFO 20940 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2022-07-19 23:12:31.754 ERROR 20940 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [parent_id]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause</p>\n<p>org.postgresql.util.PSQLException: ERROR: null value in column &quot;parent_id&quot; violates not-null constraint\nDetail: Failing row contains (1, s1, null).</p>\n<p>Not sure how hibernate will pick and assign the foreign key to child.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":19785769,"reputation":86,"user_id":14489768,"display_name":"pigman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603265434,"creation_date":1603265434,"answer_id":64458684,"question_id":64439102,"body_markdown":"im a rookie,both in English and Programing.\r\nhere is a way but may not elegant:\r\ncreate a modifyResponseBodyFilter with the ModifyResponseBodyGatewayFilterFactory, and implement the RewriteFunction.\r\n\r\n    public class BodyRewrite implements RewriteFunction&lt;byte[], byte[]&gt; {\r\n        @Override\r\n        public Publisher&lt;byte[]&gt; apply(ServerWebExchange exchange, byte[] body) {\r\n            String originalBody = body==null?&quot;&quot;:new String(body);\r\n            if (!ServerWebExchangeUtils.isAlreadyRouted(exchange)) {\r\n                return Mono.just(originalBody.getBytes());\r\n            } else {\r\n            // its the reponse body when already routed\r\n            }\r\n        }\r\n    }\r\n\r\n    public class ModifyResponseBodyFilter implements GlobalFilter, Ordered {\r\n        @Autowired\r\n        private ModifyResponseBodyGatewayFilterFactory modifyResponseBodyGatewayFilterFactory;\r\n        @Autowired\r\n        private BodyRewrite bodyRewrite;\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n            GatewayFilter delegate=modifyResponseBodyGatewayFilterFactory.apply(new ModifyResponseBodyGatewayFilterFactory.Config()\r\n                    .setRewriteFunction(byte[].class, byte[].class, bodyRewrite));\r\n            return delegate.filter(exchange, chain);\r\n        }\r\n    \r\n        @Override\r\n        public int getOrder() {\r\n            return NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER-1;\r\n        }\r\n    }\r\n","title":"How to get response body in Spring Gateway","body":"<p>im a rookie,both in English and Programing.\nhere is a way but may not elegant:\ncreate a modifyResponseBodyFilter with the ModifyResponseBodyGatewayFilterFactory, and implement the RewriteFunction.</p>\n<pre><code>public class BodyRewrite implements RewriteFunction&lt;byte[], byte[]&gt; {\n    @Override\n    public Publisher&lt;byte[]&gt; apply(ServerWebExchange exchange, byte[] body) {\n        String originalBody = body==null?&quot;&quot;:new String(body);\n        if (!ServerWebExchangeUtils.isAlreadyRouted(exchange)) {\n            return Mono.just(originalBody.getBytes());\n        } else {\n        // its the reponse body when already routed\n        }\n    }\n}\n\npublic class ModifyResponseBodyFilter implements GlobalFilter, Ordered {\n    @Autowired\n    private ModifyResponseBodyGatewayFilterFactory modifyResponseBodyGatewayFilterFactory;\n    @Autowired\n    private BodyRewrite bodyRewrite;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        GatewayFilter delegate=modifyResponseBodyGatewayFilterFactory.apply(new ModifyResponseBodyGatewayFilterFactory.Config()\n                .setRewriteFunction(byte[].class, byte[].class, bodyRewrite));\n        return delegate.filter(exchange, chain);\n    }\n\n    @Override\n    public int getOrder() {\n        return NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER-1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17970263,"reputation":65,"user_id":13997952,"display_name":"Artemii Kurilko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64458684,"answer_count":1,"score":2,"last_activity_date":1658322128,"creation_date":1603172414,"question_id":64439102,"body_markdown":"I&#39;m working with spring cloud gateway filters and need to get response body to log it.\r\nI understand that it&#39;s problematic, as spring gateway is built on spring reactor, but nevertheless I&#39;m looking for any way to do this.\r\n\r\nHave global filter, code:\r\n\r\n```\r\n\r\nimport org.reactivestreams.Publisher;\r\nimport org.reactivestreams.Subscriber;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\r\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\r\nimport org.springframework.cloud.gateway.filter.NettyWriteResponseFilter;\r\nimport org.springframework.cloud.gateway.filter.factory.rewrite.ModifyResponseBodyGatewayFilterFactory;\r\nimport org.springframework.cloud.gateway.filter.factory.rewrite.RewriteFunction;\r\nimport org.springframework.cloud.gateway.support.ServerWebExchangeUtils;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.server.ServerWebExchange;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Component\r\npublic class BodyRewrite implements RewriteFunction&lt;byte[], byte[]&gt; {\r\n\r\n    @Override\r\n    public Publisher&lt;byte[]&gt; apply(ServerWebExchange exchange, byte[] body) {\r\n        System.out.println(&quot;-------------------------&quot;);\r\n        System.out.println(&quot;       APPLY METHOD&quot;);\r\n        System.out.println(&quot;-------------------------&quot;);\r\n        String originalBody = body==null?&quot;&quot;:new String(body);\r\n        if (!ServerWebExchangeUtils.isAlreadyRouted(exchange)) {\r\n            return Mono.just(originalBody.getBytes());\r\n        } else {\r\n            System.out.println(&quot;RESPONSE: &quot; + originalBody);\r\n        }\r\n\r\n        return new Publisher&lt;byte[]&gt;() {\r\n            @Override\r\n            public void subscribe(Subscriber&lt;? super byte[]&gt; subscriber) {\r\n                \r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n@Component\r\nclass ModifyResponseBodyFilter implements GlobalFilter, Ordered {\r\n    @Autowired\r\n    private ModifyResponseBodyGatewayFilterFactory modifyResponseBodyGatewayFilterFactory;\r\n    @Autowired\r\n    private BodyRewrite bodyRewrite;\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n        System.out.println(&quot;---------------------------&quot;);\r\n        System.out.println(&quot;       GLOBAL FILTER&quot;);\r\n        System.out.println(&quot;---------------------------&quot;);\r\n        GatewayFilter delegate=modifyResponseBodyGatewayFilterFactory.apply(new ModifyResponseBodyGatewayFilterFactory.Config()\r\n                .setRewriteFunction(byte[].class, byte[].class, bodyRewrite));\r\n        return delegate.filter(exchange, chain);\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER-1;\r\n    }\r\n\r\n```\r\nIn the console I only get this output about 30 times in a row and no output with phrase &quot;APPLY METHOD&quot;.\r\n```\r\n---------------------------\r\n       GLOBAL FILTER\r\n---------------------------\r\n```","title":"How to get response body in Spring Gateway","body":"<p>I'm working with spring cloud gateway filters and need to get response body to log it.\nI understand that it's problematic, as spring gateway is built on spring reactor, but nevertheless I'm looking for any way to do this.</p>\n<p>Have global filter, code:</p>\n<pre><code>\nimport org.reactivestreams.Publisher;\nimport org.reactivestreams.Subscriber;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\nimport org.springframework.cloud.gateway.filter.GlobalFilter;\nimport org.springframework.cloud.gateway.filter.NettyWriteResponseFilter;\nimport org.springframework.cloud.gateway.filter.factory.rewrite.ModifyResponseBodyGatewayFilterFactory;\nimport org.springframework.cloud.gateway.filter.factory.rewrite.RewriteFunction;\nimport org.springframework.cloud.gateway.support.ServerWebExchangeUtils;\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class BodyRewrite implements RewriteFunction&lt;byte[], byte[]&gt; {\n\n    @Override\n    public Publisher&lt;byte[]&gt; apply(ServerWebExchange exchange, byte[] body) {\n        System.out.println(&quot;-------------------------&quot;);\n        System.out.println(&quot;       APPLY METHOD&quot;);\n        System.out.println(&quot;-------------------------&quot;);\n        String originalBody = body==null?&quot;&quot;:new String(body);\n        if (!ServerWebExchangeUtils.isAlreadyRouted(exchange)) {\n            return Mono.just(originalBody.getBytes());\n        } else {\n            System.out.println(&quot;RESPONSE: &quot; + originalBody);\n        }\n\n        return new Publisher&lt;byte[]&gt;() {\n            @Override\n            public void subscribe(Subscriber&lt;? super byte[]&gt; subscriber) {\n                \n            }\n        };\n    }\n}\n\n@Component\nclass ModifyResponseBodyFilter implements GlobalFilter, Ordered {\n    @Autowired\n    private ModifyResponseBodyGatewayFilterFactory modifyResponseBodyGatewayFilterFactory;\n    @Autowired\n    private BodyRewrite bodyRewrite;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        System.out.println(&quot;---------------------------&quot;);\n        System.out.println(&quot;       GLOBAL FILTER&quot;);\n        System.out.println(&quot;---------------------------&quot;);\n        GatewayFilter delegate=modifyResponseBodyGatewayFilterFactory.apply(new ModifyResponseBodyGatewayFilterFactory.Config()\n                .setRewriteFunction(byte[].class, byte[].class, bodyRewrite));\n        return delegate.filter(exchange, chain);\n    }\n\n    @Override\n    public int getOrder() {\n        return NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER-1;\n    }\n\n</code></pre>\n<p>In the console I only get this output about 30 times in a row and no output with phrase &quot;APPLY METHOD&quot;.</p>\n<pre><code>---------------------------\n       GLOBAL FILTER\n---------------------------\n</code></pre>\n"},{"tags":["java","jakarta-ee","primefaces","payara","payara-micro"],"comments":[{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1658168959,"post_id":73023312,"comment_id":128979989,"body_markdown":"Hmmm that is strange. It looks like a class compatibility issue but PF is compiled for Java 8 so it should not be reporting that.","body":"Hmmm that is strange. It looks like a class compatibility issue but PF is compiled for Java 8 so it should not be reporting that."},{"owner":{"account_id":11261242,"reputation":51,"user_id":8259472,"display_name":"Stefano Berretta"},"score":0,"creation_date":1658214153,"post_id":73023312,"comment_id":128989015,"body_markdown":"@Melloware I found out that the class that raises the problem is in web-fragment.xml inside the primefaces.jar in the `&lt;listener&gt;` tag","body":"@Melloware I found out that the class that raises the problem is in web-fragment.xml inside the primefaces.jar in the <code>&lt;listener&gt;</code> tag"},{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1658234571,"post_id":73023312,"comment_id":128996648,"body_markdown":"Yep it is this class `org.primefaces.webapp.UploadedFileCleanerListener` but all of PF is compiled for Java8 so how could it be getting `unsupported major or minor version numbers` when you are using Java 8 to run.  UNless its an issue with Your JDK8?","body":"Yep it is this class <code>org.primefaces.webapp.UploadedFileCleanerListener</code> but all of PF is compiled for Java8 so how could it be getting <code>unsupported major or minor version numbers</code> when you are using Java 8 to run.  UNless its an issue with Your JDK8?"}],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658235351,"creation_date":1658235351,"answer_id":73037317,"question_id":73023312,"body_markdown":"When I run `javap -v` on `org.primefaces.webapp.UploadedFileCleanerListener` class in PrimeFaces 11 its showing Bytecode version `52` which is JDK8.\r\n\r\n```\r\nC:\\Temp&gt;javap -v UploadedFileCleanerListener.class\r\nClassfile /C:/Temp/UploadedFileCleanerListener.class\r\n  Last modified Dec 9, 2021; size 1419 bytes\r\n  MD5 checksum b8584b71366ba6daea3f09087d7ce098\r\n  Compiled from &quot;UploadedFileCleanerListener.java&quot;\r\npublic class org.primefaces.webapp.UploadedFileCleanerListener implements jakarta.servlet.ServletRequestListener\r\n  minor version: 0\r\n  major version: 52\r\n```\r\n\r\nSee: https://javaalmanac.io/bytecode/versions/\r\n\r\n```\r\nJDK Version\tBytecode Version\r\nJava 5\t49.0\r\nJava 6\t50.0\r\nJava 7\t51.0\r\nJava 8\t52.0\r\nJava 9\t53.0\r\nJava 10\t54.0\r\nJava 11\t55.0\r\nJava 12\t56.0\r\nJava 13\t57.0\r\nJava 14\t58.0\r\nJava 15\t59.0\r\nJava 16\t60.0\r\nJava 17\t61.0\r\nJava 18\t62.0\r\nJava 19\t63.0\r\nJava 20\t64.0\r\n```","title":"Primefaces 11 with Java 8 and Payara-micro does not work","body":"<p>When I run <code>javap -v</code> on <code>org.primefaces.webapp.UploadedFileCleanerListener</code> class in PrimeFaces 11 its showing Bytecode version <code>52</code> which is JDK8.</p>\n<pre><code>C:\\Temp&gt;javap -v UploadedFileCleanerListener.class\nClassfile /C:/Temp/UploadedFileCleanerListener.class\n  Last modified Dec 9, 2021; size 1419 bytes\n  MD5 checksum b8584b71366ba6daea3f09087d7ce098\n  Compiled from &quot;UploadedFileCleanerListener.java&quot;\npublic class org.primefaces.webapp.UploadedFileCleanerListener implements jakarta.servlet.ServletRequestListener\n  minor version: 0\n  major version: 52\n</code></pre>\n<p>See: <a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">https://javaalmanac.io/bytecode/versions/</a></p>\n<pre><code>JDK Version Bytecode Version\nJava 5  49.0\nJava 6  50.0\nJava 7  51.0\nJava 8  52.0\nJava 9  53.0\nJava 10 54.0\nJava 11 55.0\nJava 12 56.0\nJava 13 57.0\nJava 14 58.0\nJava 15 59.0\nJava 16 60.0\nJava 17 61.0\nJava 18 62.0\nJava 19 63.0\nJava 20 64.0\n</code></pre>\n"}],"owner":{"account_id":11261242,"reputation":51,"user_id":8259472,"display_name":"Stefano Berretta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658322089,"creation_date":1658151681,"question_id":73023312,"body_markdown":"I and my colleagues are porting an old application based on JSF 2.2 + Tomcat 9 on Jakarta EE 9 2 + OpenJDK 1.8 + JSF 3.0 + Payara 5.2022.2 as it fulfils Jakarta EE 9 specification.\r\n\r\nWe changed imports, web.xml, pom.xml and after a few iterations we get to compile the project. But using payara-micro:start to deploy and run the application we have a problem apparently with primefaces 11.0.0. \r\n\r\n```\r\norg.apache.catalina.LifecycleException: java.lang.IllegalArgumentException: java.lang.UnsupportedClassVersionError: Class org.primefaces.webapp.UploadedFileCleanerListener has unsupported major or minor version numbers, which are greater than those found in the Java Runtime Environment version 1.8.0_332\r\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:5716)\r\n        at com.sun.enterprise.web.WebModule.start(WebModule.java:619)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:958)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:941)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:694)\r\n        at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1871)\r\n        at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1623)\r\n        at com.sun.enterprise.web.WebApplication.start(WebApplication.java:107)\r\n        at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\r\n        at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\r\n        at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\r\n        at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)\r\n        at fish.payara.deployment.admin.InitializeAllApplicationsCommand.execute(InitializeAllApplicationsCommand.java:75)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:360)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:360)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:120)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\r\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\r\n        at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.executeCommand(CommandExecutorImpl.java:183)\r\n        at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.run(CommandExecutorImpl.java:96)\r\n        at fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1060)\r\n        at fish.payara.micro.impl.PayaraMicroImpl.create(PayaraMicroImpl.java:231)\r\n        at fish.payara.micro.impl.PayaraMicroImpl.main(PayaraMicroImpl.java:218)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at fish.payara.micro.boot.loader.MainMethodRunner.run(MainMethodRunner.java:50)\r\n        at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:114)\r\n        at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:73)\r\n        at fish.payara.micro.boot.PayaraMicroLauncher.create(PayaraMicroLauncher.java:88)\r\n        at fish.payara.micro.boot.PayaraMicroLauncher.main(PayaraMicroLauncher.java:72)\r\n        at fish.payara.micro.PayaraMicro.main(PayaraMicro.java:456)\r\n```\r\n\r\nHere&#39;s the pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;it.caditech&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mdmweb-nuovo&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src/main&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;start&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;payaraVersion&gt;5.2022.2&lt;/payaraVersion&gt;\r\n          &lt;artifactItem&gt;\r\n            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2022.2&lt;/version&gt;\r\n          &lt;/artifactItem&gt;\r\n          &lt;deployWar&gt;true&lt;/deployWar&gt;\r\n          &lt;contextRoot&gt;/&lt;/contextRoot&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.cssparser/cssparser --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.cssparser&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cssparser&lt;/artifactId&gt;\r\n      &lt;version&gt;0.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n      &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n      &lt;version&gt;11.0.0&lt;/version&gt;\r\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;it.caditech&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mdmweb-nuovo&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;build&gt;\r\n    &lt;!-- &lt;finalName&gt;mdmweb-nuovissimo&lt;/finalName&gt; --&gt;\r\n    &lt;sourceDirectory&gt;src/main&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;start&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;payaraVersion&gt;5.2022.2&lt;/payaraVersion&gt;\r\n          &lt;artifactItem&gt;\r\n            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2022.2&lt;/version&gt;\r\n          &lt;/artifactItem&gt;\r\n          &lt;deployWar&gt;true&lt;/deployWar&gt;\r\n          &lt;contextRoot&gt;/&lt;/contextRoot&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.openejb.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;tomeeVersion&gt;1.7.1&lt;/tomeeVersion&gt;\r\n          &lt;tomeeClassifier&gt;plus&lt;/tomeeClassifier&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;it.caditech&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mdm&lt;/artifactId&gt;\r\n      &lt;version&gt;6.43.14&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;type&gt;test-jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;it.caditech&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mdm&lt;/artifactId&gt;\r\n      &lt;version&gt;6.43.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.cssparser/cssparser --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.cssparser&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cssparser&lt;/artifactId&gt;\r\n      &lt;version&gt;0.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;!--\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;12.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n      &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n      &lt;version&gt;10.0.0&lt;/version&gt;\r\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.w3c.css/sac --&gt;\r\n    &lt;!-- &lt;dependency&gt;\r\n      &lt;groupId&gt;org.w3c.css&lt;/groupId&gt;\r\n      &lt;artifactId&gt;sac&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt; --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n[EDITED]\r\n\r\nI found out that the class that raises the problem is in web-fragment.xml inside the primefaces.jar in the `listener` tag. I tried to comment it, but this new error raises\r\n```\r\njava.lang.ClassNotFoundException: jakarta.faces.webapp.FacesServlet\r\n        at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1821)\r\n        at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1662)\r\n        at org.apache.catalina.core.StandardWrapper.loadServletClass(StandardWrapper.java:1484)\r\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1353)\r\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:1166)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:178)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)\r\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)\r\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)\r\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)\r\n        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\r\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)\r\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n```","title":"Primefaces 11 with Java 8 and Payara-micro does not work","body":"<p>I and my colleagues are porting an old application based on JSF 2.2 + Tomcat 9 on Jakarta EE 9 2 + OpenJDK 1.8 + JSF 3.0 + Payara 5.2022.2 as it fulfils Jakarta EE 9 specification.</p>\n<p>We changed imports, web.xml, pom.xml and after a few iterations we get to compile the project. But using payara-micro:start to deploy and run the application we have a problem apparently with primefaces 11.0.0.</p>\n<pre><code>org.apache.catalina.LifecycleException: java.lang.IllegalArgumentException: java.lang.UnsupportedClassVersionError: Class org.primefaces.webapp.UploadedFileCleanerListener has unsupported major or minor version numbers, which are greater than those found in the Java Runtime Environment version 1.8.0_332\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:5716)\n        at com.sun.enterprise.web.WebModule.start(WebModule.java:619)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:958)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:941)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:694)\n        at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1871)\n        at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1623)\n        at com.sun.enterprise.web.WebApplication.start(WebApplication.java:107)\n        at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\n        at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\n        at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\n        at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)\n        at fish.payara.deployment.admin.InitializeAllApplicationsCommand.execute(InitializeAllApplicationsCommand.java:75)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:120)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\n        at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.executeCommand(CommandExecutorImpl.java:183)\n        at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.run(CommandExecutorImpl.java:96)\n        at fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1060)\n        at fish.payara.micro.impl.PayaraMicroImpl.create(PayaraMicroImpl.java:231)\n        at fish.payara.micro.impl.PayaraMicroImpl.main(PayaraMicroImpl.java:218)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at fish.payara.micro.boot.loader.MainMethodRunner.run(MainMethodRunner.java:50)\n        at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:114)\n        at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:73)\n        at fish.payara.micro.boot.PayaraMicroLauncher.create(PayaraMicroLauncher.java:88)\n        at fish.payara.micro.boot.PayaraMicroLauncher.main(PayaraMicroLauncher.java:72)\n        at fish.payara.micro.PayaraMicro.main(PayaraMicro.java:456)\n</code></pre>\n<p>Here's the pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;it.caditech&lt;/groupId&gt;\n  &lt;artifactId&gt;mdmweb-nuovo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src/main&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;payaraVersion&gt;5.2022.2&lt;/payaraVersion&gt;\n          &lt;artifactItem&gt;\n            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\n            &lt;version&gt;5.2022.2&lt;/version&gt;\n          &lt;/artifactItem&gt;\n          &lt;deployWar&gt;true&lt;/deployWar&gt;\n          &lt;contextRoot&gt;/&lt;/contextRoot&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n      &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n      &lt;version&gt;3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\n      &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.cssparser/cssparser --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sourceforge.cssparser&lt;/groupId&gt;\n      &lt;artifactId&gt;cssparser&lt;/artifactId&gt;\n      &lt;version&gt;0.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;9.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;9.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n      &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n      &lt;version&gt;11.0.0&lt;/version&gt;\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;it.caditech&lt;/groupId&gt;\n  &lt;artifactId&gt;mdmweb-nuovo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;!-- &lt;finalName&gt;mdmweb-nuovissimo&lt;/finalName&gt; --&gt;\n    &lt;sourceDirectory&gt;src/main&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;payaraVersion&gt;5.2022.2&lt;/payaraVersion&gt;\n          &lt;artifactItem&gt;\n            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\n            &lt;version&gt;5.2022.2&lt;/version&gt;\n          &lt;/artifactItem&gt;\n          &lt;deployWar&gt;true&lt;/deployWar&gt;\n          &lt;contextRoot&gt;/&lt;/contextRoot&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.openejb.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;tomeeVersion&gt;1.7.1&lt;/tomeeVersion&gt;\n          &lt;tomeeClassifier&gt;plus&lt;/tomeeClassifier&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n      &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n      &lt;version&gt;3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n      &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\n      &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;it.caditech&lt;/groupId&gt;\n      &lt;artifactId&gt;mdm&lt;/artifactId&gt;\n      &lt;version&gt;6.43.14&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;type&gt;test-jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;it.caditech&lt;/groupId&gt;\n      &lt;artifactId&gt;mdm&lt;/artifactId&gt;\n      &lt;version&gt;6.43.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.cssparser/cssparser --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sourceforge.cssparser&lt;/groupId&gt;\n      &lt;artifactId&gt;cssparser&lt;/artifactId&gt;\n      &lt;version&gt;0.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;!--\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;12.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;9.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;9.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n      &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n      &lt;version&gt;10.0.0&lt;/version&gt;\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.w3c.css/sac --&gt;\n    &lt;!-- &lt;dependency&gt;\n      &lt;groupId&gt;org.w3c.css&lt;/groupId&gt;\n      &lt;artifactId&gt;sac&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>[EDITED]</p>\n<p>I found out that the class that raises the problem is in web-fragment.xml inside the primefaces.jar in the <code>listener</code> tag. I tried to comment it, but this new error raises</p>\n<pre><code>java.lang.ClassNotFoundException: jakarta.faces.webapp.FacesServlet\n        at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1821)\n        at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1662)\n        at org.apache.catalina.core.StandardWrapper.loadServletClass(StandardWrapper.java:1484)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1353)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:1166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:178)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)\n        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)\n        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\n        at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n"},{"tags":["java","kotlin","multipartform-data","ktor"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1658326179,"post_id":73052065,"comment_id":129024432,"body_markdown":"What is the format of the file? You would have to decode whatever is in that file into actual runtime instances. This process is called deserialization, and it completely depends on how the data was written (serialized) into this file in the first place","body":"What is the format of the file? You would have to decode whatever is in that file into actual runtime instances. This process is called deserialization, and it completely depends on how the data was written (serialized) into this file in the first place"},{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1658329920,"post_id":73052065,"comment_id":129026151,"body_markdown":"The `fileBytes` already refers to the content (byte array) of a file. Probably, you want to convert (deserialize) this content to a map by interpreting an array of bytes as JSON. You can do this by using a serialization/deserialization framework, e.g. https://github.com/Kotlin/kotlinx.serialization.","body":"The <code>fileBytes</code> already refers to the content (byte array) of a file. Probably, you want to convert (deserialize) this content to a map by interpreting an array of bytes as JSON. You can do this by using a serialization/deserialization framework, e.g. <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.serialization</a>."}],"owner":{"account_id":20655104,"reputation":29,"user_id":15164431,"display_name":"Lutz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658321857,"creation_date":1658321857,"question_id":73052065,"body_markdown":"Is it possible to read the contents of a file directly without having to save it. The file (.json) is received as a multipart request. This example was used for [orientation][1].\r\n\r\nInstead of saving the file as in the example, its content is to be saved directly in a map.\r\n\r\nWith the following line I get the fileBytes. \r\n```kotlin\r\nvar fileBytes = part.streamProvider().readBytes()\r\n```\r\n\r\nHow to read the content of the file from the fileBytes\r\n\r\n  [1]: https://ktor.io/docs/requests.html#form_data","title":"Read the contents of a requested file without saving it in Ktor [Kotlin]","body":"<p>Is it possible to read the contents of a file directly without having to save it. The file (.json) is received as a multipart request. This example was used for <a href=\"https://ktor.io/docs/requests.html#form_data\" rel=\"nofollow noreferrer\">orientation</a>.</p>\n<p>Instead of saving the file as in the example, its content is to be saved directly in a map.</p>\n<p>With the following line I get the fileBytes.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var fileBytes = part.streamProvider().readBytes()\n</code></pre>\n<p>How to read the content of the file from the fileBytes</p>\n"},{"tags":["java","php","http","localhost","webserver"],"comments":[{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1658145460,"post_id":72995587,"comment_id":128970399,"body_markdown":"It is not reproducible in my PC. I tested it using PHP 8.1.2. Do you have any proxy for your JVM?","body":"It is not reproducible in my PC. I tested it using PHP 8.1.2. Do you have any proxy for your JVM?"},{"owner":{"account_id":18294147,"reputation":481,"user_id":13320390,"display_name":"Rokas Rudys"},"score":0,"creation_date":1658167394,"post_id":72995587,"comment_id":128979466,"body_markdown":"You should check nothing else is using port 80 this can be used by applications like Skype, routers by default usually leave a TCP open for port 80 so try 8080","body":"You should check nothing else is using port 80 this can be used by applications like Skype, routers by default usually leave a TCP open for port 80 so try 8080"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658321735,"creation_date":1658182263,"answer_id":73029132,"question_id":72995587,"body_markdown":"According to the use case you described, the most probably reason would be that the firewall or some antivirus software is blocking your Java program, there is nothing that prevents the firewall to block connections within the same machine.\r\n\r\nPlease, and excuse me to say, but be sure as well that the server is actually running when the test is executed, perhaps it is terminated or stopped for any reason: I am saying this because it is strange that your test works successfully against `google.com` and not for `localhost`.\r\n\r\nThe PHP server will accept requests with `URLConnection`, at first glance there is nothing in the Java `HttpURLConnection` implementation that could cause such behavior, and `URLConnection` can connect to secure or insecure sites: take for instance the Google example you exemplified.\r\n\r\nFinally, although I think there shouldn&#39;t be nothing wrong with using the `connect` method, try something different in your code, the web is plenty of examples of how to read some URL with `HttpURLConnection`. Take for instance this example, adapted from the [Android documentation](https://developer.android.com/reference/java/net/HttpURLConnection) - please, excuse the simplicity of the code:\r\n\r\n```java\r\nURL url = new URL(&quot;http://localhost/&quot;);\r\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\ntry {\r\n  InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n  \r\n  String line;\r\n  StringBuffer response = new StringBuffer();\r\n\r\n  while ((line = in.readLine()) != null) {\r\n    response.append(line);\r\n  }\r\n\r\n  in.close();\r\n\r\n  System.out.println(&quot;Response:\\n&quot; + response.toString());\r\n} finally {\r\n  urlConnection.disconnect();\r\n}\r\n```\r\n\r\nAccording to your comments, and the output from `curl` you provided:\r\n\r\n```\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: localhost\r\n&gt; User-Agent: curl/7.83.1\r\n&gt; Accept: */*\r\n```\r\n\r\ntry including the same headers `curl` is already providing: as I mentioned in my comments, I have never experienced this behavior, but it could be of help. Please, try the following, for example:\r\n\r\n```java\r\nURL url = new URL(&quot;http://localhost/&quot;);\r\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\ntry {\r\n  // Note the headers provided: try to test it and see if it works\r\n  urlConnection.setRequestProperty(&quot;Host&quot;, &quot;localhost&quot;);\r\n  urlConnection.setRequestProperty(&quot;User-Agent&quot;, &quot;curl/7.83.1&quot;);\r\n  urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n\r\n  InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n  \r\n  String line;\r\n  StringBuffer response = new StringBuffer();\r\n\r\n  while ((line = in.readLine()) != null) {\r\n    response.append(line);\r\n  }\r\n\r\n  in.close();\r\n\r\n  System.out.println(&quot;Response:\\n&quot; + response.toString());\r\n} finally {\r\n  urlConnection.disconnect();\r\n}\r\n``` ","title":"java.net.ConnectionException while trying to connect to local host","body":"<p>According to the use case you described, the most probably reason would be that the firewall or some antivirus software is blocking your Java program, there is nothing that prevents the firewall to block connections within the same machine.</p>\n<p>Please, and excuse me to say, but be sure as well that the server is actually running when the test is executed, perhaps it is terminated or stopped for any reason: I am saying this because it is strange that your test works successfully against <code>google.com</code> and not for <code>localhost</code>.</p>\n<p>The PHP server will accept requests with <code>URLConnection</code>, at first glance there is nothing in the Java <code>HttpURLConnection</code> implementation that could cause such behavior, and <code>URLConnection</code> can connect to secure or insecure sites: take for instance the Google example you exemplified.</p>\n<p>Finally, although I think there shouldn't be nothing wrong with using the <code>connect</code> method, try something different in your code, the web is plenty of examples of how to read some URL with <code>HttpURLConnection</code>. Take for instance this example, adapted from the <a href=\"https://developer.android.com/reference/java/net/HttpURLConnection\" rel=\"nofollow noreferrer\">Android documentation</a> - please, excuse the simplicity of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://localhost/&quot;);\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\ntry {\n  InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n  \n  String line;\n  StringBuffer response = new StringBuffer();\n\n  while ((line = in.readLine()) != null) {\n    response.append(line);\n  }\n\n  in.close();\n\n  System.out.println(&quot;Response:\\n&quot; + response.toString());\n} finally {\n  urlConnection.disconnect();\n}\n</code></pre>\n<p>According to your comments, and the output from <code>curl</code> you provided:</p>\n<pre><code>&gt; GET / HTTP/1.1\n&gt; Host: localhost\n&gt; User-Agent: curl/7.83.1\n&gt; Accept: */*\n</code></pre>\n<p>try including the same headers <code>curl</code> is already providing: as I mentioned in my comments, I have never experienced this behavior, but it could be of help. Please, try the following, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://localhost/&quot;);\nHttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\ntry {\n  // Note the headers provided: try to test it and see if it works\n  urlConnection.setRequestProperty(&quot;Host&quot;, &quot;localhost&quot;);\n  urlConnection.setRequestProperty(&quot;User-Agent&quot;, &quot;curl/7.83.1&quot;);\n  urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n\n  InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n  \n  String line;\n  StringBuffer response = new StringBuffer();\n\n  while ((line = in.readLine()) != null) {\n    response.append(line);\n  }\n\n  in.close();\n\n  System.out.println(&quot;Response:\\n&quot; + response.toString());\n} finally {\n  urlConnection.disconnect();\n}\n</code></pre>\n"}],"owner":{"account_id":24324131,"reputation":405,"user_id":18263961,"display_name":"iLittleWizard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1658321735,"creation_date":1657895380,"question_id":72995587,"body_markdown":"I set up a PHP server on `localhost:80`. However, when I tried to connect it with `HttpUrlConnection`, it threw an exception.\r\n    \r\n\r\n    package test;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            /* Error thrown on the following line */\r\n            new URL(&quot;http://localhost/&quot;).openConnection().connect(); \r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\r\n    \tat java.base/java.net.PlainSocketImpl.connect0(Native Method)\r\n    \tat java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:101)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:609)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:558)\r\n    \tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\r\n    \tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n    \tat test.Main.main(Main.java:6)\r\n\r\nThe index.php is simply `&lt;?php echo &quot;Ello World&quot;; ?&gt;`\r\n\r\nI&#39;ve tried to access the page with Chrome and cURL, but that works perfectly\r\n\r\n[![Accessing the page by typing &quot;http://localhost/&quot;][1]][1]\r\n\r\n    C:\\Users\\User&gt;curl -XGET &quot;http://localhost/&quot;\r\n    Ello World\r\n\r\nThen, I tried to send a GET request to google:\r\n\r\n    new URL(&quot;http://google.com/&quot;).openConnection().connect();\r\n\r\nAll good, no errors\r\n\r\nI later searched for the related errors with the keywords &quot;**ConnectException**&quot;, &quot;**connection refused**&quot;, &quot;**java localhost**&quot; ..., still, no luck.\r\n\r\n - The PHP server and Java is running on the same machine. No emulator. Just PHP and IntelliJ IDEA\r\n - The PHP server doesn&#39;t receive any incoming request, because there is no log output\r\n - I am using the HTTP protocol because the PHP server doesn&#39;t have SSL enabled\r\n - Changing the URL to &quot;http://localhost:80/&quot;, &quot;http://127.0.0.1/&quot; or &quot;http://127.0.0.1:80/&quot; doesn&#39;t help\r\n\r\n\r\nMy suspicion:\r\n\r\n - PHP server doesn&#39;t accept requests with `URLConnection`, because they are incompatible\r\n - `URLConnection` blocked HTTP request because it is &quot;insecure&quot;\r\n - The firewall things is blocking the request, but as far as I known, firewall doesn&#39;t block connections within the same machine, Right?\r\n\r\n\r\nAny Ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmKar.png","title":"java.net.ConnectionException while trying to connect to local host","body":"<p>I set up a PHP server on <code>localhost:80</code>. However, when I tried to connect it with <code>HttpUrlConnection</code>, it threw an exception.</p>\n<pre><code>package test;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        /* Error thrown on the following line */\n        new URL(&quot;http://localhost/&quot;).openConnection().connect(); \n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\n    at java.base/java.net.PlainSocketImpl.connect0(Native Method)\n    at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:101)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at java.base/java.net.Socket.connect(Socket.java:558)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n    at test.Main.main(Main.java:6)\n</code></pre>\n<p>The index.php is simply <code>&lt;?php echo &quot;Ello World&quot;; ?&gt;</code></p>\n<p>I've tried to access the page with Chrome and cURL, but that works perfectly</p>\n<p><a href=\"https://i.stack.imgur.com/nmKar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmKar.png\" alt=\"Accessing the page by typing &quot;http://localhost/&quot;\" /></a></p>\n<pre><code>C:\\Users\\User&gt;curl -XGET &quot;http://localhost/&quot;\nEllo World\n</code></pre>\n<p>Then, I tried to send a GET request to google:</p>\n<pre><code>new URL(&quot;http://google.com/&quot;).openConnection().connect();\n</code></pre>\n<p>All good, no errors</p>\n<p>I later searched for the related errors with the keywords &quot;<strong>ConnectException</strong>&quot;, &quot;<strong>connection refused</strong>&quot;, &quot;<strong>java localhost</strong>&quot; ..., still, no luck.</p>\n<ul>\n<li>The PHP server and Java is running on the same machine. No emulator. Just PHP and IntelliJ IDEA</li>\n<li>The PHP server doesn't receive any incoming request, because there is no log output</li>\n<li>I am using the HTTP protocol because the PHP server doesn't have SSL enabled</li>\n<li>Changing the URL to &quot;http://localhost:80/&quot;, &quot;http://127.0.0.1/&quot; or &quot;http://127.0.0.1:80/&quot; doesn't help</li>\n</ul>\n<p>My suspicion:</p>\n<ul>\n<li>PHP server doesn't accept requests with <code>URLConnection</code>, because they are incompatible</li>\n<li><code>URLConnection</code> blocked HTTP request because it is &quot;insecure&quot;</li>\n<li>The firewall things is blocking the request, but as far as I known, firewall doesn't block connections within the same machine, Right?</li>\n</ul>\n<p>Any Ideas?</p>\n"},{"tags":["java","maven","intellij-idea","testng","rest-assured"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1658241028,"post_id":73037075,"comment_id":128999655,"body_markdown":"Is it possible to share the whole project as a zip?","body":"Is it possible to share the whole project as a zip?"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1658241156,"post_id":73037075,"comment_id":128999701,"body_markdown":"It&#39;s kind of confused here, `main` method has @Test annotation. huh.","body":"It&#39;s kind of confused here, <code>main</code> method has @Test annotation. huh."},{"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"score":0,"creation_date":1658242469,"post_id":73037075,"comment_id":129000256,"body_markdown":"I couldnt share because this is private. But i can share my another class","body":"I couldnt share because this is private. But i can share my another class"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658243840,"post_id":73037075,"comment_id":129000863,"body_markdown":"`public static void main` is not a valid test method. Furthermore a test should be named like `*Test.java`...","body":"<code>public static void main</code> is not a valid test method. Furthermore a test should be named like <code>*Test.java</code>..."},{"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"score":0,"creation_date":1658247233,"post_id":73037075,"comment_id":129002167,"body_markdown":"@khmarbaise i shared the changes","body":"@khmarbaise i shared the changes"}],"answers":[{"tags":[],"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658321079,"creation_date":1658247193,"answer_id":73040317,"question_id":73037075,"body_markdown":"Ok i remove the psvm and i just use public void instead of psvm. So @test si working\r\n\r\n        ","title":"RestAssured - TestNG &quot;No tests found. Nothing was run&quot;","body":"<p>Ok i remove the psvm and i just use public void instead of psvm. So @test si working</p>\n"}],"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73040317,"answer_count":1,"score":0,"last_activity_date":1658321079,"creation_date":1658234359,"question_id":73037075,"body_markdown":"I want to test my api&#39;s use RestAssured with TestNG but i got some error&#39;s.&quot;No tests were [TestNG] No tests found. Nothing was run&quot;. So here is my pom.xml file and testng.xml file.\r\n\r\nPom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;LifeboxAutomation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;LifeboxAutomation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.14.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\ntestng.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;All Test Suite&quot;&gt;\r\n        &lt;test verbose=&quot;2&quot; name=&quot;C:/Users/EXT02D49935/IdeaProjects/LifeboxAutomation&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;PreReq.payload&quot;&gt;\r\n                    &lt;methods&gt;\r\n                        &lt;include name=&quot;userAuth&quot;/&gt;\r\n                    &lt;/methods&gt;\r\n                &lt;/class&gt;\r\n                &lt;class name=&quot;Album&quot;&gt;\r\n                &lt;/class&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n\r\n\r\n[testNG Configuration][1]\r\n\r\n\r\n[Part of my main class][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9P7qx.png\r\n  [2]: https://i.stack.imgur.com/RTvii.png\r\n\r\nThank you for your time","title":"RestAssured - TestNG &quot;No tests found. Nothing was run&quot;","body":"<p>I want to test my api's use RestAssured with TestNG but i got some error's.&quot;No tests were [TestNG] No tests found. Nothing was run&quot;. So here is my pom.xml file and testng.xml file.</p>\n<p>Pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;LifeboxAutomation&lt;/groupId&gt;\n    &lt;artifactId&gt;LifeboxAutomation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.14.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>testng.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;All Test Suite&quot;&gt;\n    &lt;test verbose=&quot;2&quot; name=&quot;C:/Users/EXT02D49935/IdeaProjects/LifeboxAutomation&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;PreReq.payload&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;userAuth&quot;/&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n            &lt;class name=&quot;Album&quot;&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9P7qx.png\" rel=\"nofollow noreferrer\">testNG Configuration</a></p>\n<p><a href=\"https://i.stack.imgur.com/RTvii.png\" rel=\"nofollow noreferrer\">Part of my main class</a></p>\n<p>Thank you for your time</p>\n"},{"tags":["java","authentication","embed","credentials"],"comments":[{"owner":{"account_id":1685359,"reputation":3562,"user_id":1548788,"accept_rate":77,"display_name":"Robin"},"score":1,"creation_date":1355229807,"post_id":13820640,"comment_id":19016926,"body_markdown":"Did you thought about hashing the Password? Maybe this would work for your use case?","body":"Did you thought about hashing the Password? Maybe this would work for your use case?"},{"owner":{"account_id":186532,"reputation":13508,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"score":1,"creation_date":1355229888,"post_id":13820640,"comment_id":19016976,"body_markdown":"Could you please elaborate on how your client application works? How many instances of it run? Who controls its lifecycle? What is the password used for?","body":"Could you please elaborate on how your client application works? How many instances of it run? Who controls its lifecycle? What is the password used for?"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":1,"creation_date":1355229951,"post_id":13820640,"comment_id":19017014,"body_markdown":"Do you need to send the password somewhere else, so you actually need the actual password? Or do you receive the password from somewhere (like the user) and just need to check if it is correct (and can use hash for that)?","body":"Do you need to send the password somewhere else, so you actually need the actual password? Or do you receive the password from somewhere (like the user) and just need to check if it is correct (and can use hash for that)?"},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":4,"creation_date":1355229992,"post_id":13820640,"comment_id":19017031,"body_markdown":"What&#39;s the most secure way to embed a steak inside the mouth of a shark?","body":"What&#39;s the most secure way to embed a steak inside the mouth of a shark?"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1355230209,"post_id":13820640,"comment_id":19017110,"body_markdown":"Another clarification request: Can hard-code the password, so recompilation is needed to change it, or must it be changeable after application is installed? And further, is it ok to use compile time code generator to generate the code to give you the password, or must it be possible to enter it by hand to actual Java source code?","body":"Another clarification request: Can hard-code the password, so recompilation is needed to change it, or must it be changeable after application is installed? And further, is it ok to use compile time code generator to generate the code to give you the password, or must it be possible to enter it by hand to actual Java source code?"}],"answers":[{"tags":[],"owner":{"account_id":1879011,"reputation":1,"user_id":1699602,"display_name":"Gabriel Faiz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1355229969,"creation_date":1355229969,"answer_id":13820731,"question_id":13820640,"body_markdown":"you can hash the password and even encrypt it if you wish. take a look at this post it might come useful. https://stackoverflow.com/questions/339004/java-encrypt-decrypt-user-name-and-password-from-a-configuration-file","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>you can hash the password and even encrypt it if you wish. take a look at this post it might come useful. <a href=\"https://stackoverflow.com/questions/339004/java-encrypt-decrypt-user-name-and-password-from-a-configuration-file\">Java - encrypt / decrypt user name and password from a configuration file</a></p>\n"},{"tags":[],"owner":{"account_id":186532,"reputation":13508,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355230251,"creation_date":1355230251,"answer_id":13820792,"question_id":13820640,"body_markdown":"As a general guideline you should never store the password (of course).\r\n\r\nIf you need to have a password available in runtime the best practice (as advocated in the Continous Delivery book by Jez Humble for example) is to provide the password at deploy/startup time. This way the password can reside only in peoples&#39; heads instead of in an insecure file somewhere.\r\n\r\nI do not know if this is feasible in your case, but you should aim towards that.","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>As a general guideline you should never store the password (of course).</p>\n\n<p>If you need to have a password available in runtime the best practice (as advocated in the Continous Delivery book by Jez Humble for example) is to provide the password at deploy/startup time. This way the password can reside only in peoples' heads instead of in an insecure file somewhere.</p>\n\n<p>I do not know if this is feasible in your case, but you should aim towards that.</p>\n"},{"tags":[],"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658320743,"creation_date":1355230578,"answer_id":13820896,"question_id":13820640,"body_markdown":"I guess the least un-ideal solution is, if you can have challenge-based authentication protocol with random element in it.\r\n\r\nThat way it is not just the password, it is also the code which uses the password to generate correct responses, which needs to be reverse-engineered.\r\n\r\nThen it can also be two-way authentication, that is your end can verify that the other side also uses same protocol/algorithm and also has same password.\r\n\r\nAnd most importantly, then the password is never sent over network, so it can&#39;t be sniffed.\r\n\r\n[Diffie-Hellman key exchange][1] is one widely used protocol for such a thing, but you could always roll your own simple implementation, if you only want obscurity, not real security. Well, real security is obviously out of your reach if everything can be decompiled and reverse-engineered from bytecode, but anyway... :)\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>I guess the least un-ideal solution is, if you can have challenge-based authentication protocol with random element in it.</p>\n<p>That way it is not just the password, it is also the code which uses the password to generate correct responses, which needs to be reverse-engineered.</p>\n<p>Then it can also be two-way authentication, that is your end can verify that the other side also uses same protocol/algorithm and also has same password.</p>\n<p>And most importantly, then the password is never sent over network, so it can't be sniffed.</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\" rel=\"nofollow noreferrer\">Diffie-Hellman key exchange</a> is one widely used protocol for such a thing, but you could always roll your own simple implementation, if you only want obscurity, not real security. Well, real security is obviously out of your reach if everything can be decompiled and reverse-engineered from bytecode, but anyway... :)</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1554815291,"creation_date":1355232589,"answer_id":13821503,"question_id":13820640,"body_markdown":"&gt; .... if you had to hard code it in the Java application, what measures could you take to make it harder to be fetched?\r\n\r\nFor a start, I would make damn sure that the person with management responsibility for making this bad decision is fully aware that this is **fundamentally and irredeemably insecure**&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThen I&#39;d probably think up some *naff* algorithm that assembles the password in an obscure way; e.g. by building two byte arrays and XORing them together ... and distributing obfuscated bytecodes.  The best you can hope to do is to make it difficult for folks with limited skills to reverse engineer the password from your code.\r\n\r\n(Encrypting the password with a strong algorithm won&#39;t help much, because the choice of algorithm and the decryption key both have to be embedded in your code.  Indeed, any scheme you can dream of can be defeated by using a debugger to set a breakpoint at the point where the password needs to be in the clear.)\r\n\r\n&lt;sup&gt;1 ... and that even Jon Skeet wouldn&#39;t be able to make it secure.&lt;/sup&gt;\r\n\r\n----------------------\r\n\r\n&gt; If some ways are better than others (for instance: JPasswordField stores the password in a char array instead of a String) ...\r\n\r\nI just want to note that the *normal* reasoning for using a char array to hold passwords in JPasswordField and the like is to protect against bad guys reading passwords out of core dumps or swap files.  It won&#39;t really help in this case because we have to assume that the bad guy you should be worried about is simeone with system admin access.  He or she will have sufficient control to attach a debugger to the JVM and capture the bytes from the char array.","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<blockquote>\n  <p>.... if you had to hard code it in the Java application, what measures could you take to make it harder to be fetched?</p>\n</blockquote>\n\n<p>For a start, I would make damn sure that the person with management responsibility for making this bad decision is fully aware that this is <strong>fundamentally and irredeemably insecure</strong><sup>1</sup>.</p>\n\n<p>Then I'd probably think up some <em>naff</em> algorithm that assembles the password in an obscure way; e.g. by building two byte arrays and XORing them together ... and distributing obfuscated bytecodes.  The best you can hope to do is to make it difficult for folks with limited skills to reverse engineer the password from your code.</p>\n\n<p>(Encrypting the password with a strong algorithm won't help much, because the choice of algorithm and the decryption key both have to be embedded in your code.  Indeed, any scheme you can dream of can be defeated by using a debugger to set a breakpoint at the point where the password needs to be in the clear.)</p>\n\n<p><sup>1 ... and that even Jon Skeet wouldn't be able to make it secure.</sup></p>\n\n<hr>\n\n<blockquote>\n  <p>If some ways are better than others (for instance: JPasswordField stores the password in a char array instead of a String) ...</p>\n</blockquote>\n\n<p>I just want to note that the <em>normal</em> reasoning for using a char array to hold passwords in JPasswordField and the like is to protect against bad guys reading passwords out of core dumps or swap files.  It won't really help in this case because we have to assume that the bad guy you should be worried about is simeone with system admin access.  He or she will have sufficient control to attach a debugger to the JVM and capture the bytes from the char array.</p>\n"},{"tags":[],"owner":{"account_id":2118794,"reputation":957,"user_id":1882525,"display_name":"Gavin Xiong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355240154,"creation_date":1355240154,"answer_id":13823193,"question_id":13820640,"body_markdown":"It&#39;s extremely unsafe to store sensitive data on the client side, espicially for password, because the .class files can be easily decompiled. Do you ever think about get some asymmetric encryption stuff involved ? Like public/private key pair or something like that? ","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>It's extremely unsafe to store sensitive data on the client side, espicially for password, because the .class files can be easily decompiled. Do you ever think about get some asymmetric encryption stuff involved ? Like public/private key pair or something like that? </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355249741,"creation_date":1355249741,"answer_id":13826078,"question_id":13820640,"body_markdown":"I like Stephen&#39;s answer, but I would add...\r\n\r\nSecurity of the source code is important too. No matter what method you use to obfuscate the password, anyone with access to the source can easily put a `System.out.println(password)` and capture the password where it&#39;s used, or run the code in debug and halt the code to inspect variables.\r\n\r\nEven without compiling, anyone with access to the `jar` can start the java program in debug mode and halt the program where the password is used and inspect the variable, trivial with the source code, but still doable with just the jar and some tools.\r\n\r\nYou might consider having the program get the password from a secure server when it needs it (via a web service call or whatever) and have that server use a firewall to allow only certain IPs from accessing it (if the IP of the client machines is known). It still isn&#39;t secure, but at least it&#39;s something.","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>I like Stephen's answer, but I would add...</p>\n\n<p>Security of the source code is important too. No matter what method you use to obfuscate the password, anyone with access to the source can easily put a <code>System.out.println(password)</code> and capture the password where it's used, or run the code in debug and halt the code to inspect variables.</p>\n\n<p>Even without compiling, anyone with access to the <code>jar</code> can start the java program in debug mode and halt the program where the password is used and inspect the variable, trivial with the source code, but still doable with just the jar and some tools.</p>\n\n<p>You might consider having the program get the password from a secure server when it needs it (via a web service call or whatever) and have that server use a firewall to allow only certain IPs from accessing it (if the IP of the client machines is known). It still isn't secure, but at least it's something.</p>\n"}],"owner":{"account_id":2132948,"reputation":693,"user_id":1893325,"accept_rate":76,"display_name":"Smig"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5546,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1440567017,"accepted_answer_id":13821503,"answer_count":6,"score":6,"last_activity_date":1658320743,"creation_date":1355229618,"question_id":13820640,"body_markdown":"I have to preface this question by saying that I&#39;m aware that hard-coding a password in the client application is bad practice, for many reasons. There are other questions dealing with that issue. The scope of this question is narrower and assumes that authenticating credentials HAVE to reside on the client application&#39;s code for some set of reasons that are out of your control.\r\n\r\nIf some ways are better than others (for instance: JPasswordField stores the password in a char array instead of a String) and if you had to hard code it in the Java application, what measures could you take to make it harder to be fetched?\r\n\r\nUpdate:\r\n\r\nOne instance of the application runs on a remote pc, where the end user has admin rights. The credentials are used to access a database in the same network, so the actual password is already predetermined and must be entered manually in the actual code.","title":"What&#39;s the most secure way to embed a password inside Java code?","body":"<p>I have to preface this question by saying that I'm aware that hard-coding a password in the client application is bad practice, for many reasons. There are other questions dealing with that issue. The scope of this question is narrower and assumes that authenticating credentials HAVE to reside on the client application's code for some set of reasons that are out of your control.</p>\n\n<p>If some ways are better than others (for instance: JPasswordField stores the password in a char array instead of a String) and if you had to hard code it in the Java application, what measures could you take to make it harder to be fetched?</p>\n\n<p>Update:</p>\n\n<p>One instance of the application runs on a remote pc, where the end user has admin rights. The credentials are used to access a database in the same network, so the actual password is already predetermined and must be entered manually in the actual code.</p>\n"},{"tags":["java","libgdx","screen"],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658320652,"creation_date":1658320652,"answer_id":73051781,"question_id":73050806,"body_markdown":"The easiest way to do this is to use two cameras - one for the world and one for the UI:\r\n\r\nAn example from one of my projects:\r\n\r\n\tprivate void initializeCamerasAndViewports() {\r\n\t\tcamera = new OrthographicCamera();\r\n        // create a second camera and viewport for the UI\r\n\t\tcameraHud = new OrthographicCamera();\r\n\t\tviewport = new FitViewport(Constants.SCENE_WIDTH, Constants.SCENE_HEIGHT, camera);\r\n\t\tviewportHud = new FitViewport(Constants.SCENE_WIDTH * Constants.HUD_SCENE_FACTOR, Constants.SCENE_HEIGHT * Constants.HUD_SCENE_FACTOR,\r\n\t\t\t\tcameraHud);\r\n\t\t\r\n\t\tcameraHud.position.x = Constants.HUD_SCENE_WIDTH * 0.5f;\r\n\t\tcameraHud.position.y = Constants.HUD_SCENE_HEIGHT * 0.5f;\r\n\t\t\r\n\t\tcamera.position.x = Constants.SCENE_WIDTH;\r\n\t\tcamera.position.y = Constants.SCENE_HEIGHT;\r\n\t\tcamera.zoom = 1.5f;\r\n\t\t\r\n\t\tcameraHud.update();\r\n\t}\r\n\r\nThen you can create a second `SpriteBatch` and use the UI camera to draw the UI that doesn&#39;t move with the rest of the world:\r\n\r\n    private SpriteBatch uiBatch = new SpriteBatch();\r\n\r\n\tpublic void render(float delta) {\r\n\t\t// ...\r\n\t\tuiBatch.setProjectionMatrix(cameraHud.combined);\r\n\r\n\t\t// TODO draw the UI using the new batch\r\n\t}","title":"How to render something using screen coords and not world coords libgdx","body":"<p>The easiest way to do this is to use two cameras - one for the world and one for the UI:</p>\n<p>An example from one of my projects:</p>\n<pre><code>private void initializeCamerasAndViewports() {\n    camera = new OrthographicCamera();\n    // create a second camera and viewport for the UI\n    cameraHud = new OrthographicCamera();\n    viewport = new FitViewport(Constants.SCENE_WIDTH, Constants.SCENE_HEIGHT, camera);\n    viewportHud = new FitViewport(Constants.SCENE_WIDTH * Constants.HUD_SCENE_FACTOR, Constants.SCENE_HEIGHT * Constants.HUD_SCENE_FACTOR,\n            cameraHud);\n    \n    cameraHud.position.x = Constants.HUD_SCENE_WIDTH * 0.5f;\n    cameraHud.position.y = Constants.HUD_SCENE_HEIGHT * 0.5f;\n    \n    camera.position.x = Constants.SCENE_WIDTH;\n    camera.position.y = Constants.SCENE_HEIGHT;\n    camera.zoom = 1.5f;\n    \n    cameraHud.update();\n}\n</code></pre>\n<p>Then you can create a second <code>SpriteBatch</code> and use the UI camera to draw the UI that doesn't move with the rest of the world:</p>\n<pre><code>private SpriteBatch uiBatch = new SpriteBatch();\n\npublic void render(float delta) {\n    // ...\n    uiBatch.setProjectionMatrix(cameraHud.combined);\n\n    // TODO draw the UI using the new batch\n}\n</code></pre>\n"}],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73051781,"answer_count":1,"score":1,"last_activity_date":1658320652,"creation_date":1658316383,"question_id":73050806,"body_markdown":"I have some UI classes I made myself but I need a way to get them rendered on the Screen on one fixed place independent of the woorld and the camera moving. I just need it there. I am doing this in libgdx and I was wondering if theres a method that draws in relation to the screen coords and not the woorld coords because my camera moves around which causes the UI to fall out of view. I&#39;ve tried to set the UI&#39;s position relative to the camera so instead of rendering at `x, y` it renders at `cam.position.x - n, cam.position.y - i` but that didn&#39;t work for some other reasons and isn&#39;t really the optimal solution I seek for.","title":"How to render something using screen coords and not world coords libgdx","body":"<p>I have some UI classes I made myself but I need a way to get them rendered on the Screen on one fixed place independent of the woorld and the camera moving. I just need it there. I am doing this in libgdx and I was wondering if theres a method that draws in relation to the screen coords and not the woorld coords because my camera moves around which causes the UI to fall out of view. I've tried to set the UI's position relative to the camera so instead of rendering at <code>x, y</code> it renders at <code>cam.position.x - n, cam.position.y - i</code> but that didn't work for some other reasons and isn't really the optimal solution I seek for.</p>\n"},{"tags":["java","apache-camel","dsl","intellij-plugin","code-standards"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658320614,"creation_date":1658320614,"answer_id":73051770,"question_id":73048702,"body_markdown":"Why not use Camel [parameter binding][1] instead ?\r\n\r\n    @Bean(&quot;veryImportandAndUniqueManagementService&quot;)\r\n    public ManagementServiceImpl {\r\n      public Object addTomatoesAndCheeseAndThenPutInTheOven(\r\n               @Header(&quot;pizzaContextKey&quot;) String ctxKey,\r\n               @Header(&quot;custId&quot;) Long customerId, \r\n               etc...\r\n             ) {\r\n    ... \r\n    }\r\n\r\nAlternatively you could also define a second method to &#39;unwrap&#39; Camel raw message:\r\n\r\n    @Bean(&quot;veryImportandAndUniqueManagementService&quot;)\r\n    public ManagementServiceImpl {\r\n       public Object addTomatoesAndCheeseAndThenPutInTheOven(Exchange exchange) {\r\n        return this.addTomatoesAndCheeseAndThenPutInTheOven(\r\n         exchange.getMessage().getHeader(&quot;pizzaContextKey&quot;, String.class),\r\n         exchange.getMessage().getHeader(&quot;custId&quot;, Long.class), \r\n         etc...\r\n        );\r\n        }\r\n    }\r\n\r\nThis way, the client code become much simpler:\r\n\r\n    from(&quot;direct:MyPizzaRestaurant&quot;)              \r\n       .bean(veryImportandAndUniqueManagementService, &quot;addTomatoesAndCheeseAndThenPutInTheOven&quot;)\r\n            \r\n\r\n  [1]: https://camel.apache.org/manual/parameter-binding-annotations.html\r\n\r\n\r\n","title":"How to wrap long lines of Apache Camel Java DSL code","body":"<p>Why not use Camel <a href=\"https://camel.apache.org/manual/parameter-binding-annotations.html\" rel=\"nofollow noreferrer\">parameter binding</a> instead ?</p>\n<pre><code>@Bean(&quot;veryImportandAndUniqueManagementService&quot;)\npublic ManagementServiceImpl {\n  public Object addTomatoesAndCheeseAndThenPutInTheOven(\n           @Header(&quot;pizzaContextKey&quot;) String ctxKey,\n           @Header(&quot;custId&quot;) Long customerId, \n           etc...\n         ) {\n... \n}\n</code></pre>\n<p>Alternatively you could also define a second method to 'unwrap' Camel raw message:</p>\n<pre><code>@Bean(&quot;veryImportandAndUniqueManagementService&quot;)\npublic ManagementServiceImpl {\n   public Object addTomatoesAndCheeseAndThenPutInTheOven(Exchange exchange) {\n    return this.addTomatoesAndCheeseAndThenPutInTheOven(\n     exchange.getMessage().getHeader(&quot;pizzaContextKey&quot;, String.class),\n     exchange.getMessage().getHeader(&quot;custId&quot;, Long.class), \n     etc...\n    );\n    }\n}\n</code></pre>\n<p>This way, the client code become much simpler:</p>\n<pre><code>from(&quot;direct:MyPizzaRestaurant&quot;)              \n   .bean(veryImportandAndUniqueManagementService, &quot;addTomatoesAndCheeseAndThenPutInTheOven&quot;)\n        \n</code></pre>\n"}],"owner":{"account_id":10978683,"reputation":55,"user_id":11355811,"display_name":"Philipp Ytkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658320614,"creation_date":1658307640,"question_id":73048702,"body_markdown":"In my project we are using Apache Camel via Java DSL\r\n\r\nThis is how a typical route looks:\r\n\r\n        from(&quot;direct:MyPizzaRestaurant&quot;)\r\n                .routeId(&quot;PizzaRoute&quot;)\r\n                .log(LoggingLevel.INFO, LOG, LOG_IN_MESSAGE)\r\n                .bean(veryImportandAndUniqueManagementService, &quot;addTomatoesAndCheeseAndThenPutInTheOven(${in.headers.pizzaContextKey},${in.headers.httpHeaders[pizzaOrderIz]},${in.headers.httpHeaders[restaurantId]},${in.headers.httpHeaders[orderChannel]},${in.headers.customerId},${in.headers.httpHeaders[pizzaType]},${in.headers.httpHeaders[promo]})&quot;)\r\n                .end();\r\n\r\nNow what bothers me is the **line length**. It is uncomfortable to read and maintain, different code analyzing tools like SonarCube are raising warnings about that.\r\nI want to ask **how would you wrap this line and what option would you recommend to fit this code into the 120 symbols width**?\r\n\r\nFor example you could do this:\r\n\r\n```\r\n        from(&quot;direct:MyPizzaRestaurant&quot;)\r\n                .routeId(&quot;PizzaRoute&quot;)\r\n                .log(LoggingLevel.INFO, LOG, LOG_IN_MESSAGE)\r\n                .bean(veryImportandAndUniqueManagementService,\r\n                        &quot;addTomatoesAndCheeseAndThenPutInTheOven(\r\n                        &quot;${in.headers.pizzaContextKey},&quot; +\r\n                        &quot;${in.headers.httpHeaders[pizzaOrderIz]},&quot; +\r\n                        &quot;${in.headers.httpHeaders[restaurantId]},&quot; +\r\n                        &quot;${in.headers.httpHeaders[orderChannel]},&quot; +\r\n                        &quot;${in.headers.customerId},&quot; +\r\n                        &quot;${in.headers.httpHeaders[pizzaType]},&quot; +\r\n                        &quot;${in.headers.httpHeaders[promo]})&quot;)\r\n                .end();\r\n```\r\n\r\nThe drawback of this is when you are using Apache Camel Plugin for IntelliJ, it allows you to ***quickly go inside the method implementation by Clicking on with with Ctrl***. But it only works when string parameter containing method and input params is a single line string. So in the example above you will lose the ability to quickly travel to the specified method but gain readability. Is there a way to somehow combine both?","title":"How to wrap long lines of Apache Camel Java DSL code","body":"<p>In my project we are using Apache Camel via Java DSL</p>\n<p>This is how a typical route looks:</p>\n<pre><code>    from(&quot;direct:MyPizzaRestaurant&quot;)\n            .routeId(&quot;PizzaRoute&quot;)\n            .log(LoggingLevel.INFO, LOG, LOG_IN_MESSAGE)\n            .bean(veryImportandAndUniqueManagementService, &quot;addTomatoesAndCheeseAndThenPutInTheOven(${in.headers.pizzaContextKey},${in.headers.httpHeaders[pizzaOrderIz]},${in.headers.httpHeaders[restaurantId]},${in.headers.httpHeaders[orderChannel]},${in.headers.customerId},${in.headers.httpHeaders[pizzaType]},${in.headers.httpHeaders[promo]})&quot;)\n            .end();\n</code></pre>\n<p>Now what bothers me is the <strong>line length</strong>. It is uncomfortable to read and maintain, different code analyzing tools like SonarCube are raising warnings about that.\nI want to ask <strong>how would you wrap this line and what option would you recommend to fit this code into the 120 symbols width</strong>?</p>\n<p>For example you could do this:</p>\n<pre><code>        from(&quot;direct:MyPizzaRestaurant&quot;)\n                .routeId(&quot;PizzaRoute&quot;)\n                .log(LoggingLevel.INFO, LOG, LOG_IN_MESSAGE)\n                .bean(veryImportandAndUniqueManagementService,\n                        &quot;addTomatoesAndCheeseAndThenPutInTheOven(\n                        &quot;${in.headers.pizzaContextKey},&quot; +\n                        &quot;${in.headers.httpHeaders[pizzaOrderIz]},&quot; +\n                        &quot;${in.headers.httpHeaders[restaurantId]},&quot; +\n                        &quot;${in.headers.httpHeaders[orderChannel]},&quot; +\n                        &quot;${in.headers.customerId},&quot; +\n                        &quot;${in.headers.httpHeaders[pizzaType]},&quot; +\n                        &quot;${in.headers.httpHeaders[promo]})&quot;)\n                .end();\n</code></pre>\n<p>The drawback of this is when you are using Apache Camel Plugin for IntelliJ, it allows you to <em><strong>quickly go inside the method implementation by Clicking on with with Ctrl</strong></em>. But it only works when string parameter containing method and input params is a single line string. So in the example above you will lose the ability to quickly travel to the specified method but gain readability. Is there a way to somehow combine both?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"score":0,"creation_date":1319911740,"post_id":7940711,"comment_id":9702716,"body_markdown":"My suggestion would have been to use some JSON-library for this, but does &quot;solution in Java that doesn&#39;t require constructing Java Object representations of the JSON objects?&quot; mean you don&#39;t want to use a separate library for whatever reason?","body":"My suggestion would have been to use some JSON-library for this, but does &quot;solution in Java that doesn&#39;t require constructing Java Object representations of the JSON objects?&quot; mean you don&#39;t want to use a separate library for whatever reason?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1319912388,"post_id":7940711,"comment_id":9702779,"body_markdown":"No, external libraries are fine - I&#39;m sure they&#39;re necessary.  I mean that I didn&#39;t want to make a Java Object for each object in the JSON array, i.e. I don&#39;t want to create `MyObject myobj = new MyObject(name, car);` for each object, then merge the arrays of MyObjects and convert the merged array back into JSON.  I&#39;d like to find a way to leave everything in JSON.","body":"No, external libraries are fine - I&#39;m sure they&#39;re necessary.  I mean that I didn&#39;t want to make a Java Object for each object in the JSON array, i.e. I don&#39;t want to create <code>MyObject myobj = new MyObject(name, car);</code> for each object, then merge the arrays of MyObjects and convert the merged array back into JSON.  I&#39;d like to find a way to leave everything in JSON."}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":2,"up_vote_count":16,"is_accepted":true,"score":14,"last_activity_date":1319912466,"creation_date":1319912466,"answer_id":7940778,"question_id":7940711,"body_markdown":"You really have only two choices: parse the JSON (which invariably would involve constructing the objects) or don&#39;t parse the JSON. Not parsing is going to be cheaper, of course.\r\n\r\nAt first glance your idea about treating it as a String-manipulation problem might sound fragile, but the more I think about it, the more it seems to make fine sense. For error detection you could easily confirm that you were really dealing with arrays by checking for the square brackets; after that, just stripping off the ending bracket, adding a comma, stripping off the beginning bracket, and adding the &quot;tail&quot; should work flawlessly. The only exception I can think of is if either array is empty, you should just return the other String unchanged; again, that&#39;s very easy to check for as a String.\r\n\r\nI really don&#39;t think there&#39;s any reason to make it more complex than that.","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>You really have only two choices: parse the JSON (which invariably would involve constructing the objects) or don't parse the JSON. Not parsing is going to be cheaper, of course.</p>\n\n<p>At first glance your idea about treating it as a String-manipulation problem might sound fragile, but the more I think about it, the more it seems to make fine sense. For error detection you could easily confirm that you were really dealing with arrays by checking for the square brackets; after that, just stripping off the ending bracket, adding a comma, stripping off the beginning bracket, and adding the \"tail\" should work flawlessly. The only exception I can think of is if either array is empty, you should just return the other String unchanged; again, that's very easy to check for as a String.</p>\n\n<p>I really don't think there's any reason to make it more complex than that.</p>\n"},{"tags":[],"owner":{"account_id":3557414,"reputation":447,"user_id":2970807,"display_name":"Brian Klug"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1384712706,"creation_date":1384711499,"answer_id":20034248,"question_id":7940711,"body_markdown":"This code will take `sourceArray` (s2), and append it to the end of `destinationArray` (s1):\r\n\r\n    String s1 = &quot;[{name: \\&quot;Bob\\&quot;, car: \\&quot;Ford\\&quot;},{name: \\&quot;Mary\\&quot;, car: \\&quot;Fiat\\&quot;}]&quot;;\r\n    String s2 = &quot;[{name: \\&quot;Mack\\&quot;, car: \\&quot;VW\\&quot;},{name: \\&quot;Steve\\&quot;, car: \\&quot;Mercedes Benz\\&quot;}]&quot;;\r\n\r\n    JSONArray sourceArray = new JSONArray(s2);\r\n    JSONArray destinationArray = new JSONArray(s1);\r\n\r\n    for (int i = 0; i &lt; sourceArray.length(); i++) {\r\n    \tdestinationArray.put(sourceArray.getJSONObject(i));\r\n    }\r\n\r\n    String s3 = destinationArray.toString();\r\n\r\n\r\n","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>This code will take <code>sourceArray</code> (s2), and append it to the end of <code>destinationArray</code> (s1):</p>\n\n<pre><code>String s1 = \"[{name: \\\"Bob\\\", car: \\\"Ford\\\"},{name: \\\"Mary\\\", car: \\\"Fiat\\\"}]\";\nString s2 = \"[{name: \\\"Mack\\\", car: \\\"VW\\\"},{name: \\\"Steve\\\", car: \\\"Mercedes Benz\\\"}]\";\n\nJSONArray sourceArray = new JSONArray(s2);\nJSONArray destinationArray = new JSONArray(s1);\n\nfor (int i = 0; i &lt; sourceArray.length(); i++) {\n    destinationArray.put(sourceArray.getJSONObject(i));\n}\n\nString s3 = destinationArray.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5672399,"reputation":175,"user_id":4486680,"display_name":"Durgesh Gupta"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1523288085,"creation_date":1457950321,"answer_id":35984657,"question_id":7940711,"body_markdown":"I used this code for Combine two Json Array.\r\n\r\n\r\n\r\n    String s1 = &quot;[{name: \\&quot;Bob\\&quot;, car: \\&quot;Ford\\&quot;},{name: \\&quot;Mary\\&quot;, car: \\&quot;Fiat\\&quot;}]&quot;;\r\n    String s2 = &quot;[{name: \\&quot;Mack\\&quot;, car: \\&quot;VW\\&quot;},{name: \\&quot;Steve\\&quot;, car: \\&quot;Mercedes Benz\\&quot;}]&quot;;\r\n    String s3=new String(&quot;&quot;);\r\n    s1=s1.substring(s1.indexOf(&quot;[&quot;)+1, s1.lastIndexOf(&quot;]&quot;));\r\n    s2=s2.substring(s2.indexOf(&quot;[&quot;)+1, s2.lastIndexOf(&quot;]&quot;));\r\n    s3=&quot;[&quot;+s1+&quot;,&quot;+s2+&quot;]&quot;;\r\n    System.out.println(s3);\r\n\r\n","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>I used this code for Combine two Json Array.</p>\n\n<pre><code>String s1 = \"[{name: \\\"Bob\\\", car: \\\"Ford\\\"},{name: \\\"Mary\\\", car: \\\"Fiat\\\"}]\";\nString s2 = \"[{name: \\\"Mack\\\", car: \\\"VW\\\"},{name: \\\"Steve\\\", car: \\\"Mercedes Benz\\\"}]\";\nString s3=new String(\"\");\ns1=s1.substring(s1.indexOf(\"[\")+1, s1.lastIndexOf(\"]\"));\ns2=s2.substring(s2.indexOf(\"[\")+1, s2.lastIndexOf(\"]\"));\ns3=\"[\"+s1+\",\"+s2+\"]\";\nSystem.out.println(s3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2832254,"reputation":439,"user_id":2433606,"accept_rate":56,"display_name":"abhay kumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1490255453,"creation_date":1490255453,"answer_id":42970092,"question_id":7940711,"body_markdown":"Use Below Method pass all JSON array in  ArrayList this method will return cumulative JsonArray\r\n\r\n    public JSONArray getMergeJson(ArrayList&lt;JSONArray&gt; xyz){\r\n        JSONArray result=null;\r\n        JSONObject obj= new JSONObject();\r\n        obj.put(&quot;key&quot;,result);\r\n        for(JSONArray tmp:patches){\r\n            for(int i=0;i&lt;tmp.length();i++){\r\n             obj.append(&quot;key&quot;, tmp.getJSONObject(i));   ;\r\n            }\r\n       \r\n                }\r\n        return obj.getJSONArray(&quot;key&quot;);\r\n    }","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>Use Below Method pass all JSON array in  ArrayList this method will return cumulative JsonArray</p>\n\n<pre><code>public JSONArray getMergeJson(ArrayList&lt;JSONArray&gt; xyz){\n    JSONArray result=null;\n    JSONObject obj= new JSONObject();\n    obj.put(\"key\",result);\n    for(JSONArray tmp:patches){\n        for(int i=0;i&lt;tmp.length();i++){\n         obj.append(\"key\", tmp.getJSONObject(i));   ;\n        }\n\n            }\n    return obj.getJSONArray(\"key\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6189974,"reputation":21,"user_id":4822929,"display_name":"Syed Mohiuddin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507287775,"creation_date":1507287775,"answer_id":46604287,"question_id":7940711,"body_markdown":"i use this code to append all the elements of a jsonArray to a common  JsonArray. \r\n\r\n\tpublic JSONArray getMergeJsonArrays(ArrayList&lt;JSONArray&gt; jsonArrays) throws JSONException\r\n\t{\r\n\t    JSONArray MergedJsonArrays= new JSONArray();\r\n\t     for(JSONArray tmpArray:jsonArrays)\r\n\t     {\r\n\t        for(int i=0;i&lt;tmpArray.length();i++)\r\n\t        {\r\n\t        \tMergedJsonArrays.put(tmpArray.get(i));\r\n\t\t\t}\r\n\t     }\r\n\t    return MergedJsonArrays;\r\n\t}","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>i use this code to append all the elements of a jsonArray to a common  JsonArray. </p>\n\n<pre><code>public JSONArray getMergeJsonArrays(ArrayList&lt;JSONArray&gt; jsonArrays) throws JSONException\n{\n    JSONArray MergedJsonArrays= new JSONArray();\n     for(JSONArray tmpArray:jsonArrays)\n     {\n        for(int i=0;i&lt;tmpArray.length();i++)\n        {\n            MergedJsonArrays.put(tmpArray.get(i));\n        }\n     }\n    return MergedJsonArrays;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658320451,"creation_date":1549807841,"answer_id":54617206,"question_id":7940711,"body_markdown":"And here is my solution, You may want to merge more than two arrays :&lt;be&gt;\r\n\r\n**Java version:**\r\n\r\n    public static JSONArray mergeMultiJsonArray(JSONArray... arrays) {\r\n        JSONArray outArray = new JSONArray();\r\n        for (JSONArray array : arrays)\r\n            for (int i = 0; i &lt; array.length(); i++)\r\n                outArray.put(array.optJSONObject(i));\r\n        return outArray;\r\n    }\r\n\r\n**Kotlin version:**\r\n\r\n    fun mergeMultiJsonArray(vararg arrays: JSONArray): JSONArray {\r\n        val outArr = JSONArray()\r\n        for (array in arrays) \r\n            for (i in 0 until array.length())\r\n                outArray.put(array.optJSONObject(i))\r\n        return outArr\r\n    }\r\n","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>And here is my solution, You may want to merge more than two arrays :</p>\n<p><strong>Java version:</strong></p>\n<pre><code>public static JSONArray mergeMultiJsonArray(JSONArray... arrays) {\n    JSONArray outArray = new JSONArray();\n    for (JSONArray array : arrays)\n        for (int i = 0; i &lt; array.length(); i++)\n            outArray.put(array.optJSONObject(i));\n    return outArray;\n}\n</code></pre>\n<p><strong>Kotlin version:</strong></p>\n<pre><code>fun mergeMultiJsonArray(vararg arrays: JSONArray): JSONArray {\n    val outArr = JSONArray()\n    for (array in arrays) \n        for (i in 0 until array.length())\n            outArray.put(array.optJSONObject(i))\n    return outArr\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10003533,"reputation":181,"user_id":7398750,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566198779,"creation_date":1566198779,"answer_id":57551969,"question_id":7940711,"body_markdown":"This function does the magic, adding multiples arrays returning one JSONArray with all elements\r\n\r\n    public static JSONArray JoinArrays(JSONArray... jsonArrays) {\r\n        JSONArray resultJSONArray = new JSONArray();\r\n        Arrays.stream(jsonArrays).forEach(jsonArray -&gt; IntStream.range(0, jsonArray.length()).mapToObj(jsonArray::get).forEach(resultJSONArray::put));\r\n        return resultJSONArray;\r\n    }","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>This function does the magic, adding multiples arrays returning one JSONArray with all elements</p>\n\n<pre><code>public static JSONArray JoinArrays(JSONArray... jsonArrays) {\n    JSONArray resultJSONArray = new JSONArray();\n    Arrays.stream(jsonArrays).forEach(jsonArray -&gt; IntStream.range(0, jsonArray.length()).mapToObj(jsonArray::get).forEach(resultJSONArray::put));\n    return resultJSONArray;\n}\n</code></pre>\n"}],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54922,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":7940778,"answer_count":7,"score":26,"last_activity_date":1658320451,"creation_date":1319911482,"question_id":7940711,"body_markdown":"I have several string each containing a JSON representation of an array of objects.  Here&#39;s an example in code to illustrate, though this is not my actual code (the JSON strings are passed in):\r\n\r\n\r\n    String s1 = &quot;[{name: &quot;Bob&quot;, car: &quot;Ford&quot;},{name: &quot;Mary&quot;, car: &quot;Fiat&quot;}]&quot;;\r\n    String s2 = &quot;[{name: &quot;Mack&quot;, car: &quot;VW&quot;},{name: &quot;Steve&quot;, car: &quot;Mercedes Benz&quot;}]&quot;;\r\n\r\nI need to combine those two JSON arrays into one large JSON array.  I could treat this as a String manipulation problem and replace the inner end square brackets with commas but that&#39;s not particularly robust (though I am guaranteed to get valid JSON).\r\n\r\nI&#39;d rather treat these two Strings as JSON arrays and just add them together somehow.  It&#39;s a great plan except I don&#39;t know the &quot;somehow&quot; part.\r\n\r\nDoes anyone know a solution in Java that doesn&#39;t require constructing Java Object representations of the JSON objects?\r\n\r\nThanks!","title":"In Java, how can I combine two JSON arrays of objects?","body":"<p>I have several string each containing a JSON representation of an array of objects.  Here's an example in code to illustrate, though this is not my actual code (the JSON strings are passed in):</p>\n\n<pre><code>String s1 = \"[{name: \"Bob\", car: \"Ford\"},{name: \"Mary\", car: \"Fiat\"}]\";\nString s2 = \"[{name: \"Mack\", car: \"VW\"},{name: \"Steve\", car: \"Mercedes Benz\"}]\";\n</code></pre>\n\n<p>I need to combine those two JSON arrays into one large JSON array.  I could treat this as a String manipulation problem and replace the inner end square brackets with commas but that's not particularly robust (though I am guaranteed to get valid JSON).</p>\n\n<p>I'd rather treat these two Strings as JSON arrays and just add them together somehow.  It's a great plan except I don't know the \"somehow\" part.</p>\n\n<p>Does anyone know a solution in Java that doesn't require constructing Java Object representations of the JSON objects?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient"],"owner":{"account_id":18867186,"reputation":47,"user_id":13762679,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658320118,"creation_date":1658319592,"question_id":73051548,"body_markdown":"I need to fetch more than 1,000,000 records from Elasticsearch using Java RestHighLevelClient\r\n\r\nI am using scroll for pagination and everything is working fine.\r\n\r\nCode Looks like something this:\r\n\r\n    class ScrollTest {\r\n\r\n    final static RestHighLevelClient client = LocalhostClient.create();\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        long st= System.currentTimeMillis();\r\n\r\n        SearchRequest searchRequest = new SearchRequest(&quot;movies_data&quot;);\r\n       \r\n\r\n        QueryBuilder matchQueryBuilder = QueryBuilders.boolQuery().must(new MatchAllQueryBuilder());\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n\r\n        searchSourceBuilder.query(matchQueryBuilder);\r\n\r\n        searchSourceBuilder.size(10000); //max is 10000\r\n\r\n        searchRequest.indices(&quot;movies_data&quot;);\r\n\r\n        searchRequest.source(searchSourceBuilder);\r\n\r\n        final Scroll scroll = new Scroll(TimeValue.timeValueSeconds(5l));\r\n\r\n        searchRequest.scroll(scroll);\r\n\r\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n\r\n        String scrollId = searchResponse.getScrollId();\r\n        SearchHit[] data = new SearchHit[0];\r\n\r\n        SearchHit[] searchHits = searchResponse.getHits().getHits();\r\n\r\n        while (searchHits != null &amp;&amp; searchHits.length &gt; 0) {\r\n\r\n            // funcation for  conatcting results\r\n\r\n            SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\r\n\r\n            scrollRequest.scroll(scroll);\r\n\r\n            searchResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\r\n\r\n            scrollId = searchResponse.getScrollId();\r\n\r\n            searchHits = searchResponse.getHits().getHits();\r\n            System.out.println(&quot;###################&quot;+searchHits.length);\r\n\r\n        }\r\n\r\n        ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\r\n        clearScrollRequest.addScrollId(scrollId);\r\n        ClearScrollResponse clearScrollResponse = client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\r\n       \r\n        System.out.println(&quot;Time Taken&quot;+(System.currentTimeMillis()-st));\r\n\r\n    }\r\n\r\n}\r\n\r\n But Fetching large number of document using scroll is taking a lot of time  since its querying for every 10000 documents so end-up with 100 request. Overriding the default windows size values also not helped much ( tried with 100, 1000, 10000 and 25000)\r\n\r\nI want to make request fetching parallel at least within page using [slice scroll][1], but missing how to use it with scroll. \r\n\r\nCan someone please guide how to use slice builder to achieve parallelism ?\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/5.5/search-request-scroll.html#sliced-scroll","title":"Using SliceBuilder with Elastic RestHighLevelClient to achieve parallelism in elastic search","body":"<p>I need to fetch more than 1,000,000 records from Elasticsearch using Java RestHighLevelClient</p>\n<p>I am using scroll for pagination and everything is working fine.</p>\n<p>Code Looks like something this:</p>\n<pre><code>class ScrollTest {\n\nfinal static RestHighLevelClient client = LocalhostClient.create();\n\npublic static void main(String[] args) throws IOException {\n\n    long st= System.currentTimeMillis();\n\n    SearchRequest searchRequest = new SearchRequest(&quot;movies_data&quot;);\n   \n\n    QueryBuilder matchQueryBuilder = QueryBuilders.boolQuery().must(new MatchAllQueryBuilder());\n\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n\n    searchSourceBuilder.query(matchQueryBuilder);\n\n    searchSourceBuilder.size(10000); //max is 10000\n\n    searchRequest.indices(&quot;movies_data&quot;);\n\n    searchRequest.source(searchSourceBuilder);\n\n    final Scroll scroll = new Scroll(TimeValue.timeValueSeconds(5l));\n\n    searchRequest.scroll(scroll);\n\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n\n    String scrollId = searchResponse.getScrollId();\n    SearchHit[] data = new SearchHit[0];\n\n    SearchHit[] searchHits = searchResponse.getHits().getHits();\n\n    while (searchHits != null &amp;&amp; searchHits.length &gt; 0) {\n\n        // funcation for  conatcting results\n\n        SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\n\n        scrollRequest.scroll(scroll);\n\n        searchResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\n\n        scrollId = searchResponse.getScrollId();\n\n        searchHits = searchResponse.getHits().getHits();\n        System.out.println(&quot;###################&quot;+searchHits.length);\n\n    }\n\n    ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\n    clearScrollRequest.addScrollId(scrollId);\n    ClearScrollResponse clearScrollResponse = client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\n   \n    System.out.println(&quot;Time Taken&quot;+(System.currentTimeMillis()-st));\n\n}\n</code></pre>\n<p>}</p>\n<p>But Fetching large number of document using scroll is taking a lot of time  since its querying for every 10000 documents so end-up with 100 request. Overriding the default windows size values also not helped much ( tried with 100, 1000, 10000 and 25000)</p>\n<p>I want to make request fetching parallel at least within page using <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/5.5/search-request-scroll.html#sliced-scroll\" rel=\"nofollow noreferrer\">slice scroll</a>, but missing how to use it with scroll.</p>\n<p>Can someone please guide how to use slice builder to achieve parallelism ?</p>\n"},{"tags":["java","android-fragments","android-recyclerview","dynamic","android-arrayadapter"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658234312,"post_id":73036759,"comment_id":128996526,"body_markdown":"Can you add the crash stacktrace to your question?","body":"Can you add the crash stacktrace to your question?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658255864,"post_id":73036759,"comment_id":129005144,"body_markdown":"https://developer.android.com/studio/debug/stacktraces","body":"<a href=\"https://developer.android.com/studio/debug/stacktraces\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/stacktraces</a>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658303929,"post_id":73036759,"comment_id":129015315,"body_markdown":"I don&#39;t think that stacktrace belongs to your app. Filter by your app on the logcat window.","body":"I don&#39;t think that stacktrace belongs to your app. Filter by your app on the logcat window."},{"owner":{"account_id":25648865,"reputation":1,"user_id":19416502,"display_name":"Hany"},"score":0,"creation_date":1658319118,"post_id":73036759,"comment_id":129021189,"body_markdown":"yes you are true , I will change it in the code above the page , cause it is too long for comment here , I don&#39;t really know which part is important for you","body":"yes you are true , I will change it in the code above the page , cause it is too long for comment here , I don&#39;t really know which part is important for you"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658319813,"post_id":73036759,"comment_id":129021477,"body_markdown":"You can see you have NullPointerException:  `java.lang.NullPointerException at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.onCreateView(FirstFragment.kt:40)`. Which line is that?","body":"You can see you have NullPointerException:  <code>java.lang.NullPointerException at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.on&zwnj;&#8203;CreateView(FirstFrag&zwnj;&#8203;ment.kt:40)</code>. Which line is that?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658320232,"post_id":73036759,"comment_id":129021648,"body_markdown":"I suggest you read this to understand what is stacktrace and how to read it: https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors. You will have to read stacktraces many times in your developer life!","body":"I suggest you read this to understand what is stacktrace and how to read it: <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>. You will have to read stacktraces many times in your developer life!"},{"owner":{"account_id":25648865,"reputation":1,"user_id":19416502,"display_name":"Hany"},"score":0,"creation_date":1658321483,"post_id":73036759,"comment_id":129022227,"body_markdown":"recyclerView!!.setLayoutManager(mLayoutManager)\nthat is the line 40","body":"recyclerView!!.setLayoutManager(mLayoutManager) that is the line 40"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658325704,"post_id":73036759,"comment_id":129024208,"body_markdown":"Then `recyclerView` is null. As a suggestion try to avoid the `!!` operator, it totally defeats the whole purpose of having the `?` operator.","body":"Then <code>recyclerView</code> is null. As a suggestion try to avoid the <code>!!</code> operator, it totally defeats the whole purpose of having the <code>?</code> operator."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658325851,"post_id":73036759,"comment_id":129024276,"body_markdown":"Note that you&#39;re trying to access `view?.findViewById(R.id.recyclerView)` when the view has not been created yet (`view` is null at that point). All that part when you&#39;re configuring your views should be done at `onViewCreated()` instead.","body":"Note that you&#39;re trying to access <code>view?.findViewById(R.id.recyclerView)</code> when the view has not been created yet (<code>view</code> is null at that point). All that part when you&#39;re configuring your views should be done at <code>onViewCreated()</code> instead."},{"owner":{"account_id":25648865,"reputation":1,"user_id":19416502,"display_name":"Hany"},"score":0,"creation_date":1658335538,"post_id":73036759,"comment_id":129028440,"body_markdown":"I did what suggested in your last comment m0skit0 but it crashed again .For stack trace(java.lang.NullPointerException\n        at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.onViewCreated(FirstFragment.kt:56)  &gt;&gt;&gt;&gt;line 56 is (((mAdapter = NoteAdapter( noteList!!))))","body":"I did what suggested in your last comment m0skit0 but it crashed again .For stack trace(java.lang.NullPointerException         at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.on&zwnj;&#8203;ViewCreated(FirstFra&zwnj;&#8203;gment.kt:56)  &gt;&gt;&gt;&gt;line 56 is (((mAdapter = NoteAdapter( noteList!!))))"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1658359725,"post_id":73036759,"comment_id":129035199,"body_markdown":"noteList is null now as the stacktrace indicates.","body":"noteList is null now as the stacktrace indicates."}],"owner":{"account_id":25648865,"reputation":1,"user_id":19416502,"display_name":"Hany"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658320070,"creation_date":1658232995,"question_id":73036759,"body_markdown":"My project to make recycler View with dynamic list which is defined on Note type &lt;Note&gt; List on fragment in Basic Activity, first step for me to code the adapter,  and cause am just at beginner level, I have no Experience about that in the lessons  I don&#39;t  Know  why the application crash.\r\n\r\nI hope to know the reason\r\n\r\nI did not change any thing in Main Activity\r\n\r\n\r\nThe Note Type\r\n\r\n```\r\nclass Note {\r\n\r\n    var title: String? = null\r\n\r\n    var description: String? = null\r\n\r\n}\r\n```\r\n\r\n\r\nThe Adapter\r\n\r\n```\r\nimport androidx.recyclerview.widget.RecyclerView\r\n\r\nimport android.view.LayoutInflater\r\n\r\nimport android.view.View\r\n\r\nimport android.view.ViewGroup\r\n\r\nimport android.widget.TextView\r\n\r\n\r\n\r\n\r\nclass NoteAdapter( private val mNoteList: List&lt;Note&gt;) : RecyclerView.Adapter&lt;NoteAdapter.ListItemHolder&gt;()\r\n {\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ListItemHolder {\r\n\r\n        val itemView = LayoutInflater.from(parent.context)\r\n            .inflate(R.layout.listitem, parent, false)\r\n\r\n        return ListItemHolder(itemView)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ListItemHolder, position: Int) {\r\n        val note: Note = mNoteList[position]\r\n        holder.mTitle.text = note.title\r\n        holder.mDescription.text = note.description\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return mNoteList.size\r\n    }\r\n\r\n    inner class ListItemHolder(view: View) : RecyclerView.ViewHolder(view),\r\n        View.OnClickListener {\r\n        var mTitle: TextView\r\n        var mDescription: TextView\r\n\r\n\r\n\r\n        init {\r\n            mTitle = view.findViewById(R.id.textViewTitle)\r\n            mDescription = view.findViewById(R.id.textViewDescription)\r\n\r\n            view.isClickable = true\r\n            view.setOnClickListener(this)\r\n        }\r\n        override fun onClick(view: View) {\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe fragment\r\n\r\n```\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.recyclerview.widget.DefaultItemAnimator\r\nimport androidx.recyclerview.widget.DividerItemDecoration\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.gamecodeschool.recyclerviewfromfragment.databinding.FragmentFirstBinding\r\n\r\n/**\r\n * A simple [Fragment] subclass as the default destination in the navigation.\r\n */\r\n\r\nclass FirstFragment : Fragment() {\r\n\r\n    private var recyclerView: RecyclerView? = null\r\n\r\n    private var noteList: ArrayList&lt;Note&gt;? = null\r\n\r\n\r\n    private var mAdapter: NoteAdapter? = null\r\n\r\n\r\n\r\n    private var _binding: FragmentFirstBinding? = null\r\n\r\n\r\n    // This property is only valid between     onCreat here`eView   and\r\n    // onDestroyView.\r\n\r\n    private val binding get() = _binding!!\r\n\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n        _binding = FragmentFirstBinding.inflate(inflater, container, false)\r\n\r\n        recyclerView = view?.findViewById(R.id.recyclerView)\r\n        val mLayoutManager: RecyclerView.LayoutManager = LinearLayoutManager(requireContext())\r\n        recyclerView!!.setLayoutManager(mLayoutManager)\r\n        recyclerView!!.setItemAnimator(DefaultItemAnimator())\r\n\r\n        // Add a neat dividing line between items in the list\r\n\r\n        recyclerView!!.addItemDecoration(DividerItemDecoration(requireContext(), LinearLayoutManager.VERTICAL))\r\n\r\n        mAdapter = NoteAdapter( noteList!!)\r\n        recyclerView!!.setAdapter(mAdapter)\r\n\r\n\r\n        return binding.root\r\n\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        binding.buttonFirst.setOnClickListener {\r\n            findNavController().navigate(R.id.action_FirstFragment_to_SecondFragment)\r\n        }\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}\r\n\r\n```\r\n\r\nlistitem.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/linearLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:outlineAmbientShadowColor=&quot;#615E5E&quot;\r\n    android:outlineSpotShadowColor=&quot;#AEB7E6&quot;\r\n    tools:layout_editor_absoluteX=&quot;5dp&quot;\r\n    tools:layout_editor_absoluteY=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewTitle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;25dp&quot;\r\n        android:layout_marginEnd=&quot;25dp&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;italic&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewDescription&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;25dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nfragment_first.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_first&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/next&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerView&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginStart=&quot;1dp&quot;\r\n        android:layout_marginTop=&quot;1dp&quot;\r\n        android:layout_marginEnd=&quot;1dp&quot;\r\n        android:layout_marginBottom=&quot;1dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button_first&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nCrash stacktrace:\r\n\r\n```\r\n11732-11732/com.gamecodeschool.recyclerviewfromfragment E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.gamecodeschool.recyclerviewfromfragment, PID: 11732\r\n    java.lang.NullPointerException\r\n        at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.onCreateView(FirstFragment.kt:40)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2439)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1460)\r\n        at androidx.fragment.app.FragmentManagerImpl.addAddedFragments(FragmentManager.java:2646)\r\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2416)\r\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2372)\r\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2273)\r\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3273)\r\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\r\n        at androidx.fragment.app.Fragment.performActivityCreated(Fragment.java:2466)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1483)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1784)\r\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1852)\r\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3269)\r\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:620)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1419)\r\n        at android.app.Activity.performStart(Activity.java:7479)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3454)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\r\n        at android.os.Handler.dispatchMessage(Handler.java:112)\r\n        at android.os.Looper.loop(Looper.java:216)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n```","title":"Crash with recyclerView on fragment in basic activity","body":"<p>My project to make recycler View with dynamic list which is defined on Note type  List on fragment in Basic Activity, first step for me to code the adapter,  and cause am just at beginner level, I have no Experience about that in the lessons  I don't  Know  why the application crash.</p>\n<p>I hope to know the reason</p>\n<p>I did not change any thing in Main Activity</p>\n<p>The Note Type</p>\n<pre><code>class Note {\n\n    var title: String? = null\n\n    var description: String? = null\n\n}\n</code></pre>\n<p>The Adapter</p>\n<pre><code>import androidx.recyclerview.widget.RecyclerView\n\nimport android.view.LayoutInflater\n\nimport android.view.View\n\nimport android.view.ViewGroup\n\nimport android.widget.TextView\n\n\n\n\nclass NoteAdapter( private val mNoteList: List&lt;Note&gt;) : RecyclerView.Adapter&lt;NoteAdapter.ListItemHolder&gt;()\n {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ListItemHolder {\n\n        val itemView = LayoutInflater.from(parent.context)\n            .inflate(R.layout.listitem, parent, false)\n\n        return ListItemHolder(itemView)\n    }\n\n    override fun onBindViewHolder(holder: ListItemHolder, position: Int) {\n        val note: Note = mNoteList[position]\n        holder.mTitle.text = note.title\n        holder.mDescription.text = note.description\n\n    }\n\n    override fun getItemCount(): Int {\n        return mNoteList.size\n    }\n\n    inner class ListItemHolder(view: View) : RecyclerView.ViewHolder(view),\n        View.OnClickListener {\n        var mTitle: TextView\n        var mDescription: TextView\n\n\n\n        init {\n            mTitle = view.findViewById(R.id.textViewTitle)\n            mDescription = view.findViewById(R.id.textViewDescription)\n\n            view.isClickable = true\n            view.setOnClickListener(this)\n        }\n        override fun onClick(view: View) {\n\n\n        }\n    }\n}\n</code></pre>\n<p>The fragment</p>\n<pre><code>import android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.navigation.fragment.findNavController\nimport androidx.recyclerview.widget.DefaultItemAnimator\nimport androidx.recyclerview.widget.DividerItemDecoration\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.gamecodeschool.recyclerviewfromfragment.databinding.FragmentFirstBinding\n\n/**\n * A simple [Fragment] subclass as the default destination in the navigation.\n */\n\nclass FirstFragment : Fragment() {\n\n    private var recyclerView: RecyclerView? = null\n\n    private var noteList: ArrayList&lt;Note&gt;? = null\n\n\n    private var mAdapter: NoteAdapter? = null\n\n\n\n    private var _binding: FragmentFirstBinding? = null\n\n\n    // This property is only valid between     onCreat here`eView   and\n    // onDestroyView.\n\n    private val binding get() = _binding!!\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        _binding = FragmentFirstBinding.inflate(inflater, container, false)\n\n        recyclerView = view?.findViewById(R.id.recyclerView)\n        val mLayoutManager: RecyclerView.LayoutManager = LinearLayoutManager(requireContext())\n        recyclerView!!.setLayoutManager(mLayoutManager)\n        recyclerView!!.setItemAnimator(DefaultItemAnimator())\n\n        // Add a neat dividing line between items in the list\n\n        recyclerView!!.addItemDecoration(DividerItemDecoration(requireContext(), LinearLayoutManager.VERTICAL))\n\n        mAdapter = NoteAdapter( noteList!!)\n        recyclerView!!.setAdapter(mAdapter)\n\n\n        return binding.root\n\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        binding.buttonFirst.setOnClickListener {\n            findNavController().navigate(R.id.action_FirstFragment_to_SecondFragment)\n        }\n    }\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }\n}\n\n</code></pre>\n<p>listitem.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:outlineAmbientShadowColor=&quot;#615E5E&quot;\n    android:outlineSpotShadowColor=&quot;#AEB7E6&quot;\n    tools:layout_editor_absoluteX=&quot;5dp&quot;\n    tools:layout_editor_absoluteY=&quot;5dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewTitle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:layout_marginEnd=&quot;25dp&quot;\n        android:padding=&quot;5dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;italic&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewDescription&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_first.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_first&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/next&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/recyclerView&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginStart=&quot;1dp&quot;\n        android:layout_marginTop=&quot;1dp&quot;\n        android:layout_marginEnd=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;1dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/button_first&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Crash stacktrace:</p>\n<pre><code>11732-11732/com.gamecodeschool.recyclerviewfromfragment E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.gamecodeschool.recyclerviewfromfragment, PID: 11732\n    java.lang.NullPointerException\n        at com.gamecodeschool.recyclerviewfromfragment.FirstFragment.onCreateView(FirstFragment.kt:40)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2439)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1460)\n        at androidx.fragment.app.FragmentManagerImpl.addAddedFragments(FragmentManager.java:2646)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2416)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2372)\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2273)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3273)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\n        at androidx.fragment.app.Fragment.performActivityCreated(Fragment.java:2466)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1483)\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1784)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1852)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3269)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:620)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1419)\n        at android.app.Activity.performStart(Activity.java:7479)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3454)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\n        at android.os.Handler.dispatchMessage(Handler.java:112)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":2,"creation_date":1658317603,"post_id":73051048,"comment_id":129020571,"body_markdown":"You don&#39;t need the lookahead and you can exclude digits 0-9 `[^\\p{IsHan}\\n？。，？！0-9]+` https://regex101.com/r/4sDKgw/1","body":"You don&#39;t need the lookahead and you can exclude digits 0-9 <code>[^\\p{IsHan}\\n？。，？！0-9]+</code> <a href=\"https://regex101.com/r/4sDKgw/1\" rel=\"nofollow noreferrer\">regex101.com/r/4sDKgw/1</a>"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1658317847,"post_id":73051048,"comment_id":129020668,"body_markdown":"@The fourth bird That doesn&#39;t work if there are any numeric characters in the non Chinese lines. Updated my regex demo to reflect that.","body":"@The fourth bird That doesn&#39;t work if there are any numeric characters in the non Chinese lines. Updated my regex demo to reflect that."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1658317953,"post_id":73051048,"comment_id":129020711,"body_markdown":"Non Chinese lines like this? `^[^\\p{IsHan}\\n？。，？！]+$` https://regex101.com/r/tOFiKD/1","body":"Non Chinese lines like this? <code>^[^\\p{IsHan}\\n？。，？！]+$</code> <a href=\"https://regex101.com/r/tOFiKD/1\" rel=\"nofollow noreferrer\">regex101.com/r/tOFiKD/1</a>"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1658318300,"post_id":73051048,"comment_id":129020857,"body_markdown":"@The fourth bird That words in a regex101 demo but doesn&#39;t work in actual java code, it literally does nothing. I had another regex that worked in regex101 but not in actually java code. My solution above works in actual java code but leaves the numbers in. Any idea why your solution wouldn&#39;t work in actual java code? I&#39;m just using `replaceAll`.","body":"@The fourth bird That words in a regex101 demo but doesn&#39;t work in actual java code, it literally does nothing. I had another regex that worked in regex101 but not in actually java code. My solution above works in actual java code but leaves the numbers in. Any idea why your solution wouldn&#39;t work in actual java code? I&#39;m just using <code>replaceAll</code>."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1658318352,"post_id":73051048,"comment_id":129020882,"body_markdown":"Did you write it as `String regex = &quot;^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;;` with a doubled backslash?","body":"Did you write it as <code>String regex = &quot;^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;;</code> with a doubled backslash?"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1658318407,"post_id":73051048,"comment_id":129020908,"body_markdown":"@The fourth bird Yes, it won&#39;t run if I don&#39;t do that, it will just throw an error.","body":"@The fourth bird Yes, it won&#39;t run if I don&#39;t do that, it will just throw an error."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1658318426,"post_id":73051048,"comment_id":129020914,"body_markdown":"What is the error? And how are you using the code?","body":"What is the error? And how are you using the code?"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1658318544,"post_id":73051048,"comment_id":129020970,"body_markdown":"@The fourth bird I added the code I used to my question, maybe there&#39;s something I missed. There&#39;s no error it just doesn&#39;t alter the text in any way.","body":"@The fourth bird I added the code I used to my question, maybe there&#39;s something I missed. There&#39;s no error it just doesn&#39;t alter the text in any way."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":2,"creation_date":1658318573,"post_id":73051048,"comment_id":129020985,"body_markdown":"Ah, you have to enable multiline with for example `(?m)` like `System.out.println(example.replaceAll(&quot;(?m)^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;, &quot;&quot;));` due to the anchors.","body":"Ah, you have to enable multiline with for example <code>(?m)</code> like <code>System.out.println(example.replaceAll(&quot;(?m)^[^\\\\p{IsHan}\\\\n？&zwnj;&#8203;。，？！]+$&quot;, &quot;&quot;));</code> due to the anchors."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1658318691,"post_id":73051048,"comment_id":129021040,"body_markdown":"@The fourth bird Aha that was it, great thanks very much. You should post the answer.","body":"@The fourth bird Aha that was it, great thanks very much. You should post the answer."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658319767,"creation_date":1658319767,"answer_id":73051581,"question_id":73051048,"body_markdown":"In your pattern you can omit the lookahead `(?!\\p{IsHan}\\n)` as the directly following negated character class already does not match `\\p{IsHan}`\r\n\r\nIf you don&#39;t want partial matches, you can add anchors to the start and the end of the pattern, and enable multiline using an inline modifier `(?m)`\r\n\r\n    String example = &quot;He is 45 today\\n你今天45岁了\\n这个句子没有数字\\nOk I see&quot;;\r\n    System.out.println(example.replaceAll(&quot;(?m)^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;, &quot;&quot;));\r\n\r\nSee a [regex demo](https://regex101.com/r/tOFiKD/1) and a [Java demo](https://ideone.com/x2TzBk)\r\n\r\nIf you want to remove optional trailing newlines using replaceAll:\r\n\r\n    ^[^\\\\p{IsHan}\\\\n？。，？！]+$\\\\R?","title":"Java Regex to match Chinese and/or ordinary numbers","body":"<p>In your pattern you can omit the lookahead <code>(?!\\p{IsHan}\\n)</code> as the directly following negated character class already does not match <code>\\p{IsHan}</code></p>\n<p>If you don't want partial matches, you can add anchors to the start and the end of the pattern, and enable multiline using an inline modifier <code>(?m)</code></p>\n<pre><code>String example = &quot;He is 45 today\\n你今天45岁了\\n这个句子没有数字\\nOk I see&quot;;\nSystem.out.println(example.replaceAll(&quot;(?m)^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;, &quot;&quot;));\n</code></pre>\n<p>See a <a href=\"https://regex101.com/r/tOFiKD/1\" rel=\"nofollow noreferrer\">regex demo</a> and a <a href=\"https://ideone.com/x2TzBk\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>If you want to remove optional trailing newlines using replaceAll:</p>\n<pre><code>^[^\\\\p{IsHan}\\\\n？。，？！]+$\\\\R?\n</code></pre>\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73051581,"answer_count":1,"score":-1,"last_activity_date":1658319767,"creation_date":1658317523,"question_id":73051048,"body_markdown":"Actually the regex I have matches anything *but* the Chinese but it matches the numbers too, which I don&#39;t want. As you can see in the regex demo here, the number 45 is matched but I need it to be excluded too.\r\n\r\nhttps://regex101.com/r/XNtD12/1\r\n\r\nCurrent regex is: `(?!\\p{IsHan}\\n)[^\\p{IsHan}\\n？。，？！]+`\r\n\r\nDesired output:\r\n\r\n    He is 45 today &lt;- matched 100%\r\n    你今天45岁了 &lt;- not matched at all\r\n    这个句子没有数字 &lt;- not matched at all\r\n    Ok I see &lt;- matched 100%\r\n\r\nJava code being used:\r\n\r\n    String example = &quot;He is 45 today\\n你今天45岁了\\n这个句子没有数字\\nOk I see&quot;;\r\n    System.out.println(example.replaceAll(&quot;^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;, &quot;&quot;));","title":"Java Regex to match Chinese and/or ordinary numbers","body":"<p>Actually the regex I have matches anything <em>but</em> the Chinese but it matches the numbers too, which I don't want. As you can see in the regex demo here, the number 45 is matched but I need it to be excluded too.</p>\n<p><a href=\"https://regex101.com/r/XNtD12/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/XNtD12/1</a></p>\n<p>Current regex is: <code>(?!\\p{IsHan}\\n)[^\\p{IsHan}\\n？。，？！]+</code></p>\n<p>Desired output:</p>\n<pre><code>He is 45 today &lt;- matched 100%\n你今天45岁了 &lt;- not matched at all\n这个句子没有数字 &lt;- not matched at all\nOk I see &lt;- matched 100%\n</code></pre>\n<p>Java code being used:</p>\n<pre><code>String example = &quot;He is 45 today\\n你今天45岁了\\n这个句子没有数字\\nOk I see&quot;;\nSystem.out.println(example.replaceAll(&quot;^[^\\\\p{IsHan}\\\\n？。，？！]+$&quot;, &quot;&quot;));\n</code></pre>\n"},{"tags":["java","selenium","geckodriver","getproperty"],"comments":[{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1500271355,"post_id":45136914,"comment_id":77243056,"body_markdown":"remove the spaces in the directory name of the webdrivers and try","body":"remove the spaces in the directory name of the webdrivers and try"}],"answers":[{"tags":[],"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1500272667,"creation_date":1500272667,"answer_id":45137248,"question_id":45136914,"body_markdown":"You have to use System.setProperty not the System.getProperty as follows.\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,\r\n                    &quot;C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe&quot;);","title":"java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property","body":"<p>You have to use System.setProperty not the System.getProperty as follows.</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\",\n                \"C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500273437,"creation_date":1500273111,"answer_id":45137371,"question_id":45136914,"body_markdown":"I have noticed that you are using wrong syntax, to opening the browser.\r\n\r\nInstead of using `System.getProperty`, You have to use `System.setProperty` as mentioned below.\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe&quot;);\r\n\r\nFor more details on this issue, refer this [page][1].\r\n\r\n\r\n  [1]: http://www.seleniumeasy.com/selenium-tutorials/launching-firefox-browser-with-geckodriver-selenium-3","title":"java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property","body":"<p>I have noticed that you are using wrong syntax, to opening the browser.</p>\n\n<p>Instead of using <code>System.getProperty</code>, You have to use <code>System.setProperty</code> as mentioned below.</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\", \"C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe\");\n</code></pre>\n\n<p>For more details on this issue, refer this <a href=\"http://www.seleniumeasy.com/selenium-tutorials/launching-firefox-browser-with-geckodriver-selenium-3\" rel=\"nofollow noreferrer\">page</a>.</p>\n"}],"owner":{"account_id":11334520,"reputation":107,"user_id":8310875,"display_name":"nsCelin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20581,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":45137248,"answer_count":2,"score":3,"last_activity_date":1658319077,"creation_date":1500271240,"question_id":45136914,"body_markdown":"    package com.merchantPlatform;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    \r\n    public class MerchantPlatformTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.getProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe&quot;);\r\n    \r\n    \t\tDesiredCapabilities capabilities = DesiredCapabilities.firefox();\r\n    \t\tcapabilities.setCapability(&quot;marionette&quot;, true);\r\n    \r\n    \t\t// Initialize WebDriver\r\n    \t\tWebDriver driver = new FirefoxDriver(capabilities);\r\n    \t\t\r\n    \t\t /* This works fine for versions lesser than Selenium 3. For Selenium 3 and higher, it will throw java.lang.IllegalStateException */\r\n\r\n    \t\t// Maximize Window\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\t// Wait For Page To Load\r\n    \t\tdriver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\r\n    \r\n    \t\t// Navigate to MerchantPlatform URL\r\n    \t\tdriver.get(&quot;http://localhost:52939/&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nError\r\n\r\nI am getting the below exception with `System.getProperty`\r\n\r\n&gt;  Exception in thread &quot;main&quot; java.lang.IllegalStateException: The path\r\n&gt; to the driver executable must be set by the webdriver.gecko.driver\r\n&gt; system property; for more information, see\r\n&gt; https://github.com/mozilla/geckodriver. The latest version can be\r\n&gt; downloaded from https://github.com/mozilla/geckodriver/releases\r\n&gt;     \tat com.google.common.base.Preconditions.checkState(Preconditions.java:738)\r\n&gt;     \tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\r\n&gt;     \tat org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:41)\r\n&gt;     \tat org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:115)\r\n&gt;     \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:330)\r\n&gt;     \tat org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:207)\r\n&gt;     \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:108)\r\n&gt;     \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:137)\r\n&gt;     \tat com.merchantPlatform.MerchantPlatformTest.main(MerchantPlatformTest.java:20)\r\n\r\n","title":"java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property","body":"<pre><code>package com.merchantPlatform;\n\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\npublic class MerchantPlatformTest {\n\n    public static void main(String[] args) {\n\n        System.getProperty(\"webdriver.gecko.driver\", \"C:\\\\Selenium WebDriver\\\\geckodriver\\\\geckodriver-v0.17.0-win64\\\\geckodriver.exe\");\n\n        DesiredCapabilities capabilities = DesiredCapabilities.firefox();\n        capabilities.setCapability(\"marionette\", true);\n\n        // Initialize WebDriver\n        WebDriver driver = new FirefoxDriver(capabilities);\n\n         /* This works fine for versions lesser than Selenium 3. For Selenium 3 and higher, it will throw java.lang.IllegalStateException */\n\n        // Maximize Window\n        driver.manage().window().maximize();\n\n        // Wait For Page To Load\n        driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\n\n        // Navigate to MerchantPlatform URL\n        driver.get(\"http://localhost:52939/\");\n\n    }\n\n}\n</code></pre>\n\n<p>Error</p>\n\n<p>I am getting the below exception with <code>System.getProperty</code></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: The path\n  to the driver executable must be set by the webdriver.gecko.driver\n  system property; for more information, see\n  <a href=\"https://github.com/mozilla/geckodriver\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver</a>. The latest version can be\n  downloaded from <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver/releases</a>\n        at com.google.common.base.Preconditions.checkState(Preconditions.java:738)\n        at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:124)\n        at org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:41)\n        at org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:115)\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:330)\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:207)\n        at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:108)\n        at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:137)\n        at com.merchantPlatform.MerchantPlatformTest.main(MerchantPlatformTest.java:20)</p>\n</blockquote>\n"},{"tags":["java","kotlin","amazon-s3"],"owner":{"account_id":3510033,"reputation":473,"user_id":2934574,"display_name":"wmrodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658318826,"creation_date":1658318826,"question_id":73051386,"body_markdown":"Does anyone know how can I send multiple files (as a file list `MutableList&lt;File&gt;` that I populate within a loop) using the `S3TransferManager` method `uploadDirectory` without needing to create the files physically on my disc?\r\nIt does&#39;t need to use `uploadDirectory` method, but I don&#39;t want to save them on disc before send them to S3, I have them on memory and I&#39;d like o keep it that way. Here is my code block so far:\r\n\r\n```\r\nval s3Request = PutObjectRequest.builder()\r\n            .bucket(bucket)\r\n            .key(s3Key)\r\n            .contentType(&quot;application/json; charset=UTF-8&quot;)\r\n            .build()\r\nval tm = S3TransferManager.create()\r\n// sending only one file\r\nval upload = tm.uploadFile { b -&gt; b.source(createFileFromBytes(file)).putObjectRequest(s3Request) }\r\nupload.completionFuture().join()\r\n\r\n...\r\n// is there something like (supose my fileMutableList already have all the files I want to send)\r\nval uploads = tm.uploadFiles { b -&gt; b.source(fileMutableList).putObjectsRequest(s3Request) }\r\nuploads.completionFuture().join()\r\n...\r\n```\r\nI&#39;m using the `software.amazon.awssdk:s3-transfer-manager:2.17.123-PREVIEW` lib for Java on my Kotlin project, which you can find out more about it [here](https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/).\r\n\r\nAny thoughts are very appreciated.","title":"Send multiple files with S3TransferManager without physical directory","body":"<p>Does anyone know how can I send multiple files (as a file list <code>MutableList&lt;File&gt;</code> that I populate within a loop) using the <code>S3TransferManager</code> method <code>uploadDirectory</code> without needing to create the files physically on my disc?\nIt does't need to use <code>uploadDirectory</code> method, but I don't want to save them on disc before send them to S3, I have them on memory and I'd like o keep it that way. Here is my code block so far:</p>\n<pre><code>val s3Request = PutObjectRequest.builder()\n            .bucket(bucket)\n            .key(s3Key)\n            .contentType(&quot;application/json; charset=UTF-8&quot;)\n            .build()\nval tm = S3TransferManager.create()\n// sending only one file\nval upload = tm.uploadFile { b -&gt; b.source(createFileFromBytes(file)).putObjectRequest(s3Request) }\nupload.completionFuture().join()\n\n...\n// is there something like (supose my fileMutableList already have all the files I want to send)\nval uploads = tm.uploadFiles { b -&gt; b.source(fileMutableList).putObjectsRequest(s3Request) }\nuploads.completionFuture().join()\n...\n</code></pre>\n<p>I'm using the <code>software.amazon.awssdk:s3-transfer-manager:2.17.123-PREVIEW</code> lib for Java on my Kotlin project, which you can find out more about it <a href=\"https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Any thoughts are very appreciated.</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1657891087,"post_id":72993220,"comment_id":128923835,"body_markdown":"Why not use generated code and build a single type safe query using the powerful mapping features?","body":"Why not use generated code and build a single type safe query using the powerful mapping features?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658318673,"creation_date":1658318673,"answer_id":73051358,"question_id":72993220,"body_markdown":"You could obviously map your code manually by running several queries and assembling the results into your result type individually (there&#39;s no automatic way to do this in jOOQ). But much better than that, just use\r\n\r\n- [jOOQ&#39;s code generator][1] (things will get so much better with that!)\r\n- [`MULTISET`][2], [nested records][3], and [ad-hoc converters][4]\r\n\r\nAn example would be:\r\n\r\n```java\r\nList&lt;MyPojo&gt; result =\r\nctx.select(\r\n      T.FIELD1,\r\n      T.FIELD2,\r\n      multiset(\r\n        select(U.COL1, U.COL2)\r\n        .from(U)\r\n        .where(U.T_ID.eq(T.ID))\r\n      ).convertFrom(r -&gt; r.map(Records.mapping(SomeClass::new))),\r\n      field(\r\n        select(row(X.COL1, X.COL2).mapping(SomeClass2::new))\r\n        .from(X)\r\n        .where(X.T_ID.eq(T.ID))\r\n      ))\r\n   .from(T)\r\n   .fetch(Records.mapping(MyPojo::new));\r\n```\r\n\r\nAll of this is completely type safe and not using any reflection. All you need for those constructor references to work is add the constructor to your `MyPojo`, or make it a `record`, instead:\r\n\r\n```java\r\nrecord MyPojo(\r\n  String field1,\r\n  int field2,\r\n  List&lt;SomeClass&gt; field3,\r\n  SomeClass2 field4\r\n) {}\r\n```\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [2]: https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"Build pojo from multiple sql queries results using jooq","body":"<p>You could obviously map your code manually by running several queries and assembling the results into your result type individually (there's no automatic way to do this in jOOQ). But much better than that, just use</p>\n<ul>\n<li><a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">jOOQ's code generator</a> (things will get so much better with that!)</li>\n<li><a href=\"https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\" rel=\"nofollow noreferrer\"><code>MULTISET</code></a>, <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\" rel=\"nofollow noreferrer\">nested records</a>, and <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a></li>\n</ul>\n<p>An example would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyPojo&gt; result =\nctx.select(\n      T.FIELD1,\n      T.FIELD2,\n      multiset(\n        select(U.COL1, U.COL2)\n        .from(U)\n        .where(U.T_ID.eq(T.ID))\n      ).convertFrom(r -&gt; r.map(Records.mapping(SomeClass::new))),\n      field(\n        select(row(X.COL1, X.COL2).mapping(SomeClass2::new))\n        .from(X)\n        .where(X.T_ID.eq(T.ID))\n      ))\n   .from(T)\n   .fetch(Records.mapping(MyPojo::new));\n</code></pre>\n<p>All of this is completely type safe and not using any reflection. All you need for those constructor references to work is add the constructor to your <code>MyPojo</code>, or make it a <code>record</code>, instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record MyPojo(\n  String field1,\n  int field2,\n  List&lt;SomeClass&gt; field3,\n  SomeClass2 field4\n) {}\n</code></pre>\n"}],"owner":{"account_id":1055224,"reputation":530,"user_id":1058106,"display_name":"user1058106"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73051358,"answer_count":1,"score":2,"last_activity_date":1658318673,"creation_date":1657884155,"question_id":72993220,"body_markdown":"Usual way is to map a single query result to a class e.g.\r\n\r\n    List&lt;MyPojo&gt; p = ctx.fetch(&quot;select * from table...&quot;).into(MyPojo.class);\r\n\r\nBut what if I want to build a pojo based on several queries results? Note that some of pojo fields are objects.\r\n\r\n    class MyPojo{\r\n      String field1 - query1\r\n      int field2 - query1\r\n      List&lt;SomeClass&gt; field3 - query2\r\n      SomeClass2 - query3\r\n      ...\r\n    }\r\n\r\nWill really appreciate any thoughts.","title":"Build pojo from multiple sql queries results using jooq","body":"<p>Usual way is to map a single query result to a class e.g.</p>\n<pre><code>List&lt;MyPojo&gt; p = ctx.fetch(&quot;select * from table...&quot;).into(MyPojo.class);\n</code></pre>\n<p>But what if I want to build a pojo based on several queries results? Note that some of pojo fields are objects.</p>\n<pre><code>class MyPojo{\n  String field1 - query1\n  int field2 - query1\n  List&lt;SomeClass&gt; field3 - query2\n  SomeClass2 - query3\n  ...\n}\n</code></pre>\n<p>Will really appreciate any thoughts.</p>\n"},{"tags":["java","unity-game-engine","tcp"],"comments":[{"owner":{"account_id":1153733,"reputation":4827,"user_id":1134902,"accept_rate":75,"display_name":"Iggy"},"score":1,"creation_date":1658318234,"post_id":73050435,"comment_id":129020825,"body_markdown":"You could buffer server responses on the client, and process them in the next scene.","body":"You could buffer server responses on the client, and process them in the next scene."},{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1658318556,"post_id":73050435,"comment_id":129020975,"body_markdown":"Yeah thank you for your solution, as I said I don&#39;t really like this solution, but It&#39;s probably the easiest to implement","body":"Yeah thank you for your solution, as I said I don&#39;t really like this solution, but It&#39;s probably the easiest to implement"},{"owner":{"account_id":1454932,"reputation":2504,"user_id":1370785,"accept_rate":59,"display_name":"jiveturkey"},"score":1,"creation_date":1658323031,"post_id":73050435,"comment_id":129022941,"body_markdown":"I&#39;m not sure when your &quot;sending the data&quot; in Scene 1 is supposed to occur but if it is at the end of the scene (before transition to Scene 2) why not just make it part of Scene 2 loading.  i.e. put it behind a black screen with a spinner.","body":"I&#39;m not sure when your &quot;sending the data&quot; in Scene 1 is supposed to occur but if it is at the end of the scene (before transition to Scene 2) why not just make it part of Scene 2 loading.  i.e. put it behind a black screen with a spinner."},{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1658326912,"post_id":73050435,"comment_id":129024741,"body_markdown":"Well the loading of the second scene is very quick and even doing in that way the problem persists","body":"Well the loading of the second scene is very quick and even doing in that way the problem persists"}],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658318605,"creation_date":1658314712,"question_id":73050435,"body_markdown":"I&#39;m writing a multi-client java server for a game made in unity. The server has many Threads as Clients connected. The problem is that I need to receive some data from the client, process it in the server and send back some other data that the client can use only in an other scene (the client changes scene soon after sending data), but the client can use the response only in the 2nd scene. How can I send data to the Client only when the scene is loaded?\r\n\r\nI temporarily used Sleep like so to wait the scene to be loaded before sending data \r\n\r\n    void foo(String data, Player player){\r\n        //processing data\r\n        Thread.sleep(500);\r\n        player.send(response);\r\n    }\r\nbut ofcourse this solution is really bad\r\n\r\nMy idea was creating a queue HashMap containing the player and the data so I can send some signal from the client and reply from the server with the queued data something like\r\n\r\n    HashMap&lt;Player,String&gt; queue = new HashMap&lt;&gt;();\r\n    \r\n    void foo(String data,Player player){\r\n        //processing data\r\n        queue.put(player,response);\r\n    }\r\n\r\n    void clientIsReady(Player player){\r\n       if(queue.containsKey(player))\r\n            player.send(queue.get(player));\r\n    }\r\n\r\nis this approach any good or is there a better way to solve this problem?\r\nShould I send data before passing to the 2nd scene maybe? (I don&#39;t really like this solution)\r\n\r\nThanks to anyone that helps me\r\n","title":"What&#39;s the best way of sending data only when client is ready?","body":"<p>I'm writing a multi-client java server for a game made in unity. The server has many Threads as Clients connected. The problem is that I need to receive some data from the client, process it in the server and send back some other data that the client can use only in an other scene (the client changes scene soon after sending data), but the client can use the response only in the 2nd scene. How can I send data to the Client only when the scene is loaded?</p>\n<p>I temporarily used Sleep like so to wait the scene to be loaded before sending data</p>\n<pre><code>void foo(String data, Player player){\n    //processing data\n    Thread.sleep(500);\n    player.send(response);\n}\n</code></pre>\n<p>but ofcourse this solution is really bad</p>\n<p>My idea was creating a queue HashMap containing the player and the data so I can send some signal from the client and reply from the server with the queued data something like</p>\n<pre><code>HashMap&lt;Player,String&gt; queue = new HashMap&lt;&gt;();\n\nvoid foo(String data,Player player){\n    //processing data\n    queue.put(player,response);\n}\n\nvoid clientIsReady(Player player){\n   if(queue.containsKey(player))\n        player.send(queue.get(player));\n}\n</code></pre>\n<p>is this approach any good or is there a better way to solve this problem?\nShould I send data before passing to the 2nd scene maybe? (I don't really like this solution)</p>\n<p>Thanks to anyone that helps me</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1658327869,"post_id":73045372,"comment_id":129025205,"body_markdown":"Refer: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#findClass(java.lang.String) the default implementation throws ClassNotFound. Override this method instead of loadClass, in this call CL.getClass().getClassLoader() and dispatch for the classes you don&#39;t want to handle.","body":"Refer: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#findClass(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> the default implementation throws ClassNotFound. Override this method instead of loadClass, in this call CL.getClass().getClassLoader() and dispatch for the classes you don&#39;t want to handle."},{"owner":{"account_id":7416090,"reputation":49,"user_id":5641858,"display_name":"Pedro T&#244;rres"},"score":0,"creation_date":1659019074,"post_id":73045372,"comment_id":129200413,"body_markdown":"I tried overriding findClass as you suggested, but it resulted in the same problem. Even though CL#findClass returned a class object, when ClassLoader#loadClass returns it to the native method Class#forName0, it throws ClassNotFoundException.\n\n`findClass:12, CL (io.confluent.examples.clients.basicavro)\nloadClass:587, ClassLoader (java.lang)\nloadClass:520, ClassLoader (java.lang)\nforName0:-1, Class (java.lang)\nforName:467, Class (java.lang)\nmain:6, Main (io.confluent.examples.clients.basicavro)`","body":"I tried overriding findClass as you suggested, but it resulted in the same problem. Even though CL#findClass returned a class object, when ClassLoader#loadClass returns it to the native method Class#forName0, it throws ClassNotFoundException.  <code>findClass:12, CL (io.confluent.examples.clients.basicavro) loadClass:587, ClassLoader (java.lang) loadClass:520, ClassLoader (java.lang) forName0:-1, Class (java.lang) forName:467, Class (java.lang) main:6, Main (io.confluent.examples.clients.basicavro)</code>"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1659078830,"post_id":73045372,"comment_id":129214150,"body_markdown":"I am not sure how you have sequenced the class loaders, however, classes loaded by different class loaders are considered different. Check if you are facing that issue.","body":"I am not sure how you have sequenced the class loaders, however, classes loaded by different class loaders are considered different. Check if you are facing that issue."}],"owner":{"account_id":7416090,"reputation":49,"user_id":5641858,"display_name":"Pedro T&#244;rres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658318548,"creation_date":1658284305,"question_id":73045372,"body_markdown":"I&#39;m using a library that loads some classes using Class#forName, but I need to change the implementation of some classes it loads. So I wrote a custom ClassLoader to replace the classes, but when invoking Class#forName it throws ClassNotFoundException even though the ClassLoader returned a Class object when requested.\r\n\r\nIs that because the name of the classes mismatch? Is there a workaround while still using Class#forName?\r\n\r\nI&#39;m not able to reuse the package and name of the original class in the new one, otherwise I would&#39;ve done that in compile time. But both classes extend the same class and only the interface of the super class is used throughout the code, so no incompatibility between them.\r\n\r\n## Example\r\n\r\n#### REPL\r\n\r\nhttps://replit.com/@t0rr3sp3dr0/Replace-Class-with-Custom-ClassLoader?v=1\r\n\r\n#### Source\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws Throwable {\r\n        ClassLoader cl = new CL(Main.class.getClassLoader());\r\n\r\n        Class&lt;?&gt; clazzA = Class.forName(&quot;A&quot;, true, cl);\r\n        System.out.println(clazzA);\r\n\r\n        Class&lt;?&gt; clazzB = Class.forName(&quot;B&quot;, true, cl);\r\n        System.out.println(clazzB);\r\n\r\n        Class&lt;?&gt; clazzC = Class.forName(&quot;C&quot;, true, cl);\r\n        System.out.println(clazzC);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class CL extends ClassLoader {\r\n    public CL(final ClassLoader parent) {\r\n        super(parent);\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; loadClass(final String name) throws ClassNotFoundException {\r\n        System.out.printf(&quot;name: %s%n&quot;, name);\r\n\r\n        switch (name) {\r\n            case &quot;B&quot;, &quot;C&quot;:\r\n                System.out.println(&quot;case: B or C&quot;);\r\n                return B.class;\r\n\r\n            default:\r\n                System.out.println(&quot;case: default&quot;);\r\n                return super.loadClass(name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class A {\r\n    public int i;\r\n}\r\n```\r\n\r\n```java\r\npublic class B {\r\n    public double d;\r\n}\r\n```\r\n\r\n#### Output\r\n\r\n```text\r\nname: A\r\ncase: default\r\nclass A\r\nname: B\r\ncase: B or C\r\nclass B\r\nname: C\r\ncase: B or C\r\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: C\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:467)\r\n    at Main.main(Main.java:8)\r\n```","title":"ClassNotFoundException when using custom ClassLoader to replace classes","body":"<p>I'm using a library that loads some classes using Class#forName, but I need to change the implementation of some classes it loads. So I wrote a custom ClassLoader to replace the classes, but when invoking Class#forName it throws ClassNotFoundException even though the ClassLoader returned a Class object when requested.</p>\n<p>Is that because the name of the classes mismatch? Is there a workaround while still using Class#forName?</p>\n<p>I'm not able to reuse the package and name of the original class in the new one, otherwise I would've done that in compile time. But both classes extend the same class and only the interface of the super class is used throughout the code, so no incompatibility between them.</p>\n<h2>Example</h2>\n<h4>REPL</h4>\n<p><a href=\"https://replit.com/@t0rr3sp3dr0/Replace-Class-with-Custom-ClassLoader?v=1\" rel=\"nofollow noreferrer\">https://replit.com/@t0rr3sp3dr0/Replace-Class-with-Custom-ClassLoader?v=1</a></p>\n<h4>Source</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Throwable {\n        ClassLoader cl = new CL(Main.class.getClassLoader());\n\n        Class&lt;?&gt; clazzA = Class.forName(&quot;A&quot;, true, cl);\n        System.out.println(clazzA);\n\n        Class&lt;?&gt; clazzB = Class.forName(&quot;B&quot;, true, cl);\n        System.out.println(clazzB);\n\n        Class&lt;?&gt; clazzC = Class.forName(&quot;C&quot;, true, cl);\n        System.out.println(clazzC);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CL extends ClassLoader {\n    public CL(final ClassLoader parent) {\n        super(parent);\n    }\n\n    @Override\n    public Class&lt;?&gt; loadClass(final String name) throws ClassNotFoundException {\n        System.out.printf(&quot;name: %s%n&quot;, name);\n\n        switch (name) {\n            case &quot;B&quot;, &quot;C&quot;:\n                System.out.println(&quot;case: B or C&quot;);\n                return B.class;\n\n            default:\n                System.out.println(&quot;case: default&quot;);\n                return super.loadClass(name);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    public int i;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class B {\n    public double d;\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>name: A\ncase: default\nclass A\nname: B\ncase: B or C\nclass B\nname: C\ncase: B or C\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: C\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at Main.main(Main.java:8)\n</code></pre>\n"},{"tags":["java","junit","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658318493,"creation_date":1658314747,"answer_id":73050442,"question_id":73048842,"body_markdown":"You need to mock the `serviceB` inside `ServiceA` class, you have two different options:\r\n\r\n**First**\r\nYou can use `whitebox` or `reflection` and assign the mocked the `serviceB` to `ServiceA` class\r\n\r\n```\r\npublic class TestExample {\r\n    @Mock\r\n    private ServiceB mockedServiceB;\r\n    private ServiceA serviceA;\r\n\r\n    @Before\r\n    public void setUp() {\r\n       serviceA = new ServiceA();\r\n    }\r\n\r\n    @Test\r\n    public void shouldDoSomething() {\r\n        // Arrange\r\n        Whitebox.setInternalState(serviceA, &quot;serviceB&quot;, mockedServiceB);\r\n        when(serviceB.getItems()).thenReturn(list);\r\n\r\n       // Act &amp; Assert\r\n       Assertions.assertTrue(serviceA.tokenExists(this.getTestItem()));\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Second**\r\n\r\nYou can use `@InjectMocks`\r\n\r\n```\r\npublic class TestExample {\r\n    @Mock\r\n    private ServiceB mockedServiceB;\r\n    @InjectMocks\r\n    private ServiceA serviceA;\r\n\r\n    @Before\r\n    public void setUp() {\r\n       serviceA = new ServiceA();\r\n    }\r\n\r\n    @Test\r\n    public void shouldDoSomething() {\r\n       // Arrange\r\n        List&lt;Item&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Item(...)); // add whatever you want to the list\r\n        when(serviceB.getItems()).thenReturn(list);\r\n        \r\n       // Act &amp; Assert\r\n       Assertions.assertTrue(serviceA.tokenExists(this.getTestItem()));\r\n    }\r\n}\r\n```\r\n\r\nNote: prepare your runner also ","title":"Test a ServiceA and replace all calls to ServiceB with a MockServiceB","body":"<p>You need to mock the <code>serviceB</code> inside <code>ServiceA</code> class, you have two different options:</p>\n<p><strong>First</strong>\nYou can use <code>whitebox</code> or <code>reflection</code> and assign the mocked the <code>serviceB</code> to <code>ServiceA</code> class</p>\n<pre><code>public class TestExample {\n    @Mock\n    private ServiceB mockedServiceB;\n    private ServiceA serviceA;\n\n    @Before\n    public void setUp() {\n       serviceA = new ServiceA();\n    }\n\n    @Test\n    public void shouldDoSomething() {\n        // Arrange\n        Whitebox.setInternalState(serviceA, &quot;serviceB&quot;, mockedServiceB);\n        when(serviceB.getItems()).thenReturn(list);\n\n       // Act &amp; Assert\n       Assertions.assertTrue(serviceA.tokenExists(this.getTestItem()));\n    }\n}\n</code></pre>\n<p><strong>Second</strong></p>\n<p>You can use <code>@InjectMocks</code></p>\n<pre><code>public class TestExample {\n    @Mock\n    private ServiceB mockedServiceB;\n    @InjectMocks\n    private ServiceA serviceA;\n\n    @Before\n    public void setUp() {\n       serviceA = new ServiceA();\n    }\n\n    @Test\n    public void shouldDoSomething() {\n       // Arrange\n        List&lt;Item&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Item(...)); // add whatever you want to the list\n        when(serviceB.getItems()).thenReturn(list);\n        \n       // Act &amp; Assert\n       Assertions.assertTrue(serviceA.tokenExists(this.getTestItem()));\n    }\n}\n</code></pre>\n<p>Note: prepare your runner also</p>\n"}],"owner":{"account_id":11722622,"reputation":569,"user_id":8581106,"display_name":"LukyFoggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73050442,"answer_count":1,"score":1,"last_activity_date":1658318493,"creation_date":1658308275,"question_id":73048842,"body_markdown":"Is it possible to test methods of serviceA and tell the test environment to replace all calls from serviceA to serviceB with a mockServiceB?\r\n\r\nThis is the method I&#180;d like to test (`ServiceA.java`):\r\n```java\r\n   \r\n    @Inject\r\n    ServiceB serviceB;\r\n\r\n    public boolean tokenExists(ItemModel item) throws Exception {\r\n        try {\r\n            List&lt;ItemModel &gt; items = serviceB.getItems();\r\n            String token = item.getToken();\r\n            return items.stream().filter(i -&gt; i.getToken().equals(token)).findFirst().isPresent();\r\n        } catch (ApiException e) {\r\n            throw new Exception(500, &quot;Data could not be fetched.&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nSince `serviceB.getItems()` will result in a REST-call, I&#39;d like to replace calls to `serviceB` with a custom `mockServiceB` where I just load mock data from a json file like this (`TestServiceA.java`):\r\n\r\n```java\r\n    @InjectMock\r\n    ServiceB serviceB;\r\n\r\n    @ApplicationScoped\r\n    public static class ServiceB {\r\n\r\n        private ObjectMapper objMapper = new ObjectMapper();;\r\n\r\n        public List&lt;ItemModel&gt; getItems() throws IOException {\r\n            final String itemsAsJson;\r\n\r\n            try {\r\n                itemsAsJson= IOUtils.toString(new FileReader(RESOURCE_PATH + &quot;items.json&quot;));\r\n                objMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n                List&lt;Item&gt; items= objMapper.readValue(itemsAsJson, objMapper.getTypeFactory().constructCollectionType(List.class, ItemModel.class));\r\n                return items;\r\n            } catch (IOException e) {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAnd then test the `tokenExists` method like this (`TestServiceA.java`):\r\n```java\r\n    @Test\r\n    public void testTokenExists() {\r\n        try {\r\n            Assertions.assertTrue(this.serviceA.tokenExists(this.getTestItem()));\r\n        } catch (Exception e) {\r\n            fail(&quot;exception&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHowever, when I run the test `testTokenExists` it still calls the original `serviceB.getItems()`. So my question would be if this is even possible or if I have to take a different approach.","title":"Test a ServiceA and replace all calls to ServiceB with a MockServiceB","body":"<p>Is it possible to test methods of serviceA and tell the test environment to replace all calls from serviceA to serviceB with a mockServiceB?</p>\n<p>This is the method I´d like to test (<code>ServiceA.java</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \n    @Inject\n    ServiceB serviceB;\n\n    public boolean tokenExists(ItemModel item) throws Exception {\n        try {\n            List&lt;ItemModel &gt; items = serviceB.getItems();\n            String token = item.getToken();\n            return items.stream().filter(i -&gt; i.getToken().equals(token)).findFirst().isPresent();\n        } catch (ApiException e) {\n            throw new Exception(500, &quot;Data could not be fetched.&quot;, e);\n        }\n    }\n</code></pre>\n<p>Since <code>serviceB.getItems()</code> will result in a REST-call, I'd like to replace calls to <code>serviceB</code> with a custom <code>mockServiceB</code> where I just load mock data from a json file like this (<code>TestServiceA.java</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @InjectMock\n    ServiceB serviceB;\n\n    @ApplicationScoped\n    public static class ServiceB {\n\n        private ObjectMapper objMapper = new ObjectMapper();;\n\n        public List&lt;ItemModel&gt; getItems() throws IOException {\n            final String itemsAsJson;\n\n            try {\n                itemsAsJson= IOUtils.toString(new FileReader(RESOURCE_PATH + &quot;items.json&quot;));\n                objMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n                List&lt;Item&gt; items= objMapper.readValue(itemsAsJson, objMapper.getTypeFactory().constructCollectionType(List.class, ItemModel.class));\n                return items;\n            } catch (IOException e) {\n                throw e;\n            }\n        }\n    }\n</code></pre>\n<p>And then test the <code>tokenExists</code> method like this (<code>TestServiceA.java</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testTokenExists() {\n        try {\n            Assertions.assertTrue(this.serviceA.tokenExists(this.getTestItem()));\n        } catch (Exception e) {\n            fail(&quot;exception&quot;);\n        }\n    }\n</code></pre>\n<p>However, when I run the test <code>testTokenExists</code> it still calls the original <code>serviceB.getItems()</code>. So my question would be if this is even possible or if I have to take a different approach.</p>\n"},{"tags":["java","android","list","return","retrofit"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1657998146,"post_id":73006893,"comment_id":128944521,"body_markdown":"&quot;But I am not getting any return from onResponse&quot; -- you probably should explain more what you mean by this. Your `ListCatcher` may not be useful, as you create and return it long before you get a response from your Web service.","body":"&quot;But I am not getting any return from onResponse&quot; -- you probably should explain more what you mean by this. Your <code>ListCatcher</code> may not be useful, as you create and return it long before you get a response from your Web service."},{"owner":{"account_id":19006866,"reputation":1,"user_id":13873439,"display_name":"Burak Cem Dursun"},"score":0,"creation_date":1657998602,"post_id":73006893,"comment_id":128944615,"body_markdown":"Yes, onResponse was running in the background much later. What should I do for it? I need to take the contents of this list and put it in another list in main. @CommonsWare","body":"Yes, onResponse was running in the background much later. What should I do for it? I need to take the contents of this list and put it in another list in main. @CommonsWare"},{"owner":{"account_id":19006866,"reputation":1,"user_id":13873439,"display_name":"Burak Cem Dursun"},"score":0,"creation_date":1657998735,"post_id":73006893,"comment_id":128944638,"body_markdown":"onResponse is working but running too late. Is there no way to run it inside main thread?","body":"onResponse is working but running too late. Is there no way to run it inside main thread?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1657999469,"post_id":73006893,"comment_id":128944745,"body_markdown":"&quot;What should I do for it?&quot; -- your Retrofit code should be in something like a Jetpack `ViewModel`, and it should update something like a `MutableLiveData` with the results. Your UI code can observe the `LiveData` and react when the list is available. Modern books and courses on Android app development will cover these sorts of techniques. For example, I demonstrate the use of Retrofit this way in [this chapter](https://commonsware.com/Jetpack/pages/chap-internet-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"&quot;What should I do for it?&quot; -- your Retrofit code should be in something like a Jetpack <code>ViewModel</code>, and it should update something like a <code>MutableLiveData</code> with the results. Your UI code can observe the <code>LiveData</code> and react when the list is available. Modern books and courses on Android app development will cover these sorts of techniques. For example, I demonstrate the use of Retrofit this way in <a href=\"https://commonsware.com/Jetpack/pages/chap-internet-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."}],"owner":{"account_id":19006866,"reputation":1,"user_id":13873439,"display_name":"Burak Cem Dursun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658318266,"creation_date":1657997718,"question_id":73006893,"body_markdown":"I&#39;ve seen a few similar questions but they don&#39;t seem to answer my problem exactly. I&#39;m pulling a list with Retrofit and I want to export it to a list and create a listview. But I am not getting any return from onResponse. I&#39;ve also tried returning a list directly with return. Please help.\r\n\r\nthis is the callback func\r\n\r\nlistCatcher just holds a list\r\n\r\nIbreeds is interface\r\n\r\n```java\r\npublic ListCatcher allBreeds(View view){\r\n        ArrayList&lt;String&gt; breedList = new ArrayList&lt;&gt;(breeds);\r\n\r\n        Ibreeds.allBreeds().enqueue(new Callback&lt;Breeds&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Breeds&gt; call, Response&lt;Breeds&gt; response) {\r\n                List&lt;String&gt; breeds = response.body().getMessage();\r\n\r\n                for (String b: breeds){\r\n                    breedList.add(b);\r\n                }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Breeds&gt; call, Throwable t) {\r\n                Snackbar.make(view,R.string.connectionStatus, 3000 ).show();\r\n            }\r\n        });\r\n\r\n        ListCatcher listcatcher = new ListCatcher(breedList);\r\n        return listcatcher;\r\n    }\r\n```\r\n\r\n\r\n\r\n```java\r\npublic interface BreedsDAOInterface {\r\n\r\n    @GET(&quot;breeds/list&quot;)\r\n    Call&lt;Breeds&gt; allBreeds();\r\n\r\n    @GET(&quot;breed/{breed}/list&quot;)\r\n    Call&lt;Breeds&gt; listSubBreed(@Path(&quot;breed&quot;) String breed);\r\n\r\n    @GET(&quot;breed/{breed}/images&quot;)\r\n    Call&lt;Breeds&gt; listBreedImages(@Path(&quot;breed&quot;) String breed);\r\n\r\n    @GET(&quot;breed/{breed}/{subBreed}/images&quot;)\r\n    Call&lt;Breeds&gt; listSubBreedImages(@Path(&quot;breed&quot;) String breed, @Path(&quot;subBreed&quot;) String subBreed);\r\n\r\n    @GET(&quot;breeds/image/random&quot;)\r\n    Call&lt;Breeds&gt; iFeelLucky();\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```java\r\npublic class ApiUtils {\r\n\r\n    public static final String BASE_URL = &quot;https://dog.ceo/api/&quot;;\r\n\r\n    public static BreedsDAOInterface getBreedsDaoInterface(){\r\n        return RetrofitClient.getClient(BASE_URL).create(BreedsDAOInterface.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```java\r\npublic class RetrofitClient {\r\n\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseURL){\r\n        if (retrofit == null){\r\n            retrofit = new Retrofit\r\n                    .Builder()\r\n                    .baseUrl(baseURL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic class Breeds {\r\n\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private List&lt;String&gt; message;\r\n\r\n\r\n    public List&lt;String&gt; getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(List&lt;String&gt; message) {\r\n        this.message = message;\r\n    }\r\n\r\n}\r\n```\r\n\r\nEDIT\r\n\r\nI found the solution to the problem:\r\nlistCatcher deleted\r\n\r\n\r\n```\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n    List&lt;String&gt; breedsList = new ArrayList&lt;&gt;();\r\n    private BreedsInterface Ibreeds;\r\n    private RecyclerViewAdapter RWAdapter;\r\n    private ActivityHomeBinding binding;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityHomeBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        Ibreeds = ApiUtils.getBreedsDaoInterface();\r\n        allBreeds();\r\n\r\n    }\r\n\r\n    public void allBreeds(){\r\n\r\n        Ibreeds.allBreeds().enqueue(new Callback&lt;Answer&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Answer&gt; call, Response&lt;Answer&gt; response) {\r\n                List&lt;String&gt; breedResponceList = response.body().getMessage();\r\n                breedsList.clear();\r\n                breedsList.addAll(breedResponceList);\r\n                initRecyclerView();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Answer&gt; call, Throwable t) {\r\n                throwError();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void throwError() {\r\n        Snackbar.make(binding.getRoot(), R.string.connectionStatus, 3000).show();\r\n    }\r\n\r\n    private void initRecyclerView() {\r\n        RWAdapter = new RecyclerViewAdapter(breedsList);\r\n        binding.recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        binding.recyclerView.setAdapter(RWAdapter);\r\n    }\r\n\r\n}\r\n```\r\nI added the adapter to the enqueue function via a function\r\n\r\n\r\n","title":"How can i return a list from retrofit onResponse?","body":"<p>I've seen a few similar questions but they don't seem to answer my problem exactly. I'm pulling a list with Retrofit and I want to export it to a list and create a listview. But I am not getting any return from onResponse. I've also tried returning a list directly with return. Please help.</p>\n<p>this is the callback func</p>\n<p>listCatcher just holds a list</p>\n<p>Ibreeds is interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ListCatcher allBreeds(View view){\n        ArrayList&lt;String&gt; breedList = new ArrayList&lt;&gt;(breeds);\n\n        Ibreeds.allBreeds().enqueue(new Callback&lt;Breeds&gt;() {\n            @Override\n            public void onResponse(Call&lt;Breeds&gt; call, Response&lt;Breeds&gt; response) {\n                List&lt;String&gt; breeds = response.body().getMessage();\n\n                for (String b: breeds){\n                    breedList.add(b);\n                }\n\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;Breeds&gt; call, Throwable t) {\n                Snackbar.make(view,R.string.connectionStatus, 3000 ).show();\n            }\n        });\n\n        ListCatcher listcatcher = new ListCatcher(breedList);\n        return listcatcher;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BreedsDAOInterface {\n\n    @GET(&quot;breeds/list&quot;)\n    Call&lt;Breeds&gt; allBreeds();\n\n    @GET(&quot;breed/{breed}/list&quot;)\n    Call&lt;Breeds&gt; listSubBreed(@Path(&quot;breed&quot;) String breed);\n\n    @GET(&quot;breed/{breed}/images&quot;)\n    Call&lt;Breeds&gt; listBreedImages(@Path(&quot;breed&quot;) String breed);\n\n    @GET(&quot;breed/{breed}/{subBreed}/images&quot;)\n    Call&lt;Breeds&gt; listSubBreedImages(@Path(&quot;breed&quot;) String breed, @Path(&quot;subBreed&quot;) String subBreed);\n\n    @GET(&quot;breeds/image/random&quot;)\n    Call&lt;Breeds&gt; iFeelLucky();\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiUtils {\n\n    public static final String BASE_URL = &quot;https://dog.ceo/api/&quot;;\n\n    public static BreedsDAOInterface getBreedsDaoInterface(){\n        return RetrofitClient.getClient(BASE_URL).create(BreedsDAOInterface.class);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class RetrofitClient {\n\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseURL){\n        if (retrofit == null){\n            retrofit = new Retrofit\n                    .Builder()\n                    .baseUrl(baseURL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Breeds {\n\n    @SerializedName(&quot;message&quot;)\n    @Expose\n    private List&lt;String&gt; message;\n\n\n    public List&lt;String&gt; getMessage() {\n        return message;\n    }\n\n    public void setMessage(List&lt;String&gt; message) {\n        this.message = message;\n    }\n\n}\n</code></pre>\n<p>EDIT</p>\n<p>I found the solution to the problem:\nlistCatcher deleted</p>\n<pre><code>public class HomeActivity extends AppCompatActivity {\n\n    List&lt;String&gt; breedsList = new ArrayList&lt;&gt;();\n    private BreedsInterface Ibreeds;\n    private RecyclerViewAdapter RWAdapter;\n    private ActivityHomeBinding binding;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityHomeBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Ibreeds = ApiUtils.getBreedsDaoInterface();\n        allBreeds();\n\n    }\n\n    public void allBreeds(){\n\n        Ibreeds.allBreeds().enqueue(new Callback&lt;Answer&gt;() {\n            @Override\n            public void onResponse(Call&lt;Answer&gt; call, Response&lt;Answer&gt; response) {\n                List&lt;String&gt; breedResponceList = response.body().getMessage();\n                breedsList.clear();\n                breedsList.addAll(breedResponceList);\n                initRecyclerView();\n            }\n\n            @Override\n            public void onFailure(Call&lt;Answer&gt; call, Throwable t) {\n                throwError();\n            }\n        });\n    }\n\n\n    private void throwError() {\n        Snackbar.make(binding.getRoot(), R.string.connectionStatus, 3000).show();\n    }\n\n    private void initRecyclerView() {\n        RWAdapter = new RecyclerViewAdapter(breedsList);\n        binding.recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        binding.recyclerView.setAdapter(RWAdapter);\n    }\n\n}\n</code></pre>\n<p>I added the adapter to the enqueue function via a function</p>\n"},{"tags":["java","cassandra","data-migration"],"comments":[{"owner":{"account_id":4861607,"reputation":2168,"user_id":3921053,"accept_rate":80,"display_name":"Abhishek Garg"},"score":0,"creation_date":1593271983,"post_id":62498264,"comment_id":110723886,"body_markdown":"Since the data is not present as the primary key I think you will have to do the full table read. You will get better answers if you can clarify what are your concerns in just reading data from Cassandra and create files using java program.","body":"Since the data is not present as the primary key I think you will have to do the full table read. You will get better answers if you can clarify what are your concerns in just reading data from Cassandra and create files using java program."},{"owner":{"account_id":11108204,"reputation":31,"user_id":8154796,"display_name":"Александр Шинкевич"},"score":0,"creation_date":1594894676,"post_id":62498264,"comment_id":111289327,"body_markdown":"@AbhishekGarg, if I group data in memory using HashMap for example, so my memory will run out of room on my application.","body":"@AbhishekGarg, if I group data in memory using HashMap for example, so my memory will run out of room on my application."}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658318079,"creation_date":1658318079,"answer_id":73051198,"question_id":62498264,"body_markdown":"This is really an analytics operation so your best option is to write a Spark application to do the ETL and write the data to disk. Cheers!","title":"What are my options for migrating data from Cassandra split into files by name?","body":"<p>This is really an analytics operation so your best option is to write a Spark application to do the ETL and write the data to disk. Cheers!</p>\n"}],"owner":{"account_id":11108204,"reputation":31,"user_id":8154796,"display_name":"Александр Шинкевич"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658318079,"creation_date":1592741112,"question_id":62498264,"body_markdown":"I have table with following structure\r\n\r\nid| received_date | data&lt;br&gt;\r\n1 | 13.12.2020    | alex : 1&lt;br&gt;\r\n2 | 14.12.2020    | alex : 2&lt;br&gt;\r\n3 | 14.12.2020    | vova : 999&lt;br&gt;\r\n4 | 15.12.2020    | vova : 888&lt;br&gt;\r\n\r\nI split field &quot;data&quot; into two fields &quot;name&quot; and &quot;number&quot;\r\n\r\nalex = [1,2,3,4,5, ....]&lt;br&gt;\r\nvova = [999,888,777,666,555, ....]\r\n\r\nWhat is the best solution for group data by name and migrate to files by name.\r\nOne name may contains 6 million records. These names could be more than 3000. So I should migrate 3000 * 6 millions records (more than 18 billion). So after migration I should have files containing alex and vova (alex.bin, vova.bin)\r\nAfter migration to the file, I should download the file to google cloud storage","title":"What are my options for migrating data from Cassandra split into files by name?","body":"<p>I have table with following structure</p>\n<p>id| received_date | data<br>\n1 | 13.12.2020    | alex : 1<br>\n2 | 14.12.2020    | alex : 2<br>\n3 | 14.12.2020    | vova : 999<br>\n4 | 15.12.2020    | vova : 888<br></p>\n<p>I split field &quot;data&quot; into two fields &quot;name&quot; and &quot;number&quot;</p>\n<p>alex = [1,2,3,4,5, ....]<br>\nvova = [999,888,777,666,555, ....]</p>\n<p>What is the best solution for group data by name and migrate to files by name.\nOne name may contains 6 million records. These names could be more than 3000. So I should migrate 3000 * 6 millions records (more than 18 billion). So after migration I should have files containing alex and vova (alex.bin, vova.bin)\nAfter migration to the file, I should download the file to google cloud storage</p>\n"},{"tags":["java","classpath","java-9","java-platform-module-system","java-module"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1485774067,"post_id":41932635,"comment_id":71048762,"body_markdown":"I don&#39;t think much has changed, I mean if there is visibility of one module towards another, you can still do the usual things. In case you can&#39;t access a class from a module you would probably hit an exception like `InaccessibleObjectException` or something like that","body":"I don&#39;t think much has changed, I mean if there is visibility of one module towards another, you can still do the usual things. In case you can&#39;t access a class from a module you would probably hit an exception like <code>InaccessibleObjectException</code> or something like that"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1485775114,"post_id":41932635,"comment_id":71049380,"body_markdown":"@Eugene You sure? Asking because classpath now seems to be a &quot;legacy&quot; thing, getting replaced by _modulepath_. So I&#39;m guessing scanning what used to be classpath has changed...","body":"@Eugene You sure? Asking because classpath now seems to be a &quot;legacy&quot; thing, getting replaced by <i>modulepath</i>. So I&#39;m guessing scanning what used to be classpath has changed..."},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1501563509,"post_id":41932635,"comment_id":77819422,"body_markdown":"Possible duplicate of [Loading classes and resources in Java 9](https://stackoverflow.com/questions/45166757/loading-classes-and-resources-in-java-9)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/45166757/loading-classes-and-resources-in-java-9\">Loading classes and resources in Java 9</a>"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1501572193,"post_id":41932635,"comment_id":77823703,"body_markdown":"@MichaelEaster It is related, but not a duplicate. This one is about scanning directories and URLs for available classes, that one is about loading them.","body":"@MichaelEaster It is related, but not a duplicate. This one is about scanning directories and URLs for available classes, that one is about loading them."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1530145509,"post_id":41932635,"comment_id":89135773,"body_markdown":"See my answer below for scanning more than just the boot module layer.","body":"See my answer below for scanning more than just the boot module layer."},{"owner":{"account_id":139677,"reputation":1799,"user_id":345427,"accept_rate":88,"display_name":"phreed"},"score":1,"creation_date":1564062445,"post_id":41932635,"comment_id":100914377,"body_markdown":"https://github.com/classgraph/classgraph/wiki/Code-examples The ClassGraph (previously FastClassGraph) has been helpful for me.","body":"<a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/wiki/Code-examples</a> The ClassGraph (previously FastClassGraph) has been helpful for me."}],"answers":[{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1574327639,"creation_date":1502364246,"answer_id":45612376,"question_id":41932635,"body_markdown":"The following code achieves module path scanning in Java 9+ (Jigsaw / JPMS). It finds all classes on the callstack, then for each class reference, calls `classRef.getModule().getLayer().getConfiguration().modules()`, which returns a a `List&lt;ResolvedModule&gt;`, rather than just a `List&lt;Module&gt;`. (`ResolvedModule` gives you access to the module resources, whereas `Module` does not.) Given a `ResolvedModule` reference for each module, you can call the `.reference()` method to get the `ModuleReference` for a module. `ModuleReference#open()` gives you a `ModuleReader`, which allows you to list the resources in a module, using `ModuleReader#list()`, or to open a resource using `Optional&lt;InputStream&gt; ModuleReader#open(resourcePath)` or `Optional&lt;ByteBuffer&gt; ModuleReader#read(resourcePath)`. You then close the `ModuleReader` when you&#39;re done with the module. This is not documented anywhere that I have seen. It was very difficult to figure all this out. But here is the code, in the hope that someone else will benefit from this.\r\n\r\nNote that even in JDK9+, you can still utilize traditional classpath elements along with module path elements, so for a complete module path + classpath scan, you should probably use a proper classpath scanning solution, such as [ClassGraph][1], which supports module scanning using the below mechanism (disclaimer, I am the author). You can find a reflection-based version of the following code [here][2].\r\n\r\nAlso note that there was a [bug][3] in StackWalker in several JDK releases after JDK 9 that has to be worked around, see the above reflection-based code for details.\r\n\r\n    package main;\r\n    \r\n    import java.lang.StackWalker;\r\n    import java.lang.StackWalker.Option;\r\n    import java.lang.StackWalker.StackFrame;\r\n    import java.lang.module.ModuleReader;\r\n    import java.lang.module.ModuleReference;\r\n    import java.lang.module.ResolvedModule;\r\n    import java.net.URI;\r\n    import java.security.AccessController;\r\n    import java.security.PrivilegedAction;\r\n    import java.util.AbstractMap.SimpleEntry;\r\n    import java.util.ArrayDeque;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Deque;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Map.Entry;\r\n    import java.util.Optional;\r\n    import java.util.Set;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Java9Scanner {\r\n    \r\n        /** Recursively find the topological sort order of ancestral layers. */\r\n        private static void findLayerOrder(ModuleLayer layer,\r\n                Set&lt;ModuleLayer&gt; visited, Deque&lt;ModuleLayer&gt; layersOut) {\r\n            if (visited.add(layer)) {\r\n                List&lt;ModuleLayer&gt; parents = layer.parents();\r\n                for (int i = 0; i &lt; parents.size(); i++) {\r\n                    findLayerOrder(parents.get(i), visited, layersOut);\r\n                }\r\n                layersOut.push(layer);\r\n            }\r\n        }\r\n    \r\n        /** Get ModuleReferences from a Class reference. */\r\n        private static List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; findModuleRefs(\r\n                Class&lt;?&gt;[] callStack) {\r\n            Deque&lt;ModuleLayer&gt; layerOrder = new ArrayDeque&lt;&gt;();\r\n            Set&lt;ModuleLayer&gt; visited = new HashSet&lt;&gt;();\r\n            for (int i = 0; i &lt; callStack.length; i++) {\r\n                ModuleLayer layer = callStack[i].getModule().getLayer();\r\n                findLayerOrder(layer, visited, layerOrder);\r\n            }\r\n            Set&lt;ModuleReference&gt; addedModules = new HashSet&lt;&gt;();\r\n            List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; moduleRefs = new ArrayList&lt;&gt;();\r\n            for (ModuleLayer layer : layerOrder) {\r\n                Set&lt;ResolvedModule&gt; modulesInLayerSet = layer.configuration()\r\n                        .modules();\r\n                final List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; modulesInLayer =\r\n                        new ArrayList&lt;&gt;();\r\n                for (ResolvedModule module : modulesInLayerSet) {\r\n                    modulesInLayer\r\n                            .add(new SimpleEntry&lt;&gt;(module.reference(), layer));\r\n                }\r\n                // Sort modules in layer by name for consistency\r\n                Collections.sort(modulesInLayer,\r\n                        (e1, e2) -&gt; e1.getKey().descriptor().name()\r\n                                .compareTo(e2.getKey().descriptor().name()));\r\n                // To be safe, dedup ModuleReferences, in case a module occurs in multiple\r\n                // layers and reuses its ModuleReference (no idea if this can happen)\r\n                for (Entry&lt;ModuleReference, ModuleLayer&gt; m : modulesInLayer) {\r\n                    if (addedModules.add(m.getKey())) {\r\n                        moduleRefs.add(m);\r\n                    }\r\n                }\r\n            }\r\n            return moduleRefs;\r\n        }\r\n    \r\n        /** Get the classes in the call stack. */\r\n        private static Class&lt;?&gt;[] getCallStack() {\r\n            // Try StackWalker (JDK 9+)\r\n            PrivilegedAction&lt;Class&lt;?&gt;[]&gt; stackWalkerAction =\r\n                    (PrivilegedAction&lt;Class&lt;?&gt;[]&gt;) () -&gt;\r\n                        StackWalker.getInstance(\r\n                                Option.RETAIN_CLASS_REFERENCE)\r\n                        .walk(s -&gt; s.map(\r\n                                StackFrame::getDeclaringClass)\r\n                                .toArray(Class[]::new));\r\n            try {\r\n                // Try with doPrivileged()\r\n                return AccessController\r\n                        .doPrivileged(stackWalkerAction);\r\n            } catch (Exception e) {\r\n            }\r\n            try {\r\n                // Try without doPrivileged()\r\n                return stackWalkerAction.run();\r\n            } catch (Exception e) {\r\n            }\r\n    \r\n            // Try SecurityManager\r\n            PrivilegedAction&lt;Class&lt;?&gt;[]&gt; callerResolverAction = \r\n                    (PrivilegedAction&lt;Class&lt;?&gt;[]&gt;) () -&gt;\r\n                        new SecurityManager() {\r\n                            @Override\r\n                            public Class&lt;?&gt;[] getClassContext() {\r\n                                return super.getClassContext();\r\n                            }\r\n                        }.getClassContext();\r\n            try {\r\n                // Try with doPrivileged()\r\n                return AccessController\r\n                        .doPrivileged(callerResolverAction);\r\n            } catch (Exception e) {\r\n            }\r\n            try {\r\n                // Try without doPrivileged()\r\n                return callerResolverAction.run();\r\n            } catch (Exception e) {\r\n            }\r\n    \r\n            // As a fallback, use getStackTrace() to try to get the call stack\r\n            try {\r\n                throw new Exception();\r\n            } catch (final Exception e) {\r\n                final List&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;&gt;();\r\n                for (final StackTraceElement elt : e.getStackTrace()) {\r\n                    try {\r\n                        classes.add(Class.forName(elt.getClassName()));\r\n                    } catch (final Throwable e2) {\r\n                        // Ignore\r\n                    }\r\n                }\r\n                if (classes.size() &gt; 0) {\r\n                    return classes.toArray(new Class&lt;?&gt;[0]);\r\n                } else {\r\n                    // Last-ditch effort -- include just this class\r\n                    return new Class&lt;?&gt;[] { Java9Scanner.class };\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Return true if the given module name is a system module.\r\n         * There can be system modules in layers above the boot layer.\r\n         */\r\n        private static boolean isSystemModule(\r\n                final ModuleReference moduleReference) {\r\n            String name = moduleReference.descriptor().name();\r\n            if (name == null) {\r\n                return false;\r\n            }\r\n            return name.startsWith(&quot;java.&quot;) || name.startsWith(&quot;jdk.&quot;)\r\n                || name.startsWith(&quot;javafx.&quot;) || name.startsWith(&quot;oracle.&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // Get ModuleReferences for modules of all classes in call stack,\r\n            List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; systemModuleRefs = new ArrayList&lt;&gt;();\r\n            List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; nonSystemModuleRefs = new ArrayList&lt;&gt;();\r\n    \r\n            Class&lt;?&gt;[] callStack = getCallStack();\r\n            List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; moduleRefs = findModuleRefs(\r\n                    callStack);\r\n            // Split module refs into system and non-system modules based on module name\r\n            for (Entry&lt;ModuleReference, ModuleLayer&gt; m : moduleRefs) {\r\n                (isSystemModule(m.getKey()) ? systemModuleRefs\r\n                        : nonSystemModuleRefs).add(m);\r\n            }\r\n    \r\n            // List system modules\r\n            System.out.println(&quot;\\nSYSTEM MODULES:\\n&quot;);\r\n            for (Entry&lt;ModuleReference, ModuleLayer&gt; e : systemModuleRefs) {\r\n                ModuleReference ref = e.getKey();\r\n                System.out.println(&quot;  &quot; + ref.descriptor().name());\r\n            }\r\n    \r\n            // Show info for non-system modules\r\n            System.out.println(&quot;\\nNON-SYSTEM MODULES:&quot;);\r\n            for (Entry&lt;ModuleReference, ModuleLayer&gt; e : nonSystemModuleRefs) {\r\n                ModuleReference ref = e.getKey();\r\n                ModuleLayer layer = e.getValue();\r\n                System.out.println(&quot;\\n  &quot; + ref.descriptor().name());\r\n                System.out.println(\r\n                        &quot;    Version: &quot; + ref.descriptor().toNameAndVersion());\r\n                System.out.println(\r\n                        &quot;    Packages: &quot; + ref.descriptor().packages());\r\n                System.out.println(&quot;    ClassLoader: &quot;\r\n                        + layer.findLoader(ref.descriptor().name()));\r\n                Optional&lt;URI&gt; location = ref.location();\r\n                if (location.isPresent()) {\r\n                    System.out.println(&quot;    Location: &quot; + location.get());\r\n                }\r\n                try (ModuleReader moduleReader = ref.open()) {\r\n                    Stream&lt;String&gt; stream = moduleReader.list();\r\n                    stream.forEach(s -&gt; System.out.println(&quot;      File: &quot; + s));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/classgraph/classgraph\r\n  [2]: https://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/classpath/ModuleFinder.java\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8210457","title":"Scanning classpath/modulepath in runtime in Java 9","body":"<p>The following code achieves module path scanning in Java 9+ (Jigsaw / JPMS). It finds all classes on the callstack, then for each class reference, calls <code>classRef.getModule().getLayer().getConfiguration().modules()</code>, which returns a a <code>List&lt;ResolvedModule&gt;</code>, rather than just a <code>List&lt;Module&gt;</code>. (<code>ResolvedModule</code> gives you access to the module resources, whereas <code>Module</code> does not.) Given a <code>ResolvedModule</code> reference for each module, you can call the <code>.reference()</code> method to get the <code>ModuleReference</code> for a module. <code>ModuleReference#open()</code> gives you a <code>ModuleReader</code>, which allows you to list the resources in a module, using <code>ModuleReader#list()</code>, or to open a resource using <code>Optional&lt;InputStream&gt; ModuleReader#open(resourcePath)</code> or <code>Optional&lt;ByteBuffer&gt; ModuleReader#read(resourcePath)</code>. You then close the <code>ModuleReader</code> when you're done with the module. This is not documented anywhere that I have seen. It was very difficult to figure all this out. But here is the code, in the hope that someone else will benefit from this.</p>\n\n<p>Note that even in JDK9+, you can still utilize traditional classpath elements along with module path elements, so for a complete module path + classpath scan, you should probably use a proper classpath scanning solution, such as <a href=\"https://github.com/classgraph/classgraph\" rel=\"noreferrer\">ClassGraph</a>, which supports module scanning using the below mechanism (disclaimer, I am the author). You can find a reflection-based version of the following code <a href=\"https://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/classpath/ModuleFinder.java\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Also note that there was a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8210457\" rel=\"noreferrer\">bug</a> in StackWalker in several JDK releases after JDK 9 that has to be worked around, see the above reflection-based code for details.</p>\n\n<pre><code>package main;\n\nimport java.lang.StackWalker;\nimport java.lang.StackWalker.Option;\nimport java.lang.StackWalker.StackFrame;\nimport java.lang.module.ModuleReader;\nimport java.lang.module.ModuleReference;\nimport java.lang.module.ResolvedModule;\nimport java.net.URI;\nimport java.security.AccessController;\nimport java.security.PrivilegedAction;\nimport java.util.AbstractMap.SimpleEntry;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Deque;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map.Entry;\nimport java.util.Optional;\nimport java.util.Set;\nimport java.util.stream.Stream;\n\npublic class Java9Scanner {\n\n    /** Recursively find the topological sort order of ancestral layers. */\n    private static void findLayerOrder(ModuleLayer layer,\n            Set&lt;ModuleLayer&gt; visited, Deque&lt;ModuleLayer&gt; layersOut) {\n        if (visited.add(layer)) {\n            List&lt;ModuleLayer&gt; parents = layer.parents();\n            for (int i = 0; i &lt; parents.size(); i++) {\n                findLayerOrder(parents.get(i), visited, layersOut);\n            }\n            layersOut.push(layer);\n        }\n    }\n\n    /** Get ModuleReferences from a Class reference. */\n    private static List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; findModuleRefs(\n            Class&lt;?&gt;[] callStack) {\n        Deque&lt;ModuleLayer&gt; layerOrder = new ArrayDeque&lt;&gt;();\n        Set&lt;ModuleLayer&gt; visited = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; callStack.length; i++) {\n            ModuleLayer layer = callStack[i].getModule().getLayer();\n            findLayerOrder(layer, visited, layerOrder);\n        }\n        Set&lt;ModuleReference&gt; addedModules = new HashSet&lt;&gt;();\n        List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; moduleRefs = new ArrayList&lt;&gt;();\n        for (ModuleLayer layer : layerOrder) {\n            Set&lt;ResolvedModule&gt; modulesInLayerSet = layer.configuration()\n                    .modules();\n            final List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; modulesInLayer =\n                    new ArrayList&lt;&gt;();\n            for (ResolvedModule module : modulesInLayerSet) {\n                modulesInLayer\n                        .add(new SimpleEntry&lt;&gt;(module.reference(), layer));\n            }\n            // Sort modules in layer by name for consistency\n            Collections.sort(modulesInLayer,\n                    (e1, e2) -&gt; e1.getKey().descriptor().name()\n                            .compareTo(e2.getKey().descriptor().name()));\n            // To be safe, dedup ModuleReferences, in case a module occurs in multiple\n            // layers and reuses its ModuleReference (no idea if this can happen)\n            for (Entry&lt;ModuleReference, ModuleLayer&gt; m : modulesInLayer) {\n                if (addedModules.add(m.getKey())) {\n                    moduleRefs.add(m);\n                }\n            }\n        }\n        return moduleRefs;\n    }\n\n    /** Get the classes in the call stack. */\n    private static Class&lt;?&gt;[] getCallStack() {\n        // Try StackWalker (JDK 9+)\n        PrivilegedAction&lt;Class&lt;?&gt;[]&gt; stackWalkerAction =\n                (PrivilegedAction&lt;Class&lt;?&gt;[]&gt;) () -&gt;\n                    StackWalker.getInstance(\n                            Option.RETAIN_CLASS_REFERENCE)\n                    .walk(s -&gt; s.map(\n                            StackFrame::getDeclaringClass)\n                            .toArray(Class[]::new));\n        try {\n            // Try with doPrivileged()\n            return AccessController\n                    .doPrivileged(stackWalkerAction);\n        } catch (Exception e) {\n        }\n        try {\n            // Try without doPrivileged()\n            return stackWalkerAction.run();\n        } catch (Exception e) {\n        }\n\n        // Try SecurityManager\n        PrivilegedAction&lt;Class&lt;?&gt;[]&gt; callerResolverAction = \n                (PrivilegedAction&lt;Class&lt;?&gt;[]&gt;) () -&gt;\n                    new SecurityManager() {\n                        @Override\n                        public Class&lt;?&gt;[] getClassContext() {\n                            return super.getClassContext();\n                        }\n                    }.getClassContext();\n        try {\n            // Try with doPrivileged()\n            return AccessController\n                    .doPrivileged(callerResolverAction);\n        } catch (Exception e) {\n        }\n        try {\n            // Try without doPrivileged()\n            return callerResolverAction.run();\n        } catch (Exception e) {\n        }\n\n        // As a fallback, use getStackTrace() to try to get the call stack\n        try {\n            throw new Exception();\n        } catch (final Exception e) {\n            final List&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;&gt;();\n            for (final StackTraceElement elt : e.getStackTrace()) {\n                try {\n                    classes.add(Class.forName(elt.getClassName()));\n                } catch (final Throwable e2) {\n                    // Ignore\n                }\n            }\n            if (classes.size() &gt; 0) {\n                return classes.toArray(new Class&lt;?&gt;[0]);\n            } else {\n                // Last-ditch effort -- include just this class\n                return new Class&lt;?&gt;[] { Java9Scanner.class };\n            }\n        }\n    }\n\n    /**\n     * Return true if the given module name is a system module.\n     * There can be system modules in layers above the boot layer.\n     */\n    private static boolean isSystemModule(\n            final ModuleReference moduleReference) {\n        String name = moduleReference.descriptor().name();\n        if (name == null) {\n            return false;\n        }\n        return name.startsWith(\"java.\") || name.startsWith(\"jdk.\")\n            || name.startsWith(\"javafx.\") || name.startsWith(\"oracle.\");\n    }\n\n    public static void main(String[] args) throws Exception {\n        // Get ModuleReferences for modules of all classes in call stack,\n        List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; systemModuleRefs = new ArrayList&lt;&gt;();\n        List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; nonSystemModuleRefs = new ArrayList&lt;&gt;();\n\n        Class&lt;?&gt;[] callStack = getCallStack();\n        List&lt;Entry&lt;ModuleReference, ModuleLayer&gt;&gt; moduleRefs = findModuleRefs(\n                callStack);\n        // Split module refs into system and non-system modules based on module name\n        for (Entry&lt;ModuleReference, ModuleLayer&gt; m : moduleRefs) {\n            (isSystemModule(m.getKey()) ? systemModuleRefs\n                    : nonSystemModuleRefs).add(m);\n        }\n\n        // List system modules\n        System.out.println(\"\\nSYSTEM MODULES:\\n\");\n        for (Entry&lt;ModuleReference, ModuleLayer&gt; e : systemModuleRefs) {\n            ModuleReference ref = e.getKey();\n            System.out.println(\"  \" + ref.descriptor().name());\n        }\n\n        // Show info for non-system modules\n        System.out.println(\"\\nNON-SYSTEM MODULES:\");\n        for (Entry&lt;ModuleReference, ModuleLayer&gt; e : nonSystemModuleRefs) {\n            ModuleReference ref = e.getKey();\n            ModuleLayer layer = e.getValue();\n            System.out.println(\"\\n  \" + ref.descriptor().name());\n            System.out.println(\n                    \"    Version: \" + ref.descriptor().toNameAndVersion());\n            System.out.println(\n                    \"    Packages: \" + ref.descriptor().packages());\n            System.out.println(\"    ClassLoader: \"\n                    + layer.findLoader(ref.descriptor().name()));\n            Optional&lt;URI&gt; location = ref.location();\n            if (location.isPresent()) {\n                System.out.println(\"    Location: \" + location.get());\n            }\n            try (ModuleReader moduleReader = ref.open()) {\n                Stream&lt;String&gt; stream = moduleReader.list();\n                stream.forEach(s -&gt; System.out.println(\"      File: \" + s));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512568505,"creation_date":1512560924,"answer_id":47673577,"question_id":41932635,"body_markdown":"The actual issue here is to find the paths to all jars and folders on the classpath. Once when you have them, you can scan.\r\n\r\nWhat I did is the following:\r\n\r\n+ get the current module descriptor for current class\r\n+ get all `requires` modules\r\n+ for each such module open resource of `MANIFEST.MF`\r\n+ remove the `MANIFEST.MF` path from the resource url\r\n+ what remains is the classpath of the module, i.e. to it&#39;s jar or folder.\r\n\r\nI do the same for current module, to get the classpath for current code.\r\n\r\nThis way I collect classpath of a currently working module and all its required modules (1 step away). That was working for me - and my Java8 scanner was still being able to do the job. This approach does not require any additional VM flag etc.\r\n\r\nI could extend this approach to get _all_ required modules easily (not only the first level), but for now, I don&#39;t need that.\r\n\r\n[Code](https://github.com/oblac/jodd/blob/master/jodd-core-9/src/main/java/jodd/core/JavaBridge.java).","title":"Scanning classpath/modulepath in runtime in Java 9","body":"<p>The actual issue here is to find the paths to all jars and folders on the classpath. Once when you have them, you can scan.</p>\n\n<p>What I did is the following:</p>\n\n<ul>\n<li>get the current module descriptor for current class</li>\n<li>get all <code>requires</code> modules</li>\n<li>for each such module open resource of <code>MANIFEST.MF</code></li>\n<li>remove the <code>MANIFEST.MF</code> path from the resource url</li>\n<li>what remains is the classpath of the module, i.e. to it's jar or folder.</li>\n</ul>\n\n<p>I do the same for current module, to get the classpath for current code.</p>\n\n<p>This way I collect classpath of a currently working module and all its required modules (1 step away). That was working for me - and my Java8 scanner was still being able to do the job. This approach does not require any additional VM flag etc.</p>\n\n<p>I could extend this approach to get <em>all</em> required modules easily (not only the first level), but for now, I don't need that.</p>\n\n<p><a href=\"https://github.com/oblac/jodd/blob/master/jodd-core-9/src/main/java/jodd/core/JavaBridge.java\" rel=\"nofollow noreferrer\">Code</a>.</p>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11463,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":45612376,"answer_count":2,"score":25,"last_activity_date":1658318065,"creation_date":1485768979,"question_id":41932635,"body_markdown":"I can&#39;t seem to find any info on whether scanning all available classes (for interfaces, annotations etc) is still possible in runtime, the way Spring, Reflections and many other frameworks and libraries currently do, in the face of Jigsaw related changes to the way classes are loaded.\r\n\r\n***EDIT***: \r\nThis question is about *scanning* the real physical file paths looking for classes. [The other question][1] is about dynamically *loading* classes and resources. It&#39;s related but very much **not a duplicate**.\r\n\r\n***UPDATE***: Jetty project has made a [JEP proposal](https://github.com/jetty-project/annotation-discovery) for a standardized API for this. If you have a way to help make this reality, please do. Otherwise, wait and hope.\r\n\r\n***UPDATE 2***: Found [this][2] relevant sounding post. Quoting the code snippet for posterity:\r\n\r\n&gt; If you are really just looking to get at the contents of the modules in\r\n&gt; the boot layer (the modules that are resolved at startup) then you&#39;ll do\r\n&gt; something like this:\r\n\r\n      ModuleLayer.boot().configuration().modules().stream()\r\n             .map(ResolvedModule::reference)\r\n             .forEach(mref -&gt; {\r\n                 System.out.println(mref.descriptor().name());\r\n                 try (ModuleReader reader = mref.open()) {\r\n                     reader.list().forEach(System.out::println);\r\n                } catch (IOException ioe) {\r\n                     throw new UncheckedIOException(ioe);\r\n                 }\r\n             });\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45166757/loading-classes-and-resources-in-java-9\r\n  [2]: http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-September/013182.html","title":"Scanning classpath/modulepath in runtime in Java 9","body":"<p>I can't seem to find any info on whether scanning all available classes (for interfaces, annotations etc) is still possible in runtime, the way Spring, Reflections and many other frameworks and libraries currently do, in the face of Jigsaw related changes to the way classes are loaded.</p>\n\n<p><strong><em>EDIT</em></strong>: \nThis question is about <em>scanning</em> the real physical file paths looking for classes. <a href=\"https://stackoverflow.com/questions/45166757/loading-classes-and-resources-in-java-9\">The other question</a> is about dynamically <em>loading</em> classes and resources. It's related but very much <strong>not a duplicate</strong>.</p>\n\n<p><strong><em>UPDATE</em></strong>: Jetty project has made a <a href=\"https://github.com/jetty-project/annotation-discovery\" rel=\"noreferrer\">JEP proposal</a> for a standardized API for this. If you have a way to help make this reality, please do. Otherwise, wait and hope.</p>\n\n<p><strong><em>UPDATE 2</em></strong>: Found <a href=\"http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-September/013182.html\" rel=\"noreferrer\">this</a> relevant sounding post. Quoting the code snippet for posterity:</p>\n\n<blockquote>\n  <p>If you are really just looking to get at the contents of the modules in\n  the boot layer (the modules that are resolved at startup) then you'll do\n  something like this:</p>\n</blockquote>\n\n<pre><code>  ModuleLayer.boot().configuration().modules().stream()\n         .map(ResolvedModule::reference)\n         .forEach(mref -&gt; {\n             System.out.println(mref.descriptor().name());\n             try (ModuleReader reader = mref.open()) {\n                 reader.list().forEach(System.out::println);\n            } catch (IOException ioe) {\n                 throw new UncheckedIOException(ioe);\n             }\n         });\n</code></pre>\n"},{"tags":["java","android","exception","permissions","android-12"],"answers":[{"tags":[],"owner":{"account_id":12468387,"reputation":52,"user_id":9077433,"display_name":"Enciyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658317746,"creation_date":1658317746,"answer_id":73051108,"question_id":73050925,"body_markdown":"Defining the permissions in the Android Manifest is not enough. \r\nYou need to request runtime permission. \r\n\r\nCheck: https://developer.android.com/training/permissions/requesting","title":"Application Crash on Android 12","body":"<p>Defining the permissions in the Android Manifest is not enough.\nYou need to request runtime permission.</p>\n<p>Check: <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting</a></p>\n"},{"tags":[],"owner":{"account_id":16111401,"reputation":51,"user_id":11629534,"display_name":"Rigo Regalado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658317918,"creation_date":1658317918,"answer_id":73051152,"question_id":73050925,"body_markdown":"Not all permission is granted just because it is declared inside the `AndroidManifest`. \r\n\r\nMake sure the app requests for `BLUETOOTH_CONNECT` permission as it is a runtime permission, follow [this comprehensive guidline for requesting `Bluetooth`](https://developer.android.com/guide/topics/connectivity/bluetooth/permissions)","title":"Application Crash on Android 12","body":"<p>Not all permission is granted just because it is declared inside the <code>AndroidManifest</code>.</p>\n<p>Make sure the app requests for <code>BLUETOOTH_CONNECT</code> permission as it is a runtime permission, follow <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">this comprehensive guidline for requesting <code>Bluetooth</code></a></p>\n"}],"owner":{"account_id":8959047,"reputation":15,"user_id":6682386,"display_name":"Rohit Barge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73051152,"answer_count":2,"score":0,"last_activity_date":1658317918,"creation_date":1658316980,"question_id":73050925,"body_markdown":"*Gredle file*\r\n\r\n    compileSdkVersion 32\r\n    defaultConfig {\r\n        applicationId &quot;com&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 165\r\n        versionName &quot;7.0.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        buildTypes {\r\n            debug {\r\n                versionNameSuffix &quot;.debug&quot;\r\n                debuggable true\r\n                applicationIdSuffix &quot;.xxxx&quot;\r\n            }\r\n            release {\r\n                applicationIdSuffix &quot;.xxxx&quot;\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    }\r\n\r\n*Manifest File*\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.XXXXX.XXXXX&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.google.android.apps.fitness&quot; /&gt;\r\n    &lt;/queries&gt;\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.bluetooth_le&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.app.ApplicationClass&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:configChanges=&quot;orientation|screenSize|layoutDirection&quot;\r\n        android:icon=&quot;@mipmap/ic_smartscale_icon&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;&gt;\r\n\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.clevertap.android.sdk.pushnotification.fcm.FcmMessageListenerService&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n        &lt;activity\r\n            android:name=&quot;.app.BaseActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;nav-graph android:value=&quot;@navigation/nav_app&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n\r\n            android:name=&quot;.share.ShareActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;landscape&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.actofit.share.smartscale&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.clevertap.android.sdk.InAppNotificationActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;CLEVERTAP_ACCOUNT_ID&quot;\r\n            android:value=&quot;8R7-549-KR5Z&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;CLEVERTAP_TOKEN&quot;\r\n            android:value=&quot;c45-a2b&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;CLEVERTAP_USE_GOOGLE_AD_ID&quot;\r\n            android:value=&quot;1&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;FCM_SENDER_ID&quot;\r\n            android:value=&quot;948450444651&quot; /&gt;\r\n\r\n        &lt;!--    &lt;service--&gt;\r\n        &lt;!--        android:name=&quot;com.qingniu.qnble.scanner.BleScanService&quot;--&gt;\r\n        &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\r\n        &lt;!--    &lt;service--&gt;\r\n        &lt;!--        android:name=&quot;com.qingniu.scale.measure.ble.ScaleBleService&quot;--&gt;\r\n        &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\r\n        &lt;!--    &lt;service--&gt;\r\n        &lt;!--        android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleBroadcastService&quot;--&gt;\r\n        &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.qingniu.qnble.scanner.BleScanService&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;com.qingniu.scale.measure.ble.ScaleBleService&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleBroadcastService&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;com.qingniu.scale.wsp.ble.ScaleWspBleService&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleFoodBroadcastService&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.biosense.BLeService&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;.util.fcm.FcmMessageListenerService&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.util.bluetooth.BluetoothBroadcastReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.bot.activity.ChatBotActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.payment.MakePaymentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n        &lt;!--        &lt;provider--&gt;\r\n        &lt;!--            android:name=&quot;androidx.core.content.FileProvider&quot;--&gt;\r\n        &lt;!--            android:authorities=&quot;com&quot;--&gt;\r\n        &lt;!--            android:exported=&quot;false&quot;--&gt;\r\n        &lt;!--            android:grantUriPermissions=&quot;true&quot;&gt;--&gt;\r\n        &lt;!--            &lt;meta-data--&gt;\r\n        &lt;!--                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;--&gt;\r\n        &lt;!--                android:resource=&quot;@xml/file_paths&quot; /&gt;--&gt;\r\n        &lt;!--        &lt;/provider&gt;--&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.share_report.ShareReportActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.dite.ActivitySearchFood&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.dite.ActivityFoodInfo&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.custom_webview.customCrome.WebviewActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.kitchin_scale.KitchinScaleTakeReadingActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.offline_support.QuestionActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.settings.GoalActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.home.LogActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.workout.OnBoardingActivity&quot;\r\n            android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.workout.GuidedWorkoutActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.actofit.smartscale.workout.RatingActivity&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;CLEVERTAP_BACKGROUND_SYNC&quot;\r\n            android:value=&quot;1&quot; /&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.util.fcm.NotificationBroadcastReceiver&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.REGISTRATION&quot; /&gt;\r\n                &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n*Exception*\r\n\r\n&gt; Fatal Exception: java.lang.SecurityException\r\nPermission Denial: starting Intent { act=android.bluetooth.adapter.action.REQUEST_ENABLE cmp=com.android.settings/.bluetooth.RequestPermissionActivity } from ProcessRecord{b25524d 23206:com.actofitSmartScale/u0a409} (pid=23206, uid=10409) requires android.permission.BLUETOOTH_CONNECT\r\n\r\n","title":"Application Crash on Android 12","body":"<p><em>Gredle file</em></p>\n<pre><code>compileSdkVersion 32\ndefaultConfig {\n    applicationId &quot;com&quot;\n    minSdkVersion 21\n    targetSdkVersion 30\n    versionCode 165\n    versionName &quot;7.0.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n    buildTypes {\n        debug {\n            versionNameSuffix &quot;.debug&quot;\n            debuggable true\n            applicationIdSuffix &quot;.xxxx&quot;\n        }\n        release {\n            applicationIdSuffix &quot;.xxxx&quot;\n            signingConfig signingConfigs.release\n        }\n    }\n}\n</code></pre>\n<p><em>Manifest File</em></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.XXXXX.XXXXX&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n&lt;queries&gt;\n    &lt;package android:name=&quot;com.google.android.apps.fitness&quot; /&gt;\n&lt;/queries&gt;\n&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.bluetooth_le&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;application\n    android:name=&quot;.app.ApplicationClass&quot;\n    android:allowBackup=&quot;false&quot;\n    android:configChanges=&quot;orientation|screenSize|layoutDirection&quot;\n    android:icon=&quot;@mipmap/ic_smartscale_icon&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:largeHeap=&quot;true&quot;\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    tools:replace=&quot;android:allowBackup&quot;&gt;\n\n\n    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n\n    &lt;service\n        android:name=&quot;com.clevertap.android.sdk.pushnotification.fcm.FcmMessageListenerService&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n\n    &lt;activity\n        android:name=&quot;.app.BaseActivity&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;nav-graph android:value=&quot;@navigation/nav_app&quot; /&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n\n        android:name=&quot;.share.ShareActivity&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;landscape&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.actofit.share.smartscale&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;com.clevertap.android.sdk.InAppNotificationActivity&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot; /&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.gms.version&quot;\n        android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;CLEVERTAP_ACCOUNT_ID&quot;\n        android:value=&quot;8R7-549-KR5Z&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;CLEVERTAP_TOKEN&quot;\n        android:value=&quot;c45-a2b&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;CLEVERTAP_USE_GOOGLE_AD_ID&quot;\n        android:value=&quot;1&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;FCM_SENDER_ID&quot;\n        android:value=&quot;948450444651&quot; /&gt;\n\n    &lt;!--    &lt;service--&gt;\n    &lt;!--        android:name=&quot;com.qingniu.qnble.scanner.BleScanService&quot;--&gt;\n    &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\n    &lt;!--    &lt;service--&gt;\n    &lt;!--        android:name=&quot;com.qingniu.scale.measure.ble.ScaleBleService&quot;--&gt;\n    &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\n    &lt;!--    &lt;service--&gt;\n    &lt;!--        android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleBroadcastService&quot;--&gt;\n    &lt;!--        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;--&gt;\n\n    &lt;service\n        android:name=&quot;com.qingniu.qnble.scanner.BleScanService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n    &lt;service\n        android:name=&quot;com.qingniu.scale.measure.ble.ScaleBleService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n    &lt;service\n        android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleBroadcastService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n    &lt;service\n        android:name=&quot;com.qingniu.scale.wsp.ble.ScaleWspBleService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n    &lt;service\n        android:name=&quot;com.qingniu.scale.measure.broadcast.ScaleFoodBroadcastService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n\n    &lt;service\n        android:name=&quot;.biosense.BLeService&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;service\n        android:name=&quot;.util.fcm.FcmMessageListenerService&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;receiver\n        android:name=&quot;.util.bluetooth.BluetoothBroadcastReceiver&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.bot.activity.ChatBotActivity&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.payment.MakePaymentActivity&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n\n    &lt;!--        &lt;provider--&gt;\n    &lt;!--            android:name=&quot;androidx.core.content.FileProvider&quot;--&gt;\n    &lt;!--            android:authorities=&quot;com&quot;--&gt;\n    &lt;!--            android:exported=&quot;false&quot;--&gt;\n    &lt;!--            android:grantUriPermissions=&quot;true&quot;&gt;--&gt;\n    &lt;!--            &lt;meta-data--&gt;\n    &lt;!--                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;--&gt;\n    &lt;!--                android:resource=&quot;@xml/file_paths&quot; /&gt;--&gt;\n    &lt;!--        &lt;/provider&gt;--&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.share_report.ShareReportActivity&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.dite.ActivitySearchFood&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.dite.ActivityFoodInfo&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.custom_webview.customCrome.WebviewActivity&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;.kitchin_scale.KitchinScaleTakeReadingActivity&quot;\n        android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.offline_support.QuestionActivity&quot;\n        android:exported=&quot;true&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.settings.GoalActivity&quot;\n        android:exported=&quot;true&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.home.LogActivity&quot;\n        android:exported=&quot;true&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.workout.OnBoardingActivity&quot;\n        android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.workout.GuidedWorkoutActivity&quot;\n        android:exported=&quot;true&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;com.actofit.smartscale.workout.RatingActivity&quot;\n        android:exported=&quot;true&quot; /&gt;\n\n\n    &lt;meta-data\n        android:name=&quot;CLEVERTAP_BACKGROUND_SYNC&quot;\n        android:value=&quot;1&quot; /&gt;\n    &lt;receiver\n        android:name=&quot;.util.fcm.NotificationBroadcastReceiver&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\n            &lt;action android:name=&quot;com.google.android.c2dm.intent.REGISTRATION&quot; /&gt;\n            &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p><em>Exception</em></p>\n<blockquote>\n<p>Fatal Exception: java.lang.SecurityException\nPermission Denial: starting Intent { act=android.bluetooth.adapter.action.REQUEST_ENABLE cmp=com.android.settings/.bluetooth.RequestPermissionActivity } from ProcessRecord{b25524d 23206:com.actofitSmartScale/u0a409} (pid=23206, uid=10409) requires android.permission.BLUETOOTH_CONNECT</p>\n</blockquote>\n"},{"tags":["java","spring","kotlin","config"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1658317794,"post_id":73051067,"comment_id":129020650,"body_markdown":"ideally: integrate it with something like https://spring.io/projects/spring-cloud-config","body":"ideally: integrate it with something like <a href=\"https://spring.io/projects/spring-cloud-config\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-config</a>"}],"answers":[{"tags":[],"owner":{"account_id":25852967,"reputation":24,"user_id":19586694,"display_name":"overstacked"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658317768,"creation_date":1658317768,"answer_id":73051113,"question_id":73051067,"body_markdown":"There is a method refresh() in ConfigurableEnvironment class:\r\n```\r\n@Autowired\r\nprivate ConfigurableEnvironment env;\r\n\r\npublic void refresh() {\r\n    env.getPropertySources().get(&quot;customProperties&quot;).getSource().refresh();\r\n}\r\n```","title":"how i can reread my config file in runtime spring?","body":"<p>There is a method refresh() in ConfigurableEnvironment class:</p>\n<pre><code>@Autowired\nprivate ConfigurableEnvironment env;\n\npublic void refresh() {\n    env.getPropertySources().get(&quot;customProperties&quot;).getSource().refresh();\n}\n</code></pre>\n"}],"owner":{"account_id":25797273,"reputation":1,"user_id":19540242,"display_name":"Juzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658317768,"creation_date":1658317616,"question_id":73051067,"body_markdown":"The configuration file (application.yml) lies on the server, but there was a difficulty in the fact that after any change, you need to restart the docker. How can I reread it while the server is running?","title":"how i can reread my config file in runtime spring?","body":"<p>The configuration file (application.yml) lies on the server, but there was a difficulty in the fact that after any change, you need to restart the docker. How can I reread it while the server is running?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":15310674,"reputation":1297,"user_id":11046080,"display_name":"Syed Mehtab Hassan"},"score":0,"creation_date":1558084477,"post_id":56183164,"comment_id":98991997,"body_markdown":"are you using any ide?","body":"are you using any ide?"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":1,"creation_date":1558084508,"post_id":56183164,"comment_id":98992011,"body_markdown":"Just delete the 3.8.1 subdirectory content in your local repository and update.","body":"Just delete the 3.8.1 subdirectory content in your local repository and update."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1558085464,"post_id":56183164,"comment_id":98992546,"body_markdown":"Do as @sascha suggested furthermore check your logging output cause I suppose you have transfer issues ...you should activate the checksum policy to prevent issues like this https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/","body":"Do as @sascha suggested furthermore check your logging output cause I suppose you have transfer issues ...you should activate the checksum policy to prevent issues like this <a href=\"https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/\" rel=\"nofollow noreferrer\">blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what</a>"},{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":0,"creation_date":1558097901,"post_id":56183164,"comment_id":98998914,"body_markdown":"Just deleting the 3.8.1. subdirectory solved the problem","body":"Just deleting the 3.8.1. subdirectory solved the problem"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1558124338,"post_id":56183164,"comment_id":99010775,"body_markdown":"But the root cause is something different. Usually a transfer issue...","body":"But the root cause is something different. Usually a transfer issue..."},{"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"score":0,"creation_date":1596032088,"post_id":56183164,"comment_id":111679986,"body_markdown":"The path looks like `c:\\...\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-compiler-plugin\\`","body":"The path looks like `c:\\...\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-compil&zwnj;&#8203;er-plugin`"}],"answers":[{"tags":[],"owner":{"account_id":18452826,"reputation":569,"user_id":13442461,"display_name":"redCuckoo"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1600164565,"creation_date":1600164565,"answer_id":63899622,"question_id":56183164,"body_markdown":"What helped me is surrounding plugins with the following tags:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;/plugin&gt;    \r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;","title":"maven-compiler-plugin:jar:3.8.1 is missing","body":"<p>What helped me is surrounding plugins with the following tags:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;    \n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23099750,"reputation":1,"user_id":17209318,"display_name":"Dmitry"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658317758,"creation_date":1657978535,"answer_id":73004648,"question_id":56183164,"body_markdown":"I had exactly the same problem. I noticed that in the topicstarter`s code a \r\n```\r\n&lt;groupId&gt;\r\n``` \r\nis missing. \r\nThat is, there is no &quot;G&quot; in the triple coordinate &quot;G-A-V&quot;.\r\n\r\nI added a single line from the redCuckoo code:\r\n```\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n```\r\nAnd that was the solution in my case.","title":"maven-compiler-plugin:jar:3.8.1 is missing","body":"<p>I had exactly the same problem. I noticed that in the topicstarter`s code a</p>\n<pre><code>&lt;groupId&gt;\n</code></pre>\n<p>is missing.\nThat is, there is no &quot;G&quot; in the triple coordinate &quot;G-A-V&quot;.</p>\n<p>I added a single line from the redCuckoo code:</p>\n<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n</code></pre>\n<p>And that was the solution in my case.</p>\n"}],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14281,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":63899622,"answer_count":2,"score":11,"last_activity_date":1658317758,"creation_date":1558084174,"question_id":56183164,"body_markdown":"Trying to use 3.8.1 instead of 3.8.0 but get the message:\r\n\r\n[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 is missing, no dependency information available.\r\n\r\nMy pom.xml works fine with 3.8.0. Except for a specific problem. I am long awaiting 3.8.1. According to Maven Central it seems to be available. But simply changing 3.8.0 to 3.8.1 in my pom.xml led to the warning and the failure message: \r\n\r\nPlugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 in https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nWhat do I have misunderstood, seeing 3.8.1 in Maven Central but cannot use it in my pom.xml?","title":"maven-compiler-plugin:jar:3.8.1 is missing","body":"<p>Trying to use 3.8.1 instead of 3.8.0 but get the message:</p>\n\n<p>[WARNING] The POM for org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 is missing, no dependency information available.</p>\n\n<p>My pom.xml works fine with 3.8.0. Except for a specific problem. I am long awaiting 3.8.1. According to Maven Central it seems to be available. But simply changing 3.8.0 to 3.8.1 in my pom.xml led to the warning and the failure message: </p>\n\n<p>Plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.1 or one of its dependencies could not be resolved: Failure to find org.apache.maven.plugins:maven-compiler-plugin:jar:3.8.1 in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -> [Help 1]</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;debug&gt;true&lt;/debug&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>What do I have misunderstood, seeing 3.8.1 in Maven Central but cannot use it in my pom.xml?</p>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1590252541,"creation_date":1590252541,"answer_id":61975459,"question_id":61975458,"body_markdown":"The [`setValues` method of `ValueRange`](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#setValues-java.util.List-) takes a nested `List` of `Object` as argument, but that doesn&#39;t mean you can put all kinds of objects in that list. According to the documentation,\r\n\r\n&gt; For input, supported value types are: bool, string, and double.\r\n\r\nFrom personal experience, Integers and BigDecimals work as well, but for dates you need to convert them to [the number of days since December 30th, 1899](https://developers.google.com/sheets/api/guides/concepts?nav=true#datetime_serial_numbers) and apply a date format as described e.g. [here](https://stackoverflow.com/q/37986171/4751173), or (if you don&#39;t care it&#39;s not stored as a day) as a String via e.g. SimpleDateFormat.","title":"Google Sheets API returns &quot;Invalid values[3][1]: struct_value {\\n}\\n&quot; error","body":"<p>The <a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/com/google/api/services/sheets/v4/model/ValueRange.html#setValues-java.util.List-\" rel=\"noreferrer\"><code>setValues</code> method of <code>ValueRange</code></a> takes a nested <code>List</code> of <code>Object</code> as argument, but that doesn't mean you can put all kinds of objects in that list. According to the documentation,</p>\n\n<blockquote>\n  <p>For input, supported value types are: bool, string, and double.</p>\n</blockquote>\n\n<p>From personal experience, Integers and BigDecimals work as well, but for dates you need to convert them to <a href=\"https://developers.google.com/sheets/api/guides/concepts?nav=true#datetime_serial_numbers\" rel=\"noreferrer\">the number of days since December 30th, 1899</a> and apply a date format as described e.g. <a href=\"https://stackoverflow.com/q/37986171/4751173\">here</a>, or (if you don't care it's not stored as a day) as a String via e.g. SimpleDateFormat.</p>\n"},{"tags":[],"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658317583,"creation_date":1658317583,"answer_id":73051062,"question_id":61975458,"body_markdown":"The Google Sheets API has its own way of interpreting and accepting values.\r\nThe other answers already presented some materials and links for your to learn more.\r\n\r\nMy answer is for someone who does not want to know more, and wants the value written in the sheet right now as a string.\r\n\r\nThis is a simple workaround.\r\n\r\nQuestion code:\r\n\r\n    List&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\r\n    content.add(Arrays.asList(&quot;Client&quot;, &quot;John Doe&quot;));\r\n    content.add(Arrays.asList(&quot;Date&quot;, new Date()));      // problem is here\r\n    service.values().update(spreadsheetID, &quot;Sheet1!C3:D4&quot;,\r\n        new ValueRange().setValues(content)).setValueInputOption(&quot;RAW&quot;).execute();\r\n\r\nThe sheets API will not accept a Date Object.\r\nIf you only want &quot;yyyy-MM-dd&quot; format try this:\r\n\r\n    List&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\r\n    content.add(Arrays.asList(&quot;Client&quot;, &quot;John Doe&quot;));\r\n    content.add(Arrays.asList(&quot;Date&quot;, LocalDate.now().toString));\r\n    service.values().update(spreadsheetID, &quot;Sheet1!C3:D4&quot;,\r\n        new ValueRange().setValues(content)).setValueInputOption(&quot;RAW&quot;).execute();\r\n\r\nThe &quot;RAW&quot; parameter can be &quot;USER_ENTERED&quot; now, if you wish.\r\n\r\nThis is the kind of result you will get:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSQWV.png","title":"Google Sheets API returns &quot;Invalid values[3][1]: struct_value {\\n}\\n&quot; error","body":"<p>The Google Sheets API has its own way of interpreting and accepting values.\nThe other answers already presented some materials and links for your to learn more.</p>\n<p>My answer is for someone who does not want to know more, and wants the value written in the sheet right now as a string.</p>\n<p>This is a simple workaround.</p>\n<p>Question code:</p>\n<pre><code>List&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\ncontent.add(Arrays.asList(&quot;Client&quot;, &quot;John Doe&quot;));\ncontent.add(Arrays.asList(&quot;Date&quot;, new Date()));      // problem is here\nservice.values().update(spreadsheetID, &quot;Sheet1!C3:D4&quot;,\n    new ValueRange().setValues(content)).setValueInputOption(&quot;RAW&quot;).execute();\n</code></pre>\n<p>The sheets API will not accept a Date Object.\nIf you only want &quot;yyyy-MM-dd&quot; format try this:</p>\n<pre><code>List&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\ncontent.add(Arrays.asList(&quot;Client&quot;, &quot;John Doe&quot;));\ncontent.add(Arrays.asList(&quot;Date&quot;, LocalDate.now().toString));\nservice.values().update(spreadsheetID, &quot;Sheet1!C3:D4&quot;,\n    new ValueRange().setValues(content)).setValueInputOption(&quot;RAW&quot;).execute();\n</code></pre>\n<p>The &quot;RAW&quot; parameter can be &quot;USER_ENTERED&quot; now, if you wish.</p>\n<p>This is the kind of result you will get:</p>\n<p><a href=\"https://i.stack.imgur.com/pSQWV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSQWV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4677,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":61975459,"answer_count":2,"score":4,"last_activity_date":1658317583,"creation_date":1590252541,"question_id":61975458,"body_markdown":"I&#39;m using the [Google Sheets API v4 for Java](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/overview-summary.html) to fill a spreadsheet with some values:\r\n\r\n```\r\nString spreadsheetID = ...;\r\nSpreadsheets service = new Sheets.Builder(GoogleNetHttpTransport.newTrustedTransport(),\r\n    JacksonFactory.getDefaultInstance(), credential).setApplicationName(&quot;Test&quot;).build().spreadsheets();\r\n\r\nList&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\r\ncontent.add(Arrays.asList(&quot;Client&quot;, &quot;John Doe&quot;));\r\ncontent.add(Arrays.asList(&quot;Date&quot;, new Date()));\r\nservice.values().update(spreadsheetID, &quot;Sheet1!C3:D4&quot;,\r\n    new ValueRange().setValues(content)).setValueInputOption(&quot;RAW&quot;).execute();\r\n```\r\n\r\nbut I get the following error when calling `execute()`:\r\n\r\n```none\r\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n{\r\n  &quot;code&quot; : 400,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;message&quot; : &quot;Invalid values[3][1]: struct_value {\\n}\\n&quot;,\r\n    &quot;reason&quot; : &quot;badRequest&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;Invalid values[3][1]: struct_value {\\n}\\n&quot;,\r\n  &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n}\r\n\tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1065)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n```\r\n\r\nHow can I solve this?","title":"Google Sheets API returns &quot;Invalid values[3][1]: struct_value {\\n}\\n&quot; error","body":"<p>I'm using the <a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/overview-summary.html\" rel=\"nofollow noreferrer\">Google Sheets API v4 for Java</a> to fill a spreadsheet with some values:</p>\n\n<pre><code>String spreadsheetID = ...;\nSpreadsheets service = new Sheets.Builder(GoogleNetHttpTransport.newTrustedTransport(),\n    JacksonFactory.getDefaultInstance(), credential).setApplicationName(\"Test\").build().spreadsheets();\n\nList&lt;List&lt;Object&gt;&gt; content = new ArrayList&lt;&gt;();\ncontent.add(Arrays.asList(\"Client\", \"John Doe\"));\ncontent.add(Arrays.asList(\"Date\", new Date()));\nservice.values().update(spreadsheetID, \"Sheet1!C3:D4\",\n    new ValueRange().setValues(content)).setValueInputOption(\"RAW\").execute();\n</code></pre>\n\n<p>but I get the following error when calling <code>execute()</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Invalid values[3][1]: struct_value {\\n}\\n\",\n    \"reason\" : \"badRequest\"\n  } ],\n  \"message\" : \"Invalid values[3][1]: struct_value {\\n}\\n\",\n  \"status\" : \"INVALID_ARGUMENT\"\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1065)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n</code></pre>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","android","android-studio","counter"],"comments":[{"owner":{"account_id":934732,"reputation":1029,"user_id":963879,"accept_rate":50,"display_name":"Leon Joosse"},"score":0,"creation_date":1439467830,"post_id":31987719,"comment_id":51880148,"body_markdown":"Just for clarification, why would you like to know this? I can&#39;t think of a use case...","body":"Just for clarification, why would you like to know this? I can&#39;t think of a use case..."},{"owner":{"account_id":3715176,"reputation":1196,"user_id":3091574,"display_name":"ashishmaurya"},"score":0,"creation_date":1439469145,"post_id":31987719,"comment_id":51881037,"body_markdown":"why not create static field ??","body":"why not create static field ??"},{"owner":{"account_id":6784002,"reputation":470,"user_id":5223376,"accept_rate":100,"display_name":"M.J.Watson"},"score":0,"creation_date":1439469530,"post_id":31987719,"comment_id":51881306,"body_markdown":"it is a homework, and in the instructions it is written that  don&#39;t use static.","body":"it is a homework, and in the instructions it is written that  don&#39;t use static."},{"owner":{"account_id":1921661,"reputation":1485,"user_id":1733038,"accept_rate":78,"display_name":"Yepher"},"score":0,"creation_date":1439470071,"post_id":31987719,"comment_id":51881709,"body_markdown":"If you want to do it without any counters and with those log messages you could create a LogRabbit filter that would do that very easily. Just create a filter for &quot;Entered the onPause() method&quot; and when you select that filter you will see exactly how many times that log message appears. This is an example of doing it for JSON: https://www.youtube.com/watch?v=HeildKynnuc I will create a demo of your use case and post it later. This all assumes you are using a Mac. http://lograbbit.com","body":"If you want to do it without any counters and with those log messages you could create a LogRabbit filter that would do that very easily. Just create a filter for &quot;Entered the onPause() method&quot; and when you select that filter you will see exactly how many times that log message appears. This is an example of doing it for JSON: <a href=\"https://www.youtube.com/watch?v=HeildKynnuc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=HeildKynnuc</a> I will create a demo of your use case and post it later. This all assumes you are using a Mac. <a href=\"http://lograbbit.com\" rel=\"nofollow noreferrer\">lograbbit.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":1621714,"reputation":2198,"user_id":4312946,"accept_rate":36,"display_name":"N Kaushik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439467851,"creation_date":1439467851,"answer_id":31987872,"question_id":31987719,"body_markdown":"You have created the counters as local variables.\r\n\r\n    public Integer mCreate = 0;\r\n    public Integer mRestart = 0;\r\n    public Integer mStart = 0;\r\n    public Integer mResume = 0;\r\n\r\nSo, after Activity2 is destroyed, i.e. after onStop() is called, these variables are also removed. \r\n\r\nSolution : Create one new class and create static counter variables inside this.","title":"ActivityTwo.java did not count","body":"<p>You have created the counters as local variables.</p>\n\n<pre><code>public Integer mCreate = 0;\npublic Integer mRestart = 0;\npublic Integer mStart = 0;\npublic Integer mResume = 0;\n</code></pre>\n\n<p>So, after Activity2 is destroyed, i.e. after onStop() is called, these variables are also removed. </p>\n\n<p>Solution : Create one new class and create static counter variables inside this.</p>\n"},{"tags":[],"owner":{"account_id":6774202,"reputation":2707,"user_id":5216567,"display_name":"dieter_h"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439471214,"creation_date":1439467998,"answer_id":31987927,"question_id":31987719,"body_markdown":"1) Activity1 state is saved on stack -&gt; when you call Activity2.\r\n\r\n2) When click back Activity2 state is saved and then destroyed (removed from stack).\r\n\r\n3) Activity1 read saved state from stack.\r\n\r\n\r\nTry this [Activity 1]:\r\n\r\n     launchActivityTwoButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                        Intent StartIntent = new Intent(getApplicationContext(), ActivityTwo.class);\r\n        StartIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n        startActivity(StartIntent);\r\n                }\r\n            });\r\n\r\n\r\n\r\n[Activity 2]:\r\n\r\n     closeButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   Intent intent= new Intent(getApplicationContext(), ActivityOne.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n    startActivity(intent);\r\n                }\r\n            });\r\n","title":"ActivityTwo.java did not count","body":"<p>1) Activity1 state is saved on stack -> when you call Activity2.</p>\n\n<p>2) When click back Activity2 state is saved and then destroyed (removed from stack).</p>\n\n<p>3) Activity1 read saved state from stack.</p>\n\n<p>Try this [Activity 1]:</p>\n\n<pre><code> launchActivityTwoButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                    Intent StartIntent = new Intent(getApplicationContext(), ActivityTwo.class);\n    StartIntent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n    startActivity(StartIntent);\n            }\n        });\n</code></pre>\n\n<p>[Activity 2]:</p>\n\n<pre><code> closeButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               Intent intent= new Intent(getApplicationContext(), ActivityOne.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\nstartActivity(intent);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439468701,"creation_date":1439468701,"answer_id":31988189,"question_id":31987719,"body_markdown":"            super.onRestoreInstanceState(savedInstanceState);\r\n\r\nYou should not call this method in `onCreate()`.\r\n\r\nYou should also use `ActivityOne.this` instead of `getApplicationContext()` for your `Intent` that starts `ActivityTwo`.","title":"ActivityTwo.java did not count","body":"<pre><code>        super.onRestoreInstanceState(savedInstanceState);\n</code></pre>\n\n<p>You should not call this method in <code>onCreate()</code>.</p>\n\n<p>You should also use <code>ActivityOne.this</code> instead of <code>getApplicationContext()</code> for your <code>Intent</code> that starts <code>ActivityTwo</code>.</p>\n"},{"tags":[],"owner":{"account_id":25795728,"reputation":1,"user_id":19538942,"display_name":"June Nu&#241;ez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658317486,"creation_date":1658317486,"answer_id":73051038,"question_id":31987719,"body_markdown":"    from both activity\r\n    replace this code from &quot;if (savedInstanceState != null)&quot; mCreate++ replace it with mCreate += 1; and remove the &quot;displaycount()&quot;\r\n    \r\n    for start..restart..resume\r\n    mStart +=1;\r\n    mRestart +=1;\r\n    mResume +=1\r\n    and remove the value from public integer mCreate to mResume remove this &quot;0&quot;","title":"ActivityTwo.java did not count","body":"<pre><code>from both activity\nreplace this code from &quot;if (savedInstanceState != null)&quot; mCreate++ replace it with mCreate += 1; and remove the &quot;displaycount()&quot;\n\nfor start..restart..resume\nmStart +=1;\nmRestart +=1;\nmResume +=1\nand remove the value from public integer mCreate to mResume remove this &quot;0&quot;\n</code></pre>\n"}],"owner":{"account_id":6784002,"reputation":470,"user_id":5223376,"accept_rate":100,"display_name":"M.J.Watson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31987927,"answer_count":4,"score":4,"last_activity_date":1658317486,"creation_date":1439467443,"question_id":31987719,"body_markdown":"Hello my source code down below ;\r\n\r\n\r\nThis is ActiviyOne.java\r\n\r\n    package course.labs.activitylab;\r\n    \r\n            import android.app.Activity;\r\n            import android.app.Fragment;\r\n            import android.content.Intent;\r\n            import android.os.Bundle;\r\n            import android.util.Log;\r\n            import android.view.View;\r\n            import android.view.View.OnClickListener;\r\n            import android.widget.Button;\r\n            import android.widget.TextView;\r\n    \r\n    public class ActivityOne\r\n            extends Activity {\r\n    \r\n        // Use these as keys when you&#39;re saving state between reconfigurations\r\n        private static final String RESTART_KEY = &quot;restart&quot;;\r\n        private static final String RESUME_KEY = &quot;resume&quot;;\r\n        private static final String START_KEY = &quot;start&quot;;\r\n        private static final String CREATE_KEY = &quot;create&quot;;\r\n    \r\n        // String for LogCat documentation\r\n        private final static String TAG = &quot;Lab-ActivityOne&quot;;\r\n    \r\n        // Lifecycle counters\r\n        // TODO:\r\n        public Integer mCreate = 0;\r\n        public Integer mRestart = 0;\r\n        public Integer mStart = 0;\r\n        public Integer mResume = 0;\r\n        // Create variables named\r\n        // mCreate, mRestart, mStart and mResume\r\n        // to count calls to onCreate(), onRestart(), onStart() and\r\n        // onResume(). These variables should not be defined as static.\r\n        // You will need to increment these variables&#39; values when their\r\n        // corresponding lifecycle methods get called.\r\n        // TODO: Create variables for each of the TextViews\r\n        TextView mTvCreate;\r\n        TextView mTvRestart;\r\n        TextView mTvStart;\r\n        TextView mTvResume;\r\n    \r\n        // named mTvCreate, mTvRestart, mTvStart, mTvResume.\r\n        // for displaying the current count of each counter variable\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_one);\r\n    \r\n            // TODO: Assign the appropriate TextViews to the TextView variables\r\n            mTvCreate = (TextView) findViewById(R.id.create);\r\n            mTvRestart = (TextView) findViewById(R.id.restart);\r\n            mTvResume = (TextView) findViewById(R.id.resume);\r\n            mTvStart = (TextView) findViewById(R.id.start);\r\n            // Hint: Access the TextView by calling Activity&#39;s findViewById()\r\n            // textView1 = (TextView) findViewById(R.id.textView1);\r\n    \r\n            Button launchActivityTwoButton = (Button) findViewById(R.id.bLaunchActivityTwo);\r\n            launchActivityTwoButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // TODO:\r\n                    // Launch Activity Two\r\n                    // Hint: use Context&#39;s startActivity() method\r\n                    // Create an intent stating which Activity you would like to\r\n                    // start\r\n                    //Intent intent = null;\r\n                    Intent StartIntent = new Intent(getApplicationContext(), ActivityTwo.class);\r\n                    startActivity(StartIntent);\r\n                    // Launch the Activity using the intent\r\n                }\r\n            });\r\n    \r\n            // Has previous state been saved?\r\n            if(savedInstanceState != null) {\r\n                // TODO:\r\n                // Restore value of counters from saved state\r\n                // Only need 4 lines of code, one for every count variable\r\n                mCreate = savedInstanceState.getInt(CREATE_KEY);\r\n                mStart = savedInstanceState.getInt(START_KEY);\r\n                mRestart = savedInstanceState.getInt(RESTART_KEY);\r\n                mResume = savedInstanceState.getInt(RESUME_KEY);\r\n                //Log.i(TAG, &quot;mCreate &quot; + mCreate + &quot;mResume &quot; + mResume + &quot;mStart &quot; + mStart + &quot;mRestart &quot; + mRestart);\r\n                //super.onSaveInstanceState(savedInstanceState);\r\n            }\r\n    \r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onCreate() method&quot;);\r\n            // TODO:\r\n            mCreate++;\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface via the displayCounts() method\r\n        }\r\n    \r\n        // Lifecycle callback overrides\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onStart() method&quot;);\r\n            // TODO:\r\n            mStart++;\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onResume() method&quot;);\r\n            // TODO:\r\n            mResume++;\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onPause() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onStop() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRestart() {\r\n            super.onRestart();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onRestart() method&quot;);\r\n            // TODO:\r\n            mRestart++;\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onDestroy() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onSaveInstanceState(Bundle savedInstanceState) {\r\n            // TODO:\r\n            super.onSaveInstanceState(savedInstanceState);\r\n            savedInstanceState.putInt(CREATE_KEY, mCreate);\r\n            savedInstanceState.putInt(RESTART_KEY, mRestart);\r\n            savedInstanceState.putInt(RESUME_KEY, mResume);\r\n            savedInstanceState.putInt(START_KEY, mStart);\r\n            // Save state information with a collection of key-value pairs\r\n            // 4 lines of code, one for every count variable\r\n        }\r\n    \r\n        // Updates the displayed counters\r\n        // This method expects that the counters and TextView variables use the\r\n        // names\r\n        // specified above\r\n        public void displayCounts() {\r\n            // TODO - uncomment these lines\r\n            mTvCreate.setText(&quot;onCreate() calls: &quot; + mCreate);\r\n            mTvStart.setText(&quot;onStart() calls: &quot; + mStart);\r\n            mTvResume.setText(&quot;onResume() calls: &quot; + mResume);\r\n            mTvRestart.setText(&quot;onRestart() calls: &quot; + mRestart);\r\n        }\r\n    }\r\n\r\nAnd this is ActivityTwo.java\r\n\r\n        package course.labs.activitylab;\r\n\r\n        import android.app.Activity;\r\n        import android.content.Intent;\r\n        import android.os.Bundle;\r\n        import android.util.Log;\r\n        import android.view.View;\r\n        import android.view.View.OnClickListener;\r\n        import android.widget.Button;\r\n        import android.widget.TextView;\r\n\r\n    public class ActivityTwo\r\n            extends Activity {\r\n    \r\n        // Use these as keys when you&#39;re saving state between reconfigurations\r\n        private static final String RESTART_KEY = &quot;restart&quot;;\r\n        private static final String RESUME_KEY = &quot;resume&quot;;\r\n        private static final String START_KEY = &quot;start&quot;;\r\n        private static final String CREATE_KEY = &quot;create&quot;;\r\n    \r\n        // String for LogCat documentation\r\n        private final static String TAG = &quot;Lab-ActivityTwo&quot;;\r\n    \r\n        // Lifecycle counters\r\n        // TODO:\r\n        public Integer mCreate = 0;\r\n        public Integer mRestart = 0;\r\n        public Integer mStart = 0;\r\n        public Integer mResume = 0;\r\n    \r\n        // Create variables named \t\r\n        // mCreate, mRestart, mStart and mResume \t\r\n        // to count calls to onCreate(), onRestart(), onStart() and\r\n        // onResume(). These variables should not be defined as static.\r\n        // You will need to increment these variables&#39; values when their\r\n        // corresponding lifecycle methods get called.\r\n        // TODO: Create variables for each of the TextViews\r\n        TextView mTvCreate;\r\n        TextView mTvRestart;\r\n        TextView mTvStart;\r\n        TextView mTvResume;\r\n        // named  mTvCreate, mTvRestart, mTvStart, mTvResume.\r\n        // for displaying the current count of each counter variable\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_two);\r\n            // TODO: Assign the appropriate TextViews to the TextView variables\r\n            mTvCreate = (TextView) findViewById(R.id.create);\r\n            mTvRestart = (TextView) findViewById(R.id.restart);\r\n            mTvStart = (TextView) findViewById(R.id.start);\r\n            mTvResume = (TextView) findViewById(R.id.resume);\r\n            // Hint: Access the TextView by calling Activity&#39;s findViewById()\r\n            // textView1 = (TextView) findViewById(R.id.textView1);\r\n            Button closeButton = (Button) findViewById(R.id.bClose);\r\n            closeButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // TODO:\r\n                        /*\r\n                        Intent FinishIntent = new Intent(ActivityTwo.this, ActivityOne.class);\r\n                        finish();\r\n                        */\r\n                    // This function closes Activity Two\r\n                    // Hint: use Context&#39;s finish() method\r\n                    // ActivityTwo.this.finish();\r\n                    // finish();\r\n                    //  Intent tmpIntent = new Intent(getApplicationContext(), ActivityOne.class);\r\n                    finish();\r\n                    //ActivityTwo.this.finish();\r\n                }\r\n            });\r\n        /*\r\n                savedInstanceState.putInt(CREATE_KEY, mCreate);\r\n                savedInstanceState.putInt(RESTART_KEY, mRestart);\r\n                savedInstanceState.putInt(RESUME_KEY, mResume);\r\n                savedInstanceState.putInt(START_KEY, mStart);\r\n        */\r\n            // Has previous state been saved?\r\n            if(savedInstanceState != null) {\r\n                // TODO:\r\n                // Log.i(TAG, &quot;Entered restoring values of counters&quot;);\r\n                super.onRestoreInstanceState(savedInstanceState);\r\n                mCreate = savedInstanceState.getInt(CREATE_KEY);\r\n                mStart = savedInstanceState.getInt(START_KEY);\r\n                mRestart = savedInstanceState.getInt(RESTART_KEY);\r\n                mResume = savedInstanceState.getInt(RESUME_KEY);\r\n                //Log.i(TAG, &quot;mCreate &quot; + mCreate + &quot;mResume &quot; + mResume + &quot;mStart &quot; + mStart + &quot;mRestart &quot; + mRestart);\r\n                // Restore value of counters from saved state\r\n                // Only need 4 lines of code, one for every count variable\r\n                // super.onSaveInstanceState(savedInstanceState);\r\n            }\r\n            // Emit LogCat message\r\n            mCreate++;\r\n            Log.i(TAG, &quot;Entered the onCreate() method&quot;);\r\n            // TODO:\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface via the displayCounts() method\r\n        }\r\n    \r\n        // Lifecycle callback methods overrides\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            // Emit LogCat message\r\n            mStart++;\r\n            Log.i(TAG, &quot;Entered the onStart() method&quot;);\r\n            // TODO:\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            // Emit LogCat message\r\n            mResume++;\r\n            Log.i(TAG, &quot;Entered the onResume() method&quot;);\r\n            // TODO:\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onPause() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onStop() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRestart() {\r\n            super.onRestart();\r\n            // Emit LogCat message\r\n            mRestart++;\r\n            Log.i(TAG, &quot;Entered the onRestart() method&quot;);\r\n            // TODO:\r\n            displayCounts();\r\n            // Update the appropriate count variable\r\n            // Update the user interface\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            // Emit LogCat message\r\n            Log.i(TAG, &quot;Entered the onDestroy() method&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onSaveInstanceState(Bundle savedInstanceState) {\r\n            // TODO:\r\n            // Save counter state information with a collection of key-value pairs\r\n            // 4 lines of code, one for every count variable\r\n            Log.i(TAG, &quot;Saving instance state&quot;);\r\n            super.onSaveInstanceState(savedInstanceState);\r\n            savedInstanceState.putInt(CREATE_KEY, mCreate);\r\n            savedInstanceState.putInt(RESTART_KEY, mRestart);\r\n            savedInstanceState.putInt(RESUME_KEY, mResume);\r\n            savedInstanceState.putInt(START_KEY, mStart);\r\n        }\r\n    \r\n        // Updates the displayed counters\r\n        // This method expects that the counters and TextView variables use the\r\n        // names\r\n        // specified above\r\n        public void displayCounts() {\r\n            // TODO - uncomment these lines\r\n            mTvCreate.setText(&quot;onCreate() calls: &quot; + mCreate);\r\n            mTvStart.setText(&quot;onStart() calls: &quot; + mStart);\r\n            mTvResume.setText(&quot;onResume() calls: &quot; + mResume);\r\n            mTvRestart.setText(&quot;onRestart() calls: &quot; + mRestart);\r\n        }\r\n    }\r\n\r\nI have a problem. When i run the program I want the count how many times I called \r\n\r\n`onCreate()`, `onStart()`, `onResume()`, `onResume()` it works for activity one\r\n,but not works in activity 2. Counter not working.\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"ActivityTwo.java did not count","body":"<p>Hello my source code down below ;</p>\n\n<p>This is ActiviyOne.java</p>\n\n<pre><code>package course.labs.activitylab;\n\n        import android.app.Activity;\n        import android.app.Fragment;\n        import android.content.Intent;\n        import android.os.Bundle;\n        import android.util.Log;\n        import android.view.View;\n        import android.view.View.OnClickListener;\n        import android.widget.Button;\n        import android.widget.TextView;\n\npublic class ActivityOne\n        extends Activity {\n\n    // Use these as keys when you're saving state between reconfigurations\n    private static final String RESTART_KEY = \"restart\";\n    private static final String RESUME_KEY = \"resume\";\n    private static final String START_KEY = \"start\";\n    private static final String CREATE_KEY = \"create\";\n\n    // String for LogCat documentation\n    private final static String TAG = \"Lab-ActivityOne\";\n\n    // Lifecycle counters\n    // TODO:\n    public Integer mCreate = 0;\n    public Integer mRestart = 0;\n    public Integer mStart = 0;\n    public Integer mResume = 0;\n    // Create variables named\n    // mCreate, mRestart, mStart and mResume\n    // to count calls to onCreate(), onRestart(), onStart() and\n    // onResume(). These variables should not be defined as static.\n    // You will need to increment these variables' values when their\n    // corresponding lifecycle methods get called.\n    // TODO: Create variables for each of the TextViews\n    TextView mTvCreate;\n    TextView mTvRestart;\n    TextView mTvStart;\n    TextView mTvResume;\n\n    // named mTvCreate, mTvRestart, mTvStart, mTvResume.\n    // for displaying the current count of each counter variable\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_one);\n\n        // TODO: Assign the appropriate TextViews to the TextView variables\n        mTvCreate = (TextView) findViewById(R.id.create);\n        mTvRestart = (TextView) findViewById(R.id.restart);\n        mTvResume = (TextView) findViewById(R.id.resume);\n        mTvStart = (TextView) findViewById(R.id.start);\n        // Hint: Access the TextView by calling Activity's findViewById()\n        // textView1 = (TextView) findViewById(R.id.textView1);\n\n        Button launchActivityTwoButton = (Button) findViewById(R.id.bLaunchActivityTwo);\n        launchActivityTwoButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // TODO:\n                // Launch Activity Two\n                // Hint: use Context's startActivity() method\n                // Create an intent stating which Activity you would like to\n                // start\n                //Intent intent = null;\n                Intent StartIntent = new Intent(getApplicationContext(), ActivityTwo.class);\n                startActivity(StartIntent);\n                // Launch the Activity using the intent\n            }\n        });\n\n        // Has previous state been saved?\n        if(savedInstanceState != null) {\n            // TODO:\n            // Restore value of counters from saved state\n            // Only need 4 lines of code, one for every count variable\n            mCreate = savedInstanceState.getInt(CREATE_KEY);\n            mStart = savedInstanceState.getInt(START_KEY);\n            mRestart = savedInstanceState.getInt(RESTART_KEY);\n            mResume = savedInstanceState.getInt(RESUME_KEY);\n            //Log.i(TAG, \"mCreate \" + mCreate + \"mResume \" + mResume + \"mStart \" + mStart + \"mRestart \" + mRestart);\n            //super.onSaveInstanceState(savedInstanceState);\n        }\n\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onCreate() method\");\n        // TODO:\n        mCreate++;\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface via the displayCounts() method\n    }\n\n    // Lifecycle callback overrides\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onStart() method\");\n        // TODO:\n        mStart++;\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onResume() method\");\n        // TODO:\n        mResume++;\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onPause() method\");\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onStop() method\");\n    }\n\n    @Override\n    public void onRestart() {\n        super.onRestart();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onRestart() method\");\n        // TODO:\n        mRestart++;\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onDestroy() method\");\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        // TODO:\n        super.onSaveInstanceState(savedInstanceState);\n        savedInstanceState.putInt(CREATE_KEY, mCreate);\n        savedInstanceState.putInt(RESTART_KEY, mRestart);\n        savedInstanceState.putInt(RESUME_KEY, mResume);\n        savedInstanceState.putInt(START_KEY, mStart);\n        // Save state information with a collection of key-value pairs\n        // 4 lines of code, one for every count variable\n    }\n\n    // Updates the displayed counters\n    // This method expects that the counters and TextView variables use the\n    // names\n    // specified above\n    public void displayCounts() {\n        // TODO - uncomment these lines\n        mTvCreate.setText(\"onCreate() calls: \" + mCreate);\n        mTvStart.setText(\"onStart() calls: \" + mStart);\n        mTvResume.setText(\"onResume() calls: \" + mResume);\n        mTvRestart.setText(\"onRestart() calls: \" + mRestart);\n    }\n}\n</code></pre>\n\n<p>And this is ActivityTwo.java</p>\n\n<pre><code>    package course.labs.activitylab;\n\n    import android.app.Activity;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.view.View;\n    import android.view.View.OnClickListener;\n    import android.widget.Button;\n    import android.widget.TextView;\n\npublic class ActivityTwo\n        extends Activity {\n\n    // Use these as keys when you're saving state between reconfigurations\n    private static final String RESTART_KEY = \"restart\";\n    private static final String RESUME_KEY = \"resume\";\n    private static final String START_KEY = \"start\";\n    private static final String CREATE_KEY = \"create\";\n\n    // String for LogCat documentation\n    private final static String TAG = \"Lab-ActivityTwo\";\n\n    // Lifecycle counters\n    // TODO:\n    public Integer mCreate = 0;\n    public Integer mRestart = 0;\n    public Integer mStart = 0;\n    public Integer mResume = 0;\n\n    // Create variables named   \n    // mCreate, mRestart, mStart and mResume    \n    // to count calls to onCreate(), onRestart(), onStart() and\n    // onResume(). These variables should not be defined as static.\n    // You will need to increment these variables' values when their\n    // corresponding lifecycle methods get called.\n    // TODO: Create variables for each of the TextViews\n    TextView mTvCreate;\n    TextView mTvRestart;\n    TextView mTvStart;\n    TextView mTvResume;\n    // named  mTvCreate, mTvRestart, mTvStart, mTvResume.\n    // for displaying the current count of each counter variable\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_two);\n        // TODO: Assign the appropriate TextViews to the TextView variables\n        mTvCreate = (TextView) findViewById(R.id.create);\n        mTvRestart = (TextView) findViewById(R.id.restart);\n        mTvStart = (TextView) findViewById(R.id.start);\n        mTvResume = (TextView) findViewById(R.id.resume);\n        // Hint: Access the TextView by calling Activity's findViewById()\n        // textView1 = (TextView) findViewById(R.id.textView1);\n        Button closeButton = (Button) findViewById(R.id.bClose);\n        closeButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // TODO:\n                    /*\n                    Intent FinishIntent = new Intent(ActivityTwo.this, ActivityOne.class);\n                    finish();\n                    */\n                // This function closes Activity Two\n                // Hint: use Context's finish() method\n                // ActivityTwo.this.finish();\n                // finish();\n                //  Intent tmpIntent = new Intent(getApplicationContext(), ActivityOne.class);\n                finish();\n                //ActivityTwo.this.finish();\n            }\n        });\n    /*\n            savedInstanceState.putInt(CREATE_KEY, mCreate);\n            savedInstanceState.putInt(RESTART_KEY, mRestart);\n            savedInstanceState.putInt(RESUME_KEY, mResume);\n            savedInstanceState.putInt(START_KEY, mStart);\n    */\n        // Has previous state been saved?\n        if(savedInstanceState != null) {\n            // TODO:\n            // Log.i(TAG, \"Entered restoring values of counters\");\n            super.onRestoreInstanceState(savedInstanceState);\n            mCreate = savedInstanceState.getInt(CREATE_KEY);\n            mStart = savedInstanceState.getInt(START_KEY);\n            mRestart = savedInstanceState.getInt(RESTART_KEY);\n            mResume = savedInstanceState.getInt(RESUME_KEY);\n            //Log.i(TAG, \"mCreate \" + mCreate + \"mResume \" + mResume + \"mStart \" + mStart + \"mRestart \" + mRestart);\n            // Restore value of counters from saved state\n            // Only need 4 lines of code, one for every count variable\n            // super.onSaveInstanceState(savedInstanceState);\n        }\n        // Emit LogCat message\n        mCreate++;\n        Log.i(TAG, \"Entered the onCreate() method\");\n        // TODO:\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface via the displayCounts() method\n    }\n\n    // Lifecycle callback methods overrides\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Emit LogCat message\n        mStart++;\n        Log.i(TAG, \"Entered the onStart() method\");\n        // TODO:\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        // Emit LogCat message\n        mResume++;\n        Log.i(TAG, \"Entered the onResume() method\");\n        // TODO:\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onPause() method\");\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onStop() method\");\n    }\n\n    @Override\n    public void onRestart() {\n        super.onRestart();\n        // Emit LogCat message\n        mRestart++;\n        Log.i(TAG, \"Entered the onRestart() method\");\n        // TODO:\n        displayCounts();\n        // Update the appropriate count variable\n        // Update the user interface\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        // Emit LogCat message\n        Log.i(TAG, \"Entered the onDestroy() method\");\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        // TODO:\n        // Save counter state information with a collection of key-value pairs\n        // 4 lines of code, one for every count variable\n        Log.i(TAG, \"Saving instance state\");\n        super.onSaveInstanceState(savedInstanceState);\n        savedInstanceState.putInt(CREATE_KEY, mCreate);\n        savedInstanceState.putInt(RESTART_KEY, mRestart);\n        savedInstanceState.putInt(RESUME_KEY, mResume);\n        savedInstanceState.putInt(START_KEY, mStart);\n    }\n\n    // Updates the displayed counters\n    // This method expects that the counters and TextView variables use the\n    // names\n    // specified above\n    public void displayCounts() {\n        // TODO - uncomment these lines\n        mTvCreate.setText(\"onCreate() calls: \" + mCreate);\n        mTvStart.setText(\"onStart() calls: \" + mStart);\n        mTvResume.setText(\"onResume() calls: \" + mResume);\n        mTvRestart.setText(\"onRestart() calls: \" + mRestart);\n    }\n}\n</code></pre>\n\n<p>I have a problem. When i run the program I want the count how many times I called </p>\n\n<p><code>onCreate()</code>, <code>onStart()</code>, <code>onResume()</code>, <code>onResume()</code> it works for activity one\n,but not works in activity 2. Counter not working.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","testing","tdd"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651859055,"creation_date":1651859055,"answer_id":72145505,"question_id":72141863,"body_markdown":"&gt; in TDD I am trying to write a unit test.\r\n\r\nYou should drop this constraint -- TDD isn&#39;t about &quot;unit&quot; tests, not really (see Chapter 32 of _Test Driven Development by Example_).  It&#39;s about &quot;programmer&quot; tests - the small scale tests that act as scaffolding while writing the code.\r\n\r\nThe tests are there to serve your needs, not the other way around.\r\n\r\n----\r\n\r\nThere is a trick, though, that you should be aware of: you will often want a design that separates your complicated logic from the parts that actually communicate with the database.  Between the two sits a seam (see _Working Effectively With Legacy Code_, chapter 4), allowing you to write tests with substitute implementations for the part that needs to talk to the database.\r\n\r\nThe part that actually talks to the database? The ideal is code that is &quot;so simple there are obviously no deficiencies&quot;.  The expectation here being that if we make the code boring enough, we won&#39;t need to change it very often after we get it right (often this sort of code lives unchanged until it is eventually removed completely).\r\n\r\n\r\n----\r\n\r\n&gt; TDD is an awareness of the gap between decision and feedback during programming, and techniques to control that gap.\r\n\r\n&quot;Unit test&quot; is not the _only_ permitted technique.","title":"How to apply test-driven development for storing data on db?","body":"<blockquote>\n<p>in TDD I am trying to write a unit test.</p>\n</blockquote>\n<p>You should drop this constraint -- TDD isn't about &quot;unit&quot; tests, not really (see Chapter 32 of <em>Test Driven Development by Example</em>).  It's about &quot;programmer&quot; tests - the small scale tests that act as scaffolding while writing the code.</p>\n<p>The tests are there to serve your needs, not the other way around.</p>\n<hr />\n<p>There is a trick, though, that you should be aware of: you will often want a design that separates your complicated logic from the parts that actually communicate with the database.  Between the two sits a seam (see <em>Working Effectively With Legacy Code</em>, chapter 4), allowing you to write tests with substitute implementations for the part that needs to talk to the database.</p>\n<p>The part that actually talks to the database? The ideal is code that is &quot;so simple there are obviously no deficiencies&quot;.  The expectation here being that if we make the code boring enough, we won't need to change it very often after we get it right (often this sort of code lives unchanged until it is eventually removed completely).</p>\n<hr />\n<blockquote>\n<p>TDD is an awareness of the gap between decision and feedback during programming, and techniques to control that gap.</p>\n</blockquote>\n<p>&quot;Unit test&quot; is not the <em>only</em> permitted technique.</p>\n"}],"owner":{"account_id":20023255,"reputation":75,"user_id":14677697,"display_name":"molfo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72145505,"answer_count":1,"score":-1,"last_activity_date":1658317254,"creation_date":1651841951,"question_id":72141863,"body_markdown":"Let us assume that the next feature that I have to develop is to store some data on a database. Following the TDD paradigm, I have to first write a failing test. It is not clear to me how I can approach this task, considering that I am using JDBC. \r\nThe simplest way I can think of is to define a function &quot;storeDataOnDB&quot; and using some framework like Mockito check that the function is called one time. I don&#39;t like this solution. Let us continue the TDD approach, next I would write the minimum amount of code that makes the test pass. Simply calling the function would make the test pass, but I am not actually storing anything on the db. Moreover, I am not checking whether I am storing the correct data.\r\n\r\nAnother solution would be to implement an integration test using a test db and verify that the data are stored correctly. But this is an integration test, while in TDD I am trying to write a unit test.\r\n\r\nSo, what would be the best method to apply TDD on this feature?\r\nThanks.","title":"How to apply test-driven development for storing data on db?","body":"<p>Let us assume that the next feature that I have to develop is to store some data on a database. Following the TDD paradigm, I have to first write a failing test. It is not clear to me how I can approach this task, considering that I am using JDBC.\nThe simplest way I can think of is to define a function &quot;storeDataOnDB&quot; and using some framework like Mockito check that the function is called one time. I don't like this solution. Let us continue the TDD approach, next I would write the minimum amount of code that makes the test pass. Simply calling the function would make the test pass, but I am not actually storing anything on the db. Moreover, I am not checking whether I am storing the correct data.</p>\n<p>Another solution would be to implement an integration test using a test db and verify that the data are stored correctly. But this is an integration test, while in TDD I am trying to write a unit test.</p>\n<p>So, what would be the best method to apply TDD on this feature?\nThanks.</p>\n"},{"tags":["java","sql","locking","db2","cluster-computing"],"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1249406904,"post_id":1228833,"comment_id":1054282,"body_markdown":"I think you are going to have to be more specific in your question.  What action, exactly, are you trying to coordinate?","body":"I think you are going to have to be more specific in your question.  What action, exactly, are you trying to coordinate?"},{"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"score":0,"creation_date":1249407495,"post_id":1228833,"comment_id":1054343,"body_markdown":"@Software Monkey- Sure, sorry about that.  I just added a paragraph explaining my intent.  Please let me know if it is still not clear.","body":"@Software Monkey- Sure, sorry about that.  I just added a paragraph explaining my intent.  Please let me know if it is still not clear."},{"owner":{"account_id":16719,"reputation":226100,"user_id":36723,"accept_rate":97,"display_name":"bdonlan"},"score":0,"creation_date":1249407576,"post_id":1228833,"comment_id":1054356,"body_markdown":"So what you really want, then, is a global lock. I don&#39;t know websphere so I can&#39;t help out here, but asking for help creating a lock will probably ring more bells with those who do :)","body":"So what you really want, then, is a global lock. I don&#39;t know websphere so I can&#39;t help out here, but asking for help creating a lock will probably ring more bells with those who do :)"},{"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"score":0,"creation_date":1249407737,"post_id":1228833,"comment_id":1054373,"body_markdown":"@bdolan- Thanks for the tip.  I added a reference to global locks in both the title and question, so hopefully that helps someone knowledgable in this area find it.","body":"@bdolan- Thanks for the tip.  I added a reference to global locks in both the title and question, so hopefully that helps someone knowledgable in this area find it."},{"owner":{"account_id":21232,"reputation":4104,"user_id":51445,"accept_rate":85,"display_name":"Kaitsu"},"score":0,"creation_date":1249408416,"post_id":1228833,"comment_id":1054434,"body_markdown":"The title of this question doesn&#39;t really reflect what you&#39;re asking. It could be something like &quot;How to update DB from just single node in a cluster&quot; etc.","body":"The title of this question doesn&#39;t really reflect what you&#39;re asking. It could be something like &quot;How to update DB from just single node in a cluster&quot; etc."}],"answers":[{"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1249411286,"creation_date":1249407748,"answer_id":1228929,"question_id":1228833,"body_markdown":"You are correct that synchronization across processes will not work using the Java synchronization constructs.  Fortunately, your problem really isn&#39;t one of code synchronization, but rather of synchronizing interactions with the database.\r\n\r\nThe right way to deal with this problem is with database level locks.  Presumably you have some table that contains a db schema version, so you should make sure to lock that table for the duration of the startup/upgrade process.\r\n\r\nThe precise sql/db calls involved would probably be more clear if you specified your database type (DB2?) and access method (raw sql, jpa, etc).\r\n\r\n**Update (8/4/2009 2:39PM)**: I suggest the [LOCK TABLE][1] statement on some table holding the version # of the schema.  This will serialize access to that table preventing two instances from running through the upgrade code at once.\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/admin/r0000972.htm","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>You are correct that synchronization across processes will not work using the Java synchronization constructs.  Fortunately, your problem really isn't one of code synchronization, but rather of synchronizing interactions with the database.</p>\n\n<p>The right way to deal with this problem is with database level locks.  Presumably you have some table that contains a db schema version, so you should make sure to lock that table for the duration of the startup/upgrade process.</p>\n\n<p>The precise sql/db calls involved would probably be more clear if you specified your database type (DB2?) and access method (raw sql, jpa, etc).</p>\n\n<p><strong>Update (8/4/2009 2:39PM)</strong>: I suggest the <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=/com.ibm.db2.udb.doc/admin/r0000972.htm\" rel=\"nofollow noreferrer\">LOCK TABLE</a> statement on some table holding the version # of the schema.  This will serialize access to that table preventing two instances from running through the upgrade code at once.</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249407766,"creation_date":1249407766,"answer_id":1228932,"question_id":1228833,"body_markdown":"Couldn&#39;t you simply lock the table (or entire db) for updates, so when the first node in obtained the lock all other nodes would not be able to write.  Subsequent nodes would wait, and when the lock is released the code would be updated so no record update would be required.","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>Couldn't you simply lock the table (or entire db) for updates, so when the first node in obtained the lock all other nodes would not be able to write.  Subsequent nodes would wait, and when the lock is released the code would be updated so no record update would be required.</p>\n"},{"tags":[],"owner":{"account_id":21232,"reputation":4104,"user_id":51445,"accept_rate":85,"display_name":"Kaitsu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1249407853,"creation_date":1249407853,"answer_id":1228938,"question_id":1228833,"body_markdown":"Yes, you are correct in that *synchronized* blocks won&#39;t work across a cluster. The reason is, as you stated, that each node has its own JVM.\r\n\r\nThere are ways, however, to get synchronized blocks to work in a cluster as they would work in a single-node environment. The easiest way is to use a product like [Terracotta][1], which will handle the coordination of threads between different JVMs so that normal concurrency controls can be used across the cluster. There are many articles explaining how this works, like [Introduction to OpenTerracotta][2].\r\n\r\nThere are other solutions, of course. It mostly depends on what you really want to achieve here. I wouldn&#39;t use database locks for synchronizing if you need to scale, as DB doesn&#39;t. But I really urge you to find a ready-made solution, because messing around with cluster synchronization is messy business :)\r\n\r\n\r\n\r\n  [1]: http://terracotta.org/\r\n  [2]: http://www.infoq.com/articles/open-terracotta-intro","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>Yes, you are correct in that <em>synchronized</em> blocks won't work across a cluster. The reason is, as you stated, that each node has its own JVM.</p>\n\n<p>There are ways, however, to get synchronized blocks to work in a cluster as they would work in a single-node environment. The easiest way is to use a product like <a href=\"http://terracotta.org/\" rel=\"noreferrer\">Terracotta</a>, which will handle the coordination of threads between different JVMs so that normal concurrency controls can be used across the cluster. There are many articles explaining how this works, like <a href=\"http://www.infoq.com/articles/open-terracotta-intro\" rel=\"noreferrer\">Introduction to OpenTerracotta</a>.</p>\n\n<p>There are other solutions, of course. It mostly depends on what you really want to achieve here. I wouldn't use database locks for synchronizing if you need to scale, as DB doesn't. But I really urge you to find a ready-made solution, because messing around with cluster synchronization is messy business :)</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1249407885,"creation_date":1249407885,"answer_id":1228944,"question_id":1228833,"body_markdown":"Since you are talking about 2 machines, you don&#39;t even have shared memory so there is nothing to synchronize.\r\n\r\nWe do something similar with our database. This is achieved by adding record versioning in the table. This is what you should do,\r\n\r\n1. Add a column for record/row version.\r\n2. Go through the logic to check if record needs to be updated.\r\n3. When you update record, make sure the record version in DB is the same as what you have.\r\n4. Bump up version every time you write to the database.\r\n\r\nYou should only have one server updating the database if you follow these rules.\r\n","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>Since you are talking about 2 machines, you don't even have shared memory so there is nothing to synchronize.</p>\n\n<p>We do something similar with our database. This is achieved by adding record versioning in the table. This is what you should do,</p>\n\n<ol>\n<li>Add a column for record/row version.</li>\n<li>Go through the logic to check if record needs to be updated.</li>\n<li>When you update record, make sure the record version in DB is the same as what you have.</li>\n<li>Bump up version every time you write to the database.</li>\n</ol>\n\n<p>You should only have one server updating the database if you follow these rules.</p>\n"},{"tags":[],"owner":{"account_id":1055908,"reputation":995,"user_id":1058629,"accept_rate":71,"display_name":"vishr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352228948,"creation_date":1352228948,"answer_id":13257703,"question_id":1228833,"body_markdown":"You can use a in-memory-data-grid like http://www.hazelcast.com/ for this too. This is a distributed data structure that supports locking.","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>You can use a in-memory-data-grid like <a href=\"http://www.hazelcast.com/\" rel=\"nofollow\">http://www.hazelcast.com/</a> for this too. This is a distributed data structure that supports locking.</p>\n"}],"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20425,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1228929,"answer_count":5,"score":17,"last_activity_date":1658316971,"creation_date":1249406717,"question_id":1228833,"body_markdown":"I have some code that I want to only allow access to by one thread.  I know how to accomplish this using either `synchronized` blocks or methods, but will this work in a clustered environment?\r\n\r\nThe target environment is WebSphere 6.0, with 2 nodes in the cluster.\r\n\r\nI have a feeling that `synchronized` won&#39;t work, since each instance of the application on each node will have its own JVM, right?\r\n\r\nWhat I am trying to do here is perform some updates to database records when the system is booted.  It will look for any database records that are older that the version of the code, and perform specific tasks to update them.  I only want one node to perform these upgrades, since I want to be sure that each work item is only upgraded once, and performance of these upgrades is not a big concern, since it only happens at application startup, and it only really does anything when the code has been changed since the last time it started up.\r\n\r\nThe database is DB2v9, and I am accessing it directly via JNDI (no ORM layer).\r\n\r\nIt has been suggested that a global lock might be the way to go here, but I&#39;m not sure how to do that.\r\n\r\nDoes anyone have any pointers in this arena?\r\n\r\nThanks!","title":"Sharing a Java synchronized block across a cluster, or using a global lock?","body":"<p>I have some code that I want to only allow access to by one thread.  I know how to accomplish this using either <code>synchronized</code> blocks or methods, but will this work in a clustered environment?</p>\n\n<p>The target environment is WebSphere 6.0, with 2 nodes in the cluster.</p>\n\n<p>I have a feeling that <code>synchronized</code> won't work, since each instance of the application on each node will have its own JVM, right?</p>\n\n<p>What I am trying to do here is perform some updates to database records when the system is booted.  It will look for any database records that are older that the version of the code, and perform specific tasks to update them.  I only want one node to perform these upgrades, since I want to be sure that each work item is only upgraded once, and performance of these upgrades is not a big concern, since it only happens at application startup, and it only really does anything when the code has been changed since the last time it started up.</p>\n\n<p>The database is DB2v9, and I am accessing it directly via JNDI (no ORM layer).</p>\n\n<p>It has been suggested that a global lock might be the way to go here, but I'm not sure how to do that.</p>\n\n<p>Does anyone have any pointers in this arena?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","cassandra","amazon-keyspaces"],"answers":[{"tags":[],"owner":{"account_id":3753350,"reputation":777,"user_id":3120345,"display_name":"MikeJPR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600385330,"creation_date":1600385330,"answer_id":63947346,"question_id":63580779,"body_markdown":"Try setting the the local DC as us-east-1. I do not see it in your configuration. ","title":"unable to connect spring boot java application to amazon keyspaces","body":"<p>Try setting the the local DC as us-east-1. I do not see it in your configuration.</p>\n"}],"owner":{"account_id":2362023,"reputation":1126,"user_id":2068521,"accept_rate":43,"display_name":"Chintamani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658316953,"creation_date":1598364757,"question_id":63580779,"body_markdown":"This is the configuration class .\r\n\r\n    \r\n    @Configuration\r\n    @PropertySource(value = { &quot;classpath:cassandra.properties&quot; })\r\n    @EnableCassandraRepositories(basePackages = { &quot;com.example.demo.repository&quot; })\r\n    public class CassnadraConfig extends AbstractCassandraConfiguration {\r\n    \r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(CassnadraConfig.class);\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic CassandraClusterFactoryBean cluster() {\r\n    \t\t final CassandraClusterFactoryBean cluster = new CassandraClusterFactoryBean();\r\n    \t\t try {\r\n    \t\t\tPoolingOptions poolingOptions = new PoolingOptions();\r\n    \t\t\tpoolingOptions.setMaxConnectionsPerHost(HostDistance.LOCAL, 10);\r\n    \t\t\tpoolingOptions.setPoolTimeoutMillis(5000);\r\n    \t\t\tpoolingOptions.setCoreConnectionsPerHost(HostDistance.LOCAL, 10);\r\n    \t\t//\tInputStream is = new FileInputStream(environment.getProperty(&quot;cassandra.truststore.path&quot;));\r\n    \t\t\tInputStream is = new FileInputStream(&quot;D:/SampleProjects/spring-samples-master/restapi-cassandra/src/main/resources/cassandra_truststore.jks&quot;);\r\n    \t\t\tKeyStore keystore = KeyStore.getInstance(environment.getProperty(&quot;cassandra.truststore.type&quot;));\r\n    \t\t\tSystem.out.println(environment.getProperty(&quot;cassandra.truststore.password&quot;));\r\n    \t\t\tchar[] pwd = environment.getProperty(&quot;cassandra.truststore.password&quot;).toCharArray();\r\n    \t\t\t\r\n    \t\t\tkeystore.load(is, pwd);\r\n    \r\n    \t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    \t\t\ttmf.init(keystore);\r\n    \t\t\tTrustManager[] tm = tmf.getTrustManagers();\r\n    \t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\t\tsslContext.init(null, tm, null);\r\n    \r\n    \t\t\tJdkSSLOptions sslOptions = JdkSSLOptions.builder().withSSLContext(sslContext).build();\r\n    \t\t\tcluster.setUsername(environment.getProperty(&quot;cassandra.username&quot;));\r\n    \t\t\tcluster.setPassword(environment.getProperty(&quot;cassandra.password&quot;));\r\n    \t\t\tcluster.setContactPoints(environment.getProperty(&quot;cassandra.contactpoints&quot;));\r\n    \t\t\tcluster.setPort(Integer.parseInt(environment.getProperty(&quot;cassandra.port&quot;)));\r\n    \t\t\tcluster.setSslEnabled(true);\r\n    \t\t\tcluster.setSslOptions(sslOptions);\r\n    \t\t\tcluster.setPoolingOptions(poolingOptions);\r\n    \t\t }\r\n    \t\t catch(Exception ex) {\r\n    \t\t\t System.out.println(ex);\r\n    \t\t }\r\n    \t\treturn cluster;\r\n    \t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String getKeyspaceName() {\r\n    \t\treturn environment.getProperty(&quot;cassandra.keyspace&quot;);\r\n    \t}\r\n    \r\n        @Override\r\n        @Bean\r\n        public CassandraMappingContext cassandraMapping() throws ClassNotFoundException {\r\n            return new BasicCassandraMappingContext();\r\n        }\r\n    \r\n    }\r\n\r\nEntity class \r\n\r\n    @AllArgsConstructor\r\n    @Getter @Setter\r\n    @Table\r\n    public class Employee {\r\n    \t@PrimaryKey \r\n    \tprivate @NonNull String id;\r\n    \tprivate @NonNull String firstName;\r\n    \tprivate @NonNull String lastName;\r\n    \tprivate @NonNull String email;\r\n    }\r\n    \r\n    Repository class\r\n    package com.example.demo.repository;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.example.demo.model.Employee;\r\n    \r\n    @Repository\r\n    public interface EmployeeRepository extends CrudRepository&lt;Employee, String&gt; {\r\n    }\r\n\r\ncontroller class\r\n\r\n\r\n    @RestController\r\n    public class EmployeeController\r\n    {\r\n    \t@Autowired\r\n    \tEmployeeRepository employeeRepository;\r\n    \r\n    \t@GetMapping(value = &quot;/healthcheck&quot;, produces = &quot;application/json; charset=utf-8&quot;)\r\n    \tpublic String getHealthCheck()\r\n    \t{\r\n    \t\treturn &quot;{ \\&quot;isWorking\\&quot; : true }&quot;;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getEmployees()\r\n    \t{\r\n    \t\tIterable&lt;Employee&gt; result = employeeRepository.findAll();\r\n    \t\tList&lt;Employee&gt; employeesList = new ArrayList&lt;Employee&gt;();\r\n    \t\tresult.forEach(employeesList::add);\r\n    \t\treturn employeesList;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/employee/{id}&quot;)\r\n    \tpublic Optional&lt;Employee&gt; getEmployee(@PathVariable String id)\r\n    \t{\r\n    \t\tOptional&lt;Employee&gt; emp = employeeRepository.findById(id);\r\n    \t\treturn emp;\r\n    \t}\r\n    \r\n    \t@PutMapping(&quot;/employee/{id}&quot;)\r\n    \tpublic Optional&lt;Employee&gt; updateEmployee(@RequestBody Employee newEmployee, @PathVariable String id)\r\n    \t{\r\n    \t\tOptional&lt;Employee&gt; optionalEmp = employeeRepository.findById(id);\r\n    \t\tif (optionalEmp.isPresent()) {\r\n    \t\t\tEmployee emp = optionalEmp.get();\r\n    \t\t\temp.setFirstName(newEmployee.getFirstName());\r\n    \t\t\temp.setLastName(newEmployee.getLastName());\r\n    \t\t\temp.setEmail(newEmployee.getEmail());\r\n    \t\t\temployeeRepository.save(emp);\r\n    \t\t}\r\n    \t\treturn optionalEmp;\r\n    \t}\r\n    \r\n    \t@DeleteMapping(value = &quot;/employee/{id}&quot;, produces = &quot;application/json; charset=utf-8&quot;)\r\n    \tpublic String deleteEmployee(@PathVariable String id) {\r\n    \t\tBoolean result = employeeRepository.existsById(id);\r\n    \t\temployeeRepository.deleteById(id);\r\n    \t\treturn &quot;{ \\&quot;success\\&quot; : &quot;+ (result ? &quot;true&quot; : &quot;false&quot;) +&quot; }&quot;;\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/employee&quot;)\r\n    \tpublic Employee addEmployee(@RequestBody Employee newEmployee)\r\n    \t{\r\n    \t\tString id = String.valueOf(new Random().nextInt());\r\n    \t\tEmployee emp = new Employee(id, newEmployee.getFirstName(), newEmployee.getLastName(), newEmployee.getEmail());\r\n    \t\temployeeRepository.save(emp);\r\n    \t\treturn emp;\r\n    \t}\r\n    }\r\n\r\nmain class\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI am not able to connect to amazon keyspaces ,getting error \r\n\r\nCaused by: java.lang.IllegalArgumentException: Failed to add contact point: cassandra.us-east-1.amazonaws.com \r\n\tat com.datastax.driver.core.Cluster$Builder.addContactPoint(Cluster.java:922) ~[cassandra-driver-core-3.6.0.jar:na]\r\n\tat com.datastax.driver.core.Cluster$Builder.addContactPoints(Cluster.java:942) ~[cassandra-driver-core-3.6.0.jar:na]\r\n\tat org.springframework.data.cassandra.config.CassandraClusterFactoryBean.afterPropertiesSet(CassandraClusterFactoryBean.java:174) ~[spring-data-cassandra-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t... 111 common frames omitted\r\n**Caused by: java.net.UnknownHostException: cassandra.us-east-1.amazonaws.com** \r\n\r\nAny idea please share it .","title":"unable to connect spring boot java application to amazon keyspaces","body":"<p>This is the configuration class .</p>\n<pre><code>@Configuration\n@PropertySource(value = { &quot;classpath:cassandra.properties&quot; })\n@EnableCassandraRepositories(basePackages = { &quot;com.example.demo.repository&quot; })\npublic class CassnadraConfig extends AbstractCassandraConfiguration {\n\n    private static final Logger LOG = LoggerFactory.getLogger(CassnadraConfig.class);\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    @Override\n    public CassandraClusterFactoryBean cluster() {\n         final CassandraClusterFactoryBean cluster = new CassandraClusterFactoryBean();\n         try {\n            PoolingOptions poolingOptions = new PoolingOptions();\n            poolingOptions.setMaxConnectionsPerHost(HostDistance.LOCAL, 10);\n            poolingOptions.setPoolTimeoutMillis(5000);\n            poolingOptions.setCoreConnectionsPerHost(HostDistance.LOCAL, 10);\n        //  InputStream is = new FileInputStream(environment.getProperty(&quot;cassandra.truststore.path&quot;));\n            InputStream is = new FileInputStream(&quot;D:/SampleProjects/spring-samples-master/restapi-cassandra/src/main/resources/cassandra_truststore.jks&quot;);\n            KeyStore keystore = KeyStore.getInstance(environment.getProperty(&quot;cassandra.truststore.type&quot;));\n            System.out.println(environment.getProperty(&quot;cassandra.truststore.password&quot;));\n            char[] pwd = environment.getProperty(&quot;cassandra.truststore.password&quot;).toCharArray();\n            \n            keystore.load(is, pwd);\n\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            tmf.init(keystore);\n            TrustManager[] tm = tmf.getTrustManagers();\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(null, tm, null);\n\n            JdkSSLOptions sslOptions = JdkSSLOptions.builder().withSSLContext(sslContext).build();\n            cluster.setUsername(environment.getProperty(&quot;cassandra.username&quot;));\n            cluster.setPassword(environment.getProperty(&quot;cassandra.password&quot;));\n            cluster.setContactPoints(environment.getProperty(&quot;cassandra.contactpoints&quot;));\n            cluster.setPort(Integer.parseInt(environment.getProperty(&quot;cassandra.port&quot;)));\n            cluster.setSslEnabled(true);\n            cluster.setSslOptions(sslOptions);\n            cluster.setPoolingOptions(poolingOptions);\n         }\n         catch(Exception ex) {\n             System.out.println(ex);\n         }\n        return cluster;\n    \n    }\n\n    @Override\n    protected String getKeyspaceName() {\n        return environment.getProperty(&quot;cassandra.keyspace&quot;);\n    }\n\n    @Override\n    @Bean\n    public CassandraMappingContext cassandraMapping() throws ClassNotFoundException {\n        return new BasicCassandraMappingContext();\n    }\n\n}\n</code></pre>\n<p>Entity class</p>\n<pre><code>@AllArgsConstructor\n@Getter @Setter\n@Table\npublic class Employee {\n    @PrimaryKey \n    private @NonNull String id;\n    private @NonNull String firstName;\n    private @NonNull String lastName;\n    private @NonNull String email;\n}\n\nRepository class\npackage com.example.demo.repository;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.demo.model.Employee;\n\n@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;Employee, String&gt; {\n}\n</code></pre>\n<p>controller class</p>\n<pre><code>@RestController\npublic class EmployeeController\n{\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @GetMapping(value = &quot;/healthcheck&quot;, produces = &quot;application/json; charset=utf-8&quot;)\n    public String getHealthCheck()\n    {\n        return &quot;{ \\&quot;isWorking\\&quot; : true }&quot;;\n    }\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getEmployees()\n    {\n        Iterable&lt;Employee&gt; result = employeeRepository.findAll();\n        List&lt;Employee&gt; employeesList = new ArrayList&lt;Employee&gt;();\n        result.forEach(employeesList::add);\n        return employeesList;\n    }\n\n    @GetMapping(&quot;/employee/{id}&quot;)\n    public Optional&lt;Employee&gt; getEmployee(@PathVariable String id)\n    {\n        Optional&lt;Employee&gt; emp = employeeRepository.findById(id);\n        return emp;\n    }\n\n    @PutMapping(&quot;/employee/{id}&quot;)\n    public Optional&lt;Employee&gt; updateEmployee(@RequestBody Employee newEmployee, @PathVariable String id)\n    {\n        Optional&lt;Employee&gt; optionalEmp = employeeRepository.findById(id);\n        if (optionalEmp.isPresent()) {\n            Employee emp = optionalEmp.get();\n            emp.setFirstName(newEmployee.getFirstName());\n            emp.setLastName(newEmployee.getLastName());\n            emp.setEmail(newEmployee.getEmail());\n            employeeRepository.save(emp);\n        }\n        return optionalEmp;\n    }\n\n    @DeleteMapping(value = &quot;/employee/{id}&quot;, produces = &quot;application/json; charset=utf-8&quot;)\n    public String deleteEmployee(@PathVariable String id) {\n        Boolean result = employeeRepository.existsById(id);\n        employeeRepository.deleteById(id);\n        return &quot;{ \\&quot;success\\&quot; : &quot;+ (result ? &quot;true&quot; : &quot;false&quot;) +&quot; }&quot;;\n    }\n\n    @PostMapping(&quot;/employee&quot;)\n    public Employee addEmployee(@RequestBody Employee newEmployee)\n    {\n        String id = String.valueOf(new Random().nextInt());\n        Employee emp = new Employee(id, newEmployee.getFirstName(), newEmployee.getLastName(), newEmployee.getEmail());\n        employeeRepository.save(emp);\n        return emp;\n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>@SpringBootApplication\n@ComponentScan\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        \n    }\n\n}\n</code></pre>\n<p>I am not able to connect to amazon keyspaces ,getting error</p>\n<p>Caused by: java.lang.IllegalArgumentException: Failed to add contact point: cassandra.us-east-1.amazonaws.com\nat com.datastax.driver.core.Cluster$Builder.addContactPoint(Cluster.java:922) ~[cassandra-driver-core-3.6.0.jar:na]\nat com.datastax.driver.core.Cluster$Builder.addContactPoints(Cluster.java:942) ~[cassandra-driver-core-3.6.0.jar:na]\nat org.springframework.data.cassandra.config.CassandraClusterFactoryBean.afterPropertiesSet(CassandraClusterFactoryBean.java:174) ~[spring-data-cassandra-2.1.4.RELEASE.jar:2.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1741) ~[spring-beans-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n... 111 common frames omitted\n<strong>Caused by: java.net.UnknownHostException: cassandra.us-east-1.amazonaws.com</strong></p>\n<p>Any idea please share it .</p>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2324982,"reputation":890,"user_id":2039709,"display_name":"user2039709"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442436492,"creation_date":1434707047,"answer_id":30934935,"question_id":30932197,"body_markdown":"More or less from [spring.io Documentation](http://docs.spring.io/spring-security/site/docs/3.1.3.RELEASE/reference/core-services.html)\r\n\r\nIf you are using XML configuration (e.g. spring-security.xml):\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;security:authentication-manager&gt;\r\n        &lt;security:authentication-provider ref=&quot;FirstProvider&quot; /&gt;\r\n        &lt;security:authentication-provider ref=&quot;SecondProvider&quot; /&gt;\r\n    &lt;/security:authentication-manager&gt;\r\n\r\n(I am using that setup for one of Spring&#39;s built-in authentication provider next to a custom one, works fine)\r\n\r\nIf you are using Java Config, I can only reference some other person&#39;s post [maclema on Java config for multiple authentication provider](https://stackoverflow.com/a/25799080/2039709), since I have never (successfully) tried code config","title":"In memory and custom providers all together","body":"<p>More or less from <a href=\"http://docs.spring.io/spring-security/site/docs/3.1.3.RELEASE/reference/core-services.html\" rel=\"nofollow noreferrer\">spring.io Documentation</a></p>\n\n<p>If you are using XML configuration (e.g. spring-security.xml):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security:authentication-manager&gt;\n    &lt;security:authentication-provider ref=\"FirstProvider\" /&gt;\n    &lt;security:authentication-provider ref=\"SecondProvider\" /&gt;\n&lt;/security:authentication-manager&gt;\n</code></pre>\n\n<p>(I am using that setup for one of Spring's built-in authentication provider next to a custom one, works fine)</p>\n\n<p>If you are using Java Config, I can only reference some other person's post <a href=\"https://stackoverflow.com/a/25799080/2039709\">maclema on Java config for multiple authentication provider</a>, since I have never (successfully) tried code config</p>\n"},{"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1435294073,"creation_date":1435202996,"answer_id":31040731,"question_id":30932197,"body_markdown":"You can create your `InMemoryUserDetailsManagerConfigurer` manually and tell it to configure itself on the `AuthenticationManagerBuilder` when you have finished configuring it so it installs it&#39;s `AuthenticationProvider` before your custom one:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth,\r\n            AuthenticationProvider provider) throws Exception {\r\n\r\n        inMemoryConfigurer()\r\n            .withUser(&quot;admin&quot;)\r\n                .password(&quot;s3cr3t&quot;)\r\n                .authorities(&quot;ADMIN&quot;)\r\n            .and()\r\n            .configure(auth);\r\n        auth.authenticationProvider(provider);\r\n    }\r\n\r\n    private InMemoryUserDetailsManagerConfigurer&lt;AuthenticationManagerBuilder&gt;\r\n            inMemoryConfigurer() {\r\n        return new InMemoryUserDetailsManagerConfigurer&lt;&gt;();\r\n    }\r\n\r\nNormally what happens is that the `InMemoryUserDetailsManagerConfigurer` is created and added to the list of configurers that should be applied when the `AuthenticationManager` is built - which is after you&#39;ve installed your custom `AuthenticationProvider`.","title":"In memory and custom providers all together","body":"<p>You can create your <code>InMemoryUserDetailsManagerConfigurer</code> manually and tell it to configure itself on the <code>AuthenticationManagerBuilder</code> when you have finished configuring it so it installs it's <code>AuthenticationProvider</code> before your custom one:</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth,\n        AuthenticationProvider provider) throws Exception {\n\n    inMemoryConfigurer()\n        .withUser(\"admin\")\n            .password(\"s3cr3t\")\n            .authorities(\"ADMIN\")\n        .and()\n        .configure(auth);\n    auth.authenticationProvider(provider);\n}\n\nprivate InMemoryUserDetailsManagerConfigurer&lt;AuthenticationManagerBuilder&gt;\n        inMemoryConfigurer() {\n    return new InMemoryUserDetailsManagerConfigurer&lt;&gt;();\n}\n</code></pre>\n\n<p>Normally what happens is that the <code>InMemoryUserDetailsManagerConfigurer</code> is created and added to the list of configurers that should be applied when the <code>AuthenticationManager</code> is built - which is after you've installed your custom <code>AuthenticationProvider</code>.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658316935,"creation_date":1658316935,"answer_id":73050915,"question_id":30932197,"body_markdown":"Today we tend to configure Spring Security via `WebSecurityConfigurerAdapter`, you register filters that extract credentials from a request and register providers that use tokens built by filters by populating `Authentication` object with other details like authorities:\r\n\r\n```java\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    AbstractPreAuthenticatedProcessingFilter tokenPreAuthProcessingFilter = new RequestHeaderAuthenticationFilter();\r\n    http.addFilterAfter(tokenPreAuthProcessingFilter, SecurityContextPersistenceFilter.class);\r\n}\r\n\r\n@Override\r\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    // First.\r\n    auth.authenticationProvider(new PreAuthenticatedAuthenticationProvider());\r\n\r\n    // Second.\r\n    auth.inMemoryAuthentication()\r\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n            .withUser(...);\r\n}\r\n```","title":"In memory and custom providers all together","body":"<p>Today we tend to configure Spring Security via <code>WebSecurityConfigurerAdapter</code>, you register filters that extract credentials from a request and register providers that use tokens built by filters by populating <code>Authentication</code> object with other details like authorities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    AbstractPreAuthenticatedProcessingFilter tokenPreAuthProcessingFilter = new RequestHeaderAuthenticationFilter();\n    http.addFilterAfter(tokenPreAuthProcessingFilter, SecurityContextPersistenceFilter.class);\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    // First.\n    auth.authenticationProvider(new PreAuthenticatedAuthenticationProvider());\n\n    // Second.\n    auth.inMemoryAuthentication()\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\n            .withUser(...);\n}\n</code></pre>\n"}],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7395,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":31040731,"answer_count":3,"score":14,"last_activity_date":1658316935,"creation_date":1434698219,"question_id":30932197,"body_markdown":"I&#39;m setting up my Spring Security (v4.0.1) web application. I want to have two authentication providers, an &quot;in-memory&quot; one to manage the administrator account and a custom one which refers to my own implementation. The system should attempt the authentication against the &quot;in-memory&quot; provider first of all and against the custom one in second place. My code looks like this:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth, \r\n    \tAuthenticationProvider provider) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;admin&quot;)\r\n                .password(&quot;s3cr3t&quot;)\r\n                .authorities(&quot;ADMIN&quot;);\r\n        auth.authenticationProvider(provider);\r\n    }\r\n\r\nHowever, this code leads the framework to try my custom implementation first. It makes a bit of sense, since the [`AuthenticationManagerBuilder#authenticationProvider`][1] method adds a Provider to the internal List while the [`AuthenticationManagerBuilder#inMemoryAuthentication`][1] one configures it internally. How could I manage to get it work?\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-security/4.0.3.RELEASE/apidocs/index.html?org/springframework/security/config/annotation/authentication/builders/AuthenticationManagerBuilder.html","title":"In memory and custom providers all together","body":"<p>I'm setting up my Spring Security (v4.0.1) web application. I want to have two authentication providers, an \"in-memory\" one to manage the administrator account and a custom one which refers to my own implementation. The system should attempt the authentication against the \"in-memory\" provider first of all and against the custom one in second place. My code looks like this:</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth, \n    AuthenticationProvider provider) throws Exception {\n    auth.inMemoryAuthentication()\n            .withUser(\"admin\")\n            .password(\"s3cr3t\")\n            .authorities(\"ADMIN\");\n    auth.authenticationProvider(provider);\n}\n</code></pre>\n\n<p>However, this code leads the framework to try my custom implementation first. It makes a bit of sense, since the <a href=\"http://docs.spring.io/autorepo/docs/spring-security/4.0.3.RELEASE/apidocs/index.html?org/springframework/security/config/annotation/authentication/builders/AuthenticationManagerBuilder.html\" rel=\"nofollow\"><code>AuthenticationManagerBuilder#authenticationProvider</code></a> method adds a Provider to the internal List while the <a href=\"http://docs.spring.io/autorepo/docs/spring-security/4.0.3.RELEASE/apidocs/index.html?org/springframework/security/config/annotation/authentication/builders/AuthenticationManagerBuilder.html\" rel=\"nofollow\"><code>AuthenticationManagerBuilder#inMemoryAuthentication</code></a> one configures it internally. How could I manage to get it work?</p>\n"},{"tags":["java","android","android-studio","build.gradle","build-variant"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658318216,"post_id":73050913,"comment_id":129020811,"body_markdown":"Use a version of `implementation` tied to the flavor, such as `freeImplementation` for a product flavor named `free`. See [the documentation](https://developer.android.com/studio/build/build-variants#variant_aware).","body":"Use a version of <code>implementation</code> tied to the flavor, such as <code>freeImplementation</code> for a product flavor named <code>free</code>. See <a href=\"https://developer.android.com/studio/build/build-variants#variant_aware\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":25559497,"reputation":3,"user_id":19342348,"display_name":"Afnan Khakwani"},"score":0,"creation_date":1658403207,"post_id":73050913,"comment_id":129045552,"body_markdown":"What about the code generated by those libaries and how to handle their implementation based on flavors. CommonsWare","body":"What about the code generated by those libaries and how to handle their implementation based on flavors. CommonsWare"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658404591,"post_id":73050913,"comment_id":129046055,"body_markdown":"&quot;What about the code generated by those libaries&quot; -- libraries, via `implementation` directives, do not generate code. For that, you would use things like `kapt` or possibly Gradle plugins. I *think* that `kapt` uses the same prefix system (e.g., `freeKapt`). Gradle plugins would have custom configuration for this sort of thing.","body":"&quot;What about the code generated by those libaries&quot; -- libraries, via <code>implementation</code> directives, do not generate code. For that, you would use things like <code>kapt</code> or possibly Gradle plugins. I <i>think</i> that <code>kapt</code> uses the same prefix system (e.g., <code>freeKapt</code>). Gradle plugins would have custom configuration for this sort of thing."}],"owner":{"account_id":25559497,"reputation":3,"user_id":19342348,"display_name":"Afnan Khakwani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658316920,"creation_date":1658316920,"question_id":73050913,"body_markdown":"I want to use some specific libraries that have some usage in the java classes and also in the Android Manifest.\r\nBut I want to use those libraries and their usage only for a specific product flavor and not for other flavors. I couldn&#39;t find the proper solution anywhere.","title":"How to add specific library implementations in the gradle based on the build flavors","body":"<p>I want to use some specific libraries that have some usage in the java classes and also in the Android Manifest.\nBut I want to use those libraries and their usage only for a specific product flavor and not for other flavors. I couldn't find the proper solution anywhere.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":7212690,"reputation":453,"user_id":5506197,"display_name":"王信凱"},"score":0,"creation_date":1575512793,"post_id":57280071,"comment_id":104594632,"body_markdown":"Same issue, do you solve this problem? could you share your solution?","body":"Same issue, do you solve this problem? could you share your solution?"},{"owner":{"account_id":1188174,"reputation":2336,"user_id":3552532,"accept_rate":94,"display_name":"goldfrapp04"},"score":0,"creation_date":1575942750,"post_id":57280071,"comment_id":104727255,"body_markdown":"@王信凱 I did not find an official/useful solution. Please see my [answer](https://stackoverflow.com/a/59259103/3552532) below for what I did.","body":"@王信凱 I did not find an official/useful solution. Please see my <a href=\"https://stackoverflow.com/a/59259103/3552532\">answer</a> below for what I did."},{"owner":{"account_id":4301449,"reputation":550,"user_id":3515086,"accept_rate":80,"display_name":"Abhidemon"},"score":0,"creation_date":1687110990,"post_id":57280071,"comment_id":134887898,"body_markdown":"I faced a similar issue and reached this github issue. Hope this [comment](https://github.com/aws/aws-sdk-java-v2/issues/2628#issuecomment-1274373271) helps.","body":"I faced a similar issue and reached this github issue. Hope this <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/2628#issuecomment-1274373271\" rel=\"nofollow noreferrer\">comment</a> helps."}],"answers":[{"tags":[],"owner":{"account_id":1188174,"reputation":2336,"user_id":3552532,"accept_rate":94,"display_name":"goldfrapp04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575942709,"creation_date":1575942709,"answer_id":59259103,"question_id":57280071,"body_markdown":"In the mean time, I just replicated the functionalities I need from 1.X:\r\n```\r\n  static AttributeValue toAttributeValue(Object value) {\r\n    if (value == null)                   return AttributeValue.builder().nul(true).build();\r\n    if (value instanceof AttributeValue) return (AttributeValue) value;\r\n    if (value instanceof String)         return AttributeValue.builder().s((String) value).build();\r\n    if (value instanceof Number)         return AttributeValue.builder().n(value.toString()).build();\r\n\r\n    if (value instanceof Map)            return AttributeValue.builder().m(\r\n      ((Map&lt;String, Object&gt;) value).entrySet().stream().collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        e -&gt; toAttributeValue(e.getValue())\r\n      ))).build();\r\n\r\n    throw new UnsupportedOperationException(&quot;Time to impl new path for &quot; + value);\r\n  }\r\n```","title":"Equivalent of ItemUtils.toAttributeValue in DynamoDB JDK 2.X?","body":"<p>In the mean time, I just replicated the functionalities I need from 1.X:</p>\n\n<pre><code>  static AttributeValue toAttributeValue(Object value) {\n    if (value == null)                   return AttributeValue.builder().nul(true).build();\n    if (value instanceof AttributeValue) return (AttributeValue) value;\n    if (value instanceof String)         return AttributeValue.builder().s((String) value).build();\n    if (value instanceof Number)         return AttributeValue.builder().n(value.toString()).build();\n\n    if (value instanceof Map)            return AttributeValue.builder().m(\n      ((Map&lt;String, Object&gt;) value).entrySet().stream().collect(Collectors.toMap(\n        Map.Entry::getKey,\n        e -&gt; toAttributeValue(e.getValue())\n      ))).build();\n\n    throw new UnsupportedOperationException(\"Time to impl new path for \" + value);\n  }\n</code></pre>\n"}],"owner":{"account_id":1188174,"reputation":2336,"user_id":3552532,"accept_rate":94,"display_name":"goldfrapp04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2356,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1658316849,"creation_date":1564520963,"question_id":57280071,"body_markdown":"In [com.amazonaws:aws-java-sdk-bundle 1.X](https://search.maven.org/search?q=a:aws-java-sdk-bundle), there is a convenient helper method [`ItemUtils.toAttributeValue`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html#toAttributeValue-java.lang.Object-) that converts any `Object` to an `AttributeValue` with the right type:\r\n```\r\n        ... if (value instanceof Boolean) {\r\n            return result.withBOOL((Boolean)value);\r\n        } else if (value instanceof String) {\r\n            return result.withS((String) value);\r\n        } else if ( ...\r\n```\r\n\r\nIs there an equivalent of this method in AWS JDK 2.X? Specifically, I&#39;m working with DynamoDB and [software.amazon.awssdk:dynamodb 2.X](https://search.maven.org/artifact/software.amazon.awssdk/dynamodb). The `AttributeValue` classes in [1.X](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/AttributeValue.html) and [2.X](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/AttributeValue.html) aren&#39;t even the same, so using `ItemUtils.toAttributeValue` from 1.X is not an option.","title":"Equivalent of ItemUtils.toAttributeValue in DynamoDB JDK 2.X?","body":"<p>In <a href=\"https://search.maven.org/search?q=a:aws-java-sdk-bundle\" rel=\"noreferrer\">com.amazonaws:aws-java-sdk-bundle 1.X</a>, there is a convenient helper method <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/ItemUtils.html#toAttributeValue-java.lang.Object-\" rel=\"noreferrer\"><code>ItemUtils.toAttributeValue</code></a> that converts any <code>Object</code> to an <code>AttributeValue</code> with the right type:</p>\n\n<pre><code>        ... if (value instanceof Boolean) {\n            return result.withBOOL((Boolean)value);\n        } else if (value instanceof String) {\n            return result.withS((String) value);\n        } else if ( ...\n</code></pre>\n\n<p>Is there an equivalent of this method in AWS JDK 2.X? Specifically, I'm working with DynamoDB and <a href=\"https://search.maven.org/artifact/software.amazon.awssdk/dynamodb\" rel=\"noreferrer\">software.amazon.awssdk:dynamodb 2.X</a>. The <code>AttributeValue</code> classes in <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/AttributeValue.html\" rel=\"noreferrer\">1.X</a> and <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/AttributeValue.html\" rel=\"noreferrer\">2.X</a> aren't even the same, so using <code>ItemUtils.toAttributeValue</code> from 1.X is not an option.</p>\n"},{"tags":["java","classpath","java-9","java-compiler-api"],"answers":[{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636222039,"creation_date":1636222039,"answer_id":69866598,"question_id":51794428,"body_markdown":"In Java 9+ you can get classpath URLs with a little help from reflection:\r\n\r\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\r\n    Field ucpField = BuiltinClassLoader.class.getDeclaredField(&quot;ucp&quot;);\r\n    ucpField.setAccessible(true);\r\n    URLClassPath classpath = (URLClassPath) ucpField.get(classLoader);\r\n    for (URL url : classpath.getURLs()) {\r\n        System.out.println(url.getFile());\r\n    }\r\n\r\nDon&#39;t forget to add:\r\n - `requires java.base` to your `module-info.java` file\r\n - `--add-exports java.base/jdk.internal.loader=your_module_name` compiler option\r\n - `--add-exports java.base/jdk.internal.loader=your_module_name` and `--add-opens java.base/jdk.internal.loader=your_module_name` VM options\r\n","title":"How to get a list of jar files and folders in classpath in Java 9?","body":"<p>In Java 9+ you can get classpath URLs with a little help from reflection:</p>\n<pre><code>ClassLoader classLoader = ClassLoader.getSystemClassLoader();\nField ucpField = BuiltinClassLoader.class.getDeclaredField(&quot;ucp&quot;);\nucpField.setAccessible(true);\nURLClassPath classpath = (URLClassPath) ucpField.get(classLoader);\nfor (URL url : classpath.getURLs()) {\n    System.out.println(url.getFile());\n}\n</code></pre>\n<p>Don't forget to add:</p>\n<ul>\n<li><code>requires java.base</code> to your <code>module-info.java</code> file</li>\n<li><code>--add-exports java.base/jdk.internal.loader=your_module_name</code> compiler option</li>\n<li><code>--add-exports java.base/jdk.internal.loader=your_module_name</code> and <code>--add-opens java.base/jdk.internal.loader=your_module_name</code> VM options</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5269530,"reputation":175,"user_id":4208277,"display_name":"Uday Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658316332,"creation_date":1658316332,"answer_id":73050799,"question_id":51794428,"body_markdown":"this below code snippet would help to get the desired output.\r\n\r\n    String classpath = System.getProperty(&quot;java.class.path&quot;);\r\n    String[] classPathValues = classpath.split(File.pathSeparator);\r\n        for (String classPath: classPathValues) {\r\n          System.out.println(classPath);\r\n        }","title":"How to get a list of jar files and folders in classpath in Java 9?","body":"<p>this below code snippet would help to get the desired output.</p>\n<pre><code>String classpath = System.getProperty(&quot;java.class.path&quot;);\nString[] classPathValues = classpath.split(File.pathSeparator);\n    for (String classPath: classPathValues) {\n      System.out.println(classPath);\n    }\n</code></pre>\n"}],"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6280,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1658341403,"answer_count":2,"score":10,"last_activity_date":1658316332,"creation_date":1533937832,"question_id":51794428,"body_markdown":"I know you can&#39;t *change* the classpath in Java 9 because I read this: https://stackoverflow.com/questions/48041764/add-jar-to-classpath-at-runtime-under-java-9\r\n\r\nI just want to *list* jar files and folders currently on the Classpath so that I can build a command line argument to the Java compiler.\r\n\r\n    // Construct compile command options\r\n    // According to: http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/javac.html\r\n    // The directory specified by -d is not automatically added to your\r\n    // classpath, so we&#39;ll add it manually.\r\n    String[] args = new String[] {&quot;-d&quot;, classDir,\r\n                                  &quot;-classpath&quot;, classPath,\r\n                                  &quot;-encoding&quot;, &quot;UTF-8&quot;,\r\n                                  srcFile};\r\n\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    int ret = compiler.run(null, out, err, args);\r\n\r\nTo construct a classpath in Java 8 I casted to URLClassLoader which is illegal in Java 9:\r\n\r\n    ClassLoader myCl = SimpleJavaCompilerTest.class.getClassLoader();\r\n    URLClassLoader myUcl = (URLClassLoader) myCl;\r\n    for (URL url : myUcl.getURLs()) {\r\n        System.out.println(url.toString().replace(&quot;file:&quot;, &quot;&quot;));\r\n    }\r\n\r\nThis produced (GOOD) output like:\r\n\r\n    /tools/idea-IU-181.4445.78/lib/idea_rt.jar\r\n    ...\r\n    /tools/idea-IU-181.4445.78/plugins/junit/lib/junit5-rt.jar\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar\r\n    ...\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar\r\n    /blah/myApp/target/test-classes/\r\n    /blah/myApp/target/classes/\r\n    /home/me/.m2/repository/commons-fileupload/commons-fileupload/1.3.3/commons-fileupload-1.3.3.jar\r\n    ...\r\n    /home/me/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar\r\n\r\n\r\nI tried: https://stackoverflow.com/questions/41932635/scanning-classpath-modulepath-in-runtime-in-java-9  but it produced a list of ~19,000 class files that are part of openjdk, but not the jar files or class folders from my project.  Like (BAD):\r\n\r\n    java/awt/desktop/ScreenSleepListener.class\r\n    ...\r\n    javax/accessibility/AccessibilityProvider.class\r\n    ...\r\n    jdk/dynalink/beans/AbstractJavaLinker$1.class\r\n    ...\r\n    META-INF/providers/org.graalvm.compiler.code.HexCodeFileDisassemblerProvider\r\n    ...\r\n    module-info.class\r\n    ...\r\n    netscape/javascript/JSException.class\r\n    ...\r\n    org/graalvm/compiler/api/directives/GraalDirectives.class\r\n    ...\r\n    org/ietf/jgss/ChannelBinding.class\r\n    ...\r\n    org/jcp/xml/dsig/internal/SignerOutputStream.class\r\n    ...\r\n    org/w3c/dom/xpath/XPathResult.class\r\n    ...\r\n    org/xml/sax/AttributeList.class\r\n    ...\r\n    sun/applet/AppContextCreator.class\r\n    ...\r\n    sun/util/spi/CalendarProvider.class\r\n    ...\r\n\r\nI need the jar files and the class folders specific to my project (which are not in the java-9 list above).  How do I get that in Java 9?\r\n","title":"How to get a list of jar files and folders in classpath in Java 9?","body":"<p>I know you can't <em>change</em> the classpath in Java 9 because I read this: <a href=\"https://stackoverflow.com/questions/48041764/add-jar-to-classpath-at-runtime-under-java-9\">Add jar to classpath at runtime under java 9</a></p>\n\n<p>I just want to <em>list</em> jar files and folders currently on the Classpath so that I can build a command line argument to the Java compiler.</p>\n\n<pre><code>// Construct compile command options\n// According to: http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/javac.html\n// The directory specified by -d is not automatically added to your\n// classpath, so we'll add it manually.\nString[] args = new String[] {\"-d\", classDir,\n                              \"-classpath\", classPath,\n                              \"-encoding\", \"UTF-8\",\n                              srcFile};\n\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nint ret = compiler.run(null, out, err, args);\n</code></pre>\n\n<p>To construct a classpath in Java 8 I casted to URLClassLoader which is illegal in Java 9:</p>\n\n<pre><code>ClassLoader myCl = SimpleJavaCompilerTest.class.getClassLoader();\nURLClassLoader myUcl = (URLClassLoader) myCl;\nfor (URL url : myUcl.getURLs()) {\n    System.out.println(url.toString().replace(\"file:\", \"\"));\n}\n</code></pre>\n\n<p>This produced (GOOD) output like:</p>\n\n<pre><code>/tools/idea-IU-181.4445.78/lib/idea_rt.jar\n...\n/tools/idea-IU-181.4445.78/plugins/junit/lib/junit5-rt.jar\n/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar\n...\n/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar\n/blah/myApp/target/test-classes/\n/blah/myApp/target/classes/\n/home/me/.m2/repository/commons-fileupload/commons-fileupload/1.3.3/commons-fileupload-1.3.3.jar\n...\n/home/me/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar\n</code></pre>\n\n<p>I tried: <a href=\"https://stackoverflow.com/questions/41932635/scanning-classpath-modulepath-in-runtime-in-java-9\">Scanning classpath/modulepath in runtime in Java 9</a>  but it produced a list of ~19,000 class files that are part of openjdk, but not the jar files or class folders from my project.  Like (BAD):</p>\n\n<pre><code>java/awt/desktop/ScreenSleepListener.class\n...\njavax/accessibility/AccessibilityProvider.class\n...\njdk/dynalink/beans/AbstractJavaLinker$1.class\n...\nMETA-INF/providers/org.graalvm.compiler.code.HexCodeFileDisassemblerProvider\n...\nmodule-info.class\n...\nnetscape/javascript/JSException.class\n...\norg/graalvm/compiler/api/directives/GraalDirectives.class\n...\norg/ietf/jgss/ChannelBinding.class\n...\norg/jcp/xml/dsig/internal/SignerOutputStream.class\n...\norg/w3c/dom/xpath/XPathResult.class\n...\norg/xml/sax/AttributeList.class\n...\nsun/applet/AppContextCreator.class\n...\nsun/util/spi/CalendarProvider.class\n...\n</code></pre>\n\n<p>I need the jar files and the class folders specific to my project (which are not in the java-9 list above).  How do I get that in Java 9?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":25628414,"reputation":13,"user_id":19399154,"display_name":"TomMathee"},"score":0,"creation_date":1658315165,"post_id":73050520,"comment_id":129019627,"body_markdown":"I&#39;ve also tried what IntelliJ suggested: To run Maven import with -U flag, but only I got another error:\n&quot; Received fatal alert: protocol_version &quot;","body":"I&#39;ve also tried what IntelliJ suggested: To run Maven import with -U flag, but only I got another error: &quot; Received fatal alert: protocol_version &quot;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658315213,"post_id":73050520,"comment_id":129019649,"body_markdown":"Are you behind a corporate proxy/firewall ? Furthermore using such an old spring boot version is intended?","body":"Are you behind a corporate proxy/firewall ? Furthermore using such an old spring boot version is intended?"},{"owner":{"account_id":25628414,"reputation":13,"user_id":19399154,"display_name":"TomMathee"},"score":0,"creation_date":1658315598,"post_id":73050520,"comment_id":129019816,"body_markdown":"Yes, I&#39;m using a corporate laptop where I am behind proxy and spring version is related to our project. I just wanted to exercise to better understand SpringBoot while &quot;working&quot;.","body":"Yes, I&#39;m using a corporate laptop where I am behind proxy and spring version is related to our project. I just wanted to exercise to better understand SpringBoot while &quot;working&quot;."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658315764,"post_id":73050520,"comment_id":129019871,"body_markdown":"That it&#39;s wrong configuration in your settings.xml because you are not using the correct proxy/firewall setup or not using an internal repository manager instead of direct access to central which failed... If you like to understand Spring Boot better use recent versions https://spring.io/projects/spring-boot#support","body":"That it&#39;s wrong configuration in your settings.xml because you are not using the correct proxy/firewall setup or not using an internal repository manager instead of direct access to central which failed... If you like to understand Spring Boot better use recent versions <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658356746,"post_id":73050520,"comment_id":129034679,"body_markdown":"IDEs add complexity. You should always be able to build from the command line.  If you cannot do that, the error messages are often better.","body":"IDEs add complexity. You should always be able to build from the command line.  If you cannot do that, the error messages are often better."}],"answers":[{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658316328,"creation_date":1658316328,"answer_id":73050797,"question_id":73050520,"body_markdown":"Logs looks like very clean, the project its trying to download the dependencies, however it&#39;s not able to. \r\n\r\n    org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-web/1.3.2.RELEASE/spring-boot-starter-web-1.3.2.RELEASE.pom\r\n\r\n\r\nSo, first check you connectivity to https://repo.maven.apache.org/maven2\r\nthen verify if that dependency and specific version it&#39;s still there, because it&#39;s really old one. If so then try to force download dependencies, if you use maven, you could use:\r\n\r\n    mvn dependency:resolve\r\n\r\n\r\n**NOTE:**\r\nBe aware that if you are behind a proxy, you must configure the proxy to be able to used by maven/gradle","title":"SpringBoot: Could not transfer artifact","body":"<p>Logs looks like very clean, the project its trying to download the dependencies, however it's not able to.</p>\n<pre><code>org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-web/1.3.2.RELEASE/spring-boot-starter-web-1.3.2.RELEASE.pom\n</code></pre>\n<p>So, first check you connectivity to <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>\nthen verify if that dependency and specific version it's still there, because it's really old one. If so then try to force download dependencies, if you use maven, you could use:</p>\n<pre><code>mvn dependency:resolve\n</code></pre>\n<p><strong>NOTE:</strong>\nBe aware that if you are behind a proxy, you must configure the proxy to be able to used by maven/gradle</p>\n"}],"owner":{"account_id":25628414,"reputation":13,"user_id":19399154,"display_name":"TomMathee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658316328,"creation_date":1658315055,"question_id":73050520,"body_markdown":"\r\n\r\n\r\n\r\n\r\nI&#39;ve got an issue with starting new project in IntelliJ :\r\n\r\n - Maven build always terminates succesfully\r\n - &quot;Reload All Maven Projects&quot; results in error\r\n - can&#39;t import org.springframework.boot.SpringApplication into main class\r\n\r\nHere is my pom.xml:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;JavaTutorial&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Java Tutorial Course API&lt;/name&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\r\n            &lt;java.version&gt;1.7&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n```\r\n **NOTE:** I&#39;ve tried to add `&lt;dependencyManager&gt;` into pom.xml but nothing changed at all.\r\n\r\nMain class:\r\n```\r\n    package springbootstarter;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CourseApiApp {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n        }\r\n    }\r\n```\r\n\r\nError thrown when trying to Reload Maven project:\r\n```\r\norg.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-web/1.3.2.RELEASE/spring-boot-starter-web-1.3.2.RELEASE.pom\r\n\r\norg.springframework.boot:spring-boot-autoconfigure:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-autoconfigure:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-autoconfigure/1.3.2.RELEASE/spring-boot-autoconfigure-1.3.2.RELEASE.pom\r\n\r\n```\r\nAny help would be appreciated. I was looking for any solutions but didn&#39;t succeed.","title":"SpringBoot: Could not transfer artifact","body":"<p>I've got an issue with starting new project in IntelliJ :</p>\n<ul>\n<li>Maven build always terminates succesfully</li>\n<li>&quot;Reload All Maven Projects&quot; results in error</li>\n<li>can't import org.springframework.boot.SpringApplication into main class</li>\n</ul>\n<p>Here is my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;artifactId&gt;JavaTutorial&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;Java Tutorial Course API&lt;/name&gt;\n    \n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                    &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;7&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;7&lt;/maven.compiler.target&gt;\n            &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;/properties&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p><strong>NOTE:</strong> I've tried to add <code>&lt;dependencyManager&gt;</code> into pom.xml but nothing changed at all.</p>\n<p>Main class:</p>\n<pre><code>    package springbootstarter;\n    \n    import org.springframework.boot.SpringApplication;\n    \n    @SpringBootApplication\n    public class CourseApiApp {\n    \n        public static void main(String[] args) {\n    \n        }\n    }\n</code></pre>\n<p>Error thrown when trying to Reload Maven project:</p>\n<pre><code>org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-web:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-web/1.3.2.RELEASE/spring-boot-starter-web-1.3.2.RELEASE.pom\n\norg.springframework.boot:spring-boot-autoconfigure:pom:1.3.2.RELEASE failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-autoconfigure:pom:1.3.2.RELEASE from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-autoconfigure/1.3.2.RELEASE/spring-boot-autoconfigure-1.3.2.RELEASE.pom\n\n</code></pre>\n<p>Any help would be appreciated. I was looking for any solutions but didn't succeed.</p>\n"},{"tags":["java","ssl","ssl-certificate","x509certificate","subject-alternative-name"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1658315145,"post_id":73050453,"comment_id":129019619,"body_markdown":"Can you see if any of the answers here helps: https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative ?","body":"Can you see if any of the answers here helps: <a href=\"https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative\" title=\"how to fix the java security cert certificateexception no subject alternative\">stackoverflow.com/questions/19540289/&hellip;</a> ?"},{"owner":{"account_id":23824735,"reputation":13,"user_id":17831952,"display_name":"ROBLCSnail"},"score":0,"creation_date":1658315468,"post_id":73050453,"comment_id":129019764,"body_markdown":"@pringi the answers there either suggest skipping validation all together or suggest making a new cert that contains SAN . there is also an answer regarding ldap, but that is not the case here. That question was the one I should have linked when I referenced the other &quot;solutions&quot; i found, my mistake.","body":"@pringi the answers there either suggest skipping validation all together or suggest making a new cert that contains SAN . there is also an answer regarding ldap, but that is not the case here. That question was the one I should have linked when I referenced the other &quot;solutions&quot; i found, my mistake."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1658704211,"post_id":73050453,"comment_id":129110501,"body_markdown":"22 years. It&#39;s been 22 years since the use of the CN for hostname checking was deprecated.","body":"22 years. It&#39;s been 22 years since the use of the CN for hostname checking was deprecated."},{"owner":{"account_id":23824735,"reputation":13,"user_id":17831952,"display_name":"ROBLCSnail"},"score":0,"creation_date":1658816903,"post_id":73050453,"comment_id":129138635,"body_markdown":"@PresidentJamesK.Polk It is sad that there are people these days that are still emitting 22 year absolute certificates :(","body":"@PresidentJamesK.Polk It is sad that there are people these days that are still emitting 22 year absolute certificates :("}],"owner":{"account_id":23824735,"reputation":13,"user_id":17831952,"display_name":"ROBLCSnail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658316208,"creation_date":1658314795,"question_id":73050453,"body_markdown":"I am trying to call an endpoint with https that is something like :\r\nPOST https://193.321.1.321/customers\r\n\r\nbut I get the error:\r\n**java.security.cert.CertificateException: No subject alternative names present**\r\n\r\nIndeed, there is no SAN in my certificate. I was under the impression that, if there is no SAN, it will just check the CN, but looking at the implementation in java we can see that it only checks the CN if the address I am trying to call is NOT an IP . If it is an IP and the certificate does not have SAN, then an exception is thrown ! :\r\n\r\n**sun.security.util.HostnameChecker**\r\n\r\n        public void match(String var1, X509Certificate var2) throws CertificateException {\r\n            if (isIpAddress(var1)) {\r\n                matchIP(var1, var2);\r\n            } else {\r\n                this.matchDNS(var1, var2);\r\n            }\r\n\r\n        }\r\n\r\n        private static boolean isIpAddress(String var0) {\r\n            return IPAddressUtil.isIPv4LiteralAddress(var0) || IPAddressUtil.isIPv6LiteralAddress(var0);\r\n        }\r\n    \r\n        private static void matchIP(String var0, X509Certificate var1) throws CertificateException {\r\n            Collection var2 = var1.getSubjectAlternativeNames();\r\n            if (var2 == null) {\r\n                throw new CertificateException(&quot;No subject alternative names present&quot;);\r\n            } else {\r\n                Iterator var3 = var2.iterator();\r\n    \r\n                while(var3.hasNext()) {\r\n                    List var4 = (List)var3.next();\r\n                    if ((Integer)var4.get(0) == 7) {\r\n                        String var5 = (String)var4.get(1);\r\n                        if (var0.equalsIgnoreCase(var5)) {\r\n                            return;\r\n                        }\r\n    \r\n                        try {\r\n                            if (InetAddress.getByName(var0).equals(InetAddress.getByName(var5))) {\r\n                                return;\r\n                            }\r\n                        } catch (UnknownHostException var7) {\r\n                            ;\r\n                        } catch (SecurityException var8) {\r\n                            ;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                throw new CertificateException(&quot;No subject alternative names matching IP address &quot; + var0 + &quot; found&quot;);\r\n            }\r\n        }\r\n    \r\n        private void matchDNS(String var1, X509Certificate var2) throws CertificateException {\r\n            try {\r\n                new SNIHostName(var1);\r\n            } catch (IllegalArgumentException var9) {\r\n                throw new CertificateException(&quot;Illegal given domain name: &quot; + var1, var9);\r\n            }\r\n    \r\n            Collection var3 = var2.getSubjectAlternativeNames();\r\n            if (var3 != null) {\r\n                boolean var4 = false;\r\n                Iterator var5 = var3.iterator();\r\n    \r\n                while(var5.hasNext()) {\r\n                    List var6 = (List)var5.next();\r\n                    if ((Integer)var6.get(0) == 2) {\r\n                        var4 = true;\r\n                        String var7 = (String)var6.get(1);\r\n                        if (this.isMatched(var1, var7)) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                if (var4) {\r\n                    throw new CertificateException(&quot;No subject alternative DNS name matching &quot; + var1 + &quot; found.&quot;);\r\n                }\r\n            }\r\n    \r\n            X500Name var10 = getSubjectX500Name(var2);\r\n            DerValue var11 = var10.findMostSpecificAttribute(X500Name.commonName_oid);\r\n            if (var11 != null) {\r\n                try {\r\n                    if (this.isMatched(var1, var11.getAsString())) {\r\n                        return;\r\n                    }\r\n                } catch (IOException var8) {\r\n                    ;\r\n                }\r\n            }\r\n    \r\n            String var12 = &quot;No name matching &quot; + var1 + &quot; found&quot;;\r\n            throw new CertificateException(var12);\r\n        }\r\n\r\n\r\n\r\n\r\nThe (best) solution I found is to generate a new certificate that includes SAN. Unfortunately, the certificate is not mine and I do not think the owners will be ok with generating a new one.\r\n\r\nThe only other solution I found is to skip host validation all together like in the answer accepted here : [answer][1]\r\nBut, obviously, that is not something acceptable in a PROD environment.\r\n\r\nCan I do something LIKE the second solution, that is edit the default behavior when checking the host, but not skip it entirely, rather (maybe) overwrite `isIpAddress` method to always return false so that the host is checked using the `matchDNS` method instead of the `matchIp` one ?\r\n\r\n**Or is there any other way I can force java to check the IP against the CN, rather than look for SAN ?**\r\n\r\n  [1]: https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative","title":"Java SSL - IP host validation with no SAN in certificate","body":"<p>I am trying to call an endpoint with https that is something like :\nPOST <a href=\"https://193.321.1.321/customers\" rel=\"nofollow noreferrer\">https://193.321.1.321/customers</a></p>\n<p>but I get the error:\n<strong>java.security.cert.CertificateException: No subject alternative names present</strong></p>\n<p>Indeed, there is no SAN in my certificate. I was under the impression that, if there is no SAN, it will just check the CN, but looking at the implementation in java we can see that it only checks the CN if the address I am trying to call is NOT an IP . If it is an IP and the certificate does not have SAN, then an exception is thrown ! :</p>\n<p><strong>sun.security.util.HostnameChecker</strong></p>\n<pre><code>    public void match(String var1, X509Certificate var2) throws CertificateException {\n        if (isIpAddress(var1)) {\n            matchIP(var1, var2);\n        } else {\n            this.matchDNS(var1, var2);\n        }\n\n    }\n\n    private static boolean isIpAddress(String var0) {\n        return IPAddressUtil.isIPv4LiteralAddress(var0) || IPAddressUtil.isIPv6LiteralAddress(var0);\n    }\n\n    private static void matchIP(String var0, X509Certificate var1) throws CertificateException {\n        Collection var2 = var1.getSubjectAlternativeNames();\n        if (var2 == null) {\n            throw new CertificateException(&quot;No subject alternative names present&quot;);\n        } else {\n            Iterator var3 = var2.iterator();\n\n            while(var3.hasNext()) {\n                List var4 = (List)var3.next();\n                if ((Integer)var4.get(0) == 7) {\n                    String var5 = (String)var4.get(1);\n                    if (var0.equalsIgnoreCase(var5)) {\n                        return;\n                    }\n\n                    try {\n                        if (InetAddress.getByName(var0).equals(InetAddress.getByName(var5))) {\n                            return;\n                        }\n                    } catch (UnknownHostException var7) {\n                        ;\n                    } catch (SecurityException var8) {\n                        ;\n                    }\n                }\n            }\n\n            throw new CertificateException(&quot;No subject alternative names matching IP address &quot; + var0 + &quot; found&quot;);\n        }\n    }\n\n    private void matchDNS(String var1, X509Certificate var2) throws CertificateException {\n        try {\n            new SNIHostName(var1);\n        } catch (IllegalArgumentException var9) {\n            throw new CertificateException(&quot;Illegal given domain name: &quot; + var1, var9);\n        }\n\n        Collection var3 = var2.getSubjectAlternativeNames();\n        if (var3 != null) {\n            boolean var4 = false;\n            Iterator var5 = var3.iterator();\n\n            while(var5.hasNext()) {\n                List var6 = (List)var5.next();\n                if ((Integer)var6.get(0) == 2) {\n                    var4 = true;\n                    String var7 = (String)var6.get(1);\n                    if (this.isMatched(var1, var7)) {\n                        return;\n                    }\n                }\n            }\n\n            if (var4) {\n                throw new CertificateException(&quot;No subject alternative DNS name matching &quot; + var1 + &quot; found.&quot;);\n            }\n        }\n\n        X500Name var10 = getSubjectX500Name(var2);\n        DerValue var11 = var10.findMostSpecificAttribute(X500Name.commonName_oid);\n        if (var11 != null) {\n            try {\n                if (this.isMatched(var1, var11.getAsString())) {\n                    return;\n                }\n            } catch (IOException var8) {\n                ;\n            }\n        }\n\n        String var12 = &quot;No name matching &quot; + var1 + &quot; found&quot;;\n        throw new CertificateException(var12);\n    }\n</code></pre>\n<p>The (best) solution I found is to generate a new certificate that includes SAN. Unfortunately, the certificate is not mine and I do not think the owners will be ok with generating a new one.</p>\n<p>The only other solution I found is to skip host validation all together like in the answer accepted here : <a href=\"https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative\">answer</a>\nBut, obviously, that is not something acceptable in a PROD environment.</p>\n<p>Can I do something LIKE the second solution, that is edit the default behavior when checking the host, but not skip it entirely, rather (maybe) overwrite <code>isIpAddress</code> method to always return false so that the host is checked using the <code>matchDNS</code> method instead of the <code>matchIp</code> one ?</p>\n<p><strong>Or is there any other way I can force java to check the IP against the CN, rather than look for SAN ?</strong></p>\n"},{"tags":["java","apache-pulsar"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1658302602,"post_id":73047624,"comment_id":129014887,"body_markdown":"What do you mean with valid?","body":"What do you mean with valid?"},{"owner":{"account_id":25845669,"reputation":1,"user_id":19580562,"display_name":"Jitendra Rawat"},"score":0,"creation_date":1658320024,"post_id":73047624,"comment_id":129021555,"body_markdown":"Valid means to check if we are successfully able to to connect to target Pulsar cluster with  the given Bootstrap Server url.","body":"Valid means to check if we are successfully able to to connect to target Pulsar cluster with  the given Bootstrap Server url."}],"owner":{"account_id":25845669,"reputation":1,"user_id":19580562,"display_name":"Jitendra Rawat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658315861,"creation_date":1658302404,"question_id":73047624,"body_markdown":"I have been creating a custom connector for Apache Pulsar in Mule. Once all the parameters for the Apache Pulsar client is set, how do we validate if the connection is successful without using any Consumer/Producer operation.\r\n\r\n    PulsarClient client = PulsarClient.builder().serviceUrl(pulsarConnectionParameter.getBootstrapServer()).build();","title":"How to validate if client connection for Apache Pulsar is a valid one?","body":"<p>I have been creating a custom connector for Apache Pulsar in Mule. Once all the parameters for the Apache Pulsar client is set, how do we validate if the connection is successful without using any Consumer/Producer operation.</p>\n<pre><code>PulsarClient client = PulsarClient.builder().serviceUrl(pulsarConnectionParameter.getBootstrapServer()).build();\n</code></pre>\n"},{"tags":["java","json","gson","deserialization","entity-relationship"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658315237,"creation_date":1658315237,"answer_id":73050559,"question_id":73050530,"body_markdown":"Try to use `@JsonIdentityInfo` with both classes\r\n\r\n```\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class OrderEntity {...}\r\n\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class BusinessCartEntity {...}\r\n```","title":"How to remake bidirectional mappings when deserializing JSON using Gson?","body":"<p>Try to use <code>@JsonIdentityInfo</code> with both classes</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class OrderEntity {...}\n\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class BusinessCartEntity {...}\n</code></pre>\n"}],"owner":{"account_id":12329563,"reputation":29,"user_id":8996064,"display_name":"Saron Ciupe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658315237,"creation_date":1658315145,"question_id":73050530,"body_markdown":"I have the following entities:\r\n\r\n```\r\npublic class OrderEntity {\r\n\r\n    private long id;\r\n    /// fields\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;order_entity_id&quot;)\r\n    private List&lt;BusinessCartEntity&gt; businessCart = new ArrayList&lt;&gt;();\r\n\r\n}\r\n\r\npublic class BusinessCartEntity {\r\n\r\n    private long id;\r\n    //fields\r\n    @ManyToOne\r\n    @JsonExclude\r\n    private OrderEntity orderEntity;\r\n\r\n}\r\n```\r\n\r\nI am using Gson to serialize them into JSON and then be able to restore them later.\r\nFor serializing I just ignored the relation to the parent entity to avoid StackOverFlow exception.\r\nThe problem rises when I want to deserialize them. Of course the relationships are not created, and the OrderEntity of a BusinessCartEntity will be null and will have to be manually created, which is hard to maintain.\r\nIs there a way to tell Gson to set the value of orderEntity to the parent entity? Or to save a value for orderEntity when serializing and then correctly deserialize?\r\n\r\nI&#39;m using Gson to deserialize because I used it to serialize the objects, but I am open to other libraries, too. Thank you in advance.","title":"How to remake bidirectional mappings when deserializing JSON using Gson?","body":"<p>I have the following entities:</p>\n<pre><code>public class OrderEntity {\n\n    private long id;\n    /// fields\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;order_entity_id&quot;)\n    private List&lt;BusinessCartEntity&gt; businessCart = new ArrayList&lt;&gt;();\n\n}\n\npublic class BusinessCartEntity {\n\n    private long id;\n    //fields\n    @ManyToOne\n    @JsonExclude\n    private OrderEntity orderEntity;\n\n}\n</code></pre>\n<p>I am using Gson to serialize them into JSON and then be able to restore them later.\nFor serializing I just ignored the relation to the parent entity to avoid StackOverFlow exception.\nThe problem rises when I want to deserialize them. Of course the relationships are not created, and the OrderEntity of a BusinessCartEntity will be null and will have to be manually created, which is hard to maintain.\nIs there a way to tell Gson to set the value of orderEntity to the parent entity? Or to save a value for orderEntity when serializing and then correctly deserialize?</p>\n<p>I'm using Gson to deserialize because I used it to serialize the objects, but I am open to other libraries, too. Thank you in advance.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1658320073,"post_id":73049525,"comment_id":129021570,"body_markdown":"The `UserDetails` is not up to date with the changes. When the user authenticates, the `UserDetails` is saved in the session by default and is not changed until they authenticate again. One option would be to use Spring Session and invalidate that user session after you change the permission. You could also save the authorities in a session attribute and retrieve them from there.","body":"The <code>UserDetails</code> is not up to date with the changes. When the user authenticates, the <code>UserDetails</code> is saved in the session by default and is not changed until they authenticate again. One option would be to use Spring Session and invalidate that user session after you change the permission. You could also save the authorities in a session attribute and retrieve them from there."},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1658341300,"post_id":73049525,"comment_id":129030371,"body_markdown":"Or, you can configure a custom `AuthorizationManager` that instead looks up the authorities at request time from the admin server. The authorization manager can decide how often to check the admin server for updated permissions. OAuth is another common way to address distributed authorization issues like these.","body":"Or, you can configure a custom <code>AuthorizationManager</code> that instead looks up the authorities at request time from the admin server. The authorization manager can decide how often to check the admin server for updated permissions. OAuth is another common way to address distributed authorization issues like these."}],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658315215,"creation_date":1658310974,"question_id":73049525,"body_markdown":"I have a controller which is called by an ajax call when a button is pressed in a modal dialog.\r\n\r\n    @PostMapping(path = &quot;/{year}/{week}/{scheduleId}/publish/ajax&quot;)\r\n    @PreAuthorize(MA_CMA_CHEF_PUBLISH_CONDITION)\r\n    public String publishSchedule(Model model, @PathVariable Long locationId, \r\n        @PathVariable Integer year, \r\n        @PathVariable Integer week, \r\n        @PathVariable Long scheduleId, \r\n        @RequestBody SchedulePostInfo scheduleInfo, \r\n        @AuthenticationPrincipal ApplicationUser appUser) {\r\n        return super.publishSchedule(model, scheduleId, scheduleInfo, appUser);\r\n    }\r\n\r\nI am trying to test that the authorization works, and do the following:\r\n\r\nMake sure the user has the necessary permissions. \r\n\r\nOpen the modal dialog, and do not click the publish button immediately.\r\n\r\nThen, in the permissions tool, as an admin in a separate browser, remove the publish permission and save in order to pull the permission from the user.\r\n\r\nNow, in the modal dialog, press &quot;publish&quot;. \r\n\r\nThis works without any error(but it should not) and debug output show the &quot;publish&quot; permission is still set in the application user context (created from the principal).\r\n\r\nMy first question is, is this due to the principal not being up to date?\r\n\r\nMy second question is, can it be fixed?","title":"@AuthenticationPrincipal not up to date after permission change","body":"<p>I have a controller which is called by an ajax call when a button is pressed in a modal dialog.</p>\n<pre><code>@PostMapping(path = &quot;/{year}/{week}/{scheduleId}/publish/ajax&quot;)\n@PreAuthorize(MA_CMA_CHEF_PUBLISH_CONDITION)\npublic String publishSchedule(Model model, @PathVariable Long locationId, \n    @PathVariable Integer year, \n    @PathVariable Integer week, \n    @PathVariable Long scheduleId, \n    @RequestBody SchedulePostInfo scheduleInfo, \n    @AuthenticationPrincipal ApplicationUser appUser) {\n    return super.publishSchedule(model, scheduleId, scheduleInfo, appUser);\n}\n</code></pre>\n<p>I am trying to test that the authorization works, and do the following:</p>\n<p>Make sure the user has the necessary permissions.</p>\n<p>Open the modal dialog, and do not click the publish button immediately.</p>\n<p>Then, in the permissions tool, as an admin in a separate browser, remove the publish permission and save in order to pull the permission from the user.</p>\n<p>Now, in the modal dialog, press &quot;publish&quot;.</p>\n<p>This works without any error(but it should not) and debug output show the &quot;publish&quot; permission is still set in the application user context (created from the principal).</p>\n<p>My first question is, is this due to the principal not being up to date?</p>\n<p>My second question is, can it be fixed?</p>\n"},{"tags":["java","sorting","comparator","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658315155,"creation_date":1658253119,"answer_id":73041470,"question_id":73041228,"body_markdown":"Firstly, it&#39;s better to use an **enum** as the type of item, instead of `String`. In this solution for the sake of simplicity I&#39;ll go with strings.\r\n\r\n*Sidenote: class-names are usually singular nouns. The plural name `Items` is justifiable only if an instance of the class is meant to represent multiple domain objects, for example if there would be a field `amount` and each instance of `Items` represents a zero or more pens, pencils of a particular type.*\r\n\r\nTo define a *comparator*, you can use Java 8 static methods.\r\n\r\nFor the first comparison, we need to find out whether an item is a *&quot;Pencil&quot;* (or not a pen).\r\n```\r\nComparator.comparing(items -&gt; items.getIName().equals(&quot;Pencil&quot;))\r\n```\r\nNote that lambda expression produces a `boolean` value, and the *natural ordering* of `boolean` values is `false` -&gt; `true`.\r\n\r\nThen we need to chain the second sorting criterion using `thenComparing()`.\r\n\r\nIt can be written either like this, by specifying the type of argument:\r\n```\r\nComparator.comparing((Items items) -&gt; items.getIName().equals(&quot;Pencil&quot;))\r\n     .thenComparing(Items::getIPrice)\r\n```\r\nOr by using so-called *type witness*:\r\n```\r\nComparator.&lt;Items, Boolean&gt;comparing(items -&gt; items.getIName().equals(&quot;Pencil&quot;))\r\n     .thenComparing(Items::getIPrice)\r\n```\r\n\r\nIn case if we would not provide the generic type parameter explicitly, compiler would treat the objects consumed by the `comparing()` and `thenComparing()` as being of `Object` and it would be impossible to invoke methods `getIName()` and `getIPrice()`.\r\n\r\nIt would happen because *lambda expressions* and *method references*, are so-called *poly expressions*, they are sensitive to the context in which they appear. And based on the context, compiler should infer their types. In this case, when we&#39;re chaining the methods, it becomes impossible to infer the type of each *lambda* and *reference* based solely on the resulting type of the *comparator*.\r\n\r\nSo, that how you can declare a `BlockingQueue`:\r\n```\r\nBlockingQueue&lt;Items&gt; queue = new PriorityBlockingQueue&lt;&gt;(10,\r\n    Comparator.comparing((Items items) -&gt; items.getIName().equals(&quot;Pencil&quot;))\r\n        .thenComparing(Items::getIPrice)\r\n);\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/toD)","title":"How to sort a PriorityBlockingQueue based on two conditions?","body":"<p>Firstly, it's better to use an <strong>enum</strong> as the type of item, instead of <code>String</code>. In this solution for the sake of simplicity I'll go with strings.</p>\n<p><em>Sidenote: class-names are usually singular nouns. The plural name <code>Items</code> is justifiable only if an instance of the class is meant to represent multiple domain objects, for example if there would be a field <code>amount</code> and each instance of <code>Items</code> represents a zero or more pens, pencils of a particular type.</em></p>\n<p>To define a <em>comparator</em>, you can use Java 8 static methods.</p>\n<p>For the first comparison, we need to find out whether an item is a <em>&quot;Pencil&quot;</em> (or not a pen).</p>\n<pre><code>Comparator.comparing(items -&gt; items.getIName().equals(&quot;Pencil&quot;))\n</code></pre>\n<p>Note that lambda expression produces a <code>boolean</code> value, and the <em>natural ordering</em> of <code>boolean</code> values is <code>false</code> -&gt; <code>true</code>.</p>\n<p>Then we need to chain the second sorting criterion using <code>thenComparing()</code>.</p>\n<p>It can be written either like this, by specifying the type of argument:</p>\n<pre><code>Comparator.comparing((Items items) -&gt; items.getIName().equals(&quot;Pencil&quot;))\n     .thenComparing(Items::getIPrice)\n</code></pre>\n<p>Or by using so-called <em>type witness</em>:</p>\n<pre><code>Comparator.&lt;Items, Boolean&gt;comparing(items -&gt; items.getIName().equals(&quot;Pencil&quot;))\n     .thenComparing(Items::getIPrice)\n</code></pre>\n<p>In case if we would not provide the generic type parameter explicitly, compiler would treat the objects consumed by the <code>comparing()</code> and <code>thenComparing()</code> as being of <code>Object</code> and it would be impossible to invoke methods <code>getIName()</code> and <code>getIPrice()</code>.</p>\n<p>It would happen because <em>lambda expressions</em> and <em>method references</em>, are so-called <em>poly expressions</em>, they are sensitive to the context in which they appear. And based on the context, compiler should infer their types. In this case, when we're chaining the methods, it becomes impossible to infer the type of each <em>lambda</em> and <em>reference</em> based solely on the resulting type of the <em>comparator</em>.</p>\n<p>So, that how you can declare a <code>BlockingQueue</code>:</p>\n<pre><code>BlockingQueue&lt;Items&gt; queue = new PriorityBlockingQueue&lt;&gt;(10,\n    Comparator.comparing((Items items) -&gt; items.getIName().equals(&quot;Pencil&quot;))\n        .thenComparing(Items::getIPrice)\n);\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/toD\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":12676300,"reputation":1,"user_id":9211889,"display_name":"Jince Mon"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658269854,"answer_count":1,"score":0,"last_activity_date":1658315155,"creation_date":1658251754,"question_id":73041228,"body_markdown":"I have a list of Items as \r\n\r\n    List&lt;Items&gt; list = Arrays.asList(new Items(&quot;pen&quot;,10),\r\n                    new Items(&quot;pen&quot;,8),\r\n                    new Items(&quot;Pencil&quot;,10),\r\n                    new Items(&quot;Pencil&quot;,9),\r\n                    new Items(&quot;Pencil&quot;,5),\r\n                    new Items(&quot;pen&quot;,12)\r\n                    );\r\nMy Items class: \r\n\r\n    static class Items{\r\n            private String IName;\r\n            private int IPrice;\r\n    //constructor, getter and setter here\r\n    }\r\n\r\nAnd I want to insert each object into a PriorityBlockingQueue.\r\nIt should consider first all pen and sort it based on price then all pencil based on price.\r\nSo the expected output for PriorityBlockingQueue should be:\r\n\r\n    Item : pen, Price : 8\r\n    Item : pen, Price : 10\r\n    Item : pen, Price : 12\r\n    Item : Pencil, Price : 5\r\n    Item : Pencil, Price : 9\r\n    Item : Pencil, Price : 10\r\nSo how can I declare a PriorityBlockingQueue to get the above output?\r\n\r\n    private PriorityBlockingQueue&lt;Items&gt; queue = new PriorityBlockingQueue&lt;Items&gt;(10,(item1,item2)-&gt; {\r\n    //What should be the comparator logic?\r\n    });\r\n","title":"How to sort a PriorityBlockingQueue based on two conditions?","body":"<p>I have a list of Items as</p>\n<pre><code>List&lt;Items&gt; list = Arrays.asList(new Items(&quot;pen&quot;,10),\n                new Items(&quot;pen&quot;,8),\n                new Items(&quot;Pencil&quot;,10),\n                new Items(&quot;Pencil&quot;,9),\n                new Items(&quot;Pencil&quot;,5),\n                new Items(&quot;pen&quot;,12)\n                );\n</code></pre>\n<p>My Items class:</p>\n<pre><code>static class Items{\n        private String IName;\n        private int IPrice;\n//constructor, getter and setter here\n}\n</code></pre>\n<p>And I want to insert each object into a PriorityBlockingQueue.\nIt should consider first all pen and sort it based on price then all pencil based on price.\nSo the expected output for PriorityBlockingQueue should be:</p>\n<pre><code>Item : pen, Price : 8\nItem : pen, Price : 10\nItem : pen, Price : 12\nItem : Pencil, Price : 5\nItem : Pencil, Price : 9\nItem : Pencil, Price : 10\n</code></pre>\n<p>So how can I declare a PriorityBlockingQueue to get the above output?</p>\n<pre><code>private PriorityBlockingQueue&lt;Items&gt; queue = new PriorityBlockingQueue&lt;Items&gt;(10,(item1,item2)-&gt; {\n//What should be the comparator logic?\n});\n</code></pre>\n"},{"tags":["java","kotlin","web-scraping","okhttp"],"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658314937,"creation_date":1658314937,"question_id":73050489,"body_markdown":"I m following this tutorial : https://scrapingant.com/blog/web-scraping-java to scrap with java.\r\n\r\nI created a java project and when I try to execute this code from the tutorial :\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws IOException {\r\n        final App scraper = new App();\r\n        final String htmlContent = scraper.getContent();\r\n        final String extractedTitle = scraper.extractTitle(htmlContent);\r\n        System.out.println(extractedTitle);\r\n    }\r\n\r\n    private String getContent() throws IOException {\r\n        final OkHttpClient client = new OkHttpClient.Builder().build();\r\n        final String urlToScrape = &quot;https://example.com&quot;;\r\n        final Request request = new Request.Builder().url(urlToScrape).build();\r\n        final Response response = client.newCall(request).execute();\r\n        return response.body().string();\r\n    }\r\n\r\n    private String extractTitle(String content) {\r\n        final Pattern titleRegExp = Pattern.compile(&quot;&lt;title&gt;(.*?)&lt;/title&gt;&quot;, Pattern.DOTALL);\r\n        final Matcher matcher = titleRegExp.matcher(content);\r\n        matcher.find();\r\n        return matcher.group(1);\r\n    }\r\n}\r\n```\r\nbut i get this error :\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\r\n        at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt)\r\n        at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:47)\r\n        at okhttp3.OkHttpClient$Builder.&lt;init&gt;(OkHttpClient.kt:471)\r\n        at demo.src.main.java.com.example.App.getContent(App.java:20)\r\n        at demo.src.main.java.com.example.App.main(App.java:14)\r\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 5 more\r\n```\r\nI can&#39;t find why and fix this error.\r\n\r\nTo import okhttp i had to download a jar file from maven central (4.9.3) and then in vscode : java project -&gt; add the jar file to the Referenced Libraries.\r\n\r\nI am a beginner in Java and want to clarify that I am not particularly attached to okhttp. If another simpler/efficient library exists, I&#39;m not against it. I just want to be able to scrape in java and then integrate the code into an android application !\r\n\r\nThanks in advance","title":"okhttp3 java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>I m following this tutorial : <a href=\"https://scrapingant.com/blog/web-scraping-java\" rel=\"nofollow noreferrer\">https://scrapingant.com/blog/web-scraping-java</a> to scrap with java.</p>\n<p>I created a java project and when I try to execute this code from the tutorial :</p>\n<pre><code>\nimport java.io.IOException;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class App {\n    public static void main(String[] args) throws IOException {\n        final App scraper = new App();\n        final String htmlContent = scraper.getContent();\n        final String extractedTitle = scraper.extractTitle(htmlContent);\n        System.out.println(extractedTitle);\n    }\n\n    private String getContent() throws IOException {\n        final OkHttpClient client = new OkHttpClient.Builder().build();\n        final String urlToScrape = &quot;https://example.com&quot;;\n        final Request request = new Request.Builder().url(urlToScrape).build();\n        final Response response = client.newCall(request).execute();\n        return response.body().string();\n    }\n\n    private String extractTitle(String content) {\n        final Pattern titleRegExp = Pattern.compile(&quot;&lt;title&gt;(.*?)&lt;/title&gt;&quot;, Pattern.DOTALL);\n        final Matcher matcher = titleRegExp.matcher(content);\n        matcher.find();\n        return matcher.group(1);\n    }\n}\n</code></pre>\n<p>but i get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt)\n        at okhttp3.ConnectionPool.&lt;init&gt;(ConnectionPool.kt:47)\n        at okhttp3.OkHttpClient$Builder.&lt;init&gt;(OkHttpClient.kt:471)\n        at demo.src.main.java.com.example.App.getContent(App.java:20)\n        at demo.src.main.java.com.example.App.main(App.java:14)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 5 more\n</code></pre>\n<p>I can't find why and fix this error.</p>\n<p>To import okhttp i had to download a jar file from maven central (4.9.3) and then in vscode : java project -&gt; add the jar file to the Referenced Libraries.</p>\n<p>I am a beginner in Java and want to clarify that I am not particularly attached to okhttp. If another simpler/efficient library exists, I'm not against it. I just want to be able to scrape in java and then integrate the code into an android application !</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":74365,"reputation":6587,"user_id":213725,"accept_rate":54,"display_name":"DixonD"},"score":0,"creation_date":1287128534,"post_id":3940301,"comment_id":93850759,"body_markdown":"Check this article [Argument matching with Mockito](http://sites.google.com/a/pintailconsultingllc.com/java/argument-matching-with-mockito) for working example.","body":"Check this article <a href=\"http://sites.google.com/a/pintailconsultingllc.com/java/argument-matching-with-mockito\" rel=\"nofollow noreferrer\">Argument matching with Mockito</a> for working example."}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1550692065,"creation_date":1287131280,"answer_id":3940623,"question_id":3940301,"body_markdown":"Just use `Mockito.matches(String)`, for example:\r\n\r\n    Mockito.verify(mockMyObject).\r\n      myMethod(\r\n        Mockito.matches(&quot;(.*apple.*banana.*)|(.*banana.*apple.*)&quot;\r\n      )\r\n    );","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>Just use <code>Mockito.matches(String)</code>, for example:</p>\n\n<pre><code>Mockito.verify(mockMyObject).\n  myMethod(\n    Mockito.matches(\"(.*apple.*banana.*)|(.*banana.*apple.*)\"\n  )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3266202,"reputation":159,"user_id":4328169,"display_name":"ferengra"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1417774536,"creation_date":1417774536,"answer_id":27313542,"question_id":3940301,"body_markdown":"I think the easiest solution is to call the verify() multiple times:\r\n&lt;pre&gt;&lt;code&gt;verify(emailService).sendHtmlMail(anyString(), eq(REPORT_TITLE), contains(&quot;Client response31&quot;));\r\nverify(emailService).sendHtmlMail(anyString(), eq(REPORT_TITLE), contains(&quot;Client response40&quot;));\r\nverify(emailService, never()).sendHtmlMail(anyString(), anyString(), contains(&quot;Client response30&quot;));\r\n&lt;/code&gt;&lt;/pre&gt;","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>I think the easiest solution is to call the verify() multiple times:</p>\n\n<pre><code>verify(emailService).sendHtmlMail(anyString(), eq(REPORT_TITLE), contains(\"Client response31\"));\nverify(emailService).sendHtmlMail(anyString(), eq(REPORT_TITLE), contains(\"Client response40\"));\nverify(emailService, never()).sendHtmlMail(anyString(), anyString(), contains(\"Client response30\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4972328,"reputation":949,"user_id":3999686,"display_name":"Torsten"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1582626275,"creation_date":1550593540,"answer_id":54770817,"question_id":3940301,"body_markdown":"Since Java 8 and Mockito 2.1.0, it is possible to use Streams as follows:\r\n\r\n    Mockito.verify(mockMyObject).myMethod(\r\n        Mockito.argThat(s -&gt; s.contains(&quot;apple&quot;) &amp;&amp; s.contains(&quot;banana&quot;))\r\n    );\r\n\r\nthus improving readability","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>Since Java 8 and Mockito 2.1.0, it is possible to use Streams as follows:</p>\n\n<pre><code>Mockito.verify(mockMyObject).myMethod(\n    Mockito.argThat(s -&gt; s.contains(\"apple\") &amp;&amp; s.contains(\"banana\"))\n);\n</code></pre>\n\n<p>thus improving readability</p>\n"},{"tags":[],"owner":{"account_id":7995070,"reputation":196,"user_id":6031679,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1565650555,"creation_date":1565650555,"answer_id":57469210,"question_id":3940301,"body_markdown":"Maybe this is not relevant anymore but I found another way to do it, following Torsten answer and this other [answer][1]. In my case I used Hamcrest [Matchers][2]\r\n\r\n    Mockito.verify(mockMyObject).myMethod(\r\n       Mockito.argThat(Matchers.allOf(\r\n          Matchers.containsString(&quot;apple&quot;),\r\n          Matchers.containsString(&quot;banana&quot;))));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17403934/6031679\r\n  [2]: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>Maybe this is not relevant anymore but I found another way to do it, following Torsten answer and this other <a href=\"https://stackoverflow.com/a/17403934/6031679\">answer</a>. In my case I used Hamcrest <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html\" rel=\"noreferrer\">Matchers</a></p>\n\n<pre><code>Mockito.verify(mockMyObject).myMethod(\n   Mockito.argThat(Matchers.allOf(\n      Matchers.containsString(\"apple\"),\n      Matchers.containsString(\"banana\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8172150,"reputation":21,"user_id":6152224,"display_name":"Peto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658314778,"creation_date":1658314778,"answer_id":73050449,"question_id":3940301,"body_markdown":"You can also use Mockito&#39;s `AdditionalMatchers`:\r\n\r\n    Mockito.verify(mockMyObject).myMethod(\r\n    AdditionalMatchers.and(Mockito.contains(&quot;apple&quot;), Mockito.contains(&quot;banana&quot;)));\r\n\r\nMore info https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalMatchers.html#and(T,T)","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>You can also use Mockito's <code>AdditionalMatchers</code>:</p>\n<pre><code>Mockito.verify(mockMyObject).myMethod(\nAdditionalMatchers.and(Mockito.contains(&quot;apple&quot;), Mockito.contains(&quot;banana&quot;)));\n</code></pre>\n<p>More info <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalMatchers.html#and(T,T)\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalMatchers.html#and(T,T)</a></p>\n"}],"owner":{"account_id":57191,"reputation":7863,"user_id":171296,"accept_rate":100,"display_name":"tttppp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39019,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":3940623,"answer_count":5,"score":42,"last_activity_date":1658314778,"creation_date":1287128023,"question_id":3940301,"body_markdown":"I have a line in my test that currently looks like:\r\n\r\n    Mockito.verify(mockMyObject).myMethod(Mockito.contains(&quot;apple&quot;));\r\n\r\nI would like to modify it to check if the parameter contains both &lt;code&gt;&quot;apple&quot;&lt;/code&gt; and &lt;code&gt;&quot;banana&quot;&lt;/code&gt;.  How would I go about this?","title":"How to check if a parameter contains two substrings using Mockito?","body":"<p>I have a line in my test that currently looks like:</p>\n\n<pre><code>Mockito.verify(mockMyObject).myMethod(Mockito.contains(\"apple\"));\n</code></pre>\n\n<p>I would like to modify it to check if the parameter contains both <code>\"apple\"</code> and <code>\"banana\"</code>.  How would I go about this?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-data","spring-mvc-test"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1592837269,"post_id":62517000,"comment_id":110560380,"body_markdown":"can you show the code of MyController","body":"can you show the code of MyController"},{"owner":{"account_id":11880689,"reputation":171,"user_id":8694475,"display_name":"Erick Siordia"},"score":0,"creation_date":1592837577,"post_id":62517000,"comment_id":110560598,"body_markdown":"Sure, I&#39;ll add it to the original post","body":"Sure, I&#39;ll add it to the original post"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1592838016,"post_id":62517000,"comment_id":110560907,"body_markdown":"And where is myManager used?","body":"And where is myManager used?"},{"owner":{"account_id":11880689,"reputation":171,"user_id":8694475,"display_name":"Erick Siordia"},"score":0,"creation_date":1592838263,"post_id":62517000,"comment_id":110561037,"body_markdown":"myManager is part of some external libraries I use in other parts of the main application, but I want to ignore all those, since I will be mocking the service response because I&#39;m unit testing the controller. myManager is not used by the repository or the service, is just another functionality of my application.","body":"myManager is part of some external libraries I use in other parts of the main application, but I want to ignore all those, since I will be mocking the service response because I&#39;m unit testing the controller. myManager is not used by the repository or the service, is just another functionality of my application."}],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592845712,"creation_date":1592845712,"answer_id":62519800,"question_id":62517000,"body_markdown":"Declare separate configuration \r\n```java\r\n@Configuration\r\n@EnableJpaRepositories\r\npublic class DataConfiguration { ... }\r\n```\r\nImport it into the application\r\n\r\n```java\r\n@SpringBootApplication\r\n@Import({ DataConfiguration.class })\r\npublic class MainApplication { ... } \r\n```\r\n\r\nbut don&#39;t import into `MyControllerTest`\r\n\r\n","title":"How to exclude @EnableJpaRepositories from test?","body":"<p>Declare separate configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJpaRepositories\npublic class DataConfiguration { ... }\n</code></pre>\n<p>Import it into the application</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@Import({ DataConfiguration.class })\npublic class MainApplication { ... } \n</code></pre>\n<p>but don't import into <code>MyControllerTest</code></p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658314461,"creation_date":1613042093,"answer_id":66153664,"question_id":62517000,"body_markdown":"**Quick solution**\r\n\r\nRemove `@EnableJpaRepositories` from your Spring Boot Application class. Use: \r\n\r\n    @SpringBootApplication\r\n    public class MainApplication { \r\n    \r\n    }\r\n\r\nin place of\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories\r\n    public class MainApplication { \r\n    \r\n    }\r\n\r\nIn this case Spring Boot will find Spring Data JPA on the classpath and uses auto-configuration to scan packages for the repositories.\r\n\r\n**Use `@EnableJpaRepositories` to scan a specific package**\r\n\r\nUse @NikolaiShevchenko solution (it is incorrect) with a separate configuration, but without explicit importing it, by `@Import({ DataConfiguration.class })`, (because tests will be explicitly import the configuration too) and let Spring Boot find your configuration during packages scan.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class MainApplication { \r\n    \r\n    }\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.app.entities&quot;)\r\n    public class JpaConfig {\r\n    \r\n    }\r\n\r\n**Important**\r\n\r\nDon&#39;t forget to add `basePackages` property, if you put your configuration in a separate package.\r\n","title":"How to exclude @EnableJpaRepositories from test?","body":"<p><strong>Quick solution</strong></p>\n<p>Remove <code>@EnableJpaRepositories</code> from your Spring Boot Application class. Use:</p>\n<pre><code>@SpringBootApplication\npublic class MainApplication { \n\n}\n</code></pre>\n<p>in place of</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories\npublic class MainApplication { \n\n}\n</code></pre>\n<p>In this case Spring Boot will find Spring Data JPA on the classpath and uses auto-configuration to scan packages for the repositories.</p>\n<p><strong>Use <code>@EnableJpaRepositories</code> to scan a specific package</strong></p>\n<p>Use @NikolaiShevchenko solution (it is incorrect) with a separate configuration, but without explicit importing it, by <code>@Import({ DataConfiguration.class })</code>, (because tests will be explicitly import the configuration too) and let Spring Boot find your configuration during packages scan.</p>\n<pre><code>@SpringBootApplication\npublic class MainApplication { \n\n}\n\n@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.app.entities&quot;)\npublic class JpaConfig {\n\n}\n</code></pre>\n<p><strong>Important</strong></p>\n<p>Don't forget to add <code>basePackages</code> property, if you put your configuration in a separate package.</p>\n"}],"owner":{"account_id":11880689,"reputation":171,"user_id":8694475,"display_name":"Erick Siordia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3529,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1658314461,"creation_date":1592836820,"question_id":62517000,"body_markdown":"I have a main `@SpringBootApplication` which needs to scan a specific package in order to enable the JPA repositories, so I use `@EnableJpaRepositories` to specify that. Right now I&#39;m implementing unit tests and I want to test the Controller component only, so I followed the tutorial in the official docs where they use `@WebMvcTest(MyController.class)` to test a controller with a service dependency.\r\nThe problem is that this is not working for me because it is trying to load the JpaRepositories that I specify in the main Spring Boot application (when I comment the `@EnableJpaRepositories` in the main class the test runs without problem).\r\n\r\nI&#39;m guessing I need to create a specific configuration for the test class so it can ignore the main configuration (since I only want to load the Controller and mock the service layer), but I don&#39;t know how to create such. I tried adding an empty configuration, but it is still failing with the same error:\r\n\r\n    @TestConfiguration\r\n    static class TestConfig {}\r\n\r\nThis is the error I get:\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;failureTaskHandler&#39;: Unsatisfied dependency expressed through field &#39;myManager&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;msgManager&#39;: Unsatisfied dependency expressed through field &#39;inboundManager&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inboundManager&#39;: Unsatisfied dependency expressed through field &#39;messageRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageRepository&#39; defined in com.example.MessageRepository defined in @EnableJpaRepositories declared on MonitorApplication: Cannot create inner bean &#39;(inner bean)#45e639ee&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#45e639ee&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\r\nAnd my test class:\r\n\r\n\r\n    \r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest {\r\n    \r\n      @Autowired private MockMvc mvc;\r\n    \r\n      @MockBean private MyService service;\r\n\r\n    \r\n      // Tests here\r\n  \r\n      // @Test\r\n      // public void...\r\n\r\n\r\n    }\r\n\r\nMyController class:\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @Slf4j\r\n    public class MyController {\r\n    \r\n      @Autowired private MyService service;\r\n    \r\n      @PostMapping(value = &quot;/search&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public @ResponseBody SearchResponse getOrders(@RequestBody SearchRequest orderSearchRequest) {\r\n        log.info(&quot;Receiving orders request...&quot;);\r\n        return service.getOrders(orderSearchRequest);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n","title":"How to exclude @EnableJpaRepositories from test?","body":"<p>I have a main <code>@SpringBootApplication</code> which needs to scan a specific package in order to enable the JPA repositories, so I use <code>@EnableJpaRepositories</code> to specify that. Right now I'm implementing unit tests and I want to test the Controller component only, so I followed the tutorial in the official docs where they use <code>@WebMvcTest(MyController.class)</code> to test a controller with a service dependency.\nThe problem is that this is not working for me because it is trying to load the JpaRepositories that I specify in the main Spring Boot application (when I comment the <code>@EnableJpaRepositories</code> in the main class the test runs without problem).</p>\n<p>I'm guessing I need to create a specific configuration for the test class so it can ignore the main configuration (since I only want to load the Controller and mock the service layer), but I don't know how to create such. I tried adding an empty configuration, but it is still failing with the same error:</p>\n<pre><code>@TestConfiguration\nstatic class TestConfig {}\n</code></pre>\n<p>This is the error I get:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'failureTaskHandler': Unsatisfied dependency expressed through field 'myManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'msgManager': Unsatisfied dependency expressed through field 'inboundManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inboundManager': Unsatisfied dependency expressed through field 'messageRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageRepository' defined in com.example.MessageRepository defined in @EnableJpaRepositories declared on MonitorApplication: Cannot create inner bean '(inner bean)#45e639ee' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#45e639ee': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n</code></pre>\n<p>And my test class:</p>\n<pre><code>@WebMvcTest(MyController.class)\npublic class MyControllerTest {\n\n  @Autowired private MockMvc mvc;\n\n  @MockBean private MyService service;\n\n\n  // Tests here\n\n  // @Test\n  // public void...\n\n\n}\n</code></pre>\n<p>MyController class:</p>\n<pre><code>@RestController\n@CrossOrigin\n@RequestMapping(&quot;/api&quot;)\n@Slf4j\npublic class MyController {\n\n  @Autowired private MyService service;\n\n  @PostMapping(value = &quot;/search&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n  public @ResponseBody SearchResponse getOrders(@RequestBody SearchRequest orderSearchRequest) {\n    log.info(&quot;Receiving orders request...&quot;);\n    return service.getOrders(orderSearchRequest);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658314441,"creation_date":1658312000,"answer_id":73049771,"question_id":73043530,"body_markdown":"Just use\r\n```java\r\n@Value(&quot;#{&#39;${my.list:}&#39;.split(&#39;;&#39;)}#{T(java.util.Collections).emptyList()}&quot;)\r\nList&lt;String&gt; listValue;\r\n```","title":"Spring, inject list value with SPEL using split and default empty","body":"<p>Just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{'${my.list:}'.split(';')}#{T(java.util.Collections).emptyList()}&quot;)\nList&lt;String&gt; listValue;\n</code></pre>\n"}],"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73049771,"answer_count":1,"score":0,"last_activity_date":1658314441,"creation_date":1658265163,"question_id":73043530,"body_markdown":"I want this property mapped on application.properties\r\n\r\n    my.list=a;b;c\r\n\r\nconverted to a List&lt;String&gt; (or eventually a String[]); there are 2 requirements;\r\n\r\n1. my.list is separated by ; char\r\n2. my.list could be empty\r\n\r\nI tried with:\r\n\r\n    @Value(&quot;#{T(java.util.Arrays).asList(&#39;${my.list:}&#39;.split(&#39;;&#39;))}&quot;)\r\n\r\nbut it doesn&#39;t work as expected, as passing multiple values convert the list with a single element &quot;a,b,c&quot;.\r\n\r\nPS\r\nI already know there is a very similare [SO question][1], however the solution was not tested with separator different from &#39;,&#39;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49367006/spring-value-with-arraylist-split-and-default-empty-list","title":"Spring, inject list value with SPEL using split and default empty","body":"<p>I want this property mapped on application.properties</p>\n<pre><code>my.list=a;b;c\n</code></pre>\n<p>converted to a List (or eventually a String[]); there are 2 requirements;</p>\n<ol>\n<li>my.list is separated by ; char</li>\n<li>my.list could be empty</li>\n</ol>\n<p>I tried with:</p>\n<pre><code>@Value(&quot;#{T(java.util.Arrays).asList('${my.list:}'.split(';'))}&quot;)\n</code></pre>\n<p>but it doesn't work as expected, as passing multiple values convert the list with a single element &quot;a,b,c&quot;.</p>\n<p>PS\nI already know there is a very similare <a href=\"https://stackoverflow.com/questions/49367006/spring-value-with-arraylist-split-and-default-empty-list\">SO question</a>, however the solution was not tested with separator different from ','.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658241024,"post_id":73033296,"comment_id":128999653,"body_markdown":"The output **where**? What are you using to read the data? Also, after selecting the key, why do you need to use the author from the value anymore?","body":"The output <b>where</b>? What are you using to read the data? Also, after selecting the key, why do you need to use the author from the value anymore?"},{"owner":{"account_id":19959049,"reputation":31,"user_id":14627085,"display_name":"Wudanty"},"score":0,"creation_date":1658302001,"post_id":73033296,"comment_id":129014678,"body_markdown":"the output is sent over to &quot;output_topic&quot; with `keyWithCount.toStream().to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Long()));` The record sent should consist of a key that equals an author&#39;s name and the value should be a count of Books with that author. I&#39;m pretty sure that to read data I&#39;m using this line KStream&lt;String,Book&gt; stream = streamsBuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new BookSerde()));","body":"the output is sent over to &quot;output_topic&quot; with <code>keyWithCount.toStream().to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Long()));</code> The record sent should consist of a key that equals an author&#39;s name and the value should be a count of Books with that author. I&#39;m pretty sure that to read data I&#39;m using this line KStream&lt;String,Book&gt; stream = streamsBuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new BookSerde()));"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1658323669,"post_id":73033296,"comment_id":129023248,"body_markdown":"That consumes the input topic, not the output topic with &quot;random symbols&quot;. If you&#39;re seeing emoticons, that&#39;s partially an issue with the encoding settings of your OS terminal and Kafka console consumer defaulting to utf8 deserialization","body":"That consumes the input topic, not the output topic with &quot;random symbols&quot;. If you&#39;re seeing emoticons, that&#39;s partially an issue with the encoding settings of your OS terminal and Kafka console consumer defaulting to utf8 deserialization"}],"answers":[{"tags":[],"owner":{"account_id":19959049,"reputation":31,"user_id":14627085,"display_name":"Wudanty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658314005,"creation_date":1658314005,"answer_id":73050271,"question_id":73033296,"body_markdown":"My findings with peek() should&#39;ve been the giveaway. The issue layed not in the code but in the configuration of kafka-console-consumer. The default value deserializer couldn&#39;t deserialize a long value. To fix that i had to add `--value-deserializer &quot;org.apache.kafka.common.serialization.LongDeserializer&quot;` while initializing the consumer.","title":"Counting kafka messages with same key value using kafka streams","body":"<p>My findings with peek() should've been the giveaway. The issue layed not in the code but in the configuration of kafka-console-consumer. The default value deserializer couldn't deserialize a long value. To fix that i had to add <code>--value-deserializer &quot;org.apache.kafka.common.serialization.LongDeserializer&quot;</code> while initializing the consumer.</p>\n"}],"owner":{"account_id":19959049,"reputation":31,"user_id":14627085,"display_name":"Wudanty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73050271,"answer_count":1,"score":2,"last_activity_date":1658314005,"creation_date":1658217997,"question_id":73033296,"body_markdown":"I have a Java Spring Kafka application that sends Objects of type Book to the Kafka topic. Then I&#39;m trying to use Kafka streams to map each message to have Book&#39;s author as its key. Then I&#39;m trying to add them to a KTable that holds keys and the number of messages that have this key. The Table is then sent over to an output kafka topic.\r\n\r\nBook Model:\r\n```\r\n@Data\r\npublic class Book {\r\n    private UUID id;\r\n    private String name;\r\n    private String author;\r\n    private LocalTime date;\r\n}\r\n```\r\nStream structure:\r\n```\r\nStreamsBuilder streamsBuilder = new StreamsBuilder();\r\n        KStream&lt;String,Book&gt; stream = streamsBuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new BookSerde()));\r\n        stream = stream.selectKey((key,value)-&gt;value.getAuthor());\r\n \r\n        KTable&lt;String ,Long&gt; keyWithCount = stream.groupBy((key, value) -&gt; value.getAuthor()).count();\r\n        keyWithCount.toStream().to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n \r\n        KafkaStreams kafkaStreams = new KafkaStreams(streamsBuilder.build(), config);\r\n        kafkaStreams.start();\r\n```\r\nAfter running the app, the output shows each unique key but random emotes instead of counting.\r\n\r\nA peculiar thing I found after messing with `.peek()`. I printed the key and value right before sending to the topic and it shows that it works the way it should! The problem however is that the kafka console consumer of the topic doesn&#39;t show numbers in the count but rather some random symbols such as diamond, heart, smiley face etc.\r\n\r\nAn example would be that after sending a Book with &quot;A&quot; as author to my producer to parent topic my streaming app counts it as the first book, prints &quot;A 1&quot; but in the kafka-console-consumer it looks like &quot;A ☺&quot;.","title":"Counting kafka messages with same key value using kafka streams","body":"<p>I have a Java Spring Kafka application that sends Objects of type Book to the Kafka topic. Then I'm trying to use Kafka streams to map each message to have Book's author as its key. Then I'm trying to add them to a KTable that holds keys and the number of messages that have this key. The Table is then sent over to an output kafka topic.</p>\n<p>Book Model:</p>\n<pre><code>@Data\npublic class Book {\n    private UUID id;\n    private String name;\n    private String author;\n    private LocalTime date;\n}\n</code></pre>\n<p>Stream structure:</p>\n<pre><code>StreamsBuilder streamsBuilder = new StreamsBuilder();\n        KStream&lt;String,Book&gt; stream = streamsBuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new BookSerde()));\n        stream = stream.selectKey((key,value)-&gt;value.getAuthor());\n \n        KTable&lt;String ,Long&gt; keyWithCount = stream.groupBy((key, value) -&gt; value.getAuthor()).count();\n        keyWithCount.toStream().to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n \n        KafkaStreams kafkaStreams = new KafkaStreams(streamsBuilder.build(), config);\n        kafkaStreams.start();\n</code></pre>\n<p>After running the app, the output shows each unique key but random emotes instead of counting.</p>\n<p>A peculiar thing I found after messing with <code>.peek()</code>. I printed the key and value right before sending to the topic and it shows that it works the way it should! The problem however is that the kafka console consumer of the topic doesn't show numbers in the count but rather some random symbols such as diamond, heart, smiley face etc.</p>\n<p>An example would be that after sending a Book with &quot;A&quot; as author to my producer to parent topic my streaming app counts it as the first book, prints &quot;A 1&quot; but in the kafka-console-consumer it looks like &quot;A ☺&quot;.</p>\n"},{"tags":["java","spring-boot","maven","dependencies"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658312547,"post_id":73049867,"comment_id":129018651,"body_markdown":"Is the problem IntelliJ or Maven? Invoke Maven from the command line. If the build completes successfully, you&#39;ve isolated the issue to IntelliJ.","body":"Is the problem IntelliJ or Maven? Invoke Maven from the command line. If the build completes successfully, you&#39;ve isolated the issue to IntelliJ."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658312667,"post_id":73049867,"comment_id":129018692,"body_markdown":"Please show the full pom files and the whole log output including error messages... why do you use https://jitpack.io ? Have you confgured that in your pom file? Why not using a repository manager ?","body":"Please show the full pom files and the whole log output including error messages... why do you use <a href=\"https://jitpack.io\" rel=\"nofollow noreferrer\">jitpack.io</a> ? Have you confgured that in your pom file? Why not using a repository manager ?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658312785,"post_id":73049867,"comment_id":129018730,"body_markdown":"@khmarbaise Why is the first question relevant? It&#39;s a perfectly valid repository.","body":"@khmarbaise Why is the first question relevant? It&#39;s a perfectly valid repository."},{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1658312990,"post_id":73049867,"comment_id":129018810,"body_markdown":"Actually the problem is the same with command line","body":"Actually the problem is the same with command line"},{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1658313077,"post_id":73049867,"comment_id":129018839,"body_markdown":"Yes i added jitpack.io for the needs of the project ( in pom.xml )","body":"Yes i added jitpack.io for the needs of the project ( in pom.xml )"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658313119,"post_id":73049867,"comment_id":129018858,"body_markdown":"The problem is simply because your build does not work...and tries to check jitpack which means your configuration in your build is simply wrong... Always use a repository manager never rely on external resources...","body":"The problem is simply because your build does not work...and tries to check jitpack which means your configuration in your build is simply wrong... Always use a repository manager never rely on external resources..."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658313254,"post_id":73049867,"comment_id":129018904,"body_markdown":"@khmarbaise Please... You are muddying the issue by trying to suggest best practices, when what they are trying attempting to achieve is already *perfectly valid*. &quot;*Do X valid thing instead of Y valid thing*&quot; is **not** an explanation as to why X valid thing doesn&#39;t work.","body":"@khmarbaise Please... You are muddying the issue by trying to suggest best practices, when what they are trying attempting to achieve is already <i>perfectly valid</i>. &quot;<i>Do X valid thing instead of Y valid thing</i>&quot; is <b>not</b> an explanation as to why X valid thing doesn&#39;t work."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658314062,"post_id":73049867,"comment_id":129019221,"body_markdown":"If it would be perfectly &quot;valid&quot;  it would work but it does not... So there must be something wrong with the &quot;valid&quot; ...","body":"If it would be perfectly &quot;valid&quot;  it would work but it does not... So there must be something wrong with the &quot;valid&quot; ..."}],"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658313689,"creation_date":1658312378,"question_id":73049867,"body_markdown":"I have two Spring Boot projets. Project B depends on project A.\r\nBoth are using maven to manage their dependencies.\r\n\r\nThe problem is i cannot run project B since Intellij can&#39;t import project A classes and give me this error : \r\n\r\n    [ERROR] Failed to execute goal on project B: Could not resolve \r\n    dependencies for project A:1.0.0-SNAPSHOT: The \r\n    following artifacts could not be resolved: X:jar:1.2.1-SNAPSHOT, Y:jar:1.2.1-SNAPSHOT, \r\n    Z:jar:1.2.1-SNAPSHOT: was not found in https://jitpack.io during a previous attempt. This \r\n    failure was cached in the local repository and resolution is not \r\n\r\nOf course all these artifacts are in the default local repository, and in the XML settings file i didn&#39;t specify any repository path other than the default one **( ${user.home}/.m2/repository )**.\r\nSo it should search for the dependecies in the local .m2 repo instead of checking in remote repo **( jitpack.io )**\r\n\r\nThis is weird because these projects works absolutely fine on another device.\r\n\r\nI tried multiple solutions : \r\n\r\n - invalidate the cache and restart\r\n - force the project to reimport it dependencies\r\n - delete the pom.xml and recreate it\r\n - tried with a new project C which also fails\r\n - checked the settings and the repo&#39;s are on point\r\n - deleted the .idea file\r\n - updated the maven repo&#39;s index\r\n - deleted the whole maven folder\r\n - reinstalled new versions for both Intellij and maven\r\n\r\nIt seems like nothing is working.\r\nAny solutions ?\r\n\r\nFor the errors i got two differents : \r\nWhen i try to build the projet with intellij i get multiple errors for classes which aren&#39;t recognized, example : \r\n\r\n    java: package A.common.exception does not exist\r\n\r\nI get the other one when i try to build it in shell with &quot;mvn clean install&quot;, here is the complete stacktrace : \r\n\r\n        [ERROR] Failed to execute goal on project oksymed-connect-common: Could not resolve dependencies for project com.oksymed.connect:oksymed-connect-common:jar:1.0.0-SNAPSHOT: The followin\r\n    g artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2\r\n    .1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cached in the local repository and resolution is not \r\n    reattempted until the update interval of jitpack.io has elapsed or updates are forced -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project oksymed-connect-common: Could not resolve dependencies for project com.oksymed.connect:oksymed\r\n    -connect-common:jar:1.0.0-SNAPSHOT: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:\r\n    1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cache\r\n    d in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:269)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.project.DependencyResolutionException: Could not resolve dependencies for project com.oksymed.connect:oksymed-connect-common:jar:1.0.0-SNAPSHOT: The followi\r\n    ng artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.\r\n    2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cached in the local repository and resolution is not\r\n     reattempted until the update interval of jitpack.io has elapsed or updates are forced\r\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:198)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.eclipse.aether.resolution.DependencyResolutionException: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.\r\n    2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a prev\r\n    ious attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\r\n        at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:357)\r\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.\r\n    1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previo\r\n    us attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:425)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\r\n        at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\r\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.eclipse.aether.transfer.ArtifactNotFoundException: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was \r\n    cached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\r\n        at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.newException (DefaultUpdateCheckManager.java:217)\r\n        at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkArtifact (DefaultUpdateCheckManager.java:189)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.gatherDownloads (DefaultArtifactResolver.java:574)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:484)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:402)\r\n        at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\r\n        at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\r\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n\r\n","title":"Maven ignores local default repository","body":"<p>I have two Spring Boot projets. Project B depends on project A.\nBoth are using maven to manage their dependencies.</p>\n<p>The problem is i cannot run project B since Intellij can't import project A classes and give me this error :</p>\n<pre><code>[ERROR] Failed to execute goal on project B: Could not resolve \ndependencies for project A:1.0.0-SNAPSHOT: The \nfollowing artifacts could not be resolved: X:jar:1.2.1-SNAPSHOT, Y:jar:1.2.1-SNAPSHOT, \nZ:jar:1.2.1-SNAPSHOT: was not found in https://jitpack.io during a previous attempt. This \nfailure was cached in the local repository and resolution is not \n</code></pre>\n<p>Of course all these artifacts are in the default local repository, and in the XML settings file i didn't specify any repository path other than the default one <strong>( ${user.home}/.m2/repository )</strong>.\nSo it should search for the dependecies in the local .m2 repo instead of checking in remote repo <strong>( jitpack.io )</strong></p>\n<p>This is weird because these projects works absolutely fine on another device.</p>\n<p>I tried multiple solutions :</p>\n<ul>\n<li>invalidate the cache and restart</li>\n<li>force the project to reimport it dependencies</li>\n<li>delete the pom.xml and recreate it</li>\n<li>tried with a new project C which also fails</li>\n<li>checked the settings and the repo's are on point</li>\n<li>deleted the .idea file</li>\n<li>updated the maven repo's index</li>\n<li>deleted the whole maven folder</li>\n<li>reinstalled new versions for both Intellij and maven</li>\n</ul>\n<p>It seems like nothing is working.\nAny solutions ?</p>\n<p>For the errors i got two differents :\nWhen i try to build the projet with intellij i get multiple errors for classes which aren't recognized, example :</p>\n<pre><code>java: package A.common.exception does not exist\n</code></pre>\n<p>I get the other one when i try to build it in shell with &quot;mvn clean install&quot;, here is the complete stacktrace :</p>\n<pre><code>    [ERROR] Failed to execute goal on project oksymed-connect-common: Could not resolve dependencies for project com.oksymed.connect:oksymed-connect-common:jar:1.0.0-SNAPSHOT: The followin\ng artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2\n.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cached in the local repository and resolution is not \nreattempted until the update interval of jitpack.io has elapsed or updates are forced -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project oksymed-connect-common: Could not resolve dependencies for project com.oksymed.connect:oksymed\n-connect-common:jar:1.0.0-SNAPSHOT: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:\n1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cache\nd in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:269)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.project.DependencyResolutionException: Could not resolve dependencies for project com.oksymed.connect:oksymed-connect-common:jar:1.0.0-SNAPSHOT: The followi\nng artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.\n2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was cached in the local repository and resolution is not\n reattempted until the update interval of jitpack.io has elapsed or updates are forced\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:198)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.eclipse.aether.resolution.DependencyResolutionException: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.\n2.1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a prev\nious attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:357)\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: The following artifacts could not be resolved: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT, com.lfk:lfk-elastic:jar:1.2.\n1-SNAPSHOT, com.lfk:lfk-mongo:jar:1.2.1-SNAPSHOT, com.lfk:lfk-mongoElastic:jar:1.2.1-SNAPSHOT: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previo\nus attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:425)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: com.lfk:lfk-common:jar:1.2.1-SNAPSHOT was not found in https://jitpack.io during a previous attempt. This failure was \ncached in the local repository and resolution is not reattempted until the update interval of jitpack.io has elapsed or updates are forced\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.newException (DefaultUpdateCheckManager.java:217)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkArtifact (DefaultUpdateCheckManager.java:189)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.gatherDownloads (DefaultArtifactResolver.java:574)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:484)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:402)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:191)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"},{"tags":["java","regex","gradle"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1659814519,"post_id":73049737,"comment_id":129386169,"body_markdown":"If you still need help, could you please create a live online demo/fiddle?","body":"If you still need help, could you please create a live online demo/fiddle?"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658313670,"creation_date":1658313344,"answer_id":73050101,"question_id":73049737,"body_markdown":"This isn&#39;t JavaScript and  I&#39;m not certain if this is Java, because there&#39;s also Groovy keywords.\r\n\r\n    Matcher m = Pattern.compile(&quot;(.+?):(.+?):(.+?)@trs&quot;).matcher($line);\r\n    ArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n    while (m.find()) {matches.add(m.group(0));}\r\n\r\nIn short: don&#39;t mix up three languages, but stick with one.","title":"Extracting information from gradle file with regex","body":"<p>This isn't JavaScript and  I'm not certain if this is Java, because there's also Groovy keywords.</p>\n<pre><code>Matcher m = Pattern.compile(&quot;(.+?):(.+?):(.+?)@trs&quot;).matcher($line);\nArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\nwhile (m.find()) {matches.add(m.group(0));}\n</code></pre>\n<p>In short: don't mix up three languages, but stick with one.</p>\n"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658313670,"creation_date":1658311841,"question_id":73049737,"body_markdown":"I have a text file(scriptdocument.txt) as follows: \r\n```\r\n// Files \r\nFile &#39;de.package.files.func:Lib1:1.1.1:32-bit@trs&#39; \r\nFile &#39;de.package.files.func:Lib2:1.3.6:64-bit@trs&#39; \r\nFile &#39;de.package.files.func:Lib3:1.+:lib@trs&#39; \r\nFile &#39;de.package.files.func:Lib4:1.+:lib@trs&#39; \r\n```\r\n\r\nI am only interested in extracting the information aftr the second &#39;:&#39; till &#39;@&#39;\r\nie: the number associated in each line for each lib\r\neg: lib1 version is 1.1.1:32-bit\r\n and   lib2 version is 1.3.6:64-bit\r\n\r\nSo I make use of the regex in the gradle file as follows: \r\n\r\n```\r\nFile file = new File(&quot;scriptdocument.txt&quot;)\r\nScanner fileScanner = new Scanner(file)\r\n\r\ndef line, lineNumber = 0\r\nwhile(fileScanner.hasNextLine()){\r\n    if(lineNumber!=0){\r\n        line = fileScanner.nextLine()\r\n        def regex = /(.+?):(.+?):(.+?)@trs/ //throws an error\r\n        def match = $line =~regex   //throws an error\r\n\r\n\r\n    }\r\n    lineNumber++\r\n}\r\nfileScanner.close()\r\n```\r\n\r\nI want the matches to be stored in the list, so that I can use them.. I observed that the regex shows a match on the regex101.com. Attached is the snapshot[![regex][1]][1]\r\n\r\n\r\n\r\nAny help with the gradle script would be helpful. Looking forward for some suggestions\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y79DN.png","title":"Extracting information from gradle file with regex","body":"<p>I have a text file(scriptdocument.txt) as follows:</p>\n<pre><code>// Files \nFile 'de.package.files.func:Lib1:1.1.1:32-bit@trs' \nFile 'de.package.files.func:Lib2:1.3.6:64-bit@trs' \nFile 'de.package.files.func:Lib3:1.+:lib@trs' \nFile 'de.package.files.func:Lib4:1.+:lib@trs' \n</code></pre>\n<p>I am only interested in extracting the information aftr the second ':' till '@'\nie: the number associated in each line for each lib\neg: lib1 version is 1.1.1:32-bit\nand   lib2 version is 1.3.6:64-bit</p>\n<p>So I make use of the regex in the gradle file as follows:</p>\n<pre><code>File file = new File(&quot;scriptdocument.txt&quot;)\nScanner fileScanner = new Scanner(file)\n\ndef line, lineNumber = 0\nwhile(fileScanner.hasNextLine()){\n    if(lineNumber!=0){\n        line = fileScanner.nextLine()\n        def regex = /(.+?):(.+?):(.+?)@trs/ //throws an error\n        def match = $line =~regex   //throws an error\n\n\n    }\n    lineNumber++\n}\nfileScanner.close()\n</code></pre>\n<p>I want the matches to be stored in the list, so that I can use them.. I observed that the regex shows a match on the regex101.com. Attached is the snapshot<a href=\"https://i.stack.imgur.com/Y79DN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y79DN.png\" alt=\"regex\" /></a></p>\n<p>Any help with the gradle script would be helpful. Looking forward for some suggestions</p>\n"},{"tags":["java","spring","spring-boot","cassandra","spring-data-cassandra"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1655181347,"post_id":72611476,"comment_id":128264451,"body_markdown":"First thought : Over the wire , how would you serialize and de-serialize things like connection handles and sessions (never seen this pattern). Even if there was , what happens if an application closes the handle ?","body":"First thought : Over the wire , how would you serialize and de-serialize things like connection handles and sessions (never seen this pattern). Even if there was , what happens if an application closes the handle ?"},{"owner":{"account_id":16132612,"reputation":13,"user_id":11645832,"display_name":"elkkrover87"},"score":0,"creation_date":1655181648,"post_id":72611476,"comment_id":128264514,"body_markdown":"@Ramachandran.A.G Yes, I&#39;m not sure about that too. I need to either connect to multiple clusters in a single microservice or use the 2nd microservice as a bridge to write to the 2nd cluster. This is where I&#39;m very confused and I didn&#39;t have success connecting to both clusters in a single microservice.","body":"@Ramachandran.A.G Yes, I&#39;m not sure about that too. I need to either connect to multiple clusters in a single microservice or use the 2nd microservice as a bridge to write to the 2nd cluster. This is where I&#39;m very confused and I didn&#39;t have success connecting to both clusters in a single microservice."}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658313666,"creation_date":1658313666,"answer_id":73050183,"question_id":72611476,"body_markdown":"In case you haven&#39;t already seen them, these are some of the implementations I&#39;ve seen:\r\n\r\n - https://stackoverflow.com/questions/52123266/\r\n - https://stackoverflow.com/questions/56635675/\r\n - https://gist.github.com/mp911de/5da6b66c546f840030ebfd3f8a3ea0e2\r\n\r\nFor the record, I haven&#39;t tried them myself so YMMV. Cheers!","title":"Is it possible to return Cassandra Session object in REST API?","body":"<p>In case you haven't already seen them, these are some of the implementations I've seen:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52123266/\">Spring Boot 2 Cassandra multiple keyspaces or clusters</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56635675/\">Connect to 2 cassandra clusters in spring data</a></li>\n<li><a href=\"https://gist.github.com/mp911de/5da6b66c546f840030ebfd3f8a3ea0e2\" rel=\"nofollow noreferrer\">https://gist.github.com/mp911de/5da6b66c546f840030ebfd3f8a3ea0e2</a></li>\n</ul>\n<p>For the record, I haven't tried them myself so YMMV. Cheers!</p>\n"}],"owner":{"account_id":16132612,"reputation":13,"user_id":11645832,"display_name":"elkkrover87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658313666,"creation_date":1655180233,"question_id":72611476,"body_markdown":"I&#39;m looking for possible solutions to connect to multiple Cassandra clusters. I tried some solutions presented, but couldn&#39;t make them work. So, I have decided to create a microservice to connect to the 2nd cluster. However, I&#39;m trying to reduce the amount of duplicate code for the prepared statements. So, I was thinking, if it&#39;s possible to return the session object.\r\n\r\nWhen I try to run this snippet of code, I get Http Status as 415, unsupported media type. Is this the right solution to reduce the duplicate code or what are other options ?\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class controller {\r\n       private CassandraOperations cassandraOperations;\r\n       private CqlTemplate cqlTemplate;\r\n      \r\n       @PostMapping(value=&quot;/value&quot;)\r\n       public Session returnSession(String query) {\r\n         cqlTemplate = (CqlTemplate) cassandraOperations.getCqlOperations();\r\n         return cqlTemplate.getSessionFactory().getSession();\r\n         \r\n       }\r\n    } ","title":"Is it possible to return Cassandra Session object in REST API?","body":"<p>I'm looking for possible solutions to connect to multiple Cassandra clusters. I tried some solutions presented, but couldn't make them work. So, I have decided to create a microservice to connect to the 2nd cluster. However, I'm trying to reduce the amount of duplicate code for the prepared statements. So, I was thinking, if it's possible to return the session object.</p>\n<p>When I try to run this snippet of code, I get Http Status as 415, unsupported media type. Is this the right solution to reduce the duplicate code or what are other options ?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class controller {\n   private CassandraOperations cassandraOperations;\n   private CqlTemplate cqlTemplate;\n  \n   @PostMapping(value=&quot;/value&quot;)\n   public Session returnSession(String query) {\n     cqlTemplate = (CqlTemplate) cassandraOperations.getCqlOperations();\n     return cqlTemplate.getSessionFactory().getSession();\n     \n   }\n} \n</code></pre>\n"},{"tags":["java","linux","unicode"],"comments":[{"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"score":0,"creation_date":1223354844,"post_id":177242,"comment_id":5742879,"body_markdown":"whose implementation of java is this ? which version of java ? which java apps (did you write them or are they an open source app we know of) ?","body":"whose implementation of java is this ? which version of java ? which java apps (did you write them or are they an open source app we know of) ?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1223360220,"post_id":177242,"comment_id":61123,"body_markdown":"Strange. UTF-8 is a required encoding. No one should release a Java runtime that doesn&#39;t include UTF-8 and US-ASCII.","body":"Strange. UTF-8 is a required encoding. No one should release a Java runtime that doesn&#39;t include UTF-8 and US-ASCII."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1223364362,"post_id":177242,"comment_id":61205,"body_markdown":"Could it be something lacking in the underlying OS?","body":"Could it be something lacking in the underlying OS?"},{"owner":{"account_id":876422,"reputation":131,"user_id":42951,"display_name":"John Snyders"},"score":0,"creation_date":1228332217,"post_id":177242,"comment_id":5742899,"body_markdown":"I got the same message. Different environment. I found that it was coming from the transform method of Transformer when the implementation of Transformer is com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.","body":"I got the same message. Different environment. I found that it was coming from the transform method of Transformer when the implementation of Transformer is com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl&zwnj;&#8203;."},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1248777094,"post_id":177242,"comment_id":1015843,"body_markdown":"No one should be using an RC build on a production system either :)","body":"No one should be using an RC build on a production system either :)"},{"owner":{"account_id":1755260,"reputation":1408,"user_id":1603472,"accept_rate":36,"display_name":"user1603472"},"score":0,"creation_date":1399905706,"post_id":177242,"comment_id":36248264,"body_markdown":"I just got the same error message when starting PyCharm 3.1.3.  Not sure it has any negative consequences while running the IDE though.","body":"I just got the same error message when starting PyCharm 3.1.3.  Not sure it has any negative consequences while running the IDE though."}],"answers":[{"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1223375398,"creation_date":1223375398,"answer_id":177878,"question_id":177242,"body_markdown":"According [the documentation][1] &quot;Every implementation of the Java platform is required to support the following standard charsets... US-ASCII, ISO-8859-1, UTF-8, UTF-16BE, UTF-16LE, UTF-16.&quot;  So I doubt that Sun have released a build without UTF-8 support.\r\n\r\nThe actual error message appears to be from [here][2], which is part of the Xerces XML parser.  I imagine it is the XML parser where the problem is occurring.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html\r\n  [2]: http://www.jdocs.com/page/AjaxSourceCode?oid=10701","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>According <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html\" rel=\"noreferrer\">the documentation</a> \"Every implementation of the Java platform is required to support the following standard charsets... US-ASCII, ISO-8859-1, UTF-8, UTF-16BE, UTF-16LE, UTF-16.\"  So I doubt that Sun have released a build without UTF-8 support.</p>\n\n<p>The actual error message appears to be from <a href=\"http://www.jdocs.com/page/AjaxSourceCode?oid=10701\" rel=\"noreferrer\">here</a>, which is part of the Xerces XML parser.  I imagine it is the XML parser where the problem is occurring.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1223378711,"creation_date":1223376931,"answer_id":177934,"question_id":177242,"body_markdown":"Try the following program:\r\n\r\n    import java.nio.charset.Charset;\r\n\r\n    public class TestCharset {\r\n        public static void main(String[] args) {\r\n            System.out.println(Charset.forName(&quot;UTF-8&quot;));\r\n        }\r\n    }\r\n\r\nIf this throws an exception, then there is something wrong with your JDK.\r\nIf it prints &quot;UTF-8&quot; then your JDK is OK, and your application is doing something odd.\r\n\r\nIf that&#39;s the case, run your app under the debugger, and put a breakpoint in http://www.java2s.com/Open-Source/Java-Document/XML/xalan/org/apache/xml/serializer/ToStream.java.htm --that&#39;s the place this warning is produced, and step to see why Xalan can&#39;t find the encoding.\r\n\r\n\r\n\r\n","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>Try the following program:</p>\n\n<pre><code>import java.nio.charset.Charset;\n\npublic class TestCharset {\n    public static void main(String[] args) {\n        System.out.println(Charset.forName(\"UTF-8\"));\n    }\n}\n</code></pre>\n\n<p>If this throws an exception, then there is something wrong with your JDK.\nIf it prints \"UTF-8\" then your JDK is OK, and your application is doing something odd.</p>\n\n<p>If that's the case, run your app under the debugger, and put a breakpoint in <a href=\"http://www.java2s.com/Open-Source/Java-Document/XML/xalan/org/apache/xml/serializer/ToStream.java.htm\" rel=\"noreferrer\">http://www.java2s.com/Open-Source/Java-Document/XML/xalan/org/apache/xml/serializer/ToStream.java.htm</a> --that's the place this warning is produced, and step to see why Xalan can't find the encoding.</p>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1223377005,"creation_date":1223377005,"answer_id":177941,"question_id":177242,"body_markdown":"Most probably someone put a catch() expecting to have only unsupported encoding exceptions, so he used the appropriate message. But he has used too wide exception specification (e.g. catch( Exception ex ) ), so when at runtime he&#39;s got something else (non-valid XML, NPE, ... ) the message became misleading.","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>Most probably someone put a catch() expecting to have only unsupported encoding exceptions, so he used the appropriate message. But he has used too wide exception specification (e.g. catch( Exception ex ) ), so when at runtime he's got something else (non-valid XML, NPE, ... ) the message became misleading.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248777051,"creation_date":1248777051,"answer_id":1193244,"question_id":177242,"body_markdown":"Try a different (stable release) JVM. I had this problem once and it turned out that the machine was running a beta version JVM that indeed did not support UTF-8, contrary to the requirement in the API docs.","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>Try a different (stable release) JVM. I had this problem once and it turned out that the machine was running a beta version JVM that indeed did not support UTF-8, contrary to the requirement in the API docs.</p>\n"},{"tags":[],"owner":{"account_id":717357,"reputation":9,"user_id":634447,"display_name":"Pavel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1298656790,"creation_date":1298650027,"answer_id":5119491,"question_id":177242,"body_markdown":"It should be &quot;UTF8&quot;, without the dash.","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>It should be \"UTF8\", without the dash.</p>\n"},{"tags":[],"owner":{"account_id":1100217,"reputation":1,"user_id":1092788,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348759323,"creation_date":1346343147,"answer_id":12201193,"question_id":177242,"body_markdown":"If you are getting this message when using a Transformer, try to specify the TransformerFactory:\r\n\r\n[link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3389479/1092788","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>If you are getting this message when using a Transformer, try to specify the TransformerFactory:</p>\n\n<p><a href=\"https://stackoverflow.com/a/3389479/1092788\">link</a></p>\n"},{"tags":[],"owner":{"account_id":6525901,"reputation":1,"user_id":5048670,"display_name":"GSK G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658313557,"creation_date":1658313557,"answer_id":73050166,"question_id":177242,"body_markdown":"This issue has been reported in Apache Jira and jboss developer, it appears to be a known issue\r\n\r\nhttps://issues.apache.org/jira/browse/SLING-1958\r\n\r\nhttps://developer.jboss.org/thread/246660","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>This issue has been reported in Apache Jira and jboss developer, it appears to be a known issue</p>\n<p><a href=\"https://issues.apache.org/jira/browse/SLING-1958\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SLING-1958</a></p>\n<p><a href=\"https://developer.jboss.org/thread/246660\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/246660</a></p>\n"}],"owner":{"account_id":1290,"reputation":979,"user_id":1720,"accept_rate":86,"display_name":"Mark Derricutt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27077,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":177878,"answer_count":7,"score":12,"last_activity_date":1658313557,"creation_date":1223354055,"question_id":177242,"body_markdown":"Whenever I start our Apache Felix (OSGi) based application under SUN Java ( build 1.6.0_10-rc2-b32 and other 1.6.x builds) I see the following message output on the console (usually under Ubuntu 8.4):\r\n\r\n&gt; Warning:  The encoding &#39;UTF-8&#39; is not supported by the Java runtime.\r\n\r\nI&#39;ve seen this message display occasionally when running both Tomcat and Resin as well.  If java supports unicode and UTF-8, what causes this message?  I&#39;ve yet to find any reference, or answer to this anywhere else.","title":"The encoding &#39;UTF-8&#39; is not supported by the Java runtime","body":"<p>Whenever I start our Apache Felix (OSGi) based application under SUN Java ( build 1.6.0_10-rc2-b32 and other 1.6.x builds) I see the following message output on the console (usually under Ubuntu 8.4):</p>\n\n<blockquote>\n  <p>Warning:  The encoding 'UTF-8' is not supported by the Java runtime.</p>\n</blockquote>\n\n<p>I've seen this message display occasionally when running both Tomcat and Resin as well.  If java supports unicode and UTF-8, what causes this message?  I've yet to find any reference, or answer to this anywhere else.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600751866,"creation_date":1600751866,"answer_id":64003473,"question_id":64002927,"body_markdown":"add sqlparse filter in your mapper:\r\n\r\n\r\n\r\n\r\n    @SqlParser(filter = true)\r\n    RoomSeat selectMultiRoomSeatForUpdateEnhance(@Param(&quot;queryParam&quot;) Map&lt;String, Object&gt; queryParam,\r\n                                                     @Param(&quot;user1&quot;) User user1,\r\n                                                     @Param(&quot;user2&quot;) User user2);\r\n\r\n\r\nfix it.","title":"net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: &quot;@&quot; &quot;@&quot;","body":"<p>add sqlparse filter in your mapper:</p>\n<pre><code>@SqlParser(filter = true)\nRoomSeat selectMultiRoomSeatForUpdateEnhance(@Param(&quot;queryParam&quot;) Map&lt;String, Object&gt; queryParam,\n                                                 @Param(&quot;user1&quot;) User user1,\n                                                 @Param(&quot;user2&quot;) User user2);\n</code></pre>\n<p>fix it.</p>\n"},{"tags":[],"owner":{"account_id":8736067,"reputation":626,"user_id":6534681,"display_name":"Ewurafua Plange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658313359,"creation_date":1658313359,"answer_id":73050106,"question_id":64002927,"body_markdown":"This seemed to be a dependency issue for me. This is the query I ran with the older version of the jsqlparser library: \r\n\r\n    &quot;SELECT COLUMN FROM OLDTABLE a GROUP BY stringcol = &#39;AAA&#39;&quot;\r\nThe older version of the jsqlParser, throws the JSQLParserException error: \r\n\r\n    Error while executing SQL &quot;SELECT stringCol = &#39;AAA&#39; from DATASET group by stringCol = &#39;AAA&#39;&quot;: Remote driver error: JDBCException: Error parsing SQL &#39;SELECT stringCol = &#39;AAA&#39; from DATASET group by stringCol = &#39;AAA&#39;&#39; -&gt; JSQLParserException: Encountered unexpected token: &quot;=&quot; &quot;=&quot;&#39;. \r\n\r\nAfter updating the jsqlParser library to the latest version from &#39;com.github.jsqlparser:jsqlparser:4.0&#39; to &#39;com.github.jsqlparser:jsqlparser:4.4&#39;. The error was resolved.\r\n\r\n\r\nHere is a link to the repo where you can find their release docs - https://github.com/JSQLParser/JSqlParser\r\n","title":"net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: &quot;@&quot; &quot;@&quot;","body":"<p>This seemed to be a dependency issue for me. This is the query I ran with the older version of the jsqlparser library:</p>\n<pre><code>&quot;SELECT COLUMN FROM OLDTABLE a GROUP BY stringcol = 'AAA'&quot;\n</code></pre>\n<p>The older version of the jsqlParser, throws the JSQLParserException error:</p>\n<pre><code>Error while executing SQL &quot;SELECT stringCol = 'AAA' from DATASET group by stringCol = 'AAA'&quot;: Remote driver error: JDBCException: Error parsing SQL 'SELECT stringCol = 'AAA' from DATASET group by stringCol = 'AAA'' -&gt; JSQLParserException: Encountered unexpected token: &quot;=&quot; &quot;=&quot;'. \n</code></pre>\n<p>After updating the jsqlParser library to the latest version from 'com.github.jsqlparser:jsqlparser:4.0' to 'com.github.jsqlparser:jsqlparser:4.4'. The error was resolved.</p>\n<p>Here is a link to the repo where you can find their release docs - <a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">https://github.com/JSQLParser/JSqlParser</a></p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64003473,"answer_count":2,"score":0,"last_activity_date":1658313359,"creation_date":1600747442,"question_id":64002927,"body_markdown":"When I add variable statement like this in my SQL in mybatis:\r\n\r\n\r\n    set @update_id := 0;\r\n\r\n\r\n\r\nthis is my full statement:\r\n\r\n\r\n    set @update_id := 0;\r\n            UPDATE r_room_seat s\r\n            SET s.status = 1,\r\n            s.user_id = (\r\n                case when s.seat_num = 1\r\n                then #{user1.id,jdbcType=BIGINT}\r\n                when s.seat_num = 2\r\n                then #{user2.id,jdbcType=BIGINT}\r\n                else -1 end\r\n            ),\r\n            s.robot_flag = (\r\n                case when s.seat_num = 1\r\n                then #{user1.isRobot,jdbcType=INTEGER}\r\n                when s.seat_num = 2\r\n                then #{user2.isRobot,jdbcType=INTEGER}\r\n                else 0 end\r\n            )\r\n            WHERE s.status = 0\r\n            and s.online = 1\r\n            and s.tenant_id = #{queryParam.tenantId,jdbcType=BIGINT}\r\n            and s.room_play_id in (\r\n                select room_play_id\r\n                from (\r\n                    select room_play_id as room_play_id\r\n                    from r_room_seat\r\n                    where status = 0\r\n                    and app_id = 4\r\n                    and tenant_id = #{queryParam.tenantId,jdbcType=BIGINT}\r\n                    group by room_play_id\r\n                    having count(*) = 2\r\n                    limit 1\r\n                ) a\r\n            )\r\n            and s.room_id = #{queryParam.roomTypeId,jdbcType=BIGINT}\r\n            LIMIT 2;\r\n            select\r\n            &lt;include refid=&quot;Base_Column_List&quot;/&gt;\r\n            from r_room_seat\r\n            where room_play_id = 5\r\n            limit 1;\r\n\r\n\r\n\r\nbut throw this error:\r\n\r\n\r\n\r\n    ### Cause: com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Failed to process, please exclude the tableName or statementId.\r\n     Error SQL: set @update_id := 0;\r\n            UPDATE r_room_seat s\r\n            SET s.status = 1,\r\n            room_play_id = (SELECT @update_id := max(room_play_id)),\r\n            s.user_id = (\r\n                case when s.seat_num = 1\r\n                then ?\r\n                when s.seat_num = 2\r\n                then ?\r\n                else -1 end\r\n            ),\r\n            s.robot_flag = (\r\n                case when s.seat_num = 1\r\n                then ?\r\n                when s.seat_num = 2\r\n                then ?\r\n                else 0 end\r\n            )\r\n            WHERE s.status = 0\r\n            and s.online = 1\r\n            and s.room_play_id in (\r\n                select room_play_id\r\n                from (\r\n                    select room_play_id as room_play_id\r\n                    from r_room_seat\r\n                    where status = 0\r\n                    and app_id = 4\r\n                    group by room_play_id\r\n                    having count(*) = 2\r\n                    limit 1\r\n                ) a\r\n            )\r\n            and s.room_id = ?\r\n            LIMIT 2;\r\n            select\r\n             \r\n            \r\n            id, room_play_id, room_id, user_id, creator, recent_active, deleted, sort, updated_time,\r\n            created_time, `status`, robot_flag, app_id, app_mark, `online`, version\r\n         \r\n            from r_room_seat\r\n            where room_play_id = @update_id\r\n            limit 1;\r\n    \tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat sun.reflect.GeneratedMethodAccessor358.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.2.jar!/:2.0.2]\r\n    \t... 114 common frames omitted\r\n    Caused by: com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Failed to process, please exclude the tableName or statementId.\r\n     Error SQL: set @update_id := 0;\r\n            UPDATE r_room_seat s\r\n            SET s.status = 1,\r\n            room_play_id = (SELECT @update_id := max(room_play_id)),\r\n            s.user_id = (\r\n                case when s.seat_num = 1\r\n                then ?\r\n                when s.seat_num = 2\r\n                then ?\r\n                else -1 end\r\n            ),\r\n            s.robot_flag = (\r\n                case when s.seat_num = 1\r\n                then ?\r\n                when s.seat_num = 2\r\n                then ?\r\n                else 0 end\r\n            )\r\n            WHERE s.status = 0\r\n            and s.online = 1\r\n            and s.room_play_id in (\r\n                select room_play_id\r\n                from (\r\n                    select room_play_id as room_play_id\r\n                    from r_room_seat\r\n                    where status = 0\r\n                    and app_id = 4\r\n                    group by room_play_id\r\n                    having count(*) = 2\r\n                    limit 1\r\n                ) a\r\n            )\r\n            and s.room_id = ?\r\n            LIMIT 2;\r\n            select\r\n             \r\n            \r\n            id, room_play_id, room_id, user_id, creator, recent_active, deleted, sort, updated_time,\r\n            created_time, `status`, robot_flag, app_id, app_mark, `online`, version\r\n         \r\n            from r_room_seat\r\n            where room_play_id = @update_id\r\n            limit 1;\r\n    \tat com.baomidou.mybatisplus.core.toolkit.ExceptionUtils.mpe(ExceptionUtils.java:39) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\r\n    \tat com.baomidou.mybatisplus.core.parser.AbstractJsqlParser.parser(AbstractJsqlParser.java:74) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\r\n    \tat com.baomidou.mybatisplus.extension.handlers.AbstractSqlParserHandler.sqlParser(AbstractSqlParserHandler.java:76) ~[mybatis-plus-extension-3.2.0.jar!/:3.2.0]\r\n    \tat com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor.intercept(PaginationInterceptor.java:155) ~[mybatis-plus-extension-3.2.0.jar!/:3.2.0]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy169.prepare(Unknown Source) ~[na:na]\r\n    \tat com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.prepareStatement(MybatisSimpleExecutor.java:94) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\r\n    \tat com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:66) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\r\n    \tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\r\n    \tat com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108) ~[pagehelper-5.1.11.jar!/:na]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n    \tat org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat tk.mybatis.orderbyhelper.OrderByHelper.intercept(OrderByHelper.java:115) ~[orderby-helper-0.0.2.jar!/:na]\r\n    \tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \tat com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.2.jar!/:3.5.2]\r\n    \t... 120 common frames omitted\r\n    Caused by: net.sf.jsqlparser.JSQLParserException: null\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParserUtil.parseStatements(CCJSqlParserUtil.java:128) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat com.baomidou.mybatisplus.core.parser.AbstractJsqlParser.parser(AbstractJsqlParser.java:60) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\r\n    \t... 154 common frames omitted\r\n    Caused by: net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: &quot;@&quot; &quot;@&quot;\r\n        at line 1, column 5.\r\n    \r\n    Was expecting one of:\r\n    \r\n        &quot;ACTION&quot;\r\n        &quot;ANY&quot;\r\n        &quot;BYTE&quot;\r\n        &quot;CASCADE&quot;\r\n        &quot;CAST&quot;\r\n        &quot;CHAR&quot;\r\n        &quot;COLUMN&quot;\r\n        &quot;COLUMNS&quot;\r\n        &quot;COMMENT&quot;\r\n        &quot;COMMIT&quot;\r\n        &quot;DESCRIBE&quot;\r\n        &quot;DO&quot;\r\n        &quot;DOUBLE&quot;\r\n        &quot;ENABLE&quot;\r\n        &quot;END&quot;\r\n        &quot;EXTRACT&quot;\r\n        &quot;FIRST&quot;\r\n        &quot;FN&quot;\r\n        &quot;FOLLOWING&quot;\r\n        &quot;IF&quot;\r\n        &quot;INDEX&quot;\r\n        &quot;INSERT&quot;\r\n        &quot;INTERVAL&quot;\r\n        &quot;ISNULL&quot;\r\n        &quot;KEY&quot;\r\n        &quot;LAST&quot;\r\n        &quot;LEFT&quot;\r\n        &quot;MATERIALIZED&quot;\r\n        &quot;NEXTVAL&quot;\r\n        &quot;NO&quot;\r\n        &quot;NULLS&quot;\r\n        &quot;OPEN&quot;\r\n        &quot;OPTIMIZE&quot;\r\n        &quot;OVER&quot;\r\n        &quot;PARTITION&quot;\r\n        &quot;PATH&quot;\r\n        &quot;PERCENT&quot;\r\n        &quot;PRECISION&quot;\r\n        &quot;PRIMARY&quot;\r\n        &quot;PRIOR&quot;\r\n        &quot;RANGE&quot;\r\n        &quot;REPLACE&quot;\r\n        &quot;RIGHT&quot;\r\n        &quot;ROW&quot;\r\n        &quot;ROWS&quot;\r\n        &quot;SEPARATOR&quot;\r\n        &quot;SET&quot;\r\n        &quot;SIBLINGS&quot;\r\n        &quot;TABLE&quot;\r\n        &quot;TEMP&quot;\r\n        &quot;TEMPORARY&quot;\r\n        &quot;TOP&quot;\r\n        &quot;TRUNCATE&quot;\r\n        &quot;TYPE&quot;\r\n        &quot;UNSIGNED&quot;\r\n        &quot;VALUE&quot;\r\n        &quot;VALUES&quot;\r\n        &quot;XML&quot;\r\n        &quot;ZONE&quot;\r\n        &lt;K_DATETIMELITERAL&gt;\r\n        &lt;K_DATE_LITERAL&gt;\r\n        &lt;S_IDENTIFIER&gt;\r\n        &lt;S_QUOTED_IDENTIFIER&gt;\r\n    \r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.generateParseException(CCJSqlParser.java:20951) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.jj_consume_token(CCJSqlParser.java:20798) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.RelObjectNameExt(CCJSqlParser.java:3033) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.Set(CCJSqlParser.java:612) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.SingleStatement(CCJSqlParser.java:185) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParser.Statements(CCJSqlParser.java:466) ~[jsqlparser-2.1.jar!/:na]\r\n    \tat net.sf.jsqlparser.parser.CCJSqlParserUtil.parseStatements(CCJSqlParserUtil.java:126) ~[jsqlparser-2.1.jar!/:na]\r\n    \t... 155 common frames omitted\r\n\r\n\r\n\r\nthis is the package I am using:\r\n\r\n\r\n     api &quot;com.baomidou:mybatis-plus-boot-starter:3.2.0&quot;\r\n\r\n\r\n\r\n\r\nwhat should I do to fix it? mybatis-plus not support user variable?\r\n\r\n\r\n\r\n\r\n\r\n","title":"net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: &quot;@&quot; &quot;@&quot;","body":"<p>When I add variable statement like this in my SQL in mybatis:</p>\n<pre><code>set @update_id := 0;\n</code></pre>\n<p>this is my full statement:</p>\n<pre><code>set @update_id := 0;\n        UPDATE r_room_seat s\n        SET s.status = 1,\n        s.user_id = (\n            case when s.seat_num = 1\n            then #{user1.id,jdbcType=BIGINT}\n            when s.seat_num = 2\n            then #{user2.id,jdbcType=BIGINT}\n            else -1 end\n        ),\n        s.robot_flag = (\n            case when s.seat_num = 1\n            then #{user1.isRobot,jdbcType=INTEGER}\n            when s.seat_num = 2\n            then #{user2.isRobot,jdbcType=INTEGER}\n            else 0 end\n        )\n        WHERE s.status = 0\n        and s.online = 1\n        and s.tenant_id = #{queryParam.tenantId,jdbcType=BIGINT}\n        and s.room_play_id in (\n            select room_play_id\n            from (\n                select room_play_id as room_play_id\n                from r_room_seat\n                where status = 0\n                and app_id = 4\n                and tenant_id = #{queryParam.tenantId,jdbcType=BIGINT}\n                group by room_play_id\n                having count(*) = 2\n                limit 1\n            ) a\n        )\n        and s.room_id = #{queryParam.roomTypeId,jdbcType=BIGINT}\n        LIMIT 2;\n        select\n        &lt;include refid=&quot;Base_Column_List&quot;/&gt;\n        from r_room_seat\n        where room_play_id = 5\n        limit 1;\n</code></pre>\n<p>but throw this error:</p>\n<pre><code>### Cause: com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Failed to process, please exclude the tableName or statementId.\n Error SQL: set @update_id := 0;\n        UPDATE r_room_seat s\n        SET s.status = 1,\n        room_play_id = (SELECT @update_id := max(room_play_id)),\n        s.user_id = (\n            case when s.seat_num = 1\n            then ?\n            when s.seat_num = 2\n            then ?\n            else -1 end\n        ),\n        s.robot_flag = (\n            case when s.seat_num = 1\n            then ?\n            when s.seat_num = 2\n            then ?\n            else 0 end\n        )\n        WHERE s.status = 0\n        and s.online = 1\n        and s.room_play_id in (\n            select room_play_id\n            from (\n                select room_play_id as room_play_id\n                from r_room_seat\n                where status = 0\n                and app_id = 4\n                group by room_play_id\n                having count(*) = 2\n                limit 1\n            ) a\n        )\n        and s.room_id = ?\n        LIMIT 2;\n        select\n         \n        \n        id, room_play_id, room_id, user_id, creator, recent_active, deleted, sort, updated_time,\n        created_time, `status`, robot_flag, app_id, app_mark, `online`, version\n     \n        from r_room_seat\n        where room_play_id = @update_id\n        limit 1;\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at sun.reflect.GeneratedMethodAccessor358.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.2.jar!/:2.0.2]\n    ... 114 common frames omitted\nCaused by: com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Failed to process, please exclude the tableName or statementId.\n Error SQL: set @update_id := 0;\n        UPDATE r_room_seat s\n        SET s.status = 1,\n        room_play_id = (SELECT @update_id := max(room_play_id)),\n        s.user_id = (\n            case when s.seat_num = 1\n            then ?\n            when s.seat_num = 2\n            then ?\n            else -1 end\n        ),\n        s.robot_flag = (\n            case when s.seat_num = 1\n            then ?\n            when s.seat_num = 2\n            then ?\n            else 0 end\n        )\n        WHERE s.status = 0\n        and s.online = 1\n        and s.room_play_id in (\n            select room_play_id\n            from (\n                select room_play_id as room_play_id\n                from r_room_seat\n                where status = 0\n                and app_id = 4\n                group by room_play_id\n                having count(*) = 2\n                limit 1\n            ) a\n        )\n        and s.room_id = ?\n        LIMIT 2;\n        select\n         \n        \n        id, room_play_id, room_id, user_id, creator, recent_active, deleted, sort, updated_time,\n        created_time, `status`, robot_flag, app_id, app_mark, `online`, version\n     \n        from r_room_seat\n        where room_play_id = @update_id\n        limit 1;\n    at com.baomidou.mybatisplus.core.toolkit.ExceptionUtils.mpe(ExceptionUtils.java:39) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\n    at com.baomidou.mybatisplus.core.parser.AbstractJsqlParser.parser(AbstractJsqlParser.java:74) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\n    at com.baomidou.mybatisplus.extension.handlers.AbstractSqlParserHandler.sqlParser(AbstractSqlParserHandler.java:76) ~[mybatis-plus-extension-3.2.0.jar!/:3.2.0]\n    at com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor.intercept(PaginationInterceptor.java:155) ~[mybatis-plus-extension-3.2.0.jar!/:3.2.0]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy169.prepare(Unknown Source) ~[na:na]\n    at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.prepareStatement(MybatisSimpleExecutor.java:94) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\n    at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:66) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\n    at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108) ~[pagehelper-5.1.11.jar!/:na]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\n    at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at tk.mybatis.orderbyhelper.OrderByHelper.intercept(OrderByHelper.java:115) ~[orderby-helper-0.0.2.jar!/:na]\n    at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.2.jar!/:3.5.2]\n    at com.sun.proxy.$Proxy168.query(Unknown Source) ~[na:na]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.2.jar!/:3.5.2]\n    ... 120 common frames omitted\nCaused by: net.sf.jsqlparser.JSQLParserException: null\n    at net.sf.jsqlparser.parser.CCJSqlParserUtil.parseStatements(CCJSqlParserUtil.java:128) ~[jsqlparser-2.1.jar!/:na]\n    at com.baomidou.mybatisplus.core.parser.AbstractJsqlParser.parser(AbstractJsqlParser.java:60) ~[mybatis-plus-core-3.2.0.jar!/:3.2.0]\n    ... 154 common frames omitted\nCaused by: net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: &quot;@&quot; &quot;@&quot;\n    at line 1, column 5.\n\nWas expecting one of:\n\n    &quot;ACTION&quot;\n    &quot;ANY&quot;\n    &quot;BYTE&quot;\n    &quot;CASCADE&quot;\n    &quot;CAST&quot;\n    &quot;CHAR&quot;\n    &quot;COLUMN&quot;\n    &quot;COLUMNS&quot;\n    &quot;COMMENT&quot;\n    &quot;COMMIT&quot;\n    &quot;DESCRIBE&quot;\n    &quot;DO&quot;\n    &quot;DOUBLE&quot;\n    &quot;ENABLE&quot;\n    &quot;END&quot;\n    &quot;EXTRACT&quot;\n    &quot;FIRST&quot;\n    &quot;FN&quot;\n    &quot;FOLLOWING&quot;\n    &quot;IF&quot;\n    &quot;INDEX&quot;\n    &quot;INSERT&quot;\n    &quot;INTERVAL&quot;\n    &quot;ISNULL&quot;\n    &quot;KEY&quot;\n    &quot;LAST&quot;\n    &quot;LEFT&quot;\n    &quot;MATERIALIZED&quot;\n    &quot;NEXTVAL&quot;\n    &quot;NO&quot;\n    &quot;NULLS&quot;\n    &quot;OPEN&quot;\n    &quot;OPTIMIZE&quot;\n    &quot;OVER&quot;\n    &quot;PARTITION&quot;\n    &quot;PATH&quot;\n    &quot;PERCENT&quot;\n    &quot;PRECISION&quot;\n    &quot;PRIMARY&quot;\n    &quot;PRIOR&quot;\n    &quot;RANGE&quot;\n    &quot;REPLACE&quot;\n    &quot;RIGHT&quot;\n    &quot;ROW&quot;\n    &quot;ROWS&quot;\n    &quot;SEPARATOR&quot;\n    &quot;SET&quot;\n    &quot;SIBLINGS&quot;\n    &quot;TABLE&quot;\n    &quot;TEMP&quot;\n    &quot;TEMPORARY&quot;\n    &quot;TOP&quot;\n    &quot;TRUNCATE&quot;\n    &quot;TYPE&quot;\n    &quot;UNSIGNED&quot;\n    &quot;VALUE&quot;\n    &quot;VALUES&quot;\n    &quot;XML&quot;\n    &quot;ZONE&quot;\n    &lt;K_DATETIMELITERAL&gt;\n    &lt;K_DATE_LITERAL&gt;\n    &lt;S_IDENTIFIER&gt;\n    &lt;S_QUOTED_IDENTIFIER&gt;\n\n    at net.sf.jsqlparser.parser.CCJSqlParser.generateParseException(CCJSqlParser.java:20951) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParser.jj_consume_token(CCJSqlParser.java:20798) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParser.RelObjectNameExt(CCJSqlParser.java:3033) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParser.Set(CCJSqlParser.java:612) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParser.SingleStatement(CCJSqlParser.java:185) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParser.Statements(CCJSqlParser.java:466) ~[jsqlparser-2.1.jar!/:na]\n    at net.sf.jsqlparser.parser.CCJSqlParserUtil.parseStatements(CCJSqlParserUtil.java:126) ~[jsqlparser-2.1.jar!/:na]\n    ... 155 common frames omitted\n</code></pre>\n<p>this is the package I am using:</p>\n<pre><code> api &quot;com.baomidou:mybatis-plus-boot-starter:3.2.0&quot;\n</code></pre>\n<p>what should I do to fix it? mybatis-plus not support user variable?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658313348,"creation_date":1658313348,"answer_id":73050104,"question_id":73049364,"body_markdown":"Its because you are performing actions outside of the `loop`. Call those actions inside the `loop`.\r\n\r\n    while ((line = reader.readLine()) != null) {\r\n       driver = new ChromeDriver();\r\n       driver.get(line);\r\n       Thread.sleep(500);\r\n       WebElement agrreToTerms = driver.findElement(By.xpath(&quot;/html//div[@id=&#39;root&#39;]/div[1]//button]&quot;));\r\n       agrreToTerms.click();\r\n       driver.close();\r\n      }\r\n\r\nIt&#39;s always better to use `Explicit` wait instead of `Implicit` wait or `Thread.sleep()`.","title":"Running Automation test on url links that store in a text file","body":"<p>Its because you are performing actions outside of the <code>loop</code>. Call those actions inside the <code>loop</code>.</p>\n<pre><code>while ((line = reader.readLine()) != null) {\n   driver = new ChromeDriver();\n   driver.get(line);\n   Thread.sleep(500);\n   WebElement agrreToTerms = driver.findElement(By.xpath(&quot;/html//div[@id='root']/div[1]//button]&quot;));\n   agrreToTerms.click();\n   driver.close();\n  }\n</code></pre>\n<p>It's always better to use <code>Explicit</code> wait instead of <code>Implicit</code> wait or <code>Thread.sleep()</code>.</p>\n"}],"owner":{"account_id":23597045,"reputation":25,"user_id":17634056,"display_name":"Benaya Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73050104,"answer_count":1,"score":1,"last_activity_date":1658313348,"creation_date":1658310377,"question_id":73049364,"body_markdown":"I want to loop throw a text file that stores a URL links the problem is that every time i run the test the browser opens the API links one after another and closes them one by one, and only on the last one did the test completely and pass. there is a way to fix this issue?\r\n\r\nthere is my code:\r\n\r\n\r\n\r\n\t@Test\r\n\tpublic void JeneratorTest() throws Throwable {\r\n\r\n\t\tSystem.out.println(&quot;starting itineraryJeneratorTest&quot;);\r\n\r\n\t\t// crate driver\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\r\n\t\t// maximize browser window\r\n\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\t// open web page by looping on a text file\r\n\t\tThread.sleep(2000);\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;url/Untitled 1&quot;));\r\n\t\t\tString line;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tdriver.get(line);\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(6, TimeUnit.SECONDS);\r\n\r\n\t\t// click agree to the terms\r\n\t\tWebElement agrreToTerms = driver.findElement(By.xpath(&quot;/html//div[@id=&#39;root&#39;]/div[1]//button]&quot;));\r\n\t\tagrreToTerms.click();","title":"Running Automation test on url links that store in a text file","body":"<p>I want to loop throw a text file that stores a URL links the problem is that every time i run the test the browser opens the API links one after another and closes them one by one, and only on the last one did the test completely and pass. there is a way to fix this issue?</p>\n<p>there is my code:</p>\n<pre><code>@Test\npublic void JeneratorTest() throws Throwable {\n\n    System.out.println(&quot;starting itineraryJeneratorTest&quot;);\n\n    // crate driver\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\n    WebDriver driver = new ChromeDriver();\n\n    // maximize browser window\n\n    driver.manage().window().maximize();\n\n    // open web page by looping on a text file\n    Thread.sleep(2000);\n\n    try {\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;url/Untitled 1&quot;));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            driver.get(line);\n            Thread.sleep(500);\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    driver.manage().timeouts().implicitlyWait(6, TimeUnit.SECONDS);\n\n    // click agree to the terms\n    WebElement agrreToTerms = driver.findElement(By.xpath(&quot;/html//div[@id='root']/div[1]//button]&quot;));\n    agrreToTerms.click();\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","transactions"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1656945550,"post_id":72857679,"comment_id":128688237,"body_markdown":"Postgres won&#39;t lock anything if you are only doing read queries. Readers never block writers and writers never block readers in Postgres.","body":"Postgres won&#39;t lock anything if you are only doing read queries. Readers never block writers and writers never block readers in Postgres."}],"answers":[{"tags":[],"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658313291,"creation_date":1658313291,"answer_id":73050085,"question_id":72857679,"body_markdown":"It looks like an issue with `@Transactional` inheritance.  \r\nI couldn&#39;t reproduce it on my environment.  \r\nCould you provide information about usage of `AbstractTransactionalOLTPServiceImpl` in you code?\r\n\r\nAlso take a look at https://coderanch.com/t/714204/frameworks/Spring-Transactional-inheritance and https://github.com/spring-projects/spring-framework/issues/24291","title":"Spring Transactional annotation with readOnly don&#39;t apply (+Hibernate)","body":"<p>It looks like an issue with <code>@Transactional</code> inheritance.<br />\nI couldn't reproduce it on my environment.<br />\nCould you provide information about usage of <code>AbstractTransactionalOLTPServiceImpl</code> in you code?</p>\n<p>Also take a look at <a href=\"https://coderanch.com/t/714204/frameworks/Spring-Transactional-inheritance\" rel=\"nofollow noreferrer\">https://coderanch.com/t/714204/frameworks/Spring-Transactional-inheritance</a> and <a href=\"https://github.com/spring-projects/spring-framework/issues/24291\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/24291</a></p>\n"}],"owner":{"account_id":1939676,"reputation":888,"user_id":1746146,"accept_rate":76,"display_name":"Guy Assaf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658313291,"creation_date":1656941934,"question_id":72857679,"body_markdown":"We are using Transactional annotation on an abstract service class and applying `readOnly=true`.\r\nWe expect all inheritance classes will enforce readOnly for their public methods, but in reality, we manage to do write operations on DB.\r\n  \r\nThe idea was to prevent tables locking for transactions that do not write to DB so to allow faster multi-connections execution. \r\n\r\nWe are using Postgress with Jdbc connection.\r\n\r\n```\r\n@Transactional(readOnly = true, timeout = DEFAULT_OLTP_TRANSACTION_TIMEOUT)\r\npublic abstract class AbstractTransactionalOLTPServiceImpl&lt;N extends Number, T extends PersistentOLTPEntity&lt;N&gt;&gt; {\r\n\r\n```","title":"Spring Transactional annotation with readOnly don&#39;t apply (+Hibernate)","body":"<p>We are using Transactional annotation on an abstract service class and applying <code>readOnly=true</code>.\nWe expect all inheritance classes will enforce readOnly for their public methods, but in reality, we manage to do write operations on DB.</p>\n<p>The idea was to prevent tables locking for transactions that do not write to DB so to allow faster multi-connections execution.</p>\n<p>We are using Postgress with Jdbc connection.</p>\n<pre><code>@Transactional(readOnly = true, timeout = DEFAULT_OLTP_TRANSACTION_TIMEOUT)\npublic abstract class AbstractTransactionalOLTPServiceImpl&lt;N extends Number, T extends PersistentOLTPEntity&lt;N&gt;&gt; {\n\n</code></pre>\n"},{"tags":["java","upgrade","sap-erp","sap-basis","sap-r3"],"answers":[{"tags":[],"owner":{"account_id":12916,"reputation":3677,"user_id":25687,"accept_rate":78,"display_name":"Esti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1283204619,"creation_date":1283204619,"answer_id":3604460,"question_id":3602913,"body_markdown":"SAP ECC (all core modules) runs on the ABAP stack.  Many of SAP&#39;s interoparability modules like SAP PI runs on the Java Stack.  If you intend to use SAP PI you will most likely need to install the Java Stack, but you should be able to upgrade to ECC6 without having to install the Java stack.\r\n\r\nYou do not require the Java Stack to apply Enhancement Packs.\r\n\r\nA few years back there was a push to move more toward the Java stack, but I believe SAP has gone back on that position.  Nowadays you can use Web-Dynpro for ABAP for web-development in SAP as well as Web-Dynpro for Java. ","title":"SAP Java stack architectural differences from ABAP stack?","body":"<p>SAP ECC (all core modules) runs on the ABAP stack.  Many of SAP's interoparability modules like SAP PI runs on the Java Stack.  If you intend to use SAP PI you will most likely need to install the Java Stack, but you should be able to upgrade to ECC6 without having to install the Java stack.</p>\n\n<p>You do not require the Java Stack to apply Enhancement Packs.</p>\n\n<p>A few years back there was a push to move more toward the Java stack, but I believe SAP has gone back on that position.  Nowadays you can use Web-Dynpro for ABAP for web-development in SAP as well as Web-Dynpro for Java. </p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1283267934,"creation_date":1283267934,"answer_id":3610467,"question_id":3602913,"body_markdown":"&gt; 1) What is the difference between ABAP\r\n&gt; Stack and Java Stack. \r\n\r\nThe one is an application server that runs ABAP programs, the other is an application server that runs Java programs.\r\n\r\n&gt; I imagine 46C is &quot;ABAP stack&quot;?\r\n\r\n4.6C only provides an ABAP stack.\r\n\r\n&gt; 2) In which cases it is absolutely\r\n&gt; necessary to install the Java Stack?\r\n\r\nWhenever you need something (like the Adobe Interactive Forms or some Portal stuff) that requires the Java Stack. \r\n\r\n&gt; 3) Does the installation of the EHPs\r\n&gt; imply that we should first install the\r\n&gt; Java Stack?\r\n\r\nNo. In fact, adding a secondary step should be an entirely different project from upgrading an existing system - you should not combine these to keep complexity at bay...","title":"SAP Java stack architectural differences from ABAP stack?","body":"<blockquote>\n  <p>1) What is the difference between ABAP\n  Stack and Java Stack. </p>\n</blockquote>\n\n<p>The one is an application server that runs ABAP programs, the other is an application server that runs Java programs.</p>\n\n<blockquote>\n  <p>I imagine 46C is \"ABAP stack\"?</p>\n</blockquote>\n\n<p>4.6C only provides an ABAP stack.</p>\n\n<blockquote>\n  <p>2) In which cases it is absolutely\n  necessary to install the Java Stack?</p>\n</blockquote>\n\n<p>Whenever you need something (like the Adobe Interactive Forms or some Portal stuff) that requires the Java Stack. </p>\n\n<blockquote>\n  <p>3) Does the installation of the EHPs\n  imply that we should first install the\n  Java Stack?</p>\n</blockquote>\n\n<p>No. In fact, adding a secondary step should be an entirely different project from upgrading an existing system - you should not combine these to keep complexity at bay...</p>\n"},{"tags":[],"owner":{"account_id":1453891,"reputation":191,"user_id":1370052,"display_name":"zoliton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370295035,"creation_date":1361455734,"answer_id":15004307,"question_id":3602913,"body_markdown":"Just for the record:\r\n\r\n - Up until release 4.6C there were only ABAP instances.\r\n\r\n - After that (mainly releases 6.x and 7.0x) it was possible to install Java-only instances or combined ABAP+Java instances. The latter are so called double-stack systems. The stacks share some internal ressources (kernel files, database, etc) but are pretty independent on the front side. Somehow like Siamese twins joined at the hip.\r\n\r\n - Due to stability the double-stack systems are not supported any more. This from release Netweaver 7.3 onwards (but there are certain exceptions). There is even a procedure to split a double-stack into two independent systems.\r\n\r\nSo if a double-stack system is upgraded via Enhancement Package it must be applied to both stacks. \r\n\r\nOtherwise install separate ABAP and Java systems as needed and set up the required connections: RFC, JCo, SOAP, etc.\r\n","title":"SAP Java stack architectural differences from ABAP stack?","body":"<p>Just for the record:</p>\n\n<ul>\n<li><p>Up until release 4.6C there were only ABAP instances.</p></li>\n<li><p>After that (mainly releases 6.x and 7.0x) it was possible to install Java-only instances or combined ABAP+Java instances. The latter are so called double-stack systems. The stacks share some internal ressources (kernel files, database, etc) but are pretty independent on the front side. Somehow like Siamese twins joined at the hip.</p></li>\n<li><p>Due to stability the double-stack systems are not supported any more. This from release Netweaver 7.3 onwards (but there are certain exceptions). There is even a procedure to split a double-stack into two independent systems.</p></li>\n</ul>\n\n<p>So if a double-stack system is upgraded via Enhancement Package it must be applied to both stacks. </p>\n\n<p>Otherwise install separate ABAP and Java systems as needed and set up the required connections: RFC, JCo, SOAP, etc.</p>\n"}],"owner":{"account_id":93178,"reputation":1223,"user_id":255053,"accept_rate":83,"display_name":"vizcayno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9034,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3604460,"answer_count":3,"score":2,"last_activity_date":1658313237,"creation_date":1283190823,"question_id":3602913,"body_markdown":"My company is thinking to upgrade SAP from 46C to ECC 6.0 EHP 5 and we have the next 3 questions:\r\n\r\n1) What is the difference between ABAP Stack and Java Stack. I imagine 46C is &quot;ABAP stack&quot;?\r\n\r\n2) In which cases it is absolutely necessary to install the Java Stack?\r\n\r\n3) Does the installation of the EHPs imply that we should first install the Java Stack?\r\n\r\nThanks","title":"SAP Java stack architectural differences from ABAP stack?","body":"<p>My company is thinking to upgrade SAP from 46C to ECC 6.0 EHP 5 and we have the next 3 questions:</p>\n\n<p>1) What is the difference between ABAP Stack and Java Stack. I imagine 46C is \"ABAP stack\"?</p>\n\n<p>2) In which cases it is absolutely necessary to install the Java Stack?</p>\n\n<p>3) Does the installation of the EHPs imply that we should first install the Java Stack?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","static","multiprocessing"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658316214,"post_id":73050060,"comment_id":129020039,"body_markdown":"&quot;I don&#39;t understand why it works&quot; -- how are you defining &quot;works&quot;? There are two copies of `MainActivity.a`, one in each process.","body":"&quot;I don&#39;t understand why it works&quot; -- how are you defining &quot;works&quot;? There are two copies of <code>MainActivity.a</code>, one in each process."},{"owner":{"account_id":17935677,"reputation":1,"user_id":13032058,"display_name":"Đ&#224;o Mạnh Tuấn"},"score":0,"creation_date":1658372270,"post_id":73050060,"comment_id":129036852,"body_markdown":"@CommonsWare Oh, I don&#39;t know there are two copies of the static variable in 2 processes. Could you say more detail about that? How do the 2 processes sync the data? Can you refer to any document about that? Thanks!","body":"@CommonsWare Oh, I don&#39;t know there are two copies of the static variable in 2 processes. Could you say more detail about that? How do the 2 processes sync the data? Can you refer to any document about that? Thanks!"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658399920,"post_id":73050060,"comment_id":129044401,"body_markdown":"&quot;How do the 2 processes sync the data?&quot; -- they don&#39;t. They are completely independent. Two processes running on one phone are no different than two processes running on separate phones, when it comes to RAM usage.","body":"&quot;How do the 2 processes sync the data?&quot; -- they don&#39;t. They are completely independent. Two processes running on one phone are no different than two processes running on separate phones, when it comes to RAM usage."}],"owner":{"account_id":17935677,"reputation":1,"user_id":13032058,"display_name":"Đ&#224;o Mạnh Tuấn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658313183,"creation_date":1658313183,"question_id":73050060,"body_markdown":"I have an application with 2 processes, one for Activity and one for Service.\r\nHere is my Manifest:\r\n\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n            &lt;/activity&gt;\r\n            &lt;service\r\n                android:name=&quot;com.musicservicebymessenger.service.MusicService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:process=&quot;:MusicService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n            &lt;/service&gt;\r\n\r\nIn MainActivity, I have a static variable like that:\r\n\r\n    public class MainActivity extends AppCompatActivity  {\r\n        public static int a = 0;\r\n    }\r\n\r\nAnd in Service I update like that:\r\n\r\n    public class MusicService extends Service {\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            MainActivity.a++;\r\n        }\r\n    }\r\n\r\nI don&#39;t understand why it works. I think 2 processes have 2 different heaps, so why one process can update the static variable in another process?\r\n\r\nI had read some article and someone say that: Before Java 8, the Method area section (a part of PermGen) was used to store static variables of the class, metadata of the class, etc. Whereas, non-static methods and variables were stored in the heap memory. After the java 8 version, the PermGen has been replaced by MetaSpace, so the static variables are stored in the heap memory.\r\n\r\nSo Why the static variables are stored in Heap memory. what exactly area in which the static variables and methods are stored in heap memory? Why I can update it from another process?","title":"Where the static variables are stored in Android?","body":"<p>I have an application with 2 processes, one for Activity and one for Service.\nHere is my Manifest:</p>\n<pre><code>        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n        &lt;/activity&gt;\n        &lt;service\n            android:name=&quot;com.musicservicebymessenger.service.MusicService&quot;\n            android:enabled=&quot;true&quot;\n            android:process=&quot;:MusicService&quot;\n            android:exported=&quot;false&quot;&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>In MainActivity, I have a static variable like that:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  {\n    public static int a = 0;\n}\n</code></pre>\n<p>And in Service I update like that:</p>\n<pre><code>public class MusicService extends Service {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        MainActivity.a++;\n    }\n}\n</code></pre>\n<p>I don't understand why it works. I think 2 processes have 2 different heaps, so why one process can update the static variable in another process?</p>\n<p>I had read some article and someone say that: Before Java 8, the Method area section (a part of PermGen) was used to store static variables of the class, metadata of the class, etc. Whereas, non-static methods and variables were stored in the heap memory. After the java 8 version, the PermGen has been replaced by MetaSpace, so the static variables are stored in the heap memory.</p>\n<p>So Why the static variables are stored in Heap memory. what exactly area in which the static variables and methods are stored in heap memory? Why I can update it from another process?</p>\n"},{"tags":["java","arrays","spring-boot","spring-hateoas","hateoas"],"answers":[{"tags":[],"owner":{"account_id":14240951,"reputation":47,"user_id":10287292,"display_name":"Iyke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699977,"creation_date":1654699977,"answer_id":72547884,"question_id":72541106,"body_markdown":"You can add a temp streaming (download) link of these files to your HATEOAS. \r\n\r\nor you could return the base64 value of the encoded file you generated\r\n[convert pdf to base64][1]\r\n```java\r\nreturn ResponseEntity.ok(ENCODED_STRING).build();\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-convert-pdf-to-base64","title":"Springboot HATEOAS for PDF, Image and Zip Files","body":"<p>You can add a temp streaming (download) link of these files to your HATEOAS.</p>\n<p>or you could return the base64 value of the encoded file you generated\n<a href=\"https://www.baeldung.com/java-convert-pdf-to-base64\" rel=\"nofollow noreferrer\">convert pdf to base64</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>return ResponseEntity.ok(ENCODED_STRING).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658312995,"creation_date":1654896003,"answer_id":72579948,"question_id":72541106,"body_markdown":"**Server-side:** Send any of the above as a byte[] in a response entity, which Springboot automatically transformed using Base64 encoding to a String. This String is part of a JSON response sent by the server.\r\n\r\n**Client-side:** I receive the response. Then I create a LinkedHashMap&lt;String, String&gt; in which I store the media String using the key I set on the server. Then, decode it the value using the built-in Base 64 decoder (no packages/external repositories).","title":"Springboot HATEOAS for PDF, Image and Zip Files","body":"<p><strong>Server-side:</strong> Send any of the above as a byte[] in a response entity, which Springboot automatically transformed using Base64 encoding to a String. This String is part of a JSON response sent by the server.</p>\n<p><strong>Client-side:</strong> I receive the response. Then I create a LinkedHashMap&lt;String, String&gt; in which I store the media String using the key I set on the server. Then, decode it the value using the built-in Base 64 decoder (no packages/external repositories).</p>\n"}],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72579948,"answer_count":2,"score":0,"last_activity_date":1658312995,"creation_date":1654670278,"question_id":72541106,"body_markdown":"This is my first time working with HATEOAS everyone and I have come to a screeching halt. Here is my problem, I have an app that converts text from a text area to a pdf and a pdf to images. My issue is that I send both back as a ResponseEntity&lt;byte[]&gt;. \r\nHere is a sample success response from the text to pdf endpoint:\r\n\r\n        // Get PDF from conversion result\r\n        byte[] res;\r\n        res = this.textToPDFService.convertTextToPdf(input);\r\n        // Create pdf name\r\n        DateFormat dateFormatter = new SimpleDateFormat(&quot;dd-MM-yyyy:hh:mm:ss&quot;);\r\n        String currentDateTime = dateFormatter.format(new Date());\r\n        // Prepare Headers to open PDF on the client\r\n        String headerKey = &quot;Content-Disposition&quot;;\r\n        String headerValue = &quot;inline; filename=pdf_&quot; + currentDateTime + &quot;.pdf&quot;;\r\n        // Send a successful response\r\n        return ResponseEntity.ok()\r\n                .header(headerKey, headerValue)\r\n                .contentType(MediaType.APPLICATION_PDF)\r\n                .body(res);\r\n\r\nQuestions:\r\n\r\n 1. How can I send these back in the HATEOAS required JSON format and actually receive a PDF and a zip file? I heard something about Base64 encoding and decoding to handle it as a String, but I don&#39;t quite understand how it creates the files somehow and if it does.\r\n 2. Don&#39;t I need the request headers for application/pdf and application/zip?\r\n\r\nAny additional good sources on how I can add these files to a JSON response are very welcome.","title":"Springboot HATEOAS for PDF, Image and Zip Files","body":"<p>This is my first time working with HATEOAS everyone and I have come to a screeching halt. Here is my problem, I have an app that converts text from a text area to a pdf and a pdf to images. My issue is that I send both back as a ResponseEntity&lt;byte[]&gt;.\nHere is a sample success response from the text to pdf endpoint:</p>\n<pre><code>    // Get PDF from conversion result\n    byte[] res;\n    res = this.textToPDFService.convertTextToPdf(input);\n    // Create pdf name\n    DateFormat dateFormatter = new SimpleDateFormat(&quot;dd-MM-yyyy:hh:mm:ss&quot;);\n    String currentDateTime = dateFormatter.format(new Date());\n    // Prepare Headers to open PDF on the client\n    String headerKey = &quot;Content-Disposition&quot;;\n    String headerValue = &quot;inline; filename=pdf_&quot; + currentDateTime + &quot;.pdf&quot;;\n    // Send a successful response\n    return ResponseEntity.ok()\n            .header(headerKey, headerValue)\n            .contentType(MediaType.APPLICATION_PDF)\n            .body(res);\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>How can I send these back in the HATEOAS required JSON format and actually receive a PDF and a zip file? I heard something about Base64 encoding and decoding to handle it as a String, but I don't quite understand how it creates the files somehow and if it does.</li>\n<li>Don't I need the request headers for application/pdf and application/zip?</li>\n</ol>\n<p>Any additional good sources on how I can add these files to a JSON response are very welcome.</p>\n"},{"tags":["java","javafx","javafx-2","javafx-8"],"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1411132954,"post_id":25934678,"comment_id":40600680,"body_markdown":"Shouldn&#39;t `new LinearGradient(0, 0, 70, 70...)` already do this?","body":"Shouldn&#39;t <code>new LinearGradient(0, 0, 70, 70...)</code> already do this?"},{"owner":{"account_id":3136367,"reputation":5058,"user_id":2652811,"accept_rate":58,"display_name":"bluevoxel"},"score":0,"creation_date":1411133317,"post_id":25934678,"comment_id":40600919,"body_markdown":"Ok, but what about other values? How to grasp the &quot;rule&quot; of rotating the `LinearGradient` by any degree?","body":"Ok, but what about other values? How to grasp the &quot;rule&quot; of rotating the <code>LinearGradient</code> by any degree?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1411133812,"post_id":25934678,"comment_id":40601261,"body_markdown":"You give the constructor two points in X-Y coordinates: (x1, y1) and (x2, y2). The angle formed be a line passing through two points with respect to the Y (or X) axis can be calculated easily. It has nothing to do with `LinearGradient`. Can you do this computation?","body":"You give the constructor two points in X-Y coordinates: (x1, y1) and (x2, y2). The angle formed be a line passing through two points with respect to the Y (or X) axis can be calculated easily. It has nothing to do with <code>LinearGradient</code>. Can you do this computation?"}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1411134711,"creation_date":1411134711,"answer_id":25935582,"question_id":25934678,"body_markdown":"The first parameters that are given to the `LinearGradient` constructor are the coordinates of the start- and end point of the gradient axis, respectively. This means that you can achieve a &quot;rotated&quot; gradient simply by passing in an appropriately rotated axis. \r\n\r\nIn the simplest form, for the example that you described, you can use the following pattern:\r\n\r\n    double angleInRadians = Math.toRadians(45);\r\n    double length = 100; \r\n\r\n    double endX = Math.cos(angleInRadians) * length;\r\n    double endY = Math.sin(angleInRadians) * length;\r\n\r\n    LinearGradient lg = new LinearGradient(0, 0, endX, endY, ...);\r\n\r\nThis will result in a gradient rotated by 45 degrees.\r\n\r\nThe fixed values here will affect the final appearance of the gradient, together with the other parameters. Referring to your example, this gradient with the same &quot;wave length&quot; as before (namely `100`), and start with the same color at the upper left corner (i.e. `Color.BLACK` will be at coordinates `(0,0)`).\r\n\r\n\r\n\r\n","title":"How to rotate the LinearGradient in a given Shape?","body":"<p>The first parameters that are given to the <code>LinearGradient</code> constructor are the coordinates of the start- and end point of the gradient axis, respectively. This means that you can achieve a \"rotated\" gradient simply by passing in an appropriately rotated axis. </p>\n\n<p>In the simplest form, for the example that you described, you can use the following pattern:</p>\n\n<pre><code>double angleInRadians = Math.toRadians(45);\ndouble length = 100; \n\ndouble endX = Math.cos(angleInRadians) * length;\ndouble endY = Math.sin(angleInRadians) * length;\n\nLinearGradient lg = new LinearGradient(0, 0, endX, endY, ...);\n</code></pre>\n\n<p>This will result in a gradient rotated by 45 degrees.</p>\n\n<p>The fixed values here will affect the final appearance of the gradient, together with the other parameters. Referring to your example, this gradient with the same \"wave length\" as before (namely <code>100</code>), and start with the same color at the upper left corner (i.e. <code>Color.BLACK</code> will be at coordinates <code>(0,0)</code>).</p>\n"},{"tags":[],"owner":{"account_id":7242540,"reputation":428,"user_id":5525657,"display_name":"Blessing Charumbira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658312621,"creation_date":1658312621,"answer_id":73049916,"question_id":25934678,"body_markdown":"Trig ratios can be used for a more flexible gradient angle. Please note: It does not implement repeat, hence add more stops in the gradient object.\r\n\r\n```kotlin\r\nprivate fun createGradient(width: Float, height: Float): LinearGradient {\r\n    val mode = TileMode.CLAMP\r\n    val angleInRadians = Math.toRadians(mAngle.toDouble())\r\n    val halfWidth = width / 2\r\n    val halfHeight = height / 2\r\n    val sinAngle = sin(angleInRadians)\r\n    val cosAngle = cos(angleInRadians)\r\n    val x0 = (halfWidth * (1 + sinAngle)).toFloat()\r\n    val y0 = (halfHeight * (1 - cosAngle)).toFloat()\r\n    val x1 = (halfWidth * (1 - sinAngle)).toFloat()\r\n    val y1 = (halfHeight * (1 + cosAngle)).toFloat()\r\n\r\n    return LinearGradient(x0, y0, x1, y1, mGradient, null, mode)\r\n}\r\n\r\n```","title":"How to rotate the LinearGradient in a given Shape?","body":"<p>Trig ratios can be used for a more flexible gradient angle. Please note: It does not implement repeat, hence add more stops in the gradient object.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun createGradient(width: Float, height: Float): LinearGradient {\n    val mode = TileMode.CLAMP\n    val angleInRadians = Math.toRadians(mAngle.toDouble())\n    val halfWidth = width / 2\n    val halfHeight = height / 2\n    val sinAngle = sin(angleInRadians)\n    val cosAngle = cos(angleInRadians)\n    val x0 = (halfWidth * (1 + sinAngle)).toFloat()\n    val y0 = (halfHeight * (1 - cosAngle)).toFloat()\n    val x1 = (halfWidth * (1 - sinAngle)).toFloat()\n    val y1 = (halfHeight * (1 + cosAngle)).toFloat()\n\n    return LinearGradient(x0, y0, x1, y1, mGradient, null, mode)\n}\n\n</code></pre>\n"}],"owner":{"account_id":3136367,"reputation":5058,"user_id":2652811,"accept_rate":58,"display_name":"bluevoxel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5451,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":25935582,"answer_count":2,"score":11,"last_activity_date":1658312621,"creation_date":1411132063,"question_id":25934678,"body_markdown":"I try to find the way to rotate the `LinearGradient` object nested into e.g. `Rectangle` object, say:\r\n\r\n    Rectangle rect = new Rectangle(0, 0, 200, 200);\r\n    \r\n    LinearGradient lg = new LinearGradient(0, 0, 100, 0, false, CycleMethod.REPEAT, new Stop[] {\r\n    \tnew Stop(0, Color.BLACK);\r\n    \tnew Stop(0.5, Color.WHITE);\r\n    \tnew Stop(1, Color.BLACK);\r\n    });\r\n    \r\n    rect.setFill(lg);\r\n\r\n![enter image description here][1]\r\n\r\nNow, I try to rotate this `lg` object, for example for 45 degrees to the left, but without rotating the whole `rect`. Is there any way to achieve that?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/coSOV.jpg","title":"How to rotate the LinearGradient in a given Shape?","body":"<p>I try to find the way to rotate the <code>LinearGradient</code> object nested into e.g. <code>Rectangle</code> object, say:</p>\n\n<pre><code>Rectangle rect = new Rectangle(0, 0, 200, 200);\n\nLinearGradient lg = new LinearGradient(0, 0, 100, 0, false, CycleMethod.REPEAT, new Stop[] {\n    new Stop(0, Color.BLACK);\n    new Stop(0.5, Color.WHITE);\n    new Stop(1, Color.BLACK);\n});\n\nrect.setFill(lg);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/coSOV.jpg\" alt=\"enter image description here\"></p>\n\n<p>Now, I try to rotate this <code>lg</code> object, for example for 45 degrees to the left, but without rotating the whole <code>rect</code>. Is there any way to achieve that?</p>\n"},{"tags":["java","spring","webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1658396154,"post_id":73049590,"comment_id":129042901,"body_markdown":"Does this answer your question? [How to refactor WebClient.exchange in Spring 5.3 WebFlux?](https://stackoverflow.com/questions/71584519/how-to-refactor-webclient-exchange-in-spring-5-3-webflux)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71584519/how-to-refactor-webclient-exchange-in-spring-5-3-webflux\">How to refactor WebClient.exchange in Spring 5.3 WebFlux?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658312078,"creation_date":1658312078,"answer_id":73049797,"question_id":73049590,"body_markdown":"You can use `retrieve()` method as suggested in `exchange()` documentation something like below: \r\n\r\n\r\n    return \r\n    spec.retrieve().bodyToMono(ClientResponse.class).blockOptional()\r\n    \t\t\t\t.orElseThrow(() -&gt; new InternalException(String.format(&quot;%s: can&#39;t extract response from method \\&quot;%s\\&quot;&quot;,\r\n    \t\t\t\t\t\texternalServiceName, requestContext.getApiMethodName())));","title":"How to refactor the deprecated method .exchange()?","body":"<p>You can use <code>retrieve()</code> method as suggested in <code>exchange()</code> documentation something like below:</p>\n<pre><code>return \nspec.retrieve().bodyToMono(ClientResponse.class).blockOptional()\n                .orElseThrow(() -&gt; new InternalException(String.format(&quot;%s: can't extract response from method \\&quot;%s\\&quot;&quot;,\n                        externalServiceName, requestContext.getApiMethodName())));\n</code></pre>\n"}],"owner":{"account_id":19054303,"reputation":29,"user_id":13911823,"display_name":"Fedor Doronin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73049797,"answer_count":1,"score":1,"last_activity_date":1658312078,"creation_date":1658311225,"question_id":73049590,"body_markdown":"I have next method that uses in AbstractWebClient. How can I refactor it to get rid of deprecated .exchange() and save availability to work in abstract way? \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        private ClientResponse executeRequest(WebClient.RequestHeadersSpec&lt;?&gt; spec,\r\n                                              RequestContext requestContext,\r\n                                              String requestBody) {\r\n            logRequest(requestContext, requestBody);\r\n            return spec\r\n                    .exchange()\r\n                    .blockOptional()\r\n                    .orElseThrow(() -&gt; new InternalException(String.format(&quot;%s: can&#39;t extract response from method \\&quot;%s\\&quot;&quot;, externalServiceName, requestContext.getApiMethodName())));\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to refactor the deprecated method .exchange()?","body":"<p>I have next method that uses in AbstractWebClient. How can I refactor it to get rid of deprecated .exchange() and save availability to work in abstract way?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    private ClientResponse executeRequest(WebClient.RequestHeadersSpec&lt;?&gt; spec,\n                                          RequestContext requestContext,\n                                          String requestBody) {\n        logRequest(requestContext, requestBody);\n        return spec\n                .exchange()\n                .blockOptional()\n                .orElseThrow(() -&gt; new InternalException(String.format(\"%s: can't extract response from method \\\"%s\\\"\", externalServiceName, requestContext.getApiMethodName())));\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","file","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1511230360,"post_id":47404123,"comment_id":81762020,"body_markdown":"You&#39;re not executing Main.java. You&#39;re executing Main.class, which is in a different folder.","body":"You&#39;re not executing Main.java. You&#39;re executing Main.class, which is in a different folder."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1511230740,"post_id":47404123,"comment_id":81762114,"body_markdown":"Show us your folder structure. Otherwise we can just guess.","body":"Show us your folder structure. Otherwise we can just guess."},{"owner":{"account_id":9548869,"reputation":5889,"user_id":7093702,"accept_rate":82,"display_name":"Diogo Capela"},"score":0,"creation_date":1511231573,"post_id":47404123,"comment_id":81762339,"body_markdown":"I have written in the question...","body":"I have written in the question..."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1511233246,"post_id":47404123,"comment_id":81762713,"body_markdown":"Is your Java file in some kind of `src` folder and your `database` folder also? If so, move it one out. Where is the `class` file located? You should start by printing where you currently at when you don&#39;t change the path: `System.out.println(new File(&quot;.&quot;).getCanonicalPath());`. What does it list? Is it where you believed it would be?","body":"Is your Java file in some kind of <code>src</code> folder and your <code>database</code> folder also? If so, move it one out. Where is the <code>class</code> file located? You should start by printing where you currently at when you don&#39;t change the path: <code>System.out.println(new File(&quot;.&quot;).getCanonicalPath());</code>. What does it list? Is it where you believed it would be?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1511233357,"post_id":47404123,"comment_id":81762749,"body_markdown":"Also nowadays files aren&#39;t read by `File` anymore. Use **NIO** revolving around `Files`, `Paths` and `Path`. Reading is done by using `Files#lines` for example.","body":"Also nowadays files aren&#39;t read by <code>File</code> anymore. Use <b>NIO</b> revolving around <code>Files</code>, <code>Paths</code> and <code>Path</code>. Reading is done by using <code>Files#lines</code> for example."}],"answers":[{"tags":[],"owner":{"account_id":2541151,"reputation":771,"user_id":2206934,"display_name":"Devram Kandhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511231120,"creation_date":1511230505,"answer_id":47404158,"question_id":47404123,"body_markdown":"You are not importing FileNotFoundException class. also, scanner statement throws the exception which should inside try. Solution is as below.\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            readFile();\r\n\r\n        }\r\n\r\n        public static void readFile() {\r\n\r\n            File file = new File(&quot;database/Data.txt&quot;);\r\n\r\n            try {\r\n                Scanner scanner = new Scanner(file);\r\n                while (scanner.hasNextLine()) {\r\n                    int i = scanner.nextInt();\r\n                    System.out.println(i);\r\n                }\r\n                scanner.close();\r\n            }catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nOnly check if those content can read using scanner or not. Content having int properly. otherwise it will throw java.util.InputMismatchException.","title":"How can I read a file from a path relative of my Main class in Java?","body":"<p>You are not importing FileNotFoundException class. also, scanner statement throws the exception which should inside try. Solution is as below.</p>\n\n<pre><code>import java.io.File;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        readFile();\n\n    }\n\n    public static void readFile() {\n\n        File file = new File(\"database/Data.txt\");\n\n        try {\n            Scanner scanner = new Scanner(file);\n            while (scanner.hasNextLine()) {\n                int i = scanner.nextInt();\n                System.out.println(i);\n            }\n            scanner.close();\n        }catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Only check if those content can read using scanner or not. Content having int properly. otherwise it will throw java.util.InputMismatchException.</p>\n"},{"tags":[],"owner":{"account_id":18271867,"reputation":11,"user_id":13302489,"display_name":"Jaques Grobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658312070,"creation_date":1658312070,"answer_id":73049795,"question_id":47404123,"body_markdown":"Are you working on a mac or windows system.\r\nI am on windows and &quot;.\\\\database\\\\Data.txt&quot; would most probably work depending on where the file is in your file structure.","title":"How can I read a file from a path relative of my Main class in Java?","body":"<p>Are you working on a mac or windows system.\nI am on windows and &quot;.\\database\\Data.txt&quot; would most probably work depending on where the file is in your file structure.</p>\n"}],"owner":{"account_id":9548869,"reputation":5889,"user_id":7093702,"accept_rate":82,"display_name":"Diogo Capela"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658312070,"creation_date":1511230176,"question_id":47404123,"body_markdown":"On the same directory of my **Main.java** file, I have a package/folder named **database**, and inside the database package I have a file named **Data.txt**.\r\n\r\nThis is my code of **Main.java**, but it is throwing this error:\r\n\r\n&gt;java: exception java.io.FileNotFoundException\r\n\r\nHow can I get the file from a relative file? I&#39;m used to web development, and usually something with a . dot like **&quot;./folder/file.txt&quot;** works.\r\n\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n        public class Main {\r\n        \r\n            public static void main(String[] args) {\r\n        \r\n                readFile();\r\n        \r\n            }\r\n        \r\n            public static void readFile() {\r\n        \r\n                File file = new File(&quot;./database/Data.txt&quot;);\r\n                Scanner scanner = new Scanner(file);\r\n        \r\n                try {\r\n        \r\n                    while (scanner.hasNextLine()) {\r\n                        int i = scanner.nextInt();\r\n                        System.out.println(i);\r\n                    }\r\n                    scanner.close();\r\n                }\r\n                catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n            }\r\n        \r\n        }","title":"How can I read a file from a path relative of my Main class in Java?","body":"<p>On the same directory of my <strong>Main.java</strong> file, I have a package/folder named <strong>database</strong>, and inside the database package I have a file named <strong>Data.txt</strong>.</p>\n\n<p>This is my code of <strong>Main.java</strong>, but it is throwing this error:</p>\n\n<blockquote>\n  <p>java: exception java.io.FileNotFoundException</p>\n</blockquote>\n\n<p>How can I get the file from a relative file? I'm used to web development, and usually something with a . dot like <strong>\"./folder/file.txt\"</strong> works.</p>\n\n<pre><code>import java.io.File;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\n    public class Main {\n\n        public static void main(String[] args) {\n\n            readFile();\n\n        }\n\n        public static void readFile() {\n\n            File file = new File(\"./database/Data.txt\");\n            Scanner scanner = new Scanner(file);\n\n            try {\n\n                while (scanner.hasNextLine()) {\n                    int i = scanner.nextInt();\n                    System.out.println(i);\n                }\n                scanner.close();\n            }\n            catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","rest","authentication","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":16458155,"reputation":97,"user_id":11889865,"display_name":"timothy jeong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658311864,"creation_date":1658311864,"answer_id":73049745,"question_id":66831403,"body_markdown":"You may have already solved this problem, but I will answer as others may have the same problem.\r\n\r\nIn the process of registering the Docket to the bean add\r\n`ignoredParameterTypes(AuthenticationPrincipal.class)`\r\nthen the related class is no longer exposed in the api document.\r\n\r\nI refer to this [github issue](https://github.com/springfox/springfox/issues/1139)\r\n\r\nLet me show you in code\r\n\r\n```java\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n    @Bean\r\n    public Docket swaggerApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .ignoredParameterTypes(AuthenticationPrincipal.class) // Add This\r\n                .apiInfo(swaggerInfo()).select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.project.controller&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .useDefaultResponseMessages(true);\r\n    }\r\n\r\n    private ApiInfo swaggerInfo() {\r\n        return new ApiInfoBuilder().title(&quot;title&quot;)\r\n                .description(&quot;desc&quot;)\r\n                .license(&quot;license&quot;).licenseUrl(&quot;https://www.google.com/&quot;)\r\n                .version(&quot;0.0.1&quot;)\r\n                .build();\r\n    }\r\n}\r\n```","title":"I&#39;m getting displayed unnecessary parameters in my REST api endpoints that use @AuthenticationPrincipal","body":"<p>You may have already solved this problem, but I will answer as others may have the same problem.</p>\n<p>In the process of registering the Docket to the bean add\n<code>ignoredParameterTypes(AuthenticationPrincipal.class)</code>\nthen the related class is no longer exposed in the api document.</p>\n<p>I refer to this <a href=\"https://github.com/springfox/springfox/issues/1139\" rel=\"nofollow noreferrer\">github issue</a></p>\n<p>Let me show you in code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket swaggerApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .ignoredParameterTypes(AuthenticationPrincipal.class) // Add This\n                .apiInfo(swaggerInfo()).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.project.controller&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .useDefaultResponseMessages(true);\n    }\n\n    private ApiInfo swaggerInfo() {\n        return new ApiInfoBuilder().title(&quot;title&quot;)\n                .description(&quot;desc&quot;)\n                .license(&quot;license&quot;).licenseUrl(&quot;https://www.google.com/&quot;)\n                .version(&quot;0.0.1&quot;)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19480326,"reputation":66,"user_id":14250809,"display_name":"Makary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658311864,"creation_date":1616848495,"question_id":66831403,"body_markdown":"I noticed that in some of my REST API endpoints, Swagger UI display unnecessary parameters like `accountNonExpired`, `accountNonLocked` and so on\r\n\r\n[unnecessery parameters][1]\r\n\r\n  [1]: https://i.stack.imgur.com/cBG1i.png\r\n\r\nI realized that it is caused by `@AuthenticationPrincipal CurrentUser currentUser` in those methods&#39; body:\r\n\r\n        @PutMapping(&quot;/change-email&quot;)\r\n    public ResponseEntity&lt;?&gt; changeEmail(@AuthenticationPrincipal CurrentUser currentUser,\r\n                                         @RequestBody @Valid ChangeEmailRequest changeEmailRequest, BindingResult result){\r\n        if (result.hasErrors()) return generateResponseFromBindingResult(result);\r\n\r\n        try {\r\n            userService.changeEmail(currentUser.getUser(), changeEmailRequest);\r\n            return generateOkResponse(&quot;Changed email&quot;);\r\n        } catch (ValidationException e) {\r\n            return e.generateErrorResponse();\r\n        }\r\n    }\r\n\r\nCurrentUser class:\r\n\r\n    \r\n    import org.springframework.security.core.userdetails.User;\r\n    public class CurrentUser extends User {\r\n        private final pl.makary.entity.User user;\r\n        public CurrentUser(String username, String password,\r\n                           Collection&lt;? extends GrantedAuthority&gt; authorities,\r\n                           pl.makary.entity.User user) {\r\n            super(username, password, authorities);\r\n            this.user = user;\r\n        }\r\n        public com.project.entity.User getUser() {return user;}\r\n    }\r\n\r\n I was able to deal with couple of those parameters by adding `@ApiParam(hidden = true)` above every field in user entity, but those form `org.springframework.security.core.userdetails.User` stayed. I can&#39;t add annotation there, so I&#39;m looking for other way i can get rid of those params. I tried adding `@ApiParam(hidden = true)` before `@AuthenticationPrincipal` in method body, and everywhere else where i could, but it didnt work.\r\n","title":"I&#39;m getting displayed unnecessary parameters in my REST api endpoints that use @AuthenticationPrincipal","body":"<p>I noticed that in some of my REST API endpoints, Swagger UI display unnecessary parameters like <code>accountNonExpired</code>, <code>accountNonLocked</code> and so on</p>\n<p><a href=\"https://i.stack.imgur.com/cBG1i.png\" rel=\"nofollow noreferrer\">unnecessery parameters</a></p>\n<p>I realized that it is caused by <code>@AuthenticationPrincipal CurrentUser currentUser</code> in those methods' body:</p>\n<pre><code>    @PutMapping(&quot;/change-email&quot;)\npublic ResponseEntity&lt;?&gt; changeEmail(@AuthenticationPrincipal CurrentUser currentUser,\n                                     @RequestBody @Valid ChangeEmailRequest changeEmailRequest, BindingResult result){\n    if (result.hasErrors()) return generateResponseFromBindingResult(result);\n\n    try {\n        userService.changeEmail(currentUser.getUser(), changeEmailRequest);\n        return generateOkResponse(&quot;Changed email&quot;);\n    } catch (ValidationException e) {\n        return e.generateErrorResponse();\n    }\n}\n</code></pre>\n<p>CurrentUser class:</p>\n<pre><code>import org.springframework.security.core.userdetails.User;\npublic class CurrentUser extends User {\n    private final pl.makary.entity.User user;\n    public CurrentUser(String username, String password,\n                       Collection&lt;? extends GrantedAuthority&gt; authorities,\n                       pl.makary.entity.User user) {\n        super(username, password, authorities);\n        this.user = user;\n    }\n    public com.project.entity.User getUser() {return user;}\n}\n</code></pre>\n<p>I was able to deal with couple of those parameters by adding <code>@ApiParam(hidden = true)</code> above every field in user entity, but those form <code>org.springframework.security.core.userdetails.User</code> stayed. I can't add annotation there, so I'm looking for other way i can get rid of those params. I tried adding <code>@ApiParam(hidden = true)</code> before <code>@AuthenticationPrincipal</code> in method body, and everywhere else where i could, but it didnt work.</p>\n"},{"tags":["java","spring-boot","openapi","openapi-generator"],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658311859,"creation_date":1658311859,"question_id":73049742,"body_markdown":"I am using the openapi-generator to create a spring-boot server. I am currently still in the experimentation phase. \r\n\r\nThe goal is that the server is able to provide multiple response media-types, depending on the media type that is accepted by the requester. According to different sources, this should be possible. See [here][1] for example of how the yaml file would then look. Other similar examples can be found here on stack overflow. \r\n\r\nConcrete example. Let&#39;s say we have a post request where if a name is posted the name is returned (just a silly example). In case the requester sends the name John Doe and does not accept application/json, the response, in plain text, should look like this:\r\n```\r\nJohn Doe\r\n```\r\nIn case the requester accepts application/json the response should look like this:\r\n```\r\n{&quot;name&quot;: &quot;John Doe&quot;}\r\n```\r\nFor explaining my question/problem I created an example spring boot server. At one point it has the path /user for which the response is:\r\n```\r\n      responses:\r\n          &#39;200&#39;:\r\n            description: The username.\r\n            content: \r\n              application/json:\r\n                schema:\r\n                  properties:\r\n                    name:\r\n                      type: string\r\n                      example: John Doe \r\n              text/plain:\r\n                schema:\r\n                  type: string\r\n                  example: John Doe    \r\n```\r\nOn the other hand I created the path /getuser (name is not really fortunate but it is for this example) which returns the following response:\r\n```\r\n          &#39;200&#39;:\r\n            description: The username.\r\n            content: \r\n              text/plain:\r\n                schema:\r\n                  type: string\r\n                  example: John Doe  \r\n              application/json:\r\n                schema:\r\n                  properties:\r\n                    name:\r\n                      type: string\r\n                      example: John Doe \r\n```\r\nMy problem is the following: for the first example, where I put the application/json first in the yaml file, the API looks like this:\r\n```\r\n    default ResponseEntity&lt;UserPost200Response&gt; userPost(\r\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\r\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\r\n    ) {\r\n        getRequest().ifPresent(request -&gt; {\r\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                    String exampleString = &quot;{ \\&quot;name\\&quot; : \\&quot;John Doe\\&quot; }&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n```\r\nIf, however, I would like to return a `ResponseEntity&lt;String&gt;` this gives an error since UserPost200Response is not used. \r\n\r\nFor the path /getuser, where the String response is first defined in the yaml file, my API looks like this:\r\n\r\n```\r\n    default ResponseEntity&lt;String&gt; getuserPost(\r\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\r\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\r\n    ) {\r\n        getRequest().ifPresent(request -&gt; {\r\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                    String exampleString = &quot;\\&quot;John Doe\\&quot;&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n```\r\nThis API makes it possible to return a `ResponseEntity&lt;String&gt;` but not a `ResponseEntity&lt;UserPost200Response&gt;` which defines the above mentioned json-model.\r\n\r\nOne workaround that I found, would be to use the path where the string-response is declared first in the yaml file (see /getuser) in the example above and that returns a `ResponseEntity&lt;String&gt;` and override and do something like this:\r\n\r\n```\r\n    default ResponseEntity&lt;String&gt; getuserPost(\r\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\r\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\r\n    ) {\r\n        getRequest().ifPresent(request -&gt; {\r\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                    String exampleString = &quot;{ \\&quot;name\\&quot; : \\&quot;John Doe\\&quot; }&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\r\n                    break;\r\n                }\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;text/plain&quot;))) {\r\n                    String exampleString = &quot;John Doe&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;text/plain&quot;, exampleString);\r\n                    break;\r\n                }\r\n            }\r\n       });\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n\r\n```\r\nIn this case, I don&#39;t use the Model created by the openapi-generator and treat the JSON basically as a string. \r\n\r\nAnother option is to go for a wildcard like ResponseEntity&lt;?&gt; but from what I understand, except proven the contrary, this seems bad practice. I haven&#39;t figured out how to declare this in the .yml file that is used by the openapi-generator.\r\n\r\nNeither options seem to respect the contract. \r\n\r\nI wonder if (1) I am doing something wrong here and (2) how it could be better implemented. The goal is of course to not rewrite the API&#39;s and only implement the logic in the Controllers. Any ResponseEntity in the API&#39;s should thus not be changed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/describing-responses/#media-types","title":"openapi-generator spring boot: combining json and text response","body":"<p>I am using the openapi-generator to create a spring-boot server. I am currently still in the experimentation phase.</p>\n<p>The goal is that the server is able to provide multiple response media-types, depending on the media type that is accepted by the requester. According to different sources, this should be possible. See <a href=\"https://swagger.io/docs/specification/describing-responses/#media-types\" rel=\"nofollow noreferrer\">here</a> for example of how the yaml file would then look. Other similar examples can be found here on stack overflow.</p>\n<p>Concrete example. Let's say we have a post request where if a name is posted the name is returned (just a silly example). In case the requester sends the name John Doe and does not accept application/json, the response, in plain text, should look like this:</p>\n<pre><code>John Doe\n</code></pre>\n<p>In case the requester accepts application/json the response should look like this:</p>\n<pre><code>{&quot;name&quot;: &quot;John Doe&quot;}\n</code></pre>\n<p>For explaining my question/problem I created an example spring boot server. At one point it has the path /user for which the response is:</p>\n<pre><code>      responses:\n          '200':\n            description: The username.\n            content: \n              application/json:\n                schema:\n                  properties:\n                    name:\n                      type: string\n                      example: John Doe \n              text/plain:\n                schema:\n                  type: string\n                  example: John Doe    \n</code></pre>\n<p>On the other hand I created the path /getuser (name is not really fortunate but it is for this example) which returns the following response:</p>\n<pre><code>          '200':\n            description: The username.\n            content: \n              text/plain:\n                schema:\n                  type: string\n                  example: John Doe  \n              application/json:\n                schema:\n                  properties:\n                    name:\n                      type: string\n                      example: John Doe \n</code></pre>\n<p>My problem is the following: for the first example, where I put the application/json first in the yaml file, the API looks like this:</p>\n<pre><code>    default ResponseEntity&lt;UserPost200Response&gt; userPost(\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\n    ) {\n        getRequest().ifPresent(request -&gt; {\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\n                    String exampleString = &quot;{ \\&quot;name\\&quot; : \\&quot;John Doe\\&quot; }&quot;;\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\n                    break;\n                }\n            }\n        });\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>If, however, I would like to return a <code>ResponseEntity&lt;String&gt;</code> this gives an error since UserPost200Response is not used.</p>\n<p>For the path /getuser, where the String response is first defined in the yaml file, my API looks like this:</p>\n<pre><code>    default ResponseEntity&lt;String&gt; getuserPost(\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\n    ) {\n        getRequest().ifPresent(request -&gt; {\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\n                    String exampleString = &quot;\\&quot;John Doe\\&quot;&quot;;\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\n                    break;\n                }\n            }\n        });\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>This API makes it possible to return a <code>ResponseEntity&lt;String&gt;</code> but not a <code>ResponseEntity&lt;UserPost200Response&gt;</code> which defines the above mentioned json-model.</p>\n<p>One workaround that I found, would be to use the path where the string-response is declared first in the yaml file (see /getuser) in the example above and that returns a <code>ResponseEntity&lt;String&gt;</code> and override and do something like this:</p>\n<pre><code>    default ResponseEntity&lt;String&gt; getuserPost(\n        @Parameter(name = &quot;name&quot;, description = &quot;The name of the user.&quot;) @Valid @RequestParam(value = &quot;name&quot;, required = false) String name,\n        @Parameter(name = &quot;UserPostRequest&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) UserPostRequest userPostRequest\n    ) {\n        getRequest().ifPresent(request -&gt; {\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\n                    String exampleString = &quot;{ \\&quot;name\\&quot; : \\&quot;John Doe\\&quot; }&quot;;\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\n                    break;\n                }\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;text/plain&quot;))) {\n                    String exampleString = &quot;John Doe&quot;;\n                    ApiUtil.setExampleResponse(request, &quot;text/plain&quot;, exampleString);\n                    break;\n                }\n            }\n       });\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n\n</code></pre>\n<p>In this case, I don't use the Model created by the openapi-generator and treat the JSON basically as a string.</p>\n<p>Another option is to go for a wildcard like ResponseEntity&lt;?&gt; but from what I understand, except proven the contrary, this seems bad practice. I haven't figured out how to declare this in the .yml file that is used by the openapi-generator.</p>\n<p>Neither options seem to respect the contract.</p>\n<p>I wonder if (1) I am doing something wrong here and (2) how it could be better implemented. The goal is of course to not rewrite the API's and only implement the logic in the Controllers. Any ResponseEntity in the API's should thus not be changed.</p>\n"},{"tags":["java","android","kotlin","android-room","data-class"],"answers":[{"tags":[],"owner":{"account_id":18085262,"reputation":96,"user_id":13146364,"display_name":"Elek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658295980,"creation_date":1658295980,"answer_id":73046504,"question_id":73045767,"body_markdown":"TL;TR: \r\n 1. Better use `val` inside of your data class instead of `var`.\r\n 2. Use copy when you want to change some of the values.\r\n 3. The same happens when you use `class` instead of `data class`. Immutable properties (`val`) whill prevent that.\r\n\r\n-------\r\n\r\nEven if you use `class CubeInput` instead of `data class CubeInput`, you can still change the object properties in `SquareFeetFormula#calculate`, because you pass the object by reference ([here is an explanation of the difference between call by reference and call by value](https://www.tutorialspoint.com/Call-by-value-and-Call-by-reference-in-Java)).\r\n\r\nThe implementation of your data class and the usage of `copy` kind of depends on your software design. In your case, I would design your data class like this: \r\n```\r\n// input parameter should be initialized and then be immutable\r\ndata class CubeInput(val name : String, val length : Double, val testData: String)\r\n\r\n// once you calculated the result, its final, so immutable again\r\ndata class CubeResult(val volume : Double, val squareFeet : Double)\r\n```\r\n\r\nI usally use `data class` for classes which serves as somekind of value container. This means, whenever some value of the object should change, this would result in a new object, which differs from the orgin. Therefore I use `copy`.\r\nE.g.\r\n```\r\nval input = CubeInput(&quot;Input&quot;, 1.0, &quot;Start&quot;)\r\n// damn i forget, that every input length should get an offset\r\nval updatedInput = input.copy(length = input.length+2.0)\r\n\r\n```\r\n\r\nHave fun coding.","title":"Data class being used by other classes as parameter","body":"<p>TL;TR:</p>\n<ol>\n<li>Better use <code>val</code> inside of your data class instead of <code>var</code>.</li>\n<li>Use copy when you want to change some of the values.</li>\n<li>The same happens when you use <code>class</code> instead of <code>data class</code>. Immutable properties (<code>val</code>) whill prevent that.</li>\n</ol>\n<hr />\n<p>Even if you use <code>class CubeInput</code> instead of <code>data class CubeInput</code>, you can still change the object properties in <code>SquareFeetFormula#calculate</code>, because you pass the object by reference (<a href=\"https://www.tutorialspoint.com/Call-by-value-and-Call-by-reference-in-Java\" rel=\"nofollow noreferrer\">here is an explanation of the difference between call by reference and call by value</a>).</p>\n<p>The implementation of your data class and the usage of <code>copy</code> kind of depends on your software design. In your case, I would design your data class like this:</p>\n<pre><code>// input parameter should be initialized and then be immutable\ndata class CubeInput(val name : String, val length : Double, val testData: String)\n\n// once you calculated the result, its final, so immutable again\ndata class CubeResult(val volume : Double, val squareFeet : Double)\n</code></pre>\n<p>I usally use <code>data class</code> for classes which serves as somekind of value container. This means, whenever some value of the object should change, this would result in a new object, which differs from the orgin. Therefore I use <code>copy</code>.\nE.g.</p>\n<pre><code>val input = CubeInput(&quot;Input&quot;, 1.0, &quot;Start&quot;)\n// damn i forget, that every input length should get an offset\nval updatedInput = input.copy(length = input.length+2.0)\n\n</code></pre>\n<p>Have fun coding.</p>\n"},{"tags":[],"owner":{"account_id":23866645,"reputation":91,"user_id":17868883,"display_name":"Jimmy Iu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658311489,"creation_date":1658311054,"answer_id":73049550,"question_id":73045767,"body_markdown":"My opinion to your questions\r\n\r\n1. Usually in Kotlin we use data classes to represent data structure (i.e. only carries data but doesn&#39;t have behaviour). In your example, `CubeInput` and `CubeResult` are kind of data transfer objects which are very good illustration to use data classes.\r\n\r\n2. This is more about the application design. Usually we prefer immutable objects over mutable and Kotlin handles mutability by `val` and `var` keywords. @Elek already provided a very good illustration on how to change your code.\r\n\r\n3. You will face the same issue no matter you use `class` or `data class`.\r\n\r\n\r\n----------\r\n\r\n\r\nOne more thing about `lateinit var`.\r\n\r\nWhen writing Kotlin we would like to use `lateinit var` with deliberation as it can make our code not null safe (which is one of the good things that Kotlin provides). If a user to your code forgets to call `setInput`, a null pointer exception will be thrown.\r\n\r\nWe usually write in this way in Kotlin:\r\n1. Make the formula classes not stateful: simply move the input to calculate method, i.e. `calculate(input: CubeInput)`\r\n2. Make the input available when constructing the formula, i.e.\r\n\r\n```\r\nclass SquareFeetFormula(private val input: CubeInput){\r\n    fun calculate () : Double {\r\n        return input.copy(\r\n           // logic here\r\n        )\r\n    }\r\n}\r\n```","title":"Data class being used by other classes as parameter","body":"<p>My opinion to your questions</p>\n<ol>\n<li><p>Usually in Kotlin we use data classes to represent data structure (i.e. only carries data but doesn't have behaviour). In your example, <code>CubeInput</code> and <code>CubeResult</code> are kind of data transfer objects which are very good illustration to use data classes.</p>\n</li>\n<li><p>This is more about the application design. Usually we prefer immutable objects over mutable and Kotlin handles mutability by <code>val</code> and <code>var</code> keywords. @Elek already provided a very good illustration on how to change your code.</p>\n</li>\n<li><p>You will face the same issue no matter you use <code>class</code> or <code>data class</code>.</p>\n</li>\n</ol>\n<hr />\n<p>One more thing about <code>lateinit var</code>.</p>\n<p>When writing Kotlin we would like to use <code>lateinit var</code> with deliberation as it can make our code not null safe (which is one of the good things that Kotlin provides). If a user to your code forgets to call <code>setInput</code>, a null pointer exception will be thrown.</p>\n<p>We usually write in this way in Kotlin:</p>\n<ol>\n<li>Make the formula classes not stateful: simply move the input to calculate method, i.e. <code>calculate(input: CubeInput)</code></li>\n<li>Make the input available when constructing the formula, i.e.</li>\n</ol>\n<pre><code>class SquareFeetFormula(private val input: CubeInput){\n    fun calculate () : Double {\n        return input.copy(\n           // logic here\n        )\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24396946,"reputation":1,"user_id":18326204,"display_name":"user18326204"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658311489,"creation_date":1658288795,"question_id":73045767,"body_markdown":"I want to use data classes to store user input and computed results.  Then convert the data classes to Entity and update the data base. \r\n\r\nThe problem is I&#39;m not clear on the best practices for using data classes. \r\n\r\nI have read the documentation : https://kotlinlang.org/docs/data-classes.html along with other sources.  However, they don&#39;t have more complex examples of how different classes are supposed to access and manipulate the data.\r\n\r\nI am writing an android app in Kotlin that computes the volume and square feet of cube.  It retrieves the last cube from a database and prints the result.  Then it asks the user for the cube length. It computes and prints the volume, square feet, and cube length entered.  Then it uploads the results to the database and repeats until the user exits.  For simplicity the database only stores one cube.\r\n\r\nI have attached a code example and have questions:\r\n\r\n1.Is my example best practices how to use data classes.\r\n\r\n2.If I use a data class as a parameter in class SquareFeetFormula() the data class in main will change the value of testData.  Is it best to use .copy() to avoid unseen changes to the original data.\r\n\r\n3.  If I just use a class instead of a data class question 2 dosen&#39;t happen.\r\n\r\n```\r\nimport kotlin.math.*\r\nfun main() {\r\n    val input = CubeInput(&quot;My Cube&quot;, 3.0, &quot;Original text&quot;)\r\n    val result = CubeResult(27.0, 54.0)\r\n    val volume = VolumeFormula()\r\n    val squareFeet = SquareFeetFormula()\r\n    val printInfo = PrintInfo()\r\n    val database = DatabaseOperations()\r\n\r\n    database.getDatabase()\r\n\r\n    println(&quot;Your database Cube was &quot;)\r\n    printInfo.print(input, result)\r\n\r\n\r\n    while (true) {\r\n        try {\r\n            println(&quot;Start&quot;)\r\n            println(&quot;Enter the new length or press any key to finish&quot;)\r\n            val stringInput = readLine()!!\r\n            input.length = stringInput.toDouble()\r\n\r\n//          If I don&#39;t do .copy() testData in input changes from &quot;Original text&quot; to &quot;I Changed&quot;\r\n            volume.setInput(input.copy())\r\n            squareFeet.setInput(input.copy())\r\n\r\n            result.volume = volume.calculate()\r\n            result.squareFeet = squareFeet.calculate()\r\n            printInfo.print(input, result)\r\n\r\n            database.updateDatabase()\r\n\r\n        } catch (e: Exception) {\r\n            println(&quot;Done&quot;)\r\n            break\r\n        }\r\n    }\r\n}\r\n\r\n\r\ndata class CubeInput(var name : String, var length : Double, var testData: String)\r\ndata class CubeResult(var volume : Double, var squareFeet : Double)\r\n\r\nclass VolumeFormula(){\r\n    private lateinit var input :CubeInput\r\n\r\n    fun setInput (input1 : CubeInput){\r\n        input=input1\r\n    }\r\n    fun calculate () : Double{\r\n        return input.length.pow(3)\r\n    }\r\n}\r\n\r\nclass SquareFeetFormula(){\r\n    private lateinit var input :CubeInput\r\n\r\n    fun setInput (input1 : CubeInput){\r\n        input=input1\r\n    }\r\n    fun calculate () : Double{\r\n        input.testData=&quot;I changed&quot;\r\n        return input.length*input.length*6\r\n    }\r\n}\r\n\r\nclass PrintInfo() {\r\n    fun print(input: CubeInput, result: CubeResult) {\r\n        println(input.name + &quot; has a length of &quot;+ input.length + &quot;, Width of &quot;+result.volume+ &quot;, and square feet of &quot;+result.squareFeet)\r\n        println(&quot;TestData: &quot; +input.testData)\r\n    }\r\n}\r\n\r\nclass DatabaseOperations(){\r\n    fun getDatabase() {\r\n//        populate input data class and result data class from database\r\n    }\r\n\r\n    fun updateDatabase() {\r\n//        convert input and result into Entity\r\n//        update Entity in database\r\n    }\r\n}\r\n```\r\nThank you","title":"Data class being used by other classes as parameter","body":"<p>I want to use data classes to store user input and computed results.  Then convert the data classes to Entity and update the data base.</p>\n<p>The problem is I'm not clear on the best practices for using data classes.</p>\n<p>I have read the documentation : <a href=\"https://kotlinlang.org/docs/data-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/data-classes.html</a> along with other sources.  However, they don't have more complex examples of how different classes are supposed to access and manipulate the data.</p>\n<p>I am writing an android app in Kotlin that computes the volume and square feet of cube.  It retrieves the last cube from a database and prints the result.  Then it asks the user for the cube length. It computes and prints the volume, square feet, and cube length entered.  Then it uploads the results to the database and repeats until the user exits.  For simplicity the database only stores one cube.</p>\n<p>I have attached a code example and have questions:</p>\n<p>1.Is my example best practices how to use data classes.</p>\n<p>2.If I use a data class as a parameter in class SquareFeetFormula() the data class in main will change the value of testData.  Is it best to use .copy() to avoid unseen changes to the original data.</p>\n<ol start=\"3\">\n<li>If I just use a class instead of a data class question 2 dosen't happen.</li>\n</ol>\n<pre><code>import kotlin.math.*\nfun main() {\n    val input = CubeInput(&quot;My Cube&quot;, 3.0, &quot;Original text&quot;)\n    val result = CubeResult(27.0, 54.0)\n    val volume = VolumeFormula()\n    val squareFeet = SquareFeetFormula()\n    val printInfo = PrintInfo()\n    val database = DatabaseOperations()\n\n    database.getDatabase()\n\n    println(&quot;Your database Cube was &quot;)\n    printInfo.print(input, result)\n\n\n    while (true) {\n        try {\n            println(&quot;Start&quot;)\n            println(&quot;Enter the new length or press any key to finish&quot;)\n            val stringInput = readLine()!!\n            input.length = stringInput.toDouble()\n\n//          If I don't do .copy() testData in input changes from &quot;Original text&quot; to &quot;I Changed&quot;\n            volume.setInput(input.copy())\n            squareFeet.setInput(input.copy())\n\n            result.volume = volume.calculate()\n            result.squareFeet = squareFeet.calculate()\n            printInfo.print(input, result)\n\n            database.updateDatabase()\n\n        } catch (e: Exception) {\n            println(&quot;Done&quot;)\n            break\n        }\n    }\n}\n\n\ndata class CubeInput(var name : String, var length : Double, var testData: String)\ndata class CubeResult(var volume : Double, var squareFeet : Double)\n\nclass VolumeFormula(){\n    private lateinit var input :CubeInput\n\n    fun setInput (input1 : CubeInput){\n        input=input1\n    }\n    fun calculate () : Double{\n        return input.length.pow(3)\n    }\n}\n\nclass SquareFeetFormula(){\n    private lateinit var input :CubeInput\n\n    fun setInput (input1 : CubeInput){\n        input=input1\n    }\n    fun calculate () : Double{\n        input.testData=&quot;I changed&quot;\n        return input.length*input.length*6\n    }\n}\n\nclass PrintInfo() {\n    fun print(input: CubeInput, result: CubeResult) {\n        println(input.name + &quot; has a length of &quot;+ input.length + &quot;, Width of &quot;+result.volume+ &quot;, and square feet of &quot;+result.squareFeet)\n        println(&quot;TestData: &quot; +input.testData)\n    }\n}\n\nclass DatabaseOperations(){\n    fun getDatabase() {\n//        populate input data class and result data class from database\n    }\n\n    fun updateDatabase() {\n//        convert input and result into Entity\n//        update Entity in database\n    }\n}\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","unit-testing","nullpointerexception","mockito"],"comments":[{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1603491619,"post_id":64507923,"comment_id":114064629,"body_markdown":"Would it be possible for you to provide a stack trace? It makes the issue more focused and helps us identify the problem faster and more efficiently.","body":"Would it be possible for you to provide a stack trace? It makes the issue more focused and helps us identify the problem faster and more efficiently."},{"owner":{"account_id":14180436,"reputation":77,"user_id":10244272,"display_name":"Tali"},"score":1,"creation_date":1603492275,"post_id":64507923,"comment_id":114064776,"body_markdown":"@Spectric Just did!","body":"@Spectric Just did!"}],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603492410,"creation_date":1603492410,"answer_id":64508067,"question_id":64507923,"body_markdown":"You have a simple mapper, why on earth would you use mocks for testing that? Just call it with some input and check the output.\r\n\r\nAnd if you insist: the exception is because you are trying to spy an object created by calling `targetModelObjectFactory.create(Target.class)` and `targetModelObjectFactory` is a mock already - you cannot do that, the `create` called on a mock returns `null`. Either create a real `Target` or a real `Factory`.","title":"NullPointerException for Mockito.spy when trying to mock an object that being created inside a method","body":"<p>You have a simple mapper, why on earth would you use mocks for testing that? Just call it with some input and check the output.</p>\n<p>And if you insist: the exception is because you are trying to spy an object created by calling <code>targetModelObjectFactory.create(Target.class)</code> and <code>targetModelObjectFactory</code> is a mock already - you cannot do that, the <code>create</code> called on a mock returns <code>null</code>. Either create a real <code>Target</code> or a real <code>Factory</code>.</p>\n"},{"tags":[],"owner":{"account_id":7745608,"reputation":1158,"user_id":5863519,"display_name":"KR93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658311458,"creation_date":1658311458,"answer_id":73049651,"question_id":64507923,"body_markdown":"if you get a nullpointer exception use Mockito.RETURNS_DEEP_STUBS argument, we tell Mockito to make a kind of deep mock. This makes it possible to mock the result of a complete method.\r\n\r\n    &lt;Class_Name&gt; ref = Mockito.mock(Class_Name.class, Mockito.RETURNS_DEEP_STUBS);\r\n\r\n","title":"NullPointerException for Mockito.spy when trying to mock an object that being created inside a method","body":"<p>if you get a nullpointer exception use Mockito.RETURNS_DEEP_STUBS argument, we tell Mockito to make a kind of deep mock. This makes it possible to mock the result of a complete method.</p>\n<pre><code>&lt;Class_Name&gt; ref = Mockito.mock(Class_Name.class, Mockito.RETURNS_DEEP_STUBS);\n</code></pre>\n"}],"owner":{"account_id":14180436,"reputation":77,"user_id":10244272,"display_name":"Tali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658311458,"creation_date":1603491384,"question_id":64507923,"body_markdown":" Helllo, I&#39;m trying to write a test for my apply function. What I wanna do is to verify that the methods \r\nin the try catch scope are being called when executing the function.\r\nhhere is my apply method:\r\n\r\n    public Target apply(Source source) throws MappingException {\r\n        try {\r\n          Target target = targetModelObjectFactory.create(Target.class);\r\n          mapNameToFirstName(source, target);\r\n          mapMailToEMail(source, target);\r\n          mapSourceSubEntityToTargetSubEntity(source, target);\r\n          mapPrimitiveSourceColToPrimitiveTargetCol(source, target);\r\n          mapSubEntitiesSourceColToSubEntitiesTargetCol(source, target);\r\n          mapSourceSubEntityFieldToSubEntityFetchedField(source, target);\r\n          produceProducedFieldValue(target);\r\n          setConstantFieldConstantValue(target);\r\n          return target;\r\n        } catch (Exception e) {\r\n          throw new MappingException(source, e);\r\n        }\r\n      }\r\n\r\n\r\nhere is my test for `mapMailToEMail(source, target);`\r\n\r\n    @Test\r\n        \r\n        public void TestSettingMappedMailFromSourceToTargetEMail() {\r\n    \r\n            Source mockedSource = Mockito.mock(Source.class);\r\n            Target mockedTarget = Mockito.mock(Target.class);\r\n    \r\n            sourceToTargetMapper.mapMailToEMail(mockedSource, mockedTarget);\r\n            Mockito.verify(mockedTarget, Mockito.times(1)).setEMail(mockedSource.getMail());\r\n        }\r\n\r\n\r\n   \r\nAnd here is a part of my test:\r\n\r\n \r\n\r\n    @Test\r\n        public void TestApply() throws MappingException, MappingOperatorCreationException, TargetModelObjectCreationException {\r\n    \r\n            Source mockedSource = Mockito.mock(Source.class);\r\n            TargetModelObjectFactory targetModelObjectFactory = Mockito.mock(TargetModelObjectFactory.class)\r\n            Target mockedTarget = Mockito.spy(targetModelObjectFactory.create(Target.class));\r\n            sourceToTargetMapper.mapNameToFirstName(mockedSource,mockedTarget);\r\n            Mockito.verify(mockedSource,Mockito.times(1)).setMail(mockedSource.getMail());\r\n    }\r\n     \r\n\r\nThe problem that I&#39;m having is with this part\r\n\r\n    Target target = targetModelObjectFactory.create(Target.class);\r\n\r\nIn my test I need to mock the Target object that being created inside the method, I was tryinh to use mockito.spy for this. But I keep on getting NullPointerException for it..\r\n\r\nIs it the right approach?\r\nWhat is is that I&#39;m missing?\r\nAny help would be appreciated\r\n\r\n\r\n**EDIT** stackTrace\r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tat org.mockito.Mockito.spy(Mockito.java:2034)\r\n    \tat app.transcriber.example.generated.SourceToTargetMapperTest.TestApply(SourceToTargetMapperTest.java:87)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n    \r\n    app.transcriber.example.generated.SourceToTargetMapperTest &gt; TestApply FAILED\r\n        java.lang.NullPointerException at SourceToTargetMapperTest.java:87\r\n    1 test completed, 1 failed","title":"NullPointerException for Mockito.spy when trying to mock an object that being created inside a method","body":"<p>Helllo, I'm trying to write a test for my apply function. What I wanna do is to verify that the methods\nin the try catch scope are being called when executing the function.\nhhere is my apply method:</p>\n<pre><code>public Target apply(Source source) throws MappingException {\n    try {\n      Target target = targetModelObjectFactory.create(Target.class);\n      mapNameToFirstName(source, target);\n      mapMailToEMail(source, target);\n      mapSourceSubEntityToTargetSubEntity(source, target);\n      mapPrimitiveSourceColToPrimitiveTargetCol(source, target);\n      mapSubEntitiesSourceColToSubEntitiesTargetCol(source, target);\n      mapSourceSubEntityFieldToSubEntityFetchedField(source, target);\n      produceProducedFieldValue(target);\n      setConstantFieldConstantValue(target);\n      return target;\n    } catch (Exception e) {\n      throw new MappingException(source, e);\n    }\n  }\n</code></pre>\n<p>here is my test for <code>mapMailToEMail(source, target);</code></p>\n<pre><code>@Test\n    \n    public void TestSettingMappedMailFromSourceToTargetEMail() {\n\n        Source mockedSource = Mockito.mock(Source.class);\n        Target mockedTarget = Mockito.mock(Target.class);\n\n        sourceToTargetMapper.mapMailToEMail(mockedSource, mockedTarget);\n        Mockito.verify(mockedTarget, Mockito.times(1)).setEMail(mockedSource.getMail());\n    }\n</code></pre>\n<p>And here is a part of my test:</p>\n<pre><code>@Test\n    public void TestApply() throws MappingException, MappingOperatorCreationException, TargetModelObjectCreationException {\n\n        Source mockedSource = Mockito.mock(Source.class);\n        TargetModelObjectFactory targetModelObjectFactory = Mockito.mock(TargetModelObjectFactory.class)\n        Target mockedTarget = Mockito.spy(targetModelObjectFactory.create(Target.class));\n        sourceToTargetMapper.mapNameToFirstName(mockedSource,mockedTarget);\n        Mockito.verify(mockedSource,Mockito.times(1)).setMail(mockedSource.getMail());\n}\n \n</code></pre>\n<p>The problem that I'm having is with this part</p>\n<pre><code>Target target = targetModelObjectFactory.create(Target.class);\n</code></pre>\n<p>In my test I need to mock the Target object that being created inside the method, I was tryinh to use mockito.spy for this. But I keep on getting NullPointerException for it..</p>\n<p>Is it the right approach?\nWhat is is that I'm missing?\nAny help would be appreciated</p>\n<p><strong>EDIT</strong> stackTrace</p>\n<pre><code>java.lang.NullPointerException\n    at org.mockito.Mockito.spy(Mockito.java:2034)\n    at app.transcriber.example.generated.SourceToTargetMapperTest.TestApply(SourceToTargetMapperTest.java:87)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\napp.transcriber.example.generated.SourceToTargetMapperTest &gt; TestApply FAILED\n    java.lang.NullPointerException at SourceToTargetMapperTest.java:87\n1 test completed, 1 failed\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658300899,"creation_date":1658300899,"answer_id":73047322,"question_id":73043502,"body_markdown":"The standard implementation of `Page` is immutable, so you have to create a new instance, either using [`PageImpl`][1] or https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/support/PageableExecutionUtils.html. Note that your `Page` will be somewhat broken, because it doesn&#39;t contain the correct number of elements.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html","title":"How to correctly update a org.springframework.data.domain.Page&#39;s list?","body":"<p>The standard implementation of <code>Page</code> is immutable, so you have to create a new instance, either using <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html\" rel=\"nofollow noreferrer\"><code>PageImpl</code></a> or <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/support/PageableExecutionUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/support/PageableExecutionUtils.html</a>. Note that your <code>Page</code> will be somewhat broken, because it doesn't contain the correct number of elements.</p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658311413,"creation_date":1658311413,"answer_id":73049638,"question_id":73043502,"body_markdown":"You can use this utility method\r\n\r\n```java\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\n\r\npublic static &lt;T&gt; Page&lt;T&gt; toPage(List&lt;T&gt; list, \r\n                                 int pageNumber, int pageSize, int totalRecords) {\r\n    PageRequest pageable = PageRequest.of(pageNumber, pageSize);\r\n    return new PageImpl&lt;&gt;(list, pageable, totalRecords);\r\n}\r\n```\r\n`pageNumber` starts from 0","title":"How to correctly update a org.springframework.data.domain.Page&#39;s list?","body":"<p>You can use this utility method</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\n\npublic static &lt;T&gt; Page&lt;T&gt; toPage(List&lt;T&gt; list, \n                                 int pageNumber, int pageSize, int totalRecords) {\n    PageRequest pageable = PageRequest.of(pageNumber, pageSize);\n    return new PageImpl&lt;&gt;(list, pageable, totalRecords);\n}\n</code></pre>\n<p><code>pageNumber</code> starts from 0</p>\n"}],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658311413,"creation_date":1658265010,"question_id":73043502,"body_markdown":"I&#39;m using Spring data JPA.  I have a situation where my database identity is a surrogate key which returns three records, but I have implemented the equals method to reduce the collection down to two names.  How to update the  `Page&lt;Person&gt; byName` after filtering out / removing records from it at the service layer?\r\n\r\nExample:\r\n```\r\nID license  Name \r\n1  123456   Kim Kardashian\r\n2  123456   Kim Kardashian West\r\n3  123456   Kim Kardashian\r\n```\r\n\r\nWhen searching I want to return two records. I have overridden the equals and hashcode method to define equality based on the, license and name attributes.  I&#39;m okay with it arbitrarily picking 1 or 3 to represent the 123456 Kim Kardashian record.\r\n```\r\nID license  Name \r\n1 123456   Kim Kardashian\r\n2 123456   Kim Kardashian West\r\n```\r\nCode snippet of the repository returning the 3 records, and now at the service layer I would like to filter it down to the two records.\r\n```\r\n    Page&lt;Person&gt; byName = PersonRepository.findByName(\r\n        name,\r\n        pageable);\r\n    //Now remove duplicates based on the equals() method rather than database identity (this is a read-only entity.  \r\n    List&lt;Person&gt; collect = byName.get().distinct().collect(Collectors.toList());\r\n\r\n    //how to place the replace the list back in the byName and the paging information is accurate?\r\n    return ????;\r\n```","title":"How to correctly update a org.springframework.data.domain.Page&#39;s list?","body":"<p>I'm using Spring data JPA.  I have a situation where my database identity is a surrogate key which returns three records, but I have implemented the equals method to reduce the collection down to two names.  How to update the  <code>Page&lt;Person&gt; byName</code> after filtering out / removing records from it at the service layer?</p>\n<p>Example:</p>\n<pre><code>ID license  Name \n1  123456   Kim Kardashian\n2  123456   Kim Kardashian West\n3  123456   Kim Kardashian\n</code></pre>\n<p>When searching I want to return two records. I have overridden the equals and hashcode method to define equality based on the, license and name attributes.  I'm okay with it arbitrarily picking 1 or 3 to represent the 123456 Kim Kardashian record.</p>\n<pre><code>ID license  Name \n1 123456   Kim Kardashian\n2 123456   Kim Kardashian West\n</code></pre>\n<p>Code snippet of the repository returning the 3 records, and now at the service layer I would like to filter it down to the two records.</p>\n<pre><code>    Page&lt;Person&gt; byName = PersonRepository.findByName(\n        name,\n        pageable);\n    //Now remove duplicates based on the equals() method rather than database identity (this is a read-only entity.  \n    List&lt;Person&gt; collect = byName.get().distinct().collect(Collectors.toList());\n\n    //how to place the replace the list back in the byName and the paging information is accurate?\n    return ????;\n</code></pre>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1658302242,"post_id":73047350,"comment_id":129014763,"body_markdown":"I don&#39;t think a Dialog will work this way . better have a layout under Appbar and add BottomSheetBehavior to this layout ..","body":"I don&#39;t think a Dialog will work this way . better have a layout under Appbar and add BottomSheetBehavior to this layout .."}],"answers":[{"tags":[],"owner":{"account_id":18459139,"reputation":381,"user_id":13447094,"display_name":"Enes Kayıklık"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658311312,"creation_date":1658303988,"answer_id":73047934,"question_id":73047350,"body_markdown":"You can try [TopSheetBehavior](https://github.com/carlos-mg89/TopSheetBehavior) I am currently using this in one of my projects and it works perfectly. Thanks to [Carlos](https://stackoverflow.com/users/973919/xarlymg89) for this beautiful library.\r\n\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;95dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:contentInsetEnd=&quot;0dp&quot;\r\n            app:contentInsetStart=&quot;0dp&quot;\r\n            app:contentInsetStartWithNavigation=&quot;0dp&quot;&gt;\r\n\r\n       &lt;!-- Your toolbar content goes here --&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;!-- This view is for black background when sheet expanded --&gt;\r\n    &lt;View\r\n        android:id=&quot;@+id/sheetExpanded&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:alpha=&quot;0&quot;\r\n        android:background=&quot;#91000000&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;TopSheetCustomView (Create Custom Top Sheet Content View)\r\n        android:id=&quot;@+id/roomTopSheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:behavior_hideable=&quot;false&quot;\r\n        app:behavior_peekHeight=&quot;110dp&quot;\r\n        app:layout_behavior=&quot;YOUR_PACKAGE_NAME.TopSheetBehavior&quot; /&gt;\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nIf you want to add black background you can add slide callback\r\n\r\n```kotlin\r\nTopSheetBehavior.from(roomTopSheet (XML view id)).setTopSheetCallback(object :\r\nTopSheetBehavior.TopSheetCallback() {\r\n    override fun onStateChanged(topSheet: View, newState: Int) {\r\n        // On Sheet State Changed\r\n    }\r\n\r\n    override fun onSlide(topSheet: View, slideOffset: Float, isOpening: Boolean?) {\r\n        runCatching {\r\n            sheetExpanded.alpha = (slideOffset * 100).toInt() / 100F\r\n            if (slideOffset == 0F) sheetExpanded.hide() \r\n            else sheetExpanded.show()\r\n        }\r\n    }\r\n})\r\n\r\nsheetExpanded.setOnClickListener {\r\n    TopSheetBehavior.from(roomTopSheet).state =\r\n    TopSheetBehavior.STATE_COLLAPSED\r\n}\r\n```\r\n\r\nAlso you need to add this code for make top sheet behind to app bar\r\n\r\n```kotlin\r\nroomTopSheet.bringToFront()\r\nappBar.bringToFront()\r\n```","title":"How to show BottomSheetDialog below toolbar","body":"<p>You can try <a href=\"https://github.com/carlos-mg89/TopSheetBehavior\" rel=\"nofollow noreferrer\">TopSheetBehavior</a> I am currently using this in one of my projects and it works perfectly. Thanks to <a href=\"https://stackoverflow.com/users/973919/xarlymg89\">Carlos</a> for this beautiful library.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;95dp&quot;\n        android:gravity=&quot;center&quot;\n        app:elevation=&quot;0dp&quot;&gt;\n\n        &lt;com.google.android.material.appbar.MaterialToolbar\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            app:contentInsetEnd=&quot;0dp&quot;\n            app:contentInsetStart=&quot;0dp&quot;\n            app:contentInsetStartWithNavigation=&quot;0dp&quot;&gt;\n\n       &lt;!-- Your toolbar content goes here --&gt;\n\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;!-- This view is for black background when sheet expanded --&gt;\n    &lt;View\n        android:id=&quot;@+id/sheetExpanded&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:alpha=&quot;0&quot;\n        android:background=&quot;#91000000&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;TopSheetCustomView (Create Custom Top Sheet Content View)\n        android:id=&quot;@+id/roomTopSheet&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:behavior_hideable=&quot;false&quot;\n        app:behavior_peekHeight=&quot;110dp&quot;\n        app:layout_behavior=&quot;YOUR_PACKAGE_NAME.TopSheetBehavior&quot; /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>If you want to add black background you can add slide callback</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>TopSheetBehavior.from(roomTopSheet (XML view id)).setTopSheetCallback(object :\nTopSheetBehavior.TopSheetCallback() {\n    override fun onStateChanged(topSheet: View, newState: Int) {\n        // On Sheet State Changed\n    }\n\n    override fun onSlide(topSheet: View, slideOffset: Float, isOpening: Boolean?) {\n        runCatching {\n            sheetExpanded.alpha = (slideOffset * 100).toInt() / 100F\n            if (slideOffset == 0F) sheetExpanded.hide() \n            else sheetExpanded.show()\n        }\n    }\n})\n\nsheetExpanded.setOnClickListener {\n    TopSheetBehavior.from(roomTopSheet).state =\n    TopSheetBehavior.STATE_COLLAPSED\n}\n</code></pre>\n<p>Also you need to add this code for make top sheet behind to app bar</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>roomTopSheet.bringToFront()\nappBar.bringToFront()\n</code></pre>\n"}],"owner":{"account_id":15731890,"reputation":917,"user_id":13049473,"display_name":"Sreehari K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73047934,"answer_count":1,"score":0,"last_activity_date":1658311312,"creation_date":1658301052,"question_id":73047350,"body_markdown":"I&#39;m trying to achieve something that looks like in the image below.\r\n\r\n[![][1]][1]\r\n\r\nIt&#39;s a sheet shown from the top and is below the toolbar. It also has dimmed background.\r\n\r\nI was able to show the sheet from the top as you can see [in this video][2] with the help of [this code][3]\r\n\r\nHow can I make the sheet appear below the toolbar with background dimming as shown in the picture? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6JUkr.jpg\r\n  [2]: https://youtube.com/shorts/46lZDH8_sWU?feature=share\r\n  [3]: https://github.com/TechIsFun/AndroidTopSheet/blob/master/library/src/main/java/com/github/techisfun/android/topsheet/TopSheetDialog.java","title":"How to show BottomSheetDialog below toolbar","body":"<p>I'm trying to achieve something that looks like in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/6JUkr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JUkr.jpg\" alt=\"\" /></a></p>\n<p>It's a sheet shown from the top and is below the toolbar. It also has dimmed background.</p>\n<p>I was able to show the sheet from the top as you can see <a href=\"https://youtube.com/shorts/46lZDH8_sWU?feature=share\" rel=\"nofollow noreferrer\">in this video</a> with the help of <a href=\"https://github.com/TechIsFun/AndroidTopSheet/blob/master/library/src/main/java/com/github/techisfun/android/topsheet/TopSheetDialog.java\" rel=\"nofollow noreferrer\">this code</a></p>\n<p>How can I make the sheet appear below the toolbar with background dimming as shown in the picture?</p>\n"},{"tags":["java","annotations","constants","string-interning"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1466169136,"post_id":37853188,"comment_id":63219759,"body_markdown":"Annotation string literals aren&#39;t part of the code and aren&#39;t subject to the same rules as string literals in the code, so there is really no reason why they should be pooled.","body":"Annotation string literals aren&#39;t part of the code and aren&#39;t subject to the same rules as string literals in the code, so there is really no reason why they should be pooled."}],"answers":[{"tags":[],"owner":{"account_id":3792873,"reputation":1214,"user_id":3148880,"display_name":"Aris2World"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1658311205,"creation_date":1466167108,"answer_id":37881805,"question_id":37853188,"body_markdown":"String literal are interned but annotations are subject to parse and they are stored in byte arrays. If you look at the class `java.lang.reflect.Method` you can see this:\r\n\r\n    private byte[]              annotations;\r\n    private byte[]              parameterAnnotations;\r\n    private byte[]              annotationDefault;  \r\n\r\nTake also a look at the method `public Object getDefaultValue()` of the same class to see how the AnnotationParser is called. The flow continues till here\r\n[AnnotationParser.parseConst][1] and enter in \r\n\r\n    case &#39;s&#39;:\r\n      return constPool.getUTF8At(constIndex);\r\n\r\nThe method `ConstantPool.getUTF8At` is a delegate to a native method. You can see the code here  [native implementation getUFT8At][2]. The parsed constant is never interned and is never retrieved from the StringTable (where string are interned).\r\n\r\nI think it could be a choice of implementation. Interning has been created to make more fast comparison between String literal and so is used only for interning literal usable in method implementation.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk7u/blob/2af5704f35fe82997c15b90325f6a9800021e014/jdk/src/share/classes/sun/reflect/annotation/AnnotationParser.java#L362\r\n  [2]: http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/tip/src/share/vm/prims/jvm.cpp#l2021","title":"Why are annotation string values not interned?","body":"<p>String literal are interned but annotations are subject to parse and they are stored in byte arrays. If you look at the class <code>java.lang.reflect.Method</code> you can see this:</p>\n<pre><code>private byte[]              annotations;\nprivate byte[]              parameterAnnotations;\nprivate byte[]              annotationDefault;  \n</code></pre>\n<p>Take also a look at the method <code>public Object getDefaultValue()</code> of the same class to see how the AnnotationParser is called. The flow continues till here\n<a href=\"https://github.com/openjdk/jdk7u/blob/2af5704f35fe82997c15b90325f6a9800021e014/jdk/src/share/classes/sun/reflect/annotation/AnnotationParser.java#L362\" rel=\"nofollow noreferrer\">AnnotationParser.parseConst</a> and enter in</p>\n<pre><code>case 's':\n  return constPool.getUTF8At(constIndex);\n</code></pre>\n<p>The method <code>ConstantPool.getUTF8At</code> is a delegate to a native method. You can see the code here  <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/tip/src/share/vm/prims/jvm.cpp#l2021\" rel=\"nofollow noreferrer\">native implementation getUFT8At</a>. The parsed constant is never interned and is never retrieved from the StringTable (where string are interned).</p>\n<p>I think it could be a choice of implementation. Interning has been created to make more fast comparison between String literal and so is used only for interning literal usable in method implementation.</p>\n"},{"tags":[],"owner":{"account_id":3164480,"reputation":568,"user_id":2674784,"accept_rate":50,"display_name":"Eugene Kirin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467888140,"creation_date":1467884754,"answer_id":38242322,"question_id":37853188,"body_markdown":"It&#39;s because you access to annotation at runtime and accordance with [java spec - Example 3.10.5-1. String Literals][1], strings are newly created and therefore distinct.\r\n\r\n&gt; All literal strings and compile-time string-valued constant\r\n&gt; expressions are automatically interned\r\n\r\nIn your case the value from `test1` will be computed at runtime from native value() method (look at [AnnotationDefault attribute][2]).   \r\n\r\n    String value() default CONSTANT;\r\n\r\nOthers cases also will be computed at runtime.\r\n\r\n\r\nWhen you get a value from the annotation you have to explicitly to perform intern \r\n\r\n    String poolString = Foo.class.getMethod(&quot;test1&quot;).getAnnotation(Bar.class).value().intern();\r\n    System.out.println(poolString == Bar.CONSTANT); \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.20","title":"Why are annotation string values not interned?","body":"<p>It's because you access to annotation at runtime and accordance with <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5\">java spec - Example 3.10.5-1. String Literals</a>, strings are newly created and therefore distinct.</p>\n\n<blockquote>\n  <p>All literal strings and compile-time string-valued constant\n  expressions are automatically interned</p>\n</blockquote>\n\n<p>In your case the value from <code>test1</code> will be computed at runtime from native value() method (look at <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.20\">AnnotationDefault attribute</a>).   </p>\n\n<pre><code>String value() default CONSTANT;\n</code></pre>\n\n<p>Others cases also will be computed at runtime.</p>\n\n<p>When you get a value from the annotation you have to explicitly to perform intern </p>\n\n<pre><code>String poolString = Foo.class.getMethod(\"test1\").getAnnotation(Bar.class).value().intern();\nSystem.out.println(poolString == Bar.CONSTANT); \n</code></pre>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":3,"up_vote_count":21,"accepted_answer_id":37881805,"answer_count":2,"score":18,"last_activity_date":1658311205,"creation_date":1466063909,"question_id":37853188,"body_markdown":"The following snippet prints 4 distinct hash codes, despite reusing a string constant and literal. Why are string values not interned on annotation elements?\r\n\r\n    public class Foo {\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @interface Bar {\r\n            String CONSTANT = &quot;foo&quot;;\r\n            \r\n            String value() default CONSTANT;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(System.identityHashCode(Bar.CONSTANT));\r\n            System.out.println(System.identityHashCode(Foo.class.getMethod(&quot;test1&quot;).getAnnotation(Bar.class).value()));\r\n            System.out.println(System.identityHashCode(Foo.class.getMethod(&quot;test2&quot;).getAnnotation(Bar.class).value()));\r\n            System.out.println(System.identityHashCode(Foo.class.getMethod(&quot;test3&quot;).getAnnotation(Bar.class).value()));\r\n        }\r\n        \r\n        @Bar\r\n        public void test1() {}\r\n        \r\n        @Bar(&quot;foo&quot;)\r\n        public void test2() {}\r\n        \r\n        @Bar(Bar.CONSTANT)\r\n        public void test3() {}\r\n    }\r\n\r\n","title":"Why are annotation string values not interned?","body":"<p>The following snippet prints 4 distinct hash codes, despite reusing a string constant and literal. Why are string values not interned on annotation elements?</p>\n\n<pre><code>public class Foo {\n    @Retention(RetentionPolicy.RUNTIME)\n    @interface Bar {\n        String CONSTANT = \"foo\";\n\n        String value() default CONSTANT;\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(System.identityHashCode(Bar.CONSTANT));\n        System.out.println(System.identityHashCode(Foo.class.getMethod(\"test1\").getAnnotation(Bar.class).value()));\n        System.out.println(System.identityHashCode(Foo.class.getMethod(\"test2\").getAnnotation(Bar.class).value()));\n        System.out.println(System.identityHashCode(Foo.class.getMethod(\"test3\").getAnnotation(Bar.class).value()));\n    }\n\n    @Bar\n    public void test1() {}\n\n    @Bar(\"foo\")\n    public void test2() {}\n\n    @Bar(Bar.CONSTANT)\n    public void test3() {}\n}\n</code></pre>\n"},{"tags":["java","decode","quoted-printable"],"comments":[{"owner":{"account_id":165524,"reputation":6121,"user_id":389051,"accept_rate":67,"display_name":"Gene Golovchinsky"},"score":0,"creation_date":1351579171,"post_id":13133201,"comment_id":17862140,"body_markdown":"Not sure why this deserved a -2 without commment; it seems like a natural follow-on to an answer to another [question on &quot;quoted-printable&quot; encodings](http://stackoverflow.com/questions/7306432/how-to-decode-quotable-chars-from-quotable-to-a-char).","body":"Not sure why this deserved a -2 without commment; it seems like a natural follow-on to an answer to another <a href=\"http://stackoverflow.com/questions/7306432/how-to-decode-quotable-chars-from-quotable-to-a-char\">question on &quot;quoted-printable&quot; encodings</a>."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1351575677,"creation_date":1351575677,"answer_id":13133293,"question_id":13133201,"body_markdown":"I don&#39;t know of anything in the standard J2SE API for this. However, a quick Google search turns up [this decoder code][1]. I can&#39;t vouch for it, but it looks reasonable. You can probably find others yourself.\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Android/Date-Type/Amethodtodecodeencodequotedprintableencodeddata.htm","title":"Decoding a &quot;quoted-printable&quot; string in Java","body":"<p>I don't know of anything in the standard J2SE API for this. However, a quick Google search turns up <a href=\"http://www.java2s.com/Code/Android/Date-Type/Amethodtodecodeencodequotedprintableencodeddata.htm\" rel=\"nofollow\">this decoder code</a>. I can't vouch for it, but it looks reasonable. You can probably find others yourself.</p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453224460,"creation_date":1351605136,"answer_id":13140496,"question_id":13133201,"body_markdown":"The [Apache Commons Codec][1] library also has support for [quoted printable][2] and is available under the more permissive apache license.\r\n\r\n [1]: http://commons.apache.org/codec/\r\n [2]: http://commons.apache.org/proper/commons-codec/archives/1.10/apidocs/org/apache/commons/codec/net/QuotedPrintableCodec.html","title":"Decoding a &quot;quoted-printable&quot; string in Java","body":"<p>The <a href=\"http://commons.apache.org/codec/\" rel=\"nofollow\">Apache Commons Codec</a> library also has support for <a href=\"http://commons.apache.org/proper/commons-codec/archives/1.10/apidocs/org/apache/commons/codec/net/QuotedPrintableCodec.html\" rel=\"nofollow\">quoted printable</a> and is available under the more permissive apache license.</p>\n"},{"tags":[],"owner":{"account_id":5164377,"reputation":410,"user_id":4134934,"accept_rate":83,"display_name":"Markus Rohlof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658311123,"creation_date":1658311123,"answer_id":73049568,"question_id":13133201,"body_markdown":"I found the Apache Commons Codec to be quite restrictive. It failed to decode a mail in `quoted-printable` format. The option I went with is [MimeUtility#decode][1].\r\n\r\nExample: \r\n\r\n```kotlin\r\nString(MimeUtility.decode(content.byteInputStream(), &quot;quoted-printable&quot;).readAllBytes())\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/mail/internet/MimeUtility.html#decode-java.io.InputStream-java.lang.String-","title":"Decoding a &quot;quoted-printable&quot; string in Java","body":"<p>I found the Apache Commons Codec to be quite restrictive. It failed to decode a mail in <code>quoted-printable</code> format. The option I went with is <a href=\"https://docs.oracle.com/javaee/7/api/javax/mail/internet/MimeUtility.html#decode-java.io.InputStream-java.lang.String-\" rel=\"nofollow noreferrer\">MimeUtility#decode</a>.</p>\n<p>Example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>String(MimeUtility.decode(content.byteInputStream(), &quot;quoted-printable&quot;).readAllBytes())\n</code></pre>\n"}],"owner":{"account_id":165524,"reputation":6121,"user_id":389051,"accept_rate":67,"display_name":"Gene Golovchinsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7026,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":13133293,"answer_count":3,"score":4,"last_activity_date":1658311123,"creation_date":1351575149,"question_id":13133201,"body_markdown":"I would like to use javax.mail.internet.MimeUtility to decode a `&quot;quoted-printable&quot;` string. I do not need any other interface to a mail server. What&#39;s the best way to get at that class (and its dependencies)? Alternatively, is there a better way to parse `&quot;quoted-printable&quot;` strings?","title":"Decoding a &quot;quoted-printable&quot; string in Java","body":"<p>I would like to use javax.mail.internet.MimeUtility to decode a <code>\"quoted-printable\"</code> string. I do not need any other interface to a mail server. What's the best way to get at that class (and its dependencies)? Alternatively, is there a better way to parse <code>\"quoted-printable\"</code> strings?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1658310947,"post_id":73049466,"comment_id":129018001,"body_markdown":"You might possibly need a MVC or MVVM design pattern, where V is your view (or HTML page to be precise) , you are returning string so possibly your HTML content is being parsed from &lt; to &amp;lt; and &gt; to &amp;gt;  !","body":"You might possibly need a MVC or MVVM design pattern, where V is your view (or HTML page to be precise) , you are returning string so possibly your HTML content is being parsed from &lt; to &amp;lt; and &gt; to &amp;gt;  !"},{"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"score":0,"creation_date":1658326629,"post_id":73049466,"comment_id":129024622,"body_markdown":"What is expected output? How have you tried to achieve it?","body":"What is expected output? How have you tried to achieve it?"}],"owner":{"account_id":19667966,"reputation":9,"user_id":14397854,"display_name":"Lnx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658311048,"creation_date":1658310769,"question_id":73049466,"body_markdown":"I have the following controller to return a html page.\r\nThe usage of ResponseBody is needed because of some reason.\r\n\r\n```\r\n@ResponseBody\r\n@RequestMapping(\r\n        value = {&quot;/dashboard/view/embed.htm&quot;},\r\n        method = {RequestMethod.GET},\r\n        produces = {&quot;text/html;charset=utf-8&quot;}\r\n    )\r\n    public String execute(@RequestParam(required = false,name = &quot;id&quot;) String embedId, HttpServletRequest request) throws Exception {\r\n        Map&lt;String, Object&gt; context = this.buildPageContext(embedId, request);\r\n        String templatePath = this.viewPath;\r\n        if (StringUtils.isBlank(this.viewPath)) {\r\n            templatePath = &quot;template/fbi_embed.vm&quot;;\r\n        }\r\n\r\n        Template template = this.engine.getTemplate(templatePath, &quot;UTF-8&quot;);\r\n        VelocityContext velocityContext = new VelocityContext(context);\r\n        StringWriter stringWriter = new StringWriter();\r\n        template.merge(velocityContext, stringWriter);\r\n        return stringWriter.getBuffer().toString();\r\n    }\r\n```\r\n\r\nThe result I got in explore showing in the follow:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KNAmZ.png\r\n\r\nI don&#39;t know why the &lt; and &gt; become &amp;lt; and &amp;gt;\r\nI use the spring-boot-starter-web 1.5.22.RELEASE","title":"Springboot responseBody return HTML","body":"<p>I have the following controller to return a html page.\nThe usage of ResponseBody is needed because of some reason.</p>\n<pre><code>@ResponseBody\n@RequestMapping(\n        value = {&quot;/dashboard/view/embed.htm&quot;},\n        method = {RequestMethod.GET},\n        produces = {&quot;text/html;charset=utf-8&quot;}\n    )\n    public String execute(@RequestParam(required = false,name = &quot;id&quot;) String embedId, HttpServletRequest request) throws Exception {\n        Map&lt;String, Object&gt; context = this.buildPageContext(embedId, request);\n        String templatePath = this.viewPath;\n        if (StringUtils.isBlank(this.viewPath)) {\n            templatePath = &quot;template/fbi_embed.vm&quot;;\n        }\n\n        Template template = this.engine.getTemplate(templatePath, &quot;UTF-8&quot;);\n        VelocityContext velocityContext = new VelocityContext(context);\n        StringWriter stringWriter = new StringWriter();\n        template.merge(velocityContext, stringWriter);\n        return stringWriter.getBuffer().toString();\n    }\n</code></pre>\n<p>The result I got in explore showing in the follow:</p>\n<p><img src=\"https://i.stack.imgur.com/KNAmZ.png\" alt=\"enter image description here\" /></p>\n<p>I don't know why the &lt; and &gt; become &lt; and &gt;\nI use the spring-boot-starter-web 1.5.22.RELEASE</p>\n"},{"tags":["java","regex","split","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1658310993,"creation_date":1658310993,"answer_id":73049533,"question_id":73049294,"body_markdown":"`String.split` has code aimed at exactly this use case:\r\n\r\nhttps://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/String.java#L3102\r\n\r\n&gt;             /* fastpath if the regex is a\r\n&gt;              * (1) one-char String and this character is not one of the\r\n&gt;              *     RegEx&#39;s meta characters &quot;.$|()[{^?*+\\\\&quot;, or\r\n&gt;              * (2) two-char String and the first char is the backslash and\r\n&gt;              *     the second is not the ascii digit or ascii letter.\r\n&gt;              */\r\n\r\nThat means that when using `split(&quot;\\\\.&quot;)` the string is effectively not split using a regular expression - the method splits the string directly at the `&#39;.&#39;` characters.\r\n\r\nThis optimization is not possible when you write `PATTERN_DOT.split(ipAddress)`.","title":"Why Java compiled regex works slower then interpreted in String::split?","body":"<p><code>String.split</code> has code aimed at exactly this use case:</p>\n<p><a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/String.java#L3102\" rel=\"noreferrer\">https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/String.java#L3102</a></p>\n<blockquote>\n<pre><code>        /* fastpath if the regex is a\n         * (1) one-char String and this character is not one of the\n         *     RegEx's meta characters &quot;.$|()[{^?*+\\\\&quot;, or\n         * (2) two-char String and the first char is the backslash and\n         *     the second is not the ascii digit or ascii letter.\n         */\n</code></pre>\n</blockquote>\n<p>That means that when using <code>split(&quot;\\\\.&quot;)</code> the string is effectively not split using a regular expression - the method splits the string directly at the <code>'.'</code> characters.</p>\n<p>This optimization is not possible when you write <code>PATTERN_DOT.split(ipAddress)</code>.</p>\n"}],"owner":{"account_id":16974584,"reputation":618,"user_id":12278291,"display_name":"Jegors Čemisovs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73049533,"answer_count":1,"score":2,"last_activity_date":1658310993,"creation_date":1658310087,"question_id":73049294,"body_markdown":"I&#39;m trying to improve the following code:\r\n```java\r\n    public int applyAsInt(String ipAddress) {\r\n        var ipAddressInArray = ipAddress.split(&quot;\\\\.&quot;);\r\n        ...\r\n```\r\n\r\nSo I compile the regular expression into a static constant:\r\n\r\n```java\r\n    private static final Pattern PATTERN_DOT = Pattern.compile(&quot;.&quot;, Pattern.LITERAL);\r\n\r\n    public int applyAsInt(String ipAddress) {\r\n        var ipAddressInArray = PATTERN_DOT.split(ipAddress);\r\n        ...\r\n```\r\nThe rest of the code remained unchanged.\r\n\r\nTo my amazement, the new code is slower than the previous one. \r\nBelow are the test results:\r\n```\r\nBenchmark                                (ipAddress)  Mode  Cnt    Score    Error  Units\r\nConverterBenchmark.mkyongConverter           1.2.3.4  avgt   10  166.456 &#177;  9.087  ns/op\r\nConverterBenchmark.mkyongConverter       120.1.34.78  avgt   10  168.548 &#177;  2.996  ns/op\r\nConverterBenchmark.mkyongConverter   129.205.201.114  avgt   10  180.754 &#177;  6.891  ns/op\r\nConverterBenchmark.mkyong2Converter          1.2.3.4  avgt   10  253.318 &#177;  4.977  ns/op\r\nConverterBenchmark.mkyong2Converter      120.1.34.78  avgt   10  263.045 &#177;  8.373  ns/op\r\nConverterBenchmark.mkyong2Converter  129.205.201.114  avgt   10  331.376 &#177; 53.092  ns/op\r\n```\r\n\r\nHelp me understand why this is happening, please.\r\n","title":"Why Java compiled regex works slower then interpreted in String::split?","body":"<p>I'm trying to improve the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int applyAsInt(String ipAddress) {\n        var ipAddressInArray = ipAddress.split(&quot;\\\\.&quot;);\n        ...\n</code></pre>\n<p>So I compile the regular expression into a static constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Pattern PATTERN_DOT = Pattern.compile(&quot;.&quot;, Pattern.LITERAL);\n\n    public int applyAsInt(String ipAddress) {\n        var ipAddressInArray = PATTERN_DOT.split(ipAddress);\n        ...\n</code></pre>\n<p>The rest of the code remained unchanged.</p>\n<p>To my amazement, the new code is slower than the previous one.\nBelow are the test results:</p>\n<pre><code>Benchmark                                (ipAddress)  Mode  Cnt    Score    Error  Units\nConverterBenchmark.mkyongConverter           1.2.3.4  avgt   10  166.456 ±  9.087  ns/op\nConverterBenchmark.mkyongConverter       120.1.34.78  avgt   10  168.548 ±  2.996  ns/op\nConverterBenchmark.mkyongConverter   129.205.201.114  avgt   10  180.754 ±  6.891  ns/op\nConverterBenchmark.mkyong2Converter          1.2.3.4  avgt   10  253.318 ±  4.977  ns/op\nConverterBenchmark.mkyong2Converter      120.1.34.78  avgt   10  263.045 ±  8.373  ns/op\nConverterBenchmark.mkyong2Converter  129.205.201.114  avgt   10  331.376 ± 53.092  ns/op\n</code></pre>\n<p>Help me understand why this is happening, please.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658343964,"post_id":73049517,"comment_id":129031257,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25852129,"reputation":1,"user_id":19585967,"display_name":"&#246;mer rıza bahadır"},"score":0,"creation_date":1658494690,"post_id":73049517,"comment_id":129071768,"body_markdown":"I installed postgresql on my laptop. Then I want to add it  eclipse libraries for using them with all projects.To add it , I must see Data Manager item in eclipse preferences menu. But it doesn&#39;t seen in the preferences menu. How can I add Data Management to the eclipse preferences menu? Or has it a different way  to add database to all projects for Mac os eclipse?","body":"I installed postgresql on my laptop. Then I want to add it  eclipse libraries for using them with all projects.To add it , I must see Data Manager item in eclipse preferences menu. But it doesn&#39;t seen in the preferences menu. How can I add Data Management to the eclipse preferences menu? Or has it a different way  to add database to all projects for Mac os eclipse?"}],"owner":{"account_id":25852129,"reputation":1,"user_id":19585967,"display_name":"&#246;mer rıza bahadır"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658310944,"creation_date":1658310944,"question_id":73049517,"body_markdown":"In my eclipse application preferences  has not include Data Management tab.How can I add Data Management to the preferences","title":"How to add eclipse data management in mac os","body":"<p>In my eclipse application preferences  has not include Data Management tab.How can I add Data Management to the preferences</p>\n"},{"tags":["java","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1658243298,"post_id":73039004,"comment_id":129000640,"body_markdown":"Did you increases the MAXMSGL of the SVRCONN?","body":"Did you increases the MAXMSGL of the SVRCONN?"},{"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"score":0,"creation_date":1658244223,"post_id":73039004,"comment_id":129001044,"body_markdown":"@JoshMc yes, alreday done that","body":"@JoshMc yes, alreday done that"},{"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"score":0,"creation_date":1658246935,"post_id":73039004,"comment_id":129002076,"body_markdown":"@JoshMc any idea about this ?","body":"@JoshMc any idea about this ?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1658250725,"post_id":73039004,"comment_id":129003393,"body_markdown":"Do you have jms trace enabled?","body":"Do you have jms trace enabled?"},{"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"score":0,"creation_date":1658302130,"post_id":73039004,"comment_id":129014724,"body_markdown":"@JoshMc Added the full trace in the post","body":"@JoshMc Added the full trace in the post"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1658309483,"post_id":73039004,"comment_id":129017398,"body_markdown":"I mean do you have a IBM MQ trace enabled?","body":"I mean do you have a IBM MQ trace enabled?"},{"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"score":0,"creation_date":1658310804,"post_id":73039004,"comment_id":129017940,"body_markdown":"@JoshMc Enabled and added in the post. You can see them now.","body":"@JoshMc Enabled and added in the post. You can see them now."},{"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"score":0,"creation_date":1658311094,"post_id":73039004,"comment_id":129018054,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246603/discussion-between-user1665581-and-joshmc).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246603/discussion-between-user1665581-and-joshmc\">continue this discussion in chat</a>."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1658313224,"post_id":73039004,"comment_id":129018894,"body_markdown":"Normally 2080 is only found in the trace,  JMS will automatically adjust the buffer and reGET the message","body":"Normally 2080 is only found in the trace,  JMS will automatically adjust the buffer and reGET the message"}],"owner":{"account_id":1835021,"reputation":33,"user_id":1665581,"accept_rate":12,"display_name":"user1665581"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658310764,"creation_date":1658241811,"question_id":73039004,"body_markdown":"We are using `DefaultJmsListenerContainerFactory` to consume messages from the IBM MQ, but it fails when we receive messages of larger size say 7.5 MB.\r\nWe have already increased the &quot;Max Message length&quot; for the queue.\r\nMoreover, the message gets consumed when we shift to `SimpleJMSListenerContainerFactory`, but our requirement is to use `DefaultJmsListenerContainerFactory` only.\r\n\r\nBelow is the exception we get while using `DefaultJmsListenerContainerFactory`:\r\n```\r\n\r\n\r\n20/07/22 10:28:47.898.0N]  00000013 ] [com.ibm.mq.jmqi.remote.impl.RemoteSession[:/29f72f32][connectionId=414D51434E41504D3039312020202020636ED6629812D321,traceIdentifier=2,remoteTraceIdentifier=-1]]\r\n\r\n[20/07/22 10:28:47.898.0O]  00000013     static  c.i.m.c.wmq.internal.WMQMessageConsumer                                ----+---  {  checkJmqiCallSuccess(String,HashMap&lt;String , ? extends Object&gt;,Pint,\r\n\r\nPint,JmqiEnvironment,String,WMQConsumerOwner,Hconn,boolean) [JMSWMQ2002] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}] [1] [2080] [c.i.mq.jmqi.system.JmqiSystemEnvironment@343d1d25] [XN004\r\n\r\n008] &lt;as-before&gt; [com.ibm.mq.jmqi.remote.impl.RemoteSession[:/29f72f32][connectionId=414D51434E41504D3039312020202020636ED6629812D321,traceIdentifier=2,remoteTraceIdentifier=-1]] [false]\r\n\r\n[20/07/22 10:28:47.898.0P]  00000013  @7d25cab3  c.i.m.c.wmq.internal.WMQSession                                        ----+----  d  getJmqiMQ() getter [c.i.mq.ese.jmqi.ESEJMQI@4c0ab04f]\r\n\r\n[20/07/22 10:28:47.898.0Q]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----  {  isImpossibleReason(int,int,JmqiSP) [2080(0x820)] [1(0x1)] [c.i.mq.e\r\n\r\nse.jmqi.ESEJMQI@4c0ab04f]\r\n\r\n[20/07/22 10:28:47.898.0R]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  isImpossibleReason(int,int)&lt;exitIndex 4&gt; returns [false] Boolean\r\n\r\n[20/07/22 10:28:47.899.00]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  {  isConnectionBroken(int) [2080(0x820)]\r\n\r\n[20/07/22 10:28:47.899.01]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  isConnectionBroken(int)&lt;exitIndex 2&gt; returns [false] Boolean\r\n\r\n[20/07/22 10:28:47.899.02]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  {  createException(String,HashMap&lt;String , ? extends Object&gt;,int,int,\r\n\r\nJmqiEnvironment) [JMSWMQ2002] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}] [2080(0x820)] [1(0x1)] [c.i.mq.jmqi.system.JmqiSystemEnvironment@343d1d25]\r\n\r\n[20/07/22 10:28:47.899.03]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  {  getComponentTls(int) [0(0x0)]\r\n\r\n[20/07/22 10:28:47.899.04]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  }  getComponentTls(int) returns [c.i.mq.jmqi.system.JmqiTls@58512078\r\n\r\n]\r\n\r\n[20/07/22 10:28:47.899.05]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  d  getLastException() getter &lt;null&gt;\r\n\r\n[20/07/22 10:28:47.899.06]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  getCompCodeSymbol(int) [1(0x1)]\r\n\r\n[20/07/22 10:28:47.899.07]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  getCompCodeSymbol(int) returns [MQCC_WARNING] String\r\n\r\n[20/07/22 10:28:47.899.08]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  getReasonSymbol(int) [2080(0x820)]\r\n\r\n[20/07/22 10:28:47.899.09]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  getReasonSymbol(int) returns [MQRC_TRUNCATED_MSG_FAILED] String\r\n\r\n[20/07/22 10:28:47.899.0A]  00000013  @3801c646  c.ibm.mq.MQException                                                   ----+----+-  {  &lt;init&gt;(String,String,int,int) [JMSCMQ0001: IBM MQ call failed wit\r\n\r\nh compcode &#39;1&#39; (&#39;MQCC_WARNING&#39;) reason &#39;2080&#39; (&#39;MQRC_TRUNCATED_MSG_FAILED&#39;).] [JMSCMQ0001] [2080(0x820)] [1(0x1)]\r\n\r\n[20/07/22 10:28:47.899.0B]  00000013  @3801c646  c.ibm.mq.MQException                                                   ----+----+-  }  &lt;init&gt;(String,String,int,int)\r\n\r\n[20/07/22 10:28:47.899.0C]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  reasonToException(int,String,String,String,String,HashMap&lt;String\r\n\r\n, ? extends Object&gt;) [2080(0x820)] [JMSWMQ2002: Failed to get a message from destination &#39;CIBISMBC.BONDLEND.JETTREPO.IN.Q3&#39;.] [JMSWMQ2002] [IBM MQ classes for JMS attempted to perform an MQGET; however\r\n\r\nIBM MQ reported an error.] [Use the linked exception to determine the cause of this error.] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}]\r\n\r\n[20/07/22 10:28:47.899.0D]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+--  {  &lt;init&gt;(String,String,String,String,Map&lt;String , ? extends Object\r\n\r\n&gt;) [JMSWMQ2002: Failed to get a message from destination &#39;CIBISMBC.BONDLEND.JETTREPO.IN.Q3&#39;.] [JMSWMQ2002] [IBM MQ classes for JMS attempted to perform an MQGET; however IBM MQ reported an error.] [Use\r\n\r\nthe linked exception to determine the cause of this error.] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}]\r\n\r\n[20/07/22 10:28:47.899.0E]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+--  }  &lt;init&gt;(String,String,String,String,Map&lt;String , ? extends Object\r\n\r\n&gt;)\r\n\r\n[20/07/22 10:28:47.899.0F]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  reasonToException(int,String,String,String,String,HashMap&lt;String\r\n\r\n, ? extends Object&gt;) returns\r\n\r\n[20/07/22 10:28:47.899.0F]  00000013 [com.ibm.msg.client.jms.DetailedMessageEOFException: JMSWMQ2002: Failed to get a message from destination &#39;CIBISMBC.BONDLEND.JETTREPO.IN.Q3&#39;.\r\n\r\n[20/07/22 10:28:47.899.0F]  00000013 IBM MQ classes for JMS attempted to perform an MQGET; however IBM MQ reported an error.\r\n\r\n[20/07/22 10:28:47.899.0F]  00000013 Use the linked exception to determine the cause of this error.\r\n\r\n[20/07/22 10:28:47.899.0F]  00000013 ]\r\n\r\n[20/07/22 10:28:47.899.0G]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+-  d  setLinkedException(Exception) setter [com.ibm.mq.MQException: JMS\r\n\r\nCMQ0001: IBM MQ call failed with compcode &#39;1&#39; (&#39;MQCC_WARNING&#39;) reason &#39;2080&#39; (&#39;MQRC_TRUNCATED_MSG_FAILED&#39;).]\r\n\r\n[20/07/22 10:28:47.899.0H]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  createException(String,HashMap&lt;String , ? extends Object&gt;,int,int,\r\n\r\nJmqiEnvironment)&lt;exitIndex 2&gt; returns &lt;as-before&gt;\r\n\r\n[20/07/22 10:28:47.899.0I]  00000013     static  c.i.m.c.wmq.internal.WMQMessageConsumer                                ----+----  !  checkJmqiCallSuccess(String,HashMap&lt;String , ? extends Object&gt;,Pint\r\n\r\n,Pint,JmqiEnvironment,String,WMQConsumerOwner,Hconn,boolean), JMSWMQ2002: Failed to get a message from destination &#39;CIBISMBC.BONDLEND.JETTREPO.IN.Q3&#39;. [com.ibm.msg.client.jms.DetailedMessageEOFExceptio\r\n\r\nn]\r\n\r\n\r\n\r\n\r\n\r\n07:36:39.080 [org.springframework.jms.JmsListenerEndpointContainer#0-2] WARN  DefaultMessageListenerContainer -  - Setup of JMS message listener invoker failed for destination &#39;BONDLEND.Q3&#39; - trying to recover. Cause: JMSWMQ2002: Failed to get a message from destination &#39;BONDLEND.Q3&#39;.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;1&#39; (&#39;MQCC_WARNING&#39;) reason &#39;2080&#39; (&#39;MQRC_TRUNCATED_MSG_FAILED&#39;).\r\n\r\ncom.ibm.msg.client.jms.DetailedMessageEOFException: JMSWMQ2002: Failed to get a message from destination &#39;CIBISMBC.BONDLEND.JETTREPO.IN.Q3&#39;.\r\n\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:539)\r\n\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:222)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:156)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.getMsg(WMQConsumerShadow.java:1858)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.receiveInternal(WMQSyncConsumerShadow.java:233)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.receive(WMQConsumerShadow.java:1461)\r\n\r\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.receive(WMQMessageConsumer.java:674)\r\n\r\n        at com.ibm.msg.client.jms.internal.JmsMessageConsumerImpl.receiveInboundMessage(JmsMessageConsumerImpl.java:1051)\r\n\r\n        at com.ibm.msg.client.jms.internal.JmsMessageConsumerImpl.receive(JmsMessageConsumerImpl.java:667)\r\n\r\n        at com.ibm.mq.jms.MQMessageConsumer.receive(MQMessageConsumer.java:209)\r\n\r\n        at org.springframework.jms.connection.CachedMessageConsumer.receive(CachedMessageConsumer.java:86)\r\n\r\n        at org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132)\r\n\r\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:431)\r\n\r\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:316)\r\n\r\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:270)\r\n\r\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\r\n\r\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\r\n\r\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\r\n\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;1&#39; (&#39;MQCC_WARNING&#39;) reason &#39;2080&#39; (&#39;MQRC_TRUNCATED_MSG_FAILED&#39;).\r\n\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\r\n\r\n        ... 18 common frames omitted\r\n\r\n\r\n\r\n\r\n\r\n```","title":"DeafultJmsListenerContainerFactory not consuming IBM MQ messages of larger sizes","body":"<p>We are using <code>DefaultJmsListenerContainerFactory</code> to consume messages from the IBM MQ, but it fails when we receive messages of larger size say 7.5 MB.\nWe have already increased the &quot;Max Message length&quot; for the queue.\nMoreover, the message gets consumed when we shift to <code>SimpleJMSListenerContainerFactory</code>, but our requirement is to use <code>DefaultJmsListenerContainerFactory</code> only.</p>\n<p>Below is the exception we get while using <code>DefaultJmsListenerContainerFactory</code>:</p>\n<pre><code>\n\n20/07/22 10:28:47.898.0N]  00000013 ] [com.ibm.mq.jmqi.remote.impl.RemoteSession[:/29f72f32][connectionId=414D51434E41504D3039312020202020636ED6629812D321,traceIdentifier=2,remoteTraceIdentifier=-1]]\n\n[20/07/22 10:28:47.898.0O]  00000013     static  c.i.m.c.wmq.internal.WMQMessageConsumer                                ----+---  {  checkJmqiCallSuccess(String,HashMap&lt;String , ? extends Object&gt;,Pint,\n\nPint,JmqiEnvironment,String,WMQConsumerOwner,Hconn,boolean) [JMSWMQ2002] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}] [1] [2080] [c.i.mq.jmqi.system.JmqiSystemEnvironment@343d1d25] [XN004\n\n008] &lt;as-before&gt; [com.ibm.mq.jmqi.remote.impl.RemoteSession[:/29f72f32][connectionId=414D51434E41504D3039312020202020636ED6629812D321,traceIdentifier=2,remoteTraceIdentifier=-1]] [false]\n\n[20/07/22 10:28:47.898.0P]  00000013  @7d25cab3  c.i.m.c.wmq.internal.WMQSession                                        ----+----  d  getJmqiMQ() getter [c.i.mq.ese.jmqi.ESEJMQI@4c0ab04f]\n\n[20/07/22 10:28:47.898.0Q]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----  {  isImpossibleReason(int,int,JmqiSP) [2080(0x820)] [1(0x1)] [c.i.mq.e\n\nse.jmqi.ESEJMQI@4c0ab04f]\n\n[20/07/22 10:28:47.898.0R]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  isImpossibleReason(int,int)&lt;exitIndex 4&gt; returns [false] Boolean\n\n[20/07/22 10:28:47.899.00]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  {  isConnectionBroken(int) [2080(0x820)]\n\n[20/07/22 10:28:47.899.01]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  isConnectionBroken(int)&lt;exitIndex 2&gt; returns [false] Boolean\n\n[20/07/22 10:28:47.899.02]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  {  createException(String,HashMap&lt;String , ? extends Object&gt;,int,int,\n\nJmqiEnvironment) [JMSWMQ2002] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}] [2080(0x820)] [1(0x1)] [c.i.mq.jmqi.system.JmqiSystemEnvironment@343d1d25]\n\n[20/07/22 10:28:47.899.03]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  {  getComponentTls(int) [0(0x0)]\n\n[20/07/22 10:28:47.899.04]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  }  getComponentTls(int) returns [c.i.mq.jmqi.system.JmqiTls@58512078\n\n]\n\n[20/07/22 10:28:47.899.05]  00000013  @343d1d25  c.i.m.jmqi.system.JmqiSystemEnvironment                                ----+----+-  d  getLastException() getter &lt;null&gt;\n\n[20/07/22 10:28:47.899.06]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  getCompCodeSymbol(int) [1(0x1)]\n\n[20/07/22 10:28:47.899.07]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  getCompCodeSymbol(int) returns [MQCC_WARNING] String\n\n[20/07/22 10:28:47.899.08]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  getReasonSymbol(int) [2080(0x820)]\n\n[20/07/22 10:28:47.899.09]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  getReasonSymbol(int) returns [MQRC_TRUNCATED_MSG_FAILED] String\n\n[20/07/22 10:28:47.899.0A]  00000013  @3801c646  c.ibm.mq.MQException                                                   ----+----+-  {  &lt;init&gt;(String,String,int,int) [JMSCMQ0001: IBM MQ call failed wit\n\nh compcode '1' ('MQCC_WARNING') reason '2080' ('MQRC_TRUNCATED_MSG_FAILED').] [JMSCMQ0001] [2080(0x820)] [1(0x1)]\n\n[20/07/22 10:28:47.899.0B]  00000013  @3801c646  c.ibm.mq.MQException                                                   ----+----+-  }  &lt;init&gt;(String,String,int,int)\n\n[20/07/22 10:28:47.899.0C]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  {  reasonToException(int,String,String,String,String,HashMap&lt;String\n\n, ? extends Object&gt;) [2080(0x820)] [JMSWMQ2002: Failed to get a message from destination 'CIBISMBC.BONDLEND.JETTREPO.IN.Q3'.] [JMSWMQ2002] [IBM MQ classes for JMS attempted to perform an MQGET; however\n\nIBM MQ reported an error.] [Use the linked exception to determine the cause of this error.] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}]\n\n[20/07/22 10:28:47.899.0D]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+--  {  &lt;init&gt;(String,String,String,String,Map&lt;String , ? extends Object\n\n&gt;) [JMSWMQ2002: Failed to get a message from destination 'CIBISMBC.BONDLEND.JETTREPO.IN.Q3'.] [JMSWMQ2002] [IBM MQ classes for JMS attempted to perform an MQGET; however IBM MQ reported an error.] [Use\n\nthe linked exception to determine the cause of this error.] [{XMSC_DESTINATION_NAME=CIBISMBC.BONDLEND.JETTREPO.IN.Q3}]\n\n[20/07/22 10:28:47.899.0E]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+--  }  &lt;init&gt;(String,String,String,String,Map&lt;String , ? extends Object\n\n&gt;)\n\n[20/07/22 10:28:47.899.0F]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+-  }  reasonToException(int,String,String,String,String,HashMap&lt;String\n\n, ? extends Object&gt;) returns\n\n[20/07/22 10:28:47.899.0F]  00000013 [com.ibm.msg.client.jms.DetailedMessageEOFException: JMSWMQ2002: Failed to get a message from destination 'CIBISMBC.BONDLEND.JETTREPO.IN.Q3'.\n\n[20/07/22 10:28:47.899.0F]  00000013 IBM MQ classes for JMS attempted to perform an MQGET; however IBM MQ reported an error.\n\n[20/07/22 10:28:47.899.0F]  00000013 Use the linked exception to determine the cause of this error.\n\n[20/07/22 10:28:47.899.0F]  00000013 ]\n\n[20/07/22 10:28:47.899.0G]  00000013  @f400edc   c.i.m.client.jms.DetailedMessageEOFException                           ----+----+-  d  setLinkedException(Exception) setter [com.ibm.mq.MQException: JMS\n\nCMQ0001: IBM MQ call failed with compcode '1' ('MQCC_WARNING') reason '2080' ('MQRC_TRUNCATED_MSG_FAILED').]\n\n[20/07/22 10:28:47.899.0H]  00000013     static  c.i.m.c.w.common.internal.Reason                                       ----+----+  }  createException(String,HashMap&lt;String , ? extends Object&gt;,int,int,\n\nJmqiEnvironment)&lt;exitIndex 2&gt; returns &lt;as-before&gt;\n\n[20/07/22 10:28:47.899.0I]  00000013     static  c.i.m.c.wmq.internal.WMQMessageConsumer                                ----+----  !  checkJmqiCallSuccess(String,HashMap&lt;String , ? extends Object&gt;,Pint\n\n,Pint,JmqiEnvironment,String,WMQConsumerOwner,Hconn,boolean), JMSWMQ2002: Failed to get a message from destination 'CIBISMBC.BONDLEND.JETTREPO.IN.Q3'. [com.ibm.msg.client.jms.DetailedMessageEOFExceptio\n\nn]\n\n\n\n\n\n07:36:39.080 [org.springframework.jms.JmsListenerEndpointContainer#0-2] WARN  DefaultMessageListenerContainer -  - Setup of JMS message listener invoker failed for destination 'BONDLEND.Q3' - trying to recover. Cause: JMSWMQ2002: Failed to get a message from destination 'BONDLEND.Q3'.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '1' ('MQCC_WARNING') reason '2080' ('MQRC_TRUNCATED_MSG_FAILED').\n\ncom.ibm.msg.client.jms.DetailedMessageEOFException: JMSWMQ2002: Failed to get a message from destination 'CIBISMBC.BONDLEND.JETTREPO.IN.Q3'.\n\n        at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:539)\n\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\n\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:222)\n\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.checkJmqiCallSuccess(WMQMessageConsumer.java:156)\n\n        at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.getMsg(WMQConsumerShadow.java:1858)\n\n        at com.ibm.msg.client.wmq.internal.WMQSyncConsumerShadow.receiveInternal(WMQSyncConsumerShadow.java:233)\n\n        at com.ibm.msg.client.wmq.internal.WMQConsumerShadow.receive(WMQConsumerShadow.java:1461)\n\n        at com.ibm.msg.client.wmq.internal.WMQMessageConsumer.receive(WMQMessageConsumer.java:674)\n\n        at com.ibm.msg.client.jms.internal.JmsMessageConsumerImpl.receiveInboundMessage(JmsMessageConsumerImpl.java:1051)\n\n        at com.ibm.msg.client.jms.internal.JmsMessageConsumerImpl.receive(JmsMessageConsumerImpl.java:667)\n\n        at com.ibm.mq.jms.MQMessageConsumer.receive(MQMessageConsumer.java:209)\n\n        at org.springframework.jms.connection.CachedMessageConsumer.receive(CachedMessageConsumer.java:86)\n\n        at org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132)\n\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:431)\n\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:316)\n\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:270)\n\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\n\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\n\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\n\n        at java.lang.Thread.run(Thread.java:748)\n\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '1' ('MQCC_WARNING') reason '2080' ('MQRC_TRUNCATED_MSG_FAILED').\n\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\n\n        ... 18 common frames omitted\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1657487631,"post_id":72928247,"comment_id":128815866,"body_markdown":"Any help would be useful!","body":"Any help would be useful!"},{"owner":{"account_id":2538296,"reputation":2849,"user_id":2312605,"accept_rate":37,"display_name":"Ashish Ratan"},"score":0,"creation_date":1658237632,"post_id":72928247,"comment_id":128998069,"body_markdown":"While u have the link, can you copy URL by right click on the table?\nWe need to investigate if the URL is created correctly? or it&#39;s corrupted.","body":"While u have the link, can you copy URL by right click on the table? We need to investigate if the URL is created correctly? or it&#39;s corrupted."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1658251836,"post_id":72928247,"comment_id":129003805,"body_markdown":"@AshishRatan yes, if I right click and copy the URL, then I can paste it in my broswer and opens up the URL correctly.","body":"@AshishRatan yes, if I right click and copy the URL, then I can paste it in my broswer and opens up the URL correctly."}],"answers":[{"tags":[],"owner":{"account_id":25790885,"reputation":34,"user_id":19534974,"display_name":"Fede Ota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657706220,"creation_date":1657640426,"answer_id":72954974,"question_id":72928247,"body_markdown":"You are using a dynamic link, so it seems correct to me how you set up the code in the page:  \r\n\r\n    &lt;a th:href=&quot;${link}&quot;&gt;Link&lt;/a&gt;\r\n\r\nRather check what the controller is giving you back, it should be something like this:  \r\n\r\n    return new ModelAndView(&quot;page&quot;).addObject(&quot;link&quot;, &lt;link&gt;)\r\n\r\nIf in doubt, try to put the complete link to the entire field as proof:  \r\n\r\n    &lt;td&gt; &lt;a th:href=&quot;http://www.test.com&quot;&gt; &lt;p th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/a&gt; &lt;/td&gt;\r\n\r\nedit: I didn&#39;t understand your &quot;UPDATE 2&quot; ... you have to read on a list of objects, so the controller will have to return the list object to the page. You don&#39;t need to do the opposite if you don&#39;t alter this data, so nothing has to go back to the controller from the page.","title":"Thymeleaf HTML page forward problem to External Website in Spring Boot App","body":"<p>You are using a dynamic link, so it seems correct to me how you set up the code in the page:</p>\n<pre><code>&lt;a th:href=&quot;${link}&quot;&gt;Link&lt;/a&gt;\n</code></pre>\n<p>Rather check what the controller is giving you back, it should be something like this:</p>\n<pre><code>return new ModelAndView(&quot;page&quot;).addObject(&quot;link&quot;, &lt;link&gt;)\n</code></pre>\n<p>If in doubt, try to put the complete link to the entire field as proof:</p>\n<pre><code>&lt;td&gt; &lt;a th:href=&quot;http://www.test.com&quot;&gt; &lt;p th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/a&gt; &lt;/td&gt;\n</code></pre>\n<p>edit: I didn't understand your &quot;UPDATE 2&quot; ... you have to read on a list of objects, so the controller will have to return the list object to the page. You don't need to do the opposite if you don't alter this data, so nothing has to go back to the controller from the page.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658243452,"creation_date":1658243452,"answer_id":73039432,"question_id":72928247,"body_markdown":"Your thymeleaf is correct. You can check the resulting html with your browser&#39;s dev tools, in `elements` tab. You should also check the ongoing requests under the `network` tab.\r\n\r\nThe server is redirecting you to the home page after accessing an article. I doubt anyone say why, this is server side logic. It may be best to get in contact with the owners about the issue.","title":"Thymeleaf HTML page forward problem to External Website in Spring Boot App","body":"<p>Your thymeleaf is correct. You can check the resulting html with your browser's dev tools, in <code>elements</code> tab. You should also check the ongoing requests under the <code>network</code> tab.</p>\n<p>The server is redirecting you to the home page after accessing an article. I doubt anyone say why, this is server side logic. It may be best to get in contact with the owners about the issue.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658310487,"creation_date":1658243622,"answer_id":73039486,"question_id":72928247,"body_markdown":"I have created a controller with 2 methods :\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    \tpublic String hello(Model model) {\r\n    \t\tmodel.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\r\n  \r\n           //I have set below manually just for demo, but in real code, you can fetch this details from database &amp; then set.      \r\n    \t\tmodel.addAttribute(&quot;news_linkvalue&quot;, &quot;https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626&quot;);\r\n    \t\t\r\n    \t\treturn &quot;helloworld&quot;;\r\n    \t}\r\n\r\n    @RequestMapping(value = &quot;/redirect&quot;, method = RequestMethod.GET)\r\n    \tpublic ModelAndView method(@RequestParam(name = &quot;news_link&quot;, required = false) String news_link) {\r\n    \t\t \r\n    \t\treturn new ModelAndView(&quot;redirect:&quot; + news_link);\r\n    \t}\r\n\r\n\r\nAnd then in `helloworld.html` I have used below anchor tag:\r\n\r\n    &lt;p&gt;&lt;a th:href=&quot;@{/redirect(news_link=${news_linkvalue})}&quot;&gt;Click here&lt;/a&gt;&lt;/p&gt;\r\n\r\nAfter starting spring boot with `http://localhost:8080/hello` when I click on `Click here` option, it is  going to home page of https://www.investing.com/  and giving `HTTP 301` response while I clicked on link.\r\n\r\nThis behaviour be viewed by clicking `network`-&gt; clicking on first record-&gt;`Headers` section.\r\n\r\n\r\nThis mostly means, site is blocking any cross origin unsecure requests (i.e. requests originated from a domain having `http` protocol ) to their specific pages other than home pages. \r\n\r\nIf you use any online javascript editor or stackoverflow editor, use same anchor tag for specific page, it will load because request is coming from secure origin (https), example is as below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n\r\n    &lt;p&gt;Checking Cross origin requests &lt;/p&gt;\r\n    &lt;p&gt;&lt;a href=&quot;https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626&quot;&gt;Click&lt;/a&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis mostly means, This site&#39;s specific pages(other than home page) will only be accessible if and only if protocol security level is same (i.e. HTTPS) while accessing specific page. \r\n\r\nLocal spring boot uses default `http` protocol &amp; that is reason when we access specific page of this website,  we always redirects to main page.\r\n\r\nHow you can fix:\r\n\r\n1. Check if you can run your local spring boot code with `https` (i.e. by enabling ssl with either one-way auth or mutual auth). You can find few sample examples online of using spring boot with secure http.\r\n\r\n2. You can deploy your application to any secure application server or any cloud environment based on availability &amp; check if running application over non-local environments  fix this issue. Your application url must be accessible via `https` here.","title":"Thymeleaf HTML page forward problem to External Website in Spring Boot App","body":"<p>I have created a controller with 2 methods :</p>\n<pre><code>@GetMapping(&quot;/hello&quot;)\n    public String hello(Model model) {\n        model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\n\n       //I have set below manually just for demo, but in real code, you can fetch this details from database &amp; then set.      \n        model.addAttribute(&quot;news_linkvalue&quot;, &quot;https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626&quot;);\n        \n        return &quot;helloworld&quot;;\n    }\n\n@RequestMapping(value = &quot;/redirect&quot;, method = RequestMethod.GET)\n    public ModelAndView method(@RequestParam(name = &quot;news_link&quot;, required = false) String news_link) {\n         \n        return new ModelAndView(&quot;redirect:&quot; + news_link);\n    }\n</code></pre>\n<p>And then in <code>helloworld.html</code> I have used below anchor tag:</p>\n<pre><code>&lt;p&gt;&lt;a th:href=&quot;@{/redirect(news_link=${news_linkvalue})}&quot;&gt;Click here&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n<p>After starting spring boot with <code>http://localhost:8080/hello</code> when I click on <code>Click here</code> option, it is  going to home page of <a href=\"https://www.investing.com/\" rel=\"nofollow noreferrer\">https://www.investing.com/</a>  and giving <code>HTTP 301</code> response while I clicked on link.</p>\n<p>This behaviour be viewed by clicking <code>network</code>-&gt; clicking on first record-&gt;<code>Headers</code> section.</p>\n<p>This mostly means, site is blocking any cross origin unsecure requests (i.e. requests originated from a domain having <code>http</code> protocol ) to their specific pages other than home pages.</p>\n<p>If you use any online javascript editor or stackoverflow editor, use same anchor tag for specific page, it will load because request is coming from secure origin (https), example is as below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n\n&lt;p&gt;Checking Cross origin requests &lt;/p&gt;\n&lt;p&gt;&lt;a href=\"https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\"&gt;Click&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This mostly means, This site's specific pages(other than home page) will only be accessible if and only if protocol security level is same (i.e. HTTPS) while accessing specific page.</p>\n<p>Local spring boot uses default <code>http</code> protocol &amp; that is reason when we access specific page of this website,  we always redirects to main page.</p>\n<p>How you can fix:</p>\n<ol>\n<li><p>Check if you can run your local spring boot code with <code>https</code> (i.e. by enabling ssl with either one-way auth or mutual auth). You can find few sample examples online of using spring boot with secure http.</p>\n</li>\n<li><p>You can deploy your application to any secure application server or any cloud environment based on availability &amp; check if running application over non-local environments  fix this issue. Your application url must be accessible via <code>https</code> here.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1278,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73039486,"answer_count":3,"score":3,"last_activity_date":1658310487,"creation_date":1657453578,"question_id":72928247,"body_markdown":"I&#39;ve created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.\r\n\r\nOne of the columns in db, has the name &quot;HEADLINE&quot; which is mapped as String variable and contains news headlines. I am using this column values as texted hyperlinks in my Spring Boot app combined with URLs stored in the same database (&quot;news_link&quot; column), to redirect to the source of them. Below I am showing my front-end code.\r\n\r\n**Front-End Page**\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;IoT Application&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;h3&gt;Database Contents&lt;/h3&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;news_id&lt;/th&gt;\r\n                    &lt;th&gt;news_provider_name&lt;/th&gt;\r\n                    &lt;th&gt;HEADLINE&lt;/th&gt;\r\n                    &lt;th&gt;news_link&lt;/th&gt;\r\n                    &lt;th&gt;related_image&lt;/th&gt;\r\n                    &lt;th&gt;Timestamp&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rate.news_id}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;a th:href=&quot;${rate.news_link}&quot;&gt; &lt;p th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/a&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\r\n                        &lt;td th:text=&quot;${rate.timestamp}&quot;&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhen I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I&#39;ve stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection [here](https://www.investing.com/), instead of\r\n[here](https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626).\r\n\r\nAny ideas about what am I doing wrong?\r\n\r\n[![Browser View][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gSkZn.png\r\n\r\n\r\n**UPDATE**\r\n\r\nI tried to change the `th:href=&quot;${rate.news_link}` to `th:href=&quot;@{${rate.news_link}}` but still nothing works. If, for example, my initial URL is\r\n\r\n    https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\r\n\r\ngets chopped off to `https://www.investing.com/`\r\n\r\n**UPDATE 2**\r\n\r\nI created the following controller but I am getting null URL -&gt; `http://localhost:8080/null`\r\n\r\n```\r\n@RequestMapping(value = &quot;/redirect&quot;, method = RequestMethod.GET)\r\n    public ModelAndView method(\r\n            @RequestParam(name = &quot;news_link&quot;, required = false) String news_link) {\r\n        return new ModelAndView(&quot;redirect:&quot; + news_link);\r\n    }\r\n```","title":"Thymeleaf HTML page forward problem to External Website in Spring Boot App","body":"<p>I've created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.</p>\n<p>One of the columns in db, has the name &quot;HEADLINE&quot; which is mapped as String variable and contains news headlines. I am using this column values as texted hyperlinks in my Spring Boot app combined with URLs stored in the same database (&quot;news_link&quot; column), to redirect to the source of them. Below I am showing my front-end code.</p>\n<p><strong>Front-End Page</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;IoT Application&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;h3&gt;Database Contents&lt;/h3&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;news_id&lt;/th&gt;\n                    &lt;th&gt;news_provider_name&lt;/th&gt;\n                    &lt;th&gt;HEADLINE&lt;/th&gt;\n                    &lt;th&gt;news_link&lt;/th&gt;\n                    &lt;th&gt;related_image&lt;/th&gt;\n                    &lt;th&gt;Timestamp&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\n                        &lt;td th:text=&quot;${rate.news_id}&quot;&gt; &lt;/td&gt;\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\n                        &lt;td th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;a th:href=&quot;${rate.news_link}&quot;&gt; &lt;p th:text=&quot;${rate.HEADLINE}&quot;&gt; &lt;/a&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\n                        &lt;td th:text=&quot;${rate.timestamp}&quot;&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I've stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection <a href=\"https://www.investing.com/\" rel=\"nofollow noreferrer\">here</a>, instead of\n<a href=\"https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Any ideas about what am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/gSkZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSkZn.png\" alt=\"Browser View\" /></a></p>\n<p><strong>UPDATE</strong></p>\n<p>I tried to change the <code>th:href=&quot;${rate.news_link}</code> to <code>th:href=&quot;@{${rate.news_link}}</code> but still nothing works. If, for example, my initial URL is</p>\n<pre><code>https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\n</code></pre>\n<p>gets chopped off to <code>https://www.investing.com/</code></p>\n<p><strong>UPDATE 2</strong></p>\n<p>I created the following controller but I am getting null URL -&gt; <code>http://localhost:8080/null</code></p>\n<pre><code>@RequestMapping(value = &quot;/redirect&quot;, method = RequestMethod.GET)\n    public ModelAndView method(\n            @RequestParam(name = &quot;news_link&quot;, required = false) String news_link) {\n        return new ModelAndView(&quot;redirect:&quot; + news_link);\n    }\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1658230359,"post_id":73029724,"comment_id":128994914,"body_markdown":"I assume that you have lazy relationships in Reservation that are loaded. Please turn SQL logging on an check the generated SQL","body":"I assume that you have lazy relationships in Reservation that are loaded. Please turn SQL logging on an check the generated SQL"},{"owner":{"account_id":11622295,"reputation":369,"user_id":8513217,"accept_rate":25,"display_name":"xampo"},"score":0,"creation_date":1658247074,"post_id":73029724,"comment_id":129002116,"body_markdown":"@SzymonMartinelli The generated SQL is normal and I really don&#39;t know what&#39;s going on, why it&#39;s been so long:\nselect\nreservation0_.id as id1_200_0_,\nreservation0_.net_amount as net_amount2_200_0_,\nreservation0_date_of_arrival as date_of_arri21_200_0\nfrom\npublic.reservation reservation0_\nwhere\nreservation0_.external_id =?\nand reservation0_.client_id =?","body":"@SzymonMartinelli The generated SQL is normal and I really don&#39;t know what&#39;s going on, why it&#39;s been so long: select reservation0_.id as id1_200_0_, reservation0_.net_amount as net_amount2_200_0_, reservation0_date_of_arrival as date_of_arri21_200_0 from public.reservation reservation0_ where reservation0_.external_id =? and reservation0_.client_id =?"},{"owner":{"account_id":11622295,"reputation":369,"user_id":8513217,"accept_rate":25,"display_name":"xampo"},"score":0,"creation_date":1658247081,"post_id":73029724,"comment_id":129002121,"body_markdown":"@jjanes : I copied the above generated query and ran it directly on the database via pgAdmin","body":"@jjanes : I copied the above generated query and ran it directly on the database via pgAdmin"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1658248977,"post_id":73029724,"comment_id":129002799,"body_markdown":"I don&#39;t know why it would be so slow in the database.  Maybe the slowness is on the client side (although I don&#39;t know why that would be, either).  You could clarify by setting up auto_explain to capture plans of slow queries, with auto_explain.log_analyze turned on.","body":"I don&#39;t know why it would be so slow in the database.  Maybe the slowness is on the client side (although I don&#39;t know why that would be, either).  You could clarify by setting up auto_explain to capture plans of slow queries, with auto_explain.log_analyze turned on."}],"answers":[{"tags":[],"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658310145,"creation_date":1658310145,"answer_id":73049307,"question_id":73029724,"body_markdown":"You need to figure out where the issue is located: on the database side or in your app.  \r\nFirst of all, enable logging of generated sql queries.  \r\nThen take one of queries and execute on your database with explaining:\r\n\r\n    explain (analyze, buffers)\r\n    select ... -- your query here\r\n\r\nYou should get a query plan like this:\r\n\r\n    Seq Scan on dict_product_catalog  (cost=0.00..9.28 rows=13 width=40) (actual time=0.043..0.046 rows=3 loops=1)\r\n      Filter: (product_code = &#39;5081&#39;::bigint)\r\n      Rows Removed by Filter: 3\r\n      Buffers: shared hit=9\r\n    Planning:\r\n      Buffers: shared hit=73\r\n    Planning Time: 0.367 ms\r\n    Execution Time: 0.092 ms\r\n\r\nOr you can set up auto_explain extension as suggested earlier in comments.  \r\nIf query cost and execution time is OK the issue is probably on the app side.","title":"Why does this TypedQuery result in a very slow execution?","body":"<p>You need to figure out where the issue is located: on the database side or in your app.<br />\nFirst of all, enable logging of generated sql queries.<br />\nThen take one of queries and execute on your database with explaining:</p>\n<pre><code>explain (analyze, buffers)\nselect ... -- your query here\n</code></pre>\n<p>You should get a query plan like this:</p>\n<pre><code>Seq Scan on dict_product_catalog  (cost=0.00..9.28 rows=13 width=40) (actual time=0.043..0.046 rows=3 loops=1)\n  Filter: (product_code = '5081'::bigint)\n  Rows Removed by Filter: 3\n  Buffers: shared hit=9\nPlanning:\n  Buffers: shared hit=73\nPlanning Time: 0.367 ms\nExecution Time: 0.092 ms\n</code></pre>\n<p>Or you can set up auto_explain extension as suggested earlier in comments.<br />\nIf query cost and execution time is OK the issue is probably on the app side.</p>\n"}],"owner":{"account_id":11622295,"reputation":369,"user_id":8513217,"accept_rate":25,"display_name":"xampo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658310145,"creation_date":1658188274,"question_id":73029724,"body_markdown":"My code looks like: \r\n\r\n    public Reservation findParametersToReport (Long external_id, Long client_id) {\r\n    String q = &quot;Select r from Reservation r where r.client_id =:&quot; + CLIENT_ID + &quot;and external_id =:&quot; + EXTERNAL_ID;\r\n    \r\n    TypedQuery &lt;Reservation&gt; query = entityManager.createQuery (q, Reservation.class)\r\n    .setParameter (CLIENT_ID, client_id)\r\n    .setParameter (EXTERNAL_ID, external_id);\r\n    \r\n    Reservation r = query.getSingleResult ();\r\n    return r;\r\n    }\r\n\r\nIt is very slow: about 4 minutes! The same database query is done in 200ms\r\n\r\nShe stands the longest on:\r\n\r\n    Reservation r = query.getSingleResult ();\r\n\r\nThe Reservation entity has only one reference of the OneToMany type (and it is lazy), while it has many BigDecimal fields.\r\nThe table itself in the database is also large: it has 6 million records\r\n\r\nI have no idea what could be the reason - I tried to select only the fields of interest to me (query below), which are the most important to me - and the execution time was shortened by ... 7 seconds.\r\n\r\n  \r\n\r\n          public ReservationParamsDTO findParametersToReport (Long external_id, Long client_id) { \r\n    //r.id - type Long, r.netAmount - type BigDecimal, r.date_of_arrival - type Date\r\n        String q = &quot;Select new com.example.dto.ReservationParamsDTO (r.id, r.netAmount, r.date_of_arrival) from Reservation r where r.client_id =:&quot; + CLIENT_ID + &quot;and external_id =:&quot; + EXTERNAL_ID;\r\n            \r\n            TypedQuery &lt;ReservationParamsDTO&gt; query = entityManager.createQuery (q, ReservationParamsDTO .class) \r\n        .setParameter (CLIENT_ID, client_id) \r\n        .setParameter (EXTERNAL_ID, external_id);\r\n            \r\n            ReservationParamsDTO r = query.getSingleResult (); \r\n        return r; }\r\n\r\nCan you please provide me with an hint regarding where shall I start looking to improve performance in this scenario? Please let me know, if you require more information.","title":"Why does this TypedQuery result in a very slow execution?","body":"<p>My code looks like:</p>\n<pre><code>public Reservation findParametersToReport (Long external_id, Long client_id) {\nString q = &quot;Select r from Reservation r where r.client_id =:&quot; + CLIENT_ID + &quot;and external_id =:&quot; + EXTERNAL_ID;\n\nTypedQuery &lt;Reservation&gt; query = entityManager.createQuery (q, Reservation.class)\n.setParameter (CLIENT_ID, client_id)\n.setParameter (EXTERNAL_ID, external_id);\n\nReservation r = query.getSingleResult ();\nreturn r;\n}\n</code></pre>\n<p>It is very slow: about 4 minutes! The same database query is done in 200ms</p>\n<p>She stands the longest on:</p>\n<pre><code>Reservation r = query.getSingleResult ();\n</code></pre>\n<p>The Reservation entity has only one reference of the OneToMany type (and it is lazy), while it has many BigDecimal fields.\nThe table itself in the database is also large: it has 6 million records</p>\n<p>I have no idea what could be the reason - I tried to select only the fields of interest to me (query below), which are the most important to me - and the execution time was shortened by ... 7 seconds.</p>\n<pre><code>      public ReservationParamsDTO findParametersToReport (Long external_id, Long client_id) { \n//r.id - type Long, r.netAmount - type BigDecimal, r.date_of_arrival - type Date\n    String q = &quot;Select new com.example.dto.ReservationParamsDTO (r.id, r.netAmount, r.date_of_arrival) from Reservation r where r.client_id =:&quot; + CLIENT_ID + &quot;and external_id =:&quot; + EXTERNAL_ID;\n        \n        TypedQuery &lt;ReservationParamsDTO&gt; query = entityManager.createQuery (q, ReservationParamsDTO .class) \n    .setParameter (CLIENT_ID, client_id) \n    .setParameter (EXTERNAL_ID, external_id);\n        \n        ReservationParamsDTO r = query.getSingleResult (); \n    return r; }\n</code></pre>\n<p>Can you please provide me with an hint regarding where shall I start looking to improve performance in this scenario? Please let me know, if you require more information.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"display_name":"user2956272"},"score":1,"creation_date":1567234463,"post_id":57735865,"comment_id":101910937,"body_markdown":"https://en.wikipedia.org/wiki/Trie","body":"<a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Trie</a>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1567237127,"post_id":57735865,"comment_id":101911426,"body_markdown":"That&#39;s absolutely Trie. Check [Trie Applications](https://en.wikipedia.org/wiki/Trie#Applications).","body":"That&#39;s absolutely Trie. Check <a href=\"https://en.wikipedia.org/wiki/Trie#Applications\" rel=\"nofollow noreferrer\">Trie Applications</a>."}],"answers":[{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567236787,"creation_date":1567236165,"answer_id":57736020,"question_id":57735865,"body_markdown":"You could use a TreeSet&lt;String&gt;.   Once populated, given a String prefix you could get all matching words by \r\n   \r\n    Set&lt;String&gt; findWords(String prefix) {\r\n        // copied from https://stackoverflow.com/questions/4002021/increment-last-letter-of-a-string\r\n        int len = prefix.length();\r\n        String allButLast = prefix.substring(0, len - 1);\r\n        String endPrefix = allButLast + new Character(prefix.charAt(len - 1) + 1);\r\n\r\n        return treeSet.subSet(prefix, endPrefix); \r\n    }\r\n","title":"What data structure can I use to hold elements of an array if the array elements start with a string without looping through the initial array","body":"<p>You could use a TreeSet.   Once populated, given a String prefix you could get all matching words by </p>\n\n<pre><code>Set&lt;String&gt; findWords(String prefix) {\n    // copied from https://stackoverflow.com/questions/4002021/increment-last-letter-of-a-string\n    int len = prefix.length();\n    String allButLast = prefix.substring(0, len - 1);\n    String endPrefix = allButLast + new Character(prefix.charAt(len - 1) + 1);\n\n    return treeSet.subSet(prefix, endPrefix); \n}\n</code></pre>\n"}],"owner":{"account_id":9459133,"reputation":60,"user_id":7033462,"display_name":"Derin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658309668,"creation_date":1567234391,"question_id":57735865,"body_markdown":"I am trying to implement an autocomplete method that receives an input string and searches through a given array of words for the words that have the input string as the prefix of the words in the array.\r\n\r\nI have successfully implemented this by looping through the array of words and returning all the elements with the prefix of given input string. However, I believe that there should be an optimal way of doing this as I realized that I am looping through all elements of the array after sorting the elements.\r\n\r\nI want to select only elements in the array that begin with the first letter of the given string and then search that sub-array for the words that have the string as their prefix. This will cut the processing time considerably and provide an optimal solution.\r\n\r\nWhat data structure can I use that will not require me to loop through the entire given array, or dictionary key (I tried implementing this using a map), but only chose the sub-array containing elements close to the solution?\r\n\r\nPS: I also played with ArrayUtils.subArray() of Apache Commons but could not retrieve the sub-array. Any ideas on how to implement this?","title":"What data structure can I use to hold elements of an array if the array elements start with a string without looping through the initial array","body":"<p>I am trying to implement an autocomplete method that receives an input string and searches through a given array of words for the words that have the input string as the prefix of the words in the array.</p>\n\n<p>I have successfully implemented this by looping through the array of words and returning all the elements with the prefix of given input string. However, I believe that there should be an optimal way of doing this as I realized that I am looping through all elements of the array after sorting the elements.</p>\n\n<p>I want to select only elements in the array that begin with the first letter of the given string and then search that sub-array for the words that have the string as their prefix. This will cut the processing time considerably and provide an optimal solution.</p>\n\n<p>What data structure can I use that will not require me to loop through the entire given array, or dictionary key (I tried implementing this using a map), but only chose the sub-array containing elements close to the solution?</p>\n\n<p>PS: I also played with ArrayUtils.subArray() of Apache Commons but could not retrieve the sub-array. Any ideas on how to implement this?</p>\n"},{"tags":["java","eclipse","swing","chromium-embedded"],"comments":[{"owner":{"account_id":5813323,"reputation":4144,"user_id":4583726,"display_name":"amaitland"},"score":1,"creation_date":1642719443,"post_id":70793829,"comment_id":125154053,"body_markdown":"The JCEF support forum at https://magpcss.org/ceforum/viewforum.php?f=17 would be where I&#39;d ask questions like this.","body":"The JCEF support forum at <a href=\"https://magpcss.org/ceforum/viewforum.php?f=17\" rel=\"nofollow noreferrer\">magpcss.org/ceforum/viewforum.php?f=17</a> would be where I&#39;d ask questions like this."}],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648071794,"creation_date":1648071794,"answer_id":71594400,"question_id":70793829,"body_markdown":"This answer was kindly provided by &#39;Yanovsky&#39; at the JCEF forums.\r\nThe simple example provided by the JCEF package is incomplete.\r\nWe need to add a ```CefMessageRouter``` instance to our browser client. This is demonstrated in the detailed examples, but not the simple one. This code should be added _before_ we create our ```CefBrowser``` instance and _after_ we have created a ```CefClient``` object:\r\n```\r\nCefMessageRouter msgRouter = CefMessageRouter.create();\r\nmsgRouter.addHandler(new MessageRouterHandler(), true);\r\nmsgRouter.addHandler(new MessageRouterHandlerEx(client), false);\r\nclient.addMessageRouter(msgRouter);\r\n```\r\nFor reference, this is my post in the JCEF forum:\r\nhttps://magpcss.org/ceforum/viewtopic.php?f=17&amp;t=18834&amp;sid=45381db639d1621f2f8b38b4d8848800","title":"JCEF (Java Chromium Embedded Framework) Browser does not load content; only blank screen on Eclipse","body":"<p>This answer was kindly provided by 'Yanovsky' at the JCEF forums.\nThe simple example provided by the JCEF package is incomplete.\nWe need to add a <code>CefMessageRouter</code> instance to our browser client. This is demonstrated in the detailed examples, but not the simple one. This code should be added <em>before</em> we create our <code>CefBrowser</code> instance and <em>after</em> we have created a <code>CefClient</code> object:</p>\n<pre><code>CefMessageRouter msgRouter = CefMessageRouter.create();\nmsgRouter.addHandler(new MessageRouterHandler(), true);\nmsgRouter.addHandler(new MessageRouterHandlerEx(client), false);\nclient.addMessageRouter(msgRouter);\n</code></pre>\n<p>For reference, this is my post in the JCEF forum:\n<a href=\"https://magpcss.org/ceforum/viewtopic.php?f=17&amp;t=18834&amp;sid=45381db639d1621f2f8b38b4d8848800\" rel=\"nofollow noreferrer\">https://magpcss.org/ceforum/viewtopic.php?f=17&amp;t=18834&amp;sid=45381db639d1621f2f8b38b4d8848800</a></p>\n"},{"tags":[],"owner":{"account_id":11026153,"reputation":11,"user_id":8099011,"display_name":"kundan7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658309251,"creation_date":1657187458,"answer_id":72895734,"question_id":70793829,"body_markdown":"I just copied and pasted your code in eclipse and added the jars and ran the code and voila, google.com opened without any issues.\r\n\r\nI didnt have to add any more new lines as suggested by mindoverflow.\r\n\r\nThe webpage was visible in the window after a few secs and not immediately.\r\n[Here&#39;s what popped up after running the code.][1]\r\n[![enter image description here][2]][2]\r\n\r\nAnd in the eclipse console, I see this\r\n\r\n&gt; initialize on Thread[AWT-EventQueue-0,6,main] with library path C:\\path\\to\\dlls\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0HQiJ.png\r\n  [2]: https://i.stack.imgur.com/Y6LOP.png","title":"JCEF (Java Chromium Embedded Framework) Browser does not load content; only blank screen on Eclipse","body":"<p>I just copied and pasted your code in eclipse and added the jars and ran the code and voila, google.com opened without any issues.</p>\n<p>I didnt have to add any more new lines as suggested by mindoverflow.</p>\n<p>The webpage was visible in the window after a few secs and not immediately.\n<a href=\"https://i.stack.imgur.com/0HQiJ.png\" rel=\"nofollow noreferrer\">Here's what popped up after running the code.</a>\n<a href=\"https://i.stack.imgur.com/Y6LOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6LOP.png\" alt=\"enter image description here\" /></a></p>\n<p>And in the eclipse console, I see this</p>\n<blockquote>\n<p>initialize on Thread[AWT-EventQueue-0,6,main] with library path C:\\path\\to\\dlls</p>\n</blockquote>\n"}],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1886,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71594400,"answer_count":2,"score":2,"last_activity_date":1658309251,"creation_date":1642715266,"question_id":70793829,"body_markdown":"I have been trying to get the Java version of Chromium Embedded Framework (JCEF) to work on Eclipse for some time. I am able to verify that the library files are working correctly, since if I run the included sample class files on the VM, the program runs and some webpage is displayed. However, if I run the program from Eclipse, the program will always display a blank window. I am able to verify that the library binary ```jcef_helper.exe``` is successfully run, but not matter how I link the .jar files and other library files, the webpage will not generate and there will always be a blank screen. I cannot pinpoint the issue here. I tried specifying path, adding the JCEF library path of my OS environment variables PATH field to no avail. I have followed the documentation, even sample files behave the same way when I have anything to do with compilation/ run. One note of interest, my Eclipse console will display this during run:\r\n```\r\ninitialize on Thread[AWT-EventQueue-0,6,main]\r\n```\r\nPerhaps there is a thread issue?\r\n\r\nCode in question:\r\n```\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Toolkit;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.WindowConstants;\r\nimport org.cef.CefApp;\r\nimport org.cef.CefApp.CefAppState;\r\nimport org.cef.CefClient;\r\nimport org.cef.CefSettings;\r\nimport org.cef.browser.CefBrowser;\r\nimport org.cef.handler.CefAppHandlerAdapter;\r\n\r\npublic class WebV\r\n{\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tDimension dispDimension = Toolkit.getDefaultToolkit().getScreenSize();\r\n\t\tint width = (int)Math.round(dispDimension.getWidth() / 2);\r\n\t\tint height = (int)Math.round(dispDimension.getHeight() / 2);\r\n\r\n\t\tCefApp.addAppHandler(new CefAppHandlerAdapter(null)\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void stateHasChanged(CefAppState state)\r\n\t\t\t{\r\n\t\t\t\tif(state == CefAppState.TERMINATED)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tCefSettings settings = new CefSettings();\r\n\t\tsettings.windowless_rendering_enabled = false;\r\n\t\tCefApp cefApp = CefApp.getInstance(settings);\r\n\t\tCefClient client = cefApp.createClient();\r\n\t\tCefBrowser browser = client.createBrowser(&quot;http://www.google.com&quot;, false, false);\r\n\t\tComponent browserComponent = browser.getUIComponent();\r\n\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setTitle(&quot;WebV&quot;);\r\n\t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(width, height);\r\n\t\tframe.setResizable(true);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\r\n\t\tframe.add(browserComponent);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nTested with both __Java 17__ and __Java 8__.\r\nRun on Eclipse, with VM args:\r\n```\r\n-Djava.library.path=./bin/lib/win64\r\n```\r\n\r\nAny inupt would be greatly appreicated.","title":"JCEF (Java Chromium Embedded Framework) Browser does not load content; only blank screen on Eclipse","body":"<p>I have been trying to get the Java version of Chromium Embedded Framework (JCEF) to work on Eclipse for some time. I am able to verify that the library files are working correctly, since if I run the included sample class files on the VM, the program runs and some webpage is displayed. However, if I run the program from Eclipse, the program will always display a blank window. I am able to verify that the library binary <code>jcef_helper.exe</code> is successfully run, but not matter how I link the .jar files and other library files, the webpage will not generate and there will always be a blank screen. I cannot pinpoint the issue here. I tried specifying path, adding the JCEF library path of my OS environment variables PATH field to no avail. I have followed the documentation, even sample files behave the same way when I have anything to do with compilation/ run. One note of interest, my Eclipse console will display this during run:</p>\n<pre><code>initialize on Thread[AWT-EventQueue-0,6,main]\n</code></pre>\n<p>Perhaps there is a thread issue?</p>\n<p>Code in question:</p>\n<pre><code>import java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Toolkit;\nimport javax.swing.JFrame;\nimport javax.swing.WindowConstants;\nimport org.cef.CefApp;\nimport org.cef.CefApp.CefAppState;\nimport org.cef.CefClient;\nimport org.cef.CefSettings;\nimport org.cef.browser.CefBrowser;\nimport org.cef.handler.CefAppHandlerAdapter;\n\npublic class WebV\n{\n    public static void main(String args[])\n    {\n        Dimension dispDimension = Toolkit.getDefaultToolkit().getScreenSize();\n        int width = (int)Math.round(dispDimension.getWidth() / 2);\n        int height = (int)Math.round(dispDimension.getHeight() / 2);\n\n        CefApp.addAppHandler(new CefAppHandlerAdapter(null)\n        {\n            @Override\n            public void stateHasChanged(CefAppState state)\n            {\n                if(state == CefAppState.TERMINATED)\n                {\n                    System.exit(0);\n                }\n            }\n        });\n        CefSettings settings = new CefSettings();\n        settings.windowless_rendering_enabled = false;\n        CefApp cefApp = CefApp.getInstance(settings);\n        CefClient client = cefApp.createClient();\n        CefBrowser browser = client.createBrowser(&quot;http://www.google.com&quot;, false, false);\n        Component browserComponent = browser.getUIComponent();\n\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;WebV&quot;);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(width, height);\n        frame.setResizable(true);\n        frame.setLocationRelativeTo(null);\n\n        frame.add(browserComponent);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Tested with both <strong>Java 17</strong> and <strong>Java 8</strong>.\nRun on Eclipse, with VM args:</p>\n<pre><code>-Djava.library.path=./bin/lib/win64\n</code></pre>\n<p>Any inupt would be greatly appreicated.</p>\n"},{"tags":["java","gradle","build.gradle","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658228728,"creation_date":1658228728,"answer_id":73035768,"question_id":73012720,"body_markdown":"This is Checkstyle&#39;s rather poor way of telling you there is something wrong with your configuration file (`checkstyle.xml`). Do as is suggested by the output and run with `--stacktrace` (or `-S` for short) to see what the actual problem with the configuration is.\r\n\r\nAlso, the way to specify the Checkstyle version to use is like this:\r\n\r\n```lang-java\r\ncheckstyle {\r\n    toolVersion(&#39;10.3.1&#39;)\r\n}\r\n```\r\n\r\nWhat you did instead was to accidentally include the Checkstyle library on your own project classpath. So you are likely using the default version 8.x in Gradle right now.","title":"Checkstyle 10.3.1 won&#39;t run on Gradle 7.5","body":"<p>This is Checkstyle's rather poor way of telling you there is something wrong with your configuration file (<code>checkstyle.xml</code>). Do as is suggested by the output and run with <code>--stacktrace</code> (or <code>-S</code> for short) to see what the actual problem with the configuration is.</p>\n<p>Also, the way to specify the Checkstyle version to use is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>checkstyle {\n    toolVersion('10.3.1')\n}\n</code></pre>\n<p>What you did instead was to accidentally include the Checkstyle library on your own project classpath. So you are likely using the default version 8.x in Gradle right now.</p>\n"},{"tags":[],"owner":{"account_id":4677737,"reputation":1311,"user_id":3787442,"accept_rate":0,"display_name":"NOTiFY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658308743,"creation_date":1658307564,"answer_id":73048680,"question_id":73012720,"body_markdown":"Fixed by upgraded &quot;Checkstyle configuration for &quot;Google Java Style&quot; (Jul 8, 2022) at:\r\n\r\nhttps://checkstyle.sourceforge.io/google_style.html\r\nhttps://github.com/checkstyle/checkstyle/blob/master/src/main/resources/google_checks.xml\r\n\r\n","title":"Checkstyle 10.3.1 won&#39;t run on Gradle 7.5","body":"<p>Fixed by upgraded &quot;Checkstyle configuration for &quot;Google Java Style&quot; (Jul 8, 2022) at:</p>\n<p><a href=\"https://checkstyle.sourceforge.io/google_style.html\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/google_style.html</a>\n<a href=\"https://github.com/checkstyle/checkstyle/blob/master/src/main/resources/google_checks.xml\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/blob/master/src/main/resources/google_checks.xml</a></p>\n"}],"owner":{"account_id":4677737,"reputation":1311,"user_id":3787442,"accept_rate":0,"display_name":"NOTiFY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4349,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73048680,"answer_count":2,"score":3,"last_activity_date":1658309041,"creation_date":1658068875,"question_id":73012720,"body_markdown":"    plugins {\r\n       id(&quot;checkstyle&quot;)\r\n    }\r\n\r\n    implementation(&quot;com.puppycrawl.tools:checkstyle:10.3.1&quot;)\r\n\r\n    checkstyleMain {\r\n        source = [&quot;src/main/java&quot;]\r\n    }\r\n  \r\n    // Upgraded\r\n    checkstyle {\r\n        toolVersion &quot;10.3.1&quot;\r\n        configFile = file(&quot;config/checkstyle/checkstyle.xml&quot;)\r\n    }\r\n\r\n\r\n&gt; Task :checkstyleMain FAILED\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:checkstyleMain&#39;.\r\n    &gt; A failure occurred while executing org.gradle.api.plugins.quality.internal.CheckstyleAction\r\n       &gt; Unable to create Root Module: config {/Users/NOTiFY/IdeaProjects/GoStopHandle/config/checkstyle/checkstyle.xml}, classpath {null}.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 3s\r\n\r\nopenjdk version &quot;18.0.1&quot; 2022-04-19\r\n\r\n/usr/local/Cellar/gradle/7.5/bin/gradle\r\n/usr/local/Cellar/gradle/7.5/libexec/bin/gradle\r\n/usr/local/Cellar/gradle/7.5/libexec/docs/ (2521 files)\r\n/usr/local/Cellar/gradle/7.5/libexec/lib/ (233 files)\r\n/usr/local/Cellar/gradle/7.5/libexec/src/ (8579 files)\r\n\r\n/usr/local/Cellar/checkstyle/10.3.1/bin/checkstyle\r\n/usr/local/Cellar/checkstyle/10.3.1/libexec/checkstyle-10.3.1-all.jar\r\n\r\nHave added:\r\n\r\n    gradle build clean --stacktrace \r\n\r\nErrors:\r\n\r\n    Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TreeWalker - cannot initialize module JavadocMethod - Property &#39;scope&#39; does not exist, please check the documentation\r\n            at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:478)\r\n            at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\r\n            at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\r\n            ... 34 more\r\n    Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module JavadocMethod - Property &#39;scope&#39; does not exist, please check the documentation\r\n            at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:128)\r\n            at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\r\n            at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:473)\r\n            ... 36 more\r\n    Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Property &#39;scope&#39; does not exist, please check the documentation\r\n            at com.puppycrawl.tools.checkstyle.api.AutomaticBean.tryCopyProperty(AutomaticBean.java:227)\r\n            at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:194)\r\n            at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:123)\r\n            ... 38 more\r\n\r\n","title":"Checkstyle 10.3.1 won&#39;t run on Gradle 7.5","body":"<pre><code>plugins {\n   id(&quot;checkstyle&quot;)\n}\n\nimplementation(&quot;com.puppycrawl.tools:checkstyle:10.3.1&quot;)\n\ncheckstyleMain {\n    source = [&quot;src/main/java&quot;]\n}\n\n// Upgraded\ncheckstyle {\n    toolVersion &quot;10.3.1&quot;\n    configFile = file(&quot;config/checkstyle/checkstyle.xml&quot;)\n}\n</code></pre>\n<blockquote>\n<p>Task :checkstyleMain FAILED</p>\n</blockquote>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':checkstyleMain'.\n&gt; A failure occurred while executing org.gradle.api.plugins.quality.internal.CheckstyleAction\n   &gt; Unable to create Root Module: config {/Users/NOTiFY/IdeaProjects/GoStopHandle/config/checkstyle/checkstyle.xml}, classpath {null}.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 3s\n</code></pre>\n<p>openjdk version &quot;18.0.1&quot; 2022-04-19</p>\n<p>/usr/local/Cellar/gradle/7.5/bin/gradle\n/usr/local/Cellar/gradle/7.5/libexec/bin/gradle\n/usr/local/Cellar/gradle/7.5/libexec/docs/ (2521 files)\n/usr/local/Cellar/gradle/7.5/libexec/lib/ (233 files)\n/usr/local/Cellar/gradle/7.5/libexec/src/ (8579 files)</p>\n<p>/usr/local/Cellar/checkstyle/10.3.1/bin/checkstyle\n/usr/local/Cellar/checkstyle/10.3.1/libexec/checkstyle-10.3.1-all.jar</p>\n<p>Have added:</p>\n<pre><code>gradle build clean --stacktrace \n</code></pre>\n<p>Errors:</p>\n<pre><code>Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TreeWalker - cannot initialize module JavadocMethod - Property 'scope' does not exist, please check the documentation\n        at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:478)\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\n        at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\n        ... 34 more\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module JavadocMethod - Property 'scope' does not exist, please check the documentation\n        at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:128)\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\n        at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:473)\n        ... 36 more\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Property 'scope' does not exist, please check the documentation\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.tryCopyProperty(AutomaticBean.java:227)\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:194)\n        at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:123)\n        ... 38 more\n</code></pre>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658304435,"post_id":73048011,"comment_id":129015491,"body_markdown":"What value do you expect `c` to assume to trigger the `case &#39;c&#39;|&#39;d&#39; :` part?","body":"What value do you expect <code>c</code> to assume to trigger the <code>case &#39;c&#39;|&#39;d&#39; :</code> part?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1658304488,"post_id":73048011,"comment_id":129015511,"body_markdown":"More generally, you should re-read about [how the switch statement works](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)","body":"More generally, you should re-read about <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">how the switch statement works</a>"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1658304886,"post_id":73048011,"comment_id":129015664,"body_markdown":"To be able to read, understand and maintain code easily, consistency is very important. Both when it comes to indentation but also when you want to do seemingly simple things like increasing the value of a variable. Should you use `++i`, or `i++`? That doesn&#39;t really matter, but please pick one way and stick with it, in a consistent manner.","body":"To be able to read, understand and maintain code easily, consistency is very important. Both when it comes to indentation but also when you want to do seemingly simple things like increasing the value of a variable. Should you use <code>++i</code>, or <code>i++</code>? That doesn&#39;t really matter, but please pick one way and stick with it, in a consistent manner."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1658307654,"post_id":73048011,"comment_id":129016691,"body_markdown":"&quot;it means, in array, 3rd and 4th elements were never processed. Why??&quot; &lt;- Not true. They were processed. You just don&#39;t have a fitting case for them.","body":"&quot;it means, in array, 3rd and 4th elements were never processed. Why??&quot; &lt;- Not true. They were processed. You just don&#39;t have a fitting case for them."}],"answers":[{"tags":[],"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658308987,"creation_date":1658304547,"answer_id":73048050,"question_id":73048011,"body_markdown":"With `&#39;c&#39;|&#39;d&#39;` you do a bitwise or between the two characters. That makes no sense and the result (which will be used for the `case`) will not be what you expect.\r\n\r\nTo use both for a case, remember that cases *fall through* if there&#39;s no `break`, which means you can do:\r\n\r\n    case &#39;c&#39;:\r\n    case &#39;d&#39;:\r\n        // Code for both &#39;c&#39; and &#39;d&#39;...\r\n        break;\r\n\r\n---\r\n\r\nAnd as noted, since your currently shown code have no `break` statements at all. The case for `&#39;a&#39;` will fall through to `&#39;b&#39;` *and* on to the `&#39;c&#39;` and `&#39;d&#39;` cases.\r\n\r\nYou need to spend more time with your text-books or tutorials to learn more about how `switch` works.\r\n\r\n---\r\n\r\nWith the code as currently shown in the question, then you loop will use `&#39;a&#39;` from the array, which will cause the following statements to execute:\r\n\r\n    i++;\r\n    System.out.println(&quot;Case a : &quot; + c + &quot; : &quot; + i);\r\n    ++i;\r\n    System.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\r\n    i++;\r\n    System.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\r\n\r\nThat increases `i` from `0` to `3`.\r\n\r\nThen the loop iterates and we use `&#39;b&#39;` which leads to the statements:\r\n\r\n    ++i;\r\n    System.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\r\n    i++;\r\n    System.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\r\n\r\nThat increases `i` two more times, from `3` to `5`.\r\n\r\nAnd since there&#39;s no cases matching `&#39;c&#39;` or `&#39;d&#39;` the loop will end with `i` equal to `5`.","title":"I get i= 5, but last case is never reached. can you help me understand why?","body":"<p>With <code>'c'|'d'</code> you do a bitwise or between the two characters. That makes no sense and the result (which will be used for the <code>case</code>) will not be what you expect.</p>\n<p>To use both for a case, remember that cases <em>fall through</em> if there's no <code>break</code>, which means you can do:</p>\n<pre><code>case 'c':\ncase 'd':\n    // Code for both 'c' and 'd'...\n    break;\n</code></pre>\n<hr />\n<p>And as noted, since your currently shown code have no <code>break</code> statements at all. The case for <code>'a'</code> will fall through to <code>'b'</code> <em>and</em> on to the <code>'c'</code> and <code>'d'</code> cases.</p>\n<p>You need to spend more time with your text-books or tutorials to learn more about how <code>switch</code> works.</p>\n<hr />\n<p>With the code as currently shown in the question, then you loop will use <code>'a'</code> from the array, which will cause the following statements to execute:</p>\n<pre><code>i++;\nSystem.out.println(&quot;Case a : &quot; + c + &quot; : &quot; + i);\n++i;\nSystem.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\ni++;\nSystem.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\n</code></pre>\n<p>That increases <code>i</code> from <code>0</code> to <code>3</code>.</p>\n<p>Then the loop iterates and we use <code>'b'</code> which leads to the statements:</p>\n<pre><code>++i;\nSystem.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\ni++;\nSystem.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\n</code></pre>\n<p>That increases <code>i</code> two more times, from <code>3</code> to <code>5</code>.</p>\n<p>And since there's no cases matching <code>'c'</code> or <code>'d'</code> the loop will end with <code>i</code> equal to <code>5</code>.</p>\n"}],"owner":{"account_id":25851164,"reputation":1,"user_id":19585133,"display_name":"Zarna Chirag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658308987,"creation_date":1658304363,"question_id":73048011,"body_markdown":"It prints **i= 5** when run, can you help me understand why it prints 5. also, case **&#39;c&#39;|&#39;d&#39; :** is unreachable. it dosen&#39;t print anything for that.\r\n\r\n    \r\n\r\n            var ca = new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;};\r\n            var i = 0;\r\n            for (var c : ca) {\r\n                switch (c) {\r\n\r\n                    case &#39;a&#39;:\r\n                        i++;\r\n                        System.out.println(&quot;Case a : &quot; + c + &quot; : &quot; + i);\r\n\r\n                    case &#39;b&#39;:\r\n                        ++i;\r\n                        System.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\r\n\r\n                    case &#39;c&#39;|&#39;d&#39; :\r\n                             i++; \r\n                             System.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\r\n                }\r\n\r\n\r\nThe code shows following output.\r\n\r\nCase a : a : 1\r\n\r\nCase b: a : 2\r\n\r\nCase c or d : a : 3\r\n\r\nCase b: b : 4\r\n\r\nCase c or d : b : 5\r\n\r\n5\r\n\r\nit means, in array, 3rd and 4th elements were never processed. Why??\r\n\r\n","title":"I get i= 5, but last case is never reached. can you help me understand why?","body":"<p>It prints <strong>i= 5</strong> when run, can you help me understand why it prints 5. also, case <strong>'c'|'d' :</strong> is unreachable. it dosen't print anything for that.</p>\n<pre><code>        var ca = new char[]{'a', 'b', 'c', 'd'};\n        var i = 0;\n        for (var c : ca) {\n            switch (c) {\n\n                case 'a':\n                    i++;\n                    System.out.println(&quot;Case a : &quot; + c + &quot; : &quot; + i);\n\n                case 'b':\n                    ++i;\n                    System.out.println(&quot;Case b: &quot; + c + &quot; : &quot; + i);\n\n                case 'c'|'d' :\n                         i++; \n                         System.out.println(&quot;Case c or d : &quot;+c + &quot; : &quot;+i);\n            }\n</code></pre>\n<p>The code shows following output.</p>\n<p>Case a : a : 1</p>\n<p>Case b: a : 2</p>\n<p>Case c or d : a : 3</p>\n<p>Case b: b : 4</p>\n<p>Case c or d : b : 5</p>\n<p>5</p>\n<p>it means, in array, 3rd and 4th elements were never processed. Why??</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":13375343,"reputation":103,"user_id":9652356,"display_name":"Vlad"},"score":0,"creation_date":1524034195,"post_id":49878532,"comment_id":86801461,"body_markdown":"FYI, I changed the type to java.util.Date and use custom accessors, but this doesn&#39;t look elegant, and I feel that I&#39;m missing something obvious here. It used to work, there must be a reason why it doesn&#39;t now.","body":"FYI, I changed the type to java.util.Date and use custom accessors, but this doesn&#39;t look elegant, and I feel that I&#39;m missing something obvious here. It used to work, there must be a reason why it doesn&#39;t now."}],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658308958,"creation_date":1658307738,"answer_id":73048732,"question_id":49878532,"body_markdown":"#### **TL;DR:** \r\nBesides register a `MongoCustomConversions` bean. Create a bean of `DateTimeProvider`, and register it into your `@EnableXXXAuditing(dateTimeProviderRef = &quot;dateTimeProvider&quot;)`\r\n\r\n```java\r\npublic class CustomDateTimeProvider implements DateTimeProvider {\r\n\r\n    @Override\r\n    public Optional&lt;TemporalAccessor&gt; getNow() {\r\n        return Optional.of(ZonedDateTime.now());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\n@EnableMongoAuditing(dateTimeProviderRef = &quot;dateTimeProvider&quot;) // beanName\r\npublic class MongoConfig {\r\n    @Bean\r\n    public MongoCustomConversions customConversions(){\r\n        List&lt;Converter&lt;?,?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n        converters.add(new ZonedDateTimeToDateConverter());\r\n        converters.add(new DateToZonedDateTimeConverter());\r\n        return new MongoCustomConversions(converters);\r\n    }\r\n\r\n    // The DateTimeProvider bean with beanName=&quot;dateTimeProvider&quot; is registered here\r\n    @Bean\r\n    public DateTimeProvider dateTimeProvider() {\r\n        return new CustomDateTimeProvider();\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n#### **FYI**: \r\nWhen you use `@EnableXXXAuditing`, Spring will register a [AuditHandler](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/AuditingHandler.html) that is responsible for adding auditing data to your model. It has 2 main components: [DateTimeProvider](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/DateTimeProvider.html) and [AuditorAware&lt;?&gt;](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/AuditorAware.html). You could register these 2 components in `AuditHandler` by declaring them in `@EnableXXXAuditing`. For example:\r\n\r\n```java\r\n@EnableXXXAuditing(\r\n    auditorAwareRef = &quot;auditorAware&quot;, // beanName\r\n    dateTimeProviderRef = &quot;dateTimeProvider&quot; // beanName\r\n)\r\n```\r\n\r\n* **DateTimeProvider** in short, is responsible for `@CreatedDate` and `@LastModifiedDate`\r\n* **AuditorAware** in short, is responsible for `@CreatedBy` and `@LastModifiedBy`\r\n\r\nThe default implementation of `DateTimeProvider` is **CurrentDateTimeProvider** that returns a instance of `LocalDateTime`. That&#39;s why you got the error with your `ZonedDateTime` CreatedDate, LastModifiedDate.","title":"Mongo auditable ZonedDateTime fields don&#39;t work in Spring Boot 2","body":"<h4><strong>TL;DR:</strong></h4>\n<p>Besides register a <code>MongoCustomConversions</code> bean. Create a bean of <code>DateTimeProvider</code>, and register it into your <code>@EnableXXXAuditing(dateTimeProviderRef = &quot;dateTimeProvider&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomDateTimeProvider implements DateTimeProvider {\n\n    @Override\n    public Optional&lt;TemporalAccessor&gt; getNow() {\n        return Optional.of(ZonedDateTime.now());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMongoAuditing(dateTimeProviderRef = &quot;dateTimeProvider&quot;) // beanName\npublic class MongoConfig {\n    @Bean\n    public MongoCustomConversions customConversions(){\n        List&lt;Converter&lt;?,?&gt;&gt; converters = new ArrayList&lt;&gt;();\n        converters.add(new ZonedDateTimeToDateConverter());\n        converters.add(new DateToZonedDateTimeConverter());\n        return new MongoCustomConversions(converters);\n    }\n\n    // The DateTimeProvider bean with beanName=&quot;dateTimeProvider&quot; is registered here\n    @Bean\n    public DateTimeProvider dateTimeProvider() {\n        return new CustomDateTimeProvider();\n    }\n}\n</code></pre>\n<hr />\n<h4><strong>FYI</strong>:</h4>\n<p>When you use <code>@EnableXXXAuditing</code>, Spring will register a <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/AuditingHandler.html\" rel=\"nofollow noreferrer\">AuditHandler</a> that is responsible for adding auditing data to your model. It has 2 main components: <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/DateTimeProvider.html\" rel=\"nofollow noreferrer\">DateTimeProvider</a> and <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/AuditorAware.html\" rel=\"nofollow noreferrer\">AuditorAware&lt;?&gt;</a>. You could register these 2 components in <code>AuditHandler</code> by declaring them in <code>@EnableXXXAuditing</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableXXXAuditing(\n    auditorAwareRef = &quot;auditorAware&quot;, // beanName\n    dateTimeProviderRef = &quot;dateTimeProvider&quot; // beanName\n)\n</code></pre>\n<ul>\n<li><strong>DateTimeProvider</strong> in short, is responsible for <code>@CreatedDate</code> and <code>@LastModifiedDate</code></li>\n<li><strong>AuditorAware</strong> in short, is responsible for <code>@CreatedBy</code> and <code>@LastModifiedBy</code></li>\n</ul>\n<p>The default implementation of <code>DateTimeProvider</code> is <strong>CurrentDateTimeProvider</strong> that returns a instance of <code>LocalDateTime</code>. That's why you got the error with your <code>ZonedDateTime</code> CreatedDate, LastModifiedDate.</p>\n"}],"owner":{"account_id":13375343,"reputation":103,"user_id":9652356,"display_name":"Vlad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73048732,"answer_count":1,"score":3,"last_activity_date":1658308958,"creation_date":1523969100,"question_id":49878532,"body_markdown":"In a Spring Boot project, I use annotations like @CreatedDate to save information about dates when the corresponding documents are created / updated. ZonedDateTime is used throughout the project, so the annotated fields are ZonedDateTime, too. To enable conversion between the Mongo&#39;s date format and ZonedDateTime, custom converters are used.\r\n\r\nNow, when using Spring Boot 1.5.x, the custom converters work perfectly for the auditable fields. In Spring Boot 2.0.x, the custom converters work for all fields, but not for the auditable ones. Thus, if I remove @EnableMongoAuditing, everything works fine (all ZonedDateTime fields throughout the project are persisted to and read from Mongo correctly), but the created / updated date fields are empty. If I enable mongo auditing, I get the following exception when trying to save a document:\r\n\r\n    java.lang.IllegalArgumentException: Invalid date type for member &lt;MEMBER NAME&gt;!\r\n    Supported types are [org.joda.time.DateTime, org.joda.time.LocalDateTime, java.util.Date, java.lang.Long, long]\r\n\r\nMy Mongo config:\r\n\r\n    @Configuration\r\n    @EnableMongoAuditing\r\n    public class MongoConfig {\r\n        @Bean\r\n        public MongoCustomConversions customConversions(){\r\n            List&lt;Converter&lt;?,?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n            converters.add(new ZonedDateTimeToDateConverter());\r\n            converters.add(new DateToZonedDateTimeConverter());\r\n            return new MongoCustomConversions(converters);\r\n        }\r\n    }\r\n\r\nThis is how the corresponding fields look like:\r\n\r\n    abstract class BaseModel {\r\n\r\n        @Id\r\n        private String id;\r\n        @CreatedDate\r\n        private ZonedDateTime created;\r\n        @LastModifiedDate\r\n        private ZonedDateTime updated;\r\n    }\r\n\r\nIs there a way to make the converters work for mongo auditable fields, other than downgrading to Spring Boot 1.5.x?","title":"Mongo auditable ZonedDateTime fields don&#39;t work in Spring Boot 2","body":"<p>In a Spring Boot project, I use annotations like @CreatedDate to save information about dates when the corresponding documents are created / updated. ZonedDateTime is used throughout the project, so the annotated fields are ZonedDateTime, too. To enable conversion between the Mongo's date format and ZonedDateTime, custom converters are used.</p>\n\n<p>Now, when using Spring Boot 1.5.x, the custom converters work perfectly for the auditable fields. In Spring Boot 2.0.x, the custom converters work for all fields, but not for the auditable ones. Thus, if I remove @EnableMongoAuditing, everything works fine (all ZonedDateTime fields throughout the project are persisted to and read from Mongo correctly), but the created / updated date fields are empty. If I enable mongo auditing, I get the following exception when trying to save a document:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Invalid date type for member &lt;MEMBER NAME&gt;!\nSupported types are [org.joda.time.DateTime, org.joda.time.LocalDateTime, java.util.Date, java.lang.Long, long]\n</code></pre>\n\n<p>My Mongo config:</p>\n\n<pre><code>@Configuration\n@EnableMongoAuditing\npublic class MongoConfig {\n    @Bean\n    public MongoCustomConversions customConversions(){\n        List&lt;Converter&lt;?,?&gt;&gt; converters = new ArrayList&lt;&gt;();\n        converters.add(new ZonedDateTimeToDateConverter());\n        converters.add(new DateToZonedDateTimeConverter());\n        return new MongoCustomConversions(converters);\n    }\n}\n</code></pre>\n\n<p>This is how the corresponding fields look like:</p>\n\n<pre><code>abstract class BaseModel {\n\n    @Id\n    private String id;\n    @CreatedDate\n    private ZonedDateTime created;\n    @LastModifiedDate\n    private ZonedDateTime updated;\n}\n</code></pre>\n\n<p>Is there a way to make the converters work for mongo auditable fields, other than downgrading to Spring Boot 1.5.x?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1658307946,"post_id":73048727,"comment_id":129016810,"body_markdown":"Where does the data such as &quot;Dipl&#244;me&quot; come from?","body":"Where does the data such as &quot;Dipl&#244;me&quot; come from?"},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1658310851,"post_id":73048727,"comment_id":129017959,"body_markdown":"ligne3Pdf = &quot;Dirigeant : &quot; + wdirigeant + &quot; Licence no : &quot; + wlicence + &quot; Dipl&#244;me : &quot; + wdiplome;","body":"ligne3Pdf = &quot;Dirigeant : &quot; + wdirigeant + &quot; Licence no : &quot; + wlicence + &quot; Dipl&#244;me : &quot; + wdiplome;"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1658313498,"post_id":73048727,"comment_id":129018989,"body_markdown":"Have you checked that the font file you are using actually has the right letters at the code points you are using?","body":"Have you checked that the font file you are using actually has the right letters at the code points you are using?"},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1658319789,"post_id":73048727,"comment_id":129021467,"body_markdown":"I copied the font from my pc,perhaps it&#39;s the problem?","body":"I copied the font from my pc,perhaps it&#39;s the problem?"},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1658322316,"post_id":73048727,"comment_id":129022566,"body_markdown":"for information I&#39;ve the same problem using BaseFont.HELVETICA or BaseFont.COURIER!!","body":"for information I&#39;ve the same problem using BaseFont.HELVETICA or BaseFont.COURIER!!"},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1658322933,"post_id":73048727,"comment_id":129022887,"body_markdown":"I&#39;ve solved th problem using : BaseFont.HELVETICA, BaseFont.CP1250, BaseFont.EMBEDDED","body":"I&#39;ve solved th problem using : BaseFont.HELVETICA, BaseFont.CP1250, BaseFont.EMBEDDED"},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1658323021,"post_id":73048727,"comment_id":129022934,"body_markdown":"Thank you for your help. Now the report pdf is correct. I don&#39;t know what is CP1250 but it resolve my problem","body":"Thank you for your help. Now the report pdf is correct. I don&#39;t know what is CP1250 but it resolve my problem"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658307730,"creation_date":1658307730,"question_id":73048727,"body_markdown":"I&#39;ve a problem with UTF-8 characters in a PdfCell. The result is bad. For example in my pdf i&#39;ve &quot;Dipl&#195;&#180;me&quot; instead of &quot;Dipl&#244;me&quot;. Also with &quot;gar&#195;&#167;on(s)&quot; instead of &quot;gar&#231;ons&quot;\r\nI&#39;ve try to look at solution in Stackoverflow without success.\r\nI&#39;ve you an idea to solve my problem\r\nThink you very much\r\nBest regards\r\nGeorges \r\n\r\n     String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n                   file = new File(pdfPath, &quot;PlateauxU7.pdf&quot;);\r\n                   ActivityCompat.requestPermissions(PlateauxU7Activity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                           PackageManager.PERMISSION_GRANTED);\r\n                   Document pdfDocument = new Document();\r\n                   pdfDocument.setPageSize(PageSize.A4);\r\n                   pdfDocument.setMargins(0, 0, 0, 0);\r\n\r\n                   FileOutputStream outputStream = new FileOutputStream(file);\r\n\r\n                   try {\r\n                       PdfWriter pdfWriter = PdfWriter.getInstance(pdfDocument, new FileOutputStream(file));\r\n                       pdfWriter.setLanguage(&quot;FR&quot;);\r\n                   } catch (DocumentException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n\r\n                   pdfDocument.open();\r\n                   BaseFont baseFontArial = BaseFont.createFont(&quot;res/font/arial.ttf&quot;, &quot;UTF-8&quot;, BaseFont.EMBEDDED);\r\n\r\n                   Font regularReport = new Font(baseFontArial, 12, Font.NORMAL, BaseColor.BLACK);\r\n                   Font regularReportBold = new Font(baseFontArial, 12, Font.BOLD, BaseColor.BLACK);\r\n                   Font titleReport = new Font(baseFontArial, 16, Font.BOLD, BaseColor.BLACK);\r\n                   Font titleReportBlanc = new Font(baseFontArial, 16, Font.BOLD, BaseColor.WHITE);","title":"UTF-8 characters in a pdfcell itext","body":"<p>I've a problem with UTF-8 characters in a PdfCell. The result is bad. For example in my pdf i've &quot;DiplÃ´me&quot; instead of &quot;Diplôme&quot;. Also with &quot;garÃ§on(s)&quot; instead of &quot;garçons&quot;\nI've try to look at solution in Stackoverflow without success.\nI've you an idea to solve my problem\nThink you very much\nBest regards\nGeorges</p>\n<pre><code> String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n               file = new File(pdfPath, &quot;PlateauxU7.pdf&quot;);\n               ActivityCompat.requestPermissions(PlateauxU7Activity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                       PackageManager.PERMISSION_GRANTED);\n               Document pdfDocument = new Document();\n               pdfDocument.setPageSize(PageSize.A4);\n               pdfDocument.setMargins(0, 0, 0, 0);\n\n               FileOutputStream outputStream = new FileOutputStream(file);\n\n               try {\n                   PdfWriter pdfWriter = PdfWriter.getInstance(pdfDocument, new FileOutputStream(file));\n                   pdfWriter.setLanguage(&quot;FR&quot;);\n               } catch (DocumentException e) {\n                   e.printStackTrace();\n               }\n\n               pdfDocument.open();\n               BaseFont baseFontArial = BaseFont.createFont(&quot;res/font/arial.ttf&quot;, &quot;UTF-8&quot;, BaseFont.EMBEDDED);\n\n               Font regularReport = new Font(baseFontArial, 12, Font.NORMAL, BaseColor.BLACK);\n               Font regularReportBold = new Font(baseFontArial, 12, Font.BOLD, BaseColor.BLACK);\n               Font titleReport = new Font(baseFontArial, 16, Font.BOLD, BaseColor.BLACK);\n               Font titleReportBlanc = new Font(baseFontArial, 16, Font.BOLD, BaseColor.WHITE);\n</code></pre>\n"},{"tags":["java","android","material-ui","calendar"],"answers":[{"tags":[],"owner":{"account_id":23259740,"reputation":13,"user_id":17346191,"display_name":"johneggo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658307689,"creation_date":1658304370,"answer_id":73048015,"question_id":73048014,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n### class MainActivity ###\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        MaterialCalendarView calendarView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            calendarView = findViewById(R.id.calendar);\r\n            ArrayList&lt;CalendarDay&gt; dates = new ArrayList&lt;CalendarDay&gt;();\r\n            \r\n            calendarView.setOnDateChangedListener(new OnDateSelectedListener() {\r\n                @Override\r\n                public void onDateSelected(@NonNull MaterialCalendarView widget, @NonNull CalendarDay date, boolean selected) {\r\n    \r\n                    if (dates.contains(calendarView.getSelectedDate())) {\r\n                        dates.remove(calendarView.getSelectedDate());\r\n                        calendarView.addDecorator(new SelectedDayDecorator(2,calendarView.getSelectedDates(), MainActivity.this));\r\n                    } else {\r\n                        dates.add(calendarView.getSelectedDate());\r\n                        calendarView.addDecorator(new SelectedDayDecorator(1,dates, MainActivity.this));\r\n                    }\r\n                }\r\n            });\r\n    \r\n            calendarView.setSelectionColor(getResources().getColor(R.color.transparent));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n### class SelectedDayDecorator ###\r\n\r\n    public class SelectedDayDecorator implements DayViewDecorator {\r\n        Context sContext ;\r\n        private int color;\r\n        private HashSet&lt;CalendarDay&gt; dates;\r\n    \r\n        public SelectedDayDecorator(Collection&lt;CalendarDay&gt; dates,Context context) {\r\n            this.dates = new HashSet&lt;&gt;(dates);\r\n            this.sContext = context;\r\n            this.color = color;\r\n\r\n        }\r\n    \r\n        @Override\r\n        public boolean shouldDecorate(CalendarDay day) {\r\n            return dates.contains(day);\r\n        }\r\n    \r\n        @Override\r\n        public void decorate(DayViewFacade view) {\r\n            int drawable = R.drawable.selected_day_color;\r\n            view.addSpan(new ForegroundColorSpan(Color.BLACK));\r\n            if (color == 1) {\r\n                view.setSelectionDrawable(ContextCompat.getDrawable(sContext, R.drawable.selected_day_color));\r\n            } else if (color == 2){\r\n          view.setSelectionDrawable(ContextCompat.getDrawable(sContext,R.drawable.default_day_color));\r\n        }\r\n        }\r\n    }\r\n\r\n\r\n### drawable selected_day_color ###\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;inset xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:insetBottom=&quot;1dp&quot;\r\n        android:insetLeft=&quot;1dp&quot;\r\n        android:insetRight=&quot;1dp&quot;\r\n        android:insetTop=&quot;1dp&quot;&gt;\r\n    \r\n        &lt;shape android:shape=&quot;oval&quot;&gt;\r\n            &lt;stroke\r\n                android:width=&quot;50dp&quot;\r\n                android:color=&quot;@color/teal_700&quot; /&gt;\r\n            &lt;size\r\n                android:width=&quot;10dp&quot;\r\n                android:height=&quot;10dp&quot; /&gt;\r\n            &lt;solid android:color=&quot;@color/transparent&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    \r\n    &lt;/inset&gt; \r\n\r\n\r\n### drawable default_day_color ###\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;inset xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:insetBottom=&quot;1dp&quot;\r\n        android:insetLeft=&quot;1dp&quot;\r\n        android:insetRight=&quot;1dp&quot;\r\n        android:insetTop=&quot;1dp&quot;&gt;\r\n    \r\n        &lt;shape android:shape=&quot;oval&quot;&gt;\r\n            &lt;stroke\r\n                android:width=&quot;50dp&quot;\r\n                android:color=&quot;@color/transparent&quot; /&gt;\r\n            &lt;size\r\n                android:width=&quot;10dp&quot;\r\n                android:height=&quot;10dp&quot; /&gt;\r\n            &lt;solid android:color=&quot;@color/transparent&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    \r\n    &lt;/inset&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/12Tt4.png\r\n","title":"Remove Selected Days from Material Calendar View","body":"<p><a href=\"https://i.stack.imgur.com/12Tt4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/12Tt4.png\" alt=\"enter image description here\" /></a></p>\n<h3>class MainActivity</h3>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    MaterialCalendarView calendarView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        calendarView = findViewById(R.id.calendar);\n        ArrayList&lt;CalendarDay&gt; dates = new ArrayList&lt;CalendarDay&gt;();\n        \n        calendarView.setOnDateChangedListener(new OnDateSelectedListener() {\n            @Override\n            public void onDateSelected(@NonNull MaterialCalendarView widget, @NonNull CalendarDay date, boolean selected) {\n\n                if (dates.contains(calendarView.getSelectedDate())) {\n                    dates.remove(calendarView.getSelectedDate());\n                    calendarView.addDecorator(new SelectedDayDecorator(2,calendarView.getSelectedDates(), MainActivity.this));\n                } else {\n                    dates.add(calendarView.getSelectedDate());\n                    calendarView.addDecorator(new SelectedDayDecorator(1,dates, MainActivity.this));\n                }\n            }\n        });\n\n        calendarView.setSelectionColor(getResources().getColor(R.color.transparent));\n    }\n}\n</code></pre>\n<h3>class SelectedDayDecorator</h3>\n<pre><code>public class SelectedDayDecorator implements DayViewDecorator {\n    Context sContext ;\n    private int color;\n    private HashSet&lt;CalendarDay&gt; dates;\n\n    public SelectedDayDecorator(Collection&lt;CalendarDay&gt; dates,Context context) {\n        this.dates = new HashSet&lt;&gt;(dates);\n        this.sContext = context;\n        this.color = color;\n\n    }\n\n    @Override\n    public boolean shouldDecorate(CalendarDay day) {\n        return dates.contains(day);\n    }\n\n    @Override\n    public void decorate(DayViewFacade view) {\n        int drawable = R.drawable.selected_day_color;\n        view.addSpan(new ForegroundColorSpan(Color.BLACK));\n        if (color == 1) {\n            view.setSelectionDrawable(ContextCompat.getDrawable(sContext, R.drawable.selected_day_color));\n        } else if (color == 2){\n      view.setSelectionDrawable(ContextCompat.getDrawable(sContext,R.drawable.default_day_color));\n    }\n    }\n}\n</code></pre>\n<h3>drawable selected_day_color</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;inset xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:insetBottom=&quot;1dp&quot;\n    android:insetLeft=&quot;1dp&quot;\n    android:insetRight=&quot;1dp&quot;\n    android:insetTop=&quot;1dp&quot;&gt;\n\n    &lt;shape android:shape=&quot;oval&quot;&gt;\n        &lt;stroke\n            android:width=&quot;50dp&quot;\n            android:color=&quot;@color/teal_700&quot; /&gt;\n        &lt;size\n            android:width=&quot;10dp&quot;\n            android:height=&quot;10dp&quot; /&gt;\n        &lt;solid android:color=&quot;@color/transparent&quot; /&gt;\n    &lt;/shape&gt;\n\n&lt;/inset&gt; \n</code></pre>\n<h3>drawable default_day_color</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;inset xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:insetBottom=&quot;1dp&quot;\n    android:insetLeft=&quot;1dp&quot;\n    android:insetRight=&quot;1dp&quot;\n    android:insetTop=&quot;1dp&quot;&gt;\n\n    &lt;shape android:shape=&quot;oval&quot;&gt;\n        &lt;stroke\n            android:width=&quot;50dp&quot;\n            android:color=&quot;@color/transparent&quot; /&gt;\n        &lt;size\n            android:width=&quot;10dp&quot;\n            android:height=&quot;10dp&quot; /&gt;\n        &lt;solid android:color=&quot;@color/transparent&quot; /&gt;\n    &lt;/shape&gt;\n\n&lt;/inset&gt;\n</code></pre>\n"}],"owner":{"account_id":23259740,"reputation":13,"user_id":17346191,"display_name":"johneggo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658307689,"creation_date":1658304370,"question_id":73048014,"body_markdown":"So I have been trying to remove Selected days from material Calendar and also remove their decorators but I couldn&#39;t figure out how to do that using **removeDecorator()**.\r\n\r\nInstead I created an extra  xml file to **decorate** the **removed days**.\r\n\r\nI&#39;ll post the solution below in case anyone needs it. If anyone knows a better way to do this , please leave a comment with your solution.","title":"Remove Selected Days from Material Calendar View","body":"<p>So I have been trying to remove Selected days from material Calendar and also remove their decorators but I couldn't figure out how to do that using <strong>removeDecorator()</strong>.</p>\n<p>Instead I created an extra  xml file to <strong>decorate</strong> the <strong>removed days</strong>.</p>\n<p>I'll post the solution below in case anyone needs it. If anyone knows a better way to do this , please leave a comment with your solution.</p>\n"},{"tags":["java","python","py4j"],"comments":[{"owner":{"account_id":44734,"reputation":8367,"user_id":131427,"accept_rate":100,"display_name":"Barthelemy"},"score":0,"creation_date":1411934469,"post_id":26084212,"comment_id":40880876,"body_markdown":"Can you include the full stack trace?","body":"Can you include the full stack trace?"},{"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"score":0,"creation_date":1411977078,"post_id":26084212,"comment_id":40891859,"body_markdown":"Hi, I added the stack trace in the post. Thanks.","body":"Hi, I added the stack trace in the post. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411983132,"creation_date":1411983132,"answer_id":26096703,"question_id":26084212,"body_markdown":"I found out what was the problem.\r\n\r\nWhen I&#39;m using Sublime Text to run the Python script and when the build was complete the process that uses the port (25334 in this case) was still running so the port was in use when I tried to run the script again.\r\n\r\nThanks anyway.","title":"PY4J callback server error","body":"<p>I found out what was the problem.</p>\n\n<p>When I'm using Sublime Text to run the Python script and when the build was complete the process that uses the port (25334 in this case) was still running so the port was in use when I tried to run the script again.</p>\n\n<p>Thanks anyway.</p>\n"},{"tags":[],"owner":{"account_id":2054894,"reputation":13890,"user_id":1832942,"accept_rate":74,"display_name":"Michael Currie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658307672,"creation_date":1658307672,"answer_id":73048713,"question_id":26084212,"body_markdown":"For me I got this error when I had a window open running the script in interactive mode (`code.interact(local=locals())`), forgot about this, and tried running the script again in a separate command window.","title":"PY4J callback server error","body":"<p>For me I got this error when I had a window open running the script in interactive mode (<code>code.interact(local=locals())</code>), forgot about this, and tried running the script again in a separate command window.</p>\n"}],"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26096703,"answer_count":2,"score":2,"last_activity_date":1658307672,"creation_date":1411902107,"question_id":26084212,"body_markdown":"I&#39;m trying to run the example for the callback server in the PY4J website\r\n[here][1]\r\n\r\n\r\n  [1]: http://py4j.sourceforge.net/advanced_topics.html#implementing-java-interfaces-from-python-callback\r\n\r\nBut I&#39;m getting the following exception:\r\n&quot;py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server&quot;\r\n\r\nThis is the code:\r\n\r\nJava:\r\n\r\n    package py4j.examples;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n\r\n    import py4j.GatewayServer;\r\n\r\n    public class OperatorExample {\r\n\r\n        // To prevent integer overflow\r\n        private final static int MAX = 1000;\r\n\r\n        public List&lt;Integer&gt; randomBinaryOperator(Operator op) {\r\n                Random random = new Random();\r\n                List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(op.doOperation(numbers.get(0), numbers.get(1)));\r\n                return numbers;\r\n        }\r\n\r\n        public List&lt;Integer&gt; randomTernaryOperator(Operator op) {\r\n                Random random = new Random();\r\n                List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(op.doOperation(numbers.get(0), numbers.get(1), numbers.get(2)));\r\n                return numbers;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n                GatewayServer server = new GatewayServer(new OperatorExample());\r\n                server.start();\r\n        }\r\n\r\n    }\r\n\r\nInterface:\r\n\r\n    package py4j.examples;\r\n\r\n    public interface Operator {\r\n\r\n        public int doOperation(int i, int j);\r\n\r\n        public int doOperation(int i, int j, int k);\r\n\r\n    }\r\n\r\n\r\nPython:\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n\r\n    class Addition(object):\r\n        def doOperation(self, i, j, k = None):\r\n            if k == None:\r\n                 return i + j\r\n            else:\r\n                 return i + j + k\r\n\r\n        class Java:\r\n            implements = [&#39;py4j.examples.Operator&#39;]\r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        gateway = JavaGateway(start_callback_server=True)\r\n        operator = Addition()\r\n        numbers = gateway.entry_point.randomBinaryOperator(operator)\r\n        print(numbers)\r\n        numbers = gateway.entry_point.randomTernaryOperator(operator)\r\n        print(numbers)\r\n        gateway.shutdown()\r\n\r\nAs I mentioned, I&#39;m getting this exception\r\n\r\n\r\n**py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server.**\r\n\r\nThis is the stack trace:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;/home/amir/Python code/callback_example.py&quot;, line 14, in &lt;module&gt;\r\n        gateway = JavaGateway(start_callback_server=True)\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 851, in __init__\r\n        self._start_callback_server(python_proxy_port)\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 867, in _start_callback_server\r\n        self._callback_server.start()\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 1091, in start\r\n        raise Py4JNetworkError(msg)\r\n    py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\r\n    [Finished in 0.5s with exit code 1]","title":"PY4J callback server error","body":"<p>I'm trying to run the example for the callback server in the PY4J website\n<a href=\"http://py4j.sourceforge.net/advanced_topics.html#implementing-java-interfaces-from-python-callback\" rel=\"nofollow\">here</a></p>\n\n<p>But I'm getting the following exception:\n\"py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\"</p>\n\n<p>This is the code:</p>\n\n<p>Java:</p>\n\n<pre><code>package py4j.examples;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport py4j.GatewayServer;\n\npublic class OperatorExample {\n\n    // To prevent integer overflow\n    private final static int MAX = 1000;\n\n    public List&lt;Integer&gt; randomBinaryOperator(Operator op) {\n            Random random = new Random();\n            List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(op.doOperation(numbers.get(0), numbers.get(1)));\n            return numbers;\n    }\n\n    public List&lt;Integer&gt; randomTernaryOperator(Operator op) {\n            Random random = new Random();\n            List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(op.doOperation(numbers.get(0), numbers.get(1), numbers.get(2)));\n            return numbers;\n    }\n\n    public static void main(String[] args) {\n            GatewayServer server = new GatewayServer(new OperatorExample());\n            server.start();\n    }\n\n}\n</code></pre>\n\n<p>Interface:</p>\n\n<pre><code>package py4j.examples;\n\npublic interface Operator {\n\n    public int doOperation(int i, int j);\n\n    public int doOperation(int i, int j, int k);\n\n}\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>from py4j.java_gateway import JavaGateway\n\nclass Addition(object):\n    def doOperation(self, i, j, k = None):\n        if k == None:\n             return i + j\n        else:\n             return i + j + k\n\n    class Java:\n        implements = ['py4j.examples.Operator']\n\nif __name__ == '__main__':\n    gateway = JavaGateway(start_callback_server=True)\n    operator = Addition()\n    numbers = gateway.entry_point.randomBinaryOperator(operator)\n    print(numbers)\n    numbers = gateway.entry_point.randomTernaryOperator(operator)\n    print(numbers)\n    gateway.shutdown()\n</code></pre>\n\n<p>As I mentioned, I'm getting this exception</p>\n\n<p><strong>py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server.</strong></p>\n\n<p>This is the stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/amir/Python code/callback_example.py\", line 14, in &lt;module&gt;\n    gateway = JavaGateway(start_callback_server=True)\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 851, in __init__\n    self._start_callback_server(python_proxy_port)\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 867, in _start_callback_server\n    self._callback_server.start()\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 1091, in start\n    raise Py4JNetworkError(msg)\npy4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\n[Finished in 0.5s with exit code 1]\n</code></pre>\n"},{"tags":["java","inputstream","ioexception","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":1772677,"reputation":41,"user_id":1617160,"display_name":"lifeObserver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501356568,"creation_date":1501356568,"answer_id":45393276,"question_id":41506157,"body_markdown":"Please make sure that you switched off filtering in maven, it breaks you file and leads to such behaviour","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>Please make sure that you switched off filtering in maven, it breaks you file and leads to such behaviour</p>\n"},{"tags":[],"owner":{"account_id":6788907,"reputation":89,"user_id":5226666,"accept_rate":50,"display_name":"Syrious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658306388,"creation_date":1658233315,"answer_id":73036836,"question_id":41506157,"body_markdown":"Thanks to [lifeObserver][1] I could solve that issue with .xlsx files with the following changes to my pom.xml\r\n\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources/binary&lt;/directory&gt;\r\n            &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\nThe [plugin documentation][2] even states that filtering can break binary files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1617160/lifeobserver\r\n  [2]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1617160/lifeobserver\">lifeObserver</a> I could solve that issue with .xlsx files with the following changes to my pom.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources/binary&lt;/directory&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>The <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">plugin documentation</a> even states that filtering can break binary files.</p>\n"}],"owner":{"account_id":3165229,"reputation":35,"user_id":2675413,"accept_rate":40,"display_name":"tonyh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658306388,"creation_date":1483707042,"question_id":41506157,"body_markdown":"In my project i want to copy the styles from a template dotx file to my xwpf document. The template file is located in the resources folder and i&#39;m getting an IOException. This is really strange because it worked without any changes some days ago.\r\n\r\n    XWPFDocument document = new XWPFDocument();\r\n    File templateFile = this.getClass().getClassLoader().getResource(strTemplateFolder + &quot;/&quot; + strTemplateFilename).getFile();\r\n    \r\n    InputStream in = new FileInputStream(templateFile);\r\n    XWPFDocument template = new XWPFDocument(in);\r\n    \r\n    XWPFStyles newStyles = document.createStyles();\r\n    newStyles.setStyles(template.getStyle());\r\n\r\nThe error occurs at *new XWPFDocument(in)*\r\n\r\n    java.io.IOException: Failed to read zip entry source\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:342)\r\n\tat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\r\n\tat org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:128)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)\r\n\tat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Node.fireEvent(Node.java:8413)\r\n\tat javafx.scene.control.Button.fire(Button.java:185)\r\n\tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\r\n    Caused by: java.util.zip.ZipException: invalid code lengths set\r\n    \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\r\n    \tat java.util.zip.ZipInputStream.read(ZipInputStream.java:194)\r\n    \tat org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:213)\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n    \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\r\n    \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\r\n    \tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:99)\r\n    \t... 60 more\r\n\r\nCoping the template file to the package an changing the code to:\r\n\r\n    InputStream in = new FileInputStream(strTemplateFilename);\r\n\r\nit works. any ideas?","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>In my project i want to copy the styles from a template dotx file to my xwpf document. The template file is located in the resources folder and i'm getting an IOException. This is really strange because it worked without any changes some days ago.</p>\n\n<pre><code>XWPFDocument document = new XWPFDocument();\nFile templateFile = this.getClass().getClassLoader().getResource(strTemplateFolder + \"/\" + strTemplateFilename).getFile();\n\nInputStream in = new FileInputStream(templateFile);\nXWPFDocument template = new XWPFDocument(in);\n\nXWPFStyles newStyles = document.createStyles();\nnewStyles.setStyles(template.getStyle());\n</code></pre>\n\n<p>The error occurs at <em>new XWPFDocument(in)</em></p>\n\n<pre><code>java.io.IOException: Failed to read zip entry source\nat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:342)\nat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\nat org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:128)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\nat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)\nat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Node.fireEvent(Node.java:8413)\nat javafx.scene.control.Button.fire(Button.java:185)\nat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\nat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\nat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\nat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\nat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\nat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\nat com.sun.glass.ui.View.notifyMouse(View.java:937)\n\nCaused by: java.util.zip.ZipException: invalid code lengths set\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\n    at java.util.zip.ZipInputStream.read(ZipInputStream.java:194)\n    at org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:213)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\n    at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:99)\n    ... 60 more\n</code></pre>\n\n<p>Coping the template file to the package an changing the code to:</p>\n\n<pre><code>InputStream in = new FileInputStream(strTemplateFilename);\n</code></pre>\n\n<p>it works. any ideas?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":1,"creation_date":1658306719,"post_id":73048340,"comment_id":129016332,"body_markdown":"Could this answer help you? https://stackoverflow.com/questions/51788764/how-to-intercept-a-requestrejectedexception-in-spring","body":"Could this answer help you? <a href=\"https://stackoverflow.com/questions/51788764/how-to-intercept-a-requestrejectedexception-in-spring\" title=\"how to intercept a requestrejectedexception in spring\">stackoverflow.com/questions/51788764/&hellip;</a>"},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":0,"creation_date":1659028876,"post_id":73048340,"comment_id":129204137,"body_markdown":"https://stackoverflow.com/a/61607977/63730 works indeed, thanks.","body":"<a href=\"https://stackoverflow.com/a/61607977/63730\">stackoverflow.com/a/61607977/63730</a> works indeed, thanks."}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658306008,"creation_date":1658306008,"question_id":73048340,"body_markdown":"In the context of a Spring Boot web application, the application log shows a huge stack trace every time a client tries to fetch a URL containing invalid characters (such as &#39;;&#39;):\r\n\r\n```\r\n2022-07-20 09:50:31.104 ERROR 22988 --- [io-8082-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\r\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:456) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:429) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:196) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n```\r\n\r\nIs there anything I can do to prevent these stack traces from polluting the logs?\r\n","title":"How to prevent stack traces on org.springframework.security.web.firewall.RequestRejectedException","body":"<p>In the context of a Spring Boot web application, the application log shows a huge stack trace every time a client tries to fetch a URL containing invalid characters (such as ';'):</p>\n<pre><code>2022-07-20 09:50:31.104 ERROR 22988 --- [io-8082-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:456) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:429) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:196) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n</code></pre>\n<p>Is there anything I can do to prevent these stack traces from polluting the logs?</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658305911,"creation_date":1658305911,"answer_id":73048327,"question_id":73048066,"body_markdown":"You can simplify this a bit by using DefaultTableModel. It has addRow method which can you can use to add the rows.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object[])\r\n\r\nYou can also fix the problem here by creating separate lists for different types of vehicles and then creating cell data Object[][] of required size.","title":"Displaying ArrayList data in JTable","body":"<p>You can simplify this a bit by using DefaultTableModel. It has addRow method which can you can use to add the rows.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object[])</a></p>\n<p>You can also fix the problem here by creating separate lists for different types of vehicles and then creating cell data Object[][] of required size.</p>\n"}],"owner":{"account_id":25021910,"reputation":13,"user_id":18880518,"display_name":"NeOx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658305911,"creation_date":1658304605,"question_id":73048066,"body_markdown":"Here I have an ArrayList named vehicles that has several items of data type AutoRickshaw and ElectricScooter, here in the code below I will be making two different JTables to display data of AutoRickshaw and ElectricScooter. This table however loops to the vehicles.size() which causes to create empty rows (which would have data of ElectricScooter).The output is shown here [enter image description here][1]. I want these empty rows to not be displayed or be removed. \r\n```\r\nfor (int i = 0; i &lt; vehicles.size(); i++) {\r\n    if (vehicles.get(i) instanceof AutoRickshaw) {\r\n        autoRickshaw = (AutoRickshaw) vehicles.get(i);\r\n        for (int j = 0; j &lt; columns.length; j++) {\r\n            data[i][j] = autoRickshaw.getVehicleId();\r\n            data[i][j] = autoRickshaw.getVehicleName();\r\n            data[i][j] = autoRickshaw.getVehicleWeight();\r\n            data[i][j] = autoRickshaw.getVehicleColor();\r\n            data[i][j] = autoRickshaw.getVehicleSpeed();\r\n            data[i][j] = autoRickshaw.getEngineDisplacement();\r\n            data[i][j] = autoRickshaw.getTorque();\r\n            data[i][j] = autoRickshaw.getNumberOfSeats();\r\n            data[i][j] = autoRickshaw.getFuelTankCapacity();\r\n            data[i][j] = autoRickshaw.getGroundClearance();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CLXTX.png","title":"Displaying ArrayList data in JTable","body":"<p>Here I have an ArrayList named vehicles that has several items of data type AutoRickshaw and ElectricScooter, here in the code below I will be making two different JTables to display data of AutoRickshaw and ElectricScooter. This table however loops to the vehicles.size() which causes to create empty rows (which would have data of ElectricScooter).The output is shown here <a href=\"https://i.stack.imgur.com/CLXTX.png\" rel=\"nofollow noreferrer\">enter image description here</a>. I want these empty rows to not be displayed or be removed.</p>\n<pre><code>for (int i = 0; i &lt; vehicles.size(); i++) {\n    if (vehicles.get(i) instanceof AutoRickshaw) {\n        autoRickshaw = (AutoRickshaw) vehicles.get(i);\n        for (int j = 0; j &lt; columns.length; j++) {\n            data[i][j] = autoRickshaw.getVehicleId();\n            data[i][j] = autoRickshaw.getVehicleName();\n            data[i][j] = autoRickshaw.getVehicleWeight();\n            data[i][j] = autoRickshaw.getVehicleColor();\n            data[i][j] = autoRickshaw.getVehicleSpeed();\n            data[i][j] = autoRickshaw.getEngineDisplacement();\n            data[i][j] = autoRickshaw.getTorque();\n            data[i][j] = autoRickshaw.getNumberOfSeats();\n            data[i][j] = autoRickshaw.getFuelTankCapacity();\n            data[i][j] = autoRickshaw.getGroundClearance();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1658304970,"post_id":73048000,"comment_id":129015693,"body_markdown":"you should create an AtomicLong object as a field of the EventListener, not as a local variable in the same method(onMessageReceived)","body":"you should create an AtomicLong object as a field of the EventListener, not as a local variable in the same method(onMessageReceived)"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1658305231,"post_id":73048000,"comment_id":129015786,"body_markdown":"You probably should use `ConcurrentHashMap` instead of `Hashtable`. https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html","body":"You probably should use <code>ConcurrentHashMap</code> instead of <code>Hashtable</code>. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658305116,"creation_date":1658305116,"answer_id":73048160,"question_id":73048000,"body_markdown":"You are creating a new `HashTable` every time the method executes, so each time the method exits your `HashTable` goes away. Create it as a field of the class instead, like so:\r\n\r\n```java\r\npublic class botListeners extends ListenerAdapter {\r\n\r\n    Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        super.onMessageReceived(event);\r\n\r\n        if (!event.getAuthor().isBot()) {\r\n// ...\r\n```","title":"How is a dictionary created and updated in java?","body":"<p>You are creating a new <code>HashTable</code> every time the method executes, so each time the method exits your <code>HashTable</code> goes away. Create it as a field of the class instead, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class botListeners extends ListenerAdapter {\n\n    Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\n        super.onMessageReceived(event);\n\n        if (!event.getAuthor().isBot()) {\n// ...\n</code></pre>\n"}],"owner":{"account_id":22656947,"reputation":83,"user_id":16830698,"display_name":"TomSmail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658305116,"creation_date":1658304322,"question_id":73048000,"body_markdown":"I am trying to create a Hash-table of &quot;messengers&quot; for a discord java bot. I am doing this project to help me learn java. I am initialising a Hash-table inside a public method that is connected to an event listener. I don&#39;t want to reset it each time an event occurs. This is my current code: \r\n\r\n```\r\npublic class botListeners extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        super.onMessageReceived(event);\r\n\r\n        // ISSUE HERE \r\n        Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\r\n\r\n        if (!event.getAuthor().isBot()) {\r\n            String message = event.getMessage().getContentRaw();\r\n            System.out.println(&quot;A message has been sent: &quot; + message);\r\n           \r\n            String messenger = event.getAuthor().getAsTag();\r\n\r\n            if (messangerDict.containsKey(event.getAuthor().getAsTag())){\r\n                messangerDict.put(messenger, messangerDict.get(messenger) + 1);\r\n\r\n            }else {\r\n                messangerDict.put(event.getAuthor().getAsTag(), 1);\r\n            }\r\n\r\n            System.out.println(messangerDict.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy current output, each time I write a message to the &quot;guild&quot; is this:\r\n\r\n```\r\nA message has been sent: as\r\n{USERTAG=1}\r\nA message has been sent: s\r\n{USERTAG=1}\r\n```\r\n\r\nI would like it to increment each time, i.e the second should be 2, not 1.","title":"How is a dictionary created and updated in java?","body":"<p>I am trying to create a Hash-table of &quot;messengers&quot; for a discord java bot. I am doing this project to help me learn java. I am initialising a Hash-table inside a public method that is connected to an event listener. I don't want to reset it each time an event occurs. This is my current code:</p>\n<pre><code>public class botListeners extends ListenerAdapter {\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\n        super.onMessageReceived(event);\n\n        // ISSUE HERE \n        Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\n\n        if (!event.getAuthor().isBot()) {\n            String message = event.getMessage().getContentRaw();\n            System.out.println(&quot;A message has been sent: &quot; + message);\n           \n            String messenger = event.getAuthor().getAsTag();\n\n            if (messangerDict.containsKey(event.getAuthor().getAsTag())){\n                messangerDict.put(messenger, messangerDict.get(messenger) + 1);\n\n            }else {\n                messangerDict.put(event.getAuthor().getAsTag(), 1);\n            }\n\n            System.out.println(messangerDict.toString());\n        }\n    }\n}\n</code></pre>\n<p>My current output, each time I write a message to the &quot;guild&quot; is this:</p>\n<pre><code>A message has been sent: as\n{USERTAG=1}\nA message has been sent: s\n{USERTAG=1}\n</code></pre>\n<p>I would like it to increment each time, i.e the second should be 2, not 1.</p>\n"},{"tags":["java","duplicates","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":9818845,"reputation":71,"user_id":7274434,"display_name":"ribash sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650140559,"creation_date":1650140559,"answer_id":71897250,"question_id":71874148,"body_markdown":"Apache common takes in the first option/argument unless looped over.\r\nJust use two for loops, compare element at &#39;j&#39; with element at &#39;i&#39;, return the element at &#39;j&#39; and and element at &#39;j+1&#39;\r\n\r\n    String[] options = {&quot;-a&quot;,&quot;123&quot;,&quot;-b&quot;,&quot;456&quot;,&quot;-c&quot;,&quot;789&quot;,&quot;-a&quot;, &quot;000&quot;};\r\n          List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n    \r\n          for(int i = 0; i&lt;options.length; i++){\r\n             for(int j = i+1; j&lt;options.length; j++) {\r\n                 if(options[i].equals(options[j])){\r\n                     res.add(options[j]);\r\n                     res.add(options[j+1]);\r\n                 }\r\n             }\r\n          }\r\n          \r\n          for(String a: res)\r\n            System.out.println(a);\r\n\r\n\r\nThe above code prints \r\n\r\n    &quot;-a&quot; and &quot;000&quot; \r\n\r\nwhich is your repeated option w/argument\r\n","title":"Java apache commons CLI, repetitive options - need the last entered arguments","body":"<p>Apache common takes in the first option/argument unless looped over.\nJust use two for loops, compare element at 'j' with element at 'i', return the element at 'j' and and element at 'j+1'</p>\n<pre><code>String[] options = {&quot;-a&quot;,&quot;123&quot;,&quot;-b&quot;,&quot;456&quot;,&quot;-c&quot;,&quot;789&quot;,&quot;-a&quot;, &quot;000&quot;};\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\n\n      for(int i = 0; i&lt;options.length; i++){\n         for(int j = i+1; j&lt;options.length; j++) {\n             if(options[i].equals(options[j])){\n                 res.add(options[j]);\n                 res.add(options[j+1]);\n             }\n         }\n      }\n      \n      for(String a: res)\n        System.out.println(a);\n</code></pre>\n<p>The above code prints</p>\n<pre><code>&quot;-a&quot; and &quot;000&quot; \n</code></pre>\n<p>which is your repeated option w/argument</p>\n"}],"owner":{"account_id":12165959,"reputation":21,"user_id":18084508,"display_name":"TronChaser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658304918,"creation_date":1649950390,"question_id":71874148,"body_markdown":"I&#39;m just starting out with apache commons CLI in Java and could have CLI options which are repeated.  Does apache commons automatically process?  \r\n\r\nEx. (program -w arg 1 arg2 -w arg1 arg2). \r\n\r\nI need the last pair of args assigned to option -w.  Does apache commons automatically overwrite the args for repeated options?  ","title":"Java apache commons CLI, repetitive options - need the last entered arguments","body":"<p>I'm just starting out with apache commons CLI in Java and could have CLI options which are repeated.  Does apache commons automatically process?</p>\n<p>Ex. (program -w arg 1 arg2 -w arg1 arg2).</p>\n<p>I need the last pair of args assigned to option -w.  Does apache commons automatically overwrite the args for repeated options?</p>\n"},{"tags":["java","swing","jcombobox","listcellrenderer"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467715109,"creation_date":1467715109,"answer_id":38201284,"question_id":38200477,"body_markdown":"- for better help sooner post an `SSCCE / MCVE`, short, runnable, compilable, with hardcoded value for `JComboBox` / `XxxComboBoxModel` in local variable\r\n- JList has Boolean array implemented as default in API (no idea whats hidden in \r\n`String trueFalseItem = Boolean.toString(tempValue);` and with value stored `JComboBox model`)\r\n- this is just code minimum to test `isSelected` and to change `JList.setSelectionXxx` inside `DefaultListCellRenderer` \r\n\r\nfor example (code in SSCCE / MCVE form)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n.\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.Vector;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ComboBoxBooleanModel {\r\n    \r\n        private javax.swing.Timer timer = null;\r\n        private Vector&lt;Boolean&gt; comboBoxItems;\r\n        private JComboBox box;\r\n    \r\n        public ComboBoxBooleanModel() {\r\n            comboBoxItems = new Vector&lt;Boolean&gt;();\r\n            comboBoxItems.add(Boolean.TRUE);\r\n            comboBoxItems.add(Boolean.FALSE);\r\n            box = new JComboBox(comboBoxItems);\r\n            box.setRenderer(new DefaultListCellRenderer() {\r\n                @Override\r\n                public Component getListCellRendererComponent(JList list, Object value,\r\n                        int index, boolean isSelected, boolean cellHasFocus) {\r\n                    Component c = super.getListCellRendererComponent(\r\n                            list, value, index, isSelected, cellHasFocus);\r\n                    if (c instanceof JLabel) {\r\n                        JLabel l = (JLabel) c;\r\n                        if (Boolean.TRUE.equals(value)) {\r\n                            l.setBackground(Color.RED);\r\n                            if (isSelected) {\r\n                                list.setSelectionForeground(Color.RED);\r\n                                list.setSelectionBackground(Color.BLUE);\r\n                            }\r\n                        } else if (Boolean.FALSE.equals(value)) {\r\n                            l.setBackground(Color.BLUE);\r\n                            if (isSelected) {\r\n                                list.setSelectionForeground(Color.BLUE);\r\n                                list.setSelectionBackground(Color.RED);\r\n                            }\r\n                        }\r\n                        return l;\r\n                    }\r\n                    return c;\r\n                }\r\n            });\r\n            JFrame frame = new JFrame(&quot;&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(box);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    box.setSelectedIndex(1);\r\n                }\r\n            });\r\n            start();\r\n        }\r\n    \r\n        private void start() {\r\n            timer = new javax.swing.Timer(2250, updateCol());\r\n            timer.start();\r\n        }\r\n    \r\n        public Action updateCol() {\r\n            return new AbstractAction(&quot;text load action&quot;) {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (box.getSelectedItem() == (Boolean) false) {\r\n                        box.setSelectedItem((Boolean) true);\r\n                    } else {\r\n                        box.setSelectedItem((Boolean) false);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    ComboBoxBooleanModel comboBoxModel = new ComboBoxBooleanModel();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RW27w.jpg\r\n  [2]: http://i.stack.imgur.com/7hwVF.jpg","title":"Change color of selection (after selection) in a JComboBox","body":"<ul>\n<li>for better help sooner post an <code>SSCCE / MCVE</code>, short, runnable, compilable, with hardcoded value for <code>JComboBox</code> / <code>XxxComboBoxModel</code> in local variable</li>\n<li>JList has Boolean array implemented as default in API (no idea whats hidden in \n<code>String trueFalseItem = Boolean.toString(tempValue);</code> and with value stored <code>JComboBox model</code>)</li>\n<li>this is just code minimum to test <code>isSelected</code> and to change <code>JList.setSelectionXxx</code> inside <code>DefaultListCellRenderer</code> </li>\n</ul>\n\n<p>for example (code in SSCCE / MCVE form)</p>\n\n<p><a href=\"https://i.stack.imgur.com/RW27w.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RW27w.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7hwVF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7hwVF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>.</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.event.ActionEvent;\nimport java.util.Vector;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.SwingUtilities;\n\npublic class ComboBoxBooleanModel {\n\n    private javax.swing.Timer timer = null;\n    private Vector&lt;Boolean&gt; comboBoxItems;\n    private JComboBox box;\n\n    public ComboBoxBooleanModel() {\n        comboBoxItems = new Vector&lt;Boolean&gt;();\n        comboBoxItems.add(Boolean.TRUE);\n        comboBoxItems.add(Boolean.FALSE);\n        box = new JComboBox(comboBoxItems);\n        box.setRenderer(new DefaultListCellRenderer() {\n            @Override\n            public Component getListCellRendererComponent(JList list, Object value,\n                    int index, boolean isSelected, boolean cellHasFocus) {\n                Component c = super.getListCellRendererComponent(\n                        list, value, index, isSelected, cellHasFocus);\n                if (c instanceof JLabel) {\n                    JLabel l = (JLabel) c;\n                    if (Boolean.TRUE.equals(value)) {\n                        l.setBackground(Color.RED);\n                        if (isSelected) {\n                            list.setSelectionForeground(Color.RED);\n                            list.setSelectionBackground(Color.BLUE);\n                        }\n                    } else if (Boolean.FALSE.equals(value)) {\n                        l.setBackground(Color.BLUE);\n                        if (isSelected) {\n                            list.setSelectionForeground(Color.BLUE);\n                            list.setSelectionBackground(Color.RED);\n                        }\n                    }\n                    return l;\n                }\n                return c;\n            }\n        });\n        JFrame frame = new JFrame(\"\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(box);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                box.setSelectedIndex(1);\n            }\n        });\n        start();\n    }\n\n    private void start() {\n        timer = new javax.swing.Timer(2250, updateCol());\n        timer.start();\n    }\n\n    public Action updateCol() {\n        return new AbstractAction(\"text load action\") {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (box.getSelectedItem() == (Boolean) false) {\n                    box.setSelectedItem((Boolean) true);\n                } else {\n                    box.setSelectedItem((Boolean) false);\n                }\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                ComboBoxBooleanModel comboBoxModel = new ComboBoxBooleanModel();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467811436,"creation_date":1467811436,"answer_id":38225182,"question_id":38200477,"body_markdown":"Here is a short demo of 2 JCombos, one of which will not change its background color when selected :\r\n\r\n\tpublic static void main(String[] args){\r\n\t\r\n\t    JFrame frame = new JFrame(&quot;Combos BG Color test&quot;);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setLocationRelativeTo(null);\r\n\t    frame.getContentPane().setPreferredSize(new Dimension(400, 40));\r\n\t\r\n\t    JPanel mainPanel = new JPanel();\r\n\t    mainPanel.setLayout(new GridLayout(1,2));\r\n\t    frame.add(mainPanel);\r\n\t\r\n\t    JComboBox&lt;String&gt; aCombo = new JComboBox&lt;&gt;(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;});\r\n\t    mainPanel.add(aCombo);\r\n\t\r\n\t    JComboBox&lt;String&gt; bCombo = new JComboBox&lt;&gt;(new String[]{&quot;1&quot;,&quot;2&quot;,&quot;3&quot;});\r\n\t    Color bgColor = bCombo.getBackground();\r\n\t    bCombo.setRenderer(new DefaultListCellRenderer() {\r\n\t        @Override\r\n\t        public void paint(Graphics g) {\r\n\t            setBackground(bgColor);\r\n\t            super.paint(g);\r\n\t        }\r\n\t    });\r\n\t\r\n\t    mainPanel.add(bCombo);\r\n\t    frame.pack();\r\n\t    frame.setVisible(true);\r\n\t}\r\n\r\n(Most of the credit goes to this [answer][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4412902/background-color-of-the-selected-item-in-an-uneditable-jcombobox","title":"Change color of selection (after selection) in a JComboBox","body":"<p>Here is a short demo of 2 JCombos, one of which will not change its background color when selected :</p>\n\n<pre><code>public static void main(String[] args){\n\n    JFrame frame = new JFrame(\"Combos BG Color test\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().setPreferredSize(new Dimension(400, 40));\n\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(new GridLayout(1,2));\n    frame.add(mainPanel);\n\n    JComboBox&lt;String&gt; aCombo = new JComboBox&lt;&gt;(new String[]{\"A\",\"B\",\"C\"});\n    mainPanel.add(aCombo);\n\n    JComboBox&lt;String&gt; bCombo = new JComboBox&lt;&gt;(new String[]{\"1\",\"2\",\"3\"});\n    Color bgColor = bCombo.getBackground();\n    bCombo.setRenderer(new DefaultListCellRenderer() {\n        @Override\n        public void paint(Graphics g) {\n            setBackground(bgColor);\n            super.paint(g);\n        }\n    });\n\n    mainPanel.add(bCombo);\n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n\n<p>(Most of the credit goes to this <a href=\"https://stackoverflow.com/questions/4412902/background-color-of-the-selected-item-in-an-uneditable-jcombobox\">answer</a>)</p>\n"}],"owner":{"account_id":2663801,"reputation":5106,"user_id":2302843,"accept_rate":67,"display_name":"Zeliax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658304784,"creation_date":1467712729,"question_id":38200477,"body_markdown":"I&#39;m writing a GUI using Swing. I have a custom written `JComboBox` using a `ListCellRenderer` and a `BasicComboBoxEditor`.\r\n\r\nIn my `getListCellRendererComponent()` method I change the color of the the list based on whether the item is &quot;selected&quot; (mouse is hovering above), which is nice and all, but I don&#39;t want the selection to change background color once a choice is made, which it currently does.\r\n\r\nThe first picture shows how the interface looks before a selection is made, and the second one shows how it looks after.\r\n\r\n[![Before selection is made][2]][2]\r\n[![After selection is made][1]][1]\r\n\r\n#QUESTION\r\nHow do I change the background of the &quot;selection&quot; to the &quot;stockColor&quot;?\r\n\r\n#MCVE\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.util.Vector;\r\n\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.ListCellRenderer;\r\n    import javax.swing.plaf.basic.BasicComboBoxEditor;\r\n\r\n    public class TFComboBox extends JComboBox{\r\n\r\n\t    public static void main(String[] args){\t\t\r\n    \t\tcreateAndShowGUI();\r\n\t    }\r\n\t\r\n    \tpublic static void createAndShowGUI(){\r\n\t\t    JFrame frame = new JFrame(&quot;MCVE&quot;);\r\n\t\t\r\n    \t\tJPanel pane = new JPanel(new BorderLayout());\r\n\t    \tTFComboBox cb = new TFComboBox();\r\n\t\t    boolean[] tf = {true, false};\r\n    \t\tcb.addItems(tf);\r\n\t\t\r\n\t    \tJButton b = new JButton(&quot;Click me!&quot;);\r\n\t\t\r\n\t\t    pane.add(cb, BorderLayout.CENTER);\r\n    \t\tpane.add(b, BorderLayout.LINE_END);\r\n\t\t\r\n\t\t    frame.add(pane);\r\n\t\t\r\n    \t\tframe.setLocationRelativeTo(null);\r\n\t    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n\t    \tframe.setVisible(true);\r\n    \t}\r\n\t\r\n\t    private DefaultComboBoxModel model;\r\n    \tprivate Vector&lt;Boolean&gt; comboBoxItems;\r\n\t    private JComboBox comboBox;\r\n\r\n    \tpublic TFComboBox(){\r\n\t    \tcomboBoxItems = new Vector&lt;Boolean&gt;();\r\n\t\t    comboBoxItems.add(Boolean.TRUE);\r\n    \t\tcomboBoxItems.add(Boolean.FALSE);\r\n\t\r\n\t    \tcomboBox = new JComboBox(comboBoxItems);\r\n\t\r\n\t\t    model = new DefaultComboBoxModel();\r\n    \t\tsetModel(model);\r\n\t    \tsetRenderer(new TrueFalseComboRenderer());\r\n\t\t    setEditor(new TrueFalseComboEditor());\r\n    \t}\r\n\r\n\t    public void addItems(boolean[] items){\r\n\t\t    for(boolean anItem : items){\r\n\t\t\t    model.addElement(anItem);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    class TrueFalseComboRenderer extends JPanel implements ListCellRenderer {\r\n\r\n\t    private JLabel labelItem = new JLabel();\r\n    \tprivate Color stockColor = labelItem.getBackground();\r\n\r\n\t    public TrueFalseComboRenderer(){\r\n    \t    setLayout(new BorderLayout());\r\n    \t    labelItem.setOpaque(true);\r\n\t    \tlabelItem.setHorizontalAlignment(JLabel.CENTER);\r\n\t\r\n    \t    add(labelItem);\r\n\t\r\n    \t\tsetBackground(Color.LIGHT_GRAY);\r\n        }\r\n\r\n    \t@Override\r\n        public Component getListCellRendererComponent(JList list, Object value, \r\n\t\t    \tint index, boolean isSelected, boolean cellHasFocus) {\r\n\t\r\n        \tboolean tempValue = (boolean) value;\t\r\n\t        labelItem.setText(Boolean.toString(tempValue));\r\n\t\r\n\t\t    if(isSelected){\r\n    \t\t    labelItem.setBackground(stockColor.darker());\r\n    \t    \tlabelItem.setForeground(Color.WHITE);\r\n        \t} else {\r\n\t        \tlabelItem.setBackground(stockColor);\r\n\t\t        labelItem.setForeground(Color.BLACK);\r\n    \t\t}\r\n\r\n\t        return this;\r\n        }\t\r\n    }\r\n\r\n    class TrueFalseComboEditor extends BasicComboBoxEditor {\r\n\r\n\t    private JLabel labelItem = new JLabel();\r\n        private JPanel panel = new JPanel();\r\n\t    private Object selectedItem;\r\n\r\n        public TrueFalseComboEditor() {\r\n\t        labelItem.setOpaque(false);\r\n\t\t    labelItem.setHorizontalAlignment(JLabel.CENTER);\r\n        \tlabelItem.setForeground(Color.WHITE);\r\n\t\r\n\t        panel.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 2));\r\n\t\t    panel.setBackground(Color.BLUE);\r\n        \tpanel.add(labelItem);\r\n\t    }\r\n\r\n        public Component getEditorComponent(){\r\n\t        return this.panel;\r\n    \t}\r\n\r\n        public Object getItem(){\r\n\t        return this.selectedItem;\r\n    \t}\r\n\r\n        public void setItem(Object item){\r\n\t        if(item == null){\r\n\t\t        return;\r\n    \t\t}\r\n\t\r\n        \tthis.selectedItem = item;\r\n\t        labelItem.setText(item.toString());\r\n    \t}\r\n    }\r\n\r\n#EDIT\r\nI&#39;ve added a MCVE and as you can see it is the &quot;problem&quot; that the JComboBox is focused that has to do with my issue. I&#39;ve placed a button next to the ComboBox to help with removing the focus from the ComboBox.\r\n\r\nSimply doing a `setFocusable(false)` would fix it, but also take away some of the functionality of the rest of the program, so this is not desired.\r\n\r\n  [1]: http://i.stack.imgur.com/B2Bm8.png\r\n  [2]: http://i.stack.imgur.com/gQS1I.png","title":"Change color of selection (after selection) in a JComboBox","body":"<p>I'm writing a GUI using Swing. I have a custom written <code>JComboBox</code> using a <code>ListCellRenderer</code> and a <code>BasicComboBoxEditor</code>.</p>\n\n<p>In my <code>getListCellRendererComponent()</code> method I change the color of the the list based on whether the item is \"selected\" (mouse is hovering above), which is nice and all, but I don't want the selection to change background color once a choice is made, which it currently does.</p>\n\n<p>The first picture shows how the interface looks before a selection is made, and the second one shows how it looks after.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gQS1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQS1I.png\" alt=\"Before selection is made\"></a>\n<a href=\"https://i.stack.imgur.com/B2Bm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2Bm8.png\" alt=\"After selection is made\"></a></p>\n\n<h1>QUESTION</h1>\n\n<p>How do I change the background of the \"selection\" to the \"stockColor\"?</p>\n\n<h1>MCVE</h1>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.util.Vector;\n\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.plaf.basic.BasicComboBoxEditor;\n\npublic class TFComboBox extends JComboBox{\n\n    public static void main(String[] args){     \n        createAndShowGUI();\n    }\n\n    public static void createAndShowGUI(){\n        JFrame frame = new JFrame(\"MCVE\");\n\n        JPanel pane = new JPanel(new BorderLayout());\n        TFComboBox cb = new TFComboBox();\n        boolean[] tf = {true, false};\n        cb.addItems(tf);\n\n        JButton b = new JButton(\"Click me!\");\n\n        pane.add(cb, BorderLayout.CENTER);\n        pane.add(b, BorderLayout.LINE_END);\n\n        frame.add(pane);\n\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    private DefaultComboBoxModel model;\n    private Vector&lt;Boolean&gt; comboBoxItems;\n    private JComboBox comboBox;\n\n    public TFComboBox(){\n        comboBoxItems = new Vector&lt;Boolean&gt;();\n        comboBoxItems.add(Boolean.TRUE);\n        comboBoxItems.add(Boolean.FALSE);\n\n        comboBox = new JComboBox(comboBoxItems);\n\n        model = new DefaultComboBoxModel();\n        setModel(model);\n        setRenderer(new TrueFalseComboRenderer());\n        setEditor(new TrueFalseComboEditor());\n    }\n\n    public void addItems(boolean[] items){\n        for(boolean anItem : items){\n            model.addElement(anItem);\n        }\n    }\n}\n\nclass TrueFalseComboRenderer extends JPanel implements ListCellRenderer {\n\n    private JLabel labelItem = new JLabel();\n    private Color stockColor = labelItem.getBackground();\n\n    public TrueFalseComboRenderer(){\n        setLayout(new BorderLayout());\n        labelItem.setOpaque(true);\n        labelItem.setHorizontalAlignment(JLabel.CENTER);\n\n        add(labelItem);\n\n        setBackground(Color.LIGHT_GRAY);\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList list, Object value, \n            int index, boolean isSelected, boolean cellHasFocus) {\n\n        boolean tempValue = (boolean) value;    \n        labelItem.setText(Boolean.toString(tempValue));\n\n        if(isSelected){\n            labelItem.setBackground(stockColor.darker());\n            labelItem.setForeground(Color.WHITE);\n        } else {\n            labelItem.setBackground(stockColor);\n            labelItem.setForeground(Color.BLACK);\n        }\n\n        return this;\n    }   \n}\n\nclass TrueFalseComboEditor extends BasicComboBoxEditor {\n\n    private JLabel labelItem = new JLabel();\n    private JPanel panel = new JPanel();\n    private Object selectedItem;\n\n    public TrueFalseComboEditor() {\n        labelItem.setOpaque(false);\n        labelItem.setHorizontalAlignment(JLabel.CENTER);\n        labelItem.setForeground(Color.WHITE);\n\n        panel.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 2));\n        panel.setBackground(Color.BLUE);\n        panel.add(labelItem);\n    }\n\n    public Component getEditorComponent(){\n        return this.panel;\n    }\n\n    public Object getItem(){\n        return this.selectedItem;\n    }\n\n    public void setItem(Object item){\n        if(item == null){\n            return;\n        }\n\n        this.selectedItem = item;\n        labelItem.setText(item.toString());\n    }\n}\n</code></pre>\n\n<h1>EDIT</h1>\n\n<p>I've added a MCVE and as you can see it is the \"problem\" that the JComboBox is focused that has to do with my issue. I've placed a button next to the ComboBox to help with removing the focus from the ComboBox.</p>\n\n<p>Simply doing a <code>setFocusable(false)</code> would fix it, but also take away some of the functionality of the rest of the program, so this is not desired.</p>\n"},{"tags":["java","multithreading","tomcat","java-websocket"],"comments":[{"owner":{"account_id":62564,"reputation":43722,"user_id":2101267,"accept_rate":88,"display_name":"Dark Falcon"},"score":0,"creation_date":1436363738,"post_id":31294712,"comment_id":50580311,"body_markdown":"One thread per client is not usually a good idea if you wish to scale. If your threads don&#39;t block on anything but network I/O, you want approximately as many threads as you have cores in your machine. More just risks more context switching (expensive) and memory used for stacks.","body":"One thread per client is not usually a good idea if you wish to scale. If your threads don&#39;t block on anything but network I/O, you want approximately as many threads as you have cores in your machine. More just risks more context switching (expensive) and memory used for stacks."},{"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"score":0,"creation_date":1436364118,"post_id":31294712,"comment_id":50580614,"body_markdown":"Tomcat NIO connector has a thread pool who is already doing it for you, take a look at this SO thread https://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading","body":"Tomcat NIO connector has a thread pool who is already doing it for you, take a look at this SO thread <a href=\"https://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading\" title=\"tomcat 8 jsr 356 websocket threading\">stackoverflow.com/questions/19211754/&hellip;</a>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":1,"creation_date":1436364136,"post_id":31294712,"comment_id":50580635,"body_markdown":"I would suggest reading the accepted answer in this question - http://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading - basically, let the container handle the threading.","body":"I would suggest reading the accepted answer in this question - <a href=\"http://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading\" title=\"tomcat 8 jsr 356 websocket threading\">stackoverflow.com/questions/19211754/&hellip;</a> - basically, let the container handle the threading."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1436364481,"creation_date":1436363880,"answer_id":31294942,"question_id":31294712,"body_markdown":"There are two approaches to this kind of problem\r\n\r\n - one thread per request\r\n - a fixed number of threads to manage all requests\r\n\r\nActually you are using the second approach but using only 1 thread. \r\n\r\nYou can improve it using a pool of thread to handle your requests instead of only one.\r\n\r\nThe number of threads to use for the second approach depends on your application. If you have a strong use of cpu and a certain number of long I/O operations (read or write to disk or network) you can increase this number. \r\n\r\nIf you haven&#39;t I/O operations the number of thread should be closer to the number of cpu cores.\r\n\r\n**Note:** existing web servers use this two approaches for http requests. Just as an example **Apache** use the first (one thread for one request) and **NodeJs** use the second (it is event driven).\r\n\r\nIn any case use a system of timeout to unblock very long requests before server crashes.\r\n","title":"Multithreading with websockets","body":"<p>There are two approaches to this kind of problem</p>\n\n<ul>\n<li>one thread per request</li>\n<li>a fixed number of threads to manage all requests</li>\n</ul>\n\n<p>Actually you are using the second approach but using only 1 thread. </p>\n\n<p>You can improve it using a pool of thread to handle your requests instead of only one.</p>\n\n<p>The number of threads to use for the second approach depends on your application. If you have a strong use of cpu and a certain number of long I/O operations (read or write to disk or network) you can increase this number. </p>\n\n<p>If you haven't I/O operations the number of thread should be closer to the number of cpu cores.</p>\n\n<p><strong>Note:</strong> existing web servers use this two approaches for http requests. Just as an example <strong>Apache</strong> use the first (one thread for one request) and <strong>NodeJs</strong> use the second (it is event driven).</p>\n\n<p>In any case use a system of timeout to unblock very long requests before server crashes.</p>\n"},{"tags":[],"owner":{"account_id":3096747,"reputation":3369,"user_id":3887393,"accept_rate":72,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436364118,"creation_date":1436364118,"answer_id":31295032,"question_id":31294712,"body_markdown":"You can have a look at two very good scalable web servers, **Apache** and **Node.js**.\r\n\r\n**Apache**, when operating in *multi-threaded (worker)* mode, will create new threads for new connections (note that requests from the same browser are served from the same thread, via *keep-alive*).\r\n\r\n**Node.js** is vastly different, and uses an **asynschronous** workflow by delegating tasks.\r\n\r\nConsequently, Apache scales very well for computationally intensive tasks, while Node.js scales well for multiple (huge) small, event based requests.\r\n\r\nYou mention that you do some heavy tasks on the backend. This means that you should create multiple threads. How? Create a thread queue, with a `MAX_THREADS` limit, and a `MAX_THREADS_PER_CLIENT` limit, serving repeated requests by a client using the same thread. Your main thread must only spawn new threads.\r\n\r\nIf you can, you can incorporate some good Node.js features as well. If some task on the thread is taking too long, kill that thread with a callback for the task to create a new one when the job is done. You can do a benchmark to even train a NN to find out when to do this!\r\n\r\nHave a blast!","title":"Multithreading with websockets","body":"<p>You can have a look at two very good scalable web servers, <strong>Apache</strong> and <strong>Node.js</strong>.</p>\n\n<p><strong>Apache</strong>, when operating in <em>multi-threaded (worker)</em> mode, will create new threads for new connections (note that requests from the same browser are served from the same thread, via <em>keep-alive</em>).</p>\n\n<p><strong>Node.js</strong> is vastly different, and uses an <strong>asynschronous</strong> workflow by delegating tasks.</p>\n\n<p>Consequently, Apache scales very well for computationally intensive tasks, while Node.js scales well for multiple (huge) small, event based requests.</p>\n\n<p>You mention that you do some heavy tasks on the backend. This means that you should create multiple threads. How? Create a thread queue, with a <code>MAX_THREADS</code> limit, and a <code>MAX_THREADS_PER_CLIENT</code> limit, serving repeated requests by a client using the same thread. Your main thread must only spawn new threads.</p>\n\n<p>If you can, you can incorporate some good Node.js features as well. If some task on the thread is taking too long, kill that thread with a callback for the task to create a new one when the job is done. You can do a benchmark to even train a NN to find out when to do this!</p>\n\n<p>Have a blast!</p>\n"}],"owner":{"account_id":4442839,"reputation":527,"user_id":3616977,"accept_rate":75,"display_name":"user3616977"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18454,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":31294942,"answer_count":2,"score":8,"last_activity_date":1658304277,"creation_date":1436363344,"question_id":31294712,"body_markdown":"This is more a design question. I have the following implementation\r\n\r\nMultiple Client connections -----&gt;  Server ------&gt; Corresponding DB conns\r\n\r\n\r\nThe client/server communication is done using web sockets. It&#39;s a single threaded application currently. Evidently, this design does not scale as the the load on the server is too high and response back to the clients takes too long.\r\nBack end operations involve handling large amounts of data.\r\n\r\nMy question: is it a good idea to create a new thread for every web socket connection? This would imply 500 threads for 500 clients (the number of web sockets would be the same whether it&#39;s multi-threading or single threaded). This would ease the load on the server and hence would make life a lot more easier.\r\n\r\nor\r\n\r\nIs there a better logic to attain scalability? One of them could be create threads on the merit of the job and get the rest processed by the main thread. This somehow seems to be going back to the same problem again in the future.\r\n\r\nAny help here would be greatly appreciated.","title":"Multithreading with websockets","body":"<p>This is more a design question. I have the following implementation</p>\n\n<p>Multiple Client connections ----->  Server ------> Corresponding DB conns</p>\n\n<p>The client/server communication is done using web sockets. It's a single threaded application currently. Evidently, this design does not scale as the the load on the server is too high and response back to the clients takes too long.\nBack end operations involve handling large amounts of data.</p>\n\n<p>My question: is it a good idea to create a new thread for every web socket connection? This would imply 500 threads for 500 clients (the number of web sockets would be the same whether it's multi-threading or single threaded). This would ease the load on the server and hence would make life a lot more easier.</p>\n\n<p>or</p>\n\n<p>Is there a better logic to attain scalability? One of them could be create threads on the merit of the job and get the rest processed by the main thread. This somehow seems to be going back to the same problem again in the future.</p>\n\n<p>Any help here would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1658303541,"post_id":73047826,"comment_id":129015196,"body_markdown":"I&#39;d say a simple class would be the ideal solution. It&#39;s not wasteful. Any decent IDE will create most of the class for you.","body":"I&#39;d say a simple class would be the ideal solution. It&#39;s not wasteful. Any decent IDE will create most of the class for you."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1658306262,"post_id":73047826,"comment_id":129016165,"body_markdown":"yeah, like Federico said, just create the class, i think it is the best way","body":"yeah, like Federico said, just create the class, i think it is the best way"},{"owner":{"account_id":11512926,"reputation":33,"user_id":10560184,"display_name":"Andorrax"},"score":0,"creation_date":1658361846,"post_id":73047826,"comment_id":129035497,"body_markdown":"@FedericoklezCulloca not sure I agree about it not being wasteful. There are several instances in my project where I need to implement  methods that return multiple values. Many of them are completely unrelated to each other in terms of number and type of output, so if I go down the &#39;bespoke&#39; class route, I&#39;ll need to form up classes for all of them,  which seems more wasteful than having this one generic type that can handle lots of things for me. \n\nIs there another reason to prefer the class route over this one ? I&#39;m not well versed in Java so might be missing something.","body":"@FedericoklezCulloca not sure I agree about it not being wasteful. There are several instances in my project where I need to implement  methods that return multiple values. Many of them are completely unrelated to each other in terms of number and type of output, so if I go down the &#39;bespoke&#39; class route, I&#39;ll need to form up classes for all of them,  which seems more wasteful than having this one generic type that can handle lots of things for me.   Is there another reason to prefer the class route over this one ? I&#39;m not well versed in Java so might be missing something."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658385952,"post_id":73047826,"comment_id":129039329,"body_markdown":"I&#39;m not sure I understand what &quot;wasteful&quot; means to you. I create what I need to make my code readable, first. A class carries information about what its members are meant to represent and what it itself represents (because both the class and its members have meaningful names). A pair (or any tuple) doesn&#39;t. If you need to privilege readability, go for a custom class. If you don&#39;t care (for example because you just need to use it locally inside a method, take the value and then forget it ever existed) go for the pair.","body":"I&#39;m not sure I understand what &quot;wasteful&quot; means to you. I create what I need to make my code readable, first. A class carries information about what its members are meant to represent and what it itself represents (because both the class and its members have meaningful names). A pair (or any tuple) doesn&#39;t. If you need to privilege readability, go for a custom class. If you don&#39;t care (for example because you just need to use it locally inside a method, take the value and then forget it ever existed) go for the pair."}],"owner":{"account_id":11512926,"reputation":33,"user_id":10560184,"display_name":"Andorrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658303858,"creation_date":1658303394,"question_id":73047826,"body_markdown":"I&#39;m required to create a function that will produce multiple outputs. There are 4 outputs of &#39;double&#39; type and two outputs of a specific object type. I don&#39;t want to output them all individually, nor do I want to put them in their own class (it seems wasteful to create a class just for this one method that won&#39;t be used anywhere else). So instead I thought to create a Tuple-like class that can take List types as inputs: \r\n\r\n    /**\r\n     * This class will create a Tuple-like data structure where both inputs can be lists. \r\n     * @param &lt;A&gt;\r\n     * @param &lt;B&gt;\r\n     */\r\n    public class ListPair&lt;A extends List, B extends List&gt; {\r\n      public final A a;\r\n      public final B b;\r\n    \r\n      public ListPair(A a, B b) {\r\n        this.a = a;\r\n        this.b = b;\r\n      }\r\n    }\r\n\r\nThe intent being that my function can now simply output this class. \r\n\r\nI haven&#39;t worked with Java before (most of my experience is with C#) so I&#39;m not sure if creating a class like this would be the best way to go. Any alternative recommendations would be welcome. ","title":"Produce a &#39;Tuple&#39; like output from a method but with lists as members of said tuple","body":"<p>I'm required to create a function that will produce multiple outputs. There are 4 outputs of 'double' type and two outputs of a specific object type. I don't want to output them all individually, nor do I want to put them in their own class (it seems wasteful to create a class just for this one method that won't be used anywhere else). So instead I thought to create a Tuple-like class that can take List types as inputs:</p>\n<pre><code>/**\n * This class will create a Tuple-like data structure where both inputs can be lists. \n * @param &lt;A&gt;\n * @param &lt;B&gt;\n */\npublic class ListPair&lt;A extends List, B extends List&gt; {\n  public final A a;\n  public final B b;\n\n  public ListPair(A a, B b) {\n    this.a = a;\n    this.b = b;\n  }\n}\n</code></pre>\n<p>The intent being that my function can now simply output this class.</p>\n<p>I haven't worked with Java before (most of my experience is with C#) so I'm not sure if creating a class like this would be the best way to go. Any alternative recommendations would be welcome.</p>\n"},{"tags":["java","spring","crud","crud-repository"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":1,"creation_date":1658227930,"post_id":73031901,"comment_id":128994018,"body_markdown":"What&#39;s the request body you post to `http://localhost:8080/parking/1` ?","body":"What&#39;s the request body you post to <code>http:&#47;&#47;localhost:8080&#47;parking&#47;1</code> ?"},{"owner":{"display_name":"user18802229"},"score":0,"creation_date":1658297319,"post_id":73031901,"comment_id":129013304,"body_markdown":"Hello @dekkard , \nI got it now that I should use `{&quot;id&quot; : &quot;1&quot;}` as body in POSTMAN  Post Request, \nBut I am getting  another error :(,\n`Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null`","body":"Hello @dekkard ,  I got it now that I should use <code>{&quot;id&quot; : &quot;1&quot;}</code> as body in POSTMAN  Post Request,  But I am getting  another error :(, <code>Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Objec&zwnj;&#8203;t)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null</code>"}],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298019,"creation_date":1658298019,"answer_id":73046793,"question_id":73031901,"body_markdown":"you should not use **double** type data as it cannot take null, you should use **Double** type data instead and similar different parts\r\n","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>you should not use <strong>double</strong> type data as it cannot take null, you should use <strong>Double</strong> type data instead and similar different parts</p>\n"},{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658303744,"creation_date":1658303744,"answer_id":73047892,"question_id":73031901,"body_markdown":"Your `http://localhost:8080/parking/1` endpoint expects a `CarCommand` object as a request body, like the one you&#39;ve shown:\r\n```java\r\n{\r\n&quot;make&quot; :  &quot;Fiat&quot;,\r\n&quot;model&quot; :  &quot;Abarth&quot;,\r\n&quot;price&quot; :  &quot;21500&quot;,\r\n&quot;width&quot; :  &quot;3.5&quot;,\r\n&quot;length&quot; :  &quot;3.5&quot;,\r\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\r\n&quot;year&quot; :  &quot;2020-08-15&quot;\r\n}\r\n```\r\n\r\nBut when you POST \r\n```java\r\n{\r\n&quot;id&quot; : &quot;1&quot;\r\n}\r\n```\r\nthe fields of the `carCommand` used in\r\n```java\r\n@PostMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\r\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\r\n    }\r\n```\r\nare set to `null`, thus the `modelMapper`-mapped `Car` instance also has null fields and thus your error `the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null`\r\n\r\nThe proper way to make sure the request data you receive is valid is by using bean validation. See https://www.baeldung.com/spring-boot-bean-validation for more info.","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>Your <code>http://localhost:8080/parking/1</code> endpoint expects a <code>CarCommand</code> object as a request body, like the one you've shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n&quot;make&quot; :  &quot;Fiat&quot;,\n&quot;model&quot; :  &quot;Abarth&quot;,\n&quot;price&quot; :  &quot;21500&quot;,\n&quot;width&quot; :  &quot;3.5&quot;,\n&quot;length&quot; :  &quot;3.5&quot;,\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\n&quot;year&quot; :  &quot;2020-08-15&quot;\n}\n</code></pre>\n<p>But when you POST</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1&quot;\n}\n</code></pre>\n<p>the fields of the <code>carCommand</code> used in</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\n    }\n</code></pre>\n<p>are set to <code>null</code>, thus the <code>modelMapper</code>-mapped <code>Car</code> instance also has null fields and thus your error <code>the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null</code></p>\n<p>The proper way to make sure the request data you receive is valid is by using bean validation. See <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a> for more info.</p>\n"}],"owner":{"display_name":"user18802229"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8498,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73047892,"answer_count":2,"score":4,"last_activity_date":1658303744,"creation_date":1658210855,"question_id":73031901,"body_markdown":"I am working on small CRUD parking thing.\r\n\r\nMy tables **Car** and  **Parking** are created with liquibase, please see xml.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n                          http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd&quot;&gt;\r\n        &lt;changeSet id=&quot;202010211812&quot; author=&quot;Victor&quot;&gt;\r\n            &lt;createTable tableName=&quot;parking&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;parking_id_pk&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;name&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;number_of_places&quot; type=&quot;int&quot;/&gt;\r\n                &lt;column name=&quot;number_of_chargers&quot; type=&quot;int&quot;/&gt;\r\n                &lt;column name=&quot;parking_type&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;length_parking_spot&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;width_parking_spot&quot; type=&quot;double&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n    \r\n            &lt;createTable tableName=&quot;car&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;car_id_pk&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;make&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;model&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;price&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;width&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;length&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;car_combustible_type&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;year&quot; type=&quot;date&quot;/&gt;\r\n                &lt;column name=&quot;parking_id&quot; type=&quot;bigint&quot;&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\n\r\nHere are my classes\r\n\r\n\r\nParking :\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Parking {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        protected int numberOfPlaces;\r\n        protected int numberOfChargers;\r\n        private ParkingType parkingType;\r\n        private double lengthParkingSpot;\r\n        private double widthParkingSpot;\r\n    \r\n        @OneToMany\r\n        private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\nParkingService :\r\n\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.domain.Parking;\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import com.example.lesson31.exception.CarBiggerThenParkingSpotException;\r\n    import com.example.lesson31.repository.ParkingRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ParkingService extends Parking {\r\n    \r\n        private final ParkingRepository parkingRepository;\r\n\r\n        public Parking save(Parking parking) {\r\n            parkingRepository.save(parking);\r\n            return parking;\r\n        }\r\n    \r\n        public List&lt;Parking&gt; getAll() {\r\n            return parkingRepository.findAll();\r\n        }\r\n    \r\n        public Parking parkCarIntoParking(Long parkingId, Car car) throws Exception {\r\n            Parking parking = parkingRepository.findById(parkingId)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Id car not found&quot;));\r\n            if (parking.getNumberOfPlaces() == 0) {\r\n                throw new Exception(&quot;no more empty parking spaces :(&quot;);\r\n            }\r\n            isLpgOrNo(car, parking);\r\n            isElectricOrNo(car, parking);\r\n            isCarBiggerThenTheWidthSpot(car, parking);\r\n    \r\n            parking.getCars()\r\n                    .add(car);\r\n            return parking;\r\n        }\r\n    \r\n        public Parking getParkingById(Long id) throws Exception {\r\n            return parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\r\n        }\r\n        public Parking updateParking(Long id, Parking parking) {\r\n            Parking parking1 = parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Custom error message&quot;));\r\n            parking1.setName(parking.getName());\r\n            parking1.setNumberOfPlaces(parking.getNumberOfPlaces());\r\n            parking1.setNumberOfChargers(parking.getNumberOfChargers());\r\n            parking1.setWidthParkingSpot(parking.getWidthParkingSpot());\r\n            parking1.setLengthParkingSpot(parking.getLengthParkingSpot());\r\n            return parkingRepository.save(parking);\r\n    \r\n        }\r\n    \r\n        public void deleteParking(Long id) throws Exception {\r\n            Parking parkingForDelete = parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;grgreg&quot;));\r\n            parkingRepository.deleteById(parkingForDelete.getId());\r\n        }\r\n    \r\n    \r\n        public void isLpgOrNo(Car car, Parking parking) throws Exception {\r\n            if (car.getCarCombustibleType()\r\n                    .equalsIgnoreCase(&quot;lpg&quot;)\r\n                    &amp;&amp; parking.getParkingType()\r\n                    .equals(ParkingType.UNDERGROUND)) {\r\n                throw new Exception(&quot;Parking is not for cars with LPG :(&quot;);\r\n            }\r\n        }\r\n    \r\n        public void isElectricOrNo(Car car, Parking parking) throws Exception {\r\n            if (car.getCarCombustibleType()\r\n                    .equalsIgnoreCase(&quot;electric&quot;) &amp;&amp; parking.getNumberOfChargers() == 0) {\r\n                throw new Exception(&quot;No chargers available&quot;);\r\n            }\r\n        }\r\n    \r\n        public void isCarBiggerThenTheWidthSpot(Car car, Parking parking) throws CarBiggerThenParkingSpotException {\r\n            if (car.getWidth() &gt; parking.getWidthParkingSpot()) {\r\n                throw new CarBiggerThenParkingSpotException(&quot;Vehicle width is bigger then the parking spot width!&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nParkingController : \r\n\r\n    import com.example.lesson31.command.CarCommand;\r\n    import com.example.lesson31.command.ParkingCommand;\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.domain.Parking;\r\n    import com.example.lesson31.dto.ParkingDto;\r\n    import com.example.lesson31.service.ParkingService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/parking&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ParkingController {\r\n    \r\n    \r\n        private final ParkingService parkingService;\r\n        public final ModelMapper modelMapper;\r\n    \r\n        @PostMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;ParkingDto&gt; saveParking(@RequestBody ParkingCommand parkingCommand) {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.save(modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;ParkingDto&gt;&gt; getAllParkings() {\r\n            return new ResponseEntity&lt;&gt;(parkingService.getAll().stream()\r\n                    .map(parkings -&gt; modelMapper.map(parkings, ParkingDto.class))\r\n                    .collect(Collectors.toList()), HttpStatus.OK);\r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ParkingDto&gt; updateParking(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand)  {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.updateParking(id, modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public HttpStatus deleteParking(@PathVariable Long id) throws Exception {\r\n            parkingService.deleteParking(id);\r\n            return HttpStatus.OK;\r\n        }\r\n    }\r\n\r\n\r\nParkingCommand :\r\n\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class ParkingCommand {\r\n        private String name;\r\n        private int numberOfPlaces;\r\n        private int numberOfChargers;\r\n        private ParkingType parkingType;\r\n        private int lengthParkingSpot;\r\n        private int widthParkingSpot;\r\n    }\r\n\r\n\r\nParkingDto :\r\n\r\n \r\n\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class ParkingDto {\r\n        private String name;\r\n        private int numberOfPlaces;\r\n        private ParkingType parkingType;\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCar :\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private double length;\r\n        private double width;\r\n    private CarCombustibleType carCombustibleType;\r\n        private LocalDate year;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parking_id&quot;)\r\n        private Parking parking;\r\n    }\r\n\r\n\r\n\r\nCarService:\r\n\r\n\r\n\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.repository.CarRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CarService {\r\n    \r\n        private final CarRepository carRepository;\r\n    \r\n        public Car save(Car car) {\r\n            return carRepository.save(car);\r\n        }\r\n    \r\n        public List&lt;Car&gt; getAll() {\r\n            return carRepository.findAll();\r\n        }\r\n    \r\n        public Car updateCar(Long id, Car car) throws Exception {\r\n            Car carForUpdate = carRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\r\n            carForUpdate.setMake(car.getMake());\r\n            carForUpdate.setModel(car.getModel());\r\n            carForUpdate.setPrice(car.getPrice());\r\n            carForUpdate.setLength(car.getLength());\r\n            carForUpdate.setWidth(car.getWidth());\r\n            carForUpdate.setCarCombustibleType(car.getCarCombustibleType());\r\n            return carRepository.save(car);\r\n    \r\n        }\r\n    \r\n        public void deleteCar(Long id) throws Exception {\r\n            Car carForDelete = carRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car id not found&quot;));\r\n            carRepository.deleteById(carForDelete.getId());\r\n        }\r\n    }\r\n\r\nCarController:\r\n\r\n\r\n    import com.example.lesson31.command.CarCommand;\r\n    import com.example.lesson31.command.ParkingCommand;\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.dto.CarDto;\r\n    import com.example.lesson31.repository.CarRepository;\r\n    import com.example.lesson31.service.CarService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/car&quot;)\r\n    @RequiredArgsConstructor\r\n    public class CarController {\r\n    \r\n        public final CarService carService;\r\n        public final CarRepository carRepository;\r\n        public final ModelMapper modelMapper;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;CarDto&gt; saveCar(@RequestBody CarCommand carCommand) {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(carService.save(modelMapper.map(carCommand, Car.class)), CarDto.class), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;CarDto&gt;&gt; getAllCars() {\r\n            return new ResponseEntity&lt;&gt;(carService.getAll()\r\n                    .stream()\r\n                    .map(car -&gt; modelMapper.map(car, CarDto.class))\r\n                    .collect(Collectors.toList()), HttpStatus.OK);\r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;CarDto&gt; updateCar(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand) throws Exception {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(carService.updateCar(id, modelMapper.map(parkingCommand, Car.class)), CarDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public HttpStatus deleteCar(@PathVariable Long id) throws Exception {\r\n            carService.deleteCar(id);\r\n            return HttpStatus.OK;\r\n        }\r\n    \r\n    }\r\n\r\nCarCommand:\r\n\r\n    import lombok.Data;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    public class CarCommand {\r\n    \r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private double length;\r\n        private double width;\r\n        private String carCombustibleType;\r\n        private LocalDate year;\r\n    }\r\n\r\n\r\n\r\nCarDto:\r\n\r\n    import lombok.Data;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    public class CarDto {\r\n    \r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private LocalDate year;\r\n        private CarCombustibleType carCombustibleType;\r\n    }\r\n\r\n\r\nI add car  and parking by POSTMAN POST request into database. \r\n\r\nSee example  of car and parking :\r\n\r\nCar :\r\n\r\n    {\r\n    &quot;make&quot; :  &quot;Fiat&quot;,\r\n    &quot;model&quot; :  &quot;Abarth&quot;,\r\n    &quot;price&quot; :  &quot;21500&quot;,\r\n    &quot;width&quot; :  &quot;3.5&quot;,\r\n    &quot;length&quot; :  &quot;3.5&quot;,\r\n    &quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\r\n    &quot;year&quot; :  &quot;2020-08-15&quot;\r\n    }\r\n\r\nParking:\r\n\r\n    }\r\n        &quot;name&quot;: &quot;WestParking&quot;,\r\n        &quot;numberOfPlaces&quot;: 25,\r\n        &quot;numberOfChargers&quot;: 5,\r\n        &quot;parkingType&quot;: &quot;1&quot;,  //(1= OUTSIDE / 2= UNDERGROUND)\r\n        &quot;length&quot;: 3.5,\r\n        &quot;width&quot;: 3.0\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nWhen I want to park a car inside the parking by POSTMAN I get the  error:\r\n\r\n    Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null\r\n    \r\nThis is my  JSON postman POST request:\r\n\r\n    http://localhost:8080/parking/1\r\n   \r\nWith the follozing body \r\n\r\n    {\r\n    &quot;id&quot; : &quot;1&quot;\r\n    }\r\n\r\n  \r\n\r\n\r\nCan anyoane advice what I do wrong ?\r\n\r\n","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>I am working on small CRUD parking thing.</p>\n<p>My tables <strong>Car</strong> and  <strong>Parking</strong> are created with liquibase, please see xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd&quot;&gt;\n    &lt;changeSet id=&quot;202010211812&quot; author=&quot;Victor&quot;&gt;\n        &lt;createTable tableName=&quot;parking&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;parking_id_pk&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;name&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;number_of_places&quot; type=&quot;int&quot;/&gt;\n            &lt;column name=&quot;number_of_chargers&quot; type=&quot;int&quot;/&gt;\n            &lt;column name=&quot;parking_type&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;length_parking_spot&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;width_parking_spot&quot; type=&quot;double&quot;/&gt;\n        &lt;/createTable&gt;\n\n        &lt;createTable tableName=&quot;car&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;car_id_pk&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;make&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;model&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;price&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;width&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;length&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;car_combustible_type&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;year&quot; type=&quot;date&quot;/&gt;\n            &lt;column name=&quot;parking_id&quot; type=&quot;bigint&quot;&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>Here are my classes</p>\n<p>Parking :</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Parking {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    protected int numberOfPlaces;\n    protected int numberOfChargers;\n    private ParkingType parkingType;\n    private double lengthParkingSpot;\n    private double widthParkingSpot;\n\n    @OneToMany\n    private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>ParkingService :</p>\n<pre><code>import com.example.lesson31.domain.Car;\nimport com.example.lesson31.domain.Parking;\nimport com.example.lesson31.domain.ParkingType;\nimport com.example.lesson31.exception.CarBiggerThenParkingSpotException;\nimport com.example.lesson31.repository.ParkingRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class ParkingService extends Parking {\n\n    private final ParkingRepository parkingRepository;\n\n    public Parking save(Parking parking) {\n        parkingRepository.save(parking);\n        return parking;\n    }\n\n    public List&lt;Parking&gt; getAll() {\n        return parkingRepository.findAll();\n    }\n\n    public Parking parkCarIntoParking(Long parkingId, Car car) throws Exception {\n        Parking parking = parkingRepository.findById(parkingId)\n                .orElseThrow(() -&gt; new Exception(&quot;Id car not found&quot;));\n        if (parking.getNumberOfPlaces() == 0) {\n            throw new Exception(&quot;no more empty parking spaces :(&quot;);\n        }\n        isLpgOrNo(car, parking);\n        isElectricOrNo(car, parking);\n        isCarBiggerThenTheWidthSpot(car, parking);\n\n        parking.getCars()\n                .add(car);\n        return parking;\n    }\n\n    public Parking getParkingById(Long id) throws Exception {\n        return parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\n    }\n    public Parking updateParking(Long id, Parking parking) {\n        Parking parking1 = parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Custom error message&quot;));\n        parking1.setName(parking.getName());\n        parking1.setNumberOfPlaces(parking.getNumberOfPlaces());\n        parking1.setNumberOfChargers(parking.getNumberOfChargers());\n        parking1.setWidthParkingSpot(parking.getWidthParkingSpot());\n        parking1.setLengthParkingSpot(parking.getLengthParkingSpot());\n        return parkingRepository.save(parking);\n\n    }\n\n    public void deleteParking(Long id) throws Exception {\n        Parking parkingForDelete = parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;grgreg&quot;));\n        parkingRepository.deleteById(parkingForDelete.getId());\n    }\n\n\n    public void isLpgOrNo(Car car, Parking parking) throws Exception {\n        if (car.getCarCombustibleType()\n                .equalsIgnoreCase(&quot;lpg&quot;)\n                &amp;&amp; parking.getParkingType()\n                .equals(ParkingType.UNDERGROUND)) {\n            throw new Exception(&quot;Parking is not for cars with LPG :(&quot;);\n        }\n    }\n\n    public void isElectricOrNo(Car car, Parking parking) throws Exception {\n        if (car.getCarCombustibleType()\n                .equalsIgnoreCase(&quot;electric&quot;) &amp;&amp; parking.getNumberOfChargers() == 0) {\n            throw new Exception(&quot;No chargers available&quot;);\n        }\n    }\n\n    public void isCarBiggerThenTheWidthSpot(Car car, Parking parking) throws CarBiggerThenParkingSpotException {\n        if (car.getWidth() &gt; parking.getWidthParkingSpot()) {\n            throw new CarBiggerThenParkingSpotException(&quot;Vehicle width is bigger then the parking spot width!&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>ParkingController :</p>\n<pre><code>import com.example.lesson31.command.CarCommand;\nimport com.example.lesson31.command.ParkingCommand;\nimport com.example.lesson31.domain.Car;\nimport com.example.lesson31.domain.Parking;\nimport com.example.lesson31.dto.ParkingDto;\nimport com.example.lesson31.service.ParkingService;\nimport lombok.RequiredArgsConstructor;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;/parking&quot;)\n@RequiredArgsConstructor\npublic class ParkingController {\n\n\n    private final ParkingService parkingService;\n    public final ModelMapper modelMapper;\n\n    @PostMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\n    }\n\n\n    @PostMapping\n    public ResponseEntity&lt;ParkingDto&gt; saveParking(@RequestBody ParkingCommand parkingCommand) {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.save(modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.CREATED);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ParkingDto&gt;&gt; getAllParkings() {\n        return new ResponseEntity&lt;&gt;(parkingService.getAll().stream()\n                .map(parkings -&gt; modelMapper.map(parkings, ParkingDto.class))\n                .collect(Collectors.toList()), HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; updateParking(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand)  {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.updateParking(id, modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public HttpStatus deleteParking(@PathVariable Long id) throws Exception {\n        parkingService.deleteParking(id);\n        return HttpStatus.OK;\n    }\n}\n</code></pre>\n<p>ParkingCommand :</p>\n<pre><code>import com.example.lesson31.domain.ParkingType;\nimport lombok.Data;\n\n@Data\npublic class ParkingCommand {\n    private String name;\n    private int numberOfPlaces;\n    private int numberOfChargers;\n    private ParkingType parkingType;\n    private int lengthParkingSpot;\n    private int widthParkingSpot;\n}\n</code></pre>\n<p>ParkingDto :</p>\n<pre><code>import com.example.lesson31.domain.ParkingType;\nimport lombok.Data;\n\n@Data\npublic class ParkingDto {\n    private String name;\n    private int numberOfPlaces;\n    private ParkingType parkingType;\n\n}\n</code></pre>\n<p>Car :</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Car {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String make;\n    private String model;\n    private double price;\n    private double length;\n    private double width;\nprivate CarCombustibleType carCombustibleType;\n    private LocalDate year;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parking_id&quot;)\n    private Parking parking;\n}\n</code></pre>\n<p>CarService:</p>\n<pre><code>import com.example.lesson31.domain.Car;\nimport com.example.lesson31.repository.CarRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class CarService {\n\n    private final CarRepository carRepository;\n\n    public Car save(Car car) {\n        return carRepository.save(car);\n    }\n\n    public List&lt;Car&gt; getAll() {\n        return carRepository.findAll();\n    }\n\n    public Car updateCar(Long id, Car car) throws Exception {\n        Car carForUpdate = carRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\n        carForUpdate.setMake(car.getMake());\n        carForUpdate.setModel(car.getModel());\n        carForUpdate.setPrice(car.getPrice());\n        carForUpdate.setLength(car.getLength());\n        carForUpdate.setWidth(car.getWidth());\n        carForUpdate.setCarCombustibleType(car.getCarCombustibleType());\n        return carRepository.save(car);\n\n    }\n\n    public void deleteCar(Long id) throws Exception {\n        Car carForDelete = carRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car id not found&quot;));\n        carRepository.deleteById(carForDelete.getId());\n    }\n}\n</code></pre>\n<p>CarController:</p>\n<pre><code>import com.example.lesson31.command.CarCommand;\nimport com.example.lesson31.command.ParkingCommand;\nimport com.example.lesson31.domain.Car;\nimport com.example.lesson31.dto.CarDto;\nimport com.example.lesson31.repository.CarRepository;\nimport com.example.lesson31.service.CarService;\nimport lombok.RequiredArgsConstructor;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;/car&quot;)\n@RequiredArgsConstructor\npublic class CarController {\n\n    public final CarService carService;\n    public final CarRepository carRepository;\n    public final ModelMapper modelMapper;\n\n    @PostMapping\n    public ResponseEntity&lt;CarDto&gt; saveCar(@RequestBody CarCommand carCommand) {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(carService.save(modelMapper.map(carCommand, Car.class)), CarDto.class), HttpStatus.CREATED);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CarDto&gt;&gt; getAllCars() {\n        return new ResponseEntity&lt;&gt;(carService.getAll()\n                .stream()\n                .map(car -&gt; modelMapper.map(car, CarDto.class))\n                .collect(Collectors.toList()), HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;CarDto&gt; updateCar(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(carService.updateCar(id, modelMapper.map(parkingCommand, Car.class)), CarDto.class), HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public HttpStatus deleteCar(@PathVariable Long id) throws Exception {\n        carService.deleteCar(id);\n        return HttpStatus.OK;\n    }\n\n}\n</code></pre>\n<p>CarCommand:</p>\n<pre><code>import lombok.Data;\n\nimport java.time.LocalDate;\n\n@Data\npublic class CarCommand {\n\n    private String make;\n    private String model;\n    private double price;\n    private double length;\n    private double width;\n    private String carCombustibleType;\n    private LocalDate year;\n}\n</code></pre>\n<p>CarDto:</p>\n<pre><code>import lombok.Data;\n\nimport java.time.LocalDate;\n\n@Data\npublic class CarDto {\n\n    private String make;\n    private String model;\n    private double price;\n    private LocalDate year;\n    private CarCombustibleType carCombustibleType;\n}\n</code></pre>\n<p>I add car  and parking by POSTMAN POST request into database.</p>\n<p>See example  of car and parking :</p>\n<p>Car :</p>\n<pre><code>{\n&quot;make&quot; :  &quot;Fiat&quot;,\n&quot;model&quot; :  &quot;Abarth&quot;,\n&quot;price&quot; :  &quot;21500&quot;,\n&quot;width&quot; :  &quot;3.5&quot;,\n&quot;length&quot; :  &quot;3.5&quot;,\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\n&quot;year&quot; :  &quot;2020-08-15&quot;\n}\n</code></pre>\n<p>Parking:</p>\n<pre><code>}\n    &quot;name&quot;: &quot;WestParking&quot;,\n    &quot;numberOfPlaces&quot;: 25,\n    &quot;numberOfChargers&quot;: 5,\n    &quot;parkingType&quot;: &quot;1&quot;,  //(1= OUTSIDE / 2= UNDERGROUND)\n    &quot;length&quot;: 3.5,\n    &quot;width&quot;: 3.0\n}\n</code></pre>\n<p>When I want to park a car inside the parking by POSTMAN I get the  error:</p>\n<pre><code>Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null\n</code></pre>\n<p>This is my  JSON postman POST request:</p>\n<pre><code>http://localhost:8080/parking/1\n</code></pre>\n<p>With the follozing body</p>\n<pre><code>{\n&quot;id&quot; : &quot;1&quot;\n}\n</code></pre>\n<p>Can anyoane advice what I do wrong ?</p>\n"},{"tags":["java","pebble"],"comments":[{"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"score":0,"creation_date":1476360666,"post_id":35977033,"comment_id":67317918,"body_markdown":"It seems it does not. So I had to implement my own function.","body":"It seems it does not. So I had to implement my own function."}],"answers":[{"tags":[],"owner":{"account_id":5684412,"reputation":1277,"user_id":4494425,"display_name":"maechler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658303337,"creation_date":1633537118,"answer_id":69469242,"question_id":35977033,"body_markdown":"If you need the date in all the templates (e.g. for usage in a footer), you could add a global variable:\r\n\r\n**Extension**\r\n\r\n```java\r\npublic class DateNowExtension extends AbstractExtension {\r\n    @Override\r\n    public Map&lt;String, Object&gt; getGlobalVariables() {\r\n        return Collections.singletonMap(&quot;now&quot;, new Date());\r\n    }\r\n}\r\n```\r\n\r\n**Configuration**\r\n\r\n```java\r\n@Configuration\r\npublic class PebbleExtensionConfiguration {\r\n    @Bean\r\n    public Extension dateNowExtension() {\r\n        return new DateNowExtension();\r\n    }\r\n}\r\n```\r\n\r\n**Template**\r\n\r\n```html\r\n&amp;copy; ACME {{ now | date(&quot;yyyy&quot;) }}\r\n```","title":"Obtain the current date in Pebble","body":"<p>If you need the date in all the templates (e.g. for usage in a footer), you could add a global variable:</p>\n<p><strong>Extension</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateNowExtension extends AbstractExtension {\n    @Override\n    public Map&lt;String, Object&gt; getGlobalVariables() {\n        return Collections.singletonMap(&quot;now&quot;, new Date());\n    }\n}\n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class PebbleExtensionConfiguration {\n    @Bean\n    public Extension dateNowExtension() {\n        return new DateNowExtension();\n    }\n}\n</code></pre>\n<p><strong>Template</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&amp;copy; ACME {{ now | date(&quot;yyyy&quot;) }}\n</code></pre>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658303337,"creation_date":1457910340,"question_id":35977033,"body_markdown":"I&#39;m using the Pebble template engine in a Java application that uses the Spring framework.\r\n\r\nI&#39;m looking for a solution to get the current date in Pebble. Before to start with implementing this basic function, I&#39;m wondering if the library already provides this function. I have to say that the official doc are not saying anything for this.","title":"Obtain the current date in Pebble","body":"<p>I'm using the Pebble template engine in a Java application that uses the Spring framework.</p>\n\n<p>I'm looking for a solution to get the current date in Pebble. Before to start with implementing this basic function, I'm wondering if the library already provides this function. I have to say that the official doc are not saying anything for this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8820,"page":1172,"page_size":100}
