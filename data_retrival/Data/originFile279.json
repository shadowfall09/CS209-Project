{"items":[{"tags":["java","javafx","jpackage"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677559109,"post_id":75578985,"comment_id":133357271,"body_markdown":"open CMD.exe, change to your app install  dir, run your app exe. Find any error message output ?","body":"open CMD.exe, change to your app install  dir, run your app exe. Find any error message output ?"},{"owner":{"display_name":"user21296068"},"score":0,"creation_date":1677597344,"post_id":75578985,"comment_id":133367130,"body_markdown":"No, it just launches the app and I get the same error message.","body":"No, it just launches the app and I get the same error message."}],"answers":[{"tags":[],"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677495388,"creation_date":1677495388,"answer_id":75579554,"question_id":75578985,"body_markdown":"You can manually perform the jlink step before running jpackage; otherwise, jpackage automatically invokes jlink during the process. Jlink generates the executable.exe, but jpackage creates the installer for the executable, e.g. msi\r\n\r\nI hope this link is useful:\r\nhttps://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:~:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20.","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>You can manually perform the jlink step before running jpackage; otherwise, jpackage automatically invokes jlink during the process. Jlink generates the executable.exe, but jpackage creates the installer for the executable, e.g. msi</p>\n<p>I hope this link is useful:\n<a href=\"https://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:%7E:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20\" rel=\"nofollow noreferrer\">https://www.devdungeon.com/content/use-jpackage-create-native-java-app-installers#:~:text=jlink%20vs%20jpackage,-jlink%20was%20introduced&amp;text=You%20can%20manually%20perform%20the,dmg%20%2C%20</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user21296068"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690648397,"creation_date":1690648397,"answer_id":76794506,"question_id":75578985,"body_markdown":"I&#39;m now using [Eclipse Adoptium][1] for both **JDK** as well as **JRE**. Also I downloaded the jmods from [JavaFX Gluon website][2]. Right now I&#39;m using version 17 which has the longest LTS for now.\r\n\r\nThese are the steps that I did to make it work:\r\n* Download Eclipse Adoptium JDK, JRE and install them (I choose .msi versions);\r\n* Go to JavaFX Gluon and download the jmods for your version (I choose to place them together with the other jmods from the JDK (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods);\r\n* After installing them go to **System variables** and add/change **JAVA_HOME** to the **JDK** folder (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot);\r\n* Go to **System variables / Path** and add a variable to the folder: JDK\\bin\\server (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\bin\\server);\r\n* When running the **jpackage** command follow this example:\r\n```\r\njpackage -t exe\r\n--name &quot;Application Name&quot;\r\n--vendor &quot;Your company name&quot;\r\n--app-version 1.0\r\n--input &quot;C:\\Programs\\Test program&quot;\r\n--dest &quot;C:\\Programs\\Test program&quot;\r\n--main-jar &quot;Application Name.jar&quot;\r\n--icon &quot;C:\\Programs\\Test program\\Application Name.ico&quot;\r\n--module-path &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods&quot;\r\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.localedata\r\n--win-shortcut --win-menu\r\n```\r\n\r\nHope this will help someone who had the same problem as my, and after running **jpackage** they were getting **Failed to launch JVM** error.\r\n\r\n  [1]: https://adoptium.net/temurin/releases/\r\n  [2]: https://download2.gluonhq.com/openjfx/17.0.7/openjfx-17.0.7_windows-x64_bin-jmods.zip","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>I'm now using <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Eclipse Adoptium</a> for both <strong>JDK</strong> as well as <strong>JRE</strong>. Also I downloaded the jmods from <a href=\"https://download2.gluonhq.com/openjfx/17.0.7/openjfx-17.0.7_windows-x64_bin-jmods.zip\" rel=\"nofollow noreferrer\">JavaFX Gluon website</a>. Right now I'm using version 17 which has the longest LTS for now.</p>\n<p>These are the steps that I did to make it work:</p>\n<ul>\n<li>Download Eclipse Adoptium JDK, JRE and install them (I choose .msi versions);</li>\n<li>Go to JavaFX Gluon and download the jmods for your version (I choose to place them together with the other jmods from the JDK (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods);</li>\n<li>After installing them go to <strong>System variables</strong> and add/change <strong>JAVA_HOME</strong> to the <strong>JDK</strong> folder (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot);</li>\n<li>Go to <strong>System variables / Path</strong> and add a variable to the folder: JDK\\bin\\server (ex: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\bin\\server);</li>\n<li>When running the <strong>jpackage</strong> command follow this example:</li>\n</ul>\n<pre><code>jpackage -t exe\n--name &quot;Application Name&quot;\n--vendor &quot;Your company name&quot;\n--app-version 1.0\n--input &quot;C:\\Programs\\Test program&quot;\n--dest &quot;C:\\Programs\\Test program&quot;\n--main-jar &quot;Application Name.jar&quot;\n--icon &quot;C:\\Programs\\Test program\\Application Name.ico&quot;\n--module-path &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7.7-hotspot\\jmods&quot;\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.localedata\n--win-shortcut --win-menu\n</code></pre>\n<p>Hope this will help someone who had the same problem as my, and after running <strong>jpackage</strong> they were getting <strong>Failed to launch JVM</strong> error.</p>\n"}],"owner":{"display_name":"user21296068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794506,"answer_count":2,"score":0,"last_activity_date":1690648432,"creation_date":1677491901,"question_id":75578985,"body_markdown":"After creating the `.exe` file using the command `jpackage`, I&#39;m getting the error `Failed to launch JVM` when running the file. What is more weird is that I tried the same command (I keep a file with all the commands for easier use in future) for an older project that I know it was working because a few days ago I made it, and I&#39;m now getting the same error.\r\n\r\nThe only change that I can think of is that I switched from Windows 10 to Windows 11, but Eclipse is running fine, as well as all my developing tools, and all the other programs that I made in the past (which they should, as all the required files are local to the their folder, the way `jpackage` works).\r\n\r\nWhen running the command I&#39;m not getting any errors, the `.exe` file is created and the installation doesn&#39;t have any problems.\r\n\r\nWhat can be the cause of it and what should I do? I&#39;ve seen a different thread and someone suggested to that person to use `--win-console` and to tell what he sees if anything, but if I use that instead of `--win-menu`, a terminal window is opened and closes without any output inside it.\r\n\r\n```\r\njpackage -t exe --name &quot;Exe Name&quot;\r\n--vendor &quot;Vendor Name&quot;\r\n--app-version 1.0\r\n--input &quot;Location of the jar file&quot;\r\n--dest &quot;Where the exe for installation to be placed, I normally use same as jar for organization reason&quot;\r\n--main-jar &quot;Jar Name.jar&quot;\r\n--icon &quot;Location of the icon file.ico&quot;\r\n--module-path &quot;Where the jmods are located, downloaded from https://openjfx.io&quot;\r\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web --win-shortcut --win-menu\r\n```","title":"Failed to launch JVM after using jpackage to create exe","body":"<p>After creating the <code>.exe</code> file using the command <code>jpackage</code>, I'm getting the error <code>Failed to launch JVM</code> when running the file. What is more weird is that I tried the same command (I keep a file with all the commands for easier use in future) for an older project that I know it was working because a few days ago I made it, and I'm now getting the same error.</p>\n<p>The only change that I can think of is that I switched from Windows 10 to Windows 11, but Eclipse is running fine, as well as all my developing tools, and all the other programs that I made in the past (which they should, as all the required files are local to the their folder, the way <code>jpackage</code> works).</p>\n<p>When running the command I'm not getting any errors, the <code>.exe</code> file is created and the installation doesn't have any problems.</p>\n<p>What can be the cause of it and what should I do? I've seen a different thread and someone suggested to that person to use <code>--win-console</code> and to tell what he sees if anything, but if I use that instead of <code>--win-menu</code>, a terminal window is opened and closes without any output inside it.</p>\n<pre><code>jpackage -t exe --name &quot;Exe Name&quot;\n--vendor &quot;Vendor Name&quot;\n--app-version 1.0\n--input &quot;Location of the jar file&quot;\n--dest &quot;Where the exe for installation to be placed, I normally use same as jar for organization reason&quot;\n--main-jar &quot;Jar Name.jar&quot;\n--icon &quot;Location of the icon file.ico&quot;\n--module-path &quot;Where the jmods are located, downloaded from https://openjfx.io&quot;\n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web --win-shortcut --win-menu\n</code></pre>\n"},{"tags":["java","if-statement","variables","switch-statement"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1690647198,"post_id":76794401,"comment_id":135384134,"body_markdown":"In the `switch` code you don&#39;t use `totalBill`.  Try including the last line from the `if` code: `System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);`","body":"In the <code>switch</code> code you don&#39;t use <code>totalBill</code>.  Try including the last line from the <code>if</code> code: <code>System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);</code>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690647604,"post_id":76794401,"comment_id":135384175,"body_markdown":"It wouldn&#39;t make a difference - the &#39;default&#39; returns. So any path that gets you past the switch statement has executed an assignment to totalBill.","body":"It wouldn&#39;t make a difference - the &#39;default&#39; returns. So any path that gets you past the switch statement has executed an assignment to totalBill."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1690647937,"post_id":76794401,"comment_id":135384206,"body_markdown":"Add a `return;` to your last `else` (where you have `System.out.print(&quot;Invalid input.&quot;);` -- notice your `default` in the `switch` version does not `break`. It `return`s) and then your two methods would be equivalent and you can just do `double totalBill;`","body":"Add a <code>return;</code> to your last <code>else</code> (where you have <code>System.out.print(&quot;Invalid input.&quot;);</code> -- notice your <code>default</code> in the <code>switch</code> version does not <code>break</code>. It <code>return</code>s) and then your two methods would be equivalent and you can just do <code>double totalBill;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690647324,"creation_date":1690647324,"answer_id":76794428,"question_id":76794401,"body_markdown":"The last `printf` possible encountered an ininitialized variable. If instead of the `return` you do a `break` in the default, you would encountered the same problem.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>The last <code>printf</code> possible encountered an ininitialized variable. If instead of the <code>return</code> you do a <code>break</code> in the default, you would encountered the same problem.</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690647707,"creation_date":1690647365,"answer_id":76794433,"question_id":76794401,"body_markdown":"There is a path through your &#39;if-else&#39; code where you attempt to print out the value of &#39;totalBill&#39;, which was never assigned to. That&#39;s the path when you execute the final &#39;else&#39; clause.\r\n\r\nThere is no such path in the &#39;switch&#39; code. Either you assign a value, or else you return from the &#39;default&#39; case before any (not shown) printing of the total.\r\n\r\nThus, the two implementations are not equivalent. Only you know which one has the intended behaviour.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>There is a path through your 'if-else' code where you attempt to print out the value of 'totalBill', which was never assigned to. That's the path when you execute the final 'else' clause.</p>\n<p>There is no such path in the 'switch' code. Either you assign a value, or else you return from the 'default' case before any (not shown) printing of the total.</p>\n<p>Thus, the two implementations are not equivalent. Only you know which one has the intended behaviour.</p>\n"},{"tags":[],"owner":{"account_id":20852723,"reputation":1,"user_id":15316874,"display_name":"Glauber Faria"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690647665,"creation_date":1690647665,"answer_id":76794449,"question_id":76794401,"body_markdown":"\r\nHere you have an error accused by the compiler, where the problem itself is in the instruction &quot;System.out.printf(&quot;Your bill is $%.2f%n&quot;,totalBill);&quot; which the second program does not have, when trying to add this to the second program you will get the same error.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>Here you have an error accused by the compiler, where the problem itself is in the instruction &quot;System.out.printf(&quot;Your bill is $%.2f%n&quot;,totalBill);&quot; which the second program does not have, when trying to add this to the second program you will get the same error.</p>\n"}],"owner":{"account_id":29118159,"reputation":1,"user_id":22306398,"display_name":"hi hi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1690656643,"answer_count":3,"score":-3,"last_activity_date":1690647707,"creation_date":1690646787,"question_id":76794401,"body_markdown":"So I wrote two programs that do the same thing. One of them uses if-else, while the other uses switch-case.\r\n\r\n```\r\npublic static void calcBill(String userChoice, int userMinute){\r\n        double PackageArate = 39.99;\r\n        double PackageBrate = 59.99;\r\n        double PackageCrate = 69.99;\r\n\r\n        int PackageAmins = 450;\r\n        int PackageBmins = 900;\r\n\r\n        double totalBill = 0.0;\r\n\r\n        if(userChoice.equals(&quot;A&quot;)){\r\n            if(userMinute &gt; PackageAmins){\r\n                int extraMins = userMinute - PackageAmins;\r\n                totalBill = PackageArate + (extraMins * 0.45);\r\n            } else {\r\n                totalBill = PackageArate;\r\n            }\r\n        } else if (userChoice.equals(&quot;B&quot;)){\r\n            if(userMinute &gt; PackageBmins){\r\n                int extraMins = userMinute - PackageBmins;\r\n                totalBill = PackageBrate + (extraMins * 0.40);\r\n            } else{\r\n                totalBill = PackageBrate;\r\n            }\r\n        } else if(userChoice.equals(&quot;C&quot;)){\r\n            totalBill = PackageCrate;\r\n        } else{\r\n            System.out.print(&quot;Invalid input.&quot;);\r\n        }\r\n        System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n    public static void calcBill(String packageChoice, int minutes){\r\n        double packageArate = 39.99;\r\n        double packageBrate = 59.99;\r\n        double packageCrate = 69.99;\r\n        \r\n        int packageAmins = 450;\r\n        int packageBmins = 900;\r\n        \r\n        double totalBill;\r\n        \r\n        switch(packageChoice){\r\n            case &quot;A&quot;:\r\n                if(minutes &gt; packageAmins){\r\n                    int extraMinutes = minutes - packageAmins;\r\n                    totalBill = packageArate + (extraMinutes * 0.45);\r\n                } \r\n                else{\r\n                    totalBill = packageArate;\r\n                }\r\n                break;\r\n            case &quot;B&quot;:\r\n                if(minutes &gt; packageBmins){\r\n                    int extraMinutes = minutes - packageBmins;\r\n                    totalBill = packageArate + (extraMinutes * 0.40);\r\n                } \r\n                else{\r\n                    totalBill = packageBrate;\r\n                }\r\n                break;\r\n            case &quot;C&quot;:\r\n                totalBill = packageCrate;\r\n                break;\r\n            default:\r\n                System.out.print(&quot;Invalid choice.&quot;);\r\n                return;\r\n            \r\n        }\r\n```\r\n\r\nWhy do I need to initialize a value for totalBill when using if-else but not switch-case.\r\n\r\n\r\nWhen I tried to not initialize a value for totalBill in the if-else, I got an error saying that the variable was not initialized.","title":"Why do I need to initialize a value for totalBill when using if else statement but not when using switch case","body":"<p>So I wrote two programs that do the same thing. One of them uses if-else, while the other uses switch-case.</p>\n<pre><code>public static void calcBill(String userChoice, int userMinute){\n        double PackageArate = 39.99;\n        double PackageBrate = 59.99;\n        double PackageCrate = 69.99;\n\n        int PackageAmins = 450;\n        int PackageBmins = 900;\n\n        double totalBill = 0.0;\n\n        if(userChoice.equals(&quot;A&quot;)){\n            if(userMinute &gt; PackageAmins){\n                int extraMins = userMinute - PackageAmins;\n                totalBill = PackageArate + (extraMins * 0.45);\n            } else {\n                totalBill = PackageArate;\n            }\n        } else if (userChoice.equals(&quot;B&quot;)){\n            if(userMinute &gt; PackageBmins){\n                int extraMins = userMinute - PackageBmins;\n                totalBill = PackageBrate + (extraMins * 0.40);\n            } else{\n                totalBill = PackageBrate;\n            }\n        } else if(userChoice.equals(&quot;C&quot;)){\n            totalBill = PackageCrate;\n        } else{\n            System.out.print(&quot;Invalid input.&quot;);\n        }\n        System.out.printf(&quot;Your bill is $%.2f%n&quot;, totalBill);\n    }\n</code></pre>\n<pre><code>    public static void calcBill(String packageChoice, int minutes){\n        double packageArate = 39.99;\n        double packageBrate = 59.99;\n        double packageCrate = 69.99;\n        \n        int packageAmins = 450;\n        int packageBmins = 900;\n        \n        double totalBill;\n        \n        switch(packageChoice){\n            case &quot;A&quot;:\n                if(minutes &gt; packageAmins){\n                    int extraMinutes = minutes - packageAmins;\n                    totalBill = packageArate + (extraMinutes * 0.45);\n                } \n                else{\n                    totalBill = packageArate;\n                }\n                break;\n            case &quot;B&quot;:\n                if(minutes &gt; packageBmins){\n                    int extraMinutes = minutes - packageBmins;\n                    totalBill = packageArate + (extraMinutes * 0.40);\n                } \n                else{\n                    totalBill = packageBrate;\n                }\n                break;\n            case &quot;C&quot;:\n                totalBill = packageCrate;\n                break;\n            default:\n                System.out.print(&quot;Invalid choice.&quot;);\n                return;\n            \n        }\n</code></pre>\n<p>Why do I need to initialize a value for totalBill when using if-else but not switch-case.</p>\n<p>When I tried to not initialize a value for totalBill in the if-else, I got an error saying that the variable was not initialized.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-devtools"],"comments":[{"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"score":0,"creation_date":1536050393,"post_id":52162041,"comment_id":91273818,"body_markdown":"Make sure you **didn&#39;t** override the defaults somewhere in your conf using the property: `spring.devtools.restart.exclude`","body":"Make sure you <b>didn&#39;t</b> override the defaults somewhere in your conf using the property: <code>spring.devtools.restart.exclude</code>"},{"owner":{"account_id":11148437,"reputation":913,"user_id":8182452,"accept_rate":64,"display_name":"karen"},"score":2,"creation_date":1536050533,"post_id":52162041,"comment_id":91273908,"body_markdown":"Are you using Maven or Gradle?  If so, can you provide the pom.xml or build.gradle files for these?","body":"Are you using Maven or Gradle?  If so, can you provide the pom.xml or build.gradle files for these?"},{"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"score":0,"creation_date":1536057588,"post_id":52162041,"comment_id":91278149,"body_markdown":"@karen Sure thing. Added pom.xml and application.properties.","body":"@karen Sure thing. Added pom.xml and application.properties."}],"answers":[{"tags":[],"owner":{"account_id":4369724,"reputation":1687,"user_id":3564455,"display_name":"the hand of NOD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536052173,"creation_date":1536052173,"answer_id":52162759,"question_id":52162041,"body_markdown":"Did you also read the chapter for the &quot;LiveReload&quot;?\r\nYou&#39;ll need to make sure that your LiveReload Server is started from the SpringBoot-Devtools. You can also use the browser plugin from [LiveReload.com][1].\r\nOr you could use the Plugin from the [Chrome Web Store][2].\r\nSee Chapter [LiveReload][3] for more details.\r\n\r\n\r\n  [1]: http://livereload.com/\r\n  [2]: https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-livereload","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>Did you also read the chapter for the \"LiveReload\"?\nYou'll need to make sure that your LiveReload Server is started from the SpringBoot-Devtools. You can also use the browser plugin from <a href=\"http://livereload.com/\" rel=\"nofollow noreferrer\">LiveReload.com</a>.\nOr you could use the Plugin from the <a href=\"https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei\" rel=\"nofollow noreferrer\">Chrome Web Store</a>.\nSee Chapter <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-livereload\" rel=\"nofollow noreferrer\">LiveReload</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1536066478,"creation_date":1536066478,"answer_id":52167092,"question_id":52162041,"body_markdown":"Finally found the solution. It was much simpler than I thought.\r\n\r\nSince I&#39;m using war packaging I can use webapp&#39;s default behaviour. Everything under source folders trigger a restart, but resources under webapp are fetched at runtime, so there is no need to reload anything.\r\n\r\nI just placed my static content under /webapp/static and then added the resource handler:\r\n\r\n    @Configuration\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n\t    @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;/static/&quot;); \r\n        }\r\n    }\r\n\r\nJust don&#39;t use the default Spring Boot placement for statics (basically anything under resources) and you&#39;ll be fine.","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>Finally found the solution. It was much simpler than I thought.</p>\n\n<p>Since I'm using war packaging I can use webapp's default behaviour. Everything under source folders trigger a restart, but resources under webapp are fetched at runtime, so there is no need to reload anything.</p>\n\n<p>I just placed my static content under /webapp/static and then added the resource handler:</p>\n\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/static/**\").addResourceLocations(\"/static/\"); \n    }\n}\n</code></pre>\n\n<p>Just don't use the default Spring Boot placement for statics (basically anything under resources) and you'll be fine.</p>\n"}],"owner":{"account_id":2642912,"reputation":41,"user_id":2286215,"display_name":"Ricardo Fern&#225;ndez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52167092,"answer_count":2,"score":2,"last_activity_date":1690645784,"creation_date":1536049843,"question_id":52162041,"body_markdown":"In my `Spring Boot` project I have the following structure:\r\n\r\n    - src\r\n      - main\r\n        - java\r\n        - resources\r\n          - static\r\n            - css\r\n            - js\r\n            - img\r\n        - webapp\r\n          - WEB-INF\r\n              - views\r\n\r\nAccording with the documentation at [Excluding Resources](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.restart.excluding-resources), resources inside `static/` should trigger a _reload_, but instead whenever I save a file inside `css/` or `js/` a full restart is triggered.\r\n\r\nI&#39;m using `Spring Boot` **2.0.4** including `spring-boot-devtools` (default configuration) and `spring-boot-starter-security` with Eclipse Oxygen and Tomcat 8.5\r\n\r\nPackaging type is **war** since I have to deploy to a shared container and views are created using **jsp**.\r\n\r\nAny help will be greatly appreciated.\r\n\r\nRelevant files:\r\n\r\npom.xml:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1-b03&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\napplication.properties:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/views/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n    #spring.jpa.show-sql=true\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n    spring.jpa.open-in-view=false\r\n","title":"Spring Boot triggers full restart instead of reload on changes over static files","body":"<p>In my <code>Spring Boot</code> project I have the following structure:</p>\n<pre><code>- src\n  - main\n    - java\n    - resources\n      - static\n        - css\n        - js\n        - img\n    - webapp\n      - WEB-INF\n          - views\n</code></pre>\n<p>According with the documentation at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.restart.excluding-resources\" rel=\"nofollow noreferrer\">Excluding Resources</a>, resources inside <code>static/</code> should trigger a <em>reload</em>, but instead whenever I save a file inside <code>css/</code> or <code>js/</code> a full restart is triggered.</p>\n<p>I'm using <code>Spring Boot</code> <strong>2.0.4</strong> including <code>spring-boot-devtools</code> (default configuration) and <code>spring-boot-starter-security</code> with Eclipse Oxygen and Tomcat 8.5</p>\n<p>Packaging type is <strong>war</strong> since I have to deploy to a shared container and views are created using <strong>jsp</strong>.</p>\n<p>Any help will be greatly appreciated.</p>\n<p>Relevant files:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1-b03&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n\n#spring.jpa.show-sql=true\n\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2008Dialect\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.open-in-view=false\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":7,"creation_date":1425191866,"post_id":28790784,"comment_id":45856870,"body_markdown":"@Sliver2009 No it&#39;s not.","body":"@Sliver2009 No it&#39;s not."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1425191903,"post_id":28790784,"comment_id":45856879,"body_markdown":"@Florian You&#39;ve to use `AtomicInteger` here.","body":"@Florian You&#39;ve to use <code>AtomicInteger</code> here."}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1484916079,"creation_date":1425200562,"answer_id":28791769,"question_id":28790784,"body_markdown":"Let me reformat your example a bit for the sake of discussion:\r\n\r\n    long runCount = 0L;\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount++; // doesn&#39;t work\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\nIf you *really* need to increment a counter from within a lambda, the typical way to do so is to make the counter an `AtomicInteger` or `AtomicLong` and then call one of the increment methods on it.\r\n\r\nYou could use a single-element `int` or `long` array, but that would have race conditions if the stream is run in parallel.\r\n\r\nBut notice that the stream ends in `forEach`, which means that there is no return value. You could change the `forEach` to a `peek`, which passes the items through, and then count them:\r\n\r\n    long runCount = myStream.stream()\r\n        .filter(...)\r\n        .peek(item -&gt; { \r\n            foo();\r\n            bar();\r\n        })\r\n        .count();\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\nThis is somewhat better, but still a bit odd. The reason is that `forEach` and `peek` can only do their work via side effects. The emerging functional style of Java 8 is to avoid side effects. We did a little of that by extracting the increment of the counter into a `count` operation on the stream. Other typical side effects are adding items to collections. Usually these can be replaced via use of collectors. But without knowing what actual work you&#39;re trying to do, I can&#39;t suggest anything more specific.\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Let me reformat your example a bit for the sake of discussion:</p>\n\n<pre><code>long runCount = 0L;\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        runCount++; // doesn't work\n    });\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n\n<p>If you <em>really</em> need to increment a counter from within a lambda, the typical way to do so is to make the counter an <code>AtomicInteger</code> or <code>AtomicLong</code> and then call one of the increment methods on it.</p>\n\n<p>You could use a single-element <code>int</code> or <code>long</code> array, but that would have race conditions if the stream is run in parallel.</p>\n\n<p>But notice that the stream ends in <code>forEach</code>, which means that there is no return value. You could change the <code>forEach</code> to a <code>peek</code>, which passes the items through, and then count them:</p>\n\n<pre><code>long runCount = myStream.stream()\n    .filter(...)\n    .peek(item -&gt; { \n        foo();\n        bar();\n    })\n    .count();\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n\n<p>This is somewhat better, but still a bit odd. The reason is that <code>forEach</code> and <code>peek</code> can only do their work via side effects. The emerging functional style of Java 8 is to avoid side effects. We did a little of that by extracting the increment of the counter into a <code>count</code> operation on the stream. Other typical side effects are adding items to collections. Usually these can be replaced via use of collectors. But without knowing what actual work you're trying to do, I can't suggest anything more specific.</p>\n"},{"tags":[],"owner":{"account_id":8087657,"reputation":265,"user_id":6094696,"display_name":"Leandruz"},"down_vote_count":13,"up_vote_count":29,"is_accepted":false,"score":16,"last_activity_date":1538461296,"creation_date":1458578490,"answer_id":36136863,"question_id":28790784,"body_markdown":"    AtomicInteger runCount = 0L;\r\n    long runCount = myStream.stream()\r\n        .filter(...)\r\n        .peek(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount.incrementAndGet();\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount.incrementAndGet() + &quot;times&quot;);","title":"Java 8: preferred way to count iterations of a lambda?","body":"<pre><code>AtomicInteger runCount = 0L;\nlong runCount = myStream.stream()\n    .filter(...)\n    .peek(item -&gt; { \n        foo();\n        bar();\n        runCount.incrementAndGet();\n    });\nSystem.out.println(\"The lambda ran \" + runCount.incrementAndGet() + \"times\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5352990,"reputation":599,"user_id":4266596,"display_name":"Duke Spray"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1472464534,"creation_date":1472464534,"answer_id":39203373,"question_id":28790784,"body_markdown":"As an alternative to sync hassling AtomicInteger one could use an **integer array** instead. As long as the **reference to the array does not get another array assigned** (and that&#39;s the point) it can be used as a **final** variable while the **values** of the fields **can change** arbitrarily.\r\n\r\n\t\tint[] iarr = {0}; // final not neccessary here if no other array is assigned\r\n\t\tstringList.forEach(item -&gt; {\r\n\t\t\t\tiarr[0]++;\r\n                // iarr = {1}; Error if iarr gets other array assigned\r\n\t\t});","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>As an alternative to sync hassling AtomicInteger one could use an <strong>integer array</strong> instead. As long as the <strong>reference to the array does not get another array assigned</strong> (and that's the point) it can be used as a <strong>final</strong> variable while the <strong>values</strong> of the fields <strong>can change</strong> arbitrarily.</p>\n\n<pre><code>    int[] iarr = {0}; // final not neccessary here if no other array is assigned\n    stringList.forEach(item -&gt; {\n            iarr[0]++;\n            // iarr = {1}; Error if iarr gets other array assigned\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8081374,"reputation":104,"user_id":6090461,"display_name":"A. D."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1518574188,"creation_date":1518574188,"answer_id":48778625,"question_id":28790784,"body_markdown":"Another way of doing this (useful if you&#39;d like your count to only be incremented in some cases, like if an operation was successful) is something like this, using `mapToInt()` and `sum()`: \r\n\r\n    int count = myStream.stream()\r\n        .filter(...)\r\n        .mapToInt(item -&gt; { \r\n            foo();\r\n            if (bar()){\r\n               return 1;\r\n            } else {\r\n               return 0;\r\n        })\r\n        .sum();\r\n    System.out.println(&quot;The lambda ran &quot; + count + &quot;times&quot;);\r\nAs Stuart Marks noted, this is still somewhat odd, because it&#39;s not completely avoiding side effects (depending on what `foo()` and `bar()` are doing).\r\n\r\nAnd another way of incrementing a variable in a lambda that&#39;s accessible outside of it is to use a class variable:\r\n\r\n    public class MyClass {\r\n        private int myCount;\r\n        \r\n        // Constructor, other methods here\r\n\r\n        void myMethod(){\r\n            // does something to get myStream\r\n            myCount = 0;\r\n            myStream.stream()\r\n                .filter(...)\r\n                .forEach(item-&gt;{\r\n                   foo(); \r\n                   myCount++;\r\n            });\r\n        }\r\n    }\r\nIn this example, using a class variable for a counter in one method probably doesn&#39;t make sense, so I&#39;d caution against it unless there&#39;s a good reason to. Keeping class variables `final` if possible can be helpful in terms of thread safety, etc (see http://www.javapractices.com/topic/TopicAction.do?Id=23 for a discussion on using `final`). \r\n\r\nTo get a better idea of why lambdas work the way they do, https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood has a detailed look.","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Another way of doing this (useful if you'd like your count to only be incremented in some cases, like if an operation was successful) is something like this, using <code>mapToInt()</code> and <code>sum()</code>: </p>\n\n<pre><code>int count = myStream.stream()\n    .filter(...)\n    .mapToInt(item -&gt; { \n        foo();\n        if (bar()){\n           return 1;\n        } else {\n           return 0;\n    })\n    .sum();\nSystem.out.println(\"The lambda ran \" + count + \"times\");\n</code></pre>\n\n<p>As Stuart Marks noted, this is still somewhat odd, because it's not completely avoiding side effects (depending on what <code>foo()</code> and <code>bar()</code> are doing).</p>\n\n<p>And another way of incrementing a variable in a lambda that's accessible outside of it is to use a class variable:</p>\n\n<pre><code>public class MyClass {\n    private int myCount;\n\n    // Constructor, other methods here\n\n    void myMethod(){\n        // does something to get myStream\n        myCount = 0;\n        myStream.stream()\n            .filter(...)\n            .forEach(item-&gt;{\n               foo(); \n               myCount++;\n        });\n    }\n}\n</code></pre>\n\n<p>In this example, using a class variable for a counter in one method probably doesn't make sense, so I'd caution against it unless there's a good reason to. Keeping class variables <code>final</code> if possible can be helpful in terms of thread safety, etc (see <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=23\" rel=\"nofollow noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=23</a> for a discussion on using <code>final</code>). </p>\n\n<p>To get a better idea of why lambdas work the way they do, <a href=\"https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood\" rel=\"nofollow noreferrer\">https://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood</a> has a detailed look.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1518575052,"creation_date":1518575052,"answer_id":48778719,"question_id":28790784,"body_markdown":"If you don&#39;t want to create a field because you only need it locally, you can store it in an anonymous class:\r\n\r\n    int runCount = new Object() {\r\n        int runCount = 0;\r\n        {\r\n            myStream.stream()\r\n                    .filter(...)\r\n                    .peek(x -&gt; runCount++)\r\n                    .forEach(...);\r\n        }\r\n    }.runCount;\r\n\r\nWeird, I know. But it does keep the temporary variable out of even local scope.","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>If you don't want to create a field because you only need it locally, you can store it in an anonymous class:</p>\n\n<pre><code>int runCount = new Object() {\n    int runCount = 0;\n    {\n        myStream.stream()\n                .filter(...)\n                .peek(x -&gt; runCount++)\n                .forEach(...);\n    }\n}.runCount;\n</code></pre>\n\n<p>Weird, I know. But it does keep the temporary variable out of even local scope.</p>\n"},{"tags":[],"owner":{"account_id":15367022,"reputation":514,"user_id":11086231,"display_name":"Jos&#233; Ripoll"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1609796308,"creation_date":1562886586,"answer_id":56998364,"question_id":28790784,"body_markdown":"For me, this did the trick, hopefully someone finds it useful:\r\n\r\n    AtomicInteger runCount = new AtomicInteger(0);\r\n    myStream.stream().filter(...).forEach(item -&gt; runCount.getAndIncrement());\r\n    System.out.println(&quot;The lambda ran &quot; + runCount.get() + &quot;times&quot;);\r\n\r\n`getAndIncrement()` Java documentation states :\r\n\r\n&gt; Atomically increments the current value, with memory effects as\r\n&gt; specified by VarHandle.getAndAdd. Equivalent to getAndAdd(1).","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>For me, this did the trick, hopefully someone finds it useful:</p>\n<pre><code>AtomicInteger runCount = new AtomicInteger(0);\nmyStream.stream().filter(...).forEach(item -&gt; runCount.getAndIncrement());\nSystem.out.println(&quot;The lambda ran &quot; + runCount.get() + &quot;times&quot;);\n</code></pre>\n<p><code>getAndIncrement()</code> Java documentation states :</p>\n<blockquote>\n<p>Atomically increments the current value, with memory effects as\nspecified by VarHandle.getAndAdd. Equivalent to getAndAdd(1).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14832450,"reputation":51,"user_id":10711572,"display_name":"yao.qingdong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564653738,"creation_date":1564653738,"answer_id":57306533,"question_id":28790784,"body_markdown":"reduce also works,you can use it like this\r\n```\r\nmyStream.stream().filter(...).reduce((item, sum) -&gt; sum += item);\r\n```","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>reduce also works,you can use it like this</p>\n\n<pre><code>myStream.stream().filter(...).reduce((item, sum) -&gt; sum += item);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13028763,"reputation":346,"user_id":9415841,"display_name":"Ahmet Orhan"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1565182899,"creation_date":1565182506,"answer_id":57395001,"question_id":28790784,"body_markdown":"You **shouldn&#39;t** use AtomicInteger, you shouldn&#39;t use things unless you have a really good reason to use. And the reason for using AtomicInteger might be only allowing concurrent accesses or such as.  \r\n\r\n\r\n**When it comes to your problem;** \r\n\r\nHolder&lt;T&gt; can be use for holding and incrementing it inside a lambda. And after you can get it by calling runCount.value\r\n  \r\n    Holder&lt;Integer&gt; runCount = new Holder&lt;&gt;(0);\r\n\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            runCount.value++; // now it&#39;s work fine!\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot; times&quot;);\r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>You <strong>shouldn't</strong> use AtomicInteger, you shouldn't use things unless you have a really good reason to use. And the reason for using AtomicInteger might be only allowing concurrent accesses or such as.  </p>\n\n<p><strong>When it comes to your problem;</strong> </p>\n\n<p>Holder can be use for holding and incrementing it inside a lambda. And after you can get it by calling runCount.value</p>\n\n<pre><code>Holder&lt;Integer&gt; runCount = new Holder&lt;&gt;(0);\n\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        runCount.value++; // now it's work fine!\n    });\nSystem.out.println(\"The lambda ran \" + runCount + \" times\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769570,"reputation":1588,"user_id":1614680,"display_name":"tsunllly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568049912,"creation_date":1568049912,"answer_id":57858603,"question_id":28790784,"body_markdown":"    AtomicInteger runCount = new AtomicInteger(0);\r\n\r\n    elements.stream()\r\n      //...\r\n      .peek(runCount.incrementAndGet())\r\n      .collect(Collectors.toList());\r\n\r\n    // runCount.get() should have the num of times lambda code was executed","title":"Java 8: preferred way to count iterations of a lambda?","body":"<pre><code>AtomicInteger runCount = new AtomicInteger(0);\n\nelements.stream()\n  //...\n  .peek(runCount.incrementAndGet())\n  .collect(Collectors.toList());\n\n// runCount.get() should have the num of times lambda code was executed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12938628,"reputation":111,"user_id":9355169,"display_name":"Vojtěch Fried"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589984655,"creation_date":1589984655,"answer_id":61915567,"question_id":28790784,"body_markdown":"Another alternative is to use apache commons MutableInt.\r\n\r\n    MutableInt cnt = new MutableInt(0);\r\n    myStream.stream()\r\n        .filter(...)\r\n        .forEach(item -&gt; { \r\n            foo();\r\n            bar();\r\n            cnt.increment();\r\n        });\r\n    System.out.println(&quot;The lambda ran &quot; + cnt.getValue() + &quot; times&quot;);","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>Another alternative is to use apache commons MutableInt.</p>\n\n<pre><code>MutableInt cnt = new MutableInt(0);\nmyStream.stream()\n    .filter(...)\n    .forEach(item -&gt; { \n        foo();\n        bar();\n        cnt.increment();\n    });\nSystem.out.println(\"The lambda ran \" + cnt.getValue() + \" times\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611189304,"creation_date":1610998307,"answer_id":65780941,"question_id":28790784,"body_markdown":"An `enum` can be used, too. Especially if you have more than one counter in an iteration:\r\n````lang-java\r\nimport java.util.Arrays;\r\n\r\nclass LambdaCounter {\r\n\r\n\tenum CountOf {\r\n\r\n\t\tNO,\r\n\t\tOK,\r\n\t\tERROR;\r\n\r\n\t\tprivate int count;\r\n\r\n\t\t// can be named inc(), instead of the Greek capital Delta,\r\n\t\t// which stands for the math increment operator &#39;∆&#39; &lt;https://en.wikipedia.org/wiki/%E2%88%86&gt;\r\n\t\tsynchronized int Δ( final int... times ) {\r\n\r\n\t\t\tif ( times.length &lt;= 0 )\r\n\t\t\t\treturn ++count; // increase by 1\r\n\r\n\t\t\treturn count += Arrays.stream( times ).sum(); // increase by arguments\r\n\t\t}\r\n\r\n\t\t// can be named val[ue](), instead of the Greek capital Xi,\r\n\t\t// which stands for the math identity operator &#39;≡&#39; &lt;https://en.wikipedia.org/wiki/Triple_bar&gt;\r\n\t\tint Ξ() {\r\n\t\t\treturn count;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main( final String[] args ) {\r\n\r\n\t\tArrays.stream( new int[] { 1, 2, 3, 4, 5, 6, 7 } )\r\n\t\t    .forEach( i -&gt; {\r\n\t\t\t    CountOf.NO.Δ();\r\n\t\t\t    @SuppressWarnings( &quot;unused&quot; )\r\n\t\t\t    final int LHS_DUMMY =\r\n\t\t\t        i % 2 == 0\r\n\t\t\t            ? CountOf.OK.Δ()\r\n\t\t\t            : CountOf.ERROR.Δ();\r\n\t\t    } );\r\n\t\tSystem.out.printf( &quot;No: %d, OK: %d, Error: %d, Error.inc(38): %d, Error.inc(4, 4): %d%n&quot;,\r\n\t\t    CountOf.NO.Ξ(), CountOf.OK.Ξ(), CountOf.ERROR.Ξ(), CountOf.ERROR.Δ( 38 ), CountOf.ERROR.Δ( 4, 4 ) );\r\n\r\n\t\t// Output:\r\n\t\t// No: 7, OK: 3, Error: 4, Error.inc(38): 42, Error.inc(4, 4): 50\r\n\t}\r\n}","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>An <code>enum</code> can be used, too. Especially if you have more than one counter in an iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass LambdaCounter {\n\n    enum CountOf {\n\n        NO,\n        OK,\n        ERROR;\n\n        private int count;\n\n        // can be named inc(), instead of the Greek capital Delta,\n        // which stands for the math increment operator '∆' &lt;https://en.wikipedia.org/wiki/%E2%88%86&gt;\n        synchronized int Δ( final int... times ) {\n\n            if ( times.length &lt;= 0 )\n                return ++count; // increase by 1\n\n            return count += Arrays.stream( times ).sum(); // increase by arguments\n        }\n\n        // can be named val[ue](), instead of the Greek capital Xi,\n        // which stands for the math identity operator '≡' &lt;https://en.wikipedia.org/wiki/Triple_bar&gt;\n        int Ξ() {\n            return count;\n        }\n    }\n\n    public static void main( final String[] args ) {\n\n        Arrays.stream( new int[] { 1, 2, 3, 4, 5, 6, 7 } )\n            .forEach( i -&gt; {\n                CountOf.NO.Δ();\n                @SuppressWarnings( &quot;unused&quot; )\n                final int LHS_DUMMY =\n                    i % 2 == 0\n                        ? CountOf.OK.Δ()\n                        : CountOf.ERROR.Δ();\n            } );\n        System.out.printf( &quot;No: %d, OK: %d, Error: %d, Error.inc(38): %d, Error.inc(4, 4): %d%n&quot;,\n            CountOf.NO.Ξ(), CountOf.OK.Ξ(), CountOf.ERROR.Ξ(), CountOf.ERROR.Δ( 38 ), CountOf.ERROR.Δ( 4, 4 ) );\n\n        // Output:\n        // No: 7, OK: 3, Error: 4, Error.inc(38): 42, Error.inc(4, 4): 50\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13532828,"reputation":51,"user_id":9762778,"display_name":"xhaggi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690645485,"creation_date":1616745624,"answer_id":66813006,"question_id":28790784,"body_markdown":"For me, this is the most elegant way.\r\n\r\n    long count = list.stream()\r\n      .peek(/* do your stuff here */)\r\n      .count();\r\n\r\nThere is a bug in JDK 9,10 that prevents the above solution from working, but you can work around it as follows.\r\nhttps://bugs.openjdk.java.net/browse/JDK-8198356\r\n\r\n    long count = list.stream()\r\n      .peek(/* do your stuff here */)\r\n      .collect(Collectors.counting());\r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>For me, this is the most elegant way.</p>\n<pre><code>long count = list.stream()\n  .peek(/* do your stuff here */)\n  .count();\n</code></pre>\n<p>There is a bug in JDK 9,10 that prevents the above solution from working, but you can work around it as follows.\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8198356\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8198356</a></p>\n<pre><code>long count = list.stream()\n  .peek(/* do your stuff here */)\n  .collect(Collectors.counting());\n</code></pre>\n"}],"owner":{"display_name":"user4159962"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117776,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"answer_count":12,"score":113,"last_activity_date":1690645485,"creation_date":1425191082,"question_id":28790784,"body_markdown":"I face the same problem often. I need to count the runs of a *lambda* for use outside the *lambda*.\r\n\r\nE.g.:\r\n\r\n    myStream.stream().filter(...).forEach(item -&gt; { ... ; runCount++});\r\n    System.out.println(&quot;The lambda ran &quot; + runCount + &quot;times&quot;);\r\n\r\nThe issue is that *runCount* needs to be `final`, so it cannot be an `int`. It cannot be an `Integer` because that&#39;s *immutable*. I could make it class level variable (i.e. a field) but I&#39;ll only need it in this block of code.\r\n\r\nI know there are various ways, I&#39;m just curious what is your preferred solution for this?  \r\nDo you use an `AtomicInteger` or an array reference or some other way?  \r\n\r\n","title":"Java 8: preferred way to count iterations of a lambda?","body":"<p>I face the same problem often. I need to count the runs of a <em>lambda</em> for use outside the <em>lambda</em>.</p>\n<p>E.g.:</p>\n<pre><code>myStream.stream().filter(...).forEach(item -&gt; { ... ; runCount++});\nSystem.out.println(&quot;The lambda ran &quot; + runCount + &quot;times&quot;);\n</code></pre>\n<p>The issue is that <em>runCount</em> needs to be <code>final</code>, so it cannot be an <code>int</code>. It cannot be an <code>Integer</code> because that's <em>immutable</em>. I could make it class level variable (i.e. a field) but I'll only need it in this block of code.</p>\n<p>I know there are various ways, I'm just curious what is your preferred solution for this?<br />\nDo you use an <code>AtomicInteger</code> or an array reference or some other way?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1690644550,"creation_date":1623183072,"answer_id":67893986,"question_id":67893857,"body_markdown":"The correct property for exposing actuator urls over http is `management.endpoints.web.​exposure.include` (`web` instead of `jmx`).\r\n\r\nIn your case, `info` was exposed earlier not because you had the property you&#39;ve provided but because it was exposed by default (along with `health`). But in **2.5.0** _it becomes hidden_, it according with [Spring Boot 2.5 Release Notes - Secure Info Endpoint][1]. So now you need to expose it manually.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#secure-info-endpoint","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>The correct property for exposing actuator urls over http is <code>management.endpoints.web.​exposure.include</code> (<code>web</code> instead of <code>jmx</code>).</p>\n<p>In your case, <code>info</code> was exposed earlier not because you had the property you've provided but because it was exposed by default (along with <code>health</code>). But in <strong>2.5.0</strong> <em>it becomes hidden</em>, it according with <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#secure-info-endpoint\" rel=\"nofollow noreferrer\">Spring Boot 2.5 Release Notes - Secure Info Endpoint</a>. So now you need to expose it manually.</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1630929124,"creation_date":1630929124,"answer_id":69074091,"question_id":67893857,"body_markdown":"In my case, which was a silly mistake, I had the following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nInstead of:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nSo I kept on getting Whitelabel Error Page 404 Not found on all /actuator calls\r\n\r\nIn application.properties\r\n\r\n    #Actuator\r\n    management.endpoints.jmx.exposure.include=health,info,env,beans\r\n    management.endpoints.web.exposure.include=health,info,env,beans\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>In my case, which was a silly mistake, I had the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Instead of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So I kept on getting Whitelabel Error Page 404 Not found on all /actuator calls</p>\n<p>In application.properties</p>\n<pre><code>#Actuator\nmanagement.endpoints.jmx.exposure.include=health,info,env,beans\nmanagement.endpoints.web.exposure.include=health,info,env,beans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1647712872,"creation_date":1637917143,"answer_id":70121811,"question_id":67893857,"body_markdown":"Add this to application properties to expose the /info endpoint.\r\n\r\n    management.info.env.enabled = true","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>Add this to application properties to expose the /info endpoint.</p>\n<pre><code>management.info.env.enabled = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647289256,"creation_date":1647289256,"answer_id":71473792,"question_id":67893857,"body_markdown":"Here is a basic gradle build (kotlin dsl) to have three default available endpoints for actuator:\r\n\r\ngradle.build.kts\r\n\r\n    build.gradle.kts\r\n        //Global variables\r\n        val junitVersion = &quot;5.8.2&quot;\r\n        val springVersion = &quot;2.6.4&quot;\r\n        val springWebVersion = &quot;5.3.16&quot;\r\n        \r\n        plugins {\r\n            java\r\n            id(&quot;org.springframework.boot&quot;) version &quot;2.6.4&quot;\r\n        \r\n        }\r\n        \r\n        group = &quot;org.example&quot;\r\n        version = &quot;1.0-SNAPSHOT&quot;\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        \r\n        dependencies {\r\n            testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\r\n            testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\r\n        \r\n            //spring boot\r\n            implementation(&quot;org.springframework:spring-web:$springWebVersion&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter-web:$springVersion&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:$springVersion&quot;)\r\n            testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:$springVersion&quot;)\r\n        \r\n        }\r\n        \r\n        tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n            useJUnitPlatform()\r\n        }\r\n\r\n\r\napplication.yml\r\n\r\n    #tomcat\r\n    server:\r\n      port: 7999\r\n    \r\n    #actuator\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,info,env,beans\r\n\r\n\r\ngradlew bootRun:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/16akg.png\r\n\r\n\r\nActuator endpoint, e.g.:\r\n\r\n    http://localhost:7999/actuator/health\r\n\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>Here is a basic gradle build (kotlin dsl) to have three default available endpoints for actuator:</p>\n<p>gradle.build.kts</p>\n<pre><code>build.gradle.kts\n    //Global variables\n    val junitVersion = &quot;5.8.2&quot;\n    val springVersion = &quot;2.6.4&quot;\n    val springWebVersion = &quot;5.3.16&quot;\n    \n    plugins {\n        java\n        id(&quot;org.springframework.boot&quot;) version &quot;2.6.4&quot;\n    \n    }\n    \n    group = &quot;org.example&quot;\n    version = &quot;1.0-SNAPSHOT&quot;\n    \n    repositories {\n        mavenCentral()\n    }\n    \n    dependencies {\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\n    \n        //spring boot\n        implementation(&quot;org.springframework:spring-web:$springWebVersion&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web:$springVersion&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:$springVersion&quot;)\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:$springVersion&quot;)\n    \n    }\n    \n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n</code></pre>\n<p>application.yml</p>\n<pre><code>#tomcat\nserver:\n  port: 7999\n\n#actuator\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,env,beans\n</code></pre>\n<p>gradlew bootRun:</p>\n<p><a href=\"https://i.stack.imgur.com/16akg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/16akg.png\" alt=\"enter image description here\" /></a></p>\n<p>Actuator endpoint, e.g.:</p>\n<pre><code>http://localhost:7999/actuator/health\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661021043,"creation_date":1659334549,"answer_id":73189480,"question_id":67893857,"body_markdown":"You have to enable ```management.info.env.enabled``` ```true``` and you can add any kind of details that you want inside of the property file. like below. and make sure to enable ```info``` for web.exposure. all the configurations are like below. \r\n\r\n\r\n----------\r\n## .properties ##\r\n\r\n```.properties\r\n#enable /actuator/info\r\nmanagement.info.env.enabled=true\r\nmanagement.endpoints.web.exposure.include=info\r\n\r\n#custom properties\r\ninfo.app.name=order-service\r\ninfo.app.version=1.0.0\r\ninfo.app.description=you can insert any kind of data in the property file like this\r\ninfo.author=mafei\r\n```\r\n\r\n## .ymal ##\r\n\r\n```.ymal\r\n#enable /actuator/info\r\nmanagement:\r\n  info:\r\n    env:\r\n      enabled: true\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: info\r\n\r\n#custom properties\r\ninfo:\r\n  app:\r\n    name: order-service\r\n    version: 1.0.0\r\n    description: you can insert any kind of data in the property file like this\r\n  author: mafei\r\n```\r\nYou can see the result here.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nySNc.png","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>You have to enable <code>management.info.env.enabled</code> <code>true</code> and you can add any kind of details that you want inside of the property file. like below. and make sure to enable <code>info</code> for web.exposure. all the configurations are like below.</p>\n<hr />\n<h2>.properties</h2>\n<pre><code>#enable /actuator/info\nmanagement.info.env.enabled=true\nmanagement.endpoints.web.exposure.include=info\n\n#custom properties\ninfo.app.name=order-service\ninfo.app.version=1.0.0\ninfo.app.description=you can insert any kind of data in the property file like this\ninfo.author=mafei\n</code></pre>\n<h2>.ymal</h2>\n<pre><code>#enable /actuator/info\nmanagement:\n  info:\n    env:\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: info\n\n#custom properties\ninfo:\n  app:\n    name: order-service\n    version: 1.0.0\n    description: you can insert any kind of data in the property file like this\n  author: mafei\n</code></pre>\n<p>You can see the result here.</p>\n<p><a href=\"https://i.stack.imgur.com/nySNc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nySNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672775316,"creation_date":1672775316,"answer_id":74998021,"question_id":67893857,"body_markdown":"you need to check many things to be sure to endpoint URL like info, health, and beans...etc by Actuator \r\n\r\n - The First point you must check if the actuator exists on your\r\n   project or not if doesn&#39;t exist, you need to add the following\r\n   dependency.\r\n\r\n            &lt;!--to enable actuator help to trace project--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n - You need to add the following scripts to your application.yml to\r\n   enable the actuator and Prometheus by actuator.\r\n\r\n\r\n\r\n.\r\n\r\n     management:\r\n      security:\r\n        enabled: false\r\n      server:\r\n        port: 9000\r\n      endpoint:\r\n        metrics:\r\n          enabled: true\r\n        prometheus:\r\n          enabled: true\r\n        health:\r\n          show-details: always\r\n          show-components: always\r\n          probes:\r\n            enabled: true\r\n        shutdown:\r\n          enabled: true\r\n        info:\r\n          env:\r\n            enabled: true\r\n          enabled: true\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: prometheus, metrics, info, health, shutdown, beans\r\n\r\nusing the above script the actuator will run on **port 9000** and you can send a request to the following URL to access the actuator.\r\n\r\nhttp://localhost:9000/actuator\r\n\r\n**and the following URL to access info path**\r\n\r\nhttp://localhost:9000/actuator/info\r\n\r\n**Note**: you must check where you are writing your script because I was confused between **endpoint** and **endpoints**\r\n\r\n - The **endpoint** to set the actuator config.\r\n - The **endpoints** to set the actuator **URLs endpoint**\r\n\r\n**Note:** you can delete the port from ``` application.yml``` and the actuator will run by current application port\r\n\r\n**best luck**\r\n\r\n","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>you need to check many things to be sure to endpoint URL like info, health, and beans...etc by Actuator</p>\n<ul>\n<li><p>The First point you must check if the actuator exists on your\nproject or not if doesn't exist, you need to add the following\ndependency.</p>\n<pre><code>     &lt;!--to enable actuator help to trace project--&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>You need to add the following scripts to your application.yml to\nenable the actuator and Prometheus by actuator.</p>\n</li>\n</ul>\n<p>.</p>\n<pre><code> management:\n  security:\n    enabled: false\n  server:\n    port: 9000\n  endpoint:\n    metrics:\n      enabled: true\n    prometheus:\n      enabled: true\n    health:\n      show-details: always\n      show-components: always\n      probes:\n        enabled: true\n    shutdown:\n      enabled: true\n    info:\n      env:\n        enabled: true\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: prometheus, metrics, info, health, shutdown, beans\n</code></pre>\n<p>using the above script the actuator will run on <strong>port 9000</strong> and you can send a request to the following URL to access the actuator.</p>\n<p>http://localhost:9000/actuator</p>\n<p><strong>and the following URL to access info path</strong></p>\n<p>http://localhost:9000/actuator/info</p>\n<p><strong>Note</strong>: you must check where you are writing your script because I was confused between <strong>endpoint</strong> and <strong>endpoints</strong></p>\n<ul>\n<li>The <strong>endpoint</strong> to set the actuator config.</li>\n<li>The <strong>endpoints</strong> to set the actuator <strong>URLs endpoint</strong></li>\n</ul>\n<p><strong>Note:</strong> you can delete the port from <code> application.yml</code> and the actuator will run by current application port</p>\n<p><strong>best luck</strong></p>\n"}],"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30031,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":67893986,"answer_count":6,"score":23,"last_activity_date":1690644550,"creation_date":1623182425,"question_id":67893857,"body_markdown":"I upgraded spring boot version in my app from 2.4.4 to 2.5.0 and it stopped exposing /actuator/info endpoint. Here is the pom.xml and application.yml\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ms&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot-test&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;layers&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/layers&gt;\r\n                &lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.yml**\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    jmx:\r\n      exposure:\r\n        include: &quot;health,info&quot;\r\n```\r\n\r\nWith spring boot parent version 2.4.4, the application is able to expose info endpoint but not with 2.5.0. ","title":"/actuator/info Endpoint not working with spring boot 2.5.0","body":"<p>I upgraded spring boot version in my app from 2.4.4 to 2.5.0 and it stopped exposing /actuator/info endpoint. Here is the pom.xml and application.yml</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ms&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;layers&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/layers&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>management:\n  endpoints:\n    jmx:\n      exposure:\n        include: &quot;health,info&quot;\n</code></pre>\n<p>With spring boot parent version 2.4.4, the application is able to expose info endpoint but not with 2.5.0.</p>\n"},{"tags":["java","docker","dockerfile","selenium-chromedriver","alpine-linux"],"comments":[{"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"score":0,"creation_date":1690644229,"post_id":76790344,"comment_id":135383834,"body_markdown":"i was able to solve the problem. packages: at-spi2-atk and atk, should be replaced with package: at-spi2-core ;)","body":"i was able to solve the problem. packages: at-spi2-atk and atk, should be replaced with package: at-spi2-core ;)"}],"answers":[{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690644393,"creation_date":1690644393,"answer_id":76794252,"question_id":76790344,"body_markdown":"i was able to solve the problem. \r\npackages: at-spi2-atk and atk, should be replaced with package: at-spi2-core.\r\nnow it is working","title":"Dockerfile (FROM azul/zulu-openjdk-alpine:17-jre) chromedriver java","body":"<p>i was able to solve the problem.\npackages: at-spi2-atk and atk, should be replaced with package: at-spi2-core.\nnow it is working</p>\n"}],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794252,"answer_count":1,"score":0,"last_activity_date":1690644393,"creation_date":1690569813,"question_id":76790344,"body_markdown":"I have Dockerfile code, that works correct 3 months ago and now don&#39;t work :/\r\nDo you know what is the problem ?\r\n\r\nmy code:\r\n\r\n    FROM azul/zulu-openjdk-alpine:17-jre\r\n    \r\n    RUN addgroup -S spring &amp;&amp; adduser -D -S spring -G spring\r\n    \r\n    RUN mkdir -p data/log/zocdocbot\r\n    RUN find data/log/zocdocbot/ -type d -exec chmod 0777 {} \\;\r\n    RUN find data/log/zocdocbot/ -type f -exec chmod 777 {} \\;\r\n    \r\n    RUN mkdir -p data/screenshot\r\n    RUN find data/screenshot/ -type d -exec chmod 0777 {} \\;\r\n    RUN find data/screenshot/ -type f -exec chmod 777 {} \\;\r\n    \r\n    RUN mkdir -p config/driver/chromedriver-linux\r\n    RUN find config/ -type d -exec chmod 0777 {} \\;\r\n    RUN find config/ -type f -exec chmod 777 {} \\;\r\n    RUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\r\n    RUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\r\n    \r\n    ADD config/ /config/\r\n    RUN chmod 0777 /config/zocdocbot.properties\r\n    RUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\r\n    \r\n    RUN apk update &amp;&amp; apk add --no-cache bash \\\r\n        alsa-lib \\\r\n        at-spi2-atk \\\r\n        atk \\\r\n        cairo \\\r\n        cups-libs \\\r\n        dbus-libs \\\r\n        eudev-libs \\\r\n        expat \\\r\n        flac \\\r\n        gdk-pixbuf \\\r\n        glib \\\r\n        libgcc \\\r\n        libjpeg-turbo \\\r\n        libpng \\\r\n        libwebp \\\r\n        libx11 \\\r\n        libxcomposite \\\r\n        libxdamage \\\r\n        libxext \\\r\n        libxfixes \\\r\n        tzdata \\\r\n        libexif \\\r\n        udev \\\r\n        xvfb \\\r\n        zlib-dev \\\r\n        chromium \\\r\n        chromium-chromedriver \\\r\n        &amp;&amp; rm -rf /var/cache/apk/* \\\r\n        /usr/share/man \\\r\n        /tmp/*\r\n    \r\n    RUN chown -R spring:spring /data\r\n    USER spring:spring\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} bot-app.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Xmx248M&quot;,&quot;-Xss512K&quot;,&quot;-XX:+UseContainerSupport&quot;,&quot;-Xlog:gc&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\r\n    \r\n    EXPOSE 8080\r\n    EXPOSE 4444\r\n    EXPOSE 9222\r\n    EXPOSE 9223\r\n    \r\n    ENV PATH=&quot;/usr/bin/chromedriver:${PATH}&quot;\r\n    \r\n    ENV JAVA_OPTS=&quot;-Xmx250M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n    ENV JVM_OPTS=&quot;-Xmx246M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\r\n\r\n\r\nand after run i have error:\r\n\r\n    Jul 28 07:53:34 PM  #23 0.396 OK: 17824 distinct packages available\r\n    Jul 28 07:53:34 PM  #23 0.433 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\r\n    Jul 28 07:53:34 PM  #23 0.564 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\r\n    Jul 28 07:53:35 PM  #23 0.783 ERROR: unable to select packages:\r\n    Jul 28 07:53:35 PM  #23 0.814   at-spi2-atk (no such package):\r\n    Jul 28 07:53:35 PM  #23 0.814     required by: world[at-spi2-atk]\r\n    Jul 28 07:53:35 PM  #23 0.814   atk (no such package):\r\n    Jul 28 07:53:35 PM  #23 0.814     required by: world[atk]\r\n    Jul 28 07:53:35 PM  #23 ERROR: process &quot;/bin/sh -c apk update &amp;&amp; apk add --no-cache bash     alsa-lib     at-spi2-atk     atk     cairo     cups-libs     dbus-libs     eudev-libs     expat     flac     gdk-pixbuf     glib     libgcc     libjpeg-turbo     libpng     libwebp     libx11     libxcomposite     libxdamage     libxext     libxfixes     tzdata     libexif     udev     xvfb     zlib-dev     chromium     chromium-chromedriver     &amp;&amp; rm -rf /var/cache/apk/*     /usr/share/man     /tmp/*&quot; did not complete successfully: exit code: 2\r\n\r\n\r\ni look for in google but i cant find any solution :/ Is this problem with some arguments or with the image ?\r\ncan i replace this image with another one that will be similar to chromedriver and take up little space?\r\n\r\nregards\r\n\r\n\r\n","title":"Dockerfile (FROM azul/zulu-openjdk-alpine:17-jre) chromedriver java","body":"<p>I have Dockerfile code, that works correct 3 months ago and now don't work :/\nDo you know what is the problem ?</p>\n<p>my code:</p>\n<pre><code>FROM azul/zulu-openjdk-alpine:17-jre\n\nRUN addgroup -S spring &amp;&amp; adduser -D -S spring -G spring\n\nRUN mkdir -p data/log/zocdocbot\nRUN find data/log/zocdocbot/ -type d -exec chmod 0777 {} \\;\nRUN find data/log/zocdocbot/ -type f -exec chmod 777 {} \\;\n\nRUN mkdir -p data/screenshot\nRUN find data/screenshot/ -type d -exec chmod 0777 {} \\;\nRUN find data/screenshot/ -type f -exec chmod 777 {} \\;\n\nRUN mkdir -p config/driver/chromedriver-linux\nRUN find config/ -type d -exec chmod 0777 {} \\;\nRUN find config/ -type f -exec chmod 777 {} \\;\nRUN find config/driver/chromedriver-linux/ -type d -exec chmod 0777 {} \\;\nRUN find config/driver/chromedriver-linux/ -type f -exec chmod 777 {} \\;\n\nADD config/ /config/\nRUN chmod 0777 /config/zocdocbot.properties\nRUN chmod 0777 /config/driver/chromedriver-linux/chromedriver\n\nRUN apk update &amp;&amp; apk add --no-cache bash \\\n    alsa-lib \\\n    at-spi2-atk \\\n    atk \\\n    cairo \\\n    cups-libs \\\n    dbus-libs \\\n    eudev-libs \\\n    expat \\\n    flac \\\n    gdk-pixbuf \\\n    glib \\\n    libgcc \\\n    libjpeg-turbo \\\n    libpng \\\n    libwebp \\\n    libx11 \\\n    libxcomposite \\\n    libxdamage \\\n    libxext \\\n    libxfixes \\\n    tzdata \\\n    libexif \\\n    udev \\\n    xvfb \\\n    zlib-dev \\\n    chromium \\\n    chromium-chromedriver \\\n    &amp;&amp; rm -rf /var/cache/apk/* \\\n    /usr/share/man \\\n    /tmp/*\n\nRUN chown -R spring:spring /data\nUSER spring:spring\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} bot-app.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx248M&quot;,&quot;-Xss512K&quot;,&quot;-XX:+UseContainerSupport&quot;,&quot;-Xlog:gc&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\n\nEXPOSE 8080\nEXPOSE 4444\nEXPOSE 9222\nEXPOSE 9223\n\nENV PATH=&quot;/usr/bin/chromedriver:${PATH}&quot;\n\nENV JAVA_OPTS=&quot;-Xmx250M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\nENV JVM_OPTS=&quot;-Xmx246M -Xss256K -XX:+UseContainerSupport -Xlog:gc -XX:+HeapDumpOnOutOfMemoryError&quot;\n</code></pre>\n<p>and after run i have error:</p>\n<pre><code>Jul 28 07:53:34 PM  #23 0.396 OK: 17824 distinct packages available\nJul 28 07:53:34 PM  #23 0.433 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\nJul 28 07:53:34 PM  #23 0.564 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\nJul 28 07:53:35 PM  #23 0.783 ERROR: unable to select packages:\nJul 28 07:53:35 PM  #23 0.814   at-spi2-atk (no such package):\nJul 28 07:53:35 PM  #23 0.814     required by: world[at-spi2-atk]\nJul 28 07:53:35 PM  #23 0.814   atk (no such package):\nJul 28 07:53:35 PM  #23 0.814     required by: world[atk]\nJul 28 07:53:35 PM  #23 ERROR: process &quot;/bin/sh -c apk update &amp;&amp; apk add --no-cache bash     alsa-lib     at-spi2-atk     atk     cairo     cups-libs     dbus-libs     eudev-libs     expat     flac     gdk-pixbuf     glib     libgcc     libjpeg-turbo     libpng     libwebp     libx11     libxcomposite     libxdamage     libxext     libxfixes     tzdata     libexif     udev     xvfb     zlib-dev     chromium     chromium-chromedriver     &amp;&amp; rm -rf /var/cache/apk/*     /usr/share/man     /tmp/*&quot; did not complete successfully: exit code: 2\n</code></pre>\n<p>i look for in google but i cant find any solution :/ Is this problem with some arguments or with the image ?\ncan i replace this image with another one that will be similar to chromedriver and take up little space?</p>\n<p>regards</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":25462971,"reputation":206,"user_id":19262449,"display_name":"Corentin Briand"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1690496238,"creation_date":1655286478,"answer_id":72629202,"question_id":72625911,"body_markdown":"From [Spring Boot 2.6 Release Notes - Actuator Env InfoContributor Disabled by Default](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default)\r\n\r\nYou need to enable the _info env_ property:\r\n\r\n    management.info.env.enabled=true","title":"Spring Actuator /info returns an empty body","body":"<p>From <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#actuator-env-infocontributor-disabled-by-default\" rel=\"nofollow noreferrer\">Spring Boot 2.6 Release Notes - Actuator Env InfoContributor Disabled by Default</a></p>\n<p>You need to enable the <em>info env</em> property:</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19239662,"reputation":91,"user_id":14059912,"display_name":"Sayf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663666083,"creation_date":1663666083,"answer_id":73784453,"question_id":72625911,"body_markdown":"Latest spring boot requires two things to be set up: \r\n\r\n1- exposing the endpoint in `application.properties` file:\r\n\r\n    management.endpoints.web.exposure.include=info, health\r\n\r\nYou can use a wildcard and expose all endpoints if you want\r\n\r\n    management.endpoints.web.exposure.include=*\r\n\r\n2- enabling info.env in `application.properties`: \r\n\r\n    management.info.env.enabled=true\r\n\r\n","title":"Spring Actuator /info returns an empty body","body":"<p>Latest spring boot requires two things to be set up:</p>\n<p>1- exposing the endpoint in <code>application.properties</code> file:</p>\n<pre><code>management.endpoints.web.exposure.include=info, health\n</code></pre>\n<p>You can use a wildcard and expose all endpoints if you want</p>\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n<p>2- enabling info.env in <code>application.properties</code>:</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27913911,"reputation":11,"user_id":21315469,"display_name":"Enrique Delgado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679990527,"creation_date":1679983916,"answer_id":75862853,"question_id":72625911,"body_markdown":"Our project includes the git-commit-id-plugin, which puts in the response body of the actuator some data regarding the last commit.\r\n\r\nI was running a new Maven project which didn&#39;t still have the. git/ folder, therefore the plugin couldn&#39;t do its job, and the whole endpoint&#39;s response was an empty body. So, include in your checklist the fact that all the contributors to /admin/info/ are correctly configured.","title":"Spring Actuator /info returns an empty body","body":"<p>Our project includes the git-commit-id-plugin, which puts in the response body of the actuator some data regarding the last commit.</p>\n<p>I was running a new Maven project which didn't still have the. git/ folder, therefore the plugin couldn't do its job, and the whole endpoint's response was an empty body. So, include in your checklist the fact that all the contributors to /admin/info/ are correctly configured.</p>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7511,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72629202,"answer_count":3,"score":7,"last_activity_date":1690644240,"creation_date":1655267093,"question_id":72625911,"body_markdown":"How to add custom metrics to `/info` endpoint in `Spring Boot` **2.7.0** _Actuator_?\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCurrently have the following related to actuator. \r\n\r\n**application.properties**\r\n\r\n```\r\ninfo.app.version=@project.version@\r\n\r\nmanagement.endpoint.info.enabled=true\r\nmanagement.endpoints.web.exposure.include=info,health\r\n```\r\n\r\nI have verified that the `info.app.version` property can be retrieved using `@Value`. But despite this I am only getting an empty response on `/info`.\r\n\r\nResponse header:\r\n```\r\n&lt; HTTP/1.1 200 \r\n&lt; X-Content-Type-Options: nosniff\r\n&lt; X-XSS-Protection: 1; mode=block\r\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n&lt; Pragma: no-cache\r\n&lt; Expires: 0\r\n&lt; X-Frame-Options: DENY\r\n&lt; Content-Type: application/vnd.spring-boot.actuator.v3+json\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Wed, 15 Jun 2022 04:12:47 GMT\r\n\r\n\r\n* Received 7 B chunk\r\n* Received 5 B chunk\r\n* Connection #26 to host localhost left intact\r\n```\r\n\r\nResponse body :\r\n```\r\n{}\r\n```\r\n---\r\n\r\nMy understanding is any property under `info` is included in `/info` endpoint. Or does this not work on actuator v2+ ?\r\n[Source](https://www.baeldung.com/spring-boot-actuators#4-info-endpoint)","title":"Spring Actuator /info returns an empty body","body":"<p>How to add custom metrics to <code>/info</code> endpoint in <code>Spring Boot</code> <strong>2.7.0</strong> <em>Actuator</em>?</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Currently have the following related to actuator.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>info.app.version=@project.version@\n\nmanagement.endpoint.info.enabled=true\nmanagement.endpoints.web.exposure.include=info,health\n</code></pre>\n<p>I have verified that the <code>info.app.version</code> property can be retrieved using <code>@Value</code>. But despite this I am only getting an empty response on <code>/info</code>.</p>\n<p>Response header:</p>\n<pre><code>&lt; HTTP/1.1 200 \n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Frame-Options: DENY\n&lt; Content-Type: application/vnd.spring-boot.actuator.v3+json\n&lt; Transfer-Encoding: chunked\n&lt; Date: Wed, 15 Jun 2022 04:12:47 GMT\n\n\n* Received 7 B chunk\n* Received 5 B chunk\n* Connection #26 to host localhost left intact\n</code></pre>\n<p>Response body :</p>\n<pre><code>{}\n</code></pre>\n<hr />\n<p>My understanding is any property under <code>info</code> is included in <code>/info</code> endpoint. Or does this not work on actuator v2+ ?\n<a href=\"https://www.baeldung.com/spring-boot-actuators#4-info-endpoint\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690707916,"post_id":76794180,"comment_id":135388699,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":17892454,"reputation":21,"user_id":12998646,"display_name":"Rajesh D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690643424,"creation_date":1690643424,"question_id":76794180,"body_markdown":" I never faced this issue before . After 4 years I tried to begin the selenium with latest java version, Eclispe and Selenium webdriver but now I am facing very cheap issue to start the webdriver import. I tried properly by watching the youtube tutorial but I couldn&#39;t resolve this and It sucks my entire day to resolve this. Please someone help me. [![enter image description here](https://i.stack.imgur.com/pd4gU.png)](https://i.stack.imgur.com/pd4gU.png)\r\n\r\nTried to import webdriver to launch the browser but I couldn&#39;t see the import webdriver. ","title":"Unable to see the import webdriver option after adding the selenium 4.10 jars into Project folder buildpath","body":"<p>I never faced this issue before . After 4 years I tried to begin the selenium with latest java version, Eclispe and Selenium webdriver but now I am facing very cheap issue to start the webdriver import. I tried properly by watching the youtube tutorial but I couldn't resolve this and It sucks my entire day to resolve this. Please someone help me. <a href=\"https://i.stack.imgur.com/pd4gU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pd4gU.png\" alt=\"enter image description here\" /></a></p>\n<p>Tried to import webdriver to launch the browser but I couldn't see the import webdriver.</p>\n"},{"tags":["java","eclipse","maven","junit"],"comments":[{"owner":{"account_id":5672017,"reputation":594,"user_id":4486385,"accept_rate":57,"display_name":"Abdullah Asendar"},"score":1,"creation_date":1500025392,"post_id":45099653,"comment_id":77170875,"body_markdown":"right click on you project &gt; maven &gt; update project &gt; check force update snapshots/ releases &gt; press ok","body":"right click on you project &gt; maven &gt; update project &gt; check force update snapshots/ releases &gt; press ok"},{"owner":{"account_id":5672017,"reputation":594,"user_id":4486385,"accept_rate":57,"display_name":"Abdullah Asendar"},"score":0,"creation_date":1500025422,"post_id":45099653,"comment_id":77170903,"body_markdown":"if that did not work delete the contents of C:\\Users\\{your user}\\.m2\\repository ,,, then repeat above","body":"if that did not work delete the contents of C:\\Users\\{your user}\\.m2\\repository ,,, then repeat above"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500025949,"post_id":45099653,"comment_id":77171215,"body_markdown":"I tried it, but this not solved the problem :(","body":"I tried it, but this not solved the problem :("},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1500026535,"post_id":45099653,"comment_id":77171607,"body_markdown":"Please build the artifact (with package or install) and report the results of the build (including the error).","body":"Please build the artifact (with package or install) and report the results of the build (including the error)."},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028169,"post_id":45099653,"comment_id":77172602,"body_markdown":"I have 3 errors:\nTest cannot be resolved to a type\nThe import org.junit.Assert cannot be resolved\nThe method Fail(String) is undifined for the type AppTest","body":"I have 3 errors: Test cannot be resolved to a type The import org.junit.Assert cannot be resolved The method Fail(String) is undifined for the type AppTest"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1500028259,"post_id":45099653,"comment_id":77172650,"body_markdown":"Just to be sure: did you place your file under `src/test/java` (instead of `src/main/java`)?","body":"Just to be sure: did you place your file under <code>src&#47;test&#47;java</code> (instead of <code>src&#47;main&#47;java</code>)?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028454,"post_id":45099653,"comment_id":77172772,"body_markdown":"@RobertScholte yes, i double checked and its there","body":"@RobertScholte yes, i double checked and its there"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500028815,"post_id":45099653,"comment_id":77172978,"body_markdown":"I got some tips: the maven dont accept the projectlibs and i should try this settings set in eclipse style. Maybe this helps you to help me?","body":"I got some tips: the maven dont accept the projectlibs and i should try this settings set in eclipse style. Maybe this helps you to help me?"},{"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"score":0,"creation_date":1500039477,"post_id":45099653,"comment_id":77179886,"body_markdown":"What do you mean by &quot;the maven don&#39;t accept the projectlibs&quot;?","body":"What do you mean by &quot;the maven don&#39;t accept the projectlibs&quot;?"},{"owner":{"account_id":11029928,"reputation":3250,"user_id":8101556,"accept_rate":80,"display_name":"Rishikesh Darandale"},"score":1,"creation_date":1500041359,"post_id":45099653,"comment_id":77181194,"body_markdown":"Can you post the complete pom file?","body":"Can you post the complete pom file?"},{"owner":{"account_id":4742078,"reputation":6224,"user_id":3834478,"display_name":"sisyphus"},"score":0,"creation_date":1500161595,"post_id":45099653,"comment_id":77218053,"body_markdown":"When/where do you see the error? Is it when you run &#39;mvn test&#39; from a command line or is it in Eclipse/Intellij/&lt;other IDE&gt;?","body":"When/where do you see the error? Is it when you run &#39;mvn test&#39; from a command line or is it in Eclipse/Intellij/&lt;other IDE&gt;?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500275787,"post_id":45099653,"comment_id":77245311,"body_markdown":"After saving the project, i cant run anything cuz the errors","body":"After saving the project, i cant run anything cuz the errors"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1500276368,"post_id":45099653,"comment_id":77245610,"body_markdown":"Have you run `mvn clean install` first?","body":"Have you run <code>mvn clean install</code> first?"},{"owner":{"account_id":7320546,"reputation":1178,"user_id":5576721,"accept_rate":50,"display_name":"Anupama Boorlagadda"},"score":0,"creation_date":1500277050,"post_id":45099653,"comment_id":77245989,"body_markdown":"Can you post snapshot of your project structure?","body":"Can you post snapshot of your project structure?"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500279112,"post_id":45099653,"comment_id":77247058,"body_markdown":"@AnupamaBoorlagadda i cant, i only registered on Friday","body":"@AnupamaBoorlagadda i cant, i only registered on Friday"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500279493,"post_id":45099653,"comment_id":77247277,"body_markdown":"@soorapadman i run the clean install, but i got error **No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?** how can i change that?","body":"@soorapadman i run the clean install, but i got error <b>No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</b> how can i change that?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1500280922,"post_id":45099653,"comment_id":77248054,"body_markdown":"Then you must check this link to resolve :https://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra","body":"Then you must check this link to resolve :<a href=\"https://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra\" title=\"no compiler is provided in this environment perhaps you are running on a jre ra\">stackoverflow.com/questions/19655184/&hellip;</a>"},{"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"score":0,"creation_date":1500282988,"post_id":45099653,"comment_id":77249334,"body_markdown":"after i did the changes i got this error when i did clean install: **error reading C:\\Users\\User\\.m2\\repository\\junit\\junit\\4.12\\junit-4.12.jar; invalid LOC header (bad signature)**","body":"after i did the changes i got this error when i did clean install: <b>error reading C:\\Users\\User\\.m2\\repository\\junit\\junit\\4.12\\junit-4.12.jar&zwnj;&#8203;; invalid LOC header (bad signature)</b>"}],"answers":[{"tags":[],"owner":{"account_id":11319371,"reputation":1,"user_id":8300106,"display_name":"saiswarup sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500284193,"creation_date":1500284193,"answer_id":45140675,"question_id":45099653,"body_markdown":"First clean the project and again install the Maven.","title":"Maven dependency with JUnit not working with failure to resolve","body":"<p>First clean the project and again install the Maven.</p>\n"}],"owner":{"account_id":11328881,"reputation":1,"user_id":8306967,"display_name":"meszbogi"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690643270,"creation_date":1500025198,"question_id":45099653,"body_markdown":"First of all, I&#39;m a real beginner in Maven. I have problems with my first project. Here is my pom file (full):\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;hu.fornax&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter saving, maven downloaded the junit-4.12.jar and created a Maven dependencies folders, which is added to build path. After these the testfile have errors, says: **The import org.junit.Test cannot be resolved** and want to add Junit 4 to build path. I&#39;m bit confused what is the problem, but my program not working.\r\n\r\nI hope you can help me.\r\n \r\nEDIT:::::::  \r\nI got some tips: the maven doesn&#39;t accept the projectlibs and I should try this settings set in eclipse style. Maybe this helps you to help me?\r\n\r\nSOLVED:::::::  \r\nThanks all of your help. I found this page: http://skillshared.blogspot.hu/2012/10/aaa.html and it worked for me. Thanks","title":"Maven dependency with JUnit not working with failure to resolve","body":"<p>First of all, I'm a real beginner in Maven. I have problems with my first project. Here is my pom file (full):</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;hu.fornax&lt;/groupId&gt;\n    &lt;artifactId&gt;maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>After saving, maven downloaded the junit-4.12.jar and created a Maven dependencies folders, which is added to build path. After these the testfile have errors, says: <strong>The import org.junit.Test cannot be resolved</strong> and want to add Junit 4 to build path. I'm bit confused what is the problem, but my program not working.</p>\n<p>I hope you can help me.</p>\n<p>EDIT:::::::<br />\nI got some tips: the maven doesn't accept the projectlibs and I should try this settings set in eclipse style. Maybe this helps you to help me?</p>\n<p>SOLVED:::::::<br />\nThanks all of your help. I found this page: <a href=\"http://skillshared.blogspot.hu/2012/10/aaa.html\" rel=\"nofollow noreferrer\">http://skillshared.blogspot.hu/2012/10/aaa.html</a> and it worked for me. Thanks</p>\n"},{"tags":["java","spring-boot","maven","gson","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690455033,"post_id":76778605,"comment_id":135357627,"body_markdown":"Why using gson instead fast jackson?","body":"Why using gson instead fast jackson?"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690455368,"post_id":76778605,"comment_id":135357689,"body_markdown":"gson was already part of the project and if we change it now we need to change the code as well. Hence wanted to go ahead with gson.","body":"gson was already part of the project and if we change it now we need to change the code as well. Hence wanted to go ahead with gson."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690456680,"post_id":76778605,"comment_id":135357979,"body_markdown":"It was already the wrong way in SB 2.X so it is as well in SB 3.X ... I would migrate the project ... it&#39;s easier... And So how many code could it be? Using a good ide etc. shouldn&#39;t be that a big issue... ? Furthermore why using dockerfile-maven-plugin instead the jib parts of SB 3.X https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images Apart from that it looks like that gson seemed to be not JDK 17 ready... also a full pom file would be helpful here... ?","body":"It was already the wrong way in SB 2.X so it is as well in SB 3.X ... I would migrate the project ... it&#39;s easier... And So how many code could it be? Using a good ide etc. shouldn&#39;t be that a big issue... ? Furthermore why using dockerfile-maven-plugin instead the jib parts of SB 3.X <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> Apart from that it looks like that gson seemed to be not JDK 17 ready... also a full pom file would be helpful here... ?"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690459155,"post_id":76778605,"comment_id":135358500,"body_markdown":"Added the pom file.","body":"Added the pom file."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690459518,"post_id":76778605,"comment_id":135358583,"body_markdown":"Also updated with the full exception stack trace. It is coming while executing: mvn clean install","body":"Also updated with the full exception stack trace. It is coming while executing: mvn clean install"},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690460488,"post_id":76778605,"comment_id":135358820,"body_markdown":"One important part of it: when I make &#39;skip.it&#39; as true, then I do not face the issue as it skips that step.","body":"One important part of it: when I make &#39;skip.it&#39; as true, then I do not face the issue as it skips that step."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477343,"post_id":76778605,"comment_id":135362814,"body_markdown":"Why using different version of jackson instead of using the one which is given via SB? ... And furthermore mixing different jackson versions ... Why defining jakarta verisons separate instead of using the one which coming via SB (which is the same version!!) also jakarta-servlet-api same thing.. (SB!!)... ? Also use the one spring-web wich is given via SB ... Using an older version of hibernate-validator instead of the one which is given by SB... defining commons-lang3 same versions as already given by SB... so no version needed...jboss-logging older version defined than getting via SB ...","body":"Why using different version of jackson instead of using the one which is given via SB? ... And furthermore mixing different jackson versions ... Why defining jakarta verisons separate instead of using the one which coming via SB (which is the same version!!) also jakarta-servlet-api same thing.. (SB!!)... ? Also use the one spring-web wich is given via SB ... Using an older version of hibernate-validator instead of the one which is given by SB... defining commons-lang3 same versions as already given by SB... so no version needed...jboss-logging older version defined than getting via SB ..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477365,"post_id":76778605,"comment_id":135362816,"body_markdown":"Mockito verison defined much older than the version given via SB(5.3.1)...why using byte-buddy? Why using maven-dependency-plugin ?? What should be unpacked??? layers for docker image? Use the one which is comming via SB3... check the docs...Why defining spring-web using the same version as SB already defines? So remove the version if you really use that directly...","body":"Mockito verison defined much older than the version given via SB(5.3.1)...why using byte-buddy? Why using maven-dependency-plugin ?? What should be unpacked??? layers for docker image? Use the one which is comming via SB3... check the docs...Why defining spring-web using the same version as SB already defines? So remove the version if you really use that directly..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690477755,"post_id":76778605,"comment_id":135362901,"body_markdown":"The dockerfile-maven-plugin is abandoned... Use the one which is provided by SB...","body":"The dockerfile-maven-plugin is abandoned... Use the one which is provided by SB..."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690599526,"post_id":76778605,"comment_id":135379900,"body_markdown":"As suggested by you, changed the same, but still getting the same exception.","body":"As suggested by you, changed the same, but still getting the same exception."},{"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"score":0,"creation_date":1690599844,"post_id":76778605,"comment_id":135379919,"body_markdown":"Updated the pom.xml in the original message.","body":"Updated the pom.xml in the original message."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690642465,"creation_date":1690642465,"answer_id":76794120,"question_id":76778605,"body_markdown":"The problem is that your method `com.myproject.logger.MyLog4jLayout.toSerializable` indirectly tries to use Gson to serialize a `Throwable` to JSON. Gson does not have a built-in adapter for `Throwable` so it falls back to using reflection, accessing internal fields which represent implementation details.  \r\nIn JDK 17 access to internal JDK implementation details was further restricted ([JEP 403](https://openjdk.org/jeps/403)), which is why you are experiencing this exception.\r\n\r\nIf you still want to serialize `Throwable` instances with Gson, you will have to write a custom `TypeAdapter` which performs the serialization. See [this comment](https://github.com/google/gson/issues/2352#issuecomment-1481864208) on a related GitHub issue for more information and also sample code for such a `TypeAdapter`.\r\n\r\nAlso in general be careful that you don&#39;t accidentally use Gson&#39;s reflection-based adapter for implementation details of other third-party libraries, because they could change at any point and also might not necessarily produce useful JSON data. You can use Gson&#39;s [`ReflectionAccessFilter` feature](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)) to restrict on which classes Gson may use reflection to perform serialization.","title":"InaccessibleObjectException while working in gson 2.10.1 with Java 17 and Spring Boot 3.1.2","body":"<p>The problem is that your method <code>com.myproject.logger.MyLog4jLayout.toSerializable</code> indirectly tries to use Gson to serialize a <code>Throwable</code> to JSON. Gson does not have a built-in adapter for <code>Throwable</code> so it falls back to using reflection, accessing internal fields which represent implementation details.<br />\nIn JDK 17 access to internal JDK implementation details was further restricted (<a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a>), which is why you are experiencing this exception.</p>\n<p>If you still want to serialize <code>Throwable</code> instances with Gson, you will have to write a custom <code>TypeAdapter</code> which performs the serialization. See <a href=\"https://github.com/google/gson/issues/2352#issuecomment-1481864208\" rel=\"nofollow noreferrer\">this comment</a> on a related GitHub issue for more information and also sample code for such a <code>TypeAdapter</code>.</p>\n<p>Also in general be careful that you don't accidentally use Gson's reflection-based adapter for implementation details of other third-party libraries, because they could change at any point and also might not necessarily produce useful JSON data. You can use Gson's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)\" rel=\"nofollow noreferrer\"><code>ReflectionAccessFilter</code> feature</a> to restrict on which classes Gson may use reflection to perform serialization.</p>\n"}],"owner":{"account_id":1838608,"reputation":565,"user_id":1668481,"accept_rate":25,"display_name":"Arindam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76794120,"answer_count":1,"score":1,"last_activity_date":1690642465,"creation_date":1690452106,"question_id":76778605,"body_markdown":"Currently, I am using **Java 11 with Spring Boot 2.7.9 and gson version 2.9.0**\r\n\r\nNow trying to upgrade to **Java 17, Spring Boot 3.1.2 and gson 2.10.1** \r\n\r\nWhile the project is checking with pre-integration-test in spring-boot-maven-plugin(3.1.2), getting the following exception. Using dockerfile-maven-plugin version 1.4.13 in pom.xml.\r\n\r\nNot sure, what am I missing with the version or due to any version conflict. Need your help here.\r\n\r\nAdvance thanks.\r\n\r\n\r\n        Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\r\n    Caused by: org.apache.logging.log4j.core.appender.AppenderLoggingException: An exception occurred processing Appender rollingFile\r\n            at org.apache.logging.log4j.core.appender.DefaultErrorHandler.error(DefaultErrorHandler.java:96)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.handleAppenderError(AppenderControl.java:165)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:158)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:630)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:590)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.logParent(LoggerConfig.java:621)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:592)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:507)\r\n            at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:81)\r\n            at org.apache.logging.log4j.core.Logger.log(Logger.java:148)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2038)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:1992)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:1975)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1834)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1692)\r\n            at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\r\n            at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\r\n            at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\r\n            at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\r\n            at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:391)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n            at com.myproject.ApiApplication.main(ApiApplication.java:12)\r\n            ... 5 more\r\n    Caused by: com.google.gson.JsonIOException: Failed making field &#39;java.lang.StackTraceElement#classLoaderName&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n            at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n            at com.google.gson.Gson.getAdapter(Gson.java:556)\r\n            at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\r\n            at com.google.gson.Gson.toJson(Gson.java:842)\r\n            at com.google.gson.Gson.toJson(Gson.java:812)\r\n            at com.google.gson.Gson.toJson(Gson.java:759)\r\n            at com.google.gson.Gson.toJson(Gson.java:736)\r\n            at com.myproject.logger.MyLog4jLayout.toSerializable(MyLog4jLayout.java:55)\r\n            at org.apache.logging.log4j.core.layout.AbstractStringLayout.toByteArray(AbstractStringLayout.java:283)\r\n            at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:193)\r\n            at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:34)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:179)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:172)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:163)\r\n            at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:304)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\r\n            ... 31 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3b07a0d6\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n            at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\r\n            ... 50 more\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  01:44 min\r\n    [INFO] Finished at: 2023-07-27T16:28:38+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.2:start (pre-integration-test) on project myproject: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \r\n    [ERROR]         java.net.ConnectException: Connection refused\r\n\r\n\r\nAdding pom.xml as well:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;myproject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;name&gt;myproject&lt;/name&gt;\r\n      \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;xxxx&lt;/id&gt;\r\n          &lt;name&gt;xxxx&lt;/name&gt;\r\n         &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;The Repo&lt;/name&gt;\r\n          &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    \r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;xxxx&lt;/id&gt;\r\n          &lt;url&gt;xxxx&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-security.version&gt;6.1.2&lt;/spring-security.version&gt;\r\n        &lt;docker.image.prefix&gt;xxxx&lt;/docker.image.prefix&gt;\r\n        &lt;jdbc.version&gt;19.3.0.0&lt;/jdbc.version&gt;\r\n        &lt;server.port&gt;9095&lt;/server.port&gt;\r\n        &lt;flyway.version&gt;9.17.0&lt;/flyway.version&gt;\r\n        &lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\r\n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n        &lt;commons-codec.version&gt;1.16.0&lt;/commons-codec.version&gt;\r\n        &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\r\n        &lt;skip.it&gt;false&lt;/skip.it&gt;\r\n        &lt;skip.mdp&gt;true&lt;/skip.mdp&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n              &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n          &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n          &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;net.minidev&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;accessors-smart&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n          &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n          &lt;version&gt;32.1.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n          &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n           &lt;version&gt;${flyway.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n          &lt;version&gt;0.2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.10&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-coverage-report&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report-integration&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;dataFile&gt;${project.basedir}/jacoco-report/jacoco-it.exec&lt;/dataFile&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;append&gt;true&lt;/append&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;9.21.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jvmArguments&gt;-Xdebug\r\n                -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5006\r\n              &lt;/jvmArguments&gt;\r\n              &lt;maxAttempts&gt;360&lt;/maxAttempts&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;\r\n                  &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;start&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;skip&gt;${skip.it}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;stop&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;skip&gt;${skip.it}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;apiDocsUrl&gt;http://localhost:${server.port}/public-openapi.yaml&lt;/apiDocsUrl&gt;\r\n              &lt;outputFileName&gt;public-openapi.yaml&lt;/outputFileName&gt;\r\n              &lt;outputDir&gt;${project.basedir}&lt;/outputDir&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;executable&gt;bash&lt;/executable&gt;\r\n              &lt;workingDirectory&gt;xxxx&lt;/workingDirectory&gt;\r\n              &lt;arguments&gt;\r\n                &lt;argument&gt;build.sh&lt;/argument&gt;\r\n              &lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;skip&gt;${skip.mdp}&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;unpack&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                      &lt;version&gt;${project.version}&lt;/version&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings\r\n              only. It has no influence on the Maven build itself. --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;lifecycleMappingMetadata&gt;\r\n                  &lt;pluginExecutions&gt;\r\n                    &lt;pluginExecution&gt;\r\n                      &lt;pluginExecutionFilter&gt;\r\n                        &lt;groupId&gt;\r\n                          org.codehaus.mojo\r\n                        &lt;/groupId&gt;\r\n                        &lt;artifactId&gt;\r\n                          exec-maven-plugin\r\n                        &lt;/artifactId&gt;\r\n                        &lt;versionRange&gt;\r\n                          [1.6.0,)\r\n                        &lt;/versionRange&gt;\r\n                        &lt;goals&gt;\r\n                          &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                      &lt;/pluginExecutionFilter&gt;\r\n                      &lt;action&gt;\r\n                        &lt;ignore&gt;&lt;/ignore&gt;\r\n                      &lt;/action&gt;\r\n                    &lt;/pluginExecution&gt;\r\n                  &lt;/pluginExecutions&gt;\r\n                &lt;/lifecycleMappingMetadata&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n    \r\n        &lt;/pluginManagement&gt;\r\n    \r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"InaccessibleObjectException while working in gson 2.10.1 with Java 17 and Spring Boot 3.1.2","body":"<p>Currently, I am using <strong>Java 11 with Spring Boot 2.7.9 and gson version 2.9.0</strong></p>\n<p>Now trying to upgrade to <strong>Java 17, Spring Boot 3.1.2 and gson 2.10.1</strong></p>\n<p>While the project is checking with pre-integration-test in spring-boot-maven-plugin(3.1.2), getting the following exception. Using dockerfile-maven-plugin version 1.4.13 in pom.xml.</p>\n<p>Not sure, what am I missing with the version or due to any version conflict. Need your help here.</p>\n<p>Advance thanks.</p>\n<pre><code>    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\nCaused by: org.apache.logging.log4j.core.appender.AppenderLoggingException: An exception occurred processing Appender rollingFile\n        at org.apache.logging.log4j.core.appender.DefaultErrorHandler.error(DefaultErrorHandler.java:96)\n        at org.apache.logging.log4j.core.config.AppenderControl.handleAppenderError(AppenderControl.java:165)\n        at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:158)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\n        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:630)\n        at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:590)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\n        at org.apache.logging.log4j.core.config.LoggerConfig.logParent(LoggerConfig.java:621)\n        at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:592)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:573)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:507)\n        at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:81)\n        at org.apache.logging.log4j.core.Logger.log(Logger.java:148)\n        at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2038)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:1992)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:1975)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1834)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1692)\n        at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\n        at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\n        at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\n        at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:391)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.myproject.ApiApplication.main(ApiApplication.java:12)\n        ... 5 more\nCaused by: com.google.gson.JsonIOException: Failed making field 'java.lang.StackTraceElement#classLoaderName' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n        at com.google.gson.Gson.getAdapter(Gson.java:556)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:207)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(MapTypeAdapterFactory.java:144)\n        at com.google.gson.Gson.toJson(Gson.java:842)\n        at com.google.gson.Gson.toJson(Gson.java:812)\n        at com.google.gson.Gson.toJson(Gson.java:759)\n        at com.google.gson.Gson.toJson(Gson.java:736)\n        at com.myproject.logger.MyLog4jLayout.toSerializable(MyLog4jLayout.java:55)\n        at org.apache.logging.log4j.core.layout.AbstractStringLayout.toByteArray(AbstractStringLayout.java:283)\n        at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:193)\n        at org.apache.logging.log4j.core.layout.AbstractLayout.encode(AbstractLayout.java:34)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:179)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:172)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:163)\n        at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:304)\n        at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\n        ... 31 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3b07a0d6\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\n        ... 50 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:44 min\n[INFO] Finished at: 2023-07-27T16:28:38+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.2:start (pre-integration-test) on project myproject: Failed to connect to MBean server at port 9001: Could not invoke shutdown operation: Connection refused to host: 127.0.0.1; nested exception is: \n[ERROR]         java.net.ConnectException: Connection refused\n</code></pre>\n<p>Adding pom.xml as well:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;myproject&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;name&gt;myproject&lt;/name&gt;\n  \n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;xxxx&lt;/id&gt;\n      &lt;name&gt;xxxx&lt;/name&gt;\n     &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;The Repo&lt;/name&gt;\n      &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;xxxx&lt;/id&gt;\n      &lt;url&gt;xxxx&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-security.version&gt;6.1.2&lt;/spring-security.version&gt;\n    &lt;docker.image.prefix&gt;xxxx&lt;/docker.image.prefix&gt;\n    &lt;jdbc.version&gt;19.3.0.0&lt;/jdbc.version&gt;\n    &lt;server.port&gt;9095&lt;/server.port&gt;\n    &lt;flyway.version&gt;9.17.0&lt;/flyway.version&gt;\n    &lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\n    &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n    &lt;commons-codec.version&gt;1.16.0&lt;/commons-codec.version&gt;\n    &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\n    &lt;skip.it&gt;false&lt;/skip.it&gt;\n    &lt;skip.mdp&gt;true&lt;/skip.mdp&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n          &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n      &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n      &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n          &lt;exclusion&gt;\n              &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n              &lt;artifactId&gt;json-smart&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n              &lt;groupId&gt;net.minidev&lt;/groupId&gt;\n             &lt;artifactId&gt;accessors-smart&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n      &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;32.1.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n      &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n      &lt;version&gt;1.16.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n      &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n      &lt;version&gt;3.29.2-GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n       &lt;version&gt;${flyway.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n      &lt;version&gt;0.2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.28&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.10&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;integration-coverage-report&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report-integration&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;dataFile&gt;${project.basedir}/jacoco-report/jacoco-it.exec&lt;/dataFile&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;append&gt;true&lt;/append&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;9.21.0&lt;/version&gt;\n        &lt;configuration&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jvmArguments&gt;-Xdebug\n            -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5006\n          &lt;/jvmArguments&gt;\n          &lt;maxAttempts&gt;360&lt;/maxAttempts&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n              &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;skip&gt;${skip.it}&lt;/skip&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;skip&gt;${skip.it}&lt;/skip&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;apiDocsUrl&gt;http://localhost:${server.port}/public-openapi.yaml&lt;/apiDocsUrl&gt;\n          &lt;outputFileName&gt;public-openapi.yaml&lt;/outputFileName&gt;\n          &lt;outputDir&gt;${project.basedir}&lt;/outputDir&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;bash&lt;/executable&gt;\n          &lt;workingDirectory&gt;xxxx&lt;/workingDirectory&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;build.sh&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;skip&gt;${skip.mdp}&lt;/skip&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;unpack&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                  &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                  &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;!--This plugin's configuration is used to store Eclipse m2e settings\n          only. It has no influence on the Maven build itself. --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;lifecycleMappingMetadata&gt;\n              &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                  &lt;pluginExecutionFilter&gt;\n                    &lt;groupId&gt;\n                      org.codehaus.mojo\n                    &lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                      exec-maven-plugin\n                    &lt;/artifactId&gt;\n                    &lt;versionRange&gt;\n                      [1.6.0,)\n                    &lt;/versionRange&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/pluginExecutionFilter&gt;\n                  &lt;action&gt;\n                    &lt;ignore&gt;&lt;/ignore&gt;\n                  &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n\n    &lt;/pluginManagement&gt;\n\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690130274,"creation_date":1690130274,"answer_id":76749312,"question_id":76749146,"body_markdown":"Don&#39;t use `ResetTemplate` with `spring boot 3.x`. `WebClient`\r\n is the recommended for spring boot 3.","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>Don't use <code>ResetTemplate</code> with <code>spring boot 3.x</code>. <code>WebClient</code>\nis the recommended for spring boot 3.</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690300055,"creation_date":1690275510,"answer_id":76761070,"question_id":76749146,"body_markdown":"try with `LinkedMultiValueMap` like this.\r\n```java\r\npublic void sendNewPdfReportWebClient(Long chatId) {\r\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n\r\n    //** Create a MultiValueMap to hold the parts of the multipart form data\r\n    MultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\r\n    // Set the &quot;Content-Type&quot; header to &quot;application/pdf&quot;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_PDF);\r\n    parts.add(&quot;chat_id&quot;, chatId);\r\n    try {\r\n        parts.add(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    webClient.post()\r\n            .uri(String.join(&quot;/sendDocument&quot;))\r\n            .headers(httpHeaders -&gt; httpHeaders.addAll(headers)) // Set the headers\r\n            .contentType(MediaType.MULTIPART_FORM_DATA)\r\n            .body(BodyInserters.fromMultipartData(parts))\r\n            .exchangeToMono(response -&gt; {\r\n                if (response.statusCode().equals(HttpStatus.OK)) {\r\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\r\n                } else {\r\n                    throw new ServiceException(&quot;Error uploading file&quot;);\r\n                }\r\n            })\r\n            .block();\r\n}\r\n\r\n\r\n\r\n```","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>try with <code>LinkedMultiValueMap</code> like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendNewPdfReportWebClient(Long chatId) {\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n\n    //** Create a MultiValueMap to hold the parts of the multipart form data\n    MultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\n    // Set the &quot;Content-Type&quot; header to &quot;application/pdf&quot;\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_PDF);\n    parts.add(&quot;chat_id&quot;, chatId);\n    try {\n        parts.add(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n\n    webClient.post()\n            .uri(String.join(&quot;/sendDocument&quot;))\n            .headers(httpHeaders -&gt; httpHeaders.addAll(headers)) // Set the headers\n            .contentType(MediaType.MULTIPART_FORM_DATA)\n            .body(BodyInserters.fromMultipartData(parts))\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\n                } else {\n                    throw new ServiceException(&quot;Error uploading file&quot;);\n                }\n            })\n            .block();\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":29074850,"reputation":1,"user_id":22272291,"display_name":"War1ock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690642352,"creation_date":1690127786,"question_id":76749146,"body_markdown":"I use Spring Boot 3.1, Telegram Bots Spring Boot Starter 6.7.0 and WebHook bot\r\n\r\nI need to use class RestTemplate for call method /sendDocument in telegram API. I have read documentation telegram https://core.telegram.org/bots/api#senddocument and https://core.telegram.org/bots/api#sending-files, in my situation i need to send new binary pdf file.\r\n\r\nI use next code:\r\n\r\n```\r\npublic void sendNewPdfReport(Long chatId) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n    File file = null;\r\n    try {\r\n        file = ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;);\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    InputFile inputFile = new InputFile(file);\r\n\r\n    body.add(&quot;chat_id&quot;, chatId);\r\n    body.add(&quot;document&quot;, inputFile);\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n    restTemplate.postForEntity(&quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;, requestEntity, String.class);\r\n}\r\n```\r\n\r\nWhen i call this code i get an error:\r\n\r\nAPI Telegram: 400 Bad Request: &quot;{&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;}&quot;\r\n\r\n2023-07-23 18:22:58,936 ERROR \\[http-nio-8088-exec-1\\] o.a.j.l.DirectJDKLog: Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getChatId()&quot; because the return value of &quot;org.telegram.telegrambots.meta.api.objects.Update.getMessage()&quot; is null\\] with root cause \r\n\r\nI don&#39;t understand what the problem is. I fill in the fields as indicated in the documentation.\r\n\r\nI rewrote the code without using RestTemplate:\r\n\r\n```\r\npublic void sendNewPdfReport2Work(Long chatId) {\r\n    String uri = &quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;;\r\n    HttpPost httppost = new HttpPost(uri);\r\n    InputFile inputFile = new InputFile(new File(&quot;report.pdf&quot;));\r\n\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    builder.addTextBody(&quot;chat_id&quot;, chatId.toString());\r\n    builder.addBinaryBody(inputFile.getMediaName(), inputFile.getNewMediaFile(),\r\n    ContentType.APPLICATION_OCTET_STREAM, inputFile.getMediaName());\r\n    builder.addTextBody(&quot;document&quot;, inputFile.getAttachName());\r\n    org.apache.http.HttpEntity multipart = builder.build();\r\n\r\n    httppost.setEntity(multipart);\r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    try {\r\n        httpClient.execute(httppost);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nAND IT IS WORK! BUT ... I need the code to work when using RestTemplate. I conclude that the problem is in the use of RestTemplate.\r\n\r\nHelp plz, How do I correctly use and configure RestTemplate to send binary files in /sendDocument telegram API\r\n\r\nok, I try with WebClient:\r\n\r\n    public void sendNewPdfReportWebClient(Long chatId) {\r\n        WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;chat_id&quot;, chatId);\r\n        try {\r\n            builder.part(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        webClient.post()\r\n                .uri(String.join(&quot;/sendDocument&quot;))\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                .body(BodyInserters.fromMultipartData(builder.build()))\r\n                .exchangeToMono(response -&gt; {\r\n                    if (response.statusCode().equals(HttpStatus.OK)) {\r\n                        return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\r\n                    } else {\r\n                        throw new ServiceException(&quot;Error uploading file&quot;);\r\n                    }\r\n                })\r\n                .block();\r\n    }\r\n\r\n\r\nI have the next error:\r\n\r\nError uploading file\r\n2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null] with root cause\r\njava.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null\r\n\r\n[Telegram API /sendDocument from Insomnia][1]\r\n\r\n\r\nLog with debug:\r\n\r\n    New debugLog: 2023-07-25 17:57:11,141 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | onSubscribe([Fuseable] MonoFlatMap.FlatMapMain)\r\n    2023-07-25 17:57:11,142 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | request(unbounded)\r\n    2023-07-25 17:57:11,155 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [1eebab11] HTTP POST https://api.telegram.org/bot&lt;myToken&gt;/sendDocument\r\n    2023-07-25 17:57:11,542 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [1eebab11] [63f404bc-1] Response 400 BAD_REQUEST\r\n    2023-07-25 17:57:11,550 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onNext({&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;})\r\n    2023-07-25 17:57:11,551 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onComplete()\r\n\r\n[Headers in rest client Insomnia][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2cgWe.png\r\n  [2]: https://i.stack.imgur.com/Isyh0.png\r\n\r\nIn result r&amp;d working code:\r\n\r\n    public void sendNewFileReport(Long chatId, String firstName, String reportPath) {\r\n            WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\r\n            File file = null;\r\n            try {\r\n                file = ResourceUtils.getFile(reportPath);\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n            body.add(&quot;chat_id&quot;, chatId);\r\n            body.add(&quot;document&quot;, new FileSystemResource(file));\r\n    \r\n            webClient.post()\r\n                    .uri(&quot;/sendDocument&quot;)\r\n                    .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                    .body(BodyInserters.fromMultipartData(body))\r\n                    .retrieve()\r\n                    .bodyToMono(Void.class)\r\n                    .subscribe(\r\n                            data -&gt; log.info(&quot;Data: {}&quot;, data),\r\n                            error -&gt; log.error(&quot;Error: &quot;, error),\r\n                            () -&gt; log.info(&quot;{},  has been sent successfully&quot;, firstName)\r\n                    );\r\n        }","title":"Telegram-bot api sendDocument error when i use RestTemplate in Spring boot","body":"<p>I use Spring Boot 3.1, Telegram Bots Spring Boot Starter 6.7.0 and WebHook bot</p>\n<p>I need to use class RestTemplate for call method /sendDocument in telegram API. I have read documentation telegram <a href=\"https://core.telegram.org/bots/api#senddocument\" rel=\"nofollow noreferrer\">https://core.telegram.org/bots/api#senddocument</a> and <a href=\"https://core.telegram.org/bots/api#sending-files\" rel=\"nofollow noreferrer\">https://core.telegram.org/bots/api#sending-files</a>, in my situation i need to send new binary pdf file.</p>\n<p>I use next code:</p>\n<pre><code>public void sendNewPdfReport(Long chatId) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n\n    File file = null;\n    try {\n        file = ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;);\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n    InputFile inputFile = new InputFile(file);\n\n    body.add(&quot;chat_id&quot;, chatId);\n    body.add(&quot;document&quot;, inputFile);\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n    restTemplate.postForEntity(&quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;, requestEntity, String.class);\n}\n</code></pre>\n<p>When i call this code i get an error:</p>\n<p>API Telegram: 400 Bad Request: &quot;{&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;}&quot;</p>\n<p>2023-07-23 18:22:58,936 ERROR [http-nio-8088-exec-1] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getChatId()&quot; because the return value of &quot;org.telegram.telegrambots.meta.api.objects.Update.getMessage()&quot; is null] with root cause</p>\n<p>I don't understand what the problem is. I fill in the fields as indicated in the documentation.</p>\n<p>I rewrote the code without using RestTemplate:</p>\n<pre><code>public void sendNewPdfReport2Work(Long chatId) {\n    String uri = &quot;https://api.telegram.org/bot&lt;myToken&gt;/sendDocument&quot;;\n    HttpPost httppost = new HttpPost(uri);\n    InputFile inputFile = new InputFile(new File(&quot;report.pdf&quot;));\n\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    builder.addTextBody(&quot;chat_id&quot;, chatId.toString());\n    builder.addBinaryBody(inputFile.getMediaName(), inputFile.getNewMediaFile(),\n    ContentType.APPLICATION_OCTET_STREAM, inputFile.getMediaName());\n    builder.addTextBody(&quot;document&quot;, inputFile.getAttachName());\n    org.apache.http.HttpEntity multipart = builder.build();\n\n    httppost.setEntity(multipart);\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n    try {\n        httpClient.execute(httppost);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>AND IT IS WORK! BUT ... I need the code to work when using RestTemplate. I conclude that the problem is in the use of RestTemplate.</p>\n<p>Help plz, How do I correctly use and configure RestTemplate to send binary files in /sendDocument telegram API</p>\n<p>ok, I try with WebClient:</p>\n<pre><code>public void sendNewPdfReportWebClient(Long chatId) {\n    WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;chat_id&quot;, chatId);\n    try {\n        builder.part(&quot;document&quot;, new InputFile(ResourceUtils.getFile(&quot;classpath:reports/report.pdf&quot;)));\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n\n    webClient.post()\n            .uri(String.join(&quot;/sendDocument&quot;))\n            .contentType(MediaType.MULTIPART_FORM_DATA)\n            .body(BodyInserters.fromMultipartData(builder.build()))\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(HttpStatus.class).thenReturn(response.statusCode());\n                } else {\n                    throw new ServiceException(&quot;Error uploading file&quot;);\n                }\n            })\n            .block();\n}\n</code></pre>\n<p>I have the next error:</p>\n<p>Error uploading file\n2023-07-24 23:33:55,572 ERROR [http-nio-8088-exec-5] o.a.j.l.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null] with root cause\njava.lang.NullPointerException: Cannot invoke &quot;org.telegram.telegrambots.meta.api.objects.Message.getText()&quot; because &quot;message&quot; is null</p>\n<p><a href=\"https://i.stack.imgur.com/2cgWe.png\" rel=\"nofollow noreferrer\">Telegram API /sendDocument from Insomnia</a></p>\n<p>Log with debug:</p>\n<pre><code>New debugLog: 2023-07-25 17:57:11,141 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | onSubscribe([Fuseable] MonoFlatMap.FlatMapMain)\n2023-07-25 17:57:11,142 INFO  [http-nio-8088-exec-1] r.u.Loggers$Slf4JLogger: | request(unbounded)\n2023-07-25 17:57:11,155 DEBUG [http-nio-8088-exec-1] o.s.c.l.LogFormatUtils: [1eebab11] HTTP POST https://api.telegram.org/bot&lt;myToken&gt;/sendDocument\n2023-07-25 17:57:11,542 DEBUG [reactor-http-nio-2] o.s.c.l.LogFormatUtils: [1eebab11] [63f404bc-1] Response 400 BAD_REQUEST\n2023-07-25 17:57:11,550 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onNext({&quot;ok&quot;:false,&quot;error_code&quot;:400,&quot;description&quot;:&quot;Bad Request: invalid file HTTP URL specified: Unsupported URL protocol&quot;})\n2023-07-25 17:57:11,551 INFO  [reactor-http-nio-2] r.u.Loggers$Slf4JLogger: | onComplete()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Isyh0.png\" rel=\"nofollow noreferrer\">Headers in rest client Insomnia</a></p>\n<p>In result r&amp;d working code:</p>\n<pre><code>public void sendNewFileReport(Long chatId, String firstName, String reportPath) {\n        WebClient webClient = WebClient.create(tgBotConfig.getTelegramApiUrl() + tgBotConfig.getBotToken());\n        File file = null;\n        try {\n            file = ResourceUtils.getFile(reportPath);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(&quot;chat_id&quot;, chatId);\n        body.add(&quot;document&quot;, new FileSystemResource(file));\n\n        webClient.post()\n                .uri(&quot;/sendDocument&quot;)\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(body))\n                .retrieve()\n                .bodyToMono(Void.class)\n                .subscribe(\n                        data -&gt; log.info(&quot;Data: {}&quot;, data),\n                        error -&gt; log.error(&quot;Error: &quot;, error),\n                        () -&gt; log.info(&quot;{},  has been sent successfully&quot;, firstName)\n                );\n    }\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690641061,"creation_date":1690641061,"answer_id":76794025,"question_id":76792745,"body_markdown":"Working with SceneBuilder will definitely simplify the work :), but you need to be very careful with all the attributes it generates. Particularly in FXML file, don&#39;t include any attribute unless it is really required. \r\n\r\nI can observe the same in your FXML code. There are lot of unnecessary attributes which you can eliminate. In fact that will fix your issue.\r\n\r\nFew points you can consider:\r\n * Understand the impact of using min/max width/height with Infinity/-Infinity\r\n * Remove unnecessary constraints if it is not required.\r\n * Understand how each layout behaves. Choosing the correct layout will really simplify the work. \r\n * If you want your application to be resizable, try minimizing the usage of prefWidth/height and let the layout take care of it.\r\n\r\nI tried to do some rework on the fxmls you provided. You can check the below code for reference and see what can be done to your exact requirement.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMainContainer:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\r\n        &lt;top&gt;\r\n            &lt;MenuBar &gt;\r\n                &lt;menus&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                &lt;/menus&gt;\r\n            &lt;/MenuBar&gt;\r\n        &lt;/top&gt;\r\n        &lt;center&gt;\r\n            &lt;BorderPane fx:id=&quot;borderPane&quot; &gt;\r\n                &lt;left&gt;\r\n                    &lt;VBox prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;children&gt;\r\n                            &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;/&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\r\n                        &lt;/children&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;\r\n                        &lt;/padding&gt;\r\n                    &lt;/VBox&gt;\r\n                &lt;/left&gt;\r\n                &lt;center&gt;\r\n    \r\n                &lt;/center&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nChild Container:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;GridPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; fillWidth=&quot;true&quot;/&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n            &lt;RowConstraints vgrow=&quot;ALWAYS&quot; fillHeight=&quot;true&quot;/&gt;\r\n        &lt;/rowConstraints&gt;\r\n        &lt;children&gt;\r\n            &lt;TableView&gt;\r\n                &lt;columns&gt;\r\n                    &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot;/&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\r\n                        &lt;columns&gt;\r\n                            &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot;/&gt;\r\n                            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot;/&gt;\r\n                        &lt;/columns&gt;\r\n                    &lt;/TableColumn&gt;\r\n                    &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot;/&gt;\r\n                &lt;/columns&gt;\r\n                &lt;columnResizePolicy&gt;\r\n                    &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n                &lt;/columnResizePolicy&gt;\r\n            &lt;/TableView&gt;\r\n        &lt;/children&gt;\r\n    &lt;/GridPane&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/slUOX.gif","title":"Resizable child pane","body":"<p>Working with SceneBuilder will definitely simplify the work :), but you need to be very careful with all the attributes it generates. Particularly in FXML file, don't include any attribute unless it is really required.</p>\n<p>I can observe the same in your FXML code. There are lot of unnecessary attributes which you can eliminate. In fact that will fix your issue.</p>\n<p>Few points you can consider:</p>\n<ul>\n<li>Understand the impact of using min/max width/height with Infinity/-Infinity</li>\n<li>Remove unnecessary constraints if it is not required.</li>\n<li>Understand how each layout behaves. Choosing the correct layout will really simplify the work.</li>\n<li>If you want your application to be resizable, try minimizing the usage of prefWidth/height and let the layout take care of it.</li>\n</ul>\n<p>I tried to do some rework on the fxmls you provided. You can check the below code for reference and see what can be done to your exact requirement.</p>\n<p><a href=\"https://i.stack.imgur.com/slUOX.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/slUOX.gif\" alt=\"enter image description here\" /></a></p>\n<p>MainContainer:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\n    &lt;top&gt;\n        &lt;MenuBar &gt;\n            &lt;menus&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n            &lt;/menus&gt;\n        &lt;/MenuBar&gt;\n    &lt;/top&gt;\n    &lt;center&gt;\n        &lt;BorderPane fx:id=&quot;borderPane&quot; &gt;\n            &lt;left&gt;\n                &lt;VBox prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n                    &lt;children&gt;\n                        &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;/&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\n                    &lt;/children&gt;\n                    &lt;padding&gt;\n                        &lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;\n                    &lt;/padding&gt;\n                &lt;/VBox&gt;\n            &lt;/left&gt;\n            &lt;center&gt;\n\n            &lt;/center&gt;\n        &lt;/BorderPane&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Child Container:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;GridPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;columnConstraints&gt;\n        &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; fillWidth=&quot;true&quot;/&gt;\n    &lt;/columnConstraints&gt;\n    &lt;rowConstraints&gt;\n        &lt;RowConstraints vgrow=&quot;ALWAYS&quot; fillHeight=&quot;true&quot;/&gt;\n    &lt;/rowConstraints&gt;\n    &lt;children&gt;\n        &lt;TableView&gt;\n            &lt;columns&gt;\n                &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot;/&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\n                    &lt;columns&gt;\n                        &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot;/&gt;\n                        &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot;/&gt;\n                    &lt;/columns&gt;\n                &lt;/TableColumn&gt;\n                &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot;/&gt;\n            &lt;/columns&gt;\n            &lt;columnResizePolicy&gt;\n                &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n            &lt;/columnResizePolicy&gt;\n        &lt;/TableView&gt;\n    &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n"}],"owner":{"account_id":28238246,"reputation":13,"user_id":21586395,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690641061,"creation_date":1690619572,"question_id":76792745,"body_markdown":"I have created main container FXML file, and separate home FXML file. I am trying to add home file to main container. main container has one border pane and I am adding home FXML to center of border pane, but when I an maximizing pane take only preferred space, but not space available\r\n\r\nmaincontainer\r\n```\r\n &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;553.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\r\n   &lt;children&gt;\r\n\t  &lt;MenuBar layoutY=&quot;3.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n\t\t&lt;menus&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\r\n\t\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t  &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\r\n\t\t\t&lt;items&gt;\r\n\t\t\t  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\r\n\t\t\t&lt;/items&gt;\r\n\t\t  &lt;/Menu&gt;\r\n\t\t&lt;/menus&gt;\r\n\t  &lt;/MenuBar&gt;\r\n\t  &lt;BorderPane fx:id=&quot;borderPane&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;22.0&quot;&gt;\r\n\t\t &lt;bottom&gt;\r\n\t\t\t&lt;AnchorPane prefHeight=&quot;22.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n\t\t &lt;/bottom&gt;\r\n\t\t &lt;left&gt;\r\n\t\t\t&lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;509.0&quot; prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n\t\t\t   &lt;children&gt;\r\n\t\t\t\t  &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;&gt;\r\n\t\t\t\t\t &lt;VBox.margin&gt;\r\n\t\t\t\t\t\t&lt;Insets top=&quot;200.0&quot; /&gt;\r\n\t\t\t\t\t &lt;/VBox.margin&gt;\r\n\t\t\t\t  &lt;/Button&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t\t  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\r\n\t\t\t   &lt;/children&gt;\r\n\t\t\t   &lt;BorderPane.margin&gt;\r\n\t\t\t\t  &lt;Insets /&gt;\r\n\t\t\t   &lt;/BorderPane.margin&gt;\r\n\t\t\t&lt;/VBox&gt;\r\n\t\t &lt;/left&gt;\r\n\t\t &lt;center&gt;\r\n\t\t\t&lt;FlowPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #FF0000;&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n\t\t &lt;/center&gt;\r\n\t  &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nchild container\r\n```\r\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;500&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n  &lt;columnConstraints&gt;\r\n\t&lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n  &lt;/columnConstraints&gt;\r\n  &lt;rowConstraints&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;264.00000915527346&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.20000610351562&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;225.00000610351563&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;36.79998779296875&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t&lt;RowConstraints maxHeight=&quot;183.60001525878909&quot; minHeight=&quot;22.39996337890625&quot; prefHeight=&quot;136.00001220703123&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n\t  &lt;RowConstraints maxHeight=&quot;124.00002441406252&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n  &lt;/rowConstraints&gt;\r\n   &lt;children&gt;\r\n\t  &lt;TableView prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n\t\t&lt;columns&gt;\r\n\t\t\t&lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot; /&gt;\r\n\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot; /&gt;\r\n\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot; /&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\r\n\t\t\t   &lt;columns&gt;\r\n\t\t\t\t  &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot; /&gt;\r\n\t\t\t\t  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot; /&gt;\r\n\t\t\t   &lt;/columns&gt;\r\n\t\t\t&lt;/TableColumn&gt;\r\n\t\t\t&lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot; /&gt;\r\n\t\t&lt;/columns&gt;\r\n\t\t &lt;columnResizePolicy&gt;\r\n\t\t\t&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n\t\t &lt;/columnResizePolicy&gt;\r\n\t  &lt;/TableView&gt;\r\n   &lt;/children&gt;\r\n&lt;/GridPane&gt;\r\n```\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pRocv.jpg","title":"Resizable child pane","body":"<p>I have created main container FXML file, and separate home FXML file. I am trying to add home file to main container. main container has one border pane and I am adding home FXML to center of border pane, but when I an maximizing pane take only preferred space, but not space available</p>\n<p>maincontainer</p>\n<pre><code> &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;553.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.tensorApplications.jBills.controllers.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;MenuBar layoutY=&quot;3.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;menus&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Windows&quot;&gt;\n            &lt;items&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Home&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;AddProducts&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Analytics&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n        &lt;/menus&gt;\n      &lt;/MenuBar&gt;\n      &lt;BorderPane fx:id=&quot;borderPane&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;22.0&quot;&gt;\n         &lt;bottom&gt;\n            &lt;AnchorPane prefHeight=&quot;22.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/bottom&gt;\n         &lt;left&gt;\n            &lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;509.0&quot; prefWidth=&quot;138.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;home&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getHome&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;196.0&quot; text=&quot;Home&quot;&gt;\n                     &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;200.0&quot; /&gt;\n                     &lt;/VBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;204.0&quot; text=&quot;Button&quot; /&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;198.0&quot; text=&quot;Button&quot; /&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;166.0&quot; text=&quot;Button&quot; /&gt;\n               &lt;/children&gt;\n               &lt;BorderPane.margin&gt;\n                  &lt;Insets /&gt;\n               &lt;/BorderPane.margin&gt;\n            &lt;/VBox&gt;\n         &lt;/left&gt;\n         &lt;center&gt;\n            &lt;FlowPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #FF0000;&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/center&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>child container</p>\n<pre><code>&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;500&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n  &lt;columnConstraints&gt;\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n  &lt;/columnConstraints&gt;\n  &lt;rowConstraints&gt;\n    &lt;RowConstraints maxHeight=&quot;264.00000915527346&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.20000610351562&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints maxHeight=&quot;225.00000610351563&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;36.79998779296875&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints maxHeight=&quot;183.60001525878909&quot; minHeight=&quot;22.39996337890625&quot; prefHeight=&quot;136.00001220703123&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n      &lt;RowConstraints maxHeight=&quot;124.00002441406252&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;113.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n  &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;TableView prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n        &lt;columns&gt;\n            &lt;TableColumn maxWidth=&quot;42.0&quot; prefWidth=&quot;42.0&quot; resizable=&quot;false&quot; text=&quot;Sr.No&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;85.5999755859375&quot; text=&quot;HSN/SAC&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;pID&quot; /&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ProductName&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Wt/Ps&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Qty&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Rate&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;TaxableAmt&quot; /&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;GST&quot;&gt;\n               &lt;columns&gt;\n                  &lt;TableColumn maxWidth=&quot;40.0&quot; minWidth=&quot;40.0&quot; prefWidth=&quot;40.0&quot; resizable=&quot;false&quot; text=&quot;\\%&quot; /&gt;\n                  &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Amt&quot; /&gt;\n               &lt;/columns&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Total&quot; /&gt;\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n      &lt;/TableView&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/pRocv.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","multithreading","disruptor-pattern"],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690640884,"creation_date":1690612061,"answer_id":76792330,"question_id":76452048,"body_markdown":"Assuming `createThreadFactory(&quot;consumer-thread&quot;)` is a custom method which creates threads.You should be able to give uniquename to each thread and task could log threadname when loglevel=DEBUG\r\n\r\n```\r\nclass CustomThreadFactory1 implements ThreadFactory{\r\n\r\n    @Override\r\n    public Thread newThread(Runnable r) {\r\n        Thread thread = new Thread(r);\r\n        thread.setName(RandomStringUtils.random(100));//any random value\r\n        return thread;\r\n    }\r\n}\r\n```","title":"Determining if threads are actually doing any work in Java","body":"<p>Assuming <code>createThreadFactory(&quot;consumer-thread&quot;)</code> is a custom method which creates threads.You should be able to give uniquename to each thread and task could log threadname when loglevel=DEBUG</p>\n<pre><code>class CustomThreadFactory1 implements ThreadFactory{\n\n    @Override\n    public Thread newThread(Runnable r) {\n        Thread thread = new Thread(r);\n        thread.setName(RandomStringUtils.random(100));//any random value\n        return thread;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690622071,"creation_date":1690622071,"answer_id":76792892,"question_id":76452048,"body_markdown":"Here&#39;s one way of monitoring and reporting how much CPU each thread is using.\r\n```\r\npackage org.example;\r\n\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadInfo;\r\nimport java.lang.management.ThreadMXBean;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ThreadMonitor {\r\n    public static void main(String[] args) {\r\n        final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n        if (!threadMXBean.isThreadCpuTimeSupported()) {\r\n            throw new RuntimeException(&quot;CPU time not supported&quot;);\r\n        }\r\n        threadMXBean.setThreadCpuTimeEnabled(true);\r\n        final Map&lt;Long,Long&gt; cpuTimeByThread = new HashMap&lt;&gt;();\r\n        ScheduledExecutorService monitor = Executors.newScheduledThreadPool(1);\r\n        monitor.scheduleAtFixedRate(() -&gt; {\r\n            for (long id : threadMXBean.getAllThreadIds()) {\r\n                long cpuTime = threadMXBean.getThreadCpuTime(id);\r\n                Long prevCpuTime = cpuTimeByThread.put(id, cpuTime);\r\n                if (prevCpuTime != null &amp;&amp; cpuTime - prevCpuTime &gt; 0) {\r\n                    ThreadInfo info = threadMXBean.getThreadInfo(id);\r\n                    System.out.printf(&quot;Thread %s ran %f ms%n&quot;, info.getThreadName(), (cpuTime - prevCpuTime)/1_000_000.0);\r\n                }\r\n            }\r\n        }, 0, 10, TimeUnit.SECONDS);\r\n        Executor executor = Executors.newFixedThreadPool(5);\r\n        for (int i = 0; i &lt;= 4; i++) {\r\n            final int sleepTime = i * 25;\r\n            executor.execute(() -&gt; {\r\n                Random r = new Random();\r\n                long l = 0;\r\n                while (true) {\r\n                    try {\r\n                        if (sleepTime &gt; 0) {\r\n                            Thread.sleep(sleepTime);\r\n                        }\r\n                        long now = System.currentTimeMillis();\r\n                        while (System.currentTimeMillis() - now &lt; 100) {\r\n                            l += r.nextLong();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t actually get the result I expect -- I expect the first thread in the pool to use a CPU for 100% of the time, but it reports less than 50% utilisation. Still, this does tell you which threads are working.","title":"Determining if threads are actually doing any work in Java","body":"<p>Here's one way of monitoring and reporting how much CPU each thread is using.</p>\n<pre><code>package org.example;\n\nimport java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadInfo;\nimport java.lang.management.ThreadMXBean;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Random;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class ThreadMonitor {\n    public static void main(String[] args) {\n        final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n        if (!threadMXBean.isThreadCpuTimeSupported()) {\n            throw new RuntimeException(&quot;CPU time not supported&quot;);\n        }\n        threadMXBean.setThreadCpuTimeEnabled(true);\n        final Map&lt;Long,Long&gt; cpuTimeByThread = new HashMap&lt;&gt;();\n        ScheduledExecutorService monitor = Executors.newScheduledThreadPool(1);\n        monitor.scheduleAtFixedRate(() -&gt; {\n            for (long id : threadMXBean.getAllThreadIds()) {\n                long cpuTime = threadMXBean.getThreadCpuTime(id);\n                Long prevCpuTime = cpuTimeByThread.put(id, cpuTime);\n                if (prevCpuTime != null &amp;&amp; cpuTime - prevCpuTime &gt; 0) {\n                    ThreadInfo info = threadMXBean.getThreadInfo(id);\n                    System.out.printf(&quot;Thread %s ran %f ms%n&quot;, info.getThreadName(), (cpuTime - prevCpuTime)/1_000_000.0);\n                }\n            }\n        }, 0, 10, TimeUnit.SECONDS);\n        Executor executor = Executors.newFixedThreadPool(5);\n        for (int i = 0; i &lt;= 4; i++) {\n            final int sleepTime = i * 25;\n            executor.execute(() -&gt; {\n                Random r = new Random();\n                long l = 0;\n                while (true) {\n                    try {\n                        if (sleepTime &gt; 0) {\n                            Thread.sleep(sleepTime);\n                        }\n                        long now = System.currentTimeMillis();\n                        while (System.currentTimeMillis() - now &lt; 100) {\n                            l += r.nextLong();\n                        }\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>I don't actually get the result I expect -- I expect the first thread in the pool to use a CPU for 100% of the time, but it reports less than 50% utilisation. Still, this does tell you which threads are working.</p>\n"}],"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690640884,"creation_date":1686509751,"question_id":76452048,"body_markdown":"We have an application which uses Lmax Disruptor. We originally configured the Disruptor by \r\n\r\n```\r\n        this.disruptor = new Disruptor&lt;&gt;(\r\n                GenericEvent::new,\r\n                BUFFER_SIZE,\r\n                createThreadFactory(&quot;consumer-thread&quot;),\r\n                ProducerType.SINGLE,\r\n                new BlockingWaitStrategy());\r\n\r\n        this.ringBuffer = disruptor.getRingBuffer();\r\n\r\n        ConsumerPool consumers = eventHandlerFactory.createPool(POOL_SIZE);\r\n        this.disruptor.handleEventsWithWorkerPool(consumers);\r\n```\r\n\r\nBut from what I understand, the pool sent to `handleEventsWithWorkerPool` does not distribute the work to all the consumers in the pool. We saw (through JFR), that only the last thread was doing all the work.\r\n\r\n\r\nMy question is, what sort of metric could I have used to see that only one thread was doing all the work? Something that doesn&#39;t require running JFR after the application has gotten too slow?\r\n\r\nI know if my threads are in a ThreadPool Executor, I can get lots of metrics on usage, etc.\r\n\r\nThanks","title":"Determining if threads are actually doing any work in Java","body":"<p>We have an application which uses Lmax Disruptor. We originally configured the Disruptor by</p>\n<pre><code>        this.disruptor = new Disruptor&lt;&gt;(\n                GenericEvent::new,\n                BUFFER_SIZE,\n                createThreadFactory(&quot;consumer-thread&quot;),\n                ProducerType.SINGLE,\n                new BlockingWaitStrategy());\n\n        this.ringBuffer = disruptor.getRingBuffer();\n\n        ConsumerPool consumers = eventHandlerFactory.createPool(POOL_SIZE);\n        this.disruptor.handleEventsWithWorkerPool(consumers);\n</code></pre>\n<p>But from what I understand, the pool sent to <code>handleEventsWithWorkerPool</code> does not distribute the work to all the consumers in the pool. We saw (through JFR), that only the last thread was doing all the work.</p>\n<p>My question is, what sort of metric could I have used to see that only one thread was doing all the work? Something that doesn't require running JFR after the application has gotten too slow?</p>\n<p>I know if my threads are in a ThreadPool Executor, I can get lots of metrics on usage, etc.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1690602958,"post_id":76791927,"comment_id":135380061,"body_markdown":"At first glance, none of the code you shared uses the Firebase Realtime Database API. If you haven&#39;t used this API yet, I recommend getting started with https://firebase.google.com/docs/database/android/start, https://firebase.google.com/docs/database/android/read-and-write and https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events","body":"At first glance, none of the code you shared uses the Firebase Realtime Database API. If you haven&#39;t used this API yet, I recommend getting started with <a href=\"https://firebase.google.com/docs/database/android/start\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/start</a>, <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a> and <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690630310,"post_id":76791927,"comment_id":135382251,"body_markdown":"Please edit your question and add the code that you&#39;re using to get data from the Realtime Database.","body":"Please edit your question and add the code that you&#39;re using to get data from the Realtime Database."}],"owner":{"account_id":27741738,"reputation":21,"user_id":21178076,"display_name":"Dhananjay Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690640585,"creation_date":1690600776,"question_id":76791927,"body_markdown":"I want to retrieve data from realtime database in a manner that I can display data like this [enter image description here](https://i.stack.imgur.com/5yxPV.png)\r\n\r\nData is stored in this way: \r\n\r\n![enter image description here](https://i.stack.imgur.com/Qkmla.png)\r\n\r\ndata should appear like subject then all the tests given under that subject \r\n, then in next cardview another subject and all the tests given under that subject\r\n\r\nFile where I am trying to fetch data from Firebase\r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.WindowManager;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class ShowStudentData extends AppCompatActivity {\r\n    private String id;\r\n    private ListView showSubjectListView,showMarksListView;\r\n    private HashMap&lt;String,String&gt; marksHashMap;\r\n    TextView st_id,st_name,st_schoolName;\r\n    private DatabaseReference databaseReference;\r\n    final ArrayList&lt;showDataCustomLayout&gt; subjects = new ArrayList&lt;showDataCustomLayout&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_show_student_data);\r\n\r\n\r\n        // Finding Id&#39;s\r\n        st_id = findViewById(R.id.st_id);\r\n        st_name = findViewById(R.id.st_name);\r\n        st_schoolName = findViewById(R.id.st_schoolName);\r\n        showSubjectListView = findViewById(R.id.showSubjectListView);\r\n//        showMarksListView = findViewById(R.id.marksListView);\r\n\r\n        final ArrayList&lt;showDataCustomLayout&gt; subjectArrayList = new ArrayList&lt;showDataCustomLayout&gt;();\r\n\r\n\r\n\r\n\r\n\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;StudentReportLogin&quot;,MODE_PRIVATE);\r\n\r\n        id = sharedPreferences.getString(&quot;ID&quot;,null);\r\n        st_id.setText(id);\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n\r\n\r\n\r\n        settingHeaderValues(id);\r\n\r\n        showingMarks(id);\r\n\r\n    }\r\n\r\n    private void showingMarks(String id) {\r\n//        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this,R.layout.student_marks_data_layout,subjects);\r\n        final MarksArrayAdapter adapter = new MarksArrayAdapter(this,subjects);\r\n        databaseReference.child(&quot;Student Marks/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    for(DataSnapshot ds : snapshot.getChildren()){\r\n                        String subject = ds.getKey();\r\n                        showDataCustomLayout sub = new showDataCustomLayout(subject,subject,subject);\r\n                        subjects.add(sub);\r\n//                        marksHashMap = new HashMap&lt;String,String&gt;();\r\n//                        for (DataSnapshot ds1 : ds.getChildren()){\r\n//                            marksHashMap.put(ds1.getKey(),ds1.getValue(String.class));\r\n//                        }\r\n//                        adapter.notifyDataSetChanged();\r\n//                        Log.e(&quot;sub&quot;,subject);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n//        showSubjectListView.setAdapter(adapter);\r\n        showSubjectListView.setAdapter(adapter);\r\n    }\r\n\r\n    private void settingHeaderValues(String id) {\r\n        databaseReference.child(&quot;StudentInfo/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    st_name.setText(snapshot.child(&quot;student_Name&quot;).getValue(String.class));\r\n                    st_schoolName.setText(snapshot.child(&quot;student_School&quot;).getValue(String.class));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nCustom Adapter \r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MarksArrayAdapter extends ArrayAdapter&lt;showDataCustomLayout&gt; {\r\n    public MarksArrayAdapter(@NonNull Context context, ArrayList&lt;showDataCustomLayout&gt; arrayList) {\r\n        super(context, 0,arrayList);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        View currentItemView = convertView;\r\n\r\n        if (currentItemView == null){\r\n            currentItemView = LayoutInflater.from(getContext()).inflate(R.layout.student_marks_data_show_layout,parent,false);\r\n        }\r\n\r\n        showDataCustomLayout currentmarks = getItem(position);\r\n\r\n        TextView textView = currentItemView.findViewById(R.id.subjectName);\r\n        textView.setText(currentmarks.getSubject());\r\n\r\n        TextView textView1 = currentItemView.findViewById(R.id.test_number);\r\n        textView1.setText(currentmarks.getTest());\r\n\r\n        TextView textView2 = currentItemView.findViewById(R.id.test_marks);\r\n        textView2.setText(currentmarks.getNumber());\r\n\r\n        return currentItemView;\r\n    }\r\n}\r\n\r\n```\r\n\r\nModel class\r\n\r\n```\r\npackage com.gov.thecoachinginstitute;\r\n\r\npublic class showDataCustomLayout {\r\n    private String subject,test,number;\r\n\r\n    public showDataCustomLayout(String subject, String test,String number) {\r\n        this.subject = subject;\r\n        this.test = test;\r\n        this.number = number;\r\n    }\r\n\r\n    public String getSubject() {\r\n        return subject;\r\n    }\r\n\r\n    public String getTest() {\r\n        return test;\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n}\r\n\r\n```\r\n\r\nLayout File for subject name which includes test marks layout file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:cardCornerRadius=&quot;10sp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@color/white&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/subjectName&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Subject&quot;\r\n                android:textColor=&quot;#707BFE&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:padding=&quot;5sp&quot;/&gt;\r\n\r\n            &lt;include\r\n                layout=&quot;@layout/student_marks_data_show_layout&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/test_number&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Present&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/test_marks&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Present&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\nNot getting the expected result ","title":"Retrieving Nested Data from Firebase Realtime Database","body":"<p>I want to retrieve data from realtime database in a manner that I can display data like this <a href=\"https://i.stack.imgur.com/5yxPV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Data is stored in this way:</p>\n<p><img src=\"https://i.stack.imgur.com/Qkmla.png\" alt=\"enter image description here\" /></p>\n<p>data should appear like subject then all the tests given under that subject\n, then in next cardview another subject and all the tests given under that subject</p>\n<p>File where I am trying to fetch data from Firebase</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.WindowManager;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class ShowStudentData extends AppCompatActivity {\n    private String id;\n    private ListView showSubjectListView,showMarksListView;\n    private HashMap&lt;String,String&gt; marksHashMap;\n    TextView st_id,st_name,st_schoolName;\n    private DatabaseReference databaseReference;\n    final ArrayList&lt;showDataCustomLayout&gt; subjects = new ArrayList&lt;showDataCustomLayout&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_student_data);\n\n\n        // Finding Id's\n        st_id = findViewById(R.id.st_id);\n        st_name = findViewById(R.id.st_name);\n        st_schoolName = findViewById(R.id.st_schoolName);\n        showSubjectListView = findViewById(R.id.showSubjectListView);\n//        showMarksListView = findViewById(R.id.marksListView);\n\n        final ArrayList&lt;showDataCustomLayout&gt; subjectArrayList = new ArrayList&lt;showDataCustomLayout&gt;();\n\n\n\n\n\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;StudentReportLogin&quot;,MODE_PRIVATE);\n\n        id = sharedPreferences.getString(&quot;ID&quot;,null);\n        st_id.setText(id);\n\n        databaseReference = FirebaseDatabase.getInstance().getReference();\n\n\n\n        settingHeaderValues(id);\n\n        showingMarks(id);\n\n    }\n\n    private void showingMarks(String id) {\n//        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this,R.layout.student_marks_data_layout,subjects);\n        final MarksArrayAdapter adapter = new MarksArrayAdapter(this,subjects);\n        databaseReference.child(&quot;Student Marks/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    for(DataSnapshot ds : snapshot.getChildren()){\n                        String subject = ds.getKey();\n                        showDataCustomLayout sub = new showDataCustomLayout(subject,subject,subject);\n                        subjects.add(sub);\n//                        marksHashMap = new HashMap&lt;String,String&gt;();\n//                        for (DataSnapshot ds1 : ds.getChildren()){\n//                            marksHashMap.put(ds1.getKey(),ds1.getValue(String.class));\n//                        }\n//                        adapter.notifyDataSetChanged();\n//                        Log.e(&quot;sub&quot;,subject);\n                    }\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n//        showSubjectListView.setAdapter(adapter);\n        showSubjectListView.setAdapter(adapter);\n    }\n\n    private void settingHeaderValues(String id) {\n        databaseReference.child(&quot;StudentInfo/&quot;+id).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    st_name.setText(snapshot.child(&quot;student_Name&quot;).getValue(String.class));\n                    st_schoolName.setText(snapshot.child(&quot;student_School&quot;).getValue(String.class));\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>Custom Adapter</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\npublic class MarksArrayAdapter extends ArrayAdapter&lt;showDataCustomLayout&gt; {\n    public MarksArrayAdapter(@NonNull Context context, ArrayList&lt;showDataCustomLayout&gt; arrayList) {\n        super(context, 0,arrayList);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        View currentItemView = convertView;\n\n        if (currentItemView == null){\n            currentItemView = LayoutInflater.from(getContext()).inflate(R.layout.student_marks_data_show_layout,parent,false);\n        }\n\n        showDataCustomLayout currentmarks = getItem(position);\n\n        TextView textView = currentItemView.findViewById(R.id.subjectName);\n        textView.setText(currentmarks.getSubject());\n\n        TextView textView1 = currentItemView.findViewById(R.id.test_number);\n        textView1.setText(currentmarks.getTest());\n\n        TextView textView2 = currentItemView.findViewById(R.id.test_marks);\n        textView2.setText(currentmarks.getNumber());\n\n        return currentItemView;\n    }\n}\n\n</code></pre>\n<p>Model class</p>\n<pre><code>package com.gov.thecoachinginstitute;\n\npublic class showDataCustomLayout {\n    private String subject,test,number;\n\n    public showDataCustomLayout(String subject, String test,String number) {\n        this.subject = subject;\n        this.test = test;\n        this.number = number;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public String getTest() {\n        return test;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n}\n\n</code></pre>\n<p>Layout File for subject name which includes test marks layout file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        app:cardCornerRadius=&quot;10sp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:background=&quot;@color/white&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/subjectName&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Subject&quot;\n                android:textColor=&quot;#707BFE&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;20sp&quot;\n                android:padding=&quot;5sp&quot;/&gt;\n\n            &lt;include\n                layout=&quot;@layout/student_marks_data_show_layout&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/test_number&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Present&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/test_marks&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Present&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Not getting the expected result</p>\n"},{"tags":["java","spring","asynchronous","async-await"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690587966,"post_id":76791346,"comment_id":135379253,"body_markdown":"Did you look at CompletableFuture? That&#39;ll cover most basic use cases. If you need more fine-tuning, you can use a custom Executor or maybe a ForkJoinPool (if tasks are recursive).","body":"Did you look at CompletableFuture? That&#39;ll cover most basic use cases. If you need more fine-tuning, you can use a custom Executor or maybe a ForkJoinPool (if tasks are recursive)."},{"owner":{"account_id":1534638,"reputation":132,"user_id":3108655,"display_name":"verpfeilt"},"score":0,"creation_date":1691001106,"post_id":76791346,"comment_id":135432822,"body_markdown":"I saw it, but the documentation does not answer my questions. It is the most modern way to do it in java?","body":"I saw it, but the documentation does not answer my questions. It is the most modern way to do it in java?"}],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690640290,"creation_date":1690628563,"answer_id":76793253,"question_id":76791346,"body_markdown":"           You can use completable future to call the \r\n           service and collects its response / returned data asynchronously\r\n\r\n           Map &lt; String, List&lt;Object&gt;&gt; map //map with populated             values\r\n\r\n           Map &lt; String, List&lt;Object&gt;&gt; responseMap =     map.entrySet().stream()\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; {\r\n            List&lt;Object&gt; objects = entry.getValue();\r\n            List &lt; CompletableFuture&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            for (Object object: objects) {\r\n                futures.add(service.asyncMethod(object));\r\n            }\r\n\r\n            return futures.stream()\r\n                .map(CompletableFuture::join)\r\n                .collect(Collectors.toList());\r\n        }\r\n    ));\r\n\r\n       // asyncMethod in any service \r\n\r\n       @Async\r\n     public CompletableFuture&lt;Object&gt; asyncMethod(Object object) {\r\n    // do some asynchronous processing\r\n    return CompletableFuture.completedFuture(response);\r\n       }\r\n    //custom thread pool\r\n       @Aynsc in spring uses a default thread pool with single\r\n    thread if we don’t specify the thread pool. To execute it  on multiple threads custom thread pool should be created and  add it in @Async annotation.\r\n\r\n        1. Create a configuration class that implements AsyncConfigurer with @EnableAsync and @Configuration.\r\n        2. Override getAsyncExecutor()\r\n        3.define ThreadPoolTaskExecutor with core size, max size of threads and queue capacity and set any name to thread “myThread” and initialize() it.\r\n\r\n        @Aynsc(“myThread”) to be used in annotation if custom thread pool is used\r\n\r\n      The asynchronous processing in Java is similar to other languages. \r\n    1. In other language Async tasks, it’s executed in non blocking way. The main thread is not blocked till the execution completes. \r\n    Java Futures are blocking by default , but non blocking way can be achieved by using Completable Future. \r\n\r\n\r\n\r\n   ","title":"How do Java Futures work compared to other languages async features?","body":"<pre><code>       You can use completable future to call the \n       service and collects its response / returned data asynchronously\n\n       Map &lt; String, List&lt;Object&gt;&gt; map //map with populated             values\n\n       Map &lt; String, List&lt;Object&gt;&gt; responseMap =     map.entrySet().stream()\n.collect(Collectors.toMap(\n    Map.Entry::getKey,\n    entry -&gt; {\n        List&lt;Object&gt; objects = entry.getValue();\n        List &lt; CompletableFuture&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        for (Object object: objects) {\n            futures.add(service.asyncMethod(object));\n        }\n\n        return futures.stream()\n            .map(CompletableFuture::join)\n            .collect(Collectors.toList());\n    }\n));\n\n   // asyncMethod in any service \n\n   @Async\n public CompletableFuture&lt;Object&gt; asyncMethod(Object object) {\n// do some asynchronous processing\nreturn CompletableFuture.completedFuture(response);\n   }\n//custom thread pool\n   @Aynsc in spring uses a default thread pool with single\nthread if we don’t specify the thread pool. To execute it  on multiple threads custom thread pool should be created and  add it in @Async annotation.\n\n    1. Create a configuration class that implements AsyncConfigurer with @EnableAsync and @Configuration.\n    2. Override getAsyncExecutor()\n    3.define ThreadPoolTaskExecutor with core size, max size of threads and queue capacity and set any name to thread “myThread” and initialize() it.\n\n    @Aynsc(“myThread”) to be used in annotation if custom thread pool is used\n\n  The asynchronous processing in Java is similar to other languages. \n1. In other language Async tasks, it’s executed in non blocking way. The main thread is not blocked till the execution completes. \nJava Futures are blocking by default , but non blocking way can be achieved by using Completable Future. \n</code></pre>\n"}],"owner":{"account_id":1534638,"reputation":132,"user_id":3108655,"display_name":"verpfeilt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690640290,"creation_date":1690583566,"question_id":76791346,"body_markdown":"**Some background:**\r\n\r\nI have a task that consists of independent pieces, basically a for-each loop over key-value pairs that get processed. Usually between 10 and 30 of them. If the cache is empty, there will be a bunch of requests to another service *per piece*, resulting in a large amount of requests. With the cache being empty, it takes ~20 seconds. With a full cache, it is done in under a second (feels immediately, didn&#39;t measure).\r\n\r\nI want to use asynchronous code to speed things up also for the empty cache cases, so I looked into Java Futures and am a bit overwhelmed. I see a lot of examples, but I am missing the important understanding how things work, even though I know Futures from other languages. The examples are typically a simple, blocking function call.\r\n\r\nWe currently use Java 17 and Spring Boot (currently v2, migration to v3 is ongoing), but I am happy with newer language features as long as they compile down to something that runs on a Java 17 runtime.\r\n\r\n**The question:**\r\n\r\nWhen it comes to real tasks, I had in other projects/languages often the case of having async function calls within other async function calls. How would I do this in Java? Do I need an async HTTP client in order to gain some performance, or does Java do its magic with blocking code? Do I have to submit internal Futures to an Executor? Can it be the same of the parent future? What is the most modern way with the least boilerplate code? How does this relate to async-await syntax in other languages?\r\n\r\nAsync works a bit different depending on the language, and for some reason I did not find any detailed information about this. Also, it is hard for me to distinguish outdated from up-to-date information in the Java world. I feel the question is pretty stupid, but I did not manage to find much useful information in the large amounts of blog posts out there.","title":"How do Java Futures work compared to other languages async features?","body":"<p><strong>Some background:</strong></p>\n<p>I have a task that consists of independent pieces, basically a for-each loop over key-value pairs that get processed. Usually between 10 and 30 of them. If the cache is empty, there will be a bunch of requests to another service <em>per piece</em>, resulting in a large amount of requests. With the cache being empty, it takes ~20 seconds. With a full cache, it is done in under a second (feels immediately, didn't measure).</p>\n<p>I want to use asynchronous code to speed things up also for the empty cache cases, so I looked into Java Futures and am a bit overwhelmed. I see a lot of examples, but I am missing the important understanding how things work, even though I know Futures from other languages. The examples are typically a simple, blocking function call.</p>\n<p>We currently use Java 17 and Spring Boot (currently v2, migration to v3 is ongoing), but I am happy with newer language features as long as they compile down to something that runs on a Java 17 runtime.</p>\n<p><strong>The question:</strong></p>\n<p>When it comes to real tasks, I had in other projects/languages often the case of having async function calls within other async function calls. How would I do this in Java? Do I need an async HTTP client in order to gain some performance, or does Java do its magic with blocking code? Do I have to submit internal Futures to an Executor? Can it be the same of the parent future? What is the most modern way with the least boilerplate code? How does this relate to async-await syntax in other languages?</p>\n<p>Async works a bit different depending on the language, and for some reason I did not find any detailed information about this. Also, it is hard for me to distinguish outdated from up-to-date information in the Java world. I feel the question is pretty stupid, but I did not manage to find much useful information in the large amounts of blog posts out there.</p>\n"},{"tags":["java","performance","jvm","tostring","stringbuilder"],"comments":[{"owner":{"account_id":333792,"reputation":601,"user_id":659841,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1495602129,"post_id":44149299,"comment_id":75315759,"body_markdown":"possible duplicate: https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator","body":"possible duplicate: <a href=\"https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator\" title=\"string concatenation concat vs operator\">stackoverflow.com/questions/47605/&hellip;</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495602283,"post_id":44149299,"comment_id":75315811,"body_markdown":"@Eric I am afraid this is not related to above mentioned question. Because in this question he clearly stated that **the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects)**. However, I am talking about conversion happening into **StringBuilder**. Please fill me in If something is missing.","body":"@Eric I am afraid this is not related to above mentioned question. Because in this question he clearly stated that <b>the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects)</b>. However, I am talking about conversion happening into <b>StringBuilder</b>. Please fill me in If something is missing."},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1495602371,"post_id":44149299,"comment_id":75315839,"body_markdown":"@MehrajMalik did you even look at the accepted answer? That&#180;s pretty much a spot on dupe","body":"@MehrajMalik did you even look at the accepted answer? That&#180;s pretty much a spot on dupe"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":3,"creation_date":1495602611,"post_id":44149299,"comment_id":75315914,"body_markdown":"@SomeJavaGuy Yes, I did. He mentioned that StringBuilder conversion is happening behind **+** operator. However, my question is that does this happen all the time or it needs some specific condition. As stated in blog(In most cases it happens). So what are the cases in which it does not convert into StringBuilder?","body":"@SomeJavaGuy Yes, I did. He mentioned that StringBuilder conversion is happening behind <b>+</b> operator. However, my question is that does this happen all the time or it needs some specific condition. As stated in blog(In most cases it happens). So what are the cases in which it does not convert into StringBuilder?"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495605746,"post_id":44149299,"comment_id":75317298,"body_markdown":"DOWNVOTERS, could you please care to tell what is wrong with this question?","body":"DOWNVOTERS, could you please care to tell what is wrong with this question?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1495609148,"post_id":44149299,"comment_id":75319141,"body_markdown":"Possible duplicate of [String concatenation: concat() vs &quot;+&quot; operator](https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/47605/string-concatenation-concat-vs-operator\">String concatenation: concat() vs &quot;+&quot; operator</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1495610201,"post_id":44149299,"comment_id":75319812,"body_markdown":"@OleV.V. NO, CRYSTAL CLEAR, it&#39;s not duplicate.","body":"@OleV.V. NO, CRYSTAL CLEAR, it&#39;s not duplicate."},{"owner":{"account_id":10728156,"reputation":127,"user_id":7895066,"accept_rate":50,"display_name":"Kangkan"},"score":1,"creation_date":1495697562,"post_id":44149299,"comment_id":75364508,"body_markdown":"You may like to see this. [http://www.pellegrino.link/2015/08/22/string-concatenation-with-java-8.html]  . Adding string with &quot;+&quot; will give you O(n^2) complexity while StringBuilder&#39;s append(String) method will give you O(n) complexity","body":"You may like to see this. [<a href=\"http://www.pellegrino.link/2015/08/22/string-concatenation-with-java-8.html]\" rel=\"nofollow noreferrer\">pellegrino.link/2015/08/22/&hellip;</a>  . Adding string with &quot;+&quot; will give you O(n^2) complexity while StringBuilder&#39;s append(String) method will give you O(n) complexity"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1690639959,"creation_date":1495603373,"answer_id":44149600,"question_id":44149299,"body_markdown":"The rule\r\n\r\n&gt; “do not concatenate Strings with + !!!“\r\n\r\nis wrong, because it is incomplete and therefore misleading.\r\n\r\nThe rule is\r\n\r\n&gt; do not concatenate Strings with + **in a loop**\r\n\r\nand that rule still holds. The original rule was never meant to be applied outside of loops!\r\n\r\nA simple loop\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; 10000; i++) { s += i; }\r\n    System.out.println(s);\r\n\r\nis still much still much slower than\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; 10000; i++) { sb.append(i); }\r\n    System.out.println(sb.toString());\r\n\r\nbecause the Java compiler has to translate the first loop into\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; 1000; i++) { s = new StringBuilder(s).append(i).toString(); }\r\n    System.out.println(s);\r\n\r\nAlso the claim \r\n\r\n&gt; Today the JVM compiles the + symbol into a string builder (in most cases).\r\n\r\nis misleading at least, because this translation was already done with Java 1.0 (ok, not with StringBuilder but with StringBuffer, because StringBuilder was only added with Java5).\r\n\r\n----\r\n\r\nOne could also argue that the claim\r\n\r\n&gt; Today the JVM compiles the + symbol into a string builder (in most cases).\r\n\r\nis simply wrong, because the compilation is not done by the JVM. It is done by the Java Compiler.\r\n\r\n----\r\n\r\nFor the question: when does the Java compiler use `StringBuilder.append()` and when does it use some other mechanism?\r\n\r\nThe source code of the Java compiler (version 1.8) contains two places where String concatenation through the `+` operator is handled.\r\n\r\n - the first place is String constant folding (http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314). In this case the compiler can calculate the resulting string and works with the resulting string.\r\n - the second place is where the compiler creates the code for assignment operations (http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056). In this case the compiler always emits code to create a `StringBuilder`\r\n\r\nThe conclusion is that for the Java compiler from the OpenJDK (which means the compiler distributed by Oracle) the phrase *in most cases* means **always**. (Though this could change with Java 9, or it could be that another Java compiler like the one that is included within Eclipse uses some other mechanism).","title":"String concatenation with the + symbol","body":"<p>The rule</p>\n<blockquote>\n<p>“do not concatenate Strings with + !!!“</p>\n</blockquote>\n<p>is wrong, because it is incomplete and therefore misleading.</p>\n<p>The rule is</p>\n<blockquote>\n<p>do not concatenate Strings with + <strong>in a loop</strong></p>\n</blockquote>\n<p>and that rule still holds. The original rule was never meant to be applied outside of loops!</p>\n<p>A simple loop</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; 10000; i++) { s += i; }\nSystem.out.println(s);\n</code></pre>\n<p>is still much still much slower than</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; 10000; i++) { sb.append(i); }\nSystem.out.println(sb.toString());\n</code></pre>\n<p>because the Java compiler has to translate the first loop into</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; 1000; i++) { s = new StringBuilder(s).append(i).toString(); }\nSystem.out.println(s);\n</code></pre>\n<p>Also the claim</p>\n<blockquote>\n<p>Today the JVM compiles the + symbol into a string builder (in most cases).</p>\n</blockquote>\n<p>is misleading at least, because this translation was already done with Java 1.0 (ok, not with StringBuilder but with StringBuffer, because StringBuilder was only added with Java5).</p>\n<hr />\n<p>One could also argue that the claim</p>\n<blockquote>\n<p>Today the JVM compiles the + symbol into a string builder (in most cases).</p>\n</blockquote>\n<p>is simply wrong, because the compilation is not done by the JVM. It is done by the Java Compiler.</p>\n<hr />\n<p>For the question: when does the Java compiler use <code>StringBuilder.append()</code> and when does it use some other mechanism?</p>\n<p>The source code of the Java compiler (version 1.8) contains two places where String concatenation through the <code>+</code> operator is handled.</p>\n<ul>\n<li>the first place is String constant folding (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/comp/ConstFold.java?av=f#314</a>). In this case the compiler can calculate the resulting string and works with the resulting string.</li>\n<li>the second place is where the compiler creates the code for assignment operations (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/com/sun/tools/javac/jvm/Gen.java?av=f#2056</a>). In this case the compiler always emits code to create a <code>StringBuilder</code></li>\n</ul>\n<p>The conclusion is that for the Java compiler from the OpenJDK (which means the compiler distributed by Oracle) the phrase <em>in most cases</em> means <strong>always</strong>. (Though this could change with Java 9, or it could be that another Java compiler like the one that is included within Eclipse uses some other mechanism).</p>\n"},{"tags":[],"owner":{"account_id":7989302,"reputation":9998,"user_id":6027638,"accept_rate":89,"display_name":"PEHLAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495612348,"creation_date":1495604398,"answer_id":44149838,"question_id":44149299,"body_markdown":"When you concatenate strings using + operator, compiler translates concatenation code to use `StringBuffer` for better performance. In order to improve performance `StringBuffer` is the better choice.\r\n\r\nThe quickest way of concatenate two string using + operator.\r\n\r\n    String str = &quot;Java&quot;;\r\n    str = str + &quot;Tutorial&quot;;\r\n\r\nThe compiler translates this code as:\r\n\r\n    String s1 = &quot;Java&quot;;\r\n    StringBuffer sb = new StringBuffer(s1);\r\n    sb.append(&quot;Tutorial&quot;);\r\n    s1 = sb.toString();\r\n\r\nSo it is better to use `StringBuffer` OR `String.format` for concatenation\r\n\r\nUsing `String.format`   \r\n\r\n    String s = String.format(&quot;%s %s&quot;, &quot;Java&quot;, &quot;Tutorial&quot;);\r\n","title":"String concatenation with the + symbol","body":"<p>When you concatenate strings using + operator, compiler translates concatenation code to use <code>StringBuffer</code> for better performance. In order to improve performance <code>StringBuffer</code> is the better choice.</p>\n\n<p>The quickest way of concatenate two string using + operator.</p>\n\n<pre><code>String str = \"Java\";\nstr = str + \"Tutorial\";\n</code></pre>\n\n<p>The compiler translates this code as:</p>\n\n<pre><code>String s1 = \"Java\";\nStringBuffer sb = new StringBuffer(s1);\nsb.append(\"Tutorial\");\ns1 = sb.toString();\n</code></pre>\n\n<p>So it is better to use <code>StringBuffer</code> OR <code>String.format</code> for concatenation</p>\n\n<p>Using <code>String.format</code>   </p>\n\n<pre><code>String s = String.format(\"%s %s\", \"Java\", \"Tutorial\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495626662,"creation_date":1495626662,"answer_id":44157608,"question_id":44149299,"body_markdown":"The statement, in this exact form, is just wrong, and it fits into the picture that the linked blog continues to write nonsense, like that you had to wrap references with `Objects.toString(…)` to handle `null`, e.g. `&quot;att1=&#39;&quot; + Objects.toString(att1) + &#39;\\&#39;&#39;` instead of just `&quot;att1=&#39;&quot; + att1 + &#39;\\&#39;&#39;`. There is no need to do that and apparently, the author did never re-check these claims.\r\n\r\nThe JVM is not responsible for compiling the `+` operator, as this operator is merely a source code artifact. It’s the compiler, e.g. `javac` which is responsible, and while there is no guaranty about the compiled form, compilers are encouraged to use a builder by the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1):\r\n\r\n&gt; *An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.*\r\n\r\nNote that even if a compiler does not perform this optimization, there still is no such thing as a `+` operator on the byte code level, so the compiler has to pick an operation, a JVM understands, e.g. using `String.concat`, which might be even faster than using a `StringBuilder` in the case you’re just concatenating exactly two strings.\r\n\r\nEven assuming the worst compilation strategy for string concatenation (still being within the specification), it would be wrong to say to never concatenate strings with `+`, as when you are defining compile time constants, using `+` is the only choice, and, of course, a compile-time constant is usually more efficient than using a `StringBuilder` at runtime.\r\n\r\nIn practice, the `+` operator applied to non constant strings was compiled to a `StringBuffer` usage before Java&#160;5 and to a `StringBuilder` usage in Java&#160;5 to Java&#160;8. When the compiled code is identical to the manual usage of `StringBuffer` resp. `StringBuilder`, there can’t be a performance difference.\r\n\r\nThe transition to Java&#160;5, more than a decade ago, was the first time, where string concatenation via `+` had a clear win over manual `StringBuffer` use, as simply recompiling the concatenation code made it use the potentially faster `StringBuilder` internally, while the code manually dealing with `StringBuffer` needed to be rewritten to use `StringBuilder`, which had been introduced in that version.\r\n\r\nLikewise, Java&#160;9 is going to compile the string concatenation using an `invokedynamic` instruction allowing the JRE to bind it to actual code doing the operation, including optimizations not possible in ordinary Java code. So only recompiling the string concatenation code is needed to get this feature, while there is no equivalent manual usage for it.\r\n\r\nThat said, while the premise is wrong, i.e. string concatenation never was considered evil, the advice is correct, do not hesitate to use it.\r\n\r\nThere are only a few cases where you really might improve performance by dealing with a buffer manually, i.e. when you need a large initial capacity or concatenate a lot within loops *and that code has been identified as an actual performance bottleneck by a profiling tool*…","title":"String concatenation with the + symbol","body":"<p>The statement, in this exact form, is just wrong, and it fits into the picture that the linked blog continues to write nonsense, like that you had to wrap references with <code>Objects.toString(…)</code> to handle <code>null</code>, e.g. <code>\"att1='\" + Objects.toString(att1) + '\\''</code> instead of just <code>\"att1='\" + att1 + '\\''</code>. There is no need to do that and apparently, the author did never re-check these claims.</p>\n\n<p>The JVM is not responsible for compiling the <code>+</code> operator, as this operator is merely a source code artifact. It’s the compiler, e.g. <code>javac</code> which is responsible, and while there is no guaranty about the compiled form, compilers are encouraged to use a builder by the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n\n<blockquote>\n  <p><em>An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.</em></p>\n</blockquote>\n\n<p>Note that even if a compiler does not perform this optimization, there still is no such thing as a <code>+</code> operator on the byte code level, so the compiler has to pick an operation, a JVM understands, e.g. using <code>String.concat</code>, which might be even faster than using a <code>StringBuilder</code> in the case you’re just concatenating exactly two strings.</p>\n\n<p>Even assuming the worst compilation strategy for string concatenation (still being within the specification), it would be wrong to say to never concatenate strings with <code>+</code>, as when you are defining compile time constants, using <code>+</code> is the only choice, and, of course, a compile-time constant is usually more efficient than using a <code>StringBuilder</code> at runtime.</p>\n\n<p>In practice, the <code>+</code> operator applied to non constant strings was compiled to a <code>StringBuffer</code> usage before Java 5 and to a <code>StringBuilder</code> usage in Java 5 to Java 8. When the compiled code is identical to the manual usage of <code>StringBuffer</code> resp. <code>StringBuilder</code>, there can’t be a performance difference.</p>\n\n<p>The transition to Java 5, more than a decade ago, was the first time, where string concatenation via <code>+</code> had a clear win over manual <code>StringBuffer</code> use, as simply recompiling the concatenation code made it use the potentially faster <code>StringBuilder</code> internally, while the code manually dealing with <code>StringBuffer</code> needed to be rewritten to use <code>StringBuilder</code>, which had been introduced in that version.</p>\n\n<p>Likewise, Java 9 is going to compile the string concatenation using an <code>invokedynamic</code> instruction allowing the JRE to bind it to actual code doing the operation, including optimizations not possible in ordinary Java code. So only recompiling the string concatenation code is needed to get this feature, while there is no equivalent manual usage for it.</p>\n\n<p>That said, while the premise is wrong, i.e. string concatenation never was considered evil, the advice is correct, do not hesitate to use it.</p>\n\n<p>There are only a few cases where you really might improve performance by dealing with a buffer manually, i.e. when you need a large initial capacity or concatenate a lot within loops <em>and that code has been identified as an actual performance bottleneck by a profiling tool</em>…</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495694461,"creation_date":1495694461,"answer_id":44173941,"question_id":44149299,"body_markdown":"Holger is right in his comment that in java-9 `+` for String concatenation is going to change from a `StringBuilder` to *a strategy chosen by the JRE* via `invokedynamic`. There are 6 strategies that are possible for `String concatenation` in jdk-9:\r\n\r\n      private enum Strategy {\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder}.\r\n         */\r\n        BC_SB,\r\n\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n         * but trying to estimate the required storage.\r\n         */\r\n        BC_SB_SIZED,\r\n\r\n        /**\r\n         * Bytecode generator, calling into {@link java.lang.StringBuilder};\r\n         * but computing the required storage exactly.\r\n         */\r\n        BC_SB_SIZED_EXACT,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n         * This strategy also tries to estimate the required storage.\r\n         */\r\n        MH_SB_SIZED,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\r\n         * This strategy also estimate the required storage exactly.\r\n         */\r\n        MH_SB_SIZED_EXACT,\r\n\r\n        /**\r\n         * MethodHandle-based generator, that constructs its own byte[] array from\r\n         * the arguments. It computes the required storage exactly.\r\n         */\r\n        MH_INLINE_SIZED_EXACT\r\n    }\r\n\r\nAnd the default one *is not* using a StringBuilder, it is `MH_INLINE_SIZED_EXACT`. It is actually pretty crazy how the implementation works, and it is trying to be highly optimized.  \r\n\r\nSo, no the advice there as far as I can tell is bad. That by the way is the main effort that was put into by jdk by Aleksey Shipilev. He also added a big change into String internals in jdk-9 as they are now backed by a `byte[]` instead of `char[]`. This needed because `ISO_LATIN_1` Strings can be encoded in a single byte (one character - one byte) so a lot of less space. ","title":"String concatenation with the + symbol","body":"<p>Holger is right in his comment that in java-9 <code>+</code> for String concatenation is going to change from a <code>StringBuilder</code> to <em>a strategy chosen by the JRE</em> via <code>invokedynamic</code>. There are 6 strategies that are possible for <code>String concatenation</code> in jdk-9:</p>\n\n<pre><code>  private enum Strategy {\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder}.\n     */\n    BC_SB,\n\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder};\n     * but trying to estimate the required storage.\n     */\n    BC_SB_SIZED,\n\n    /**\n     * Bytecode generator, calling into {@link java.lang.StringBuilder};\n     * but computing the required storage exactly.\n     */\n    BC_SB_SIZED_EXACT,\n\n    /**\n     * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n     * This strategy also tries to estimate the required storage.\n     */\n    MH_SB_SIZED,\n\n    /**\n     * MethodHandle-based generator, that in the end calls into {@link java.lang.StringBuilder}.\n     * This strategy also estimate the required storage exactly.\n     */\n    MH_SB_SIZED_EXACT,\n\n    /**\n     * MethodHandle-based generator, that constructs its own byte[] array from\n     * the arguments. It computes the required storage exactly.\n     */\n    MH_INLINE_SIZED_EXACT\n}\n</code></pre>\n\n<p>And the default one <em>is not</em> using a StringBuilder, it is <code>MH_INLINE_SIZED_EXACT</code>. It is actually pretty crazy how the implementation works, and it is trying to be highly optimized.  </p>\n\n<p>So, no the advice there as far as I can tell is bad. That by the way is the main effort that was put into by jdk by Aleksey Shipilev. He also added a big change into String internals in jdk-9 as they are now backed by a <code>byte[]</code> instead of <code>char[]</code>. This needed because <code>ISO_LATIN_1</code> Strings can be encoded in a single byte (one character - one byte) so a lot of less space. </p>\n"}],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5788,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44149600,"answer_count":4,"score":3,"last_activity_date":1690639959,"creation_date":1495601894,"question_id":44149299,"body_markdown":"Today I was reading [Antonio&#39;s Blog about toString() performance][1] and there is a paragraph: \r\n\r\n&gt;  What used to be considered evil yesterday (“do not concatenate Strings with + !!!“), has become cool and efficient! **Today the JVM compiles the + symbol into a string builder (in most cases)**. So, do not hesitate, use it. \r\n\r\nNow I am confused, because he is saying **Today the JVM compiles the + symbol into a string builder (in most cases)**, but I have never heard or seen(code) anything like this before. \r\n\r\nCould someone please give example **where JVM does this and in what conditions it happens**?\r\n\r\n\r\n\r\n\r\n  [1]: https://antoniogoncalves.org/2015/06/30/who-cares-about-tostring-performance/","title":"String concatenation with the + symbol","body":"<p>Today I was reading <a href=\"https://antoniogoncalves.org/2015/06/30/who-cares-about-tostring-performance/\" rel=\"nofollow noreferrer\">Antonio's Blog about toString() performance</a> and there is a paragraph: </p>\n\n<blockquote>\n  <p>What used to be considered evil yesterday (“do not concatenate Strings with + !!!“), has become cool and efficient! <strong>Today the JVM compiles the + symbol into a string builder (in most cases)</strong>. So, do not hesitate, use it. </p>\n</blockquote>\n\n<p>Now I am confused, because he is saying <strong>Today the JVM compiles the + symbol into a string builder (in most cases)</strong>, but I have never heard or seen(code) anything like this before. </p>\n\n<p>Could someone please give example <strong>where JVM does this and in what conditions it happens</strong>?</p>\n"},{"tags":["java","sql"],"owner":{"account_id":19030072,"reputation":93,"user_id":13892371,"display_name":"kalumbo Nyamabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690639956,"creation_date":1690639956,"question_id":76793944,"body_markdown":"I&#39;m sure my problem is simple, but since I&#39;m a java beginner, I&#39;m having a hard time solving it. I&#39;ve created a program that simulates soccer matches.\r\n\r\nHere are my 3 Classes: Championship, Match and Players.\r\n\r\nA Championship consists of a maximum of 10 encounters, played by a maximum of 23 players.\r\n\r\n```\r\npublic class Joueur  implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;jid&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long jid ;\r\n    @NotNull\r\n    @Column(columnDefinition = &quot;ENUM(&#39;AC&#39;,&#39;SA&#39;,&#39;AID&#39;, &#39;AIG&#39;, &#39;MO&#39;, &#39;MLD&#39;, &#39;MLG&#39;, &#39;MR&#39;,&#39;MD&#39;,&#39;MG&#39;,&#39;MDF&#39;,&#39;DD&#39;, &#39;DG&#39;, &#39;DC&#39;,&#39;GB&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Poste poste;\r\n    private float minJoue;\r\n    private int but;\r\n    private int passe;\r\n    private int point ;\r\n    private double cote;\r\n    @NotNull\r\n    @Column(name = &quot;NOM&quot;)\r\n    private String nom;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;joueurs&quot;)\r\n    @JsonIgnore\r\n    private List&lt;Rencontre&gt; rencontres;\r\n\r\n  \r\n\r\n public class Rencontre{\r\n    @Id\r\n    @Column(name = &quot;rid&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long rid;\r\n    private String nomEquipe;\r\n    private String nomAdversaire;\r\n    private int butEquipe;\r\n    private int butAdversaire;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;DIV1&#39;, &#39;DIV2&#39;, &#39;DIV3&#39;, &#39;DIV4&#39;, &#39;DIV5&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Division divAdversaire;\r\n    private int pointRencontre;\r\n    private Long idChamp;\r\n    private String hommeDuMatch;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;rencontre_joueur&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;rid&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;jid&quot;) })\r\n    private List&lt;Joueur&gt; joueurs;\r\n\r\n\r\n    public void addJoueur(Joueur joueur) {\r\n        this.joueurs.add(joueur);\r\n        joueur.getRencontres().add(this);\r\n    }\r\n\r\n    public void removeJoueur(long jid) {\r\n        Joueur joueur = this.joueurs.stream().filter(t -&gt; t.getJid() == jid).findFirst().orElse(null);\r\n        if (joueur != null) {\r\n            this.joueurs.remove(joueur);\r\n            joueur.getRencontres().remove(this);\r\n        }\r\n    }\r\n\r\n@Entity\r\n@Data\r\n@Table (name=&quot;Championnat&quot;)\r\npublic class Championnat implements Serializable {\r\n\r\n\r\n    //ATTRIBUTS\r\n    @Id\r\n    @Column(name = &quot;idChamp&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idChamp;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;DIV1&#39;, &#39;DIV2&#39;, &#39;DIV3&#39;, &#39;DIV4&#39;, &#39;DIV5&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Division division;\r\n    @Column(columnDefinition = &quot;ENUM(&#39;ENCOURS&#39;, &#39;RELEGATION&#39;, &#39;MAINTIEN&#39;, &#39;PROMOTION&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Statut statut;\r\n    private int pointActuelle ;\r\n    private int promotion;\r\n    private int maintien;\r\n    @Column(name = &quot;MATCH_JOUE&quot;)\r\n    private int nbrDeMatchJoue;\r\n    @OneToMany(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;idChamp&quot; , referencedColumnName= &quot;idChamp&quot;)\r\n    private List&lt;Rencontre&gt; rencontres = new ArrayList&lt;&gt;(10);\r\n\r\n}\r\n```\r\n\r\nI entered the player list manually into the database. http://localhost:8080/Joueur/all\r\n\r\n```\r\n[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0},{&quot;jid&quot;:3,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LUKAKU&quot;,&quot;minJoue&quot;:2.0,&quot;but&quot;:2,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:4,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LAUTORO&quot;,&quot;minJoue&quot;:1.0,&quot;but&quot;:1,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:5,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;MBAPPE&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:6,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;RONALDO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:7,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HULK&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:8,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;DAVID&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:9,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LEWANDOWSKI&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:10,&quot;poste&quot;:&quot;SA&quot;,&quot;nom&quot;:&quot;DELPIERO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},\r\n```\r\n\r\nWhat&#39;s my PROBLEM???\r\n\r\nWhen these players play a match and I ask to see the stats of each player DURING THAT MATCH (for example: http://localhost:8080/Rencontre/find/1 ), which returns the details of match 1, I receive the OVERALL STATISTICS of the players and not the stats of the match.\r\n\r\n```\r\n{&quot;rid&quot;:1,&quot;nomEquipe&quot;:&quot;Joga Bonito FC&quot;,&quot;nomAdversaire&quot;:&quot;RENCONTRE1&quot;,&quot;butEquipe&quot;:3,&quot;butAdversaire&quot;:1,&quot;divAdversaire&quot;:&quot;DIV1&quot;,&quot;pointRencontre&quot;:3,&quot;idChamp&quot;:1,&quot;hommeDuMatch&quot;:&quot;HAALAND&quot;,&quot;joueurs&quot;:[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0}]}\r\n```\r\n\r\nI think this error comes from the fact that I don&#39;t create a new player to play a match, but I select my instance already created in my database to play the various matches.\r\n\r\nI did a console.log() of my match BEFORE SAVING, and I noticed that the player&#39;s stats during the match were displayed.\r\n\r\n```\r\n*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom=&#39;HAALAND&#39;}]\r\n*****************UPDATE*********************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom=&#39;HAALAND&#39;}]\r\n```\r\n\r\nBut after calling the UPDATE method of my rencontreService, if I ask to see the encounter, the global values of my attributes in the database will be displayed.\r\n\r\nrencontreService(part)\r\n\r\n```\r\n @Override\r\n    public Rencontre updateRencontre(Rencontre r) {\r\n        score(r);\r\n        System.out.println(&quot;*****************UPDATE*********************&quot; + r.getJoueurs());\r\n        return rencontreRepository.save(r);\r\n    }\r\n\r\n\r\n\r\n // MODIFICATION DES POINTS ET DES MATCHS JOUEES\r\n    public void score(Rencontre rencontre){\r\n\r\n        Championnat champ = championnatServiceImpl.getChampionnat(rencontre.getIdChamp());\r\n        int  NBR_DE_MATCH_MAX = 10;\r\n\r\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********AVANT*************&quot; + rencontre.getJoueurs());\r\n        rencontre.setButEquipe(joueurServiceImpl.totalButEquipe(rencontre.getJoueurs()));\r\n\r\n        //VERIFICATION DU SCORE  + CHANG POINT RENCONTRE + CHANG POINT CHAMPIONNAT\r\n        if (rencontre.getButAdversaire() &lt; rencontre.getButEquipe()) {\r\n            rencontre.setPointRencontre(PointMatch.WIN.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }else if (rencontre.getButAdversaire() &gt; rencontre.getButEquipe()){\r\n            rencontre.setPointRencontre(PointMatch.LOST.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }else {\r\n            rencontre.setPointRencontre(PointMatch.EGALITY.getValue());\r\n            int pointChamp = champ.getPointActuelle();\r\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\r\n        }\r\n        //INCREMENTATION DU NOMBRE DE MATCH JOUEES CHAMPIONNAT\r\n        int nbrMatch = champ.getNbrDeMatchJoue();\r\n        nbrMatch++;\r\n        champ.setNbrDeMatchJoue(nbrMatch);\r\n\r\n        //VERIFICATION DU STATUT ET FIN DE CHAMPIONNAT\r\n        if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp;  champ.getPointActuelle() &gt;= champ.getPromotion()) {\r\n            champ.setStatut(Statut.PROMOTION);\r\n        } else if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getPromotion() &amp;&amp; champ.getPointActuelle() &gt;= champ.getMaintien()) {\r\n            champ.setStatut(Statut.MAINTIEN);\r\n        } else if (champ.getNbrDeMatchJoue() &gt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getMaintien()) {\r\n            champ.setStatut(Statut.RELEGATION);\r\n        } else {\r\n            champ.setStatut(Statut.ENCOURS);\r\n        }\r\n        this.championnatServiceImpl.updateChampionnat(champ);\r\n\r\n        joueurServiceImpl.totalButJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalPasseJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalMinuteJoueur(rencontre.getJoueurs());\r\n        joueurServiceImpl.totalCoteJoueur(rencontre.getJoueurs());\r\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************&quot; + rencontre.getJoueurs());\r\n    }\r\n```\r\n\r\njoueurService(part)\r\n\r\n```\r\n\r\n    public void totalButJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            int jouBut = jou.getBut();\r\n            for (Joueur j : joueurs) {\r\n                int jBut = j.getBut();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setBut(jouBut + jBut);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalPasseJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            int jouPasse = jou.getPasse();\r\n            for (Joueur j : joueurs) {\r\n                int jPasse = j.getPasse();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setPasse(jouPasse + jPasse);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalMinuteJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            float jouMin = jou.getMinJoue();\r\n            for (Joueur j : joueurs) {\r\n                float jMin = j.getMinJoue();\r\n\r\n                if (jou.getJid() == j.getJid()) {\r\n                    jou.setMinJoue(jouMin + jMin);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void totalCoteJoueur(List&lt;Joueur&gt; joueurs) {\r\n\r\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\r\n        listJoueur = getAllJoueur();\r\n\r\n\r\n        for (Joueur jou : listJoueur) {\r\n            double jouCote = jou.getCote();\r\n            for (Joueur j : joueurs) {\r\n                double jCote = j.getCote();\r\n                if (jou.getJid() == j.getJid()) {\r\n                    if (jou.getCote() == 0) {\r\n                        jou.setCote(jCote);\r\n                    } else {\r\n                        double moyenneCote = (jouCote + jCote) / 2;\r\n                        jou.setCote(moyenneCote);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nWHAT I WANT?\r\n\r\nI&#39;d like to be able to keep the stats of each player during matches, so that I can make statistical calculations for each championship, such as having a table of the top scorer, passer, playing time, etc. for EACH CHAMPIONSHIP.\r\n\r\nIn short, I think that since I never instantiate my players, it&#39;s the direct attributes of the players that I manipulate, and so when I call my different encounters, it&#39;s normal that I see the data present in the database.\r\n\r\nthank you for your help","title":"I can&#39;t view the different values of my Player instance during a match","body":"<p>I'm sure my problem is simple, but since I'm a java beginner, I'm having a hard time solving it. I've created a program that simulates soccer matches.</p>\n<p>Here are my 3 Classes: Championship, Match and Players.</p>\n<p>A Championship consists of a maximum of 10 encounters, played by a maximum of 23 players.</p>\n<pre><code>public class Joueur  implements Serializable {\n\n    @Id\n    @Column(name = &quot;jid&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long jid ;\n    @NotNull\n    @Column(columnDefinition = &quot;ENUM('AC','SA','AID', 'AIG', 'MO', 'MLD', 'MLG', 'MR','MD','MG','MDF','DD', 'DG', 'DC','GB')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Poste poste;\n    private float minJoue;\n    private int but;\n    private int passe;\n    private int point ;\n    private double cote;\n    @NotNull\n    @Column(name = &quot;NOM&quot;)\n    private String nom;\n\n\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;joueurs&quot;)\n    @JsonIgnore\n    private List&lt;Rencontre&gt; rencontres;\n\n  \n\n public class Rencontre{\n    @Id\n    @Column(name = &quot;rid&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long rid;\n    private String nomEquipe;\n    private String nomAdversaire;\n    private int butEquipe;\n    private int butAdversaire;\n    @Column(columnDefinition = &quot;ENUM('DIV1', 'DIV2', 'DIV3', 'DIV4', 'DIV5')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Division divAdversaire;\n    private int pointRencontre;\n    private Long idChamp;\n    private String hommeDuMatch;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;rencontre_joueur&quot;,\n            joinColumns = { @JoinColumn(name = &quot;rid&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;jid&quot;) })\n    private List&lt;Joueur&gt; joueurs;\n\n\n    public void addJoueur(Joueur joueur) {\n        this.joueurs.add(joueur);\n        joueur.getRencontres().add(this);\n    }\n\n    public void removeJoueur(long jid) {\n        Joueur joueur = this.joueurs.stream().filter(t -&gt; t.getJid() == jid).findFirst().orElse(null);\n        if (joueur != null) {\n            this.joueurs.remove(joueur);\n            joueur.getRencontres().remove(this);\n        }\n    }\n\n@Entity\n@Data\n@Table (name=&quot;Championnat&quot;)\npublic class Championnat implements Serializable {\n\n\n    //ATTRIBUTS\n    @Id\n    @Column(name = &quot;idChamp&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idChamp;\n    @Column(columnDefinition = &quot;ENUM('DIV1', 'DIV2', 'DIV3', 'DIV4', 'DIV5')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Division division;\n    @Column(columnDefinition = &quot;ENUM('ENCOURS', 'RELEGATION', 'MAINTIEN', 'PROMOTION')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Statut statut;\n    private int pointActuelle ;\n    private int promotion;\n    private int maintien;\n    @Column(name = &quot;MATCH_JOUE&quot;)\n    private int nbrDeMatchJoue;\n    @OneToMany(cascade = {CascadeType.ALL})\n    @JoinColumn(name = &quot;idChamp&quot; , referencedColumnName= &quot;idChamp&quot;)\n    private List&lt;Rencontre&gt; rencontres = new ArrayList&lt;&gt;(10);\n\n}\n</code></pre>\n<p>I entered the player list manually into the database. http://localhost:8080/Joueur/all</p>\n<pre><code>[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0},{&quot;jid&quot;:3,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LUKAKU&quot;,&quot;minJoue&quot;:2.0,&quot;but&quot;:2,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:4,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LAUTORO&quot;,&quot;minJoue&quot;:1.0,&quot;but&quot;:1,&quot;passe&quot;:1,&quot;cote&quot;:6.0,&quot;point&quot;:0},{&quot;jid&quot;:5,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;MBAPPE&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:6,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;RONALDO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:7,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HULK&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:8,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;DAVID&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:9,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;LEWANDOWSKI&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},{&quot;jid&quot;:10,&quot;poste&quot;:&quot;SA&quot;,&quot;nom&quot;:&quot;DELPIERO&quot;,&quot;minJoue&quot;:0.0,&quot;but&quot;:0,&quot;passe&quot;:0,&quot;cote&quot;:0.0,&quot;point&quot;:0},\n</code></pre>\n<p>What's my PROBLEM???</p>\n<p>When these players play a match and I ask to see the stats of each player DURING THAT MATCH (for example: http://localhost:8080/Rencontre/find/1 ), which returns the details of match 1, I receive the OVERALL STATISTICS of the players and not the stats of the match.</p>\n<pre><code>{&quot;rid&quot;:1,&quot;nomEquipe&quot;:&quot;Joga Bonito FC&quot;,&quot;nomAdversaire&quot;:&quot;RENCONTRE1&quot;,&quot;butEquipe&quot;:3,&quot;butAdversaire&quot;:1,&quot;divAdversaire&quot;:&quot;DIV1&quot;,&quot;pointRencontre&quot;:3,&quot;idChamp&quot;:1,&quot;hommeDuMatch&quot;:&quot;HAALAND&quot;,&quot;joueurs&quot;:[{&quot;jid&quot;:1,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;HAALAND&quot;,&quot;minJoue&quot;:5.56,&quot;but&quot;:10,&quot;passe&quot;:8,&quot;cote&quot;:3.921875,&quot;point&quot;:0},{&quot;jid&quot;:2,&quot;poste&quot;:&quot;AC&quot;,&quot;nom&quot;:&quot;JESUS&quot;,&quot;minJoue&quot;:1.78,&quot;but&quot;:2,&quot;passe&quot;:3,&quot;cote&quot;:6.5,&quot;point&quot;:0}]}\n</code></pre>\n<p>I think this error comes from the fact that I don't create a new player to play a match, but I select my instance already created in my database to play the various matches.</p>\n<p>I did a console.log() of my match BEFORE SAVING, and I noticed that the player's stats during the match were displayed.</p>\n<pre><code>*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom='HAALAND'}]\n*****************UPDATE*********************[Joueur{jid=1, poste=AC, minJoue=1.0, but=1, passe=1, point=0, cote=5.5, nom='HAALAND'}]\n</code></pre>\n<p>But after calling the UPDATE method of my rencontreService, if I ask to see the encounter, the global values of my attributes in the database will be displayed.</p>\n<p>rencontreService(part)</p>\n<pre><code> @Override\n    public Rencontre updateRencontre(Rencontre r) {\n        score(r);\n        System.out.println(&quot;*****************UPDATE*********************&quot; + r.getJoueurs());\n        return rencontreRepository.save(r);\n    }\n\n\n\n // MODIFICATION DES POINTS ET DES MATCHS JOUEES\n    public void score(Rencontre rencontre){\n\n        Championnat champ = championnatServiceImpl.getChampionnat(rencontre.getIdChamp());\n        int  NBR_DE_MATCH_MAX = 10;\n\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********AVANT*************&quot; + rencontre.getJoueurs());\n        rencontre.setButEquipe(joueurServiceImpl.totalButEquipe(rencontre.getJoueurs()));\n\n        //VERIFICATION DU SCORE  + CHANG POINT RENCONTRE + CHANG POINT CHAMPIONNAT\n        if (rencontre.getButAdversaire() &lt; rencontre.getButEquipe()) {\n            rencontre.setPointRencontre(PointMatch.WIN.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }else if (rencontre.getButAdversaire() &gt; rencontre.getButEquipe()){\n            rencontre.setPointRencontre(PointMatch.LOST.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }else {\n            rencontre.setPointRencontre(PointMatch.EGALITY.getValue());\n            int pointChamp = champ.getPointActuelle();\n            champ.setPointActuelle(pointChamp + rencontre.getPointRencontre());\n        }\n        //INCREMENTATION DU NOMBRE DE MATCH JOUEES CHAMPIONNAT\n        int nbrMatch = champ.getNbrDeMatchJoue();\n        nbrMatch++;\n        champ.setNbrDeMatchJoue(nbrMatch);\n\n        //VERIFICATION DU STATUT ET FIN DE CHAMPIONNAT\n        if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp;  champ.getPointActuelle() &gt;= champ.getPromotion()) {\n            champ.setStatut(Statut.PROMOTION);\n        } else if (champ.getNbrDeMatchJoue() &lt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getPromotion() &amp;&amp; champ.getPointActuelle() &gt;= champ.getMaintien()) {\n            champ.setStatut(Statut.MAINTIEN);\n        } else if (champ.getNbrDeMatchJoue() &gt;= NBR_DE_MATCH_MAX &amp;&amp; champ.getPointActuelle() &lt; champ.getMaintien()) {\n            champ.setStatut(Statut.RELEGATION);\n        } else {\n            champ.setStatut(Statut.ENCOURS);\n        }\n        this.championnatServiceImpl.updateChampionnat(champ);\n\n        joueurServiceImpl.totalButJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalPasseJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalMinuteJoueur(rencontre.getJoueurs());\n        joueurServiceImpl.totalCoteJoueur(rencontre.getJoueurs());\n        System.out.println(&quot;*******METHODE SCORE***********Liste des joueurs de la rencontre:**********APRES*************&quot; + rencontre.getJoueurs());\n    }\n</code></pre>\n<p>joueurService(part)</p>\n<pre><code>\n    public void totalButJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            int jouBut = jou.getBut();\n            for (Joueur j : joueurs) {\n                int jBut = j.getBut();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setBut(jouBut + jBut);\n\n                }\n            }\n        }\n    }\n\n    public void totalPasseJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            int jouPasse = jou.getPasse();\n            for (Joueur j : joueurs) {\n                int jPasse = j.getPasse();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setPasse(jouPasse + jPasse);\n                }\n            }\n        }\n    }\n\n    public void totalMinuteJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n        for (Joueur jou : listJoueur) {\n            float jouMin = jou.getMinJoue();\n            for (Joueur j : joueurs) {\n                float jMin = j.getMinJoue();\n\n                if (jou.getJid() == j.getJid()) {\n                    jou.setMinJoue(jouMin + jMin);\n                }\n            }\n        }\n    }\n\n    public void totalCoteJoueur(List&lt;Joueur&gt; joueurs) {\n\n        List&lt;Joueur&gt; listJoueur = new ArrayList&lt;&gt;();\n        listJoueur = getAllJoueur();\n\n\n        for (Joueur jou : listJoueur) {\n            double jouCote = jou.getCote();\n            for (Joueur j : joueurs) {\n                double jCote = j.getCote();\n                if (jou.getJid() == j.getJid()) {\n                    if (jou.getCote() == 0) {\n                        jou.setCote(jCote);\n                    } else {\n                        double moyenneCote = (jouCote + jCote) / 2;\n                        jou.setCote(moyenneCote);\n                    }\n                }\n\n            }\n        }\n\n    }\n</code></pre>\n<p>WHAT I WANT?</p>\n<p>I'd like to be able to keep the stats of each player during matches, so that I can make statistical calculations for each championship, such as having a table of the top scorer, passer, playing time, etc. for EACH CHAMPIONSHIP.</p>\n<p>In short, I think that since I never instantiate my players, it's the direct attributes of the players that I manipulate, and so when I call my different encounters, it's normal that I see the data present in the database.</p>\n<p>thank you for your help</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690649615,"post_id":76793904,"comment_id":135384393,"body_markdown":"Does this help? https://stackoverflow.com/questions/4275678/how-to-make-a-phone-call-using-intent-in-android","body":"Does this help? <a href=\"https://stackoverflow.com/questions/4275678/how-to-make-a-phone-call-using-intent-in-android\" title=\"how to make a phone call using intent in android\">stackoverflow.com/questions/4275678/&hellip;</a>"}],"owner":{"account_id":29117512,"reputation":1,"user_id":22305907,"display_name":"shek fake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690639193,"creation_date":1690639193,"question_id":76793904,"body_markdown":"this is a part of the app im creating which detects the drowsiness state of a person i.e., if a person&#39;s eyes are closed for more than 4 seconds then an alarm sound plays on the phone and a call will be initiated to the picked contact . But the call is not going. tested using logcat to see if the contact name and number is fetched correctly and the output is correct .\r\n```\r\n    // Method to open the contacts list\r\n    public void pickContact() {\r\n        Intent pickContactIntent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\r\n        mActivity.startActivityForResult(pickContactIntent, PICK_CONTACT_REQUEST);\r\n    }\r\n\r\n    // Constants for handling contact selection result\r\n    private static final int PICK_CONTACT_REQUEST = 1;\r\n\r\n    // Method to process the selected contact information\r\n    public void processContactSelection(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == PICK_CONTACT_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            Uri contactUri = data.getData();\r\n\r\n            Cursor cursor = null;\r\n            try {\r\n                cursor = mActivity.getContentResolver().query(contactUri, null, null, null, null);\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    int nameColumnIndex = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);\r\n                    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n\r\n                    // Get the phone number from the ContactsContract.CommonDataKinds.Phone table\r\n                    Cursor phoneCursor = mActivity.getContentResolver().query(\r\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                            null,\r\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                            new String[]{id},\r\n                            null\r\n                    );\r\n\r\n                    if (phoneCursor != null &amp;&amp; phoneCursor.moveToFirst()) {\r\n                        int numberColumnIndex = phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\r\n\r\n                        mContactName = cursor.getString(nameColumnIndex);\r\n                        mContactNumber = phoneCursor.getString(numberColumnIndex);\r\n\r\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Name: &quot; + mContactName);\r\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Number: &quot; + mContactNumber);\r\n                    }\r\n\r\n                    if (phoneCursor != null) {\r\n                        phoneCursor.close();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (cursor != null) {\r\n                    cursor.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Method to call the emergency contact\r\n    public void callEmergencyContact() {\r\n        String number = &quot;tel:&quot; + mContactNumber;\r\n        Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(number));\r\n        mActivity.startActivity(callIntent);\r\n    }\r\n\r\n\r\n\r\n    // You can add getters and setters for the contact details if needed.\r\n}```\r\n\r\n\r\n","title":"how to initiate call in android ? currently im able to select a contact from contacts but the call is not going","body":"<p>this is a part of the app im creating which detects the drowsiness state of a person i.e., if a person's eyes are closed for more than 4 seconds then an alarm sound plays on the phone and a call will be initiated to the picked contact . But the call is not going. tested using logcat to see if the contact name and number is fetched correctly and the output is correct .</p>\n<pre><code>    // Method to open the contacts list\n    public void pickContact() {\n        Intent pickContactIntent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\n        mActivity.startActivityForResult(pickContactIntent, PICK_CONTACT_REQUEST);\n    }\n\n    // Constants for handling contact selection result\n    private static final int PICK_CONTACT_REQUEST = 1;\n\n    // Method to process the selected contact information\n    public void processContactSelection(int requestCode, int resultCode, Intent data) {\n        if (requestCode == PICK_CONTACT_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Uri contactUri = data.getData();\n\n            Cursor cursor = null;\n            try {\n                cursor = mActivity.getContentResolver().query(contactUri, null, null, null, null);\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                    int nameColumnIndex = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);\n                    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n\n                    // Get the phone number from the ContactsContract.CommonDataKinds.Phone table\n                    Cursor phoneCursor = mActivity.getContentResolver().query(\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                            null,\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                            new String[]{id},\n                            null\n                    );\n\n                    if (phoneCursor != null &amp;&amp; phoneCursor.moveToFirst()) {\n                        int numberColumnIndex = phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\n\n                        mContactName = cursor.getString(nameColumnIndex);\n                        mContactNumber = phoneCursor.getString(numberColumnIndex);\n\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Name: &quot; + mContactName);\n                        Log.d(&quot;EmergencyContactManager&quot;, &quot;Contact Number: &quot; + mContactNumber);\n                    }\n\n                    if (phoneCursor != null) {\n                        phoneCursor.close();\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (cursor != null) {\n                    cursor.close();\n                }\n            }\n        }\n    }\n\n\n\n    // Method to call the emergency contact\n    public void callEmergencyContact() {\n        String number = &quot;tel:&quot; + mContactNumber;\n        Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(number));\n        mActivity.startActivity(callIntent);\n    }\n\n\n\n    // You can add getters and setters for the contact details if needed.\n}```\n\n\n</code></pre>\n"},{"tags":["java","intellij-idea","bytecode","javassist","linkageerror"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1598848360,"post_id":63663452,"comment_id":112579659,"body_markdown":"What are you going to do with the `Class` object you are trying to get by `toClass()` and why do you need it at all? Instead of just explaining **how** you are trying to do something you should better explain **what** you are trying to achieve? Otherwise your question might just be another example of the [XY problem](https://meta.stackexchange.com/a/66378/309898).","body":"What are you going to do with the <code>Class</code> object you are trying to get by <code>toClass()</code> and why do you need it at all? Instead of just explaining <b>how</b> you are trying to do something you should better explain <b>what</b> you are trying to achieve? Otherwise your question might just be another example of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1598859044,"post_id":63663452,"comment_id":112582847,"body_markdown":"You have to apply the changes *before* the class has been loaded. Otherwise, you have to specify, which mechanism you intend to use for modifying already loaded code.","body":"You have to apply the changes <i>before</i> the class has been loaded. Otherwise, you have to specify, which mechanism you intend to use for modifying already loaded code."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598875912,"post_id":63663452,"comment_id":112590335,"body_markdown":"@kriegaex I have updated my question and example to better illustrate what im trying to achieve.","body":"@kriegaex I have updated my question and example to better illustrate what im trying to achieve."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598876081,"post_id":63663452,"comment_id":112590406,"body_markdown":"@Holger my code is loaded before the application is shown. So I have to modify already loaded code. Any tips or simple examples on how to achieve this? My best guess would be to retransform the class?","body":"@Holger my code is loaded before the application is shown. So I have to modify already loaded code. Any tips or simple examples on how to achieve this? My best guess would be to retransform the class?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1598923731,"post_id":63663452,"comment_id":112607384,"body_markdown":"Your update still does not explain why you call `cc.toClass()` and how you trigger the retransformation. Do you use `-javaagent` option for the JVM? Are you trying to attach your transformer during runtime? If so, how? I think an [MCVE](https://stackoverflow.com/help/mcve) on GitHub would be helpful.","body":"Your update still does not explain why you call <code>cc.toClass()</code> and how you trigger the retransformation. Do you use <code>-javaagent</code> option for the JVM? Are you trying to attach your transformer during runtime? If so, how? I think an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub would be helpful."},{"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"score":0,"creation_date":1598963843,"post_id":63663452,"comment_id":112621259,"body_markdown":"@kriegaex my apologies for not providing a proper explanation. I have updated the question with a minimal example on github.","body":"@kriegaex my apologies for not providing a proper explanation. I have updated the question with a minimal example on github."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1599023590,"post_id":63663452,"comment_id":112640902,"body_markdown":"I can clone, but not check out your project due to lots of errors like `...KotlinTypeAliasByExpansionShortNameIndex.storage: Filename too long`.","body":"I can clone, but not check out your project due to lots of errors like <code>...KotlinTypeAliasByExpansionShortNameIndex.storage: Filename too long</code>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1599025945,"post_id":63663452,"comment_id":112641584,"body_markdown":"You also checked in a lot of Gradle and IDEA stuff instead of just source code and build configuration.","body":"You also checked in a lot of Gradle and IDEA stuff instead of just source code and build configuration."}],"answers":[{"tags":[],"owner":{"account_id":3445265,"reputation":2465,"user_id":2886234,"accept_rate":80,"display_name":"kkflf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690639010,"creation_date":1690638566,"answer_id":76793871,"question_id":63663452,"body_markdown":"I know that this is a old question, but it is the top result on google when you search &quot;duplicate class definition javassist&quot; so I might as well share the possible solution.\r\n\r\nThat problem that you are experiencing is because the class is already loaded into the class pool. You will have to modify/redefine the class before the class is loaded into the class pool.\r\n\r\nIn your particular problem, you are trying to redefine `com.intellij.ui.components.labels.LinkLabel`. This [class][1] has a static field called `ourVisitedLinks`. This static field will force the `LinkLabel` class to be loaded on the first mentioning of `LinkLabel` class.\r\n\r\nWhen you call `cc.toClass()` then you are essentially making a reference the to `LinkLabel` class and thereby loading the class into the class pool because the static field `ourVisitedLinks` is initialized. The `LinkLabel` class is thereby implicit loaded into the class pool just before you load the modified version of the class.\r\n\r\nI admittedly do not understand everything that is going on inside javassist. I just know that `cc.toClass()` will load the class into the class pool preemptively due to the static field being initialized.\r\n\r\nYou will have to instead call `cc.toClass(SomeNeighbor.class)`. The `SomeNeighbor.class` is a fictive class that I made up for the example. It just have to be a class that is within the same package as the class that you are trying to redefine.\r\n\r\nThe `LinkLabel` class has the following [neighbors][2] that share the same package `com.intellij.ui.components.labels`: \r\n\r\n - ActionLink\r\n - BoldLabel\r\n - DropDownLink\r\n - LinkListener\r\n - SwingActionLink\r\n\r\nYou can pick any of those 5 classes as a neighbor as long as the class does not have any direct nor transitive static dependency of `LinkLabel`.\r\n\r\n\r\nThis is the corrected code of the example in the question. The github link that was shared in the question is unfortunately not longer accessible, so I can not provide a perfect executable example.\r\n```\r\nprivate static void test() {\r\n   try {\r\n        ClassPool cp = ClassPool.getDefault();\r\n        CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\r\n        CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\r\n        cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\r\n\r\n        cc.toClass(BoldLabel.class); // &lt;--- the correction\r\n    } catch (final Throwable e) {\r\n            e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/JetBrains/intellij-community/blob/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java#L42\r\n  [2]: https://github.com/JetBrains/intellij-community/tree/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels","title":"Javassist: how to solve a duplicate class exception?","body":"<p>I know that this is a old question, but it is the top result on google when you search &quot;duplicate class definition javassist&quot; so I might as well share the possible solution.</p>\n<p>That problem that you are experiencing is because the class is already loaded into the class pool. You will have to modify/redefine the class before the class is loaded into the class pool.</p>\n<p>In your particular problem, you are trying to redefine <code>com.intellij.ui.components.labels.LinkLabel</code>. This <a href=\"https://github.com/JetBrains/intellij-community/blob/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java#L42\" rel=\"nofollow noreferrer\">class</a> has a static field called <code>ourVisitedLinks</code>. This static field will force the <code>LinkLabel</code> class to be loaded on the first mentioning of <code>LinkLabel</code> class.</p>\n<p>When you call <code>cc.toClass()</code> then you are essentially making a reference the to <code>LinkLabel</code> class and thereby loading the class into the class pool because the static field <code>ourVisitedLinks</code> is initialized. The <code>LinkLabel</code> class is thereby implicit loaded into the class pool just before you load the modified version of the class.</p>\n<p>I admittedly do not understand everything that is going on inside javassist. I just know that <code>cc.toClass()</code> will load the class into the class pool preemptively due to the static field being initialized.</p>\n<p>You will have to instead call <code>cc.toClass(SomeNeighbor.class)</code>. The <code>SomeNeighbor.class</code> is a fictive class that I made up for the example. It just have to be a class that is within the same package as the class that you are trying to redefine.</p>\n<p>The <code>LinkLabel</code> class has the following <a href=\"https://github.com/JetBrains/intellij-community/tree/44139df66e8e7e2fe67fbd81df530a29c688e04f/platform/platform-api/src/com/intellij/ui/components/labels\" rel=\"nofollow noreferrer\">neighbors</a> that share the same package <code>com.intellij.ui.components.labels</code>:</p>\n<ul>\n<li>ActionLink</li>\n<li>BoldLabel</li>\n<li>DropDownLink</li>\n<li>LinkListener</li>\n<li>SwingActionLink</li>\n</ul>\n<p>You can pick any of those 5 classes as a neighbor as long as the class does not have any direct nor transitive static dependency of <code>LinkLabel</code>.</p>\n<p>This is the corrected code of the example in the question. The github link that was shared in the question is unfortunately not longer accessible, so I can not provide a perfect executable example.</p>\n<pre><code>private static void test() {\n   try {\n        ClassPool cp = ClassPool.getDefault();\n        CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\n        CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\n        cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\n\n        cc.toClass(BoldLabel.class); // &lt;--- the correction\n    } catch (final Throwable e) {\n            e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690639010,"creation_date":1598834594,"question_id":63663452,"body_markdown":"Using `Javassist` I&#39;m trying to insert a line of code into a method&#39;s body. It&#39;s a simple modification for a label&#39;s text color inside the `intellij-IDE`. I get the following error when trying to do so:\r\n\r\n&gt;*Caused by: java.lang.LinkageError: loader com.intellij.util.lang.UrlClassLoader @d2cc05a attempted duplicate class definition for com.intellij.ui.components.labels.LinkLabel.\r\n(com.intellij.ui.components.labels.LinkLabel is in unnamed module of loader com.intellij.util.lang.UrlClassLoader @d2cc05a, parent loader &#39;platform&#39;)*\r\n\r\n\r\nWhich implies that the class I am trying to modify is already loaded by the Java class loader (at least I like to think so..).\r\nAn example of the code is given below:\r\n\r\n```\r\nprivate static void test() {\r\n        try {\r\n            ClassPool cp = ClassPool.getDefault();\r\n            CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\r\n            CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\r\n            cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\r\n\r\n            cc.toClass(); // &lt;--- the problem\r\n        } catch (final Throwable e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nAnd for reference, here&#39;s the accessed class: [intellij link](https://github.com/JetBrains/intellij-community/blob/d2b4f4abbc5af066875402db4250e988aadfcd76/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java)\r\n\r\n---\r\n\r\n[Rafael Winterhalter](https://stackoverflow.com/users/1237575/rafael-winterhalter) commented on a similar issue a couple of years ago ([link](https://stackoverflow.com/questions/23336172/adding-an-annotation-to-a-runtime-generated-class-using-javassist/23359661#23359661)). Unfortunately my knowledge with `Javassist` is limiting me in finding a proper solution.\r\n\r\nAny ideas on how to resolve this issue?\r\n\r\n---\r\n\r\n**UPDATE:** A minimal, repoducible example can be found here: [github link](https://github.com/decod3d/example) ","title":"Javassist: how to solve a duplicate class exception?","body":"<p>Using <code>Javassist</code> I'm trying to insert a line of code into a method's body. It's a simple modification for a label's text color inside the <code>intellij-IDE</code>. I get the following error when trying to do so:</p>\n<blockquote>\n<p><em>Caused by: java.lang.LinkageError: loader com.intellij.util.lang.UrlClassLoader @d2cc05a attempted duplicate class definition for com.intellij.ui.components.labels.LinkLabel.\n(com.intellij.ui.components.labels.LinkLabel is in unnamed module of loader com.intellij.util.lang.UrlClassLoader @d2cc05a, parent loader 'platform')</em></p>\n</blockquote>\n<p>Which implies that the class I am trying to modify is already loaded by the Java class loader (at least I like to think so..).\nAn example of the code is given below:</p>\n<pre><code>private static void test() {\n        try {\n            ClassPool cp = ClassPool.getDefault();\n            CtClass cc = cp.get(&quot;com.intellij.ui.components.labels.LinkLabel&quot;);\n            CtMethod cm = cc.getDeclaredMethod(&quot;getTextColor&quot;);\n            cm.insertBefore(&quot;System.out.println(\\&quot;helloworld\\&quot;);&quot;);\n\n            cc.toClass(); // &lt;--- the problem\n        } catch (final Throwable e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And for reference, here's the accessed class: <a href=\"https://github.com/JetBrains/intellij-community/blob/d2b4f4abbc5af066875402db4250e988aadfcd76/platform/platform-api/src/com/intellij/ui/components/labels/LinkLabel.java\" rel=\"nofollow noreferrer\">intellij link</a></p>\n<hr />\n<p><a href=\"https://stackoverflow.com/users/1237575/rafael-winterhalter\">Rafael Winterhalter</a> commented on a similar issue a couple of years ago (<a href=\"https://stackoverflow.com/questions/23336172/adding-an-annotation-to-a-runtime-generated-class-using-javassist/23359661#23359661\">link</a>). Unfortunately my knowledge with <code>Javassist</code> is limiting me in finding a proper solution.</p>\n<p>Any ideas on how to resolve this issue?</p>\n<hr />\n<p><strong>UPDATE:</strong> A minimal, repoducible example can be found here: <a href=\"https://github.com/decod3d/example\" rel=\"nofollow noreferrer\">github link</a></p>\n"},{"tags":["java","spring","postman"],"answers":[{"tags":[],"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661865855,"creation_date":1661865280,"answer_id":73543091,"question_id":73543014,"body_markdown":"    {\r\n      &quot;id&quot;: 1,\r\n      &quot;username&quot;: &quot;jacksonBez&quot;,\r\n      &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\r\n      &quot;role&quot;: {{roles}},\r\n      &quot;password&quot;: &quot;123bezko&quot;\r\n    }\r\n\r\nYou are missing brackets [].\r\n&quot;role&quot;: &quot;&quot; means single value\r\n&quot;role&quot;: [] means array/list/set of values \r\nFor postman to resole {{role}} you need to set it as global/collection or environment value for example [&quot;admin&quot;, &quot;mod&quot;]\r\n\r\nMore about postman variables here\r\nhttps://learning.postman.com/docs/sending-requests/variables/","title":"how to pass attribute of type Set using postman?","body":"<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;username&quot;: &quot;jacksonBez&quot;,\n  &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\n  &quot;role&quot;: {{roles}},\n  &quot;password&quot;: &quot;123bezko&quot;\n}\n</code></pre>\n<p>You are missing brackets [].\n&quot;role&quot;: &quot;&quot; means single value\n&quot;role&quot;: [] means array/list/set of values\nFor postman to resole {{role}} you need to set it as global/collection or environment value for example [&quot;admin&quot;, &quot;mod&quot;]</p>\n<p>More about postman variables here\n<a href=\"https://learning.postman.com/docs/sending-requests/variables/\" rel=\"nofollow noreferrer\">https://learning.postman.com/docs/sending-requests/variables/</a></p>\n"},{"tags":[],"owner":{"account_id":15151954,"reputation":21,"user_id":10934041,"display_name":"Ravinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690637731,"creation_date":1690637731,"answer_id":76793818,"question_id":73543014,"body_markdown":"First we should have the data in the DB for the roles\r\n[![enter image description here][1]][1]\r\n\r\nThen you can use this sample data to test your transaction\r\n\r\n    {\r\n        &quot;username&quot;: &quot;test@testemail.com&quot;,\r\n        &quot;email&quot;: &quot;test@testemail.com&quot;,\r\n        &quot;role&quot;: [\r\n            &quot;user&quot;\r\n        ],\r\n        &quot;password&quot;: &quot;testPassword&quot;\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2JFt.png\r\n  [2]: https://i.stack.imgur.com/Zzwqt.png","title":"how to pass attribute of type Set using postman?","body":"<p>First we should have the data in the DB for the roles\n<a href=\"https://i.stack.imgur.com/k2JFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2JFt.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you can use this sample data to test your transaction</p>\n<pre><code>{\n    &quot;username&quot;: &quot;test@testemail.com&quot;,\n    &quot;email&quot;: &quot;test@testemail.com&quot;,\n    &quot;role&quot;: [\n        &quot;user&quot;\n    ],\n    &quot;password&quot;: &quot;testPassword&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Zzwqt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zzwqt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23555038,"reputation":9,"user_id":17597175,"display_name":"Jalel MED"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690637731,"creation_date":1661864950,"question_id":73543014,"body_markdown":"so i&#39;ve been trying to implement a jwt authentication/authorization example , i am trying to register a new user using **postman** but the post procedure couldn&#39;t be completed because of attribute &quot;role&quot; that is declared as a &quot;Set&quot; , i tried putting the attribute role as null like this: \r\n\r\n\r\n    {\r\n       &quot;id&quot;: 1,\r\n        &quot;username&quot;: &quot;jacksonBez&quot;,\r\n        &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\r\n        &quot;role&quot;:&quot;&quot;,\r\n        &quot;password&quot;: &quot;123bezko&quot;\r\n    }\r\n\r\nand this warning has occured :\r\n\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; JSON parse error: Cannot coerce empty String (&quot;&quot;) to element of\r\n&gt; `java.util.HashSet&lt;java.lang.String&gt;` (but could if coercion was\r\n&gt; enabled using `CoercionConfig`); nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\r\n&gt; coerce empty String (&quot;&quot;) to element of\r\n&gt; `java.util.HashSet&lt;java.lang.String&gt;` (but could if coercion was\r\n&gt; enabled using `CoercionConfig`)&lt;EOL&gt; at [Source:\r\n&gt; (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5,\r\n&gt; column: 13] (through reference chain:\r\n&gt; com.test.jwt.payload.request.SignUpRequest[&quot;role&quot;])]\r\n\r\ni want to know how to use postman with a variable declared a list or a Set\r\n\r\nhere my controller&#39;s code :\r\n\r\n\r\n    package com.test.jwt.controller;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.test.jwt.model.ERole;\r\n    import com.test.jwt.model.Role;\r\n    import com.test.jwt.model.User;\r\n    import com.test.jwt.payload.request.LoginRequest;\r\n    import com.test.jwt.payload.request.SignUpRequest;\r\n    import com.test.jwt.payload.response.JwtResponse;\r\n    import com.test.jwt.payload.response.MessageResponse;\r\n    import com.test.jwt.repository.RoleRepository;\r\n    import com.test.jwt.repository.UserRepository;\r\n    import com.test.jwt.security.jwt.JwtUtils;\r\n    import com.test.jwt.security.services.UserDetailsImpl;\r\n    \r\n    @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth&quot;)\r\n    public class AuthController {\r\n    \t@Autowired\r\n    \tAuthenticationManager authenticationManager;\r\n    \r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tRoleRepository roleRepository;\r\n    \r\n    \t@Autowired\r\n    \tPasswordEncoder encoder;\r\n    \r\n    \t@Autowired\r\n    \tJwtUtils jwtUtils;\r\n    \r\n    \t@PostMapping(&quot;/signin&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \r\n    \t\tAuthentication authentication = authenticationManager.authenticate(\r\n    \t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n    \r\n    \t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n    \t\tString jwt = jwtUtils.generateJwtToken(authentication);\r\n    \t\t\r\n    \t\tUserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\t\t\r\n    \t\tList&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n    \t\t\t\t.map(item -&gt; item.getAuthority())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\treturn ResponseEntity.ok(new JwtResponse(jwt, \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getId(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getUsername(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t userDetails.getEmail(), \r\n    \t\t\t\t\t\t\t\t\t\t\t\t roles));\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/signup&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn ResponseEntity\r\n    \t\t\t\t\t.badRequest()\r\n    \t\t\t\t\t.body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n    \t\t}\r\n    \r\n    \t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn ResponseEntity\r\n    \t\t\t\t\t.badRequest()\r\n    \t\t\t\t\t.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n    \t\t}\r\n    \r\n    \t\t// Create new user&#39;s account\r\n    \t\tUser user = new User(signUpRequest.getUsername(), \r\n    \t\t\t\t\t\t\t signUpRequest.getEmail(),\r\n    \t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));\r\n    \r\n    \t\tSet&lt;String&gt; strRoles = signUpRequest.getRole();\r\n    \t\tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    \t\tif (strRoles == null) {\r\n    \t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n    \t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\troles.add(userRole);\r\n    \t\t} else {\r\n    \t\t\tstrRoles.forEach(role -&gt; {\r\n    \t\t\t\tswitch (role) {\r\n    \t\t\t\tcase &quot;admin&quot;:\r\n    \t\t\t\t\tRole adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(adminRole);\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;mod&quot;:\r\n    \t\t\t\t\tRole modRole = roleRepository.findByName(ERole.ROLE_AGENT)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(modRole);\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n    \t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n    \t\t\t\t\troles.add(userRole);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tuser.setRoles(roles);\r\n    \t\tuserRepository.save(user);\r\n    \r\n    \t\treturn ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n    \t}\r\n    }\r\n\r\nyou can also find full project here : https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication\r\n\r\nthank you.\r\n\r\n","title":"how to pass attribute of type Set using postman?","body":"<p>so i've been trying to implement a jwt authentication/authorization example , i am trying to register a new user using <strong>postman</strong> but the post procedure couldn't be completed because of attribute &quot;role&quot; that is declared as a &quot;Set&quot; , i tried putting the attribute role as null like this:</p>\n<pre><code>{\n   &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;jacksonBez&quot;,\n    &quot;email&quot;: &quot;bezkoder@gmail.com&quot;,\n    &quot;role&quot;:&quot;&quot;,\n    &quot;password&quot;: &quot;123bezko&quot;\n}\n</code></pre>\n<p>and this warning has occured :</p>\n<blockquote>\n<p>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Cannot coerce empty String (&quot;&quot;) to element of\n<code>java.util.HashSet&lt;java.lang.String&gt;</code> (but could if coercion was\nenabled using <code>CoercionConfig</code>); nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\ncoerce empty String (&quot;&quot;) to element of\n<code>java.util.HashSet&lt;java.lang.String&gt;</code> (but could if coercion was\nenabled using <code>CoercionConfig</code>) at [Source:\n(org.springframework.util.StreamUtils$NonClosingInputStream); line: 5,\ncolumn: 13] (through reference chain:\ncom.test.jwt.payload.request.SignUpRequest[&quot;role&quot;])]</p>\n</blockquote>\n<p>i want to know how to use postman with a variable declared a list or a Set</p>\n<p>here my controller's code :</p>\n<pre><code>package com.test.jwt.controller;\n\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.test.jwt.model.ERole;\nimport com.test.jwt.model.Role;\nimport com.test.jwt.model.User;\nimport com.test.jwt.payload.request.LoginRequest;\nimport com.test.jwt.payload.request.SignUpRequest;\nimport com.test.jwt.payload.response.JwtResponse;\nimport com.test.jwt.payload.response.MessageResponse;\nimport com.test.jwt.repository.RoleRepository;\nimport com.test.jwt.repository.UserRepository;\nimport com.test.jwt.security.jwt.JwtUtils;\nimport com.test.jwt.security.services.UserDetailsImpl;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Autowired\n    RoleRepository roleRepository;\n\n    @Autowired\n    PasswordEncoder encoder;\n\n    @Autowired\n    JwtUtils jwtUtils;\n\n    @PostMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtUtils.generateJwtToken(authentication);\n        \n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();      \n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                .map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        return ResponseEntity.ok(new JwtResponse(jwt, \n                                                 userDetails.getId(), \n                                                 userDetails.getUsername(), \n                                                 userDetails.getEmail(), \n                                                 roles));\n    }\n\n    @PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n        }\n\n        if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n        }\n\n        // Create new user's account\n        User user = new User(signUpRequest.getUsername(), \n                             signUpRequest.getEmail(),\n                             encoder.encode(signUpRequest.getPassword()));\n\n        Set&lt;String&gt; strRoles = signUpRequest.getRole();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n        if (strRoles == null) {\n            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n            roles.add(userRole);\n        } else {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                case &quot;admin&quot;:\n                    Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(adminRole);\n\n                    break;\n                case &quot;mod&quot;:\n                    Role modRole = roleRepository.findByName(ERole.ROLE_AGENT)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(modRole);\n\n                    break;\n                default:\n                    Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                            .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                    roles.add(userRole);\n                }\n            });\n        }\n\n        user.setRoles(roles);\n        userRepository.save(user);\n\n        return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n    }\n}\n</code></pre>\n<p>you can also find full project here : <a href=\"https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication\" rel=\"nofollow noreferrer\">https://github.com/bezkoder/angular-10-spring-boot-jwt-authentication</a></p>\n<p>thank you.</p>\n"},{"tags":["java","database","mongodb","rest"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690632338,"post_id":76793448,"comment_id":135382481,"body_markdown":"Can you comment the line RequestMapping(&quot;/&quot;) and try again","body":"Can you comment the line RequestMapping(&quot;/&quot;) and try again"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690632771,"post_id":76793448,"comment_id":135382531,"body_markdown":"Tried it again with &quot;https://eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoint/data/v1/te&quot; but nothing changed","body":"Tried it again with &quot;<a href=\"https://eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoint/data/v1/te\" rel=\"nofollow noreferrer\">eu-central-1.aws.data.mongodb-api.com/app/data-kvswz/endpoi&zwnj;&#8203;nt/&hellip;</a>&quot; but nothing changed"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690632908,"post_id":76793448,"comment_id":135382548,"body_markdown":"Not able to open the link.","body":"Not able to open the link."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690633617,"post_id":76793448,"comment_id":135382644,"body_markdown":"Being able to open the link is not important because you would just get a 404 Not Found Exception for your request. I just took the URL given by MongoDB Atlas and added &quot;/te&quot; for the request. It didnt work out.","body":"Being able to open the link is not important because you would just get a 404 Not Found Exception for your request. I just took the URL given by MongoDB Atlas and added &quot;/te&quot; for the request. It didnt work out."},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690634057,"post_id":76793448,"comment_id":135382702,"body_markdown":"It has nothing to do with mongo. Your Rest endpoint is not working. Share your properties file too.","body":"It has nothing to do with mongo. Your Rest endpoint is not working. Share your properties file too."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690635517,"post_id":76793448,"comment_id":135382858,"body_markdown":"I didnt know that I had to write something in my properties. My application.propertie is empty","body":"I didnt know that I had to write something in my properties. My application.propertie is empty"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690635637,"post_id":76793448,"comment_id":135382871,"body_markdown":"What is the url your using? localhost:8080/te?","body":"What is the url your using? localhost:8080/te?"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690636299,"post_id":76793448,"comment_id":135382948,"body_markdown":"String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;; Thats the connection String I use. Since I do erverything over MongosAtlas with AWS","body":"String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.ne&zwnj;&#8203;t/?retryWrites=true&amp;&zwnj;&#8203;w=majority&quot;; Thats the connection String I use. Since I do erverything over MongosAtlas with AWS"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1690637589,"post_id":76793448,"comment_id":135383085,"body_markdown":"I doubt this is causing the 404 as mentioned earlier in the comments - but separately this certainly looks suspicious/wrong if it is your intent to connect to a cloud service as opposed to a local database: `clusterSettings={hosts=[127.0.0.1:27017]`","body":"I doubt this is causing the 404 as mentioned earlier in the comments - but separately this certainly looks suspicious/wrong if it is your intent to connect to a cloud service as opposed to a local database: <code>clusterSettings={hosts=[127.0.0.1:27017]</code>"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690642301,"post_id":76793448,"comment_id":135383603,"body_markdown":"i also thought that this looked wrong but I connected with the code Atlas produced by atlas for their connection.","body":"i also thought that this looked wrong but I connected with the code Atlas produced by atlas for their connection."}],"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690637218,"creation_date":1690631625,"question_id":76793448,"body_markdown":"Ive tried to create a REST Service with MongoAtlas but get a 404 not Found Exception.\r\n\r\nI have the following folder structure\r\n\r\n\r\n```\r\ncom.example.demo3\r\n                 Demo3Application.java\r\n                 CRUDEMongo.java\r\n                |_test\r\n                      CrudeController.java\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.ServerApi;\r\nimport com.mongodb.ServerApiVersion;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.example.demo3&quot;, &quot;com.example.demo3.test&quot;})\r\npublic class Demo3Application{\r\n\t@Autowired\r\n\tTest test;\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\r\n\t\tServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\ttry(MongoClient client = MongoClients.create(settings)){\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3;\r\n\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport org.springframework.data.repository.CrudRepository;\r\n@EnableMongoRepositories\r\npublic interface CRUDEMongo extends CrudRepository&lt;Test, Test&gt;{\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo3.test;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class CrudeController {\r\n  @RequestMapping(value=&quot;/te&quot;, method= RequestMethod.GET)\r\n  public String requestMethodName() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n}\r\n\r\n```\r\n\r\nEverytime I try to connect with URL/te on Postman I get a 404 not found Exception. Spring doesn&#39;t seem to found my RestController. I tried everthing. Change folders, ComponentScan but it doesn&#39;t seem to find it.\r\n\r\n\r\n\r\nTried to set up a REST Service with Spring but get a 404 not found Exception via Postman. Im definitly connected with the database because I get the following back:\r\n\r\n    MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-78-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.7+7&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;torben&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5cff6b74, com.mongodb.Jep395RecordCodecProvider@627ff1b8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.orswsxw.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName=&#39;atlas-12upi3-shard-0&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=ServerApi{version=V1, deprecationErrors=null, strict=null}, autoEncryptionSettings=null, contextProvider=null}","title":"REST Service with MongoDB Atlas","body":"<p>Ive tried to create a REST Service with MongoAtlas but get a 404 not Found Exception.</p>\n<p>I have the following folder structure</p>\n<pre><code>com.example.demo3\n                 Demo3Application.java\n                 CRUDEMongo.java\n                |_test\n                      CrudeController.java\n</code></pre>\n<pre><code>package com.example.demo3;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.ServerApi;\nimport com.mongodb.ServerApiVersion;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.example.demo3&quot;, &quot;com.example.demo3.test&quot;})\npublic class Demo3Application{\n    @Autowired\n    Test test;\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\n        System.out.println(&quot;Hello&quot;);\n        try(MongoClient client = MongoClients.create(settings)){\n        }\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.example.demo3;\n\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.data.repository.CrudRepository;\n@EnableMongoRepositories\npublic interface CRUDEMongo extends CrudRepository&lt;Test, Test&gt;{\n\n}\n</code></pre>\n<pre><code>package com.example.demo3.test;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\npublic class CrudeController {\n  @RequestMapping(value=&quot;/te&quot;, method= RequestMethod.GET)\n  public String requestMethodName() {\n    return &quot;Hello&quot;;\n  }\n}\n\n</code></pre>\n<p>Everytime I try to connect with URL/te on Postman I get a 404 not found Exception. Spring doesn't seem to found my RestController. I tried everthing. Change folders, ComponentScan but it doesn't seem to find it.</p>\n<p>Tried to set up a REST Service with Spring but get a 404 not found Exception via Postman. Im definitly connected with the database because I get the following back:</p>\n<pre><code>MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.15.0-78-generic&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.7+7&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='torben', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5cff6b74, com.mongodb.Jep395RecordCodecProvider@627ff1b8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.orswsxw.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-12upi3-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=ServerApi{version=V1, deprecationErrors=null, strict=null}, autoEncryptionSettings=null, contextProvider=null}\n</code></pre>\n"},{"tags":["java","httpserver"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690634841,"post_id":76793638,"comment_id":135382776,"body_markdown":"Not sure I understand the issue. What did you expect `stop(10);`; to do if not wait 10 seconds? Does the Javadoc say it waits for requests to finish? What requests are actually being made? You&#39;ve one sent and finished one request here","body":"Not sure I understand the issue. What did you expect <code>stop(10);</code>; to do if not wait 10 seconds? Does the Javadoc say it waits for requests to finish? What requests are actually being made? You&#39;ve one sent and finished one request here"},{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1690635861,"post_id":76793638,"comment_id":135382899,"body_markdown":"@OneCricketeer I added javadoc citation to the question. I don&#39;t make any other requests, only this single request that I specified in code is being made.","body":"@OneCricketeer I added javadoc citation to the question. I don&#39;t make any other requests, only this single request that I specified in code is being made."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690637295,"post_id":76793638,"comment_id":135383059,"body_markdown":"I suppose you can argue that &quot;until all current exchange handlers have completed&quot; doesn&#39;t happen if there are zero current exchange handlers, and so there is no bug, but that seems against the spirit of the method.","body":"I suppose you can argue that &quot;until all current exchange handlers have completed&quot; doesn&#39;t happen if there are zero current exchange handlers, and so there is no bug, but that seems against the spirit of the method."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690636979,"creation_date":1690636524,"answer_id":76793754,"question_id":76793638,"body_markdown":"The Javadoc for `stop` says:\r\n\r\n&gt; The method will then block until all current exchange handlers have completed or else when approximately delay seconds have elapsed **(whichever happens sooner)**.\r\n\r\nThis looks like a bug to me, as `ServerImpl.stop()` does:\r\n```\r\n        terminating = true;\r\n        try { schan.close(); } catch (IOException e) {}\r\n        selector.wakeup();\r\n        long latest = System.currentTimeMillis() + delay * 1000;\r\n        while (System.currentTimeMillis() &lt; latest) {\r\n            delay();\r\n            if (finished) {\r\n                break;\r\n            }\r\n        }\r\n```\r\n\r\nSo it will only return early if `finished` is `true`.\r\n\r\nThe `finished` field can only be set to true in `ServerImpl.Dispatcher.handleEvent`:\r\n\r\n```\r\n                if (r instanceof WriteFinishedEvent) {\r\n\r\n                    logger.log(Level.TRACE, &quot;Write Finished&quot;);\r\n                    int exchanges = endExchange();\r\n                    if (terminating &amp;&amp; exchanges == 0) {\r\n                        finished = true;\r\n                    }\r\n```\r\nBut `terminating` will be false, unless a `WriteFinishedEvent` occurs after a call to `stop`.\r\n\r\nWe can change the program slightly to get the expected behaviour by ensuring that the request is issued before we call `stop()` but completes after we call `stop()`:\r\n```\r\nimport com.sun.net.httpserver.HttpServer;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.time.LocalDateTime;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        var httpServer = HttpServer.create();\r\n        httpServer.createContext(&quot;/&quot;, exchange -&gt; {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            exchange.sendResponseHeaders(200, -1);\r\n            System.out.println(&quot;Did request&quot;);\r\n            exchange.close();\r\n        });\r\n        httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\r\n        httpServer.start();\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            var httpClient = HttpClient.newHttpClient();\r\n\r\n            var host = httpServer.getAddress().getAddress().getHostAddress();\r\n            var port = httpServer.getAddress().getPort();\r\n\r\n            var httpRequest = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\r\n                    .GET()\r\n                    .build();\r\n            HttpResponse&lt;byte[]&gt; httpResponse = null;\r\n            try {\r\n                httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(httpResponse.statusCode());\r\n        });\r\n        Thread.sleep(500);\r\n        System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\r\n        httpServer.stop(10);\r\n        System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Java http server does not stop immediately","body":"<p>The Javadoc for <code>stop</code> says:</p>\n<blockquote>\n<p>The method will then block until all current exchange handlers have completed or else when approximately delay seconds have elapsed <strong>(whichever happens sooner)</strong>.</p>\n</blockquote>\n<p>This looks like a bug to me, as <code>ServerImpl.stop()</code> does:</p>\n<pre><code>        terminating = true;\n        try { schan.close(); } catch (IOException e) {}\n        selector.wakeup();\n        long latest = System.currentTimeMillis() + delay * 1000;\n        while (System.currentTimeMillis() &lt; latest) {\n            delay();\n            if (finished) {\n                break;\n            }\n        }\n</code></pre>\n<p>So it will only return early if <code>finished</code> is <code>true</code>.</p>\n<p>The <code>finished</code> field can only be set to true in <code>ServerImpl.Dispatcher.handleEvent</code>:</p>\n<pre><code>                if (r instanceof WriteFinishedEvent) {\n\n                    logger.log(Level.TRACE, &quot;Write Finished&quot;);\n                    int exchanges = endExchange();\n                    if (terminating &amp;&amp; exchanges == 0) {\n                        finished = true;\n                    }\n</code></pre>\n<p>But <code>terminating</code> will be false, unless a <code>WriteFinishedEvent</code> occurs after a call to <code>stop</code>.</p>\n<p>We can change the program slightly to get the expected behaviour by ensuring that the request is issued before we call <code>stop()</code> but completes after we call <code>stop()</code>:</p>\n<pre><code>import com.sun.net.httpserver.HttpServer;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.LocalDateTime;\nimport java.util.concurrent.Executors;\n\npublic class Test {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        var httpServer = HttpServer.create();\n        httpServer.createContext(&quot;/&quot;, exchange -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            exchange.sendResponseHeaders(200, -1);\n            System.out.println(&quot;Did request&quot;);\n            exchange.close();\n        });\n        httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\n        httpServer.start();\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            var httpClient = HttpClient.newHttpClient();\n\n            var host = httpServer.getAddress().getAddress().getHostAddress();\n            var port = httpServer.getAddress().getPort();\n\n            var httpRequest = HttpRequest.newBuilder()\n                    .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\n                    .GET()\n                    .build();\n            HttpResponse&lt;byte[]&gt; httpResponse = null;\n            try {\n                httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(httpResponse.statusCode());\n        });\n        Thread.sleep(500);\n        System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\n        httpServer.stop(10);\n        System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76793754,"answer_count":1,"score":2,"last_activity_date":1690636979,"creation_date":1690634589,"question_id":76793638,"body_markdown":"I have the following example code which starts built-in Java http server, issues a request to it using built-in Java http client and then tries to stop a server.\r\n\r\nThe issue is: `stop(delay)` method blocks for exactly `delay` seconds, no matter what delay.\r\n\r\nI expected for this method to process all incoming requests and shut down the server. So in this case I expected for this method to shut down immediately, as there are no incoming requests.\r\n\r\nI can use `stop(0)`, however it does not seem ideal for production server, as it won&#39;t give a chance for current requests to complete.\r\n\r\n```java\r\npackage test;\r\n\r\nimport com.sun.net.httpserver.HttpServer;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.time.LocalDateTime;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) throws IOException, InterruptedException {\r\n    var httpServer = HttpServer.create();\r\n    httpServer.createContext(&quot;/&quot;, exchange -&gt; {\r\n      exchange.sendResponseHeaders(200, -1);\r\n      exchange.close();\r\n    });\r\n    httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\r\n    httpServer.start();\r\n\r\n    var httpClient = HttpClient.newHttpClient();\r\n\r\n    var host = httpServer.getAddress().getAddress().getHostAddress();\r\n    var port = httpServer.getAddress().getPort();\r\n\r\n    var httpRequest = HttpRequest.newBuilder()\r\n        .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\r\n        .GET()\r\n        .build();\r\n\r\n    var httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\r\n\r\n    System.out.println(httpResponse.statusCode());\r\n\r\n    System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\r\n    httpServer.stop(10);\r\n    System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```text\r\n200\r\n2023-07-29T18:37:25.492361 Stopping server\r\n2023-07-29T18:37:35.668797 Server stopped\r\n```\r\n\r\nHere&#39;s javadoc for stop method:\r\n\r\n```\r\n    /**\r\n     * Stops this server by closing the listening socket and disallowing\r\n     * any new exchanges from being processed. The method will then block\r\n     * until all current exchange handlers have completed or else when\r\n     * approximately &lt;i&gt;delay&lt;/i&gt; seconds have elapsed (whichever happens\r\n     * sooner). Then, all open TCP connections are closed, the background\r\n     * thread created by {@link #start()} exits, and the method returns.\r\n     * Once stopped, a {@code HttpServer} cannot be re-used.\r\n     *\r\n     * @param delay the maximum time in seconds to wait until exchanges have finished\r\n     * @throws IllegalArgumentException if delay is less than zero\r\n     */\r\n```\r\n\r\nIt is my understanding that `stop(10)` method is not supposed to wait 10 seconds if there&#39;re no requests currently executing. This timeout is to give currently executing requests time to finish before closing the sockets.","title":"Java http server does not stop immediately","body":"<p>I have the following example code which starts built-in Java http server, issues a request to it using built-in Java http client and then tries to stop a server.</p>\n<p>The issue is: <code>stop(delay)</code> method blocks for exactly <code>delay</code> seconds, no matter what delay.</p>\n<p>I expected for this method to process all incoming requests and shut down the server. So in this case I expected for this method to shut down immediately, as there are no incoming requests.</p>\n<p>I can use <code>stop(0)</code>, however it does not seem ideal for production server, as it won't give a chance for current requests to complete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport com.sun.net.httpserver.HttpServer;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.LocalDateTime;\n\npublic class Test {\n  public static void main(String[] args) throws IOException, InterruptedException {\n    var httpServer = HttpServer.create();\n    httpServer.createContext(&quot;/&quot;, exchange -&gt; {\n      exchange.sendResponseHeaders(200, -1);\n      exchange.close();\n    });\n    httpServer.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0), 0);\n    httpServer.start();\n\n    var httpClient = HttpClient.newHttpClient();\n\n    var host = httpServer.getAddress().getAddress().getHostAddress();\n    var port = httpServer.getAddress().getPort();\n\n    var httpRequest = HttpRequest.newBuilder()\n        .uri(URI.create(&quot;http://&quot; + host + &quot;:&quot; + port + &quot;/&quot;))\n        .GET()\n        .build();\n\n    var httpResponse = httpClient.send(httpRequest, HttpResponse.BodyHandlers.ofByteArray());\n\n    System.out.println(httpResponse.statusCode());\n\n    System.out.println(LocalDateTime.now() + &quot; Stopping server&quot;);\n    httpServer.stop(10);\n    System.out.println(LocalDateTime.now() + &quot; Server stopped&quot;);\n  }\n}\n</code></pre>\n<pre><code>200\n2023-07-29T18:37:25.492361 Stopping server\n2023-07-29T18:37:35.668797 Server stopped\n</code></pre>\n<p>Here's javadoc for stop method:</p>\n<pre><code>    /**\n     * Stops this server by closing the listening socket and disallowing\n     * any new exchanges from being processed. The method will then block\n     * until all current exchange handlers have completed or else when\n     * approximately &lt;i&gt;delay&lt;/i&gt; seconds have elapsed (whichever happens\n     * sooner). Then, all open TCP connections are closed, the background\n     * thread created by {@link #start()} exits, and the method returns.\n     * Once stopped, a {@code HttpServer} cannot be re-used.\n     *\n     * @param delay the maximum time in seconds to wait until exchanges have finished\n     * @throws IllegalArgumentException if delay is less than zero\n     */\n</code></pre>\n<p>It is my understanding that <code>stop(10)</code> method is not supposed to wait 10 seconds if there're no requests currently executing. This timeout is to give currently executing requests time to finish before closing the sockets.</p>\n"},{"tags":["java","gradle","gradlew"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":5,"creation_date":1548382956,"post_id":54358107,"comment_id":95530930,"body_markdown":"according to [this bug report](https://github.com/gradle/gradle/issues/5764) , is it possible your gradle wrapper is older?","body":"according to <a href=\"https://github.com/gradle/gradle/issues/5764\" rel=\"nofollow noreferrer\">this bug report</a> , is it possible your gradle wrapper is older?"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":2,"creation_date":1548385796,"post_id":54358107,"comment_id":95531447,"body_markdown":"You run the command ./gradlew which initiate the gradle version associated with this specific project. There is no guarantee that the project&#39;s version is the same as the one you have installed (5.1.1)","body":"You run the command ./gradlew which initiate the gradle version associated with this specific project. There is no guarantee that the project&#39;s version is the same as the one you have installed (5.1.1)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1548389919,"post_id":54358107,"comment_id":95532239,"body_markdown":"Is that version info the result of `gradle --version` or `./gradlew --version`? Gradle based projects often use a [wrapper](https://docs.gradle.org/current/userguide/gradle_wrapper.html) to make it easier for different developers to use the same Gradle version to build the project; this also makes builds more stable.","body":"Is that version info the result of <code>gradle --version</code> or <code>.&#47;gradlew --version</code>? Gradle based projects often use a <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">wrapper</a> to make it easier for different developers to use the same Gradle version to build the project; this also makes builds more stable."},{"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"score":0,"creation_date":1548393870,"post_id":54358107,"comment_id":95533175,"body_markdown":"that&#39;s the version of `gradle --version`","body":"that&#39;s the version of <code>gradle --version</code>"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":0,"creation_date":1548613299,"post_id":54358107,"comment_id":95594594,"body_markdown":"Could you also go to your project folder and open the file: .../gradle/wrapper/gradle-wrapper.properties ? Open it with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is.","body":"Could you also go to your project folder and open the file: .../gradle/wrapper/gradle-wrapper.properties ? Open it with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is."},{"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"score":0,"creation_date":1548649921,"post_id":54358107,"comment_id":95602452,"body_markdown":"Updated my answer with the contents! Seems like the wrapper is on 4.1, so that&#39;s my issue?","body":"Updated my answer with the contents! Seems like the wrapper is on 4.1, so that&#39;s my issue?"}],"answers":[{"tags":[],"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"down_vote_count":0,"up_vote_count":201,"is_accepted":true,"score":201,"last_activity_date":1633012328,"creation_date":1548396972,"answer_id":54359875,"question_id":54358107,"body_markdown":"There are two different Gradle applications in your system.  \r\n\r\n1. the **system-wide Gradle**  \r\nThis application is invoked by `gradle (arguments)`.  \r\n\r\n2. the **gradle-wrapper**  \r\nThe gradle-wrapper is specific to every project and can only be invoked inside the project&#39;s directory, using the command `./gradlew (arguments)`.  \r\n  \r\nYour system-wide gradle version is **5.1.1** (as the OP explained in the comments,  running the command `gradle --version` returned version 5.1.1).  \r\n\r\nHowever, the failure is the result of a call to the gradle-wrapper (`./gradlew`). Could you check your project&#39;s gradle wrapper version? To do that, execute `./gradlew --version` inside your project&#39;s folder, in the directory where the gradlew and gradlew.bat files are.  \r\n  \r\n  \r\n**Update 1:**  \r\nAs running `./gradlew --version` failed, you can manually check your wrapper&#39;s version by opening the file:\r\n\r\n&gt; (project&#39;s root folder)/gradle/wrapper/gradle-wrapper.properties\r\n\r\n with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper&#39;s version is.  \r\n  \r\n  \r\n**Update 2:**\r\nAs per the OP&#39;s updated question, the gradle-wrapper&#39;s version is **4.1RC1**.  \r\nGradle [added support for JDK 11 in Gradle 5.0][1]. Hence since 4.1RC does not support running on JDK 11 this is definitely a problem.  \r\n\r\nThe obvious way, would be to update your project&#39;s gradle-wrapper to version 5.0.  \r\nHowever, before updating, try running `gradle app:installDebug`. This will use your system-wide installed Gradle whose version is 5.1.1 and supports running on Java 11. If this works, then your buildscript (file build.gradle) is not affected by any breaking changes between v.4.1RC1 and v.5.1.1 and you can then update your wrapper by executing from the command line inside your project&#39;s folder: `gradle wrapper --gradle-version=5.1.1` [*].  \r\n\r\nIf `gradle app:installDebug` fails to execute correctly, then maybe you need to upgrade your Gradle buildscript. For updating from v.4.1RC1 to 5.1.1, the Gradle project provides a guide ([1][2], [2][3]) with breaking changes and deprecated features between minor releases, so that you can update gradually to the latest version.  \r\n\r\nAlternatively, if for some reason you can&#39;t or don&#39;t want to upgrade your Gradle buildscript, you can always choose to downgrade your Java version to one that Gradle 4.1RC1 supports running on.\r\n\r\n[*] As [correctly pointed out in the answer by @lupchiazoem][4], use `gradle wrapper --gradle-version=5.1.1` (and not `./gradlew` as I had originally posted there by mistake). The reason is Gradle runs on Java. You can update your gradle-wrapper using any working Gradle distribution, either your system-wide installed Gradle or the gradle-wrapper itself. However, in this case your wrapper is not compatible with your installed Java version, so you do have to use the system-wide Gradle (aka `gradle` and not `./gradlew`).\r\n\r\n\r\n  [1]: https://docs.gradle.org/5.0/release-notes.html#java-11-runtime-support\r\n  [2]: https://docs.gradle.org/current/userguide/upgrading_version_4.html\r\n  [3]: https://docs.gradle.org/current/userguide/upgrading_version_5.html\r\n  [4]: https://stackoverflow.com/a/54493187/4575793","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>There are two different Gradle applications in your system.</p>\n<ol>\n<li><p>the <strong>system-wide Gradle</strong><br />\nThis application is invoked by <code>gradle (arguments)</code>.</p>\n</li>\n<li><p>the <strong>gradle-wrapper</strong><br />\nThe gradle-wrapper is specific to every project and can only be invoked inside the project's directory, using the command <code>./gradlew (arguments)</code>.</p>\n</li>\n</ol>\n<p>Your system-wide gradle version is <strong>5.1.1</strong> (as the OP explained in the comments,  running the command <code>gradle --version</code> returned version 5.1.1).</p>\n<p>However, the failure is the result of a call to the gradle-wrapper (<code>./gradlew</code>). Could you check your project's gradle wrapper version? To do that, execute <code>./gradlew --version</code> inside your project's folder, in the directory where the gradlew and gradlew.bat files are.</p>\n<p><strong>Update 1:</strong><br />\nAs running <code>./gradlew --version</code> failed, you can manually check your wrapper's version by opening the file:</p>\n<blockquote>\n<p>(project's root folder)/gradle/wrapper/gradle-wrapper.properties</p>\n</blockquote>\n<p>with a simple text editor. The &quot;distributionUrl&quot; inside should tell us what the wrapper's version is.</p>\n<p><strong>Update 2:</strong>\nAs per the OP's updated question, the gradle-wrapper's version is <strong>4.1RC1</strong>.<br />\nGradle <a href=\"https://docs.gradle.org/5.0/release-notes.html#java-11-runtime-support\" rel=\"noreferrer\">added support for JDK 11 in Gradle 5.0</a>. Hence since 4.1RC does not support running on JDK 11 this is definitely a problem.</p>\n<p>The obvious way, would be to update your project's gradle-wrapper to version 5.0.<br />\nHowever, before updating, try running <code>gradle app:installDebug</code>. This will use your system-wide installed Gradle whose version is 5.1.1 and supports running on Java 11. If this works, then your buildscript (file build.gradle) is not affected by any breaking changes between v.4.1RC1 and v.5.1.1 and you can then update your wrapper by executing from the command line inside your project's folder: <code>gradle wrapper --gradle-version=5.1.1</code> [*].</p>\n<p>If <code>gradle app:installDebug</code> fails to execute correctly, then maybe you need to upgrade your Gradle buildscript. For updating from v.4.1RC1 to 5.1.1, the Gradle project provides a guide (<a href=\"https://docs.gradle.org/current/userguide/upgrading_version_4.html\" rel=\"noreferrer\">1</a>, <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_5.html\" rel=\"noreferrer\">2</a>) with breaking changes and deprecated features between minor releases, so that you can update gradually to the latest version.</p>\n<p>Alternatively, if for some reason you can't or don't want to upgrade your Gradle buildscript, you can always choose to downgrade your Java version to one that Gradle 4.1RC1 supports running on.</p>\n<p>[*] As <a href=\"https://stackoverflow.com/a/54493187/4575793\">correctly pointed out in the answer by @lupchiazoem</a>, use <code>gradle wrapper --gradle-version=5.1.1</code> (and not <code>./gradlew</code> as I had originally posted there by mistake). The reason is Gradle runs on Java. You can update your gradle-wrapper using any working Gradle distribution, either your system-wide installed Gradle or the gradle-wrapper itself. However, in this case your wrapper is not compatible with your installed Java version, so you do have to use the system-wide Gradle (aka <code>gradle</code> and not <code>./gradlew</code>).</p>\n"},{"tags":[],"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1549111327,"creation_date":1549111327,"answer_id":54493187,"question_id":54358107,"body_markdown":"As `distributionUrl` is still pointing to older version, upgrade wrapper using:\r\n\r\n`gradle wrapper --gradle-version 5.1.1`\r\n\r\nNote: Use `gradle` and not `gradlew`","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>As <code>distributionUrl</code> is still pointing to older version, upgrade wrapper using:</p>\n\n<p><code>gradle wrapper --gradle-version 5.1.1</code></p>\n\n<p>Note: Use <code>gradle</code> and not <code>gradlew</code></p>\n"},{"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1551964620,"creation_date":1551964620,"answer_id":55044758,"question_id":54358107,"body_markdown":"In my case the `JAVA_HOME` variable was set to `/usr/lib/jvm/jdk-11.0.2/`. It was sufficient to unset the variable like this:\r\n\r\n&lt;code&gt;$ export JAVA_HOME=&lt;/code&gt;","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>In my case the <code>JAVA_HOME</code> variable was set to <code>/usr/lib/jvm/jdk-11.0.2/</code>. It was sufficient to unset the variable like this:</p>\n\n<p><code>$ export JAVA_HOME=</code></p>\n"},{"tags":[],"owner":{"account_id":7427714,"reputation":2719,"user_id":5670249,"display_name":"juancho85"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1633041154,"creation_date":1552223918,"answer_id":55088082,"question_id":54358107,"body_markdown":"I&#39;ve had the same issue. Upgrading to gradle 5.0 did the trick for me.\r\n\r\n[This link][1] provides detailed steps on how install gradle 5.0\r\n\r\n\r\n  [1]: https://linuxize.com/post/how-to-install-gradle-on-ubuntu-18-04/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I've had the same issue. Upgrading to gradle 5.0 did the trick for me.</p>\n<p><a href=\"https://linuxize.com/post/how-to-install-gradle-on-ubuntu-18-04/\" rel=\"nofollow noreferrer\">This link</a> provides detailed steps on how install gradle 5.0</p>\n"},{"tags":[],"owner":{"account_id":8669829,"reputation":105,"user_id":6489113,"display_name":"KHAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559308497,"creation_date":1559308497,"answer_id":56395823,"question_id":54358107,"body_markdown":"I ran into a similar issue. I deleted these: \r\n\r\n- libraries and caches from the .idea folder ( YourApp &gt; .idea &gt; .. ) AND \r\n- contents of the build folder. \r\n\r\n\r\n then rebuild.\r\n\r\n*** DON&#39;T FORGET TO BACKUP YOUR PROJECT FIRST ***","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran into a similar issue. I deleted these: </p>\n\n<ul>\n<li>libraries and caches from the .idea folder ( YourApp > .idea > .. ) AND </li>\n<li><p>contents of the build folder. </p>\n\n<p>then rebuild.</p></li>\n</ul>\n\n<p><strong>* DON'T FORGET TO BACKUP YOUR PROJECT FIRST *</strong></p>\n"},{"tags":[],"owner":{"account_id":1337090,"reputation":3013,"user_id":1279573,"display_name":"SuperAndrew"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1633015554,"creation_date":1561536474,"answer_id":56768106,"question_id":54358107,"body_markdown":"Because your wrapper version does not support 11+ you can [make simple trick to cheat newer version of InteliJ forever][1].\r\n\r\n      press3x Shift -&gt; type &quot;Switch Boot JDK&quot; -&gt; and change for java 8. \r\n\r\nOr If you want to work with java 11+ you simply have to update wrapper version to 4.8+ \r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Because your wrapper version does not support 11+ you can <a href=\"https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/\" rel=\"nofollow noreferrer\">make simple trick to cheat newer version of InteliJ forever</a>.</p>\n<pre><code>  press3x Shift -&gt; type &quot;Switch Boot JDK&quot; -&gt; and change for java 8. \n</code></pre>\n<p>Or If you want to work with java 11+ you simply have to update wrapper version to 4.8+</p>\n"},{"tags":[],"owner":{"account_id":2832523,"reputation":1,"user_id":2700628,"display_name":"MgFrobozz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633041142,"creation_date":1566235793,"answer_id":57561450,"question_id":54358107,"body_markdown":"I ran into the same issue in Ubuntu 18.04.3 LTS. In my case, apt installed gradle version 4.4.1. The already-install java version was 11.0.4\r\n\r\nThe build message I got was\r\n\r\n    Could not determine java version from &#39;11.0.4&#39;.\r\n\r\nAt the time, most of the online docs referenced gradle version 5.6, so I did the following:\r\n\r\n    sudo add-apt-repository ppa:cwchien/gradle\r\n    sudo apt update\r\n    sudo apt upgrade gradle\r\n\r\nThen I repeated the project initialiation (using `gradle init` with the defaults). After that, `./gradlew build` worked correctly.\r\n\r\nI later read a comment regarding a change in format of the output from `java --version` that caused gradle to break, which was fixed in a later version of gradle.\r\n\r\n\r\n\r\n","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran into the same issue in Ubuntu 18.04.3 LTS. In my case, apt installed gradle version 4.4.1. The already-install java version was 11.0.4</p>\n<p>The build message I got was</p>\n<pre><code>Could not determine java version from '11.0.4'.\n</code></pre>\n<p>At the time, most of the online docs referenced gradle version 5.6, so I did the following:</p>\n<pre><code>sudo add-apt-repository ppa:cwchien/gradle\nsudo apt update\nsudo apt upgrade gradle\n</code></pre>\n<p>Then I repeated the project initialiation (using <code>gradle init</code> with the defaults). After that, <code>./gradlew build</code> worked correctly.</p>\n<p>I later read a comment regarding a change in format of the output from <code>java --version</code> that caused gradle to break, which was fixed in a later version of gradle.</p>\n"},{"tags":[],"owner":{"account_id":2647347,"reputation":1521,"user_id":2289765,"accept_rate":72,"display_name":"Rocky Inde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566484653,"creation_date":1566484653,"answer_id":57611834,"question_id":54358107,"body_markdown":"To put long answer short, upgrade your `gradlew` using the system `gradle` tool. Note that the below upgrade works even if your system `gradle` version is `&lt; 5`.\r\n\r\n    gradle wrapper --gradle-version=5.1.1","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>To put long answer short, upgrade your <code>gradlew</code> using the system <code>gradle</code> tool. Note that the below upgrade works even if your system <code>gradle</code> version is <code>&lt; 5</code>.</p>\n\n<pre><code>gradle wrapper --gradle-version=5.1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633015012,"creation_date":1566994691,"answer_id":57692259,"question_id":54358107,"body_markdown":"In my case, I was trying to build and get APK for an old Unity 3D project (so that I can play the game in my Android phone). I was using the most recent Android Studio version, and all the SDK packages I could download via SDK Manager in Android Studio. SDK Packages was located in \r\n\r\n    C:/Users/Onat/AppData/Local/Android/Sdk \r\n\r\nAnd the error message I got was the same except the JDK (Java Development Kit) version &quot;jdk-12.0.2&quot; . JDK was located in \r\n\r\n    C:\\Program Files\\Java\\jdk-12.0.2\r\n\r\nAnd Environment Variable in Windows was `JAVA_HOME` : `C:\\Program Files\\Java\\jdk-12.0.2`\r\n\r\nAfter 3 hours of research, I found out that Unity does not support JDK 10, [as told here][1]. My suggestion is:\r\n\r\n0. [Uninstall unwanted JDK][2] if you have one installed already.\r\n1. [Head here][3]\r\n2. Login to/Open a Oracle account if not already logged in.\r\n3. Download the older but functional JDK 8 for your computer set-up(32 bit/64 bit, Windows/Linux etc.)\r\n4. [Install the JDK][4]. Remember the installation path.\r\n5. If you are using Windows, Open Environment Variables and change Java Path via Right click My `Computer/This PC&gt;Properties&gt;Advanced System Settings&gt;Environment Variables&gt;New&gt;Variable Name: JAVA_HOME&gt;Variable Value: [YOUR JDK Path, Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;]`\r\n6. In Unity 3D, press `Edit &gt; Preferences &gt; External Tools and fill in the JDK path (Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;)`.\r\n7. Also, in the same pop-up, edit SDK Path. (Get it from `Android Studio &gt; SDK Manager &gt; Android SDK &gt; Android SDK Location`.)\r\n8. If needed, restart your computer for changes to take effect.\r\n\r\n\r\n  [1]: https://forum.unity.com/threads/gradle-build-failed-error-could-not-determine-java-version-from-10-0-1.532169/\r\n  [2]: https://www.java.com/tr/download/help/uninstall_java.xml\r\n  [3]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [4]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>In my case, I was trying to build and get APK for an old Unity 3D project (so that I can play the game in my Android phone). I was using the most recent Android Studio version, and all the SDK packages I could download via SDK Manager in Android Studio. SDK Packages was located in</p>\n<pre><code>C:/Users/Onat/AppData/Local/Android/Sdk \n</code></pre>\n<p>And the error message I got was the same except the JDK (Java Development Kit) version &quot;jdk-12.0.2&quot; . JDK was located in</p>\n<pre><code>C:\\Program Files\\Java\\jdk-12.0.2\n</code></pre>\n<p>And Environment Variable in Windows was <code>JAVA_HOME</code> : <code>C:\\Program Files\\Java\\jdk-12.0.2</code></p>\n<p>After 3 hours of research, I found out that Unity does not support JDK 10, <a href=\"https://forum.unity.com/threads/gradle-build-failed-error-could-not-determine-java-version-from-10-0-1.532169/\" rel=\"nofollow noreferrer\">as told here</a>. My suggestion is:</p>\n<ol start=\"0\">\n<li><a href=\"https://www.java.com/tr/download/help/uninstall_java.xml\" rel=\"nofollow noreferrer\">Uninstall unwanted JDK</a> if you have one installed already.</li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Head here</a></li>\n<li>Login to/Open a Oracle account if not already logged in.</li>\n<li>Download the older but functional JDK 8 for your computer set-up(32 bit/64 bit, Windows/Linux etc.)</li>\n<li><a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/\" rel=\"nofollow noreferrer\">Install the JDK</a>. Remember the installation path.</li>\n<li>If you are using Windows, Open Environment Variables and change Java Path via Right click My <code>Computer/This PC&gt;Properties&gt;Advanced System Settings&gt;Environment Variables&gt;New&gt;Variable Name: JAVA_HOME&gt;Variable Value: [YOUR JDK Path, Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;]</code></li>\n<li>In Unity 3D, press <code>Edit &gt; Preferences &gt; External Tools and fill in the JDK path (Mine was &quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;)</code>.</li>\n<li>Also, in the same pop-up, edit SDK Path. (Get it from <code>Android Studio &gt; SDK Manager &gt; Android SDK &gt; Android SDK Location</code>.)</li>\n<li>If needed, restart your computer for changes to take effect.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567767656,"creation_date":1567767656,"answer_id":57820740,"question_id":54358107,"body_markdown":"I had a similar problem: my default `gradle wrapper` was version 4.x, while the support for higher versions of Java has been added in Gradle 5.\r\n\r\nI&#39;ve updated my `gradlew` as described here: https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper\r\n\r\nTLTD: \r\n\r\n    ./gradlew wrapper --gradle-version 5.6.2","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had a similar problem: my default <code>gradle wrapper</code> was version 4.x, while the support for higher versions of Java has been added in Gradle 5.</p>\n\n<p>I've updated my <code>gradlew</code> as described here: <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:upgrading_wrapper</a></p>\n\n<p>TLTD: </p>\n\n<pre><code>./gradlew wrapper --gradle-version 5.6.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3044708,"reputation":11,"user_id":2580705,"display_name":"Derrick Lamptey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569277047,"creation_date":1569277047,"answer_id":58070829,"question_id":54358107,"body_markdown":"I solved this by clicking on File -&gt; Project Structure then changed the JDK Location to Use Embedded JDK (Recommended)","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I solved this by clicking on File -> Project Structure then changed the JDK Location to Use Embedded JDK (Recommended)</p>\n"},{"tags":[],"owner":{"account_id":11885624,"reputation":111,"user_id":8698107,"display_name":"atreyHazelHispanic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633041150,"creation_date":1569446186,"answer_id":58106628,"question_id":54358107,"body_markdown":"got to project file..\r\n`gradle/wrapper/gradlewrapper.properties`\r\n\r\nthere you can change the value of `distributionurl` to what ever the lastest version is. (Found on [docs.gradle.org][1])\r\n\r\n\r\n  [1]: http://docs.gradle.org","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>got to project file..\n<code>gradle/wrapper/gradlewrapper.properties</code></p>\n<p>there you can change the value of <code>distributionurl</code> to what ever the lastest version is. (Found on <a href=\"http://docs.gradle.org\" rel=\"nofollow noreferrer\">docs.gradle.org</a>)</p>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1570036070,"creation_date":1570036070,"answer_id":58206150,"question_id":54358107,"body_markdown":"I had the same problem here. \r\nIn my case I need to use an old version of JDK and I&#39;m using [**sdkmanager**](https://sdkman.io/) to manage the versions of JDK, so, I changed the version of the virtual machine to 1.8.\r\n\r\n    sdk use java 8.0.222.j9-adpt\r\n\r\nAfter that, the app runs as expected here.\r\n","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had the same problem here. \nIn my case I need to use an old version of JDK and I'm using <a href=\"https://sdkman.io/\" rel=\"noreferrer\"><strong>sdkmanager</strong></a> to manage the versions of JDK, so, I changed the version of the virtual machine to 1.8.</p>\n\n<pre><code>sdk use java 8.0.222.j9-adpt\n</code></pre>\n\n<p>After that, the app runs as expected here.</p>\n"},{"tags":[],"owner":{"account_id":439526,"reputation":1456,"user_id":1295595,"accept_rate":55,"display_name":"craq"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1576313984,"creation_date":1576313984,"answer_id":59333687,"question_id":54358107,"body_markdown":"**tl;dr**: downgrade java by running `update-alternatives`\r\n_____\r\n\r\nMy system gradle version was 4.4.1, and the gradle wrapper version was 4.0. After running the command given by several other answers:\r\n\r\n    gradle wrapper --gradle-version 4.4.1\r\n\r\nI still had the same error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine java version from &#39;11.0.4&#39;.\r\n\r\nIt turns out java 11 wasn&#39;t supported until gradle 4.8, and my software repositories only had 4.4.1. (Also, upgrading to newer gradle version might have been incompatible with the package I was trying to compile.)\r\n\r\nThe answer was to downgrade java. My system actually had java8 already installed, and it was easy to switch between java versions by running this command and following the instructions:\r\n\r\n    sudo update-alternatives --config java","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p><strong>tl;dr</strong>: downgrade java by running <code>update-alternatives</code></p>\n\n<hr>\n\n<p>My system gradle version was 4.4.1, and the gradle wrapper version was 4.0. After running the command given by several other answers:</p>\n\n<pre><code>gradle wrapper --gradle-version 4.4.1\n</code></pre>\n\n<p>I still had the same error:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.4'.\n</code></pre>\n\n<p>It turns out java 11 wasn't supported until gradle 4.8, and my software repositories only had 4.4.1. (Also, upgrading to newer gradle version might have been incompatible with the package I was trying to compile.)</p>\n\n<p>The answer was to downgrade java. My system actually had java8 already installed, and it was easy to switch between java versions by running this command and following the instructions:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1578480637,"creation_date":1578480637,"answer_id":59644248,"question_id":54358107,"body_markdown":"Updating `gradle/wrapper/gradle-wrapper.properties` with the following version fixed it for me:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Updating <code>gradle/wrapper/gradle-wrapper.properties</code> with the following version fixed it for me:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595471384,"creation_date":1595471384,"answer_id":63045952,"question_id":54358107,"body_markdown":"I was facing the same issue in Docker setup, while I was trying to install `Gradle-2.4` with `JDL 11.0.7`. I have to install a [later version][1] to fix the issue.\r\n\r\nHere is the Working Dockerfile\r\n\r\n```\r\nFROM openjdk:11.0.7-jdk\r\nRUN apt-get update &amp;&amp; apt-get install -y unzip\r\nWORKDIR /gradle\r\nRUN curl -L https://services.gradle.org/distributions/gradle-6.5.1-bin.zip -o gradle-6.5.1-bin.zip\r\nRUN unzip gradle-6.5.1-bin.zip\r\nENV GRADLE_HOME=/gradle/gradle-6.5.1\r\nENV PATH=$PATH:$GRADLE_HOME/bin\r\nRUN gradle --version\r\n\r\n```\r\n\r\n  [1]: https://services.gradle.org/distributions/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I was facing the same issue in Docker setup, while I was trying to install <code>Gradle-2.4</code> with <code>JDL 11.0.7</code>. I have to install a <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">later version</a> to fix the issue.</p>\n<p>Here is the Working Dockerfile</p>\n<pre><code>FROM openjdk:11.0.7-jdk\nRUN apt-get update &amp;&amp; apt-get install -y unzip\nWORKDIR /gradle\nRUN curl -L https://services.gradle.org/distributions/gradle-6.5.1-bin.zip -o gradle-6.5.1-bin.zip\nRUN unzip gradle-6.5.1-bin.zip\nENV GRADLE_HOME=/gradle/gradle-6.5.1\nENV PATH=$PATH:$GRADLE_HOME/bin\nRUN gradle --version\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351186,"reputation":12038,"user_id":1290746,"accept_rate":69,"display_name":"kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603691305,"creation_date":1603691305,"answer_id":64532075,"question_id":54358107,"body_markdown":"### Getting this error when doing a `cordova build android --release`\r\n\r\nI was able to resolve this, after trying so so many different things, by simply doing :\r\n\r\n```bash\r\nnpm install cordova -g   # to upgrade to version 10.0.0\r\n\r\ncordova platform rm android\r\ncordova platform add android    # to upgrade to android version 9.0.0\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<h3>Getting this error when doing a <code>cordova build android --release</code></h3>\n<p>I was able to resolve this, after trying so so many different things, by simply doing :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install cordova -g   # to upgrade to version 10.0.0\n\ncordova platform rm android\ncordova platform add android    # to upgrade to android version 9.0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64443,"reputation":2523,"user_id":190223,"accept_rate":83,"display_name":"juancn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615835799,"creation_date":1615835799,"answer_id":66644311,"question_id":54358107,"body_markdown":"The simplest for a quick and dirty test is to just use an override, for example:\r\n\r\n    &gt; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/ ./gradlew build\r\n\r\nsince the wrapper checks for `JAVA_HOME` you can just pick any you want on each run. ","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>The simplest for a quick and dirty test is to just use an override, for example:</p>\n<pre><code>&gt; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/ ./gradlew build\n</code></pre>\n<p>since the wrapper checks for <code>JAVA_HOME</code> you can just pick any you want on each run.</p>\n"},{"tags":[],"owner":{"account_id":21442481,"reputation":21,"user_id":15796740,"display_name":"Rajesh Boddepalli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619774159,"creation_date":1619730971,"answer_id":67325155,"question_id":54358107,"body_markdown":"I have the similar issue in Windows with redhat java-11 version, edited the gradle-wrapper.properties and updated the distributionUrl as below with gradle-6.5.1-bin.zip\r\nand its working for me.\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.5.1-bin.zip\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I have the similar issue in Windows with redhat java-11 version, edited the gradle-wrapper.properties and updated the distributionUrl as below with gradle-6.5.1-bin.zip\nand its working for me.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5.1-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624990389,"creation_date":1624990389,"answer_id":68183741,"question_id":54358107,"body_markdown":"I had the same issue in Windows. My gradle configuration was to set use JDK1.8, but JAVA_HOME was configured to use another JDK. \r\n\r\n**Solution :** \r\n\r\nSet JAVA_HOME properly based on your configured JDK in gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9m8WM.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I had the same issue in Windows. My gradle configuration was to set use JDK1.8, but JAVA_HOME was configured to use another JDK.</p>\n<p><strong>Solution :</strong></p>\n<p>Set JAVA_HOME properly based on your configured JDK in gradle</p>\n<p><a href=\"https://i.stack.imgur.com/9m8WM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9m8WM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5487946,"reputation":5492,"user_id":4362167,"display_name":"ali ozkara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633041099,"creation_date":1626103482,"answer_id":68349966,"question_id":54358107,"body_markdown":"If you&#39;ve android studio version 4.2.2 its starts as default Java 11.0.8\r\n\r\nCheck your version `Android Studio -&gt; About Android Studio`\r\n\r\nChange 11.0.8 to JDK 8\r\n\r\n1- Install the [JDK8][1]\r\n\r\n2- Install the [Choose Runtime plugin][2]\r\n\r\n3- Open action tab:  Command + Shift + A `⇧⌘A`\r\n\r\n[![actiontab][3]][3]\r\n\r\n4- Choose runtime and select jdk 8 on list \r\n\r\n[![selectjdk][4]][4]\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n  [2]: https://plugins.jetbrains.com/plugin/12836-choose-runtime\r\n  [3]: https://i.stack.imgur.com/CDzNm.png\r\n  [4]: https://i.stack.imgur.com/4Lkuh.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>If you've android studio version 4.2.2 its starts as default Java 11.0.8</p>\n<p>Check your version <code>Android Studio -&gt; About Android Studio</code></p>\n<p>Change 11.0.8 to JDK 8</p>\n<p>1- Install the <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">JDK8</a></p>\n<p>2- Install the <a href=\"https://plugins.jetbrains.com/plugin/12836-choose-runtime\" rel=\"nofollow noreferrer\">Choose Runtime plugin</a></p>\n<p>3- Open action tab:  Command + Shift + A <code>⇧⌘A</code></p>\n<p><a href=\"https://i.stack.imgur.com/CDzNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CDzNm.png\" alt=\"actiontab\" /></a></p>\n<p>4- Choose runtime and select jdk 8 on list</p>\n<p><a href=\"https://i.stack.imgur.com/4Lkuh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Lkuh.png\" alt=\"selectjdk\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19660597,"reputation":1,"user_id":14392109,"display_name":"user14392109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631534417,"creation_date":1631534417,"answer_id":69162292,"question_id":54358107,"body_markdown":"You might missed to install maven please install the maven then please checked. it will work after ....","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>You might missed to install maven please install the maven then please checked. it will work after ....</p>\n"},{"tags":[],"owner":{"account_id":171579,"reputation":14753,"user_id":399105,"display_name":"bmaupin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632492752,"creation_date":1632492752,"answer_id":69316458,"question_id":54358107,"body_markdown":"As others have mentioned, Java 11 support was added in Gradle 5. The solution is to upgrade your Gradle wrapper:\r\n\r\n1. Go here to figure out the latest version of Gradle: https://gradle.org/releases/\r\n\r\n1. Upgrade the Gradle wrapper\r\n\r\n   - If you have Gradle installed on your machine:\r\n\r\n     ```\r\n     gradle wrapper --gradle-version 7.2\r\n     ```\r\n\r\n   - If you don&#39;t have Gradle installed:\r\n\r\n     1. Modify gradle/wrapper/gradle-wrapper.properties\r\n\r\n        Update `distributionUrl` with the latest version of Gradle, e.g.\r\n\r\n        ```\r\n        distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n        ```\r\n\r\n     1. Upgrade the remaining wrapper files (gradle-wrapper.jar, gradlew, gradlew.bat)\r\n\r\n        ```\r\n        ./gradlew wrapper --gradle-version 7.2\r\n        ```\r\n\r\nSince you&#39;re upgrading from an old version of Gradle, you&#39;ll probably get errors like these:\r\n\r\n```\r\nCould not find method compile() for arguments ...\r\nCould not find method testCompile() for arguments ...\r\n```\r\n\r\nTo fix these, edit build.gradle and replace every instance of `compile` with `implementation` and replace `testCompile` with `testImplementation`.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>As others have mentioned, Java 11 support was added in Gradle 5. The solution is to upgrade your Gradle wrapper:</p>\n<ol>\n<li><p>Go here to figure out the latest version of Gradle: <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a></p>\n</li>\n<li><p>Upgrade the Gradle wrapper</p>\n<ul>\n<li><p>If you have Gradle installed on your machine:</p>\n<pre><code>gradle wrapper --gradle-version 7.2\n</code></pre>\n</li>\n<li><p>If you don't have Gradle installed:</p>\n<ol>\n<li><p>Modify gradle/wrapper/gradle-wrapper.properties</p>\n<p>Update <code>distributionUrl</code> with the latest version of Gradle, e.g.</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\n</code></pre>\n</li>\n<li><p>Upgrade the remaining wrapper files (gradle-wrapper.jar, gradlew, gradlew.bat)</p>\n<pre><code>./gradlew wrapper --gradle-version 7.2\n</code></pre>\n</li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<p>Since you're upgrading from an old version of Gradle, you'll probably get errors like these:</p>\n<pre><code>Could not find method compile() for arguments ...\nCould not find method testCompile() for arguments ...\n</code></pre>\n<p>To fix these, edit build.gradle and replace every instance of <code>compile</code> with <code>implementation</code> and replace <code>testCompile</code> with <code>testImplementation</code>.</p>\n"},{"tags":[],"owner":{"account_id":23360415,"reputation":793,"user_id":17432749,"display_name":"dev.bojack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642725944,"creation_date":1642725944,"answer_id":70795117,"question_id":54358107,"body_markdown":"Head over to`android/gradle/wrapper/gradle-wrapper.properties` and update the `distributionUrl` with the latest gradle version. \r\n\r\nGo to https://gradle.org/releases/ to get the latest version, then edit it here.\r\n\r\n&gt; `https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip`\r\n\r\n`7.3.3` being the latest version release.\r\n\r\n&gt; `https\\://services.gradle.org/distributions/gradle-#latest_gradle-version#-all.zip`","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Head over to<code>android/gradle/wrapper/gradle-wrapper.properties</code> and update the <code>distributionUrl</code> with the latest gradle version.</p>\n<p>Go to <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a> to get the latest version, then edit it here.</p>\n<blockquote>\n<p><code>https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip</code></p>\n</blockquote>\n<p><code>7.3.3</code> being the latest version release.</p>\n<blockquote>\n<p><code>https\\://services.gradle.org/distributions/gradle-#latest_gradle-version#-all.zip</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16879336,"reputation":321,"user_id":13601462,"display_name":"Denver Shenal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644807298,"creation_date":1644807298,"answer_id":71106688,"question_id":54358107,"body_markdown":"Navigate to `Project/gradle/wrapper/gradle-wrapper.properties` and manually changed the distributionUrl to `distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-bin.zip` and it worked Hope this helps someone.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Navigate to <code>Project/gradle/wrapper/gradle-wrapper.properties</code> and manually changed the distributionUrl to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-bin.zip</code> and it worked Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":9449848,"reputation":522,"user_id":7027154,"display_name":"Ankit Gupta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648470635,"creation_date":1648470635,"answer_id":71647511,"question_id":54358107,"body_markdown":"Just goto your &quot;project folder/gradle/gradle-wrapper.properties&quot; and in distibutionUrl where your gradle version is metioned, check the new updated gradle version from [here][1] and change it in &quot;distributionUrl&quot; and done!\r\n\r\n\r\n  [1]: https://gradle.org/releases/","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Just goto your &quot;project folder/gradle/gradle-wrapper.properties&quot; and in distibutionUrl where your gradle version is metioned, check the new updated gradle version from <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">here</a> and change it in &quot;distributionUrl&quot; and done!</p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659672502,"creation_date":1659672502,"answer_id":73244555,"question_id":54358107,"body_markdown":"I am running Gradle on Windows.\r\n\r\nIn my case, I already had the older Gradle version present in my system and set it into the &quot;Environment Variable&quot;.\r\n\r\n\r\nThat is the reason the error occurred. \r\n\r\nSo I removed the old version, set the new one in &quot;Environment Variable&quot; - path variable and its starts working.","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I am running Gradle on Windows.</p>\n<p>In my case, I already had the older Gradle version present in my system and set it into the &quot;Environment Variable&quot;.</p>\n<p>That is the reason the error occurred.</p>\n<p>So I removed the old version, set the new one in &quot;Environment Variable&quot; - path variable and its starts working.</p>\n"},{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661429403,"creation_date":1661429403,"answer_id":73487262,"question_id":54358107,"body_markdown":"if you&#39;re working on a legacy project; Up the gradle version to 6.9 and the Gradle plugin version to 4.2.2. This is the Gradle version to which you can safely turn up without anything breaking. ","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>if you're working on a legacy project; Up the gradle version to 6.9 and the Gradle plugin version to 4.2.2. This is the Gradle version to which you can safely turn up without anything breaking.</p>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262007,"creation_date":1677262007,"answer_id":75559986,"question_id":54358107,"body_markdown":"Similar to https://stackoverflow.com/a/68183741/3957754 but for linux or devops environments\r\n\r\nIf you have the same error log `Could not determine java version from &#39;11&#39;.`, check this [table](https://docs.gradle.org/current/userguide/compatibility.html#java) to get the required versions between java &amp; gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### Example\r\n\r\nIn my case I tried with **gradle-4.5** and only with **java 1.8** I was able to solve the same error log: `Could not determine java version from &#39;11&#39;.`\r\n\r\nSo if you are on linux and you need to automate some gradle steps lke build, test, etc you only need to download gradle and export these variables:\r\n\r\n```\r\nexport JAVA_HOME=/foo/bar/Apps/openjdk-8uxyz\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n\r\nexport GRADDLE_HOME=/foo/bar/Apps/gradle-4.5\r\nexport PATH=$PATH:$GRADDLE_HOME/bin\r\n```\r\n\r\nYou could download gradle (gradle-x.y.z-all.zip) from \r\n\r\n- https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations\r\n- https://services.gradle.org/distributions  \r\n\r\nYou could download or install java from:\r\n\r\n- https://stackoverflow.com/a/62157040/3957754\r\n\r\n  [1]: https://i.stack.imgur.com/jzLOp.png","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/68183741/3957754\">https://stackoverflow.com/a/68183741/3957754</a> but for linux or devops environments</p>\n<p>If you have the same error log <code>Could not determine java version from '11'.</code>, check this <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">table</a> to get the required versions between java &amp; gradle</p>\n<p><a href=\"https://i.stack.imgur.com/jzLOp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzLOp.png\" alt=\"enter image description here\" /></a></p>\n<h3>Example</h3>\n<p>In my case I tried with <strong>gradle-4.5</strong> and only with <strong>java 1.8</strong> I was able to solve the same error log: <code>Could not determine java version from '11'.</code></p>\n<p>So if you are on linux and you need to automate some gradle steps lke build, test, etc you only need to download gradle and export these variables:</p>\n<pre><code>export JAVA_HOME=/foo/bar/Apps/openjdk-8uxyz\nexport PATH=$PATH:$JAVA_HOME/bin\n\nexport GRADDLE_HOME=/foo/bar/Apps/gradle-4.5\nexport PATH=$PATH:$GRADDLE_HOME/bin\n</code></pre>\n<p>You could download gradle (gradle-x.y.z-all.zip) from</p>\n<ul>\n<li><a href=\"https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations\" rel=\"nofollow noreferrer\">https://jrichardsz.github.io/android/how-to-build-an-android-apk-using-only-linux-for-devops-automations</a></li>\n<li><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a></li>\n</ul>\n<p>You could download or install java from:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/62157040/3957754\">https://stackoverflow.com/a/62157040/3957754</a></li>\n</ul>\n"}],"owner":{"account_id":4435391,"reputation":2568,"user_id":3611375,"accept_rate":62,"display_name":"lesley2958"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367493,"favorite_count":0,"down_vote_count":0,"up_vote_count":229,"accepted_answer_id":54359875,"answer_count":29,"score":229,"last_activity_date":1690636864,"creation_date":1548382638,"question_id":54358107,"body_markdown":"I ran the following comment: \r\n\r\n```\r\n./gradlew app:installDebug\r\n```\r\n\r\nonly to be met with the log:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine java version from &#39;11.0.2&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\nWhen I ran `./gradlew --version`, I got the following: \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine java version from &#39;11.0.2&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\nMy `.../gradle/wrapper/gradle-wrapper.properties` contains the following including `distributionUrl=.../gradle-4.1-rc-1-all.zip`:\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-rc-1-all.zip\r\n```","title":"Gradle: Could not determine java version from &#39;11.0.2&#39;","body":"<p>I ran the following comment:</p>\n<pre><code>./gradlew app:installDebug\n</code></pre>\n<p>only to be met with the log:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.2'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>When I ran <code>./gradlew --version</code>, I got the following:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.2'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>My <code>.../gradle/wrapper/gradle-wrapper.properties</code> contains the following including <code>distributionUrl=.../gradle-4.1-rc-1-all.zip</code>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-rc-1-all.zip\n</code></pre>\n"},{"tags":["java","discord"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1671408526,"post_id":74842902,"comment_id":132087213,"body_markdown":"Maybe reading the [official wiki](https://jda.wiki/using-jda/interactions/#component-interactions) might help","body":"Maybe reading the <a href=\"https://jda.wiki/using-jda/interactions/#component-interactions\" rel=\"nofollow noreferrer\">official wiki</a> might help"}],"answers":[{"tags":[],"owner":{"account_id":14570424,"reputation":9,"user_id":10523888,"display_name":"vallfeur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690635422,"creation_date":1690635422,"answer_id":76793688,"question_id":74842902,"body_markdown":"So if i&#39;ve understood correctly, it should look like this:\r\n\r\n\r\n    @Override\r\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\r\n        if (ereignis.getComponentId() == &quot;login&quot;){\r\n            // login method\r\n            \r\n        }\r\n\r\n        if (ereignis.getComponentId() == &quot;logout&quot;) {\r\n            // logout method\r\n\r\n        }\r\n\r\n    }\r\n\r\n(don&#39;t forget to register your class listener on jda start)","title":"Discord JDA - embed Button reaction","body":"<p>So if i've understood correctly, it should look like this:</p>\n<pre><code>@Override\npublic void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\n    if (ereignis.getComponentId() == &quot;login&quot;){\n        // login method\n        \n    }\n\n    if (ereignis.getComponentId() == &quot;logout&quot;) {\n        // logout method\n\n    }\n\n}\n</code></pre>\n<p>(don't forget to register your class listener on jda start)</p>\n"}],"owner":{"account_id":27290820,"reputation":11,"user_id":20809266,"display_name":"Pinhg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690635422,"creation_date":1671380960,"question_id":74842902,"body_markdown":"i want to put a embed in a specific channel. When you click on &quot;login&quot;, a log from that should be send into a channel like &quot;login-log&quot;. So when you click on login, a administrator can see in a channel: the user abdscasd logged in at 6:oo or something like that.\r\n(sorry for bad english)\r\n\r\nI already craeted a embed and two buttons. But i dont know how to create the button interact event\r\n\r\nHow can i tell him to do that? I&#39;m new to this.\r\n\r\nThank you!\r\n\r\n```\r\npackage main;\r\n\r\nimport net.dv8tion.jda.api.EmbedBuilder;\r\nimport net.dv8tion.jda.api.Permission;\r\nimport net.dv8tion.jda.api.events.interaction.component.ButtonInteractionEvent;\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\nimport net.dv8tion.jda.api.interactions.components.buttons.Button;\r\n\r\npublic class stempelsystem extends ListenerAdapter {\r\n\r\n    public void onMessageReceived(MessageReceivedEvent ereignis) {\r\n\r\n        if (ereignis.getMessage().getContentStripped().equals(&quot;!hochfahren&quot;)) {\r\n            if (ereignis.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\r\n                EmbedBuilder embed = new EmbedBuilder();\r\n                embed.setTitle(&quot;Timestamp&quot;);\r\n                embed.setThumbnail(&quot;https://cdn.discordapp.com/attachments/1053705072682471525/1054037899429036123/Download.png&quot;);\r\n                embed.setColor(0x42b580);\r\n                embed.setDescription(&quot;&quot;);\r\n                embed.addField(&quot;:question: Warum muss ich mich ein- bzw. ausstempeln?&quot;, &quot;Dies dient zur Zeiterfassung um die Aktivit&#228;t zu &#252;berpr&#252;fen, auch f&#252;r m&#246;gliche Bef&#246;rderungen.&quot;, true);\r\n                embed.addField(&quot;:question: Was passiert wenn ich mich vergesse einzuloggen?&quot;,&quot;Unter umst&#228;nden kann dies eine Bef&#246;rderung beeintr&#228;chtigen oder zu einer K&#252;ndigung f&#252;hren.&quot;,true);\r\n\r\n                Button button = Button.success(&quot;login&quot;, &quot;Login&quot;);\r\n                Button button2 = Button.danger(&quot;logout&quot;, &quot;Melde dich hier ab!&quot;);\r\n\r\n                ereignis.getChannel().sendMessageEmbeds(embed.build()).setActionRow(button, button2).queue();\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n//???????????????????????? i dont know\r\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\r\n        if (ereignis.getButton().getId().equals(&quot;login&quot;)){\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Discord JDA - embed Button reaction","body":"<p>i want to put a embed in a specific channel. When you click on &quot;login&quot;, a log from that should be send into a channel like &quot;login-log&quot;. So when you click on login, a administrator can see in a channel: the user abdscasd logged in at 6:oo or something like that.\n(sorry for bad english)</p>\n<p>I already craeted a embed and two buttons. But i dont know how to create the button interact event</p>\n<p>How can i tell him to do that? I'm new to this.</p>\n<p>Thank you!</p>\n<pre><code>package main;\n\nimport net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.Permission;\nimport net.dv8tion.jda.api.events.interaction.component.ButtonInteractionEvent;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\nimport net.dv8tion.jda.api.interactions.components.buttons.Button;\n\npublic class stempelsystem extends ListenerAdapter {\n\n    public void onMessageReceived(MessageReceivedEvent ereignis) {\n\n        if (ereignis.getMessage().getContentStripped().equals(&quot;!hochfahren&quot;)) {\n            if (ereignis.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\n                EmbedBuilder embed = new EmbedBuilder();\n                embed.setTitle(&quot;Timestamp&quot;);\n                embed.setThumbnail(&quot;https://cdn.discordapp.com/attachments/1053705072682471525/1054037899429036123/Download.png&quot;);\n                embed.setColor(0x42b580);\n                embed.setDescription(&quot;&quot;);\n                embed.addField(&quot;:question: Warum muss ich mich ein- bzw. ausstempeln?&quot;, &quot;Dies dient zur Zeiterfassung um die Aktivität zu überprüfen, auch für mögliche Beförderungen.&quot;, true);\n                embed.addField(&quot;:question: Was passiert wenn ich mich vergesse einzuloggen?&quot;,&quot;Unter umständen kann dies eine Beförderung beeinträchtigen oder zu einer Kündigung führen.&quot;,true);\n\n                Button button = Button.success(&quot;login&quot;, &quot;Login&quot;);\n                Button button2 = Button.danger(&quot;logout&quot;, &quot;Melde dich hier ab!&quot;);\n\n                ereignis.getChannel().sendMessageEmbeds(embed.build()).setActionRow(button, button2).queue();\n\n\n            }\n\n\n\n        }\n    }\n//???????????????????????? i dont know\n    public void onButtonInteractionEvent (ButtonInteractionEvent ereignis){\n        if (ereignis.getButton().getId().equals(&quot;login&quot;)){\n\n\n\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xslt","xslt-2.0","saxon","xslt-3.0"],"comments":[{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690456596,"post_id":76778939,"comment_id":135357960,"body_markdown":"Hi we have removed dependencies from xalan and also we are using XSLT 2.0","body":"Hi we have removed dependencies from xalan and also we are using XSLT 2.0"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1690458362,"post_id":76778939,"comment_id":135358323,"body_markdown":"Which XSLT 2.0 processor do you use? In the Java world Saxon is usually the replacement for Xalan or the JRE&#39;s built-in Transformer implementation. On the other hand, IBM and Oracle are said to have their own XSLT 2 implementations. As for the XSLT, can you show that as code and with minimal but complete samples, together with the input?","body":"Which XSLT 2.0 processor do you use? In the Java world Saxon is usually the replacement for Xalan or the JRE&#39;s built-in Transformer implementation. On the other hand, IBM and Oracle are said to have their own XSLT 2 implementations. As for the XSLT, can you show that as code and with minimal but complete samples, together with the input?"},{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690461169,"post_id":76778939,"comment_id":135358994,"body_markdown":"@MartinHonnen We are using Saxon Processor and i have updated xsl:result-document XSLT code.","body":"@MartinHonnen We are using Saxon Processor and i have updated xsl:result-document XSLT code."},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1690465923,"post_id":76778939,"comment_id":135360242,"body_markdown":"xsl looks dramatic. Just put more time in asking a question.","body":"xsl looks dramatic. Just put more time in asking a question."},{"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"score":0,"creation_date":1690535420,"post_id":76778939,"comment_id":135370545,"body_markdown":"@SiebeJongebloed I have updated XSLT and also XML input File","body":"@SiebeJongebloed I have updated XSLT and also XML input File"}],"answers":[{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690550666,"creation_date":1690537072,"answer_id":76786586,"question_id":76778939,"body_markdown":"    &lt;result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n    \r\n    &lt;/result-document&gt;\r\n\r\n \r\n\r\nshould be\r\n\r\n    &lt;xsl:result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n    \r\n    &lt;/xsl:result-document&gt;\r\n\r\n","title":"XML to HTML Conversion using XSL result-document tag in XSL not giving required result","body":"<pre><code>&lt;result-document href=&quot;concat($procid,'.html')&quot;&gt;\n\n&lt;/result-document&gt;\n</code></pre>\n<p>should be</p>\n<pre><code>&lt;xsl:result-document href=&quot;concat($procid,'.html')&quot;&gt;\n\n&lt;/xsl:result-document&gt;\n</code></pre>\n"}],"owner":{"account_id":10589563,"reputation":15,"user_id":7800643,"display_name":"ashish sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76786586,"answer_count":1,"score":0,"last_activity_date":1690634820,"creation_date":1690454508,"question_id":76778939,"body_markdown":"We have replaced redirect:write(From XSLT -1.0 with Xalan) with result-document (XSLT-2.0 Saxon processor).\r\n\r\nEarlier using redirect:write were used to get 3 output HTMLs, from one HTML we can navigate to another HTML by clicking links available on them.\r\nNow with result-document, we only get single HTML and in single HTML only has all the data of all 3 HTMLs. Also on click of links it says can&#39;t reach because remaining HTMLs are not generated.\r\n\r\nBelow is the Code for XSL File\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    xmlns:plm=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\r\n    xmlns:lxslt=&quot;http://www.apache.org/xslt&quot;\r\n    xmlns:setfile =&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;&gt;\r\n    \r\n    &lt;xsl:key name=&quot;Occurrence&quot; match=&quot;plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;Operation&quot; match=&quot;plm:Operation&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;OperationRevision&quot; match=&quot;plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;Process&quot; match=&quot;plm:Process | plm:Operation&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessOccurrence&quot; match=&quot;plm:ProcessOccurrence | plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcessView&quot; match=&quot;plm:ProcessView&quot; use=&quot;@id&quot;/&gt;\r\n    &lt;xsl:key name=&quot;ProcOpRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\r\n    \r\n    &lt;lxslt:component prefix=&quot;setfile&quot; elements=&quot;copy&quot; functions=&quot;setFile setTcFile getCurrentDir\r\n            getCurrentImanFileName getCurrentImanFileNamePrefix getNiceName&quot;&gt;\r\n      &lt;lxslt:script lang=&quot;javaclass&quot; src=&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;/&gt;\r\n    &lt;/lxslt:component&gt;\r\n    \r\n    &lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot;/&gt;\r\n    &lt;xsl:param name=&quot;outDir&quot; select=&quot;setfile:getCurrentDir(setfile:new())&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;roid&quot; select=&quot;/plm:PLMXML/plm:ProcessView/@rootRefs&quot;/&gt;&lt;!-- rootRef instead of prima.. --&gt;\r\n    &lt;!-- Assuming that the primaryOccurrenceRef(&amp; NO MULTIPLE ENTRY POINTS) is always a ProcessOccurrence --&gt;\r\n    &lt;xsl:variable name=&quot;rpoe&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$roid)&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;rprid&quot; select=&quot;substring-after($rpoe/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;root&quot; select=&quot;key(&#39;ProcessRevision&#39;,$rprid)&quot;/&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;genData&quot;&gt;\r\n            &lt;xsl:with-param name=&quot;curProc&quot; select=&quot;$root&quot;/&gt;\r\n            &lt;xsl:with-param name=&quot;occStr&quot; select=&quot;$rpoe/@occurrenceRefs&quot;/&gt;\r\n        &lt;/xsl:call-template&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;genData&quot;&gt;\r\n    &lt;xsl:param name=&quot;curProc&quot;/&gt;\r\n    &lt;xsl:param name=&quot;occStr&quot;/&gt;\r\n        &lt;html&gt;\r\n            &lt;head&gt;\r\n                &lt;title&gt;Process: &lt;xsl:value-of select=&quot;$curProc/@name&quot;/&gt;&lt;/title&gt;\r\n            &lt;/head&gt;\r\n            &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\r\n                &lt;br/&gt;\r\n                            &lt;!-- Support for Foxfire browser requires specific class=&quot;sample&quot; on all table elements --&gt;\r\n                &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\r\n                    &lt;xsl:call-template name=&quot;heading&quot;&gt;\r\n                        &lt;xsl:with-param name=&quot;title&quot; select=&quot;&#39;Process Report&#39;&quot;/&gt;\r\n                    &lt;/xsl:call-template&gt;\r\n                                    &lt;tr&gt;\r\n                                            &lt;td&gt;\r\n                                                    &lt;xsl:variable name=&quot;procid&quot;&gt;\r\n                                                            &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\r\n                                                                    &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curProc/@masterRef&quot;/&gt;\r\n                                                            &lt;/xsl:call-template&gt;\r\n                                                    &lt;/xsl:variable&gt;\r\n                                                    &lt;xsl:variable name=&quot;proc&quot; select=&quot;key(&#39;Process&#39;,$procid)&quot;/&gt;\r\n                                                    &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,&#39;/&#39;,$curProc/@revision,&#39; - &#39;,$curProc/@name)&quot;/&gt;\r\n                                            &lt;/td&gt;\r\n                                    &lt;/tr&gt;\r\n    \r\n                    &lt;tr&gt;&lt;!-- main table:row6::sub level --&gt;\r\n                        &lt;td&gt;\r\n                            &lt;hr color=&quot;#000000&quot;/&gt;\r\n                            &lt;table class=&quot;sample&quot;&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;Name&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;xsl:call-template name=&quot;createCL&quot;&gt;\r\n                                &lt;xsl:with-param name=&quot;chStr&quot; select=&quot;$occStr&quot;/&gt;\r\n                            &lt;/xsl:call-template&gt;\r\n                            &lt;/table&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/table&gt;\r\n            &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;createCL&quot;&gt;\r\n    &lt;xsl:param name=&quot;chStr&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;genele&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$chStr)&quot;/&gt;\r\n                    &lt;xsl:if test=&quot;name($genele)=&#39;ProcessOccurrence&#39;&quot;&gt;\r\n                        &lt;xsl:call-template name=&quot;creCLext&quot;&gt;\r\n                            &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genele&quot;/&gt;\r\n                        &lt;/xsl:call-template&gt;\r\n                    &lt;/xsl:if&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;creCLext&quot;&gt;\r\n    &lt;xsl:param name=&quot;genel&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;procid&quot; select=&quot;substring-after($genel/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;procele&quot; select=&quot;key(&#39;ProcOpRevision&#39;,$procid)&quot;/&gt;&lt;!-- ProcessRevision or OperationRevision --&gt;\r\n        &lt;xsl:variable name=&quot;pre1&quot; select=&quot;substring-after($genel/@predecessorRefs,&#39;#&#39;)&quot;/&gt;&lt;!--assuming only one id to be present --&gt;\r\n        &lt;xsl:variable name=&quot;pre2&quot; select=&quot;key(&#39;ProcessOccurrence&#39;,$pre1)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;preid&quot; select=&quot;substring-after($pre2/@instancedRef,&#39;#&#39;)&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;prele&quot; select=&quot;/plm:PLMXML/*[@id=$preid]&quot;/&gt;\r\n        &lt;tr&gt;\r\n        &lt;td align=&quot;center&quot;&gt;&lt;a&gt;\r\n            &lt;xsl:attribute name=&quot;href&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;concat($procid,&#39;.html&#39;)&quot;/&gt;\r\n            &lt;/xsl:attribute&gt;\r\n            &lt;xsl:value-of select=&quot;$procele/@name&quot;/&gt;\r\n        &lt;/a&gt;&lt;/td&gt;\r\n         \r\n        &lt;/tr&gt;\r\n        &lt;result-document href=&quot;concat($procid,&#39;.html&#39;)&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;genopr&quot;&gt;\r\n                    &lt;xsl:with-param name=&quot;curOpr&quot; select=&quot;$procele&quot;/&gt;\r\n                    &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genel&quot;/&gt;\r\n                &lt;/xsl:call-template&gt;\r\n        &lt;/result-document&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;genopr&quot;&gt;\r\n    &lt;xsl:param name=&quot;curOpr&quot;/&gt;\r\n    &lt;xsl:param name=&quot;genel&quot;/&gt;\r\n        &lt;html&gt;\r\n            &lt;head&gt;\r\n                &lt;title&gt;Operation: &lt;xsl:value-of select=&quot;$curOpr/@name&quot;/&gt;&lt;/title&gt;\r\n            &lt;/head&gt;\r\n            &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\r\n                &lt;br/&gt;\r\n                &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\r\n                    &lt;xsl:call-template name=&quot;heading&quot;&gt;\r\n                        &lt;xsl:with-param name=&quot;title&quot; select=&quot;&#39;Operation Report&#39;&quot;/&gt;\r\n                    &lt;/xsl:call-template&gt;\r\n                                    &lt;tr&gt;\r\n                                            &lt;td&gt;\r\n                                                    &lt;xsl:variable name=&quot;procid&quot;&gt;\r\n                                                            &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\r\n                                                                    &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curOpr/@masterRef&quot;/&gt;\r\n                                                            &lt;/xsl:call-template&gt;\r\n                                                    &lt;/xsl:variable&gt;\r\n                                                    &lt;xsl:variable name=&quot;proc&quot; select=&quot;key(&#39;Process&#39;,$procid)&quot;/&gt;\r\n                                                    &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,&#39;/&#39;,$curOpr/@revision,&#39; - &#39;,$curOpr/@name)&quot;/&gt;\r\n                                            &lt;/td&gt;\r\n                                    &lt;/tr&gt;\r\n                    \r\n                &lt;/table&gt;\r\n            &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    \r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template name=&quot;heading&quot;&gt;\r\n    &lt;xsl:param name=&quot;title&quot;/&gt;\r\n                    &lt;tr&gt;&lt;!-- main table:row1::heading--&gt;\r\n                        &lt;th&gt;\r\n                            &lt;div align=&quot;left&quot;&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div align=&quot;center&quot;&gt;&lt;b&gt;&lt;font size=&quot;+2&quot;&gt;&lt;xsl:value-of select=&quot;$title&quot;/&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;br/&gt;\r\n                        &lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n    &lt;/xsl:template&gt;\r\n    &lt;xsl:template name=&quot;cleanId&quot;&gt;\r\n        &lt;xsl:param name=&quot;id&quot;/&gt;\r\n    \r\n        &lt;xsl:choose&gt;\r\n            &lt;xsl:when test=&quot;contains($id, &#39;#&#39;)&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;substring-after($id,&#39;#&#39;)&quot;/&gt;\r\n            &lt;/xsl:when&gt;\r\n            &lt;xsl:otherwise&gt;\r\n                &lt;xsl:value-of select=&quot;$id&quot;/&gt;\r\n            &lt;/xsl:otherwise&gt;\r\n        &lt;/xsl:choose&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nBelow is the the code where we are calling the transformer for conversion from XML to HTML.\r\n\r\n    {\r\n             \r\n\r\n            // 1. Instantiate a TransformerFactory.\r\n            javax.xml.transform.TransformerFactory tFactory =(SAXTransformerFactory) SAXTransformerFactory.newInstance();\r\n\r\n            XslImportResolver myResolve = new XslImportResolver();\r\n            tFactory.setURIResolver( myResolve );\r\n\r\n            // 2. Use the TransformerFactory to process the stylesheet Source and\r\n            //                generate a Transformer.\r\n            javax.xml.transform.Transformer transformer = tFactory.newTransformer\r\n                            (new javax.xml.transform.stream.StreamSource(xslLocation));\r\n\r\n            // Add debugging output if it is definded in the Registry.\r\n            Registry registry = Registry.getRegistry( this );\r\n\r\n            // 3. Use the Transformer to perform the transformation and send the\r\n            //          the output to a Result object.\r\n            transformer.transform( new StreamSource( xmlLocation ),\r\n                    new StreamResult( new FileOutputStream( htmlLocation ) ) );\r\n        }\r\n\r\n\r\nHere is the XML (Partial) input for the Conversion\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;PLMXML xmlns=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\r\n     language=&quot;en-us&quot; time=&quot;13:52:21&quot; schemaVersion=&quot;6&quot;&gt;\r\n    &lt;Header id=&quot;id1&quot; traverseRootRefs=&quot;#id6&quot; transferContext=&quot;tcm_export&quot;&gt;&lt;/Header&gt;\r\n    &lt;Process id=&quot;id20&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002927&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfiRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\r\n    &lt;Operation id=&quot;id41&quot; name=&quot;OP&quot; subType=&quot;MEOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002929&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wvtRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Operation&gt;\r\n    &lt;Process id=&quot;id45&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatn&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002928&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gTqRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\r\n    &lt;ProcessRevision id=&quot;id18&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id20&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfpRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/ProcessRevision&gt;\r\n    &lt;OperationRevision id=&quot;id39&quot; name=&quot;OP&quot; subType=&quot;MEOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id41&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wzjRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/OperationRevision&gt;\r\n    &lt;ProcessRevision id=&quot;id43&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatnRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id45&quot; revision=&quot;A&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gXgRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;/ProcessRevision&gt;\r\n    &lt;ProcessView id=&quot;id4&quot; ruleRefs=&quot;#id2&quot; rootRefs=&quot;id6&quot; primaryOccurrenceRef=&quot;id8&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/QkqRjxIVJ_LsEB/AAAAAAAAAAAAAA/BOM/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;ProcessOccurrence id=&quot;id6&quot; instancedRef=&quot;#id43&quot; associatedAttachmentRefs=&quot;#id23 #id26&quot; occurrenceRefs=&quot;id28&quot; parentRef=&quot;#id8&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id5&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id21&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\r\n    &lt;ProcessOccurrence id=&quot;id8&quot; instancedRef=&quot;#id18&quot; associatedAttachmentRefs=&quot;#id11 #id17&quot; occurrenceRefs=&quot;id6&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id7&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id9&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\r\n    &lt;ProcessOccurrence id=&quot;id28&quot; instancedRef=&quot;#id39&quot; associatedAttachmentRefs=&quot;#id31 #id34 #id42&quot; parentRef=&quot;#id6&quot; configuredActivityRootRef=&quot;#id37&quot;&gt;\r\n    &lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/BAqRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\r\n    &lt;Transform id=&quot;id27&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\r\n    &lt;AttributeContext id=&quot;id29&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;&lt;/ProcessView&gt;\r\n    &lt;/PLMXML&gt;\r\n\r\nwe want output file in such a way that user will be able to navigate in it.\r\nIn shorter replacement for redirect-write. ","title":"XML to HTML Conversion using XSL result-document tag in XSL not giving required result","body":"<p>We have replaced redirect:write(From XSLT -1.0 with Xalan) with result-document (XSLT-2.0 Saxon processor).</p>\n<p>Earlier using redirect:write were used to get 3 output HTMLs, from one HTML we can navigate to another HTML by clicking links available on them.\nNow with result-document, we only get single HTML and in single HTML only has all the data of all 3 HTMLs. Also on click of links it says can't reach because remaining HTMLs are not generated.</p>\n<p>Below is the Code for XSL File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\nxmlns:plm=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\nxmlns:lxslt=&quot;http://www.apache.org/xslt&quot;\nxmlns:setfile =&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;&gt;\n\n&lt;xsl:key name=&quot;Occurrence&quot; match=&quot;plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;Operation&quot; match=&quot;plm:Operation&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;OperationRevision&quot; match=&quot;plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;Process&quot; match=&quot;plm:Process | plm:Operation&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessOccurrence&quot; match=&quot;plm:ProcessOccurrence | plm:Occurrence | plm:WorkAreaOccurrence&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcessView&quot; match=&quot;plm:ProcessView&quot; use=&quot;@id&quot;/&gt;\n&lt;xsl:key name=&quot;ProcOpRevision&quot; match=&quot;plm:ProcessRevision | plm:OperationRevision&quot; use=&quot;@id&quot;/&gt;\n\n&lt;lxslt:component prefix=&quot;setfile&quot; elements=&quot;copy&quot; functions=&quot;setFile setTcFile getCurrentDir\n        getCurrentImanFileName getCurrentImanFileNamePrefix getNiceName&quot;&gt;\n  &lt;lxslt:script lang=&quot;javaclass&quot; src=&quot;com.teamcenter.rac.cme.cmereport.CMEReportXalanExtension&quot;/&gt;\n&lt;/lxslt:component&gt;\n\n&lt;xsl:output method=&quot;html&quot; indent=&quot;yes&quot;/&gt;\n&lt;xsl:param name=&quot;outDir&quot; select=&quot;setfile:getCurrentDir(setfile:new())&quot;/&gt;\n&lt;xsl:variable name=&quot;roid&quot; select=&quot;/plm:PLMXML/plm:ProcessView/@rootRefs&quot;/&gt;&lt;!-- rootRef instead of prima.. --&gt;\n&lt;!-- Assuming that the primaryOccurrenceRef(&amp; NO MULTIPLE ENTRY POINTS) is always a ProcessOccurrence --&gt;\n&lt;xsl:variable name=&quot;rpoe&quot; select=&quot;key('ProcessOccurrence',$roid)&quot;/&gt;\n&lt;xsl:variable name=&quot;rprid&quot; select=&quot;substring-after($rpoe/@instancedRef,'#')&quot;/&gt;\n&lt;xsl:variable name=&quot;root&quot; select=&quot;key('ProcessRevision',$rprid)&quot;/&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:call-template name=&quot;genData&quot;&gt;\n        &lt;xsl:with-param name=&quot;curProc&quot; select=&quot;$root&quot;/&gt;\n        &lt;xsl:with-param name=&quot;occStr&quot; select=&quot;$rpoe/@occurrenceRefs&quot;/&gt;\n    &lt;/xsl:call-template&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;genData&quot;&gt;\n&lt;xsl:param name=&quot;curProc&quot;/&gt;\n&lt;xsl:param name=&quot;occStr&quot;/&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Process: &lt;xsl:value-of select=&quot;$curProc/@name&quot;/&gt;&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\n            &lt;br/&gt;\n                        &lt;!-- Support for Foxfire browser requires specific class=&quot;sample&quot; on all table elements --&gt;\n            &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\n                &lt;xsl:call-template name=&quot;heading&quot;&gt;\n                    &lt;xsl:with-param name=&quot;title&quot; select=&quot;'Process Report'&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n                                &lt;tr&gt;\n                                        &lt;td&gt;\n                                                &lt;xsl:variable name=&quot;procid&quot;&gt;\n                                                        &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\n                                                                &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curProc/@masterRef&quot;/&gt;\n                                                        &lt;/xsl:call-template&gt;\n                                                &lt;/xsl:variable&gt;\n                                                &lt;xsl:variable name=&quot;proc&quot; select=&quot;key('Process',$procid)&quot;/&gt;\n                                                &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,'/',$curProc/@revision,' - ',$curProc/@name)&quot;/&gt;\n                                        &lt;/td&gt;\n                                &lt;/tr&gt;\n\n                &lt;tr&gt;&lt;!-- main table:row6::sub level --&gt;\n                    &lt;td&gt;\n                        &lt;hr color=&quot;#000000&quot;/&gt;\n                        &lt;table class=&quot;sample&quot;&gt;\n                        &lt;tr&gt;\n                            &lt;th&gt;Name&lt;/th&gt;\n                        &lt;/tr&gt;\n                        &lt;xsl:call-template name=&quot;createCL&quot;&gt;\n                            &lt;xsl:with-param name=&quot;chStr&quot; select=&quot;$occStr&quot;/&gt;\n                        &lt;/xsl:call-template&gt;\n                        &lt;/table&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;createCL&quot;&gt;\n&lt;xsl:param name=&quot;chStr&quot;/&gt;\n    &lt;xsl:variable name=&quot;genele&quot; select=&quot;key('ProcessOccurrence',$chStr)&quot;/&gt;\n                &lt;xsl:if test=&quot;name($genele)='ProcessOccurrence'&quot;&gt;\n                    &lt;xsl:call-template name=&quot;creCLext&quot;&gt;\n                        &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genele&quot;/&gt;\n                    &lt;/xsl:call-template&gt;\n                &lt;/xsl:if&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;creCLext&quot;&gt;\n&lt;xsl:param name=&quot;genel&quot;/&gt;\n    &lt;xsl:variable name=&quot;procid&quot; select=&quot;substring-after($genel/@instancedRef,'#')&quot;/&gt;\n    &lt;xsl:variable name=&quot;procele&quot; select=&quot;key('ProcOpRevision',$procid)&quot;/&gt;&lt;!-- ProcessRevision or OperationRevision --&gt;\n    &lt;xsl:variable name=&quot;pre1&quot; select=&quot;substring-after($genel/@predecessorRefs,'#')&quot;/&gt;&lt;!--assuming only one id to be present --&gt;\n    &lt;xsl:variable name=&quot;pre2&quot; select=&quot;key('ProcessOccurrence',$pre1)&quot;/&gt;\n    &lt;xsl:variable name=&quot;preid&quot; select=&quot;substring-after($pre2/@instancedRef,'#')&quot;/&gt;\n    &lt;xsl:variable name=&quot;prele&quot; select=&quot;/plm:PLMXML/*[@id=$preid]&quot;/&gt;\n    &lt;tr&gt;\n    &lt;td align=&quot;center&quot;&gt;&lt;a&gt;\n        &lt;xsl:attribute name=&quot;href&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat($procid,'.html')&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n        &lt;xsl:value-of select=&quot;$procele/@name&quot;/&gt;\n    &lt;/a&gt;&lt;/td&gt;\n     \n    &lt;/tr&gt;\n    &lt;result-document href=&quot;concat($procid,'.html')&quot;&gt;\n    &lt;xsl:call-template name=&quot;genopr&quot;&gt;\n                &lt;xsl:with-param name=&quot;curOpr&quot; select=&quot;$procele&quot;/&gt;\n                &lt;xsl:with-param name=&quot;genel&quot; select=&quot;$genel&quot;/&gt;\n            &lt;/xsl:call-template&gt;\n    &lt;/result-document&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;genopr&quot;&gt;\n&lt;xsl:param name=&quot;curOpr&quot;/&gt;\n&lt;xsl:param name=&quot;genel&quot;/&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Operation: &lt;xsl:value-of select=&quot;$curOpr/@name&quot;/&gt;&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body BGCOLOR=&quot;#FFFFFF&quot; link=&quot;#0000FF&quot; vlink=&quot;#660066&quot;&gt;\n            &lt;br/&gt;\n            &lt;table class=&quot;sample&quot;&gt;&lt;!-- main table --&gt;\n                &lt;xsl:call-template name=&quot;heading&quot;&gt;\n                    &lt;xsl:with-param name=&quot;title&quot; select=&quot;'Operation Report'&quot;/&gt;\n                &lt;/xsl:call-template&gt;\n                                &lt;tr&gt;\n                                        &lt;td&gt;\n                                                &lt;xsl:variable name=&quot;procid&quot;&gt;\n                                                        &lt;xsl:call-template name=&quot;cleanId&quot;&gt;\n                                                                &lt;xsl:with-param name=&quot;id&quot; select=&quot;$curOpr/@masterRef&quot;/&gt;\n                                                        &lt;/xsl:call-template&gt;\n                                                &lt;/xsl:variable&gt;\n                                                &lt;xsl:variable name=&quot;proc&quot; select=&quot;key('Process',$procid)&quot;/&gt;\n                                                &lt;xsl:value-of select=&quot;concat($proc/@catalogueId,'/',$curOpr/@revision,' - ',$curOpr/@name)&quot;/&gt;\n                                        &lt;/td&gt;\n                                &lt;/tr&gt;\n                \n            &lt;/table&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n\n&lt;/xsl:template&gt;\n\n&lt;xsl:template name=&quot;heading&quot;&gt;\n&lt;xsl:param name=&quot;title&quot;/&gt;\n                &lt;tr&gt;&lt;!-- main table:row1::heading--&gt;\n                    &lt;th&gt;\n                        &lt;div align=&quot;left&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div align=&quot;center&quot;&gt;&lt;b&gt;&lt;font size=&quot;+2&quot;&gt;&lt;xsl:value-of select=&quot;$title&quot;/&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;br/&gt;\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n&lt;/xsl:template&gt;\n&lt;xsl:template name=&quot;cleanId&quot;&gt;\n    &lt;xsl:param name=&quot;id&quot;/&gt;\n\n    &lt;xsl:choose&gt;\n        &lt;xsl:when test=&quot;contains($id, '#')&quot;&gt;\n            &lt;xsl:value-of select=&quot;substring-after($id,'#')&quot;/&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt;\n            &lt;xsl:value-of select=&quot;$id&quot;/&gt;\n        &lt;/xsl:otherwise&gt;\n    &lt;/xsl:choose&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Below is the the code where we are calling the transformer for conversion from XML to HTML.</p>\n<pre><code>{\n         \n\n        // 1. Instantiate a TransformerFactory.\n        javax.xml.transform.TransformerFactory tFactory =(SAXTransformerFactory) SAXTransformerFactory.newInstance();\n\n        XslImportResolver myResolve = new XslImportResolver();\n        tFactory.setURIResolver( myResolve );\n\n        // 2. Use the TransformerFactory to process the stylesheet Source and\n        //                generate a Transformer.\n        javax.xml.transform.Transformer transformer = tFactory.newTransformer\n                        (new javax.xml.transform.stream.StreamSource(xslLocation));\n\n        // Add debugging output if it is definded in the Registry.\n        Registry registry = Registry.getRegistry( this );\n\n        // 3. Use the Transformer to perform the transformation and send the\n        //          the output to a Result object.\n        transformer.transform( new StreamSource( xmlLocation ),\n                new StreamResult( new FileOutputStream( htmlLocation ) ) );\n    }\n</code></pre>\n<p>Here is the XML (Partial) input for the Conversion</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PLMXML xmlns=&quot;http://www.plmxml.org/Schemas/PLMXMLSchema&quot;\n language=&quot;en-us&quot; time=&quot;13:52:21&quot; schemaVersion=&quot;6&quot;&gt;\n&lt;Header id=&quot;id1&quot; traverseRootRefs=&quot;#id6&quot; transferContext=&quot;tcm_export&quot;&gt;&lt;/Header&gt;\n&lt;Process id=&quot;id20&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002927&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfiRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\n&lt;Operation id=&quot;id41&quot; name=&quot;OP&quot; subType=&quot;MEOP&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002929&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wvtRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Operation&gt;\n&lt;Process id=&quot;id45&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatn&quot; accessRefs=&quot;#id13&quot; catalogueId=&quot;002928&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gTqRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;&lt;/Process&gt;\n&lt;ProcessRevision id=&quot;id18&quot; name=&quot;PlantBOp_rediined&quot; subType=&quot;Mfg0MEPlantBOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id20&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AfiRcExBJ_LsEB&quot; version=&quot;AfpRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/ProcessRevision&gt;\n&lt;OperationRevision id=&quot;id39&quot; name=&quot;OP&quot; subType=&quot;MEOPRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id41&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;wvtRcExBJ_LsEB&quot; version=&quot;wzjRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/OperationRevision&gt;\n&lt;ProcessRevision id=&quot;id43&quot; name=&quot;process_station&quot; subType=&quot;Mfg0MEProcStatnRevision&quot; accessRefs=&quot;#id13&quot; masterRef=&quot;#id45&quot; revision=&quot;A&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;gTqRcExBJ_LsEB&quot; version=&quot;gXgRcExBJ_LsEB&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;/ProcessRevision&gt;\n&lt;ProcessView id=&quot;id4&quot; ruleRefs=&quot;#id2&quot; rootRefs=&quot;id6&quot; primaryOccurrenceRef=&quot;id8&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/QkqRjxIVJ_LsEB/AAAAAAAAAAAAAA/BOM/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;ProcessOccurrence id=&quot;id6&quot; instancedRef=&quot;#id43&quot; associatedAttachmentRefs=&quot;#id23 #id26&quot; occurrenceRefs=&quot;id28&quot; parentRef=&quot;#id8&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id5&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id21&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\n&lt;ProcessOccurrence id=&quot;id8&quot; instancedRef=&quot;#id18&quot; associatedAttachmentRefs=&quot;#id11 #id17&quot; occurrenceRefs=&quot;id6&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id7&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id9&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;\n&lt;ProcessOccurrence id=&quot;id28&quot; instancedRef=&quot;#id39&quot; associatedAttachmentRefs=&quot;#id31 #id34 #id42&quot; parentRef=&quot;#id6&quot; configuredActivityRootRef=&quot;#id37&quot;&gt;\n&lt;ApplicationRef application=&quot;applicationName&quot; label=&quot;AjiRcExBJ_LsEB/BAqRcExBJ_LsEB/gfuRcExBJ_LsEB/&quot;&gt;&lt;/ApplicationRef&gt;\n&lt;Transform id=&quot;id27&quot;&gt;1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1&lt;/Transform&gt;\n&lt;AttributeContext id=&quot;id29&quot; attributeName=&quot;AO_ID&quot; contextRef=&quot;#id8&quot;&gt;&lt;/AttributeContext&gt;&lt;/ProcessOccurrence&gt;&lt;/ProcessView&gt;\n&lt;/PLMXML&gt;\n</code></pre>\n<p>we want output file in such a way that user will be able to navigate in it.\nIn shorter replacement for redirect-write.</p>\n"},{"tags":["java","spring-data","openapi","openapi-generator"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690635063,"post_id":76793615,"comment_id":135382802,"body_markdown":"I didn&#39;t think JPA had any association with the REST API endpoints. How would a generator know what your code looks like before it was written?","body":"I didn&#39;t think JPA had any association with the REST API endpoints. How would a generator know what your code looks like before it was written?"},{"owner":{"account_id":11490284,"reputation":401,"user_id":8421492,"display_name":"Jayser"},"score":0,"creation_date":1690635268,"post_id":76793615,"comment_id":135382828,"body_markdown":"@OneCricketeer I don&#39;t understand your comment. I think the problem is openapi generator and the spring boot data rest repositories. Everything is generated fine but the method names.","body":"@OneCricketeer I don&#39;t understand your comment. I think the problem is openapi generator and the spring boot data rest repositories. Everything is generated fine but the method names."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690635466,"post_id":76793615,"comment_id":135382851,"body_markdown":"And it appears the generator requires annotations to have the correct output. It won&#39;t otherwise parse the interface function names","body":"And it appears the generator requires annotations to have the correct output. It won&#39;t otherwise parse the interface function names"}],"owner":{"account_id":11490284,"reputation":401,"user_id":8421492,"display_name":"Jayser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690634650,"creation_date":1690634327,"question_id":76793615,"body_markdown":"I generate open API specification from my spring boot data rest endpoints. That&#39;s working but the generated method names in the openapi.yaml are unequal to the method names in the repository interface.\r\n\r\npom.xml\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;apiDocsUrl&gt;http://dev-container:8081/v3/api-docs.yaml&lt;/apiDocsUrl&gt;\r\n    \t\t&lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\r\n    \t\t&lt;outputDir&gt;${project.basedir}/target/generated-sources&lt;/outputDir&gt;\r\n    \t\t&lt;skip&gt;false&lt;/skip&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nUserRepository.java =&gt; Spring JpaRepository\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n        public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\r\n    }\r\n\r\nThe Result in my openapi.yaml is:\r\n\r\n      /users/search/findByTestname:\r\n        get:\r\n          tags:\r\n          - user-search-controller\r\n          operationId: executeSearch-user-get\r\n          parameters:\r\n          - name: &quot;n&quot;\r\n            in: query\r\n            schema:\r\n              type: string\r\n          responses:\r\n            &quot;200&quot;:\r\n              description: OK\r\n              content:\r\n                application/hal+json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/CollectionModelEntityModelUser&#39;\r\n            &quot;404&quot;:\r\n              description: Not Found\r\n\r\nIf I add the @Operation annotation to the method then the name will be generated correct.\r\n\r\nUserRepository.java with annotation:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n        @Operation(operationId = &quot;findByTestname&quot;)\r\n        public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\r\n    }\r\n\r\nAnd the result looks correct.\r\n\r\n      /users/search/findByTestname:\r\n        get:\r\n          tags:\r\n          - user-search-controller\r\n          operationId: findByTestname\r\n          parameters:\r\n\r\n**Question:** It is possible to configure the generator to use the correct method name without annotating it? I just want to configure it and not override or implement something.","title":"Generate openapi specification for spring boot data rest with correct method names","body":"<p>I generate open API specification from my spring boot data rest endpoints. That's working but the generated method names in the openapi.yaml are unequal to the method names in the repository interface.</p>\n<p>pom.xml</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;apiDocsUrl&gt;http://dev-container:8081/v3/api-docs.yaml&lt;/apiDocsUrl&gt;\n        &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\n        &lt;outputDir&gt;${project.basedir}/target/generated-sources&lt;/outputDir&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>UserRepository.java =&gt; Spring JpaRepository</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n    public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\n}\n</code></pre>\n<p>The Result in my openapi.yaml is:</p>\n<pre><code>  /users/search/findByTestname:\n    get:\n      tags:\n      - user-search-controller\n      operationId: executeSearch-user-get\n      parameters:\n      - name: &quot;n&quot;\n        in: query\n        schema:\n          type: string\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            application/hal+json:\n              schema:\n                $ref: '#/components/schemas/CollectionModelEntityModelUser'\n        &quot;404&quot;:\n          description: Not Found\n</code></pre>\n<p>If I add the @Operation annotation to the method then the name will be generated correct.</p>\n<p>UserRepository.java with annotation:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n    @Operation(operationId = &quot;findByTestname&quot;)\n    public Iterable&lt;User&gt; findByTestname(@Param(&quot;n&quot;) String n);\n}\n</code></pre>\n<p>And the result looks correct.</p>\n<pre><code>  /users/search/findByTestname:\n    get:\n      tags:\n      - user-search-controller\n      operationId: findByTestname\n      parameters:\n</code></pre>\n<p><strong>Question:</strong> It is possible to configure the generator to use the correct method name without annotating it? I just want to configure it and not override or implement something.</p>\n"},{"tags":["java","intellij-idea","refactoring"],"comments":[{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":0,"creation_date":1482238939,"post_id":41227270,"comment_id":69685377,"body_markdown":"I&#39;ve removed the word &quot;undo&quot; from the question, because it moves attention from refactoring features to undo functionality. I solved my problem long time ago (using git revert, incidentally), now I am only interested in refactoring.","body":"I&#39;ve removed the word &quot;undo&quot; from the question, because it moves attention from refactoring features to undo functionality. I solved my problem long time ago (using git revert, incidentally), now I am only interested in refactoring."}],"answers":[{"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482224312,"creation_date":1482224312,"answer_id":41238271,"question_id":41227270,"body_markdown":"I don&#39;t think a direct undo is possible, but check the local history (right click -&gt; Local History -&gt; Show History) to view previous versions of the original class.    These versions will have been created automatically by IntelliJ when various events have occurred, including saving after changes.  You can then selectively restore the state you want","title":"IntelliJ refactoring to inline usage of a helper class?","body":"<p>I don't think a direct undo is possible, but check the local history (right click -> Local History -> Show History) to view previous versions of the original class.    These versions will have been created automatically by IntelliJ when various events have occurred, including saving after changes.  You can then selectively restore the state you want</p>\n"}],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690632790,"creation_date":1482165834,"question_id":41227270,"body_markdown":"I had a function which became too big, so I refactored variables into fields on a (new) class and parts of the method to methods on the class. My function now looks like this\r\n\r\n    void doSomething() {\r\n        Resource resource = ....\r\n        new HelperClass(resource)\r\n              .doFirstThing()\r\n              .doSecondThing()\r\n              .closeResource();\r\n\r\nNow I wish to do the inverse transformation (because the doSomething function is actually a testcase and I need to produce a nice linear testcase that I can post to Issue Tracker).\r\n\r\nHow do I do this using automatic refactoring tools in IntelliJ Idea Community?","title":"IntelliJ refactoring to inline usage of a helper class?","body":"<p>I had a function which became too big, so I refactored variables into fields on a (new) class and parts of the method to methods on the class. My function now looks like this</p>\n\n<pre><code>void doSomething() {\n    Resource resource = ....\n    new HelperClass(resource)\n          .doFirstThing()\n          .doSecondThing()\n          .closeResource();\n</code></pre>\n\n<p>Now I wish to do the inverse transformation (because the doSomething function is actually a testcase and I need to produce a nice linear testcase that I can post to Issue Tracker).</p>\n\n<p>How do I do this using automatic refactoring tools in IntelliJ Idea Community?</p>\n"},{"tags":["java","maven","annotation-processing","maven-compiler-plugin"],"answers":[{"tags":[],"owner":{"account_id":28997573,"reputation":34,"user_id":22211872,"display_name":"Yana Dziadkouskaya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689716343,"creation_date":1689716343,"answer_id":76716691,"question_id":76716463,"body_markdown":"I&#39;ve faced with annotation processor problems, but with gradle. What has helped me:\r\n1. make clean before build during the building the project;\r\n2. if there is a problems with some annotation processors, update their order.\r\n\r\nAlso  baeldung [baeldung][1] says, that your own class should already be compiled, for instance, imported from another jar in the build dependencies. You can 1) set annotation processor in the copmiler settings or 2) add a specially structured jar with the processor class to the classpath of the compiler (you have to specify it in the META-INF/services/javax.annotation.processing.Processor file as a fully qualified class name of the processor).\r\n\r\nOne more variant - to generate the registration file automatically, you can use the @AutoService annotation from the Google&#39;s auto-service library with your own annotation processor. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-annotation-processing-builder","title":"Maven compiler plugin: Annotation processor not found","body":"<p>I've faced with annotation processor problems, but with gradle. What has helped me:</p>\n<ol>\n<li>make clean before build during the building the project;</li>\n<li>if there is a problems with some annotation processors, update their order.</li>\n</ol>\n<p>Also  baeldung <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung</a> says, that your own class should already be compiled, for instance, imported from another jar in the build dependencies. You can 1) set annotation processor in the copmiler settings or 2) add a specially structured jar with the processor class to the classpath of the compiler (you have to specify it in the META-INF/services/javax.annotation.processing.Processor file as a fully qualified class name of the processor).</p>\n<p>One more variant - to generate the registration file automatically, you can use the @AutoService annotation from the Google's auto-service library with your own annotation processor.</p>\n"},{"tags":[],"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690631937,"creation_date":1690305255,"answer_id":76765087,"question_id":76716463,"body_markdown":"You need to specify the Maven artifact containing the annotation processor using `&lt;annotationProcessorPaths&gt;`, e.g.:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n            &lt;annotationProcessorPath&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;com.example.annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/annotationProcessorPath&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n        &lt;annotationProcessors&gt;\r\n            &lt;annotationProcessor&gt;com.example.annotations.MyProcessor&lt;/annotationProcessor&gt;\r\n        &lt;/annotationProcessors&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nSource: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths","title":"Maven compiler plugin: Annotation processor not found","body":"<p>You need to specify the Maven artifact containing the annotation processor using <code>&lt;annotationProcessorPaths&gt;</code>, e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;com.example.annotations&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;/annotationProcessorPath&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;annotationProcessors&gt;\n            &lt;annotationProcessor&gt;com.example.annotations.MyProcessor&lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Source: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths</a></p>\n"}],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690631937,"creation_date":1689713433,"question_id":76716463,"body_markdown":"I have a Maven java project which includes a custom annotation processor:\r\n\r\n    @SupportedAnnotationTypes(&quot;com.example.Processor&quot;)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_17)\r\n    public class MyProcessor extends AbstractProcessor {\r\n      /*\r\n      code\r\n      */\r\n    }\r\n\r\n\r\n\r\nHowever, when I compile the project I get the error \r\n\r\n&gt; &quot;Annotation Processor com.example.MyProcessor not Found&quot;\r\n\r\nHere is my maven-compiler-plugin below:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;annotationProcessors&gt;\r\n                &lt;annotationProcessor&gt;\r\n                    com.example.MyProcessor\r\n                &lt;/annotationProcessor&gt;\r\n            &lt;/annotationProcessors&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI have a file under `META-INF/services` called `javax.annotation.processing.Processor` which contains the custom annotation processor&#39;s name.\r\n\r\nI looked over similar questions on this topic which suggest to disable annotation processing as the solution (i.e set proc:none under executions tag). However I don&#39;t want to disable annotation processing because I also want to use `@Slf4j` logging in the same project. \r\n\r\nAny suggestions on how to get this to work?","title":"Maven compiler plugin: Annotation processor not found","body":"<p>I have a Maven java project which includes a custom annotation processor:</p>\n<pre><code>@SupportedAnnotationTypes(&quot;com.example.Processor&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_17)\npublic class MyProcessor extends AbstractProcessor {\n  /*\n  code\n  */\n}\n</code></pre>\n<p>However, when I compile the project I get the error</p>\n<blockquote>\n<p>&quot;Annotation Processor com.example.MyProcessor not Found&quot;</p>\n</blockquote>\n<p>Here is my maven-compiler-plugin below:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessors&gt;\n            &lt;annotationProcessor&gt;\n                com.example.MyProcessor\n            &lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have a file under <code>META-INF/services</code> called <code>javax.annotation.processing.Processor</code> which contains the custom annotation processor's name.</p>\n<p>I looked over similar questions on this topic which suggest to disable annotation processing as the solution (i.e set proc:none under executions tag). However I don't want to disable annotation processing because I also want to use <code>@Slf4j</code> logging in the same project.</p>\n<p>Any suggestions on how to get this to work?</p>\n"},{"tags":["java","spring","validation","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690390613,"post_id":76772989,"comment_id":135348084,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690631232,"creation_date":1690631232,"answer_id":76793415,"question_id":76772989,"body_markdown":"    Add annotation @GroupSequence to validate using Jakarta annotations first, before custom validator.\r\n\r\n    @GroupSequence({OrderDiscountRequest.class, DiscountValidator.class})\r\n    public class OrderDiscountRequest {\r\n     ","title":"Define Order between Jakarta Validations and Custom Validations","body":"<pre><code>Add annotation @GroupSequence to validate using Jakarta annotations first, before custom validator.\n\n@GroupSequence({OrderDiscountRequest.class, DiscountValidator.class})\npublic class OrderDiscountRequest {\n \n</code></pre>\n"}],"owner":{"account_id":21768446,"reputation":3,"user_id":16071937,"display_name":"fanis798"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76793415,"answer_count":1,"score":-1,"last_activity_date":1690631232,"creation_date":1690386237,"question_id":76772989,"body_markdown":"When calling /orders/{order_id}/discounts/{discount_id} : \r\n- Request is authenticated through a filter chain I configured\r\n- DiscountValidator method isValid() is executed, \r\n- @Valid annotation is applied, validating all annotations like @NotNull, @Digits, etc.. \r\n- @PreAuthorize is executed.\r\n\r\nThe thing is I want Jakarta annotations to validate my fields first, and then to run custom validator (DiscountValidator) assuming discountValue for example, is not null.\r\n\r\n\r\n - Controller Method Signature\r\n\r\n```   \r\n\r\n    @PreAuthorize(&quot;hasRealmRoles(&#39;INTERNAL_USER&#39;,&#39;ROBOTIC_USER&#39;) or orderBelongsToAccount(#orderIdAsString)&quot;)\r\n    @PutMapping(path = &quot;orders/{order_id}/discounts/{discount_id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;OrderDiscountDto&gt; updateOrderDiscount(@Valid @RequestBody OrderDiscountRequest orderDiscountRequest,\r\n                                                                @UUIDConstraint @PathVariable(&quot;order_id&quot;) String orderIdAsString,\r\n                                                                @UUIDConstraint @PathVariable(&quot;discount_id&quot;) String discountIdAsString);\r\n\r\n```\r\n\r\n- OrderDiscountRequest pojo\r\n```\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Builder\r\n    @ValidDiscount\r\n    public class OrderDiscountRequest {\r\n        @Schema(description = &quot;The decimal amount, deducted from order&#39;s total value&quot;, name = &quot;discount_value&quot;,\r\n                example = &quot;31.00&quot;, type = &quot;string&quot;, format = &quot;string&quot;)\r\n        @JsonProperty(&quot;discount_value&quot;)\r\n        @DecimalMin(&quot;0.0&quot;)\r\n        @Digits(integer = 10, fraction = 2)\r\n        @NotNull(message = &quot;Discount value cannot be null. Provide field value.&quot;)\r\n        private BigDecimal discountValue;\r\n    \r\n        @Schema(description = &quot;Object containing info regarding discount policy&quot;, name = &quot;policy&quot;,\r\n                implementation = DiscountPolicy.class, enumAsRef = true)\r\n        @JsonProperty(&quot;policy&quot;)\r\n        @NotNull(message = &quot;Discount Policy cannot be null. Provide field value.&quot;)\r\n        private DiscountPolicy policy;\r\n    }\r\n```\r\n\r\n- ValidDiscount annotation\r\n```\r\n\r\n    @Constraint(validatedBy = DiscountValidator.class)\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE, ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidDiscount {\r\n        String message() default &quot;Invalid discount request information&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n```\r\n\r\n- DiscountValidator class\r\n```\r\n\r\n    @Slf4j\r\n    public class DiscountValidator implements ConstraintValidator&lt;ValidDiscount, OrderDiscountRequest&gt; {\r\n    \r\n        @Override\r\n        public boolean isValid(OrderDiscountRequest discountRequest, ConstraintValidatorContext context) {\r\n    \r\n            validatePercentagePolicy(discountRequest);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        private void validatePercentagePolicy(OrderDiscountRequest discountRequest) {\r\n            if (DiscountPolicy.PERCENTAGE.equals(discountRequest.getPolicy()) &amp;&amp;\r\n                    discountRequest.getDiscountValue().compareTo(MAX_PERCENTAGE) == 1) {\r\n                log.warn(&quot;Discount percentage value greater than 100.00&quot;);\r\n                throw new ConstraintViolationException(ValidationMessages.ORDER_DISCOUNT_PERCENTAGE_VALUE_EXCEEDED, new HashSet&lt;&gt;());\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n- Configuration class, to push validations before authorization process (because authorization needs a present order resource for requested order_id)\r\n```\r\n@Configuration\r\npublic class ValidationConfiguration {\r\n    @Bean\r\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\r\n        MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\r\n        processor.setBeforeExistingAdvisors(true);\r\n        return processor;\r\n    }\r\n}\r\n```","title":"Define Order between Jakarta Validations and Custom Validations","body":"<p>When calling /orders/{order_id}/discounts/{discount_id} :</p>\n<ul>\n<li>Request is authenticated through a filter chain I configured</li>\n<li>DiscountValidator method isValid() is executed,</li>\n<li>@Valid annotation is applied, validating all annotations like @NotNull, @Digits, etc..</li>\n<li>@PreAuthorize is executed.</li>\n</ul>\n<p>The thing is I want Jakarta annotations to validate my fields first, and then to run custom validator (DiscountValidator) assuming discountValue for example, is not null.</p>\n<ul>\n<li>Controller Method Signature</li>\n</ul>\n<pre><code>\n    @PreAuthorize(&quot;hasRealmRoles('INTERNAL_USER','ROBOTIC_USER') or orderBelongsToAccount(#orderIdAsString)&quot;)\n    @PutMapping(path = &quot;orders/{order_id}/discounts/{discount_id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;OrderDiscountDto&gt; updateOrderDiscount(@Valid @RequestBody OrderDiscountRequest orderDiscountRequest,\n                                                                @UUIDConstraint @PathVariable(&quot;order_id&quot;) String orderIdAsString,\n                                                                @UUIDConstraint @PathVariable(&quot;discount_id&quot;) String discountIdAsString);\n\n</code></pre>\n<ul>\n<li>OrderDiscountRequest pojo</li>\n</ul>\n<pre><code>    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    @Builder\n    @ValidDiscount\n    public class OrderDiscountRequest {\n        @Schema(description = &quot;The decimal amount, deducted from order's total value&quot;, name = &quot;discount_value&quot;,\n                example = &quot;31.00&quot;, type = &quot;string&quot;, format = &quot;string&quot;)\n        @JsonProperty(&quot;discount_value&quot;)\n        @DecimalMin(&quot;0.0&quot;)\n        @Digits(integer = 10, fraction = 2)\n        @NotNull(message = &quot;Discount value cannot be null. Provide field value.&quot;)\n        private BigDecimal discountValue;\n    \n        @Schema(description = &quot;Object containing info regarding discount policy&quot;, name = &quot;policy&quot;,\n                implementation = DiscountPolicy.class, enumAsRef = true)\n        @JsonProperty(&quot;policy&quot;)\n        @NotNull(message = &quot;Discount Policy cannot be null. Provide field value.&quot;)\n        private DiscountPolicy policy;\n    }\n</code></pre>\n<ul>\n<li>ValidDiscount annotation</li>\n</ul>\n<pre><code>\n    @Constraint(validatedBy = DiscountValidator.class)\n    @Target({ElementType.PARAMETER, ElementType.TYPE, ANNOTATION_TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface ValidDiscount {\n        String message() default &quot;Invalid discount request information&quot;;\n    \n        Class&lt;?&gt;[] groups() default {};\n    \n        Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n\n</code></pre>\n<ul>\n<li>DiscountValidator class</li>\n</ul>\n<pre><code>\n    @Slf4j\n    public class DiscountValidator implements ConstraintValidator&lt;ValidDiscount, OrderDiscountRequest&gt; {\n    \n        @Override\n        public boolean isValid(OrderDiscountRequest discountRequest, ConstraintValidatorContext context) {\n    \n            validatePercentagePolicy(discountRequest);\n    \n            return true;\n        }\n    \n        private void validatePercentagePolicy(OrderDiscountRequest discountRequest) {\n            if (DiscountPolicy.PERCENTAGE.equals(discountRequest.getPolicy()) &amp;&amp;\n                    discountRequest.getDiscountValue().compareTo(MAX_PERCENTAGE) == 1) {\n                log.warn(&quot;Discount percentage value greater than 100.00&quot;);\n                throw new ConstraintViolationException(ValidationMessages.ORDER_DISCOUNT_PERCENTAGE_VALUE_EXCEEDED, new HashSet&lt;&gt;());\n            }\n        }\n    }\n\n</code></pre>\n<ul>\n<li>Configuration class, to push validations before authorization process (because authorization needs a present order resource for requested order_id)</li>\n</ul>\n<pre><code>@Configuration\npublic class ValidationConfiguration {\n    @Bean\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\n        MethodValidationPostProcessor processor = new MethodValidationPostProcessor();\n        processor.setBeforeExistingAdvisors(true);\n        return processor;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","servlets","jar"],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343227828,"creation_date":1343227828,"answer_id":11652475,"question_id":11652431,"body_markdown":"Compile time &amp; runtime are two different things. What ever you added right now is just for compile time &amp; build purpose only. Runtime server tries to load the class. Add same jar to project lib folder also (Which will be packaged with WAR and available for the server at runtime).","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Compile time &amp; runtime are two different things. What ever you added right now is just for compile time &amp; build purpose only. Runtime server tries to load the class. Add same jar to project lib folder also (Which will be packaged with WAR and available for the server at runtime).</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":2,"up_vote_count":41,"is_accepted":true,"score":39,"last_activity_date":1343227981,"creation_date":1343227981,"answer_id":11652541,"question_id":11652431,"body_markdown":"As your screenshot shows, the mysql jar doesn&#39;t appear under the *Web App Libraries* node. Paste the jar in `WebContent/WEB-INF/lib`, and it will be automatically added to the build path `and` to the runtime classpath of the webapp (and it will appear under *Web App Libraries*).","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>As your screenshot shows, the mysql jar doesn't appear under the <em>Web App Libraries</em> node. Paste the jar in <code>WebContent/WEB-INF/lib</code>, and it will be automatically added to the build path <code>and</code> to the runtime classpath of the webapp (and it will appear under <em>Web App Libraries</em>).</p>\n"},{"tags":[],"owner":{"account_id":1806349,"reputation":21,"user_id":1643388,"display_name":"Kaditx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346666465,"creation_date":1346665916,"answer_id":12245535,"question_id":11652431,"body_markdown":"Try doing this:\r\n\r\nMake a directory named lib in the root directory of the proyect and put the .jar in it.\r\n\r\nIn the WEB-INF directory, make a link to lib.\r\n\r\nNow, the jar would appear under WebbApp Libraries.","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Try doing this:</p>\n\n<p>Make a directory named lib in the root directory of the proyect and put the .jar in it.</p>\n\n<p>In the WEB-INF directory, make a link to lib.</p>\n\n<p>Now, the jar would appear under WebbApp Libraries.</p>\n"},{"tags":[],"owner":{"account_id":1816431,"reputation":1650,"user_id":1651428,"display_name":"Nasruddin"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1392728243,"creation_date":1362222269,"answer_id":15173716,"question_id":11652431,"body_markdown":"Just now I troubleshoot this issue. \r\n\r\n - Just go to `properties` of your project. \r\n - Select `Deployment Assembly` -&gt; `add` -&gt; `Java Build Path Entries`.\r\n\r\nAnd you are done !","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>Just now I troubleshoot this issue. </p>\n\n<ul>\n<li>Just go to <code>properties</code> of your project. </li>\n<li>Select <code>Deployment Assembly</code> -> <code>add</code> -> <code>Java Build Path Entries</code>.</li>\n</ul>\n\n<p>And you are done !</p>\n"},{"tags":[],"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392792754,"creation_date":1392792754,"answer_id":21873185,"question_id":11652431,"body_markdown":"The solution is quite straightforward:\r\n\r\n     1. Right click on the your web project and choose PROPERTIES\r\n    \r\n     2. Choose the J2EE Module Dependencies\r\n    \r\n     3. Click on the Add External JARs… and then point on your library file (ZIP or JAR)\r\n    \r\n     4. Click on Apply then OK.\r\n    \r\n     5. Restart your Apache Tomcat\r\n\r\nThe added library should be seen under: ProjectName &gt; Java Resources: src &gt; Libraries &gt; WebApp Libraries.\r\n\r\n","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>The solution is quite straightforward:</p>\n\n<pre><code> 1. Right click on the your web project and choose PROPERTIES\n\n 2. Choose the J2EE Module Dependencies\n\n 3. Click on the Add External JARs… and then point on your library file (ZIP or JAR)\n\n 4. Click on Apply then OK.\n\n 5. Restart your Apache Tomcat\n</code></pre>\n\n<p>The added library should be seen under: ProjectName > Java Resources: src > Libraries > WebApp Libraries.</p>\n"},{"tags":[],"owner":{"account_id":25922838,"reputation":1,"user_id":19645128,"display_name":"Yash Chouhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690630643,"creation_date":1690630643,"answer_id":76793382,"question_id":11652431,"body_markdown":"if you already added mysql-connector.jar file, \r\nthen you also need to add it into project&#39;s **web deployment assembly**. For this - \r\n1) In eclipse - go to project properties by right clicking on it.\r\n2) You will see web deployment assembly option.\r\n3) Add your jar file here, using **Add** button.","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>if you already added mysql-connector.jar file,\nthen you also need to add it into project's <strong>web deployment assembly</strong>. For this -</p>\n<ol>\n<li>In eclipse - go to project properties by right clicking on it.</li>\n<li>You will see web deployment assembly option.</li>\n<li>Add your jar file here, using <strong>Add</strong> button.</li>\n</ol>\n"}],"owner":{"account_id":555930,"reputation":10727,"user_id":831294,"accept_rate":80,"display_name":"URL87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49688,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1690636719,"accepted_answer_id":11652541,"answer_count":6,"score":25,"last_activity_date":1690630643,"creation_date":1343227696,"question_id":11652431,"body_markdown":"When I use the follow code in eclipse `Dynamic Web Project` inside `servlet` , like this :\r\n\r\n\r\n    \r\n    @WebServlet(&quot;/CreateCustomerServlet&quot;)\r\n    public class CreateCustomerServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate void test() throws SQLException, ClassNotFoundException {\r\n    \t\t// use the JAR ...\r\n    \t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);//here the exception\r\n    \t}\r\n    }\r\n\t\r\n\r\nit throw the exception: \r\n\r\n`java.lang.ClassNotFoundException: com.mysql.jdbc.Driver` \r\n\r\nin the line:\r\n\r\n `Class.forName(&quot;com.mysql.jdbc.Driver&quot;);`\r\n\r\nIn the Build path of the dynamic web project I added the jar:\r\n\r\n `mysql-connector-java-5.1.21-bin.jar` \r\n\r\nI add snapshot of the folder , you can see where it is the required jar -\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bR1Ub.png","title":"Eclipse - add .jar to Dynamic Web Project","body":"<p>When I use the follow code in eclipse <code>Dynamic Web Project</code> inside <code>servlet</code> , like this :</p>\n\n<pre><code>@WebServlet(\"/CreateCustomerServlet\")\npublic class CreateCustomerServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    private void test() throws SQLException, ClassNotFoundException {\n        // use the JAR ...\n        Class.forName(\"com.mysql.jdbc.Driver\");//here the exception\n    }\n}\n</code></pre>\n\n<p>it throw the exception: </p>\n\n<p><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</code> </p>\n\n<p>in the line:</p>\n\n<p><code>Class.forName(\"com.mysql.jdbc.Driver\");</code></p>\n\n<p>In the Build path of the dynamic web project I added the jar:</p>\n\n<p><code>mysql-connector-java-5.1.21-bin.jar</code> </p>\n\n<p>I add snapshot of the folder , you can see where it is the required jar -</p>\n\n<p><img src=\"https://i.stack.imgur.com/bR1Ub.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690877231,"post_id":76793361,"comment_id":135410636,"body_markdown":"i think this might help you. Check the answers. https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl","body":"i think this might help you. Check the answers. <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\" title=\"hibernate throws multiplebagfetchexception cannot simultaneously fetch multipl\">stackoverflow.com/questions/4334970/&hellip;</a>"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690630324,"creation_date":1690630324,"question_id":76793361,"body_markdown":"I want to retrieve Screening with Seat and with Booking by booking id. Screening has a one-to-many relationship with Seat and Seat has a one-to-many relationship with Booking (a seat can have multiple bookings, but only one can be active, the rest must be canceled).\r\nI wrote such a method, but it gets MultipleBagException:\r\n\r\n    @Query(&quot;select s from booking_screening s join fetch s.seats se join fetch se.bookings b where b.id = :bookingId&quot;)\r\n    Optional&lt;Screening&gt; readByBookingId(@Param(&quot;bookingId&quot;) Long booking);","title":"Nested one-to-many - MultipleBagFetchException","body":"<p>I want to retrieve Screening with Seat and with Booking by booking id. Screening has a one-to-many relationship with Seat and Seat has a one-to-many relationship with Booking (a seat can have multiple bookings, but only one can be active, the rest must be canceled).\nI wrote such a method, but it gets MultipleBagException:</p>\n<pre><code>@Query(&quot;select s from booking_screening s join fetch s.seats se join fetch se.bookings b where b.id = :bookingId&quot;)\nOptional&lt;Screening&gt; readByBookingId(@Param(&quot;bookingId&quot;) Long booking);\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa","join"],"comments":[{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1494797281,"post_id":43968785,"comment_id":74967881,"body_markdown":"Please, add to the question: Why do you need a left join?","body":"Please, add to the question: Why do you need a left join?"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1494828750,"post_id":43968785,"comment_id":74974927,"body_markdown":"&quot;it doesn&#39;t work&quot; ? What is that supposed to mean? You get an exception? It runs some SQL (that you don&#39;t post) but you get a different result to what you expect? Nothing happens at all?","body":"&quot;it doesn&#39;t work&quot; ? What is that supposed to mean? You get an exception? It runs some SQL (that you don&#39;t post) but you get a different result to what you expect? Nothing happens at all?"},{"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"score":0,"creation_date":1494872950,"post_id":43968785,"comment_id":75002118,"body_markdown":"I posted and error which I have with this query and which query I wouldlike to achieve.","body":"I posted and error which I have with this query and which query I wouldlike to achieve."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1494925998,"post_id":43968785,"comment_id":75022657,"body_markdown":"@bartekms274 Better to add the part of stack trace with an error description. `Errors in named queries: Car.findAll` doesn&#39;t tell a lot. Also I have updated my answer with that error.","body":"@bartekms274 Better to add the part of stack trace with an error description. <code>Errors in named queries: Car.findAll</code> doesn&#39;t tell a lot. Also I have updated my answer with that error."}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494925899,"creation_date":1494845161,"answer_id":43977502,"question_id":43968785,"body_markdown":"    SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer &quot;\r\n            + &quot;AND c.type=:type AND c.dailyPrice=:dailyPrice\r\n\r\nThere is an error in this query `c.reservation` need to be changed to `c.reservations`.\r\n\r\n&gt;  I would like to show Cars which have NULL reservations.\r\n\r\nYou can&#39;t do it this way. Try to begin from this query:\r\n\r\n    select c from Car c where not exists (\r\n        select r.id from Reservation r where r.car.id = c.id\r\n    )","title":"How to create JPA NamedQuery with LEFT JOIN","body":"<pre><code>SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer \"\n        + \"AND c.type=:type AND c.dailyPrice=:dailyPrice\n</code></pre>\n\n<p>There is an error in this query <code>c.reservation</code> need to be changed to <code>c.reservations</code>.</p>\n\n<blockquote>\n  <p>I would like to show Cars which have NULL reservations.</p>\n</blockquote>\n\n<p>You can't do it this way. Try to begin from this query:</p>\n\n<pre><code>select c from Car c where not exists (\n    select r.id from Reservation r where r.car.id = c.id\n)\n</code></pre>\n"}],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13904,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1690628575,"creation_date":1494795958,"question_id":43968785,"body_markdown":"I have two entities: Car and Reservation. I would like to create named query with LEFT JOIN. I was trying to do this like it is described here [How to create JPA query with LEFT OUTER JOIN][1] but it doesn&#39;t work. Do you have any idea what is wrong in my query? I would like to show Cars which have NULL reservations. Anyway even with JOIN it does not work. After starting application I have an error:\r\n\r\n    Caused by: org.hibernate.HibernateException: Errors in named queries: Car.findAll\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:495) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \t... 22 common frames omitted\r\n\r\nIn principle I would like to achieve this query which in MySQL works\r\n\r\n    SELECT distinct * FROM car c LEFT JOIN reservation r ON c.id = r.car_id WHERE c.producer=&#39;producer&#39; AND c.model=&#39;model&#39; AND c.type=&#39;type&#39; \r\n    AND (r.date_of_rent &lt; &#39;date1&#39; AND r.date_of_return &lt; &#39;date1&#39;) OR (r.date_of_rent &gt; &#39;date2&#39;) OR r.date_of_rent IS NULL;\r\n\r\nCar Entity\r\n\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    @Entity\r\n    @NamedQuery(name = &quot;Car.findAll&quot;, query = &quot;SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer &quot;\r\n    \t\t+ &quot;AND c.type=:type AND c.dailyPrice=:dailyPrice&quot;)\r\n    public class Car implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String producer;\r\n    \tprivate String model;\r\n    \tprivate int seatsNumber;\r\n    \tprivate String type;\r\n    \tprivate String registrationNumber;\r\n    \tprivate double dailyPrice;\r\n    \tprivate String description;\r\n    \t@OneToMany(mappedBy = &quot;car&quot;)\r\n    \tprivate List&lt;Reservation&gt; reservations;\r\n\r\nReservation Entity\r\n\r\n    import java.io.Serializable;\r\n    import java.sql.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Entity\r\n    public class Reservation implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t@ManyToOne\r\n    \tprivate User user;\r\n    \t@ManyToOne\r\n    \tprivate Car car;\r\n    \tprivate Date dateOfRent;\r\n    \tprivate Date dateOfReturn;\r\n\r\nMany thanks for help.\r\n\r\n**UPDATE**\r\n\r\nProblem solved. Query should look like this one\r\n\r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    @Entity\r\n    @NamedQuery(name = &quot;Car.findAll&quot;, query = &quot;SELECT DISTINCT c FROM Car c LEFT JOIN c.reservations r WHERE &quot;\r\n    \t\t+ &quot;c.type=:type AND c.dailyPrice&lt;=:dailyPrice AND ((r.dateOfRent &lt; :dateOfRent AND r.dateOfReturn &lt; :dateOfRent) OR &quot;\r\n    \t\t+ &quot;(r.dateOfRent &gt; :dateOfReturn) OR (r.dateOfRent IS NULL))&quot;)\r\n    public class Car implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String producer;\r\n    \tprivate String model;\r\n    \tprivate Integer seatsNumber;\r\n    \tprivate String type;\r\n    \tprivate String registrationNumber;\r\n    \tprivate Double dailyPrice;\r\n    \tprivate String description;\r\n    \t@OneToMany(mappedBy = &quot;car&quot;)\r\n    \tprivate List&lt;Reservation&gt; reservations;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10202456/how-to-create-a-jpa-query-with-left-outer-join\r\n\r\n\r\n","title":"How to create JPA NamedQuery with LEFT JOIN","body":"<p>I have two entities: Car and Reservation. I would like to create named query with LEFT JOIN. I was trying to do this like it is described here <a href=\"https://stackoverflow.com/questions/10202456/how-to-create-a-jpa-query-with-left-outer-join\">How to create JPA query with LEFT OUTER JOIN</a> but it doesn't work. Do you have any idea what is wrong in my query? I would like to show Cars which have NULL reservations. Anyway even with JOIN it does not work. After starting application I have an error:</p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Errors in named queries: Car.findAll\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:495) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    ... 22 common frames omitted\n</code></pre>\n\n<p>In principle I would like to achieve this query which in MySQL works</p>\n\n<pre><code>SELECT distinct * FROM car c LEFT JOIN reservation r ON c.id = r.car_id WHERE c.producer='producer' AND c.model='model' AND c.type='type' \nAND (r.date_of_rent &lt; 'date1' AND r.date_of_return &lt; 'date1') OR (r.date_of_rent &gt; 'date2') OR r.date_of_rent IS NULL;\n</code></pre>\n\n<p>Car Entity</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\n\n@Entity\n@NamedQuery(name = \"Car.findAll\", query = \"SELECT c FROM Car c LEFT JOIN c.reservation r WHERE c.producer=:producer \"\n        + \"AND c.type=:type AND c.dailyPrice=:dailyPrice\")\npublic class Car implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String producer;\n    private String model;\n    private int seatsNumber;\n    private String type;\n    private String registrationNumber;\n    private double dailyPrice;\n    private String description;\n    @OneToMany(mappedBy = \"car\")\n    private List&lt;Reservation&gt; reservations;\n</code></pre>\n\n<p>Reservation Entity</p>\n\n<pre><code>import java.io.Serializable;\nimport java.sql.Date;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\n\n@Entity\npublic class Reservation implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne\n    private User user;\n    @ManyToOne\n    private Car car;\n    private Date dateOfRent;\n    private Date dateOfReturn;\n</code></pre>\n\n<p>Many thanks for help.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Problem solved. Query should look like this one</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\n\n@Entity\n@NamedQuery(name = \"Car.findAll\", query = \"SELECT DISTINCT c FROM Car c LEFT JOIN c.reservations r WHERE \"\n        + \"c.type=:type AND c.dailyPrice&lt;=:dailyPrice AND ((r.dateOfRent &lt; :dateOfRent AND r.dateOfReturn &lt; :dateOfRent) OR \"\n        + \"(r.dateOfRent &gt; :dateOfReturn) OR (r.dateOfRent IS NULL))\")\npublic class Car implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String producer;\n    private String model;\n    private Integer seatsNumber;\n    private String type;\n    private String registrationNumber;\n    private Double dailyPrice;\n    private String description;\n    @OneToMany(mappedBy = \"car\")\n    private List&lt;Reservation&gt; reservations;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8339661,"reputation":357,"user_id":6265353,"accept_rate":86,"display_name":"Rathiga Jesika"},"score":0,"creation_date":1493293198,"post_id":43656673,"comment_id":74360601,"body_markdown":"https://developer.android.com/guide/topics/manifest/application-element.html","body":"<a href=\"https://developer.android.com/guide/topics/manifest/application-element.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/manifest/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1493293179,"creation_date":1493293179,"answer_id":43656713,"question_id":43656673,"body_markdown":"Read official guide line about **[android:persistent][1]**\r\n\r\n&gt; Whether or not the application should remain running at all times —\r\n&gt; &quot;true&quot; if it should, and &quot;false&quot; if not. The default value is &quot;false&quot;.\r\n&gt; Applications should not normally set this flag; persistence mode is\r\n&gt; intended only for certain system applications.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/application-element.html#persistent","title":"Android What is use of persistent?","body":"<p>Read official guide line about <strong><a href=\"https://developer.android.com/guide/topics/manifest/application-element.html#persistent\" rel=\"noreferrer\">android:persistent</a></strong></p>\n\n<blockquote>\n  <p>Whether or not the application should remain running at all times —\n  \"true\" if it should, and \"false\" if not. The default value is \"false\".\n  Applications should not normally set this flag; persistence mode is\n  intended only for certain system applications.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13408827,"reputation":937,"user_id":9676015,"display_name":"Brent K."},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1572371662,"creation_date":1572371662,"answer_id":58612987,"question_id":43656673,"body_markdown":"Unfortunately, for most developers there is no use.  The official guide for [android:persistent][1] has a weakly worded comment that it is &quot;intended&quot; for system apps. To be clear, this property is *ignored* unless you are a system app.\r\n\r\nYou can see in the [commit ][2] where flag checking was added to PackageManager, this requires both the persistent flag and the system app flag. If your app only has one of these, it will not be treated as persistent. \r\n\r\nSo this property is only useful for platform developers and hardware vendors. Sorry.\r\n\r\nBut what does it do?  This property allows you to start a background service on Oreo and prevents it from being automatically killed.\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/application-element.html#persistent\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/b1e7776%5E%21/","title":"Android What is use of persistent?","body":"<p>Unfortunately, for most developers there is no use.  The official guide for <a href=\"https://developer.android.com/guide/topics/manifest/application-element.html#persistent\" rel=\"noreferrer\">android:persistent</a> has a weakly worded comment that it is \"intended\" for system apps. To be clear, this property is <em>ignored</em> unless you are a system app.</p>\n\n<p>You can see in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/b1e7776%5E%21/\" rel=\"noreferrer\">commit </a> where flag checking was added to PackageManager, this requires both the persistent flag and the system app flag. If your app only has one of these, it will not be treated as persistent. </p>\n\n<p>So this property is only useful for platform developers and hardware vendors. Sorry.</p>\n\n<p>But what does it do?  This property allows you to start a background service on Oreo and prevents it from being automatically killed.</p>\n"},{"tags":[],"owner":{"account_id":29116804,"reputation":1,"user_id":22305349,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690628422,"creation_date":1690628422,"answer_id":76793246,"question_id":43656673,"body_markdown":"There is a big danger with this, and very poorly documented. If you tag your system app as persistent, it can not be removed/updated/replaced or anything. It is locked in for good on the device and stays running. From a developer perspective, I am having great dificulty updating it to a newer version. Once installed in your device image, that is it.","title":"Android What is use of persistent?","body":"<p>There is a big danger with this, and very poorly documented. If you tag your system app as persistent, it can not be removed/updated/replaced or anything. It is locked in for good on the device and stays running. From a developer perspective, I am having great dificulty updating it to a newer version. Once installed in your device image, that is it.</p>\n"}],"owner":{"account_id":8727061,"reputation":193,"user_id":6528412,"display_name":"Alis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18473,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":43656713,"answer_count":3,"score":15,"last_activity_date":1690628422,"creation_date":1493293074,"question_id":43656673,"body_markdown":"What is use of **android:persistent=&quot;true&quot;** properties?\r\n\r\n    &lt;application\r\n        android:fullBackupContent=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:persistent=&quot;true&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme1&quot;&gt;\r\n    &lt;/application&gt;","title":"Android What is use of persistent?","body":"<p>What is use of <strong>android:persistent=\"true\"</strong> properties?</p>\n\n<pre><code>&lt;application\n    android:fullBackupContent=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:persistent=\"true\"\n    android:largeHeap=\"true\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme1\"&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","jmeter","jmeter-5.0"],"comments":[{"owner":{"account_id":13944218,"reputation":156,"user_id":10069332,"display_name":"Ricardo Sueiras"},"score":0,"creation_date":1690558496,"post_id":76788771,"comment_id":135375334,"body_markdown":"Have you asked this question in the JMeter community on GitHub? https://github.com/apache/jmeter","body":"Have you asked this question in the JMeter community on GitHub? <a href=\"https://github.com/apache/jmeter\" rel=\"nofollow noreferrer\">github.com/apache/jmeter</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690628183,"creation_date":1690628183,"answer_id":76793234,"question_id":76788771,"body_markdown":"What do you want from us exactly? Your [soak test][1] fails and now you need to find the reason for the failure. \r\n\r\nGiven you follow [JMeter Best Practices][2] and recommendations from [9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure][3] article JMeter should be stable enough and suitable for the soak testing without degradation of the performance over the time. \r\n\r\nIf you believe that JMeter causes requests slowing down you can use a profiler tool like [YourKit][4] or [JProfiler][5] to check what causes the slowing down. Alternatively instead of your endpoint you can try using a different one like http://example.com or https://blazedemo.com and see if the problem is reproducible. If yes - [raise an issue in JMeter project][6]\r\n\r\nHowever I believe JMeter is quite mature and free of obvious [memory leaks][7] so my expectation is it&#39;s a bug in the application you&#39;re trying to test so consider applying the same exercise with [profiling tools][8]. \r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Software_performance_testing#Soak_testing\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [3]: https://www.blazemeter.com/blog/jmeter-memory-profiling\r\n  [4]: https://www.yourkit.com/java/profiler/features/\r\n  [5]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [6]: https://jmeter.apache.org/issues.html\r\n  [7]: https://en.wikipedia.org/wiki/Memory_leak\r\n  [8]: https://en.wikipedia.org/wiki/List_of_performance_analysis_tools","title":"Jmeter # of request starts to drop after few hours","body":"<p>What do you want from us exactly? Your <a href=\"https://en.wikipedia.org/wiki/Software_performance_testing#Soak_testing\" rel=\"nofollow noreferrer\">soak test</a> fails and now you need to find the reason for the failure.</p>\n<p>Given you follow <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> and recommendations from <a href=\"https://www.blazemeter.com/blog/jmeter-memory-profiling\" rel=\"nofollow noreferrer\">9 Easy Solutions for a JMeter Load Test “Out of Memory” Failure</a> article JMeter should be stable enough and suitable for the soak testing without degradation of the performance over the time.</p>\n<p>If you believe that JMeter causes requests slowing down you can use a profiler tool like <a href=\"https://www.yourkit.com/java/profiler/features/\" rel=\"nofollow noreferrer\">YourKit</a> or <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> to check what causes the slowing down. Alternatively instead of your endpoint you can try using a different one like <a href=\"http://example.com\" rel=\"nofollow noreferrer\">http://example.com</a> or <a href=\"https://blazedemo.com\" rel=\"nofollow noreferrer\">https://blazedemo.com</a> and see if the problem is reproducible. If yes - <a href=\"https://jmeter.apache.org/issues.html\" rel=\"nofollow noreferrer\">raise an issue in JMeter project</a></p>\n<p>However I believe JMeter is quite mature and free of obvious <a href=\"https://en.wikipedia.org/wiki/Memory_leak\" rel=\"nofollow noreferrer\">memory leaks</a> so my expectation is it's a bug in the application you're trying to test so consider applying the same exercise with <a href=\"https://en.wikipedia.org/wiki/List_of_performance_analysis_tools\" rel=\"nofollow noreferrer\">profiling tools</a>.</p>\n"}],"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76793234,"answer_count":1,"score":0,"last_activity_date":1690628183,"creation_date":1690554863,"question_id":76788771,"body_markdown":"Can someone help me identify what&#39;s wrong with my Jmeter, Currently I&#39;m running 200 users and will generate 6000 request per minute. on First few hours the request is consistent at 6000 but after few hours it starts to drop. \r\n\r\nMachine &amp; Server is hosted on AWS\r\nFYI: I&#39;m currently running this on Ubuntu CLI \r\n\r\nCommand used: `./jmeter -n -t ES_Scenario1_Endurancetest.jmx -l /data/apache-jmeter-5.6.2/bin/result/loadtest/ES_EnduranceTest_aggregateResult_100.csv &amp;`\r\n\r\n\r\nUpon invocation of single API it returns more than 6000 lines of code\r\n\r\nJmeter Configuration\r\n\r\n[![Jmeter Thread Configuration][1]][1]\r\n\r\n\r\n\r\n[![Cache Manager][2]][2] \r\n\r\n\r\n[![Jmeter Configuration][3]][3]\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vXJ7c.png\r\n  [2]: https://i.stack.imgur.com/bLPP0.png\r\n  [3]: https://i.stack.imgur.com/hQe9K.png\r\n  [4]: https://i.stack.imgur.com/GLnoj.png\r\n  [5]: https://i.stack.imgur.com/EbAQK.png","title":"Jmeter # of request starts to drop after few hours","body":"<p>Can someone help me identify what's wrong with my Jmeter, Currently I'm running 200 users and will generate 6000 request per minute. on First few hours the request is consistent at 6000 but after few hours it starts to drop.</p>\n<p>Machine &amp; Server is hosted on AWS\nFYI: I'm currently running this on Ubuntu CLI</p>\n<p>Command used: <code>./jmeter -n -t ES_Scenario1_Endurancetest.jmx -l /data/apache-jmeter-5.6.2/bin/result/loadtest/ES_EnduranceTest_aggregateResult_100.csv &amp;</code></p>\n<p>Upon invocation of single API it returns more than 6000 lines of code</p>\n<p>Jmeter Configuration</p>\n<p><a href=\"https://i.stack.imgur.com/vXJ7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vXJ7c.png\" alt=\"Jmeter Thread Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bLPP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLPP0.png\" alt=\"Cache Manager\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hQe9K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQe9K.png\" alt=\"Jmeter Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GLnoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLnoj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EbAQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbAQK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690627637,"creation_date":1690627205,"answer_id":76793172,"question_id":76792995,"body_markdown":"As i may know - there is no spring way of doing this. If im not mistaken - **JPA entities are not Spring beans**, and you can`t do anything about it. \r\n\r\nAlso if im not mistaken annotation arguments should be compile-time constants. \r\n\r\nIm pretty sure that probably there is a way of hacking it, but not sure that will be a straightforward way to understand and support later. \r\n\r\nAlso maybe think about moving that way of configuration your documents and indexes from code to a migration tool like \r\nhttps://mongock.io/ or analogs. \r\n[![enter image description here][1]][1]\r\n\r\nProbably it would be much more simple to understand later, that your index configurations are described in *migration* tool \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/llwdf.png","title":"How to use @Value inside @Indexed annotation in spring boot Java","body":"<p>As i may know - there is no spring way of doing this. If im not mistaken - <strong>JPA entities are not Spring beans</strong>, and you can`t do anything about it.</p>\n<p>Also if im not mistaken annotation arguments should be compile-time constants.</p>\n<p>Im pretty sure that probably there is a way of hacking it, but not sure that will be a straightforward way to understand and support later.</p>\n<p>Also maybe think about moving that way of configuration your documents and indexes from code to a migration tool like\n<a href=\"https://mongock.io/\" rel=\"nofollow noreferrer\">https://mongock.io/</a> or analogs.\n<a href=\"https://i.stack.imgur.com/llwdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llwdf.png\" alt=\"enter image description here\" /></a></p>\n<p>Probably it would be much more simple to understand later, that your index configurations are described in <em>migration</em> tool</p>\n"}],"owner":{"account_id":18241043,"reputation":259,"user_id":13278063,"display_name":"Susmitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690627637,"creation_date":1690624081,"question_id":76792995,"body_markdown":"I am configuring the mongo TTL for my entity class. This is my code\r\n```\r\n@Document(collection = &quot;Test&quot;)\r\npublic class Test{\r\n\r\n\t@Id\r\n\tprivate String id;\r\n\r\n\t@Indexed(name = &quot;expire_at&quot;, expireAfter = &quot;#{${mongo.data.expire.days}}&quot;)\r\n\tprivate Instant expireAt;\r\n}\r\n```\r\nIn my properties file, I have given the days\r\n```\r\nmongo:\r\n    data:\r\n        expire:\r\n            days: 10d\r\n```\r\nI have tried giving ``` &quot;#{${mongo.data.expire.days}}&quot; ```, ``` &quot;#{@Value(mongo.data.expire.days)}&quot; ```, ``` &quot;${mongo.data.expire.days}&quot; ```\r\nBut nothing is working. \r\n\r\nPlease someone help me in this.","title":"How to use @Value inside @Indexed annotation in spring boot Java","body":"<p>I am configuring the mongo TTL for my entity class. This is my code</p>\n<pre><code>@Document(collection = &quot;Test&quot;)\npublic class Test{\n\n    @Id\n    private String id;\n\n    @Indexed(name = &quot;expire_at&quot;, expireAfter = &quot;#{${mongo.data.expire.days}}&quot;)\n    private Instant expireAt;\n}\n</code></pre>\n<p>In my properties file, I have given the days</p>\n<pre><code>mongo:\n    data:\n        expire:\n            days: 10d\n</code></pre>\n<p>I have tried giving <code>&quot;#{${mongo.data.expire.days}}&quot;</code>, <code>&quot;#{@Value(mongo.data.expire.days)}&quot;</code>, <code>&quot;${mongo.data.expire.days}&quot;</code>\nBut nothing is working.</p>\n<p>Please someone help me in this.</p>\n"},{"tags":["java","spring-boot","kotlin","junit5","spring-test"],"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1690628307,"post_id":76790137,"comment_id":135382012,"body_markdown":"As of now it looks like my only options are using `@SpringBootTest` or create my own implementation copy that does the same thing as JwtServiceImpl.java and autowire/use that in my test class.","body":"As of now it looks like my only options are using <code>@SpringBootTest</code> or create my own implementation copy that does the same thing as JwtServiceImpl.java and autowire/use that in my test class."},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":1,"creation_date":1690629037,"post_id":76790137,"comment_id":135382093,"body_markdown":"https://github.com/thoqbk/spring-testing/blob/main/README.md","body":"<a href=\"https://github.com/thoqbk/spring-testing/blob/main/README.md\" rel=\"nofollow noreferrer\">github.com/thoqbk/spring-testing/blob/main/README.md</a>"}],"answers":[{"tags":[],"owner":{"account_id":9839695,"reputation":21,"user_id":7288990,"display_name":"sohail dua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690588499,"creation_date":1690588062,"answer_id":76791530,"question_id":76790137,"body_markdown":"You can make a custom configuration class and declare a bean for JwtService. Then you can autowired it anywhere as you like.\r\n\r\n    @Configuration\r\n    public class JwtConfiguration(){\r\n      @Bean\r\n      public JwtService jwtService(){\r\n            return new JwtServiceImpl();\r\n       }\r\n    }\r\nNow import this config anywhere you want and then JwtService is autowired!!","title":"How to Autowire a package private class in integration test without using @SpringBootTest","body":"<p>You can make a custom configuration class and declare a bean for JwtService. Then you can autowired it anywhere as you like.</p>\n<pre><code>@Configuration\npublic class JwtConfiguration(){\n  @Bean\n  public JwtService jwtService(){\n        return new JwtServiceImpl();\n   }\n}\n</code></pre>\n<p>Now import this config anywhere you want and then JwtService is autowired!!</p>\n"}],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690627499,"creation_date":1690567637,"question_id":76790137,"body_markdown":"I have a dependency/library in my application. The source code of classes from library is as below.\r\n\r\nJwtService.java interface:\r\n\r\n    package com.jwt.accesstoken;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    public interface JwtService {\r\n        CompletableFuture&lt;String&gt; jwtToken(String var1);\r\n    }\r\n\r\nJwtServiceImpl.java:\r\n\r\n    package com.jwt.accesstoken;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    class JwtServiceImpl implements JwtService {\r\n          public CompletableFuture&lt;String&gt; jwtToken(String serviceName) {\r\n              //implementation\r\n          }\r\n          ....\r\n\r\nIntegration test (JwtServiceGeneratorTest.kt):\r\n\r\n    @SpringJUnitConfig(JwtService::class)\r\n    //@SpringBootTest - this solves compilation error but takes too much time to run test\r\n    @ActiveProfiles(&quot;it-test&quot;)\r\n    class JwtServiceGeneratorTest {\r\n    \r\n        @Autowired\r\n        private lateinit var jetService: JwtService //compilation error when using @SpringJUnitConfig\r\n        ....\r\n\r\nI want to autowire `JwtService.java` in my integration test using `@SpringJUnitConfig`. And `JwtServiceImpl.java` is not public in the dependency. \r\n\r\nHow can I autowire JwtService.java (which should call `JwtServiceImpl.java` during runtime) in the integration test without using `@SpringBootTest`?\r\n\r\nIf I do `@SpringJUnitConfig(JwtService::class)` then the integration test complains that there are no beans of type JwtService.java that it can autowire. \r\nI am not able to do `@SpringJUnitConfig(JwtService::class, JwtServiceImpl::class)` because JwtServiceImpl is package-private.\r\n\r\nNote: If I use `@SpringBootTest` then the code works but it loads whole application context which is not required for this test and it takes too much time.","title":"How to Autowire a package private class in integration test without using @SpringBootTest","body":"<p>I have a dependency/library in my application. The source code of classes from library is as below.</p>\n<p>JwtService.java interface:</p>\n<pre><code>package com.jwt.accesstoken;\n\nimport java.util.concurrent.CompletableFuture;\n\npublic interface JwtService {\n    CompletableFuture&lt;String&gt; jwtToken(String var1);\n}\n</code></pre>\n<p>JwtServiceImpl.java:</p>\n<pre><code>package com.jwt.accesstoken;\n\nimport java.util.concurrent.CompletableFuture;\nimport org.springframework.stereotype.Component;\n\n@Component\nclass JwtServiceImpl implements JwtService {\n      public CompletableFuture&lt;String&gt; jwtToken(String serviceName) {\n          //implementation\n      }\n      ....\n</code></pre>\n<p>Integration test (JwtServiceGeneratorTest.kt):</p>\n<pre><code>@SpringJUnitConfig(JwtService::class)\n//@SpringBootTest - this solves compilation error but takes too much time to run test\n@ActiveProfiles(&quot;it-test&quot;)\nclass JwtServiceGeneratorTest {\n\n    @Autowired\n    private lateinit var jetService: JwtService //compilation error when using @SpringJUnitConfig\n    ....\n</code></pre>\n<p>I want to autowire <code>JwtService.java</code> in my integration test using <code>@SpringJUnitConfig</code>. And <code>JwtServiceImpl.java</code> is not public in the dependency.</p>\n<p>How can I autowire JwtService.java (which should call <code>JwtServiceImpl.java</code> during runtime) in the integration test without using <code>@SpringBootTest</code>?</p>\n<p>If I do <code>@SpringJUnitConfig(JwtService::class)</code> then the integration test complains that there are no beans of type JwtService.java that it can autowire.\nI am not able to do <code>@SpringJUnitConfig(JwtService::class, JwtServiceImpl::class)</code> because JwtServiceImpl is package-private.</p>\n<p>Note: If I use <code>@SpringBootTest</code> then the code works but it loads whole application context which is not required for this test and it takes too much time.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1655910,"reputation":11659,"user_id":1525495,"accept_rate":96,"display_name":"Jorge Fuentes Gonz&#225;lez"},"score":2,"creation_date":1690619043,"post_id":76792709,"comment_id":135381159,"body_markdown":"Just think, what happens if `l` value is `1`? Newbie tip: Try to debug your code adding breakpoints and going step by step.","body":"Just think, what happens if <code>l</code> value is <code>1</code>? Newbie tip: Try to debug your code adding breakpoints and going step by step."},{"owner":{"account_id":29115888,"reputation":13,"user_id":22304605,"display_name":"Amarnath"},"score":1,"creation_date":1690622544,"post_id":76792709,"comment_id":135381470,"body_markdown":"Thanks a lot @JorgeFuentesGonz&#225;lez  Debugged and got expected O/P","body":"Thanks a lot @JorgeFuentesGonz&#225;lez  Debugged and got expected O/P"},{"owner":{"account_id":1655910,"reputation":11659,"user_id":1525495,"accept_rate":96,"display_name":"Jorge Fuentes Gonz&#225;lez"},"score":0,"creation_date":1690636692,"post_id":76792709,"comment_id":135382986,"body_markdown":"glad you sorted it out by debugging. Is a must skill when programming ^^","body":"glad you sorted it out by debugging. Is a must skill when programming ^^"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690636827,"post_id":76792709,"comment_id":135383011,"body_markdown":"By the way: even your comments on the problem statement are wrong: When you remove the 54, you remove the 56 as well, so the remaining list is empty not [56].","body":"By the way: even your comments on the problem statement are wrong: When you remove the 54, you remove the 56 as well, so the remaining list is empty not [56]."}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690619677,"creation_date":1690619677,"answer_id":76792753,"question_id":76792709,"body_markdown":"yes because you are not updating the value of `l` inside the while loop, which leads to an infinite loop, so you need to update the value of `l` inside each condition block where you remove elements from the `ques` list!\r\n\r\ncheck this out:\r\n\r\n    List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n    int l = ques.size();\r\n    int sum = 0;\r\n    int min, index;\r\n    \r\n    while (l &gt;= 1) {\r\n      min = Collections.min(ques);\r\n      sum += min;\r\n      index = ques.indexOf(min);\r\n    \r\n      if (index == 0 &amp;&amp; l &gt; 2) {\r\n        ques.remove(index);\r\n        ques.remove(index + 1);\r\n        l -= 2;\r\n      } else if (index == 0 &amp;&amp; l == 2) {\r\n        ques.remove(index);\r\n        l--;\r\n      } else if (index != 0 &amp;&amp; l &gt; 2) {\r\n        ques.remove(index - 1);\r\n        ques.remove(index);\r\n        ques.remove(index + 1);\r\n        l -= 3;\r\n      }\r\n    }\r\n    System.out.println(sum);","title":"Optimized way to solve this ArrayList problem","body":"<p>yes because you are not updating the value of <code>l</code> inside the while loop, which leads to an infinite loop, so you need to update the value of <code>l</code> inside each condition block where you remove elements from the <code>ques</code> list!</p>\n<p>check this out:</p>\n<pre><code>List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\nint l = ques.size();\nint sum = 0;\nint min, index;\n\nwhile (l &gt;= 1) {\n  min = Collections.min(ques);\n  sum += min;\n  index = ques.indexOf(min);\n\n  if (index == 0 &amp;&amp; l &gt; 2) {\n    ques.remove(index);\n    ques.remove(index + 1);\n    l -= 2;\n  } else if (index == 0 &amp;&amp; l == 2) {\n    ques.remove(index);\n    l--;\n  } else if (index != 0 &amp;&amp; l &gt; 2) {\n    ques.remove(index - 1);\n    ques.remove(index);\n    ques.remove(index + 1);\n    l -= 3;\n  }\n}\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21731885,"reputation":165,"user_id":16040518,"display_name":"SWARNAVA DUTTA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690619965,"creation_date":1690619965,"answer_id":76792769,"question_id":76792709,"body_markdown":"The issue with the code is that the while loop condition is not being updated properly. It currently checks whether l is greater than or equal to 1, but it never changes the value of l inside the loop. Therefore, the loop runs indefinitely and never prints anything.\r\n\r\nTo fix the code, you can update l inside the loop based on the number of elements that are removed in each iteration. You can also simplify the if-else statements by using a single remove() call with the appropriate index.\r\n\r\nHere&#39;s the corrected code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n            int sum = 0;\r\n            while (ques.size() &gt; 1) {\r\n                int min = Collections.min(ques);\r\n                sum += min;\r\n                int index = ques.indexOf(min);\r\n                if (index == 0) {\r\n                    ques.remove(index);\r\n                    ques.remove(index);\r\n                } else if (index == ques.size() - 1) {\r\n                    ques.remove(index);\r\n                    ques.remove(index - 1);\r\n                } else {\r\n                    ques.remove(index - 1);\r\n                    ques.remove(index - 1);\r\n                    ques.remove(index - 1);\r\n                }\r\n            }\r\n            if (ques.size() == 1) {\r\n                sum += ques.get(0);\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n    }\r\n\r\n**OUTPUT**\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4CRwc.png","title":"Optimized way to solve this ArrayList problem","body":"<p>The issue with the code is that the while loop condition is not being updated properly. It currently checks whether l is greater than or equal to 1, but it never changes the value of l inside the loop. Therefore, the loop runs indefinitely and never prints anything.</p>\n<p>To fix the code, you can update l inside the loop based on the number of elements that are removed in each iteration. You can also simplify the if-else statements by using a single remove() call with the appropriate index.</p>\n<p>Here's the corrected code:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\n        int sum = 0;\n        while (ques.size() &gt; 1) {\n            int min = Collections.min(ques);\n            sum += min;\n            int index = ques.indexOf(min);\n            if (index == 0) {\n                ques.remove(index);\n                ques.remove(index);\n            } else if (index == ques.size() - 1) {\n                ques.remove(index);\n                ques.remove(index - 1);\n            } else {\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n            }\n        }\n        if (ques.size() == 1) {\n            sum += ques.get(0);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4CRwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CRwc.png\" alt=\"Output\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690622876,"creation_date":1690620965,"answer_id":76792830,"question_id":76792709,"body_markdown":"You have four errors in your code. (Actually you have three distinct errors since you made the same error twice.)\r\n1. After removing an element from a `List`, the list has one fewer elements and the index of each of the remaining elements is one less than what it was before the removal. Hence when you do: `ques.remove(index);`, the element that was at `index + 1` before the removal is now at `index`. You make this mistake twice.\r\n2. When the `List` has only two elements, it doesn&#39;t matter whether the minimum element (i.e. `min`) is at index 0 (zero) or at index 1 (one). You need to remove it. (Try running the code when the `List` contains only 8 and 4.)\r\n3. The `while` condition will **always** be true &amp;ndash; since the `List` will never have all its elements removed. That is why _code keep running_ &amp;ndash; it is in an infinite loop. Hence the condition should be `l &gt; 1`.\r\n\r\nIf you step through your code with a debugger and look at the contents of `ques` after each `remove` operation, you will see the first mistake in action.\r\n\r\nHere is the corrected code:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Exercise {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\r\n        int l = ques.size();\r\n        int sum = 0, min, index;\r\n        while (l &gt; 1) {\r\n            min = Collections.min(ques);\r\n            sum += min;\r\n            index = ques.indexOf(min);\r\n            if (index == 0 &amp;&amp; l &gt; 2) {\r\n                ques.remove(index);\r\n                ques.remove(index);\r\n                l -= 2;\r\n            }\r\n            else if (l == 2) {\r\n                ques.remove(index);\r\n                l--;\r\n            }\r\n            else if (index != 0 &amp;&amp; l &gt; 2) {\r\n                ques.remove(index - 1);\r\n                ques.remove(index - 1);\r\n                ques.remove(index - 1);\r\n                l -= 3;\r\n            }\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\n","title":"Optimized way to solve this ArrayList problem","body":"<p>You have four errors in your code. (Actually you have three distinct errors since you made the same error twice.)</p>\n<ol>\n<li>After removing an element from a <code>List</code>, the list has one fewer elements and the index of each of the remaining elements is one less than what it was before the removal. Hence when you do: <code>ques.remove(index);</code>, the element that was at <code>index + 1</code> before the removal is now at <code>index</code>. You make this mistake twice.</li>\n<li>When the <code>List</code> has only two elements, it doesn't matter whether the minimum element (i.e. <code>min</code>) is at index 0 (zero) or at index 1 (one). You need to remove it. (Try running the code when the <code>List</code> contains only 8 and 4.)</li>\n<li>The <code>while</code> condition will <strong>always</strong> be true – since the <code>List</code> will never have all its elements removed. That is why <em>code keep running</em> – it is in an infinite loop. Hence the condition should be <code>l &gt; 1</code>.</li>\n</ol>\n<p>If you step through your code with a debugger and look at the contents of <code>ques</code> after each <code>remove</code> operation, you will see the first mistake in action.</p>\n<p>Here is the corrected code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Exercise {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ques = new ArrayList&lt;&gt;(Arrays.asList(8, 4, 9, 10, 34, 54, 56));\n        int l = ques.size();\n        int sum = 0, min, index;\n        while (l &gt; 1) {\n            min = Collections.min(ques);\n            sum += min;\n            index = ques.indexOf(min);\n            if (index == 0 &amp;&amp; l &gt; 2) {\n                ques.remove(index);\n                ques.remove(index);\n                l -= 2;\n            }\n            else if (l == 2) {\n                ques.remove(index);\n                l--;\n            }\n            else if (index != 0 &amp;&amp; l &gt; 2) {\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                ques.remove(index - 1);\n                l -= 3;\n            }\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690626556,"creation_date":1690626021,"answer_id":76793106,"question_id":76792709,"body_markdown":"In case you care about an optimization, do remember, that removing element from the `ArrayList` is ver inneficient. You should think about more suitable data structure like `Map`:\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    int[] arr = { 8, 4, 9, 10, 34, 54, 56 };\r\n    System.out.println(calcSum(arr));\r\n}\r\n\r\npublic static int calcSum(int[] arr) {\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = createMap(arr);\r\n    int sum = 0;\r\n\r\n    while (!map.isEmpty()) {\r\n        Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; min = map.entrySet().iterator().next();\r\n        sum += min.getKey();\r\n        int pos = min.getValue().iterator().next();\r\n\r\n        removeElement(pos, arr[pos], map);\r\n\r\n        if (pos &gt; 0) removeElement(pos - 1, arr[pos - 1], map);\r\n        if (pos &lt; arr.length - 1) removeElement(pos + 1, arr[pos + 1], map);\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nprivate static Map&lt;Integer, Set&lt;Integer&gt;&gt; createMap(int[] arr) {\r\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        map.computeIfAbsent(arr[i], key -&gt; new TreeSet&lt;&gt;()).add(i);\r\n    }\r\n\r\n    return map;\r\n}\r\n\r\nprivate static void removeElement(int pos,\r\n                                  int num,\r\n                                  Map&lt;Integer, Set&lt;Integer&gt;&gt; map) {\r\n    Set&lt;Integer&gt; value = map.getOrDefault(num, Set.of());\r\n\r\n    if (value.size() == 1)\r\n        map.remove(num);\r\n    else if (value.size() &gt; 1)\r\n        value.remove(pos);\r\n}\r\n```","title":"Optimized way to solve this ArrayList problem","body":"<p>In case you care about an optimization, do remember, that removing element from the <code>ArrayList</code> is ver inneficient. You should think about more suitable data structure like <code>Map</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    int[] arr = { 8, 4, 9, 10, 34, 54, 56 };\n    System.out.println(calcSum(arr));\n}\n\npublic static int calcSum(int[] arr) {\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = createMap(arr);\n    int sum = 0;\n\n    while (!map.isEmpty()) {\n        Map.Entry&lt;Integer, Set&lt;Integer&gt;&gt; min = map.entrySet().iterator().next();\n        sum += min.getKey();\n        int pos = min.getValue().iterator().next();\n\n        removeElement(pos, arr[pos], map);\n\n        if (pos &gt; 0) removeElement(pos - 1, arr[pos - 1], map);\n        if (pos &lt; arr.length - 1) removeElement(pos + 1, arr[pos + 1], map);\n    }\n\n    return sum;\n}\n\nprivate static Map&lt;Integer, Set&lt;Integer&gt;&gt; createMap(int[] arr) {\n    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        map.computeIfAbsent(arr[i], key -&gt; new TreeSet&lt;&gt;()).add(i);\n    }\n\n    return map;\n}\n\nprivate static void removeElement(int pos,\n                                  int num,\n                                  Map&lt;Integer, Set&lt;Integer&gt;&gt; map) {\n    Set&lt;Integer&gt; value = map.getOrDefault(num, Set.of());\n\n    if (value.size() == 1)\n        map.remove(num);\n    else if (value.size() &gt; 1)\n        value.remove(pos);\n}\n</code></pre>\n"}],"owner":{"account_id":29115888,"reputation":13,"user_id":22304605,"display_name":"Amarnath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76792769,"answer_count":4,"score":1,"last_activity_date":1690626556,"creation_date":1690618930,"question_id":76792709,"body_markdown":"list=[8,4,9,10,34,54,56]; \r\n1. Find min of list // `4`. \r\n2. remove min and its adjacent elements from list // `[8,4,9]`. \r\n3. Add min to integer variable sum. Repeat the steps again with remaining elements // `[10,34,54,56]`. \r\n4. The output is single integer sum=68 (4 + 10 + 54). // `remaining element in list is [56]`\r\n\r\nI tried in this way and this code keep running (does not print anything)\r\n**Expected output: 68**\r\n\r\n```\r\n List&lt;Integer&gt; ques=new ArrayList&lt;&gt;(Arrays.asList(8,4,9,10,34,54,56));\r\n    int l=ques.size();\r\n    int sum=0,min,index;\r\n    while(l&gt;=1){\r\n      min=Collections.min(ques);\r\n      sum+=min;\r\n      index=ques.indexOf(min);\r\n      \r\n      if(index==0 &amp;&amp; l&gt;2){\r\n        ques.remove(index);\r\n        ques.remove(index+1);\r\n        l-=2;\r\n      }\r\n      else if(index==0 &amp;&amp; l==2){\r\n        ques.remove(index);\r\n        l--;\r\n      }\r\n      else if(index!=0 &amp;&amp; l&gt;2){\r\n        ques.remove(index-1);\r\n        ques.remove(index);\r\n        ques.remove(index+1);\r\n        l-=3;\r\n      }\r\n    }\r\n    System.out.println(sum);\r\n```\r\n","title":"Optimized way to solve this ArrayList problem","body":"<p>list=[8,4,9,10,34,54,56];</p>\n<ol>\n<li>Find min of list // <code>4</code>.</li>\n<li>remove min and its adjacent elements from list // <code>[8,4,9]</code>.</li>\n<li>Add min to integer variable sum. Repeat the steps again with remaining elements // <code>[10,34,54,56]</code>.</li>\n<li>The output is single integer sum=68 (4 + 10 + 54). // <code>remaining element in list is [56]</code></li>\n</ol>\n<p>I tried in this way and this code keep running (does not print anything)\n<strong>Expected output: 68</strong></p>\n<pre><code> List&lt;Integer&gt; ques=new ArrayList&lt;&gt;(Arrays.asList(8,4,9,10,34,54,56));\n    int l=ques.size();\n    int sum=0,min,index;\n    while(l&gt;=1){\n      min=Collections.min(ques);\n      sum+=min;\n      index=ques.indexOf(min);\n      \n      if(index==0 &amp;&amp; l&gt;2){\n        ques.remove(index);\n        ques.remove(index+1);\n        l-=2;\n      }\n      else if(index==0 &amp;&amp; l==2){\n        ques.remove(index);\n        l--;\n      }\n      else if(index!=0 &amp;&amp; l&gt;2){\n        ques.remove(index-1);\n        ques.remove(index);\n        ques.remove(index+1);\n        l-=3;\n      }\n    }\n    System.out.println(sum);\n</code></pre>\n"},{"tags":["java","soap","java-8","digital-signature"],"answers":[{"tags":[],"owner":{"account_id":5043710,"reputation":29,"user_id":4050364,"display_name":"Senses"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690626408,"creation_date":1690626408,"answer_id":76793125,"question_id":76793109,"body_markdown":"Sorry, just realized I got the NamespaceURI wrong, seems to be a bad copy-paste.\r\n\r\nThe correct Reference is:\r\n&lt;code&gt;signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://www.w3.org/2005/08/addressing&quot;, &quot;Id&quot;);&lt;/code&gt;","title":"Sign Addressing Elements on SOAP Message","body":"<p>Sorry, just realized I got the NamespaceURI wrong, seems to be a bad copy-paste.</p>\n<p>The correct Reference is:\n<code>signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://www.w3.org/2005/08/addressing&quot;, &quot;Id&quot;);</code></p>\n"}],"owner":{"account_id":5043710,"reputation":29,"user_id":4050364,"display_name":"Senses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690626408,"creation_date":1690626087,"question_id":76793109,"body_markdown":"I need to sign a SOAPMessage signing the body and the header elements (BinarySecurityToken, Timestamp, To, Action, ReplyTo, FaultTo and MessageID). The header elements are created just before the sign. I&#39;m using jdk8.\r\n\r\nThe problem I&#39;m facing is that the Addressing elements are not working as I expected.\r\nI create the SOAPElemnents this way\r\n\r\n&lt;code&gt;SOAPElement to = securityElement.addChildElement(&quot;To&quot;, &quot;wsa&quot;);\r\nto.addAttribute(soapEnvelope.createName(&quot;Id&quot;, &quot;wsa&quot;, &quot;http://www.w3.org/2005/08/addressing&quot;), &quot;To&quot;);\r\n    \tto.addTextNode(&quot;URL...&quot;);&lt;/code&gt;\r\n\r\nNext is creating the Reference\r\n\r\n&lt;code&gt;Reference refTo = xmlSignatureFactory.newReference(&quot;#To&quot;, digestMethod, transformList, null, null);\r\n&lt;/code&gt;\r\n\r\nBut when I try to make the DOMSignContext I can&#39;t set the IdAttributeNS\r\n&lt;code&gt;signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);&lt;/code&gt;\r\n\r\nThe error I&#39;m getting is:\r\n&lt;code&gt;\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Id is not an attribute\r\n\tat javax.xml.crypto.dom.DOMCryptoContext.setIdAttributeNS(DOMCryptoContext.java:204)\r\n&lt;/code&gt;\r\n\r\nAny help is welcome.\r\nThx.","title":"Sign Addressing Elements on SOAP Message","body":"<p>I need to sign a SOAPMessage signing the body and the header elements (BinarySecurityToken, Timestamp, To, Action, ReplyTo, FaultTo and MessageID). The header elements are created just before the sign. I'm using jdk8.</p>\n<p>The problem I'm facing is that the Addressing elements are not working as I expected.\nI create the SOAPElemnents this way</p>\n<p><code>SOAPElement to = securityElement.addChildElement(&quot;To&quot;, &quot;wsa&quot;);\nto.addAttribute(soapEnvelope.createName(&quot;Id&quot;, &quot;wsa&quot;, &quot;http://www.w3.org/2005/08/addressing&quot;), &quot;To&quot;);\nto.addTextNode(&quot;URL...&quot;);</code></p>\n<p>Next is creating the Reference</p>\n<p><code>Reference refTo = xmlSignatureFactory.newReference(&quot;#To&quot;, digestMethod, transformList, null, null);\n</code></p>\n<p>But when I try to make the DOMSignContext I can't set the IdAttributeNS\n<code>signContext.setIdAttributeNS(addressingElements.get(&quot;To&quot;), &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);</code></p>\n<p>The error I'm getting is:\n<code>\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Id is not an attribute\nat javax.xml.crypto.dom.DOMCryptoContext.setIdAttributeNS(DOMCryptoContext.java:204)\n</code></p>\n<p>Any help is welcome.\nThx.</p>\n"},{"tags":["java","eclipse","visualization","simulator"],"owner":{"account_id":13030498,"reputation":11,"user_id":9416991,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690625383,"creation_date":1690457251,"question_id":76779277,"body_markdown":"I am utilizing the XYChart library in Java to receive real-time data via a socket connection, dynamically visualizing three point curves on the chart. However, I have a specific requirement to modify the second point curve and display it as a connected line while keeping the other two curves unchanged. Despite the XYChart library automatically handling the positioning of the points to create three curves, I am seeking a way to customize the visualization of the second curve by converting it into a connected line.\r\n\r\nI am unable to identify the mid curve because XYChart visualize shape dynamically. Is it better way to apply k-means algorithm to separate all near-by points and then identify mid curve to update it?? \r\n\r\n\r\n```/**\r\n * \r\n */\r\n/**\r\n * \r\n */\r\npackage flta.plotting;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingConstants;\r\n\r\nimport org.knowm.xchart.BitmapEncoder;\r\nimport org.knowm.xchart.BitmapEncoder.BitmapFormat;\r\nimport org.knowm.xchart.QuickChart;\r\nimport org.knowm.xchart.SwingWrapper;\r\nimport org.knowm.xchart.XChartPanel;\r\nimport org.knowm.xchart.XYChart;\r\nimport org.knowm.xchart.XYChartBuilder;\r\nimport org.knowm.xchart.XYSeries;\r\nimport org.knowm.xchart.XYSeries.XYSeriesRenderStyle;\r\nimport org.knowm.xchart.style.Styler.LegendPosition;\r\nimport org.knowm.xchart.style.markers.SeriesMarkers;\r\n\r\n/**\r\n * @author Mo\r\n *\r\n */\r\npublic class Main {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic Main() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t * @throws InterruptedException \r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\t////////////////////////////////////////\r\n\t\t//Declare socket variables and establish the connection\r\n\t\tServerSocket serverSocket = null; \r\n\t\tSocket clientSocket = null;\r\n\t\t \r\n\t\ttry {\r\n\t\t\tserverSocket = new ServerSocket(5001); // 4447 is port number\r\n\t\t\tclientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \r\n\t\t\tSystem.out.println(&quot;Connection Accepted&quot;);\r\n\t\t}catch (Exception e) {\r\n\t    \tSystem.out.println(&quot;IOException&quot;);\r\n\t    }\r\n\t\t\r\n\t\t\r\n//\t\t//Write to the socket: \r\n//\t\tBufferedWriter wr = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream())); \r\n//\t\twr.write(&quot;My Messages!&quot;);\r\n//\t\twr.flush(); // flushes the stream\r\n\t\t\r\n\t\tdouble[] xData;\r\n\t    double[] yData;\r\n\t    xData = new double[] { 0.0, 9000.0 };\r\n\t\tyData = new double[] { 0.0 ,0.0};\r\n\t\tdouble[][] initdata = {xData, yData};\r\n    \t// Create Chart\r\n//\t    final XYChart chart =\r\n//\t        QuickChart.getChart(\r\n//\t            &quot;Predicted Path&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t\tXYChart chart = new XYChartBuilder().width(800).height(800).title(&quot;Horizontal View&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\r\n\t\tXYChart chart2 = new XYChartBuilder().width(800).height(800).title(&quot;Vertical Clearance&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\r\n\t    chart.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\r\n\t    chart.getStyler().setChartTitleVisible(false);\r\n\t    chart.getStyler().setMarkerSize(6);\r\n\t    chart.getStyler().setXAxisMax(2000.0);\r\n\t    chart.getStyler().setYAxisMax(2000.0);\r\n\t    chart.getStyler().setXAxisMin(-2000.0);\r\n\t    chart.getStyler().setYAxisMin(-2000.0);\r\n\t    \r\n\t    //chart2.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\r\n\t    chart2.getStyler().setChartTitleVisible(false);\r\n\t    chart2.getStyler().setMarkerSize(6);\r\n\t    chart2.getStyler().setXAxisMax(1500.0);\r\n\t    chart2.getStyler().setYAxisMax(1000.0);\r\n\t    chart.getStyler().setXAxisMin(-3000.0);\r\n\t    chart.getStyler().setYAxisMin(-1000.0);\r\n\t    chart2.getStyler().setAxisTicksLineVisible(true);\r\n\t    \r\n\t    XYSeries series = chart.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t    series.setMarker(SeriesMarkers.CIRCLE);\r\n\t    \r\n\t    XYSeries series2 = chart2.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\r\n\t    series2.setMarker(SeriesMarkers.CIRCLE);\r\n\t    \r\n\t    XYSeries series3 = chart2.addSeries(&quot;ground&quot;, initdata[0], initdata[1]);\r\n\t    series3.setMarker(SeriesMarkers.DIAMOND);\r\n\t    series3.setLineColor(Color.red);\r\n\t    series3.setXYSeriesRenderStyle(XYSeriesRenderStyle.Step);\r\n\r\n\t    \r\n\t    // Show it\r\n\t    final SwingWrapper&lt;XYChart&gt; sw = new SwingWrapper&lt;XYChart&gt;(chart);\r\n\t    final SwingWrapper&lt;XYChart&gt; sw2 = new SwingWrapper&lt;XYChart&gt;(chart2);\r\n\t    sw.displayChart();\r\n\t    sw2.displayChart();\r\n\t\t//Read from the socket\r\n\t\tString inputLine; \r\n\t\tSystem.out.println(&quot;Reading&quot;);\r\n\t\tdouble PlanePosX=0;\r\n\t\tdouble PlanePosY=0;\r\n\t\tint j=1;\r\n\t\tString[] points;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \r\n\t\t\t\twhile((inputLine = in.readLine()) != null){\r\n\t\t\t\t    System.out.println(inputLine);\r\n\t\t\t\t\tif (inputLine.equals(&quot;env&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinputLine = in.readLine();\r\n\t\t\t\t\t\tpoints=inputLine.split(&quot;,&quot;);\r\n\t\t\t\t\t\txData=new double[points.length];\r\n\t\t\t\t\t    yData=new double[points.length];\r\n\t\t\t\t\t    for(int i=0; i&lt;points.length; i++)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t    \tString[] PointsSplit=points[i].split(&quot; &quot;);\r\n\t\t\t\t\t    \txData[i]=Double.parseDouble(PointsSplit[0]);\r\n\t\t\t\t\t    \tyData[i]=Double.parseDouble(PointsSplit[1]);\r\n\t\t\t\t\t    \tSystem.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\tchart2.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw2.repaintChart();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tpoints=inputLine.split(&quot;,&quot;);\r\n\t\t\t\t\t    xData=new double[points.length];\r\n\t\t\t\t\t    yData=new double[points.length];\r\n\t\t\t\t\t    double[] zData=new double[points.length];\r\n\t\t\t\t\t    double[] distanceData=new double[points.length];\r\n\t\t\t\t\t    for(int i=0; i&lt;points.length; i++)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tString[] PointsSplit=points[i].split(&quot; &quot;);\r\n\t\t\t\t\t    \tif (i==0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tPlanePosX=Double.parseDouble(PointsSplit[0]);\r\n\t\t\t\t\t\t\t\tPlanePosY=Double.parseDouble(PointsSplit[1]);\r\n\t\t\t\t\t\t\t\t//System.out.println(&quot;Center &quot;+PlanePosX+&quot; , &quot;+PlanePosY+&quot;;&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    \txData[i]=Double.parseDouble(PointsSplit[0])-PlanePosX;\r\n\t\t\t\t\t    \tyData[i]=Double.parseDouble(PointsSplit[1])-PlanePosY;\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tzData[i]=Double.parseDouble(PointsSplit[2]);\r\n\t\t\t\t\t    \tdistanceData[i]=Double.parseDouble(PointsSplit[3]);\r\n\t\t\t\t\t    \t//System.out.println(&quot;result of: &quot;+PointsSplit[0]+&quot; , &quot;+PlanePosX+&quot;;&quot;);\r\n\t\t\t\t\t    \tSystem.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    chart.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw.repaintChart();\r\n\t\t\t\t\t    //plot the elevation\r\n\t\t\t\t\t    chart2.updateXYSeries(&quot;ground&quot;, distanceData, zData, null); sw2.repaintChart();\r\n\t\t\t\t\t}\r\n\t\t\t\t    \r\n\t\t\t\t\r\n\t\t\t\t\tif (clientSocket.isInputShutdown())\r\n\t\t\t\t\t\tSystem.out.println(&quot;Exception&quot;);\r\n\t\t\t\t\t//isReachable(null,0,200);\r\n\t\t\t\t}\r\n\t\t\t}catch (SocketException ei) {\r\n\t\t    \tSystem.out.println(&quot;Connection Lost&quot;);\r\n\t\t    \ttry {\r\n\t\t    \t\tserverSocket.close();\r\n\t\t    \t\tclientSocket.close();\r\n\t\t\t\t\tserverSocket = new ServerSocket(5001); // 4447 is port number\r\n\t\t\t\t\tclientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \r\n\t\t\t\t\tSystem.out.println(&quot;Connection Accepted&quot;);\r\n\t\t\t\t}catch (Exception e) {\r\n\t\t\t    \tSystem.out.println(&quot;IOException&quot;);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\tcatch (Exception e) {\r\n\t\t    \tSystem.out.println(&quot;Other Things&quot;);\r\n\t\t    \te.printStackTrace();\r\n\t\t    \tcontinue;\r\n\t\t    }\r\n\t\t}\r\n\t\t///////////////////////////////////////\r\n\t\t\r\n\t    \r\n\t}\r\n\r\n\t private static double[][] getSineData(double phase) {\r\n\r\n\t\t    double[] xData = new double[100];\r\n\t\t    double[] yData = new double[100];\r\n\t\t    for (int i = 0; i &lt; xData.length; i++) {\r\n\t\t      double radians = phase + (2 * Math.PI / xData.length * i);\r\n\t\t      xData[i] = radians;\r\n\t\t      yData[i] = Math.sin(radians);\r\n\t\t    }\r\n\t\t    return new double[][] {xData, yData};\r\n\t\t  }\r\n}\r\n\r\n```","title":"Real-time Data Visualization with XYChart Library","body":"<p>I am utilizing the XYChart library in Java to receive real-time data via a socket connection, dynamically visualizing three point curves on the chart. However, I have a specific requirement to modify the second point curve and display it as a connected line while keeping the other two curves unchanged. Despite the XYChart library automatically handling the positioning of the points to create three curves, I am seeking a way to customize the visualization of the second curve by converting it into a connected line.</p>\n<p>I am unable to identify the mid curve because XYChart visualize shape dynamically. Is it better way to apply k-means algorithm to separate all near-by points and then identify mid curve to update it??</p>\n<pre><code> * \n */\n/**\n * \n */\npackage flta.plotting;\n\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.concurrent.TimeUnit;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\n\nimport org.knowm.xchart.BitmapEncoder;\nimport org.knowm.xchart.BitmapEncoder.BitmapFormat;\nimport org.knowm.xchart.QuickChart;\nimport org.knowm.xchart.SwingWrapper;\nimport org.knowm.xchart.XChartPanel;\nimport org.knowm.xchart.XYChart;\nimport org.knowm.xchart.XYChartBuilder;\nimport org.knowm.xchart.XYSeries;\nimport org.knowm.xchart.XYSeries.XYSeriesRenderStyle;\nimport org.knowm.xchart.style.Styler.LegendPosition;\nimport org.knowm.xchart.style.markers.SeriesMarkers;\n\n/**\n * @author Mo\n *\n */\npublic class Main {\n\n    /**\n     * \n     */\n    public Main() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @param args\n     * @throws IOException \n     * @throws InterruptedException \n     */\n    public static void main(String[] args) {\n    \n        ////////////////////////////////////////\n        //Declare socket variables and establish the connection\n        ServerSocket serverSocket = null; \n        Socket clientSocket = null;\n         \n        try {\n            serverSocket = new ServerSocket(5001); // 4447 is port number\n            clientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \n            System.out.println(&quot;Connection Accepted&quot;);\n        }catch (Exception e) {\n            System.out.println(&quot;IOException&quot;);\n        }\n        \n        \n//      //Write to the socket: \n//      BufferedWriter wr = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream())); \n//      wr.write(&quot;My Messages!&quot;);\n//      wr.flush(); // flushes the stream\n        \n        double[] xData;\n        double[] yData;\n        xData = new double[] { 0.0, 9000.0 };\n        yData = new double[] { 0.0 ,0.0};\n        double[][] initdata = {xData, yData};\n        // Create Chart\n//      final XYChart chart =\n//          QuickChart.getChart(\n//              &quot;Predicted Path&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;y(x)&quot;, initdata[0], initdata[1]);\n        XYChart chart = new XYChartBuilder().width(800).height(800).title(&quot;Horizontal View&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\n        XYChart chart2 = new XYChartBuilder().width(800).height(800).title(&quot;Vertical Clearance&quot;).xAxisTitle(&quot;X&quot;).yAxisTitle(&quot;Y&quot;).build();\n        chart.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\n        chart.getStyler().setChartTitleVisible(false);\n        chart.getStyler().setMarkerSize(6);\n        chart.getStyler().setXAxisMax(2000.0);\n        chart.getStyler().setYAxisMax(2000.0);\n        chart.getStyler().setXAxisMin(-2000.0);\n        chart.getStyler().setYAxisMin(-2000.0);\n        \n        //chart2.getStyler().setDefaultSeriesRenderStyle(XYSeriesRenderStyle.Scatter);\n        chart2.getStyler().setChartTitleVisible(false);\n        chart2.getStyler().setMarkerSize(6);\n        chart2.getStyler().setXAxisMax(1500.0);\n        chart2.getStyler().setYAxisMax(1000.0);\n        chart.getStyler().setXAxisMin(-3000.0);\n        chart.getStyler().setYAxisMin(-1000.0);\n        chart2.getStyler().setAxisTicksLineVisible(true);\n        \n        XYSeries series = chart.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\n        series.setMarker(SeriesMarkers.CIRCLE);\n        \n        XYSeries series2 = chart2.addSeries(&quot;y(x)&quot;, initdata[0], initdata[1]);\n        series2.setMarker(SeriesMarkers.CIRCLE);\n        \n        XYSeries series3 = chart2.addSeries(&quot;ground&quot;, initdata[0], initdata[1]);\n        series3.setMarker(SeriesMarkers.DIAMOND);\n        series3.setLineColor(Color.red);\n        series3.setXYSeriesRenderStyle(XYSeriesRenderStyle.Step);\n\n        \n        // Show it\n        final SwingWrapper&lt;XYChart&gt; sw = new SwingWrapper&lt;XYChart&gt;(chart);\n        final SwingWrapper&lt;XYChart&gt; sw2 = new SwingWrapper&lt;XYChart&gt;(chart2);\n        sw.displayChart();\n        sw2.displayChart();\n        //Read from the socket\n        String inputLine; \n        System.out.println(&quot;Reading&quot;);\n        double PlanePosX=0;\n        double PlanePosY=0;\n        int j=1;\n        String[] points;\n        while (true)\n        {\n            try {\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); \n                while((inputLine = in.readLine()) != null){\n                    System.out.println(inputLine);\n                    if (inputLine.equals(&quot;env&quot;))\n                    {\n                        inputLine = in.readLine();\n                        points=inputLine.split(&quot;,&quot;);\n                        xData=new double[points.length];\n                        yData=new double[points.length];\n                        for(int i=0; i&lt;points.length; i++)\n                        {\n                            String[] PointsSplit=points[i].split(&quot; &quot;);\n                            xData[i]=Double.parseDouble(PointsSplit[0]);\n                            yData[i]=Double.parseDouble(PointsSplit[1]);\n                            System.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\n                        }\n                        chart2.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw2.repaintChart();\n                    }else {\n                        points=inputLine.split(&quot;,&quot;);\n                        xData=new double[points.length];\n                        yData=new double[points.length];\n                        double[] zData=new double[points.length];\n                        double[] distanceData=new double[points.length];\n                        for(int i=0; i&lt;points.length; i++)\n                        {\n                            \n                            String[] PointsSplit=points[i].split(&quot; &quot;);\n                            if (i==0)\n                            {\n                                PlanePosX=Double.parseDouble(PointsSplit[0]);\n                                PlanePosY=Double.parseDouble(PointsSplit[1]);\n                                //System.out.println(&quot;Center &quot;+PlanePosX+&quot; , &quot;+PlanePosY+&quot;;&quot;);\n                            }\n                            xData[i]=Double.parseDouble(PointsSplit[0])-PlanePosX;\n                            yData[i]=Double.parseDouble(PointsSplit[1])-PlanePosY;\n                            \n                            zData[i]=Double.parseDouble(PointsSplit[2]);\n                            distanceData[i]=Double.parseDouble(PointsSplit[3]);\n                            //System.out.println(&quot;result of: &quot;+PointsSplit[0]+&quot; , &quot;+PlanePosX+&quot;;&quot;);\n                            System.out.println(xData[i]+&quot; , &quot;+yData[i]+&quot;;&quot;);\n                        }\n                        chart.updateXYSeries(&quot;y(x)&quot;, xData, yData, null); sw.repaintChart();\n                        //plot the elevation\n                        chart2.updateXYSeries(&quot;ground&quot;, distanceData, zData, null); sw2.repaintChart();\n                    }\n                    \n                \n                    if (clientSocket.isInputShutdown())\n                        System.out.println(&quot;Exception&quot;);\n                    //isReachable(null,0,200);\n                }\n            }catch (SocketException ei) {\n                System.out.println(&quot;Connection Lost&quot;);\n                try {\n                    serverSocket.close();\n                    clientSocket.close();\n                    serverSocket = new ServerSocket(5001); // 4447 is port number\n                    clientSocket = serverSocket.accept(); // blocks and listen until a connection is made. \n                    System.out.println(&quot;Connection Accepted&quot;);\n                }catch (Exception e) {\n                    System.out.println(&quot;IOException&quot;);\n                }\n            }\n            catch (Exception e) {\n                System.out.println(&quot;Other Things&quot;);\n                e.printStackTrace();\n                continue;\n            }\n        }\n        ///////////////////////////////////////\n        \n        \n    }\n\n     private static double[][] getSineData(double phase) {\n\n            double[] xData = new double[100];\n            double[] yData = new double[100];\n            for (int i = 0; i &lt; xData.length; i++) {\n              double radians = phase + (2 * Math.PI / xData.length * i);\n              xData[i] = radians;\n              yData[i] = Math.sin(radians);\n            }\n            return new double[][] {xData, yData};\n          }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1571744123,"post_id":58503345,"comment_id":103335138,"body_markdown":"Hint: what does your method do for the string &quot;this isn&#39;t a number&quot; and what do you think it should do?","body":"Hint: what does your method do for the string &quot;this isn&#39;t a number&quot; and what do you think it should do?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1571744131,"post_id":58503345,"comment_id":103335142,"body_markdown":"how does your getNumber method react if I pass &quot;123456785554548884545412212558454545&quot; ? or if I pass &quot;aa&quot; ?","body":"how does your getNumber method react if I pass &quot;123456785554548884545412212558454545&quot; ? or if I pass &quot;aa&quot; ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1571744554,"post_id":58503345,"comment_id":103335387,"body_markdown":"Do you have any evidence that Integer.parseInt is affecting the overall performance of your program?  Due to Java’s runtime optimization, a benchmark is not as simple as just printing out the time before and after execution.","body":"Do you have any evidence that Integer.parseInt is affecting the overall performance of your program?  Due to Java’s runtime optimization, a benchmark is not as simple as just printing out the time before and after execution."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1571744641,"post_id":58503345,"comment_id":103335435,"body_markdown":"@JonSkeet in my case It will always receive numeric value for my method, but yeah I check that it will compute hex associated for that char if, any of those value pass to getNumber method, But if we pass only numeric value then which method will best to use ?","body":"@JonSkeet in my case It will always receive numeric value for my method, but yeah I check that it will compute hex associated for that char if, any of those value pass to getNumber method, But if we pass only numeric value then which method will best to use ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1571744689,"post_id":58503345,"comment_id":103335467,"body_markdown":"@Simmant does it really matter? There are way slower parts in your code than parsing a `String` to an `int`. You&#39;re micro-optimizing something that is irrelevant to the speed of your program. As you&#39;re a beginner, you should concentrate on correctness instead of speed.","body":"@Simmant does it really matter? There are way slower parts in your code than parsing a <code>String</code> to an <code>int</code>. You&#39;re micro-optimizing something that is irrelevant to the speed of your program. As you&#39;re a beginner, you should concentrate on correctness instead of speed."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1571744706,"post_id":58503345,"comment_id":103335476,"body_markdown":"@VGR please check test result which I posted in my method.","body":"@VGR please check test result which I posted in my method."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1571744891,"post_id":58503345,"comment_id":103335568,"body_markdown":"@Simmant: So you&#39;ve written your own code which will silently give invalid results rather than throw an exception on error... you&#39;ve got more code to maintain, and it&#39;s more error-prone. Sometimes that *might* be appropriate - but only when you&#39;ve proven that integer parsing is actually a bottleneck in your application. Have you proven that yet?","body":"@Simmant: So you&#39;ve written your own code which will silently give invalid results rather than throw an exception on error... you&#39;ve got more code to maintain, and it&#39;s more error-prone. Sometimes that <i>might</i> be appropriate - but only when you&#39;ve proven that integer parsing is actually a bottleneck in your application. Have you proven that yet?"},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":1,"creation_date":1571744979,"post_id":58503345,"comment_id":103335620,"body_markdown":"@Kayaman, I agree for one case but what if we have more then 1000 places where we are using same method, because application where I m working on I seen more then 1000 calls for this method. And that&#39;s reason I m looking for it&#39;s optimizing.","body":"@Kayaman, I agree for one case but what if we have more then 1000 places where we are using same method, because application where I m working on I seen more then 1000 calls for this method. And that&#39;s reason I m looking for it&#39;s optimizing."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1571745585,"post_id":58503345,"comment_id":103335965,"body_markdown":"@Simmant just because you&#39;ve seen 1000 calls, doesn&#39;t make it a performance hotspot. You would need to use a profiler to see what parts can be improved, instead of guessing. If you have 1000 calls that take 22000 nanoseconds, it&#39;s nothing compared to 10 calls that take 10 seconds. It&#39;s the overall performance that matters.","body":"@Simmant just because you&#39;ve seen 1000 calls, doesn&#39;t make it a performance hotspot. You would need to use a profiler to see what parts can be improved, instead of guessing. If you have 1000 calls that take 22000 nanoseconds, it&#39;s nothing compared to 10 calls that take 10 seconds. It&#39;s the overall performance that matters."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1574143073,"post_id":58503345,"comment_id":104115606,"body_markdown":"@JonSkeet sorry for delay in response, I tried gathering possible details for application with sampler and profiler option available with JDK in built tool Jvisualvm. But when I hit profiler it won&#39;t working due my system configuration, so I try with sampler option and that gave meruntime details about classes, memory consumption, cpu utilization etc but method information is not available with sampler option.","body":"@JonSkeet sorry for delay in response, I tried gathering possible details for application with sampler and profiler option available with JDK in built tool Jvisualvm. But when I hit profiler it won&#39;t working due my system configuration, so I try with sampler option and that gave meruntime details about classes, memory consumption, cpu utilization etc but method information is not available with sampler option."},{"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"score":0,"creation_date":1574143236,"post_id":58503345,"comment_id":104115670,"body_markdown":"And I found Integer in top classes list when I run my testbed for application, but I m not able get information for respective method.","body":"And I found Integer in top classes list when I run my testbed for application, but I m not able get information for respective method."}],"answers":[{"tags":[],"owner":{"account_id":3343357,"reputation":1927,"user_id":2809078,"display_name":"ggovan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571744515,"creation_date":1571744515,"answer_id":58503497,"question_id":58503345,"body_markdown":"[`parseInt`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)) is the way to go. The [Integer documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(java.lang.String)) says\r\n\r\n&gt; Use parseInt(String) to convert a string to a int primitive, or use valueOf(String) to convert a string to an Integer object.\r\n\r\n`parseInt` is likely to cover a lot of edge cases that you haven&#39;t considered with your own code. It has been well tested in production by a lot of users.","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>parseInt</code></a> is the way to go. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">Integer documentation</a> says</p>\n\n<blockquote>\n  <p>Use parseInt(String) to convert a string to a int primitive, or use valueOf(String) to convert a string to an Integer object.</p>\n</blockquote>\n\n<p><code>parseInt</code> is likely to cover a lot of edge cases that you haven't considered with your own code. It has been well tested in production by a lot of users.</p>\n"},{"tags":[],"owner":{"account_id":1826979,"reputation":1512,"user_id":1659409,"display_name":"Bert Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571744523,"creation_date":1571744523,"answer_id":58503501,"question_id":58503345,"body_markdown":"I invite you [to look at the source code of the parseInt function](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Integer.java#l532). Your na&#239;ve function is faster, but it also does way less. Edge cases, such as the number being to large to fit into an `int` or not even being a number at all, will produce undetectable bogus results with your simple function.\r\n\r\nIt is better to just trust that the language designers have done their job and have produced a reasonably fast implementation of parsing integers. Real optimization is probably elsewhere.","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>I invite you <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Integer.java#l532\" rel=\"nofollow noreferrer\">to look at the source code of the parseInt function</a>. Your naïve function is faster, but it also does way less. Edge cases, such as the number being to large to fit into an <code>int</code> or not even being a number at all, will produce undetectable bogus results with your simple function.</p>\n\n<p>It is better to just trust that the language designers have done their job and have produced a reasonably fast implementation of parsing integers. Real optimization is probably elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":25200787,"reputation":1,"user_id":19039678,"display_name":"Asen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651766928,"creation_date":1651766928,"answer_id":72130374,"question_id":58503345,"body_markdown":"I thinks you should follow the language designers said, as we know that, if use the getNumber method, it can&#39;t detect error when the string don&#39;t contain a number character.\r\nalso can see [convert-string-to-int][1]\r\n\r\n\r\n  [1]: https://www.asenview.com/convert-string-to-int-in-java/","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>I thinks you should follow the language designers said, as we know that, if use the getNumber method, it can't detect error when the string don't contain a number character.\nalso can see <a href=\"https://www.asenview.com/convert-string-to-int-in-java/\" rel=\"nofollow noreferrer\">convert-string-to-int</a></p>\n"},{"tags":[],"owner":{"account_id":6123562,"reputation":1,"user_id":4776301,"display_name":"Umesh Kumar Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690623132,"creation_date":1690623132,"answer_id":76792940,"question_id":58503345,"body_markdown":"We can use below java 8 code to convert a string to integer\r\n\r\n    String str33 =&quot;1234&quot;;\r\n    int xxuu = Stream.of(str33).map(Integer::valueOf).findAny().get();\r\n    int xxuu = Stream.of(str33).map(Integer::parseInt).findAny().get();\r\n\r\n\r\n","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>We can use below java 8 code to convert a string to integer</p>\n<pre><code>String str33 =&quot;1234&quot;;\nint xxuu = Stream.of(str33).map(Integer::valueOf).findAny().get();\nint xxuu = Stream.of(str33).map(Integer::parseInt).findAny().get();\n</code></pre>\n"}],"owner":{"account_id":2853776,"reputation":1477,"user_id":2450403,"accept_rate":94,"display_name":"Simmant"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6986,"favorite_count":0,"down_vote_count":11,"up_vote_count":1,"answer_count":4,"score":-10,"last_activity_date":1690623132,"creation_date":1571744034,"question_id":58503345,"body_markdown":"We normally use Integer.parseInt method for `String` to `Integer` conversion in `JAVA`, but when I check the implementation of parseInt method it goes way deep that I think initially. Below I m sharing how deep parseInt goes:\r\n\r\n    Integer.parseInt(String s) -&gt;  Integer.parseInt(String s, int radix) -&gt;  Character.digit(char ch, int radix) -&gt; Character.digit(int codePoint, int radix) -&gt; (Based on instance call will go to digit(int ch, int radix))\r\nNote: There are total 7 different Instance define for CharacterData, and one of them will peak for digit.\r\n\r\nAs per above details it&#39;s look like ParseInt is not that easy what it look initially, so will it be not best to convert String to Integer?\r\n\r\nHowever, I followed one discussion (link I lost at moment) and found below method which is pretty fast in terms of performance.\r\n\r\n     static int getNumber(String number){\r\n    \t \r\n    \t int result = 0;\r\n    \t int startIndex = 0;\r\n    \t\r\n    \t \r\n    \t for(int i=startIndex;i&lt;number.length();i++){\r\n    \t\t result = result*10+number.charAt(i)-&#39;0&#39;;\r\n    \t }\r\n    \t \r\n    \t \r\n    \t \r\n\t\treturn result;\r\n\t}\r\n\r\nand below is the performance test result which I found for both methods.\r\n\r\n     Value :123456789 , Integer-&gt;parseInt Converted in 22000 nanosec.\r\n     Value :123456789 , getNumber Converted in 5000 nanosec.\r\n\r\n\r\nSo what will be the best way to convert String to Integer, Integer.parseInt or &lt;custom&gt;getNumber method ?","title":"Integer.parseInt is best way to convert String to Int in Java?","body":"<p>We normally use Integer.parseInt method for <code>String</code> to <code>Integer</code> conversion in <code>JAVA</code>, but when I check the implementation of parseInt method it goes way deep that I think initially. Below I m sharing how deep parseInt goes:</p>\n\n<pre><code>Integer.parseInt(String s) -&gt;  Integer.parseInt(String s, int radix) -&gt;  Character.digit(char ch, int radix) -&gt; Character.digit(int codePoint, int radix) -&gt; (Based on instance call will go to digit(int ch, int radix))\n</code></pre>\n\n<p>Note: There are total 7 different Instance define for CharacterData, and one of them will peak for digit.</p>\n\n<p>As per above details it's look like ParseInt is not that easy what it look initially, so will it be not best to convert String to Integer?</p>\n\n<p>However, I followed one discussion (link I lost at moment) and found below method which is pretty fast in terms of performance.</p>\n\n<pre><code> static int getNumber(String number){\n\n     int result = 0;\n     int startIndex = 0;\n\n\n     for(int i=startIndex;i&lt;number.length();i++){\n         result = result*10+number.charAt(i)-'0';\n     }\n\n\n\n    return result;\n}\n</code></pre>\n\n<p>and below is the performance test result which I found for both methods.</p>\n\n<pre><code> Value :123456789 , Integer-&gt;parseInt Converted in 22000 nanosec.\n Value :123456789 , getNumber Converted in 5000 nanosec.\n</code></pre>\n\n<p>So what will be the best way to convert String to Integer, Integer.parseInt or getNumber method ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","parallel-processing","fork-join"],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690623116,"creation_date":1690623116,"answer_id":76792939,"question_id":73059171,"body_markdown":"We want to process the query result as soon as it is available so `thenApply`.Here the thread querying database might immediately work on data transformation unlike in approaches mentioned, and finally the partailResult of the query could be merged in one reduce operation.\r\n```\r\n    public static void service() {\r\n        //myRequest.getMyFilterList()\r\n        List&lt;Integer&gt; inputList = Arrays.asList(1, 2, 3);\r\n\r\n        List&lt;CompletableFuture&lt;PartialResultTransformed&gt;&gt; partialProcessedResult = inputList.stream()\r\n                .map(input -&gt; CompletableFuture.supplyAsync(() -&gt; repository.query(input)))\r\n                .map(future -&gt; future.thenApply(queryResult -&gt; datatransformer.transform(queryResult)))\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;PartialResultTransformed&gt; allPartialResult = partialProcessedResult.stream()\r\n                .map(CompletableFuture::join) //todo:handle exception scenario\r\n                .collect(Collectors.toList());\r\n\r\n        // final transformation of partial results\r\n        //mergePartailResults;\r\n       /* allPartialResult.stream()\r\n                        .reduce();*/\r\n    }\r\n```","title":"Sequential processing of multi-threaded results","body":"<p>We want to process the query result as soon as it is available so <code>thenApply</code>.Here the thread querying database might immediately work on data transformation unlike in approaches mentioned, and finally the partailResult of the query could be merged in one reduce operation.</p>\n<pre><code>    public static void service() {\n        //myRequest.getMyFilterList()\n        List&lt;Integer&gt; inputList = Arrays.asList(1, 2, 3);\n\n        List&lt;CompletableFuture&lt;PartialResultTransformed&gt;&gt; partialProcessedResult = inputList.stream()\n                .map(input -&gt; CompletableFuture.supplyAsync(() -&gt; repository.query(input)))\n                .map(future -&gt; future.thenApply(queryResult -&gt; datatransformer.transform(queryResult)))\n                .collect(Collectors.toList());\n\n        List&lt;PartialResultTransformed&gt; allPartialResult = partialProcessedResult.stream()\n                .map(CompletableFuture::join) //todo:handle exception scenario\n                .collect(Collectors.toList());\n\n        // final transformation of partial results\n        //mergePartailResults;\n       /* allPartialResult.stream()\n                        .reduce();*/\n    }\n</code></pre>\n"}],"owner":{"account_id":12953071,"reputation":97,"user_id":10379137,"display_name":"t.ry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690623116,"creation_date":1658360088,"question_id":73059171,"body_markdown":"I am setting up a Spring Boot application (*DAO* pattern with `@Repositories`) where I am attempting to write a `@Service` to asynchronously pull data from a database in multiple threads and merge-process the incoming payloads sequentially, preferably on arrival.\r\n\r\nThe goal is to utilize parallel database access for requests where multiple non-overlapping sets of filter conditions need to be queried individually, but post-processed (transformed, e.g. aggregated) into a combined result.\r\n\r\nBeing rather new to Java, and coming from Golang and its comparably trivial syntax for multi-threading and task-communication, I struggle to identify a preferable API in Java and Spring Boot - or determine if this approach is even favorable to begin with.\r\n\r\n___\r\n&lt;h3&gt;Question:&lt;/h3&gt;\r\n\r\nGiven\r\n- a **Controller**:\r\n\r\n  ```\r\n  @RestController\r\n  @RequestMapping(&quot;/api&quot;)\r\n  public class MyController {\r\n\r\n    private final MyService myService;\r\n\r\n    @Autowired\r\n    public MyController(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    @PostMapping(&quot;/processing&quot;)\r\n    public DeferredResult&lt;MyResult&gt; myHandler(@RequestBody MyRequest myRequest) {\r\n        DeferredResult&lt;MyResult&gt; myDeferredResult = new DeferredResult&lt;&gt;();\r\n        myService.myProcessing(myRequest, myDeferredResult);\r\n\r\n        return myDeferredResult;\r\n  }\r\n  ```\r\n- a **Service**:\r\n\r\n  ```\r\n  import com.acme.parallel.util.MyDataTransformer\r\n\r\n  @Service\r\n  public class MyServiceImpl implementing MyService {\r\n\r\n    private final MyRepository myRepository;\r\n\r\n    @Autowired\r\n    public MyService(MyRepository myRepository) {\r\n        this.myRepository = myRepository;\r\n    }\r\n\r\n    public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n      MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n\r\n      /* PLACEHOLDER CODE\r\n      for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n        // MyPartialResult myPartialResult = myRepository.myAsyncQuery(myFilter);\r\n\r\n        // myDataTransformer.transformMyPartialResult(myPartialResult);\r\n      }\r\n      */\r\n      \r\n      myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n    }\r\n  }\r\n  ```\r\n- a **Repository**:\r\n  ```\r\n  @Repository\r\n  public class MyRepository {\r\n  \r\n    public MyPartialResult myAsyncQuery(MyFilter myFilter) {\r\n      // for the sake of an example\r\n      return new MyPartialResult(myFilter, TakesSomeAmountOfTimeToQUery.TRUE);\r\n    }\r\n  }\r\n  ```\r\n- as well as a **MyDataTransformer** helper class:\r\n  ```\r\n  public class MyDataTransformer {\r\n   \r\n    private final MyResult myResult = new MyResult();  // e.g. a Map\r\n\r\n    public void transformMyPartialResult(MyPartialResult myPartialResult) {\r\n      /* PLACEHOLDER CODE\r\n      this.myResult.transformAndMergeIntoMe(myPartialResult);\r\n      */\r\n    }\r\n  }\r\n  ```\r\n\r\nhow can I implement\r\n- the `MyService.myProcessing` method asynchronously and multi-threaded, and\r\n- the `MyDataTransformer.transformMyPartialResult` method sequential/thread-safe\r\n\r\n- (or redesign the above)\r\n\r\nmost performantly, to merge incoming `MyPartialResult` into one single `MyResult`?\r\n\r\n___\r\n\r\n&lt;h3&gt;Attempts:&lt;/h3&gt;\r\n\r\nThe easiest solution _seems_ to be to skip the *&quot;on arrival&quot;* part, and a commonly preferred implementation might e.g. be:\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {     // Stream is the way they say, but I like for\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter));\r\n  }\r\n\r\n  myPartialResultFutures.stream()\r\n    .map(CompletableFuture::join)\r\n    .map(myDataTransformer::transformMyPartialResult);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\nHowever, if feasible I&#39;d like to benefit from sequentially processing incoming payloads *when they arrive*, so I am currently experimenting with something like this:\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\r\n  }\r\n\r\n  myPartialResultFutures.forEach(CompletableFuture::join);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\nbut I don&#39;t understand if I need to implement any thread-safety protocols when calling `myDataTransformer.transformMyPartialResult`, and how - or if this even makes sense, performance-wise.\r\n\r\n___\r\n**Update:**\r\n\r\nBased on the assumption that\r\n- `myRepository.myAsyncQuery` takes slightly varying amounts of time, and\r\n- `myDataTransformer.transformMyPartialResult` taking an ever increasing amount of time each call\r\n\r\nimplementing a ***thread-safe/atomic type/Object***, e.g. a `ConcurrentHashMap`:\r\n```\r\npublic class MyDataTransformer {\r\n\r\n  private final ConcurrentMap&lt;K, V&gt; myResult = new ConcurrentHashMap&lt;K, V&gt;();\r\n\r\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\r\n    myPartialResult.myRows.stream()\r\n      .map((row) -&gt; this.myResult.merge(row[0], row[1], Integer::sum)));\r\n  }\r\n}\r\n```\r\ninto the ***latter** Attempt* (processing *&quot;on arrival&quot;*):\r\n```\r\npublic void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\r\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\r\n  \r\n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\r\n\r\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\r\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\r\n  }\r\n\r\n  myPartialResultFutures.forEach(CompletableFuture::join);\r\n      \r\n  myDeferredResult.setResult(myDataTransformer.getMyResult());\r\n}\r\n```\r\n***is up to one order of magnitude faster*** than waiting on all threads first, even with atomicity protocol overhead.\r\n___\r\nNow, this *may* have been obvious (not ultimately, though, as async/multi-threaded processing is by far not always the better choice), and I am glad this approach is a valid choice.\r\n\r\nWhat remains is what looks to me like a hacky, flexibility lacking solution - or at least an ugly one. **Is there a better approach?**","title":"Sequential processing of multi-threaded results","body":"<p>I am setting up a Spring Boot application (<em>DAO</em> pattern with <code>@Repositories</code>) where I am attempting to write a <code>@Service</code> to asynchronously pull data from a database in multiple threads and merge-process the incoming payloads sequentially, preferably on arrival.</p>\n<p>The goal is to utilize parallel database access for requests where multiple non-overlapping sets of filter conditions need to be queried individually, but post-processed (transformed, e.g. aggregated) into a combined result.</p>\n<p>Being rather new to Java, and coming from Golang and its comparably trivial syntax for multi-threading and task-communication, I struggle to identify a preferable API in Java and Spring Boot - or determine if this approach is even favorable to begin with.</p>\n<hr />\n<h3>Question:</h3>\n<p>Given</p>\n<ul>\n<li><p>a <strong>Controller</strong>:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n  private final MyService myService;\n\n  @Autowired\n  public MyController(MyService myService) {\n      this.myService = myService;\n  }\n\n  @PostMapping(&quot;/processing&quot;)\n  public DeferredResult&lt;MyResult&gt; myHandler(@RequestBody MyRequest myRequest) {\n      DeferredResult&lt;MyResult&gt; myDeferredResult = new DeferredResult&lt;&gt;();\n      myService.myProcessing(myRequest, myDeferredResult);\n\n      return myDeferredResult;\n}\n</code></pre>\n</li>\n<li><p>a <strong>Service</strong>:</p>\n<pre><code>import com.acme.parallel.util.MyDataTransformer\n\n@Service\npublic class MyServiceImpl implementing MyService {\n\n  private final MyRepository myRepository;\n\n  @Autowired\n  public MyService(MyRepository myRepository) {\n      this.myRepository = myRepository;\n  }\n\n  public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n    MyDataTransformer myDataTransformer = new MyDataTransformer();\n\n    /* PLACEHOLDER CODE\n    for (MyFilter myFilter : myRequest.getMyFilterList()) {\n      // MyPartialResult myPartialResult = myRepository.myAsyncQuery(myFilter);\n\n      // myDataTransformer.transformMyPartialResult(myPartialResult);\n    }\n    */\n\n    myDeferredResult.setResult(myDataTransformer.getMyResult());\n  }\n}\n</code></pre>\n</li>\n<li><p>a <strong>Repository</strong>:</p>\n<pre><code>@Repository\npublic class MyRepository {\n\n  public MyPartialResult myAsyncQuery(MyFilter myFilter) {\n    // for the sake of an example\n    return new MyPartialResult(myFilter, TakesSomeAmountOfTimeToQUery.TRUE);\n  }\n}\n</code></pre>\n</li>\n<li><p>as well as a <strong>MyDataTransformer</strong> helper class:</p>\n<pre><code>public class MyDataTransformer {\n\n  private final MyResult myResult = new MyResult();  // e.g. a Map\n\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\n    /* PLACEHOLDER CODE\n    this.myResult.transformAndMergeIntoMe(myPartialResult);\n    */\n  }\n}\n</code></pre>\n</li>\n</ul>\n<p>how can I implement</p>\n<ul>\n<li><p>the <code>MyService.myProcessing</code> method asynchronously and multi-threaded, and</p>\n</li>\n<li><p>the <code>MyDataTransformer.transformMyPartialResult</code> method sequential/thread-safe</p>\n</li>\n<li><p>(or redesign the above)</p>\n</li>\n</ul>\n<p>most performantly, to merge incoming <code>MyPartialResult</code> into one single <code>MyResult</code>?</p>\n<hr />\n<h3>Attempts:</h3>\n<p>The easiest solution <em>seems</em> to be to skip the <em>&quot;on arrival&quot;</em> part, and a commonly preferred implementation might e.g. be:</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {     // Stream is the way they say, but I like for\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter));\n  }\n\n  myPartialResultFutures.stream()\n    .map(CompletableFuture::join)\n    .map(myDataTransformer::transformMyPartialResult);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p>However, if feasible I'd like to benefit from sequentially processing incoming payloads <em>when they arrive</em>, so I am currently experimenting with something like this:</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\n  }\n\n  myPartialResultFutures.forEach(CompletableFuture::join);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p>but I don't understand if I need to implement any thread-safety protocols when calling <code>myDataTransformer.transformMyPartialResult</code>, and how - or if this even makes sense, performance-wise.</p>\n<hr />\n<p><strong>Update:</strong></p>\n<p>Based on the assumption that</p>\n<ul>\n<li><code>myRepository.myAsyncQuery</code> takes slightly varying amounts of time, and</li>\n<li><code>myDataTransformer.transformMyPartialResult</code> taking an ever increasing amount of time each call</li>\n</ul>\n<p>implementing a <em><strong>thread-safe/atomic type/Object</strong></em>, e.g. a <code>ConcurrentHashMap</code>:</p>\n<pre><code>public class MyDataTransformer {\n\n  private final ConcurrentMap&lt;K, V&gt; myResult = new ConcurrentHashMap&lt;K, V&gt;();\n\n  public void transformMyPartialResult(MyPartialResult myPartialResult) {\n    myPartialResult.myRows.stream()\n      .map((row) -&gt; this.myResult.merge(row[0], row[1], Integer::sum)));\n  }\n}\n</code></pre>\n<p>into the <em><strong>latter</strong> Attempt</em> (processing <em>&quot;on arrival&quot;</em>):</p>\n<pre><code>public void myProcessing(MyRequest myRequest, MyDeferredResult myDeferredResult) {\n  MyDataTransformer myDataTransformer = new MyDataTransformer();\n  \n  List&lt;CompletableFuture&lt;myPartialResult&gt;&gt; myPartialResultFutures = new ArrayList&lt;&gt;();\n\n  for (MyFilter myFilter : myRequest.getMyFilterList()) {\n    myPartialResultFutures.add(CompletableFuture.supplyAsync(() -&gt; myRepository.myAsyncQuery(myFilter).thenAccept(myDataTransformer::transformMyPartialResult));\n  }\n\n  myPartialResultFutures.forEach(CompletableFuture::join);\n      \n  myDeferredResult.setResult(myDataTransformer.getMyResult());\n}\n</code></pre>\n<p><em><strong>is up to one order of magnitude faster</strong></em> than waiting on all threads first, even with atomicity protocol overhead.</p>\n<hr />\n<p>Now, this <em>may</em> have been obvious (not ultimately, though, as async/multi-threaded processing is by far not always the better choice), and I am glad this approach is a valid choice.</p>\n<p>What remains is what looks to me like a hacky, flexibility lacking solution - or at least an ugly one. <strong>Is there a better approach?</strong></p>\n"},{"tags":["java","spring-boot","kotlin","gradle","dependencies"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690559082,"creation_date":1690559082,"answer_id":76789290,"question_id":76788909,"body_markdown":"Based on your `settings.gradle.kts`, it looks like you are trying to make a root project depend on its subproject. Instead, put `onboarding` as a subproject too. The `settings.gradle.kts` should be:\r\n\r\n```lang-gradle\r\nrootProject.name = &quot;anything-else&quot;\r\n\r\ninclude(&quot;entitymodel&quot;)\r\ninclude(&quot;onboarding&quot;)\r\n```\r\n\r\nand its folder structure:\r\n\r\n```\r\n.\r\n├── entitymodel\r\n│&#160;&#160; └── build.gradle.kts\r\n├── onboarding\r\n│&#160;&#160; └── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\n\r\nTo generate a working example quickly, you can run command `gradle init` in any empty folder, and enter `yes` when it asks you whether to generate multiple subprojects.\r\n\r\n### References\r\n\r\n- https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>Based on your <code>settings.gradle.kts</code>, it looks like you are trying to make a root project depend on its subproject. Instead, put <code>onboarding</code> as a subproject too. The <code>settings.gradle.kts</code> should be:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>rootProject.name = &quot;anything-else&quot;\n\ninclude(&quot;entitymodel&quot;)\ninclude(&quot;onboarding&quot;)\n</code></pre>\n<p>and its folder structure:</p>\n<pre><code>.\n├── entitymodel\n│   └── build.gradle.kts\n├── onboarding\n│   └── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>To generate a working example quickly, you can run command <code>gradle init</code> in any empty folder, and enter <code>yes</code> when it asks you whether to generate multiple subprojects.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.2.1/userguide/multi_project_builds.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29096320,"reputation":11,"user_id":22289145,"display_name":"Yevhen Yermolenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690623012,"creation_date":1690623012,"answer_id":76792932,"question_id":76788909,"body_markdown":"Did you try `implementation project(&#39;:entitymodel&#39;)` instead of `implementation(project(&quot;:entitymodel&quot;))` and `include(&quot;entitymodel&quot;)` instead of `include(&quot;:entitymodel&quot;)`?","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>Did you try <code>implementation project(':entitymodel')</code> instead of <code>implementation(project(&quot;:entitymodel&quot;))</code> and <code>include(&quot;entitymodel&quot;)</code> instead of <code>include(&quot;:entitymodel&quot;)</code>?</p>\n"}],"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789290,"answer_count":2,"score":0,"last_activity_date":1690623012,"creation_date":1690555964,"question_id":76788909,"body_markdown":"I have 2 springboot projects, entitymodel and onboarding. I want the project onboarding to use what was coded in entitymodel project. So my entitymodel build.gradle.kts is like this:\r\n\r\n\r\n```\r\nimport org.gradle.api.publish.PublishingExtension\r\n\r\nplugins {\r\n\t`java-library`\r\n\t`maven-publish`\r\n\t//signing\r\n\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n}\r\n\r\n\r\ngroup = &quot;com.restaurant&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation(&quot;org.projectlombok:lombok&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n\r\nconfigure&lt;PublishingExtension&gt; {\r\n\tpublications.create&lt;MavenPublication&gt;(&quot;entitymodel&quot;) {\r\n\t\tgroupId = &quot;com.restaurant&quot;\r\n\t\tartifactId = &quot;entitymodel&quot;\r\n\t\tversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\t\tpom.packaging = &quot;jar&quot;\r\n\t\tartifact(&quot;$buildDir/libs/entitymodel-0.0.1-SNAPSHOT-plain.jar&quot;)\r\n\r\n\t}\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\tname = &quot;archiva&quot;\r\n\t\t\turl = uri(&quot;http://localhost:8082/repository/internal/&quot;)\r\n\t\t\tisAllowInsecureProtocol = true\r\n\t\t\tcredentials {\r\n\t\t\t\tusername = &quot;aaaaaaaaaaaaaa&quot;\r\n\t\t\t\tpassword = &quot;aaaaaaaaaaaaaa&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nand my onboarding build.gradle.kts and settings.gradle.kts are like this:\r\n\r\n\r\n```\r\nplugins {\r\n\tjava\r\n\twar\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\r\n}\r\n\r\ngroup = &quot;com.restaurant&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven {\r\n\t\tname = &quot;archiva&quot;\r\n\t\turl = uri(&quot;http://localhost:8082/repository/internal/&quot;)\r\n\t\tisAllowInsecureProtocol = true\r\n\t\tcredentials {\r\n\t\t\tusername = &quot;aaaaaaaaaaaaa&quot;\r\n\t\t\tpassword = &quot;aaaaaaaaaaaaa&quot;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nconfigurations.all {\r\n\tresolutionStrategy.cacheDynamicVersionsFor(1, &quot;minutes&quot;)\r\n\tresolutionStrategy.cacheChangingModulesFor(1, &quot;minutes&quot;)\r\n}\r\n\r\n\r\n\r\n\r\ndependencies {\r\n\timplementation(&quot;org.projectlombok:lombok&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\t//implementation(&quot;com.restaurant:entitymodel:0.0.1-SNAPSHOT&quot;)\r\n\timplementation(project(&quot;:entitymodel&quot;))\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n\tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\r\n\truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nrootProject.name = &quot;onboarding&quot;\r\ninclude(&quot;:entitymodel&quot;)\r\n```\r\n\r\nbut when I run ./gradlew clean build on the onboarding project, I receive this: \r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:bootWar&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:runtimeClasspath&#39;.\r\n   &gt; Could not resolve project :entitymodel.\r\n     Required by:\r\n         project :\r\n      &gt; No matching configuration of project :entitymodel was found. The consumer was configured to find a library for use during runtime, compatible with Java 17, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\r\n          - None of the consumable configurations have attributes.\r\n\r\n\r\n```\r\n   \r\n\r\nwhat am I missing? \r\n\r\n\r\nI coded looking at these two Gradle documentations:\r\n[Dependencies between projects](https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:project_dependencies)\r\n[Declaring Dependencies between Subprojects](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html)\r\n\r\nand searched into some forums to solve this issue but couldn&#39;t find out the problem yet.  ","title":"&quot;No matching configuration of project :entitymodel was found&quot; when Declaring Dependencies between projects with Gradle Kotlin Springboot","body":"<p>I have 2 springboot projects, entitymodel and onboarding. I want the project onboarding to use what was coded in entitymodel project. So my entitymodel build.gradle.kts is like this:</p>\n<pre><code>import org.gradle.api.publish.PublishingExtension\n\nplugins {\n    `java-library`\n    `maven-publish`\n    //signing\n\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n}\n\n\ngroup = &quot;com.restaurant&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.projectlombok:lombok&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n\nconfigure&lt;PublishingExtension&gt; {\n    publications.create&lt;MavenPublication&gt;(&quot;entitymodel&quot;) {\n        groupId = &quot;com.restaurant&quot;\n        artifactId = &quot;entitymodel&quot;\n        version = &quot;0.0.1-SNAPSHOT&quot;\n        pom.packaging = &quot;jar&quot;\n        artifact(&quot;$buildDir/libs/entitymodel-0.0.1-SNAPSHOT-plain.jar&quot;)\n\n    }\n    repositories {\n        maven {\n            name = &quot;archiva&quot;\n            url = uri(&quot;http://localhost:8082/repository/internal/&quot;)\n            isAllowInsecureProtocol = true\n            credentials {\n                username = &quot;aaaaaaaaaaaaaa&quot;\n                password = &quot;aaaaaaaaaaaaaa&quot;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>and my onboarding build.gradle.kts and settings.gradle.kts are like this:</p>\n<pre><code>plugins {\n    java\n    war\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\n}\n\ngroup = &quot;com.restaurant&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name = &quot;archiva&quot;\n        url = uri(&quot;http://localhost:8082/repository/internal/&quot;)\n        isAllowInsecureProtocol = true\n        credentials {\n            username = &quot;aaaaaaaaaaaaa&quot;\n            password = &quot;aaaaaaaaaaaaa&quot;\n        }\n    }\n\n}\n\nconfigurations.all {\n    resolutionStrategy.cacheDynamicVersionsFor(1, &quot;minutes&quot;)\n    resolutionStrategy.cacheChangingModulesFor(1, &quot;minutes&quot;)\n}\n\n\n\n\ndependencies {\n    implementation(&quot;org.projectlombok:lombok&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    //implementation(&quot;com.restaurant:entitymodel:0.0.1-SNAPSHOT&quot;)\n    implementation(project(&quot;:entitymodel&quot;))\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.restdocs:spring-restdocs-mockmvc&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<pre><code>rootProject.name = &quot;onboarding&quot;\ninclude(&quot;:entitymodel&quot;)\n</code></pre>\n<p>but when I run ./gradlew clean build on the onboarding project, I receive this:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':bootWar'.\n&gt; Could not resolve all task dependencies for configuration ':runtimeClasspath'.\n   &gt; Could not resolve project :entitymodel.\n     Required by:\n         project :\n      &gt; No matching configuration of project :entitymodel was found. The consumer was configured to find a library for use during runtime, compatible with Java 17, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\n          - None of the consumable configurations have attributes.\n\n\n</code></pre>\n<p>what am I missing?</p>\n<p>I coded looking at these two Gradle documentations:\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:project_dependencies\" rel=\"nofollow noreferrer\">Dependencies between projects</a>\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">Declaring Dependencies between Subprojects</a></p>\n<p>and searched into some forums to solve this issue but couldn't find out the problem yet.</p>\n"},{"tags":["java","android","firebase-authentication","verification"],"answers":[{"tags":[],"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690622984,"creation_date":1690622984,"answer_id":76792930,"question_id":76792282,"body_markdown":"Thanks for asking! Looks like you are new to Firebase Authentication. I will clear your doubts about Firebase Phone Authentication.\r\n\r\n**Q. How to hide ReCaptcha Web Page during Firebase Phone Authentication?**\r\n&lt;br&gt;\r\n**A.** This ReCaptcha page is the default security page in the Firebase Phone Authentication. Firebase provides &quot;App Check&quot;, which helps your app from abuse by preventing unauthorised clients from accessing your backend resources ([AppCheck docs][1]). The App Check identifies your genuine app instance, (The one that is downloaded from official Google Play Store). To add the Firebase AppCheck in your Android app, follow the steps given on official [Firebase Documentation][2]. Once, you have added the AppCheck, this ReCaptcha WebPage will be gone automatically.\r\n\r\n**Q. Cannot login after many attempts?**\r\n&lt;br&gt;\r\n**A.** This is the feature built in to the Firebase Phone Authentication to protect your resources. There can be something 3 to 4 authentications within 1 hour. If user exceeds this limit, the Firebase blocks all the requests from the client. The workaround for this is to use the testing phone numbers which do not have this protection. To add the testing phone number follow the documentation given [here][3].\r\n\r\nFor any issue, follow the documentation for Firebase Phone Authentication which is given [here][4].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/app-check\r\n  [2]: https://firebase.google.com/docs/app-check/android/play-integrity-provider\r\n  [3]: https://firebase.google.com/docs/auth/android/phone-auth#test-with-fictional-phone-numbers\r\n  [4]: https://firebase.google.com/docs/auth/android/phone-auth","title":"How to disable reCaptcha web page in Firebase Phone Auth Android","body":"<p>Thanks for asking! Looks like you are new to Firebase Authentication. I will clear your doubts about Firebase Phone Authentication.</p>\n<p><strong>Q. How to hide ReCaptcha Web Page during Firebase Phone Authentication?</strong>\n<br>\n<strong>A.</strong> This ReCaptcha page is the default security page in the Firebase Phone Authentication. Firebase provides &quot;App Check&quot;, which helps your app from abuse by preventing unauthorised clients from accessing your backend resources (<a href=\"https://firebase.google.com/docs/app-check\" rel=\"nofollow noreferrer\">AppCheck docs</a>). The App Check identifies your genuine app instance, (The one that is downloaded from official Google Play Store). To add the Firebase AppCheck in your Android app, follow the steps given on official <a href=\"https://firebase.google.com/docs/app-check/android/play-integrity-provider\" rel=\"nofollow noreferrer\">Firebase Documentation</a>. Once, you have added the AppCheck, this ReCaptcha WebPage will be gone automatically.</p>\n<p><strong>Q. Cannot login after many attempts?</strong>\n<br>\n<strong>A.</strong> This is the feature built in to the Firebase Phone Authentication to protect your resources. There can be something 3 to 4 authentications within 1 hour. If user exceeds this limit, the Firebase blocks all the requests from the client. The workaround for this is to use the testing phone numbers which do not have this protection. To add the testing phone number follow the documentation given <a href=\"https://firebase.google.com/docs/auth/android/phone-auth#test-with-fictional-phone-numbers\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For any issue, follow the documentation for Firebase Phone Authentication which is given <a href=\"https://firebase.google.com/docs/auth/android/phone-auth\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690622984,"creation_date":1690611099,"question_id":76792282,"body_markdown":"I am trying to add Phone Authentication of Firebase in my android application, it works fine with all the otp and stuff but there are two problems I am having.\r\n\r\nThe first problem: **OTP verification webpage**\r\nThe following picture will clear the problem-\r\n[![otp webpage][1]][1]\r\n\r\n\r\nBefore getting an OTP, this webpage shows up which is not really user friendly. The user won&#39;t like this **redirecting webpage** scenario every time he is getting an OTP. How to disable or hide this webpage? I don&#39;t want it to go the browser first and then return back to the app, this may destroy the activity which is an issue for low-ram phones. I researched about it and I found some questions here too. But they are all old questions, the answers are different and those answers don&#39;t work now.\r\nFor example, in this question [how-to-disable-recaptcha-in-firebase-phone-auth-otp-android][2], they said that using **Android Device Verification** api will disable the verification webpage. But that api is decapitated now, also the **Google Play Integrity API** doesn&#39;t work as well. I added SHA-1 and SHA-256 in my project, the problem still there. I tried to find the App Check with the SafetyNet option but I can&#39;t find it in my project setting, seems like that has been decapitated too. I desperately need updated solution and I hope that I will find some here because I&#39;m out of ideas at this point.\r\n\r\n\r\n\r\nThe second problem: **Unusual Activity**\r\n\r\nMy application is a chat app, people need to sign up and sign in all the time. I added the phone auth option to sign in to the app, but if I sign in using the same phone number (which is normal, user will have only one or two phone number) for two or three times I get this message-\r\n[![unusual activity][3]][3]\r\n\r\nHow to solve this unusual activity problem? I am using a **real phone with a real phone number** still it says unusual activity, if user can&#39;t sign in to his profile after two or three times or need to wait for some time to sign in then how is that user friendly? Help me solve this problem please.\r\n\r\n\r\nThese are the two problems I am having, I hope I will get some right answers. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3DIJ.jpg\r\n  [2]: https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android\r\n  [3]: https://i.stack.imgur.com/VomR5.jpg","title":"How to disable reCaptcha web page in Firebase Phone Auth Android","body":"<p>I am trying to add Phone Authentication of Firebase in my android application, it works fine with all the otp and stuff but there are two problems I am having.</p>\n<p>The first problem: <strong>OTP verification webpage</strong>\nThe following picture will clear the problem-\n<a href=\"https://i.stack.imgur.com/r3DIJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3DIJ.jpg\" alt=\"otp webpage\" /></a></p>\n<p>Before getting an OTP, this webpage shows up which is not really user friendly. The user won't like this <strong>redirecting webpage</strong> scenario every time he is getting an OTP. How to disable or hide this webpage? I don't want it to go the browser first and then return back to the app, this may destroy the activity which is an issue for low-ram phones. I researched about it and I found some questions here too. But they are all old questions, the answers are different and those answers don't work now.\nFor example, in this question <a href=\"https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android\">how-to-disable-recaptcha-in-firebase-phone-auth-otp-android</a>, they said that using <strong>Android Device Verification</strong> api will disable the verification webpage. But that api is decapitated now, also the <strong>Google Play Integrity API</strong> doesn't work as well. I added SHA-1 and SHA-256 in my project, the problem still there. I tried to find the App Check with the SafetyNet option but I can't find it in my project setting, seems like that has been decapitated too. I desperately need updated solution and I hope that I will find some here because I'm out of ideas at this point.</p>\n<p>The second problem: <strong>Unusual Activity</strong></p>\n<p>My application is a chat app, people need to sign up and sign in all the time. I added the phone auth option to sign in to the app, but if I sign in using the same phone number (which is normal, user will have only one or two phone number) for two or three times I get this message-\n<a href=\"https://i.stack.imgur.com/VomR5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VomR5.jpg\" alt=\"unusual activity\" /></a></p>\n<p>How to solve this unusual activity problem? I am using a <strong>real phone with a real phone number</strong> still it says unusual activity, if user can't sign in to his profile after two or three times or need to wait for some time to sign in then how is that user friendly? Help me solve this problem please.</p>\n<p>These are the two problems I am having, I hope I will get some right answers. Thank you.</p>\n"},{"tags":["java","android","kotlin","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690603159,"post_id":76789251,"comment_id":135380070,"body_markdown":"Please create a complete, minimal example which illustrates the problem. You haven&#39;t shown how you create mock or how you call it.","body":"Please create a complete, minimal example which illustrates the problem. You haven&#39;t shown how you create mock or how you call it."}],"answers":[{"tags":[],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690622798,"creation_date":1690622798,"answer_id":76792922,"question_id":76789251,"body_markdown":"I&#39;ve found out, that mockito seems to be incompatible with Android buildTarget API 34, I changed it to 33 and it worked!","title":"Mockito can&#39;t mock any class","body":"<p>I've found out, that mockito seems to be incompatible with Android buildTarget API 34, I changed it to 33 and it worked!</p>\n"}],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76792922,"answer_count":1,"score":0,"last_activity_date":1690622798,"creation_date":1690558739,"question_id":76789251,"body_markdown":"I want to mock a class that gets some data from a server for Android testing purposes when I detected that mockito doesn&#39;t mock my class:\r\n```\r\norg.mockito.exceptions.base.MockitoException:\r\nMockito cannot mock this class: class com.test.test.Data\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\n```\r\n\r\nThis was a Kotlin class like this:\r\n```Kotlin\r\nclass Data {}\r\n```\r\n\r\nBy default, Kotlin classes are final, so I added the open modifier but still got the same error.\r\n\r\nI thought, that it was maybe because some of Data&#39;s properties are final classes, so I created this Kotlin class and tried to mock it:\r\n```Kotlin\r\nopen class Test {\r\n\r\n    fun say() = &quot;Not mocked&quot;\r\n}\r\n```\r\n\r\nWhen I got the same error again I created a Java class which is by default not final:\r\n```Java\r\npublic class Test2 {\r\n\r\n    public String say() { return &quot;Not mocked (Java)&quot;; }\r\n}\r\n\r\n```\r\n\r\nThese are the dependencies I use for mockito:\r\n```\r\ntestImplementation &#39;org.mockito:mockito-inline:2.8.47&#39;\r\ntestImplementation &#39;org.mockito:mockito-core:5.4.0&#39;\r\nandroidTestImplementation &#39;org.mockito:mockito-android:5.4.0&#39;\r\n```\r\n\r\nAt this point, I don&#39;t understand its problems anymore.\r\n\r\nAny help is highly appreciated!","title":"Mockito can&#39;t mock any class","body":"<p>I want to mock a class that gets some data from a server for Android testing purposes when I detected that mockito doesn't mock my class:</p>\n<pre><code>org.mockito.exceptions.base.MockitoException:\nMockito cannot mock this class: class com.test.test.Data\n\nMockito can only mock non-private &amp; non-final classes.\n</code></pre>\n<p>This was a Kotlin class like this:</p>\n<pre><code>class Data {}\n</code></pre>\n<p>By default, Kotlin classes are final, so I added the open modifier but still got the same error.</p>\n<p>I thought, that it was maybe because some of Data's properties are final classes, so I created this Kotlin class and tried to mock it:</p>\n<pre><code>open class Test {\n\n    fun say() = &quot;Not mocked&quot;\n}\n</code></pre>\n<p>When I got the same error again I created a Java class which is by default not final:</p>\n<pre><code>public class Test2 {\n\n    public String say() { return &quot;Not mocked (Java)&quot;; }\n}\n\n</code></pre>\n<p>These are the dependencies I use for mockito:</p>\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.8.47'\ntestImplementation 'org.mockito:mockito-core:5.4.0'\nandroidTestImplementation 'org.mockito:mockito-android:5.4.0'\n</code></pre>\n<p>At this point, I don't understand its problems anymore.</p>\n<p>Any help is highly appreciated!</p>\n"},{"tags":["java","android","google-api"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690637591,"post_id":76792817,"comment_id":135383086,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29116115,"reputation":1,"user_id":22304793,"display_name":"Muhammad Faheem Mughal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690620713,"creation_date":1690620713,"question_id":76792817,"body_markdown":"I Getting some problem how to read sms programmatically when sms received.. i try all the method and they are working on below android 8.\r\nI Used On Recieved Method on Broadcast Reciever .. And every this fine and working but in android 7 and below version but not in Android 8 and above api...\r\n","title":"How to Read Sms when recieved in android api 33+ or in Andoird 8 and above","body":"<p>I Getting some problem how to read sms programmatically when sms received.. i try all the method and they are working on below android 8.\nI Used On Recieved Method on Broadcast Reciever .. And every this fine and working but in android 7 and below version but not in Android 8 and above api...</p>\n"},{"tags":["java","regex","split","delimiter","backslash"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1690352223,"post_id":76768407,"comment_id":135339471,"body_markdown":"For input - `&quot;one,two\\\\,three&quot;`, if we split by `,` shouldn&#39;t the output be `[&quot;one&quot;, &quot;two\\\\,three&quot;]`?","body":"For input - <code>&quot;one,two\\\\,three&quot;</code>, if we split by <code>,</code> shouldn&#39;t the output be <code>[&quot;one&quot;, &quot;two\\\\,three&quot;]</code>?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1690352285,"post_id":76768407,"comment_id":135339482,"body_markdown":"By having &quot;regex&quot; as a tag it seems you want to split on characters matching a regex, but that cannot be the case as you want `&quot;one,two&quot;` to become `&quot;onetwo&quot;`; i.e., you want to remove the first comma but not split on it.","body":"By having &quot;regex&quot; as a tag it seems you want to split on characters matching a regex, but that cannot be the case as you want <code>&quot;one,two&quot;</code> to become <code>&quot;onetwo&quot;</code>; i.e., you want to remove the first comma but not split on it."},{"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1690359896,"post_id":76768407,"comment_id":135340947,"body_markdown":"Perhaps split on `(?&lt;!\\\\),[,\\s]*+(?=[^,\\s]|$)` [demo](https://regex101.com/r/sciKaM/1) or get all the matches instead `[^,\\\\]+(?:\\\\.[^,\\\\]*)*` [demo](https://regex101.com/r/XN9QSZ/1) Note to double escape the backslash in Java","body":"Perhaps split on <code>(?&lt;!\\\\),[,\\s]*+(?=[^,\\s]|$)</code> <a href=\"https://regex101.com/r/sciKaM/1\" rel=\"nofollow noreferrer\">demo</a> or get all the matches instead <code>[^,\\\\]+(?:\\\\.[^,\\\\]*)*</code> <a href=\"https://regex101.com/r/XN9QSZ/1\" rel=\"nofollow noreferrer\">demo</a> Note to double escape the backslash in Java"},{"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"score":0,"creation_date":1690620400,"post_id":76768407,"comment_id":135381297,"body_markdown":"1.Sorry for the confusion I want to split on , and not \\\\, and I have edited it accordingly and thanks for the help","body":"1.Sorry for the confusion I want to split on , and not \\\\, and I have edited it accordingly and thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690612639,"creation_date":1690352451,"answer_id":76768507,"question_id":76768407,"body_markdown":"You likely want a [negative look behind](https://www.regular-expressions.info/lookaround.html) which will look for a comma _not_ preceded by a backslash. Many backslashes are necessary as we need to not only escape the backslashes in a string, but also in the resulting regex. \r\n\r\n```java\r\n&quot;(?&lt;!\\\\\\\\),&quot;\r\n```\r\n\r\nWith Java 12 and later, raw string literals are supported, and can save us from some of this escaping.\r\n\r\n```java\r\n`(?&lt;!\\\\\\\\),`\r\n```\r\n\r\nNow, if we want to split only on commas preceded by a backslash, we&#39;d use a _positive_ look behind.\r\n\r\n```java\r\n`(?&lt;=\\\\),`\r\n```\r\n\r\nA demonstration in Python because its interactive interpreter presents the information in an easy to understand manner. Python has its own raw string syntax and the _regular expressions_ themselves are the same.\r\n\r\n```python\r\n&gt;&gt;&gt; import re\r\n&gt;&gt;&gt; re.split(r&quot;(?&lt;!\\\\),&quot;, r&quot;1,2\\,3&quot;)\r\n[&#39;1&#39;, &#39;2\\\\,3&#39;]\r\n&gt;&gt;&gt; re.split(r&quot;(?&lt;=\\\\),&quot;, r&quot;1,2\\,3&quot;)\r\n[&#39;1,2\\\\&#39;, &#39;3&#39;]\r\n```","title":"Regex to include comma in java split function","body":"<p>You likely want a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">negative look behind</a> which will look for a comma <em>not</em> preceded by a backslash. Many backslashes are necessary as we need to not only escape the backslashes in a string, but also in the resulting regex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;(?&lt;!\\\\\\\\),&quot;\n</code></pre>\n<p>With Java 12 and later, raw string literals are supported, and can save us from some of this escaping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>`(?&lt;!\\\\\\\\),`\n</code></pre>\n<p>Now, if we want to split only on commas preceded by a backslash, we'd use a <em>positive</em> look behind.</p>\n<pre class=\"lang-java prettyprint-override\"><code>`(?&lt;=\\\\),`\n</code></pre>\n<p>A demonstration in Python because its interactive interpreter presents the information in an easy to understand manner. Python has its own raw string syntax and the <em>regular expressions</em> themselves are the same.</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.split(r&quot;(?&lt;!\\\\),&quot;, r&quot;1,2\\,3&quot;)\n['1', '2\\\\,3']\n&gt;&gt;&gt; re.split(r&quot;(?&lt;=\\\\),&quot;, r&quot;1,2\\,3&quot;)\n['1,2\\\\', '3']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690383114,"creation_date":1690383114,"answer_id":76772554,"question_id":76768407,"body_markdown":"You should use [Negative Look Behind][1]. You can check this out in [regexp10.com][2].\r\n\r\n```java\r\npublic static String[] split(String str) {\r\n    final String regexp = &quot;(?&lt;!\\\\\\\\),&quot;;\r\n    return str.split(regexp);\r\n}\r\n```\r\n\r\nThen the client&#39;s code will look like this:\r\n```java\r\nSystem.out.println(Arrays.toString(split(&quot;one,two,three&quot;)));    // [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;] \r\nSystem.out.println(Arrays.toString(split(&quot;one,two\\\\,three&quot;)));  // [&quot;one&quot;,&quot;two\\,three&quot;]\r\n```\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html\r\n  [2]: https://regex101.com/r/6P0Ap0/1","title":"Regex to include comma in java split function","body":"<p>You should use <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">Negative Look Behind</a>. You can check this out in <a href=\"https://regex101.com/r/6P0Ap0/1\" rel=\"nofollow noreferrer\">regexp10.com</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] split(String str) {\n    final String regexp = &quot;(?&lt;!\\\\\\\\),&quot;;\n    return str.split(regexp);\n}\n</code></pre>\n<p>Then the client's code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Arrays.toString(split(&quot;one,two,three&quot;)));    // [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;] \nSystem.out.println(Arrays.toString(split(&quot;one,two\\\\,three&quot;)));  // [&quot;one&quot;,&quot;two\\,three&quot;]\n</code></pre>\n"}],"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690620589,"creation_date":1690351236,"question_id":76768407,"body_markdown":"I want to have a split function that splits String based on delimiter &quot;,&quot; but that should not be taken as delimiter in some cases.\r\n\r\nlets say:\r\n```\r\nString= &quot;one,two,three&quot;\r\nArray=String.split(&quot;,&quot;);\r\nArrayoutput=[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\r\n```\r\n\r\nthen if \r\n```\r\nString=&quot;one,two\\\\,three&quot;;\r\nArray=String.split(&quot;???&quot;);\r\n```\r\nso the output =[&quot;one&quot;,&quot;two,three&quot;];\r\n\r\n\r\nSo how to write a regular expression in place of &quot;???&quot; so that it includes &quot;,&quot; but does not include &quot;\\\\\\\\,&quot;. Something like  &quot;(\\[,\\]&amp;\\[^\\\\\\\\,\\])&quot; .\r\n\r\nAlso the when to read comma as String instead of delimiter is configurable, I took \\\\ for now but can be anything.\r\n\r\nP.S: I can solve it with the following pseudo code:\r\n\r\n```java\r\nfor(int i=0;i&lt;s.length();i++){\r\nif(s.charAt(i)==&quot;\\\\,&quot;){}\r\nelse if(s.charAt(i)==&#39;,&#39;){then split it;}\r\n}\r\n```\r\n\r\nbut I am looking for the most efficient and fastest solution, any other Ideas on how to deal with this?","title":"Regex to include comma in java split function","body":"<p>I want to have a split function that splits String based on delimiter &quot;,&quot; but that should not be taken as delimiter in some cases.</p>\n<p>lets say:</p>\n<pre><code>String= &quot;one,two,three&quot;\nArray=String.split(&quot;,&quot;);\nArrayoutput=[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;];\n</code></pre>\n<p>then if</p>\n<pre><code>String=&quot;one,two\\\\,three&quot;;\nArray=String.split(&quot;???&quot;);\n</code></pre>\n<p>so the output =[&quot;one&quot;,&quot;two,three&quot;];</p>\n<p>So how to write a regular expression in place of &quot;???&quot; so that it includes &quot;,&quot; but does not include &quot;\\\\,&quot;. Something like  &quot;([,]&amp;[^\\\\,])&quot; .</p>\n<p>Also the when to read comma as String instead of delimiter is configurable, I took \\ for now but can be anything.</p>\n<p>P.S: I can solve it with the following pseudo code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0;i&lt;s.length();i++){\nif(s.charAt(i)==&quot;\\\\,&quot;){}\nelse if(s.charAt(i)==','){then split it;}\n}\n</code></pre>\n<p>but I am looking for the most efficient and fastest solution, any other Ideas on how to deal with this?</p>\n"},{"tags":["java","kotlin","syntax","new-operator"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1690631483,"post_id":76790574,"comment_id":135382386,"body_markdown":"As a minor frame challenge, in Kotlin lists are much more common than arrays. Lists are collections and so have access to all the extensions and other places where collections can be used; they have multiple implementations; they work better with generics; and they they usually have better toString() and comparison and other method implementations. Arrays are needed for interoperability, for varargs, and for low-level implementation of other structures, but for everything else lists are preferable.","body":"As a minor frame challenge, in Kotlin lists are much more common than arrays. Lists are collections and so have access to all the extensions and other places where collections can be used; they have multiple implementations; they work better with generics; and they they usually have better toString() and comparison and other method implementations. Arrays are needed for interoperability, for varargs, and for low-level implementation of other structures, but for everything else lists are preferable."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690574801,"creation_date":1690573589,"answer_id":76790639,"question_id":76790574,"body_markdown":"That specific syntax with curly brackets I think will never happen because it&#39;s too close to the Kotlin syntax for lambdas. For example, it would break existing code like:\r\n\r\n    val x = { 1 } // type of x is inferred to be () -&gt; Int\r\n\r\nHowever, they are at least considering it with square brackets. That can be followed [here in the official YouTrack issues list][1]. This issue was opened by the lead Kotlin designer, so it&#39;s not just wishful thinking from a random user. Unfortunately, there is no planned implementation date yet.\r\n\r\nA couple of possibilities for shortening it:\r\n\r\nThe `&lt;Int&gt;` in your code is redundant and can be dropped, because the type can be inferred by the compiler when the array is not empty.\r\n\r\nYou can use a function alias like\r\n\r\n    import kotlin.arrayOf as a\r\n\r\nso you could write code like\r\n\r\n    val x = a(1, 2, 3, 4)\r\n\r\nin files where you create a lot of literal arrays.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/KT-43871","title":"Kotlin array literal syntax like java","body":"<p>That specific syntax with curly brackets I think will never happen because it's too close to the Kotlin syntax for lambdas. For example, it would break existing code like:</p>\n<pre><code>val x = { 1 } // type of x is inferred to be () -&gt; Int\n</code></pre>\n<p>However, they are at least considering it with square brackets. That can be followed <a href=\"https://youtrack.jetbrains.com/issue/KT-43871\" rel=\"nofollow noreferrer\">here in the official YouTrack issues list</a>. This issue was opened by the lead Kotlin designer, so it's not just wishful thinking from a random user. Unfortunately, there is no planned implementation date yet.</p>\n<p>A couple of possibilities for shortening it:</p>\n<p>The <code>&lt;Int&gt;</code> in your code is redundant and can be dropped, because the type can be inferred by the compiler when the array is not empty.</p>\n<p>You can use a function alias like</p>\n<pre><code>import kotlin.arrayOf as a\n</code></pre>\n<p>so you could write code like</p>\n<pre><code>val x = a(1, 2, 3, 4)\n</code></pre>\n<p>in files where you create a lot of literal arrays.</p>\n"},{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690617416,"creation_date":1690617416,"answer_id":76792619,"question_id":76790574,"body_markdown":"Kotlin does not have an array syntax (varray = {1,2,3,4,5}). To create an array in Kotlin, you must use a function such as arrayOf or intArrayOf.\r\n\r\n    val array = intArrayOf(1, 2, 3, 4, 5)\r\n\r\n","title":"Kotlin array literal syntax like java","body":"<p>Kotlin does not have an array syntax (varray = {1,2,3,4,5}). To create an array in Kotlin, you must use a function such as arrayOf or intArrayOf.</p>\n<pre><code>val array = intArrayOf(1, 2, 3, 4, 5)\n</code></pre>\n"}],"owner":{"account_id":19464053,"reputation":3,"user_id":14237707,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76790639,"answer_count":2,"score":-2,"last_activity_date":1690617416,"creation_date":1690572549,"question_id":76790574,"body_markdown":"Just a simple question\r\n\r\nwhen we will get array literal syntax in kotlin like java\r\n\r\n```\r\nvar array = arrayOf&lt;Int&gt;(1,2,3,4,5) // current syntax\r\n```\r\n\r\n```\r\nvar array = {1,2,3,4,5} // new syntax\r\n```\r\n\r\nIf any of you have information on the current status of this feature or if it has already been implemented in a newer version that I might have missed, I would greatly appreciate your insights. Additionally, any tips or workarounds for achieving a more compact syntax while working with arrays in Kotlin would be welcome.","title":"Kotlin array literal syntax like java","body":"<p>Just a simple question</p>\n<p>when we will get array literal syntax in kotlin like java</p>\n<pre><code>var array = arrayOf&lt;Int&gt;(1,2,3,4,5) // current syntax\n</code></pre>\n<pre><code>var array = {1,2,3,4,5} // new syntax\n</code></pre>\n<p>If any of you have information on the current status of this feature or if it has already been implemented in a newer version that I might have missed, I would greatly appreciate your insights. Additionally, any tips or workarounds for achieving a more compact syntax while working with arrays in Kotlin would be welcome.</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688130160,"post_id":76589106,"comment_id":135036432,"body_markdown":"I don&#39;t think plain Mockito can mock constructors. You&#39;ll need PowerMock.","body":"I don&#39;t think plain Mockito can mock constructors. You&#39;ll need PowerMock."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1688130469,"post_id":76589106,"comment_id":135036516,"body_markdown":"Are you able to make changes to ClassToBeTested ? If not then you can not to mock AnotherClass","body":"Are you able to make changes to ClassToBeTested ? If not then you can not to mock AnotherClass"},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1688131107,"post_id":76589106,"comment_id":135036669,"body_markdown":"I am not supposed to make changes to ClassToBeTested unfortunately","body":"I am not supposed to make changes to ClassToBeTested unfortunately"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688173913,"post_id":76589106,"comment_id":135042959,"body_markdown":"Explain to whoever told you that you can&#39;t modify `ClassToBeTested` that it has not been written in a testable manner, and that you need to change it.","body":"Explain to whoever told you that you can&#39;t modify <code>ClassToBeTested</code> that it has not been written in a testable manner, and that you need to change it."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1688181576,"post_id":76589106,"comment_id":135043340,"body_markdown":"Sure sir,will try to convey this.","body":"Sure sir,will try to convey this."}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688132764,"creation_date":1688132764,"answer_id":76589497,"question_id":76589106,"body_markdown":"Since you are not supposed to change the source code of ClassToBeTested and can not use PowerMockito I would stick to a single possible approach, if acceptable: \r\n\r\n    public class ClassToBeTestedTest {\r\n        @Mock\r\n        DependencyOne dep1Mock;\r\n        @Mock\r\n        DependencyTwo dep2Mock;\r\n        @Mock\r\n        AnotherClass anotherClassMock;\r\n    \r\n        ClassToBeTested testInstance = new ClassToBeTestedTestSpecificImpl();\r\n    \r\n        private class ClassToBeTestedTestSpecificImpl extends ClassToBeTested {\r\n            @Override\r\n            method() {\r\n                anotherClassMock.someAction();\r\n            }\r\n        }\r\n        //test methods go here\r\n    }\r\n\r\n\r\nOtherwise we can confidently state: ClassToBeTested is not testable in the given circumstances. ","title":"Alternative of whenNew in mockito for this usecase","body":"<p>Since you are not supposed to change the source code of ClassToBeTested and can not use PowerMockito I would stick to a single possible approach, if acceptable:</p>\n<pre><code>public class ClassToBeTestedTest {\n    @Mock\n    DependencyOne dep1Mock;\n    @Mock\n    DependencyTwo dep2Mock;\n    @Mock\n    AnotherClass anotherClassMock;\n\n    ClassToBeTested testInstance = new ClassToBeTestedTestSpecificImpl();\n\n    private class ClassToBeTestedTestSpecificImpl extends ClassToBeTested {\n        @Override\n        method() {\n            anotherClassMock.someAction();\n        }\n    }\n    //test methods go here\n}\n</code></pre>\n<p>Otherwise we can confidently state: ClassToBeTested is not testable in the given circumstances.</p>\n"},{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690617392,"creation_date":1690617392,"answer_id":76792614,"question_id":76589106,"body_markdown":"I was able to handle this scenario by letting the call go to Another Class and then mocking the code present in some `action()` method with when then statements.","title":"Alternative of whenNew in mockito for this usecase","body":"<p>I was able to handle this scenario by letting the call go to Another Class and then mocking the code present in some <code>action()</code> method with when then statements.</p>\n"}],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76792614,"answer_count":2,"score":-1,"last_activity_date":1690617392,"creation_date":1688129590,"question_id":76589106,"body_markdown":"Can some help me to mock AnotherClass object.\r\n\r\nThings I have tried so far.\r\n\r\n1. MockConstruction\r\n2. useConstructor with settings\r\n3. When then statement \r\n\r\nPowermockito we can not use for some reason.\r\n\r\n\r\n\r\n    ClassToBeTested {\r\n      @Autowired\r\n      DependencyOne dep1;\r\n      @Autowired\r\n      DependencyTwo dep2;\r\n    \r\n      method(){\r\n        AnotherClass anotherClass = new AnotherClass(dep1,dep2);\r\n    anotherClass.someAction();\r\n      }\r\n    }","title":"Alternative of whenNew in mockito for this usecase","body":"<p>Can some help me to mock AnotherClass object.</p>\n<p>Things I have tried so far.</p>\n<ol>\n<li>MockConstruction</li>\n<li>useConstructor with settings</li>\n<li>When then statement</li>\n</ol>\n<p>Powermockito we can not use for some reason.</p>\n<pre><code>ClassToBeTested {\n  @Autowired\n  DependencyOne dep1;\n  @Autowired\n  DependencyTwo dep2;\n\n  method(){\n    AnotherClass anotherClass = new AnotherClass(dep1,dep2);\nanotherClass.someAction();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","jpastreamer"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689248648,"post_id":76678940,"comment_id":135188190,"body_markdown":"Mock objects are just stubs with no internal logic/fields. My guess would be the `stream()` function that is called before the `filter` call.","body":"Mock objects are just stubs with no internal logic/fields. My guess would be the <code>stream()</code> function that is called before the <code>filter</code> call."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689249708,"post_id":76678940,"comment_id":135188413,"body_markdown":"`personStreamMock` and `filteredStreamMock ` aren&#39;t a mock. So trying to register behavior won&#39;t do anything. Also what do you think you are testing here? You are mainly testing mockito here there is no real business code involved.","body":"<code>personStreamMock</code> and <code>filteredStreamMock </code> aren&#39;t a mock. So trying to register behavior won&#39;t do anything. Also what do you think you are testing here? You are mainly testing mockito here there is no real business code involved."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689249894,"post_id":76678940,"comment_id":135188452,"body_markdown":"@M.Deinum How can I mock personStreamMock and filteredStreamMock?","body":"@M.Deinum How can I mock personStreamMock and filteredStreamMock?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689249988,"post_id":76678940,"comment_id":135188464,"body_markdown":"I think you should step back and see what you are testing, as you are n&#39;t really testing anything. You are better of writing a small integration test for this which does actually something.","body":"I think you should step back and see what you are testing, as you are n&#39;t really testing anything. You are better of writing a small integration test for this which does actually something."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689250105,"post_id":76678940,"comment_id":135188485,"body_markdown":"@M.Deinum I already wrote its integration test before.","body":"@M.Deinum I already wrote its integration test before."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689250367,"post_id":76678940,"comment_id":135188520,"body_markdown":"@LenglBoy Which line throws an issue according to you?","body":"@LenglBoy Which line throws an issue according to you?"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690616905,"creation_date":1690616905,"answer_id":76792582,"question_id":76678940,"body_markdown":"After defining jpastreamer configuration in the project, the issue disappeared.\r\n\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JPAStreamerConfig {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        @Bean\r\n        public JPAStreamer jpaStreamer() {\r\n            return JPAStreamer.of(entityManagerFactory);\r\n        }\r\n    \r\n    }","title":"Spring Boot Jpastreamer - java.lang.NullPointerException in JUnit Test","body":"<p>After defining jpastreamer configuration in the project, the issue disappeared.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class JPAStreamerConfig {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public JPAStreamer jpaStreamer() {\n        return JPAStreamer.of(entityManagerFactory);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76792582,"answer_count":1,"score":0,"last_activity_date":1690616905,"creation_date":1689248185,"question_id":76678940,"body_markdown":"I have a problem to write JUnit test for Jpastreamer in MY Spring Boot app.\r\n\r\nHere is the service shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class PersonService {\r\n    \r\n        private final JPAStreamer jpaStreamer;\r\n    \r\n        public List&lt;Person&gt; findByAgeForJpaStreamer(Integer age) {\r\n            return jpaStreamer.stream(Person.class).\r\n                    filter(Person$.age.equal(age)).\r\n                    collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\nHere is the BaseServiceTest shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public abstract class BaseServiceTest {\r\n    }\r\n\r\nHere is PersonServiceTest shown below\r\n\r\n    class PersonServiceTest extends BaseServiceTest {\r\n    \r\n        @InjectMocks\r\n        private PersonService personService;\r\n    \r\n        @Mock\r\n        private JPAStreamer jpaStreamer;\r\n    \r\n        private List&lt;Person&gt; personList;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            personList = Arrays.asList(\r\n                    Person.builder().id(1L).firstName(&quot;John&quot;).lastName(&quot;Doe&quot;).age(33).birthday(LocalDate.of(1990, 5, 15)).build(),\r\n                    Person.builder().id(2L).firstName(&quot;Jane&quot;).lastName(&quot;Smith&quot;).age(27).birthday(LocalDate.of(1996, 9, 20)).build(),\r\n                    Person.builder().id(3L).firstName(&quot;David&quot;).lastName(&quot;Johnson&quot;).age(32).birthday(LocalDate.of(1991, 9, 20)).build()\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testJpaStreamerFindByAge() {\r\n    \r\n            // given\r\n            Stream&lt;Person&gt; personStreamMock = personList.stream();\r\n            Stream&lt;Person&gt; filteredStreamMock = personStreamMock\r\n                    .filter(person -&gt; person.getAge() == 32);\r\n            List&lt;Person&gt; collectedListMock = filteredStreamMock.collect(Collectors.toList());\r\n    \r\n            // whwn\r\n            Mockito.when(jpaStreamer.stream(Person.class)).thenReturn(personStreamMock);\r\n            Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\r\n            Mockito.when(filteredStreamMock.collect(Collectors.toList())).thenReturn(collectedListMock);\r\n    \r\n            // then\r\n            List&lt;Person&gt; actualPersons = personService.findByAgeForJpaStreamer(32);\r\n    \r\n            // Assert the result\r\n            assertEquals(collectedListMock, actualPersons);\r\n            assertEquals(collectedListMock.size(), actualPersons.size());\r\n    \r\n            // Assert each person&#39;s properties\r\n            for (int i = 0; i &lt; collectedListMock.size(); i++) {\r\n                assertEquals(collectedListMock.get(i).getId(), actualPersons.get(i).getId());\r\n                assertEquals(collectedListMock.get(i).getFirstName(), actualPersons.get(i).getFirstName());\r\n                assertEquals(collectedListMock.get(i).getLastName(), actualPersons.get(i).getLastName());\r\n                assertEquals(collectedListMock.get(i).getAge(), actualPersons.get(i).getAge());\r\n                assertEquals(collectedListMock.get(i).getBirthday(), actualPersons.get(i).getBirthday());\r\n            }\r\n    \r\n            // Verify the JPAStreamer method calls\r\n            Mockito.verify(jpaStreamer, Mockito.times(1)).stream(Person.class);\r\n            Mockito.verify(personStreamMock, Mockito.times(1)).filter(Mockito.any());\r\n            Mockito.verify(filteredStreamMock, Mockito.times(1)).collect(Collectors.toList());\r\n        }\r\n\r\nI have a problem in that line \r\n\r\n    Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\r\n    \r\nIt throws null pointer exception.\r\n\r\nHow can I fix it?","title":"Spring Boot Jpastreamer - java.lang.NullPointerException in JUnit Test","body":"<p>I have a problem to write JUnit test for Jpastreamer in MY Spring Boot app.</p>\n<p>Here is the service shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final JPAStreamer jpaStreamer;\n\n    public List&lt;Person&gt; findByAgeForJpaStreamer(Integer age) {\n        return jpaStreamer.stream(Person.class).\n                filter(Person$.age.equal(age)).\n                collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>Here is the BaseServiceTest shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;test&quot;)\npublic abstract class BaseServiceTest {\n}\n</code></pre>\n<p>Here is PersonServiceTest shown below</p>\n<pre><code>class PersonServiceTest extends BaseServiceTest {\n\n    @InjectMocks\n    private PersonService personService;\n\n    @Mock\n    private JPAStreamer jpaStreamer;\n\n    private List&lt;Person&gt; personList;\n\n    @BeforeEach\n    public void setup() {\n        personList = Arrays.asList(\n                Person.builder().id(1L).firstName(&quot;John&quot;).lastName(&quot;Doe&quot;).age(33).birthday(LocalDate.of(1990, 5, 15)).build(),\n                Person.builder().id(2L).firstName(&quot;Jane&quot;).lastName(&quot;Smith&quot;).age(27).birthday(LocalDate.of(1996, 9, 20)).build(),\n                Person.builder().id(3L).firstName(&quot;David&quot;).lastName(&quot;Johnson&quot;).age(32).birthday(LocalDate.of(1991, 9, 20)).build()\n        );\n    }\n\n    @Test\n    public void testJpaStreamerFindByAge() {\n\n        // given\n        Stream&lt;Person&gt; personStreamMock = personList.stream();\n        Stream&lt;Person&gt; filteredStreamMock = personStreamMock\n                .filter(person -&gt; person.getAge() == 32);\n        List&lt;Person&gt; collectedListMock = filteredStreamMock.collect(Collectors.toList());\n\n        // whwn\n        Mockito.when(jpaStreamer.stream(Person.class)).thenReturn(personStreamMock);\n        Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\n        Mockito.when(filteredStreamMock.collect(Collectors.toList())).thenReturn(collectedListMock);\n\n        // then\n        List&lt;Person&gt; actualPersons = personService.findByAgeForJpaStreamer(32);\n\n        // Assert the result\n        assertEquals(collectedListMock, actualPersons);\n        assertEquals(collectedListMock.size(), actualPersons.size());\n\n        // Assert each person's properties\n        for (int i = 0; i &lt; collectedListMock.size(); i++) {\n            assertEquals(collectedListMock.get(i).getId(), actualPersons.get(i).getId());\n            assertEquals(collectedListMock.get(i).getFirstName(), actualPersons.get(i).getFirstName());\n            assertEquals(collectedListMock.get(i).getLastName(), actualPersons.get(i).getLastName());\n            assertEquals(collectedListMock.get(i).getAge(), actualPersons.get(i).getAge());\n            assertEquals(collectedListMock.get(i).getBirthday(), actualPersons.get(i).getBirthday());\n        }\n\n        // Verify the JPAStreamer method calls\n        Mockito.verify(jpaStreamer, Mockito.times(1)).stream(Person.class);\n        Mockito.verify(personStreamMock, Mockito.times(1)).filter(Mockito.any());\n        Mockito.verify(filteredStreamMock, Mockito.times(1)).collect(Collectors.toList());\n    }\n</code></pre>\n<p>I have a problem in that line</p>\n<pre><code>Mockito.when(personStreamMock.filter(Mockito.any())).thenReturn(filteredStreamMock);\n</code></pre>\n<p>It throws null pointer exception.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","android","xml","components","bottomnavigationview"],"owner":{"account_id":28242847,"reputation":11,"user_id":21590375,"display_name":"prog "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690616731,"creation_date":1690616731,"question_id":76792573,"body_markdown":"hello i do this navigtion in xml project but i dont know how i can do it again in compose project i will put all bellow and what i tried for do that \r\n\r\n[this is in xml what i ned to do it again in compose with the same look maybe and i will put the codes for it in xml and java][1]\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#1D53AF&quot;\r\n        tools:context=&quot;.testMain&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/container&quot;\r\n            android:layout_width=&quot;417dp&quot;\r\n            android:layout_height=&quot;602dp&quot;\r\n            android:layout_above=&quot;@+id/navigation&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;-6dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:layout_marginBottom=&quot;0dp&quot;\r\n            android:background=&quot;@color/home_20&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/navigation&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;androidx.viewpager.widget.ViewPager\r\n            android:id=&quot;@+id/viewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/navigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@drawable/nevc&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:itemIconTint=&quot;@drawable/icon_selector&quot;\r\n            app:itemTextColor=&quot;@color/bottom_navigation_colors&quot;\r\n            app:menu=&quot;@menu/nav_item&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n    java`  bottomNavigationView = findViewById(R.id.navigation);\r\n            viewPager = findViewById(R.id.viewPager);\r\n    \r\n            // تعيين adapter لـ ViewPager\r\n            ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n            viewPager.setAdapter(adapter);\r\n            viewPager.setOffscreenPageLimit(4);\r\n    \r\n            // تعيين listener لـ BottomNavigationView\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    switch (item.getItemId()) {\r\n                        case R.id.home:\r\n                            viewPager.setCurrentItem(0);\r\n                            break;\r\n                        case R.id.cart:\r\n                            viewPager.setCurrentItem(1);\r\n                            break;\r\n                        case R.id.massage:\r\n                            viewPager.setCurrentItem(2);\r\n                            break;\r\n                        case R.id.profile:\r\n                            viewPager.setCurrentItem(3);\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            // إنشاء BadgeDrawable وتعيينه للأيقونة المراد إظهار الرقم فوقها\r\n            BadgeDrawable chatBadge = bottomNavigationView.getOrCreateBadge(R.id.massage);\r\n            // تعيين القيمة الصحيحة لـ BadgeDrawable\r\n            chatBadge.setNumber(1);\r\n    \r\n    \r\n    // تعيين النص المخصص لـ BadgeDrawable عند تجاوز القيمة 999\r\n            if (chatBadge.getNumber() &gt; 999) {\r\n                chatBadge.setNumber(999);\r\n                chatBadge.setVisible(true);\r\n                chatBadge.setNumber(999);\r\n                chatBadge.setMaxCharacterCount(3);\r\n            } else {\r\n                chatBadge.setVisible(chatBadge.getNumber() &gt; 0);\r\n            }\r\n    \r\n    \r\n            // تعيين الألوان المختلفة لـ BadgeDrawable\r\n            chatBadge.setBackgroundColor(ContextCompat.getColor(this, R.color.red));\r\n            chatBadge.setBadgeTextColor(ContextCompat.getColor(this, R.color.white));\r\n            chatBadge.setTextAppearance(R.style.BadgeTextStyle);\r\n    \r\n    \r\n    \r\n            // تعيين listener لـ ViewPager لتحديث حالة BottomNavigationView\r\n            viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n                @Override\r\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                }\r\n    \r\n                @Override\r\n                public void onPageSelected(int position) {\r\n                    bottomNavigationView.getMenu().getItem(position).setChecked(true);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageScrollStateChanged(int state) {\r\n                }\r\n            });\r\n    \r\n    \r\n            // تعيين عنوان الصفحة الرئيسية\r\n    \r\n    \r\n    \r\n    \r\n            BottomNavigationView bottomNavigationView = findViewById(R.id.navigation);\r\n            Menu menu = bottomNavigationView.getMenu();\r\n    \r\n            MenuItem homeMenuItem = menu.findItem(R.id.home);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                homeMenuItem.setTitle(R.string.home_text);\r\n            } else {\r\n                homeMenuItem.setTitle(&quot;Home&quot;);\r\n            }\r\n    // تعيين عنوان العنصر الثاني في القائمة\r\n            MenuItem cartMenuItem = menu.findItem(R.id.cart);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                cartMenuItem.setTitle(R.string.cart_text);\r\n            } else {\r\n                cartMenuItem.setTitle(&quot;Cart&quot;);\r\n            }\r\n    \r\n    // تعيين عنوان العنصر الثالث في القائمة\r\n            MenuItem messageMenuItem = menu.findItem(R.id.massage);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                messageMenuItem.setTitle(R.string.message_text);\r\n            } else {\r\n                messageMenuItem.setTitle(&quot;Message&quot;);\r\n            }\r\n    \r\n    // تعيين عنوان العنصر الرابع في القائمة\r\n            MenuItem profileMenuItem = menu.findItem(R.id.profile);\r\n            if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\r\n                profileMenuItem.setTitle(R.string.profile_text);\r\n            } else {\r\n                profileMenuItem.setTitle(&quot;Profile&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        // adapter لـ ViewPager\r\n        private static class ViewPagerAdapter extends FragmentStatePagerAdapter {\r\n    \r\n            public ViewPagerAdapter(FragmentManager fm) {\r\n                super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Fragment getItem(int position) {\r\n                switch (position) {\r\n                    case 0:\r\n                        return new homeFragment();\r\n                    case 1:\r\n                        return new RewardsFragment();\r\n                    case 2:\r\n                        return new chatFragment();\r\n                    case 3:\r\n                        return new ProfileFragment();\r\n                    default:\r\n                        return null;\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public int getCount() {\r\n                return 4;\r\n            }\r\n    \r\n    \r\n        }\r\n    `\r\n\r\nthats for badges and for control with viewbager\r\n\r\nand what i make in compose \r\n\r\n[here is tthe nav in compose what i need in it is add shap or corner or any thing to make it like the xml nav i tried shap but got this error Unresolved reference: shap\r\ni dont know i should make it in m3 or not for make that so i need help to know i will put the codes now(also i tried badge But I didn&#39;t see anything about it when I ran the app][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXOgE.png\r\n  [2]: https://i.stack.imgur.com/iRPmc.png\r\n\r\ncompose nav code \r\n\r\n    package com.example.esca\r\n    \r\n    import androidx.annotation.DrawableRes\r\n    import androidx.compose.material.BottomNavigation\r\n    import androidx.compose.material.BottomNavigationItem\r\n    import androidx.compose.material.Icon\r\n    import androidx.compose.material.Text\r\n    import androidx.compose.runtime.Composable\r\n    import androidx.compose.runtime.getValue\r\n    import androidx.compose.ui.graphics.Color.Companion.Blue\r\n    import androidx.compose.ui.res.painterResource\r\n    import androidx.navigation.NavController\r\n    import androidx.navigation.NavGraph.Companion.findStartDestination\r\n    import androidx.navigation.NavHostController\r\n    import androidx.navigation.compose.NavHost\r\n    import androidx.navigation.compose.composable\r\n    import androidx.navigation.compose.currentBackStackEntryAsState\r\n    import com.example.esca.screens.HomeScreen\r\n    \r\n    sealed class ScreensNav(val title: String, val route: String, @DrawableRes val icons: Int ) {\r\n    \r\n        object Home : ScreensNav(\r\n            title = &quot;home&quot;,\r\n            route = &quot;home_route&quot;,\r\n            icons = R.drawable.home_24\r\n        )\r\n    \r\n        object chat : ScreensNav(\r\n            title = &quot;massge&quot;,\r\n            route = &quot;chat_route&quot;,\r\n            icons = R.drawable.message\r\n        )\r\n    \r\n        object profile : ScreensNav(\r\n            title = &quot;profile&quot;,\r\n            route = &quot;profile_route&quot;,\r\n            icons = R.drawable.profile\r\n        )\r\n    }\r\n    \r\n    @Composable\r\n    fun BottomNavHost(navHostController: NavHostController){\r\n    \r\n            NavHost(\r\n                navController = navHostController,\r\n                startDestination = ScreensNav.Home.route\r\n            ){\r\n                composable(route = ScreensNav.Home.route){\r\n                    HomeScreen()\r\n                }\r\n                composable(route = ScreensNav.chat.route){\r\n    \r\n                    chatScreen()\r\n    \r\n                }\r\n                composable(route = ScreensNav.profile.route){\r\n    \r\n                    SearchScreen()\r\n    \r\n                }\r\n            }\r\n    }\r\n    \r\n    \r\n    \r\n    @Composable\r\n    fun BottomNavScreens(navController: NavController, item: List&lt;ScreensNav&gt;){\r\n    \r\n        val navBackStackEntry by navController.currentBackStackEntryAsState()\r\n        val currentDestination = navBackStackEntry?.destination\r\n        BottomNavigation(\r\n            modifier = androidx.compose.ui.Modifier,\r\n            backgroundColor = Blue,\r\n    \r\n        ) {\r\n    \r\n            item.forEach{ screens -&gt;\r\n    \r\n    \r\n                BottomNavigationItem(\r\n                    selected =currentDestination?.route == screens.route,\r\n                    onClick = {\r\n    \r\n                              navController.navigate(screens.route){\r\n                                  launchSingleTop = true\r\n    \r\n                                  popUpTo(navController.graph.findStartDestination().id){\r\n    \r\n                                      saveState = true\r\n                                  }\r\n                                  restoreState = true\r\n                              }\r\n                              },\r\n                    icon ={\r\n                        Icon(painter = painterResource(id = screens.icons), contentDescription = null )\r\n    \r\n                          },\r\n                    label = {Text(screens.title)}\r\n                )\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand the activty for nav \r\n\r\n    @file:OptIn(ExperimentalMaterial3Api::class)\r\n    \r\n    package com.example.esca\r\n    \r\n    import android.annotation.SuppressLint\r\n    import android.os.Bundle\r\n    import androidx.activity.ComponentActivity\r\n    import androidx.activity.compose.setContent\r\n    import androidx.compose.foundation.layout.fillMaxSize\r\n    import androidx.compose.material3.*\r\n    import androidx.compose.runtime.Composable\r\n    import androidx.compose.ui.Modifier\r\n    import androidx.compose.ui.tooling.preview.Preview\r\n    import androidx.navigation.compose.rememberNavController\r\n    import com.example.esca.screens.ui.theme.EscaTheme\r\n    \r\n    class ty2 : ComponentActivity() {\r\n        @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\r\n        @OptIn(ExperimentalMaterial3Api::class)\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContent {\r\n    \r\n                val listItem = listOf(\r\n    \r\n                    ScreensNav.Home,\r\n                    ScreensNav.chat,\r\n                    ScreensNav.profile,\r\n    \r\n    \r\n    \r\n                    )\r\n                // remember navController so it does not\r\n                // get recreated on recomposition\r\n                val navController = rememberNavController()\r\n                EscaTheme {\r\n    \r\n    \r\n                    Surface(\r\n    \r\n                        modifier = Modifier\r\n                            .fillMaxSize(),\r\n                        color = MaterialTheme.colorScheme.background\r\n                    ) {\r\n                        // Scaffold Component\r\n                        Scaffold(\r\n                            // Bottom navigation\r\n                            bottomBar = {\r\n                                BottomNavScreens(navController = navController,  item = listItem)\r\n                            }){\r\n    \r\n                            BottomNavHost(navHostController = navController)\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    @Composable\r\n    fun SearchScreen() {\r\n        Text(text = &quot;Search Screen&quot;)\r\n    }\r\n    \r\n    @Composable\r\n    fun ProfileScreen() {\r\n        Text(text = &quot;Profile Screen&quot;)\r\n    }\r\n    \r\n    \r\n    \r\n    @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\r\n    @Preview(showBackground = true)\r\n    @Composable\r\n    fun EscaPreview() {\r\n        val listItem = listOf(\r\n            ScreensNav.Home,\r\n            ScreensNav.chat,\r\n            ScreensNav.profile\r\n        )\r\n        val navController = rememberNavController()\r\n        EscaTheme {\r\n            Scaffold(\r\n                bottomBar = { BottomNavScreens(navController = navController, item = listItem) }\r\n            ) {\r\n                BottomNavHost(navHostController = navController)\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how to make bottomnavigtion in compose like xml and java","body":"<p>hello i do this navigtion in xml project but i dont know how i can do it again in compose project i will put all bellow and what i tried for do that</p>\n<p><a href=\"https://i.stack.imgur.com/jXOgE.png\" rel=\"nofollow noreferrer\">this is in xml what i ned to do it again in compose with the same look maybe and i will put the codes for it in xml and java</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#1D53AF&quot;\n    tools:context=&quot;.testMain&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;417dp&quot;\n        android:layout_height=&quot;602dp&quot;\n        android:layout_above=&quot;@+id/navigation&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;-6dp&quot;\n        android:layout_marginTop=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;0dp&quot;\n        android:background=&quot;@color/home_20&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/navigation&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.viewpager.widget.ViewPager\n        android:id=&quot;@+id/viewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@drawable/nevc&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:itemIconTint=&quot;@drawable/icon_selector&quot;\n        app:itemTextColor=&quot;@color/bottom_navigation_colors&quot;\n        app:menu=&quot;@menu/nav_item&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n\n\njava`  bottomNavigationView = findViewById(R.id.navigation);\n        viewPager = findViewById(R.id.viewPager);\n\n        // تعيين adapter لـ ViewPager\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n        viewPager.setAdapter(adapter);\n        viewPager.setOffscreenPageLimit(4);\n\n        // تعيين listener لـ BottomNavigationView\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.home:\n                        viewPager.setCurrentItem(0);\n                        break;\n                    case R.id.cart:\n                        viewPager.setCurrentItem(1);\n                        break;\n                    case R.id.massage:\n                        viewPager.setCurrentItem(2);\n                        break;\n                    case R.id.profile:\n                        viewPager.setCurrentItem(3);\n                        break;\n                }\n                return true;\n            }\n        });\n\n\n\n        // إنشاء BadgeDrawable وتعيينه للأيقونة المراد إظهار الرقم فوقها\n        BadgeDrawable chatBadge = bottomNavigationView.getOrCreateBadge(R.id.massage);\n        // تعيين القيمة الصحيحة لـ BadgeDrawable\n        chatBadge.setNumber(1);\n\n\n// تعيين النص المخصص لـ BadgeDrawable عند تجاوز القيمة 999\n        if (chatBadge.getNumber() &gt; 999) {\n            chatBadge.setNumber(999);\n            chatBadge.setVisible(true);\n            chatBadge.setNumber(999);\n            chatBadge.setMaxCharacterCount(3);\n        } else {\n            chatBadge.setVisible(chatBadge.getNumber() &gt; 0);\n        }\n\n\n        // تعيين الألوان المختلفة لـ BadgeDrawable\n        chatBadge.setBackgroundColor(ContextCompat.getColor(this, R.color.red));\n        chatBadge.setBadgeTextColor(ContextCompat.getColor(this, R.color.white));\n        chatBadge.setTextAppearance(R.style.BadgeTextStyle);\n\n\n\n        // تعيين listener لـ ViewPager لتحديث حالة BottomNavigationView\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                bottomNavigationView.getMenu().getItem(position).setChecked(true);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n            }\n        });\n\n\n        // تعيين عنوان الصفحة الرئيسية\n\n\n\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.navigation);\n        Menu menu = bottomNavigationView.getMenu();\n\n        MenuItem homeMenuItem = menu.findItem(R.id.home);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            homeMenuItem.setTitle(R.string.home_text);\n        } else {\n            homeMenuItem.setTitle(&quot;Home&quot;);\n        }\n// تعيين عنوان العنصر الثاني في القائمة\n        MenuItem cartMenuItem = menu.findItem(R.id.cart);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            cartMenuItem.setTitle(R.string.cart_text);\n        } else {\n            cartMenuItem.setTitle(&quot;Cart&quot;);\n        }\n\n// تعيين عنوان العنصر الثالث في القائمة\n        MenuItem messageMenuItem = menu.findItem(R.id.massage);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            messageMenuItem.setTitle(R.string.message_text);\n        } else {\n            messageMenuItem.setTitle(&quot;Message&quot;);\n        }\n\n// تعيين عنوان العنصر الرابع في القائمة\n        MenuItem profileMenuItem = menu.findItem(R.id.profile);\n        if (Locale.getDefault().getLanguage().equals(&quot;ar&quot;)) {\n            profileMenuItem.setTitle(R.string.profile_text);\n        } else {\n            profileMenuItem.setTitle(&quot;Profile&quot;);\n        }\n\n    }\n\n    // adapter لـ ViewPager\n    private static class ViewPagerAdapter extends FragmentStatePagerAdapter {\n\n        public ViewPagerAdapter(FragmentManager fm) {\n            super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n        }\n\n        @NonNull\n        @Override\n        public Fragment getItem(int position) {\n            switch (position) {\n                case 0:\n                    return new homeFragment();\n                case 1:\n                    return new RewardsFragment();\n                case 2:\n                    return new chatFragment();\n                case 3:\n                    return new ProfileFragment();\n                default:\n                    return null;\n            }\n        }\n\n        @Override\n        public int getCount() {\n            return 4;\n        }\n\n\n    }\n`\n</code></pre>\n<p>thats for badges and for control with viewbager</p>\n<p>and what i make in compose</p>\n<p><a href=\"https://i.stack.imgur.com/iRPmc.png\" rel=\"nofollow noreferrer\">here is tthe nav in compose what i need in it is add shap or corner or any thing to make it like the xml nav i tried shap but got this error Unresolved reference: shap\ni dont know i should make it in m3 or not for make that so i need help to know i will put the codes now(also i tried badge But I didn't see anything about it when I ran the app</a></p>\n<p>compose nav code</p>\n<pre><code>package com.example.esca\n\nimport androidx.annotation.DrawableRes\nimport androidx.compose.material.BottomNavigation\nimport androidx.compose.material.BottomNavigationItem\nimport androidx.compose.material.Icon\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.getValue\nimport androidx.compose.ui.graphics.Color.Companion.Blue\nimport androidx.compose.ui.res.painterResource\nimport androidx.navigation.NavController\nimport androidx.navigation.NavGraph.Companion.findStartDestination\nimport androidx.navigation.NavHostController\nimport androidx.navigation.compose.NavHost\nimport androidx.navigation.compose.composable\nimport androidx.navigation.compose.currentBackStackEntryAsState\nimport com.example.esca.screens.HomeScreen\n\nsealed class ScreensNav(val title: String, val route: String, @DrawableRes val icons: Int ) {\n\n    object Home : ScreensNav(\n        title = &quot;home&quot;,\n        route = &quot;home_route&quot;,\n        icons = R.drawable.home_24\n    )\n\n    object chat : ScreensNav(\n        title = &quot;massge&quot;,\n        route = &quot;chat_route&quot;,\n        icons = R.drawable.message\n    )\n\n    object profile : ScreensNav(\n        title = &quot;profile&quot;,\n        route = &quot;profile_route&quot;,\n        icons = R.drawable.profile\n    )\n}\n\n@Composable\nfun BottomNavHost(navHostController: NavHostController){\n\n        NavHost(\n            navController = navHostController,\n            startDestination = ScreensNav.Home.route\n        ){\n            composable(route = ScreensNav.Home.route){\n                HomeScreen()\n            }\n            composable(route = ScreensNav.chat.route){\n\n                chatScreen()\n\n            }\n            composable(route = ScreensNav.profile.route){\n\n                SearchScreen()\n\n            }\n        }\n}\n\n\n\n@Composable\nfun BottomNavScreens(navController: NavController, item: List&lt;ScreensNav&gt;){\n\n    val navBackStackEntry by navController.currentBackStackEntryAsState()\n    val currentDestination = navBackStackEntry?.destination\n    BottomNavigation(\n        modifier = androidx.compose.ui.Modifier,\n        backgroundColor = Blue,\n\n    ) {\n\n        item.forEach{ screens -&gt;\n\n\n            BottomNavigationItem(\n                selected =currentDestination?.route == screens.route,\n                onClick = {\n\n                          navController.navigate(screens.route){\n                              launchSingleTop = true\n\n                              popUpTo(navController.graph.findStartDestination().id){\n\n                                  saveState = true\n                              }\n                              restoreState = true\n                          }\n                          },\n                icon ={\n                    Icon(painter = painterResource(id = screens.icons), contentDescription = null )\n\n                      },\n                label = {Text(screens.title)}\n            )\n\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>and the activty for nav</p>\n<pre><code>@file:OptIn(ExperimentalMaterial3Api::class)\n\npackage com.example.esca\n\nimport android.annotation.SuppressLint\nimport android.os.Bundle\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.navigation.compose.rememberNavController\nimport com.example.esca.screens.ui.theme.EscaTheme\n\nclass ty2 : ComponentActivity() {\n    @SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\n    @OptIn(ExperimentalMaterial3Api::class)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n\n            val listItem = listOf(\n\n                ScreensNav.Home,\n                ScreensNav.chat,\n                ScreensNav.profile,\n\n\n\n                )\n            // remember navController so it does not\n            // get recreated on recomposition\n            val navController = rememberNavController()\n            EscaTheme {\n\n\n                Surface(\n\n                    modifier = Modifier\n                        .fillMaxSize(),\n                    color = MaterialTheme.colorScheme.background\n                ) {\n                    // Scaffold Component\n                    Scaffold(\n                        // Bottom navigation\n                        bottomBar = {\n                            BottomNavScreens(navController = navController,  item = listItem)\n                        }){\n\n                        BottomNavHost(navHostController = navController)\n                    }\n\n                }\n            }\n        }\n    }\n}\n\n\n\n\n\n@Composable\nfun SearchScreen() {\n    Text(text = &quot;Search Screen&quot;)\n}\n\n@Composable\nfun ProfileScreen() {\n    Text(text = &quot;Profile Screen&quot;)\n}\n\n\n\n@SuppressLint(&quot;UnusedMaterial3ScaffoldPaddingParameter&quot;)\n@Preview(showBackground = true)\n@Composable\nfun EscaPreview() {\n    val listItem = listOf(\n        ScreensNav.Home,\n        ScreensNav.chat,\n        ScreensNav.profile\n    )\n    val navController = rememberNavController()\n    EscaTheme {\n        Scaffold(\n            bottomBar = { BottomNavScreens(navController = navController, item = listItem) }\n        ) {\n            BottomNavHost(navHostController = navController)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1690568214,"post_id":76790149,"comment_id":135377017,"body_markdown":"Myguess is you are using `static` fields (i.e.`static ListNode head;`. They are global forthe class itself.","body":"Myguess is you are using <code>static</code> fields (i.e.<code>static ListNode head;</code>. They are global forthe class itself."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690568310,"post_id":76790149,"comment_id":135377028,"body_markdown":"Can you please elaborate? I did not get your point.","body":"Can you please elaborate? I did not get your point."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1690568563,"post_id":76790149,"comment_id":135377065,"body_markdown":"`head` should be a normal `MergeSinglyLinkedList` field. If you make it `static` you have a single global variable shared by all lists. Which would explain it.","body":"<code>head</code> should be a normal <code>MergeSinglyLinkedList</code> field. If you make it <code>static</code> you have a single global variable shared by all lists. Which would explain it."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690569036,"post_id":76790149,"comment_id":135377146,"body_markdown":"Please provide the code that is needed to run this and reproduce the issue.","body":"Please provide the code that is needed to run this and reproduce the issue."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690569206,"post_id":76790149,"comment_id":135377185,"body_markdown":"All the code snippet is mentioned above, please check.\n&#39;    private static ListNode head;\n\n    private static class ListNode {\n        private int data;\n        private ListNode next;\n\n        public ListNode(int data) {\n            this.data = data;\n            this.next = null;\n        }\n    }&#39;\n\n@trincot","body":"All the code snippet is mentioned above, please check. &#39;    private static ListNode head;      private static class ListNode {         private int data;         private ListNode next;          public ListNode(int data) {             this.data = data;             this.next = null;         }     }&#39;  @trincot"},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690569252,"post_id":76790149,"comment_id":135377188,"body_markdown":"@JoopEggen please mention the code snippet that can be used to resolve the issue?","body":"@JoopEggen please mention the code snippet that can be used to resolve the issue?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690569298,"post_id":76790149,"comment_id":135377192,"body_markdown":"@RishabSud, the definition of the `ListNode` class should be in your question, not in a comment. But now that you have shared `static ListNode head` ... it is clear that the first comment above is right on target. That&#39;s your problem. It means there is only one `head` even if you have multiple instances of `ListNode`. And obviously you need two heads here, not one.","body":"@RishabSud, the definition of the <code>ListNode</code> class should be in your question, not in a comment. But now that you have shared <code>static ListNode head</code> ... it is clear that the first comment above is right on target. That&#39;s your problem. It means there is only one <code>head</code> even if you have multiple instances of <code>ListNode</code>. And obviously you need two heads here, not one."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690570596,"post_id":76790149,"comment_id":135377375,"body_markdown":"oh okay, sorry I missed that part @trincot. Thanks for the solution. I will try and update accordingly.","body":"oh okay, sorry I missed that part @trincot. Thanks for the solution. I will try and update accordingly."},{"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"score":0,"creation_date":1690615554,"post_id":76790149,"comment_id":135380850,"body_markdown":"@trincot I tried the below solution and it works for me. I have answered the question.","body":"@trincot I tried the below solution and it works for me. I have answered the question."}],"answers":[{"tags":[],"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690615498,"creation_date":1690615498,"answer_id":76792502,"question_id":76790149,"body_markdown":"&gt;    private ListNode head;\r\n&gt; \r\n&gt;     private static class ListNode {\r\n&gt;         private int data;\r\n&gt;         private ListNode next;\r\n&gt; \r\n&gt;         public ListNode(int data) {\r\n&gt;             this.data = data;\r\n&gt;             this.next = null;\r\n&gt;         }\r\n&gt;     }\r\n\r\nThere is only one head even if I have multiple instances of ListNode because in definition of head, `static` keyword is used. Hence if we make another `ListNode head` or remove the `static` from the existing defintion, the output will be as follows:\r\n\r\n&gt; 1--&gt;5--&gt;9--&gt;11--&gt;null\r\n&gt; 2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null","title":"Two Linked Lists are not being printed separately while being displayed","body":"<blockquote>\n<p>private ListNode head;</p>\n<pre><code>private static class ListNode {\n    private int data;\n    private ListNode next;\n\n    public ListNode(int data) {\n        this.data = data;\n        this.next = null;\n    }\n}\n</code></pre>\n</blockquote>\n<p>There is only one head even if I have multiple instances of ListNode because in definition of head, <code>static</code> keyword is used. Hence if we make another <code>ListNode head</code> or remove the <code>static</code> from the existing defintion, the output will be as follows:</p>\n<blockquote>\n<p>1--&gt;5--&gt;9--&gt;11--&gt;null\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null</p>\n</blockquote>\n"}],"owner":{"account_id":27610618,"reputation":9,"user_id":21073827,"display_name":"Rishab Sud"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690615498,"creation_date":1690567723,"question_id":76790149,"body_markdown":"    public class MergeSinglyLinkedList {\r\n\r\n    private static ListNode head;\r\n\r\n    private static class ListNode {\r\n        private int data;\r\n        private ListNode next;\r\n\r\n        public ListNode(int data) {\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n&gt; ```\r\n&gt;    public static void main(String[] args) {\r\n&gt;         MergeSinglyLinkedList sll1 = new MergeSinglyLinkedList();\r\n&gt;         sll1.insertAtLast(1);\r\n&gt;         sll1.insertAtLast(5);\r\n&gt;         sll1.insertAtLast(9);\r\n&gt;         sll1.insertAtLast(11);\r\n&gt; \r\n&gt;         MergeSinglyLinkedList sll2 = new MergeSinglyLinkedList();\r\n&gt;         sll2.insertAtLast(2);\r\n&gt;         sll2.insertAtLast(3);\r\n&gt;         sll2.insertAtLast(7);\r\n&gt;         sll2.insertAtLast(10);\r\n&gt;         sll2.insertAtLast(11);\r\n&gt;         sll2.insertAtLast(13);\r\n&gt;         sll2.insertAtLast(19);\r\n&gt;         sll2.insertAtLast(20);\r\n&gt;         \r\n&gt;         sll1.display();\r\n&gt;         sll2.display();\r\n&gt; }\r\n\r\n    public void insertAtLast(int value){\r\n        ListNode newNode = new ListNode(value);\r\n        if(head==null){\r\n            head=newNode;\r\n            return;\r\n        }\r\n        ListNode current = head;\r\n        while (null!=current.next){\r\n            current= current.next;\r\n        }\r\n        current.next=newNode;\r\n    }\r\n\r\n    &gt;     public void display(){\r\n            ListNode current=head;\r\n            int count=0;\r\n            while (current!=null){\r\n                System.out.print(current.data+&quot;--&gt;&quot;);\r\n                count++;\r\n                current=current.next;\r\n            }\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n\r\nThis is my piece of code I am trying to execute in intelliJ. The output I expect is:\r\n\r\n```\r\n1--&gt;5--&gt;9--&gt;11--&gt;null\r\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n```\r\n\r\nBut instead, the output I am getting is\r\n\r\n&gt; 1--\\&gt;5--\\&gt;9--\\&gt;11--\\&gt;2--\\&gt;3--\\&gt;7--\\&gt;10--\\&gt;11--\\&gt;13--\\&gt;19--\\&gt;20--\\&gt;null\r\n\r\nI tried making a separate **display1()** function and then calling to print the Linked Lists as follwing:\r\n\r\n```\r\npublic void display(){\r\n        ListNode current=head;\r\n        int count=0;\r\n        while (current!=null){\r\n            System.out.print(current.data+&quot;--&gt;&quot;);\r\n            count++;\r\n            current=current.next;\r\n        }\r\n        System.out.println(&quot;null&quot;);\r\n    }\r\n\r\n    public void display1(){\r\n        ListNode current=head;\r\n        int count=0;\r\n        while (current!=null){\r\n            System.out.print(current.data+&quot;--&gt;&quot;);\r\n            count++;\r\n            current=current.next;\r\n        }\r\n        System.out.println(&quot;null&quot;);\r\n    }\r\n```\r\n\r\nAnd then calling both the functions separately as:\r\n\r\n```\r\nsll1.display();\r\nsll2.display1();\r\n```\r\n\r\nbut still, the output is:\r\n\r\n```\r\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\r\n```\r\n\r\nI am not sure what I am doing wrong, can somebody help me please?","title":"Two Linked Lists are not being printed separately while being displayed","body":"<pre><code>public class MergeSinglyLinkedList {\n\nprivate static ListNode head;\n\nprivate static class ListNode {\n    private int data;\n    private ListNode next;\n\n    public ListNode(int data) {\n        this.data = data;\n        this.next = null;\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>   public static void main(String[] args) {\n        MergeSinglyLinkedList sll1 = new MergeSinglyLinkedList();\n        sll1.insertAtLast(1);\n        sll1.insertAtLast(5);\n        sll1.insertAtLast(9);\n        sll1.insertAtLast(11);\n\n        MergeSinglyLinkedList sll2 = new MergeSinglyLinkedList();\n        sll2.insertAtLast(2);\n        sll2.insertAtLast(3);\n        sll2.insertAtLast(7);\n        sll2.insertAtLast(10);\n        sll2.insertAtLast(11);\n        sll2.insertAtLast(13);\n        sll2.insertAtLast(19);\n        sll2.insertAtLast(20);\n        \n        sll1.display();\n        sll2.display();\n}\n</code></pre>\n</blockquote>\n<pre><code>public void insertAtLast(int value){\n    ListNode newNode = new ListNode(value);\n    if(head==null){\n        head=newNode;\n        return;\n    }\n    ListNode current = head;\n    while (null!=current.next){\n        current= current.next;\n    }\n    current.next=newNode;\n}\n\n&gt;     public void display(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n</code></pre>\n<p>This is my piece of code I am trying to execute in intelliJ. The output I expect is:</p>\n<pre><code>1--&gt;5--&gt;9--&gt;11--&gt;null\n2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n</code></pre>\n<p>But instead, the output I am getting is</p>\n<blockquote>\n<p>1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null</p>\n</blockquote>\n<p>I tried making a separate <strong>display1()</strong> function and then calling to print the Linked Lists as follwing:</p>\n<pre><code>public void display(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n\n    public void display1(){\n        ListNode current=head;\n        int count=0;\n        while (current!=null){\n            System.out.print(current.data+&quot;--&gt;&quot;);\n            count++;\n            current=current.next;\n        }\n        System.out.println(&quot;null&quot;);\n    }\n</code></pre>\n<p>And then calling both the functions separately as:</p>\n<pre><code>sll1.display();\nsll2.display1();\n</code></pre>\n<p>but still, the output is:</p>\n<pre><code>1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n1--&gt;5--&gt;9--&gt;11--&gt;2--&gt;3--&gt;7--&gt;10--&gt;11--&gt;13--&gt;19--&gt;20--&gt;null\n</code></pre>\n<p>I am not sure what I am doing wrong, can somebody help me please?</p>\n"},{"tags":["java","steganography","dct"],"comments":[{"owner":{"account_id":2587836,"reputation":9666,"user_id":2243104,"display_name":"Reti43"},"score":0,"creation_date":1394248711,"post_id":22262872,"comment_id":33818830,"body_markdown":"It&#39;s not clear what&#39;s troubling you about that step. The extraction process is the inverse of the embedding process and this knowledge is assumed. For example, if you had arranged it so that you embed in the 3rd and 5th coefficients, that&#39;s where you&#39;ll look to extract your message.","body":"It&#39;s not clear what&#39;s troubling you about that step. The extraction process is the inverse of the embedding process and this knowledge is assumed. For example, if you had arranged it so that you embed in the 3rd and 5th coefficients, that&#39;s where you&#39;ll look to extract your message."},{"owner":{"account_id":2532463,"reputation":599,"user_id":2200464,"accept_rate":79,"display_name":"Douglas Grealis"},"score":0,"creation_date":1394249418,"post_id":22262872,"comment_id":33818931,"body_markdown":"That could be done. I simply have it to alter every coefficient (not 1s, 0s or DC), for every block until the end of the message (no more bits to embed). So when I try to extract the LSBs of each coeeficient,  it tries to convert all bits together back into ASCII (which does not seem to be correct). Plus your idea, what if the 3rd or 5th coeffs were a 1 or a 0? And how could I tell it not to extract it, due to being a 1 or 0? Thats my problem","body":"That could be done. I simply have it to alter every coefficient (not 1s, 0s or DC), for every block until the end of the message (no more bits to embed). So when I try to extract the LSBs of each coeeficient,  it tries to convert all bits together back into ASCII (which does not seem to be correct). Plus your idea, what if the 3rd or 5th coeffs were a 1 or a 0? And how could I tell it not to extract it, due to being a 1 or 0? Thats my problem"},{"owner":{"account_id":2587836,"reputation":9666,"user_id":2243104,"display_name":"Reti43"},"score":0,"creation_date":1394250221,"post_id":22262872,"comment_id":33819056,"body_markdown":"Surely you can check the coefficient with an if statement before reading any LSBs of it. If it&#39;s 1 or 0, simply ignore it and move on. Naturally, this goes for both the embedding and extraction procedures.","body":"Surely you can check the coefficient with an if statement before reading any LSBs of it. If it&#39;s 1 or 0, simply ignore it and move on. Naturally, this goes for both the embedding and extraction procedures."}],"answers":[{"tags":[],"owner":{"account_id":26604059,"reputation":297,"user_id":20225232,"display_name":"Martin Benes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690614854,"creation_date":1690611768,"answer_id":76792309,"question_id":22262872,"body_markdown":"You choose a random path and follow it when going through the cover -  you randomly permute the indices of the array (using a key as a seed).\r\n\r\nThe problem with 1s and 0s when embedding in DCT domain is a well-studied topic. The final solution seems to be nsF5 steganographic embedding which uses wet-paper codes (WPC).\r\n\r\nAuthors&#39; [nsF5 implementation in Matlab](https://dde.binghamton.edu/download/nsf5simulator/) won&#39;t help you because it is simulation only and does not contain WPC. But it helped me understand how nsF5 works.\r\n\r\nWPC allows spreading message bits in a block of cover elements such that some of the cover elements are &quot;wet&quot; (costly to be changed).\r\nThere exist WPC implementations, such as Daniel Lerch&#39;s [stegolab in Python](https://github.com/daniellerch/stegolab/blob/master/codes/wet_paper_codes.py). If you want to deeply understand WPC down to the level of being able to implement it, you will have to read related research papers.\r\n\r\nLiterature\r\n\r\n- Westfeld: [F5 — A Steganographic Algorithm](https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=149b41d7560d7bd628da502bd3d8122a8317d472). 2001.\r\n- Fridrich, Pevn&#253;, Kodovsk&#253;: [Statistically Undetectable JPEG Steganography: Dead Ends, Challenges, and Opportunities](http://www.ws.binghamton.edu/fridrich/Research/fraction03.pdf). 2007.\r\n","title":"Steganography in JPEG","body":"<p>You choose a random path and follow it when going through the cover -  you randomly permute the indices of the array (using a key as a seed).</p>\n<p>The problem with 1s and 0s when embedding in DCT domain is a well-studied topic. The final solution seems to be nsF5 steganographic embedding which uses wet-paper codes (WPC).</p>\n<p>Authors' <a href=\"https://dde.binghamton.edu/download/nsf5simulator/\" rel=\"nofollow noreferrer\">nsF5 implementation in Matlab</a> won't help you because it is simulation only and does not contain WPC. But it helped me understand how nsF5 works.</p>\n<p>WPC allows spreading message bits in a block of cover elements such that some of the cover elements are &quot;wet&quot; (costly to be changed).\nThere exist WPC implementations, such as Daniel Lerch's <a href=\"https://github.com/daniellerch/stegolab/blob/master/codes/wet_paper_codes.py\" rel=\"nofollow noreferrer\">stegolab in Python</a>. If you want to deeply understand WPC down to the level of being able to implement it, you will have to read related research papers.</p>\n<p>Literature</p>\n<ul>\n<li>Westfeld: <a href=\"https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=149b41d7560d7bd628da502bd3d8122a8317d472\" rel=\"nofollow noreferrer\">F5 — A Steganographic Algorithm</a>. 2001.</li>\n<li>Fridrich, Pevný, Kodovský: <a href=\"http://www.ws.binghamton.edu/fridrich/Research/fraction03.pdf\" rel=\"nofollow noreferrer\">Statistically Undetectable JPEG Steganography: Dead Ends, Challenges, and Opportunities</a>. 2007.</li>\n</ul>\n"}],"owner":{"account_id":2532463,"reputation":599,"user_id":2200464,"accept_rate":79,"display_name":"Douglas Grealis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690614854,"creation_date":1394235864,"question_id":22262872,"body_markdown":"I am working on a Java Steganography project to hide a .txt message in a JPEG image. Broadly speaking, there are 4 steps:\r\n\r\n1. Transform each pixel block into 8x8 DCT coefficients.\r\n2. Quantitize each block with some complex calculations.\r\n3. Embed/replace each bit of the message into the LSB of the coefficients of each block.\r\n4. After embedding, perform the inverse DCT to re-create the JPEG image with the embedded message.\r\n\r\nI am stuck on the 3rd step, because I am not sure how I can record what coefficients I have altered with the message, in order to extract it back out?\r\n\r\nCan anyone recommend what ways I can embed each coefficient, and to record each embedding, in order to extract it back out?\r\n\r\nThis would be much appreciated. \r\n\r\n(Also I know that 1s and 0s, and the DC value should be left alone).","title":"Steganography in JPEG","body":"<p>I am working on a Java Steganography project to hide a .txt message in a JPEG image. Broadly speaking, there are 4 steps:</p>\n\n<ol>\n<li>Transform each pixel block into 8x8 DCT coefficients.</li>\n<li>Quantitize each block with some complex calculations.</li>\n<li>Embed/replace each bit of the message into the LSB of the coefficients of each block.</li>\n<li>After embedding, perform the inverse DCT to re-create the JPEG image with the embedded message.</li>\n</ol>\n\n<p>I am stuck on the 3rd step, because I am not sure how I can record what coefficients I have altered with the message, in order to extract it back out?</p>\n\n<p>Can anyone recommend what ways I can embed each coefficient, and to record each embedding, in order to extract it back out?</p>\n\n<p>This would be much appreciated. </p>\n\n<p>(Also I know that 1s and 0s, and the DC value should be left alone).</p>\n"},{"tags":["java","mysql","spring-boot","datetime-format","java-time"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690595474,"post_id":76791366,"comment_id":135379740,"body_markdown":"You really should be making use of time zones and ISO standardised formats - the “format” of the date in the database should otherwise be irrelevant","body":"You really should be making use of time zones and ISO standardised formats - the “format” of the date in the database should otherwise be irrelevant"}],"answers":[{"tags":[],"owner":{"account_id":11074556,"reputation":886,"user_id":8131699,"display_name":"Melih Sevim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690584960,"creation_date":1690584334,"answer_id":76791388,"question_id":76791366,"body_markdown":"Mysql column and data need to be in string, not date type if you want to store in d/m/Y format. BUT keep in mind that you won&#39;t be able to perform date/time-related queries efficiently. If you need to perform queries based on the date/time values, it&#39;s better to keep the standard datetime format in the database and format the values as needed when fetching them for display in the frontend or API response.\r\n\r\nOR\r\n\r\nYou can use this query,\r\n\r\n    SELECT *, DATE_FORMAT(created_date_time,&#39;%d/%m/%Y %H:%i:%s.%f&#39;) AS created_date_time_formatted\r\n    from card;","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>Mysql column and data need to be in string, not date type if you want to store in d/m/Y format. BUT keep in mind that you won't be able to perform date/time-related queries efficiently. If you need to perform queries based on the date/time values, it's better to keep the standard datetime format in the database and format the values as needed when fetching them for display in the frontend or API response.</p>\n<p>OR</p>\n<p>You can use this query,</p>\n<pre><code>SELECT *, DATE_FORMAT(created_date_time,'%d/%m/%Y %H:%i:%s.%f') AS created_date_time_formatted\nfrom card;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690613471,"creation_date":1690613471,"answer_id":76792398,"question_id":76791366,"body_markdown":"Please understand that `@CreatedDate`,`@DateTimeFormat` or `@JsonFormat` is not responsible for formatting dates in the database. \r\n\r\n`@JsonFormat` used for formatting dates during JSON serialization/deserialization, so it&#39;s responsible for formatting dates in the API responses, not in the DB.\r\n\r\n`@CreatedDate` used for automatically populating the `createdDateTime` field with the current date &amp; time when a new entity is persisted &amp; again has nothing to do with format in the DB.\r\n\r\nWhen a `LocalDateTime` obj is persisted to the DB, it gets converted to the corresponding date &amp; time data type supported by the DB (like `DATETIME` or `TIMESTAMP`) &amp; they are stored in their own internal representation.  MySql by default retrieves &amp; displays `DATETIME` columns in &#39;YYYY-MM-DD HH:MM:SS&#39; format.\r\n\r\nAs other answer had pointed out, you can simply change the format in which you retrieve the `DATETIME` column (like by using `DATE_FORMAT()` func) or you could store it as `VARCHAR` in your `dd/MM/yyyy HH:mm:ss.SSS` format. But storing as a `VARCHAR` is **not recommended**. ","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>Please understand that <code>@CreatedDate</code>,<code>@DateTimeFormat</code> or <code>@JsonFormat</code> is not responsible for formatting dates in the database.</p>\n<p><code>@JsonFormat</code> used for formatting dates during JSON serialization/deserialization, so it's responsible for formatting dates in the API responses, not in the DB.</p>\n<p><code>@CreatedDate</code> used for automatically populating the <code>createdDateTime</code> field with the current date &amp; time when a new entity is persisted &amp; again has nothing to do with format in the DB.</p>\n<p>When a <code>LocalDateTime</code> obj is persisted to the DB, it gets converted to the corresponding date &amp; time data type supported by the DB (like <code>DATETIME</code> or <code>TIMESTAMP</code>) &amp; they are stored in their own internal representation.  MySql by default retrieves &amp; displays <code>DATETIME</code> columns in 'YYYY-MM-DD HH:MM:SS' format.</p>\n<p>As other answer had pointed out, you can simply change the format in which you retrieve the <code>DATETIME</code> column (like by using <code>DATE_FORMAT()</code> func) or you could store it as <code>VARCHAR</code> in your <code>dd/MM/yyyy HH:mm:ss.SSS</code> format. But storing as a <code>VARCHAR</code> is <strong>not recommended</strong>.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690613471,"creation_date":1690583964,"question_id":76791366,"body_markdown":"I want to format date-times in a SpringBoot REST API I&#39;m building in the format `&quot;dd/MM/yyyy HH:mm:ss.SSS&quot;`. So I&#39;ve put it in a global constant:\r\n\r\n```java\r\npublic static final String GLOBAL_DATE_TIME_PATTERN = &quot;dd/MM/yyyy HH:mm:ss.SSS&quot;;\r\n```\r\n\r\nand I&#39;ve annotated my DTO&#39;s `LocalDateTime` field:\r\n\r\n```java\r\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\nprivate LocalDateTime createdDateTime;\r\n```\r\n\r\nas well as my entity&#39;s field:\r\n\r\n```java\r\n@Column(name = &quot;created_date_time&quot;, updatable = false)\r\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\r\n@CreatedDate\r\nprotected LocalDateTime createdDateTime;\r\n```\r\n\r\nI&#39;ve `POST`-ed a few payloads (they&#39;re supposed to represent tasks in the form of cards), and I&#39;m getting the `createdDateTime` field formatted exactly as I want it in response or after a `GET` by ID:\r\n\r\n```json\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;JC2&quot;,\r\n    .\r\n    .\r\n    .\r\n    &quot;createdDateTime&quot;: &quot;29/07/2023 01:07:49.096&quot;,\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\n\r\nUnfortunately, in my database (MySQL) the date is formatted differently:\r\n\r\n```sql\r\nmysql&gt; select id, created_date_time from card;\r\n+----+----------------------------+\r\n| id | created_date_time          |\r\n+----+----------------------------+\r\n|  1 | 2023-07-29 00:57:51.083969 |\r\n|  2 | 2023-07-29 01:07:49.096333 |\r\n+----+----------------------------+\r\n2 rows in set (0.00 sec)\r\n```\r\n\r\nI would like to have the database date/times formatted as `GLOBAL_DATE_TIME_PATTERN` dictates. I&#39;m wondering whether the `@CreatedDate` annotation is in any way interfering. Grateful for any help.","title":"LocalDateTime format ok in JSON, not ok in database","body":"<p>I want to format date-times in a SpringBoot REST API I'm building in the format <code>&quot;dd/MM/yyyy HH:mm:ss.SSS&quot;</code>. So I've put it in a global constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String GLOBAL_DATE_TIME_PATTERN = &quot;dd/MM/yyyy HH:mm:ss.SSS&quot;;\n</code></pre>\n<p>and I've annotated my DTO's <code>LocalDateTime</code> field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\nprivate LocalDateTime createdDateTime;\n</code></pre>\n<p>as well as my entity's field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;created_date_time&quot;, updatable = false)\n@DateTimeFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@JsonFormat(pattern = GLOBAL_DATE_TIME_PATTERN)\n@CreatedDate\nprotected LocalDateTime createdDateTime;\n</code></pre>\n<p>I've <code>POST</code>-ed a few payloads (they're supposed to represent tasks in the form of cards), and I'm getting the <code>createdDateTime</code> field formatted exactly as I want it in response or after a <code>GET</code> by ID:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;JC2&quot;,\n    .\n    .\n    .\n    &quot;createdDateTime&quot;: &quot;29/07/2023 01:07:49.096&quot;,\n    .\n    .\n    .\n}\n</code></pre>\n<p>Unfortunately, in my database (MySQL) the date is formatted differently:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>mysql&gt; select id, created_date_time from card;\n+----+----------------------------+\n| id | created_date_time          |\n+----+----------------------------+\n|  1 | 2023-07-29 00:57:51.083969 |\n|  2 | 2023-07-29 01:07:49.096333 |\n+----+----------------------------+\n2 rows in set (0.00 sec)\n</code></pre>\n<p>I would like to have the database date/times formatted as <code>GLOBAL_DATE_TIME_PATTERN</code> dictates. I'm wondering whether the <code>@CreatedDate</code> annotation is in any way interfering. Grateful for any help.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1690625537,"post_id":76792318,"comment_id":135381756,"body_markdown":"Does this answer your question? [RecyclerView with StaggeredGridLayoutManager : variable number of columns and vertically scrollable](https://stackoverflow.com/questions/59998188/recyclerview-with-staggeredgridlayoutmanager-variable-number-of-columns-and-ve)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59998188/recyclerview-with-staggeredgridlayoutmanager-variable-number-of-columns-and-ve\">RecyclerView with StaggeredGridLayoutManager : variable number of columns and vertically scrollable</a>"}],"owner":{"account_id":12559944,"reputation":37,"user_id":14286534,"display_name":"C. Augustus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690611924,"creation_date":1690611924,"question_id":76792318,"body_markdown":"Take GridLayoutManager as an example. The span sizes of every item are all 1 and the grid has 8 columns. In this case, a fully filled row should have 8 items within.\r\n\r\nHowever, for some rows, I want to leave some trailing blank space and the subsequent item should be placed in the next row. Since all spans are having a size of 1, it is not appropriate to stretch the item to occupy the whole row to make the next item be placed on the new row.\r\n\r\nI have been looking for answers in many places but still haven&#39;t found a workaround. Is it possible for GridLayout to do so? Or is it I have to use a custom layout extending LayoutManager?\r\n\r\nThanks for any suggestions.","title":"How to force a new row in Android&#39;s RecyclerView?","body":"<p>Take GridLayoutManager as an example. The span sizes of every item are all 1 and the grid has 8 columns. In this case, a fully filled row should have 8 items within.</p>\n<p>However, for some rows, I want to leave some trailing blank space and the subsequent item should be placed in the next row. Since all spans are having a size of 1, it is not appropriate to stretch the item to occupy the whole row to make the next item be placed on the new row.</p>\n<p>I have been looking for answers in many places but still haven't found a workaround. Is it possible for GridLayout to do so? Or is it I have to use a custom layout extending LayoutManager?</p>\n<p>Thanks for any suggestions.</p>\n"},{"tags":["java","string","collections","hashmap"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1552417841,"post_id":55129028,"comment_id":96999662,"body_markdown":"For ANSI characters, you can just have an array of size 256 and compute it.","body":"For ANSI characters, you can just have an array of size 256 and compute it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1552419553,"post_id":55129028,"comment_id":97000500,"body_markdown":"@vivek_23 Which [ANSI character set](https://en.wikipedia.org/wiki/ANSI_character_set) would that be? Or did you mean ASCII and 128?","body":"@vivek_23 Which <a href=\"https://en.wikipedia.org/wiki/ANSI_character_set\" rel=\"nofollow noreferrer\">ANSI character set</a> would that be? Or did you mean ASCII and 128?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1591448396,"post_id":55129028,"comment_id":110062510,"body_markdown":"@vivek_23 that is the windows code page 1252, not ANSI. The Unicode standard matches the iso-latin-1 character set for the first 256 codepoints. Referring to the windows code page 1252 is an unnecessary complication, as that code page does not match in the 128-159 range.","body":"@vivek_23 that is the windows code page 1252, not ANSI. The Unicode standard matches the iso-latin-1 character set for the first 256 codepoints. Referring to the windows code page 1252 is an unnecessary complication, as that code page does not match in the 128-159 range."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1591454477,"post_id":55129028,"comment_id":110064615,"body_markdown":"@Holger Ahh! Thanks for the correction. Deleted my previous comment to avoid confusion.","body":"@Holger Ahh! Thanks for the correction. Deleted my previous comment to avoid confusion."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1552579429,"creation_date":1552418485,"answer_id":55129227,"question_id":55129028,"body_markdown":"Simplest way to count occurrence of each character in a string, with full Unicode support (Java 11+)&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n\tString word = &quot;AAABBB&quot;;\r\n\tMap&lt;String, Long&gt; charCount = word.codePoints().mapToObj(Character::toString)\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\tSystem.out.println(charCount);\r\n\r\n&lt;sup&gt;1) Java 8 version with full Unicode support is at the end of the answer.&lt;/sup&gt;\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\t{A=3, B=3}\r\n\r\n---\r\n\r\n*UPDATE:* For Java 8+ (doesn&#39;t support characters from supplemental planes, e.g. emoji):\r\n\r\n\tMap&lt;String, Long&gt; charCount = IntStream.range(0, word.length())\r\n\t\t\t.mapToObj(i -&gt; word.substring(i, i + 1))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n---\r\n\r\n*UPDATE 2:* Also for Java 8+.\r\n\r\nI was mistaken, thinking that [`codePoints()`][1] wasn&#39;t added until Java 9. It was added in Java 8 to the [`CharSequence`][2] interface, so it doesn&#39;t show in javadoc for [`String`][3] in Java 8, and shows as [added in Java 9][4] for later versions of the javadoc.\r\n\r\nHowever, the [`Character.toString​(int codePoint)`][5] method wasn&#39;t added until Java 11, so to use the [`Character.toString​(char c)`][6] method, we can use [`chars()`][7] in Java 8:\r\n\r\n\tMap&lt;String, Long&gt; charCount = word.chars().mapToObj(c -&gt; Character.toString((char) c))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\nOr for full Unicode support, incl. supplemental planes, we can use [`codePoints()`][1] and the [`String(int[] codePoints, int offset, int count)`][8] constructor, in Java 8:\r\n\r\n\tMap&lt;String, Long&gt; charCount = word.codePoints()\r\n\t\t\t.mapToObj(cp -&gt; new String(new int[] { cp }, 0, 1))\r\n\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#method.summary\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-int:A-int-int-","title":"Java8: Create HashMap with character count of a String","body":"<p>Simplest way to count occurrence of each character in a string, with full Unicode support (Java 11+)<sup>1</sup>:</p>\n\n<pre><code>String word = \"AAABBB\";\nMap&lt;String, Long&gt; charCount = word.codePoints().mapToObj(Character::toString)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\nSystem.out.println(charCount);\n</code></pre>\n\n<p><sup>1) Java 8 version with full Unicode support is at the end of the answer.</sup></p>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{A=3, B=3}\n</code></pre>\n\n<hr>\n\n<p><em>UPDATE:</em> For Java 8+ (doesn't support characters from supplemental planes, e.g. emoji):</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = IntStream.range(0, word.length())\n        .mapToObj(i -&gt; word.substring(i, i + 1))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n\n<hr>\n\n<p><em>UPDATE 2:</em> Also for Java 8+.</p>\n\n<p>I was mistaken, thinking that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"noreferrer\"><code>codePoints()</code></a> wasn't added until Java 9. It was added in Java 8 to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"noreferrer\"><code>CharSequence</code></a> interface, so it doesn't show in javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#method.summary\" rel=\"noreferrer\"><code>String</code></a> in Java 8, and shows as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\" rel=\"noreferrer\">added in Java 9</a> for later versions of the javadoc.</p>\n\n<p>However, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"noreferrer\"><code>Character.toString​(int codePoint)</code></a> method wasn't added until Java 11, so to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\" rel=\"noreferrer\"><code>Character.toString​(char c)</code></a> method, we can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"noreferrer\"><code>chars()</code></a> in Java 8:</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = word.chars().mapToObj(c -&gt; Character.toString((char) c))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n\n<p>Or for full Unicode support, incl. supplemental planes, we can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#codePoints--\" rel=\"noreferrer\"><code>codePoints()</code></a> and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-int:A-int-int-\" rel=\"noreferrer\"><code>String(int[] codePoints, int offset, int count)</code></a> constructor, in Java 8:</p>\n\n<pre><code>Map&lt;String, Long&gt; charCount = word.codePoints()\n        .mapToObj(cp -&gt; new String(new int[] { cp }, 0, 1))\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14232467,"reputation":84,"user_id":10281292,"display_name":"mm6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552461768,"creation_date":1552419226,"answer_id":55129408,"question_id":55129028,"body_markdown":"Hope this help : Java 8 Stream &amp; Collector:\r\n\r\n        String word = &quot;AAABBB&quot;;\r\n        Map&lt;Character, Integer&gt; charCount = word.chars().boxed().collect(Collectors.toMap(\r\n                        k -&gt; Character.valueOf((char) k.intValue()),\r\n                        v -&gt; 1,\r\n                        Integer::sum));\r\n        System.out.println(charCount);\r\n\r\n    Output:\r\n        {A=3, B=3}","title":"Java8: Create HashMap with character count of a String","body":"<p>Hope this help : Java 8 Stream &amp; Collector:</p>\n\n<pre><code>    String word = \"AAABBB\";\n    Map&lt;Character, Integer&gt; charCount = word.chars().boxed().collect(Collectors.toMap(\n                    k -&gt; Character.valueOf((char) k.intValue()),\n                    v -&gt; 1,\n                    Integer::sum));\n    System.out.println(charCount);\n\nOutput:\n    {A=3, B=3}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552574077,"creation_date":1552574077,"answer_id":55165206,"question_id":55129028,"body_markdown":"Figured out, below is another simple way.\r\n \r\n    Map&lt;String, Integer&gt; charCount = new HashMap();\r\n        for(String charr: s.split(&quot;&quot;)){\r\n            charCount.put(charr,charCount.getOrDefault(charr,0)+1);\r\n    }","title":"Java8: Create HashMap with character count of a String","body":"<p>Figured out, below is another simple way.</p>\n\n<pre><code>Map&lt;String, Integer&gt; charCount = new HashMap();\n    for(String charr: s.split(\"\")){\n        charCount.put(charr,charCount.getOrDefault(charr,0)+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580118908,"creation_date":1580118908,"answer_id":59928698,"question_id":55129028,"body_markdown":"         String str = &quot;Hello Manash&quot;;\r\n\t\tMap&lt;Character,Long&gt; hm = str.chars().mapToObj(c-&gt; \r\n        (char)c).collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\r\n\t\tSystem.out.println(hm);","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>     String str = \"Hello Manash\";\n    Map&lt;Character,Long&gt; hm = str.chars().mapToObj(c-&gt; \n    (char)c).collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\n    System.out.println(hm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053788,"reputation":3379,"user_id":2587867,"accept_rate":58,"display_name":"ASR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616491572,"creation_date":1616491572,"answer_id":66760407,"question_id":55129028,"body_markdown":"Try this one :\r\n\r\n        List&lt;Character&gt; chars=Arrays.asList(&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;,&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;l&#39;,&#39;d&#39;);\r\n        Map&lt;Character,Long&gt; map=chars.stream().map(c-&gt;c).\r\n        collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\r\n        System.out.println(map);\r\noutput:\r\n\r\n    {r=1, d=1, e=1, w=1, h=1, l=3, o=2}\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>Try this one :</p>\n<pre><code>    List&lt;Character&gt; chars=Arrays.asList('h','e','l','l','o','w','o','r','l','d');\n    Map&lt;Character,Long&gt; map=chars.stream().map(c-&gt;c).\n    collect(Collectors.groupingBy(c-&gt;c,Collectors.counting()));\n    System.out.println(map);\n</code></pre>\n<p>output:</p>\n<pre><code>{r=1, d=1, e=1, w=1, h=1, l=3, o=2}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849092,"reputation":37,"user_id":1676045,"display_name":"Paul Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636457626,"creation_date":1636455025,"answer_id":69896810,"question_id":55129028,"body_markdown":"    word.chars().mapToObj(c-&gt; (char)c).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting()));\r\n\r\n\r\nThis will give you character count in order of appearance of the character.","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>word.chars().mapToObj(c-&gt; (char)c).collect(Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting()));\n</code></pre>\n<p>This will give you character count in order of appearance of the character.</p>\n"},{"tags":[],"owner":{"account_id":10900254,"reputation":21,"user_id":8012706,"display_name":"Piyali Bandyopadhyay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637836478,"creation_date":1637835417,"answer_id":70109318,"question_id":55129028,"body_markdown":"Try the below approaches:\r\n\r\nApproach 1:  \r\n\r\n        String str = &quot;abcaadcbcb&quot;;\r\n        \r\n        Map&lt;Character, Integer&gt; charCount = str.chars()\r\n                .boxed()\r\n                .collect(toMap(\r\n                        k -&gt; (char) k.intValue(),\r\n                        v -&gt; 1,         // 1 occurence\r\n                        Integer::sum));\r\n        System.out.println(&quot;Char Counts:\\n&quot; + charCount);\r\n\r\n\r\nApproach 2:\r\n\r\n        String str = &quot;abcaadcbcb&quot;;\r\n        Map&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\r\n        for (char c : str.toCharArray()) {\r\n            charCount.merge(c,          // key = char\r\n                    1,                  // value to merge\r\n                    Integer::sum);      // counting\r\n        }\r\n        System.out.println(&quot;Char Counts:\\n&quot; + charCount);\r\n\r\nOutput:\r\n\r\n        Char Counts:\r\n        {a=3, b=3, c=3, d=1}","title":"Java8: Create HashMap with character count of a String","body":"<p>Try the below approaches:</p>\n<p>Approach 1:</p>\n<pre><code>    String str = &quot;abcaadcbcb&quot;;\n    \n    Map&lt;Character, Integer&gt; charCount = str.chars()\n            .boxed()\n            .collect(toMap(\n                    k -&gt; (char) k.intValue(),\n                    v -&gt; 1,         // 1 occurence\n                    Integer::sum));\n    System.out.println(&quot;Char Counts:\\n&quot; + charCount);\n</code></pre>\n<p>Approach 2:</p>\n<pre><code>    String str = &quot;abcaadcbcb&quot;;\n    Map&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\n    for (char c : str.toCharArray()) {\n        charCount.merge(c,          // key = char\n                1,                  // value to merge\n                Integer::sum);      // counting\n    }\n    System.out.println(&quot;Char Counts:\\n&quot; + charCount);\n</code></pre>\n<p>Output:</p>\n<pre><code>    Char Counts:\n    {a=3, b=3, c=3, d=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3668752,"reputation":6558,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647010961,"creation_date":1647010961,"answer_id":71440506,"question_id":55129028,"body_markdown":" \r\n\r\n    String str = &quot;abcaadcbcb&quot;;\r\n    \r\n    Map&lt;String, Long&gt; charCount  = \r\n    Arrays.asList(str.split(&quot;&quot;)).stream().collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\r\n    \t\r\n\r\n\t","title":"Java8: Create HashMap with character count of a String","body":"<pre><code>String str = &quot;abcaadcbcb&quot;;\n\nMap&lt;String, Long&gt; charCount  = \nArrays.asList(str.split(&quot;&quot;)).stream().collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7741868,"reputation":1,"user_id":5861372,"display_name":"user5861372"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647507837,"creation_date":1647442833,"answer_id":71499377,"question_id":55129028,"body_markdown":"```java\r\nString str = &quot;edcba&quot;\r\n\r\nMap&lt;String, Long&gt; couterMap1 = str.codePoints()\r\n                                  .mapToObj(Character::toString)\r\n\t\t\t\t                  .collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\r\n```","title":"Java8: Create HashMap with character count of a String","body":"<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;edcba&quot;\n\nMap&lt;String, Long&gt; couterMap1 = str.codePoints()\n                                  .mapToObj(Character::toString)\n                                  .collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689269674,"creation_date":1689269674,"answer_id":76681972,"question_id":55129028,"body_markdown":"Simple Java 8 solution I can think is:\r\n\r\n    Map&lt;String, Long&gt; map= Arrays.stream(word.trim().toLowerCase().split(&quot;&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));","title":"Java8: Create HashMap with character count of a String","body":"<p>Simple Java 8 solution I can think is:</p>\n<pre><code>Map&lt;String, Long&gt; map= Arrays.stream(word.trim().toLowerCase().split(&quot;&quot;))\n            .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689353086,"creation_date":1689315007,"answer_id":76685092,"question_id":55129028,"body_markdown":"If you&#39;re open to using a third-party library that works with Java 8 or above, [Eclipse Collections][1] (EC) can solve this problem using a primitive  `Bag` to count characters. Use a `CharBag` if `char` values are required, or an `IntBag` if codePoints (`int` values) are required. A `Bag` is a simpler data structure for counting things and may be backed by a primitive `HashMap` so as not to box the counts as `Integer` or `Long` objects. A `Bag` doesn&#39;t suffer from the missing keys return `null` values problem that a `HashMap` does in Java.\r\n\r\n    @Test\r\n    public void characterCountJava8()\r\n    {\r\n        String word = &quot;AAABBB&quot;;\r\n        CharAdapter chars = Strings.asChars(word);\r\n        CharBag charCounts = chars.toBag();\r\n    \r\n        Assertions.assertEquals(3, charCounts.occurrencesOf(&#39;A&#39;));\r\n        Assertions.assertEquals(3, charCounts.occurrencesOf(&#39;B&#39;));\r\n        Assertions.assertEquals(0, charCounts.occurrencesOf(&#39;C&#39;));\r\n\r\n        System.out.println(charCounts.toStringOfItemToCount());\r\n    }\r\n\r\nOutputs: \r\n\r\n    {A=3, B=3}\r\n\r\n`CharAdapter` and `CharBag` are primitive collection types available in EC. A `CharBag` is useful if you want to count `char` values. Notice that the `charCounts.occurrencesOf(&#39;C&#39;)` returns `0` instead of `null` as it would if this was a `HashMap`.\r\n\r\nThe following example shows using codePoints that are visually appealing using emojis. The code itself will work with Java 8, but I believe the Emoji literal support wasn&#39;t added until Java 11.\r\n\r\n    @Test\r\n    public void codePointCountJava11()\r\n    {\r\n        String emojis = &quot;&#127822;&#127822;&#127822;&#127820;&#127820;&quot;;\r\n        CodePointAdapter codePoints = Strings.asCodePoints(emojis);\r\n        IntBag emojiCounts = codePoints.toBag();\r\n    \r\n        int appleInt = &quot;&#127822;&quot;.codePointAt(0);\r\n        int bananaInt = &quot;&#127820;&quot;.codePointAt(0);\r\n        int pearInt = &quot;&#127824;&quot;.codePointAt(0);\r\n        Assertions.assertEquals(3, emojiCounts.occurrencesOf(appleInt));\r\n        Assertions.assertEquals(2, emojiCounts.occurrencesOf(bananaInt));\r\n        Assertions.assertEquals(0, emojiCounts.occurrencesOf(pearInt));\r\n    \r\n        System.out.println(emojiCounts.toStringOfItemToCount());\r\n    \r\n        Bag&lt;String&gt; emojiStringCounts = emojiCounts.collect(Character::toString);\r\n    \r\n        System.out.println(emojiStringCounts.toStringOfItemToCount());\r\n    }\r\n\r\nOutputs: \r\n\r\n    {127820=2, 127822=3}  // IntBag.toStringOfItemToCount()\r\n    {&#127820;=2, &#127822;=3}          // Bag&lt;String&gt;.toStringOfItemToCount()\r\n\r\n`CodePointAdapter` and `IntBag` are primitive collection types available in EC. An `IntBag` is useful if you want to count `int` values. Notice that the `emojiCounts.occurrencesOf(pearInt)` returns `0` instead of `null` as it would if this was a `HashMap`.\r\n\r\nI converted the `IntBag` to a `Bag&lt;String&gt;` to show the differences when printing `int` vs. `char`. You need to convert `int` codePoints back to `String` if you want to print anything.\r\n\r\nThe comment Holger left on the accepted answer about grapheme clusters was insightful and helpful. Thank you! The codepoint solution here suffers from the same issue as all of the other codepoint solutions. \r\n\r\nEclipse Collections 11.1 was compiled and released with Java 8. I wouldn&#39;t recommend staying on Java 8 any more, but wanted to point out this is still possible.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>If you're open to using a third-party library that works with Java 8 or above, <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> (EC) can solve this problem using a primitive  <code>Bag</code> to count characters. Use a <code>CharBag</code> if <code>char</code> values are required, or an <code>IntBag</code> if codePoints (<code>int</code> values) are required. A <code>Bag</code> is a simpler data structure for counting things and may be backed by a primitive <code>HashMap</code> so as not to box the counts as <code>Integer</code> or <code>Long</code> objects. A <code>Bag</code> doesn't suffer from the missing keys return <code>null</code> values problem that a <code>HashMap</code> does in Java.</p>\n<pre><code>@Test\npublic void characterCountJava8()\n{\n    String word = &quot;AAABBB&quot;;\n    CharAdapter chars = Strings.asChars(word);\n    CharBag charCounts = chars.toBag();\n\n    Assertions.assertEquals(3, charCounts.occurrencesOf('A'));\n    Assertions.assertEquals(3, charCounts.occurrencesOf('B'));\n    Assertions.assertEquals(0, charCounts.occurrencesOf('C'));\n\n    System.out.println(charCounts.toStringOfItemToCount());\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>{A=3, B=3}\n</code></pre>\n<p><code>CharAdapter</code> and <code>CharBag</code> are primitive collection types available in EC. A <code>CharBag</code> is useful if you want to count <code>char</code> values. Notice that the <code>charCounts.occurrencesOf('C')</code> returns <code>0</code> instead of <code>null</code> as it would if this was a <code>HashMap</code>.</p>\n<p>The following example shows using codePoints that are visually appealing using emojis. The code itself will work with Java 8, but I believe the Emoji literal support wasn't added until Java 11.</p>\n<pre><code>@Test\npublic void codePointCountJava11()\n{\n    String emojis = &quot;🍎🍎🍎🍌🍌&quot;;\n    CodePointAdapter codePoints = Strings.asCodePoints(emojis);\n    IntBag emojiCounts = codePoints.toBag();\n\n    int appleInt = &quot;🍎&quot;.codePointAt(0);\n    int bananaInt = &quot;🍌&quot;.codePointAt(0);\n    int pearInt = &quot;🍐&quot;.codePointAt(0);\n    Assertions.assertEquals(3, emojiCounts.occurrencesOf(appleInt));\n    Assertions.assertEquals(2, emojiCounts.occurrencesOf(bananaInt));\n    Assertions.assertEquals(0, emojiCounts.occurrencesOf(pearInt));\n\n    System.out.println(emojiCounts.toStringOfItemToCount());\n\n    Bag&lt;String&gt; emojiStringCounts = emojiCounts.collect(Character::toString);\n\n    System.out.println(emojiStringCounts.toStringOfItemToCount());\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>{127820=2, 127822=3}  // IntBag.toStringOfItemToCount()\n{🍌=2, 🍎=3}          // Bag&lt;String&gt;.toStringOfItemToCount()\n</code></pre>\n<p><code>CodePointAdapter</code> and <code>IntBag</code> are primitive collection types available in EC. An <code>IntBag</code> is useful if you want to count <code>int</code> values. Notice that the <code>emojiCounts.occurrencesOf(pearInt)</code> returns <code>0</code> instead of <code>null</code> as it would if this was a <code>HashMap</code>.</p>\n<p>I converted the <code>IntBag</code> to a <code>Bag&lt;String&gt;</code> to show the differences when printing <code>int</code> vs. <code>char</code>. You need to convert <code>int</code> codePoints back to <code>String</code> if you want to print anything.</p>\n<p>The comment Holger left on the accepted answer about grapheme clusters was insightful and helpful. Thank you! The codepoint solution here suffers from the same issue as all of the other codepoint solutions.</p>\n<p>Eclipse Collections 11.1 was compiled and released with Java 8. I wouldn't recommend staying on Java 8 any more, but wanted to point out this is still possible.</p>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":8634316,"reputation":23,"user_id":6465039,"display_name":"Achint Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690611127,"creation_date":1690611127,"answer_id":76792284,"question_id":55129028,"body_markdown":"Java stream solution for this, I hope the code is self-explanatory.\r\n\r\n```\r\nString s = &quot;ccacbbaac&quot;\r\nMap&lt;Character, Long&gt; collect = s.chars().mapToObj(y -&gt; (char) y).collect(Collectors.groupingBy(x -&gt; (char) x, Collectors.counting()));\r\n```\r\n\r\n","title":"Java8: Create HashMap with character count of a String","body":"<p>Java stream solution for this, I hope the code is self-explanatory.</p>\n<pre><code>String s = &quot;ccacbbaac&quot;\nMap&lt;Character, Long&gt; collect = s.chars().mapToObj(y -&gt; (char) y).collect(Collectors.groupingBy(x -&gt; (char) x, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25481,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55129227,"answer_count":12,"score":5,"last_activity_date":1690611127,"creation_date":1552417660,"question_id":55129028,"body_markdown":"Wondering is there more simple way than computing the character count of a given string as below?\r\n \r\n    String word = &quot;AAABBB&quot;;\r\n        Map&lt;String, Integer&gt; charCount = new HashMap();\r\n        for(String charr: word.split(&quot;&quot;)){\r\n            Integer added = charCount.putIfAbsent(charr, 1);\r\n            if(added != null)\r\n                charCount.computeIfPresent(charr,(k,v) -&gt; v+1);\r\n        }\r\n\r\n        System.out.println(charCount);","title":"Java8: Create HashMap with character count of a String","body":"<p>Wondering is there more simple way than computing the character count of a given string as below?</p>\n\n<pre><code>String word = \"AAABBB\";\n    Map&lt;String, Integer&gt; charCount = new HashMap();\n    for(String charr: word.split(\"\")){\n        Integer added = charCount.putIfAbsent(charr, 1);\n        if(added != null)\n            charCount.computeIfPresent(charr,(k,v) -&gt; v+1);\n    }\n\n    System.out.println(charCount);\n</code></pre>\n"},{"tags":["java","ip","cidr"],"comments":[{"owner":{"account_id":7009786,"reputation":3596,"user_id":5373104,"display_name":"Jared Dykstra"},"score":0,"creation_date":1446235055,"post_id":33443914,"comment_id":54676087,"body_markdown":"I think you&#39;ll find the info you&#39;re looking for in this post: http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation","body":"I think you&#39;ll find the info you&#39;re looking for in this post: <a href=\"http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation\" title=\"the slash after an ip address cidr notation\">networkengineering.stackexchange.com/questions/3697/&hellip;</a>"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446235124,"post_id":33443914,"comment_id":54676118,"body_markdown":"The real way to do it is `address AND mask` to get the subnet address, and `subnet + NOT mask` to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation..","body":"The real way to do it is <code>address AND mask</code> to get the subnet address, and <code>subnet + NOT mask</code> to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation.."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1446236607,"post_id":33443914,"comment_id":54676817,"body_markdown":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer.","body":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer."},{"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"score":0,"creation_date":1446237036,"post_id":33443914,"comment_id":54677027,"body_markdown":"Just to clarify - The list I have (https://github.com/client9/ipcat/blob/master/datacenters.csv) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)","body":"Just to clarify - The list I have (<a href=\"https://github.com/client9/ipcat/blob/master/datacenters.csv\" rel=\"nofollow noreferrer\">github.com/client9/ipcat/blob/master/datacenters.csv</a>) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446251304,"post_id":33443914,"comment_id":54681666,"body_markdown":"Doing it properly by `AND`ing an address and mask will _always_ give you the correct subnet,, and adding the subnet to the inverse of the mask will _always_ give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4.","body":"Doing it properly by <code>AND</code>ing an address and mask will <i>always</i> give you the correct subnet,, and adding the subnet to the inverse of the mask will <i>always</i> give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4."},{"owner":{"account_id":5343182,"reputation":442,"user_id":4259486,"display_name":"bartgras"},"score":0,"creation_date":1500624146,"post_id":33443914,"comment_id":77430043,"body_markdown":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: ```ipcalc -rn 108.179.42.64-108.179.42.255``` It correctly calculates the ranges and is available on most linux/mac systems","body":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: <code>ipcalc -rn 108.179.42.64-108.179.42.255</code> It correctly calculates the ranges and is available on most linux/mac systems"}],"answers":[{"tags":[],"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446282149,"creation_date":1446282149,"answer_id":33449839,"question_id":33443914,"body_markdown":"In case you haven&#39;t figured it out from my comments:\r\n\r\nIP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.\r\n\r\nThis is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.\r\n\r\nBased on your question, you are given the subnet (Input 1) and last address (Input 2).\r\n\r\n 1. Subtract the unsigned integer of Input 1 from the unsigned integer\r\n    of Input 2. The result is the inverse subnet mask. The inverse\r\n    subnet mask must be `0`, or the inverse subnet mask plus `1` must be a\r\n    power of `2`, else you have an error in one of the inputs (**STOP,\r\n    INPUT ERROR**).\r\n 2. The `NOT` of the inverse mask (result of Step 1) is the subnet mask.\r\n 3. If Input 1 `AND` the subnet mask does not equal Input 1, you have an\r\n    error in one of the inputs (**STOP, INPUT ERROR**).\r\n 4. The mask length (CIDR number) is the number of `1` bits in the\r\n    subnet mask. There are several ways to calculate the number of `1`\r\n    bits in a binary number, but if the subnet mask is the maximum\r\n    integer (or the inverse mask is `0`), then the mask length is `32`\r\n    (IPv4) or `128` (IPv6). You can loop, counting the number of loops\r\n    and shifting the subnet mask to the left until it equals `0`, loop\r\n    counting the number of loops and shifting the inverse mask to the\r\n    right until it equals `0` then adding `1` to the total and\r\n    subtracting the total from `32` (IPv4) or `128` (IPv6), or subtract\r\n    the exponent of the power of `2` of the total inverse mask\r\n    plus `1` from `32` (IPv4) or `128` (IPv6).\r\n 5. At this point, you have the verified Input 1 (subnet), Input 2 (last\r\n    address), and calculated the mask length (CIDR number).\r\n 6. The final result will be `&lt;Input 1&gt;/&lt;Mask Length&gt;`.\r\n\r\n**Your example:**\r\n\r\nStep 1 (`5.10.127.255 - 5.10.64.0 = 0.0.64.127`):\r\n\r\n    101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\r\n\r\nStep 2 (`NOT 0.0.64.255 = 255.255.192.0` is a power of two):\r\n\r\n    NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\r\n\r\nStep 3 (`5.10.64.0 AND 255.255.192.0 = 5.10.64.0`):\r\n\r\n    01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\r\n\r\nStep 4 (`0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18`):\r\n\r\n    00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\r\n\r\nStep 5 (Input 1 = `5.10.64.0`, Input 2 = `5.10.127.255`, Mask Length = `18`)\r\n\r\nStep 6 (Final Result = `5.10.64.0/18`)\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>In case you haven't figured it out from my comments:</p>\n\n<p>IP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.</p>\n\n<p>This is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.</p>\n\n<p>Based on your question, you are given the subnet (Input 1) and last address (Input 2).</p>\n\n<ol>\n<li>Subtract the unsigned integer of Input 1 from the unsigned integer\nof Input 2. The result is the inverse subnet mask. The inverse\nsubnet mask must be <code>0</code>, or the inverse subnet mask plus <code>1</code> must be a\npower of <code>2</code>, else you have an error in one of the inputs (<strong>STOP,\nINPUT ERROR</strong>).</li>\n<li>The <code>NOT</code> of the inverse mask (result of Step 1) is the subnet mask.</li>\n<li>If Input 1 <code>AND</code> the subnet mask does not equal Input 1, you have an\nerror in one of the inputs (<strong>STOP, INPUT ERROR</strong>).</li>\n<li>The mask length (CIDR number) is the number of <code>1</code> bits in the\nsubnet mask. There are several ways to calculate the number of <code>1</code>\nbits in a binary number, but if the subnet mask is the maximum\ninteger (or the inverse mask is <code>0</code>), then the mask length is <code>32</code>\n(IPv4) or <code>128</code> (IPv6). You can loop, counting the number of loops\nand shifting the subnet mask to the left until it equals <code>0</code>, loop\ncounting the number of loops and shifting the inverse mask to the\nright until it equals <code>0</code> then adding <code>1</code> to the total and\nsubtracting the total from <code>32</code> (IPv4) or <code>128</code> (IPv6), or subtract\nthe exponent of the power of <code>2</code> of the total inverse mask\nplus <code>1</code> from <code>32</code> (IPv4) or <code>128</code> (IPv6).</li>\n<li>At this point, you have the verified Input 1 (subnet), Input 2 (last\naddress), and calculated the mask length (CIDR number).</li>\n<li>The final result will be <code>&lt;Input 1&gt;/&lt;Mask Length&gt;</code>.</li>\n</ol>\n\n<p><strong>Your example:</strong></p>\n\n<p>Step 1 (<code>5.10.127.255 - 5.10.64.0 = 0.0.64.127</code>):</p>\n\n<pre><code>101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\n</code></pre>\n\n<p>Step 2 (<code>NOT 0.0.64.255 = 255.255.192.0</code> is a power of two):</p>\n\n<pre><code>NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\n</code></pre>\n\n<p>Step 3 (<code>5.10.64.0 AND 255.255.192.0 = 5.10.64.0</code>):</p>\n\n<pre><code>01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\n</code></pre>\n\n<p>Step 4 (<code>0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18</code>):</p>\n\n<pre><code>00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\n</code></pre>\n\n<p>Step 5 (Input 1 = <code>5.10.64.0</code>, Input 2 = <code>5.10.127.255</code>, Mask Length = <code>18</code>)</p>\n\n<p>Step 6 (Final Result = <code>5.10.64.0/18</code>)</p>\n"},{"tags":[],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446670554,"creation_date":1446659203,"answer_id":33528623,"question_id":33443914,"body_markdown":"So, I was able to find the Java code here: https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\r\n\r\n    public class IP2CIDR {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(range2cidrlist(&quot;5.104.109.160&quot;, &quot;5.104.109.191&quot;));\r\n    \t}\r\n    \t\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \r\n            long start = ipToLong(startIp);         \r\n            long end = ipToLong(endIp);           \r\n    \r\n            ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \r\n            while ( end &gt;= start ) {             \r\n                byte maxsize = 32;             \r\n                while ( maxsize &gt; 0) {                 \r\n                    long mask = CIDR2MASK[ maxsize -1 ];                 \r\n                    long maskedBase = start &amp; mask;                 \r\n    \r\n                    if ( maskedBase != start ) {                     \r\n                        break;                 \r\n                    }                 \r\n    \r\n                    maxsize--;             \r\n                }               \r\n                double x = Math.log( end - start + 1) / Math.log( 2 );             \r\n                byte maxdiff = (byte)( 32 - Math.floor( x ) );             \r\n                if ( maxsize &lt; maxdiff) {                 \r\n                    maxsize = maxdiff;             \r\n                }             \r\n                String ip = longToIP(start);             \r\n                pairs.add( ip + &quot;/&quot; + maxsize);             \r\n                start += Math.pow( 2, (32 - maxsize) );         \r\n            }         \r\n            return pairs;     \r\n        }       \r\n    \r\n        public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \r\n            0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \r\n            0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \r\n            0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \r\n            0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \r\n            0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \r\n            0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \r\n            0xFFFFFFFF };       \r\n    \r\n        private static long ipToLong(String strIP) {         \r\n            long[] ip = new long[4];         \r\n            String[] ipSec = strIP.split(&quot;\\\\.&quot;);         \r\n            for (int k = 0; k &lt; 4; k++) {             \r\n                ip[k] = Long.valueOf(ipSec[k]);         \r\n            }         \r\n    \r\n            return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \r\n        }       \r\n    \r\n        private static String longToIP(long longIP) {         \r\n            StringBuffer sb = new StringBuffer(&quot;&quot;);         \r\n            sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf(longIP &amp; 0x000000FF));   \r\n    \r\n            return sb.toString();     \r\n        }\r\n    }\r\n\r\n  \r\n\r\nThanks everyone for your insights and help!","title":"How to convert IP address range to CIDR in Java?","body":"<p>So, I was able to find the Java code here: <a href=\"https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\">In Java, given an IP Address range, return the minimum list of CIDR blocks that covers the range</a></p>\n\n<pre><code>public class IP2CIDR {\n\n    public static void main(String[] args) {\n        System.out.println(range2cidrlist(\"5.104.109.160\", \"5.104.109.191\"));\n    }\n\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \n        long start = ipToLong(startIp);         \n        long end = ipToLong(endIp);           \n\n        ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \n        while ( end &gt;= start ) {             \n            byte maxsize = 32;             \n            while ( maxsize &gt; 0) {                 \n                long mask = CIDR2MASK[ maxsize -1 ];                 \n                long maskedBase = start &amp; mask;                 \n\n                if ( maskedBase != start ) {                     \n                    break;                 \n                }                 \n\n                maxsize--;             \n            }               \n            double x = Math.log( end - start + 1) / Math.log( 2 );             \n            byte maxdiff = (byte)( 32 - Math.floor( x ) );             \n            if ( maxsize &lt; maxdiff) {                 \n                maxsize = maxdiff;             \n            }             \n            String ip = longToIP(start);             \n            pairs.add( ip + \"/\" + maxsize);             \n            start += Math.pow( 2, (32 - maxsize) );         \n        }         \n        return pairs;     \n    }       \n\n    public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \n        0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \n        0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \n        0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \n        0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \n        0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \n        0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \n        0xFFFFFFFF };       \n\n    private static long ipToLong(String strIP) {         \n        long[] ip = new long[4];         \n        String[] ipSec = strIP.split(\"\\\\.\");         \n        for (int k = 0; k &lt; 4; k++) {             \n            ip[k] = Long.valueOf(ipSec[k]);         \n        }         \n\n        return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \n    }       \n\n    private static String longToIP(long longIP) {         \n        StringBuffer sb = new StringBuffer(\"\");         \n        sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \n        sb.append(\".\");         \n        sb.append(String.valueOf(longIP &amp; 0x000000FF));   \n\n        return sb.toString();     \n    }\n}\n</code></pre>\n\n<p>Thanks everyone for your insights and help!</p>\n"},{"tags":[],"owner":{"account_id":8506713,"reputation":91,"user_id":6378031,"display_name":"叶泰航"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1474997024,"creation_date":1474997024,"answer_id":39730813,"question_id":33443914,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class RangeToCidr {\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\r\n            // check parameters\r\n            if (startIp == null || startIp.length() &lt; 8 ||\r\n                endIp == null || endIp.length() &lt; 8) return null;\r\n            long start = ipToLong(startIp);\r\n            long end = ipToLong(endIp);\r\n            // check parameters\r\n            if (start &gt; end) return null;\r\n\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n            while (start &lt;= end) {\r\n                // identify the location of first 1&#39;s from lower bit to higher bit of start IP\r\n                // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\r\n                long locOfFirstOne = start &amp; (-start);\r\n                int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\r\n\r\n                // calculate how many IP addresses between the start and end\r\n                // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\r\n                // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\r\n                double curRange = Math.log(end - start + 1) / Math.log(2);\r\n                int maxDiff = 32 - (int) Math.floor(curRange);\r\n\r\n                // why max?\r\n                // if the maxDiff is larger than maxMask\r\n                // which means the numbers of IPs from start to end is smaller than mask range\r\n                // so we can&#39;t use as many as bits we want to mask the start IP to avoid exceed the end IP\r\n                // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\r\n                // in this case we can use maxMask to mask as many as IPs from start we want.\r\n                maxMask = Math.max(maxDiff, maxMask);\r\n\r\n                // Add to results\r\n                String ip = longToIP(start);\r\n                result.add(ip + &quot;/&quot; + maxMask);\r\n                // We have already included 2^(32 - maxMask) numbers of IP into result\r\n                // So the next round start must add that number\r\n                start += Math.pow(2, (32 - maxMask));\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static long ipToLong(String strIP) {\r\n            String[] ipSegs = strIP.split(&quot;\\\\.&quot;);\r\n            long res = 0;\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\r\n            }\r\n            return res;\r\n        }\r\n\r\n        private static String longToIP(long longIP) {\r\n            StringBuffer sb = new StringBuffer();\r\n            sb.append(longIP &gt;&gt;&gt; 24).append(&quot;.&quot;)\r\n              .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(&quot;.&quot;)\r\n              .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(&quot;.&quot;)\r\n              .append(String.valueOf(longIP &amp; 0x000000FF));\r\n\r\n            return sb.toString();\r\n        }\r\n    }\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class RangeToCidr {\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\n        // check parameters\n        if (startIp == null || startIp.length() &lt; 8 ||\n            endIp == null || endIp.length() &lt; 8) return null;\n        long start = ipToLong(startIp);\n        long end = ipToLong(endIp);\n        // check parameters\n        if (start &gt; end) return null;\n\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        while (start &lt;= end) {\n            // identify the location of first 1's from lower bit to higher bit of start IP\n            // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\n            long locOfFirstOne = start &amp; (-start);\n            int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\n\n            // calculate how many IP addresses between the start and end\n            // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\n            // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\n            double curRange = Math.log(end - start + 1) / Math.log(2);\n            int maxDiff = 32 - (int) Math.floor(curRange);\n\n            // why max?\n            // if the maxDiff is larger than maxMask\n            // which means the numbers of IPs from start to end is smaller than mask range\n            // so we can't use as many as bits we want to mask the start IP to avoid exceed the end IP\n            // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\n            // in this case we can use maxMask to mask as many as IPs from start we want.\n            maxMask = Math.max(maxDiff, maxMask);\n\n            // Add to results\n            String ip = longToIP(start);\n            result.add(ip + \"/\" + maxMask);\n            // We have already included 2^(32 - maxMask) numbers of IP into result\n            // So the next round start must add that number\n            start += Math.pow(2, (32 - maxMask));\n        }\n        return result;\n    }\n\n    private static long ipToLong(String strIP) {\n        String[] ipSegs = strIP.split(\"\\\\.\");\n        long res = 0;\n        for (int i = 0; i &lt; 4; i++) {\n            res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\n        }\n        return res;\n    }\n\n    private static String longToIP(long longIP) {\n        StringBuffer sb = new StringBuffer();\n        sb.append(longIP &gt;&gt;&gt; 24).append(\".\")\n          .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(\".\")\n          .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(\".\")\n          .append(String.valueOf(longIP &amp; 0x000000FF));\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043659,"reputation":31,"user_id":2579984,"display_name":"PaulQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491096625,"creation_date":1491093926,"answer_id":43163498,"question_id":33443914,"body_markdown":"Something short and sweet in Python:\r\n\r\n    #!/usr/bin/env python\r\n    import ipaddress\r\n    import math\r\n\r\n    ip_from = &#39;5.10.64.0&#39;\r\n    ip_to = &#39;5.10.127.255&#39;\r\n    ip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\r\n    ip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\r\n    ip_range = ip_to_long - ip_from_long\r\n    ip_range +=1\r\n    # the clever line of code\r\n    cidr_range = math.log(4294967296/ip_range)/math.log(2)\r\n    # test for a zero/non-zero fractional part\r\n    if cidr_range % 1 == 0:\r\n      # the output will be: 5.10.64.0/18\r\n      print ip_from + &#39;/&#39; + str(int(cidr_range))\r\n    else:\r\n      print &quot;Error: Not an exact CIDR range - &quot; + str(cidr_range)\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>Something short and sweet in Python:</p>\n\n<pre><code>#!/usr/bin/env python\nimport ipaddress\nimport math\n\nip_from = '5.10.64.0'\nip_to = '5.10.127.255'\nip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\nip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\nip_range = ip_to_long - ip_from_long\nip_range +=1\n# the clever line of code\ncidr_range = math.log(4294967296/ip_range)/math.log(2)\n# test for a zero/non-zero fractional part\nif cidr_range % 1 == 0:\n  # the output will be: 5.10.64.0/18\n  print ip_from + '/' + str(int(cidr_range))\nelse:\n  print \"Error: Not an exact CIDR range - \" + str(cidr_range)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10046753,"reputation":31,"user_id":7427850,"display_name":"Xiaodong Ma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496796852,"creation_date":1496796852,"answer_id":44401852,"question_id":33443914,"body_markdown":"\tpublic static int log2(int i) {\r\n\t\tint count = 0;\r\n\t\ti &gt;&gt;= 1;\r\n\t\twhile(i &gt; 0) {\r\n\t\t\tcount++;\r\n\t\t\ti &gt;&gt;= 1;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\r\n\t\tList&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tint start = ipS2I(startIp);\r\n\t\t\tint end = ipS2I(endIp);\r\n\t\t\twhile(start &lt;= end) {\r\n\t\t\t\tint firstNonZero = start &amp; -start;\r\n\t\t\t\tint maxMask = 32 - log2(firstNonZero);\r\n\t\t\t\tmaxMask = Math.max(maxMask, 32 - log2(end - start + 1));\r\n\t\t\t\tres.add(ipI2S(start) + &quot;/&quot; + maxMask);\r\n\t\t\t\tstart += 1 &lt;&lt; (32 - maxMask);\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static int ipS2I(String ip) throws Exception {\r\n\t\tString[] sa = ip.split(&quot;\\\\.&quot;);\r\n\t\tif (sa.length != 4) {\r\n\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t}\r\n\t\tint res = 0;\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tint t = Integer.valueOf(sa[i]);\r\n\t\t\tif (t &lt; 0 || t &gt; 255) {\r\n\t\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t\t}\r\n\t\t\tres += t &lt;&lt; ((3-i) &lt;&lt; 3);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static String ipI2S(int ip) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append((ip&gt;&gt;24) &amp; 0xFF).append(&quot;.&quot;).append((ip&gt;&gt;16)&amp;0xFF).append(&quot;.&quot;).append((ip&gt;&gt;8) &amp; 0xFF).append(&quot;.&quot;).append(ip &amp; 0xFF);\r\n\t\treturn sb.toString();\r\n\t}\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>public static int log2(int i) {\n    int count = 0;\n    i &gt;&gt;= 1;\n    while(i &gt; 0) {\n        count++;\n        i &gt;&gt;= 1;\n    }\n    return count;\n}\n\npublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    try {\n        int start = ipS2I(startIp);\n        int end = ipS2I(endIp);\n        while(start &lt;= end) {\n            int firstNonZero = start &amp; -start;\n            int maxMask = 32 - log2(firstNonZero);\n            maxMask = Math.max(maxMask, 32 - log2(end - start + 1));\n            res.add(ipI2S(start) + \"/\" + maxMask);\n            start += 1 &lt;&lt; (32 - maxMask);\n        }\n    }catch(Exception e) {\n        return res;\n    }\n\n    return res;\n}\n\npublic static int ipS2I(String ip) throws Exception {\n    String[] sa = ip.split(\"\\\\.\");\n    if (sa.length != 4) {\n        throw new Exception(\"Bad ip address\");\n    }\n    int res = 0;\n    for (int i = 0; i &lt; 4; i++) {\n        int t = Integer.valueOf(sa[i]);\n        if (t &lt; 0 || t &gt; 255) {\n            throw new Exception(\"Bad ip address\");\n        }\n        res += t &lt;&lt; ((3-i) &lt;&lt; 3);\n    }\n    return res;\n}\n\npublic static String ipI2S(int ip) {\n    StringBuilder sb = new StringBuilder();\n    sb.append((ip&gt;&gt;24) &amp; 0xFF).append(\".\").append((ip&gt;&gt;16)&amp;0xFF).append(\".\").append((ip&gt;&gt;8) &amp; 0xFF).append(\".\").append(ip &amp; 0xFF);\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683482942,"creation_date":1549681821,"answer_id":54602781,"question_id":33443914,"body_markdown":"The [open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do this for you.  Disclaimer: I am the project manager of the IPAddress library. \r\n\r\nHere is sample code to do it:\r\n\r\n    static void toPrefixBlocks(String str1, String str2) {\r\n\t\tIPAddressString string1 = new IPAddressString(str1);\r\n\t\tIPAddressString string2 = new IPAddressString(str2);\r\n\t\tIPAddress one = string1.getAddress(), two = string2.getAddress();\r\n\t\tIPAddressSeqRange range = one.spanWithRange(two);\r\n\t\tSystem.out.println(&quot;starting with range &quot; + range);\r\n\t\tIPAddress blocks[] = range.spanWithPrefixBlocks();\r\n\t\tSystem.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\r\n\t}\r\n\r\nThis is how you would use IPAddress to produce the range from the original CIDR string:\r\n\r\n    static String[] toRange(String str) {\r\n\t\tIPAddressString string = new IPAddressString(str);\r\n\t\tIPAddress addr = string.getAddress();\r\n\t\tSystem.out.println(&quot;starting with CIDR &quot; + addr);\r\n\t\tIPAddress lower = addr.getLower(), upper = addr.getUpper();\r\n\t\tSystem.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\r\n\t\treturn new String[] {lower.toString(), upper.toString()};\r\n\t}\r\n\r\nFor your example, we run this code:\r\n\r\n    String strs[] = toRange(&quot;5.10.64.0/18&quot;);\r\n    System.out.println();\r\n    toPrefixBlocks(strs[0], strs[1]);\r\n\r\nThe output is:\r\n\r\n    starting with CIDR 5.10.64.0/18\r\n    range is 5.10.64.0/18 to 5.10.127.255/18\r\n\r\n    starting with range 5.10.64.0 -&gt; 5.10.127.255\r\n    prefix blocks are [5.10.64.0/18]\r\n\r\n ","title":"How to convert IP address range to CIDR in Java?","body":"<p>The <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">open-source IPAddress Java library</a> can do this for you.  Disclaimer: I am the project manager of the IPAddress library.</p>\n<p>Here is sample code to do it:</p>\n<pre><code>static void toPrefixBlocks(String str1, String str2) {\n    IPAddressString string1 = new IPAddressString(str1);\n    IPAddressString string2 = new IPAddressString(str2);\n    IPAddress one = string1.getAddress(), two = string2.getAddress();\n    IPAddressSeqRange range = one.spanWithRange(two);\n    System.out.println(&quot;starting with range &quot; + range);\n    IPAddress blocks[] = range.spanWithPrefixBlocks();\n    System.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\n}\n</code></pre>\n<p>This is how you would use IPAddress to produce the range from the original CIDR string:</p>\n<pre><code>static String[] toRange(String str) {\n    IPAddressString string = new IPAddressString(str);\n    IPAddress addr = string.getAddress();\n    System.out.println(&quot;starting with CIDR &quot; + addr);\n    IPAddress lower = addr.getLower(), upper = addr.getUpper();\n    System.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\n    return new String[] {lower.toString(), upper.toString()};\n}\n</code></pre>\n<p>For your example, we run this code:</p>\n<pre><code>String strs[] = toRange(&quot;5.10.64.0/18&quot;);\nSystem.out.println();\ntoPrefixBlocks(strs[0], strs[1]);\n</code></pre>\n<p>The output is:</p>\n<pre><code>starting with CIDR 5.10.64.0/18\nrange is 5.10.64.0/18 to 5.10.127.255/18\n\nstarting with range 5.10.64.0 -&gt; 5.10.127.255\nprefix blocks are [5.10.64.0/18]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603543996,"creation_date":1603543663,"answer_id":64513460,"question_id":33443914,"body_markdown":"We researched a lot and here is how we implemented it in the end, just use `RouteNotation.fromRange(...)` method to get `List&lt;RouteNotation&gt;` after adding below class:\r\n\r\n```java\r\npackage my.vpn.utils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RouteNotation {\r\n    private int ipAddress;\r\n    private int prefix;\r\n\r\n    private RouteNotation(long ipAddress, int prefix) {\r\n        this.ipAddress = (int) ipAddress;\r\n        this.prefix = prefix;\r\n    }\r\n\r\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\r\n        return new RouteNotation(ipAddress, prefix);\r\n    }\r\n\r\n    public long getIP() {\r\n        return this.ipAddress;\r\n    }\r\n\r\n    public void setIP(long v) {\r\n        this.ipAddress = (int) v;\r\n    }\r\n\r\n    public int getPrefix() {\r\n        return this.prefix;\r\n    }\r\n\r\n    public void setPrefix(int bitCount) {\r\n        this.prefix = bitCount;\r\n    }\r\n\r\n    public long getFirst() {\r\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\r\n    }\r\n\r\n    public long getLast() {\r\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\r\n    }\r\n\r\n    /**\r\n     * Generates Notation list from given range.\r\n     * &lt;br&gt;\r\n     * Each IP range can result to multiple notations.\r\n     *\r\n     * @param first First IP included in returned notations.\r\n     * @param last  Last IP included in notations.\r\n     * @return Generated routing range notations.\r\n     */\r\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\r\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\r\n        while (last &gt;= first) {\r\n            // Find prefix required to mask first IP in range.\r\n            byte prefix = getPrefixFromRange(first, last);\r\n            // At last, push current range to result list.\r\n            result.add(RouteNotation.fromIPv4(first, prefix));\r\n            // Skip current Notation range.\r\n            first = getNext(first, prefix);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int getMaskFromPrefix(int bitCount) {\r\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\r\n    }\r\n\r\n    /**\r\n     * Skips given Notation range and get first of next notation.\r\n     * &lt;p&gt;\r\n     * Used to get next IP right out of prefix range.\r\n     */\r\n    public static long getNext(long ip, int prefix) {\r\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\r\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\r\n        // (and prevents any possible integer-overflow which we require).\r\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\r\n    }\r\n\r\n    public static byte getPrefixFromRange(long first, long possibleLast) {\r\n        // Find max prefix required for distance (anything less is invalid).\r\n        long distance = (possibleLast - first) + 1;\r\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\r\n        // Get max constant bit count.\r\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\r\n        // Validate and increase limit (more prefix means less range).\r\n        while (prefix &lt; 32) {\r\n            // Limit difference to last IP in range (maximum).\r\n            long max = RouteNotation.getNext(first, prefix) - 1;\r\n            if (max &gt; possibleLast) {\r\n                ++prefix;\r\n            }\r\n            // Never allow IP less than first in range (minimum).\r\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\r\n                ++prefix;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return prefix;\r\n    }\r\n}\r\n```\r\n\r\n&gt;**Note** that it&#39;s a minimal need copy (without our unit-tests and many helper methods), but you may need:\r\n```java\r\n/**\r\n * @return Zero on any error, else IP v4 integer.\r\n */\r\npublic static long ipv4_cast(InetAddress address) {\r\n    long result = 0;\r\n    if (address != null) {\r\n        byte data[] = address.getAddress();\r\n        if (data.length &lt;= 4) {\r\n            for (byte b : data) {\r\n                result &lt;&lt;= 8;\r\n                result |= b &amp; 0xFF;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to convert IP address range to CIDR in Java?","body":"<p>We researched a lot and here is how we implemented it in the end, just use <code>RouteNotation.fromRange(...)</code> method to get <code>List&lt;RouteNotation&gt;</code> after adding below class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.vpn.utils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RouteNotation {\n    private int ipAddress;\n    private int prefix;\n\n    private RouteNotation(long ipAddress, int prefix) {\n        this.ipAddress = (int) ipAddress;\n        this.prefix = prefix;\n    }\n\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\n        return new RouteNotation(ipAddress, prefix);\n    }\n\n    public long getIP() {\n        return this.ipAddress;\n    }\n\n    public void setIP(long v) {\n        this.ipAddress = (int) v;\n    }\n\n    public int getPrefix() {\n        return this.prefix;\n    }\n\n    public void setPrefix(int bitCount) {\n        this.prefix = bitCount;\n    }\n\n    public long getFirst() {\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\n    }\n\n    public long getLast() {\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\n    }\n\n    /**\n     * Generates Notation list from given range.\n     * &lt;br&gt;\n     * Each IP range can result to multiple notations.\n     *\n     * @param first First IP included in returned notations.\n     * @param last  Last IP included in notations.\n     * @return Generated routing range notations.\n     */\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\n        while (last &gt;= first) {\n            // Find prefix required to mask first IP in range.\n            byte prefix = getPrefixFromRange(first, last);\n            // At last, push current range to result list.\n            result.add(RouteNotation.fromIPv4(first, prefix));\n            // Skip current Notation range.\n            first = getNext(first, prefix);\n        }\n        return result;\n    }\n\n    public static int getMaskFromPrefix(int bitCount) {\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\n    }\n\n    /**\n     * Skips given Notation range and get first of next notation.\n     * &lt;p&gt;\n     * Used to get next IP right out of prefix range.\n     */\n    public static long getNext(long ip, int prefix) {\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\n        // (and prevents any possible integer-overflow which we require).\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\n    }\n\n    public static byte getPrefixFromRange(long first, long possibleLast) {\n        // Find max prefix required for distance (anything less is invalid).\n        long distance = (possibleLast - first) + 1;\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\n        // Get max constant bit count.\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\n        // Validate and increase limit (more prefix means less range).\n        while (prefix &lt; 32) {\n            // Limit difference to last IP in range (maximum).\n            long max = RouteNotation.getNext(first, prefix) - 1;\n            if (max &gt; possibleLast) {\n                ++prefix;\n            }\n            // Never allow IP less than first in range (minimum).\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\n                ++prefix;\n            } else {\n                break;\n            }\n        }\n        return prefix;\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>Note</strong> that it's a minimal need copy (without our unit-tests and many helper methods), but you may need:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @return Zero on any error, else IP v4 integer.\n */\npublic static long ipv4_cast(InetAddress address) {\n    long result = 0;\n    if (address != null) {\n        byte data[] = address.getAddress();\n        if (data.length &lt;= 4) {\n            for (byte b : data) {\n                result &lt;&lt;= 8;\n                result |= b &amp; 0xFF;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19731,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54602781,"answer_count":7,"score":11,"last_activity_date":1690610682,"creation_date":1446234812,"question_id":33443914,"body_markdown":"I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?\r\n\r\nI used the [SubnetUtils][1] for converting the CIDR to the IP address range, but I can&#39;t figure out the other way around.\r\n\r\nFor example: (using http://ip2cidr.com/)\r\n\r\n&gt; **Input 1**: 5.10.64.0\r\n&gt;\r\n&gt; **Input 2**: 5.10.127.255\r\n&gt;\r\n&gt; **Result**: 5.10.64.0/18\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html","title":"How to convert IP address range to CIDR in Java?","body":"<p>I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?</p>\n<p>I used the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html\" rel=\"nofollow noreferrer\">SubnetUtils</a> for converting the CIDR to the IP address range, but I can't figure out the other way around.</p>\n<p>For example: (using <a href=\"http://ip2cidr.com/\" rel=\"nofollow noreferrer\">http://ip2cidr.com/</a>)</p>\n<blockquote>\n<p><strong>Input 1</strong>: 5.10.64.0</p>\n<p><strong>Input 2</strong>: 5.10.127.255</p>\n<p><strong>Result</strong>: 5.10.64.0/18</p>\n</blockquote>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690543859,"post_id":76787397,"comment_id":135372188,"body_markdown":"@mkl , any suggestions please.","body":"@mkl , any suggestions please."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690554958,"post_id":76787397,"comment_id":135374572,"body_markdown":"What does your `addValidationInformation` do exactly? In particular, does it ensure a path of objects marked `NeedToBeUpdated` exists from the trailer to the updated objects?","body":"What does your <code>addValidationInformation</code> do exactly? In particular, does it ensure a path of objects marked <code>NeedToBeUpdated</code> exists from the trailer to the updated objects?"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690572864,"post_id":76787397,"comment_id":135377688,"body_markdown":"@mkl I have updated the above description to include the `addValidationInformation` method. Also, I tried setting `dss`, `vri`, `ocsps`, &#39;crls&#39;, `certs`  as `NeedToBeUpdated`. It still not worked. It worked when I called this method before signature with same set of certificates.","body":"@mkl I have updated the above description to include the <code>addValidationInformation</code> method. Also, I tried setting <code>dss</code>, <code>vri</code>, <code>ocsps</code>, &#39;crls&#39;, <code>certs</code>  as <code>NeedToBeUpdated</code>. It still not worked. It worked when I called this method before signature with same set of certificates."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690596943,"post_id":76787397,"comment_id":135379803,"body_markdown":"From the current code, you&#39;re woring on a closed file here: `documentForLTV.close();\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();`","body":"From the current code, you&#39;re woring on a closed file here: <code>documentForLTV.close();  &#47;&#47;Checking updated DSS. Updated DSS shows TSA certs which are expected to be added. PDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();</code>"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690603238,"post_id":76787397,"comment_id":135380075,"body_markdown":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code.","body":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690605544,"post_id":76787397,"comment_id":135380191,"body_markdown":"It seems, it is a bug at PDFBox side, because if I use `PDDocument.save` instead of `saveIncremental`, DSS is present in output document but the signature gets invalidated. @mkl","body":"It seems, it is a bug at PDFBox side, because if I use <code>PDDocument.save</code> instead of <code>saveIncremental</code>, DSS is present in output document but the signature gets invalidated. @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690609002,"post_id":76787397,"comment_id":135380389,"body_markdown":"I don&#39;t see your code setting the `NeedToBeUpdated` flags anywhere. `saveIncremental` needs those flags to work, `save` doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing `NeedToBeUpdated` management in your code.","body":"I don&#39;t see your code setting the <code>NeedToBeUpdated</code> flags anywhere. <code>saveIncremental</code> needs those flags to work, <code>save</code> doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing <code>NeedToBeUpdated</code> management in your code."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690610700,"post_id":76787397,"comment_id":135380483,"body_markdown":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process.","body":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":1,"creation_date":1690610888,"post_id":76787397,"comment_id":135380494,"body_markdown":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated.","body":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690620078,"post_id":76787397,"comment_id":135381264,"body_markdown":"The `AddValidationInformation.java` example from PDFBox had that.","body":"The <code>AddValidationInformation.java</code> example from PDFBox had that."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690623036,"post_id":76787397,"comment_id":135381507,"body_markdown":"@user207421 *&quot;You can&#39;t do this.&quot;* - you may want to read up on integrated pdf signatures and incremental updates.","body":"@user207421 <i>&quot;You can&#39;t do this.&quot;</i> - you may want to read up on integrated pdf signatures and incremental updates."}],"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690610644,"creation_date":1690543775,"question_id":76787397,"body_markdown":"As per my current understanding, it is not allowed to add `DSS` for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as `PDDocument` to add `DSS` for Timestamp Certificates. \r\n\r\nBelow is my source code for the same:\r\n\r\n```\r\n//This saves the signed file to responseStream\r\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\r\n\r\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\r\nPDDocument documentForLTV = PDDocument.load(responseStream);\r\n\r\n//New response stream with DSS\r\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\r\n\r\n//Adds revocation info and certs for TSA into DSS of PDDocument \r\naddValidationInformation(documentForLTV, TSACertificates);\r\n\r\ndocumentForLTV.saveIncremental(outputStreamLTV);\r\n\r\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\r\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\r\nCOSDictionary catalog = docCatalog.getCOSObject();\r\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n\r\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\r\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\r\n\r\ndocumentForLTV.close();\r\nreturn responseStreamLTV;\r\n```\r\nHere, I am adding Timestamp Certs and Revocation Information to DSS using my method `addValidationInformation`. This is the same method, which I use to add Validation information for signing Certs to `DSS`. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can&#39;t find them in my final output PDF.\r\n`outputStreamLTV` only contains Validation Information for Signing Certs.\r\n\r\naddValidationInformation method is as follows:\r\n\r\n```\r\npublic void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\r\n\r\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\r\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\r\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\r\n\r\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\r\n        COSDictionary catalog = docCatalog.getCOSObject();\r\n        catalog.setNeedsTobeUpdated(true);\r\n        // As mentioned in PDFBox Samples\r\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\n        dss.setNeedsTobeUpdated(true);\r\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\r\n        vri.setNeedsTobeUpdated(true);\r\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\r\n        ocsps.setNeedsTobeUpdated(true);\r\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\r\n        crls.setNeedsTobeUpdated(true);\r\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n        certs.setNeedsTobeUpdated(true);\r\n\r\n        if (ocspResponse != null) {\r\n            ocspResponse.forEach(ocsp -&gt; {\r\n                byte[] ocspData = b64Decoder.decode(ocsp);\r\n                try {\r\n                    ocsps.add(writeDataToStream(ocspData, document));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!ocspResponse.isEmpty()) {\r\n            vri.setItem(&quot;OCSP&quot;, ocsps);\r\n        }\r\n\r\n        //Same for CRL and Certs...\r\n\r\n    }\r\n```\r\n\r\nSome of my other findings are:\r\n\r\n1. I am able to add timestamp certs and revocation information in similar way using PDFBox samples `AddValidationInformation` and [this](https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183) method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality. \r\n2. Also, i use `PDDocument.save(outputStreamLTV)` instead of `PDDocument.saveIncremental(outputStreamLTV)`. Output PDF shows desired DSS but the signature gets invalid.\r\n\r\nKindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\r\nOr is it a bug at `PDFBox` side, because I am able to add DSS using the same method `addValidationInformation` before signature using one dummy call to TSA for fetching certs.\r\n\r\n\r\n","title":"Unable to add DSS to a signed PDF after reloading it","body":"<p>As per my current understanding, it is not allowed to add <code>DSS</code> for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as <code>PDDocument</code> to add <code>DSS</code> for Timestamp Certificates.</p>\n<p>Below is my source code for the same:</p>\n<pre><code>//This saves the signed file to responseStream\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\n\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\nPDDocument documentForLTV = PDDocument.load(responseStream);\n\n//New response stream with DSS\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\n\n//Adds revocation info and certs for TSA into DSS of PDDocument \naddValidationInformation(documentForLTV, TSACertificates);\n\ndocumentForLTV.saveIncremental(outputStreamLTV);\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\nCOSDictionary catalog = docCatalog.getCOSObject();\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\n\ndocumentForLTV.close();\nreturn responseStreamLTV;\n</code></pre>\n<p>Here, I am adding Timestamp Certs and Revocation Information to DSS using my method <code>addValidationInformation</code>. This is the same method, which I use to add Validation information for signing Certs to <code>DSS</code>. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can't find them in my final output PDF.\n<code>outputStreamLTV</code> only contains Validation Information for Signing Certs.</p>\n<p>addValidationInformation method is as follows:</p>\n<pre><code>public void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\n\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\n\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\n        COSDictionary catalog = docCatalog.getCOSObject();\n        catalog.setNeedsTobeUpdated(true);\n        // As mentioned in PDFBox Samples\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\n        dss.setNeedsTobeUpdated(true);\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\n        vri.setNeedsTobeUpdated(true);\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\n        ocsps.setNeedsTobeUpdated(true);\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\n        crls.setNeedsTobeUpdated(true);\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n        certs.setNeedsTobeUpdated(true);\n\n        if (ocspResponse != null) {\n            ocspResponse.forEach(ocsp -&gt; {\n                byte[] ocspData = b64Decoder.decode(ocsp);\n                try {\n                    ocsps.add(writeDataToStream(ocspData, document));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        if (!ocspResponse.isEmpty()) {\n            vri.setItem(&quot;OCSP&quot;, ocsps);\n        }\n\n        //Same for CRL and Certs...\n\n    }\n</code></pre>\n<p>Some of my other findings are:</p>\n<ol>\n<li>I am able to add timestamp certs and revocation information in similar way using PDFBox samples <code>AddValidationInformation</code> and <a href=\"https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183\" rel=\"nofollow noreferrer\">this</a> method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality.</li>\n<li>Also, i use <code>PDDocument.save(outputStreamLTV)</code> instead of <code>PDDocument.saveIncremental(outputStreamLTV)</code>. Output PDF shows desired DSS but the signature gets invalid.</li>\n</ol>\n<p>Kindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\nOr is it a bug at <code>PDFBox</code> side, because I am able to add DSS using the same method <code>addValidationInformation</code> before signature using one dummy call to TSA for fetching certs.</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":1,"creation_date":1482580344,"post_id":41312981,"comment_id":69829263,"body_markdown":"Use a `BlockingQueue` to hold runnables and keep removing and executing in a background thread?","body":"Use a <code>BlockingQueue</code> to hold runnables and keep removing and executing in a background thread?"},{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1482580418,"post_id":41312981,"comment_id":69829283,"body_markdown":"Can you please give some example links","body":"Can you please give some example links"}],"answers":[{"tags":[],"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1482580833,"creation_date":1482580833,"answer_id":41313060,"question_id":41312981,"body_markdown":"You can use a `BlockingQueue` to keep waiting in a separate thread until one or more `Runnable` show up.\r\n\r\n    public class Mainer {\r\n    \tprivate static final BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(15);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThread t = new Thread(() -&gt; {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tqueue.take().run();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tt.start();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tqueue.add(() -&gt; {\r\n    \t\t\t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>You can use a <code>BlockingQueue</code> to keep waiting in a separate thread until one or more <code>Runnable</code> show up.</p>\n\n<pre><code>public class Mainer {\n    private static final BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(15);\n\n    public static void main(String[] args) {\n        Thread t = new Thread(() -&gt; {\n            while (true) {\n                try {\n                    queue.take().run();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        });\n        t.start();\n\n        for (int i = 0; i &lt; 10; i++) {\n            queue.add(() -&gt; {\n                System.out.println(\"Hello\");\n            });\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681696650,"creation_date":1482582808,"answer_id":41313303,"question_id":41312981,"body_markdown":"I think that you **should be** using an `ExecutorService`.  \r\n\r\n - It maintains a queue of tasks to be run.  You can provide your own queue if you need to.\r\n - New tasks can be added at any time using the `submit` method.\r\n - Futures may be obtained when submitting tasks.\r\n - Tasks may be run one at a time, or in parallel using a pool of worker threads.\r\n - If you use multiple threads, the various executor service implementations provide different pool management strategies.\r\n - There are operations for draining and shutting down the service.\r\n \r\nIf you want an `ExecutorService` that will always run the tasks one at a time, make sure that you specify a thread pool with a maximum size of one thread.\r\n\r\n&gt;  you please give some example links\r\n\r\nThe [javadocs][1] have examples.\r\n\r\n-----------------------\r\n\r\nThe objections that you raised are all based on incorrect information.\r\n\r\n&gt; 1) But I can&#39;t use both of these solution. Because after starting `ExecutorService` I can&#39;t add new task to the service. \r\n\r\nYes you can.  That is what `ExecutorService.submit(...)` does.\r\n\r\n&gt; 2) Because we know that it may throw `InterruptedException` ...\r\n\r\nIt will only throw `InterruptedException` if your application does something to cause that to happen; e.g. shutting down the `ExecutorService` using `shutdownNow()`.  (If you don&#39;t want that, you can use `shutdown()` instead, or simply not shut down the executor at all.  Refer to the javadocs for more details.)\r\n\r\nAnyway, your code can deal with the exception, as the code in the [other answer][2] does ... albeit that it handles it in a way that you *shouldn&#39;t* do in production code.  (Printing a stacktrace to standard output is a bad idea.  And ignoring an `InterruptedException` could be wrong thing, in some contexts.)\r\n\r\n&gt; 3) ... or `ConcurrentModificationException`.\r\n\r\nAFAIK, the only scenario where an `ExecutorService` can throw `ConcurrentModificationException` is if you are using a custom `Queue` class that isn&#39;t implemented properly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://stackoverflow.com/a/41313060/139985","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>I think that you <strong>should be</strong> using an <code>ExecutorService</code>.</p>\n<ul>\n<li>It maintains a queue of tasks to be run.  You can provide your own queue if you need to.</li>\n<li>New tasks can be added at any time using the <code>submit</code> method.</li>\n<li>Futures may be obtained when submitting tasks.</li>\n<li>Tasks may be run one at a time, or in parallel using a pool of worker threads.</li>\n<li>If you use multiple threads, the various executor service implementations provide different pool management strategies.</li>\n<li>There are operations for draining and shutting down the service.</li>\n</ul>\n<p>If you want an <code>ExecutorService</code> that will always run the tasks one at a time, make sure that you specify a thread pool with a maximum size of one thread.</p>\n<blockquote>\n<p>you please give some example links</p>\n</blockquote>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">javadocs</a> have examples.</p>\n<hr />\n<p>The objections that you raised are all based on incorrect information.</p>\n<blockquote>\n<ol>\n<li>But I can't use both of these solution. Because after starting <code>ExecutorService</code> I can't add new task to the service.</li>\n</ol>\n</blockquote>\n<p>Yes you can.  That is what <code>ExecutorService.submit(...)</code> does.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Because we know that it may throw <code>InterruptedException</code> ...</li>\n</ol>\n</blockquote>\n<p>It will only throw <code>InterruptedException</code> if your application does something to cause that to happen; e.g. shutting down the <code>ExecutorService</code> using <code>shutdownNow()</code>.  (If you don't want that, you can use <code>shutdown()</code> instead, or simply not shut down the executor at all.  Refer to the javadocs for more details.)</p>\n<p>Anyway, your code can deal with the exception, as the code in the <a href=\"https://stackoverflow.com/a/41313060/139985\">other answer</a> does ... albeit that it handles it in a way that you <em>shouldn't</em> do in production code.  (Printing a stacktrace to standard output is a bad idea.  And ignoring an <code>InterruptedException</code> could be wrong thing, in some contexts.)</p>\n<blockquote>\n<ol start=\"3\">\n<li>... or <code>ConcurrentModificationException</code>.</li>\n</ol>\n</blockquote>\n<p>AFAIK, the only scenario where an <code>ExecutorService</code> can throw <code>ConcurrentModificationException</code> is if you are using a custom <code>Queue</code> class that isn't implemented properly.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690609715,"creation_date":1690609715,"answer_id":76792224,"question_id":41312981,"body_markdown":"Adding implementation to [Stephen answer](https://stackoverflow.com/questions/41312981/create-a-job-queue-or-task-controller-and-dynamically-add-task-to-it-in-java/41313303#41313303)\r\n\r\n```\r\npublic class MyController {\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Logger logger = Logger.getLogger(MyController.class.getName());\r\n\r\n    //POST\r\n    public void addTask(String taskId){\r\n        Runnable task = createTask(taskId);\r\n        executor.submit(task);\r\n    }\r\n\r\n    public void shutdown(){\r\n        executor.shutdown();\r\n    }\r\n\r\n    private Runnable createTask(String taskId) {\r\n        return new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    taskId.toString();\r\n                    //your task\r\n                }catch (Exception e){\r\n                    logger.log(Level.SEVERE,&quot;error executing task&quot;+taskId);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>Adding implementation to <a href=\"https://stackoverflow.com/questions/41312981/create-a-job-queue-or-task-controller-and-dynamically-add-task-to-it-in-java/41313303#41313303\">Stephen answer</a></p>\n<pre><code>public class MyController {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Logger logger = Logger.getLogger(MyController.class.getName());\n\n    //POST\n    public void addTask(String taskId){\n        Runnable task = createTask(taskId);\n        executor.submit(task);\n    }\n\n    public void shutdown(){\n        executor.shutdown();\n    }\n\n    private Runnable createTask(String taskId) {\n        return new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    taskId.toString();\n                    //your task\n                }catch (Exception e){\n                    logger.log(Level.SEVERE,&quot;error executing task&quot;+taskId);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41313060,"answer_count":3,"score":2,"last_activity_date":1690609715,"creation_date":1482580156,"question_id":41312981,"body_markdown":"I want to create a job queue to execute multiple tasks. but, my requirement is I should be able to add tasks to that job queue at any time and all those tasks should be executed sequentially. I searched for some solutions on the internet and found these two links:\r\n\r\n1. [Java Thread Pool Executor Example][1] \r\n\r\n2. [Java Executor Framework Tutorial and Best Practices][1]\r\n\r\nBut I can&#39;t use both of these solutions. Because after starting the `ExecutorService` I can&#39;t add a new task to the service. Because we know that It may throw `InterruptedException` or `ConcurrentModificationException`.\r\n\r\n\r\n  [1]: http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>I want to create a job queue to execute multiple tasks. but, my requirement is I should be able to add tasks to that job queue at any time and all those tasks should be executed sequentially. I searched for some solutions on the internet and found these two links:</p>\n<ol>\n<li><p><a href=\"http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/\" rel=\"nofollow noreferrer\">Java Thread Pool Executor Example</a></p>\n</li>\n<li><p><a href=\"http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/\" rel=\"nofollow noreferrer\">Java Executor Framework Tutorial and Best Practices</a></p>\n</li>\n</ol>\n<p>But I can't use both of these solutions. Because after starting the <code>ExecutorService</code> I can't add a new task to the service. Because we know that It may throw <code>InterruptedException</code> or <code>ConcurrentModificationException</code>.</p>\n"},{"tags":["java","database","cassandra"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690573737,"creation_date":1690573737,"answer_id":76790650,"question_id":76790046,"body_markdown":"I&#39;ve seen this happen before.  This means that your cluster is taking more writes than it can keep up with.  Eventually what happens, is that the nodes get overwhelmed, stop accepting writes due to the backpressure, and eventually start rejecting them.  This causes the other nodes to accumulate hints.\r\n\r\n&gt; java.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690554222773.log /cassandra/commitlog/CommitLog-6-1690554222773.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690554222773.log’: File exists\r\n\r\nNow, I haven&#39;t seen that particular error.  Although it seems to suggest that a commitlog file can&#39;t be properly hard-linked.  TBH I think it&#39;s more of a symptom rather than a cause.\r\n\r\nHave a look at your metrics.  When this happens, CPU usage tends to go and stay high.  As for fixing this, there are a couple of options:\r\n\r\n - **Throttle-down the write load**. An easy way to do this, is to put an event streamer / message broker (like Pulsar or Kafka) in-between the writing application and the cluster. Then, build a consumer to grab the messages and write them into Cassandra.\r\n - **Add more nodes**.  Probably the most likely scenario, is that the current cluster doesn&#39;t have the resources necessary to process the current write load.  If you&#39;re deploying in a public or private cloud, this should be pretty easy to do.\r\n - **Adjusting `memtable_flush_writers`**.  It&#39;s possible that the default of 2 isn&#39;t right for your cluster&#39;s load.  Read through the comments in the `cassandra.yaml` file, but if I remember right, reducing the number of flush writers should increase flush activity.  From what I&#39;m reading though, I don&#39;t think adjusting this setting will be enough, but it&#39;s worth a try.\r\n\r\n**TL;DR;**\r\n\r\n - Decrease the amount of writes coming in.\r\n - Increase the cluster nodes.\r\n - Adjust `memtable_flush_writers` in the `cassandra.yaml` file (requires restart of all nodes).","title":"Commit logs and hints directory are getting filed up and not rotating","body":"<p>I've seen this happen before.  This means that your cluster is taking more writes than it can keep up with.  Eventually what happens, is that the nodes get overwhelmed, stop accepting writes due to the backpressure, and eventually start rejecting them.  This causes the other nodes to accumulate hints.</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690554222773.log /cassandra/commitlog/CommitLog-6-1690554222773.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690554222773.log’: File exists</p>\n</blockquote>\n<p>Now, I haven't seen that particular error.  Although it seems to suggest that a commitlog file can't be properly hard-linked.  TBH I think it's more of a symptom rather than a cause.</p>\n<p>Have a look at your metrics.  When this happens, CPU usage tends to go and stay high.  As for fixing this, there are a couple of options:</p>\n<ul>\n<li><strong>Throttle-down the write load</strong>. An easy way to do this, is to put an event streamer / message broker (like Pulsar or Kafka) in-between the writing application and the cluster. Then, build a consumer to grab the messages and write them into Cassandra.</li>\n<li><strong>Add more nodes</strong>.  Probably the most likely scenario, is that the current cluster doesn't have the resources necessary to process the current write load.  If you're deploying in a public or private cloud, this should be pretty easy to do.</li>\n<li><strong>Adjusting <code>memtable_flush_writers</code></strong>.  It's possible that the default of 2 isn't right for your cluster's load.  Read through the comments in the <code>cassandra.yaml</code> file, but if I remember right, reducing the number of flush writers should increase flush activity.  From what I'm reading though, I don't think adjusting this setting will be enough, but it's worth a try.</li>\n</ul>\n<p><strong>TL;DR;</strong></p>\n<ul>\n<li>Decrease the amount of writes coming in.</li>\n<li>Increase the cluster nodes.</li>\n<li>Adjust <code>memtable_flush_writers</code> in the <code>cassandra.yaml</code> file (requires restart of all nodes).</li>\n</ul>\n"}],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690609663,"creation_date":1690566743,"question_id":76790046,"body_markdown":"Our commitlogs in cassandra cluster are increasing and it&#39;s not getting rotated. Even the hints directory continues to grow and after some hours the node gets completely filled up. We have to manually flush and drain the nodes in order to keep the cluster up. \r\nWe are continuously seeing the following error in the Cassandra system.log \r\n\r\n```\r\nERROR [CommitLogArchiver:1] 2023-07-28 17:27:19,289 CassandraDaemon.java:244 - Exception in thread Thread[CommitLogArchiver:1,5,main]\r\n\r\njava.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-*****.log /cassandra/commitlog/CommitLog-6-*****.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-****.log’: File exists\r\n```\r\nUpdate 1: More logs\r\n\r\n```\r\n...\r\n\tat org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:84) [apache-cassandra-3.11.10.jar:3.11.10]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\r\nCaused by: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690545624564.log /cassandra/commitlog/CommitLog-6-1690545624564.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690545624564.log’: File exists\r\n.\r\n.\r\n.\r\n\r\nWARN  [CompactionExecutor:80864] 2023-07-28 18:31:35,403 BigTableWriter.java:211 - Writing large partition *****:***_490267998772576797 (124.548MiB) to sstable /cassandra/data1/**/event_source-0b510d8003e811ecb8bb3d20c002593b/md-15942-big-Data.db\r\nINFO  [ReadStage-3] 2023-07-28 18:32:03,841 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\r\nWARN  [CompactionExecutor:80864] 2023-07-28 18:32:36,245 BigTableWriter.java:211 - Writing large partition ***/***:2023-07-28:61:com.Ticket (112.067MiB) to sstable /cassandra/data1/****/****-869ff7d3f4d711ed9031839535e0fa8e/md-1381-big-Data.db\r\n...\r\n\r\nINFO  [HintsDispatcher:8394] 2023-07-28 18:44:12,914 HintsDispatchExecutor.java:282 - Finished hinted handoff of file 7c57e613-f0c6-4f67-9da5-3cfaad15de29-1690397494422-1.hints to endpoint /100.125.114.117: 7c57e613-f0c6-4f67-9da5-3cfaad15de29\r\nINFO  [ReadStage-2] 2023-07-28 18:47:05,188 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\r\nWARN  [CompactionExecutor:80867] 2023-07-28 18:47:24,120 BigTableWriter.java:211 - Writing large partition ***/event_source:comTicket:***_998981534549995600 (166.860MiB) to sstable /cassandra/data1/****/***-0b510d8003e811ecb8bb3d20c002593b/md-15947-big-Data.db\r\n...\r\n```\r\nAny help?","title":"Commit logs and hints directory are getting filed up and not rotating","body":"<p>Our commitlogs in cassandra cluster are increasing and it's not getting rotated. Even the hints directory continues to grow and after some hours the node gets completely filled up. We have to manually flush and drain the nodes in order to keep the cluster up.\nWe are continuously seeing the following error in the Cassandra system.log</p>\n<pre><code>ERROR [CommitLogArchiver:1] 2023-07-28 17:27:19,289 CassandraDaemon.java:244 - Exception in thread Thread[CommitLogArchiver:1,5,main]\n\njava.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-*****.log /cassandra/commitlog/CommitLog-6-*****.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-****.log’: File exists\n</code></pre>\n<p>Update 1: More logs</p>\n<pre><code>...\n    at org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:84) [apache-cassandra-3.11.10.jar:3.11.10]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\nCaused by: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690545624564.log /cassandra/commitlog/CommitLog-6-1690545624564.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690545624564.log’: File exists\n.\n.\n.\n\nWARN  [CompactionExecutor:80864] 2023-07-28 18:31:35,403 BigTableWriter.java:211 - Writing large partition *****:***_490267998772576797 (124.548MiB) to sstable /cassandra/data1/**/event_source-0b510d8003e811ecb8bb3d20c002593b/md-15942-big-Data.db\nINFO  [ReadStage-3] 2023-07-28 18:32:03,841 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\nWARN  [CompactionExecutor:80864] 2023-07-28 18:32:36,245 BigTableWriter.java:211 - Writing large partition ***/***:2023-07-28:61:com.Ticket (112.067MiB) to sstable /cassandra/data1/****/****-869ff7d3f4d711ed9031839535e0fa8e/md-1381-big-Data.db\n...\n\nINFO  [HintsDispatcher:8394] 2023-07-28 18:44:12,914 HintsDispatchExecutor.java:282 - Finished hinted handoff of file 7c57e613-f0c6-4f67-9da5-3cfaad15de29-1690397494422-1.hints to endpoint /100.125.114.117: 7c57e613-f0c6-4f67-9da5-3cfaad15de29\nINFO  [ReadStage-2] 2023-07-28 18:47:05,188 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\nWARN  [CompactionExecutor:80867] 2023-07-28 18:47:24,120 BigTableWriter.java:211 - Writing large partition ***/event_source:comTicket:***_998981534549995600 (166.860MiB) to sstable /cassandra/data1/****/***-0b510d8003e811ecb8bb3d20c002593b/md-15947-big-Data.db\n...\n</code></pre>\n<p>Any help?</p>\n"},{"tags":["java","hibernate","validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":9840019,"reputation":3334,"user_id":7289257,"display_name":"Kevin Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690604330,"creation_date":1489852264,"answer_id":42876456,"question_id":38453118,"body_markdown":"There was a way to circumvent the `@NotNull` check via native queries if your schema was not generated by Hibernate or Hibernate was not as smart as it ultimately is. You could try to insert / update your database rows natively without triggering the application layer validation but Hibernate is so kind to also generate the `NOT NULL` database constraint for fields annotated with `@NotNull`, which in the end is a great thing.\r\n\r\nYou should wonder why you have the need to execute queries that do not conform to the implemented validation restrictions, for sure the developer who added the constraint thought well about its consequences. In general, the target should be to prevent inserting (avoidable) null values in your database.","title":"Conditionally disable hibernate validation while executing hibernate query","body":"<p>There was a way to circumvent the <code>@NotNull</code> check via native queries if your schema was not generated by Hibernate or Hibernate was not as smart as it ultimately is. You could try to insert / update your database rows natively without triggering the application layer validation but Hibernate is so kind to also generate the <code>NOT NULL</code> database constraint for fields annotated with <code>@NotNull</code>, which in the end is a great thing.</p>\n<p>You should wonder why you have the need to execute queries that do not conform to the implemented validation restrictions, for sure the developer who added the constraint thought well about its consequences. In general, the target should be to prevent inserting (avoidable) null values in your database.</p>\n"}],"owner":{"account_id":3639489,"reputation":385,"user_id":3034019,"accept_rate":44,"display_name":"balajiprasadb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1690604330,"creation_date":1468916670,"question_id":38453118,"body_markdown":"I have a model which has some NOT NULL hibernate validations applied. I need to execute few DAO queries (create /update) such that the validations are relaxed only while executing those queries. I don&#39;t want to completely turn off the validations as there are other queries in my DAO layer which need them. ","title":"Conditionally disable hibernate validation while executing hibernate query","body":"<p>I have a model which has some NOT NULL hibernate validations applied. I need to execute few DAO queries (create /update) such that the validations are relaxed only while executing those queries. I don't want to completely turn off the validations as there are other queries in my DAO layer which need them. </p>\n"},{"tags":["java","android","android-architecture-components","android-architecture-lifecycle"],"comments":[{"owner":{"account_id":972860,"reputation":1594,"user_id":995041,"accept_rate":67,"display_name":"Nick Shvelidze"},"score":1,"creation_date":1506589447,"post_id":46465056,"comment_id":79885122,"body_markdown":"You need to post more code. Show the Activity&#39;s `import`s and class definition.","body":"You need to post more code. Show the Activity&#39;s <code>import</code>s and class definition."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506590600,"post_id":46465056,"comment_id":79885922,"body_markdown":"I have added the code. Please have a look.","body":"I have added the code. Please have a look."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506590764,"post_id":46465056,"comment_id":79886050,"body_markdown":"I dont see any problem except that you import DisposableSubscriber in your ViewModel which is not needed.","body":"I dont see any problem except that you import DisposableSubscriber in your ViewModel which is not needed."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506590914,"post_id":46465056,"comment_id":79886154,"body_markdown":"I have not pasted the inner Subscriber class just because it is not related to this issue anyhow.","body":"I have not pasted the inner Subscriber class just because it is not related to this issue anyhow."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506593304,"post_id":46465056,"comment_id":79887790,"body_markdown":"Please try to set the arch version to 1.0.0-alpha9-1.","body":"Please try to set the arch version to 1.0.0-alpha9-1."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506596689,"post_id":46465056,"comment_id":79889909,"body_markdown":"I have set the version to 1.0.0-alpha9-1 and it worked and then again I replaced it with 1.0.0-beta1 and it is still working. No idea why it didn&#39;t work initially.","body":"I have set the version to 1.0.0-alpha9-1 and it worked and then again I replaced it with 1.0.0-beta1 and it is still working. No idea why it didn&#39;t work initially."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506608277,"post_id":46465056,"comment_id":79897955,"body_markdown":"It&#39;s the Cache of the Annotation processor... . :P If my answers helped, accept it to help others. Thanks.","body":"It&#39;s the Cache of the Annotation processor... . :P If my answers helped, accept it to help others. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1506593290,"creation_date":1506589852,"answer_id":46465297,"question_id":46465056,"body_markdown":"You don&#39;t need to implement this anymore.\r\n\r\nJust extend your activity by AppCompatActivity which extends LifecycleOwner. \r\n\r\n&gt; This interface was deprecated in API level 1.0.0. Use\r\n&gt; android.support.v7.app.AppCompatActivity which extends LifecycleOwner,\r\n&gt; so there are no use cases for this class.\r\n\r\nYou forgot to override\r\n\r\n\r\n    private final LifecycleRegistry lifecycleRegistry = new LifecycleRegistry(this);\r\n      \r\n    @Override\r\n    public LifecycleRegistry getLifecycle() {\r\n        return lifecycleRegistry;\r\n    }\r\n\r\nYou need at least Support-Lib [26.1][1]\r\n\r\n\r\nSame for fragments. Just extend your Fragment by `LifecycleFragment` which extends `android.support.v4.app.Fragment`\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/support-library/revisions.html#26-1-0\r\n\r\n\r\nEdit: Just rebuilt a quick sample project using Kotlin and it worked. \r\n\r\n    class MainActivity : AppCompatActivity(), HasSupportFragmentInjector, AnkoLogger {\r\n        private val lifecycleRegistry by lazy { android.arch.lifecycle.LifecycleRegistry(this) }\r\n        private val viewModel by lazy { ViewModelProviders.of(this, viewModelFactory).get(BridgesVm::class.java) }\r\n        override fun getLifecycle() = lifecycleRegistry\r\n\r\n        public override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            viewModel.data.observe(this, Observer&lt;Bridge?&gt; { info { &quot;Received&quot; } })\r\n       }\r\n    }\r\n\r\n    class BridgesVm @Inject constructor() : ViewModel() { \r\n            val data: LiveData&lt;Bridge&gt; = MutableLiveData&lt;Bridge&gt;()\r\n    }\r\n\r\n\r\nEdit:\r\n\r\nThere&#39;s a problem using arch version beta1. Consider using 1.0.0-alpha9-1 until this is fixed. In my case it wasnt working if i use beta1 but working with alpha 9-1","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>You don't need to implement this anymore.</p>\n\n<p>Just extend your activity by AppCompatActivity which extends LifecycleOwner. </p>\n\n<blockquote>\n  <p>This interface was deprecated in API level 1.0.0. Use\n  android.support.v7.app.AppCompatActivity which extends LifecycleOwner,\n  so there are no use cases for this class.</p>\n</blockquote>\n\n<p>You forgot to override</p>\n\n<pre><code>private final LifecycleRegistry lifecycleRegistry = new LifecycleRegistry(this);\n\n@Override\npublic LifecycleRegistry getLifecycle() {\n    return lifecycleRegistry;\n}\n</code></pre>\n\n<p>You need at least Support-Lib <a href=\"https://developer.android.com/topic/libraries/support-library/revisions.html#26-1-0\" rel=\"noreferrer\">26.1</a></p>\n\n<p>Same for fragments. Just extend your Fragment by <code>LifecycleFragment</code> which extends <code>android.support.v4.app.Fragment</code></p>\n\n<p>Edit: Just rebuilt a quick sample project using Kotlin and it worked. </p>\n\n<pre><code>class MainActivity : AppCompatActivity(), HasSupportFragmentInjector, AnkoLogger {\n    private val lifecycleRegistry by lazy { android.arch.lifecycle.LifecycleRegistry(this) }\n    private val viewModel by lazy { ViewModelProviders.of(this, viewModelFactory).get(BridgesVm::class.java) }\n    override fun getLifecycle() = lifecycleRegistry\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        viewModel.data.observe(this, Observer&lt;Bridge?&gt; { info { \"Received\" } })\n   }\n}\n\nclass BridgesVm @Inject constructor() : ViewModel() { \n        val data: LiveData&lt;Bridge&gt; = MutableLiveData&lt;Bridge&gt;()\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>There's a problem using arch version beta1. Consider using 1.0.0-alpha9-1 until this is fixed. In my case it wasnt working if i use beta1 but working with alpha 9-1</p>\n"},{"tags":[],"owner":{"account_id":6241623,"reputation":471,"user_id":4855062,"display_name":"Thales Pupo Araujo"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1555270886,"creation_date":1555270886,"answer_id":55679335,"question_id":46465056,"body_markdown":"Same problem here, so I had to update my androidx.appcompat dependency, like below:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-alpha04&#39;","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>Same problem here, so I had to update my androidx.appcompat dependency, like below:</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0-alpha04'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7638510,"reputation":109,"user_id":5791366,"display_name":"Sachidananda Sahu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1581602263,"creation_date":1563277475,"answer_id":57056481,"question_id":46465056,"body_markdown":"use android jetpack, it&#39;ll solve your problem\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-rc01&#39;","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>use android jetpack, it'll solve your problem</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0-rc01'\n</code></pre>\n"}],"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20193,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1690604172,"creation_date":1506589111,"question_id":46465056,"body_markdown":"I am using Android Support Library `26.1.0`. These are the dependencies in the app module:  \r\n\r\n    implementation &quot;android.arch.lifecycle:runtime:1.0.0&quot;\r\n    implementation &quot;android.arch.lifecycle:extensions:1.0.0-beta1&quot;\r\n    implementation &quot;android.arch.persistence.room:rxjava2:1.0.0-beta1&quot;\r\n    implementation &quot;android.arch.lifecycle:common-java8:1.0.0-beta1&quot;\r\n    annotationProcessor &quot;android.arch.lifecycle:compiler:1.0.0-beta1&quot;\r\n\r\nBut when I am trying to use ViewModel like the below: \r\n\r\n    mUserViewModel.getUsers().observe(this,\r\n                (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\r\n                    if(listResource != null){\r\n                        this.handleDataState(listResource.status, listResource.data, listResource.message);\r\n                    }\r\n                });\r\nIt is showing error at `this` and the error message is `Wrong first argument type Found: packagename.BrowseActivity, required: android.arch.lifecycle.LifecycleOwner`. (Although support library version is 26.1+ which already implements LifecycleOwner)\r\n\r\nI have also tried to implement `LifecycleRegistryOwner` which I found in this [sample][1] and this is also not working. Kindly suggest a solution and let me know if I am doing anything wrong.\r\n\r\n**Edit 1** - \r\nThis is an Activity class:\r\n\r\n    import android.arch.lifecycle.Observer;\r\n    import android.arch.lifecycle.ViewModelProviders;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.View;\r\n    import android.widget.ProgressBar;\r\n\r\n    import com.github.amitkma.boilerplate.app.R;\r\n    import com.github.amitkma.boilerplate.app.mapper.UserMapper;\r\n    import com.github.amitkma.boilerplate.app.model.UserModel;\r\n    import com.github.amitkma.boilerplate.app.ui.widget.EmptyView;\r\n    import com.github.amitkma.boilerplate.app.ui.widget.ErrorView;\r\n    import com.github.amitkma.boilerplate.presentation.data.Resource;\r\n    import com.github.amitkma.boilerplate.presentation.data.ResourceState;\r\n    import com.github.amitkma.boilerplate.presentation.factory.ViewModelFactory;\r\n    import com.github.amitkma.boilerplate.presentation.viewmodel.UserViewModel;\r\n    import com.github.amitkma.boilerplate.presentation.vo.UserView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.inject.Inject;\r\n\r\n    import dagger.android.AndroidInjection;\r\n\r\n    public class BrowseActivity extends AppCompatActivity {\r\n\r\n        @Inject\r\n        UserAdapter mUserAdapter;\r\n        @Inject\r\n        UserMapper mUserMapper;\r\n        @Inject\r\n        ViewModelFactory mViewModelFactory;\r\n        private UserViewModel mUserViewModel;\r\n\r\n        private RecyclerView mRecyclerView;\r\n        private ProgressBar mProgressBar;\r\n        private ErrorView mErrorView;\r\n        private EmptyView mEmptyView;\r\n\r\n\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           AndroidInjection.inject(this);\r\n           setContentView(R.layout.activity_browse);\r\n           mUserViewModel = ViewModelProviders.of(this, mViewModelFactory)\r\n                .get(UserViewModel.class);\r\n\r\n           mRecyclerView = findViewById(R.id.recycler_browse);\r\n           mProgressBar = findViewById(R.id.progress);\r\n           mEmptyView = findViewById(R.id.view_empty);\r\n           mErrorView = findViewById(R.id.view_error);\r\n\r\n           setupBrowseRecycler();\r\n           setupViewListeners();\r\n       }\r\n\r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            mUserViewModel.getUsers().observe(this,\r\n                (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\r\n                    if(listResource != null){\r\n                        this.handleDataState(listResource.status, listResource.data, listResource.message);\r\n                    }\r\n                });\r\n        }\r\n        ....\r\n    }\r\n    \r\nThis is ViewModel Class:\r\n\r\n    import android.arch.lifecycle.LiveData;\r\n    import android.arch.lifecycle.MutableLiveData;\r\n    import android.arch.lifecycle.ViewModel;\r\n\r\n    import com.github.amitkma.boilerplate.domain.interactor.GetUserList;\r\n    import com.github.amitkma.boilerplate.domain.model.User;\r\n    import com.github.amitkma.boilerplate.presentation.data.Resource;\r\n    import com.github.amitkma.boilerplate.presentation.data.ResourceState;\r\n    import com.github.amitkma.boilerplate.presentation.mapper.UserMapper;\r\n    import com.github.amitkma.boilerplate.presentation.vo.UserView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.inject.Inject;\r\n\r\n    import io.reactivex.subscribers.DisposableSubscriber;\r\n\r\n    public class UserViewModel extends ViewModel {\r\n\r\n        private final GetUserList mGetUserList;\r\n        private final UserMapper mUserMapper;\r\n\r\n        @Inject\r\n        public UserViewModel(GetUserList getUserList,\r\n                UserMapper userMapper) {\r\n            mGetUserList = getUserList;\r\n            mUserMapper = userMapper;\r\n            fetchUsers();\r\n        }\r\n\r\n        public void fetchUsers(){\r\n            mUserMutableLiveData.postValue(new Resource(ResourceState.LOADING, null, null));\r\n            mGetUserList.execute(new UserSubscriber(), null);\r\n        }\r\n\r\n        public LiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; getUsers(){\r\n            return mUserMutableLiveData;\r\n        }\r\n\r\n        @Override\r\n        protected void onCleared() {\r\n            mGetUserList.dispose();\r\n            super.onCleared();\r\n        }\r\n\r\n        private final MutableLiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; mUserMutableLiveData =\r\n            new MutableLiveData&lt;&gt;();\r\n    }\r\n\r\n  [1]: https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/MainActivity.java","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>I am using Android Support Library <code>26.1.0</code>. These are the dependencies in the app module:</p>\n<pre><code>implementation &quot;android.arch.lifecycle:runtime:1.0.0&quot;\nimplementation &quot;android.arch.lifecycle:extensions:1.0.0-beta1&quot;\nimplementation &quot;android.arch.persistence.room:rxjava2:1.0.0-beta1&quot;\nimplementation &quot;android.arch.lifecycle:common-java8:1.0.0-beta1&quot;\nannotationProcessor &quot;android.arch.lifecycle:compiler:1.0.0-beta1&quot;\n</code></pre>\n<p>But when I am trying to use ViewModel like the below:</p>\n<pre><code>mUserViewModel.getUsers().observe(this,\n            (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\n                if(listResource != null){\n                    this.handleDataState(listResource.status, listResource.data, listResource.message);\n                }\n            });\n</code></pre>\n<p>It is showing error at <code>this</code> and the error message is <code>Wrong first argument type Found: packagename.BrowseActivity, required: android.arch.lifecycle.LifecycleOwner</code>. (Although support library version is 26.1+ which already implements LifecycleOwner)</p>\n<p>I have also tried to implement <code>LifecycleRegistryOwner</code> which I found in this <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/MainActivity.java\" rel=\"nofollow noreferrer\">sample</a> and this is also not working. Kindly suggest a solution and let me know if I am doing anything wrong.</p>\n<p><strong>Edit 1</strong> -\nThis is an Activity class:</p>\n<pre><code>import android.arch.lifecycle.Observer;\nimport android.arch.lifecycle.ViewModelProviders;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.View;\nimport android.widget.ProgressBar;\n\nimport com.github.amitkma.boilerplate.app.R;\nimport com.github.amitkma.boilerplate.app.mapper.UserMapper;\nimport com.github.amitkma.boilerplate.app.model.UserModel;\nimport com.github.amitkma.boilerplate.app.ui.widget.EmptyView;\nimport com.github.amitkma.boilerplate.app.ui.widget.ErrorView;\nimport com.github.amitkma.boilerplate.presentation.data.Resource;\nimport com.github.amitkma.boilerplate.presentation.data.ResourceState;\nimport com.github.amitkma.boilerplate.presentation.factory.ViewModelFactory;\nimport com.github.amitkma.boilerplate.presentation.viewmodel.UserViewModel;\nimport com.github.amitkma.boilerplate.presentation.vo.UserView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.inject.Inject;\n\nimport dagger.android.AndroidInjection;\n\npublic class BrowseActivity extends AppCompatActivity {\n\n    @Inject\n    UserAdapter mUserAdapter;\n    @Inject\n    UserMapper mUserMapper;\n    @Inject\n    ViewModelFactory mViewModelFactory;\n    private UserViewModel mUserViewModel;\n\n    private RecyclerView mRecyclerView;\n    private ProgressBar mProgressBar;\n    private ErrorView mErrorView;\n    private EmptyView mEmptyView;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       AndroidInjection.inject(this);\n       setContentView(R.layout.activity_browse);\n       mUserViewModel = ViewModelProviders.of(this, mViewModelFactory)\n            .get(UserViewModel.class);\n\n       mRecyclerView = findViewById(R.id.recycler_browse);\n       mProgressBar = findViewById(R.id.progress);\n       mEmptyView = findViewById(R.id.view_empty);\n       mErrorView = findViewById(R.id.view_error);\n\n       setupBrowseRecycler();\n       setupViewListeners();\n   }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mUserViewModel.getUsers().observe(this,\n            (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\n                if(listResource != null){\n                    this.handleDataState(listResource.status, listResource.data, listResource.message);\n                }\n            });\n    }\n    ....\n}\n</code></pre>\n<p>This is ViewModel Class:</p>\n<pre><code>import android.arch.lifecycle.LiveData;\nimport android.arch.lifecycle.MutableLiveData;\nimport android.arch.lifecycle.ViewModel;\n\nimport com.github.amitkma.boilerplate.domain.interactor.GetUserList;\nimport com.github.amitkma.boilerplate.domain.model.User;\nimport com.github.amitkma.boilerplate.presentation.data.Resource;\nimport com.github.amitkma.boilerplate.presentation.data.ResourceState;\nimport com.github.amitkma.boilerplate.presentation.mapper.UserMapper;\nimport com.github.amitkma.boilerplate.presentation.vo.UserView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.inject.Inject;\n\nimport io.reactivex.subscribers.DisposableSubscriber;\n\npublic class UserViewModel extends ViewModel {\n\n    private final GetUserList mGetUserList;\n    private final UserMapper mUserMapper;\n\n    @Inject\n    public UserViewModel(GetUserList getUserList,\n            UserMapper userMapper) {\n        mGetUserList = getUserList;\n        mUserMapper = userMapper;\n        fetchUsers();\n    }\n\n    public void fetchUsers(){\n        mUserMutableLiveData.postValue(new Resource(ResourceState.LOADING, null, null));\n        mGetUserList.execute(new UserSubscriber(), null);\n    }\n\n    public LiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; getUsers(){\n        return mUserMutableLiveData;\n    }\n\n    @Override\n    protected void onCleared() {\n        mGetUserList.dispose();\n        super.onCleared();\n    }\n\n    private final MutableLiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; mUserMutableLiveData =\n        new MutableLiveData&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690544659,"creation_date":1690544659,"answer_id":76787502,"question_id":76787299,"body_markdown":"`MySQL55Dialect` was deprecated and removed from hibernate-core in Hibernate 6.2\r\n\r\nSee [Removal of support for legacy database versions](https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#database-versions)\r\n\r\n&gt; This version introduces the concept of minimum supported database version for most of the database dialects that Hibernate supports. This implies that the legacy code for versions that are no longer supported by their vendors, has been removed from the hibernate-core module. It is, however, still available in the hibernate-community-dialects module, just under a different package, namely org.hibernate.community.dialect instead of org.hibernate.dialect. Note that this also includes version specific dialects like PostgreSQL81Dialect, MariaDB102Dialect etc.\r\n&gt;\r\n&gt; The minimum supported dialect versions are as follows:\r\n&gt;\r\n&gt; MySQL 5.7\r\n\r\nwhich leaves you with 2 options:\r\n- use `MySQLDialect` \r\n- import `hibernate-community-dialects` and use `MySQL55Dialect`","title":"Unable to resolve name [org.hibernate.dialect.MySQL55Dialect ] as strategy [org.hibernate.dialect.Dialect]","body":"<p><code>MySQL55Dialect</code> was deprecated and removed from hibernate-core in Hibernate 6.2</p>\n<p>See <a href=\"https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#database-versions\" rel=\"nofollow noreferrer\">Removal of support for legacy database versions</a></p>\n<blockquote>\n<p>This version introduces the concept of minimum supported database version for most of the database dialects that Hibernate supports. This implies that the legacy code for versions that are no longer supported by their vendors, has been removed from the hibernate-core module. It is, however, still available in the hibernate-community-dialects module, just under a different package, namely org.hibernate.community.dialect instead of org.hibernate.dialect. Note that this also includes version specific dialects like PostgreSQL81Dialect, MariaDB102Dialect etc.</p>\n<p>The minimum supported dialect versions are as follows:</p>\n<p>MySQL 5.7</p>\n</blockquote>\n<p>which leaves you with 2 options:</p>\n<ul>\n<li>use <code>MySQLDialect</code></li>\n<li>import <code>hibernate-community-dialects</code> and use <code>MySQL55Dialect</code></li>\n</ul>\n"}],"owner":{"account_id":29110560,"reputation":1,"user_id":22300436,"display_name":"Darshna Tak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690604075,"creation_date":1690542952,"question_id":76787299,"body_markdown":"I am new in Spring Application with maven. Running my project to create the database objects based on my classes created, I got the following error: `\r\nUnable to resolve name [org.hibernate.dialect.MySQL5Dialect] \r\nas strategy [org.hibernate.dialect.Dialect]\r\n`\r\n\r\n![screenshot](https://i.stack.imgur.com/OetYN.png)\r\n\r\nI have added these dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n","title":"Unable to resolve name [org.hibernate.dialect.MySQL55Dialect ] as strategy [org.hibernate.dialect.Dialect]","body":"<p>I am new in Spring Application with maven. Running my project to create the database objects based on my classes created, I got the following error: <code>Unable to resolve name [org.hibernate.dialect.MySQL5Dialect]  as strategy [org.hibernate.dialect.Dialect]</code></p>\n<p><img src=\"https://i.stack.imgur.com/OetYN.png\" alt=\"screenshot\" /></p>\n<p>I have added these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690416722,"post_id":76775664,"comment_id":135352382,"body_markdown":"There are a few things I don&#39;t understand about your code: 1. You have a constructor `CRentaProperties()` which loads your properties file, but does nothing with them. 2. Your test calls `CRentaProperties.getCRentaUtilsProperties()`, but you haven&#39;t shown this code. How does this call relate to your question?","body":"There are a few things I don&#39;t understand about your code: 1. You have a constructor <code>CRentaProperties()</code> which loads your properties file, but does nothing with them. 2. Your test calls <code>CRentaProperties.getCRentaUtilsProperties()</code>, but you haven&#39;t shown this code. How does this call relate to your question?"},{"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"score":0,"creation_date":1690417425,"post_id":76775664,"comment_id":135352449,"body_markdown":"CRentaProperties.getCRentaUtilsProperties() works very good, but I am not able to cover this part of my code: } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(&quot;config.properties&quot;);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }, I have no idea how to do it, I am trying with Mockito but it doesn&#180;t work..","body":"CRentaProperties.getCRentaUtilsProperties() works very good, but I am not able to cover this part of my code: } catch (FileNotFoundException e) {             log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);             try {                 input = new FileInputStream(&quot;config.properties&quot;);             } catch (FileNotFoundException e1) {                 log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);             }, I have no idea how to do it, I am trying with Mockito but it doesn&#180;t work.."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690418047,"post_id":76775664,"comment_id":135352511,"body_markdown":"You understand that `CRentaProperties()` doesn&#39;t actually ever throw an `IOException`? So the behaviour you want to test for is the calls to `log.error(...)`?","body":"You understand that <code>CRentaProperties()</code> doesn&#39;t actually ever throw an <code>IOException</code>? So the behaviour you want to test for is the calls to <code>log.error(...)</code>?"},{"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"score":0,"creation_date":1690418222,"post_id":76775664,"comment_id":135352532,"body_markdown":"Exactly, I have to test that, the log.error when the file doesn&#180;t exist on server or local...","body":"Exactly, I have to test that, the log.error when the file doesn&#180;t exist on server or local..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690418913,"post_id":76775664,"comment_id":135352612,"body_markdown":"The simplest way is to create a protected constructor which takes the Logger, the Properties object, and two Strings. Use this constructor in your tests and pass mocks for the Logger and the Properties instances, and valid or invalid paths for the strings. Your public constructor will just call the protected constructor with appropriate defaults.","body":"The simplest way is to create a protected constructor which takes the Logger, the Properties object, and two Strings. Use this constructor in your tests and pass mocks for the Logger and the Properties instances, and valid or invalid paths for the strings. Your public constructor will just call the protected constructor with appropriate defaults."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690601020,"creation_date":1690601020,"answer_id":76791939,"question_id":76775664,"body_markdown":"There are two ways to do this, a &#39;cheat&#39; and the &#39;right&#39; way.\r\n\r\nThe cheat is to have a protected constructor which takes the values to initialise the fields of your class. This will be accessible from your test, as by convention your test class should be in the same package as the class you are testing.\r\n\r\nSo your class becomes:\r\n```\r\npackage org.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Properties;\r\n\r\npublic class CRentaProperties {\r\n    public CRentaProperties() {\r\n        this(\r\n                LoggerFactory.getLogger(CRentaProperties.class),\r\n                new Properties(),\r\n                &quot;/home/m1/conf/config.properties&quot;,\r\n                &quot;config.properties&quot;\r\n        );\r\n    }\r\n\r\n    protected CRentaProperties(Logger log, Properties prop, String serverPath, String projectPath) {\r\n        InputStream input = null;\r\n        try {\r\n            input = new FileInputStream(serverPath);\r\n        } catch (FileNotFoundException e) {\r\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\r\n            try {\r\n                input = new FileInputStream(projectPath);\r\n            } catch (FileNotFoundException e1) {\r\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\r\n            }\r\n        }\r\n        try {\r\n            prop.load(input);\r\n        } catch (IOException e) {\r\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\r\n        } finally {\r\n            if (input != null) {\r\n                try {\r\n                    input.close();\r\n                } catch (IOException e) {\r\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd the test is:\r\n```\r\npackage org.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.slf4j.Logger;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Properties;\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.eq;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.verifyNoInteractions;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass CRentaPropertiesTest {\r\n    @Mock\r\n    Logger logger;\r\n    @Mock\r\n    Properties properties;\r\n\r\n    @Test\r\n    public void testMissingPropertiesFile() {\r\n        CRentaProperties cRentaProperties = new CRentaProperties(\r\n                logger, properties, &quot;/no/such/path&quot;, &quot;/another/no/such/path&quot;\r\n        );\r\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;), any(FileNotFoundException.class));\r\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;), any(FileNotFoundException.class));\r\n        verifyNoInteractions(properties);\r\n    }\r\n}\r\n```\r\n\r\nThe &#39;right&#39; way would be to have components injected into `CRentaProperties` which were factories for a `Logger`, a `Properties` instance and the `String`s which give the file locations, but if you aren&#39;t using a dependency injection framework I think the solution above is fine.\r\n","title":"How should I test this code with Junit or Mockito to simulate the non-existence of the properties file?","body":"<p>There are two ways to do this, a 'cheat' and the 'right' way.</p>\n<p>The cheat is to have a protected constructor which takes the values to initialise the fields of your class. This will be accessible from your test, as by convention your test class should be in the same package as the class you are testing.</p>\n<p>So your class becomes:</p>\n<pre><code>package org.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class CRentaProperties {\n    public CRentaProperties() {\n        this(\n                LoggerFactory.getLogger(CRentaProperties.class),\n                new Properties(),\n                &quot;/home/m1/conf/config.properties&quot;,\n                &quot;config.properties&quot;\n        );\n    }\n\n    protected CRentaProperties(Logger log, Properties prop, String serverPath, String projectPath) {\n        InputStream input = null;\n        try {\n            input = new FileInputStream(serverPath);\n        } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(projectPath);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }\n        }\n        try {\n            prop.load(input);\n        } catch (IOException e) {\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\n        } finally {\n            if (input != null) {\n                try {\n                    input.close();\n                } catch (IOException e) {\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>And the test is:</p>\n<pre><code>package org.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.slf4j.Logger;\n\nimport java.io.FileNotFoundException;\nimport java.util.Properties;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.verifyNoInteractions;\n\n@ExtendWith(MockitoExtension.class)\nclass CRentaPropertiesTest {\n    @Mock\n    Logger logger;\n    @Mock\n    Properties properties;\n\n    @Test\n    public void testMissingPropertiesFile() {\n        CRentaProperties cRentaProperties = new CRentaProperties(\n                logger, properties, &quot;/no/such/path&quot;, &quot;/another/no/such/path&quot;\n        );\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;), any(FileNotFoundException.class));\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;), any(FileNotFoundException.class));\n        verifyNoInteractions(properties);\n    }\n}\n</code></pre>\n<p>The 'right' way would be to have components injected into <code>CRentaProperties</code> which were factories for a <code>Logger</code>, a <code>Properties</code> instance and the <code>String</code>s which give the file locations, but if you aren't using a dependency injection framework I think the solution above is fine.</p>\n"}],"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690601020,"creation_date":1690414624,"question_id":76775664,"body_markdown":"I&#39;m trying to do a test to simulate the non-existence of the properties file of my class, but I can&#39;t simulate the catch part, any ideas?:\r\n\r\n```\r\npublic CRentaProperties() throws IOException {\r\n\t\tProperties prop = new Properties();\r\n\t\tInputStream input = null;\r\n\t\ttry {\r\n\t\t\tinput = new FileInputStream(&quot;/home/m1/conf/config.properties&quot;);  \r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tlog.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\r\n\t\t\ttry {\r\n\t\t\t\tinput = new FileInputStream(&quot;config.properties&quot;);\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\tlog.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\r\n\t\t\t}\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tprop.load(input);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\r\n\t\t}finally {\r\n\t        if (input != null) {\r\n\t            try {\r\n\t                input.close();\r\n\t            } catch (IOException e) {\r\n\t                log.error(&quot;Error al cerrar el archivo&quot;, e);\r\n\t            }\r\n\t        }\r\n\t    }\r\n```\r\n\r\n\r\nI manage to access the file and its properties using the following test:\r\n```\r\nclass CRentaPropertiesTest {\r\n\r\n\t@Test\r\n    void testUtilPropertiesTest() {\r\n        CRentaProperties properties = null;\r\n\t\ttry {\r\n\t\t\tproperties = new CRentaProperties();\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n        try {\r\n\t\t\tCRentaProperties.getCRentaUtilsProperties();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        \r\n        assertEquals(&quot;Queue&quot; , properties.getqQueue());\r\n        assertEquals(&quot;MANAGER&quot; , properties.getqManager());\r\n        assertEquals(&quot;14&quot; , properties.getqPort());\r\n        assertEquals(&quot;CHANNEL&quot; , properties.getqChannel());\r\n        assertNotNull( properties.getqManager());\r\n       \r\n    }\r\n\r\n```\r\n ","title":"How should I test this code with Junit or Mockito to simulate the non-existence of the properties file?","body":"<p>I'm trying to do a test to simulate the non-existence of the properties file of my class, but I can't simulate the catch part, any ideas?:</p>\n<pre><code>public CRentaProperties() throws IOException {\n        Properties prop = new Properties();\n        InputStream input = null;\n        try {\n            input = new FileInputStream(&quot;/home/m1/conf/config.properties&quot;);  \n        } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(&quot;config.properties&quot;);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }\n        }\n        try {\n            prop.load(input);\n        } catch (IOException e) {\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\n        }finally {\n            if (input != null) {\n                try {\n                    input.close();\n                } catch (IOException e) {\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\n                }\n            }\n        }\n</code></pre>\n<p>I manage to access the file and its properties using the following test:</p>\n<pre><code>class CRentaPropertiesTest {\n\n    @Test\n    void testUtilPropertiesTest() {\n        CRentaProperties properties = null;\n        try {\n            properties = new CRentaProperties();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        try {\n            CRentaProperties.getCRentaUtilsProperties();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        assertEquals(&quot;Queue&quot; , properties.getqQueue());\n        assertEquals(&quot;MANAGER&quot; , properties.getqManager());\n        assertEquals(&quot;14&quot; , properties.getqPort());\n        assertEquals(&quot;CHANNEL&quot; , properties.getqChannel());\n        assertNotNull( properties.getqManager());\n       \n    }\n\n</code></pre>\n"},{"tags":["java","eclipse","editor","folding"],"answers":[{"tags":[],"owner":{"account_id":26644891,"reputation":1,"user_id":20259950,"display_name":"Zavier Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690599582,"creation_date":1690599582,"answer_id":76791888,"question_id":76789712,"body_markdown":"I have found that within Eclipse itself this hasn&#39;t been addressed. Folding code with a free IDE often comes with its downsides and I believe this is one of those cases where you would have to switch over to a paid software to get that much flexibility. I tried to do this myself before coming to college and ended up learning that this IDE simply doesn&#39;t have the option to fold things you desire to fold. It has to be a block of code that is a loop, conditional, class, method, etc.","title":"How can I fold/collapse regional Java code in Eclipse?","body":"<p>I have found that within Eclipse itself this hasn't been addressed. Folding code with a free IDE often comes with its downsides and I believe this is one of those cases where you would have to switch over to a paid software to get that much flexibility. I tried to do this myself before coming to college and ended up learning that this IDE simply doesn't have the option to fold things you desire to fold. It has to be a block of code that is a loop, conditional, class, method, etc.</p>\n"}],"owner":{"account_id":20914472,"reputation":1,"user_id":15364509,"display_name":"laurabaltazar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690599582,"creation_date":1690563224,"question_id":76789712,"body_markdown":"Java editor folding preferences only have the following:\r\nComments,\r\nHeader Comments,\r\nInner Types,\r\nMembers, \r\nImports\r\n\r\nHowever, I want to fold some arbitrary part of my code.\r\n\r\nI tried enable folding of control flow statements (if/else) but seems it only applies to C/C++ editor and not Java.","title":"How can I fold/collapse regional Java code in Eclipse?","body":"<p>Java editor folding preferences only have the following:\nComments,\nHeader Comments,\nInner Types,\nMembers,\nImports</p>\n<p>However, I want to fold some arbitrary part of my code.</p>\n<p>I tried enable folding of control flow statements (if/else) but seems it only applies to C/C++ editor and not Java.</p>\n"},{"tags":["java","multithreading","cucumber","testng"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690535916,"post_id":76786384,"comment_id":135370655,"body_markdown":"Perhaps you are running into limitations of the hardware itself? Then your will need to really split up the tests, not just into threads but into different tasks. Then run each task on a different test runner machine.","body":"Perhaps you are running into limitations of the hardware itself? Then your will need to really split up the tests, not just into threads but into different tasks. Then run each task on a different test runner machine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690708051,"post_id":76786384,"comment_id":135388715,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8171904,"reputation":1,"user_id":6152049,"display_name":"Enishetty Varun"},"score":0,"creation_date":1690782933,"post_id":76786384,"comment_id":135395572,"body_markdown":"@Jorn Can you please help me with an article to follow for executing different tasks on different test runner machines. Currently, I have test runners for each feature file and is executed concurrently as provisioned in TestNG to provide parallel=&quot;classes&quot; attribute and along with that the scenarios within the feature files are also executed synchronously using dataprovider option in runner class. If I can delegate these tests to different machines that would help to bring multiple threads to run at any point. I am also figuring out forking through maven to bring jvm&#39;s for each runner class.","body":"@Jorn Can you please help me with an article to follow for executing different tasks on different test runner machines. Currently, I have test runners for each feature file and is executed concurrently as provisioned in TestNG to provide parallel=&quot;classes&quot; attribute and along with that the scenarios within the feature files are also executed synchronously using dataprovider option in runner class. If I can delegate these tests to different machines that would help to bring multiple threads to run at any point. I am also figuring out forking through maven to bring jvm&#39;s for each runner class."}],"owner":{"account_id":8171904,"reputation":1,"user_id":6152049,"display_name":"Enishetty Varun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690596373,"creation_date":1690535631,"question_id":76786384,"body_markdown":"I have setup automation framework with Cucumber and TestNg for my backend tests having multiple scenarios with each scenarios set with around 600 examples which is leading to around 25k+ tests.\r\nAs the number of tests are huge, I would like to run the tests concurrently and reduce execution time.\r\n\r\nIn order to achieve this, I used data provider thread count for scenarios to execute concurrently and let&#39;s assume 20.\r\nI observed that from the number of threads which got created, only few will be running at any point of time and others will be in waiting state as this is based on thread scheduler in java.\r\nEven with this approach still the execution time is too long which again requires optimisation.\r\nAny suggestions?","title":"Performance optimisation of Cucumber TestNG tests","body":"<p>I have setup automation framework with Cucumber and TestNg for my backend tests having multiple scenarios with each scenarios set with around 600 examples which is leading to around 25k+ tests.\nAs the number of tests are huge, I would like to run the tests concurrently and reduce execution time.</p>\n<p>In order to achieve this, I used data provider thread count for scenarios to execute concurrently and let's assume 20.\nI observed that from the number of threads which got created, only few will be running at any point of time and others will be in waiting state as this is based on thread scheduler in java.\nEven with this approach still the execution time is too long which again requires optimisation.\nAny suggestions?</p>\n"},{"tags":["java","cassandra","cassandra-3.0","cpu-load"],"answers":[{"tags":[],"owner":{"account_id":287036,"reputation":6037,"user_id":586609,"display_name":"Stanislav Berkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690596149,"creation_date":1690591447,"answer_id":76791668,"question_id":54156509,"body_markdown":"I also experienced all of a sudden high CPU usage by cassandra even having no reads/writes. Further investigation shew it was caused by misconfiguration of Prometheus metric collector. I described my story how I found it out here: https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0\r\n\r\nTLDR: I used jvm-tools.","title":"Cassandra high cpu load issues (3.11.1)","body":"<p>I also experienced all of a sudden high CPU usage by cassandra even having no reads/writes. Further investigation shew it was caused by misconfiguration of Prometheus metric collector. I described my story how I found it out here: <a href=\"https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0\" rel=\"nofollow noreferrer\">https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0</a></p>\n<p>TLDR: I used jvm-tools.</p>\n"}],"owner":{"account_id":5996768,"reputation":397,"user_id":4711199,"accept_rate":40,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690596149,"creation_date":1547263157,"question_id":54156509,"body_markdown":"Need some help to solve my high cpu utilisation issues with cassandra. \r\n\r\nWe have a 12 node Cassandra cluster with below spec.\r\n\r\n * 8 cores \r\n * 16GB HEAP/32GB RAM with G1GC\r\n \r\nAll of a sudden I have started seeing some high cpu load (which is around 18-24 on 8 core nodes)\r\n\r\ncassandra stack trace was showing lot of runnable threads like below.\r\n\r\n    sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n     MessagingService-Incoming-/10.xx.xx.xx\r\n     MessagingService-Incoming-/10.xx.xx.xx\r\n    at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n    at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n    at sun.nio.ch.IOUtil.read(IOUtil.java:192)\r\n    at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)\r\n    at org.apache.cassandra.io.util.NIODataInputStream.reBuffer(NIODataInputStream.java:66)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readByte(RebufferingInputStream.java:144)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readPrimitiveSlowly(RebufferingInputStream.java:108)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readInt(RebufferingInputStream.java:188)\r\n    at org.apache.cassandra.net.IncomingTcpConnection.receiveMessages(IncomingTcpConnection.java:179)\r\n    at org.apache.cassandra.net.IncomingTcpConnection.run(IncomingTcpConnection.java:94)\r\n\r\nand \r\n\r\n    &quot;epollEventLoopGroup-2-9&quot;: running\r\n    at io.netty.channel.epoll.Native.epollWait0(Native Method)\r\n    at io.netty.channel.epoll.Native.epollWait(Native.java:117)\r\n    at io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:226)\r\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:250)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\r\n    at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nFirst thread mentioned above has 35 occurrences and 24 occurrences for 2nd thread.\r\n\r\n\r\nCan any one figure out what is wrong here ??\r\n\r\nFrom the cluster side, \r\n\r\n * Don&#39;t have any pending compactions/tasks.\r\n * &amp; GC pauses are below 100ms\r\n\r\n\r\nThanks","title":"Cassandra high cpu load issues (3.11.1)","body":"<p>Need some help to solve my high cpu utilisation issues with cassandra. </p>\n\n<p>We have a 12 node Cassandra cluster with below spec.</p>\n\n<ul>\n<li>8 cores </li>\n<li>16GB HEAP/32GB RAM with G1GC</li>\n</ul>\n\n<p>All of a sudden I have started seeing some high cpu load (which is around 18-24 on 8 core nodes)</p>\n\n<p>cassandra stack trace was showing lot of runnable threads like below.</p>\n\n<pre><code>sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n MessagingService-Incoming-/10.xx.xx.xx\n MessagingService-Incoming-/10.xx.xx.xx\nat sun.nio.ch.FileDispatcherImpl.read0(Native Method)\nat sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\nat sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\nat sun.nio.ch.IOUtil.read(IOUtil.java:192)\nat sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)\nat org.apache.cassandra.io.util.NIODataInputStream.reBuffer(NIODataInputStream.java:66)\nat org.apache.cassandra.io.util.RebufferingInputStream.readByte(RebufferingInputStream.java:144)\nat org.apache.cassandra.io.util.RebufferingInputStream.readPrimitiveSlowly(RebufferingInputStream.java:108)\nat org.apache.cassandra.io.util.RebufferingInputStream.readInt(RebufferingInputStream.java:188)\nat org.apache.cassandra.net.IncomingTcpConnection.receiveMessages(IncomingTcpConnection.java:179)\nat org.apache.cassandra.net.IncomingTcpConnection.run(IncomingTcpConnection.java:94)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>\"epollEventLoopGroup-2-9\": running\nat io.netty.channel.epoll.Native.epollWait0(Native Method)\nat io.netty.channel.epoll.Native.epollWait(Native.java:117)\nat io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:226)\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:250)\nat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\nat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>First thread mentioned above has 35 occurrences and 24 occurrences for 2nd thread.</p>\n\n<p>Can any one figure out what is wrong here ??</p>\n\n<p>From the cluster side, </p>\n\n<ul>\n<li>Don't have any pending compactions/tasks.</li>\n<li>&amp; GC pauses are below 100ms</li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["java","string","validation","gwt"],"comments":[{"owner":{"account_id":55932,"reputation":13465,"user_id":167586,"accept_rate":90,"display_name":"Matt S."},"score":1,"creation_date":1260931082,"post_id":1911902,"comment_id":1816919,"body_markdown":"There are english characters?!?!  I thought the characters in the English language are from the Latin Alphabet.","body":"There are english characters?!?!  I thought the characters in the English language are from the Latin Alphabet."},{"owner":{"account_id":81115,"reputation":33441,"user_id":228936,"display_name":"Tor Valamo"},"score":0,"creation_date":1260931241,"post_id":1911902,"comment_id":1816926,"body_markdown":"well if he means ascii characters then I would call that english characters.. or american.","body":"well if he means ascii characters then I would call that english characters.. or american."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690594923,"post_id":1911902,"comment_id":135379719,"body_markdown":"Don&#39;t allow &quot;ABCDEF&quot; etc. -- they&#39;re definitely French letters.","body":"Don&#39;t allow &quot;ABCDEF&quot; etc. -- they&#39;re definitely French letters."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690594992,"post_id":1911902,"comment_id":135379724,"body_markdown":"The real question is, why do you want to deliberately weaken password security?","body":"The real question is, why do you want to deliberately weaken password security?"},{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":0,"creation_date":1691303939,"post_id":1911902,"comment_id":135471807,"body_markdown":"@ArfurNarf well, this is a 13 years old question ;)","body":"@ArfurNarf well, this is a 13 years old question ;)"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691323349,"post_id":1911902,"comment_id":135473425,"body_markdown":"Yeah, sometimes I don&#39;t notice that it&#39;s an old question that soe random recent edit has thrown into view.","body":"Yeah, sometimes I don&#39;t notice that it&#39;s an old question that soe random recent edit has thrown into view."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1262869341,"creation_date":1260931315,"answer_id":1911917,"question_id":1911902,"body_markdown":"You can use [`String#matches()`][1] with a bit [regex][2] for this. Latin characters are covered by `\\w`.\r\n\r\nSo this should do:\r\n\r\n    boolean valid = input.matches(&quot;\\\\w+&quot;);\r\n\r\nThis by the way also covers numbers and the underscore `_`. Not sure if that harms. Else you can just use `[A-Za-z]+` instead.\r\n\r\nIf you want to cover [diacritical characters][3] as well (&#228;, &#233;, &#242;, and so on, those are per definition also Latin characters), then you need to normalize them first and get rid of the diacritical marks before matching, simply because there&#39;s no *(documented)* regex which covers diacriticals.\r\n\r\n    String clean = Normalizer.normalize(input, Form.NFD).replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;);\r\n    boolean valid = clean.matches(&quot;\\\\w+&quot;);\r\n\r\n**Update**: there&#39;s an undocumented regex in Java which covers diacriticals as well, the `\\p{L}`.\r\n\r\n    boolean valid = input.matches(&quot;\\\\p{L}+&quot;);\r\n\r\nAbove works at Java 1.6.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches%28java.lang.String%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\r\n  [3]: http://en.wikipedia.org/wiki/Diacritic","title":"Check String whether it contains only Latin characters?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"noreferrer\"><code>String#matches()</code></a> with a bit <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regex</a> for this. Latin characters are covered by <code>\\w</code>.</p>\n\n<p>So this should do:</p>\n\n<pre><code>boolean valid = input.matches(\"\\\\w+\");\n</code></pre>\n\n<p>This by the way also covers numbers and the underscore <code>_</code>. Not sure if that harms. Else you can just use <code>[A-Za-z]+</code> instead.</p>\n\n<p>If you want to cover <a href=\"http://en.wikipedia.org/wiki/Diacritic\" rel=\"noreferrer\">diacritical characters</a> as well (ä, é, ò, and so on, those are per definition also Latin characters), then you need to normalize them first and get rid of the diacritical marks before matching, simply because there's no <em>(documented)</em> regex which covers diacriticals.</p>\n\n<pre><code>String clean = Normalizer.normalize(input, Form.NFD).replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\");\nboolean valid = clean.matches(\"\\\\w+\");\n</code></pre>\n\n<p><strong>Update</strong>: there's an undocumented regex in Java which covers diacriticals as well, the <code>\\p{L}</code>.</p>\n\n<pre><code>boolean valid = input.matches(\"\\\\p{L}+\");\n</code></pre>\n\n<p>Above works at Java 1.6.</p>\n"},{"tags":[],"owner":{"display_name":"user164226"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260931348,"creation_date":1260931348,"answer_id":1911921,"question_id":1911902,"body_markdown":"There might be a better approach, but you could load a collection with whatever you deem to be acceptable characters, and then check each character in the username/password field against that collection.\r\n\r\nPseudo:\r\n&lt;pre&gt;&lt;code&gt;\r\nforeach (character in username)\r\n{\r\n    if !allowedCharacters.contains(character)\r\n    {\r\n        throw exception\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Check String whether it contains only Latin characters?","body":"<p>There might be a better approach, but you could load a collection with whatever you deem to be acceptable characters, and then check each character in the username/password field against that collection.</p>\n\n<p>Pseudo:</p>\n\n<pre><code>\nforeach (character in username)\n{\n    if !allowedCharacters.contains(character)\n    {\n        throw exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260931374,"creation_date":1260931374,"answer_id":1911923,"question_id":1911902,"body_markdown":"For something this simple, I&#39;d use a regular expression.\r\n\r\n     \r\n    private static final Pattern p = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\r\n\r\n    static boolean isValid(String input) {\r\n      Matcher m = p.matcher(input);\r\n      return m.matches();\r\n    }\r\n\r\nThere are other pre-defined classes like `\\w` that might work better.","title":"Check String whether it contains only Latin characters?","body":"<p>For something this simple, I'd use a regular expression.</p>\n\n<pre><code>private static final Pattern p = Pattern.compile(\"\\\\p{Alpha}+\");\n\nstatic boolean isValid(String input) {\n  Matcher m = p.matcher(input);\n  return m.matches();\n}\n</code></pre>\n\n<p>There are other pre-defined classes like <code>\\w</code> that might work better.</p>\n"},{"tags":[],"owner":{"display_name":"user232624"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1690592536,"creation_date":1260935974,"answer_id":1912175,"question_id":1911902,"body_markdown":"    public static boolean isValidISOLatin1 (String s) {\r\n        return StandardCharsets.US_ASCII.newEncoder().canEncode(s);\r\n    } // or &quot;ISO-8859-1&quot; for ISO Latin 1\r\n\r\n\r\nFor reference, see the [documentation on Charset](http://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html).\r\n\r\n\r\n\r\n","title":"Check String whether it contains only Latin characters?","body":"<pre><code>public static boolean isValidISOLatin1 (String s) {\n    return StandardCharsets.US_ASCII.newEncoder().canEncode(s);\n} // or &quot;ISO-8859-1&quot; for ISO Latin 1\n</code></pre>\n<p>For reference, see the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">documentation on Charset</a>.</p>\n"},{"tags":[],"owner":{"account_id":2236070,"reputation":169,"user_id":1972422,"display_name":"fir99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432122064,"creation_date":1432122064,"answer_id":30348633,"question_id":1911902,"body_markdown":"I successfully used a combination of the answers of user232624, [Joachim Sauer][1] and [Tvaroh][2]:\r\n\r\n    static CharsetEncoder asciiEncoder = Charset.forName(&quot;US-ASCII&quot;); // or &quot;ISO-8859-1&quot; for ISO Latin 1\r\n    \r\n    boolean isValid(String input) {    \r\n        return Character.isLetter(ch) &amp;&amp; asciiEncoder.canEncode(username);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/40342/joachim-sauer\r\n  [2]: https://stackoverflow.com/users/312708/tvaroh","title":"Check String whether it contains only Latin characters?","body":"<p>I successfully used a combination of the answers of user232624, <a href=\"https://stackoverflow.com/users/40342/joachim-sauer\">Joachim Sauer</a> and <a href=\"https://stackoverflow.com/users/312708/tvaroh\">Tvaroh</a>:</p>\n\n<pre><code>static CharsetEncoder asciiEncoder = Charset.forName(\"US-ASCII\"); // or \"ISO-8859-1\" for ISO Latin 1\n\nboolean isValid(String input) {    \n    return Character.isLetter(ch) &amp;&amp; asciiEncoder.canEncode(username);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496062711,"creation_date":1496062711,"answer_id":44243113,"question_id":1911902,"body_markdown":"There is my solution and it is working excellent\r\n\r\n    public static boolean isStringContainsLatinCharactersOnly(final String iStringToCheck)\r\n\t{\r\n\t\treturn iStringToCheck.matches(&quot;^[a-zA-Z0-9.]+$&quot;);\r\n\t}","title":"Check String whether it contains only Latin characters?","body":"<p>There is my solution and it is working excellent</p>\n\n<pre><code>public static boolean isStringContainsLatinCharactersOnly(final String iStringToCheck)\n{\n    return iStringToCheck.matches(\"^[a-zA-Z0-9.]+$\");\n}\n</code></pre>\n"}],"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43738,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":1911917,"answer_count":6,"score":17,"last_activity_date":1690592536,"creation_date":1260930744,"question_id":1911902,"body_markdown":"Greetings,\r\n\r\nI am developing GWT application where user can enter his details in Japanese.\r\nBut the &#39;userid&#39; and &#39;password&#39; should only contain English characters(Latin Alphabet).\r\nHow to validate Strings for this?\r\n","title":"Check String whether it contains only Latin characters?","body":"<p>Greetings,</p>\n\n<p>I am developing GWT application where user can enter his details in Japanese.\nBut the 'userid' and 'password' should only contain English characters(Latin Alphabet).\nHow to validate Strings for this?</p>\n"},{"tags":["java","jpa","scale","precision","bigdecimal"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1455637783,"post_id":35435691,"comment_id":58571949,"body_markdown":"The question has got absolutely nothing to with `java.math.BigDecimal`. `@javax.persistence.Column` is not part of Java SE. It is the subject of JPA.","body":"The question has got absolutely nothing to with <code>java.math.BigDecimal</code>. <code>@javax.persistence.Column</code> is not part of Java SE. It is the subject of JPA."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":9,"creation_date":1455662413,"post_id":35435691,"comment_id":58586939,"body_markdown":"Precision and scale are terms often used for java.math.BigDecimal, which is what he uses for calculations, for example with JPA. ISTM he or she wants to know what they mean in the context of BigDecimal alright.","body":"Precision and scale are terms often used for java.math.BigDecimal, which is what he uses for calculations, for example with JPA. ISTM he or she wants to know what they mean in the context of BigDecimal alright."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455634517,"creation_date":1455634517,"answer_id":35435732,"question_id":35435691,"body_markdown":"Quoting [Javadoc](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()):\r\n\r\n&gt; The precision is the number of digits in the unscaled value.\r\n\r\nand\r\n\r\n&gt; If zero or positive, the scale is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.\r\n","title":"BigDecimal, precision and scale","body":"<p>Quoting <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n\n<blockquote>\n  <p>The precision is the number of digits in the unscaled value.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If zero or positive, the scale is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1541097819,"creation_date":1455634614,"answer_id":35435775,"question_id":35435691,"body_markdown":" - **Precision:**  Total number of significant digits \r\n\r\n - **Scale:** Number of digits to the right of the decimal point\r\n\r\nSee [`BigDecimal`][1] class documentation for details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html","title":"BigDecimal, precision and scale","body":"<ul>\n<li><p><strong>Precision:</strong>  Total number of significant digits </p></li>\n<li><p><strong>Scale:</strong> Number of digits to the right of the decimal point</p></li>\n</ul>\n\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> class documentation for details.</p>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455636186,"creation_date":1455636186,"answer_id":35436364,"question_id":35435691,"body_markdown":"From your example annotation the maximum digits is 2 after the decimal point and 9 before (totally 11):\r\n`123456789,01`","title":"BigDecimal, precision and scale","body":"<p>From your example annotation the maximum digits is 2 after the decimal point and 9 before (totally 11):\n<code>123456789,01</code></p>\n"},{"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"down_vote_count":1,"up_vote_count":162,"is_accepted":true,"score":161,"last_activity_date":1661132222,"creation_date":1455637640,"answer_id":35436935,"question_id":35435691,"body_markdown":"A `BigDecimal` is defined by two values: an arbitrary precision integer and a 32-bit integer *scale*. The value of the `BigDecimal` is defined to be ![unscaledValue*10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=unscaledValue\\times10^{-scale}).\r\n\r\n\r\n**Precision:**\r\n&gt; The [precision][2] is the number of digits in the unscaled value.\r\nFor instance, for the number 123.45, the precision returned is 5.\r\n\r\nSo, *precision* indicates the length of the arbitrary precision integer. Here are a few examples of numbers with the same scale, but different precision:\r\n\r\n - 12345 / 100000 = 0.12345 // scale = 5, precision = 5\r\n - 12340 / 100000 = 0.1234  // scale = 4, precision = 4\r\n - 1 / 100000 = 0.00001     // scale = 5, precision = 1\r\n\r\nIn the special case that the number is equal to zero (i.e. 0.000), the precision is always 1.\r\n\r\n**Scale:**\r\n&gt; If zero or positive, the [scale][3] is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.\r\n\r\nThis means that the integer value of the ‘BigDecimal’ is multiplied by ![10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=10^{-scale}).\r\n\r\nHere are a few examples of the same precision, with different scales:\r\n\r\n- 12345 with scale 5 = 0.12345\r\n- 12345 with scale 4 = 1.2345\r\n- …\r\n- 12345 with scale 0 = 12345\r\n- 12345 with scale -1 = 123450 *†*\r\n\r\n**BigDecimal.toString:** \r\n\r\nThe `toString` method for a `BigDecimal` behaves differently based on the scale and `precision`. (Thanks to @RudyVelthuis for pointing this out.)\r\n\r\n - If `scale == 0`, the integer is just printed out, as-is. \r\n - If `scale &lt; 0`, E-Notation is always used (e.g. 5 scale -1 produces &quot;5E+1&quot;)\r\n - If `scale &gt;= 0` and `precision - scale -1 &gt;= -6` a plain decimal number is produced (e.g. 10000000 scale 1 produces &quot;1000000.0&quot;)\r\n - Otherwise,  E-notation is used, e.g. 10 scale 8 produces &quot;1.0E-7&quot; since `precision - scale -1` equals ![unscaledValue*10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=2-8-1=-7) is less than -6. \r\n\r\n**More examples:**\r\n\r\n - 19/100 = 0.19 // integer=19, scale=2, precision=2\r\n - 1/1000 = 0.0001 // integer=1, scale = 4, precision = 1\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/b9B6l.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#scale()","title":"BigDecimal, precision and scale","body":"<p>A <code>BigDecimal</code> is defined by two values: an arbitrary precision integer and a 32-bit integer <em>scale</em>. The value of the <code>BigDecimal</code> is defined to be <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=unscaledValue%5Ctimes10%5E%7B-scale%7D\" alt=\"unscaledValue*10^{-scale}\" />.</p>\n<p><strong>Precision:</strong></p>\n<blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\" rel=\"noreferrer\">precision</a> is the number of digits in the unscaled value.\nFor instance, for the number 123.45, the precision returned is 5.</p>\n</blockquote>\n<p>So, <em>precision</em> indicates the length of the arbitrary precision integer. Here are a few examples of numbers with the same scale, but different precision:</p>\n<ul>\n<li>12345 / 100000 = 0.12345 // scale = 5, precision = 5</li>\n<li>12340 / 100000 = 0.1234  // scale = 4, precision = 4</li>\n<li>1 / 100000 = 0.00001     // scale = 5, precision = 1</li>\n</ul>\n<p>In the special case that the number is equal to zero (i.e. 0.000), the precision is always 1.</p>\n<p><strong>Scale:</strong></p>\n<blockquote>\n<p>If zero or positive, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#scale()\" rel=\"noreferrer\">scale</a> is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.</p>\n</blockquote>\n<p>This means that the integer value of the ‘BigDecimal’ is multiplied by <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=10%5E%7B-scale%7D\" alt=\"10^{-scale}\" />.</p>\n<p>Here are a few examples of the same precision, with different scales:</p>\n<ul>\n<li>12345 with scale 5 = 0.12345</li>\n<li>12345 with scale 4 = 1.2345</li>\n<li>…</li>\n<li>12345 with scale 0 = 12345</li>\n<li>12345 with scale -1 = 123450 <em>†</em></li>\n</ul>\n<p><strong>BigDecimal.toString:</strong></p>\n<p>The <code>toString</code> method for a <code>BigDecimal</code> behaves differently based on the scale and <code>precision</code>. (Thanks to @RudyVelthuis for pointing this out.)</p>\n<ul>\n<li>If <code>scale == 0</code>, the integer is just printed out, as-is.</li>\n<li>If <code>scale &lt; 0</code>, E-Notation is always used (e.g. 5 scale -1 produces &quot;5E+1&quot;)</li>\n<li>If <code>scale &gt;= 0</code> and <code>precision - scale -1 &gt;= -6</code> a plain decimal number is produced (e.g. 10000000 scale 1 produces &quot;1000000.0&quot;)</li>\n<li>Otherwise,  E-notation is used, e.g. 10 scale 8 produces &quot;1.0E-7&quot; since <code>precision - scale -1</code> equals <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=2-8-1=-7\" alt=\"unscaledValue*10^{-scale}\" /> is less than -6.</li>\n</ul>\n<p><strong>More examples:</strong></p>\n<ul>\n<li>19/100 = 0.19 // integer=19, scale=2, precision=2</li>\n<li>1/1000 = 0.0001 // integer=1, scale = 4, precision = 1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643625219,"creation_date":1643625219,"answer_id":70924491,"question_id":35435691,"body_markdown":"Precision is the total number of significant digits in a number. \r\nScale is the number of digits to the right of the decimal point.\r\n\r\nExamples:\r\n\r\n123.456 Precision=6 Scale=3\r\n\r\n10 Precision=2 Scale=0\r\n\r\n-96.9923 Precision=6 Scale=4\r\n\r\n0.0 Precision=1 Scale=1\r\n\r\n\r\n\r\nNegative Scale\r\n\r\nFor a negative scale value, we apply the following formula:\r\nresult = (given number) * 10 ^ (-(scale value))\r\nExample\r\n\r\nGiven number = 1234.56\r\n\r\nscale = -5\r\n\r\n -&gt;  (1234.56) * 10^(-(-5))\r\n\r\n -&gt;  (1234.56) * 10^(+5)\r\n\r\n -&gt;  123456000\r\n\r\n\r\nReference: https://www.logicbig.com/quick-info/programming/precision-and-scale.html","title":"BigDecimal, precision and scale","body":"<p>Precision is the total number of significant digits in a number.\nScale is the number of digits to the right of the decimal point.</p>\n<p>Examples:</p>\n<p>123.456 Precision=6 Scale=3</p>\n<p>10 Precision=2 Scale=0</p>\n<p>-96.9923 Precision=6 Scale=4</p>\n<p>0.0 Precision=1 Scale=1</p>\n<p>Negative Scale</p>\n<p>For a negative scale value, we apply the following formula:\nresult = (given number) * 10 ^ (-(scale value))\nExample</p>\n<p>Given number = 1234.56</p>\n<p>scale = -5</p>\n<p>-&gt;  (1234.56) * 10^(-(-5))</p>\n<p>-&gt;  (1234.56) * 10^(+5)</p>\n<p>-&gt;  123456000</p>\n<p>Reference: <a href=\"https://www.logicbig.com/quick-info/programming/precision-and-scale.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/quick-info/programming/precision-and-scale.html</a></p>\n"},{"tags":[],"owner":{"account_id":4877429,"reputation":123,"user_id":3932093,"accept_rate":17,"display_name":"imAmanRana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690592144,"creation_date":1690592144,"answer_id":76791689,"question_id":35435691,"body_markdown":"The JPA annotation `@Column(precision = 11, scale = 2)` for `BigDecimal` variable translates to `DECIMAL(11,2)` in the MYSQL database. \r\n\r\nThis means, the column can store a value having 11 digits in total, with 2 digits allowed after the decimal. ie. the Range here would be `[-999999999.99,999999999.99]`","title":"BigDecimal, precision and scale","body":"<p>The JPA annotation <code>@Column(precision = 11, scale = 2)</code> for <code>BigDecimal</code> variable translates to <code>DECIMAL(11,2)</code> in the MYSQL database.</p>\n<p>This means, the column can store a value having 11 digits in total, with 2 digits allowed after the decimal. ie. the Range here would be <code>[-999999999.99,999999999.99]</code></p>\n"}],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147288,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":35436935,"answer_count":6,"score":110,"last_activity_date":1690592144,"creation_date":1455634411,"question_id":35435691,"body_markdown":"I&#39;m using BigDecimal for my numbers in my application, for example, with JPA. I did a bit of researching about the terms &#39;precision&#39; and &#39;scale&#39; but I don&#39;t understand what are they exactly.\r\n\r\nCan anyone explain me the meaning of &#39;precision&#39; and &#39;scale&#39; for a BigDecimal value?\r\n\r\n    @Column(precision = 11, scale = 2)\r\n\r\nThanks!","title":"BigDecimal, precision and scale","body":"<p>I'm using BigDecimal for my numbers in my application, for example, with JPA. I did a bit of researching about the terms 'precision' and 'scale' but I don't understand what are they exactly.</p>\n\n<p>Can anyone explain me the meaning of 'precision' and 'scale' for a BigDecimal value?</p>\n\n<pre><code>@Column(precision = 11, scale = 2)\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","variables","environment"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1690594023,"post_id":76791663,"comment_id":135379663,"body_markdown":"Use `/usr/libexec/java_home -V` to see what&#39;s installed; use `export JAVA_HOME=/path/to/…` to set `$JAVA_HOME`.","body":"Use <code>&#47;usr&#47;libexec&#47;java_home -V</code> to see what&#39;s installed; use <code>export JAVA_HOME=&#47;path&#47;to&#47;…</code> to set <code>$JAVA_HOME</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690595116,"post_id":76791663,"comment_id":135379729,"body_markdown":"Did you restart your terminal? The file is only re-read when the shell is started again. You might also want to double-check that you’re running `zsh` as your shell. Try `echo $SHELL`. It’s `zsh` by default on recent macOS versions, but if you migrated from an earlier version it might be `bash`. In that case, you should add the setting to `.bashrc` instead.","body":"Did you restart your terminal? The file is only re-read when the shell is started again. You might also want to double-check that you’re running <code>zsh</code> as your shell. Try <code>echo $SHELL</code>. It’s <code>zsh</code> by default on recent macOS versions, but if you migrated from an earlier version it might be <code>bash</code>. In that case, you should add the setting to <code>.bashrc</code> instead."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690603565,"post_id":76791663,"comment_id":135380095,"body_markdown":"It&#39;s `export JAVA_HOME=/Library/all that other stuff`. Then, follow the other advice (such as restarting zsh).","body":"It&#39;s <code>export JAVA_HOME=&#47;Library&#47;all that other stuff</code>. Then, follow the other advice (such as restarting zsh)."}],"owner":{"account_id":26868829,"reputation":1,"user_id":20451154,"display_name":"DozleZabi78"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690591326,"creation_date":1690591326,"question_id":76791663,"body_markdown":"relieved and grateful to find this community you have made and keep it up!\r\nI installed JDK on my laptop, it is JDK20 on OS X Ventura 13.4.1 on ARM64\r\n```\r\njava version &quot;20.0.2&quot; 2023-07-18\r\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n```\r\n\r\nI added JAVA_HOME to my terminal&#39;s environment variable this way:\r\n`nano ~/.zshrc`\r\n\r\ncopy pasted this: \r\n`export /Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home`\r\n\r\nsaved it\r\nthen I tried to check that its actually added it as expected based on what I added to the env var this way:\r\n`echo $JAVA_HOME`\r\n\r\ninstead of seeing the path, I just see a blank line.\r\nI&#39;ve looked it up and tried a few recommended steps, no luck so far,\r\nWhile you are replying I will keep trying to find a fix on my end and update this.\r\n\r\nI tried looking it up, I tried checking that I spelled the export path correctly, I checked that there were no unexpected spaces, I saved the file, I retried and I am still getting the same blank line. I think I am expected to know this because when one installs the JDK on your workstation you are expected to know that you have done so correctly so it works as expected.","title":"Issues verifying that JAVA_HOME is set as expected","body":"<p>relieved and grateful to find this community you have made and keep it up!\nI installed JDK on my laptop, it is JDK20 on OS X Ventura 13.4.1 on ARM64</p>\n<pre><code>java version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\n</code></pre>\n<p>I added JAVA_HOME to my terminal's environment variable this way:\n<code>nano ~/.zshrc</code></p>\n<p>copy pasted this:\n<code>export /Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home</code></p>\n<p>saved it\nthen I tried to check that its actually added it as expected based on what I added to the env var this way:\n<code>echo $JAVA_HOME</code></p>\n<p>instead of seeing the path, I just see a blank line.\nI've looked it up and tried a few recommended steps, no luck so far,\nWhile you are replying I will keep trying to find a fix on my end and update this.</p>\n<p>I tried looking it up, I tried checking that I spelled the export path correctly, I checked that there were no unexpected spaces, I saved the file, I retried and I am still getting the same blank line. I think I am expected to know this because when one installs the JDK on your workstation you are expected to know that you have done so correctly so it works as expected.</p>\n"},{"tags":["java","android","android-studio","android-13"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688416214,"post_id":76605043,"comment_id":135068752,"body_markdown":"Please describe in detail what &quot;not working&quot; means. What errors does it cause?","body":"Please describe in detail what &quot;not working&quot; means. What errors does it cause?"},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688440687,"post_id":76605043,"comment_id":135071047,"body_markdown":"Hi, robert I mentioned comment in code already. the comment is &quot;//getting error on source.getHeight() line&quot; basically we can do only media query to fetch image if want to publish app in playstore. the source.getHeight() returning 0.","body":"Hi, robert I mentioned comment in code already. the comment is &quot;//getting error on source.getHeight() line&quot; basically we can do only media query to fetch image if want to publish app in playstore. the source.getHeight() returning 0."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688454967,"post_id":76605043,"comment_id":135072611,"body_markdown":"What error do you get? Do you simply get 0 as return value or an exception? If you get an exception please include the full output into your question (not in comments!).","body":"What error do you get? Do you simply get 0 as return value or an exception? If you get an exception please include the full output into your question (not in comments!)."},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688460896,"post_id":76605043,"comment_id":135073787,"body_markdown":"@Robert done sir. and am very glad that you are trying to helping me.","body":"@Robert done sir. and am very glad that you are trying to helping me."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688464804,"post_id":76605043,"comment_id":135074645,"body_markdown":"Please never paste stack traces as image into question. Just copy &amp; paste the text. Fro what I see the most likely error is that you run into the catch block `FileNotFoundException` in `decodeFile`. Thus the return value is null and so `source` becomes `null`. =&gt; never catch an Exception and return null if your code can not handle this. So I assume your error is you try to load a non-existant file.","body":"Please never paste stack traces as image into question. Just copy &amp; paste the text. Fro what I see the most likely error is that you run into the catch block <code>FileNotFoundException</code> in <code>decodeFile</code>. Thus the return value is null and so <code>source</code> becomes <code>null</code>. =&gt; never catch an Exception and return null if your code can not handle this. So I assume your error is you try to load a non-existant file."},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688472218,"post_id":76605043,"comment_id":135076142,"body_markdown":"@Robert Thank you so much sir for writing again. Yes you are correct about  FileNotFoundException I diagnose that permission was denied. so I check what permissions are restricted I found photos and videos permission was denied in my samsung phone. so finally figure out because of you. now I need to know what is minimum api level which need these special permissions (images and videos, music and audio). Also I request you to write in answer so I can mark it as answer sir.","body":"@Robert Thank you so much sir for writing again. Yes you are correct about  FileNotFoundException I diagnose that permission was denied. so I check what permissions are restricted I found photos and videos permission was denied in my samsung phone. so finally figure out because of you. now I need to know what is minimum api level which need these special permissions (images and videos, music and audio). Also I request you to write in answer so I can mark it as answer sir."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1690590914,"post_id":76605043,"comment_id":135379474,"body_markdown":"Please review *[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/)* (e.g., *&quot;Images should only be used to illustrate problems that* ***can&#39;t be made clear in any other way,*** *such as to provide screenshots of a user interface.&quot;*) and [do the right thing](https://stackoverflow.com/posts/76605043/edit). Thanks in advance.","body":"Please review <i><a href=\"https://meta.stackoverflow.com/questions/285551/\">Why not upload images of code/errors when asking a question?</a></i> (e.g., <i>&quot;Images should only be used to illustrate problems that</i> <b><i>can&#39;t be made clear in any other way,</i></b> <i>such as to provide screenshots of a user interface.&quot;</i>) and <a href=\"https://stackoverflow.com/posts/76605043/edit\">do the right thing</a>. Thanks in advance."}],"answers":[{"tags":[],"owner":{"account_id":28945930,"reputation":1,"user_id":22171515,"display_name":"Saravanan Mani"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688588218,"creation_date":1688462852,"answer_id":76611174,"question_id":76605043,"body_markdown":"```\r\npublic File compressImage(File fileimage) {\r\n  Bitmap icon = BitmapFactory.decodeFile(String.valueOf(fileimage));\r\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n  icon.compress(Bitmap.CompressFormat.JPEG, 70, bytes);\r\n  String folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;Images&quot;) + &quot;/&quot;;\r\n  File directory = new File(folder);\r\n  if (!directory.exists()) {\r\n    directory.mkdirs();\r\n  }\r\n  File f = new File(folder + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n  try {\r\n    f.createNewFile();\r\n    FileOutputStream fo = new FileOutputStream(f);\r\n    fo.write(bytes.toByteArray());\r\n  } catch (IOException e) {\r\n    e.printStackTrace();\r\n  }\r\n  return f;\r\n}\r\n```","title":"How to compress an image in Android 13 APIs","body":"<pre><code>public File compressImage(File fileimage) {\n  Bitmap icon = BitmapFactory.decodeFile(String.valueOf(fileimage));\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n  icon.compress(Bitmap.CompressFormat.JPEG, 70, bytes);\n  String folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;Images&quot;) + &quot;/&quot;;\n  File directory = new File(folder);\n  if (!directory.exists()) {\n    directory.mkdirs();\n  }\n  File f = new File(folder + System.currentTimeMillis() + &quot;.jpg&quot;);\n  try {\n    f.createNewFile();\n    FileOutputStream fo = new FileOutputStream(f);\n    fo.write(bytes.toByteArray());\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n  return f;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688475105,"creation_date":1688475105,"answer_id":76612845,"question_id":76605043,"body_markdown":"If you get a `NullPointerException` on `source.getHeight()` then this means `source` has been set to `null`.\r\n\r\nThe only point where `source`is set is on the line \r\n\r\n    source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\r\n\r\nThis means the method `decodeFile` has to return a null value. \r\n\r\nLooking at the method `decodeFile` you can see tha there are only two different code paths that return a value. The first code path returns the value of `BitmapFactory.decodeStream(..)` which AFAIK should never return `null`.\r\n\r\nThe it is most likely the other code path in the `FileNotFoundException ` catch clause. \r\n\r\n```\r\npublic static Bitmap decodeFile(File file, int width, int height) {\r\n    try {\r\n        ....\r\n        return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\r\n\r\n    } catch (FileNotFoundException e) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nThis leads to the conclusion that at some point you are trying to read a File that does not exist or on that you don&#39;t have read permissions. \r\n\r\nAs your app is older the chance is high that if it is a permission problem and the file is on the shared storage (`/sdcard` or subfolder) this is because the app does not make use of scoped storage system introduced with Android 10/11. ","title":"How to compress an image in Android 13 APIs","body":"<p>If you get a <code>NullPointerException</code> on <code>source.getHeight()</code> then this means <code>source</code> has been set to <code>null</code>.</p>\n<p>The only point where <code>source</code>is set is on the line</p>\n<pre><code>source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\n</code></pre>\n<p>This means the method <code>decodeFile</code> has to return a null value.</p>\n<p>Looking at the method <code>decodeFile</code> you can see tha there are only two different code paths that return a value. The first code path returns the value of <code>BitmapFactory.decodeStream(..)</code> which AFAIK should never return <code>null</code>.</p>\n<p>The it is most likely the other code path in the <code>FileNotFoundException </code> catch clause.</p>\n<pre><code>public static Bitmap decodeFile(File file, int width, int height) {\n    try {\n        ....\n        return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\n\n    } catch (FileNotFoundException e) {\n        return null;\n    }\n}\n</code></pre>\n<p>This leads to the conclusion that at some point you are trying to read a File that does not exist or on that you don't have read permissions.</p>\n<p>As your app is older the chance is high that if it is a permission problem and the file is on the shared storage (<code>/sdcard</code> or subfolder) this is because the app does not make use of scoped storage system introduced with Android 10/11.</p>\n"}],"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612845,"answer_count":2,"score":0,"last_activity_date":1690590829,"creation_date":1688389661,"question_id":76605043,"body_markdown":"I have made image compression long ago. It was working well until [Android X][1], but above Android it’s not working.\r\n\r\n    public class ImageCompress {\r\n\r\n        private static final int IMAGE_QUALITY = 99;\r\n        private static final int MAX_SIZE_PIXELS = 1200;\r\n\r\n        public static Bitmap decodeFile(File file, int width, int height) {\r\n            try {\r\n                // Decode image size\r\n                BitmapFactory.Options options = new BitmapFactory.Options();\r\n                options.inJustDecodeBounds = true;\r\n                BitmapFactory.decodeStream(new FileInputStream(file), null, options);\r\n\r\n                // The new size we want to scale to\r\n                final int REQUIRED_WIDTH = width;\r\n                final int REQUIRED_HIGHT = height;\r\n\r\n                // Find the correct scale value. It should be the power of 2.\r\n                int scale = 1;\r\n                while (options.outWidth / scale / 2 &gt;= REQUIRED_WIDTH\r\n                        &amp;&amp; options.outHeight / scale / 2 &gt;= REQUIRED_HIGHT)\r\n                    scale *= 2;\r\n\r\n                // Decode with inSampleSize\r\n                BitmapFactory.Options newOptions = new BitmapFactory.Options();\r\n                newOptions.inSampleSize = scale;\r\n                return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\r\n\r\n            } catch (FileNotFoundException e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static File compressImage(final File file, String outputDirectory, Context context) {\r\n            String path = file.getPath();\r\n            String format = path.substring(path.lastIndexOf(&quot;.&quot;)).substring(1);\r\n            Bitmap source;\r\n            try {\r\n                source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\r\n            } catch (Exception e) {\r\n                Log.d(ImageCompress.class.toString(), e.toString() + &quot; Something happened wrong&quot;);\r\n                return null;\r\n            }\r\n\r\n            Bitmap.CompressFormat compressFormat;\r\n\r\n            // If PNG or WebP have the allowed resolution, then do not compress it\r\n            if (&quot;png&quot;.equals(format) || &quot;webp&quot;.equals(format)) return file;\r\n\r\n            // Select format\r\n            switch (format) {\r\n                case &quot;png&quot;:\r\n                    compressFormat = Bitmap.CompressFormat.PNG;\r\n                    break;\r\n                case &quot;webp&quot;:\r\n                    compressFormat = Bitmap.CompressFormat.WEBP;\r\n                    break;\r\n                case &quot;gif&quot;:\r\n                    return file;\r\n                default:\r\n                    compressFormat = Bitmap.CompressFormat.JPEG;\r\n            }\r\n\r\n            // Resize image\r\n            Bitmap resizedBmp;\r\n        // I am getting an error on the source.getHeight() line\r\n            if (source.getHeight() &gt; MAX_SIZE_PIXELS || source.getWidth() &gt; MAX_SIZE_PIXELS) {\r\n                resizedBmp = resizeBitmap(source, MAX_SIZE_PIXELS);\r\n            } else {\r\n                resizedBmp = source;\r\n            }\r\n            File result = null;\r\n            OutputStream fOut = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                ContentResolver resolver = BaseApplication.getInstance().getContentResolver();\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, file.getName());\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/&quot; + format);\r\n                contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Constants.MULTIMEDIA_CHATROOM_11);\r\n                Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n                try {\r\n                    fOut = resolver.openOutputStream(imageUri);\r\n                    result = new File(Utils.getPath(BaseApplication.getInstance(), imageUri));\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                // create directory if not exist\r\n                File directory = new File(outputDirectory);\r\n                int code = context.getPackageManager().checkPermission(\r\n                        android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                        context.getPackageName());\r\n                if (code == PackageManager.PERMISSION_GRANTED) {\r\n                    Log.i(ImageCompress.class.getSimpleName(), &quot;creating directory&quot;);\r\n                    if (!directory.isDirectory() || !directory.exists()) {\r\n                        directory.mkdirs();\r\n                    }\r\n                } else {\r\n                    Log.i(ImageCompress.class.getSimpleName(), &quot;failed access&quot;);\r\n                }\r\n\r\n                // Compress image\r\n                result = new File(outputDirectory, file.getName());\r\n\r\n                try {\r\n                    if (!result.exists()) {\r\n                        result.createNewFile();\r\n                        fOut = new FileOutputStream(result);\r\n                    } else {\r\n                        fOut = new FileOutputStream(result);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            try {\r\n                resizedBmp.compress(compressFormat, IMAGE_QUALITY, fOut);\r\n                fOut.flush();\r\n                fOut.close();\r\n                source.recycle();\r\n                resizedBmp.recycle();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n\r\n            // Copy EXIF orientation from the original image\r\n            try {\r\n                ExifInterface oldExif = new ExifInterface(file.getPath());\r\n                String exifOrientation = oldExif.getAttribute(ExifInterface.TAG_ORIENTATION);\r\n                if (exifOrientation != null) {\r\n                    ExifInterface newExif = new ExifInterface(result.getPath());\r\n                    newExif.setAttribute(ExifInterface.TAG_ORIENTATION, exifOrientation);\r\n                    newExif.saveAttributes();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static Bitmap resizeBitmap(Bitmap source, int maxSizePixels) {\r\n            int targetWidth, targetHeight;\r\n            double aspectRatio;\r\n\r\n            if (source.getWidth() &gt; source.getHeight()) {\r\n                targetWidth = maxSizePixels;\r\n                aspectRatio = (double) source.getHeight() / (double) source.getWidth();\r\n                targetHeight = (int) (targetWidth * aspectRatio);\r\n            } else {\r\n                targetHeight = maxSizePixels;\r\n                aspectRatio = (double) source.getWidth() / (double) source.getHeight();\r\n                targetWidth = (int) (targetHeight * aspectRatio);\r\n            }\r\n\r\n            return Bitmap.createScaledBitmap(source, targetWidth, targetHeight, false);\r\n        }\r\n    }\r\n\r\nMy app is made for social entertainment purposes, so I don&#39;t have storage access like before due to policies. So we can use only the session scope way to access files. I am getting an error at line source.getHeight() and source.getWidth() as both are zero. How can I fix this this issue for all Android versions?\r\n\r\nError:\r\n\r\n[![Getting error][2]][2]\r\n\r\nPlease note: I noticed this error comes in a few pictures from the gallery.\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx\r\n  [2]: https://i.stack.imgur.com/BAWKd.png\r\n\r\n\r\n\r\n","title":"How to compress an image in Android 13 APIs","body":"<p>I have made image compression long ago. It was working well until <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">Android X</a>, but above Android it’s not working.</p>\n<pre><code>public class ImageCompress {\n\n    private static final int IMAGE_QUALITY = 99;\n    private static final int MAX_SIZE_PIXELS = 1200;\n\n    public static Bitmap decodeFile(File file, int width, int height) {\n        try {\n            // Decode image size\n            BitmapFactory.Options options = new BitmapFactory.Options();\n            options.inJustDecodeBounds = true;\n            BitmapFactory.decodeStream(new FileInputStream(file), null, options);\n\n            // The new size we want to scale to\n            final int REQUIRED_WIDTH = width;\n            final int REQUIRED_HIGHT = height;\n\n            // Find the correct scale value. It should be the power of 2.\n            int scale = 1;\n            while (options.outWidth / scale / 2 &gt;= REQUIRED_WIDTH\n                    &amp;&amp; options.outHeight / scale / 2 &gt;= REQUIRED_HIGHT)\n                scale *= 2;\n\n            // Decode with inSampleSize\n            BitmapFactory.Options newOptions = new BitmapFactory.Options();\n            newOptions.inSampleSize = scale;\n            return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\n\n        } catch (FileNotFoundException e) {\n            return null;\n        }\n    }\n\n    public static File compressImage(final File file, String outputDirectory, Context context) {\n        String path = file.getPath();\n        String format = path.substring(path.lastIndexOf(&quot;.&quot;)).substring(1);\n        Bitmap source;\n        try {\n            source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\n        } catch (Exception e) {\n            Log.d(ImageCompress.class.toString(), e.toString() + &quot; Something happened wrong&quot;);\n            return null;\n        }\n\n        Bitmap.CompressFormat compressFormat;\n\n        // If PNG or WebP have the allowed resolution, then do not compress it\n        if (&quot;png&quot;.equals(format) || &quot;webp&quot;.equals(format)) return file;\n\n        // Select format\n        switch (format) {\n            case &quot;png&quot;:\n                compressFormat = Bitmap.CompressFormat.PNG;\n                break;\n            case &quot;webp&quot;:\n                compressFormat = Bitmap.CompressFormat.WEBP;\n                break;\n            case &quot;gif&quot;:\n                return file;\n            default:\n                compressFormat = Bitmap.CompressFormat.JPEG;\n        }\n\n        // Resize image\n        Bitmap resizedBmp;\n    // I am getting an error on the source.getHeight() line\n        if (source.getHeight() &gt; MAX_SIZE_PIXELS || source.getWidth() &gt; MAX_SIZE_PIXELS) {\n            resizedBmp = resizeBitmap(source, MAX_SIZE_PIXELS);\n        } else {\n            resizedBmp = source;\n        }\n        File result = null;\n        OutputStream fOut = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            ContentResolver resolver = BaseApplication.getInstance().getContentResolver();\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, file.getName());\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/&quot; + format);\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Constants.MULTIMEDIA_CHATROOM_11);\n            Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n            try {\n                fOut = resolver.openOutputStream(imageUri);\n                result = new File(Utils.getPath(BaseApplication.getInstance(), imageUri));\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        } else {\n            // create directory if not exist\n            File directory = new File(outputDirectory);\n            int code = context.getPackageManager().checkPermission(\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                    context.getPackageName());\n            if (code == PackageManager.PERMISSION_GRANTED) {\n                Log.i(ImageCompress.class.getSimpleName(), &quot;creating directory&quot;);\n                if (!directory.isDirectory() || !directory.exists()) {\n                    directory.mkdirs();\n                }\n            } else {\n                Log.i(ImageCompress.class.getSimpleName(), &quot;failed access&quot;);\n            }\n\n            // Compress image\n            result = new File(outputDirectory, file.getName());\n\n            try {\n                if (!result.exists()) {\n                    result.createNewFile();\n                    fOut = new FileOutputStream(result);\n                } else {\n                    fOut = new FileOutputStream(result);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            resizedBmp.compress(compressFormat, IMAGE_QUALITY, fOut);\n            fOut.flush();\n            fOut.close();\n            source.recycle();\n            resizedBmp.recycle();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n\n        // Copy EXIF orientation from the original image\n        try {\n            ExifInterface oldExif = new ExifInterface(file.getPath());\n            String exifOrientation = oldExif.getAttribute(ExifInterface.TAG_ORIENTATION);\n            if (exifOrientation != null) {\n                ExifInterface newExif = new ExifInterface(result.getPath());\n                newExif.setAttribute(ExifInterface.TAG_ORIENTATION, exifOrientation);\n                newExif.saveAttributes();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    private static Bitmap resizeBitmap(Bitmap source, int maxSizePixels) {\n        int targetWidth, targetHeight;\n        double aspectRatio;\n\n        if (source.getWidth() &gt; source.getHeight()) {\n            targetWidth = maxSizePixels;\n            aspectRatio = (double) source.getHeight() / (double) source.getWidth();\n            targetHeight = (int) (targetWidth * aspectRatio);\n        } else {\n            targetHeight = maxSizePixels;\n            aspectRatio = (double) source.getWidth() / (double) source.getHeight();\n            targetWidth = (int) (targetHeight * aspectRatio);\n        }\n\n        return Bitmap.createScaledBitmap(source, targetWidth, targetHeight, false);\n    }\n}\n</code></pre>\n<p>My app is made for social entertainment purposes, so I don't have storage access like before due to policies. So we can use only the session scope way to access files. I am getting an error at line source.getHeight() and source.getWidth() as both are zero. How can I fix this this issue for all Android versions?</p>\n<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/BAWKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAWKd.png\" alt=\"Getting error\" /></a></p>\n<p>Please note: I noticed this error comes in a few pictures from the gallery.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":2,"creation_date":1690479545,"post_id":76782109,"comment_id":135363262,"body_markdown":"Does this answer your question? [What are enums and why are they useful?](https://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful\">What are enums and why are they useful?</a>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1690480774,"post_id":76782109,"comment_id":135363498,"body_markdown":"@AztecCodes: I agree completely: `You should always use enums when a variable (especially a method parameter) can only take one out of a small set of possible values....If you use enums instead of integers (or String codes), you increase compile-time checking and avoid errors from passing in invalid constants, and you document which values are legal to use.`.  Personally, I liked Pascal [enumeration types](https://wiki.freepascal.org/Enum_Type).  And personally, I think what the OP is trying to do is a bit of an &quot;overreach&quot; ... and I&#39;m unsurprised it &quot;doesn&#39;t work&quot;.  Q: Why not just a &quot;class&quot;?","body":"@AztecCodes: I agree completely: <code>You should always use enums when a variable (especially a method parameter) can only take one out of a small set of possible values....If you use enums instead of integers (or String codes), you increase compile-time checking and avoid errors from passing in invalid constants, and you document which values are legal to use.</code>.  Personally, I liked Pascal <a href=\"https://wiki.freepascal.org/Enum_Type\" rel=\"nofollow noreferrer\">enumeration types</a>.  And personally, I think what the OP is trying to do is a bit of an &quot;overreach&quot; ... and I&#39;m unsurprised it &quot;doesn&#39;t work&quot;.  Q: Why not just a &quot;class&quot;?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1690480993,"post_id":76782109,"comment_id":135363547,"body_markdown":"Use a _class_ with _nested classes_, to achieve what you&#39;re looking to do here.","body":"Use a <i>class</i> with <i>nested classes</i>, to achieve what you&#39;re looking to do here."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690486862,"post_id":76782109,"comment_id":135364566,"body_markdown":"You can, and should, edit this question to improve it. You said that the example &quot;does not work&quot;.  If you got a compiler error, please include a copy of the error message. If you ran the code, please include the expected result and actual result.","body":"You can, and should, edit this question to improve it. You said that the example &quot;does not work&quot;.  If you got a compiler error, please include a copy of the error message. If you ran the code, please include the expected result and actual result."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586047,"post_id":76782109,"comment_id":135379112,"body_markdown":"@AztecCodes - not really.","body":"@AztecCodes - not really."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586059,"post_id":76782109,"comment_id":135379115,"body_markdown":"@Relias - yes, I could do that in several other ways. But I am curious why enums do not allow it.","body":"@Relias - yes, I could do that in several other ways. But I am curious why enums do not allow it."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586068,"post_id":76782109,"comment_id":135379118,"body_markdown":"@OldDogProgrammer - it does not compile, pretty easy to run it yourself and see.","body":"@OldDogProgrammer - it does not compile, pretty easy to run it yourself and see."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586966,"post_id":76782109,"comment_id":135379191,"body_markdown":"@stuartmarks\n Any opinion on that?","body":"@stuartmarks  Any opinion on that?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690587565,"post_id":76782109,"comment_id":135379234,"body_markdown":"@HristoStoyanov, Yes. But, part of writing a good question is not just saying something &quot;does not work&quot;. Writing a good question includes something about *why* it doesn&#39;t (seem) to work. It is *your* responsibility to include that in the question.","body":"@HristoStoyanov, Yes. But, part of writing a good question is not just saying something &quot;does not work&quot;. Writing a good question includes something about <i>why</i> it doesn&#39;t (seem) to work. It is <i>your</i> responsibility to include that in the question."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1690596130,"post_id":76782109,"comment_id":135379769,"body_markdown":"what would be the point of creating an enum like this?  if the methods are individual to each enum, then just implement them as separate methods on a class.  you gain nothing by putting them on an enum.  what are you trying to accomplish?","body":"what would be the point of creating an enum like this?  if the methods are individual to each enum, then just implement them as separate methods on a class.  you gain nothing by putting them on an enum.  what are you trying to accomplish?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690480645,"creation_date":1690478442,"answer_id":76782119,"question_id":76782109,"body_markdown":"Those methods are methods of each individual enum instance, similar to a method declared within an anonymous class, and just like an anonymous class, the methods are not visible to variables of the parent type. Since ONE and TWO are instances of the MyEnum enum, the only methods visible to them are the ones declared in the enum itself, and also, of course, any inherited methods from the parent of all enums, `java.lang.Enum`. \r\n\r\nTo make the method visible, it must be declared as a method of the enum itself:\r\n\r\n```\r\nclass Scratch {\r\n    enum MyEnum {\r\n        ONE {\r\n            public void test1(String v1, String v2) { }\r\n        },\r\n        TWO {\r\n            public void test2(int v3) { }\r\n        };\r\n\r\n        public void test1(String v1, String v2) { }\r\n\r\n        public void test2(int v3) { }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyEnum.ONE.test1(&quot;a&quot;, &quot;b&quot;);\r\n        MyEnum.ONE.test2(0);\r\n\r\n\t\t// remember that an enum variable can be re-assigned, and so \r\n        // all visible methods should be methods of the MyEnum type\r\n\t\tMyEnum foo = MyEnum.ONE;\r\n\t\tfoo = MyEnum.TWO;\r\n    }\r\n}\r\n```\r\n\r\nRemember that an enum variable can be re-assigned, and any enum variable should be able to potentially call the same methods.","title":"Missing capability of Java enums?","body":"<p>Those methods are methods of each individual enum instance, similar to a method declared within an anonymous class, and just like an anonymous class, the methods are not visible to variables of the parent type. Since ONE and TWO are instances of the MyEnum enum, the only methods visible to them are the ones declared in the enum itself, and also, of course, any inherited methods from the parent of all enums, <code>java.lang.Enum</code>.</p>\n<p>To make the method visible, it must be declared as a method of the enum itself:</p>\n<pre><code>class Scratch {\n    enum MyEnum {\n        ONE {\n            public void test1(String v1, String v2) { }\n        },\n        TWO {\n            public void test2(int v3) { }\n        };\n\n        public void test1(String v1, String v2) { }\n\n        public void test2(int v3) { }\n    }\n\n    public static void main(String[] args) {\n        MyEnum.ONE.test1(&quot;a&quot;, &quot;b&quot;);\n        MyEnum.ONE.test2(0);\n\n        // remember that an enum variable can be re-assigned, and so \n        // all visible methods should be methods of the MyEnum type\n        MyEnum foo = MyEnum.ONE;\n        foo = MyEnum.TWO;\n    }\n}\n</code></pre>\n<p>Remember that an enum variable can be re-assigned, and any enum variable should be able to potentially call the same methods.</p>\n"}],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690590733,"creation_date":1690478345,"question_id":76782109,"body_markdown":"\r\nThe below example looks cool, but invoking enum methods like that does not work. Why? Can you point me to relevant reference docs, workarounds?\r\n\r\n```\r\nclass Scratch {\r\n\tenum MyEnum {\r\n\t\tONE{\r\n\t\t\tvoid test1 (String v1, String v2){}\r\n\t\t},\r\n\t\tTWO{\r\n\t\t\tvoid test2(int v3){}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMyEnum.ONE.test1(&quot;a&quot;,&quot;b&quot;);\r\n\t\tMyEnum.TWO.test2(0);\r\n\t}\r\n}\r\n```\r\n","title":"Missing capability of Java enums?","body":"<p>The below example looks cool, but invoking enum methods like that does not work. Why? Can you point me to relevant reference docs, workarounds?</p>\n<pre><code>class Scratch {\n    enum MyEnum {\n        ONE{\n            void test1 (String v1, String v2){}\n        },\n        TWO{\n            void test2(int v3){}\n        }\n    }\n\n    public static void main(String[] args) {\n        MyEnum.ONE.test1(&quot;a&quot;,&quot;b&quot;);\n        MyEnum.TWO.test2(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690501095,"creation_date":1690501095,"answer_id":76784029,"question_id":76783950,"body_markdown":"You can use @Builder like this : \r\n\r\n    @AllArgsConstructor\r\n    public class Parent {\r\n        private final String parentName;\r\n        private final int parentAge;\r\n    }\r\n    \r\n    public class Child extends Parent {\r\n        private final String childName;\r\n        private final int childAge;\r\n    \r\n        @Builder\r\n        public Child(String parentName, int parentAge, String childName, int childAge) {\r\n            super(parentName, parentAge);\r\n            this.childName = childName;\r\n            this.childAge = childAge;\r\n        }\r\n    }","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>You can use @Builder like this :</p>\n<pre><code>@AllArgsConstructor\npublic class Parent {\n    private final String parentName;\n    private final int parentAge;\n}\n\npublic class Child extends Parent {\n    private final String childName;\n    private final int childAge;\n\n    @Builder\n    public Child(String parentName, int parentAge, String childName, int childAge) {\n        super(parentName, parentAge);\n        this.childName = childName;\n        this.childAge = childAge;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690589345,"creation_date":1690589345,"answer_id":76791589,"question_id":76783950,"body_markdown":"You can use @SuperBuilder for this constructor like this :\r\n\r\n    @Override\r\n    public User getUserByCredentials(String mail, String password) {\r\n        User user = null;\r\n        Connection connection = connectionPool.getConnection();\r\n        try {\r\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\r\n            preparedStatement.setString(1, mail);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                user = User.builder()\r\n\t\t\t\t.id(resultSet.getInt(&quot;id&quot;))\r\n\t\t\t\t.mail(resultSet.getString(&quot;mail&quot;))\r\n\t\t\t\t.password(resultSet.getString(&quot;password&quot;))\r\n                .name(resultSet.getString(&quot;name&quot;))\r\n                .surname(resultSet.getString(&quot;surname&quot;))\r\n                .date(resultSet.getDate(&quot;date&quot;).toLocalDate())\r\n                .currentBalance(resultSet.getFloat(&quot;balance&quot;))\r\n                .mobile(resultSet.getString(&quot;mobile&quot;))\r\n                .street(resultSet.getString(&quot;street&quot;))\r\n                .accommodationNumber(resultSet.getString(&quot;accommodation_number&quot;))\r\n                .flatNumber(resultSet.getString(&quot;flat_number&quot;))\r\n                .build();\r\n            }\r\n            return user;\r\n        } catch (SQLException e) {\r\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\r\n            return null;\r\n        } finally {\r\n            connectionPool.closeConnection(connection);\r\n        }\r\n    }","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>You can use @SuperBuilder for this constructor like this :</p>\n<pre><code>@Override\npublic User getUserByCredentials(String mail, String password) {\n    User user = null;\n    Connection connection = connectionPool.getConnection();\n    try {\n        PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\n        preparedStatement.setString(1, mail);\n        preparedStatement.setString(2, password);\n        ResultSet resultSet = preparedStatement.executeQuery();\n        if (resultSet.next()) {\n            user = User.builder()\n            .id(resultSet.getInt(&quot;id&quot;))\n            .mail(resultSet.getString(&quot;mail&quot;))\n            .password(resultSet.getString(&quot;password&quot;))\n            .name(resultSet.getString(&quot;name&quot;))\n            .surname(resultSet.getString(&quot;surname&quot;))\n            .date(resultSet.getDate(&quot;date&quot;).toLocalDate())\n            .currentBalance(resultSet.getFloat(&quot;balance&quot;))\n            .mobile(resultSet.getString(&quot;mobile&quot;))\n            .street(resultSet.getString(&quot;street&quot;))\n            .accommodationNumber(resultSet.getString(&quot;accommodation_number&quot;))\n            .flatNumber(resultSet.getString(&quot;flat_number&quot;))\n            .build();\n        }\n        return user;\n    } catch (SQLException e) {\n        logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\n        return null;\n    } finally {\n        connectionPool.closeConnection(connection);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76791589,"answer_count":2,"score":-1,"last_activity_date":1690589345,"creation_date":1690499708,"question_id":76783950,"body_markdown":"Today i faced with Lombok issue what annotation @AllArgsConstructor doesn&#39;t work. I have 1 superclass for my entities: \r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\npublic class BaseEntity {\r\n    protected int id;\r\n}\r\n```\r\n\r\nAnd also some child classes, for example User:\r\n\r\n```\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@SuperBuilder\r\npublic class User extends BaseEntity{\r\n    @Email\r\n    @NotNull\r\n    private String mail;\r\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;)\r\n    @NotNull\r\n    private String password;\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;)\r\n    @NotNull\r\n    private String name;\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;)\r\n    @NotNull\r\n    private String surname;\r\n    @NotNull\r\n    private LocalDate date;\r\n    private Float currentBalance;\r\n    private String mobile;\r\n    private String street;\r\n    private String accommodationNumber;\r\n    private String flatNumber;\r\n}\r\n```\r\nAnd, for example, in such service method i try to build user and return it:\r\n\r\n```\r\n @Override\r\n    public User getUserByCredentials(String mail, String password) {\r\n        User user = null;\r\n        Connection connection = connectionPool.getConnection();\r\n        try {\r\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\r\n            preparedStatement.setString(1, mail);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                user = new User(resultSet.getInt(&quot;id&quot;), resultSet.getString(&quot;mail&quot;), resultSet.getString(&quot;password&quot;),\r\n                        resultSet.getString(&quot;name&quot;), resultSet.getString(&quot;surname&quot;), resultSet.getDate(&quot;date&quot;).toLocalDate(),\r\n                        resultSet.getFloat(&quot;balance&quot;), resultSet.getString(&quot;mobile&quot;),\r\n                        resultSet.getString(&quot;street&quot;), resultSet.getString(&quot;accommodation_number&quot;),\r\n                        resultSet.getString(&quot;flat_number&quot;));\r\n            }\r\n            return user;\r\n        } catch (SQLException e) {\r\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\r\n            return null;\r\n        } finally {\r\n            connectionPool.closeConnection(connection);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nBut, as a result, i got error, that i don&#39;t have appropriate constructor \r\n[IDEA error](https://i.stack.imgur.com/rQzuF.png)\r\nNote, that it&#39;s spring-boot project and my dependency is:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>Today i faced with Lombok issue what annotation @AllArgsConstructor doesn't work. I have 1 superclass for my entities:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic class BaseEntity {\n    protected int id;\n}\n</code></pre>\n<p>And also some child classes, for example User:</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@SuperBuilder\npublic class User extends BaseEntity{\n    @Email\n    @NotNull\n    private String mail;\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;)\n    @NotNull\n    private String password;\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;)\n    @NotNull\n    private String name;\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;)\n    @NotNull\n    private String surname;\n    @NotNull\n    private LocalDate date;\n    private Float currentBalance;\n    private String mobile;\n    private String street;\n    private String accommodationNumber;\n    private String flatNumber;\n}\n</code></pre>\n<p>And, for example, in such service method i try to build user and return it:</p>\n<pre><code> @Override\n    public User getUserByCredentials(String mail, String password) {\n        User user = null;\n        Connection connection = connectionPool.getConnection();\n        try {\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\n            preparedStatement.setString(1, mail);\n            preparedStatement.setString(2, password);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.next()) {\n                user = new User(resultSet.getInt(&quot;id&quot;), resultSet.getString(&quot;mail&quot;), resultSet.getString(&quot;password&quot;),\n                        resultSet.getString(&quot;name&quot;), resultSet.getString(&quot;surname&quot;), resultSet.getDate(&quot;date&quot;).toLocalDate(),\n                        resultSet.getFloat(&quot;balance&quot;), resultSet.getString(&quot;mobile&quot;),\n                        resultSet.getString(&quot;street&quot;), resultSet.getString(&quot;accommodation_number&quot;),\n                        resultSet.getString(&quot;flat_number&quot;));\n            }\n            return user;\n        } catch (SQLException e) {\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\n            return null;\n        } finally {\n            connectionPool.closeConnection(connection);\n        }\n    }\n</code></pre>\n<p>But, as a result, i got error, that i don't have appropriate constructor\n<a href=\"https://i.stack.imgur.com/rQzuF.png\" rel=\"nofollow noreferrer\">IDEA error</a>\nNote, that it's spring-boot project and my dependency is:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690589147,"creation_date":1690589147,"answer_id":76791578,"question_id":76791417,"body_markdown":"You can do it like that:\r\n\r\n\r\n        CompletionStage&lt;Boolean&gt; result = names.stream()\r\n                .map(this::getCount)\r\n                .map(countFuture -&gt; countFuture.thenApply(value -&gt; value &gt; 0))\r\n                .reduce(CompletableFuture.completedFuture(false), (current, next) -&gt; current.thenCombine(next, Boolean::logicalOr))","title":"How to combine results from different CompletionStage in a for loop?","body":"<p>You can do it like that:</p>\n<pre><code>    CompletionStage&lt;Boolean&gt; result = names.stream()\n            .map(this::getCount)\n            .map(countFuture -&gt; countFuture.thenApply(value -&gt; value &gt; 0))\n            .reduce(CompletableFuture.completedFuture(false), (current, next) -&gt; current.thenCombine(next, Boolean::logicalOr))\n</code></pre>\n"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76791578,"answer_count":1,"score":0,"last_activity_date":1690589147,"creation_date":1690585208,"question_id":76791417,"body_markdown":"I am trying to combine values from multiple CompletionStage. What is the best way to combine the different CompletionStage. Currently I have \r\n```\r\n//Given\r\nCompletionStage&lt;Long&gt; getCount(final String name);\r\n\r\nCompletionStage&lt;Boolean&gt; isAnyOneGreaterThanOne(){\r\n\r\n    final var futures = names.stream()\r\n                             .map(name -&gt; getCount(name))\r\n                             .collect(Collectors.toList());\r\n    \r\n    CompletionStage&lt;Boolean&gt; result = CompletableFuture.completedFuture(false);\r\n    for (final var future : futures){\r\n       result = result.thenCombine(\r\n                         futures.get(i), (previous, longValue) -&gt; previous || (longValue &gt; 0));\r\n    }\r\n    return result;\r\n}\r\n```\r\nIs there a neater/better way to do this?\r\n  ","title":"How to combine results from different CompletionStage in a for loop?","body":"<p>I am trying to combine values from multiple CompletionStage. What is the best way to combine the different CompletionStage. Currently I have</p>\n<pre><code>//Given\nCompletionStage&lt;Long&gt; getCount(final String name);\n\nCompletionStage&lt;Boolean&gt; isAnyOneGreaterThanOne(){\n\n    final var futures = names.stream()\n                             .map(name -&gt; getCount(name))\n                             .collect(Collectors.toList());\n    \n    CompletionStage&lt;Boolean&gt; result = CompletableFuture.completedFuture(false);\n    for (final var future : futures){\n       result = result.thenCombine(\n                         futures.get(i), (previous, longValue) -&gt; previous || (longValue &gt; 0));\n    }\n    return result;\n}\n</code></pre>\n<p>Is there a neater/better way to do this?</p>\n"},{"tags":["java","selenium-webdriver","selenium4"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690575780,"post_id":76789672,"comment_id":135378076,"body_markdown":"you&#39;ll probably need to call getWrappedElement() first as Select is a class object and not a direct webelement reference: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html","body":"you&#39;ll probably need to call getWrappedElement() first as Select is a class object and not a direct webelement reference: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690588550,"creation_date":1690588550,"answer_id":76791551,"question_id":76789672,"body_markdown":"This error message...\r\n\r\n\tjava.lang.UnsupportedOperationException: getDomAttribute\r\n\tat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\r\n\tat org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)\r\n\r\n...indicates a dependency conflict and it&#39;s almost always a dependency management issue.\r\n\r\n`getDomAttribute()` is a new addition in [tag:selenium4].\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- Your project is updated with the latest [Selenium](https://stackoverflow.com/a/54482491/7429447) release. (current release being _**v4.10.0**_)\r\n- Your project is correctly using the same version of [tag:selenium] libraries for everything and resolve the dependency conflicts following the article [HOW TO DEBUG DEPENDENCY CONFLICTS IN MAVEN AND GRADLE](https://www.javaadvent.com/2020/12/how-to-debug-dependency-conflicts-in-maven-and-gradle.html)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussion in:\r\n\r\n- [[&#128027; Bug]: java.lang.UnsupportedOperationException: getDomAttribute while using select in Selenium 4](https://github.com/SeleniumHQ/selenium/issues/10905)\r\n- [[&#128027; Bug]: Getting UnsupportedOperationException when while selecting values from dropdowns in selenium-4.0.0](https://github.com/SeleniumHQ/selenium/issues/10290)","title":"Getting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4","body":"<p>This error message...</p>\n<pre><code>java.lang.UnsupportedOperationException: getDomAttribute\nat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\nat org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)\n</code></pre>\n<p>...indicates a dependency conflict and it's almost always a dependency management issue.</p>\n<p><code>getDomAttribute()</code> is a new addition in <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" aria-label=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium4-tooltip-container\">selenium4</a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li>Your project is updated with the latest <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> release. (current release being <em><strong>v4.10.0</strong></em>)</li>\n<li>Your project is correctly using the same version of <a href=\"/questions/tagged/selenium\" class=\"post-tag\" title=\"show questions tagged &#39;selenium&#39;\" aria-label=\"show questions tagged &#39;selenium&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium-tooltip-container\">selenium</a> libraries for everything and resolve the dependency conflicts following the article <a href=\"https://www.javaadvent.com/2020/12/how-to-debug-dependency-conflicts-in-maven-and-gradle.html\" rel=\"nofollow noreferrer\">HOW TO DEBUG DEPENDENCY CONFLICTS IN MAVEN AND GRADLE</a></li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://github.com/SeleniumHQ/selenium/issues/10905\" rel=\"nofollow noreferrer\">[🐛 Bug]: java.lang.UnsupportedOperationException: getDomAttribute while using select in Selenium 4</a></li>\n<li><a href=\"https://github.com/SeleniumHQ/selenium/issues/10290\" rel=\"nofollow noreferrer\">[🐛 Bug]: Getting UnsupportedOperationException when while selecting values from dropdowns in selenium-4.0.0</a></li>\n</ul>\n"}],"owner":{"account_id":16129839,"reputation":21,"user_id":11643821,"display_name":"Snehal Bhosle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690588550,"creation_date":1690562737,"question_id":76789672,"body_markdown":"I am etting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4.. Does anyone know how to resolve this issue? my selenium version is 4.6.0. Tried multiple things but nothing worked..\r\n\r\n`java.lang.UnsupportedOperationException: getDomAttribute\r\nat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\r\n  at org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)`","title":"Getting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4","body":"<p>I am etting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4.. Does anyone know how to resolve this issue? my selenium version is 4.6.0. Tried multiple things but nothing worked..</p>\n<p><code>java.lang.UnsupportedOperationException: getDomAttribute at org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131) at org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)</code></p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690588986,"post_id":69861993,"comment_id":135379331,"body_markdown":"&#39;Asynchronous wait&#39; is a contradiction in terms.","body":"&#39;Asynchronous wait&#39; is a contradiction in terms."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1690588435,"creation_date":1636195823,"answer_id":69863337,"question_id":69861993,"body_markdown":"You can create a separate thread by implementing a `Runnable` interface like this and do the delay in there.\r\n\r\n```\r\n// This is happening in the main thread\r\nThread thread = new Thread(){\r\n    public void run(){\r\n      // This code will run async after you execute\r\n      // thead.start() below\r\n      try {\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;Time to wake up&quot;);\r\n      } catch (InterruptedException e) {\r\n        // See https://www.javaspecialists.eu/archive/Issue056-Shutting-down-Threads-Cleanly.html\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n  }\r\n\r\nthread.start();\r\n```","title":"Java asynchronously wait x seconds","body":"<p>You can create a separate thread by implementing a <code>Runnable</code> interface like this and do the delay in there.</p>\n<pre><code>// This is happening in the main thread\nThread thread = new Thread(){\n    public void run(){\n      // This code will run async after you execute\n      // thead.start() below\n      try {\n        Thread.sleep(1000);\n        System.out.println(&quot;Time to wake up&quot;);\n      } catch (InterruptedException e) {\n        // See https://www.javaspecialists.eu/archive/Issue056-Shutting-down-Threads-Cleanly.html\n        Thread.currentThread().interrupt();\n      }\n    }\n  }\n\nthread.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636294010,"creation_date":1636293460,"answer_id":69873086,"question_id":69861993,"body_markdown":"Use the [Bukkit scheduler](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html).\r\n```java\r\nBukkit.getScheduler().runTaskLater(yourPluginInstance, () -&gt; {\r\n    // put code here to run after the delay\r\n}, delayInTicks);\r\n```\r\nWhen the code runs after the delay it will run on the main server thread.","title":"Java asynchronously wait x seconds","body":"<p>Use the <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\">Bukkit scheduler</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.getScheduler().runTaskLater(yourPluginInstance, () -&gt; {\n    // put code here to run after the delay\n}, delayInTicks);\n</code></pre>\n<p>When the code runs after the delay it will run on the main server thread.</p>\n"}],"owner":{"account_id":22803354,"reputation":27,"user_id":16955717,"display_name":"dev-mirzabicer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69873086,"answer_count":2,"score":0,"last_activity_date":1690588435,"creation_date":1636181130,"question_id":69861993,"body_markdown":"To give some details about what I&#39;m trying to do: I&#39;m making a Minecraft plugin in Java. I have an Object which is bound to the Player object of Minecraft using a HashMap.\r\n\r\nI have a method in this object which is something like:\r\n\r\n```    \r\n    public void faint() {\r\n        ... //Apply the effect on the player\r\n\r\n        //wait for x seconds, and if the player didn&#39;t already wake up, wake them up. (player.wakeUp())\r\n    }\r\n```\r\n\r\nObviously, there will be a lot of stuff going on, so I want this to happen asynchronously. The timer will go on in the background and it won&#39;t block anything else in the code.\r\n\r\nSorry if my question is too simple, but I really checked the web and I&#39;m new to Java, so forgive my ignorance.","title":"Java asynchronously wait x seconds","body":"<p>To give some details about what I'm trying to do: I'm making a Minecraft plugin in Java. I have an Object which is bound to the Player object of Minecraft using a HashMap.</p>\n<p>I have a method in this object which is something like:</p>\n<pre><code>    public void faint() {\n        ... //Apply the effect on the player\n\n        //wait for x seconds, and if the player didn't already wake up, wake them up. (player.wakeUp())\n    }\n</code></pre>\n<p>Obviously, there will be a lot of stuff going on, so I want this to happen asynchronously. The timer will go on in the background and it won't block anything else in the code.</p>\n<p>Sorry if my question is too simple, but I really checked the web and I'm new to Java, so forgive my ignorance.</p>\n"},{"tags":["java","enums","apache-camel","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690586779,"post_id":76791470,"comment_id":135379174,"body_markdown":"I do not understand the problem. The class `ContactMedium` has no field of type `mediumType`, thus there is nothing to set. Please [edit] the pot and clarify. --- As an aside: the enum `mediumType` should start with an uppercase letter (`mediumType` -&gt; `MeditumType`).","body":"I do not understand the problem. The class <code>ContactMedium</code> has no field of type <code>mediumType</code>, thus there is nothing to set. Please <a href=\"https://stackoverflow.com/posts/76791470/edit\">edit</a> the pot and clarify. --- As an aside: the enum <code>mediumType</code> should start with an uppercase letter (<code>mediumType</code> -&gt; <code>MeditumType</code>)."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690587949,"post_id":76791470,"comment_id":135379251,"body_markdown":"I just edited my question, I clarify that I need to access or somehow set the enum MediumType field in the construction, however, I don&#39;t know if this is possible through the loobok builder","body":"I just edited my question, I clarify that I need to access or somehow set the enum MediumType field in the construction, however, I don&#39;t know if this is possible through the loobok builder"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690588287,"post_id":76791470,"comment_id":135379284,"body_markdown":"Again: The class `ContactMedium` has no field of type `MediumType`, thus there is nothing to set. This is not really related to lombok. I suspect that the class is simply missing a field of type `MediumType`.","body":"Again: The class <code>ContactMedium</code> has no field of type <code>MediumType</code>, thus there is nothing to set. This is not really related to lombok. I suspect that the class is simply missing a field of type <code>MediumType</code>."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690589058,"post_id":76791470,"comment_id":135379338,"body_markdown":"And how do I add a field called Medium Type that is of type enum the ContactMedium class? Is this possible?","body":"And how do I add a field called Medium Type that is of type enum the ContactMedium class? Is this possible?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690589304,"post_id":76791470,"comment_id":135379353,"body_markdown":"I never said you should add a field called `MediumType`, but of type `MediumType`. We can use enum types just like regular types. Just as we declare a field `String foo`, we can declare a field `MediumType foo`. I recommend reviewing/refreshing the language constructs before using advanced frameworks like lombok, jackson, ...","body":"I never said you should add a field called <code>MediumType</code>, but of type <code>MediumType</code>. We can use enum types just like regular types. Just as we declare a field <code>String foo</code>, we can declare a field <code>MediumType foo</code>. I recommend reviewing/refreshing the language constructs before using advanced frameworks like lombok, jackson, ..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690589484,"post_id":76791470,"comment_id":135379363,"body_markdown":"Declaring a nested `enum`, as you are doing, just creates the type, it doesn&#39;t create a field of that type in the enclosing class.","body":"Declaring a nested <code>enum</code>, as you are doing, just creates the type, it doesn&#39;t create a field of that type in the enclosing class."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690589760,"post_id":76791470,"comment_id":135379380,"body_markdown":"@tgdavies And how do I generate it in the attached class? Let it be a parameter that I can access in the construction","body":"@tgdavies And how do I generate it in the attached class? Let it be a parameter that I can access in the construction"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690589825,"post_id":76791470,"comment_id":135379394,"body_markdown":"As @Turing85 said, just like any other field: `private MediumType myFieldName;`","body":"As @Turing85 said, just like any other field: <code>private MediumType myFieldName;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690589860,"post_id":76791470,"comment_id":135379396,"body_markdown":"And do things without lombok for now, you&#39;ll learn more.","body":"And do things without lombok for now, you&#39;ll learn more."}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690587817,"creation_date":1690586545,"question_id":76791470,"body_markdown":"Good afternoon, I am currently working with quarkus and apache camen and I have a class called ContactMedium in which I must use enum called MediumType, as I show below:\r\n\r\n    package org.tmve.customer.ms.beans;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import io.quarkus.runtime.annotations.RegisterForReflection;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Getter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @RegisterForReflection\r\n    @Builder\r\n    public class ContactMedium {\r\n    \r\n        public enum MediumType {\r\n            TELEPHONE_NUMBER(&quot;telephone_number&quot;), POSTAL_ADDRESS(&quot;postal_address&quot;);\r\n            private String value;\r\n    \r\n            MediumType(String value) {\r\n                this.value = value;\r\n            }\r\n        }\r\n        @JsonProperty(&quot;characteristic&quot;)\r\n        private Characteristic characteristic;\r\n    }\r\n\r\nThe problem I&#39;m having is that when I want to use the loombok generator, I can&#39;t find how to compile for the enum type parameter called mediumType and I don&#39;t want to use a plain string type variable:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe line that I am using to build is the following:\r\n\r\n    ContactMedium phoneNumber=ContactMedium.builder().\r\n\r\nIs there a way to work with lombok builder and enum?\r\n\r\n  [1]: https://i.stack.imgur.com/UHc96.png\r\n","title":"Using Builder Lombok with enum in java","body":"<p>Good afternoon, I am currently working with quarkus and apache camen and I have a class called ContactMedium in which I must use enum called MediumType, as I show below:</p>\n<pre><code>package org.tmve.customer.ms.beans;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport io.quarkus.runtime.annotations.RegisterForReflection;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@RegisterForReflection\n@Builder\npublic class ContactMedium {\n\n    public enum MediumType {\n        TELEPHONE_NUMBER(&quot;telephone_number&quot;), POSTAL_ADDRESS(&quot;postal_address&quot;);\n        private String value;\n\n        MediumType(String value) {\n            this.value = value;\n        }\n    }\n    @JsonProperty(&quot;characteristic&quot;)\n    private Characteristic characteristic;\n}\n</code></pre>\n<p>The problem I'm having is that when I want to use the loombok generator, I can't find how to compile for the enum type parameter called mediumType and I don't want to use a plain string type variable:</p>\n<p><a href=\"https://i.stack.imgur.com/UHc96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHc96.png\" alt=\"enter image description here\" /></a></p>\n<p>The line that I am using to build is the following:</p>\n<pre><code>ContactMedium phoneNumber=ContactMedium.builder().\n</code></pre>\n<p>Is there a way to work with lombok builder and enum?</p>\n"},{"tags":["java","reactjs","next.js"],"owner":{"account_id":10243044,"reputation":258,"user_id":7559822,"display_name":"chree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690587625,"creation_date":1690587291,"question_id":76791501,"body_markdown":"I am trying to learn how to build an HTTP server with Java alone before I get to Springboot. As I was working on this REST API, I tried to make a request via Next.js. There are no errors, but I cannot get the data for some reason. I am guessing its the CORS policy on the Java server. \r\n\r\nSO I would like to know how to enable CORS in the main file if possible.\r\n\r\nMAIN FILE:: Sets up the server with a thread poool of 10 and calls MyHTTPHandler\r\n\r\n    package org.example;\r\n    \r\n    import com.sun.net.httpserver.HttpServer;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            HttpServer server = HttpServer.create(new InetSocketAddress(&quot;localhost&quot;, 8080), 0);\r\n            ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n    \r\n            server.createContext(&quot;/test&quot;, new MyHttpHandler());\r\n            server.setExecutor(threadPoolExecutor);\r\n            server.start();\r\n            System.out.println(&quot;Server started on port 8080&quot;);\r\n        }\r\n    }\r\n\r\nHTTP HANDLER:: A simple GET request for the browser to send the message &quot;HEELLO&quot;\r\n\r\n    package org.example;\r\n    \r\n    import com.sun.net.httpserver.HttpExchange;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    public class MyHttpHandler implements HttpHandler {\r\n        @Override\r\n        public void handle(HttpExchange httpExchange) throws IOException {\r\n            System.out.println(&quot;REQUEST_METHOD::&quot; + httpExchange.getRequestMethod());\r\n    \r\n            OutputStream outputStream = httpExchange.getResponseBody();\r\n            String str = &quot;HEELLO&quot;;\r\n            if(httpExchange.getRequestMethod().equals(&quot;GET&quot;)){\r\n                httpExchange.sendResponseHeaders(200, str.length());\r\n                outputStream.write(str.getBytes());\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n        }\r\n    }\r\n\r\nNEXT.JS FETCH FUNCTION:: Gets the data from the Java Rest API and displays it in the console\r\n\r\n    async function gett() {\r\n        const res = await fetch(`http://localhost:8080/test`)\r\n    \r\n        return res\r\n      }\r\n    \r\n    export default async function Page() {\r\n    \r\n        const getData = gett()\r\n    \r\n        const [data1] = await Promise.all([getData])\r\n    \r\n        console.log(data1)\r\n    \r\n        return &lt;h1&gt;DASHBOARD/settings&lt;/h1&gt;\r\n      }\r\n\r\nThis Code doesn&#39;t seem to throw any errors but I feel like I am missing something with the NEXT.js code that I cant find on Google. Essentially, the fetch does not seem to work. I believe its becuase of Java&#39;s CORS policy, but I am not sure how Java is set by default and there is no notification, or error message about it.\r\n\r\nThanks in advance","title":"Enable CORS in Java without spring (Just vanilla Java)","body":"<p>I am trying to learn how to build an HTTP server with Java alone before I get to Springboot. As I was working on this REST API, I tried to make a request via Next.js. There are no errors, but I cannot get the data for some reason. I am guessing its the CORS policy on the Java server.</p>\n<p>SO I would like to know how to enable CORS in the main file if possible.</p>\n<p>MAIN FILE:: Sets up the server with a thread poool of 10 and calls MyHTTPHandler</p>\n<pre><code>package org.example;\n\nimport com.sun.net.httpserver.HttpServer;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        HttpServer server = HttpServer.create(new InetSocketAddress(&quot;localhost&quot;, 8080), 0);\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n\n        server.createContext(&quot;/test&quot;, new MyHttpHandler());\n        server.setExecutor(threadPoolExecutor);\n        server.start();\n        System.out.println(&quot;Server started on port 8080&quot;);\n    }\n}\n</code></pre>\n<p>HTTP HANDLER:: A simple GET request for the browser to send the message &quot;HEELLO&quot;</p>\n<pre><code>package org.example;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class MyHttpHandler implements HttpHandler {\n    @Override\n    public void handle(HttpExchange httpExchange) throws IOException {\n        System.out.println(&quot;REQUEST_METHOD::&quot; + httpExchange.getRequestMethod());\n\n        OutputStream outputStream = httpExchange.getResponseBody();\n        String str = &quot;HEELLO&quot;;\n        if(httpExchange.getRequestMethod().equals(&quot;GET&quot;)){\n            httpExchange.sendResponseHeaders(200, str.length());\n            outputStream.write(str.getBytes());\n            outputStream.flush();\n            outputStream.close();\n        }\n    }\n}\n</code></pre>\n<p>NEXT.JS FETCH FUNCTION:: Gets the data from the Java Rest API and displays it in the console</p>\n<pre><code>async function gett() {\n    const res = await fetch(`http://localhost:8080/test`)\n\n    return res\n  }\n\nexport default async function Page() {\n\n    const getData = gett()\n\n    const [data1] = await Promise.all([getData])\n\n    console.log(data1)\n\n    return &lt;h1&gt;DASHBOARD/settings&lt;/h1&gt;\n  }\n</code></pre>\n<p>This Code doesn't seem to throw any errors but I feel like I am missing something with the NEXT.js code that I cant find on Google. Essentially, the fetch does not seem to work. I believe its becuase of Java's CORS policy, but I am not sure how Java is set by default and there is no notification, or error message about it.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","elasticsearch","kibana"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1690586037,"post_id":76791106,"comment_id":135379109,"body_markdown":"Avoid using images. Use the tools to add code snippets in the question. Make it easy for those who will reproduce the scenario.","body":"Avoid using images. Use the tools to add code snippets in the question. Make it easy for those who will reproduce the scenario."}],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690587382,"creation_date":1690587382,"answer_id":76791504,"question_id":76791106,"body_markdown":"I think this query can help you:\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;nested&quot;: {\r\n          &quot;path&quot;: &quot;txn_info&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                {\r\n                  &quot;term&quot;: {\r\n                    &quot;txn_info.store_number&quot;: {\r\n                      &quot;value&quot;: 1\r\n                    }\r\n                  }\r\n                }\r\n              ], \r\n              &quot;must_not&quot;: [\r\n                {\r\n                  &quot;bool&quot;: {\r\n                    &quot;filter&quot;: [\r\n                      {\r\n                        &quot;range&quot;: {\r\n                          &quot;txn_info.txt_date&quot;: {\r\n                            &quot;gte&quot;: &quot;2021-08-09&quot;,\r\n                            &quot;lte&quot;: &quot;2021-08-09&quot;\r\n                          }\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"I am trying to filter results from an array in elasticsearch is a nested fields, but the results are not as expected","body":"<p>I think this query can help you:</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;nested&quot;: {\n      &quot;path&quot;: &quot;txn_info&quot;,\n      &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n            {\n              &quot;term&quot;: {\n                &quot;txn_info.store_number&quot;: {\n                  &quot;value&quot;: 1\n                }\n              }\n            }\n          ], \n          &quot;must_not&quot;: [\n            {\n              &quot;bool&quot;: {\n                &quot;filter&quot;: [\n                  {\n                    &quot;range&quot;: {\n                      &quot;txn_info.txt_date&quot;: {\n                        &quot;gte&quot;: &quot;2021-08-09&quot;,\n                        &quot;lte&quot;: &quot;2021-08-09&quot;\n                      }\n                    }\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":29113839,"reputation":1,"user_id":22303042,"display_name":"Kaushik R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690587382,"creation_date":1690579558,"question_id":76791106,"body_markdown":"I am trying to filter results for store number 1 which are not in a specific date range which in my case is from 2023-01-27 to 2023-07-27, but the result hits are not including which should have.\r\nFor example, store number does not have transaction between 2023-01-27 to 2023-07-27, but other store number has transaction in the above date range and is excluding from the result.\r\n\r\ntxn_info is a nested object which is an array of objects which has transaction date and store number similar to\r\n\r\n[data structure in elastic](https://i.stack.imgur.com/gate8.png)\r\n\r\nBasically, I should be able to filter based on combination of both store number and txn_date (if store number is one and for str num 1, txn_date should not be between 2023-01-27 to 2023-07-27\r\n\r\nMy query:\r\n    \r\n[code](https://i.stack.imgur.com/jD9RI.png)","title":"I am trying to filter results from an array in elasticsearch is a nested fields, but the results are not as expected","body":"<p>I am trying to filter results for store number 1 which are not in a specific date range which in my case is from 2023-01-27 to 2023-07-27, but the result hits are not including which should have.\nFor example, store number does not have transaction between 2023-01-27 to 2023-07-27, but other store number has transaction in the above date range and is excluding from the result.</p>\n<p>txn_info is a nested object which is an array of objects which has transaction date and store number similar to</p>\n<p><a href=\"https://i.stack.imgur.com/gate8.png\" rel=\"nofollow noreferrer\">data structure in elastic</a></p>\n<p>Basically, I should be able to filter based on combination of both store number and txn_date (if store number is one and for str num 1, txn_date should not be between 2023-01-27 to 2023-07-27</p>\n<p>My query:</p>\n<p><a href=\"https://i.stack.imgur.com/jD9RI.png\" rel=\"nofollow noreferrer\">code</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690588604,"post_id":76791480,"comment_id":135379306,"body_markdown":"Welcome to Stack Overflow. It might help if you take the [tour](https://stackoverflow.com/tour) and see [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask) and other pages in the help center. In its current state, the question risks being [closed](https://stackoverflow.com/help/closed-questions) for being opinion-based.","body":"Welcome to Stack Overflow. It might help if you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a> and other pages in the help center. In its current state, the question risks being <a href=\"https://stackoverflow.com/help/closed-questions\">closed</a> for being opinion-based."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690588633,"post_id":76791480,"comment_id":135379309,"body_markdown":"Can you, please, edit the question to tell us why you are having trouble deciding?","body":"Can you, please, edit the question to tell us why you are having trouble deciding?"},{"owner":{"account_id":5643193,"reputation":607,"user_id":4466258,"display_name":"Asiri Hewage"},"score":1,"creation_date":1690615003,"post_id":76791480,"comment_id":135380798,"body_markdown":"Considering the specifications of your computer (i7 8565u, MX130, 16GB RAM), it should be able to handle the latest version of Android Studio without any issues.","body":"Considering the specifications of your computer (i7 8565u, MX130, 16GB RAM), it should be able to handle the latest version of Android Studio without any issues."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1690667067,"post_id":76791480,"comment_id":135386207,"body_markdown":"Old versions may expect online resources that no longer exist, so just use the latest version.","body":"Old versions may expect online resources that no longer exist, so just use the latest version."}],"owner":{"account_id":25608099,"reputation":1,"user_id":19381900,"display_name":"Aliemreyr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690586787,"creation_date":1690586787,"question_id":76791480,"body_markdown":"my computer has I7 8565u, MX130, 16 Gb Ram. I want to install Android Studio. Is it more stable to install the latest version or to install any version from 2019?\r\n\r\nI couldn&#39;t decide which path to follow.\r\n\r\nPlease help me....","title":"Does it make more sense to install Android Studio on my device, old version or current version?","body":"<p>my computer has I7 8565u, MX130, 16 Gb Ram. I want to install Android Studio. Is it more stable to install the latest version or to install any version from 2019?</p>\n<p>I couldn't decide which path to follow.</p>\n<p>Please help me....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1387196271,"post_id":20610769,"comment_id":30842394,"body_markdown":"http://stackoverflow.com/questions/4706199/post-increment-and-pre-increment-within-a-for-loop-produce-same-output (Question is asked for C++ but the answer applies to Java as well)","body":"<a href=\"http://stackoverflow.com/questions/4706199/post-increment-and-pre-increment-within-a-for-loop-produce-same-output\" title=\"post increment and pre increment within a for loop produce same output\">stackoverflow.com/questions/4706199/&hellip;</a> (Question is asked for C++ but the answer applies to Java as well)"},{"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"score":1,"creation_date":1387196745,"post_id":20610769,"comment_id":30842634,"body_markdown":"http://en.wikipedia.org/wiki/Increment_and_decrement_operators","body":"<a href=\"http://en.wikipedia.org/wiki/Increment_and_decrement_operators\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Increment_and_decrement_operators</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1387199612,"post_id":20610769,"comment_id":30844252,"body_markdown":"In this case `--size` reverses what `size++` does.  The important difference is the value left over by the operation.","body":"In this case <code>--size</code> reverses what <code>size++</code> does.  The important difference is the value left over by the operation."},{"owner":{"display_name":"user9016207"},"score":0,"creation_date":1522461296,"post_id":20610769,"comment_id":86175034,"body_markdown":"How is this off-topic?","body":"How is this off-topic?"}],"answers":[{"tags":[],"owner":{"account_id":2610244,"reputation":3750,"user_id":2260473,"accept_rate":82,"display_name":"Denim Datta"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1690585889,"creation_date":1387196451,"answer_id":20610840,"question_id":20610769,"body_markdown":"**Postfix Operation**:\r\n\r\n`a++` or `a--` is postfix operation, meaning that the value of a will get changed after the evaluation of expression.\r\n\r\n    x = a++;\r\n    // This can be rewritten as\r\n    x = a;\r\n    a = a+1;\r\n\r\n    // Similarly\r\n    y = a--;\r\n    // is equivalent to\r\n    y = a;\r\n    a = a-1;\r\n\r\n**Prefix Operation**:\r\n    \r\n`++a` or `--a` is prefix operation, meaning that the value of a will get changed before the evaluation of expression.\r\n\r\n    x = ++a;\r\n    // This can be rewritten as\r\n    a = a+1;\r\n    x = a;\r\n\r\n    // Similarly\r\n    y = --a;\r\n    // is equivalent to\r\n    a = a-1;\r\n    y = a;\r\n\r\n**Example**:\r\n\r\nlets assume this;\r\n\r\n    a = 4;\r\n    \r\n    b = a++; // first b will be 4, and after this a will be 5\r\n\r\n    // now a value is 5\r\n    c = ++a; // first a will be 6, then 6 will be assigned to c\r\n\r\nRefer [this answer][1] also.\r\n\r\n[1]: https://stackoverflow.com/a/4706225/2260473","title":"what is the difference between a++ and ++a or a-- and --a in java?","body":"<p><strong>Postfix Operation</strong>:</p>\n<p><code>a++</code> or <code>a--</code> is postfix operation, meaning that the value of a will get changed after the evaluation of expression.</p>\n<pre><code>x = a++;\n// This can be rewritten as\nx = a;\na = a+1;\n\n// Similarly\ny = a--;\n// is equivalent to\ny = a;\na = a-1;\n</code></pre>\n<p><strong>Prefix Operation</strong>:</p>\n<p><code>++a</code> or <code>--a</code> is prefix operation, meaning that the value of a will get changed before the evaluation of expression.</p>\n<pre><code>x = ++a;\n// This can be rewritten as\na = a+1;\nx = a;\n\n// Similarly\ny = --a;\n// is equivalent to\na = a-1;\ny = a;\n</code></pre>\n<p><strong>Example</strong>:</p>\n<p>lets assume this;</p>\n<pre><code>a = 4;\n\nb = a++; // first b will be 4, and after this a will be 5\n\n// now a value is 5\nc = ++a; // first a will be 6, then 6 will be assigned to c\n</code></pre>\n<p>Refer <a href=\"https://stackoverflow.com/a/4706225/2260473\">this answer</a> also.</p>\n"}],"owner":{"account_id":2500490,"reputation":63,"user_id":2175736,"display_name":"Ghadeer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54385,"favorite_count":0,"down_vote_count":6,"up_vote_count":6,"closed_date":1387196555,"accepted_answer_id":20610840,"answer_count":1,"score":0,"last_activity_date":1690585889,"creation_date":1387196182,"question_id":20610769,"body_markdown":"     public void push(E element) {\r\n        if (size == elements.length) {\r\n            resize(); // doubel of size\r\n        }\r\n        elements[size++] = element;\r\n    }\r\n\r\n\r\n    public E pop() {\r\n        if (size == 0) {\r\n            throw new java.util.EmptyStackException();\r\n        }\r\n        E element = elements[--size];\r\n        elements[size] = null; // set null in last top\r\n        return element;\r\n    }\r\n\r\n\r\nwhat is the difference between a++ and ++a or a-- and --a  in java\r\n\r\nthanks\r\n\r\n\r\n","title":"what is the difference between a++ and ++a or a-- and --a in java?","body":"<pre><code> public void push(E element) {\n    if (size == elements.length) {\n        resize(); // doubel of size\n    }\n    elements[size++] = element;\n}\n\n\npublic E pop() {\n    if (size == 0) {\n        throw new java.util.EmptyStackException();\n    }\n    E element = elements[--size];\n    elements[size] = null; // set null in last top\n    return element;\n}\n</code></pre>\n\n<p>what is the difference between a++ and ++a or a-- and --a  in java</p>\n\n<p>thanks</p>\n"},{"tags":["java","c","sockets","udp","packet"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690558865,"post_id":76789186,"comment_id":135375408,"body_markdown":"It would be more conventional for the client to specify the protocol as 0 when creating the socket: `socket(AF_INET, SOCK_DGRAM, 0)`.  I don&#39;t think that&#39;s causing your probalem, though.","body":"It would be more conventional for the client to specify the protocol as 0 when creating the socket: <code>socket(AF_INET, SOCK_DGRAM, 0)</code>.  I don&#39;t think that&#39;s causing your probalem, though."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1690559257,"post_id":76789186,"comment_id":135375479,"body_markdown":"If memory serves me, Datagram sockets are for doing UDP. Do you understand the ramifications of using UDP, and is this what you want?","body":"If memory serves me, Datagram sockets are for doing UDP. Do you understand the ramifications of using UDP, and is this what you want?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690559594,"post_id":76789186,"comment_id":135375541,"body_markdown":"*inet_addr(&quot;127.0.0.1&quot;),* binding to the loopback address means nothing is going to get to or leave that machine","body":"<i>inet_addr(&quot;127.0.0.1&quot;),</i> binding to the loopback address means nothing is going to get to or leave that machine"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1690559620,"post_id":76789186,"comment_id":135375545,"body_markdown":"My (strong) suggestion is to use WebSockets over raw sockets. Websockets take care of so much plumbing for you. Also, if you&#39;re set on using regular sockets, you might want to look at ServerSocketEx (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java). It again takes care of some of the socket plumbing for you.","body":"My (strong) suggestion is to use WebSockets over raw sockets. Websockets take care of so much plumbing for you. Also, if you&#39;re set on using regular sockets, you might want to look at ServerSocketEx (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>). It again takes care of some of the socket plumbing for you."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690563680,"creation_date":1690559966,"answer_id":76789386,"question_id":76789186,"body_markdown":"Your server&#39;s\r\n&gt; ```\r\n&gt;         DatagramSocket datagramSocket = new DatagramSocket();\r\n&gt; ```\r\ncreates a datagram socket *listening on an arbitrary port*.  That port is unlikely to be the one to which your client is sending.  Instead, one would ordinarily create a socket bound to a specific service port, known in advance to your clients. You seem to want this, on port 5555, as your client is hardcoded to send data to that port.  In other words, you seem to want something more like this:\r\n```\r\n        DatagramSocket datagramSocket = new DatagramSocket(5555);\r\n```\r\nThat will bind the socket to all the machine&#39;s network addresses, but you can instead specify a specific one if you prefer.\r\n\r\nYou seem to have had the idea that you could instead convey the port (and address) at which to receive via the `DatagramPacket`, but it does not work that way.  Those are properties of the socket, not of the packet, and `DatagramSocket.receive()` ignores the address and port initially set on the provided packet.  It would be clearer, then, to initialize the packet without them:\r\n```\r\n        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length);\r\n```\r\nOn successful receipt of a packet, `DatagramSocket.receive()` *sets* the address and port of the packet object to the source address and port, which is important if you want to send a response or string together multiple packets into a broader conversation.\r\n","title":"How to send byte from c client to java server?","body":"<p>Your server's</p>\n<blockquote>\n<pre><code>        DatagramSocket datagramSocket = new DatagramSocket();\n</code></pre>\n</blockquote>\n<p>creates a datagram socket <em>listening on an arbitrary port</em>.  That port is unlikely to be the one to which your client is sending.  Instead, one would ordinarily create a socket bound to a specific service port, known in advance to your clients. You seem to want this, on port 5555, as your client is hardcoded to send data to that port.  In other words, you seem to want something more like this:</p>\n<pre><code>        DatagramSocket datagramSocket = new DatagramSocket(5555);\n</code></pre>\n<p>That will bind the socket to all the machine's network addresses, but you can instead specify a specific one if you prefer.</p>\n<p>You seem to have had the idea that you could instead convey the port (and address) at which to receive via the <code>DatagramPacket</code>, but it does not work that way.  Those are properties of the socket, not of the packet, and <code>DatagramSocket.receive()</code> ignores the address and port initially set on the provided packet.  It would be clearer, then, to initialize the packet without them:</p>\n<pre><code>        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length);\n</code></pre>\n<p>On successful receipt of a packet, <code>DatagramSocket.receive()</code> <em>sets</em> the address and port of the packet object to the source address and port, which is important if you want to send a response or string together multiple packets into a broader conversation.</p>\n"},{"tags":[],"owner":{"account_id":21847072,"reputation":957,"user_id":16139739,"display_name":"user16139739"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690585887,"creation_date":1690585887,"answer_id":76791442,"question_id":76789186,"body_markdown":"And, once you fix the problems John Bollinger pointed out:\r\n\r\n&gt;     int length = header.len;\r\n&gt;     \r\n&gt;     while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n&gt;         if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n&gt;               printf(&quot;ERR: %d\\n&quot;, errno);    \r\n&gt;     }\r\n\r\n`header.len` doesn&#39;t have a meaningful value until *after* `pcap_next()` returns, and the value is *different* after each call to `pcap_next()`, because there is no guarantee that all packets are the same length.\r\n\r\nDo\r\n\r\n    while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n        int langth = header.len;\r\n        if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n              printf(&quot;ERR: %d\\n&quot;, errno);\r\n    }\r\n\r\n&gt;     byte[] header = new byte[headerLen];\r\n&gt;     byte[] data = new byte[datagramPacket.getLength() - headerLen];\r\n&gt;     \r\n&gt;     for (int i = 0; i &lt; headerLen; i++){\r\n&gt;         header[i] = datagramPacket.getData()[i];\r\n&gt;     }\r\n&gt;     for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\r\n&gt;         data[i - headerLen] = datagramPacket.getData()[i];\r\n&gt;     }\r\n\r\nThis code assume that what it receives over the network is a 16-byte pcap header followed by the packet data.\r\n\r\nHowever, your server is *not* sending the pcap header, it&#39;s *only* sending the packet data, so this won&#39;t work.","title":"How to send byte from c client to java server?","body":"<p>And, once you fix the problems John Bollinger pointed out:</p>\n<blockquote>\n<pre><code>int length = header.len;\n\nwhile ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);    \n}\n</code></pre>\n</blockquote>\n<p><code>header.len</code> doesn't have a meaningful value until <em>after</em> <code>pcap_next()</code> returns, and the value is <em>different</em> after each call to <code>pcap_next()</code>, because there is no guarantee that all packets are the same length.</p>\n<p>Do</p>\n<pre><code>while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    int langth = header.len;\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);\n}\n</code></pre>\n<blockquote>\n<pre><code>byte[] header = new byte[headerLen];\nbyte[] data = new byte[datagramPacket.getLength() - headerLen];\n\nfor (int i = 0; i &lt; headerLen; i++){\n    header[i] = datagramPacket.getData()[i];\n}\nfor (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\n    data[i - headerLen] = datagramPacket.getData()[i];\n}\n</code></pre>\n</blockquote>\n<p>This code assume that what it receives over the network is a 16-byte pcap header followed by the packet data.</p>\n<p>However, your server is <em>not</em> sending the pcap header, it's <em>only</em> sending the packet data, so this won't work.</p>\n"}],"owner":{"account_id":24448437,"reputation":47,"user_id":18371004,"display_name":"sangeun jo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76789386,"answer_count":2,"score":1,"last_activity_date":1690585887,"creation_date":1690558148,"question_id":76789186,"body_markdown":"\r\nI try to send byte data from C client to Java server. \r\nC client didn&#39;t return error code, but Java server couldn&#39;t receive anything. \r\nWhat&#39;s wrong with my code? \r\nI thought I should send packet as byte, but if there is more good way to pass packet data from c to java, please recommend.\r\n\r\nC server\r\n\r\n    pcap_t *pcap;\r\n    char errbuf[PCAP_ERRBUF_SIZE];\r\n    const unsigned char *packet;\r\n    struct pcap_pkthdr header;\r\n    int offset = 0, sock;\r\n\r\n    struct sockaddr_in sin = {\r\n                .sin_family = AF_INET,\r\n                .sin_port = htons(5555),\r\n                .sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;),\r\n                .sin_zero = { 0 }\r\n    };\r\n\r\n    sock = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\r\n\r\n    if(!sock) {\r\n         printf(&quot;ERR: socket\\n&quot;);\r\n         return;\r\n    }\r\n\r\n    pcap = pcap_open_live(&quot;wlan0&quot;, BUFSIZ, 1, 0, errbuf);\r\n\r\n    if(!pcap) {\r\n         printf(&quot;ERR: %s\\n&quot;, errbuf);\r\n         return;\r\n    }\r\n\r\n    int langth = header.len;\r\n   \r\n    while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n        if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n              printf(&quot;ERR: %d\\n&quot;, errno);    \r\n    }\r\n\r\n\r\n\r\nJava Server\r\n\r\n    public class UdpServer {\r\n        public static void main(String[] args) throws SocketException, IOException {\r\n            int length = 2048;\r\n            byte[] packet = new byte[length];\r\n            int headerLen = 16;\r\n            DatagramSocket datagramSocket = new DatagramSocket();\r\n            DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length, InetAddress.getLocalHost(), 5555);\r\n            try{\r\n                 while(true) {\r\n                                datagramSocket.receive(datagramPacket);\r\n                                System.out.println(&quot;packet received.\\n&quot;);\r\n                                byte[] header = new byte[headerLen];\r\n                                byte[] data = new byte[datagramPacket.getLength() - headerLen];\r\n\r\n                                for (int i = 0; i &lt; headerLen; i++){\r\n                                        header[i] = datagramPacket.getData()[i];\r\n                                }\r\n                                for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\r\n                                        data[i - headerLen] = datagramPacket.getData()[i];\r\n                                }\r\n                                \r\n            }\r\n        }  catch (SocketException e) {\r\n                        e.printStackTrace();\r\n        } catch (IOException e) {\r\n                        e.printStackTrace();\r\n        }    \r\n    }\r\n  \r\n\r\n","title":"How to send byte from c client to java server?","body":"<p>I try to send byte data from C client to Java server.\nC client didn't return error code, but Java server couldn't receive anything.\nWhat's wrong with my code?\nI thought I should send packet as byte, but if there is more good way to pass packet data from c to java, please recommend.</p>\n<p>C server</p>\n<pre><code>pcap_t *pcap;\nchar errbuf[PCAP_ERRBUF_SIZE];\nconst unsigned char *packet;\nstruct pcap_pkthdr header;\nint offset = 0, sock;\n\nstruct sockaddr_in sin = {\n            .sin_family = AF_INET,\n            .sin_port = htons(5555),\n            .sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;),\n            .sin_zero = { 0 }\n};\n\nsock = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\n\nif(!sock) {\n     printf(&quot;ERR: socket\\n&quot;);\n     return;\n}\n\npcap = pcap_open_live(&quot;wlan0&quot;, BUFSIZ, 1, 0, errbuf);\n\nif(!pcap) {\n     printf(&quot;ERR: %s\\n&quot;, errbuf);\n     return;\n}\n\nint langth = header.len;\n\nwhile ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);    \n}\n</code></pre>\n<p>Java Server</p>\n<pre><code>public class UdpServer {\n    public static void main(String[] args) throws SocketException, IOException {\n        int length = 2048;\n        byte[] packet = new byte[length];\n        int headerLen = 16;\n        DatagramSocket datagramSocket = new DatagramSocket();\n        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length, InetAddress.getLocalHost(), 5555);\n        try{\n             while(true) {\n                            datagramSocket.receive(datagramPacket);\n                            System.out.println(&quot;packet received.\\n&quot;);\n                            byte[] header = new byte[headerLen];\n                            byte[] data = new byte[datagramPacket.getLength() - headerLen];\n\n                            for (int i = 0; i &lt; headerLen; i++){\n                                    header[i] = datagramPacket.getData()[i];\n                            }\n                            for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\n                                    data[i - headerLen] = datagramPacket.getData()[i];\n                            }\n                            \n        }\n    }  catch (SocketException e) {\n                    e.printStackTrace();\n    } catch (IOException e) {\n                    e.printStackTrace();\n    }    \n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","autosuggest"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690580232,"creation_date":1690580232,"answer_id":76791147,"question_id":76790332,"body_markdown":"Actually it&#39;s better to wait for autosuggestions to be present (they are loaded with delay) and to click on element that contains your text input.\r\n\r\nLike:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    driver.get(&quot;https://weather.com/&quot;);\r\n    driver.manage().window().maximize();\r\n\r\n    WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n    By inputLocator = new By.ById(&quot;LocationSearch_input&quot;);\r\n    wdwait.until(ExpectedConditions.elementToBeClickable(inputLocator));\r\n    WebElement from = driver.findElement(inputLocator);\r\n    from.click();\r\n    String city = &quot;Chicago, IL&quot;;\r\n    from.sendKeys(city);\r\n    String cityLocator = String.format(&quot;//*[@data-testid=&#39;ctaButton&#39; and contains(.,&#39;%s&#39;)]&quot;, city);\r\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(new By.ByXPath(cityLocator)));\r\n    driver.findElement(new By.ByXPath(cityLocator)).click();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTry this code, it works for me.","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>Actually it's better to wait for autosuggestions to be present (they are loaded with delay) and to click on element that contains your text input.</p>\n<p>Like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>driver.get(\"https://weather.com/\");\ndriver.manage().window().maximize();\n\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\nBy inputLocator = new By.ById(\"LocationSearch_input\");\nwdwait.until(ExpectedConditions.elementToBeClickable(inputLocator));\nWebElement from = driver.findElement(inputLocator);\nfrom.click();\nString city = \"Chicago, IL\";\nfrom.sendKeys(city);\nString cityLocator = String.format(\"//*[@data-testid='ctaButton' and contains(.,'%s')]\", city);\nwdwait.until(ExpectedConditions.presenceOfElementLocated(new By.ByXPath(cityLocator)));\ndriver.findElement(new By.ByXPath(cityLocator)).click();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Try this code, it works for me.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690584797,"creation_date":1690584797,"answer_id":76791403,"question_id":76790332,"body_markdown":"In the website [National and Local Weather Radar, Daily Forecast, Hurricane and information from The Weather Channel and weather.com](https://weather.com/) the [tag:autosuggest] option with text _**Chicago, IL, United States**_ is a dynamic element so to click on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Code block:\r\n\r\n\t  driver.get(&quot;https://weather.com/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#LocationSearch_input&quot;))).sendKeys(&quot;Chicago, IL&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;LocationSearch_listbox&#39;]//button[contains(., &#39;Chicago, IL, United States&#39;)]&quot;))).click();\r\n           \t\r\n- Browser snapshot:\r\n\r\n![Chicago](https://i.stack.imgur.com/NBQlc.png)","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>In the website <a href=\"https://weather.com/\" rel=\"nofollow noreferrer\">National and Local Weather Radar, Daily Forecast, Hurricane and information from The Weather Channel and weather.com</a> the <a href=\"/questions/tagged/autosuggest\" class=\"post-tag\" title=\"show questions tagged &#39;autosuggest&#39;\" aria-label=\"show questions tagged &#39;autosuggest&#39;\" rel=\"tag\" aria-labelledby=\"tag-autosuggest-tooltip-container\">autosuggest</a> option with text <em><strong>Chicago, IL, United States</strong></em> is a dynamic element so to click on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>driver.get(&quot;https://weather.com/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#LocationSearch_input&quot;))).sendKeys(&quot;Chicago, IL&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='LocationSearch_listbox']//button[contains(., 'Chicago, IL, United States')]&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/NBQlc.png\" alt=\"Chicago\" /></p>\n"}],"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76791147,"answer_count":2,"score":0,"last_activity_date":1690584797,"creation_date":1690569692,"question_id":76790332,"body_markdown":"I&#39;m trying to select Chicago, IL from the Search City or Zip Code search box on https://weather.com/\r\n\r\n\r\nHere&#39;s the code I&#39;ve tried\r\n\r\n    driver.get(&quot;https://weather.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    WebElement from = driver.findElement(By.id(&quot;LocationSearch_input&quot;));\r\n    from.sendKeys(&quot;Chicago, IL&quot;);\r\n    Thread.sleep(500);\r\n    from.sendKeys(Keys.ARROW_DOWN);\r\n    from.sendKeys(Keys.ENTER);`\r\n\r\nAny Help is appreciated.  Thank you.","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>I'm trying to select Chicago, IL from the Search City or Zip Code search box on <a href=\"https://weather.com/\" rel=\"nofollow noreferrer\">https://weather.com/</a></p>\n<p>Here's the code I've tried</p>\n<pre><code>driver.get(&quot;https://weather.com/&quot;);\ndriver.manage().window().maximize();\nWebElement from = driver.findElement(By.id(&quot;LocationSearch_input&quot;));\nfrom.sendKeys(&quot;Chicago, IL&quot;);\nThread.sleep(500);\nfrom.sendKeys(Keys.ARROW_DOWN);\nfrom.sendKeys(Keys.ENTER);`\n</code></pre>\n<p>Any Help is appreciated.  Thank you.</p>\n"},{"tags":["java","arrays","sum"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":18,"creation_date":1293583171,"post_id":4550662,"comment_id":4988726,"body_markdown":"Write your own, the code to do it is 2-3 lines long.","body":"Write your own, the code to do it is 2-3 lines long."},{"owner":{"display_name":"user166390"},"score":2,"creation_date":1293588067,"post_id":4550662,"comment_id":4989084,"body_markdown":"Unfortunately the above (and following) &quot;answers&quot; are &quot;The Java Way&quot; :-/ You could use the [Functional Java library](http://www.functionaljava.org/), but it is so cumbersome to deal with the Java syntax.","body":"Unfortunately the above (and following) &quot;answers&quot; are &quot;The Java Way&quot; :-/ You could use the <a href=\"http://www.functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java library</a>, but it is so cumbersome to deal with the Java syntax."},{"owner":{"account_id":2202222,"reputation":468,"user_id":1946345,"display_name":"Matsu Q."},"score":2,"creation_date":1474054905,"post_id":4550662,"comment_id":66391962,"body_markdown":"I know this question is extremely old, but the [answer by msayag](http://stackoverflow.com/a/17846344/1946345) below seems like it should be marked as the accepted answer.","body":"I know this question is extremely old, but the <a href=\"http://stackoverflow.com/a/17846344/1946345\">answer by msayag</a> below seems like it should be marked as the accepted answer."},{"owner":{"account_id":2344761,"reputation":129,"user_id":2055311,"accept_rate":50,"display_name":"Al G Johnston"},"score":0,"creation_date":1575101220,"post_id":4550662,"comment_id":104459249,"body_markdown":"The problem with writing you own is that it is a loop. When you take a sum of 3 numbers you should be able to do it in one instruction.","body":"The problem with writing you own is that it is a loop. When you take a sum of 3 numbers you should be able to do it in one instruction."}],"answers":[{"tags":[],"owner":{"account_id":12400,"reputation":12295,"user_id":24391,"accept_rate":98,"display_name":"chustar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293583130,"creation_date":1293583130,"answer_id":4550684,"question_id":4550662,"body_markdown":"You have to roll your own.  \r\nYou start with a total of 0. Then you consider for every integer in the array, add it to a total. Then when you&#39;re out of integers, you have the sum.\r\n\r\nIf there were no integers, then the total is 0.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You have to roll your own.<br>\nYou start with a total of 0. Then you consider for every integer in the array, add it to a total. Then when you're out of integers, you have the sum.</p>\n\n<p>If there were no integers, then the total is 0.</p>\n"},{"tags":[],"owner":{"account_id":258681,"reputation":1993,"user_id":541005,"accept_rate":96,"display_name":"Bnjmn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1293583236,"creation_date":1293583236,"answer_id":4550690,"question_id":4550662,"body_markdown":"    int sum = 0;\r\n    \r\n    for (int i = 0; i &lt; yourArray.length; i++)\r\n    {\r\n      sum = sum + yourArray[i];\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>int sum = 0;\n\nfor (int i = 0; i &lt; yourArray.length; i++)\n{\n  sum = sum + yourArray[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193135,"reputation":353,"user_id":434665,"display_name":"Sebasti&#225;n Gur&#237;"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1293583833,"creation_date":1293583249,"answer_id":4550692,"question_id":4550662,"body_markdown":"You can&#39;t. Other languages have some methods for this like array_sum() in PHP, but Java doesn&#39;t.\r\n\r\nJust..\r\n\r\n    int[] numbers = {1,2,3,4};\r\n    int sum = 0;\r\n    for( int i : numbers) {\r\n        sum += i;\r\n    }\r\n    \r\n    System.out.println(sum);\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You can't. Other languages have some methods for this like array_sum() in PHP, but Java doesn't.</p>\n\n<p>Just..</p>\n\n<pre><code>int[] numbers = {1,2,3,4};\nint sum = 0;\nfor( int i : numbers) {\n    sum += i;\n}\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1293583250,"creation_date":1293583250,"answer_id":4550693,"question_id":4550662,"body_markdown":"There is no &#39;method in a math class&#39; for such thing. Its not like its a square root function or something like that.\r\n\r\nYou just need to have a variable for the sum and loop through the array adding each value you find to the sum. \r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There is no 'method in a math class' for such thing. Its not like its a square root function or something like that.</p>\n\n<p>You just need to have a variable for the sum and loop through the array adding each value you find to the sum. </p>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1293583297,"creation_date":1293583297,"answer_id":4550696,"question_id":4550662,"body_markdown":"    int sum = 0;\r\n    for (int i = 0; i &lt; myArray.length; i++)\r\n      sum += myArray[i];\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>int sum = 0;\nfor (int i = 0; i &lt; myArray.length; i++)\n  sum += myArray[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293583370,"creation_date":1293583370,"answer_id":4550702,"question_id":4550662,"body_markdown":"There are two things to learn from this exercise :\r\n\r\nYou need to iterate through the elements of the array somehow - you can do this with a for loop or a while loop.\r\nYou need to store the result of the summation in an accumulator.  For this, you need to create a variable.\r\n\r\n\r\n    int accumulator = 0;\r\n    for(int i = 0; i &lt; myArray.length; i++) {\r\n        accumulator += myArray[i];\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There are two things to learn from this exercise :</p>\n\n<p>You need to iterate through the elements of the array somehow - you can do this with a for loop or a while loop.\nYou need to store the result of the summation in an accumulator.  For this, you need to create a variable.</p>\n\n<pre><code>int accumulator = 0;\nfor(int i = 0; i &lt; myArray.length; i++) {\n    accumulator += myArray[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1378314114,"creation_date":1293583391,"answer_id":4550703,"question_id":4550662,"body_markdown":"This is one of those simple things that doesn&#39;t (AFAIK) exist in the standard Java API. It&#39;s easy enough to write your own.\r\n\r\nOther answers are perfectly fine, but here&#39;s one with some for-each syntactic sugar.\r\n\r\n    int someArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n    int sum = 0;\r\n    \r\n    for (int i : someArray)\r\n        sum += i;\r\n\r\nAlso, an example of array summation is even [shown in the Java 7 Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4). The example is from **Section 10.4 - Array Access**.\r\n\r\n    class Gauss {\r\n        public static void main(String[] args) {\r\n            int[] ia = new int[101];\r\n            for (int i = 0; i &lt; ia.length; i++) ia[i] = i;\r\n            int sum = 0;\r\n            for (int e : ia) sum += e;\r\n            System.out.println(sum);\r\n        }\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>This is one of those simple things that doesn't (AFAIK) exist in the standard Java API. It's easy enough to write your own.</p>\n\n<p>Other answers are perfectly fine, but here's one with some for-each syntactic sugar.</p>\n\n<pre><code>int someArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\nint sum = 0;\n\nfor (int i : someArray)\n    sum += i;\n</code></pre>\n\n<p>Also, an example of array summation is even <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4\" rel=\"noreferrer\">shown in the Java 7 Language Specification</a>. The example is from <strong>Section 10.4 - Array Access</strong>.</p>\n\n<pre><code>class Gauss {\n    public static void main(String[] args) {\n        int[] ia = new int[101];\n        for (int i = 0; i &lt; ia.length; i++) ia[i] = i;\n        int sum = 0;\n        for (int e : ia) sum += e;\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1293587656,"creation_date":1293586872,"answer_id":4550892,"question_id":4550662,"body_markdown":"You can make your code look better like this:\r\n\r\n    public void someMethod(){\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.addAll(db.findNumbers());\r\n        ...\r\n        System.out.println(&quot;Result is &quot; + sumOfNumbers(numbers));\r\n    }\r\n    \r\n    private int sumOfNumbers(List&lt;Integer&gt; numbers){\r\n        int sum = 0;\r\n        for (Integer i : numbers){\r\n          sum += i;\r\n        }\r\n        return sum;\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You can make your code look better like this:</p>\n\n<pre><code>public void someMethod(){\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.addAll(db.findNumbers());\n    ...\n    System.out.println(\"Result is \" + sumOfNumbers(numbers));\n}\n\nprivate int sumOfNumbers(List&lt;Integer&gt; numbers){\n    int sum = 0;\n    for (Integer i : numbers){\n      sum += i;\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1293610412,"creation_date":1293610412,"answer_id":4552486,"question_id":4550662,"body_markdown":"The only point I would add to previous solutions is that I would use a long to accumulate the total to avoid any overflow of value.\r\n\r\n    int[] someArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, Integer.MAX_VALUE};\r\n    long sum = 0;\r\n    \r\n    for (int i : someArray)\r\n        sum += i;\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>The only point I would add to previous solutions is that I would use a long to accumulate the total to avoid any overflow of value.</p>\n\n<pre><code>int[] someArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, Integer.MAX_VALUE};\nlong sum = 0;\n\nfor (int i : someArray)\n    sum += i;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2253216,"reputation":49,"user_id":1985001,"display_name":"Darrell"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1358366342,"creation_date":1358366342,"answer_id":14366747,"question_id":4550662,"body_markdown":"IMHO a sum function would seem a good fit to extend the Arrays class where fill, sort, search, copy, &amp; equals live. There are a lot of handy methods hiding in the javadocs so it is a fair question when porting Fortran to java to ask before rolling our own helper method. Search through the huge javadoc index for &quot;sum&quot;, &quot;add&quot; and any other keyword you might think of. You might suspect certainly someone has already done this for primitive types int, float, double, Integer, Float, Double? No matter how simple, it is always good to check. Keep the code as simple as possible and don&#39;t reinvent the wheel.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>IMHO a sum function would seem a good fit to extend the Arrays class where fill, sort, search, copy, &amp; equals live. There are a lot of handy methods hiding in the javadocs so it is a fair question when porting Fortran to java to ask before rolling our own helper method. Search through the huge javadoc index for \"sum\", \"add\" and any other keyword you might think of. You might suspect certainly someone has already done this for primitive types int, float, double, Integer, Float, Double? No matter how simple, it is always good to check. Keep the code as simple as possible and don't reinvent the wheel.</p>\n"},{"tags":[],"owner":{"account_id":3073586,"reputation":27,"user_id":2603562,"display_name":"BLaaaaaa"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1374385403,"creation_date":1374385403,"answer_id":17769461,"question_id":4550662,"body_markdown":"     public class Num1\r\n     {\r\n         public static void main ()\r\n         {\r\n              //Declaration and Initialization\r\n              int a[]={10,20,30,40,50}\r\n              \r\n              //To find the sum of array elements\r\n              int sum=0;\r\n              for(int i=0;i&lt;a.length;i++)\r\n              {\r\n                  sum=sum+i;\r\n              }\r\n              \r\n              //To display the sum\r\n              System.out.println(&quot;The sum is :&quot;+sum);\r\n\r\n         }\r\n      } \r\n   \r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code> public class Num1\n {\n     public static void main ()\n     {\n          //Declaration and Initialization\n          int a[]={10,20,30,40,50}\n\n          //To find the sum of array elements\n          int sum=0;\n          for(int i=0;i&lt;a.length;i++)\n          {\n              sum=sum+i;\n          }\n\n          //To display the sum\n          System.out.println(\"The sum is :\"+sum);\n\n     }\n  } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"down_vote_count":3,"up_vote_count":337,"is_accepted":false,"score":334,"last_activity_date":1521302693,"creation_date":1374707314,"answer_id":17846344,"question_id":4550662,"body_markdown":"In [tag:Java-8] you can use streams:\r\n\r\n    int[] a = {10,20,30,40,50};\r\n    int sum = IntStream.of(a).sum();\r\n    System.out.println(&quot;The sum is &quot; + sum);\r\n\r\nOutput:\r\n\r\nThe sum is 150.\r\n\r\nIt&#39;s in the package `java.util.stream`\r\n    \r\n    import java.util.stream.*;","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> you can use streams:</p>\n\n<pre><code>int[] a = {10,20,30,40,50};\nint sum = IntStream.of(a).sum();\nSystem.out.println(\"The sum is \" + sum);\n</code></pre>\n\n<p>Output:</p>\n\n<p>The sum is 150.</p>\n\n<p>It's in the package <code>java.util.stream</code></p>\n\n<pre><code>import java.util.stream.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242423,"reputation":31,"user_id":2735072,"display_name":"GenuineSounds"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377934138,"creation_date":1377934138,"answer_id":18545714,"question_id":4550662,"body_markdown":"I like this method personally. My code style is a little weird.\r\n\r\n    public static int sumOf(int... integers) {\r\n    \tint total = 0;\r\n    \tfor (int i = 0; i &lt; integers.length; total += integers[i++]);\r\n    \treturn total;\r\n    }\r\n\r\nPretty easy to use in code:\r\n\r\n    int[] numbers = { 1, 2, 3, 4, 5 };\r\n    sumOf(1);\r\n    sumOf(1, 2, 3);\r\n    sumOf(numbers);","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I like this method personally. My code style is a little weird.</p>\n\n<pre><code>public static int sumOf(int... integers) {\n    int total = 0;\n    for (int i = 0; i &lt; integers.length; total += integers[i++]);\n    return total;\n}\n</code></pre>\n\n<p>Pretty easy to use in code:</p>\n\n<pre><code>int[] numbers = { 1, 2, 3, 4, 5 };\nsumOf(1);\nsumOf(1, 2, 3);\nsumOf(numbers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365991,"reputation":4575,"user_id":711243,"accept_rate":94,"display_name":"fodon"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1469394089,"creation_date":1379608467,"answer_id":18900322,"question_id":4550662,"body_markdown":"In Apache Math : There is `StatUtils.sum(double[] arr)` ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In Apache Math : There is <code>StatUtils.sum(double[] arr)</code> </p>\n"},{"tags":[],"owner":{"account_id":3496403,"reputation":9,"user_id":2924466,"display_name":"Ashok Vunnam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382853814,"creation_date":1382852872,"answer_id":19615076,"question_id":4550662,"body_markdown":"    class Addition {\r\n    \r\n         public static void main() {\r\n              int arr[]={5,10,15,20,25,30};         //Declaration and Initialization of an Array\r\n              int sum=0;                            //To find the sum of array elements\r\n              for(int i:arr) {\r\n                  sum += i;\r\n              }\r\n              System.out.println(&quot;The sum is :&quot;+sum);//To display the sum \r\n         }\r\n    } ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>class Addition {\n\n     public static void main() {\n          int arr[]={5,10,15,20,25,30};         //Declaration and Initialization of an Array\n          int sum=0;                            //To find the sum of array elements\n          for(int i:arr) {\n              sum += i;\n          }\n          System.out.println(\"The sum is :\"+sum);//To display the sum \n     }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1550046971,"creation_date":1388507854,"answer_id":20860423,"question_id":4550662,"body_markdown":"If you&#39;re using Java 8, the [`Arrays`][1] class provides a [`stream(int[] array)`][2] method which returns a sequential [`IntStream`][3] with the specified `int` array. It has also been overloaded  for `double` and `long` arrays.\r\n\r\n    int [] arr = {1,2,3,4};\r\n    int sum = Arrays.stream(arr).sum(); //prints 10\r\n\r\nIt also provides a method \r\n[`stream(int[] array, int startInclusive, int endExclusive)`][4] which permits you to take a specified range of the array (which can be useful) :\r\n\r\n    int sum = Arrays.stream(new int []{1,2,3,4}, 0, 2).sum(); //prints 3\r\n\r\nFinally, it can take an array of type `T`. So you can per example have a `String` which contains numbers as an input and if you want to sum them just do :\r\n\r\n    int sum = Arrays.stream(&quot;1 2 3 4&quot;.split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).sum();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-int-int-","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>If you're using Java 8, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> class provides a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"noreferrer\"><code>stream(int[] array)</code></a> method which returns a sequential <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> with the specified <code>int</code> array. It has also been overloaded  for <code>double</code> and <code>long</code> arrays.</p>\n\n<pre><code>int [] arr = {1,2,3,4};\nint sum = Arrays.stream(arr).sum(); //prints 10\n</code></pre>\n\n<p>It also provides a method \n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-int-int-\" rel=\"noreferrer\"><code>stream(int[] array, int startInclusive, int endExclusive)</code></a> which permits you to take a specified range of the array (which can be useful) :</p>\n\n<pre><code>int sum = Arrays.stream(new int []{1,2,3,4}, 0, 2).sum(); //prints 3\n</code></pre>\n\n<p>Finally, it can take an array of type <code>T</code>. So you can per example have a <code>String</code> which contains numbers as an input and if you want to sum them just do :</p>\n\n<pre><code>int sum = Arrays.stream(\"1 2 3 4\".split(\"\\\\s+\")).mapToInt(Integer::parseInt).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068575,"reputation":9,"user_id":3342561,"display_name":"TRC"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1410750791,"creation_date":1393134151,"answer_id":21964681,"question_id":4550662,"body_markdown":"    public class AddDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList &lt;Integer&gt;A = new ArrayList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\tScanner S = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the Numbers: &quot;);\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;5; i++){\r\n    \t\t\t\r\n    \t\t\tA.add(S.nextInt());\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;You have entered: &quot;+A);\r\n    \t\t\r\n    \t\tint Sum = 0;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;A.size(); i++){\r\n    \t\t\t\r\n    \t\t\tSum = Sum + A.get(i);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;The Sum of Entered List is: &quot;+Sum);\r\n    \r\n    \t}\r\n    \r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>public class AddDemo {\n\n    public static void main(String[] args) {\n\n        ArrayList &lt;Integer&gt;A = new ArrayList&lt;Integer&gt;();\n\n        Scanner S = new Scanner(System.in);\n\n        System.out.println(\"Enter the Numbers: \");\n\n        for(int i=0; i&lt;5; i++){\n\n            A.add(S.nextInt());\n        }\n\n        System.out.println(\"You have entered: \"+A);\n\n        int Sum = 0;\n\n        for(int i=0; i&lt;A.size(); i++){\n\n            Sum = Sum + A.get(i);\n\n        }\n\n        System.out.println(\"The Sum of Entered List is: \"+Sum);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369213,"reputation":906,"user_id":716463,"display_name":"jsanmarb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515503532,"creation_date":1393530751,"answer_id":22078933,"question_id":4550662,"body_markdown":"I use this:\r\n\r\n\tpublic static long sum(int[] i_arr)\r\n\t{\r\n\t\tlong sum;\r\n\t\tint i;\r\n\t\tfor(sum= 0, i= i_arr.length - 1; 0 &lt;= i; sum+= i_arr[i--]);\r\n\t\treturn sum;\r\n\t}\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I use this:</p>\n\n<pre><code>public static long sum(int[] i_arr)\n{\n    long sum;\n    int i;\n    for(sum= 0, i= i_arr.length - 1; 0 &lt;= i; sum+= i_arr[i--]);\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1410749144,"creation_date":1410749144,"answer_id":25840167,"question_id":4550662,"body_markdown":"In `Java 8` \r\n\r\n**Code**:\r\n\r\n       int[] array = new int[]{1,2,3,4,5};\r\n       int sum = IntStream.of(array).reduce( 0,(a, b) -&gt; a + b);\r\n       System.out.println(&quot;The summation of array is &quot; + sum);\r\n\r\n      System.out.println(&quot;Another way to find summation :&quot; + IntStream.of(array).sum());\r\n\r\n**Output**:\r\n\r\n    The summation of array is 15\r\n    Another way to find summation :15\r\n\r\n**Explanation**:\r\n\r\nIn `Java 8`, you can use reduction concept to do your addition.\r\n\r\n[Read all about Reduction][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In <code>Java 8</code> </p>\n\n<p><strong>Code</strong>:</p>\n\n<pre><code>   int[] array = new int[]{1,2,3,4,5};\n   int sum = IntStream.of(array).reduce( 0,(a, b) -&gt; a + b);\n   System.out.println(\"The summation of array is \" + sum);\n\n  System.out.println(\"Another way to find summation :\" + IntStream.of(array).sum());\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>The summation of array is 15\nAnother way to find summation :15\n</code></pre>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>In <code>Java 8</code>, you can use reduction concept to do your addition.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"noreferrer\">Read all about Reduction</a> </p>\n"},{"tags":[],"owner":{"account_id":6089055,"reputation":313,"user_id":4752024,"display_name":"TheArchon"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1486410476,"creation_date":1436148591,"answer_id":31236911,"question_id":4550662,"body_markdown":"As of Java 8 The use of lambda expressions have become available.\r\n\r\nSee this: \r\n\r\n    int[] nums = /** Your Array **/;\r\n\r\nCompact: \r\n\r\n    int sum = 0;\r\n    Arrays.asList(nums).stream().forEach(each -&gt; {\r\n        sum += each;\r\n    });\r\n\r\nPrefer: \r\n\r\n    int sum = 0;\r\n    \r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \r\n    for (int each : nums) { //refer back to original array\r\n         list.add(each); //there are faster operations…\r\n    }\r\n    \r\n    list.stream().forEach(each -&gt; {\r\n        sum += each;\r\n    });\r\n\r\nReturn or print sum.\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>As of Java 8 The use of lambda expressions have become available.</p>\n\n<p>See this: </p>\n\n<pre><code>int[] nums = /** Your Array **/;\n</code></pre>\n\n<p>Compact: </p>\n\n<pre><code>int sum = 0;\nArrays.asList(nums).stream().forEach(each -&gt; {\n    sum += each;\n});\n</code></pre>\n\n<p>Prefer: </p>\n\n<pre><code>int sum = 0;\n\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\nfor (int each : nums) { //refer back to original array\n     list.add(each); //there are faster operations…\n}\n\nlist.stream().forEach(each -&gt; {\n    sum += each;\n});\n</code></pre>\n\n<p>Return or print sum.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643043447,"creation_date":1471803290,"answer_id":39067407,"question_id":4550662,"body_markdown":"There is a sum() method in [underscore-java][1] library.\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int sum = U.sum(java.util.Arrays.asList(1, 2, 3, 4));\r\n\r\n            System.out.println(sum);\r\n            // -&gt; 10\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There is a sum() method in <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library.</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.U;\n\npublic class Main {\n    public static void main(String[] args) {\n        int sum = U.sum(java.util.Arrays.asList(1, 2, 3, 4));\n\n        System.out.println(sum);\n        // -&gt; 10\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505022454,"creation_date":1505020770,"answer_id":46137532,"question_id":4550662,"body_markdown":"\r\nWe may use user defined function. At first initialize sum variable equal to zero. Then traverse the array and add element with sum . Then update the sum variable.\r\n\r\nCode Snippet :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.*;   \r\n    import java.lang.*;  \r\n    import java.io.*;\r\n\r\n\r\n    class Sum\r\n    {\r\n        public static int sum(int arr[])\r\n        {\r\n            int sum=0;\r\n\r\n            for(int i=0; i&lt;arr.length; i++)\r\n            {\r\n                sum += arr[i];\r\n            }\r\n            return sum;\r\n        }\r\n\r\n        public static void main (String[] args)\r\n        {\r\n              int arr[] = {1, 2, 3, 4, 5};\r\n\r\n              int total = sum(arr);\r\n\r\n              System.out.printf(&quot;%d&quot;, total);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>We may use user defined function. At first initialize sum variable equal to zero. Then traverse the array and add element with sum . Then update the sum variable.</p>\n\n<p>Code Snippet :</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>import java.util.*;   \nimport java.lang.*;  \nimport java.io.*;\n\n\nclass Sum\n{\n    public static int sum(int arr[])\n    {\n        int sum=0;\n\n        for(int i=0; i&lt;arr.length; i++)\n        {\n            sum += arr[i];\n        }\n        return sum;\n    }\n\n    public static void main (String[] args)\n    {\n          int arr[] = {1, 2, 3, 4, 5};\n\n          int total = sum(arr);\n\n          System.out.printf(\"%d\", total);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079267,"reputation":776,"user_id":1076703,"display_name":"Vipul Gulhane"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564463888,"creation_date":1534428131,"answer_id":51878941,"question_id":4550662,"body_markdown":"Use below logic:\r\n\r\n    static int sum()\r\n         {\r\n             int sum = 0; // initialize sum\r\n             int i;\r\n           \r\n             // Iterate through all elements summing them up\r\n             for (i = 0; i &lt; arr.length; i++)\r\n                sum +=  arr[i];\r\n           \r\n             return sum;\r\n         }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Use below logic:</p>\n\n<pre><code>static int sum()\n     {\n         int sum = 0; // initialize sum\n         int i;\n\n         // Iterate through all elements summing them up\n         for (i = 0; i &lt; arr.length; i++)\n            sum +=  arr[i];\n\n         return sum;\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552524708,"creation_date":1552524708,"answer_id":55153321,"question_id":4550662,"body_markdown":"    /**\r\n     * Sum of all elements from 1 to 1000\r\n     */\r\n    final int sum = Stream.iterate(1, n -&gt; n + 1).limit(1000).mapToInt(el -&gt; el).sum();","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>/**\n * Sum of all elements from 1 to 1000\n */\nfinal int sum = Stream.iterate(1, n -&gt; n + 1).limit(1000).mapToInt(el -&gt; el).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569686386,"creation_date":1569685898,"answer_id":58147958,"question_id":4550662,"body_markdown":"A bit surprised to see None of the above answers considers it can be multiple times faster using a thread pool. Here, `parallel` uses a fork-join thread pool and automatically break the stream in multiple parts and run them parallel and then merge. If you just remember the following line of code you can use it many places.\r\n\r\n&gt; So the award for the fastest short and sweet code goes to -\r\n\r\n    int[] nums = {1,2,3};\r\n    int sum =  Arrays.stream(nums).parallel().reduce(0, (a,b)-&gt; a+b);\r\n\r\nLets say you want to do `sum of squares` , then Arrays.stream(nums).parallel().map(x-&gt;x*x).reduce(0, (a,b)-&gt; a+b). Idea is you can still perform reduce , without map . ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>A bit surprised to see None of the above answers considers it can be multiple times faster using a thread pool. Here, <code>parallel</code> uses a fork-join thread pool and automatically break the stream in multiple parts and run them parallel and then merge. If you just remember the following line of code you can use it many places.</p>\n\n<blockquote>\n  <p>So the award for the fastest short and sweet code goes to -</p>\n</blockquote>\n\n<pre><code>int[] nums = {1,2,3};\nint sum =  Arrays.stream(nums).parallel().reduce(0, (a,b)-&gt; a+b);\n</code></pre>\n\n<p>Lets say you want to do <code>sum of squares</code> , then Arrays.stream(nums).parallel().map(x->x*x).reduce(0, (a,b)-> a+b). Idea is you can still perform reduce , without map . </p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572373558,"creation_date":1572371817,"answer_id":58613026,"question_id":4550662,"body_markdown":"It depends. How many numbers are you adding? Testing many of the above suggestions:\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.Arrays;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \r\n        public static final NumberFormat FORMAT = NumberFormat.getInstance(Locale.US);\r\n    \r\n        public static long sumParallel(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array).parallel().reduce(0,(a,b)-&gt;  a + b);\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumStream(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array).reduce(0,(a,b)-&gt;  a + b);\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumLoop(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = 0;\r\n            for (int v: array) {\r\n                sum += v;\r\n            }\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumArray(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array) .sum();\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumStat(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = 0;\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n    \r\n        public static void test(int[] nums) {\r\n            System.out.println(&quot;------&quot;);\r\n            System.out.println(FORMAT.format(nums.length) + &quot; numbers&quot;);\r\n            long p = sumParallel(nums);\r\n            System.out.println(&quot;parallel &quot; + FORMAT.format(p));\r\n            long s = sumStream(nums);\r\n            System.out.println(&quot;stream &quot; +  FORMAT.format(s));\r\n            long ar = sumArray(nums);\r\n            System.out.println(&quot;arrays &quot; +  FORMAT.format(ar));\r\n            long lp = sumLoop(nums);\r\n            System.out.println(&quot;loop &quot; +  FORMAT.format(lp));\r\n    \r\n        }\r\n    \r\n        public static void testNumbers(int howmany) {\r\n            int[] nums = new int[howmany];\r\n            for (int i =0; i &lt; nums.length;i++) {\r\n                nums[i] = (i + 1)%100;\r\n            }\r\n            test(nums);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            testNumbers(3);\r\n            testNumbers(300);\r\n            testNumbers(3000);\r\n            testNumbers(30000);\r\n            testNumbers(300000);\r\n            testNumbers(3000000);\r\n            testNumbers(30000000);\r\n            testNumbers(300000000);\r\n        }\r\n    }\r\n\r\nI found, using an 8 core, 16 G Ubuntu18 machine, the loop was fastest for smaller values and the parallel for larger. But of course it would depend on the hardware you&#39;re running:\r\n\r\n\r\n    ------\r\n    3 numbers\r\n    6\r\n    parallel 4,575,234\r\n    6\r\n    stream 209,849\r\n    6\r\n    arrays 251,173\r\n    6\r\n    loop 576\r\n    ------\r\n    300 numbers\r\n    14850\r\n    parallel 671,428\r\n    14850\r\n    stream 73,469\r\n    14850\r\n    arrays 71,207\r\n    14850\r\n    loop 4,958\r\n    ------\r\n    3,000 numbers\r\n    148500\r\n    parallel 393,112\r\n    148500\r\n    stream 306,240\r\n    148500\r\n    arrays 335,795\r\n    148500\r\n    loop 47,804\r\n    ------\r\n    30,000 numbers\r\n    1485000\r\n    parallel 794,223\r\n    1485000\r\n    stream 1,046,927\r\n    1485000\r\n    arrays 366,400\r\n    1485000\r\n    loop 459,456\r\n    ------\r\n    300,000 numbers\r\n    14850000\r\n    parallel 4,715,590\r\n    14850000\r\n    stream 1,369,509\r\n    14850000\r\n    arrays 1,296,287\r\n    14850000\r\n    loop 1,327,592\r\n    ------\r\n    3,000,000 numbers\r\n    148500000\r\n    parallel 3,996,803\r\n    148500000\r\n    stream 13,426,933\r\n    148500000\r\n    arrays 13,228,364\r\n    148500000\r\n    loop 1,137,424\r\n    ------\r\n    30,000,000 numbers\r\n    1485000000\r\n    parallel 32,894,414\r\n    1485000000\r\n    stream 131,924,691\r\n    1485000000\r\n    arrays 131,689,921\r\n    1485000000\r\n    loop 9,607,527\r\n    ------\r\n    300,000,000 numbers\r\n    1965098112\r\n    parallel 338,552,816\r\n    1965098112\r\n    stream 1,318,649,742\r\n    1965098112\r\n    arrays 1,308,043,340\r\n    1965098112\r\n    loop 98,986,436\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>It depends. How many numbers are you adding? Testing many of the above suggestions:</p>\n\n<pre><code>import java.text.NumberFormat;\nimport java.util.Arrays;\nimport java.util.Locale;\n\npublic class Main {\n\n    public static final NumberFormat FORMAT = NumberFormat.getInstance(Locale.US);\n\n    public static long sumParallel(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array).parallel().reduce(0,(a,b)-&gt;  a + b);\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumStream(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array).reduce(0,(a,b)-&gt;  a + b);\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumLoop(int[] array) {\n        final long start = System.nanoTime();\n        int sum = 0;\n        for (int v: array) {\n            sum += v;\n        }\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumArray(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array) .sum();\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumStat(int[] array) {\n        final long start = System.nanoTime();\n        int sum = 0;\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n\n    public static void test(int[] nums) {\n        System.out.println(\"------\");\n        System.out.println(FORMAT.format(nums.length) + \" numbers\");\n        long p = sumParallel(nums);\n        System.out.println(\"parallel \" + FORMAT.format(p));\n        long s = sumStream(nums);\n        System.out.println(\"stream \" +  FORMAT.format(s));\n        long ar = sumArray(nums);\n        System.out.println(\"arrays \" +  FORMAT.format(ar));\n        long lp = sumLoop(nums);\n        System.out.println(\"loop \" +  FORMAT.format(lp));\n\n    }\n\n    public static void testNumbers(int howmany) {\n        int[] nums = new int[howmany];\n        for (int i =0; i &lt; nums.length;i++) {\n            nums[i] = (i + 1)%100;\n        }\n        test(nums);\n    }\n\n    public static void main(String[] args) {\n        testNumbers(3);\n        testNumbers(300);\n        testNumbers(3000);\n        testNumbers(30000);\n        testNumbers(300000);\n        testNumbers(3000000);\n        testNumbers(30000000);\n        testNumbers(300000000);\n    }\n}\n</code></pre>\n\n<p>I found, using an 8 core, 16 G Ubuntu18 machine, the loop was fastest for smaller values and the parallel for larger. But of course it would depend on the hardware you're running:</p>\n\n<pre><code>------\n3 numbers\n6\nparallel 4,575,234\n6\nstream 209,849\n6\narrays 251,173\n6\nloop 576\n------\n300 numbers\n14850\nparallel 671,428\n14850\nstream 73,469\n14850\narrays 71,207\n14850\nloop 4,958\n------\n3,000 numbers\n148500\nparallel 393,112\n148500\nstream 306,240\n148500\narrays 335,795\n148500\nloop 47,804\n------\n30,000 numbers\n1485000\nparallel 794,223\n1485000\nstream 1,046,927\n1485000\narrays 366,400\n1485000\nloop 459,456\n------\n300,000 numbers\n14850000\nparallel 4,715,590\n14850000\nstream 1,369,509\n14850000\narrays 1,296,287\n14850000\nloop 1,327,592\n------\n3,000,000 numbers\n148500000\nparallel 3,996,803\n148500000\nstream 13,426,933\n148500000\narrays 13,228,364\n148500000\nloop 1,137,424\n------\n30,000,000 numbers\n1485000000\nparallel 32,894,414\n1485000000\nstream 131,924,691\n1485000000\narrays 131,689,921\n1485000000\nloop 9,607,527\n------\n300,000,000 numbers\n1965098112\nparallel 338,552,816\n1965098112\nstream 1,318,649,742\n1965098112\narrays 1,308,043,340\n1965098112\nloop 98,986,436\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19950196,"reputation":31,"user_id":14620026,"display_name":"Abhishek Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614146886,"creation_date":1614146886,"answer_id":66345537,"question_id":4550662,"body_markdown":"Most of the answers here are using inbuilt functions-    \r\nHere is my answer if you want to know the whole logic behind this ques:    \r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class SumOfArray {\r\n        public static void main(String[] args){\r\n            Scanner inp = new Scanner(System.in);\r\n            int n = inp.nextInt();\r\n            int[] arr = new int[n];\r\n            for(int i = 0; i &lt; n; i++){\r\n                arr[i] = inp.nextInt();\r\n            }\r\n            System.out.println(&quot;The sum of the array is :&quot; + sum(arr));\r\n        }\r\n        static int sum(int[] arr){\r\n            int sum = 0;\r\n            for (int a = 0; a &lt; arr.length; a++){\r\n                sum = sum + arr[a];\r\n            }\r\n            return sum;\r\n        }\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Most of the answers here are using inbuilt functions-<br />\nHere is my answer if you want to know the whole logic behind this ques:</p>\n<pre><code>import java.util.*;\n\npublic class SumOfArray {\n    public static void main(String[] args){\n        Scanner inp = new Scanner(System.in);\n        int n = inp.nextInt();\n        int[] arr = new int[n];\n        for(int i = 0; i &lt; n; i++){\n            arr[i] = inp.nextInt();\n        }\n        System.out.println(&quot;The sum of the array is :&quot; + sum(arr));\n    }\n    static int sum(int[] arr){\n        int sum = 0;\n        for (int a = 0; a &lt; arr.length; a++){\n            sum = sum + arr[a];\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19594580,"reputation":1380,"user_id":14340917,"display_name":"Monu Rohilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624281708,"creation_date":1624281708,"answer_id":68068720,"question_id":4550662,"body_markdown":"I have the right solution for your problem if you specifically have an array of type double, then this method can be used to calculate the sum of its elements. also, it using math class\r\n\r\n    import org.apache.commons.math3.stat.StatUtils;\r\n     \r\n    public class ArraySum {\r\n     \r\n       public static void main(String[] args) {\r\n    \tdouble[] array = { 10, 4, 17, 33, -2, 14 };\r\n    \tint sum = (int)StatUtils.sum(array);\r\n    \tSystem.out.println(&quot;Sum of array elements is: &quot; + sum);\r\n       }\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I have the right solution for your problem if you specifically have an array of type double, then this method can be used to calculate the sum of its elements. also, it using math class</p>\n<pre><code>import org.apache.commons.math3.stat.StatUtils;\n \npublic class ArraySum {\n \n   public static void main(String[] args) {\n    double[] array = { 10, 4, 17, 33, -2, 14 };\n    int sum = (int)StatUtils.sum(array);\n    System.out.println(&quot;Sum of array elements is: &quot; + sum);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25338697,"reputation":11,"user_id":19210297,"display_name":"Tha&#237;sa Vieira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690584583,"creation_date":1690584583,"answer_id":76791394,"question_id":4550662,"body_markdown":" Algorithm to find the sum of the elements of the array:\r\n\r\n 1. Initialize an array *arr* and a variable *sum*;\r\n 2. Set the value of *sum=0*;\r\n 3. Start a **for loop** from index 0 to the length of the array -1;\r\n 4. In every iteration, perform *sum=sum+arr[i]*;\r\n 5. After the termination of the loop, print the value of the sum.\r\n\r\nSee code bellow:\r\n\r\n    import java.io*;\r\n    import java.util*;\r\n    import java.text*;\r\n    import java.math*;\r\n    import java.util.regex*;\r\n    \r\n    class Test{\r\n    static int arr[] = {1,2,3,4,10,11}\r\n    //method for sum of elements in an array\r\n    static int sum()\r\n    {\r\n    int sum = 0; //initialize sum\r\n    int i;\r\n    \r\n    //iterate through all elements and add them to sum\r\n    for (i=0; i&lt;arr.length;i++)\r\n        sum += arr[i];\r\n\r\n     return sum;\r\n    }\r\n    \r\n    //driver method\r\n    public static void main(String[] args){\r\n    System.out.println(&quot;Sum of given array is &quot; + sum());\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nAnd if you want to get the sum of the elements of an array where the input(stdln) is initially unknown just add:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    int length = input.nextInt();\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Algorithm to find the sum of the elements of the array:</p>\n<ol>\n<li>Initialize an array <em>arr</em> and a variable <em>sum</em>;</li>\n<li>Set the value of <em>sum=0</em>;</li>\n<li>Start a <strong>for loop</strong> from index 0 to the length of the array -1;</li>\n<li>In every iteration, perform <em>sum=sum+arr[i]</em>;</li>\n<li>After the termination of the loop, print the value of the sum.</li>\n</ol>\n<p>See code bellow:</p>\n<pre><code>import java.io*;\nimport java.util*;\nimport java.text*;\nimport java.math*;\nimport java.util.regex*;\n\nclass Test{\nstatic int arr[] = {1,2,3,4,10,11}\n//method for sum of elements in an array\nstatic int sum()\n{\nint sum = 0; //initialize sum\nint i;\n\n//iterate through all elements and add them to sum\nfor (i=0; i&lt;arr.length;i++)\n    sum += arr[i];\n\n return sum;\n}\n\n//driver method\npublic static void main(String[] args){\nSystem.out.println(&quot;Sum of given array is &quot; + sum());\n}\n\n\n}\n</code></pre>\n<p>And if you want to get the sum of the elements of an array where the input(stdln) is initially unknown just add:</p>\n<pre><code>Scanner input = new Scanner(System.in);\nint length = input.nextInt();\n</code></pre>\n"}],"owner":{"account_id":144569,"reputation":3835,"user_id":353715,"accept_rate":36,"display_name":"TomLisankie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849707,"favorite_count":0,"down_vote_count":6,"up_vote_count":200,"answer_count":29,"score":194,"last_activity_date":1690584583,"creation_date":1293582910,"question_id":4550662,"body_markdown":"I&#39;m having a problem finding the sum of all of the integers in an array in Java. I cannot find any useful method in the `Math` class for this.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I'm having a problem finding the sum of all of the integers in an array in Java. I cannot find any useful method in the <code>Math</code> class for this.</p>\n"},{"tags":["java","android","firebase","google-signin"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1690571732,"post_id":76790499,"comment_id":135377529,"body_markdown":"We really can&#39;t tell you what to type here - it&#39;s not just a few simple lines, and we don&#39;t know what you want the app to actually do here.  You should follow the [documentation](https://firebase.google.com/docs/auth/android/start) exactly as it instructs, and if you have problems with that, show the code you have that doesn&#39;t work the way you expect, along with your debugging details.","body":"We really can&#39;t tell you what to type here - it&#39;s not just a few simple lines, and we don&#39;t know what you want the app to actually do here.  You should follow the <a href=\"https://firebase.google.com/docs/auth/android/start\" rel=\"nofollow noreferrer\">documentation</a> exactly as it instructs, and if you have problems with that, show the code you have that doesn&#39;t work the way you expect, along with your debugging details."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1690573576,"post_id":76790499,"comment_id":135377773,"body_markdown":"What part exactly is not working? Do you have any logs? Does the app crash? You can add log statements to see which part of your code works and which doesn&#39;t. You need to add more information here so that, people can figure out what&#39;s wrong with your code.","body":"What part exactly is not working? Do you have any logs? Does the app crash? You can add log statements to see which part of your code works and which doesn&#39;t. You need to add more information here so that, people can figure out what&#39;s wrong with your code."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1690578822,"post_id":76790499,"comment_id":135378478,"body_markdown":"Try looking at [User Authentication and CRUD Operation with Firebase Realtime Database in Android](https://www.geeksforgeeks.org/user-authentication-and-crud-operation-with-firebase-realtime-database-in-android/).","body":"Try looking at <a href=\"https://www.geeksforgeeks.org/user-authentication-and-crud-operation-with-firebase-realtime-database-in-android/\" rel=\"nofollow noreferrer\">User Authentication and CRUD Operation with Firebase Realtime Database in Android</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690629972,"post_id":76790499,"comment_id":135382200,"body_markdown":"I&#39;m not sure I understand. But since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"I&#39;m not sure I understand. But since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":19317690,"reputation":41,"user_id":14122062,"display_name":"Nebrass wahaib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690584098,"creation_date":1690584098,"answer_id":76791376,"question_id":76790499,"body_markdown":" it seems like you&#39;re trying to implement a Google Sign-In functionality using Firebase Authentication in an Android Studio project.\r\n\r\nTo implement Google Sign-In with Firebase, you&#39;ll need to perform the following steps:\r\n\r\n1. Add the necessary dependencies: In your project&#39;s `build.gradle` file, make sure you have the necessary dependencies for Google Sign-In and Firebase Authentication. For example:\r\n\r\n```java\r\ndependencies {\r\n    // Other dependencies...\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n}\r\n```\r\n\r\n2. Configure Google Sign-In in the Firebase console: Make sure you have enabled the Google Sign-In provider in the Firebase console and added the appropriate SHA-1 fingerprint for your Android app.\r\n\r\n3. Set up the Google Sign-In request:\r\n\r\n```java\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n\r\n// ...\r\n\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        // Build a GoogleSignInClient with the options\r\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(MainActivity.this, gso);\r\n\r\n        // Start the sign-in intent\r\n        Intent signInIntent = googleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n});\r\n```\r\n\r\nMake sure to replace `R.string.default_web_client_id` with your own web client ID from the Firebase console.\r\n\r\n4. Handle the sign-in result:\r\n\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    if (requestCode == RC_SIGN_IN) {\r\n        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n        try {\r\n            // Google sign-in was successful\r\n            GoogleSignInAccount account = task.getResult(ApiException.class);\r\n            \r\n            // Get the user&#39;s ID token and authenticate with Firebase\r\n            String idToken = account.getIdToken();\r\n            AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n            FirebaseAuth.getInstance().signInWithCredential(credential)\r\n                    .addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign-in success, update UI with the signed-in user&#39;s information\r\n                                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                                String displayName = user.getDisplayName();\r\n                                Toast.makeText(MainActivity.this, &quot;Welcome &quot; + displayName, Toast.LENGTH_SHORT).show();\r\n                            } else {\r\n                                // Sign-in failed, display a message to the user\r\n                                Toast.makeText(MainActivity.this, &quot;Sign-in failed&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        } catch (ApiException e) {\r\n            // Google sign-in failed\r\n            Toast.makeText(MainActivity.this, &quot;Google Sign-in Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBe sure to define a constant `RC_SIGN_IN` for the request code.\r\n\r\nRemember to also set up Firebase Authentication in your project and configure it in the Firebase console.\r\n\r\nMake sure you","title":"How do i implement a login with google firebase in my java application","body":"<p>it seems like you're trying to implement a Google Sign-In functionality using Firebase Authentication in an Android Studio project.</p>\n<p>To implement Google Sign-In with Firebase, you'll need to perform the following steps:</p>\n<ol>\n<li>Add the necessary dependencies: In your project's <code>build.gradle</code> file, make sure you have the necessary dependencies for Google Sign-In and Firebase Authentication. For example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    // Other dependencies...\n    implementation 'com.google.android.gms:play-services-auth:19.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Configure Google Sign-In in the Firebase console: Make sure you have enabled the Google Sign-In provider in the Firebase console and added the appropriate SHA-1 fingerprint for your Android app.</p>\n</li>\n<li><p>Set up the Google Sign-In request:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\n\n// ...\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        // Build a GoogleSignInClient with the options\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(MainActivity.this, gso);\n\n        // Start the sign-in intent\n        Intent signInIntent = googleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n});\n</code></pre>\n<p>Make sure to replace <code>R.string.default_web_client_id</code> with your own web client ID from the Firebase console.</p>\n<ol start=\"4\">\n<li>Handle the sign-in result:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == RC_SIGN_IN) {\n        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n        try {\n            // Google sign-in was successful\n            GoogleSignInAccount account = task.getResult(ApiException.class);\n            \n            // Get the user's ID token and authenticate with Firebase\n            String idToken = account.getIdToken();\n            AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\n            FirebaseAuth.getInstance().signInWithCredential(credential)\n                    .addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n                                // Sign-in success, update UI with the signed-in user's information\n                                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                                String displayName = user.getDisplayName();\n                                Toast.makeText(MainActivity.this, &quot;Welcome &quot; + displayName, Toast.LENGTH_SHORT).show();\n                            } else {\n                                // Sign-in failed, display a message to the user\n                                Toast.makeText(MainActivity.this, &quot;Sign-in failed&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n        } catch (ApiException e) {\n            // Google sign-in failed\n            Toast.makeText(MainActivity.this, &quot;Google Sign-in Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Be sure to define a constant <code>RC_SIGN_IN</code> for the request code.</p>\n<p>Remember to also set up Firebase Authentication in your project and configure it in the Firebase console.</p>\n<p>Make sure you</p>\n"}],"owner":{"account_id":29038276,"reputation":3,"user_id":22243641,"display_name":"Shiva Ramlal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76791376,"answer_count":1,"score":0,"last_activity_date":1690584098,"creation_date":1690571584,"question_id":76790499,"body_markdown":"I&#39;ve looked at countless youtube videos but nothing try works and I don&#39;t know why I&#39;ve also read through the documentation but with no luck... I&#39;m using android studio and coding in java its a simple problem but I cant seem to figure it out, here is the code I have for the button I&#39;ve kind of left out the old code that I had in the &quot;//google sign in request&quot; as it does not work and makes no sense. I&#39;ve also successfully connected my firebase to the project and added the SHA-1 fingerprint.\r\n\r\n```\r\npackage com.example.firebasegoogleauth4;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\r\nimport com.google.android.gms.auth.api.identity.SignInClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        btn = findViewById(R.id.button1);\r\n        \r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //google sign in request \r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How do i implement a login with google firebase in my java application","body":"<p>I've looked at countless youtube videos but nothing try works and I don't know why I've also read through the documentation but with no luck... I'm using android studio and coding in java its a simple problem but I cant seem to figure it out, here is the code I have for the button I've kind of left out the old code that I had in the &quot;//google sign in request&quot; as it does not work and makes no sense. I've also successfully connected my firebase to the project and added the SHA-1 fingerprint.</p>\n<pre><code>package com.example.firebasegoogleauth4;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\nimport com.google.android.gms.auth.api.identity.SignInClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        btn = findViewById(R.id.button1);\n        \n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //google sign in request \n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":1,"creation_date":1690585893,"post_id":76791351,"comment_id":135379097,"body_markdown":"when you call &quot;new Test()&quot;, the created instance is not managed by Spring container. you could *autowired* the instance in your Demo3Application instead.\n\n&lt;pre&gt;&lt;code&gt;\n@Autowired\n private Test test2\n&lt;/code&gt;&lt;/pre&gt;\n\nAlso please make sure &quot;CRUDEMongo.class&quot; is the same package as com.example.demo3","body":"when you call &quot;new Test()&quot;, the created instance is not managed by Spring container. you could <i>autowired</i> the instance in your Demo3Application instead.  &lt;pre&gt;&lt;code&gt; @Autowired  private Test test2 &lt;/code&gt;&lt;/pre&gt;  Also please make sure &quot;CRUDEMongo.class&quot; is the same package as com.example.demo3"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690586303,"post_id":76791351,"comment_id":135379143,"body_markdown":"Thank you very much, that worked for me.","body":"Thank you very much, that worked for me."}],"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690785072,"answer_count":0,"score":0,"last_activity_date":1690583671,"creation_date":1690583671,"question_id":76791351,"body_markdown":"I have the following classes in the same package com.example.demo3.\r\n\r\n```\r\n@Component\r\npublic class Test {\r\n    @Autowired\r\n    Test2 test;\r\n    public Test(){\r\n        int i = 3;\r\n    }\r\n    public void print(){\r\n        System.out.println(test);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n`package com.example.demo3;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Test2 {\r\n    \r\n}`\r\n```\r\n```\r\n\r\n`package com.example.demo3;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.ServerApi;\r\nimport com.mongodb.ServerApiVersion;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\n\r\n@Configuration\r\n@SpringBootApplication(\r\nscanBasePackages={&quot;CRUDEMongo.class&quot;})\r\npublic class Demo3Application{\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\r\n\t\tServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\tTest test2 = new Test();\r\n\t\ttest2.print();\r\n\t\ttry(MongoClient client = MongoClients.create(settings)){\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n```\r\n\r\nMy autowired fields are null. Why is that? Because I called Test test2 with new Test()? That shouldnt made a difference because the Constructor of Test2 is not called by new. What is my mistake?\r\n\r\nAll my autowired fields are 0","title":"Autowired Object are always NULL","body":"<p>I have the following classes in the same package com.example.demo3.</p>\n<pre><code>@Component\npublic class Test {\n    @Autowired\n    Test2 test;\n    public Test(){\n        int i = 3;\n    }\n    public void print(){\n        System.out.println(test);\n    }\n}\n</code></pre>\n<pre><code>`package com.example.demo3;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Test2 {\n    \n}`\n</code></pre>\n<pre><code>\n`package com.example.demo3;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.ServerApi;\nimport com.mongodb.ServerApiVersion;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@Configuration\n@SpringBootApplication(\nscanBasePackages={&quot;CRUDEMongo.class&quot;})\npublic class Demo3Application{\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\n        System.out.println(&quot;Hello&quot;);\n        Test test2 = new Test();\n        test2.print();\n        try(MongoClient client = MongoClients.create(settings)){\n        }\n    }\n}\n`\n</code></pre>\n<p>My autowired fields are null. Why is that? Because I called Test test2 with new Test()? That shouldnt made a difference because the Constructor of Test2 is not called by new. What is my mistake?</p>\n<p>All my autowired fields are 0</p>\n"},{"tags":["java","jvm","garbage-collection"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690547480,"post_id":76787773,"comment_id":135372833,"body_markdown":"The [javadoc on WeakReference](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/WeakReference.html) explains what it does and why pretty well. I wouldn&#39;t worry about the exact implementation, especially if digging through JVM code feels complex.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">javadoc on WeakReference</a> explains what it does and why pretty well. I wouldn&#39;t worry about the exact implementation, especially if digging through JVM code feels complex."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690548643,"post_id":76787773,"comment_id":135373083,"body_markdown":"@Jorn where does that logic relating to weak reference handling exist? Do JVM implementations implement it however they like? It&#39;s not a cross-platform feature then, is it?","body":"@Jorn where does that logic relating to weak reference handling exist? Do JVM implementations implement it however they like? It&#39;s not a cross-platform feature then, is it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690548702,"post_id":76787773,"comment_id":135373100,"body_markdown":"Yes, JVMs can implement it as they choose. They have to, as different JVMs can have completely different garbage collector implementations. It&#39;s still cross-platform, since the spec requires those implementations to follow certain rules. The implementation may not be the exact same, but the effect is the same.","body":"Yes, JVMs can implement it as they choose. They have to, as different JVMs can have completely different garbage collector implementations. It&#39;s still cross-platform, since the spec requires those implementations to follow certain rules. The implementation may not be the exact same, but the effect is the same."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690553054,"post_id":76787773,"comment_id":135374064,"body_markdown":"@Jorn the spec says nothing imperative on weak references (see the question). It seems it&#39;s entirely legal for JVM makers not to handle them in any special way at all","body":"@Jorn the spec says nothing imperative on weak references (see the question). It seems it&#39;s entirely legal for JVM makers not to handle them in any special way at all"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690553433,"post_id":76787773,"comment_id":135374161,"body_markdown":"What are you worried about exactly? A JVM just choosing not to properly handle weak references? I don&#39;t think that particular JVM would see much use.","body":"What are you worried about exactly? A JVM just choosing not to properly handle weak references? I don&#39;t think that particular JVM would see much use."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690555490,"post_id":76787773,"comment_id":135374703,"body_markdown":"@Jorn but does it make one a good Java programmer if they rely on JVM-specific functionality?","body":"@Jorn but does it make one a good Java programmer if they rely on JVM-specific functionality?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690563115,"post_id":76787773,"comment_id":135376146,"body_markdown":"I give up......","body":"I give up......"}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690582698,"creation_date":1690582698,"answer_id":76791286,"question_id":76787773,"body_markdown":"&gt; All in all, how do WeakReferences work? \r\n\r\nThey&#39;re part of the garbage collector analyzing reachability of references from GC roots and treating the `Reference` types specially. In the case of `WeakReference` they do it by not traversing the referent field as part of liveness checking.\r\n\r\nHow exactly they do that is indeed an implementation detail. Of course the observable behavior must still be in bounds of what&#39;s allowed by the spec and the JDK documentation.\r\n\r\n&gt; Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)?\r\n\r\nYes. GCs are not guaranteed to run, ever. Which means weak reference processing may also never happen.\r\n\r\n[EpsilonGC][1] is such a GC.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/318","title":"How exactly are WeakReferences processed?","body":"<blockquote>\n<p>All in all, how do WeakReferences work?</p>\n</blockquote>\n<p>They're part of the garbage collector analyzing reachability of references from GC roots and treating the <code>Reference</code> types specially. In the case of <code>WeakReference</code> they do it by not traversing the referent field as part of liveness checking.</p>\n<p>How exactly they do that is indeed an implementation detail. Of course the observable behavior must still be in bounds of what's allowed by the spec and the JDK documentation.</p>\n<blockquote>\n<p>Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)?</p>\n</blockquote>\n<p>Yes. GCs are not guaranteed to run, ever. Which means weak reference processing may also never happen.</p>\n<p><a href=\"https://openjdk.org/jeps/318\" rel=\"nofollow noreferrer\">EpsilonGC</a> is such a GC.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690582698,"creation_date":1690546992,"question_id":76787773,"body_markdown":"I looked at the `WeakReference` source code. Here it is:\r\n```java\r\npublic class WeakReference&lt;T&gt; extends Reference&lt;T&gt; {\r\n\r\n    public WeakReference(T referent) {\r\n        super(referent);\r\n    }\r\n\r\n    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) {\r\n        super(referent, q);\r\n    }\r\n\r\n}\r\n```\r\nAs you can see, it contains nothing save for a couple of constructors. I looked into [the JVM specification][1]. It contains no mention of &quot;weak references&quot; except for\r\n\r\n&gt; Classes that might require special support from the Java Virtual Machine include\r\nthose that support:\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; • Weak references, such as the classes in the package java.lang.ref.\r\n\r\nDo JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)? I tried to test that theory and visited [Hotspot&#39;s page][2]. Unfortunately, it lacks adequate documentation and its [source code][3] is too complex for me to analyze\r\n\r\nAll in all, how do `WeakReference`s work? What is the corresponding logic that results in a different garbage collector behavior?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/jvms17.pdf\r\n  [2]: https://openjdk.org/groups/hotspot/\r\n  [3]: https://github.com/openjdk/jdk/tree/master/src/hotspot","title":"How exactly are WeakReferences processed?","body":"<p>I looked at the <code>WeakReference</code> source code. Here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeakReference&lt;T&gt; extends Reference&lt;T&gt; {\n\n    public WeakReference(T referent) {\n        super(referent);\n    }\n\n    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) {\n        super(referent, q);\n    }\n\n}\n</code></pre>\n<p>As you can see, it contains nothing save for a couple of constructors. I looked into <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/jvms17.pdf\" rel=\"nofollow noreferrer\">the JVM specification</a>. It contains no mention of &quot;weak references&quot; except for</p>\n<blockquote>\n<p>Classes that might require special support from the Java Virtual Machine include\nthose that support:</p>\n<p>[...]</p>\n<p>• Weak references, such as the classes in the package java.lang.ref.</p>\n</blockquote>\n<p>Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)? I tried to test that theory and visited <a href=\"https://openjdk.org/groups/hotspot/\" rel=\"nofollow noreferrer\">Hotspot's page</a>. Unfortunately, it lacks adequate documentation and its <a href=\"https://github.com/openjdk/jdk/tree/master/src/hotspot\" rel=\"nofollow noreferrer\">source code</a> is too complex for me to analyze</p>\n<p>All in all, how do <code>WeakReference</code>s work? What is the corresponding logic that results in a different garbage collector behavior?</p>\n"},{"tags":["java","linux","maven","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690569102,"post_id":76789304,"comment_id":135377166,"body_markdown":"&quot;_I have a Fat Jar JavaFX application ... It&#39;s a modular application_&quot;  – Just want to point out that is arguably an oxymoron. The JAR specification does not allow for multiple modules in a single JAR file and launching with the `-jar` option puts everything on the class-path.","body":"&quot;<i>I have a Fat Jar JavaFX application ... It&#39;s a modular application</i>&quot;  – Just want to point out that is arguably an oxymoron. The JAR specification does not allow for multiple modules in a single JAR file and launching with the <code>-jar</code> option puts everything on the class-path."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690569196,"post_id":76789304,"comment_id":135377184,"body_markdown":"That said, does your fat JAR contain the native JavaFX code for Linux platforms?","body":"That said, does your fat JAR contain the native JavaFX code for Linux platforms?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690575504,"post_id":76789304,"comment_id":135378041,"body_markdown":"What kind of linux system is it? Which ubuntu version? Intel? Arm? 32bit? 64bit? What is in your pom.xml? Please provide a complete pom.xml that replicates your issue as a [mcve], it does not need to be your exact project pom.xml, just something that is complete that somebody can use to replicate this.   Also, provide the build and execution commands you used to create the package and execute it.  Check out [Maven Shade JavaFX runtime components are missing](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing), in case you have not already done so.","body":"What kind of linux system is it? Which ubuntu version? Intel? Arm? 32bit? 64bit? What is in your pom.xml? Please provide a complete pom.xml that replicates your issue as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, it does not need to be your exact project pom.xml, just something that is complete that somebody can use to replicate this.   Also, provide the build and execution commands you used to create the package and execute it.  Check out <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a>, in case you have not already done so."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690580845,"post_id":76789304,"comment_id":135378663,"body_markdown":"See also this recent review of [_packaging_ and _deployment_](https://stackoverflow.com/a/76758560/230513).","body":"See also this recent review of <a href=\"https://stackoverflow.com/a/76758560/230513\"><i>packaging</i> and <i>deployment</i></a>."},{"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1690584817,"post_id":76789304,"comment_id":135379014,"body_markdown":"@Slaw yea, I haven&#39;t pursued the &quot;how to properly package a modular JFX program&quot; yet. jpackage &quot;seems&quot; to work with the fat jar, but it does throw the warning about running unnamed modules. It&#39;s not clear to me how to package a modular application whether it&#39;s FX or not, frankly. Fat Jars seemed to be pass&#233; now. I want to use jpackage so folks can download a simple installer.","body":"@Slaw yea, I haven&#39;t pursued the &quot;how to properly package a modular JFX program&quot; yet. jpackage &quot;seems&quot; to work with the fat jar, but it does throw the warning about running unnamed modules. It&#39;s not clear to me how to package a modular application whether it&#39;s FX or not, frankly. Fat Jars seemed to be pass&#233; now. I want to use jpackage so folks can download a simple installer."},{"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1690584876,"post_id":76789304,"comment_id":135379019,"body_markdown":"@trashgod (and jewelsea) thanks for that link.","body":"@trashgod (and jewelsea) thanks for that link."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690587087,"post_id":76789304,"comment_id":135379202,"body_markdown":"&quot;*I want to use jpackage so folks can download a simple installer.*&quot; -&gt; if that is what you want, then start with that, rather than trying to create a fat jar (IMO).  The best overview for that is IMO [the official Oracle jpackage guide](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A).  Note that there are quite a few tricks in using jpackage (e.g. on Mac it appears to require a paid Apple developer signing certificate), so be prepared for to spend time and frustration, and prototype using it to make sure it is what you want","body":"&quot;<i>I want to use jpackage so folks can download a simple installer.</i>&quot; -&gt; if that is what you want, then start with that, rather than trying to create a fat jar (IMO).  The best overview for that is IMO <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">the official Oracle jpackage guide</a>.  Note that there are quite a few tricks in using jpackage (e.g. on Mac it appears to require a paid Apple developer signing certificate), so be prepared for to spend time and frustration, and prototype using it to make sure it is what you want"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690587356,"post_id":76789304,"comment_id":135379224,"body_markdown":"The [ackman jpackage maven plugin](https://github.com/Akman/jpackage-maven-plugin) can be used to package your app using maven (as that seems to be your chosen pipeline), but as you are running builds targeting multiple platforms, it is a bit tricky.  You will need to run the build on each target platform to get an installer for each (don&#39;t forget that M1 and Intel macs are different platforms, as are 32 bit vs 64 bit architectures and Intel vs Arm linux distros). [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) may help (I haven&#39;t used it).","body":"The <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">ackman jpackage maven plugin</a> can be used to package your app using maven (as that seems to be your chosen pipeline), but as you are running builds targeting multiple platforms, it is a bit tricky.  You will need to run the build on each target platform to get an installer for each (don&#39;t forget that M1 and Intel macs are different platforms, as are 32 bit vs 64 bit architectures and Intel vs Arm linux distros). <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> may help (I haven&#39;t used it)."}],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690582465,"creation_date":1690559206,"question_id":76789304,"body_markdown":"I have a Fat Jar JavaFX application. Java 17, JavaFX 18. The jar is built using the maven shade plugin. It&#39;s a modular application.\r\n\r\nWhen I try to start it with `java -jar fat.jar`, I get this error:\r\n\r\n    Graphics Device initialization failed for :  es2, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\r\nThis works fine on both Mac and Windows.\r\n\r\nI&#39;m using the JavaFX plugin for maven, so if I run it using `mvn javafx:run`, the app starts up fine.\r\n\r\nI&#39;m using JavaFX from maven dependencies, rather than having it part of the JDK, so the FX jars and libs are part of my fat jar. I don&#39;t think it&#39;s an installation issue per se, but I don&#39;t know. \r\n\r\nThat said, when maven runs it, it runs it as a single java command with a large module/classpath from the repository files. So that start is certainly different.\r\n\r\nHow can I get my fat jar to run properly on Ubuntu?\r\n\r\nEdit:\r\n\r\nThis turned out to be a mistake on my part. My shaded jar was not being rebuilt, and it was instead using the one that was originally from my Mac, and that is why it was failing. After I got the jar to correctly rebuild, it worked as expected.\r\n\r\n","title":"Error starting JavaFX Application on Ubuntu","body":"<p>I have a Fat Jar JavaFX application. Java 17, JavaFX 18. The jar is built using the maven shade plugin. It's a modular application.</p>\n<p>When I try to start it with <code>java -jar fat.jar</code>, I get this error:</p>\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n</code></pre>\n<p>This works fine on both Mac and Windows.</p>\n<p>I'm using the JavaFX plugin for maven, so if I run it using <code>mvn javafx:run</code>, the app starts up fine.</p>\n<p>I'm using JavaFX from maven dependencies, rather than having it part of the JDK, so the FX jars and libs are part of my fat jar. I don't think it's an installation issue per se, but I don't know.</p>\n<p>That said, when maven runs it, it runs it as a single java command with a large module/classpath from the repository files. So that start is certainly different.</p>\n<p>How can I get my fat jar to run properly on Ubuntu?</p>\n<p>Edit:</p>\n<p>This turned out to be a mistake on my part. My shaded jar was not being rebuilt, and it was instead using the one that was originally from my Mac, and that is why it was failing. After I got the jar to correctly rebuild, it worked as expected.</p>\n"},{"tags":["java","json-rpc"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690581508,"post_id":76791211,"comment_id":135378726,"body_markdown":"Why does it need to be JSON, as opposed to &quot;anything that lets you do RPC&quot;?","body":"Why does it need to be JSON, as opposed to &quot;anything that lets you do RPC&quot;?"}],"owner":{"account_id":26842610,"reputation":11,"user_id":20428873,"display_name":"Maliha Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690581368,"creation_date":1690581368,"question_id":76791211,"body_markdown":"I am looking for a json-rpc client library for java that will help with interprocess communication. I found json-rpc4j. Are there any other libraries that you can suggest? The josn-rpc 4j is not quite working with the inputstream and outputstream of java.  \r\n\r\nI found jsonrpc 4j client library. but it quite isn&#39;t working for me. so I want to see if any other library works for me . ","title":"JSON-RPC libraries for java","body":"<p>I am looking for a json-rpc client library for java that will help with interprocess communication. I found json-rpc4j. Are there any other libraries that you can suggest? The josn-rpc 4j is not quite working with the inputstream and outputstream of java.</p>\n<p>I found jsonrpc 4j client library. but it quite isn't working for me. so I want to see if any other library works for me .</p>\n"},{"tags":["java","spring","testing","junit","boot"],"answers":[{"tags":[],"owner":{"account_id":3009750,"reputation":757,"user_id":2553521,"display_name":"edwgiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690581343,"creation_date":1690581343,"answer_id":76791209,"question_id":76790979,"body_markdown":"`junit.jupiter.extensions.autodetection.enabled` flag works for the extentions  registered via ServiceLoader mechanism\r\nhttps://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling\r\n\r\nSo, it&#39;s expected having the `InheritClassTestCheckExtension` full class name \r\nin `META-INF/services/org.junit.jupiter.api.extension.Extension` file\r\n\r\n----------\r\n\r\nAlternativaly, it&#39;s possible using explicit declaration with [`@ExtendWith`][1] or  [`@RegisterExtension`][2] annotations,\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic","title":"How do a check previous a test execution in jUnit 5?","body":"<p><code>junit.jupiter.extensions.autodetection.enabled</code> flag works for the extentions  registered via ServiceLoader mechanism\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling</a></p>\n<p>So, it's expected having the <code>InheritClassTestCheckExtension</code> full class name\nin <code>META-INF/services/org.junit.jupiter.api.extension.Extension</code> file</p>\n<hr />\n<p>Alternativaly, it's possible using explicit declaration with <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative\" rel=\"nofollow noreferrer\"><code>@ExtendWith</code></a> or  <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic\" rel=\"nofollow noreferrer\"><code>@RegisterExtension</code></a> annotations,</p>\n"}],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76791209,"answer_count":1,"score":2,"last_activity_date":1690581343,"creation_date":1690577674,"question_id":76790979,"body_markdown":"I need do a validation before execute many test&#39;s in a Spring Boot app, with jUnit 5. Basically I need check if my test have a superclass (because we preload context there). I dont want to edit every test else do something that allows me to check before running each test. I did something like this:\r\n\r\n    public class InheritClassTestCheckExtension implements TestTemplateInvocationContextProvider, BeforeEachCallback {\r\n\r\n    @Override\r\n    public void beforeEach(ExtensionContext context) throws Exception {\r\n\t\tClass&lt;?&gt; superClass = context.getRequiredTestClass().getSuperclass();\r\n\t\tString listClasses = &quot;&quot;;\r\n\t\tif (superClass doesnt exists or is object, throw a exception) {\r\n\t\t\tthrow new Exception(&quot;Need to inherit from class A,B or C&quot;);\r\n       } else { \r\n    \t   Continue to the test&#39;s\r\n       }\r\n    }\r\n\r\nI have this in my junit-platform.properties\r\n\r\n    junit.jupiter.extensions.autodetection.enabled=true\r\n    junit.jupiter.extensions.autodetection.names=com.my.package.InheritClassTestCheckExtension\r\n\r\nBut this doesnt work (It&#39;s not even entering the method beforeEach). I&#39;m in the correct way? Or what can I use to do it?","title":"How do a check previous a test execution in jUnit 5?","body":"<p>I need do a validation before execute many test's in a Spring Boot app, with jUnit 5. Basically I need check if my test have a superclass (because we preload context there). I dont want to edit every test else do something that allows me to check before running each test. I did something like this:</p>\n<pre><code>public class InheritClassTestCheckExtension implements TestTemplateInvocationContextProvider, BeforeEachCallback {\n\n@Override\npublic void beforeEach(ExtensionContext context) throws Exception {\n    Class&lt;?&gt; superClass = context.getRequiredTestClass().getSuperclass();\n    String listClasses = &quot;&quot;;\n    if (superClass doesnt exists or is object, throw a exception) {\n        throw new Exception(&quot;Need to inherit from class A,B or C&quot;);\n   } else { \n       Continue to the test's\n   }\n}\n</code></pre>\n<p>I have this in my junit-platform.properties</p>\n<pre><code>junit.jupiter.extensions.autodetection.enabled=true\njunit.jupiter.extensions.autodetection.names=com.my.package.InheritClassTestCheckExtension\n</code></pre>\n<p>But this doesnt work (It's not even entering the method beforeEach). I'm in the correct way? Or what can I use to do it?</p>\n"},{"tags":["java","netbeans","deployment","tomee-8"],"answers":[{"tags":[],"owner":{"account_id":16816047,"reputation":1,"user_id":12157822,"display_name":"YuanJhen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1570164757,"creation_date":1570164757,"answer_id":58230118,"question_id":58215599,"body_markdown":"&gt; \r\nThis problem only occurs when Tomee is running as a Windows service.&lt;br&gt;\r\nI tested version 7.0.4~8.0.0 to get the following conclusions.&lt;br&gt;&lt;br&gt;\r\nThe Tomee runs the service with the LocalSystem account before version 7.0.6.&lt;br&gt;\r\nStarting with version 7.0.6, the service is run with the LocalService account, so that the permissions are insufficient.&lt;br&gt;&lt;br&gt;\r\n**The following two ways can solve the issue:**&lt;br&gt;\r\n - Give the LocalService account access to the directory `AppData\\Local\\Temp\\`.&lt;br&gt;\r\n - Specifying the Tomee runs the service with the LocalSystem account when installing the service.&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;\r\n`service install %serviceName% --service-user LocalSystem `\r\n&lt;br&gt;&lt;br&gt;","title":"netbeans unable to copy context xml file from temp folder to tomee&#39;s localhost when deploy. FileNotFoundException(access denied)","body":"<blockquote>\n  <p>This problem only occurs when Tomee is running as a Windows service.<br>\n  I tested version 7.0.4~8.0.0 to get the following conclusions.<br><br>\n  The Tomee runs the service with the LocalSystem account before version 7.0.6.<br>\n  Starting with version 7.0.6, the service is run with the LocalService account, so that the permissions are insufficient.<br><br>\n  <strong>The following two ways can solve the issue:</strong><br>\n   - Give the LocalService account access to the directory <code>AppData\\Local\\Temp\\</code>.<br>\n   - Specifying the Tomee runs the service with the LocalSystem account when installing the service.<br>\n  &nbsp;&nbsp;\n  <code>service install %serviceName% --service-user LocalSystem</code>\n  <br><br></p>\n</blockquote>\n"}],"owner":{"account_id":16816047,"reputation":1,"user_id":12157822,"display_name":"YuanJhen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58230118,"answer_count":1,"score":0,"last_activity_date":1690581059,"creation_date":1570092956,"question_id":58215599,"body_markdown":"&lt;b&gt;\r\nnetbeans unable to copy context `xml` file from `AppData\\Local\\Temp\\` folder to `tomee`&#39;s `conf\\Catalina\\localhost` when deploy.\r\n&lt;/b&gt;\r\n\r\nalready tried：\r\n\r\n    deploy to tomee 7.0.X is fine but tomee 8.0.0 fail.\r\n\r\n\r\nfatal error in `stderr.log`：\r\n\r\n&gt; 03-Oct-2019 16:31:22.358 fatal [http-nio-9200-exec-6]\r\n&gt; org.apache.catalina.startup.ExpandWar.copy Error copying\r\n&gt; [C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml] to\r\n&gt; [D:\\Tomee\\apache-tomee-plus-8.0.0\\conf\\Catalina\\localhost\\myApp.xml]\r\n&gt; \tjava.io.FileNotFoundException:\r\n&gt; C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml (Access\r\n&gt; is denied.) \t\tat java.io.FileInputStream.open0(Native Method) \t\tat\r\n&gt; java.io.FileInputStream.open(FileInputStream.java:195) \t\tat\r\n&gt; java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138) \t\tat\r\n&gt; org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:276)","title":"netbeans unable to copy context xml file from temp folder to tomee&#39;s localhost when deploy. FileNotFoundException(access denied)","body":"<p><b>\nnetbeans unable to copy context <code>xml</code> file from <code>AppData\\Local\\Temp\\</code> folder to <code>tomee</code>'s <code>conf\\Catalina\\localhost</code> when deploy.\n</b></p>\n\n<p>already tried：</p>\n\n<pre><code>deploy to tomee 7.0.X is fine but tomee 8.0.0 fail.\n</code></pre>\n\n<p>fatal error in <code>stderr.log</code>：</p>\n\n<blockquote>\n  <p>03-Oct-2019 16:31:22.358 fatal [http-nio-9200-exec-6]\n  org.apache.catalina.startup.ExpandWar.copy Error copying\n  [C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml] to\n  [D:\\Tomee\\apache-tomee-plus-8.0.0\\conf\\Catalina\\localhost\\myApp.xml]\n    java.io.FileNotFoundException:\n  C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml (Access\n  is denied.)       at java.io.FileInputStream.open0(Native Method)         at\n  java.io.FileInputStream.open(FileInputStream.java:195)        at\n  java.io.FileInputStream.(FileInputStream.java:138)      at\n  org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:276)</p>\n</blockquote>\n"},{"tags":["java","android","themoviedb-api"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":1,"creation_date":1599634608,"post_id":63806137,"comment_id":112829863,"body_markdown":"&quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;, could be the image name which needs to be appended after your server path may be. You can clarify this from the recruiter itself.","body":"&quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;, could be the image name which needs to be appended after your server path may be. You can clarify this from the recruiter itself."},{"owner":{"account_id":17607265,"reputation":59,"user_id":12776090,"display_name":"Abhishek Upadhyay"},"score":0,"creation_date":1599634835,"post_id":63806137,"comment_id":112829949,"body_markdown":"@Astha No that didn&#39;t happened.","body":"@Astha No that didn&#39;t happened."}],"answers":[{"tags":[],"owner":{"account_id":8550429,"reputation":104,"user_id":6407505,"display_name":"Jigar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599635658,"creation_date":1599635658,"answer_id":63806507,"question_id":63806137,"body_markdown":"You can Use glide library to fetch and display image from the server. check below URL. &lt;br&gt;\r\n-- https://bumptech.github.io/glide/\r\n     contains how to use glide. &lt;br&gt;\r\n   \r\n\r\n     Glide\r\n            .with(may be context)\r\n            .load(url)\r\n            .into(your Image View);\r\n\r\n\r\n\r\n","title":"How to fetch images from response of themoviedb api","body":"<p>You can Use glide library to fetch and display image from the server. check below URL. <br>\n-- <a href=\"https://bumptech.github.io/glide/\" rel=\"nofollow noreferrer\">https://bumptech.github.io/glide/</a>\ncontains how to use glide. <br></p>\n<pre><code> Glide\n        .with(may be context)\n        .load(url)\n        .into(your Image View);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1599636276,"creation_date":1599635872,"answer_id":63806556,"question_id":63806137,"body_markdown":"As per the [ the movie db doc][1], it&#39;s in the following format:-\r\n\r\n    http://image.tmdb.org/t/p/w500/your_poster_path\r\n\r\n(Taking poster path from your question, now you can see image by pasting this in browser as URL - http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg )\r\n\r\nEither use Glide or picasso to show it by following other answers.\r\n\r\n\r\n  [1]: https://developers.themoviedb.org/3/getting-started/images","title":"How to fetch images from response of themoviedb api","body":"<p>As per the <a href=\"https://developers.themoviedb.org/3/getting-started/images\" rel=\"noreferrer\"> the movie db doc</a>, it's in the following format:-</p>\n<pre><code>http://image.tmdb.org/t/p/w500/your_poster_path\n</code></pre>\n<p>(Taking poster path from your question, now you can see image by pasting this in browser as URL - <a href=\"http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg\" rel=\"noreferrer\">http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg</a> )</p>\n<p>Either use Glide or picasso to show it by following other answers.</p>\n"}],"owner":{"account_id":17607265,"reputation":59,"user_id":12776090,"display_name":"Abhishek Upadhyay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13332,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1599643273,"answer_count":2,"score":2,"last_activity_date":1690580107,"creation_date":1599633866,"question_id":63806137,"body_markdown":"I&#39;m getting the following JSON response from themoviedb API:\r\n```\r\n{\r\n         &quot;popularity&quot;:1640.159,\r\n         &quot;vote_count&quot;:32,\r\n         &quot;video&quot;:false,\r\n         &quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;,\r\n         &quot;id&quot;:734309,\r\n         &quot;adult&quot;:false,\r\n         &quot;backdrop_path&quot;:&quot;\\/7fvdg211A2L0mHddvzyArRuRalp.jpg&quot;,\r\n         &quot;original_language&quot;:&quot;en&quot;,\r\n         &quot;original_title&quot;:&quot;Santana&quot;,\r\n         &quot;genre_ids&quot;:[\r\n            28\r\n         ],\r\n         &quot;title&quot;:&quot;Santana&quot;,\r\n         &quot;vote_average&quot;:6.3,\r\n         &quot;overview&quot;:&quot;Two brothers — one a narcotics agent and the other a general — finally discover the identity of the drug lord who murdered their parents decades ago. They may kill each other before capturing the bad guys.&quot;,\r\n         &quot;release_date&quot;:&quot;2020-08-28&quot;\r\n      }\r\n```\r\nI have to use `poster_path` but I&#39;m unable to understand it as it&#39;s just the image name but not any path. I&#39;ve no idea how can I get the image from this `poster_path` string. \r\n\r\nPlease help me! When I paste the url on Google I got nothing.","title":"How to fetch images from response of themoviedb api","body":"<p>I'm getting the following JSON response from themoviedb API:</p>\n<pre><code>{\n         &quot;popularity&quot;:1640.159,\n         &quot;vote_count&quot;:32,\n         &quot;video&quot;:false,\n         &quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;,\n         &quot;id&quot;:734309,\n         &quot;adult&quot;:false,\n         &quot;backdrop_path&quot;:&quot;\\/7fvdg211A2L0mHddvzyArRuRalp.jpg&quot;,\n         &quot;original_language&quot;:&quot;en&quot;,\n         &quot;original_title&quot;:&quot;Santana&quot;,\n         &quot;genre_ids&quot;:[\n            28\n         ],\n         &quot;title&quot;:&quot;Santana&quot;,\n         &quot;vote_average&quot;:6.3,\n         &quot;overview&quot;:&quot;Two brothers — one a narcotics agent and the other a general — finally discover the identity of the drug lord who murdered their parents decades ago. They may kill each other before capturing the bad guys.&quot;,\n         &quot;release_date&quot;:&quot;2020-08-28&quot;\n      }\n</code></pre>\n<p>I have to use <code>poster_path</code> but I'm unable to understand it as it's just the image name but not any path. I've no idea how can I get the image from this <code>poster_path</code> string.</p>\n<p>Please help me! When I paste the url on Google I got nothing.</p>\n"},{"tags":["java","xhtml"],"answers":[{"tags":[],"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690516068,"creation_date":1690516068,"answer_id":76784730,"question_id":76784649,"body_markdown":"In your index.html the offending line is:\r\n\r\n    &lt;p&gt;You have selected #{selectionsBean.Size} book(s).\r\n\r\n**selectionsBean.Size** will throw an error because there is no property called &quot;Size&quot; defined in your SelectionsBean class.\r\n\r\nLooking at the sentence, I assume you are trying to show the number of selections made by the customer so instead use:\r\n\r\n    &lt;p&gt;You have selected #{selectionsBean.selections.size()} book(s).\r\n\r\nWhy did that work? Well, in your SelectionsBean class you have defined this property called &quot;selections&quot;:\r\n\r\n    private List&lt;String&gt; selections;\r\n\r\n&quot;selections&quot; is a List type that has inbuilt methods like Size() that returns the number of elements in that list, so you can use that. Be sure to check for nulls because your selections variable is only initialized in your constructor SelectionsBean().","title":"Shopping Cart Application using Java","body":"<p>In your index.html the offending line is:</p>\n<pre><code>&lt;p&gt;You have selected #{selectionsBean.Size} book(s).\n</code></pre>\n<p><strong>selectionsBean.Size</strong> will throw an error because there is no property called &quot;Size&quot; defined in your SelectionsBean class.</p>\n<p>Looking at the sentence, I assume you are trying to show the number of selections made by the customer so instead use:</p>\n<pre><code>&lt;p&gt;You have selected #{selectionsBean.selections.size()} book(s).\n</code></pre>\n<p>Why did that work? Well, in your SelectionsBean class you have defined this property called &quot;selections&quot;:</p>\n<pre><code>private List&lt;String&gt; selections;\n</code></pre>\n<p>&quot;selections&quot; is a List type that has inbuilt methods like Size() that returns the number of elements in that list, so you can use that. Be sure to check for nulls because your selections variable is only initialized in your constructor SelectionsBean().</p>\n"}],"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76784730,"answer_count":1,"score":0,"last_activity_date":1690579729,"creation_date":1690514372,"question_id":76784649,"body_markdown":"I&#39;m working on a Java challenge. I want to create an application that displays a list of books as an h:selectOneRadio element. When the user submits the form, store the user’s selection in a @SessionScoped managed bean. Allow the user to return to the list of books and make additional selections. Provide a link to view the shopping cart. On the shopping cart page, display the list of selections the user made, the price of each book, and the total of all books in the cart.\r\n\r\nThis is what I have so far:\r\n\r\n    SelectionsBean.java\r\n    \r\n    package sessiontracking;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.SessionScoped;\r\n    \r\n    @ManagedBean( name=&quot;selectionsBean&quot; )\r\n    @SessionScoped\r\n    public class SelectionsBean implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private final Map&lt;String, Double&gt; pricesMap;\r\n    \r\n        private List&lt;String&gt; selections;\r\n    \r\n        public SelectionsBean() {\r\n            pricesMap = new HashMap&lt;&gt;();\r\n            pricesMap.put(&quot;Java How to Program&quot;, 139.95);\r\n            pricesMap.put(&quot;C++ How to Program&quot;, 119.95);\r\n            pricesMap.put(&quot;iPhone for Programmers: An App-Driven Approach&quot;, 49.95);\r\n            pricesMap.put(&quot;Android for Programmers: An App-Driven Approach&quot;, 49.95);\r\n    \r\n            // initialize selections list\r\n            selections = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public void addToCart(String selection) {\r\n            selections.add(selection);\r\n        }\r\n    \r\n        public void removeFromCart(String selection) {\r\n            selections.remove(selection);\r\n        }\r\n    \r\n        public double getTotalPrice() {\r\n            double totalPrice = 0.0;\r\n            for (String selection : selections) {\r\n                totalPrice += pricesMap.get(selection);\r\n            }\r\n            return totalPrice;\r\n        }\r\n    \r\n        public List&lt;String&gt; getSelections() {\r\n            return selections;\r\n        }\r\n    \r\n        public void setSelections(List&lt;String&gt; selections) {\r\n            this.selections = selections;\r\n      \r\n    }\r\n\r\n\r\n    index.html\r\n    \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- index.xhtml --&gt;\r\n    &lt;!-- Allow the user to select a book --&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n    &lt;h:head&gt;\r\n    &lt;title&gt;Book Selection Page&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    &lt;h1&gt;Welcome to the Bookstore!&lt;/h1&gt;\r\n    &lt;p&gt;You have selected #{selectionsBean.Size} book(s).\r\n    &lt;/p&gt;\r\n    &lt;h3&gt;Select a Book and Press Submit&lt;/h3&gt;\r\n    &lt;h:form&gt;\r\n    &lt;h:selectOneRadio id=&quot;bookSelectOneRadio&quot; required=&quot;true&quot;\r\n    requiredMessage=&quot;Please choose a book, then press Submit&quot;\r\n    value=&quot;#{selectionsBean.selectedBook}&quot;&gt;\r\n    &lt;f:selectItem itemValue=&quot;java&quot; itemLabel=&quot;Java How to Program&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;cpp&quot; itemLabel=&quot;C++ How to Program&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;iphone&quot;\r\n    itemLabel=&quot;iPhone for Programmers: An App-Driven Approach&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;android&quot;\r\n    itemLabel=&quot;Android for Programmers: An App-Driven Approach&quot;/&gt;\r\n    &lt;/h:selectOneRadio&gt;\r\n    &lt;p&gt;&lt;h:commandButton value=&quot;Submit&quot;/&gt;&lt;/p&gt;\r\n    &lt;/h:form&gt;\r\n    &lt;p&gt;&lt;h:outputLink value=&quot;cart.xhtml&quot;&gt;\r\n    Click here to view your shopping cart\r\n    &lt;/h:outputLink&gt;&lt;/p&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\n    cart.xhtml\r\n    \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- cart.xhtml --&gt;\r\n    &lt;!-- Display the user&#39;s shopping cart --&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n    &lt;h:head&gt;\r\n    &lt;title&gt;Shopping Cart&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    &lt;h1&gt;Shopping Cart&lt;/h1&gt;\r\n    &lt;h:dataTable value=&quot;#{cartBean.cart}&quot; var=&quot;item&quot;&gt;\r\n    &lt;h:column&gt;\r\n    &lt;f:facet name=&quot;header&quot;&gt;Book Title&lt;/f:facet&gt;\r\n    #{item.title}\r\n    &lt;/h:column&gt;\r\n    &lt;h:column&gt;\r\n    &lt;f:facet name=&quot;header&quot;&gt;Price&lt;/f:facet&gt;\r\n    #{item.price}\r\n    &lt;/h:column&gt;\r\n    &lt;/h:dataTable&gt;\r\n    &lt;p&gt;Total price: #{cartBean.totalPrice}&lt;/p&gt;\r\n    &lt;p&gt;&lt;h:outputLink value=&quot;index.xhtml&quot;&gt;\r\n    Click here to continue shopping\r\n    &lt;/h:outputLink&gt;&lt;/p&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhenever I got to compile I this error: \r\n\r\n/index.xhtml: The class &#39;sessiontracking.SelectionsBean&#39; does not have the property &#39;Size&#39;.\r\n\r\nI&#39;m kind of stuck and don&#39;t see in the code how to resolve.\r\n\r\n","title":"Shopping Cart Application using Java","body":"<p>I'm working on a Java challenge. I want to create an application that displays a list of books as an h:selectOneRadio element. When the user submits the form, store the user’s selection in a @SessionScoped managed bean. Allow the user to return to the list of books and make additional selections. Provide a link to view the shopping cart. On the shopping cart page, display the list of selections the user made, the price of each book, and the total of all books in the cart.</p>\n<p>This is what I have so far:</p>\n<pre><code>SelectionsBean.java\n\npackage sessiontracking;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.SessionScoped;\n\n@ManagedBean( name=&quot;selectionsBean&quot; )\n@SessionScoped\npublic class SelectionsBean implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private final Map&lt;String, Double&gt; pricesMap;\n\n    private List&lt;String&gt; selections;\n\n    public SelectionsBean() {\n        pricesMap = new HashMap&lt;&gt;();\n        pricesMap.put(&quot;Java How to Program&quot;, 139.95);\n        pricesMap.put(&quot;C++ How to Program&quot;, 119.95);\n        pricesMap.put(&quot;iPhone for Programmers: An App-Driven Approach&quot;, 49.95);\n        pricesMap.put(&quot;Android for Programmers: An App-Driven Approach&quot;, 49.95);\n\n        // initialize selections list\n        selections = new ArrayList&lt;&gt;();\n    }\n\n    public void addToCart(String selection) {\n        selections.add(selection);\n    }\n\n    public void removeFromCart(String selection) {\n        selections.remove(selection);\n    }\n\n    public double getTotalPrice() {\n        double totalPrice = 0.0;\n        for (String selection : selections) {\n            totalPrice += pricesMap.get(selection);\n        }\n        return totalPrice;\n    }\n\n    public List&lt;String&gt; getSelections() {\n        return selections;\n    }\n\n    public void setSelections(List&lt;String&gt; selections) {\n        this.selections = selections;\n  \n}\n\n\nindex.html\n\n&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- index.xhtml --&gt;\n&lt;!-- Allow the user to select a book --&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://java.sun.com/jsf/html&quot;\nxmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\n&lt;h:head&gt;\n&lt;title&gt;Book Selection Page&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n&lt;h1&gt;Welcome to the Bookstore!&lt;/h1&gt;\n&lt;p&gt;You have selected #{selectionsBean.Size} book(s).\n&lt;/p&gt;\n&lt;h3&gt;Select a Book and Press Submit&lt;/h3&gt;\n&lt;h:form&gt;\n&lt;h:selectOneRadio id=&quot;bookSelectOneRadio&quot; required=&quot;true&quot;\nrequiredMessage=&quot;Please choose a book, then press Submit&quot;\nvalue=&quot;#{selectionsBean.selectedBook}&quot;&gt;\n&lt;f:selectItem itemValue=&quot;java&quot; itemLabel=&quot;Java How to Program&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;cpp&quot; itemLabel=&quot;C++ How to Program&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;iphone&quot;\nitemLabel=&quot;iPhone for Programmers: An App-Driven Approach&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;android&quot;\nitemLabel=&quot;Android for Programmers: An App-Driven Approach&quot;/&gt;\n&lt;/h:selectOneRadio&gt;\n&lt;p&gt;&lt;h:commandButton value=&quot;Submit&quot;/&gt;&lt;/p&gt;\n&lt;/h:form&gt;\n&lt;p&gt;&lt;h:outputLink value=&quot;cart.xhtml&quot;&gt;\nClick here to view your shopping cart\n&lt;/h:outputLink&gt;&lt;/p&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n\ncart.xhtml\n\n&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- cart.xhtml --&gt;\n&lt;!-- Display the user's shopping cart --&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://java.sun.com/jsf/html&quot;\nxmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\n&lt;h:head&gt;\n&lt;title&gt;Shopping Cart&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n&lt;h1&gt;Shopping Cart&lt;/h1&gt;\n&lt;h:dataTable value=&quot;#{cartBean.cart}&quot; var=&quot;item&quot;&gt;\n&lt;h:column&gt;\n&lt;f:facet name=&quot;header&quot;&gt;Book Title&lt;/f:facet&gt;\n#{item.title}\n&lt;/h:column&gt;\n&lt;h:column&gt;\n&lt;f:facet name=&quot;header&quot;&gt;Price&lt;/f:facet&gt;\n#{item.price}\n&lt;/h:column&gt;\n&lt;/h:dataTable&gt;\n&lt;p&gt;Total price: #{cartBean.totalPrice}&lt;/p&gt;\n&lt;p&gt;&lt;h:outputLink value=&quot;index.xhtml&quot;&gt;\nClick here to continue shopping\n&lt;/h:outputLink&gt;&lt;/p&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Whenever I got to compile I this error:</p>\n<p>/index.xhtml: The class 'sessiontracking.SelectionsBean' does not have the property 'Size'.</p>\n<p>I'm kind of stuck and don't see in the code how to resolve.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1507528517,"creation_date":1507528517,"answer_id":46639620,"question_id":46639058,"body_markdown":"Hierarchical data structures and subcollections are described in [the documentation][1].  A collection contains documents and a document may contain a subcollection.  The structure is always an alternating pattern of collections and documents.  The documentation contains this description of an example:\r\n\r\n&gt; Notice the alternating pattern of collections and documents. Your\r\n&gt; collections and documents must always follow this pattern. You cannot\r\n&gt; reference a collection in a collection or a document in a document.\r\n\r\nThus, a valid path to a collection will always have an odd number of segments;  a valid path to a document, an even number.  Since your code is trying to query a collection, the path length of four is invalid.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/data-model#hierarchical-data","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>Hierarchical data structures and subcollections are described in <a href=\"https://firebase.google.com/docs/firestore/data-model#hierarchical-data\" rel=\"noreferrer\">the documentation</a>.  A collection contains documents and a document may contain a subcollection.  The structure is always an alternating pattern of collections and documents.  The documentation contains this description of an example:</p>\n\n<blockquote>\n  <p>Notice the alternating pattern of collections and documents. Your\n  collections and documents must always follow this pattern. You cannot\n  reference a collection in a collection or a document in a document.</p>\n</blockquote>\n\n<p>Thus, a valid path to a collection will always have an odd number of segments;  a valid path to a document, an even number.  Since your code is trying to query a collection, the path length of four is invalid.</p>\n"},{"tags":[],"owner":{"account_id":5916217,"reputation":5793,"user_id":4654957,"accept_rate":50,"display_name":"Diego Ven&#226;ncio"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1690579718,"creation_date":1515349046,"answer_id":48140181,"question_id":46639058,"body_markdown":"Then you need replace it:\r\n\r\n    db.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;)...\r\n\r\nwith it:\r\n\r\n    db.collection(&quot;app&quot;).document(&quot;users&quot;).collection(uid).document(&quot;notifications&quot;)\r\n\r\nYou&#39;re welcome ;)\r\n\r\n--**UPDATE 2023**--\r\n\r\nIf you are using the new Firebase Modular, then remember about the reference:\r\n\r\nFirebase requires changing references: *&quot;collectionName&quot; / &quot;documentName&quot; / &quot;collectionName&quot; / &quot;documentId&quot;, etc.*\r\n\r\n    setDoc(doc(db, &quot;collectionName&quot;, userID, &quot;anotherCollectionName&quot;, documentID), ...\r\n\r\n[ref][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75843735/4654957","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>Then you need replace it:</p>\n<pre><code>db.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;)...\n</code></pre>\n<p>with it:</p>\n<pre><code>db.collection(&quot;app&quot;).document(&quot;users&quot;).collection(uid).document(&quot;notifications&quot;)\n</code></pre>\n<p>You're welcome ;)</p>\n<p>--<strong>UPDATE 2023</strong>--</p>\n<p>If you are using the new Firebase Modular, then remember about the reference:</p>\n<p>Firebase requires changing references: <em>&quot;collectionName&quot; / &quot;documentName&quot; / &quot;collectionName&quot; / &quot;documentId&quot;, etc.</em></p>\n<pre><code>setDoc(doc(db, &quot;collectionName&quot;, userID, &quot;anotherCollectionName&quot;, documentID), ...\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/75843735/4654957\">ref</a></p>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1549459969,"creation_date":1549459969,"answer_id":54554854,"question_id":46639058,"body_markdown":"You are missing collection reference.\r\ni.e db.collection(** This is getting null **).","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>You are missing collection reference.\ni.e db.collection(** This is getting null **).</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582889485,"creation_date":1582889485,"answer_id":60450847,"question_id":46639058,"body_markdown":"I&#39;ve encountered this issue when I provided a wrong entity_Id. \r\n\r\nInstead of `dojo/default/datasets/fe67ec58-6208-4234-a4ee-98c5dce4665f`, \r\nI&#39;ve provided `fe67ec58-6208-4234-a4ee-98c5dce4665f`and now is working fine.","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I've encountered this issue when I provided a wrong entity_Id. </p>\n\n<p>Instead of <code>dojo/default/datasets/fe67ec58-6208-4234-a4ee-98c5dce4665f</code>, \nI've provided <code>fe67ec58-6208-4234-a4ee-98c5dce4665f</code>and now is working fine.</p>\n"},{"tags":[],"owner":{"account_id":3543352,"reputation":39,"user_id":4649214,"display_name":"Georges Damien"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601994341,"creation_date":1601852551,"answer_id":64200679,"question_id":46639058,"body_markdown":"I&#39;ve encountered this issue when I provided an entity_Id that contains the &quot;/&quot; character ( my value was N/A ) when i was trying to read documentReference (DocumentReference docRef2 = fireStoreDb.Collection(&quot;Ass&quot;).Document(ass.Tel.ToString())\r\n.Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);).\r\nHere, the value ve.Immatriculation equals to N/A, and that was the problem.","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I've encountered this issue when I provided an entity_Id that contains the &quot;/&quot; character ( my value was N/A ) when i was trying to read documentReference (DocumentReference docRef2 = fireStoreDb.Collection(&quot;Ass&quot;).Document(ass.Tel.ToString())\n.Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);).\nHere, the value ve.Immatriculation equals to N/A, and that was the problem.</p>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677325675,"creation_date":1677325675,"answer_id":75565185,"question_id":46639058,"body_markdown":"In my case collection name is empty was causing the crash\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;&quot;).add(taravih)","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>In my case collection name is empty was causing the crash</p>\n<pre><code>FirebaseFirestore.getInstance().collection(&quot;&quot;).add(taravih)\n</code></pre>\n"}],"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119133,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":46639620,"answer_count":6,"score":81,"last_activity_date":1690579718,"creation_date":1507524810,"question_id":46639058,"body_markdown":"I have the following code and getting an error : \r\n\r\n \r\n\r\n    Invalid collection reference. Collection references must have an odd number of segments\r\n\r\n**And the code :**\r\n\r\n    private void setAdapter() {\r\n    \t\tFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    \t\tdb.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;).get().addOnCompleteListener(task -&gt; {\r\n    \t\t\tif (task.isSuccessful()) {\r\n    \t\t\t\tfor (DocumentSnapshot document : task.getResult()) {\r\n    \t\t\t\t\tLog.d(&quot;FragmentNotifications&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tLog.w(&quot;FragmentNotifications&quot;, &quot;Error getting notifications.&quot;, task.getException());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I have the following code and getting an error : </p>\n\n<pre><code>Invalid collection reference. Collection references must have an odd number of segments\n</code></pre>\n\n<p><strong>And the code :</strong></p>\n\n<pre><code>private void setAdapter() {\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        db.collection(\"app/users/\" + uid + \"/notifications\").get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (DocumentSnapshot document : task.getResult()) {\n                    Log.d(\"FragmentNotifications\", document.getId() + \" =&gt; \" + document.getData());\n                }\n            } else {\n                Log.w(\"FragmentNotifications\", \"Error getting notifications.\", task.getException());\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","image-load"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1690579071,"post_id":76791068,"comment_id":135378503,"body_markdown":"*the image is in src folder of the project* - the image should be contained in a directory found on your classpath. You should NOT use ImageIcon to read the image. Instead you should be using `ImageIO`. You will get an Exception when the image is not found.","body":"<i>the image is in src folder of the project</i> - the image should be contained in a directory found on your classpath. You should NOT use ImageIcon to read the image. Instead you should be using <code>ImageIO</code>. You will get an Exception when the image is not found."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690591360,"post_id":76791068,"comment_id":135379498,"body_markdown":"Many IDEs and build systems will automatically incorporate resources in the `src` file into the resulting &quot;bundle&quot;. This means they are no longer accessible as &quot;files&quot; (which `ImageIcon(String)` is expecting). Instead you need to use `Class#getResource` to obtain a `URL` reference to them","body":"Many IDEs and build systems will automatically incorporate resources in the <code>src</code> file into the resulting &quot;bundle&quot;. This means they are no longer accessible as &quot;files&quot; (which <code>ImageIcon(String)</code> is expecting). Instead you need to use <code>Class#getResource</code> to obtain a <code>URL</code> reference to them"}],"owner":{"account_id":29113913,"reputation":1,"user_id":22303097,"display_name":"SpyrosGew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690579098,"answer_count":0,"score":0,"last_activity_date":1690579155,"creation_date":1690578989,"question_id":76791068,"body_markdown":"i am trying to load an image to a JButton for display but it doesnt load the image is in src folder of the project and its the same type here is the code.\r\n\r\n\r\n```\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            ImageIcon icon = new ImageIcon(&quot;asa.jpg&quot;);\r\n\r\n            // Check if the image was loaded successfully\r\n            if (icon.getImageLoadStatus() == MediaTracker.COMPLETE) {\r\n                // Create a label with the loaded image\r\n                JLabel label = new JLabel(icon);\r\n\r\n                JFrame frame = new JFrame(&quot;Image Test&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(label);\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null); // Center the frame on the screen\r\n                frame.setVisible(true);\r\n            } else {\r\n                System.err.println(&quot;Error loading the image.&quot;);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n","title":"image not loading java","body":"<p>i am trying to load an image to a JButton for display but it doesnt load the image is in src folder of the project and its the same type here is the code.</p>\n<pre><code>\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            ImageIcon icon = new ImageIcon(&quot;asa.jpg&quot;);\n\n            // Check if the image was loaded successfully\n            if (icon.getImageLoadStatus() == MediaTracker.COMPLETE) {\n                // Create a label with the loaded image\n                JLabel label = new JLabel(icon);\n\n                JFrame frame = new JFrame(&quot;Image Test&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.getContentPane().add(label);\n                frame.pack();\n                frame.setLocationRelativeTo(null); // Center the frame on the screen\n                frame.setVisible(true);\n            } else {\n                System.err.println(&quot;Error loading the image.&quot;);\n            }\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1377517612,"post_id":18443039,"comment_id":27099867,"body_markdown":"Are you sure this is the code for sending the data? Looks like it receives something and prints it on `System.out`.","body":"Are you sure this is the code for sending the data? Looks like it receives something and prints it on <code>System.out</code>."},{"owner":{"account_id":3203718,"reputation":400,"user_id":2705230,"accept_rate":86,"display_name":"Daniel Mac"},"score":0,"creation_date":1377518015,"post_id":18443039,"comment_id":27100092,"body_markdown":"Looks abit weird to me. Do you want to communicate over a network connection between two java processes, or are you intending to use the loopback interface?","body":"Looks abit weird to me. Do you want to communicate over a network connection between two java processes, or are you intending to use the loopback interface?"},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":2,"creation_date":1377519053,"post_id":18443039,"comment_id":27100690,"body_markdown":"(off-topic) Java naming conventions are the classes are written as `UppercaseStartingCamelCase` and fields/variables are written as `lowercaseStartingCamelCase`. Consequently, you should name `Outdata` as `outData` and `Indata` and `inData`. Also, `In` should be `in` and `Out` should be `out`.","body":"(off-topic) Java naming conventions are the classes are written as <code>UppercaseStartingCamelCase</code> and fields/variables are written as <code>lowercaseStartingCamelCase</code>. Consequently, you should name <code>Outdata</code> as <code>outData</code> and <code>Indata</code> and <code>inData</code>. Also, <code>In</code> should be <code>in</code> and <code>Out</code> should be <code>out</code>."},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":2,"creation_date":1377520115,"post_id":18443039,"comment_id":27101302,"body_markdown":"So you expect &quot;Out.write(Outdata);&quot; to output in ISO 8583 format? But what sort of class is PrintWriter? If it is the usual java.io.PrintWriter then that has no ISO 8583 capability.","body":"So you expect &quot;Out.write(Outdata);&quot; to output in ISO 8583 format? But what sort of class is PrintWriter? If it is the usual java.io.PrintWriter then that has no ISO 8583 capability."}],"answers":[{"tags":[],"owner":{"account_id":2490995,"reputation":732,"user_id":2168435,"accept_rate":48,"display_name":"user2168435"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377682953,"creation_date":1377682953,"answer_id":18484429,"question_id":18443039,"body_markdown":"It turns out that the problem was that i had to write the output using a byte array of integers, this in turn shows in TCP viewer as Hex data, the next issue i faced was that any integer in the byte array over 128 was causing an overflow to by pass that i had to use the following methods\r\n\r\n    Socket server = new Socket(Config.getServerIP(), Config.getServerPort());\r\n    bytes = packData(bytes);\r\n\t\tserver.getOutputStream().write(bytes, 0, bytes.length);\r\n\r\nthen the packData method\r\n\r\n    static byte[] packData(byte[] data) {\r\n\t\tint len = data.length;\r\n\t\tbyte buf[] = new byte[len + 2];\r\n\t\tbuf[0] = (byte) (len &gt;&gt; 8 &amp; 255);\r\n\t\tbuf[1] = (byte) (len &amp; 255);\r\n\t\tSystem.arraycopy(data, 0, buf, 2, len);\r\n\t\treturn buf;\r\n\t}\r\n\r\nHope this helps someone","title":"java- Sending data over network for iso8583","body":"<p>It turns out that the problem was that i had to write the output using a byte array of integers, this in turn shows in TCP viewer as Hex data, the next issue i faced was that any integer in the byte array over 128 was causing an overflow to by pass that i had to use the following methods</p>\n\n<pre><code>Socket server = new Socket(Config.getServerIP(), Config.getServerPort());\nbytes = packData(bytes);\n    server.getOutputStream().write(bytes, 0, bytes.length);\n</code></pre>\n\n<p>then the packData method</p>\n\n<pre><code>static byte[] packData(byte[] data) {\n    int len = data.length;\n    byte buf[] = new byte[len + 2];\n    buf[0] = (byte) (len &gt;&gt; 8 &amp; 255);\n    buf[1] = (byte) (len &amp; 255);\n    System.arraycopy(data, 0, buf, 2, len);\n    return buf;\n}\n</code></pre>\n\n<p>Hope this helps someone</p>\n"}],"owner":{"account_id":2490995,"reputation":732,"user_id":2168435,"accept_rate":48,"display_name":"user2168435"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2690,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690578582,"creation_date":1377516567,"question_id":18443039,"body_markdown":"Im trying to send iso8583 data over a network connection, currently when i send the data it is showing in TCP viewer as one long string\r\n\r\nbut it should look like this \r\n\r\n    0000(0000)  30 38 30 30 82 38 00 00  00 00 00 00 04 00 00 00   0800.8..........\r\n    0016(0010)  00 00 00 00 30 38 32 34  31 30 35 31 30 30 31 33   ....082410510013\r\n    0032(0020)  35 31 30 30 31 33 35 31  30 30 30 38 32 34 33 30   5100135100082430\r\n    0048(0030)  31                                                 1\r\n\r\n\r\nmy code for sending the data\r\n\r\n    Socket plug = new Socket(Config.getServerIP(), Config.getServerPort());\r\n    DataInputStream In= new DataInputStream(plug.getInputStream());\r\n    PrintWriter Out = new PrintWriter(plug.getOutputStream());\r\n\t\t\r\n    String Indata, Outdata;\r\n    Outdata =&quot; &quot;;\r\n    Indata = &quot;NOTHING&quot;;\r\n\r\n    while (!Outdata.equals(&quot;Bye&quot;))\r\n    {\r\n      Outdata=message;\r\n      Out.write(Outdata);\r\n      Out.flush();\r\n\t\r\n      if (!Outdata.equals(&quot;Bye&quot;))\r\n      {\r\n        Indata=In.readLine();\r\n        System.out.println(Indata);\r\n      }\r\n    }\r\n    In.close();\r\n    Out.close();\r\n\r\nDoes the data have to be sent in a specific way?\r\nAny help much appreciated.\r\n","title":"java- Sending data over network for iso8583","body":"<p>Im trying to send iso8583 data over a network connection, currently when i send the data it is showing in TCP viewer as one long string</p>\n\n<p>but it should look like this </p>\n\n<pre><code>0000(0000)  30 38 30 30 82 38 00 00  00 00 00 00 04 00 00 00   0800.8..........\n0016(0010)  00 00 00 00 30 38 32 34  31 30 35 31 30 30 31 33   ....082410510013\n0032(0020)  35 31 30 30 31 33 35 31  30 30 30 38 32 34 33 30   5100135100082430\n0048(0030)  31                                                 1\n</code></pre>\n\n<p>my code for sending the data</p>\n\n<pre><code>Socket plug = new Socket(Config.getServerIP(), Config.getServerPort());\nDataInputStream In= new DataInputStream(plug.getInputStream());\nPrintWriter Out = new PrintWriter(plug.getOutputStream());\n\nString Indata, Outdata;\nOutdata =\" \";\nIndata = \"NOTHING\";\n\nwhile (!Outdata.equals(\"Bye\"))\n{\n  Outdata=message;\n  Out.write(Outdata);\n  Out.flush();\n\n  if (!Outdata.equals(\"Bye\"))\n  {\n    Indata=In.readLine();\n    System.out.println(Indata);\n  }\n}\nIn.close();\nOut.close();\n</code></pre>\n\n<p>Does the data have to be sent in a specific way?\nAny help much appreciated.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-aggregation","elasticsearch-painless"],"comments":[{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1666101133,"post_id":74111639,"comment_id":130852021,"body_markdown":"I am confused, could you give an example of what you ate trying to achieve ?","body":"I am confused, could you give an example of what you ate trying to achieve ?"}],"answers":[{"tags":[],"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666102067,"creation_date":1666101724,"answer_id":74112336,"question_id":74111639,"body_markdown":"Below is based on my understanding of your issue\r\n\r\nI have assumed below mapping for your document. \r\n````\r\nPUT index-name\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;nested_field&quot;:{\r\n        &quot;type&quot;: &quot;nested&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n````\r\nIn your question I believe nested_field is of type nested.\r\n\r\n**Sample Document**\r\n````\r\nPOST index-name/_doc\r\n{\r\n  &quot;nested_field&quot;: [\r\n    {\r\n      &quot;id&quot;: 11406,\r\n      &quot;lastFixed&quot;: 1666015888000\r\n    },\r\n    {\r\n      &quot;id&quot;: 11407,\r\n      &quot;lastFixed&quot;: 1666015888000\r\n    }\r\n  ]\r\n}\r\n````\r\nI am using [nested aggregation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-nested-aggregation.html) to access nested fields.\r\n\r\n**Query**\r\n````\r\n{\r\n  &quot;size&quot;:0,\r\n  &quot;aggs&quot;: {\r\n    &quot;nest-path-aggr-name&quot;: {\r\n      &quot;nested&quot;: {\r\n        &quot;path&quot;: &quot;nested_field&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;average_agg&quot;: {\r\n          &quot;avg&quot;: {\r\n            &quot;script&quot;: {\r\n              &quot;source&quot;: &quot;&quot;&quot;\r\n                    for(entry in params.entrySet())\r\n                    {\r\n                      if (entry.getKey() == doc[&#39;nested_field.id&#39;].value.toString())\r\n                      {\r\n                        return ( doc[&#39;nested_field.lastFixed&#39;].value -  entry.getValue())/ (1000*60*60); \r\n                      }\r\n                    }\r\n                      return 0;\r\n                  &quot;&quot;&quot;,\r\n              &quot;params&quot;: {\r\n                &quot;11406&quot;: 1614084531000,\r\n                &quot;11473&quot;: 1073523856000,\r\n                &quot;11549&quot;: 1447461154000,\r\n                &quot;43904&quot;: 1666015887000,\r\n                &quot;43905&quot;: 1666015887000,\r\n                &quot;43906&quot;: 1666015887000,\r\n                &quot;43907&quot;: 1666015887000,\r\n                &quot;43908&quot;: 1666015888000,\r\n                &quot;43909&quot;: 1666015888000,\r\n                &quot;43910&quot;: 1666015888000\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n````","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>Below is based on my understanding of your issue</p>\n<p>I have assumed below mapping for your document.</p>\n<pre><code>PUT index-name\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;nested_field&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>In your question I believe nested_field is of type nested.</p>\n<p><strong>Sample Document</strong></p>\n<pre><code>POST index-name/_doc\n{\n  &quot;nested_field&quot;: [\n    {\n      &quot;id&quot;: 11406,\n      &quot;lastFixed&quot;: 1666015888000\n    },\n    {\n      &quot;id&quot;: 11407,\n      &quot;lastFixed&quot;: 1666015888000\n    }\n  ]\n}\n</code></pre>\n<p>I am using <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-nested-aggregation.html\" rel=\"nofollow noreferrer\">nested aggregation</a> to access nested fields.</p>\n<p><strong>Query</strong></p>\n<pre><code>{\n  &quot;size&quot;:0,\n  &quot;aggs&quot;: {\n    &quot;nest-path-aggr-name&quot;: {\n      &quot;nested&quot;: {\n        &quot;path&quot;: &quot;nested_field&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;average_agg&quot;: {\n          &quot;avg&quot;: {\n            &quot;script&quot;: {\n              &quot;source&quot;: &quot;&quot;&quot;\n                    for(entry in params.entrySet())\n                    {\n                      if (entry.getKey() == doc['nested_field.id'].value.toString())\n                      {\n                        return ( doc['nested_field.lastFixed'].value -  entry.getValue())/ (1000*60*60); \n                      }\n                    }\n                      return 0;\n                  &quot;&quot;&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29112951,"reputation":1,"user_id":22302356,"display_name":"galdron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690577546,"creation_date":1690566850,"answer_id":76790054,"question_id":74111639,"body_markdown":"I was just trying to solve this problem too. If I understand you correctly, you would like to use a value returned from the document as the &quot;key&quot; for the hash you have created in params. I think the `params.get()` function might be what you are looking for.\r\n\r\nI also changed the script language to `&quot;painless&quot;`. This shouldn&#39;t cause any conflicts with the code, but it does enable the two functions that I used.\r\n\r\nHere is the link to the Elasticsearch example that uses `params.get()`:\r\n[https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax][1]\r\n\r\nI lost the documentation for `int.toString()`, but I tested it and it works as expected.\r\n\r\n```\r\n&quot;script&quot;: {\r\n              &quot;source&quot;: &quot;(doc[&#39;lastFixed&#39;] - params.get(doc[&#39;id&#39;].toString()))/ (1000*60*60)&quot;,\r\n              &quot;lang&quot;: &quot;painless&quot;,\r\n              &quot;params&quot;: {\r\n                &quot;11406&quot;: 1614084531000,\r\n                &quot;11473&quot;: 1073523856000,\r\n                &quot;11549&quot;: 1447461154000,\r\n                &quot;43904&quot;: 1666015887000,\r\n                &quot;43905&quot;: 1666015887000,\r\n                &quot;43906&quot;: 1666015887000,\r\n                &quot;43907&quot;: 1666015887000,\r\n                &quot;43908&quot;: 1666015888000,\r\n                &quot;43909&quot;: 1666015888000,\r\n                &quot;43910&quot;: 1666015888000\r\n                }\r\n            }\r\n```\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>I was just trying to solve this problem too. If I understand you correctly, you would like to use a value returned from the document as the &quot;key&quot; for the hash you have created in params. I think the <code>params.get()</code> function might be what you are looking for.</p>\n<p>I also changed the script language to <code>&quot;painless&quot;</code>. This shouldn't cause any conflicts with the code, but it does enable the two functions that I used.</p>\n<p>Here is the link to the Elasticsearch example that uses <code>params.get()</code>:\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax</a></p>\n<p>I lost the documentation for <code>int.toString()</code>, but I tested it and it works as expected.</p>\n<pre><code>&quot;script&quot;: {\n              &quot;source&quot;: &quot;(doc['lastFixed'] - params.get(doc['id'].toString()))/ (1000*60*60)&quot;,\n              &quot;lang&quot;: &quot;painless&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690577546,"creation_date":1666098943,"question_id":74111639,"body_markdown":"I am passing params map in the painless script, that map is type of `&lt;String, Long&gt;`.\r\nThe key of the map defines the `id` and the value defines the `foundDate` in epoch Long.\r\n\r\nThe elastic Document have the raw structure like this :\r\n\r\n    doc:{\r\n         [ &quot;id&quot;:11406, // type:Long\r\n          &quot;lastFixed&quot;: 1666015888000 // type epoch millis\r\n         ]  // ...mutiple ids and their lastFixed Dates\r\n    }\r\n\r\nI have calculate the average difference between the `foundDate` and `lastFixed` (both are in epoch).\r\n\r\nI have build the ES Painless script as below:\r\n\r\n    &quot;script&quot;: {\r\n                  &quot;source&quot;: &quot;(doc[&#39;lastFixed&#39;] - params[doc[&#39;id&#39;]] )/ (1000*60*60)&quot;,\r\n                  &quot;lang&quot;: &quot;expression&quot;,\r\n                  &quot;params&quot;: {\r\n                    &quot;11406&quot;: 1614084531000,\r\n                    &quot;11473&quot;: 1073523856000,\r\n                    &quot;11549&quot;: 1447461154000,\r\n                    &quot;43904&quot;: 1666015887000,\r\n                    &quot;43905&quot;: 1666015887000,\r\n                    &quot;43906&quot;: 1666015887000,\r\n                    &quot;43907&quot;: 1666015887000,\r\n                    &quot;43908&quot;: 1666015888000,\r\n                    &quot;43909&quot;: 1666015888000,\r\n                    &quot;43910&quot;: 1666015888000\r\n                    }\r\n                }\r\n\r\nFor nesting on the array of `id` &amp; `lastFound` date I am using `nest-path-aggr-name` i.e. the nested path.\r\n\r\nI want to pass the dynamic value in the params map as it will give the `foundDate` from the map for the same `id` in the Elasticsearch document. \r\n\r\nBut I am getting the parsing error from ES. I have tired with `param.doc[&#39;id&#39;]` and `param[]` but both are falling and giving parsing error.\r\n\r\nWhat is the correct way to pass the dynamic value in params map. \r\n\r\n","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>I am passing params map in the painless script, that map is type of <code>&lt;String, Long&gt;</code>.\nThe key of the map defines the <code>id</code> and the value defines the <code>foundDate</code> in epoch Long.</p>\n<p>The elastic Document have the raw structure like this :</p>\n<pre><code>doc:{\n     [ &quot;id&quot;:11406, // type:Long\n      &quot;lastFixed&quot;: 1666015888000 // type epoch millis\n     ]  // ...mutiple ids and their lastFixed Dates\n}\n</code></pre>\n<p>I have calculate the average difference between the <code>foundDate</code> and <code>lastFixed</code> (both are in epoch).</p>\n<p>I have build the ES Painless script as below:</p>\n<pre><code>&quot;script&quot;: {\n              &quot;source&quot;: &quot;(doc['lastFixed'] - params[doc['id']] )/ (1000*60*60)&quot;,\n              &quot;lang&quot;: &quot;expression&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n                }\n            }\n</code></pre>\n<p>For nesting on the array of <code>id</code> &amp; <code>lastFound</code> date I am using <code>nest-path-aggr-name</code> i.e. the nested path.</p>\n<p>I want to pass the dynamic value in the params map as it will give the <code>foundDate</code> from the map for the same <code>id</code> in the Elasticsearch document.</p>\n<p>But I am getting the parsing error from ES. I have tired with <code>param.doc['id']</code> and <code>param[]</code> but both are falling and giving parsing error.</p>\n<p>What is the correct way to pass the dynamic value in params map.</p>\n"},{"tags":["java","maven","intellij-idea","settings"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1500043231,"post_id":45105499,"comment_id":77182522,"body_markdown":"[Check this answer](https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000125290-Indexing-https-plugins-gradle-org-m2?page=1#community_comment_115000160950).","body":"<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000125290-Indexing-https-plugins-gradle-org-m2?page=1#community_comment_115000160950\" rel=\"nofollow noreferrer\">Check this answer</a>."},{"owner":{"account_id":4065181,"reputation":1925,"user_id":3340407,"accept_rate":64,"display_name":"jonua"},"score":1,"creation_date":1500043878,"post_id":45105499,"comment_id":77183002,"body_markdown":"I was research google pages before asking my question. I was found this page, but it&#39;s doesn&#39;t help me","body":"I was research google pages before asking my question. I was found this page, but it&#39;s doesn&#39;t help me"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500043915,"post_id":45105499,"comment_id":77183032,"body_markdown":"What help are you looking for? Your repository doesn&#39;t support indexing, therefore the only option is to disable the notification.","body":"What help are you looking for? Your repository doesn&#39;t support indexing, therefore the only option is to disable the notification."}],"answers":[{"tags":[],"owner":{"account_id":2586682,"reputation":46,"user_id":2242239,"display_name":"BobTheShrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572362960,"creation_date":1572362960,"answer_id":58610581,"question_id":45105499,"body_markdown":"Have you tried bumping the memory for the importer then restarting the IntelliJ? (worked for me)\r\n\r\nBuild, Execution, Deployment → Build Tools → Maven → Importing → VM options for importer\r\n\r\n\r\nhttps://stackoverflow.com/a/42394767/2242239","title":"Resource nexus-maven-repository-index.properties does not exist","body":"<p>Have you tried bumping the memory for the importer then restarting the IntelliJ? (worked for me)</p>\n\n<p>Build, Execution, Deployment → Build Tools → Maven → Importing → VM options for importer</p>\n\n<p><a href=\"https://stackoverflow.com/a/42394767/2242239\">https://stackoverflow.com/a/42394767/2242239</a></p>\n"}],"owner":{"account_id":4065181,"reputation":1925,"user_id":3340407,"accept_rate":64,"display_name":"jonua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690577487,"creation_date":1500042710,"question_id":45105499,"body_markdown":"I&#39;m using a remote **artifactory** repo.\r\nI added this repo to settings.xml file which was placed in the `&lt;user&gt;/.m2/` folder:\r\n\r\n\r\n    &lt;settings&gt;\r\n        &lt;mirrors&gt;\r\n            &lt;mirror&gt;\r\n                &lt;id&gt;artifactory&lt;/id&gt;\r\n                &lt;name&gt;artifactory&lt;/name&gt;\r\n                &lt;url&gt;http://example.com/artifactory/repo&lt;/url&gt;\r\n                &lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;\r\n            &lt;/mirror&gt;\r\n        &lt;/mirrors&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;artifactory&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;snapshots&lt;/id&gt;\r\n                        &lt;name&gt;snapshots-only&lt;/name&gt;\r\n                        &lt;url&gt;http://example.com/artifactory/snapshots-only&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\nIn Idea settings in the &quot;Build Tools -&gt; Maven -&gt; Repositories&quot; page I see URL to my artifactory repo. But when I click on &quot;Update&quot; button, I get error message\r\n\r\n&gt;java.lang.RuntimeException: java.io.FileNotFoundException: Resource nexus-maven-repository-index.properties does not exist\r\n\r\nHow to solve this trouble?\r\n\r\nWindows 8  \r\nMaven 3.2.1  \r\nIdea 2017.1.5\r\n","title":"Resource nexus-maven-repository-index.properties does not exist","body":"<p>I'm using a remote <strong>artifactory</strong> repo.\nI added this repo to settings.xml file which was placed in the <code>&lt;user&gt;/.m2/</code> folder:</p>\n<pre><code>&lt;settings&gt;\n    &lt;mirrors&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;artifactory&lt;/id&gt;\n            &lt;name&gt;artifactory&lt;/name&gt;\n            &lt;url&gt;http://example.com/artifactory/repo&lt;/url&gt;\n            &lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;\n        &lt;/mirror&gt;\n    &lt;/mirrors&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;artifactory&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;snapshots&lt;/id&gt;\n                    &lt;name&gt;snapshots-only&lt;/name&gt;\n                    &lt;url&gt;http://example.com/artifactory/snapshots-only&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>In Idea settings in the &quot;Build Tools -&gt; Maven -&gt; Repositories&quot; page I see URL to my artifactory repo. But when I click on &quot;Update&quot; button, I get error message</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.io.FileNotFoundException: Resource nexus-maven-repository-index.properties does not exist</p>\n</blockquote>\n<p>How to solve this trouble?</p>\n<p>Windows 8<br />\nMaven 3.2.1<br />\nIdea 2017.1.5</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1575600583,"post_id":59206128,"comment_id":104630000,"body_markdown":"What specifically would you like clarification on? Have you found some resources explaining balanced binary trees which you didn&#39;t understand?","body":"What specifically would you like clarification on? Have you found some resources explaining balanced binary trees which you didn&#39;t understand?"},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575600832,"post_id":59206128,"comment_id":104630040,"body_markdown":"What does it mean exactly by &quot;properties&quot;?","body":"What does it mean exactly by &quot;properties&quot;?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1575601189,"post_id":59206128,"comment_id":104630126,"body_markdown":"That&#39;s a bit vague, it could be implementation details, the time complexity of the operations, the formal conditions defining whether a tree is &quot;balanced&quot; or not... I suggest investigating all of them, and if that kind of question comes up in an interview again, ask for clarification from the interviewer.","body":"That&#39;s a bit vague, it could be implementation details, the time complexity of the operations, the formal conditions defining whether a tree is &quot;balanced&quot; or not... I suggest investigating all of them, and if that kind of question comes up in an interview again, ask for clarification from the interviewer."},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575602491,"post_id":59206128,"comment_id":104630372,"body_markdown":"I see, well thank you so much for explaining this. I will definitely look into these to prepare in case it does pop up again. Will do, thank again!","body":"I see, well thank you so much for explaining this. I will definitely look into these to prepare in case it does pop up again. Will do, thank again!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1575604189,"post_id":59206128,"comment_id":104630749,"body_markdown":"There is only one &#39;property&#39; that may be different, and that is the difference between the heights under each node, which is constrained in the case of a balanced tree and unconstrained otherwise, and that in turn leads to a performance upper bound in the case of a balanced tree. It&#39;s a poorly phrased question, if that&#39;s what the interviewer really said.","body":"There is only one &#39;property&#39; that may be different, and that is the difference between the heights under each node, which is constrained in the case of a balanced tree and unconstrained otherwise, and that in turn leads to a performance upper bound in the case of a balanced tree. It&#39;s a poorly phrased question, if that&#39;s what the interviewer really said."},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575632603,"post_id":59206128,"comment_id":104641285,"body_markdown":"Thank you for the clarification! But yes, I believed so as well.","body":"Thank you for the clarification! But yes, I believed so as well."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1575603284,"creation_date":1575602947,"answer_id":59206446,"question_id":59206128,"body_markdown":"By &quot;properties&quot;, I believe the interviewer was asking about Big-O performance complexity.\r\n\r\nWith a balanced tree, access&lt;sup&gt;1&lt;/sup&gt; is _O(log n)_.  \r\nWith an unbalanced tree, access&lt;sup&gt;1&lt;/sup&gt; is _O(n)_ (worst case).\r\n\r\nThat is because an unbalanced tree built from sorted data is effectively the same as a linked list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe space complexity is the same for both types of trees.\r\n\r\n&lt;sup&gt;*1) Access covers lookup, insert, and remove operations.*&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tjkrr.png","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>By \"properties\", I believe the interviewer was asking about Big-O performance complexity.</p>\n\n<p>With a balanced tree, access<sup>1</sup> is <em>O(log n)</em>.<br>\nWith an unbalanced tree, access<sup>1</sup> is <em>O(n)</em> (worst case).</p>\n\n<p>That is because an unbalanced tree built from sorted data is effectively the same as a linked list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tjkrr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tjkrr.png\" alt=\"enter image description here\"></a></p>\n\n<p>The space complexity is the same for both types of trees.</p>\n\n<p><sup><em>1) Access covers lookup, insert, and remove operations.</em></sup></p>\n"},{"tags":[],"owner":{"account_id":8927384,"reputation":61,"user_id":6661231,"accept_rate":20,"display_name":"veron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690577486,"creation_date":1690575531,"answer_id":76790817,"question_id":59206128,"body_markdown":"I think Andreas&#39;s answer is on point, but you need to know the inner workings of a binary tree and linked list to appreciate it. Seems this is what the interviewer is quizzing you on: do you know what he&#39;s talking about when he brings up the structure, and can you comfortably walk through it to derive a reasonable answer? \r\n\r\nAnother way to think about the question is to shift the focus on the **balanced** tree. What makes it balanced? For each level, the height of the left subtree is the same as the right one, so every root at that level has either two nodes or one node. An unbalanced one is the opposite. \r\n\r\nNow that you understand what an unbalanced vs balanced tree looks like, you can start comparing their implementations. What is the implementation for binary search? You keep halving the tree until the target is located. As a pattern, every time you deal with a problem that involves halving the amount of inputs, that&#39;s log(N), since we&#39;re working with base of x, \r\n\r\n    log(aN) = x =&gt; a^x = N  \r\n\r\nSo the worst case runtime of a balanced search tree is O(log(N)), where the target is either not found or at the very last position, you&#39;re halving N inputs (log(N)).\r\n\r\nFor the *unbalanced* search tree, the worst case scenario is the same where the target is not found or at the very last position, but because the tree is unbalanced, instead of halving, you&#39;re going through every item in a linear way. Therefore, the runtime is O(N).\r\n\r\nWhat does the runtime of the unbalanced tree mean in relation to the balanced tree? If you consider the runtime order, O(N) is slower than O(logN), which is why a balanced tree is usually the better structure. \r\n","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>I think Andreas's answer is on point, but you need to know the inner workings of a binary tree and linked list to appreciate it. Seems this is what the interviewer is quizzing you on: do you know what he's talking about when he brings up the structure, and can you comfortably walk through it to derive a reasonable answer?</p>\n<p>Another way to think about the question is to shift the focus on the <strong>balanced</strong> tree. What makes it balanced? For each level, the height of the left subtree is the same as the right one, so every root at that level has either two nodes or one node. An unbalanced one is the opposite.</p>\n<p>Now that you understand what an unbalanced vs balanced tree looks like, you can start comparing their implementations. What is the implementation for binary search? You keep halving the tree until the target is located. As a pattern, every time you deal with a problem that involves halving the amount of inputs, that's log(N), since we're working with base of x,</p>\n<pre><code>log(aN) = x =&gt; a^x = N  \n</code></pre>\n<p>So the worst case runtime of a balanced search tree is O(log(N)), where the target is either not found or at the very last position, you're halving N inputs (log(N)).</p>\n<p>For the <em>unbalanced</em> search tree, the worst case scenario is the same where the target is not found or at the very last position, but because the tree is unbalanced, instead of halving, you're going through every item in a linear way. Therefore, the runtime is O(N).</p>\n<p>What does the runtime of the unbalanced tree mean in relation to the balanced tree? If you consider the runtime order, O(N) is slower than O(logN), which is why a balanced tree is usually the better structure.</p>\n"}],"owner":{"display_name":"user12489040"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7976,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1690577486,"creation_date":1575600431,"question_id":59206128,"body_markdown":"I am in need of some clarification, this may be a really stupid question and I have done research but cannot find a clear answer to my question. My question is, **What are some property differences between a balanced binary tree and an unbalanced binary tree?** I was asked this on an interview (java questions) and I had explained to the interviewer the differences however he mentioned that he wants to know the properties that differentiate between the two (binary tree - unbalanced vs balanced). \r\n\r\nIf someone can please clarify this for me, i&#39;d greatly appreciate it.  ","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>I am in need of some clarification, this may be a really stupid question and I have done research but cannot find a clear answer to my question. My question is, <strong>What are some property differences between a balanced binary tree and an unbalanced binary tree?</strong> I was asked this on an interview (java questions) and I had explained to the interviewer the differences however he mentioned that he wants to know the properties that differentiate between the two (binary tree - unbalanced vs balanced). </p>\n\n<p>If someone can please clarify this for me, i'd greatly appreciate it.  </p>\n"},{"tags":["java","spring","generics","resttemplate","type-erasure"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690576137,"creation_date":1690576137,"answer_id":76790854,"question_id":76790409,"body_markdown":"Java generics undergo type erasure, meaning they don&#39;t retain their generic type at runtime, so `CandyWrapper&lt;Skittle&gt;.class` just wont&#39; work.\r\n\r\nYou may try to use `ParameterizedTypeReference` from Spring instead, which provides an abstract class that you simply subclass to capture the generic type, like:\r\n```java\r\n@Bean\r\npublic CandyStore&lt;Skittle&gt; getSkittleCandyStore(\r\n    RestTemplate restTemplate,\r\n    String skittleUrl\r\n) {\r\n    return new CandyStore&lt;&gt;(\r\n        new ParameterizedTypeReference&lt;CandyWrapper&lt;Skittle&gt;&gt;() {},\r\n        restTemplate,\r\n        skittleUrl\r\n    );\r\n}\r\n```\r\n\r\nand `CandyStore`:\r\n```java\r\npublic class CandyStore&lt;T&gt; {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef;\r\n    String candyFactroyUrl;\r\n\r\n    public CandyStore(ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef, RestTemplate restTemplate, String factoryUrl) {\r\n        this.typeRef = typeRef;\r\n        this.restTemplate = restTemplate;\r\n        this.candyFactroyUrl = factoryUrl;\r\n    }\r\n\r\n    public CandyWrapper&lt;T&gt; getCandies(){\r\n        HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\r\n        ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\r\n        response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\r\n        return response.getBody();\r\n    }\r\n}\r\n```\r\nso please, make sure to update the `restTemplate.exchange` to use the new `typeRef` field instead, should looks like:\r\n```java\r\nresponse = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\r\n```\r\n\r\nRead more about `ParameterizedTypeReference`: \r\n- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\r\n- https://stackoverflow.com/questions/21987295/using-spring-resttemplate-in-generic-method-with-generic-parameter\r\n","title":"Passing a generic Type as responseType in RestTemplate.exchange() in Spring Rest Template","body":"<p>Java generics undergo type erasure, meaning they don't retain their generic type at runtime, so <code>CandyWrapper&lt;Skittle&gt;.class</code> just wont' work.</p>\n<p>You may try to use <code>ParameterizedTypeReference</code> from Spring instead, which provides an abstract class that you simply subclass to capture the generic type, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CandyStore&lt;Skittle&gt; getSkittleCandyStore(\n    RestTemplate restTemplate,\n    String skittleUrl\n) {\n    return new CandyStore&lt;&gt;(\n        new ParameterizedTypeReference&lt;CandyWrapper&lt;Skittle&gt;&gt;() {},\n        restTemplate,\n        skittleUrl\n    );\n}\n</code></pre>\n<p>and <code>CandyStore</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CandyStore&lt;T&gt; {\n\n    private final RestTemplate restTemplate;\n    private final ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef;\n    String candyFactroyUrl;\n\n    public CandyStore(ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef, RestTemplate restTemplate, String factoryUrl) {\n        this.typeRef = typeRef;\n        this.restTemplate = restTemplate;\n        this.candyFactroyUrl = factoryUrl;\n    }\n\n    public CandyWrapper&lt;T&gt; getCandies(){\n        HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\n        ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\n        response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\n        return response.getBody();\n    }\n}\n</code></pre>\n<p>so please, make sure to update the <code>restTemplate.exchange</code> to use the new <code>typeRef</code> field instead, should looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\n</code></pre>\n<p>Read more about <code>ParameterizedTypeReference</code>:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21987295/using-spring-resttemplate-in-generic-method-with-generic-parameter\">Using Spring RestTemplate in generic method with generic parameter</a></li>\n</ul>\n"}],"owner":{"account_id":4446831,"reputation":393,"user_id":3619889,"accept_rate":40,"display_name":"barun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76790854,"answer_count":1,"score":0,"last_activity_date":1690576137,"creation_date":1690570444,"question_id":76790409,"body_markdown":"I have a candy factory that exposed various endpoints to get candies in a bag.\r\n\r\ncandy such as \r\n\r\n1. name: m&amp;m ; endpoint: candy-factory/mnms\r\n2. name: skittle; endpoint: candy-factory/skittles\r\n3. name: smarties; endpoint: candy-factory/smarties\r\n\r\nApi response pattern is below\r\n\r\n```\r\n public class CandyWrapper &lt;T&gt; {\r\n  @JsonProperty(&quot;candies&quot;)\r\n  private List&lt;T&gt; candies;\r\n}\r\n```\r\nI have a generic service class which deals with getting the candies using Spring RestTemplate\r\n\r\n```\r\npublic class CandyStore&lt;T&gt; {\r\n\r\n  private final RestTemplate restTemplate;\r\n\r\n  private final Class&lt;CandyWrapper&lt;T&gt;&gt; type\r\n\r\n  String candyFactroyUrl;\r\n\r\n  \r\n  public CandyStore(Class&lt;CandyWrapper&lt;T&gt;&gt; type, RestTemplate restTemplate, String \r\n   factoryUrl) {\r\n    this.type = type;\r\n    ....\r\n    ....\r\n   }\r\n\r\n  public CandyWrapper&lt;T&gt; getCandies(){\r\n      \r\n       HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\r\n       ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\r\n       response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, type);\r\n       \r\n       return response.getBody();\r\n   }\r\n\r\n}\r\n```\r\n\r\nNow when I am going to configure the CandyStore service with the actual type of the Candy ; Unable to determine the candy type to pass in the service constructor.\r\n\r\n```\r\n@Bean()\r\npublic getSkittleCandyStore(RestTemplate restTemplate, String skittleUrl){\r\n\r\n  //TODO\r\n   get the class of type CandyWrapper&lt;Skittle&gt; so that I can pass it to the service \r\n   constructor. \r\n   \r\n   CandyWrapper&lt;Skittle&gt; instance = new CandyWrapper&lt;Skittle&gt;();\r\n\r\n   // instance.getClass() does not give the class conforming to the parameter below.\r\n  return new CandyStore(???, restTemplate, skittleUrl);\r\n\r\n}\r\n\r\n```\r\n\r\nAny help to clear up the generics concepts is appreciated. Thanks!!\r\n\r\n","title":"Passing a generic Type as responseType in RestTemplate.exchange() in Spring Rest Template","body":"<p>I have a candy factory that exposed various endpoints to get candies in a bag.</p>\n<p>candy such as</p>\n<ol>\n<li>name: m&amp;m ; endpoint: candy-factory/mnms</li>\n<li>name: skittle; endpoint: candy-factory/skittles</li>\n<li>name: smarties; endpoint: candy-factory/smarties</li>\n</ol>\n<p>Api response pattern is below</p>\n<pre><code> public class CandyWrapper &lt;T&gt; {\n  @JsonProperty(&quot;candies&quot;)\n  private List&lt;T&gt; candies;\n}\n</code></pre>\n<p>I have a generic service class which deals with getting the candies using Spring RestTemplate</p>\n<pre><code>public class CandyStore&lt;T&gt; {\n\n  private final RestTemplate restTemplate;\n\n  private final Class&lt;CandyWrapper&lt;T&gt;&gt; type\n\n  String candyFactroyUrl;\n\n  \n  public CandyStore(Class&lt;CandyWrapper&lt;T&gt;&gt; type, RestTemplate restTemplate, String \n   factoryUrl) {\n    this.type = type;\n    ....\n    ....\n   }\n\n  public CandyWrapper&lt;T&gt; getCandies(){\n      \n       HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\n       ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\n       response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, type);\n       \n       return response.getBody();\n   }\n\n}\n</code></pre>\n<p>Now when I am going to configure the CandyStore service with the actual type of the Candy ; Unable to determine the candy type to pass in the service constructor.</p>\n<pre><code>@Bean()\npublic getSkittleCandyStore(RestTemplate restTemplate, String skittleUrl){\n\n  //TODO\n   get the class of type CandyWrapper&lt;Skittle&gt; so that I can pass it to the service \n   constructor. \n   \n   CandyWrapper&lt;Skittle&gt; instance = new CandyWrapper&lt;Skittle&gt;();\n\n   // instance.getClass() does not give the class conforming to the parameter below.\n  return new CandyStore(???, restTemplate, skittleUrl);\n\n}\n\n</code></pre>\n<p>Any help to clear up the generics concepts is appreciated. Thanks!!</p>\n"},{"tags":["java","android","video-capture"],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690575232,"answer_count":0,"score":0,"last_activity_date":1690575242,"creation_date":1690573906,"question_id":76790668,"body_markdown":"I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it&#39;s not picking the video. I don&#39;t know what is the issue. Here is what I did\r\n    \r\n    private void openVideo(){\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.setType(&quot;video/*&quot;);\r\n            startActivityForResult(intent,101);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\r\n                videoUri = data.getData();\r\n    \r\n                String path = null;\r\n                Cursor cursor;\r\n                int column_index_data;\r\n                String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\r\n                MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\r\n                final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\r\n                cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\r\n                column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\r\n                while (cursor.moveToNext()){\r\n                    path = cursor.getString(column_index_data);\r\n                    videoTitle = FilenameUtils.getBaseName(path);\r\n                }\r\n                tvVideoSelected.setText(videoTitle);\r\n            }\r\n        }\r\n\r\n","title":"How to get a video path in java android","body":"<p>I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it's not picking the video. I don't know what is the issue. Here is what I did</p>\n<pre><code>private void openVideo(){\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;video/*&quot;);\n        startActivityForResult(intent,101);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\n            videoUri = data.getData();\n\n            String path = null;\n            Cursor cursor;\n            int column_index_data;\n            String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\n            MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\n            final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\n            cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\n            column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\n            while (cursor.moveToNext()){\n                path = cursor.getString(column_index_data);\n                videoTitle = FilenameUtils.getBaseName(path);\n            }\n            tvVideoSelected.setText(videoTitle);\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9713,"page":279,"page_size":100}
