{"items":[{"tags":["java","android","kotlin","bluetooth"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1670572829,"post_id":74738902,"comment_id":131909687,"body_markdown":"As it has been done [several times before](https://www.bluetooth.com/blog/dont-panic-just-use-your-bluetooth-emergency-button/), yes you can!","body":"As it has been done <a href=\"https://www.bluetooth.com/blog/dont-panic-just-use-your-bluetooth-emergency-button/\" rel=\"nofollow noreferrer\">several times before</a>, yes you can!"},{"owner":{"account_id":19741593,"reputation":513,"user_id":14918571,"display_name":"Nike Lepz"},"score":0,"creation_date":1670573175,"post_id":74738902,"comment_id":131909770,"body_markdown":"@Risto just waiting for the part that explains how.","body":"@Risto just waiting for the part that explains how."},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1670574953,"post_id":74738902,"comment_id":131910257,"body_markdown":"when I look at your question from above, it says &quot;Can I listen to a Bluetooth data receipt on a broadcast receiver on android?&quot; and my answer is &quot;yes you can!&quot; ;-) If you would like to have a different answer, then you should formulate exactly what you want. You could e.g. show us your source code with which you have problems, then your question would also be [on-topic](https://stackoverflow.com/help/on-topic) on this page. So I am left with just a typical Have you read the [docs](https://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner)?","body":"when I look at your question from above, it says &quot;Can I listen to a Bluetooth data receipt on a broadcast receiver on android?&quot; and my answer is &quot;yes you can!&quot; ;-) If you would like to have a different answer, then you should formulate exactly what you want. You could e.g. show us your source code with which you have problems, then your question would also be <a href=\"https://stackoverflow.com/help/on-topic\">on-topic</a> on this page. So I am left with just a typical Have you read the <a href=\"https://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner\" rel=\"nofollow noreferrer\">docs</a>?"},{"owner":{"account_id":19741593,"reputation":513,"user_id":14918571,"display_name":"Nike Lepz"},"score":0,"creation_date":1670575893,"post_id":74738902,"comment_id":131910529,"body_markdown":"@Risto OK fair. But I also asked &quot;...with a broadcast receiver&quot;, are you supposed to know that the example you linked me to  actually does it with a broadcast receiver. Fair enough then. We&#39;ll be here all day if we nitpick about the logistics of language. Also in the elaboration part of the question, I&#39;ve made it explicit that I want a way to do that if there&#39;s any. So I too am left with just a typical Please also read the explanation to the question, there&#39;s a reason it&#39;s there for.","body":"@Risto OK fair. But I also asked &quot;...with a broadcast receiver&quot;, are you supposed to know that the example you linked me to  actually does it with a broadcast receiver. Fair enough then. We&#39;ll be here all day if we nitpick about the logistics of language. Also in the elaboration part of the question, I&#39;ve made it explicit that I want a way to do that if there&#39;s any. So I too am left with just a typical Please also read the explanation to the question, there&#39;s a reason it&#39;s there for."},{"owner":{"account_id":19741593,"reputation":513,"user_id":14918571,"display_name":"Nike Lepz"},"score":0,"creation_date":1670575943,"post_id":74738902,"comment_id":131910536,"body_markdown":"Sorry if I sound hostile. I&#39;m not too good in English. I edited my question. Thanks!","body":"Sorry if I sound hostile. I&#39;m not too good in English. I edited my question. Thanks!"}],"owner":{"account_id":19741593,"reputation":513,"user_id":14918571,"display_name":"Nike Lepz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670575551,"creation_date":1670559835,"question_id":74738902,"body_markdown":"I&#39;m trying to build a Bluetooth emergency beacon(a MCU hooked up to a Bluetooth module),which after I press a button sends some data to my android app on my phone. I want to listen to this data reception (even when the app is not in the foreground) and then do something in my app, like call 911. So what&#39;s the way to do that, if there&#39;s any.","title":"Can I listen to a Bluetooth data receipt on a broadcast receiver on android and if I can, how?","body":"<p>I'm trying to build a Bluetooth emergency beacon(a MCU hooked up to a Bluetooth module),which after I press a button sends some data to my android app on my phone. I want to listen to this data reception (even when the app is not in the foreground) and then do something in my app, like call 911. So what's the way to do that, if there's any.</p>\n"},{"tags":["java","gradle","gradlew","adoptopenjdk"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":2,"creation_date":1670577185,"post_id":74740649,"comment_id":131910866,"body_markdown":"That class was removed in Java 11 so I suspect that you are not actually using Java 8 on the command line. Try running `gradlew --version` (or however you are invoking Gradle) to check the main JVM version. If it is different, you should be able to change it by setting the `JAVA_HOME` environment variable.","body":"That class was removed in Java 11 so I suspect that you are not actually using Java 8 on the command line. Try running <code>gradlew --version</code> (or however you are invoking Gradle) to check the main JVM version. If it is different, you should be able to change it by setting the <code>JAVA_HOME</code> environment variable."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1670577923,"post_id":74740649,"comment_id":131911073,"body_markdown":"@Bj&#248;rnVester correct, seems like I have JDK 11 too on my machine and the PATH was set there randomly for some reason. Thanks","body":"@Bj&#248;rnVester correct, seems like I have JDK 11 too on my machine and the PATH was set there randomly for some reason. Thanks"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670583004,"post_id":74740649,"comment_id":131912638,"body_markdown":"For Java 11 you can add this dependency: https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api. The Jakarta EE version is https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api.","body":"For Java 11 you can add this dependency: <a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.annotation/&hellip;</a>. The Jakarta EE version is <a href=\"https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jakarta.annotation/&hellip;</a>."}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670575317,"creation_date":1670575317,"question_id":74740649,"body_markdown":"Running tests and building from Intelij works fine. But, when I try to build or test an application from the command line I&#39;m getting this error\r\n\r\n```\r\nerror: package javax.annotation does not exist\r\n@javax.annotation.Generated(value = &quot;class io.swagger.codegen.languages.JavaClientCodegen&quot;, date = &quot;2019-06-27T18:20:07.986+03:00&quot;)\r\n```\r\n\r\nI&#39;m using the gradle v 6.8 wrapper. JDK is AdoptOpenJDK 1.8","title":"Running gradle commands fail with javax.annotation does not exist","body":"<p>Running tests and building from Intelij works fine. But, when I try to build or test an application from the command line I'm getting this error</p>\n<pre><code>error: package javax.annotation does not exist\n@javax.annotation.Generated(value = &quot;class io.swagger.codegen.languages.JavaClientCodegen&quot;, date = &quot;2019-06-27T18:20:07.986+03:00&quot;)\n</code></pre>\n<p>I'm using the gradle v 6.8 wrapper. JDK is AdoptOpenJDK 1.8</p>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670575159,"creation_date":1670575159,"answer_id":74740626,"question_id":74732651,"body_markdown":"Use:\r\n\r\n    TypeDescription.ForLoadedType.of(...)","title":"Wrap Type to TypeDefitinion","body":"<p>Use:</p>\n<pre><code>TypeDescription.ForLoadedType.of(...)\n</code></pre>\n"}],"owner":{"account_id":1046777,"reputation":261,"user_id":9963146,"display_name":"Styp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670575159,"creation_date":1670513289,"question_id":74732651,"body_markdown":"How is it possible to wrap a Java Class&lt;?&gt; to TypeDefinition in ByteBuddy?\r\nI have the following piece of code:\r\n\r\n    private TypeDefinition getFieldAndType(FieldEntry entry){\r\n        var typeClass = String.class;\r\n\r\n        if(entry.getModifier() == FieldModifierEnum.REPEATED){\r\n            return TypeDescription.Generic.Builder\r\n                    .parameterizedType(ArrayList.class, typeClass).build();\r\n            \r\n            // Here Wrap String.class to TypeDefinition Interface?\r\n        } return xyz;\r\n    }\r\n\r\nHow do I wrap &quot;String.class&quot; to TypeDefinition, I think there should be a way but I couldn&#39;t find it in the API.","title":"Wrap Type to TypeDefitinion","body":"<p>How is it possible to wrap a Java Class&lt;?&gt; to TypeDefinition in ByteBuddy?\nI have the following piece of code:</p>\n<pre><code>private TypeDefinition getFieldAndType(FieldEntry entry){\n    var typeClass = String.class;\n\n    if(entry.getModifier() == FieldModifierEnum.REPEATED){\n        return TypeDescription.Generic.Builder\n                .parameterizedType(ArrayList.class, typeClass).build();\n        \n        // Here Wrap String.class to TypeDefinition Interface?\n    } return xyz;\n}\n</code></pre>\n<p>How do I wrap &quot;String.class&quot; to TypeDefinition, I think there should be a way but I couldn't find it in the API.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1471161284,"post_id":38940243,"comment_id":65235656,"body_markdown":"If they type their password into the console, the letters will appear in the console as you type. Not sure what benefit youll gain from this. If you don&#39;t expect to use this from within an IDE, you could trt [`Console#readPassword`](https://docs.oracle.com/javase/8/docs/api/java/io/Console.html#readPassword-java.lang.String-java.lang.Object...-)","body":"If they type their password into the console, the letters will appear in the console as you type. Not sure what benefit youll gain from this. If you don&#39;t expect to use this from within an IDE, you could trt <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Console.html#readPassword-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Console#readPassword</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1471161520,"creation_date":1471161520,"answer_id":38940290,"question_id":38940243,"body_markdown":"I am not sure if i get your question correctly, but still I will try to explain of what I understood. \r\n\r\nTo ensure that you see *** on the user screen you need to have some kind of a User interface written in HTML. I think in this case you are running your code in eclipse and via some kind of a main method. If that is the case then as Vince mentioned there is no benefit of ** since the letters would appear in the console.\r\n\r\nWhat I would recommend is look for something basic web application tutorial and you would have more idea on how it works then.\r\n\r\nHTH ","title":"Password Masking in Java with Scanner","body":"<p>I am not sure if i get your question correctly, but still I will try to explain of what I understood. </p>\n\n<p>To ensure that you see *** on the user screen you need to have some kind of a User interface written in HTML. I think in this case you are running your code in eclipse and via some kind of a main method. If that is the case then as Vince mentioned there is no benefit of ** since the letters would appear in the console.</p>\n\n<p>What I would recommend is look for something basic web application tutorial and you would have more idea on how it works then.</p>\n\n<p>HTH </p>\n"},{"tags":[],"owner":{"account_id":2217108,"reputation":3822,"user_id":1957432,"display_name":"Riad"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1471164302,"creation_date":1471161552,"answer_id":38940292,"question_id":38940243,"body_markdown":"try with this for password read:\r\n\r\n    Console console = System.console();\r\n    if(console != null){\r\n      console.readPassword(&quot;Enter Password: &quot;);\r\n    }","title":"Password Masking in Java with Scanner","body":"<p>try with this for password read:</p>\n\n<pre><code>Console console = System.console();\nif(console != null){\n  console.readPassword(\"Enter Password: \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670575092,"creation_date":1670575092,"answer_id":74740615,"question_id":38940243,"body_markdown":"I also had the same issue with my console java application and \r\nI also do not want to display password in my IDE for security reasons. \r\nSo, to find the bug I had to debug against the productive environment. Here is my solution that works for me in IntelliJ IDEA:\r\n\r\n```java\r\n\r\npublic static String getPassword() {\r\n\r\n    String password;\r\n    Console console = System.console();\r\n    if (console == null) {\r\n        password = getPasswordWithoutConsole(&quot;Enter password: &quot;);\r\n    } else {\r\n        password = String.valueOf(console.readPassword(&quot;Enter password: &quot;));\r\n    }\r\n    return password;\r\n}\r\n\r\npublic static String getPasswordWithoutConsole(String prompt) {\r\n\r\n    final JPasswordField passwordField = new JPasswordField();\r\n    return JOptionPane.showConfirmDialog(\r\n            null,\r\n            passwordField,\r\n            prompt,\r\n            JOptionPane.OK_CANCEL_OPTION,\r\n            JOptionPane.QUESTION_MESSAGE) == JOptionPane.OK_OPTION ? new String(passwordField.getPassword()) : &quot;&quot;;\r\n}\r\n```","title":"Password Masking in Java with Scanner","body":"<p>I also had the same issue with my console java application and\nI also do not want to display password in my IDE for security reasons.\nSo, to find the bug I had to debug against the productive environment. Here is my solution that works for me in IntelliJ IDEA:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static String getPassword() {\n\n    String password;\n    Console console = System.console();\n    if (console == null) {\n        password = getPasswordWithoutConsole(&quot;Enter password: &quot;);\n    } else {\n        password = String.valueOf(console.readPassword(&quot;Enter password: &quot;));\n    }\n    return password;\n}\n\npublic static String getPasswordWithoutConsole(String prompt) {\n\n    final JPasswordField passwordField = new JPasswordField();\n    return JOptionPane.showConfirmDialog(\n            null,\n            passwordField,\n            prompt,\n            JOptionPane.OK_CANCEL_OPTION,\n            JOptionPane.QUESTION_MESSAGE) == JOptionPane.OK_OPTION ? new String(passwordField.getPassword()) : &quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":5250185,"reputation":21,"user_id":5829893,"display_name":"johnny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1670575092,"creation_date":1471161133,"question_id":38940243,"body_markdown":"I&#39;m a high school student learning Java and I want to know how to change input text automatically into an asterisk in Scanner. This is for a simple log-in system I have made for a project. My code is \r\n\r\n    Scanner scan = new Scanner(System.in);\r\n       \r\n       boolean correctLogin = false;\r\n       String username;\r\n       String password;\r\n       String enteredUsername;\r\n       String enteredPassword;\r\n       \r\n       while(correctLogin != true){\r\n           System.out.println(&quot;Enter Username: &quot;);\r\n           enteredUsername = scan.nextLine();\r\n           \r\n           System.out.println(&quot;Enter Password: &quot;);\r\n           enteredPassword = scan.nextLine();\r\n           \r\n           if(enteredUsername.equals(&quot;username&quot;) &amp;&amp; enteredPassword.equals(&quot;passw00rd&quot;)){\r\n               System.out.println(&quot;You have entered the correct login info&quot;);\r\n               correctLogin = true; \r\n               break; \r\n           }\r\n           else{\r\n               System.out.println(&quot;Your login info was incorrect, please try again&quot;);\r\n           }\r\n       }\r\n             \r\n        System.out.println(&quot;You are now logged in, good job!&quot;);\r\n\r\nI want it so that when I type the password, it will automatically change into an asterisk.","title":"Password Masking in Java with Scanner","body":"<p>I'm a high school student learning Java and I want to know how to change input text automatically into an asterisk in Scanner. This is for a simple log-in system I have made for a project. My code is </p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\n\n   boolean correctLogin = false;\n   String username;\n   String password;\n   String enteredUsername;\n   String enteredPassword;\n\n   while(correctLogin != true){\n       System.out.println(\"Enter Username: \");\n       enteredUsername = scan.nextLine();\n\n       System.out.println(\"Enter Password: \");\n       enteredPassword = scan.nextLine();\n\n       if(enteredUsername.equals(\"username\") &amp;&amp; enteredPassword.equals(\"passw00rd\")){\n           System.out.println(\"You have entered the correct login info\");\n           correctLogin = true; \n           break; \n       }\n       else{\n           System.out.println(\"Your login info was incorrect, please try again\");\n       }\n   }\n\n    System.out.println(\"You are now logged in, good job!\");\n</code></pre>\n\n<p>I want it so that when I type the password, it will automatically change into an asterisk.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670573783,"post_id":74740385,"comment_id":131909929,"body_markdown":"There seems to be data in the table where the role_id column has null values","body":"There seems to be data in the table where the role_id column has null values"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1670573919,"post_id":74740385,"comment_id":131909969,"body_markdown":"@XtremeBaumer : Nope, No null values. I will add the table entry as well.","body":"@XtremeBaumer : Nope, No null values. I will add the table entry as well."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670575621,"post_id":74740385,"comment_id":131910462,"body_markdown":"`Error executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement` looks like hibernate wants to add another column without a default value. And since you already have rows in the table, it would default to null for those rows","body":"<code>Error executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement</code> looks like hibernate wants to add another column without a default value. And since you already have rows in the table, it would default to null for those rows"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1670584109,"post_id":74740385,"comment_id":131912971,"body_markdown":"@Som please add all the class code you have tried with the code `@Column(name = roleid, nullable = false)`","body":"@Som please add all the class code you have tried with the code <code>@Column(name = roleid, nullable = false)</code>"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670574734,"creation_date":1670573493,"question_id":74740385,"body_markdown":"I have a spring boot app. And I am connecting to `postgres` db.\r\n\r\nHere is my properties file (`hibernate specific props`):\r\n\r\n    # Hibernate specific entries\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.show_sql: true\r\n    #hibernate.format_sql=true\r\n    #hibernate.default_schema=operations\r\n\r\nWhen I am running my app it runs fine... however in the logs i can see some **WARNINGS** *and not ERROR* like below :\r\n\r\n**App Log:**\r\n\r\n    GenerationTarget encountered exception accepting command : \r\n    Error executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: \r\n    Error executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\r\n    \r\n    .....\r\n    \r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;role_id&quot; contains null values\r\n\r\n**My table structure :**\r\n\r\nI am using composite PK as `@Embeddable` and using that id in my entity class. \r\n\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Getter\r\n    @Setter\r\n    public class IdPK implements Serializable {\r\n    \t\r\n    \tprivate Integer roleId;\r\n    \tprivate String  roleName;\r\n    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public class MyTable{\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate IdPK idpk ;\r\n    \r\n    }\r\n\r\nThe error is logged during start up, however there is no issue with the app. \r\n\r\n**What I have tried :**\r\n\r\nI have tried using the annotation in both the composite PK class and the entity class but they dont have any effect. The error still persists. \r\n\r\n    @NonNull // lombok\r\n    @Column(name = roleid, nullable = false)\r\n\r\nI want to add that I am using flyway scripts to migrate the db schemas. \r\nI am adding my relevant table create schema as well :\r\n\r\n    -- Table: public.my_table\r\n    DROP TABLE IF EXISTS public.my_table;\r\n    \r\n    CREATE TABLE IF NOT EXISTS public.my_table\r\n    (\r\n        roleid integer NOT NULL,\r\n        rolename character varying(100) COLLATE pg_catalog.&quot;default&quot;,\r\n    )\r\n    \r\n    TABLESPACE pg_default;\r\n    \r\n    -- ALTER TABLE IF EXISTS public.my_table;\r\n\r\nAnd this is how table is actually created in the db :\r\n\r\n    -- Table: public.my_table\r\n    DROP TABLE IF EXISTS public.my_table;\r\n    \r\n    CREATE TABLE IF NOT EXISTS public.my_table\r\n    (\r\n        roleid integer NOT NULL,\r\n        rolename character varying(100) COLLATE pg_catalog.&quot;default&quot;,\r\n    )\r\n    \r\n    TABLESPACE pg_default;\r\n    \r\n    ALTER TABLE IF EXISTS public.my_table OWNER to postgres;\r\n\r\n\r\n**UPDATE:**\r\n\r\nTable entries :\r\n\r\n    roleid   |   rolename\r\n    1\t     |   &quot;RM&quot;\r\n    2\t     |   &quot;SM&quot;\r\n    3\t     |   &quot;DM&quot;\r\n\r\n\r\n**Observation:**\r\n\r\nAlso I did not understand this line in the error :\r\n\r\n    ERROR: column &quot;role_id&quot; contains null values\r\n\r\nWhere the column name is actually `roleid`  **AND NOT** `role_id`.\r\n\r\n\r\nI have searched for this issue, and there were different solutions in `StackOverflow`, however none is able to fix this one. Can anyone help me out on this error, how to fix them. I am getting these same errors for 3 other tables with similar setup. Am I missing any particular configuration.","title":"Spring boot app start up hibernate exception :GenerationTarget encountered exception accepting command","body":"<p>I have a spring boot app. And I am connecting to <code>postgres</code> db.</p>\n<p>Here is my properties file (<code>hibernate specific props</code>):</p>\n<pre><code># Hibernate specific entries\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nhibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\nhibernate.show_sql: true\n#hibernate.format_sql=true\n#hibernate.default_schema=operations\n</code></pre>\n<p>When I am running my app it runs fine... however in the logs i can see some <strong>WARNINGS</strong> <em>and not ERROR</em> like below :</p>\n<p><strong>App Log:</strong></p>\n<pre><code>GenerationTarget encountered exception accepting command : \nError executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: \nError executing DDL &quot;alter table if exists &lt;table_name&gt; add column role_id int4 not null&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.10.Final.jar!/:5.6.10.Final]\n\n.....\n\nCaused by: org.postgresql.util.PSQLException: ERROR: column &quot;role_id&quot; contains null values\n</code></pre>\n<p><strong>My table structure :</strong></p>\n<p>I am using composite PK as <code>@Embeddable</code> and using that id in my entity class.</p>\n<pre><code>@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Setter\npublic class IdPK implements Serializable {\n    \n    private Integer roleId;\n    private String  roleName;\n\n}\n\n@Entity\n@Table(name = &quot;my_table&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class MyTable{\n    \n    @EmbeddedId\n    private IdPK idpk ;\n\n}\n</code></pre>\n<p>The error is logged during start up, however there is no issue with the app.</p>\n<p><strong>What I have tried :</strong></p>\n<p>I have tried using the annotation in both the composite PK class and the entity class but they dont have any effect. The error still persists.</p>\n<pre><code>@NonNull // lombok\n@Column(name = roleid, nullable = false)\n</code></pre>\n<p>I want to add that I am using flyway scripts to migrate the db schemas.\nI am adding my relevant table create schema as well :</p>\n<pre><code>-- Table: public.my_table\nDROP TABLE IF EXISTS public.my_table;\n\nCREATE TABLE IF NOT EXISTS public.my_table\n(\n    roleid integer NOT NULL,\n    rolename character varying(100) COLLATE pg_catalog.&quot;default&quot;,\n)\n\nTABLESPACE pg_default;\n\n-- ALTER TABLE IF EXISTS public.my_table;\n</code></pre>\n<p>And this is how table is actually created in the db :</p>\n<pre><code>-- Table: public.my_table\nDROP TABLE IF EXISTS public.my_table;\n\nCREATE TABLE IF NOT EXISTS public.my_table\n(\n    roleid integer NOT NULL,\n    rolename character varying(100) COLLATE pg_catalog.&quot;default&quot;,\n)\n\nTABLESPACE pg_default;\n\nALTER TABLE IF EXISTS public.my_table OWNER to postgres;\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Table entries :</p>\n<pre><code>roleid   |   rolename\n1        |   &quot;RM&quot;\n2        |   &quot;SM&quot;\n3        |   &quot;DM&quot;\n</code></pre>\n<p><strong>Observation:</strong></p>\n<p>Also I did not understand this line in the error :</p>\n<pre><code>ERROR: column &quot;role_id&quot; contains null values\n</code></pre>\n<p>Where the column name is actually <code>roleid</code>  <strong>AND NOT</strong> <code>role_id</code>.</p>\n<p>I have searched for this issue, and there were different solutions in <code>StackOverflow</code>, however none is able to fix this one. Can anyone help me out on this error, how to fix them. I am getting these same errors for 3 other tables with similar setup. Am I missing any particular configuration.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1670570609,"post_id":74739973,"comment_id":131909079,"body_markdown":"Mybe you get an exception in the first run, **Never catch Exceptions** without handle it. Atleast log them","body":"Mybe you get an exception in the first run, <b>Never catch Exceptions</b> without handle it. Atleast log them"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670570800,"post_id":74739973,"comment_id":131909133,"body_markdown":"Move the &quot;quitting&quot; part to the end of the loop and break it there","body":"Move the &quot;quitting&quot; part to the end of the loop and break it there"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670570979,"post_id":74739973,"comment_id":131909181,"body_markdown":"Don&#39;t do `scanner.nextInt()`, but  `Integer.parseInt(scanner.nextLine())` that&#39;ll wave you from unread return-line char","body":"Don&#39;t do <code>scanner.nextInt()</code>, but  <code>Integer.parseInt(scanner.nextLine())</code> that&#39;ll wave you from unread return-line char"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670574514,"post_id":74739973,"comment_id":131910138,"body_markdown":"Your code is throwing a NullPointerException, which you don&#39;t see because you catch and ignore exceptions. This happens because `nextInt()` doesn&#39;t consume the new line, which means the `nextLine()` reads an empty string, which means `player` remains `null`, which then causes the NPE when you dereference `player` with `player.getName()`. And because you ignore exceptions, the loop restarts","body":"Your code is throwing a NullPointerException, which you don&#39;t see because you catch and ignore exceptions. This happens because <code>nextInt()</code> doesn&#39;t consume the new line, which means the <code>nextLine()</code> reads an empty string, which means <code>player</code> remains <code>null</code>, which then causes the NPE when you dereference <code>player</code> with <code>player.getName()</code>. And because you ignore exceptions, the loop restarts"}],"owner":{"account_id":27198568,"reputation":1,"user_id":20731129,"display_name":"Alexander Titov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670574379,"answer_count":0,"score":0,"last_activity_date":1670574526,"creation_date":1670570499,"question_id":74739973,"body_markdown":"```\r\nwhile (true) {           \r\n    try {\r\n        System.out.println(&quot;Choose a player or type quit: Nirvaan(&quot; + player1.getMoney() + &quot;) or Faris(&quot; + player2.getMoney() + &quot;)&quot;);\r\n        String chosenPlayer = scanner.nextLine();\r\n\r\n        if (chosenPlayer.equalsIgnoreCase(&quot;quit&quot;)) {\r\n            break;\r\n        }\r\n\r\n        Player player = null;\r\n        if (chosenPlayer.equalsIgnoreCase(player1.getName())) {\r\n            player = player1;\r\n        } else if (chosenPlayer.equalsIgnoreCase(player2.getName())) {\r\n            player = player2;\r\n        }\r\n       \r\n        System.out.println(&quot;Which game would &quot; + player.getName() + &quot; like to play? &quot;);\r\n        System.out.println(&quot;1. Balloon Darts&quot;);\r\n        System.out.println(&quot;2. Ring Toss&quot;);\r\n        System.out.println(&quot;3. Break a Plate&quot;);\r\n        System.out.println(&quot;4. Quit&quot;);\r\n        System.out.print(&quot;&gt; &quot;); \r\n       \r\n        int choice = scanner.nextInt();\r\n\r\n        // Check if the user chose to quit\r\n        if (choice == 4) {\r\n            break;\r\n        }        \r\n\r\n        // Get the chosen game\r\n        GameBooth game = games.get(choice - 1);        \r\n        \r\n        // Let the players play the game\r\n        System.out.println(player.getName() + &quot; goes to &quot; + game.getName());\r\n        game.playGame(player);\r\n        \r\n    } catch (Exception e) {\r\n        \r\n    }\r\n}\r\n```\r\nOUTPUT//\r\n\r\n    Choose a player or type quit: Nirvaan(5.0) or Faris(3.0)\r\n    nirvaan\r\n    Which game would Nirvaan like to play? \r\n    1. Balloon Darts\r\n    2. Ring Toss\r\n    3. Break a Plate\r\n    4. Quit\r\n    &gt; 1\r\n    Nirvaan goes to Balloon Darts\r\n    Nirvaan won a Sticker\r\n    Choose a player or type quit: Nirvaan(3.0) or Faris(3.0)\r\n    Choose a player or type quit: Nirvaan(3.0) or Faris(3.0)\r\n\r\nI tried moving the choose player line out of the try statment but that did not work, it kept on doing the same thing.\r\n","title":"Why is the first line after the try statement printing twice when the loop restarts?","body":"<pre><code>while (true) {           \n    try {\n        System.out.println(&quot;Choose a player or type quit: Nirvaan(&quot; + player1.getMoney() + &quot;) or Faris(&quot; + player2.getMoney() + &quot;)&quot;);\n        String chosenPlayer = scanner.nextLine();\n\n        if (chosenPlayer.equalsIgnoreCase(&quot;quit&quot;)) {\n            break;\n        }\n\n        Player player = null;\n        if (chosenPlayer.equalsIgnoreCase(player1.getName())) {\n            player = player1;\n        } else if (chosenPlayer.equalsIgnoreCase(player2.getName())) {\n            player = player2;\n        }\n       \n        System.out.println(&quot;Which game would &quot; + player.getName() + &quot; like to play? &quot;);\n        System.out.println(&quot;1. Balloon Darts&quot;);\n        System.out.println(&quot;2. Ring Toss&quot;);\n        System.out.println(&quot;3. Break a Plate&quot;);\n        System.out.println(&quot;4. Quit&quot;);\n        System.out.print(&quot;&gt; &quot;); \n       \n        int choice = scanner.nextInt();\n\n        // Check if the user chose to quit\n        if (choice == 4) {\n            break;\n        }        \n\n        // Get the chosen game\n        GameBooth game = games.get(choice - 1);        \n        \n        // Let the players play the game\n        System.out.println(player.getName() + &quot; goes to &quot; + game.getName());\n        game.playGame(player);\n        \n    } catch (Exception e) {\n        \n    }\n}\n</code></pre>\n<p>OUTPUT//</p>\n<pre><code>Choose a player or type quit: Nirvaan(5.0) or Faris(3.0)\nnirvaan\nWhich game would Nirvaan like to play? \n1. Balloon Darts\n2. Ring Toss\n3. Break a Plate\n4. Quit\n&gt; 1\nNirvaan goes to Balloon Darts\nNirvaan won a Sticker\nChoose a player or type quit: Nirvaan(3.0) or Faris(3.0)\nChoose a player or type quit: Nirvaan(3.0) or Faris(3.0)\n</code></pre>\n<p>I tried moving the choose player line out of the try statment but that did not work, it kept on doing the same thing.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","junit4"],"answers":[{"tags":[],"owner":{"account_id":1237195,"reputation":46596,"user_id":1200545,"display_name":"Justin Ko"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1515482936,"creation_date":1344874890,"answer_id":11938304,"question_id":11934966,"body_markdown":"You should be able to get the text using `getText()` (for the option element you got using `getFirstSelectedOption()`):\r\n\r\n    Select select = new Select(driver.findElement(By.xpath(&quot;//select&quot;)));\r\n    WebElement option = select.getFirstSelectedOption();\r\n    String defaultItem = option.getText();\r\n    System.out.println(defaultItem );","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>You should be able to get the text using <code>getText()</code> (for the option element you got using <code>getFirstSelectedOption()</code>):</p>\n\n<pre><code>Select select = new Select(driver.findElement(By.xpath(\"//select\")));\nWebElement option = select.getFirstSelectedOption();\nString defaultItem = option.getText();\nSystem.out.println(defaultItem );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1650667,"reputation":2209,"user_id":1521346,"accept_rate":47,"display_name":"Bhuvan"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1349928590,"creation_date":1349928590,"answer_id":12832077,"question_id":11934966,"body_markdown":"Completing the answer:\r\n\r\n\r\n    String selectedOption = new Select(driver.findElement(By.xpath(&quot;Type the xpath of the drop-down element&quot;))).getFirstSelectedOption().getText();\r\n\t\r\n    Assert.assertEquals(&quot;Please select any option...&quot;, selectedOption);","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>Completing the answer:</p>\n\n<pre><code>String selectedOption = new Select(driver.findElement(By.xpath(\"Type the xpath of the drop-down element\"))).getFirstSelectedOption().getText();\n\nAssert.assertEquals(\"Please select any option...\", selectedOption);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147334,"reputation":3964,"user_id":358378,"accept_rate":86,"display_name":"Riaz Ladhani"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460028241,"creation_date":1460028241,"answer_id":36474748,"question_id":11934966,"body_markdown":"In Selenium Python it is:\r\n\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.support.ui import Select\r\n    \r\n    def get_selected_value_from_drop_down(self):\r\n        try:\r\n            select = Select(WebDriverWait(self.driver, 20).until(EC.element_to_be_clickable((By.ID, &#39;data_configuration_edit_data_object_tab_details_lb_use_for_match&#39;))))\r\n            return select.first_selected_option.get_attribute(&quot;value&quot;)\r\n        except NoSuchElementException, e:\r\n            print &quot;Element not found &quot;\r\n            print e\r\n\r\n","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>In Selenium Python it is:</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support.ui import Select\n\ndef get_selected_value_from_drop_down(self):\n    try:\n        select = Select(WebDriverWait(self.driver, 20).until(EC.element_to_be_clickable((By.ID, 'data_configuration_edit_data_object_tab_details_lb_use_for_match'))))\n        return select.first_selected_option.get_attribute(\"value\")\n    except NoSuchElementException, e:\n        print \"Element not found \"\n        print e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9606127,"reputation":41,"user_id":7132125,"accept_rate":0,"display_name":"Madhu Ragi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481189840,"creation_date":1481189840,"answer_id":41036101,"question_id":11934966,"body_markdown":"    var option = driver.FindElement(By.Id(&quot;employmentType&quot;));\r\n            var selectElement = new SelectElement(option);\r\n            Task.Delay(3000).Wait();\r\n            selectElement.SelectByIndex(2);\r\n            Console.Read();","title":"How to get selected option using Selenium WebDriver with Java","body":"<pre><code>var option = driver.FindElement(By.Id(\"employmentType\"));\n        var selectElement = new SelectElement(option);\n        Task.Delay(3000).Wait();\n        selectElement.SelectByIndex(2);\n        Console.Read();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12128675,"reputation":31,"user_id":8856415,"display_name":"Miguel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509370225,"creation_date":1509366949,"answer_id":47015452,"question_id":11934966,"body_markdown":"On the following option:\r\n\r\n    WebElement option = select.getFirstSelectedOption();\r\n    option.getText();\r\n\r\nIf from the method `getText()` you get a blank, you can get the string from the value of the option using the method `getAttribute`:\r\n\r\n    WebElement option = select.getFirstSelectedOption();\r\n    option.getAttribute(&quot;value&quot;);","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>On the following option:</p>\n\n<pre><code>WebElement option = select.getFirstSelectedOption();\noption.getText();\n</code></pre>\n\n<p>If from the method <code>getText()</code> you get a blank, you can get the string from the value of the option using the method <code>getAttribute</code>:</p>\n\n<pre><code>WebElement option = select.getFirstSelectedOption();\noption.getAttribute(\"value\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26915607,"reputation":1,"user_id":20490428,"display_name":"subash chandrabose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670574406,"creation_date":1670574321,"answer_id":74740498,"question_id":11934966,"body_markdown":"short answer\r\n\r\n    Select select = new Select(driver.findElement(By.xpath(&quot;//select&quot;)));\r\n    System.out.println(&quot;selected items from the dropdown&quot;+ select.getFirstSelectedOption().getText());","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>short answer</p>\n<pre><code>Select select = new Select(driver.findElement(By.xpath(&quot;//select&quot;)));\nSystem.out.println(&quot;selected items from the dropdown&quot;+ select.getFirstSelectedOption().getText());\n</code></pre>\n"}],"owner":{"account_id":1587349,"reputation":1141,"user_id":1471389,"accept_rate":92,"display_name":"WomenInTech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172464,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":11938304,"answer_count":6,"score":39,"last_activity_date":1670574406,"creation_date":1344863598,"question_id":11934966,"body_markdown":"I want to **get the selected label** or value of a **drop down** using Selenium WebDriver and then **print** it on the **console**.\r\n\r\nI am able to select any value from the drop down, but I am not able to retrieve the selected value and print it:\r\n\r\n    Select select = new \r\n    Select(driver.findElement(By.id(&quot;MyDropDown&quot;))).selectByVisibleText(data[11].substring(1 , data[11].length()-1));\r\n    WebElement option = select.getFirstSelectedOption();\r\n\r\nBut all my efforts were in vain. How do I get the selected option?","title":"How to get selected option using Selenium WebDriver with Java","body":"<p>I want to <strong>get the selected label</strong> or value of a <strong>drop down</strong> using Selenium WebDriver and then <strong>print</strong> it on the <strong>console</strong>.</p>\n\n<p>I am able to select any value from the drop down, but I am not able to retrieve the selected value and print it:</p>\n\n<pre><code>Select select = new \nSelect(driver.findElement(By.id(\"MyDropDown\"))).selectByVisibleText(data[11].substring(1 , data[11].length()-1));\nWebElement option = select.getFirstSelectedOption();\n</code></pre>\n\n<p>But all my efforts were in vain. How do I get the selected option?</p>\n"},{"tags":["java","concurrency","synchronized","jcstress"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":2,"creation_date":1669391216,"post_id":74575037,"comment_id":131637927,"body_markdown":"So unless there&#39;s some other way to access/modify `sink`, outside of synchronization on the containing `Wrapper` instance (e.g. other methods in `Wrapper` that aren&#39;t synchronized), the inner synchronization block doesn&#39;t make sense.  As to the &quot;elimination of racy reads&quot;, your synchronized methods are already doing that.","body":"So unless there&#39;s some other way to access/modify <code>sink</code>, outside of synchronization on the containing <code>Wrapper</code> instance (e.g. other methods in <code>Wrapper</code> that aren&#39;t synchronized), the inner synchronization block doesn&#39;t make sense.  As to the &quot;elimination of racy reads&quot;, your synchronized methods are already doing that."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":1,"creation_date":1669391470,"post_id":74575037,"comment_id":131638013,"body_markdown":"I think you did not provide the complete code snippet - how is the `sink` attribute set?","body":"I think you did not provide the complete code snippet - how is the <code>sink</code> attribute set?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1669392164,"post_id":74575037,"comment_id":131638255,"body_markdown":"@AdamSiemion the code of `flushSink()` method is full, no other logic in that method","body":"@AdamSiemion the code of <code>flushSink()</code> method is full, no other logic in that method"},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1669392293,"post_id":74575037,"comment_id":131638305,"body_markdown":"@SergeyTsypanov i meant `Wrapper` class","body":"@SergeyTsypanov i meant <code>Wrapper</code> class"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1669392309,"post_id":74575037,"comment_id":131638313,"body_markdown":"The code is not full, how does `sink` get initialized? @SergeyTsypanov","body":"The code is not full, how does <code>sink</code> get initialized? @SergeyTsypanov"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1669392791,"post_id":74575037,"comment_id":131638459,"body_markdown":"It&#39;s initialized in constructor and set to null in close method, updated the snippet. Pay attention, that `close()` is not synchronized.","body":"It&#39;s initialized in constructor and set to null in close method, updated the snippet. Pay attention, that <code>close()</code> is not synchronized."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1669393390,"post_id":74575037,"comment_id":131638654,"body_markdown":"We&#39;d need to see the constructor, otherwise the code you&#39;re changing might be wrong.","body":"We&#39;d need to see the constructor, otherwise the code you&#39;re changing might be wrong."}],"answers":[{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669394943,"creation_date":1669394943,"answer_id":74575798,"question_id":74575037,"body_markdown":"&gt; As far as I understand the mentioned block is redundant in this case, as if two threads concurrently call flushSink(), then only one of them has access to private field sink at a time. As a result the code could be simplified to\r\n\r\nIt is redundant as long as there is no other place in the code where `sink` is accessed within a synchronized block.\r\n\r\nFor instance, if the `close()` method were changed to the following,\r\n\r\n    public void close()  throws IOException {\r\n      var sink = this.sink;\r\n      if (sink != null) {\r\n        synchronized(sink) {\r\n          sink.receivedLast();\r\n        }\r\n      }\r\n    }\r\nthen the synchronized block in `flushSink()` would not be useless as it would ensure that `receivedLast()` and `flush()` are not being called at the same time.","title":"Can I eliminate nested synchronized on a private field within synchronized method","body":"<blockquote>\n<p>As far as I understand the mentioned block is redundant in this case, as if two threads concurrently call flushSink(), then only one of them has access to private field sink at a time. As a result the code could be simplified to</p>\n</blockquote>\n<p>It is redundant as long as there is no other place in the code where <code>sink</code> is accessed within a synchronized block.</p>\n<p>For instance, if the <code>close()</code> method were changed to the following,</p>\n<pre><code>public void close()  throws IOException {\n  var sink = this.sink;\n  if (sink != null) {\n    synchronized(sink) {\n      sink.receivedLast();\n    }\n  }\n}\n</code></pre>\n<p>then the synchronized block in <code>flushSink()</code> would not be useless as it would ensure that <code>receivedLast()</code> and <code>flush()</code> are not being called at the same time.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670574188,"creation_date":1670574188,"answer_id":74740481,"question_id":74575037,"body_markdown":"Finally I found open source code exactly repeating the case, see `java.io.PipedOutputStream`:\r\n```java\r\n@Override\r\npublic synchronized void flush() throws IOException {\r\n    if (sink != null) {\r\n        synchronized (sink) {\r\n            sink.notifyAll();\r\n        }\r\n    }\r\n}\r\n```\r\nThe code looks exactly like the snippet I was investigating, and if I do the same refactoring `PipedOutputStream`-related JDK tests will fail.\r\n\r\nThe transformation is illegal, because `synchronized` on `flush()` method assumes locking on `this` i.e. on `PipedOutputStream` object, and `synchronized (sink)` locks on another object. Thus we have two different locks and lock coarsening is not allowed in this case.","title":"Can I eliminate nested synchronized on a private field within synchronized method","body":"<p>Finally I found open source code exactly repeating the case, see <code>java.io.PipedOutputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic synchronized void flush() throws IOException {\n    if (sink != null) {\n        synchronized (sink) {\n            sink.notifyAll();\n        }\n    }\n}\n</code></pre>\n<p>The code looks exactly like the snippet I was investigating, and if I do the same refactoring <code>PipedOutputStream</code>-related JDK tests will fail.</p>\n<p>The transformation is illegal, because <code>synchronized</code> on <code>flush()</code> method assumes locking on <code>this</code> i.e. on <code>PipedOutputStream</code> object, and <code>synchronized (sink)</code> locks on another object. Thus we have two different locks and lock coarsening is not allowed in this case.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74740481,"answer_count":2,"score":0,"last_activity_date":1670574188,"creation_date":1669390742,"question_id":74575037,"body_markdown":"I&#39;ve got this legacy pseudocode:\r\n```java\r\npublic class Wrapper {\r\n  private volatile Sink sink;\r\n\r\n  public synchronized void flushSink() {\r\n    if (sink != null) {\r\n      synchronized (sink) {\r\n        sink.flush();\r\n      }\r\n    }\r\n  }\r\n\r\n  public void close()  throws IOException {\r\n    var sink = this.sink;\r\n    if (sink != null) {\r\n      sink.receivedLast();\r\n    }\r\n  }\r\n}\r\n```\r\nMy question is about nested `synchronized` block.\r\n\r\nAs far as I understand the mentioned block is redundant in this case, as if two threads concurrently call `flushSink()`, then only one of them has access to private field `sink` at a time. As a result the code could be simplified to\r\n```java\r\npublic class Wrapper {\r\n  private volatile Sink sink;\r\n\r\n  public synchronized void flushSink() {\r\n    if (sink != null) {\r\n      sink.flush();\r\n    }\r\n  }\r\n}\r\n```\r\nwith possible further elimination of racy read into\r\n```java\r\npublic class Wrapper {\r\n  private volatile Sink sink;\r\n\r\n  public synchronized void flushSink() {\r\n    var sink = this.sink;\r\n    if (sink != null) {\r\n      sink.flush();\r\n    }\r\n  }\r\n}\r\n```\r\nSo my question is whether this kind of refactoring correct in terms of synchronization and JMM and if it is (alternatively if it is not) - is there any JCStress-based test proving it?","title":"Can I eliminate nested synchronized on a private field within synchronized method","body":"<p>I've got this legacy pseudocode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Wrapper {\n  private volatile Sink sink;\n\n  public synchronized void flushSink() {\n    if (sink != null) {\n      synchronized (sink) {\n        sink.flush();\n      }\n    }\n  }\n\n  public void close()  throws IOException {\n    var sink = this.sink;\n    if (sink != null) {\n      sink.receivedLast();\n    }\n  }\n}\n</code></pre>\n<p>My question is about nested <code>synchronized</code> block.</p>\n<p>As far as I understand the mentioned block is redundant in this case, as if two threads concurrently call <code>flushSink()</code>, then only one of them has access to private field <code>sink</code> at a time. As a result the code could be simplified to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Wrapper {\n  private volatile Sink sink;\n\n  public synchronized void flushSink() {\n    if (sink != null) {\n      sink.flush();\n    }\n  }\n}\n</code></pre>\n<p>with possible further elimination of racy read into</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Wrapper {\n  private volatile Sink sink;\n\n  public synchronized void flushSink() {\n    var sink = this.sink;\n    if (sink != null) {\n      sink.flush();\n    }\n  }\n}\n</code></pre>\n<p>So my question is whether this kind of refactoring correct in terms of synchronization and JMM and if it is (alternatively if it is not) - is there any JCStress-based test proving it?</p>\n"},{"tags":["java","ip-address"],"answers":[{"tags":[],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268831589,"creation_date":1268831555,"answer_id":2462421,"question_id":2462398,"body_markdown":"    InetAddress.getByName(&quot;www.girionjava.com&quot;)","title":"How to get the IP address from the Domain Name in Java?","body":"<pre><code>InetAddress.getByName(\"www.girionjava.com\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1268831638,"creation_date":1268831638,"answer_id":2462433,"question_id":2462398,"body_markdown":"    InetAddress giriAddress = java.net.InetAddress.getByName(&quot;www.girionjava.com&quot;);\r\n\r\nThen, if you want the IP as a String\r\n\r\n    String address = giriAddress.getHostAddress();","title":"How to get the IP address from the Domain Name in Java?","body":"<pre><code>InetAddress giriAddress = java.net.InetAddress.getByName(\"www.girionjava.com\");\n</code></pre>\n\n<p>Then, if you want the IP as a String</p>\n\n<pre><code>String address = giriAddress.getHostAddress();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268831904,"creation_date":1268831904,"answer_id":2462462,"question_id":2462398,"body_markdown":"(Extra mask in printing sine java considers all integers to be signed, but an IP address is unsigned)\r\n\r\n    InetAddress[] machines = InetAddress.getAllByName(&quot;yahoo.com&quot;);\r\n    for(InetAddress address : machines){\r\n      byte[] ip = address.getAddress();\r\n      for(byte b : ip){\r\n        System.out.print(Integer.toString(((int)b)&amp;0xFF)+&quot;.&quot;);\r\n      }\r\n      System.out.println();\r\n    }","title":"How to get the IP address from the Domain Name in Java?","body":"<p>(Extra mask in printing sine java considers all integers to be signed, but an IP address is unsigned)</p>\n\n<pre><code>InetAddress[] machines = InetAddress.getAllByName(\"yahoo.com\");\nfor(InetAddress address : machines){\n  byte[] ip = address.getAddress();\n  for(byte b : ip){\n    System.out.print(Integer.toString(((int)b)&amp;0xFF)+\".\");\n  }\n  System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225157,"reputation":255,"user_id":2469813,"accept_rate":75,"display_name":"redoc"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1372678658,"creation_date":1372678658,"answer_id":17403582,"question_id":2462398,"body_markdown":"This should be simple.\r\n\r\n    InetAddress[] machines = InetAddress.getAllByName(&quot;yahoo.com&quot;);\r\n    for(InetAddress address : machines){\r\n      System.out.println(address.getHostAddress());\r\n    }","title":"How to get the IP address from the Domain Name in Java?","body":"<p>This should be simple.</p>\n\n<pre><code>InetAddress[] machines = InetAddress.getAllByName(\"yahoo.com\");\nfor(InetAddress address : machines){\n  System.out.println(address.getHostAddress());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27187823,"reputation":1,"user_id":20722058,"display_name":"Jenipher Filberth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670573637,"creation_date":1670491422,"answer_id":74728027,"question_id":2462398,"body_markdown":"The InetAddress class in java.net has some static methods to do this.\r\n```\r\n\t\tInetAddress a = InetAddress.getByName (&quot;www.girionjava.com&quot;);\r\n\t    System.out.println(a.getHostAddress());\t\t\r\n```\r\nThis is very basic stuff, for more complete control over DNS queries, you will have to use additional libraries.","title":"How to get the IP address from the Domain Name in Java?","body":"<p>The InetAddress class in java.net has some static methods to do this.</p>\n<pre><code>        InetAddress a = InetAddress.getByName (&quot;www.girionjava.com&quot;);\n        System.out.println(a.getHostAddress());     \n</code></pre>\n<p>This is very basic stuff, for more complete control over DNS queries, you will have to use additional libraries.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34648,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1670573637,"creation_date":1268831406,"question_id":2462398,"body_markdown":"I am writing an application where I need the IP address. I have a domain name and I would like to know how to get the IP address from it. For example, &quot;www.girionjava.com&quot;. How could I get the IP address of this website by programming in Java? Thanks.","title":"How to get the IP address from the Domain Name in Java?","body":"<p>I am writing an application where I need the IP address. I have a domain name and I would like to know how to get the IP address from it. For example, \"www.girionjava.com\". How could I get the IP address of this website by programming in Java? Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","firebird"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670573091,"creation_date":1670573091,"answer_id":74740328,"question_id":74735125,"body_markdown":"The problem is that you&#39;re using Hibernate 6, and in Hibernate 6, the Firebird dialect and a number of other dialects were moved to a separate artifact, `org.hibernate.orm:hibernate-community-dialects`, and the name was changed to `org.hibernate.community.dialect.FirebirdDialect`.\r\n\r\nSo, you need to add the `hibernate-community-dialects` dependency to your project, and use `org.hibernate.community.dialect.FirebirdDialect` in the `application.properties`.\r\n\r\nFor example, in pom.xml, section dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen in application.properties, use:\r\n\r\n```ini\r\nspring.jpa.database-platform=org.hibernate.community.dialect.FirebirdDialect\r\n```","title":"Unable to resolve name [org.hibernate.dialect.FirebirdDialect]","body":"<p>The problem is that you're using Hibernate 6, and in Hibernate 6, the Firebird dialect and a number of other dialects were moved to a separate artifact, <code>org.hibernate.orm:hibernate-community-dialects</code>, and the name was changed to <code>org.hibernate.community.dialect.FirebirdDialect</code>.</p>\n<p>So, you need to add the <code>hibernate-community-dialects</code> dependency to your project, and use <code>org.hibernate.community.dialect.FirebirdDialect</code> in the <code>application.properties</code>.</p>\n<p>For example, in pom.xml, section dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then in application.properties, use:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.jpa.database-platform=org.hibernate.community.dialect.FirebirdDialect\n</code></pre>\n"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1506,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74740328,"answer_count":1,"score":1,"last_activity_date":1670573549,"creation_date":1670526001,"question_id":74735125,"body_markdown":"I&#39;m trying to connect my Firebird database in Spring, but I&#39;m not succeeding. This was the most exact setting in application.properties.\r\n\r\n```ini\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url:jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB\r\nspring.datasource.username:SYSDBA\r\nspring.datasource.password:masterkey\r\nspring.datasource.driver-class-name=org.firebirdsql.jdbc.FBDriver\r\n\r\nspring.jpa.show-sql: true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.database-platform=org.hibernate.dialect.FirebirdDialect\r\n```  \r\n    \r\n```none \r\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name \\[org.hibernate.dialect.FirebirdInnoDBDialect\\] as strategy \\[org.hibernate.dialect.Dialect\\]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:155) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:237) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:206) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.model.relational.Database.\\&lt;init\\&gt;(Database.java:44) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:191) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\r\n\tat com.aula.restiapi.RestiapiApplication.main(RestiapiApplication.java:10) \\~\\[classes/:na\\]\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class \\[org.hibernate.dialect.FirebirdInnoDBDialect\\]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:151) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n\t... 39 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.FirebirdInnoDBDialect\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) \\~\\[na:na\\]\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName(Class.java:467) \\~\\[na:na\\]\r\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\r\n    ... 40 common frames omitted\r\n\r\n","title":"Unable to resolve name [org.hibernate.dialect.FirebirdDialect]","body":"<p>I'm trying to connect my Firebird database in Spring, but I'm not succeeding. This was the most exact setting in application.properties.</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url:jdbc:firebirdsql:localhost/3050:C:/DB/DASHBOARD.FDB\nspring.datasource.username:SYSDBA\nspring.datasource.password:masterkey\nspring.datasource.driver-class-name=org.firebirdsql.jdbc.FBDriver\n\nspring.jpa.show-sql: true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.database-platform=org.hibernate.dialect.FirebirdDialect\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name \\[org.hibernate.dialect.FirebirdInnoDBDialect\\] as strategy \\[org.hibernate.dialect.Dialect\\]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:155) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:237) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:206) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.model.relational.Database.\\&lt;init\\&gt;(Database.java:44) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.\\&lt;init\\&gt;(InFlightMetadataCollectorImpl.java:191) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) \\~\\[spring-orm-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) \\~\\[spring-beans-6.0.2.jar:6.0.2\\]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) \\~\\[spring-context-6.0.2.jar:6.0.2\\]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) \\~\\[spring-boot-3.0.0.jar:3.0.0\\]\n    at com.aula.restiapi.RestiapiApplication.main(RestiapiApplication.java:10) \\~\\[classes/:na\\]\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class \\[org.hibernate.dialect.FirebirdInnoDBDialect\\]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:151) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    ... 39 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.FirebirdInnoDBDialect\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) \\~\\[na:na\\]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\]\n    at java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\n    at java.base/java.lang.Class.forName(Class.java:467) \\~\\[na:na\\]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) \\~\\[hibernate-core-6.1.5.Final.jar:6.1.5.Final\\]\n    ... 40 common frames omitted\n\n</code></pre>\n"},{"tags":["java","optaplanner","optaweb-employee-rostering","optaweb-vehicle-routing"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670518090,"creation_date":1670518090,"answer_id":74733642,"question_id":74733386,"body_markdown":"What you&#39;re likely looking for is called [overconstrained planning][1]. You&#39;ll need a `nullable` planning variable.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanning","title":"Optaplanner assigning incorrect planning entity during planning","body":"<p>What you're likely looking for is called <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#overconstrainedPlanning\" rel=\"nofollow noreferrer\">overconstrained planning</a>. You'll need a <code>nullable</code> planning variable.</p>\n"}],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74733642,"answer_count":1,"score":0,"last_activity_date":1670573488,"creation_date":1670516856,"question_id":74733386,"body_markdown":"I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location. I am using Optaplanner to schedule a list of salesperson to a bunch of appointments. I have a constraint defined:\r\n\r\n```\r\nConstraint repConflict(ConstraintFactory constraintFactory) {\r\n        // A sales-rep can accommodate at most one appointment at the same time.\r\n        return constraintFactory\r\n                // Select each pair of 2 different appointments ...\r\n                .forEachUniquePair(Appointment.class,\r\n                        Joiners.equal(Appointment::getRepUuid))\r\n                .filter((appt1, appt2) -&gt;{\r\n                    if(appt1.getStartTime().before(appt2.getStartTime()) &amp;&amp;\r\n                            appt1.getEndTime().before(appt2.getStartTime()) &amp;&amp;\r\n                            appt1.getStartTime().before(appt2.getEndTime()) &amp;&amp;\r\n                            appt1.getEndTime().before(appt2.getEndTime())) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                })\r\n                // ... and penalize each pair with a hard weight.\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;SalesRep conflict&quot;);\r\n    }\r\n```\r\nThis constraint checks if a sales rep is assigned to at most one appointment at any instance\r\nThe constraint works fine but the planner assigns some random sales rep for appointments with no feasible solution.\r\nThis completely makes the final solution unusable. Our requirement is if the solution is not feasible(no sales rep can be assigned) then don&#39;t assign anybody to the appointment.\r\n\r\nI looked into the documentation and changed the `SolverFactory` with the following configuration but still no progress\r\n\r\n```\r\nSolverFactory&lt;RepRoutingSolution&gt; solverFactory = SolverFactory.create(new SolverConfig()\r\n                .withSolutionClass(RepRoutingSolution.class)\r\n                .withEntityClasses(Appointment.class)\r\n                .withConstraintProviderClass(RepSchedulerConstraintProvider.class)\r\n                .withTerminationConfig(new TerminationConfig()\r\n                        .withBestScoreFeasible(true)\r\n                )\r\n                // The solver runs only for 5 seconds on this small dataset.\r\n                // It&#39;s recommended to run for at least 5 minutes (&quot;5m&quot;) otherwise.\r\n                .withTerminationSpentLimit(Duration.ofSeconds(5)));\r\n\r\n\r\n        // Load the problem\r\n        RepRoutingSolution problem = generateDemoData();\r\n\r\n        // Solve the problem\r\n        Solver&lt;RepRoutingSolution&gt; solver = solverFactory.buildSolver();\r\n        RepRoutingSolution solution = solver.solve(problem);\r\n\r\n        // Visualize the solution\r\n        printRepVisits(solution);\r\n\r\n```\r\n\r\nEdit 1:\r\nNewly added constraint to reward for successfully assigning sales rep. This reward based constraint fixed the issue in my case\r\n```\r\nConstraint repRewardForAppointment(ConstraintFactory constraintFactory) {\r\n        \r\n        return constraintFactory\r\n                // Select each pair of 2 different appointments ...\r\n                .forEachUniquePair(Appointment.class,\r\n                        Joiners.equal(Appointment::getRepUuid))\r\n                .filter((appt1, appt2) -&gt; {\r\n                    if (appt1.getStartTime().before(appt2.getStartTime()) &amp;&amp;\r\n                            appt1.getEndTime().before(appt2.getStartTime()) &amp;&amp;\r\n                            appt1.getStartTime().before(appt2.getEndTime()) &amp;&amp;\r\n                            appt1.getEndTime().before(appt2.getEndTime())) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                })\r\n                // ... and penalize each pair with a hard weight.\r\n                .reward(HardMediumSoftScore.ONE_MEDIUM)\r\n                .asConstraint(&quot;SalesRep reward for Appointments&quot;);\r\n    }\r\n```","title":"Optaplanner assigning incorrect planning entity during planning","body":"<p>I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location. I am using Optaplanner to schedule a list of salesperson to a bunch of appointments. I have a constraint defined:</p>\n<pre><code>Constraint repConflict(ConstraintFactory constraintFactory) {\n        // A sales-rep can accommodate at most one appointment at the same time.\n        return constraintFactory\n                // Select each pair of 2 different appointments ...\n                .forEachUniquePair(Appointment.class,\n                        Joiners.equal(Appointment::getRepUuid))\n                .filter((appt1, appt2) -&gt;{\n                    if(appt1.getStartTime().before(appt2.getStartTime()) &amp;&amp;\n                            appt1.getEndTime().before(appt2.getStartTime()) &amp;&amp;\n                            appt1.getStartTime().before(appt2.getEndTime()) &amp;&amp;\n                            appt1.getEndTime().before(appt2.getEndTime())) {\n                        return false;\n                    }\n                    return true;\n                })\n                // ... and penalize each pair with a hard weight.\n                .penalize(HardSoftScore.ONE_HARD)\n                .asConstraint(&quot;SalesRep conflict&quot;);\n    }\n</code></pre>\n<p>This constraint checks if a sales rep is assigned to at most one appointment at any instance\nThe constraint works fine but the planner assigns some random sales rep for appointments with no feasible solution.\nThis completely makes the final solution unusable. Our requirement is if the solution is not feasible(no sales rep can be assigned) then don't assign anybody to the appointment.</p>\n<p>I looked into the documentation and changed the <code>SolverFactory</code> with the following configuration but still no progress</p>\n<pre><code>SolverFactory&lt;RepRoutingSolution&gt; solverFactory = SolverFactory.create(new SolverConfig()\n                .withSolutionClass(RepRoutingSolution.class)\n                .withEntityClasses(Appointment.class)\n                .withConstraintProviderClass(RepSchedulerConstraintProvider.class)\n                .withTerminationConfig(new TerminationConfig()\n                        .withBestScoreFeasible(true)\n                )\n                // The solver runs only for 5 seconds on this small dataset.\n                // It's recommended to run for at least 5 minutes (&quot;5m&quot;) otherwise.\n                .withTerminationSpentLimit(Duration.ofSeconds(5)));\n\n\n        // Load the problem\n        RepRoutingSolution problem = generateDemoData();\n\n        // Solve the problem\n        Solver&lt;RepRoutingSolution&gt; solver = solverFactory.buildSolver();\n        RepRoutingSolution solution = solver.solve(problem);\n\n        // Visualize the solution\n        printRepVisits(solution);\n\n</code></pre>\n<p>Edit 1:\nNewly added constraint to reward for successfully assigning sales rep. This reward based constraint fixed the issue in my case</p>\n<pre><code>Constraint repRewardForAppointment(ConstraintFactory constraintFactory) {\n        \n        return constraintFactory\n                // Select each pair of 2 different appointments ...\n                .forEachUniquePair(Appointment.class,\n                        Joiners.equal(Appointment::getRepUuid))\n                .filter((appt1, appt2) -&gt; {\n                    if (appt1.getStartTime().before(appt2.getStartTime()) &amp;&amp;\n                            appt1.getEndTime().before(appt2.getStartTime()) &amp;&amp;\n                            appt1.getStartTime().before(appt2.getEndTime()) &amp;&amp;\n                            appt1.getEndTime().before(appt2.getEndTime())) {\n                        return true;\n                    }\n                    return false;\n                })\n                // ... and penalize each pair with a hard weight.\n                .reward(HardMediumSoftScore.ONE_MEDIUM)\n                .asConstraint(&quot;SalesRep reward for Appointments&quot;);\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-compiler-plugin","maven-module"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1436427440,"post_id":31310929,"comment_id":50610378,"body_markdown":"So `com.myproj.beans` is coming from that WAR?  Why does it have to be a WAR?  Couldn&#39;t it be a JAR?","body":"So <code>com.myproj.beans</code> is coming from that WAR?  Why does it have to be a WAR?  Couldn&#39;t it be a JAR?"},{"owner":{"account_id":6268869,"reputation":29,"user_id":4873653,"accept_rate":57,"display_name":"number_43"},"score":0,"creation_date":1436427531,"post_id":31310929,"comment_id":50610444,"body_markdown":"Well, `ws-ejb` is a WAR so I should specify it as a WAR I guess.","body":"Well, <code>ws-ejb</code> is a WAR so I should specify it as a WAR I guess."}],"answers":[{"tags":[],"owner":{"account_id":5294173,"reputation":320,"user_id":4225763,"accept_rate":50,"display_name":"Abbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1436428706,"creation_date":1436427575,"answer_id":31311046,"question_id":31310929,"body_markdown":"Since you did not post any example code i can only guess. But my guess would be that your test-code is not in the test-folder in your project. So what does this mean? this means that maven just tries to compile and/or run your test-project and this causes the exception. Try removing the scope attribute from your dependency and try it again. The test-scope will only work if you use the test-folder with for example JUnit. If your code is in the &quot;main&quot; folder this would not work as the dependency is not accessible at runtime. If something is unclear or you have some information that i did not get please comment :)  \r\nKind regards  \r\nEDIT: To expand a little bit on this: I would strongly advice writing the test-code for a given artifact in the artifact it self as tests. In that way you will get a maven-build failure in the artifact that has the error, if the tests fail. To see how this works you could just add a JUnit test for a specific class (most IDEs will support you with that)  \r\nEDIT 2: Ok, i did a quick googlesearch: [this article](https://pragmaticintegrator.wordpress.com/2010/10/22/using-a-war-module-as-dependency-in-maven/) could provide an answer on how to use the classes. I hope this does the trick :)","title":"My maven module cannot find class in my other maven module though I am setting it as dependency","body":"<p>Since you did not post any example code i can only guess. But my guess would be that your test-code is not in the test-folder in your project. So what does this mean? this means that maven just tries to compile and/or run your test-project and this causes the exception. Try removing the scope attribute from your dependency and try it again. The test-scope will only work if you use the test-folder with for example JUnit. If your code is in the \"main\" folder this would not work as the dependency is not accessible at runtime. If something is unclear or you have some information that i did not get please comment :)<br>\nKind regards<br>\nEDIT: To expand a little bit on this: I would strongly advice writing the test-code for a given artifact in the artifact it self as tests. In that way you will get a maven-build failure in the artifact that has the error, if the tests fail. To see how this works you could just add a JUnit test for a specific class (most IDEs will support you with that)<br>\nEDIT 2: Ok, i did a quick googlesearch: <a href=\"https://pragmaticintegrator.wordpress.com/2010/10/22/using-a-war-module-as-dependency-in-maven/\" rel=\"nofollow\">this article</a> could provide an answer on how to use the classes. I hope this does the trick :)</p>\n"}],"owner":{"account_id":6268869,"reputation":29,"user_id":4873653,"accept_rate":57,"display_name":"number_43"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31311046,"answer_count":1,"score":0,"last_activity_date":1670573353,"creation_date":1436427245,"question_id":31310929,"body_markdown":"I have two maven modules. One named `tests` and one `ws-ejb`. \r\n\r\nIn the `tests` pom.xml I have set the `ws-ejb` to be a dependency so I can use the EJB&#39;s in my tests.&lt;br /&gt; \r\nThis is a shortened version of the pom.xml of my `tests` maven module:\r\n\r\n    &lt;parent&gt;\r\n       &lt;artifactId&gt;myproj&lt;/artifactId&gt;\r\n       &lt;groupId&gt;myproj&lt;/groupId&gt;\r\n       &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;artifactId&gt;tests&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;myproj&lt;/groupId&gt;\r\n         &lt;artifactId&gt;ws-ejb&lt;/artifactId&gt;\r\n         &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt; \r\n         &lt;type&gt;war&lt;/type&gt;\r\n       &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    ...\r\n    &lt;!-- other dependencies in the file: junit and javax.ejb --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n               &lt;execution&gt;\r\n                  &lt;id&gt;tests&lt;/id&gt;\r\n                  &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                     &lt;goal&gt;test&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n               &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;        \r\n       &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\nBut when I run my test I get a compilation error stating that my bean could not be found, but I have it as a dependency and my IDE does not complain about the missing bean, but maven does: \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:testCompile (default-testCompile) on project tests: Compilation failure: Compilation failure:\r\n    [ERROR] /home/r/projects/myproj/trunk/tests/src/test/java/com/myproj/MyTest.java [3,19]package com.myproj.beans does not exist\r\n\r\nThe package `com.myproj.beans` does exist in the maven module `ws-ejb` that I have set as a dependency in the `tests` module. So what is wrong?\r\n\r\n**EDIT**\r\n\r\nThis is MyTest.java located in the `tests` maven module under `src/test/java/com/myproj/MyTest.java`\r\n\r\n    package com.myproj;\r\n    \r\n    import com.myproj.beans.MyBean; // compilation error here. If I remove this line it works and the test is run! \r\n    //MyBean is located at `ws-ejb` maven module under src/main/java/com.myproj.beans\r\n    import javax.ejb.EJB;\r\n    import org.junit.Test;\r\n\r\n    public class MyTest {\r\n        @Test\r\n        public void test() {System.out.println(&quot;Print something...&quot;);}\r\n    }\r\n","title":"My maven module cannot find class in my other maven module though I am setting it as dependency","body":"<p>I have two maven modules. One named <code>tests</code> and one <code>ws-ejb</code>.</p>\n<p>In the <code>tests</code> pom.xml I have set the <code>ws-ejb</code> to be a dependency so I can use the EJB's in my tests.<br />\nThis is a shortened version of the pom.xml of my <code>tests</code> maven module:</p>\n<pre><code>&lt;parent&gt;\n   &lt;artifactId&gt;myproj&lt;/artifactId&gt;\n   &lt;groupId&gt;myproj&lt;/groupId&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;artifactId&gt;tests&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n     &lt;groupId&gt;myproj&lt;/groupId&gt;\n     &lt;artifactId&gt;ws-ejb&lt;/artifactId&gt;\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n     &lt;scope&gt;test&lt;/scope&gt; \n     &lt;type&gt;war&lt;/type&gt;\n   &lt;dependencies&gt;\n&lt;dependency&gt;\n...\n&lt;!-- other dependencies in the file: junit and javax.ejb --&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n     &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n           &lt;execution&gt;\n              &lt;id&gt;tests&lt;/id&gt;\n              &lt;phase&gt;integration-test&lt;/phase&gt;\n              &lt;goals&gt;\n                 &lt;goal&gt;test&lt;/goal&gt;\n              &lt;/goals&gt;\n           &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;        \n   &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n<p>But when I run my test I get a compilation error stating that my bean could not be found, but I have it as a dependency and my IDE does not complain about the missing bean, but maven does:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:testCompile (default-testCompile) on project tests: Compilation failure: Compilation failure:\n[ERROR] /home/r/projects/myproj/trunk/tests/src/test/java/com/myproj/MyTest.java [3,19]package com.myproj.beans does not exist\n</code></pre>\n<p>The package <code>com.myproj.beans</code> does exist in the maven module <code>ws-ejb</code> that I have set as a dependency in the <code>tests</code> module. So what is wrong?</p>\n<p><strong>EDIT</strong></p>\n<p>This is MyTest.java located in the <code>tests</code> maven module under <code>src/test/java/com/myproj/MyTest.java</code></p>\n<pre><code>package com.myproj;\n\nimport com.myproj.beans.MyBean; // compilation error here. If I remove this line it works and the test is run! \n//MyBean is located at `ws-ejb` maven module under src/main/java/com.myproj.beans\nimport javax.ejb.EJB;\nimport org.junit.Test;\n\npublic class MyTest {\n    @Test\n    public void test() {System.out.println(&quot;Print something...&quot;);}\n}\n</code></pre>\n"},{"tags":["java","environment-variables","snap-python"],"comments":[{"owner":{"account_id":8048473,"reputation":202,"user_id":6067915,"display_name":"murthy"},"score":0,"creation_date":1481116663,"post_id":41018202,"comment_id":69244019,"body_markdown":"check this link, i think the same to ubuntu as well\n\nhttps://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/","body":"check this link, i think the same to ubuntu as well  <a href=\"https://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/\" rel=\"nofollow noreferrer\">douglascayers.com/2015/05/30/&hellip;</a>"},{"owner":{"account_id":9752467,"reputation":160,"user_id":7230307,"accept_rate":33,"display_name":"Marek"},"score":0,"creation_date":1481116778,"post_id":41018202,"comment_id":69244115,"body_markdown":"this is a instruction for windows. and i read/posted an instruction for mint/ubuntu for JAVA_HOME.","body":"this is a instruction for windows. and i read/posted an instruction for mint/ubuntu for JAVA_HOME."},{"owner":{"account_id":8048473,"reputation":202,"user_id":6067915,"display_name":"murthy"},"score":0,"creation_date":1481116922,"post_id":41018202,"comment_id":69244210,"body_markdown":"may be this might works for you\n\nhttps://www.youtube.com/watch?v=qlT0T9NjKZ4","body":"may be this might works for you  <a href=\"https://www.youtube.com/watch?v=qlT0T9NjKZ4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=qlT0T9NjKZ4</a>"},{"owner":{"account_id":9752467,"reputation":160,"user_id":7230307,"accept_rate":33,"display_name":"Marek"},"score":0,"creation_date":1481128139,"post_id":41018202,"comment_id":69252184,"body_markdown":"No, it doesn&#39;t work. I set JAVA_HOME like the video told me.","body":"No, it doesn&#39;t work. I set JAVA_HOME like the video told me."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1481117308,"creation_date":1481117308,"answer_id":41018764,"question_id":41018202,"body_markdown":"Create a symbolic link:\r\n\r\n    ln -s /opt/java/jdk1.8.0_111 /opt/java/latest\r\n\r\nDirectory listing for `/opt/java`:\r\n\r\n    .\r\n    jdk1.8.0_111/\r\n    latest/ -&gt; /opt/java/jdk1.8.0_111\r\n\r\nSet exports\r\n\r\n    export JDK_HOME=/opt/java/latest\r\n    export JAVA_HOME=${JDK_HOME}\r\n    export PATH=$PATH:${JAVA_HOME}/bin\r\n\r\nNow, when you install a new version of the Java JDK, simply alter your *latest* symbolic link.","title":"How to set JDK_HOME","body":"<p>Create a symbolic link:</p>\n\n<pre><code>ln -s /opt/java/jdk1.8.0_111 /opt/java/latest\n</code></pre>\n\n<p>Directory listing for <code>/opt/java</code>:</p>\n\n<pre><code>.\njdk1.8.0_111/\nlatest/ -&gt; /opt/java/jdk1.8.0_111\n</code></pre>\n\n<p>Set exports</p>\n\n<pre><code>export JDK_HOME=/opt/java/latest\nexport JAVA_HOME=${JDK_HOME}\nexport PATH=$PATH:${JAVA_HOME}/bin\n</code></pre>\n\n<p>Now, when you install a new version of the Java JDK, simply alter your <em>latest</em> symbolic link.</p>\n"}],"owner":{"account_id":9752467,"reputation":160,"user_id":7230307,"accept_rate":33,"display_name":"Marek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27424,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41018764,"answer_count":1,"score":6,"last_activity_date":1670573169,"creation_date":1481115687,"question_id":41018202,"body_markdown":"I try to work with the snappy module in python using conda as a virtuelenv. I have in Linux Mint 18 Sarah.\r\n\r\nI have the module `snappy`, but if i try to test it with the following code: `from snappy import ProductIO` I got the following response: \r\n\r\n    Traceback (most recent call last):\r\n      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n      File &quot;/home/mara/.snap/snap-python/snappy/__init__.py&quot;, line 61, in &lt;module&gt;\r\n        import jpyutil\r\n    ImportError: No module named &#39;jpyutil&#39;\r\n\r\nThus, I tried to get jdk with `pip install -i https://pypi.anaconda.org/pypi/simple jpy` . And i got: `Error: Environment variable &quot;JDK_HOME&quot; must be set to a JDK (&gt;= v1.6) installation directory`\r\n\r\nThus, I installed `jdk1.8.0_111`. I used this instruction: https://community.linuxmint.com/tutorial/view/1372. But I don&#39;t know how to set the JDK_HOME variable in a correct way. I tried it using an instruction for JAVA_HOME (https://askubuntu.com/questions/175514/how-to-set-java-home-for-java) and write `JDK_HOME=&quot;/opt/java/jdk1.8.0_111&quot;` in the environment file but it doesn&#39;t work. I got the same Error like before changing the environment file.\r\n\r\nHope somebody can help me.\r\n\r\n\r\n","title":"How to set JDK_HOME","body":"<p>I try to work with the snappy module in python using conda as a virtuelenv. I have in Linux Mint 18 Sarah.</p>\n\n<p>I have the module <code>snappy</code>, but if i try to test it with the following code: <code>from snappy import ProductIO</code> I got the following response: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/mara/.snap/snap-python/snappy/__init__.py\", line 61, in &lt;module&gt;\n    import jpyutil\nImportError: No module named 'jpyutil'\n</code></pre>\n\n<p>Thus, I tried to get jdk with <code>pip install -i https://pypi.anaconda.org/pypi/simple jpy</code> . And i got: <code>Error: Environment variable \"JDK_HOME\" must be set to a JDK (&gt;= v1.6) installation directory</code></p>\n\n<p>Thus, I installed <code>jdk1.8.0_111</code>. I used this instruction: <a href=\"https://community.linuxmint.com/tutorial/view/1372\" rel=\"noreferrer\">https://community.linuxmint.com/tutorial/view/1372</a>. But I don't know how to set the JDK_HOME variable in a correct way. I tried it using an instruction for JAVA_HOME (<a href=\"https://askubuntu.com/questions/175514/how-to-set-java-home-for-java\">https://askubuntu.com/questions/175514/how-to-set-java-home-for-java</a>) and write <code>JDK_HOME=\"/opt/java/jdk1.8.0_111\"</code> in the environment file but it doesn't work. I got the same Error like before changing the environment file.</p>\n\n<p>Hope somebody can help me.</p>\n"},{"tags":["java","log4j","slf4j"],"answers":[{"tags":[],"owner":{"account_id":15425191,"reputation":61,"user_id":11128098,"display_name":"Navneeth S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643877771,"creation_date":1643877771,"answer_id":70968149,"question_id":70797577,"body_markdown":"This is the solution mentioned officially in the slf4j website\r\n\r\nhttps://www.slf4j.org/codes.html#StaticLoggerBinder\r\n\r\nI was using *logback* and *slf4j* (in *gradle*) , so the solution mentioned in the second paragraph was what worked for me.","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder post log4j Remediation","body":"<p>This is the solution mentioned officially in the slf4j website</p>\n<p><a href=\"https://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#StaticLoggerBinder</a></p>\n<p>I was using <em>logback</em> and <em>slf4j</em> (in <em>gradle</em>) , so the solution mentioned in the second paragraph was what worked for me.</p>\n"}],"owner":{"account_id":23726788,"reputation":31,"user_id":17746580,"display_name":"VINOD SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17919,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670573120,"creation_date":1642748790,"question_id":70797577,"body_markdown":"To Remediate log4j issue recently We made few changes to existing POM files.  \r\n\r\nWe removed \r\n\r\n```lang-xml\r\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n```\r\n\r\nAnd added\r\n\r\n```lang-xml\r\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n```\r\n\r\nIn the parent pom below is the slf4j version\r\n\r\n```lang-xml\r\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n&lt;version&gt;2.17.0&lt;/version&gt;\r\n```\r\n\r\nApplication is running fine but now we are getting warning message as \r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\n\r\nCan someone help me in providing a solution to this please.\r\n\r\n","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder post log4j Remediation","body":"<p>To Remediate log4j issue recently We made few changes to existing POM files.</p>\n<p>We removed</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n</code></pre>\n<p>And added</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n</code></pre>\n<p>In the parent pom below is the slf4j version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n&lt;version&gt;2.17.0&lt;/version&gt;\n</code></pre>\n<p>Application is running fine but now we are getting warning message as</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>Can someone help me in providing a solution to this please.</p>\n"},{"tags":["java","wso2","amazon-iam","wso2-micro-integrator","aws-signature"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1670682743,"post_id":74740289,"comment_id":131932115,"body_markdown":"Seems like a time syncing issue in your container.","body":"Seems like a time syncing issue in your container."},{"owner":{"account_id":8172467,"reputation":11,"user_id":6152432,"display_name":"Sachitha SA"},"score":0,"creation_date":1670831696,"post_id":74740289,"comment_id":131955811,"body_markdown":"I added 24 hours to the current time, i guess that is why I am getting this issue. So I removed it and tried it again. Then I got different error response &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.&quot; @ycr","body":"I added 24 hours to the current time, i guess that is why I am getting this issue. So I removed it and tried it again. Then I got different error response &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.&quot; @ycr"}],"owner":{"account_id":8172467,"reputation":11,"user_id":6152432,"display_name":"Sachitha SA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670572787,"creation_date":1670572787,"question_id":74740289,"body_markdown":"I am currently trying to list all users using AWS IAM api and facing some difficulties. When after invoking the API through the WSO2 micro integrator it shows following error,\r\n\r\n[XML Response from AWS](https://i.stack.imgur.com/5lsV0.png)\r\n\r\n\r\nI have set the time zone to UTC in the deployed docker pod. To generate the signature I had to implement a custom class mediator and used the [AWS recommended java implementation](https://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html#signature-v4-examples-java) to generate the key.\r\n\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.Calendar;\r\n\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nimport org.apache.synapse.MessageContext;\r\nimport org.apache.synapse.mediators.AbstractMediator;\r\nimport org.joda.time.format.DateTimeFormat;\r\nimport org.joda.time.format.DateTimeFormatter;\r\n\r\npublic class IamConfigMediator extends AbstractMediator {\r\n\r\n    private static final String ACCESS_KEY = &quot;XXXX&quot;;\r\n    private static final String SECRET_KEY = &quot;XXXXXX&quot;;\r\n    private static final String region = &quot;us-east-1&quot;;\r\n    private static final String serviceName = &quot;iam&quot;;\r\n    private static final String HMAC_SHA1_ALGORITHM = &quot;HmacSHA1&quot;;\r\n    \r\n    \r\n    public boolean mediate(MessageContext context) {\r\n        log.info(&quot;[IamConfigMediator] Generating SIGNATURE_HEADER and EXPIRE_TIME ##############################&quot;);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.add(Calendar.HOUR_OF_DAY, 24);\r\n        long time = cal.getTimeInMillis();\r\n        String expireTime = formatTimestamp(time);\r\n    \r\n        context.setProperty(&quot;EXPIRE_TIME&quot;, expireTime);\r\n    \r\n        try {\r\n            byte[] signature = getSignatureKey(SECRET_KEY, expireTime, region, serviceName);\r\n            String header = &quot;AWS4-HMAC-SHA256 Credential=&quot; + ACCESS_KEY + &quot;/&quot; + expireTime + &quot;/&quot; + region + &quot;/&quot; + serviceName + &quot;/aws4_request, SignedHeaders=host;x-amz-date, Signature=&quot; + bytesToHex(signature);\r\n            context.setProperty(&quot;SIGNATURE_HEADER&quot;, header);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n    static byte[] HmacSHA256(String data, byte[] key) throws Exception {\r\n        String algorithm = &quot;HmacSHA256&quot;;\r\n        Mac mac = Mac.getInstance(algorithm);\r\n        mac.init(new SecretKeySpec(key, algorithm));\r\n        return mac.doFinal(data.getBytes(&quot;UTF-8&quot;));\r\n    }\r\n    \r\n    static byte[] getSignatureKey(String key, String dateStamp, String regionName, String serviceName) throws Exception {\r\n        byte[] kSecret = (&quot;AWS4&quot; + key).getBytes(&quot;UTF-8&quot;);\r\n        byte[] kDate = HmacSHA256(dateStamp, kSecret);\r\n        byte[] kRegion = HmacSHA256(regionName, kDate);\r\n        byte[] kService = HmacSHA256(serviceName, kRegion);\r\n        byte[] kSigning = HmacSHA256(&quot;aws4_request&quot;, kService);\r\n        return kSigning;\r\n    }\r\n    \r\n    private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n    \r\n    private static final DateTimeFormatter dateFormatter = DateTimeFormat\r\n        .forPattern(&quot;yyyyMMdd&quot;).withZoneUTC();\r\n    \r\n    private static final DateTimeFormatter timeFormatter = DateTimeFormat\r\n        .forPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;).withZoneUTC();\r\n    \r\n    public static String formatTimestamp(long timeMilli) {\r\n        return timeFormatter.print(timeMilli);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAbove implementation was used to generate the signature header(&quot;SIGNATURE_HEADER&quot;).","title":"&quot;Signature not yet current&quot; in AWS signature 4 - WSO2 class mediator","body":"<p>I am currently trying to list all users using AWS IAM api and facing some difficulties. When after invoking the API through the WSO2 micro integrator it shows following error,</p>\n<p><a href=\"https://i.stack.imgur.com/5lsV0.png\" rel=\"nofollow noreferrer\">XML Response from AWS</a></p>\n<p>I have set the time zone to UTC in the deployed docker pod. To generate the signature I had to implement a custom class mediator and used the <a href=\"https://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html#signature-v4-examples-java\" rel=\"nofollow noreferrer\">AWS recommended java implementation</a> to generate the key.</p>\n<pre><code>package test;\n\nimport java.util.Calendar;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.synapse.MessageContext;\nimport org.apache.synapse.mediators.AbstractMediator;\nimport org.joda.time.format.DateTimeFormat;\nimport org.joda.time.format.DateTimeFormatter;\n\npublic class IamConfigMediator extends AbstractMediator {\n\n    private static final String ACCESS_KEY = &quot;XXXX&quot;;\n    private static final String SECRET_KEY = &quot;XXXXXX&quot;;\n    private static final String region = &quot;us-east-1&quot;;\n    private static final String serviceName = &quot;iam&quot;;\n    private static final String HMAC_SHA1_ALGORITHM = &quot;HmacSHA1&quot;;\n    \n    \n    public boolean mediate(MessageContext context) {\n        log.info(&quot;[IamConfigMediator] Generating SIGNATURE_HEADER and EXPIRE_TIME ##############################&quot;);\n        Calendar cal = Calendar.getInstance();\n        cal.add(Calendar.HOUR_OF_DAY, 24);\n        long time = cal.getTimeInMillis();\n        String expireTime = formatTimestamp(time);\n    \n        context.setProperty(&quot;EXPIRE_TIME&quot;, expireTime);\n    \n        try {\n            byte[] signature = getSignatureKey(SECRET_KEY, expireTime, region, serviceName);\n            String header = &quot;AWS4-HMAC-SHA256 Credential=&quot; + ACCESS_KEY + &quot;/&quot; + expireTime + &quot;/&quot; + region + &quot;/&quot; + serviceName + &quot;/aws4_request, SignedHeaders=host;x-amz-date, Signature=&quot; + bytesToHex(signature);\n            context.setProperty(&quot;SIGNATURE_HEADER&quot;, header);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    \n        return true;\n    }\n    \n    static byte[] HmacSHA256(String data, byte[] key) throws Exception {\n        String algorithm = &quot;HmacSHA256&quot;;\n        Mac mac = Mac.getInstance(algorithm);\n        mac.init(new SecretKeySpec(key, algorithm));\n        return mac.doFinal(data.getBytes(&quot;UTF-8&quot;));\n    }\n    \n    static byte[] getSignatureKey(String key, String dateStamp, String regionName, String serviceName) throws Exception {\n        byte[] kSecret = (&quot;AWS4&quot; + key).getBytes(&quot;UTF-8&quot;);\n        byte[] kDate = HmacSHA256(dateStamp, kSecret);\n        byte[] kRegion = HmacSHA256(regionName, kDate);\n        byte[] kService = HmacSHA256(serviceName, kRegion);\n        byte[] kSigning = HmacSHA256(&quot;aws4_request&quot;, kService);\n        return kSigning;\n    }\n    \n    private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\n    public static String bytesToHex(byte[] bytes) {\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n    \n    private static final DateTimeFormatter dateFormatter = DateTimeFormat\n        .forPattern(&quot;yyyyMMdd&quot;).withZoneUTC();\n    \n    private static final DateTimeFormatter timeFormatter = DateTimeFormat\n        .forPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;).withZoneUTC();\n    \n    public static String formatTimestamp(long timeMilli) {\n        return timeFormatter.print(timeMilli);\n    }\n\n}\n\n</code></pre>\n<p>Above implementation was used to generate the signature header(&quot;SIGNATURE_HEADER&quot;).</p>\n"},{"tags":["java","automated-tests","playwright","playwright-java"],"owner":{"account_id":27192120,"reputation":1,"user_id":20725688,"display_name":"HungryHeart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670571035,"creation_date":1670557651,"question_id":74738735,"body_markdown":"I have a requirement in QA automation using Microsoft playwright that needs to listen to the HTML DOM manipulation in the java playwright. I have seen different examples in node playwright but none in java playwright.\r\n\r\nI tried using `BrowserContext.exposeFunction` callback but it doesn&#39;t call the exposed java method `mutationRecord`. and does not throw any error or exception. \r\n\r\nThe below code dumps the MutationRecord object in browser console, but the java method doesn&#39;t get called when there is a change in the HTML DOM. The expectation is when there a change in the HTML DOM the java method would be called to print some string on java console or to get an error/exception.\r\n\r\n```java\r\nBrowserContext defaultContext = browserServer.contexts().get(0);\r\n\t\t\t\r\ndefaultContext.exposeFunction(&quot;mutationRecord&quot;, params -&gt;{\r\n\tObject text = (Object) params[0];\r\n\tSystem.out.println(text.toString());\r\n\treturn &quot;&quot;;\r\n});\r\n\r\nString mutation = &quot;var mutationObserver = new MutationObserver(function(mutations) {\\n&quot; +\r\n&quot; mutations.forEach(function(mutation) {\\n&quot; +\r\n&quot; console.log(mutation);\\n&quot; +\r\n&quot; window.mutationRecord(mutation);\\n&quot; +\r\n&quot; });\\n&quot; +\r\n&quot;});\\n\\n&quot; +\r\n&quot;mutationObserver.observe(document.documentElement, {\\n&quot; +\r\n&quot; attributes: true,\\n&quot; +\r\n&quot; characterData: true,\\n&quot; +\r\n&quot; childList: true,\\n&quot; +\r\n&quot; subtree: true,\\n&quot; +\r\n&quot; attributeOldValue: true,\\n&quot; +\r\n&quot; characterDataOldValue: true\\n&quot; +\r\n&quot;});&quot;;\r\n\r\npage.evaluate(mutation);\r\n```\r\n\r\nI tried calling Java function from JavaScript using `context.exposeFunction`. The java method doesn&#39;t get called even if there is a html DOM manipulation. How can it be fixed?\r\n\r\n---\r\n\r\nI have tried exposing and calling a different, simpler java method, which works perfectly fine. Here it is:\r\n\r\n```java\r\nimport com.microsoft.playwright.*;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.Base64;\r\n\r\npublic class Example {\r\n  public static void main(String[] args) {\r\n    try (Playwright playwright = Playwright.create()) {\r\n      BrowserType webkit = playwright.webkit()\r\n      Browser browser = webkit.launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n      context.exposeFunction(&quot;sha256&quot;, args -&gt; {\r\n        String text = (String) args[0];\r\n        MessageDigest crypto;\r\n        try {\r\n          crypto = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        } catch (NoSuchAlgorithmException e) {\r\n          return null;\r\n        }\r\n        byte[] token = crypto.digest(text.getBytes(StandardCharsets.UTF_8));\r\n        return Base64.getEncoder().encodeToString(token);\r\n      });\r\n      Page page = context.newPage();\r\n      page.setContent(&quot;&lt;script&gt;\\n&quot; +\r\n        &quot;  async function onClick() {\\n&quot; +\r\n        &quot;    document.querySelector(&#39;div&#39;).textContent = await window.sha256(&#39;PLAYWRIGHT&#39;);\\n&quot; +\r\n        &quot;  }\\n&quot; +\r\n        &quot;&lt;/script&gt;\\n&quot; +\r\n        &quot;&lt;button onclick=\\&quot;onClick()\\&quot;&gt;Click me&lt;/button&gt;\\n&quot; +\r\n        &quot;&lt;div&gt;&lt;/div&gt;\\n&quot;);\r\n      page.getByRole(&quot;button&quot;).click();\r\n    }\r\n  }\r\n}\r\n```","title":"Java Playwright with MutationObserver for HTML DOM manipulation","body":"<p>I have a requirement in QA automation using Microsoft playwright that needs to listen to the HTML DOM manipulation in the java playwright. I have seen different examples in node playwright but none in java playwright.</p>\n<p>I tried using <code>BrowserContext.exposeFunction</code> callback but it doesn't call the exposed java method <code>mutationRecord</code>. and does not throw any error or exception.</p>\n<p>The below code dumps the MutationRecord object in browser console, but the java method doesn't get called when there is a change in the HTML DOM. The expectation is when there a change in the HTML DOM the java method would be called to print some string on java console or to get an error/exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BrowserContext defaultContext = browserServer.contexts().get(0);\n            \ndefaultContext.exposeFunction(&quot;mutationRecord&quot;, params -&gt;{\n    Object text = (Object) params[0];\n    System.out.println(text.toString());\n    return &quot;&quot;;\n});\n\nString mutation = &quot;var mutationObserver = new MutationObserver(function(mutations) {\\n&quot; +\n&quot; mutations.forEach(function(mutation) {\\n&quot; +\n&quot; console.log(mutation);\\n&quot; +\n&quot; window.mutationRecord(mutation);\\n&quot; +\n&quot; });\\n&quot; +\n&quot;});\\n\\n&quot; +\n&quot;mutationObserver.observe(document.documentElement, {\\n&quot; +\n&quot; attributes: true,\\n&quot; +\n&quot; characterData: true,\\n&quot; +\n&quot; childList: true,\\n&quot; +\n&quot; subtree: true,\\n&quot; +\n&quot; attributeOldValue: true,\\n&quot; +\n&quot; characterDataOldValue: true\\n&quot; +\n&quot;});&quot;;\n\npage.evaluate(mutation);\n</code></pre>\n<p>I tried calling Java function from JavaScript using <code>context.exposeFunction</code>. The java method doesn't get called even if there is a html DOM manipulation. How can it be fixed?</p>\n<hr />\n<p>I have tried exposing and calling a different, simpler java method, which works perfectly fine. Here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.playwright.*;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Base64;\n\npublic class Example {\n  public static void main(String[] args) {\n    try (Playwright playwright = Playwright.create()) {\n      BrowserType webkit = playwright.webkit()\n      Browser browser = webkit.launch(new BrowserType.LaunchOptions().setHeadless(false));\n      context.exposeFunction(&quot;sha256&quot;, args -&gt; {\n        String text = (String) args[0];\n        MessageDigest crypto;\n        try {\n          crypto = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        } catch (NoSuchAlgorithmException e) {\n          return null;\n        }\n        byte[] token = crypto.digest(text.getBytes(StandardCharsets.UTF_8));\n        return Base64.getEncoder().encodeToString(token);\n      });\n      Page page = context.newPage();\n      page.setContent(&quot;&lt;script&gt;\\n&quot; +\n        &quot;  async function onClick() {\\n&quot; +\n        &quot;    document.querySelector('div').textContent = await window.sha256('PLAYWRIGHT');\\n&quot; +\n        &quot;  }\\n&quot; +\n        &quot;&lt;/script&gt;\\n&quot; +\n        &quot;&lt;button onclick=\\&quot;onClick()\\&quot;&gt;Click me&lt;/button&gt;\\n&quot; +\n        &quot;&lt;div&gt;&lt;/div&gt;\\n&quot;);\n      page.getByRole(&quot;button&quot;).click();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","e-token"],"comments":[{"owner":{"display_name":"user1531971"},"score":5,"creation_date":1542731507,"post_id":53397363,"comment_id":93670079,"body_markdown":"This is probably off-topic for this site unless you can expand a bit on the code you are using to solve the problem you have, but I think the whole point of these tokens is to *not* let you export the private key. No USB or contact token device I know lets you do this, as it subverts the whole reason for the token.","body":"This is probably off-topic for this site unless you can expand a bit on the code you are using to solve the problem you have, but I think the whole point of these tokens is to <i>not</i> let you export the private key. No USB or contact token device I know lets you do this, as it subverts the whole reason for the token."}],"answers":[{"tags":[],"owner":{"account_id":14790076,"reputation":11,"user_id":10681286,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1543237766,"creation_date":1543237766,"answer_id":53481840,"question_id":53397363,"body_markdown":"Ok, I&#39;ve found out how to sign smtx with hardware token, and I hope someone will find it usefull. Need to use Signature class and SunPKCS11 provider\r\n\r\n    public static byte[] sign(byte[] file) throws Exception {\r\n\r\n        char password[] = &quot;12345678&quot;.toCharArray();\r\n        Provider userProvider = new sun.security.pkcs11.SunPKCS11(&quot;C:\\\\ForJava\\\\eToken.cfg&quot;);\r\n        KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, userProvider);\r\n        ks.load(null, password);   \r\n        \r\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n        Security.addProvider(userProvider);\r\n        \r\n        //Working only with the first alias on the token\r\n        String alias = (String)ks.aliases().nextElement();\r\n        \r\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;); \r\n        PrivateKey privateKey = (PrivateKey) ks.getKey(alias, password);\r\n        signature.initSign(privateKey);\r\n        signature.update(file);\r\n        \r\n        byte[] result = signature.sign();\r\n        //System.out.println(&quot;result coding: \\n&quot; +new BASE64Encoder().encode(result));\r\n        return result;\r\n    }\r\n\r\nTo verify signed data u can use the following code\r\n\r\n    public static void verify(byte[] sig, byte[] original) throws Exception {\r\n        \r\n        Keystore keystore = initKeystore();\r\n        PublicKey key = keystore.getCertificate(getCertAlias()).getPublicKey();\r\n        Signature s = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        s.initVerify(key);\r\n        s.update(original);\r\n        \r\n        if ( ! s.verify(sig)) {\r\n            System.out.println(&quot;Signature check FAILED&quot;);\r\n            return;\r\n        }\r\n        System.out.println(&quot;Signature check PASSED&quot;);\r\n        \r\n        \r\n    }","title":"Signing file with hardware token","body":"<p>Ok, I've found out how to sign smtx with hardware token, and I hope someone will find it usefull. Need to use Signature class and SunPKCS11 provider</p>\n\n<pre><code>public static byte[] sign(byte[] file) throws Exception {\n\n    char password[] = \"12345678\".toCharArray();\n    Provider userProvider = new sun.security.pkcs11.SunPKCS11(\"C:\\\\ForJava\\\\eToken.cfg\");\n    KeyStore ks = KeyStore.getInstance(\"PKCS11\", userProvider);\n    ks.load(null, password);   \n\n    Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n    Security.addProvider(userProvider);\n\n    //Working only with the first alias on the token\n    String alias = (String)ks.aliases().nextElement();\n\n    Signature signature = Signature.getInstance(\"SHA256withRSA\"); \n    PrivateKey privateKey = (PrivateKey) ks.getKey(alias, password);\n    signature.initSign(privateKey);\n    signature.update(file);\n\n    byte[] result = signature.sign();\n    //System.out.println(\"result coding: \\n\" +new BASE64Encoder().encode(result));\n    return result;\n}\n</code></pre>\n\n<p>To verify signed data u can use the following code</p>\n\n<pre><code>public static void verify(byte[] sig, byte[] original) throws Exception {\n\n    Keystore keystore = initKeystore();\n    PublicKey key = keystore.getCertificate(getCertAlias()).getPublicKey();\n    Signature s = Signature.getInstance(\"SHA256withRSA\");\n    s.initVerify(key);\n    s.update(original);\n\n    if ( ! s.verify(sig)) {\n        System.out.println(\"Signature check FAILED\");\n        return;\n    }\n    System.out.println(\"Signature check PASSED\");\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146959,"reputation":1,"user_id":1904385,"display_name":"vksharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670571033,"creation_date":1670571033,"answer_id":74740049,"question_id":53397363,"body_markdown":"Please add initKeysStore() method into it. It will be more useful then.","title":"Signing file with hardware token","body":"<p>Please add initKeysStore() method into it. It will be more useful then.</p>\n"}],"owner":{"account_id":14790076,"reputation":11,"user_id":10681286,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":53481840,"answer_count":2,"score":-2,"last_activity_date":1670571033,"creation_date":1542731264,"question_id":53397363,"body_markdown":"I&#39;m trying to sign some files with SafeNet eToken5110. I have managed to get certificate from it but found out that i can&#39;t export PrivateKey. I developed some code to encrypt/decrypt files with common certificate, now my issue is to do the same with eToken. But i can&#39;t find any info how to do that. \r\nAny tips? Is there any API for that? (and documentation/examples)\r\n","title":"Signing file with hardware token","body":"<p>I'm trying to sign some files with SafeNet eToken5110. I have managed to get certificate from it but found out that i can't export PrivateKey. I developed some code to encrypt/decrypt files with common certificate, now my issue is to do the same with eToken. But i can't find any info how to do that. \nAny tips? Is there any API for that? (and documentation/examples)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670568230,"post_id":74739692,"comment_id":131908628,"body_markdown":"There doesn&#39;t seem to be any streams in your question...?","body":"There doesn&#39;t seem to be any streams in your question...?"},{"owner":{"account_id":20614626,"reputation":381,"user_id":15151531,"display_name":"Santa Monica"},"score":0,"creation_date":1670568285,"post_id":74739692,"comment_id":131908635,"body_markdown":"The optional class does not belong to the streams? @Sweeper","body":"The optional class does not belong to the streams? @Sweeper"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1670568338,"post_id":74739692,"comment_id":131908644,"body_markdown":"No it does not &quot;belong to the streams&quot;, whatever you mean by that phrase. `Optional` is just `Optional`.","body":"No it does not &quot;belong to the streams&quot;, whatever you mean by that phrase. <code>Optional</code> is just <code>Optional</code>."},{"owner":{"account_id":5324953,"reputation":1348,"user_id":4424636,"display_name":"Greenonline"},"score":0,"creation_date":1670843330,"post_id":74739692,"comment_id":131959137,"body_markdown":"Please post the *actual* error message. Is &quot;The error occurs because Optional&lt;User&gt; cannot be converted to Optional&lt;UserDetails&gt;&quot; the literal error message that is output?","body":"Please post the <i>actual</i> error message. Is &quot;The error occurs because Optional&lt;User&gt; cannot be converted to Optional&lt;UserDetails&gt;&quot; the literal error message that is output?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670569984,"creation_date":1670569239,"answer_id":74739834,"question_id":74739692,"body_markdown":"The second code works because [`Optional.map`][1] is declared like this:\r\n\r\n    public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)\r\n\r\nIt is a *generic* method declared to return any `Optional&lt;U&gt;`. In your code, the generic type parameter `U` is inferred from the return type of the `getUserDetails` method to be `UserDetails`. If you specify the type parameter explicitly, it becomes:\r\n\r\n    return userOptional.&lt;UserDetails&gt;map(user -&gt; user);\r\n\r\nSubstituting `User` for `T` and `UserDetails` for `U`, we can see that `map` takes a parameter of type `Function&lt;? super User,? extends UserDetails&gt;`, i.e. a function that takes a `User` and returns a `UserDetails`. `user -&gt; user`, the identity function, is such a function, because a `User` is always a `UserDetails`. Therefore the code compiles.\r\n\r\nThe first code does not compile because you cannot convert from `Optional&lt;User&gt;` to `Optional&lt;UserDetails&gt;`.\r\n\r\nNote that there is no contravariance, or covariance, for that matter, involved in the second code. It compiles simply because `map` returns `Optional&lt;U&gt;`, where `U` is an inferred type parameter.\r\n\r\nTo be able to convert from `Optional&lt;User&gt;` to `Optional&lt;UserDetails&gt;`, you need covariance. Java only has use-site variance, so you can only achieve covariance by adding `? extends` to `Optional&lt;UserDetails&gt;`.\r\n\r\n```\r\npublic Optional&lt;? extends UserDetails&gt; getUserDetails(String username) {\r\n    Optional&lt;User&gt; userOptional = userService.findByUsername(username);\r\n    return userOptional;\r\n}\r\n```\r\n\r\nSimilarly, for [`Stream.map`][2], it is also a generic method.\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T,? extends R&gt; mapper)\r\n\r\nHowever, in your third code, since the last call in `return` statement&#39;s expression is not `map`, the return type of the `getUserDetails` method is not used to infer `R`. `R` is simply inferred to be `User`, and `findFirst` returns `Optional&lt;User&gt;`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)","title":"How exactly does covariance and contravariance work in java streams?","body":"<p>The second code works because <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Optional.map</code></a> is declared like this:</p>\n<pre><code>public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)\n</code></pre>\n<p>It is a <em>generic</em> method declared to return any <code>Optional&lt;U&gt;</code>. In your code, the generic type parameter <code>U</code> is inferred from the return type of the <code>getUserDetails</code> method to be <code>UserDetails</code>. If you specify the type parameter explicitly, it becomes:</p>\n<pre><code>return userOptional.&lt;UserDetails&gt;map(user -&gt; user);\n</code></pre>\n<p>Substituting <code>User</code> for <code>T</code> and <code>UserDetails</code> for <code>U</code>, we can see that <code>map</code> takes a parameter of type <code>Function&lt;? super User,? extends UserDetails&gt;</code>, i.e. a function that takes a <code>User</code> and returns a <code>UserDetails</code>. <code>user -&gt; user</code>, the identity function, is such a function, because a <code>User</code> is always a <code>UserDetails</code>. Therefore the code compiles.</p>\n<p>The first code does not compile because you cannot convert from <code>Optional&lt;User&gt;</code> to <code>Optional&lt;UserDetails&gt;</code>.</p>\n<p>Note that there is no contravariance, or covariance, for that matter, involved in the second code. It compiles simply because <code>map</code> returns <code>Optional&lt;U&gt;</code>, where <code>U</code> is an inferred type parameter.</p>\n<p>To be able to convert from <code>Optional&lt;User&gt;</code> to <code>Optional&lt;UserDetails&gt;</code>, you need covariance. Java only has use-site variance, so you can only achieve covariance by adding <code>? extends</code> to <code>Optional&lt;UserDetails&gt;</code>.</p>\n<pre><code>public Optional&lt;? extends UserDetails&gt; getUserDetails(String username) {\n    Optional&lt;User&gt; userOptional = userService.findByUsername(username);\n    return userOptional;\n}\n</code></pre>\n<p>Similarly, for <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream.map</code></a>, it is also a generic method.</p>\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T,? extends R&gt; mapper)\n</code></pre>\n<p>However, in your third code, since the last call in <code>return</code> statement's expression is not <code>map</code>, the return type of the <code>getUserDetails</code> method is not used to infer <code>R</code>. <code>R</code> is simply inferred to be <code>User</code>, and <code>findFirst</code> returns <code>Optional&lt;User&gt;</code>.</p>\n"}],"owner":{"account_id":20614626,"reputation":381,"user_id":15151531,"display_name":"Santa Monica"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74739834,"answer_count":1,"score":-1,"last_activity_date":1670570884,"creation_date":1670568141,"question_id":74739692,"body_markdown":"    class User implements UserDetails\r\n\r\nWhy doesn&#39;t it work?\r\n\r\n    public Optional&lt;UserDetails&gt; getUserDetails(String username) {\r\n            Optional&lt;User&gt; userOptional = userService.findByUsername(username);\r\n            return userOptional;\r\n    }\r\n   \r\n\r\n.. but it works.\r\n\r\n    public Optional&lt;UserDetails&gt; getUserDetails(String username) {\r\n        Optional&lt;User&gt; userOptional = userService.findByUsername(username);\r\n        return userOptional.map(user -&gt; user);\r\n    }\r\n\r\nThis also doesn&#39;t work.\r\n\r\n    public Optional&lt;UserDetails&gt; getUserDetails(String username) {\r\n        Optional&lt;User&gt; userOptional = userService.findByUsername(username);\r\n        return userOptional.stream().map(user -&gt; user).findFirst();\r\n    }\r\n\r\nThe error occurs because `Optional&lt;User&gt;` cannot be converted to `Optional&lt;UserDetails&gt;`","title":"How exactly does covariance and contravariance work in java streams?","body":"<pre><code>class User implements UserDetails\n</code></pre>\n<p>Why doesn't it work?</p>\n<pre><code>public Optional&lt;UserDetails&gt; getUserDetails(String username) {\n        Optional&lt;User&gt; userOptional = userService.findByUsername(username);\n        return userOptional;\n}\n</code></pre>\n<p>.. but it works.</p>\n<pre><code>public Optional&lt;UserDetails&gt; getUserDetails(String username) {\n    Optional&lt;User&gt; userOptional = userService.findByUsername(username);\n    return userOptional.map(user -&gt; user);\n}\n</code></pre>\n<p>This also doesn't work.</p>\n<pre><code>public Optional&lt;UserDetails&gt; getUserDetails(String username) {\n    Optional&lt;User&gt; userOptional = userService.findByUsername(username);\n    return userOptional.stream().map(user -&gt; user).findFirst();\n}\n</code></pre>\n<p>The error occurs because <code>Optional&lt;User&gt;</code> cannot be converted to <code>Optional&lt;UserDetails&gt;</code></p>\n"},{"tags":["java","java-security","java-security-manager"],"owner":{"account_id":9124114,"reputation":189,"user_id":6788557,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670570821,"creation_date":1670570821,"question_id":74740008,"body_markdown":"I am trying to lock down a Java program using the security manager.\r\nIt provides a lot of guidance to you in the error state to tell you want it failed on.\r\n\r\nI am down to three issue that don&#39;t show up as any &quot;access denied&quot; errors that come with the recommended policy entry.\r\n\r\nThis application works when the policy is\r\n\r\n    grant {\r\n    \t// Allow everything for now\r\n    \tpermission java.security.AllPermission;\r\n    };\r\n\r\nwhen it is the policy at the bottom of this post.  These errors show up.  I can&#39;t find any &quot;denied&quot; msgs for them\r\n\r\nIssue 1:\r\n\r\n    Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:java.security.NoSuchAlgorithmException: PBKDF2WithHmacSHA512 SecretKeyFactory not available\r\n    Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:   at javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:122)\r\n    Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:   at javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:160)\r\n\r\nIssue 2\r\n\r\n    Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:FATAL ERROR: java.lang.IllegalArgumentException: DatabaseUserid security exception\r\n\r\nIssue 3\r\n\r\n    rmid: activation group inactive: java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n    java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:623)\r\n            at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n            at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n            at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:132)\r\n            at java.rmi.activation.ActivationGroup_Stub.newInstance(Unknown Source)\r\n            at sun.rmi.server.Activation$ObjectEntry.activate(Activation.java:1494)\r\n            at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1180)\r\n            at sun.rmi.server.Activation$ActivatorImpl.activate(Activation.java:409)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n            at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n            at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n            at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n            at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n            at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n            at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n            at java.net.Socket.connect(Socket.java:607)\r\n            at java.net.Socket.connect(Socket.java:556)\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:452)\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:229)\r\n            at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\r\n            at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\r\n            ... 24 more\r\n    access: access allowed (&quot;java.util.PropertyPermission&quot; &quot;line.separator&quot; &quot;read&quot;)\r\n    Dec 09, 2022 12:30:32 AM sun.rmi.server.UnicastServerRef logCallException\r\n    FINE: RMI TCP Connection(3)-192.168.1.125: [192.168.1.125] exception:\r\n    java.rmi.activation.ActivationException: object activation failed after 2 tries; nested exception is:\r\n            java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n            at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1223)\r\n            at sun.rmi.server.Activation$ActivatorImpl.activate(Activation.java:409)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n            at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n            at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n            at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:623)\r\n            at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n            at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n            at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:132)\r\n            at java.rmi.activation.ActivationGroup_Stub.newInstance(Unknown Source)\r\n            at sun.rmi.server.Activation$ObjectEntry.activate(Activation.java:1494)\r\n            at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1180)\r\n            ... 18 more\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n            at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n            at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n            at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n            at java.net.Socket.connect(Socket.java:607)\r\n            at java.net.Socket.connect(Socket.java:556)\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:452)\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:229)\r\n            at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\r\n            at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\r\n            ... 24 more\r\n\r\n\r\n---------------------------\r\nLOCK DOWN POLICY FILE\r\n\r\n    // https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8229532\r\n    // https://stackoverflow.com/questions/57433655/classnotfoundexception-issued-by-urlclassloader-when-the-security-manager-is-ena\r\n    \r\n    //grant {\r\n    \t// Allow everything for now\r\n    \t//permission java.security.AllPermission;\r\n    //};\r\n    \r\n    grant codeBase &quot;file:/C:/apps/snafu/foobar/*&quot; {\r\n    \t\r\n    \t//\r\n    \t// Allow everything for now\r\n    \t//permission java.security.AllPermission;\r\n    \t\r\n    \tpermission java.net.SocketPermission &quot;127.0.0.1:*&quot;, &quot;accept,connect,resolve&quot;;\r\n    \tpermission java.net.SocketPermission &quot;localhost:6990&quot;, &quot;listen,accept,connect,resolve&quot;;\r\n    \tpermission java.net.SocketPermission &quot;localhost:6993&quot;, &quot;listen,accept,connect,resolve&quot;;\r\n    \tpermission java.net.SocketPermission &quot;SJohns-XPS7590.snafuHQ.local:*&quot;, &quot;listen,accept,connect,resolve&quot;;\r\n    \tpermission java.net.SocketPermission &quot;192.168.1.125:6993&quot;, &quot;listen,accept,connect,resolve&quot;;\r\n    \r\n    \tpermission java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;user.home&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;LicenseFilename&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;HostId&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;InstanceID&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;slc.ps_loc&quot;, &quot;write&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;org.owasp.esapi.SecurityConfiguration&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;org.owasp.esapi.logSpecial.discard&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;org.owasp.esapi.resources&quot;, &quot;read&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n    \tpermission java.util.PropertyPermission &quot;org.owasp.esapi.opsteam&quot;, &quot;read&quot;;\r\n    \t\r\n    \tpermission java.util.logging.LoggingPermission &quot;control&quot;;\r\n    \t\r\n    \tpermission java.io.FilePermission &quot;.&quot;, &quot;read&quot;;\r\n    \tpermission java.io.FilePermission &quot;C:/Apps/snafu/foobar/-&quot;, &quot;read,write,delete&quot;;\r\n    \r\n    \tpermission java.lang.management.ManagementPermission &quot;monitor&quot;;\r\n    \r\n    \tpermission java.lang.reflect.ReflectPermission &quot;suppressAccessChecks&quot;;\r\n    \r\n    \tpermission java.lang.RuntimePermission &quot;setFactory&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;getClassLoader&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;setContextClassLoader&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;getenv.*&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;getProtectionDomain&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;accessDeclaredMembers&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;accessClassInPackage.sun.reflect&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;loadLibrary.sunec&quot;;\r\n    \tpermission java.lang.RuntimePermission &quot;loadLibrary.sunmscapi&quot;;\r\n    \t\r\n    \tpermission javax.management.MBeanTrustPermission &quot;register&quot;;\r\n    \tpermission javax.management.MBeanServerPermission &quot;createMBeanServer&quot;;\r\n    \tpermission javax.management.MBeanPermission &quot;*&quot;, &quot;queryNames&quot;;\r\n    \tpermission javax.management.MBeanPermission &quot;*&quot;, &quot;registerMBean,unregisterMBean&quot;;\r\n    \r\n    \tpermission java.security.SecurityPermission &quot;putProviderProperty.SunJCE&quot;;\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n","title":"Errors in my java security manager policy - which permission needed","body":"<p>I am trying to lock down a Java program using the security manager.\nIt provides a lot of guidance to you in the error state to tell you want it failed on.</p>\n<p>I am down to three issue that don't show up as any &quot;access denied&quot; errors that come with the recommended policy entry.</p>\n<p>This application works when the policy is</p>\n<pre><code>grant {\n    // Allow everything for now\n    permission java.security.AllPermission;\n};\n</code></pre>\n<p>when it is the policy at the bottom of this post.  These errors show up.  I can't find any &quot;denied&quot; msgs for them</p>\n<p>Issue 1:</p>\n<pre><code>Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:java.security.NoSuchAlgorithmException: PBKDF2WithHmacSHA512 SecretKeyFactory not available\nFri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:   at javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:122)\nFri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:   at javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:160)\n</code></pre>\n<p>Issue 2</p>\n<pre><code>Fri Dec 09 00:30:29 CST 2022:ExecGroup-0:err:FATAL ERROR: java.lang.IllegalArgumentException: DatabaseUserid security exception\n</code></pre>\n<p>Issue 3</p>\n<pre><code>rmid: activation group inactive: java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\n        java.net.ConnectException: Connection refused: connect\njava.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\n        java.net.ConnectException: Connection refused: connect\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:623)\n        at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n        at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:132)\n        at java.rmi.activation.ActivationGroup_Stub.newInstance(Unknown Source)\n        at sun.rmi.server.Activation$ObjectEntry.activate(Activation.java:1494)\n        at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1180)\n        at sun.rmi.server.Activation$ActivatorImpl.activate(Activation.java:409)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException: Connection refused: connect\n        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n        at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:607)\n        at java.net.Socket.connect(Socket.java:556)\n        at java.net.Socket.&lt;init&gt;(Socket.java:452)\n        at java.net.Socket.&lt;init&gt;(Socket.java:229)\n        at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\n        at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\n        ... 24 more\naccess: access allowed (&quot;java.util.PropertyPermission&quot; &quot;line.separator&quot; &quot;read&quot;)\nDec 09, 2022 12:30:32 AM sun.rmi.server.UnicastServerRef logCallException\nFINE: RMI TCP Connection(3)-192.168.1.125: [192.168.1.125] exception:\njava.rmi.activation.ActivationException: object activation failed after 2 tries; nested exception is:\n        java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\n        java.net.ConnectException: Connection refused: connect\n        at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1223)\n        at sun.rmi.server.Activation$ActivatorImpl.activate(Activation.java:409)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.rmi.ConnectException: Connection refused to host: SJohns-XPS7590.snafuHQ.local; nested exception is:\n        java.net.ConnectException: Connection refused: connect\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:623)\n        at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n        at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:132)\n        at java.rmi.activation.ActivationGroup_Stub.newInstance(Unknown Source)\n        at sun.rmi.server.Activation$ObjectEntry.activate(Activation.java:1494)\n        at sun.rmi.server.Activation$GroupEntry.activate(Activation.java:1180)\n        ... 18 more\nCaused by: java.net.ConnectException: Connection refused: connect\n        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n        at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:607)\n        at java.net.Socket.connect(Socket.java:556)\n        at java.net.Socket.&lt;init&gt;(Socket.java:452)\n        at java.net.Socket.&lt;init&gt;(Socket.java:229)\n        at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\n        at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\n        ... 24 more\n</code></pre>\n<hr />\n<p>LOCK DOWN POLICY FILE</p>\n<pre><code>// https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8229532\n// https://stackoverflow.com/questions/57433655/classnotfoundexception-issued-by-urlclassloader-when-the-security-manager-is-ena\n\n//grant {\n    // Allow everything for now\n    //permission java.security.AllPermission;\n//};\n\ngrant codeBase &quot;file:/C:/apps/snafu/foobar/*&quot; {\n    \n    //\n    // Allow everything for now\n    //permission java.security.AllPermission;\n    \n    permission java.net.SocketPermission &quot;127.0.0.1:*&quot;, &quot;accept,connect,resolve&quot;;\n    permission java.net.SocketPermission &quot;localhost:6990&quot;, &quot;listen,accept,connect,resolve&quot;;\n    permission java.net.SocketPermission &quot;localhost:6993&quot;, &quot;listen,accept,connect,resolve&quot;;\n    permission java.net.SocketPermission &quot;SJohns-XPS7590.snafuHQ.local:*&quot;, &quot;listen,accept,connect,resolve&quot;;\n    permission java.net.SocketPermission &quot;192.168.1.125:6993&quot;, &quot;listen,accept,connect,resolve&quot;;\n\n    permission java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;user.home&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;LicenseFilename&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;HostId&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;InstanceID&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;slc.ps_loc&quot;, &quot;write&quot;;\n    permission java.util.PropertyPermission &quot;org.owasp.esapi.SecurityConfiguration&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;org.owasp.esapi.logSpecial.discard&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;org.owasp.esapi.resources&quot;, &quot;read&quot;;\n    permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n    permission java.util.PropertyPermission &quot;org.owasp.esapi.opsteam&quot;, &quot;read&quot;;\n    \n    permission java.util.logging.LoggingPermission &quot;control&quot;;\n    \n    permission java.io.FilePermission &quot;.&quot;, &quot;read&quot;;\n    permission java.io.FilePermission &quot;C:/Apps/snafu/foobar/-&quot;, &quot;read,write,delete&quot;;\n\n    permission java.lang.management.ManagementPermission &quot;monitor&quot;;\n\n    permission java.lang.reflect.ReflectPermission &quot;suppressAccessChecks&quot;;\n\n    permission java.lang.RuntimePermission &quot;setFactory&quot;;\n    permission java.lang.RuntimePermission &quot;getClassLoader&quot;;\n    permission java.lang.RuntimePermission &quot;setContextClassLoader&quot;;\n    permission java.lang.RuntimePermission &quot;getenv.*&quot;;\n    permission java.lang.RuntimePermission &quot;getProtectionDomain&quot;;\n    permission java.lang.RuntimePermission &quot;accessDeclaredMembers&quot;;\n    permission java.lang.RuntimePermission &quot;accessClassInPackage.sun.reflect&quot;;\n    permission java.lang.RuntimePermission &quot;loadLibrary.sunec&quot;;\n    permission java.lang.RuntimePermission &quot;loadLibrary.sunmscapi&quot;;\n    \n    permission javax.management.MBeanTrustPermission &quot;register&quot;;\n    permission javax.management.MBeanServerPermission &quot;createMBeanServer&quot;;\n    permission javax.management.MBeanPermission &quot;*&quot;, &quot;queryNames&quot;;\n    permission javax.management.MBeanPermission &quot;*&quot;, &quot;registerMBean,unregisterMBean&quot;;\n\n    permission java.security.SecurityPermission &quot;putProviderProperty.SunJCE&quot;;\n};\n</code></pre>\n"},{"tags":["java","android","imageview","android-animation","onclicklistener"],"comments":[{"owner":{"account_id":13668757,"reputation":650,"user_id":9861911,"display_name":"c.tc"},"score":0,"creation_date":1670559204,"post_id":74738114,"comment_id":131907314,"body_markdown":"To get the correct answer I think you should present your ideas with pictures or videos","body":"To get the correct answer I think you should present your ideas with pictures or videos"},{"owner":{"account_id":24301280,"reputation":3,"user_id":18244742,"display_name":"Keone"},"score":0,"creation_date":1670569582,"post_id":74738114,"comment_id":131908893,"body_markdown":"thanks, have now explained above in better:)","body":"thanks, have now explained above in better:)"},{"owner":{"account_id":13668757,"reputation":650,"user_id":9861911,"display_name":"c.tc"},"score":0,"creation_date":1670572336,"post_id":74738114,"comment_id":131909537,"body_markdown":"Animations only help you see the car moving, but your car is actually still in the same place. The car has to actually move before you can click on it, you could try researching the MotionLayout to see if that would work.","body":"Animations only help you see the car moving, but your car is actually still in the same place. The car has to actually move before you can click on it, you could try researching the MotionLayout to see if that would work."}],"answers":[{"tags":[],"owner":{"account_id":25404813,"reputation":106,"user_id":19213695,"display_name":"Rahim Virani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670570369,"creation_date":1670570369,"answer_id":74739960,"question_id":74738114,"body_markdown":"You are using **Translate animation.**  Translate Animation translates the views position to the animated positions and wont actually change the views original position. \r\n\r\nSo you will need to change X and Y value to change the original position and then handle clicks wherever the animation is currently positioned\r\n\r\n\r\nyou can do .\r\nview.animate().X().y().start()\r\n\r\nwhile x and y will have the params of where you want to animate ","title":"view.setOnClick() during animation not working","body":"<p>You are using <strong>Translate animation.</strong>  Translate Animation translates the views position to the animated positions and wont actually change the views original position.</p>\n<p>So you will need to change X and Y value to change the original position and then handle clicks wherever the animation is currently positioned</p>\n<p>you can do .\nview.animate().X().y().start()</p>\n<p>while x and y will have the params of where you want to animate</p>\n"}],"owner":{"account_id":24301280,"reputation":3,"user_id":18244742,"display_name":"Keone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74739960,"answer_count":1,"score":0,"last_activity_date":1670570369,"creation_date":1670550371,"question_id":74738114,"body_markdown":"I&#39;m new in android development and have now problem and can not understand why and solve it.\r\nSorry, here is my idea and hope it helps to understand my question:\r\nI would like to develop an app for the kids. I have two car roads. On both roads drive different cars with a certain number (0-10). The cars drive from left to right with the help of animation. A question with a number is asked. The child has to click on a certain car with the number x.\r\nBelow I&#39;ve imageview (`imgCarUp1`) and try to animate from left to right. During animation I want to make click-event on my image and should run some code.\r\n\r\n`\r\n```\r\n    imgCarUp1 = findViewById(R.id.imgCarUp_1);\r\n    imgCarUp1.setImageResource(vehicleUpStreetList.get(0).getResId());\r\n    imgCarUp1.setTag(vehicleUpStreetList.get(0).getResId());\r\n\r\n    imgNumberUp1.setOnClickListener(view -&gt; {\r\n        Log.d(TAG, String.format(&quot;setOnClickListener Tag: %s&quot;, view.getTag()));\r\n    ...\r\n    });\r\n\r\n    TranslateAnimation animation = new TranslateAnimation(0, width - 50, 0, 0);\r\n    Animation.AnimationListener animL = new Animation.AnimationListener() {\r\n\t@Override\r\n\tpublic void onAnimationStart(Animation animation) {\r\n\t}\r\n\t@Override\r\n\tpublic void onAnimationRepeat(Animation animation) {\r\n\t}\r\n\t@Override\r\n\tpublic void onAnimationEnd(Animation animation) {\r\n\t\tLogUtils.i(TAG, &quot;onAnimationEnd is stopped!&quot;);\r\n\t}\r\n    };\r\n\r\n    animation.setAnimationListener(animL);\r\n    animation.setDuration(15000);\r\n    animation.setRepeatCount(5);\r\n    animation.setRepeatMode(1);\r\n    animation.setFillAfter(true);\r\n    imgNumberUp1.startAnimation(animation); \r\n\r\n```\r\n`\r\n\r\nAninmation is working well. But if I try to click on imageview (`imgNumberUp1`) nothing will work. But if I click on area where animation was started, `setOnClickListener` works. I should be able to make click during animation. What is here my problem? Can someone please help with code?\r\n\r\nThanks a lot for helping.\r\n\r\nTried to search in internet, without any solution yet.\r\n","title":"view.setOnClick() during animation not working","body":"<p>I'm new in android development and have now problem and can not understand why and solve it.\nSorry, here is my idea and hope it helps to understand my question:\nI would like to develop an app for the kids. I have two car roads. On both roads drive different cars with a certain number (0-10). The cars drive from left to right with the help of animation. A question with a number is asked. The child has to click on a certain car with the number x.\nBelow I've imageview (<code>imgCarUp1</code>) and try to animate from left to right. During animation I want to make click-event on my image and should run some code.</p>\n<p>`</p>\n<pre><code>    imgCarUp1 = findViewById(R.id.imgCarUp_1);\n    imgCarUp1.setImageResource(vehicleUpStreetList.get(0).getResId());\n    imgCarUp1.setTag(vehicleUpStreetList.get(0).getResId());\n\n    imgNumberUp1.setOnClickListener(view -&gt; {\n        Log.d(TAG, String.format(&quot;setOnClickListener Tag: %s&quot;, view.getTag()));\n    ...\n    });\n\n    TranslateAnimation animation = new TranslateAnimation(0, width - 50, 0, 0);\n    Animation.AnimationListener animL = new Animation.AnimationListener() {\n    @Override\n    public void onAnimationStart(Animation animation) {\n    }\n    @Override\n    public void onAnimationRepeat(Animation animation) {\n    }\n    @Override\n    public void onAnimationEnd(Animation animation) {\n        LogUtils.i(TAG, &quot;onAnimationEnd is stopped!&quot;);\n    }\n    };\n\n    animation.setAnimationListener(animL);\n    animation.setDuration(15000);\n    animation.setRepeatCount(5);\n    animation.setRepeatMode(1);\n    animation.setFillAfter(true);\n    imgNumberUp1.startAnimation(animation); \n\n</code></pre>\n<p>`</p>\n<p>Aninmation is working well. But if I try to click on imageview (<code>imgNumberUp1</code>) nothing will work. But if I click on area where animation was started, <code>setOnClickListener</code> works. I should be able to make click during animation. What is here my problem? Can someone please help with code?</p>\n<p>Thanks a lot for helping.</p>\n<p>Tried to search in internet, without any solution yet.</p>\n"},{"tags":["java","aggregation","opensearch","java-client"],"comments":[{"owner":{"account_id":4418122,"reputation":924,"user_id":3599051,"accept_rate":25,"display_name":"Vikram Singh"},"score":0,"creation_date":1690978259,"post_id":74236218,"comment_id":135427602,"body_markdown":"Did you find any solution for this?","body":"Did you find any solution for this?"},{"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"score":0,"creation_date":1693305578,"post_id":74236218,"comment_id":135740071,"body_markdown":"@VikramSingh The fix was in this PR https://github.com/opensearch-project/opensearch-java/pull/234 and it got merged. So the latest version got it","body":"@VikramSingh The fix was in this PR <a href=\"https://github.com/opensearch-project/opensearch-java/pull/234\" rel=\"nofollow noreferrer\">github.com/opensearch-project/opensearch-java/pull/234</a> and it got merged. So the latest version got it"}],"answers":[{"tags":[],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670569524,"creation_date":1670569524,"answer_id":74739868,"question_id":74236218,"body_markdown":"There is currently no feature like this, it exists an open bug, with merged code, but not released.\r\n\r\nhttps://github.com/opensearch-project/opensearch-java/issues/197","title":"Opensearch - get inner aggregations from aggregations using opensearch-java client","body":"<p>There is currently no feature like this, it exists an open bug, with merged code, but not released.</p>\n<p><a href=\"https://github.com/opensearch-project/opensearch-java/issues/197\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/opensearch-java/issues/197</a></p>\n"}],"owner":{"account_id":7468884,"reputation":91,"user_id":5677467,"display_name":"Oana-Elena Danescu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670569524,"creation_date":1666964082,"question_id":74236218,"body_markdown":"There is this opensearch query constructed using openserch-java \r\n\r\n    GET eventsearch/_search\r\n    {\r\n      &quot;aggregations&quot;: {\r\n        &quot;WEB&quot;: {\r\n          &quot;aggregations&quot;: {\r\n            &quot;eventDate&quot;: {\r\n              &quot;date_histogram&quot;: {\r\n                &quot;extended_bounds&quot;: {\r\n                  &quot;max&quot;: &quot;2022-12-01T00:00:00Z&quot;,\r\n                  &quot;min&quot;: &quot;2022-01-01T00:00:00Z&quot;\r\n                },\r\n                &quot;field&quot;: &quot;eventDate&quot;,\r\n                &quot;fixed_interval&quot;: &quot;1d&quot;,\r\n                &quot;min_doc_count&quot;: 0\r\n              }\r\n            }\r\n          },\r\n          &quot;filter&quot;: {\r\n            &quot;term&quot;: {\r\n              &quot;channel&quot;: {\r\n                &quot;value&quot;: &quot;WEB&quot;,\r\n                &quot;case_insensitive&quot;: true\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;filter&quot;: [\r\n            {\r\n              &quot;range&quot;: {\r\n                &quot;eventDate&quot;: {\r\n                  &quot;from&quot;: &quot;2022-01-01T00:00:00Z&quot;,\r\n                  &quot;to&quot;: &quot;2022-12-01T00:00:00Z&quot;\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          &quot;must&quot;: [\r\n            {\r\n              &quot;match_all&quot;: {}\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      &quot;size&quot;: 0\r\n    }\r\n\r\n\r\nRunning query, the response is this: \r\n\r\n\r\n    {\r\n      &quot;took&quot; : 2,\r\n      &quot;timed_out&quot; : false,\r\n      &quot;_shards&quot; : {\r\n        &quot;total&quot; : 1,\r\n        &quot;successful&quot; : 1,\r\n        &quot;skipped&quot; : 0,\r\n        &quot;failed&quot; : 0\r\n      },\r\n      &quot;hits&quot; : {\r\n        &quot;total&quot; : {\r\n          &quot;value&quot; : 26,\r\n          &quot;relation&quot; : &quot;eq&quot;\r\n        },\r\n        &quot;max_score&quot; : null,\r\n        &quot;hits&quot; : [ ]\r\n      },\r\n      &quot;aggregations&quot; : {\r\n        &quot;WEB&quot; : {\r\n          &quot;doc_count&quot; : 25,\r\n          &quot;eventDate&quot; : {\r\n            &quot;buckets&quot; : [\r\n              {\r\n                &quot;key_as_string&quot; : &quot;2022-01-01T00:00:00.000Z&quot;,\r\n                &quot;key&quot; : 1640995200000,\r\n                &quot;doc_count&quot; : 0\r\n              },\r\n              {\r\n                &quot;key_as_string&quot; : &quot;2022-01-02T00:00:00.000Z&quot;,\r\n                &quot;key&quot; : 1641081600000,\r\n                &quot;doc_count&quot; : 0\r\n              },\r\n              {\r\n                &quot;key_as_string&quot; : &quot;2022-01-03T00:00:00.000Z&quot;,\r\n                &quot;key&quot; : 1641168000000,\r\n                &quot;doc_count&quot; : 0\r\n              },\r\n              {\r\n                &quot;key_as_string&quot; : &quot;2022-01-04T00:00:00.000Z&quot;,\r\n                &quot;key&quot; : 1641254400000,\r\n                &quot;doc_count&quot; : 0\r\n              },\r\n        ....................\r\n                ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nIn java I need to perform this query and get the results from there. \r\n\r\nBut after using the `opensearchclient.search` and then get the &quot;aggregations&quot; list method, I receive this (image attached) and get\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTmZF.png\r\n\r\n\r\nIf I try to get the &quot;WEB&quot; from the Map, there is no other &quot;eventDate&quot; aggregation to fetch.\r\n\r\n\r\nIs there a way to fetch this inner aggregation using opensearch-java client? I had no luck with documentation.\r\n\r\n\r\nopensearch-java 2.1.0","title":"Opensearch - get inner aggregations from aggregations using opensearch-java client","body":"<p>There is this opensearch query constructed using openserch-java</p>\n<pre><code>GET eventsearch/_search\n{\n  &quot;aggregations&quot;: {\n    &quot;WEB&quot;: {\n      &quot;aggregations&quot;: {\n        &quot;eventDate&quot;: {\n          &quot;date_histogram&quot;: {\n            &quot;extended_bounds&quot;: {\n              &quot;max&quot;: &quot;2022-12-01T00:00:00Z&quot;,\n              &quot;min&quot;: &quot;2022-01-01T00:00:00Z&quot;\n            },\n            &quot;field&quot;: &quot;eventDate&quot;,\n            &quot;fixed_interval&quot;: &quot;1d&quot;,\n            &quot;min_doc_count&quot;: 0\n          }\n        }\n      },\n      &quot;filter&quot;: {\n        &quot;term&quot;: {\n          &quot;channel&quot;: {\n            &quot;value&quot;: &quot;WEB&quot;,\n            &quot;case_insensitive&quot;: true\n          }\n        }\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;filter&quot;: [\n        {\n          &quot;range&quot;: {\n            &quot;eventDate&quot;: {\n              &quot;from&quot;: &quot;2022-01-01T00:00:00Z&quot;,\n              &quot;to&quot;: &quot;2022-12-01T00:00:00Z&quot;\n            }\n          }\n        }\n      ],\n      &quot;must&quot;: [\n        {\n          &quot;match_all&quot;: {}\n        }\n      ]\n    }\n  },\n  &quot;size&quot;: 0\n}\n</code></pre>\n<p>Running query, the response is this:</p>\n<pre><code>{\n  &quot;took&quot; : 2,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    &quot;total&quot; : {\n      &quot;value&quot; : 26,\n      &quot;relation&quot; : &quot;eq&quot;\n    },\n    &quot;max_score&quot; : null,\n    &quot;hits&quot; : [ ]\n  },\n  &quot;aggregations&quot; : {\n    &quot;WEB&quot; : {\n      &quot;doc_count&quot; : 25,\n      &quot;eventDate&quot; : {\n        &quot;buckets&quot; : [\n          {\n            &quot;key_as_string&quot; : &quot;2022-01-01T00:00:00.000Z&quot;,\n            &quot;key&quot; : 1640995200000,\n            &quot;doc_count&quot; : 0\n          },\n          {\n            &quot;key_as_string&quot; : &quot;2022-01-02T00:00:00.000Z&quot;,\n            &quot;key&quot; : 1641081600000,\n            &quot;doc_count&quot; : 0\n          },\n          {\n            &quot;key_as_string&quot; : &quot;2022-01-03T00:00:00.000Z&quot;,\n            &quot;key&quot; : 1641168000000,\n            &quot;doc_count&quot; : 0\n          },\n          {\n            &quot;key_as_string&quot; : &quot;2022-01-04T00:00:00.000Z&quot;,\n            &quot;key&quot; : 1641254400000,\n            &quot;doc_count&quot; : 0\n          },\n    ....................\n            ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>In java I need to perform this query and get the results from there.</p>\n<p>But after using the <code>opensearchclient.search</code> and then get the &quot;aggregations&quot; list method, I receive this (image attached) and get</p>\n<p><a href=\"https://i.stack.imgur.com/hTmZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTmZF.png\" alt=\"enter image description here\" /></a></p>\n<p>If I try to get the &quot;WEB&quot; from the Map, there is no other &quot;eventDate&quot; aggregation to fetch.</p>\n<p>Is there a way to fetch this inner aggregation using opensearch-java client? I had no luck with documentation.</p>\n<p>opensearch-java 2.1.0</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","javac"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1670569442,"post_id":74739830,"comment_id":131908863,"body_markdown":"Please read the documentation: [Preparing for Spring Boot 3](https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0#:~:text=Spring%20Boot%203.0%20will%20require,really%20well%20with%20Java%2017.)","body":"Please read the documentation: <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0#:~:text=Spring%20Boot%203.0%20will%20require,really%20well%20with%20Java%2017.\" rel=\"nofollow noreferrer\">Preparing for Spring Boot 3</a>"}],"owner":{"account_id":27198391,"reputation":1,"user_id":20730982,"display_name":"Daniel Sinaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670569428,"answer_count":0,"score":0,"last_activity_date":1670569292,"creation_date":1670569231,"question_id":74739830,"body_markdown":"so i get this error\r\n\r\n`/Users/apple/Downloads/Seasalt-Konsumen/src/main/java/com/seasalt/repository/KonsumenRepository.java:4:47 java: cannot access org.springframework.data.jpa.repository.JpaRepository   bad class file: /Users/apple/.m2/repository/org/springframework/data/spring-data-jpa/3.0.0/spring-data-jpa-3.0.0.jar!/org/springframework/data/jpa/repository/JpaRepository.class     class file has wrong version 60.0, should be 55.0     Please remove or make sure it appears in the correct subdirectory of the classpath.`\r\n\r\nand\r\n\r\n`/Users/apple/Downloads/Seasalt-Konsumen/src/main/java/com/seasalt/repository/KonsumenRepository.java:5:38 java: cannot access org.springframework.stereotype.Repository   bad class file: /Users/apple/.m2/repository/org/springframework/spring-context/6.0.2/spring-context-6.0.2.jar!/org/springframework/stereotype/Repository.class     class file has wrong version 61.0, should be 55.0     Please remove or make sure it appears in the correct subdirectory of the classpath.`\r\n\r\nmy javac version is 11 and java is 11\r\nand my project structure is already configured too on version 11\r\n\r\ni try to run springboot and run like usual but i changed laptop and install everything\r\n\r\n[java version][1]\r\n[project structur][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CyAoA.png\r\n  [2]: https://i.stack.imgur.com/YFaeb.png","title":"SPRING class file has wrong version 60.0, should be 55.0","body":"<p>so i get this error</p>\n<p><code>/Users/apple/Downloads/Seasalt-Konsumen/src/main/java/com/seasalt/repository/KonsumenRepository.java:4:47 java: cannot access org.springframework.data.jpa.repository.JpaRepository   bad class file: /Users/apple/.m2/repository/org/springframework/data/spring-data-jpa/3.0.0/spring-data-jpa-3.0.0.jar!/org/springframework/data/jpa/repository/JpaRepository.class     class file has wrong version 60.0, should be 55.0     Please remove or make sure it appears in the correct subdirectory of the classpath.</code></p>\n<p>and</p>\n<p><code>/Users/apple/Downloads/Seasalt-Konsumen/src/main/java/com/seasalt/repository/KonsumenRepository.java:5:38 java: cannot access org.springframework.stereotype.Repository   bad class file: /Users/apple/.m2/repository/org/springframework/spring-context/6.0.2/spring-context-6.0.2.jar!/org/springframework/stereotype/Repository.class     class file has wrong version 61.0, should be 55.0     Please remove or make sure it appears in the correct subdirectory of the classpath.</code></p>\n<p>my javac version is 11 and java is 11\nand my project structure is already configured too on version 11</p>\n<p>i try to run springboot and run like usual but i changed laptop and install everything</p>\n<p><a href=\"https://i.stack.imgur.com/CyAoA.png\" rel=\"nofollow noreferrer\">java version</a>\n<a href=\"https://i.stack.imgur.com/YFaeb.png\" rel=\"nofollow noreferrer\">project structur</a></p>\n"},{"tags":["java","list","java-8","set","java-stream"],"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1552160190,"post_id":55081182,"comment_id":96908224,"body_markdown":"Can you provide an example that can be reproduced?","body":"Can you provide an example that can be reproduced?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1552160529,"post_id":55081182,"comment_id":96908320,"body_markdown":"How can result be a `Entry&lt;Month, Order&gt;` if you need a summed `quantity` from a combination of `Month` and `Category`? Shouldn&#39;t result be something like `Entry&lt;Pair&lt;Month, Category&gt;, Integer&gt;`?","body":"How can result be a <code>Entry&lt;Month, Order&gt;</code> if you need a summed <code>quantity</code> from a combination of <code>Month</code> and <code>Category</code>? Shouldn&#39;t result be something like <code>Entry&lt;Pair&lt;Month, Category&gt;, Integer&gt;</code>?"},{"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"score":0,"creation_date":1552161009,"post_id":55081182,"comment_id":96908423,"body_markdown":"@Andronicus Example provided","body":"@Andronicus Example provided"},{"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"score":0,"creation_date":1552161012,"post_id":55081182,"comment_id":96908424,"body_markdown":"@Andreas It&#39;s just my dummy example I didn&#39;t want to post a question without making any attempt to resolve it.","body":"@Andreas It&#39;s just my dummy example I didn&#39;t want to post a question without making any attempt to resolve it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1552161564,"post_id":55081182,"comment_id":96908564,"body_markdown":"@KamilW. Before you can write the logic, you need to know what you want the result to be. Otherwise, how can you know you reached the goal, if you don&#39;t know what it is?","body":"@KamilW. Before you can write the logic, you need to know what you want the result to be. Otherwise, how can you know you reached the goal, if you don&#39;t know what it is?"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552162027,"creation_date":1552160947,"answer_id":55081320,"question_id":55081182,"body_markdown":"Here is an example of how to do this with respect to month only (another class can be introduced to compose keys for aggregation):\r\n\r\n    // month, sum\r\n    Map&lt;Integer, Integer&gt; map = orders.stream()\r\n            .collect(groupingBy(o -&gt; o.getDate().getMonthValue(), TreeMap::new, summingInt(Order::getQuantity)));\r\n\r\n    int month = map.entrySet().stream().reduce((s1, s2) -&gt; {\r\n        if (s1.getValue() &gt; s2.getValue()) return s1;\r\n        else return s2;\r\n    }).get().getKey();\r\n\r\nI have separated it into two streams for clarity, but you can join them. First one gives month number with sum of orders, second the greatest month value.","title":"Java Streams - Extract nested object and group","body":"<p>Here is an example of how to do this with respect to month only (another class can be introduced to compose keys for aggregation):</p>\n\n<pre><code>// month, sum\nMap&lt;Integer, Integer&gt; map = orders.stream()\n        .collect(groupingBy(o -&gt; o.getDate().getMonthValue(), TreeMap::new, summingInt(Order::getQuantity)));\n\nint month = map.entrySet().stream().reduce((s1, s2) -&gt; {\n    if (s1.getValue() &gt; s2.getValue()) return s1;\n    else return s2;\n}).get().getKey();\n</code></pre>\n\n<p>I have separated it into two streams for clarity, but you can join them. First one gives month number with sum of orders, second the greatest month value.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1552161783,"creation_date":1552161783,"answer_id":55081428,"question_id":55081182,"body_markdown":"You can group by a pair (using `SimpleEntry` in this example) of the two fields, compute the sum of quantity per group, then stream over the result to pick the entry with the highest value:\r\n\r\n\torders.stream()\r\n\t\t.collect(Collectors.groupingBy(\r\n\t\t\t\t\to -&gt; new SimpleEntry&lt;&gt;(o.getDate().getMonth(), o.getCategory()),\r\n\t\t\t\t\tCollectors.summingInt(Order::getQuantity)))\r\n\t\t.entrySet()\r\n\t\t.stream()\r\n\t\t.max(Entry.comparingByValue())\r\n\t\t.ifPresent(cat -&gt; System.out.println(\r\n\t\t\t\t\t&quot;Month: &quot; + cat.getKey().getKey() + \r\n\t\t\t\t\t&quot; - Category: &quot; + cat.getKey().getValue() + \r\n\t\t\t\t    &quot; - Quantity: &quot; + cat.getValue()));\r\n\r\nThe output of this with your example data is:\r\n\r\n    Month: FEBRUARY - Category: HEADPHONES - Quantity: 9","title":"Java Streams - Extract nested object and group","body":"<p>You can group by a pair (using <code>SimpleEntry</code> in this example) of the two fields, compute the sum of quantity per group, then stream over the result to pick the entry with the highest value:</p>\n\n<pre><code>orders.stream()\n    .collect(Collectors.groupingBy(\n                o -&gt; new SimpleEntry&lt;&gt;(o.getDate().getMonth(), o.getCategory()),\n                Collectors.summingInt(Order::getQuantity)))\n    .entrySet()\n    .stream()\n    .max(Entry.comparingByValue())\n    .ifPresent(cat -&gt; System.out.println(\n                \"Month: \" + cat.getKey().getKey() + \n                \" - Category: \" + cat.getKey().getValue() + \n                \" - Quantity: \" + cat.getValue()));\n</code></pre>\n\n<p>The output of this with your example data is:</p>\n\n<pre><code>Month: FEBRUARY - Category: HEADPHONES - Quantity: 9\n</code></pre>\n"}],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55081428,"answer_count":2,"score":0,"last_activity_date":1670568825,"creation_date":1552160070,"question_id":55081182,"body_markdown":"I&#39;m dealing with the following POJO:\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class Order {\r\n    \r\n      private int quantity;\r\n      private Category category;\r\n      private LocalDate date;\r\n      //rest fields\r\n\r\n    }\r\n\r\nI have a list of this objects and what I&#39;m trying to do is I want to find month (extracted from `date` field) and category (which is enum type) which has the highest value of `quantity`. I wanna do it with streams, I made few attempts, but now I&#39;m out of ideas. Could you help me with this?\r\n\r\nBelow my dummy attempt to resolve this case:\r\n\r\n       Optional&lt;Entry&lt;Month, Order&gt;&gt; result = orders.stream()\r\n            .collect(\r\n                Collectors.groupingBy(Order::getLocalDate, Collectors.maxBy(Comparator.comparingInt(Order::getQuantity))))\r\n            .entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(e -&gt; e.getKey().getMonth(), e -&gt; e.getValue().get()))\r\n            .entrySet()\r\n            .stream()\r\n            .max(Entry.comparingByValue(Comparator.comparingInt(Order::getQuantity)));\r\n\r\n\r\nExample, we have the following list of data:\r\n\r\n    List&lt;Order&gt; orders = Arrays.asList(\r\n        new Order(Category.HEADPHONES,3, LocalDate.of(2018, 2, 22)),\r\n        new Order(Category.HEADPHONES,6, LocalDate.of(2018, 2, 23)),\r\n        new Order(Category.NOTEBOOKS,8, LocalDate.of(2018, 2, 24)),\r\n        new Order(Category.NOTEBOOKS,4, LocalDate.of(2018, 3, 3)),\r\n        new Order(Category.NOTEBOOKS,1, LocalDate.of(2018, 3, 3)),\r\n        new Order(Category.PHONES,2, LocalDate.of(2018, 3,5)),\r\n        new Order(Category.PHONES,2, LocalDate.of(2018, 3,7))\r\n    );\r\n\r\nI want to play with streams and receive the result (e.g some Tuple which contains `month`, `category`, `quantity`).\r\n\r\nIn the above data-set month with the highest quantity value (`9`) was `February` in `HEADPHONES` category.\r\n\r\n\r\n\r\n","title":"Java Streams - Extract nested object and group","body":"<p>I'm dealing with the following POJO:</p>\n\n<pre><code>@Getter\n@AllArgsConstructor\npublic class Order {\n\n  private int quantity;\n  private Category category;\n  private LocalDate date;\n  //rest fields\n\n}\n</code></pre>\n\n<p>I have a list of this objects and what I'm trying to do is I want to find month (extracted from <code>date</code> field) and category (which is enum type) which has the highest value of <code>quantity</code>. I wanna do it with streams, I made few attempts, but now I'm out of ideas. Could you help me with this?</p>\n\n<p>Below my dummy attempt to resolve this case:</p>\n\n<pre><code>   Optional&lt;Entry&lt;Month, Order&gt;&gt; result = orders.stream()\n        .collect(\n            Collectors.groupingBy(Order::getLocalDate, Collectors.maxBy(Comparator.comparingInt(Order::getQuantity))))\n        .entrySet()\n        .stream()\n        .collect(Collectors.toMap(e -&gt; e.getKey().getMonth(), e -&gt; e.getValue().get()))\n        .entrySet()\n        .stream()\n        .max(Entry.comparingByValue(Comparator.comparingInt(Order::getQuantity)));\n</code></pre>\n\n<p>Example, we have the following list of data:</p>\n\n<pre><code>List&lt;Order&gt; orders = Arrays.asList(\n    new Order(Category.HEADPHONES,3, LocalDate.of(2018, 2, 22)),\n    new Order(Category.HEADPHONES,6, LocalDate.of(2018, 2, 23)),\n    new Order(Category.NOTEBOOKS,8, LocalDate.of(2018, 2, 24)),\n    new Order(Category.NOTEBOOKS,4, LocalDate.of(2018, 3, 3)),\n    new Order(Category.NOTEBOOKS,1, LocalDate.of(2018, 3, 3)),\n    new Order(Category.PHONES,2, LocalDate.of(2018, 3,5)),\n    new Order(Category.PHONES,2, LocalDate.of(2018, 3,7))\n);\n</code></pre>\n\n<p>I want to play with streams and receive the result (e.g some Tuple which contains <code>month</code>, <code>category</code>, <code>quantity</code>).</p>\n\n<p>In the above data-set month with the highest quantity value (<code>9</code>) was <code>February</code> in <code>HEADPHONES</code> category.</p>\n"},{"tags":["java","html","spring","maven","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1670236121,"post_id":74686412,"comment_id":131821228,"body_markdown":"Consider looking for other Java libraries (or more closely at the once you already have tried), most libraries allow the use of `InputStream` and `OutputStream` instead of files for reading and writing files. Here you can work with `ByteArrayInputStream` and `ByteArrayOutputStream` objects. I assume this is what @life888888 wanted to express in their answer.","body":"Consider looking for other Java libraries (or more closely at the once you already have tried), most libraries allow the use of <code>InputStream</code> and <code>OutputStream</code> instead of files for reading and writing files. Here you can work with <code>ByteArrayInputStream</code> and <code>ByteArrayOutputStream</code> objects. I assume this is what @life888888 wanted to express in their answer."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670247609,"post_id":74686412,"comment_id":131825152,"body_markdown":"@KJ That doesn&#39;t make sense. There is no need for a PDF to hit a filesystem. The libraries used by OP merely work that way and OP is asking for a library that doesn&#39;t. I think SO guidelines indicate that means it&#39;s vote-to-close: Asking for library suggestions, but I&#39;m not sure and the question sure feels specific enough to be worth asking here.","body":"@KJ That doesn&#39;t make sense. There is no need for a PDF to hit a filesystem. The libraries used by OP merely work that way and OP is asking for a library that doesn&#39;t. I think SO guidelines indicate that means it&#39;s vote-to-close: Asking for library suggestions, but I&#39;m not sure and the question sure feels specific enough to be worth asking here."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670247658,"post_id":74686412,"comment_id":131825171,"body_markdown":"@MohammadSohail this question would be much improved if you explain which library(ies) you tried and the code you used to do it - it is possible that one of these libraries _does_ let you do this in-mem, but you simply didn&#39;t call the right methods.","body":"@MohammadSohail this question would be much improved if you explain which library(ies) you tried and the code you used to do it - it is possible that one of these libraries <i>does</i> let you do this in-mem, but you simply didn&#39;t call the right methods."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670251408,"post_id":74686412,"comment_id":131826666,"body_markdown":"@KJ That&#39;s just plain incorrect. a PNG is just as much as file format as PDF is (it&#39;s a &quot;raster graphics file format&quot;), and yet I can generate a PNG in memory, and ship it in memory over TCP/IP to a browser, and the browser will then render it to the user, with the file system never being involved. OP no doubt wants to make a PDF from HTML and ship it over e.g. TCP/IP and correctly sees no need to involve a disk intermediary. It is of course possible to generate it all in memory, without using a virtual filesystem driver. I do this all the time (but not in java, so I have no direct answer).","body":"@KJ That&#39;s just plain incorrect. a PNG is just as much as file format as PDF is (it&#39;s a &quot;raster graphics file format&quot;), and yet I can generate a PNG in memory, and ship it in memory over TCP/IP to a browser, and the browser will then render it to the user, with the file system never being involved. OP no doubt wants to make a PDF from HTML and ship it over e.g. TCP/IP and correctly sees no need to involve a disk intermediary. It is of course possible to generate it all in memory, without using a virtual filesystem driver. I do this all the time (but not in java, so I have no direct answer)."}],"answers":[{"tags":[],"owner":{"account_id":18542980,"reputation":246,"user_id":13511037,"display_name":"Mohammad Sohail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670485387,"creation_date":1670485387,"answer_id":74726978,"question_id":74686412,"body_markdown":"This is the solution for generating HTML to pdf that works for me:\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(html);\r\n        renderer.layout();\r\n        renderer.createPDF(outputStream);\r\n        outputStream.close();\r\n\r\n        MimeBodyPart att = new MimeBodyPart();\r\n\r\n        ByteArrayDataSource bds = new ByteArrayDataSource(outputStream.toByteArray(), &quot;application/pdf&quot;);\r\n        att.setDataHandler(new DataHandler(bds));\r\n        att.setFileName(&quot;example.pdf&quot;);\r\n    }\r\n\r\n\r\n","title":"Is there any way to convert html file to IN-MEMORY File as PDF in Java?","body":"<p>This is the solution for generating HTML to pdf that works for me:</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    ITextRenderer renderer = new ITextRenderer();\n    renderer.setDocumentFromString(html);\n    renderer.layout();\n    renderer.createPDF(outputStream);\n    outputStream.close();\n\n    MimeBodyPart att = new MimeBodyPart();\n\n    ByteArrayDataSource bds = new ByteArrayDataSource(outputStream.toByteArray(), &quot;application/pdf&quot;);\n    att.setDataHandler(new DataHandler(bds));\n    att.setFileName(&quot;example.pdf&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27076333,"reputation":11,"user_id":20626202,"display_name":"Jeevan Santhosh Sailada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670567925,"creation_date":1670539243,"answer_id":74737109,"question_id":74686412,"body_markdown":"The HTMLWorker class was deprecated many years ago. The goal of HTMLWorker was to convert small, simple HTML snippets to iText objects. It was never meant to convert complete HTML pages to PDF, yet that was how many developers tried to use it. This caused plenty of frustration because HTMLWorker didn&#39;t support every HTML tag, didn&#39;t parse CSS files, and so on. To avoid this frustration, HTMLWorker was removed from recent versions of iText.\r\n\r\nIn 2011, iText Group released XML Worker as a generic XML to PDF tool, built on top of iText 5. A default implementation converted XHTML (data) and CSS (styles) to PDF, mapping HTML tags such as \r\n`&lt;p&gt;`\r\n, \r\n`&lt;img&gt;`\r\n, and \r\n`&lt;li&gt;`\r\n to iText 5 objects such as Paragraph, Image, and ListItem. We don&#39;t know of any implementations that used XML Worker for any other XML formats, but many developers used XML Worker in combination with jsoup as an HTML2PDF converter.\r\n\r\nXML Worker wasn&#39;t a URL2PDF tool though. XML Worker expected predictable HTML created for the sole purpose of converting that HTML to PDF. A common use case was the creation of invoices. Rather than programming the design of an invoice in Java or C#, developers chose to create a simple HTML template defining the structure of the document, and some CSS defining the styles. They then populated the HTML with data, and used XML Worker to create the invoices as PDF documents, throwing away the original HTML. We&#39;ll take a closer look at this use case in chapter 4, converting XML to HTML in memory using XSLT, then converting that HTML to PDF using the pdfHTML add-on.\r\n\r\nWhen iText 5 was originally created, it was designed as a tool to produce PDF as fast as possible, flushing pages to the OutputStream as soon as they were finished. Several design choices that made perfect sense when iText was first released in the year 2000, were still present in iText 5 sixteen years later. Unfortunately, some of these choices made it very difficult if not impossible to extend the functionality of XML Worker to the level of quality many developers expected. If we really wanted to create a great HTML to PDF converter, we would have to rewrite iText from scratch. Which we did.\r\n\r\nIn 2016, we released iText 7, a brand new version of iText that was no longer compatible with previous versions, but that was created with pdfHTML in mind. A lot of work was spent on the new Renderer framework. When a document is created with iText 7, a tree of renderers and their child-renderers is built. The layout is created by traversing that tree, an approach that is much better suited when dealing with HTML to PDF conversion. The iText objects were completely redesigned to better match HTML tags and to allow setting styles &quot;the CSS way.&quot;\r\n\r\nFor instance: in iText 5, you had a PdfPTable and a PdfPCell object to create a table and its cells. If you wanted every cell to contain text in a font different from the default font, you needed to set that font for the content of every separate cell. In iText 7, you have a Table and Cell object, and when you set a different font for the complete table, this font is inherited as the default font for every cell. That was a major step forward in terms of architectural design, especially if the goal is to convert HTML to PDF.\r\n\r\nBut let&#39;s not dwell on the past, let&#39;s see what pdfHTML can do for us. In the first chapter, we&#39;ll take a look at different variations of the convertToPdf()/ConvertToPdf() method, and we&#39;ll discover how the converter is configured.\r\n\r\n","title":"Is there any way to convert html file to IN-MEMORY File as PDF in Java?","body":"<p>The HTMLWorker class was deprecated many years ago. The goal of HTMLWorker was to convert small, simple HTML snippets to iText objects. It was never meant to convert complete HTML pages to PDF, yet that was how many developers tried to use it. This caused plenty of frustration because HTMLWorker didn't support every HTML tag, didn't parse CSS files, and so on. To avoid this frustration, HTMLWorker was removed from recent versions of iText.</p>\n<p>In 2011, iText Group released XML Worker as a generic XML to PDF tool, built on top of iText 5. A default implementation converted XHTML (data) and CSS (styles) to PDF, mapping HTML tags such as\n<code>&lt;p&gt;</code>\n,\n<code>&lt;img&gt;</code>\n, and\n<code>&lt;li&gt;</code>\nto iText 5 objects such as Paragraph, Image, and ListItem. We don't know of any implementations that used XML Worker for any other XML formats, but many developers used XML Worker in combination with jsoup as an HTML2PDF converter.</p>\n<p>XML Worker wasn't a URL2PDF tool though. XML Worker expected predictable HTML created for the sole purpose of converting that HTML to PDF. A common use case was the creation of invoices. Rather than programming the design of an invoice in Java or C#, developers chose to create a simple HTML template defining the structure of the document, and some CSS defining the styles. They then populated the HTML with data, and used XML Worker to create the invoices as PDF documents, throwing away the original HTML. We'll take a closer look at this use case in chapter 4, converting XML to HTML in memory using XSLT, then converting that HTML to PDF using the pdfHTML add-on.</p>\n<p>When iText 5 was originally created, it was designed as a tool to produce PDF as fast as possible, flushing pages to the OutputStream as soon as they were finished. Several design choices that made perfect sense when iText was first released in the year 2000, were still present in iText 5 sixteen years later. Unfortunately, some of these choices made it very difficult if not impossible to extend the functionality of XML Worker to the level of quality many developers expected. If we really wanted to create a great HTML to PDF converter, we would have to rewrite iText from scratch. Which we did.</p>\n<p>In 2016, we released iText 7, a brand new version of iText that was no longer compatible with previous versions, but that was created with pdfHTML in mind. A lot of work was spent on the new Renderer framework. When a document is created with iText 7, a tree of renderers and their child-renderers is built. The layout is created by traversing that tree, an approach that is much better suited when dealing with HTML to PDF conversion. The iText objects were completely redesigned to better match HTML tags and to allow setting styles &quot;the CSS way.&quot;</p>\n<p>For instance: in iText 5, you had a PdfPTable and a PdfPCell object to create a table and its cells. If you wanted every cell to contain text in a font different from the default font, you needed to set that font for the content of every separate cell. In iText 7, you have a Table and Cell object, and when you set a different font for the complete table, this font is inherited as the default font for every cell. That was a major step forward in terms of architectural design, especially if the goal is to convert HTML to PDF.</p>\n<p>But let's not dwell on the past, let's see what pdfHTML can do for us. In the first chapter, we'll take a look at different variations of the convertToPdf()/ConvertToPdf() method, and we'll discover how the converter is configured.</p>\n"}],"owner":{"account_id":18542980,"reputation":246,"user_id":13511037,"display_name":"Mohammad Sohail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670567925,"creation_date":1670234773,"question_id":74686412,"body_markdown":"I have been given an HTML file and wanted to convert it into an **in-memory** PDF file. During the conversion, I don&#39;t want to use any external location for this. All I want is to keep it **in-memory**.\r\n\r\nSo far, I have already tried some **Java** libraries for the conversion but all of them always create a temporary file in a location and then read/write from it. I don&#39;t want any I/O operation during the conversion.","title":"Is there any way to convert html file to IN-MEMORY File as PDF in Java?","body":"<p>I have been given an HTML file and wanted to convert it into an <strong>in-memory</strong> PDF file. During the conversion, I don't want to use any external location for this. All I want is to keep it <strong>in-memory</strong>.</p>\n<p>So far, I have already tried some <strong>Java</strong> libraries for the conversion but all of them always create a temporary file in a location and then read/write from it. I don't want any I/O operation during the conversion.</p>\n"},{"tags":["java","spring","spring-boot","configuration","autowired"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648636967,"post_id":71675558,"comment_id":126673363,"body_markdown":"Use Aggreagation instead of inheritance","body":"Use Aggreagation instead of inheritance"},{"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"score":0,"creation_date":1648637375,"post_id":71675558,"comment_id":126673509,"body_markdown":"how can I use aggregation here? I have different child classes with the same parent class. Ex: class A and Class B both are extending class C","body":"how can I use aggregation here? I have different child classes with the same parent class. Ex: class A and Class B both are extending class C"}],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648642976,"creation_date":1648641402,"answer_id":71676758,"question_id":71675558,"body_markdown":"I did the following test and it looks it works:\r\n\r\n    \r\n    public class Parent {\r\n        private boolean foo;\r\n    \r\n        public boolean isFoo() {\r\n            return foo;\r\n        }\r\n    \r\n        public Parent setFoo(boolean foo) {\r\n            this.foo = foo;\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\nand the child class:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;text.prop&quot;)\r\n    public class Child extends Parent{\r\n        private int num;\r\n    \r\n        public int getNum() {\r\n            return num;\r\n        }\r\n    \r\n        public Child setNum(int num) {\r\n            this.num = num;\r\n            return this;\r\n        }\r\n    \r\n        @Bean\r\n        public String dummyBean(){\r\n            System.out.println(num);\r\n            System.out.println(isFoo());\r\n            return &quot;dummyBean&quot;;\r\n        }\r\n    }\r\n\r\nand for child2 we have:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;text.prop2&quot;)\r\n    public class Child2 extends Parent{\r\n        private int num;\r\n    \r\n        public int getNum() {\r\n            return num;\r\n        }\r\n    \r\n        public Child2 setNum(int num) {\r\n            this.num = num;\r\n            return this;\r\n        }\r\n    \r\n        @Bean\r\n        public String dummyBean2(){\r\n            System.out.println(num);\r\n            System.out.println(isFoo());\r\n            return &quot;dummyBean&quot;;\r\n        }\r\n    }\r\n\r\nthe value printed in console:\r\n\r\n    67\r\n    true\r\n    67\r\n    false\r\n\r\nIf `Parent` class is a `@Configuration` class add `@AutoConfigureAfter(value = {Parent.class})` to child classes","title":"Access parent fields config properties from child class","body":"<p>I did the following test and it looks it works:</p>\n<pre><code>public class Parent {\n    private boolean foo;\n\n    public boolean isFoo() {\n        return foo;\n    }\n\n    public Parent setFoo(boolean foo) {\n        this.foo = foo;\n        return this;\n    }\n}\n</code></pre>\n<p>and the child class:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;text.prop&quot;)\npublic class Child extends Parent{\n    private int num;\n\n    public int getNum() {\n        return num;\n    }\n\n    public Child setNum(int num) {\n        this.num = num;\n        return this;\n    }\n\n    @Bean\n    public String dummyBean(){\n        System.out.println(num);\n        System.out.println(isFoo());\n        return &quot;dummyBean&quot;;\n    }\n}\n</code></pre>\n<p>and for child2 we have:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;text.prop2&quot;)\npublic class Child2 extends Parent{\n    private int num;\n\n    public int getNum() {\n        return num;\n    }\n\n    public Child2 setNum(int num) {\n        this.num = num;\n        return this;\n    }\n\n    @Bean\n    public String dummyBean2(){\n        System.out.println(num);\n        System.out.println(isFoo());\n        return &quot;dummyBean&quot;;\n    }\n}\n</code></pre>\n<p>the value printed in console:</p>\n<pre><code>67\ntrue\n67\nfalse\n</code></pre>\n<p>If <code>Parent</code> class is a <code>@Configuration</code> class add <code>@AutoConfigureAfter(value = {Parent.class})</code> to child classes</p>\n"},{"tags":[],"owner":{"account_id":26422661,"reputation":1,"user_id":20070119,"display_name":"Gagandeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670567612,"creation_date":1670567612,"answer_id":74739629,"question_id":71675558,"body_markdown":"For this to work, you need to define getters and setters in the parent class.","title":"Access parent fields config properties from child class","body":"<p>For this to work, you need to define getters and setters in the parent class.</p>\n"}],"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1670567612,"creation_date":1648636143,"question_id":71675558,"body_markdown":"I have the following classes:\r\n\r\nParent.class\r\n```\r\n@Configuration\r\npublic class Parent{\r\n\tboolean foo;\r\n}\r\n```\r\nChild.class\r\n```\r\n@Configuration\r\n@Configuration(prefix = &quot;text.prop&quot;)\r\npublic class Child extends Parent{\r\n\tint num;\r\n}\r\n```\r\nChild2.class\r\n```\r\n@Configuration\r\n@Configuration(prefix = &quot;text.prop2&quot;)\r\npublic class Child2 extends Parent{\r\n\tint num;\r\n}\r\n```\r\napplication.yml:\r\n```\r\ntext:\r\n\tprop:\r\n\t\tfoo: true\r\n\t\tnum: 67\r\n    prop2:\r\n        foo: false\r\n        num: 67\r\n```\r\n\r\nwhen I&#39;m auto-wiring the `Child.class`, the value of the field `foo` is not getting initialized from `application.yml`\r\n\r\nIs there any better way to do this? or how can i access the field `foo` value when the spring initializes `Child.class`","title":"Access parent fields config properties from child class","body":"<p>I have the following classes:</p>\n<p>Parent.class</p>\n<pre><code>@Configuration\npublic class Parent{\n    boolean foo;\n}\n</code></pre>\n<p>Child.class</p>\n<pre><code>@Configuration\n@Configuration(prefix = &quot;text.prop&quot;)\npublic class Child extends Parent{\n    int num;\n}\n</code></pre>\n<p>Child2.class</p>\n<pre><code>@Configuration\n@Configuration(prefix = &quot;text.prop2&quot;)\npublic class Child2 extends Parent{\n    int num;\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>text:\n    prop:\n        foo: true\n        num: 67\n    prop2:\n        foo: false\n        num: 67\n</code></pre>\n<p>when I'm auto-wiring the <code>Child.class</code>, the value of the field <code>foo</code> is not getting initialized from <code>application.yml</code></p>\n<p>Is there any better way to do this? or how can i access the field <code>foo</code> value when the spring initializes <code>Child.class</code></p>\n"},{"tags":["java","android","textview","textcolor"],"answers":[{"tags":[],"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670511547,"creation_date":1573320608,"answer_id":58781788,"question_id":58781749,"body_markdown":"To change the text color:\r\n\r\n    textView.setTextColor(ContextCompat.getColor(context, R.color.&lt;name_of_color&gt;));\r\n\r\nTo change the text size:\r\n\r\n    textView.setTextSize(TypedValue.COMPLEX_UNIT_SP,14);\r\n\r\n","title":"How to change Text Color and Text Size with Java in Android Studio?","body":"<p>To change the text color:</p>\n<pre><code>textView.setTextColor(ContextCompat.getColor(context, R.color.&lt;name_of_color&gt;));\n</code></pre>\n<p>To change the text size:</p>\n<pre><code>textView.setTextSize(TypedValue.COMPLEX_UNIT_SP,14);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18085501,"reputation":657,"user_id":13146544,"display_name":"Samudra Ganguly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592139665,"creation_date":1592139665,"answer_id":62372875,"question_id":58781749,"body_markdown":"To change color, write\r\n\r\n    helloTextView.setTextColor(Color.RED);\r\n\r\nTo change size,\r\n\r\n    helloTextView.setTextSize(14.0f);\r\n\r\nYou can put your dersired values, such as *Color.GREEN* or *15.0f*","title":"How to change Text Color and Text Size with Java in Android Studio?","body":"<p>To change color, write</p>\n\n<pre><code>helloTextView.setTextColor(Color.RED);\n</code></pre>\n\n<p>To change size,</p>\n\n<pre><code>helloTextView.setTextSize(14.0f);\n</code></pre>\n\n<p>You can put your dersired values, such as <em>Color.GREEN</em> or <em>15.0f</em></p>\n"},{"tags":[],"owner":{"account_id":10183459,"reputation":21,"user_id":7519369,"display_name":"Parnab Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670566207,"creation_date":1670566207,"answer_id":74739491,"question_id":58781749,"body_markdown":"    helloTextView.setTextColor\r\n    (Color.parseColor(&quot;#hex code&quot;));","title":"How to change Text Color and Text Size with Java in Android Studio?","body":"<pre><code>helloTextView.setTextColor\n(Color.parseColor(&quot;#hex code&quot;));\n</code></pre>\n"}],"owner":{"account_id":16968948,"reputation":9,"user_id":12274088,"display_name":"Taras Yasinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":58781788,"answer_count":3,"score":-3,"last_activity_date":1670566207,"creation_date":1573320341,"question_id":58781749,"body_markdown":"```\r\npackage com.example.androidx;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void setXiaomiPhone(View view) {\r\n        TextView helloTextView = findViewById(R.id.textView);\r\n        helloTextView.setText(&quot;Hello Xiaomi Phone&quot;);\r\n   }\r\n}\r\n\r\n```\r\nI need to change the text in Text View, and I also need to change the color and the size of the text. How can I do it?\r\n","title":"How to change Text Color and Text Size with Java in Android Studio?","body":"<pre><code>package com.example.androidx;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void setXiaomiPhone(View view) {\n        TextView helloTextView = findViewById(R.id.textView);\n        helloTextView.setText(&quot;Hello Xiaomi Phone&quot;);\n   }\n}\n\n</code></pre>\n<p>I need to change the text in Text View, and I also need to change the color and the size of the text. How can I do it?</p>\n"},{"tags":["java","css","fonts","awt","graphics2d"],"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670566110,"creation_date":1670566110,"question_id":74739479,"body_markdown":"I want to know how to convert TextAttribute.TRACKING floating point value to &quot;points&quot; or &quot;pixels&quot; in css letter-spacing.\r\n\r\nThis is what I am doing in the backend.\r\n\r\n    AttributedString as = new AttributedString(&quot;Some text&quot;);\r\n    as.addAttribute(TextAttribute.TRACKING, 0.05f);\r\n\r\n\r\nI have a backend that uses Java Graphics to draw text and front end where user enters the text. So my need is to show the effect in UI first without having to hit backend first.\r\n\r\nPS: If the conversion is not possible, then what is the alternative in css for TRACKING?\r\n\r\nAppreciate any help.","title":"How to convert java.awt.font TextAttribute.TRACKING to css letter spacing?","body":"<p>I want to know how to convert TextAttribute.TRACKING floating point value to &quot;points&quot; or &quot;pixels&quot; in css letter-spacing.</p>\n<p>This is what I am doing in the backend.</p>\n<pre><code>AttributedString as = new AttributedString(&quot;Some text&quot;);\nas.addAttribute(TextAttribute.TRACKING, 0.05f);\n</code></pre>\n<p>I have a backend that uses Java Graphics to draw text and front end where user enters the text. So my need is to show the effect in UI first without having to hit backend first.</p>\n<p>PS: If the conversion is not possible, then what is the alternative in css for TRACKING?</p>\n<p>Appreciate any help.</p>\n"},{"tags":["java","android","kotlin","service","android-wifi"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670589366,"post_id":74739398,"comment_id":131914512,"body_markdown":"Where are you trying to get ssid after network change? I see no code. And how are you changing from A to B? Is your app doing that? And you were able to get ssid from A?","body":"Where are you trying to get ssid after network change? I see no code. And how are you changing from A to B? Is your app doing that? And you were able to get ssid from A?"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670565369,"creation_date":1670565369,"question_id":74739398,"body_markdown":"I am having a problem as follows:\r\n\r\nI am trying to listen for wifi change status in service. But when I change wifi from A -&gt; B, I can&#39;t get the ssid of the network. \r\n\r\nI don&#39;t know where I am going wrong. \r\n\r\nCan anyone help me to solve this problem?\r\n\r\nMy code is below:\r\n\r\n```\r\n override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n        log(&quot;onStartCommand executed with startId: $startId&quot;)\r\n        GlobalScope.launch(Dispatchers.IO) {\r\n            while (isServiceStarted) {\r\n\r\n                checkNetworkInfo { isConnect -&gt;\r\n                    if (isConnect) {\r\n                        GlobalScope.launch(Dispatchers.IO) {\r\n                            val netInfo = getNetworkSSID(this@NetworkService)\r\n                            log(&quot;===========: &quot; + netInfo)\r\n                        }\r\n\r\n                    } else {\r\n                        log(&quot;============No Connect&quot;)\r\n                    }\r\n\r\n                }\r\n                delay(1 * 60 * 1000)\r\n            }\r\n        }\r\n        \r\n        return START_STICKY\r\n    }\r\n\r\n     fun getNetworkSSID(context: Context): String {\r\n        val manager = context.applicationContext.getSystemService(WIFI_SERVICE) as WifiManager\r\n        if (manager != null &amp;&amp; manager.isWifiEnabled) {\r\n            val wifiInfo: WifiInfo? = manager.connectionInfo\r\n            if (wifiInfo != null) {\r\n                val state: DetailedState =\r\n                    WifiInfo.getDetailedStateOf(wifiInfo.getSupplicantState())\r\n                if (state == DetailedState.CONNECTED || state == DetailedState.OBTAINING_IPADDR) {\r\n                    return wifiInfo.getSSID()\r\n                }\r\n            }\r\n        }\r\n        return &quot;&quot;\r\n    }\r\n\r\n```\r\n\r\n```\r\nfun Context.checkNetworkInfo(isConnected: (Boolean) -&gt; Unit) {\r\n    val connectivityManager = getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        val capabilities =\r\n            connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\r\n        if (capabilities == null) {\r\n            isConnected.invoke(false)\r\n        }\r\n        connectivityManager.registerNetworkCallback(\r\n            NetworkRequest.Builder()\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_ETHERNET).build(),\r\n            object : ConnectivityManager.NetworkCallback() {\r\n\r\n                override fun onAvailable(network: Network) {\r\n                    super.onAvailable(network)\r\n                    isConnected.invoke(true)\r\n                }\r\n\r\n                override fun onLost(network: Network) {\r\n                    isConnected.invoke(false)\r\n                }\r\n            })\r\n    } else {\r\n        val networkInfo = connectivityManager.activeNetworkInfo\r\n        isConnected.invoke(networkInfo != null &amp;&amp; networkInfo.isConnectedOrConnecting)\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have granted permission [CHANGE_WIFI_STATE,ACCESS_NETWORK_STATE,ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION]\r\n\r\nThank you.","title":"Can not get SSID when change wifi in android","body":"<p>I am having a problem as follows:</p>\n<p>I am trying to listen for wifi change status in service. But when I change wifi from A -&gt; B, I can't get the ssid of the network.</p>\n<p>I don't know where I am going wrong.</p>\n<p>Can anyone help me to solve this problem?</p>\n<p>My code is below:</p>\n<pre><code> override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        log(&quot;onStartCommand executed with startId: $startId&quot;)\n        GlobalScope.launch(Dispatchers.IO) {\n            while (isServiceStarted) {\n\n                checkNetworkInfo { isConnect -&gt;\n                    if (isConnect) {\n                        GlobalScope.launch(Dispatchers.IO) {\n                            val netInfo = getNetworkSSID(this@NetworkService)\n                            log(&quot;===========: &quot; + netInfo)\n                        }\n\n                    } else {\n                        log(&quot;============No Connect&quot;)\n                    }\n\n                }\n                delay(1 * 60 * 1000)\n            }\n        }\n        \n        return START_STICKY\n    }\n\n     fun getNetworkSSID(context: Context): String {\n        val manager = context.applicationContext.getSystemService(WIFI_SERVICE) as WifiManager\n        if (manager != null &amp;&amp; manager.isWifiEnabled) {\n            val wifiInfo: WifiInfo? = manager.connectionInfo\n            if (wifiInfo != null) {\n                val state: DetailedState =\n                    WifiInfo.getDetailedStateOf(wifiInfo.getSupplicantState())\n                if (state == DetailedState.CONNECTED || state == DetailedState.OBTAINING_IPADDR) {\n                    return wifiInfo.getSSID()\n                }\n            }\n        }\n        return &quot;&quot;\n    }\n\n</code></pre>\n<pre><code>fun Context.checkNetworkInfo(isConnected: (Boolean) -&gt; Unit) {\n    val connectivityManager = getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        val capabilities =\n            connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\n        if (capabilities == null) {\n            isConnected.invoke(false)\n        }\n        connectivityManager.registerNetworkCallback(\n            NetworkRequest.Builder()\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n                .addTransportType(NetworkCapabilities.TRANSPORT_ETHERNET).build(),\n            object : ConnectivityManager.NetworkCallback() {\n\n                override fun onAvailable(network: Network) {\n                    super.onAvailable(network)\n                    isConnected.invoke(true)\n                }\n\n                override fun onLost(network: Network) {\n                    isConnected.invoke(false)\n                }\n            })\n    } else {\n        val networkInfo = connectivityManager.activeNetworkInfo\n        isConnected.invoke(networkInfo != null &amp;&amp; networkInfo.isConnectedOrConnecting)\n    }\n}\n\n</code></pre>\n<p>I have granted permission [CHANGE_WIFI_STATE,ACCESS_NETWORK_STATE,ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION]</p>\n<p>Thank you.</p>\n"},{"tags":["java","eclipse","jsoup","noclassdeffounderror"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1601315244,"post_id":64106702,"comment_id":113363310,"body_markdown":"Works fine for me. What Eclipse version are you using and what java version are you using?","body":"Works fine for me. What Eclipse version are you using and what java version are you using?"},{"owner":{"account_id":19547356,"reputation":1,"user_id":14303768,"display_name":"Y2020-09"},"score":0,"creation_date":1601316290,"post_id":64106702,"comment_id":113363745,"body_markdown":"Here is a massively long [Stack Overflow answer](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/18093929#18093929) about the exception you have mentioned....  And here is brief but direct answer about [importing JAR&#39;s](https://stackoverflow.com/questions/26104786/classpath-jar-files-in-eclipse) using Eclipse.","body":"Here is a massively long <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/18093929#18093929\">Stack Overflow answer</a> about the exception you have mentioned....  And here is brief but direct answer about <a href=\"https://stackoverflow.com/questions/26104786/classpath-jar-files-in-eclipse\">importing JAR&#39;s</a> using Eclipse."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1601317651,"post_id":64106702,"comment_id":113364262,"body_markdown":"If you have a `module-info.java` file, delete it. Otherwise, show how you have added the jsoup JAR to the Java Build Path.","body":"If you have a <code>module-info.java</code> file, delete it. Otherwise, show how you have added the jsoup JAR to the Java Build Path."},{"owner":{"account_id":19614442,"reputation":194,"user_id":14356265,"display_name":"vazun"},"score":0,"creation_date":1601531562,"post_id":64106702,"comment_id":113438168,"body_markdown":"I am using the Eclipse June 2020 version and the JDK 14.0.2","body":"I am using the Eclipse June 2020 version and the JDK 14.0.2"},{"owner":{"account_id":19614442,"reputation":194,"user_id":14356265,"display_name":"vazun"},"score":0,"creation_date":1601531624,"post_id":64106702,"comment_id":113438182,"body_markdown":"At first I added the Jsoup by clicking on the Projekt on properties on build path and then add external jar. Later I tried it with a libs folder but this didnt work either","body":"At first I added the Jsoup by clicking on the Projekt on properties on build path and then add external jar. Later I tried it with a libs folder but this didnt work either"},{"owner":{"account_id":19614442,"reputation":194,"user_id":14356265,"display_name":"vazun"},"score":0,"creation_date":1601531648,"post_id":64106702,"comment_id":113438189,"body_markdown":"I had no modulinfo","body":"I had no modulinfo"}],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601325248,"creation_date":1601324196,"answer_id":64109052,"question_id":64106702,"body_markdown":"Based on stacktrace you are running java program from command line and you forgot to add jsoup into class path. Try running\r\n\r\n   **java -cp classes:libs/jsoup.jar com.copiedcrawler.SpiderTest**\r\n\r\nWhere classes is your program compiled and libs is a folder with libraries. ","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup","body":"<p>Based on stacktrace you are running java program from command line and you forgot to add jsoup into class path. Try running</p>\n<p><strong>java -cp classes:libs/jsoup.jar com.copiedcrawler.SpiderTest</strong></p>\n<p>Where classes is your program compiled and libs is a folder with libraries.</p>\n"},{"tags":[],"owner":{"account_id":25658874,"reputation":11,"user_id":19424881,"display_name":"JavaJunkie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670565251,"creation_date":1670565251,"answer_id":74739385,"question_id":64106702,"body_markdown":"You might have added the Jsoup Jar File into the Modulepath. \r\n\r\nYou need to add the JAR file to classpath.\r\n\r\nFollow the below steps:\r\n1. Remove the Jsoup JAR from the libraries. \r\n2. **Project-&gt;Build Path-&gt;Configure Build Path-&gt;Libraries-&gt;ClassPath-&gt;Add External JARs.**\r\n3. Apply and Close. \r\n4. Re-run the project. \r\n\r\nNow, It should work.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup","body":"<p>You might have added the Jsoup Jar File into the Modulepath.</p>\n<p>You need to add the JAR file to classpath.</p>\n<p>Follow the below steps:</p>\n<ol>\n<li>Remove the Jsoup JAR from the libraries.</li>\n<li><strong>Project-&gt;Build Path-&gt;Configure Build Path-&gt;Libraries-&gt;ClassPath-&gt;Add External JARs.</strong></li>\n<li>Apply and Close.</li>\n<li>Re-run the project.</li>\n</ol>\n<p>Now, It should work.</p>\n"}],"owner":{"account_id":19614442,"reputation":194,"user_id":14356265,"display_name":"vazun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670565251,"creation_date":1601313288,"question_id":64106702,"body_markdown":"I copied a simple web crawler from the internet and then started to run the application in a test class. Every time i try to run the application I get &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup&quot; error. I first imported the jsoup jar as a externaljar in a Libary, because I needed it for the http stuff.\r\n\r\n**Error messages:** \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup\r\n    \tat com.copiedcrawler.SpiderLeg.crawl(SpiderLeg.java:35)\r\n    \tat com.copiedcrawler.Spider.search(Spider.java:40)\r\n    \tat com.copiedcrawler.SpiderTest.main(SpiderTest.java:9)\r\n    Caused by: java.lang.ClassNotFoundException: org.jsoup.Jsoup\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 3 more\r\n\r\n**Spider Class**\r\n\r\n    package com.copiedcrawler;\r\n    \r\n    \r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class Spider\r\n    {\r\n      private static final int MAX_PAGES_TO_SEARCH = 10;\r\n      private Set&lt;String&gt; pagesVisited = new HashSet&lt;String&gt;();\r\n      private List&lt;String&gt; pagesToVisit = new LinkedList&lt;String&gt;();\r\n    \r\n      public void search(String url, String searchWord)\r\n      {\r\n          while(this.pagesVisited.size() &lt; MAX_PAGES_TO_SEARCH)\r\n          {\r\n              String currentUrl;\r\n              SpiderLeg leg = new SpiderLeg();\r\n              if(this.pagesToVisit.isEmpty())\r\n              {\r\n                  currentUrl = url;\r\n                  this.pagesVisited.add(url);\r\n              }\r\n              else\r\n              {\r\n                  currentUrl = this.nextUrl();\r\n              }\r\n              leg.crawl(currentUrl); // Lots of stuff happening here. Look at the crawl method in\r\n                                     // SpiderLeg\r\n              boolean success = leg.searchForWord(searchWord);\r\n              if(success)\r\n              {\r\n                  System.out.println(String.format(&quot;**Success** Word %s found at %s&quot;, searchWord, currentUrl));\r\n                  break;\r\n              }\r\n              this.pagesToVisit.addAll(leg.getLinks());\r\n          }\r\n          System.out.println(&quot;\\n**Done** Visited &quot; + this.pagesVisited.size() + &quot; web page(s)&quot;);\r\n      }\r\n    \r\n    \r\n      /**\r\n       * Returns the next URL to visit (in the order that they were found). We also do a check to make\r\n       * sure this method doesn&#39;t return a URL that has already been visited.\r\n       * \r\n       * @return\r\n       */\r\n      private String nextUrl()\r\n      {\r\n          String nextUrl;\r\n          do\r\n          {\r\n              nextUrl = this.pagesToVisit.remove(0);\r\n          } while(this.pagesVisited.contains(nextUrl));\r\n          this.pagesVisited.add(nextUrl);\r\n          return nextUrl;\r\n      }\r\n    }\r\n\r\n\r\n**SpiderLeg class**\r\n\r\n    package com.copiedcrawler;\r\n    \r\n    \r\n    import java.io.IOException;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import org.jsoup.Connection;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    public class SpiderLeg\r\n    {\r\n        // We&#39;ll use a fake USER_AGENT so the web server thinks the robot is a normal web browser.\r\n        private static final String USER_AGENT =\r\n                &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.112 Safari/535.1&quot;;\r\n        private List&lt;String&gt; links = new LinkedList&lt;String&gt;();\r\n        private Document htmlDocument;\r\n    \r\n    \r\n        /**\r\n         * This performs all the work. It makes an HTTP request, checks the response, and then gathers\r\n         * up all the links on the page. Perform a searchForWord after the successful crawl\r\n         * \r\n         * @param url\r\n         *            - The URL to visit\r\n         * @return whether or not the crawl was successful\r\n         */\r\n        public boolean crawl(String url)\r\n        {\r\n            try\r\n            {\r\n                Connection connection = Jsoup.connect(url).userAgent(USER_AGENT);\r\n                Document htmlDocument = connection.get();\r\n                this.htmlDocument = htmlDocument;\r\n                if(connection.response().statusCode() == 200) // 200 is the HTTP OK status code\r\n                                                              // indicating that everything is great.\r\n                {\r\n                    System.out.println(&quot;\\n**Visiting** Received web page at &quot; + url);\r\n                }\r\n                if(!connection.response().contentType().contains(&quot;text/html&quot;))\r\n                {\r\n                    System.out.println(&quot;**Failure** Retrieved something other than HTML&quot;);\r\n                    return false;\r\n                }\r\n                Elements linksOnPage = htmlDocument.select(&quot;a[href]&quot;);\r\n                System.out.println(&quot;Found (&quot; + linksOnPage.size() + &quot;) links&quot;);\r\n                for(Element link : linksOnPage)\r\n                {\r\n                    this.links.add(link.absUrl(&quot;href&quot;));\r\n                }\r\n                return true;\r\n            }\r\n            catch(IOException ioe)\r\n            {\r\n                // We were not successful in our HTTP request\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Performs a search on the body of on the HTML document that is retrieved. This method should\r\n         * only be called after a successful crawl.\r\n         * \r\n         * @param searchWord\r\n         *            - The word or string to look for\r\n         * @return whether or not the word was found\r\n         */\r\n        public boolean searchForWord(String searchWord)\r\n        {\r\n            // Defensive coding. This method should only be used after a successful crawl.\r\n            if(this.htmlDocument == null)\r\n            {\r\n                System.out.println(&quot;ERROR! Call crawl() before performing analysis on the document&quot;);\r\n                return false;\r\n            }\r\n            System.out.println(&quot;Searching for the word &quot; + searchWord + &quot;...&quot;);\r\n            String bodyText = this.htmlDocument.body().text();\r\n            return bodyText.toLowerCase().contains(searchWord.toLowerCase());\r\n        }\r\n    \r\n    \r\n        public List&lt;String&gt; getLinks()\r\n        {\r\n            return this.links;\r\n        }\r\n    \r\n    }\r\n\r\n**SpiderTest class**\r\n\r\npackage com.copiedcrawler;\r\n\r\n\r\n    public class SpiderTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n            Spider s1 = new Spider();\r\n            s1.search(&quot;https://www.w3schools.com/html/&quot;, &quot;html&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup","body":"<p>I copied a simple web crawler from the internet and then started to run the application in a test class. Every time i try to run the application I get &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup&quot; error. I first imported the jsoup jar as a externaljar in a Libary, because I needed it for the http stuff.</p>\n<p><strong>Error messages:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jsoup/Jsoup\n    at com.copiedcrawler.SpiderLeg.crawl(SpiderLeg.java:35)\n    at com.copiedcrawler.Spider.search(Spider.java:40)\n    at com.copiedcrawler.SpiderTest.main(SpiderTest.java:9)\nCaused by: java.lang.ClassNotFoundException: org.jsoup.Jsoup\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 3 more\n</code></pre>\n<p><strong>Spider Class</strong></p>\n<pre><code>package com.copiedcrawler;\n\n\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Spider\n{\n  private static final int MAX_PAGES_TO_SEARCH = 10;\n  private Set&lt;String&gt; pagesVisited = new HashSet&lt;String&gt;();\n  private List&lt;String&gt; pagesToVisit = new LinkedList&lt;String&gt;();\n\n  public void search(String url, String searchWord)\n  {\n      while(this.pagesVisited.size() &lt; MAX_PAGES_TO_SEARCH)\n      {\n          String currentUrl;\n          SpiderLeg leg = new SpiderLeg();\n          if(this.pagesToVisit.isEmpty())\n          {\n              currentUrl = url;\n              this.pagesVisited.add(url);\n          }\n          else\n          {\n              currentUrl = this.nextUrl();\n          }\n          leg.crawl(currentUrl); // Lots of stuff happening here. Look at the crawl method in\n                                 // SpiderLeg\n          boolean success = leg.searchForWord(searchWord);\n          if(success)\n          {\n              System.out.println(String.format(&quot;**Success** Word %s found at %s&quot;, searchWord, currentUrl));\n              break;\n          }\n          this.pagesToVisit.addAll(leg.getLinks());\n      }\n      System.out.println(&quot;\\n**Done** Visited &quot; + this.pagesVisited.size() + &quot; web page(s)&quot;);\n  }\n\n\n  /**\n   * Returns the next URL to visit (in the order that they were found). We also do a check to make\n   * sure this method doesn't return a URL that has already been visited.\n   * \n   * @return\n   */\n  private String nextUrl()\n  {\n      String nextUrl;\n      do\n      {\n          nextUrl = this.pagesToVisit.remove(0);\n      } while(this.pagesVisited.contains(nextUrl));\n      this.pagesVisited.add(nextUrl);\n      return nextUrl;\n  }\n}\n</code></pre>\n<p><strong>SpiderLeg class</strong></p>\n<pre><code>package com.copiedcrawler;\n\n\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport org.jsoup.Connection;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\npublic class SpiderLeg\n{\n    // We'll use a fake USER_AGENT so the web server thinks the robot is a normal web browser.\n    private static final String USER_AGENT =\n            &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.112 Safari/535.1&quot;;\n    private List&lt;String&gt; links = new LinkedList&lt;String&gt;();\n    private Document htmlDocument;\n\n\n    /**\n     * This performs all the work. It makes an HTTP request, checks the response, and then gathers\n     * up all the links on the page. Perform a searchForWord after the successful crawl\n     * \n     * @param url\n     *            - The URL to visit\n     * @return whether or not the crawl was successful\n     */\n    public boolean crawl(String url)\n    {\n        try\n        {\n            Connection connection = Jsoup.connect(url).userAgent(USER_AGENT);\n            Document htmlDocument = connection.get();\n            this.htmlDocument = htmlDocument;\n            if(connection.response().statusCode() == 200) // 200 is the HTTP OK status code\n                                                          // indicating that everything is great.\n            {\n                System.out.println(&quot;\\n**Visiting** Received web page at &quot; + url);\n            }\n            if(!connection.response().contentType().contains(&quot;text/html&quot;))\n            {\n                System.out.println(&quot;**Failure** Retrieved something other than HTML&quot;);\n                return false;\n            }\n            Elements linksOnPage = htmlDocument.select(&quot;a[href]&quot;);\n            System.out.println(&quot;Found (&quot; + linksOnPage.size() + &quot;) links&quot;);\n            for(Element link : linksOnPage)\n            {\n                this.links.add(link.absUrl(&quot;href&quot;));\n            }\n            return true;\n        }\n        catch(IOException ioe)\n        {\n            // We were not successful in our HTTP request\n            return false;\n        }\n    }\n\n\n    /**\n     * Performs a search on the body of on the HTML document that is retrieved. This method should\n     * only be called after a successful crawl.\n     * \n     * @param searchWord\n     *            - The word or string to look for\n     * @return whether or not the word was found\n     */\n    public boolean searchForWord(String searchWord)\n    {\n        // Defensive coding. This method should only be used after a successful crawl.\n        if(this.htmlDocument == null)\n        {\n            System.out.println(&quot;ERROR! Call crawl() before performing analysis on the document&quot;);\n            return false;\n        }\n        System.out.println(&quot;Searching for the word &quot; + searchWord + &quot;...&quot;);\n        String bodyText = this.htmlDocument.body().text();\n        return bodyText.toLowerCase().contains(searchWord.toLowerCase());\n    }\n\n\n    public List&lt;String&gt; getLinks()\n    {\n        return this.links;\n    }\n\n}\n</code></pre>\n<p><strong>SpiderTest class</strong></p>\n<p>package com.copiedcrawler;</p>\n<pre><code>public class SpiderTest {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Spider s1 = new Spider();\n        s1.search(&quot;https://www.w3schools.com/html/&quot;, &quot;html&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":9438015,"reputation":194,"user_id":7019432,"display_name":"Leonardo Foderaro"},"score":1,"creation_date":1476912781,"post_id":40141688,"comment_id":67553720,"body_markdown":"maybe this can help? http://stackoverflow.com/questions/27444077/weka-throws-unassigneddatasetexception","body":"maybe this can help? <a href=\"http://stackoverflow.com/questions/27444077/weka-throws-unassigneddatasetexception\" title=\"weka throws unassigneddatasetexception\">stackoverflow.com/questions/27444077/&hellip;</a>"},{"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"score":0,"creation_date":1477079666,"post_id":40141688,"comment_id":67636518,"body_markdown":"Thanks, it worked. How can I assign your reply as an answer?","body":"Thanks, it worked. How can I assign your reply as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670565016,"creation_date":1670565016,"answer_id":74739357,"question_id":40141688,"body_markdown":"As [Leonardo Foderaro][1] said, https://stackoverflow.com/questions/27444077/weka-throws-unassigneddatasetexception solves my problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/7019432/leonardo-foderaro","title":"weka.core.UnassignedDatasetException: Instance doesn&#39;t have access to a dataset","body":"<p>As <a href=\"https://stackoverflow.com/users/7019432/leonardo-foderaro\">Leonardo Foderaro</a> said, <a href=\"https://stackoverflow.com/questions/27444077/weka-throws-unassigneddatasetexception\">Weka throws &quot;UnassignedDatasetException&quot;</a> solves my problem.</p>\n"}],"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74739357,"answer_count":1,"score":2,"last_activity_date":1670565016,"creation_date":1476911899,"question_id":40141688,"body_markdown":"I am implementing a basic machine learning code in java. I try to implement J48 decision tree learner.  Here is the source code: \r\n\r\n        public void ReadFile(){\r\n        \r\n        String csvFile = &quot;~/animal1.arff&quot;;\r\n        BufferedReader br = null;\r\n        String line = &quot;&quot;;\r\n        String cvsSplitBy = &quot;,&quot;;             \r\n        Instances instances = null;        \r\n        InfoGainAttributeEval eval = null;\r\n        Ranker search = null;        \r\n        AttributeSelection attSelect = null;   \r\n        \r\n        J48 tree =null;\r\n        String[] options =null;\r\n        \r\n        try {\r\n        \teval = new InfoGainAttributeEval();    \r\n        \t\r\n        \tsearch = new Ranker();\r\n        \tattSelect = new AttributeSelection();              \r\n        \t\r\n            br = new BufferedReader(new FileReader(csvFile));\r\n            while ((line = br.readLine()) != null) {\r\n\r\n                attSelect.setEvaluator(eval);                      \r\n                attSelect.setSearch(search);               \r\n                instances = new Instances(br);      \r\n       \r\n                attSelect.SelectAttributes(instances);\r\n\r\n                int[] indices = attSelect.selectedAttributes();\r\n                System.out.println(Utils.arrayToString(indices));     \r\n                \r\n                \r\n                tree = new J48();\r\n                options = new String[1];\r\n                options[0] = &quot;-U&quot;;\r\n\r\n                tree.setOptions(options);\r\n                \r\n                tree.buildClassifier(instances);\r\n                \r\n                System.out.println(tree);\r\n\r\n\r\n                double[] vals = new double[instances.numAttributes()];\r\n                vals[0] = 1.0;  //hair {false, true}\r\n                vals[1] = 0.0;  //feathers {false, true}\r\n                vals[2] = 0.0;  //eggs {false, true}\r\n                vals[3] = 1.0;  //milk {false, true}\r\n                vals[4] = 0.0;  //airborne {false, true}\r\n                vals[5] = 0.0;  //aquatic {false, true}\r\n                vals[6] = 0.0;  //predator {false, true}\r\n                vals[7] = 1.0;  //toothed {false, true}\r\n                vals[8] = 1.0;  //backbone {false, true}\r\n                vals[9] = 1.0;  //breathes {false, true}\r\n                vals[10] = 1.0;  //venomous {false, true}\r\n                vals[11] = 0.0;  //fins {false, true}\r\n                vals[12] = 4.0;  //legs INTEGER [0,9]\r\n                vals[13] = 1.0;  //tail {false, true}\r\n                vals[14] = 1.0;  //domestic {false, true}\r\n                vals[15] = 0.0;  //catsize {false, true}\r\n                \r\n                Instance myUnicorn = new Instance(1.0, vals);\r\n\r\n                double result = tree.classifyInstance(myUnicorn);\r\n                \r\n                System.out.println(myUnicorn.classAttribute().value((int) result));\r\n                \r\n            }\r\n\t\t\t\r\n\t\t\t       \r\n\t\t} catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }finally {\r\n            if (br != null) {\r\n                try {\r\n                    br.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n\r\nI am getting *weka.core.UnassignedDatasetException: Instance doesn&#39;t have access to a dataset!* exception in   \r\n\r\n    double result = tree.classifyInstance(myUnicorn);\r\n\r\nCould you please help me? Thanks in advance. ","title":"weka.core.UnassignedDatasetException: Instance doesn&#39;t have access to a dataset","body":"<p>I am implementing a basic machine learning code in java. I try to implement J48 decision tree learner.  Here is the source code: </p>\n\n<pre><code>    public void ReadFile(){\n\n    String csvFile = \"~/animal1.arff\";\n    BufferedReader br = null;\n    String line = \"\";\n    String cvsSplitBy = \",\";             \n    Instances instances = null;        \n    InfoGainAttributeEval eval = null;\n    Ranker search = null;        \n    AttributeSelection attSelect = null;   \n\n    J48 tree =null;\n    String[] options =null;\n\n    try {\n        eval = new InfoGainAttributeEval();    \n\n        search = new Ranker();\n        attSelect = new AttributeSelection();              \n\n        br = new BufferedReader(new FileReader(csvFile));\n        while ((line = br.readLine()) != null) {\n\n            attSelect.setEvaluator(eval);                      \n            attSelect.setSearch(search);               \n            instances = new Instances(br);      \n\n            attSelect.SelectAttributes(instances);\n\n            int[] indices = attSelect.selectedAttributes();\n            System.out.println(Utils.arrayToString(indices));     \n\n\n            tree = new J48();\n            options = new String[1];\n            options[0] = \"-U\";\n\n            tree.setOptions(options);\n\n            tree.buildClassifier(instances);\n\n            System.out.println(tree);\n\n\n            double[] vals = new double[instances.numAttributes()];\n            vals[0] = 1.0;  //hair {false, true}\n            vals[1] = 0.0;  //feathers {false, true}\n            vals[2] = 0.0;  //eggs {false, true}\n            vals[3] = 1.0;  //milk {false, true}\n            vals[4] = 0.0;  //airborne {false, true}\n            vals[5] = 0.0;  //aquatic {false, true}\n            vals[6] = 0.0;  //predator {false, true}\n            vals[7] = 1.0;  //toothed {false, true}\n            vals[8] = 1.0;  //backbone {false, true}\n            vals[9] = 1.0;  //breathes {false, true}\n            vals[10] = 1.0;  //venomous {false, true}\n            vals[11] = 0.0;  //fins {false, true}\n            vals[12] = 4.0;  //legs INTEGER [0,9]\n            vals[13] = 1.0;  //tail {false, true}\n            vals[14] = 1.0;  //domestic {false, true}\n            vals[15] = 0.0;  //catsize {false, true}\n\n            Instance myUnicorn = new Instance(1.0, vals);\n\n            double result = tree.classifyInstance(myUnicorn);\n\n            System.out.println(myUnicorn.classAttribute().value((int) result));\n\n        }\n\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }finally {\n        if (br != null) {\n            try {\n                br.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>I am getting <em>weka.core.UnassignedDatasetException: Instance doesn't have access to a dataset!</em> exception in   </p>\n\n<pre><code>double result = tree.classifyInstance(myUnicorn);\n</code></pre>\n\n<p>Could you please help me? Thanks in advance. </p>\n"},{"tags":["java","json","networking","jackson","jsoup"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":6,"creation_date":1395653256,"post_id":22605354,"comment_id":34418442,"body_markdown":"You cannot just measure performance from _one_ creation... Try and run it 1000 times and you will see that it takes far less than 70 ms * 1000.","body":"You cannot just measure performance from <i>one</i> creation... Try and run it 1000 times and you will see that it takes far less than 70 ms * 1000."},{"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"score":0,"creation_date":1395654249,"post_id":22605354,"comment_id":34418998,"body_markdown":"I agree, but comparing to built-in serialization of java. \nI&#39;ve tested 10000 times and serialization has won.(I&#39;ve changed Jackson to writeValueAsBytes). My main purpose is to convert from object to byte[]. Thanks","body":"I agree, but comparing to built-in serialization of java.  I&#39;ve tested 10000 times and serialization has won.(I&#39;ve changed Jackson to writeValueAsBytes). My main purpose is to convert from object to byte[]. Thanks"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1395654385,"post_id":22605354,"comment_id":34419082,"body_markdown":"Builtin serialization and Jackson don&#39;t have the same purpose at all! You are comparing apples and oranges here. If you want to use Jackson, it means you have a use for JSON; builtin serialization cannot do that for you.","body":"Builtin serialization and Jackson don&#39;t have the same purpose at all! You are comparing apples and oranges here. If you want to use Jackson, it means you have a use for JSON; builtin serialization cannot do that for you."},{"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"score":0,"creation_date":1395654560,"post_id":22605354,"comment_id":34419181,"body_markdown":"Yeah, do you know some other ways to convert from object to byte array?. That&#39;s what i&#39;m doing.","body":"Yeah, do you know some other ways to convert from object to byte array?. That&#39;s what i&#39;m doing."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395654923,"post_id":22605354,"comment_id":34419401,"body_markdown":"Your question is vague; what do you want to do with this byte array? Send it to a peer? Use it locally only?","body":"Your question is vague; what do you want to do with this byte array? Send it to a peer? Use it locally only?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1395654971,"post_id":22605354,"comment_id":34419434,"body_markdown":"How about not treating the byte array as an object but just as it is - an array of bytes? Basic IO allows you to read and write them.","body":"How about not treating the byte array as an object but just as it is - an array of bytes? Basic IO allows you to read and write them."},{"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"score":0,"creation_date":1395655112,"post_id":22605354,"comment_id":34419525,"body_markdown":"I convert object to byte array to send it over TCP network. And the I need both high speed and low size","body":"I convert object to byte array to send it over TCP network. And the I need both high speed and low size"},{"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"score":0,"creation_date":1395655402,"post_id":22605354,"comment_id":34419694,"body_markdown":"@Gimby I don&#39;t understand your aprroach. I need to convert MyClass&#39;s instance into byte array, then send it over network","body":"@Gimby I don&#39;t understand your aprroach. I need to convert MyClass&#39;s instance into byte array, then send it over network"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1395655519,"post_id":22605354,"comment_id":34419781,"body_markdown":"Oh sorry, I was being confused by you saying &quot;do you know some other ways to convert from object to byte array?&quot;. You made it sound like you were trying to serialize a byte array, not an object of your own custom class.","body":"Oh sorry, I was being confused by you saying &quot;do you know some other ways to convert from object to byte array?&quot;. You made it sound like you were trying to serialize a byte array, not an object of your own custom class."},{"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"score":0,"creation_date":1395655715,"post_id":22605354,"comment_id":34419913,"body_markdown":"Now I found out three solutions for sending MyClass&#39;s instance over network:\n1: use Jackson to convert into byte[] and send.\n2: use built-in serialization to convert into byte[] and send.\n3: convert MyClass&#39;s members into String, then into byte[] and send.\nIs there any other better solution ?. Thank to all you","body":"Now I found out three solutions for sending MyClass&#39;s instance over network: 1: use Jackson to convert into byte[] and send. 2: use built-in serialization to convert into byte[] and send. 3: convert MyClass&#39;s members into String, then into byte[] and send. Is there any other better solution ?. Thank to all you"},{"owner":{"account_id":2316495,"reputation":519,"user_id":2033442,"accept_rate":50,"display_name":"DangerDan"},"score":0,"creation_date":1395685274,"post_id":22605354,"comment_id":34440558,"body_markdown":"are you reusing the ObjectMapper instance? Its my understanding it does some sort of internal caching. You could try reusing the ObjectMapper and see if you see any gains.","body":"are you reusing the ObjectMapper instance? Its my understanding it does some sort of internal caching. You could try reusing the ObjectMapper and see if you see any gains."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1670564418,"creation_date":1395657252,"answer_id":22606864,"question_id":22605354,"body_markdown":"&gt; I use simple Jackson code to convert from my object to json String, but it really slow. It takes 70 milisecond to convert only one object as below in my machine. Did I do something wrong?\r\n\r\n70 milliseconds to encode and send a little JSON message is implausible.  There is little doubt in my mind that the real explanation is that the 70 millisecond measurement an artifact of the way that you benchmarked your code.  Probably, you didn&#39;t allow for JVM warm-up effects.\r\n\r\nSo, yes, you did your benchmarking incorrectly.  Probably.  For more information on what you may have done wrong, see:\r\n\r\n  - https://stackoverflow.com/questions/504103, and\r\n  - the final section of this answer.\r\n\r\n-------------------\r\n\r\n&gt; Now I found out three solutions for sending MyClass&#39;s instance over network: 1: use Jackson to convert into byte[] and send. 2: use built-in serialization to convert into byte[] and send. 3: convert MyClass&#39;s members into String, then into byte[] and send. Is there any other better solution ?\r\n\r\nIn theory (i.e. if you have enough skill, time and patience) the best performance can be achieved by encoding the data by hand into a byte buffer and sending that.  But that is only theoretical.\r\n\r\nIf you are looking for practical solutions that are potentially faster than the alternatives you have tried, take a look at [Google Protocol Buffers][1].  They are reputed to be fast ...\r\n\r\nBut I suspect that you may have drawn the wrong conclusion from your (probably) poorly designed benchmark; see above.  I strongly recommend you redo that *before* you look for faster alternatives.\r\n\r\n------------------\r\n\r\n&gt; 70 milliseconds for one object, but when I try 1000 objects, it only takes 114 milliseconds, isn&#39;t it strange?\r\n\r\nActually, it is not at all strange when you take account of the way that the JVM works.\r\n\r\nWhen the JVM starts, it loads your code and starts running it using the bytecode interpreter.  After the code has been interpreted for a bit, the JVM runs the JIT compiler to produce optimized native code for the methods that are being called frequently.  This compilation process takes a significant amount of time.\r\n\r\nSo when you are measuring the time taken to send one object, you are probably *really* measuring the time to send one object AND do a bunch of JIT compilation.  But that JIT compilation work won&#39;t need to repeated.  Net result - processing one object *appears* to takes a surprising long time, compared to 1000.\r\n\r\nJIT compilation is one of the common JVM warmup effects that can distort a poorly written Java benchmark.\r\n\r\n\r\n  [1]: https://code.google.com/p/protobuf/","title":"Why Jackson is so slow?","body":"<blockquote>\n<p>I use simple Jackson code to convert from my object to json String, but it really slow. It takes 70 milisecond to convert only one object as below in my machine. Did I do something wrong?</p>\n</blockquote>\n<p>70 milliseconds to encode and send a little JSON message is implausible.  There is little doubt in my mind that the real explanation is that the 70 millisecond measurement an artifact of the way that you benchmarked your code.  Probably, you didn't allow for JVM warm-up effects.</p>\n<p>So, yes, you did your benchmarking incorrectly.  Probably.  For more information on what you may have done wrong, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a>, and</li>\n<li>the final section of this answer.</li>\n</ul>\n<hr />\n<blockquote>\n<p>Now I found out three solutions for sending MyClass's instance over network: 1: use Jackson to convert into byte[] and send. 2: use built-in serialization to convert into byte[] and send. 3: convert MyClass's members into String, then into byte[] and send. Is there any other better solution ?</p>\n</blockquote>\n<p>In theory (i.e. if you have enough skill, time and patience) the best performance can be achieved by encoding the data by hand into a byte buffer and sending that.  But that is only theoretical.</p>\n<p>If you are looking for practical solutions that are potentially faster than the alternatives you have tried, take a look at <a href=\"https://code.google.com/p/protobuf/\" rel=\"nofollow noreferrer\">Google Protocol Buffers</a>.  They are reputed to be fast ...</p>\n<p>But I suspect that you may have drawn the wrong conclusion from your (probably) poorly designed benchmark; see above.  I strongly recommend you redo that <em>before</em> you look for faster alternatives.</p>\n<hr />\n<blockquote>\n<p>70 milliseconds for one object, but when I try 1000 objects, it only takes 114 milliseconds, isn't it strange?</p>\n</blockquote>\n<p>Actually, it is not at all strange when you take account of the way that the JVM works.</p>\n<p>When the JVM starts, it loads your code and starts running it using the bytecode interpreter.  After the code has been interpreted for a bit, the JVM runs the JIT compiler to produce optimized native code for the methods that are being called frequently.  This compilation process takes a significant amount of time.</p>\n<p>So when you are measuring the time taken to send one object, you are probably <em>really</em> measuring the time to send one object AND do a bunch of JIT compilation.  But that JIT compilation work won't need to repeated.  Net result - processing one object <em>appears</em> to takes a surprising long time, compared to 1000.</p>\n<p>JIT compilation is one of the common JVM warmup effects that can distort a poorly written Java benchmark.</p>\n"}],"owner":{"account_id":4207952,"reputation":85,"user_id":3446415,"accept_rate":60,"display_name":"daddylonglegs"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10994,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22606864,"answer_count":1,"score":5,"last_activity_date":1670564418,"creation_date":1395653077,"question_id":22605354,"body_markdown":"I use simple Jackson code to convert from my object to json String,\r\nbut it really slow. It takes 70 milisecond to convert only one object as below\r\nin my machine. Did I do something wong?\r\n\r\n\r\n    ObjectMapper myObjectMapper = new ObjectMapper();\r\n    void testJson()\r\n    {\r\n    \t\r\n    \tMyClass state = new MyClass();\r\n    \ttry\r\n    \t{\r\n    \t\tString result = myObjectMapper.writeValueAsString(state);\r\n    \t} catch (Exception ex)\r\n    \t{\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMyClass with only 4 members\r\n\r\n     MyClass\r\n        {\r\n        public int a;\r\n        \tpublic \tint b;\r\n        \tpublic int c;\r\n        \tpublic String d;\r\n        }","title":"Why Jackson is so slow?","body":"<p>I use simple Jackson code to convert from my object to json String,\nbut it really slow. It takes 70 milisecond to convert only one object as below\nin my machine. Did I do something wong?</p>\n\n<pre><code>ObjectMapper myObjectMapper = new ObjectMapper();\nvoid testJson()\n{\n\n    MyClass state = new MyClass();\n    try\n    {\n        String result = myObjectMapper.writeValueAsString(state);\n    } catch (Exception ex)\n    {\n\n    }\n\n}\n</code></pre>\n\n<p>MyClass with only 4 members</p>\n\n<pre><code> MyClass\n    {\n    public int a;\n        public  int b;\n        public int c;\n        public String d;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"answers":[{"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"down_vote_count":1,"up_vote_count":77,"is_accepted":true,"score":76,"last_activity_date":1374236560,"creation_date":1374236560,"answer_id":17745995,"question_id":17745834,"body_markdown":"You are specifying tomcat source directory.\r\n\r\nYou need to specify tomcat binary installation root directory, also known as CATALINA_HOME.\r\n\r\nUsually, this is where you untar `apache-tomcat-7.0.42.tar.gz` file.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>You are specifying tomcat source directory.</p>\n\n<p>You need to specify tomcat binary installation root directory, also known as CATALINA_HOME.</p>\n\n<p>Usually, this is where you untar <code>apache-tomcat-7.0.42.tar.gz</code> file.</p>\n"},{"tags":[],"owner":{"account_id":1155193,"reputation":91,"user_id":1136001,"display_name":"junkiecoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1377006777,"creation_date":1374237834,"answer_id":17746368,"question_id":17745834,"body_markdown":"Probably, you are trying to point the tomcat directory having the source folder. Please download the tomcat binary version from [here][1] .For Linux environments, there you can find .zip and .tar.gz files under core section. Please download and extract them. after that, if you point this extracted directory, eclipse will be able to identify the tomcat version. Eclipse was not able to find the version of tomcat, since the directory you pointed out didn&#39;t contain the conf folder. Hope this helps!\r\n\r\n\r\n  [1]: http://tomcat.apache.org/download-70.cgi","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>Probably, you are trying to point the tomcat directory having the source folder. Please download the tomcat binary version from <a href=\"http://tomcat.apache.org/download-70.cgi\" rel=\"noreferrer\">here</a> .For Linux environments, there you can find .zip and .tar.gz files under core section. Please download and extract them. after that, if you point this extracted directory, eclipse will be able to identify the tomcat version. Eclipse was not able to find the version of tomcat, since the directory you pointed out didn't contain the conf folder. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1405008688,"creation_date":1381348106,"answer_id":19281219,"question_id":17745834,"body_markdown":"This happened to me because Tomcat was still in the process of downloading (`Download and Install`). The message disappeared after a few minutes.\r\n\r\nThe eclipse window should really have some type of progress indicator showing download status.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>This happened to me because Tomcat was still in the process of downloading (<code>Download and Install</code>). The message disappeared after a few minutes.</p>\n\n<p>The eclipse window should really have some type of progress indicator showing download status.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396728320,"creation_date":1396728320,"answer_id":22886145,"question_id":17745834,"body_markdown":"As soon as you provide the directory where Tomcat needs to be installed and click ok you can notice download and installation starts in the progress tab of Eclipse.\r\n\r\n![enter image description here][1]\r\n\r\nLet the process complete.The error will automatically disappear.\r\n\r\n![enter image description here][2]\r\n\r\n**Note: It is not mandatory to name your folder `CATALINA_HOME`. I have tested this with windows. Cannot assert the same for Linux but IMO same rule should apply.**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8gzOW.png\r\n  [2]: http://i.stack.imgur.com/bwerh.png","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>As soon as you provide the directory where Tomcat needs to be installed and click ok you can notice download and installation starts in the progress tab of Eclipse.</p>\n\n<p><img src=\"https://i.stack.imgur.com/8gzOW.png\" alt=\"enter image description here\"></p>\n\n<p>Let the process complete.The error will automatically disappear.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bwerh.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note: It is not mandatory to name your folder <code>CATALINA_HOME</code>. I have tested this with windows. Cannot assert the same for Linux but IMO same rule should apply.</strong></p>\n"},{"tags":[],"owner":{"account_id":5076483,"reputation":515,"user_id":4073716,"display_name":"adrian filipescu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1413366907,"creation_date":1413366907,"answer_id":26379557,"question_id":17745834,"body_markdown":"For LINUX the installation directory for Tomcat 7 is:\r\n/usr/share/tomcat7\r\n\r\nPlease use this configuration.\r\n\r\nMore here:\r\nhttp://gridlab.dimes.unical.it/lackovic/eclipse-tomcat-ubuntu-jersey/\r\n\r\n","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>For LINUX the installation directory for Tomcat 7 is:\n/usr/share/tomcat7</p>\n\n<p>Please use this configuration.</p>\n\n<p>More here:\n<a href=\"http://gridlab.dimes.unical.it/lackovic/eclipse-tomcat-ubuntu-jersey/\" rel=\"noreferrer\">http://gridlab.dimes.unical.it/lackovic/eclipse-tomcat-ubuntu-jersey/</a></p>\n"},{"tags":[],"owner":{"account_id":5378574,"reputation":51,"user_id":4284592,"display_name":"doketan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418027392,"creation_date":1418025477,"answer_id":27353669,"question_id":17745834,"body_markdown":"Go to &quot;Window -&gt; preferences -&gt; Server -&gt; Runtime Environments&quot;\r\n\r\nRemove the existing servers they might not have downloaded completely.\r\n\r\nAdd new Server   ","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>Go to \"Window -> preferences -> Server -> Runtime Environments\"</p>\n\n<p>Remove the existing servers they might not have downloaded completely.</p>\n\n<p>Add new Server   </p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1499331709,"creation_date":1450135595,"answer_id":34278481,"question_id":17745834,"body_markdown":"To recognise your Tomcat installation folder, Eclipse is scanning for the following files:\r\n\r\n    conf/catalina.policy\r\n    conf/server.xml\r\n    conf/web.xml\r\n    conf/context.xml\r\n    conf/tomcat-users.xml\r\n    conf/catalina.policy\r\n    conf/catalina.properties\r\n    lib/catalina.jar\r\n\r\nso make sure you&#39;re pointing to the right place and have the right read permissions.\r\n\r\nE.g.\r\n\r\n- OS X (if installed via `brew`), it&#39;s: `/usr/local/opt/tomcat/libexec`\r\n- Linux/Ubuntu: see: [Tomcat and Eclipse Integration Error][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/q/435283/78223","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>To recognise your Tomcat installation folder, Eclipse is scanning for the following files:</p>\n\n<pre><code>conf/catalina.policy\nconf/server.xml\nconf/web.xml\nconf/context.xml\nconf/tomcat-users.xml\nconf/catalina.policy\nconf/catalina.properties\nlib/catalina.jar\n</code></pre>\n\n<p>so make sure you're pointing to the right place and have the right read permissions.</p>\n\n<p>E.g.</p>\n\n<ul>\n<li>OS X (if installed via <code>brew</code>), it's: <code>/usr/local/opt/tomcat/libexec</code></li>\n<li>Linux/Ubuntu: see: <a href=\"https://askubuntu.com/q/435283/78223\">Tomcat and Eclipse Integration Error</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4778373,"reputation":141,"user_id":3860879,"display_name":"Kishore Vignesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465799549,"creation_date":1465799549,"answer_id":37783135,"question_id":17745834,"body_markdown":"For Windows Users,\r\n\r\nUse the Tomcat Service Installer from the Apache tomcat downloads page. You will get a .exe file. which Installs the service for windows. It will usually install Apache tomcat at &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0&quot; and its easily recognized in eclipse.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>For Windows Users,</p>\n\n<p>Use the Tomcat Service Installer from the Apache tomcat downloads page. You will get a .exe file. which Installs the service for windows. It will usually install Apache tomcat at \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\" and its easily recognized in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2198623,"reputation":2127,"user_id":1943661,"accept_rate":69,"display_name":"Jose Ospina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471967283,"creation_date":1471967283,"answer_id":39105632,"question_id":17745834,"body_markdown":"Just in case...\r\nApache Tomcat 8.5.X is not compatible with Apache Tomcat 8.0 server selection in eclipse. And it gives this error.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>Just in case...\nApache Tomcat 8.5.X is not compatible with Apache Tomcat 8.0 server selection in eclipse. And it gives this error.</p>\n"},{"tags":[],"owner":{"account_id":4945200,"reputation":114,"user_id":3980798,"display_name":"Kevin Field"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521669872,"creation_date":1521669872,"answer_id":49417282,"question_id":17745834,"body_markdown":"You are pointing to the source directory. You can run a build by running ant from that same directory, then add &#39;\\output\\build&#39; to the end of the installation directory path.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>You are pointing to the source directory. You can run a build by running ant from that same directory, then add '\\output\\build' to the end of the installation directory path.</p>\n"},{"tags":[],"owner":{"account_id":268400,"reputation":624,"user_id":557143,"display_name":"Hemant Nagpal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1536347397,"creation_date":1536347397,"answer_id":52228381,"question_id":17745834,"body_markdown":"I got the same error and resolved it by giving enough permissions to the folder. I gave full permissions by (you can try limited permissions which is enough for eclipse to run tomcat)\r\n\r\n    sudo chmod -R 777 apache-tomcat-8.5.33/\r\n\r\nFYI, I encountered this error on my mac, but I think it should be same for ubuntu system too. ","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>I got the same error and resolved it by giving enough permissions to the folder. I gave full permissions by (you can try limited permissions which is enough for eclipse to run tomcat)</p>\n\n<pre><code>sudo chmod -R 777 apache-tomcat-8.5.33/\n</code></pre>\n\n<p>FYI, I encountered this error on my mac, but I think it should be same for ubuntu system too. </p>\n"},{"tags":[],"owner":{"account_id":8524530,"reputation":456,"user_id":6390368,"display_name":"Joel Mata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540293080,"creation_date":1540293080,"answer_id":52947568,"question_id":17745834,"body_markdown":"Having installed tomcat with brew the solution for me was:\r\n\r\n    sudo chmod -R 777 /usr/local/Cellar/tomcat/&lt;your_version&gt;","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>Having installed tomcat with brew the solution for me was:</p>\n\n<pre><code>sudo chmod -R 777 /usr/local/Cellar/tomcat/&lt;your_version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2201793,"reputation":3516,"user_id":1946016,"accept_rate":83,"display_name":"karthikdivi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1545201041,"creation_date":1545201041,"answer_id":53845710,"question_id":17745834,"body_markdown":"I am on MacOS and installed tomcat using homebrew, Following path fixed my problem\r\n\r\n    /usr/local/Cellar/tomcat/9.0.14/libexec","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>I am on MacOS and installed tomcat using homebrew, Following path fixed my problem</p>\n\n<pre><code>/usr/local/Cellar/tomcat/9.0.14/libexec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6561497,"reputation":47,"user_id":5072431,"display_name":"Gajendra Jangid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573991305,"creation_date":1573991305,"answer_id":58900124,"question_id":17745834,"body_markdown":"It may be due to the access of the tomcat installation path(C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0) wasn&#39;t available with the current user.\r\n\r\n","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>It may be due to the access of the tomcat installation path(C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0) wasn't available with the current user.</p>\n"},{"tags":[],"owner":{"account_id":1267180,"reputation":678,"user_id":1224247,"display_name":"Vova K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575471430,"creation_date":1575471430,"answer_id":59178869,"question_id":17745834,"body_markdown":"In my case I used wrong directory, the right one is lib exec and my path:\r\n/usr/local/Cellar/tomcat@7/7.0.96/libexec","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>In my case I used wrong directory, the right one is lib exec and my path:\n/usr/local/Cellar/tomcat@7/7.0.96/libexec</p>\n"},{"tags":[],"owner":{"account_id":13615657,"reputation":260,"user_id":9821657,"display_name":"Mitchell Stone"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1583974835,"creation_date":1583974835,"answer_id":60646324,"question_id":17745834,"body_markdown":"I know this is and oldie but i had this issue recently with the latest versions of Tomcat and Eclipse on Windows 10.\r\n\r\nIt was a permissions issue. All i had to do was navigate to the Tomcat install directory and open the folder. I was prompted to access the folder as an Administrator.\r\n\r\nAfter this the versions were recognised by Eclipse and I could add the new runtime.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>I know this is and oldie but i had this issue recently with the latest versions of Tomcat and Eclipse on Windows 10.</p>\n\n<p>It was a permissions issue. All i had to do was navigate to the Tomcat install directory and open the folder. I was prompted to access the folder as an Administrator.</p>\n\n<p>After this the versions were recognised by Eclipse and I could add the new runtime.</p>\n"},{"tags":[],"owner":{"account_id":185428,"reputation":2342,"user_id":422131,"accept_rate":50,"display_name":"CppNoob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617028457,"creation_date":1617028457,"answer_id":66856168,"question_id":17745834,"body_markdown":"Since this is evidently happening on Linux, this would be because your dev user might not have read access to Tomcat&#39;s installation directory. That&#39;s because Tomcat&#39;s installation directory (let&#39;s say it is pointed to by `CATALINA_HOME`) is owned by `tomcat:tomcat` while your dev user is something that&#39;s neither `tomcat` nor one that belongs to the `tomcat` group. Therefore Eclipse fails to read `${CATALINA_HOME}/conf/catalina.policy`.\r\n\r\nThe following should fix the permission issue:\r\n\r\n    sudo find ${CATALINA_HOME} -type d -exec chmod o+rx {} \\;\r\n\r\nWhy do we need the execute bits? Because to traverse a directory and reach its descendants, you need execute permissions. In your case, if `CATALINA_HOME` isn&#39;t yet set, replace the actual installation directory (`/opt/tomcat/apache-tomcat-&lt;version&gt;` maybe?) in the above.","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>Since this is evidently happening on Linux, this would be because your dev user might not have read access to Tomcat's installation directory. That's because Tomcat's installation directory (let's say it is pointed to by <code>CATALINA_HOME</code>) is owned by <code>tomcat:tomcat</code> while your dev user is something that's neither <code>tomcat</code> nor one that belongs to the <code>tomcat</code> group. Therefore Eclipse fails to read <code>${CATALINA_HOME}/conf/catalina.policy</code>.</p>\n<p>The following should fix the permission issue:</p>\n<pre><code>sudo find ${CATALINA_HOME} -type d -exec chmod o+rx {} \\;\n</code></pre>\n<p>Why do we need the execute bits? Because to traverse a directory and reach its descendants, you need execute permissions. In your case, if <code>CATALINA_HOME</code> isn't yet set, replace the actual installation directory (<code>/opt/tomcat/apache-tomcat-&lt;version&gt;</code> maybe?) in the above.</p>\n"},{"tags":[],"owner":{"account_id":13834335,"reputation":21,"user_id":9986305,"display_name":"Najeem Fasil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670564244,"creation_date":1670564244,"answer_id":74739275,"question_id":17745834,"body_markdown":"For Windows\r\n\r\nJust open the (tomcat xx.x) folder once and check if you can see all other root folders while selecting folder.\r\nSometimes windows wont give access to this folder","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>For Windows</p>\n<p>Just open the (tomcat xx.x) folder once and check if you can see all other root folders while selecting folder.\nSometimes windows wont give access to this folder</p>\n"}],"owner":{"account_id":2770777,"reputation":3081,"user_id":2385424,"accept_rate":41,"display_name":"Vibhor Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169425,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":17745995,"answer_count":18,"score":83,"last_activity_date":1670564244,"creation_date":1374236053,"question_id":17745834,"body_markdown":"I want to add latest tomcat-7.0.42 in my eclipse. Probably eclipse tomcat server adapter 7 only supports tomcat version upto 7.0.12 .. \r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ulxtl.png\r\n\r\nSo please help me how can I configure my eclipse with tomcat-7.0.42","title":"Unknown version of Tomcat was specified in Eclipse","body":"<p>I want to add latest tomcat-7.0.42 in my eclipse. Probably eclipse tomcat server adapter 7 only supports tomcat version upto 7.0.12 .. </p>\n\n<p><img src=\"https://i.stack.imgur.com/ulxtl.png\" alt=\"enter image description here\"></p>\n\n<p>So please help me how can I configure my eclipse with tomcat-7.0.42</p>\n"},{"tags":["java","loops","exit","leap-year"],"comments":[{"owner":{"account_id":5580505,"reputation":950,"user_id":4496839,"accept_rate":83,"display_name":"Ryan1729"},"score":0,"creation_date":1670563939,"post_id":74739198,"comment_id":131907957,"body_markdown":"As a hint, you already have looping set up for entering in the first year incorrectly, then looping around to let the user try again. You need to do something similar for doing multiple years. Also note: You can put do/while loops inside other loops.","body":"As a hint, you already have looping set up for entering in the first year incorrectly, then looping around to let the user try again. You need to do something similar for doing multiple years. Also note: You can put do/while loops inside other loops."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670568156,"post_id":74739198,"comment_id":131908615,"body_markdown":"Only one loop is needed. Look at your while condition. It says &quot;repeat the loop if the year the user just entered is invalid&quot;. That isn&#39;t what you want.","body":"Only one loop is needed. Look at your while condition. It says &quot;repeat the loop if the year the user just entered is invalid&quot;. That isn&#39;t what you want."}],"owner":{"account_id":27197304,"reputation":1,"user_id":20730023,"display_name":"imadethisaccountformyfinal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670563306,"creation_date":1670563306,"question_id":74739198,"body_markdown":"I&#39;m trying to finish my final assignment for my intro to programming class and I can&#39;t figure out how to keep the program looping until the user inputs 0 to exit. My teacher wanted this exact format, so I&#39;m not allowed to condense the code to make it simpler. We&#39;ve only been coding with Java for roughly 4 weeks throughout the whole 16-week semester (I don&#39;t understand it either) so I&#39;m not very familiar with how to use and understand Java.\r\n\r\n\r\nWhere my program is at currently, is that it takes the input, determines if it&#39;s a leap year, outputs the correct string, and then exits. My checkValidYear method outputs the string &quot;Enter 0 if you&#39;d like to exit.&quot; but doesn&#39;t allow further input. I need some guidance on where/how to loop the program and stop it from ending. \r\n\r\nToo sum it up, I need assistance on changing my program from exiting when given an input, to looping the program for more inputs until the user inputs 0.\r\n\r\n\r\n\r\n\r\n**This is my main file.**\r\n```\r\n/**\r\n * Main class of the Java program.\r\n */\r\nimport java.util.Scanner;\r\n\r\npublic class FinalProject {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        \r\n        int usersYear;\r\n        \r\n        //set up the scanner\r\n        Scanner inputReader = new Scanner(System.in);\r\n        \r\n        //Create leap year instance\r\n        LeapYear inputYear = new LeapYear();\r\n      \r\n    do { \r\n        System.out.println(&quot;Enter a year which I will test if it is a leap year. Input 0  to stop&quot;);\r\n        \r\n        \r\n        int i = inputReader.nextInt();\r\n        inputYear.setYear(i);\r\n       }\r\n       \r\n         while(inputYear.checkValidYear().equals(&quot;invalid&quot;));\r\n        inputReader.close();\r\n        System.out.println(inputYear.getOutput());\r\n\r\n       // create a loop to which sees if the user wants to stop\r\n        //   in the loop:\r\n        //     use the setYear() method to set the year inside the object\r\n        //     use the CheckforLeapYear() method to do all the testing. DO NOT SEND YEAR because it was    already set using setYear()\r\n        //     use the getOutput() to get the message you print - is it a leap year or not.\r\n        //     get the next year from the user\r\n            \r\n        \r\n       \r\n        \r\n    } //end main method\r\n} //end Main class \r\n\r\n```\r\n\r\n**This is my LeapYear file where the methods are kept.**\r\n\r\n```\r\n/**\r\n LeapYear class determines if a year is a leap year\r\n**/\r\nclass LeapYear {\r\n  \t/**Declarations**/\r\n  \t/*\r\n    * 1. Create a private year variable that is an integer \r\n    * 2. Create a getter and setter method for the field variable\r\n    * 3. Create a default constructor.Do not set any variables\r\n    **/\r\n  private int year;\r\n  \r\n  public LeapYear(){\r\n      \r\n  }\r\n  \r\n  // Getter\r\n     public int getYear() {\r\n        return year;\r\n  }\r\n\r\n  // Setter\r\n     public void setYear(int newYear) {\r\n        year = newYear;\r\n  }\r\n  \r\n  \r\n  \t/*\r\n    * This method should call all the checkIfYearDivisibleby4(), checkIfYearNotDivisibleby100(), and checkIfYearDivisibleby400()\r\n    * @return int year\r\n    **/\r\n  \tpublic boolean checkForLeapYear(){\r\n      \tboolean result = false;\r\n      \t//add code here\r\n      result= checkIfYearDivisibleby4()||\r\n      \tcheckIfYearNotDivisibleby100()||\r\n      \tcheckIfYearDivisibleby400();\r\n      \r\n    \treturn result;\r\n    }\r\n  \r\n  \t/*\r\n    * This method should return true if year is divisible by 4\r\n    * @return int year\r\n    **/\r\n  \tprivate boolean checkIfYearDivisibleby4(){\r\n       \tboolean result = false;\r\n          \t//add code here\r\n          \tresult = year%4==0;\r\n          \treturn result;\r\n    }\t\r\n  \t\r\n  \t/*\r\n    * This method should return true if year is NOT divisible by 100\r\n    * @return int year\r\n    **/\r\n    private boolean checkIfYearNotDivisibleby100(){\r\n        boolean result = false;\r\n      \t//add code here\r\n      \tresult = year%100==0;\r\n    \treturn result;\r\n      \t    \r\n    }\r\n  \r\n  \t/*\r\n    * This method should return true if year is divisible by 400\r\n    * @return int year\r\n    **/  \t\r\n    private boolean checkIfYearDivisibleby400(){\r\n        boolean result = false;\r\n      \t//add code here\r\n      \tresult = year%400==0;\r\n    \treturn result;\r\n\r\n    }\r\n  \r\n  \t/*\r\n    * This method calls the checkForLeapYear()\r\n    * if the checkForLeapYear() returns true return a string that states it is a leap year\r\n    * otherwise, return a string that states it is not a leap year\r\n    * @return int year\r\n    **/\r\n      \r\n      public String getOutput(){\r\n      String output= &quot;&quot;;\r\n      if (checkForLeapYear())\r\n      {\r\n          output = &quot;This is a leap year&quot;;\r\n      }\r\n      else\r\n      {\r\n          output = &quot;This is not a leap year&quot;;\r\n      }\r\n      return output;\r\n    }\r\n    \r\n    public String checkValidYear(){\r\n        System.out.println(&quot;Enter 0 if you&#39;d like to exit.&quot;);\r\n        String result = &quot;valid&quot;;\r\n        if(year==0)\r\n        result = &quot;invalid&quot;;\r\n        return result;\r\n    \r\n        \r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\n**This is what the output looks like:**\r\n\r\nEnter a year which I will test if it is a leap year. Input 0  to stop\r\n2023\r\nEnter 0 if you&#39;d like to exit.\r\nThis is not a leap year\r\n\r\n","title":"How do I get my leap year Java program to keep looping?","body":"<p>I'm trying to finish my final assignment for my intro to programming class and I can't figure out how to keep the program looping until the user inputs 0 to exit. My teacher wanted this exact format, so I'm not allowed to condense the code to make it simpler. We've only been coding with Java for roughly 4 weeks throughout the whole 16-week semester (I don't understand it either) so I'm not very familiar with how to use and understand Java.</p>\n<p>Where my program is at currently, is that it takes the input, determines if it's a leap year, outputs the correct string, and then exits. My checkValidYear method outputs the string &quot;Enter 0 if you'd like to exit.&quot; but doesn't allow further input. I need some guidance on where/how to loop the program and stop it from ending.</p>\n<p>Too sum it up, I need assistance on changing my program from exiting when given an input, to looping the program for more inputs until the user inputs 0.</p>\n<p><strong>This is my main file.</strong></p>\n<pre><code>/**\n * Main class of the Java program.\n */\nimport java.util.Scanner;\n\npublic class FinalProject {\n\n    public static void main(String[] args) {\n        \n        \n        int usersYear;\n        \n        //set up the scanner\n        Scanner inputReader = new Scanner(System.in);\n        \n        //Create leap year instance\n        LeapYear inputYear = new LeapYear();\n      \n    do { \n        System.out.println(&quot;Enter a year which I will test if it is a leap year. Input 0  to stop&quot;);\n        \n        \n        int i = inputReader.nextInt();\n        inputYear.setYear(i);\n       }\n       \n         while(inputYear.checkValidYear().equals(&quot;invalid&quot;));\n        inputReader.close();\n        System.out.println(inputYear.getOutput());\n\n       // create a loop to which sees if the user wants to stop\n        //   in the loop:\n        //     use the setYear() method to set the year inside the object\n        //     use the CheckforLeapYear() method to do all the testing. DO NOT SEND YEAR because it was    already set using setYear()\n        //     use the getOutput() to get the message you print - is it a leap year or not.\n        //     get the next year from the user\n            \n        \n       \n        \n    } //end main method\n} //end Main class \n\n</code></pre>\n<p><strong>This is my LeapYear file where the methods are kept.</strong></p>\n<pre><code>/**\n LeapYear class determines if a year is a leap year\n**/\nclass LeapYear {\n    /**Declarations**/\n    /*\n    * 1. Create a private year variable that is an integer \n    * 2. Create a getter and setter method for the field variable\n    * 3. Create a default constructor.Do not set any variables\n    **/\n  private int year;\n  \n  public LeapYear(){\n      \n  }\n  \n  // Getter\n     public int getYear() {\n        return year;\n  }\n\n  // Setter\n     public void setYear(int newYear) {\n        year = newYear;\n  }\n  \n  \n    /*\n    * This method should call all the checkIfYearDivisibleby4(), checkIfYearNotDivisibleby100(), and checkIfYearDivisibleby400()\n    * @return int year\n    **/\n    public boolean checkForLeapYear(){\n        boolean result = false;\n        //add code here\n      result= checkIfYearDivisibleby4()||\n        checkIfYearNotDivisibleby100()||\n        checkIfYearDivisibleby400();\n      \n        return result;\n    }\n  \n    /*\n    * This method should return true if year is divisible by 4\n    * @return int year\n    **/\n    private boolean checkIfYearDivisibleby4(){\n        boolean result = false;\n            //add code here\n            result = year%4==0;\n            return result;\n    }   \n    \n    /*\n    * This method should return true if year is NOT divisible by 100\n    * @return int year\n    **/\n    private boolean checkIfYearNotDivisibleby100(){\n        boolean result = false;\n        //add code here\n        result = year%100==0;\n        return result;\n            \n    }\n  \n    /*\n    * This method should return true if year is divisible by 400\n    * @return int year\n    **/     \n    private boolean checkIfYearDivisibleby400(){\n        boolean result = false;\n        //add code here\n        result = year%400==0;\n        return result;\n\n    }\n  \n    /*\n    * This method calls the checkForLeapYear()\n    * if the checkForLeapYear() returns true return a string that states it is a leap year\n    * otherwise, return a string that states it is not a leap year\n    * @return int year\n    **/\n      \n      public String getOutput(){\n      String output= &quot;&quot;;\n      if (checkForLeapYear())\n      {\n          output = &quot;This is a leap year&quot;;\n      }\n      else\n      {\n          output = &quot;This is not a leap year&quot;;\n      }\n      return output;\n    }\n    \n    public String checkValidYear(){\n        System.out.println(&quot;Enter 0 if you'd like to exit.&quot;);\n        String result = &quot;valid&quot;;\n        if(year==0)\n        result = &quot;invalid&quot;;\n        return result;\n    \n        \n    }\n    \n    \n}\n</code></pre>\n<p><strong>This is what the output looks like:</strong></p>\n<p>Enter a year which I will test if it is a leap year. Input 0  to stop\n2023\nEnter 0 if you'd like to exit.\nThis is not a leap year</p>\n"},{"tags":["java","collision"],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670562906,"creation_date":1670562854,"question_id":74739156,"body_markdown":"I&#39;m working on a game for a game jam, and can&#39;t get my collision system to work. The way it&#39;s supposed to work is when an the player intersects with a wall hitbox it moves the player towards the last position until it no longer intersects. This doesn&#39;t work though, this is the code:\\`\r\n\r\n```\r\nwhile(worldBox.intersects((Rectangle2D) Player.entity)) {\r\n      if(offsetX - lastX &gt; 0) offsetX --;\r\n      if(offsetX - lastX &lt; 0) offsetX ++;\r\n      if(offsetY - lastY &gt; 0) offsetY --;\r\n      if(offsetY - lastY &lt; 0) offsetY ++;\r\n      makeWorldHitBox();\r\n}\r\n```\r\n\r\n\\` and here is the link to the github repo: &lt;https://github.com/DJPretzel-bit64/LemonRunner.git&gt;\r\n\r\nI tried changing sines and offsets, nothing worked","title":"Snapping Objects to hit boxes after an intersection in java","body":"<p>I'm working on a game for a game jam, and can't get my collision system to work. The way it's supposed to work is when an the player intersects with a wall hitbox it moves the player towards the last position until it no longer intersects. This doesn't work though, this is the code:`</p>\n<pre><code>while(worldBox.intersects((Rectangle2D) Player.entity)) {\n      if(offsetX - lastX &gt; 0) offsetX --;\n      if(offsetX - lastX &lt; 0) offsetX ++;\n      if(offsetY - lastY &gt; 0) offsetY --;\n      if(offsetY - lastY &lt; 0) offsetY ++;\n      makeWorldHitBox();\n}\n</code></pre>\n<p>` and here is the link to the github repo: <a href=\"https://github.com/DJPretzel-bit64/LemonRunner.git\" rel=\"nofollow noreferrer\">https://github.com/DJPretzel-bit64/LemonRunner.git</a></p>\n<p>I tried changing sines and offsets, nothing worked</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1670562919,"post_id":74739103,"comment_id":131907819,"body_markdown":"OK... on second view, you say &quot;the variables are not saved when [you] use this method&quot; and then you include a bunch of code where you don&#39;t appear to be setting fields at all -- you only set a value for `placeholder`, but you don&#39;t seem to do anything with it. You have to set a value for the field to hold a value.","body":"OK... on second view, you say &quot;the variables are not saved when [you] use this method&quot; and then you include a bunch of code where you don&#39;t appear to be setting fields at all -- you only set a value for <code>placeholder</code>, but you don&#39;t seem to do anything with it. You have to set a value for the field to hold a value."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1670563122,"post_id":74739103,"comment_id":131907847,"body_markdown":"When you are drowning in confusion, the solution is to forget the grand scheme and **simplify**. In plain English, what is is you&#39;re trying to do? No offense, but at the moment, I&#39;m seeing a lot of spaghetti. It would help your cause to get the basics working and then fancify your code with validations and so on later.","body":"When you are drowning in confusion, the solution is to forget the grand scheme and <b>simplify</b>. In plain English, what is is you&#39;re trying to do? No offense, but at the moment, I&#39;m seeing a lot of spaghetti. It would help your cause to get the basics working and then fancify your code with validations and so on later."},{"owner":{"account_id":27197458,"reputation":1,"user_id":20730159,"display_name":"SereneSquash"},"score":0,"creation_date":1670563341,"post_id":74739103,"comment_id":131907869,"body_markdown":"Thank you. I will try my best. It is a weird project and he wants very specific requirements","body":"Thank you. I will try my best. It is a weird project and he wants very specific requirements"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1670563893,"post_id":74739103,"comment_id":131907947,"body_markdown":"If I&#39;m not mistaken, the `generate()` method isn&#39;t actually supposed to set the password -- it&#39;s only supposed to suggest four passwords to the user. When you say &quot;the variables are not saved&quot; did you mean that the password object is not saved, or is this arraylist of four suggested passwords is empty? Please be precise, or we&#39;re gonna be here all night guessing.","body":"If I&#39;m not mistaken, the <code>generate()</code> method isn&#39;t actually supposed to set the password -- it&#39;s only supposed to suggest four passwords to the user. When you say &quot;the variables are not saved&quot; did you mean that the password object is not saved, or is this arraylist of four suggested passwords is empty? Please be precise, or we&#39;re gonna be here all night guessing."},{"owner":{"account_id":27197458,"reputation":1,"user_id":20730159,"display_name":"SereneSquash"},"score":0,"creation_date":1670564933,"post_id":74739103,"comment_id":131908093,"body_markdown":"that top block of code is supposed to set the variables to what I have them set as correct? if you go to  the bottom of what I have pasted I have three blocks that overload Password2() with different values ie: Password2(1,1,1,1)","body":"that top block of code is supposed to set the variables to what I have them set as correct? if you go to  the bottom of what I have pasted I have three blocks that overload Password2() with different values ie: Password2(1,1,1,1)"},{"owner":{"account_id":27197458,"reputation":1,"user_id":20730159,"display_name":"SereneSquash"},"score":0,"creation_date":1670565075,"post_id":74739103,"comment_id":131908111,"body_markdown":"How can I access the variables that I saved using that overloaded method outside of that method. in the generate() method I still use those numofSymbol etc. variables. I want to know how to use the variables I stored with Password2(1,1,1,1);","body":"How can I access the variables that I saved using that overloaded method outside of that method. in the generate() method I still use those numofSymbol etc. variables. I want to know how to use the variables I stored with Password2(1,1,1,1);"}],"owner":{"account_id":27197458,"reputation":1,"user_id":20730159,"display_name":"SereneSquash"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670562887,"creation_date":1670562275,"question_id":74739103,"body_markdown":"I have this block:\r\n\r\n    public Password2 (int numofSymbols, int numofCap, int numofLow, int numofDigit )throws Exception{\r\n     \t\tif(numofSymbols&lt;2||numofCap&lt;2||numofLow&lt;2||numofDigit&lt;2){\r\n\t\t\tthrow new Exception(&quot;Settings supplied not accpeted&quot;);\r\n\t\t}\r\n\t\tthis.numofSymbols=numofSymbols;\r\n\t\tthis.numofCap=numofCap;\r\n\t\tthis.numofLow=numofLow;\r\n\t\tthis.numofDigit=numofDigit; \r\n\t\tSystem.out.println(&quot;New Settings:&quot;+&quot;\\n&quot;+&quot;Symbols: &quot;+numofSymbols+&quot;\\n&quot;+&quot;Capitals: &quot;+numofCap+&quot;\\n&quot;+&quot;Lowercase: &quot;+numofLow+&quot;\\n&quot;+&quot;Digits: &quot;+numofDigit); \r\n    \t}\r\n\r\n\r\nand later I call it with:\r\n\r\n\r\n      try{\r\n\t\tPassword2 p1= new Password2();\r\n\t\tSystem.out.print(&quot;Default Password:&quot;);\r\n\t\tSystem.out.println(p1.getPassword());\r\n\t\tp1.setPassword();\r\n\t\tSystem.out.println(p1.getPassword());\r\n      }catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n\r\nand it works fine but the variables are not saved when I use this method:\r\n\r\n    public ArrayList&lt;String&gt; Generate(){\r\n    \t\tArrayList&lt;String&gt; result=new ArrayList&lt;String&gt;();\r\n    \t\tRandom rand=new Random();\r\n\t\tint count=0;\r\n\t\twhile(count&lt;5) {\r\n\t\t\tString placeholder=&quot;&quot;;\r\n\t\t\tint a;\r\n                      \r\n                \r\n\t\t\tfor(int i=0;i&lt;=numofCap;i++){\r\n\t\t\t\ta=&#39;Z&#39;+1-&#39;A&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;A&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                        \r\n\t\t\r\n               \tfor(int i=0;i&lt;=numofLow;i++){\r\n\t\t\t\ta=&#39;z&#39;+1-&#39;a&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;a&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                     \r\n\t\t   \r\n\t\t\tfor(int i=0;i&lt;=numofDigit;i++){\r\n\t\t\t\ta=&#39;9&#39;+1-&#39;0&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;0&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                        \r\n\t\t\tfor(int i=0;i&lt;=numofSymbols;i++){\r\n\t\t\t\ta=48+1-32;\r\n\t\t\t\ta=rand.nextInt(a)+32;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}        \r\n             \r\n\r\n      \t\t\r\n\t\t\tif(Consecutive(placeholder)==true){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tcount++;\r\n\t\t\tresult.add(placeholder);\r\n\t\t}\r\n     // return the ArrayList\r\n\t\t\t//System.out.println(result); \r\n    \t\treturn result;\r\n    \t}\r\n\r\n\r\n\r\n\r\n\r\n\r\nIve tried a few solutions but im just lost. Here is all of my code it is for a project and it is very confusing:\r\n\r\n\r\n\r\n    import java.util.*;\r\n    class Password1{\r\n\tprotected static String defaultPassword = &quot;nDay@159&quot;;\r\n\tprotected static int length = 8;\r\n\tprotected static int numofSymbols;\r\n\tprotected static int numofCap;\r\n\tprotected static int numofLow;\r\n\tprotected static int numofDigit;\r\n\tPassword1(){\r\n\t\tnumofSymbols = 1;\r\n\t\tnumofCap = 1;\r\n\t\tnumofLow = 1;\r\n\t\tnumofDigit = 1;\r\n\t}\r\n\tvoid Password1( int numofSymbols, int numofCap, int numofLow, int numofDigit ){\r\n\t\tPassword1.numofSymbols = numofSymbols;\r\n\t\tPassword1.numofCap = numofCap;\r\n\t\tPassword1.numofLow = numofLow;\r\n\t\tPassword1.numofDigit = numofDigit;\r\n\t\t\r\n\t}\r\n\tpublic boolean validLength(String pass){\r\n\t\tif(pass.length() &gt;= length){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tpublic boolean validSymbols(String pass){\r\n\t\tint count = 0;\r\n\t\tboolean result = false;\r\n\r\n\t\tfor(int i=0;i&lt;pass.length();i++){\r\n\t\t\tif(((int)pass.charAt(i) &gt;= 32 &amp;&amp; (int)pass.charAt(i) &lt;=47) || ((int)pass.charAt(i) &gt;= 58 &amp;&amp; (int)pass.charAt(i) &lt;= 64)){\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}if(count &gt;= numofSymbols){\r\n\t\t\tresult = true;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tpublic boolean validnumofDigit(String pass){\r\n\t\tint count = 0;\r\n\t\tboolean result = false;\r\n\t\tfor(int i=0;i&lt;pass.length();i++){\r\n\t\t\tif(((int)pass.charAt(i) &gt;= 48 &amp;&amp; (int)pass.charAt(i) &lt;=57)){\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}if(count &gt;= numofDigit){\r\n\t\t\tresult = true;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tpublic boolean validCapitals(String pass){\r\n\t\tint count = 0;\r\n\t\tboolean result = false;\r\n\t\tfor(int i=0;i&lt;pass.length();i++){\r\n\t\t\tif(((int)pass.charAt(i) &gt;= 65 &amp;&amp; (int)pass.charAt(i) &lt;=90)){\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}if(count &gt;= numofCap){\r\n\t\t\tresult = true;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tpublic boolean validnumofLow(String pass){\r\n\t\tint count = 0;\r\n\t\tboolean result = false;\r\n\t\tfor(int i=0;i&lt;pass.length();i++){\r\n\t\t\tif(((int)pass.charAt(i) &gt;= 97 &amp;&amp; (int)pass.charAt(i) &lt;=122)){\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(count &gt;= numofLow){\r\n\t\t\tresult = true;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tpublic void setPassword( ){\r\n\t\tString newPassword ;\r\n\t\tboolean assume = true;\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\twhile(assume){\r\n\t\t\tSystem.out.println(&quot;Please enter a valid password : &quot;);\r\n\t\t\tnewPassword = s.nextLine();\r\n\t\t\tif(!validLength(newPassword) || !validSymbols(newPassword) || !validCapitals(newPassword) || !validnumofLow(newPassword)|| !validnumofDigit(newPassword) ){\r\n\t\t\t\tif(!validLength(newPassword)){\r\n\t\t\t\t\tSystem.out.println(&quot;Password does not contain atleast 8 letters&quot;);\r\n\t\t\t\t}if(!validSymbols(newPassword)){\r\n\t\t\t\t\tSystem.out.println(&quot;Password does not contain atleast &quot; + numofSymbols + &quot; symbols&quot;);\r\n\t\t\t\t}if(!validCapitals(newPassword)){\r\n\t\t\t\t\tSystem.out.println(&quot;Password does not contain atleast &quot; + numofCap + &quot; Capitals&quot;);\r\n\t\t\t\t}if(!validnumofLow(newPassword)){\r\n\t\t\t\t\tSystem.out.println(&quot;Password does not contain atleast &quot; + numofLow + &quot; Lower Cases&quot;);\r\n\t\t\t\t}if(!validnumofDigit(newPassword)){\r\n\t\t\t\t\tSystem.out.println(&quot;Password does not contain atleast &quot; + numofDigit + &quot; numofDigit&quot;);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tSystem.out.print(&quot;Password Accepted : &quot;);\r\n\t\t\t\tdefaultPassword = newPassword;\r\n\t\t\t\tassume = false;\r\n\t\t\t}\r\n\t\t\ts.close();\r\n\t\t}\r\n\t}\r\n\tpublic String getPassword(){\r\n\t\treturn defaultPassword;\r\n\t}\r\n    }\r\n    public class Password2 extends Password1{\r\n \r\n    //Data field to represent minimum length of a passord based on the required settings. \r\n    \t\r\n\tprivate int minSettings;\r\n\r\n    /** 2pts \r\n     * Default constructor that calls the superclass constructor with default \r\n     * settings (default settings at least 1 capitals, lowers,numofDigit,....\r\n     * initialize the minSettings using the method actualLength\r\n     */\r\n\r\n    \tPassword2(){   \r\n\t\tsuper(); \r\n\t\t\r\n       // call the superclass default constructor \r\n\t\tminSettings=actualLength(); \r\n       // set minSettings to the actual min length of a password based on the settings\r\n   \r\n    \t}\r\n    /** 10pts\r\n        Overloaded constructor \r\n        Make sure to prevent users from supplying settings that are\r\n        invalid settings ( for instance , negative values or 0) or\r\n        extreme cases like requiring more than 3 of (capitals,numofLow,\r\n        symbols,numofDigit) in case, an extreme case supplied, \r\n        print a message that the settings supplied is not acceptable and \r\n        apply the default setting.\r\n     */\r\n    \tArrayList&lt;String&gt; result; \r\n    \tpublic Password2 (int numofSymbols, int numofCap, int numofLow, int numofDigit )throws Exception{\r\n     \t\tif(numofSymbols&lt;2||numofCap&lt;2||numofLow&lt;2||numofDigit&lt;2){\r\n\t\t\tthrow new Exception(&quot;Settings supplied not accpeted&quot;);\r\n\t\t}\r\n\t\tthis.numofSymbols=numofSymbols;\r\n\t\tthis.numofCap=numofCap;\r\n\t\tthis.numofLow=numofLow;\r\n\t\tthis.numofDigit=numofDigit; \r\n\t\tSystem.out.println(&quot;New Settings:&quot;+&quot;\\n&quot;+&quot;Symbols: &quot;+numofSymbols+&quot;\\n&quot;+&quot;Capitals: &quot;+numofCap+&quot;\\n&quot;+&quot;Lowercase: &quot;+numofLow+&quot;\\n&quot;+&quot;Digits: &quot;+numofDigit); \r\n    \t}\r\n    \t\t\r\n    \r\n    \r\n    \r\n    /** 5pts \r\n     *   Create a method that checks the actual minimum length based on the \r\n     *   required settings\r\n     *   Use ternary operator \r\n     *   if the addition of settings numbers is less than 8 , then minimum is 8\r\n     *   for instance ( 1 capital, 1 small , 1 symbol, 1 number) = 4 which is less\r\n     *   than the default length required, so minimum in this case 8\r\n     *   if the addition of settings numbers is higher than 8 , then minimum is the\r\n     *   addition of numbers. \r\n     *   @return the actual minimum length of the password\r\n     */\r\n   \t\r\n\tpublic int actualLength() {\r\n    \t\tint passMin=numofCap+numofLow+numofDigit+numofSymbols;\r\n\t\treturn(passMin&gt;8)?passMin:8;\r\n    \t}\r\n\r\n    /** 10pts \r\n     * There are four methods that are similar to each other in Password1\r\n     * one way to improve in here is to create one method that does their actions\r\n     * take the first method that checks how many symbols and name it to checkRange\r\n     * the method should look like this: \r\n     * public boolean checkRange( String pass,int required, char start,char end)\r\n     * the method will take the range of char to be checked against the required\r\n     * number of the specific type of numofSymbols. \r\n     * This method  will replace the 4 methods in Password1\r\n     * This will reduce the lines of codes significantly.\r\n     * \r\n     * @param pass\r\n     * @param required\r\n     * @param start\r\n     * @param end\r\n     * @return boolean\r\n     */\r\n\t\r\n\tpublic boolean checkRange(String pass,int required,char start,char end){\r\n\t\tint count=0;\r\n\t\tboolean result2=false;\r\n\t\tfor(int i=0;i&lt;pass.length();i++){\r\n\t\t\tif(pass.charAt(i)&gt;=start &amp;&amp;pass.charAt(i)&lt;=end){\r\n\t\t\t\tcount++;\r\n\t\t\t}if(count&gt;=required){\r\n\t\t\t\tresult2=true;\r\n\t\t\t\treturn result2;\t \r\n        \t\t}\r\n\t\t}return result2;\r\n\t} \r\n\tpublic int getValues(){\r\n\t\treturn numofSymbols;\r\n\t}   \r\n    \r\n    /** 10pts\r\n     * Override the setPassword method\r\n     * Use the annotation &#39;override&#39;\r\n     * Print out 4 suggested password based on the settings initialized by the constructor\r\n     * Promote the user to choose from the suggested generated passwords or supply a \r\n     * password that would meet the requirements\r\n     * Prevent consecutive numofSymbols (Use the consecutive method, should be created afterward)\r\n     * use the checkRange method to check the ranges of capital, small, numofDigit, symbols\r\n     * the reset of the method is the same as superclass setPassword\r\n     */\r\n    \t@Override\r\n   \tpublic void setPassword(){  // Declare a String to hold a password\r\n    \tArrayList&lt;String&gt; pw2= new Password2().Generate();\r\n        System.out.println(&quot;Suggested Passwords:&quot;+pw2);\r\n    \t\r\n      \tString Password=defaultPassword;\r\n\r\n        // Decalre a scanner object to recive a password from the keyboard\r\n\r\n        \tScanner scan= new Scanner(System.in);\r\n\r\n        // Declare a boolean variable to be set whenever a password meets the settings.\r\n        \r\n\t\tboolean flag= true;\r\n        \r\n        // Loop until the user provides a correct password \r\n            \r\n       \twhile(flag){\r\n                // Promt the user to enter the password based on the settings\r\n\r\n             \tSystem.out.print(&quot;Enter Password based on set settings&quot;);\r\n         \r\n            \r\n        // scan the next line and store in the String holding the password\r\n       \t\t\r\n\t\t\tPassword=scan.next();\r\n        \r\n        /* If the password provided is not the actual length required ,\r\n           then print out a message and continue */\r\n\r\n       \t\tif(Password.length()&lt;actualLength()){\r\n\t\t\t\tSystem.out.println(&quot;Password length does not meet setting requrienments&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n        \r\n         /* If the password provided does not have the numofCap letters required ,\r\n            then print out a message and continue\r\n            pass to checkRange the range [65 -90] or[ A -Z]  */\r\n        \r\n        \t\tif(!checkRange(Password, numofCap,&#39;A&#39;,&#39;Z&#39;)){\r\n\t\t\t\tSystem.out.println(&quot;Not enough numofCap letters&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n         \r\n        /* If the password provided does not have the numofLow letters required ,\r\n            then print out a message and continue\r\n            pass to checkRange the range [97 -122] or [a - z]  */\r\n        \t\t\r\n\t\t\tif(!checkRange(Password, numofLow,&#39;a&#39;,&#39;z&#39;)){\r\n\t\t\t\tSystem.out.println(&quot;Not enough numofLow letters&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n      \r\n        \r\n         /* If the password provided does not have the symbols required ,\r\n            then print out a message and continue\r\n            pass to checkRange the range [32 -47] or [ space - /]  \r\n           ( no need for this range [58-64])*/\r\n        \r\n       \t\tif(!checkRange(Password, numofSymbols,&#39; &#39;,&#39;/&#39;)){\r\n\t\t\t\tSystem.out.println(&quot;Not enough symbols included&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n         \r\n         /* If the password provided does not have the numofDigit required ,\r\n            then print out a message and continue\r\n            pass to checkRange the range   [48 -57] or [0 -9]  */\r\n       \t\t\r\n         \t\tif(!checkRange(Password, numofDigit,&#39;0&#39;,&#39;9&#39;)){\r\n\t\t\t\tSystem.out.println(&quot;Not enough numofDigit included&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n         \r\n         /* If the password provided have consecutive charcters,\r\n            then print out a message and continue\r\n            pass to consecutive the password*/\r\n         \t\t\r\n\t\t\tif(Consecutive(Password)==true){\r\n\t\t\t\tSystem.out.println(&quot;Consecutive numofSymbols are not allowed&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n        /* Password provided meets all the settings\r\n            set the global variable password to the new qualified password  \r\n            set the flag to false, to stop iterations\r\n        */\r\n          \t\tflag=false;\r\n\t\t\tSystem.out.println(&quot;Password Accepted:&quot;);\r\n\t\t\tdefaultPassword=Password;\r\n       \t\t\r\n        // end of while loop\r\n    \r\n    \t\t}\r\n       \r\n\t}\t \r\n\t\t\r\n     \r\n    /**10pts \r\n     * Create a new method that suggests few passwords based on \r\n     * the settings required , you have to use Random class to generate \r\n     * random values of ( numbers, numofSymbols, symbols , numofDigit) \r\n     * \r\n     * The method should generate based on the data fields settings\r\n     * once generated a password, check if there is no consecutive values \r\n     * Store the generated password into an arrayList  \r\n     * \r\n     * @return  ArrayList encapsulating 4 generated passwords\r\n     */\r\n    \t\r\n    \tpublic ArrayList&lt;String&gt; Generate(){\r\n    \t\tArrayList&lt;String&gt; result=new ArrayList&lt;String&gt;();\r\n    \t\tRandom rand=new Random();\r\n\t\tint count=0;\r\n\t\twhile(count&lt;5) {\r\n\t\t\tString placeholder=&quot;&quot;;\r\n\t\t\tint a;\r\n                         // Generate random A-Z\r\n                \r\n\t\t\tfor(int i=0;i&lt;=numofCap;i++){\r\n\t\t\t\ta=&#39;Z&#39;+1-&#39;A&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;A&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                        // Generate from a-z\r\n\t\t\r\n               \tfor(int i=0;i&lt;=numofLow;i++){\r\n\t\t\t\ta=&#39;z&#39;+1-&#39;a&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;a&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                        // Generate numbers 0-9\r\n\t\t   \r\n\t\t\tfor(int i=0;i&lt;=numofDigit;i++){\r\n\t\t\t\ta=&#39;9&#39;+1-&#39;0&#39;;\r\n\t\t\t\ta=rand.nextInt(a)+&#39;0&#39;;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}\r\n                        // Generate symbols , 1st part 32-48\r\n\t\t\r\n\t\t\tfor(int i=0;i&lt;=numofSymbols;i++){\r\n\t\t\t\ta=48+1-32;\r\n\t\t\t\ta=rand.nextInt(a)+32;\r\n\t\t\t\tplaceholder+=(char)a;\r\n\t\t\t}        \r\n                   // If no consecutive , add it to the ArrayList \r\n      \t\t\r\n\t\t\tif(Consecutive(placeholder)==true){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tcount++;\r\n\t\t\tresult.add(placeholder);\r\n\t\t}\r\n     // return the ArrayList\r\n\t\t\t//System.out.println(result); \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n  \r\n    \r\n\tpublic boolean Consecutive(String pass){\r\n        \tboolean consecutive=false;\r\n\t\tfor(int i=1;i&lt;pass.length();i++){\r\n\t\t\tif(pass.charAt(i)==pass.charAt(i-1)){\t\r\n\t\t\t\tconsecutive=true;\r\n\t\t\t}\t\r\n\t\t}  return consecutive;\r\n\t}\r\n\t/**public ArrayList getGenerate(){\r\n\t*\tPassword2 gen=new Generate();\r\n\t*\tSystem.out.println(&quot;SuggestedPasswords: &quot;+Generate());\r\n\t*\t}\r\n\t*/\r\n    \tpublic static void main(String[] args){\r\n        \r\n\r\n\ttry{\r\n\t\tPassword2 p1= new Password2();\r\n\t\tSystem.out.print(&quot;Default Password:&quot;);\r\n\t\tSystem.out.println(p1.getPassword());\r\n\t\tp1.setPassword();\r\n\t\tSystem.out.println(p1.getPassword());\r\n      }catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n    \r\n \r\n\ttry{\r\n\t\tPassword2 p2= new Password2(2,2,2,2);\r\n\t\tp2.setPassword();\r\n\t\tSystem.out.println(p2.getPassword());\r\n\t}catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n    \r\n\ttry{\r\n  \t\tPassword2 p3= new Password2(3,3,3,3);\r\n\t\tp3.setPassword();\r\n\t\tSystem.out.println(p3.getPassword());\r\n\t}catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n    \r\n    /*2pts  \r\n    Declare an instance of password to have these settings \r\n    (0 capitals, 10 symbols, -1 numofDigit,100 small letters)\r\n    this settings is an extreme and thus the user \r\n    should get a warning message and the default settings applied.\r\n    */\r\n    \ttry{\r\n\t\tPassword2 p4= new Password2(10, 0,-1,100);\r\n\t\tp4.setPassword();\r\n\t\tSystem.out.println(p4.getPassword());\r\n     \t}catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n    }\r\n}\r\n```\r\n","title":"How do I get my Generate() method to recognize the values I set in my Password() method?","body":"<p>I have this block:</p>\n<pre><code>public Password2 (int numofSymbols, int numofCap, int numofLow, int numofDigit )throws Exception{\n        if(numofSymbols&lt;2||numofCap&lt;2||numofLow&lt;2||numofDigit&lt;2){\n        throw new Exception(&quot;Settings supplied not accpeted&quot;);\n    }\n    this.numofSymbols=numofSymbols;\n    this.numofCap=numofCap;\n    this.numofLow=numofLow;\n    this.numofDigit=numofDigit; \n    System.out.println(&quot;New Settings:&quot;+&quot;\\n&quot;+&quot;Symbols: &quot;+numofSymbols+&quot;\\n&quot;+&quot;Capitals: &quot;+numofCap+&quot;\\n&quot;+&quot;Lowercase: &quot;+numofLow+&quot;\\n&quot;+&quot;Digits: &quot;+numofDigit); \n    }\n</code></pre>\n<p>and later I call it with:</p>\n<pre><code>  try{\n    Password2 p1= new Password2();\n    System.out.print(&quot;Default Password:&quot;);\n    System.out.println(p1.getPassword());\n    p1.setPassword();\n    System.out.println(p1.getPassword());\n  }catch(Exception e){\n    System.out.println(e);\n}\n</code></pre>\n<p>and it works fine but the variables are not saved when I use this method:</p>\n<pre><code>public ArrayList&lt;String&gt; Generate(){\n        ArrayList&lt;String&gt; result=new ArrayList&lt;String&gt;();\n        Random rand=new Random();\n    int count=0;\n    while(count&lt;5) {\n        String placeholder=&quot;&quot;;\n        int a;\n                  \n            \n        for(int i=0;i&lt;=numofCap;i++){\n            a='Z'+1-'A';\n            a=rand.nextInt(a)+'A';\n            placeholder+=(char)a;\n        }\n                    \n    \n            for(int i=0;i&lt;=numofLow;i++){\n            a='z'+1-'a';\n            a=rand.nextInt(a)+'a';\n            placeholder+=(char)a;\n        }\n                 \n       \n        for(int i=0;i&lt;=numofDigit;i++){\n            a='9'+1-'0';\n            a=rand.nextInt(a)+'0';\n            placeholder+=(char)a;\n        }\n                    \n        for(int i=0;i&lt;=numofSymbols;i++){\n            a=48+1-32;\n            a=rand.nextInt(a)+32;\n            placeholder+=(char)a;\n        }        \n         \n\n        \n        if(Consecutive(placeholder)==true){\n            continue;\n        }\n        count++;\n        result.add(placeholder);\n    }\n // return the ArrayList\n        //System.out.println(result); \n        return result;\n    }\n</code></pre>\n<p>Ive tried a few solutions but im just lost. Here is all of my code it is for a project and it is very confusing:</p>\n<pre><code>import java.util.*;\nclass Password1{\nprotected static String defaultPassword = &quot;nDay@159&quot;;\nprotected static int length = 8;\nprotected static int numofSymbols;\nprotected static int numofCap;\nprotected static int numofLow;\nprotected static int numofDigit;\nPassword1(){\n    numofSymbols = 1;\n    numofCap = 1;\n    numofLow = 1;\n    numofDigit = 1;\n}\nvoid Password1( int numofSymbols, int numofCap, int numofLow, int numofDigit ){\n    Password1.numofSymbols = numofSymbols;\n    Password1.numofCap = numofCap;\n    Password1.numofLow = numofLow;\n    Password1.numofDigit = numofDigit;\n    \n}\npublic boolean validLength(String pass){\n    if(pass.length() &gt;= length){\n        return true;\n    }\n    return false;\n}\npublic boolean validSymbols(String pass){\n    int count = 0;\n    boolean result = false;\n\n    for(int i=0;i&lt;pass.length();i++){\n        if(((int)pass.charAt(i) &gt;= 32 &amp;&amp; (int)pass.charAt(i) &lt;=47) || ((int)pass.charAt(i) &gt;= 58 &amp;&amp; (int)pass.charAt(i) &lt;= 64)){\n            count++;\n        }\n    }if(count &gt;= numofSymbols){\n        result = true;\n        return result;\n    }\n    return result;\n}\npublic boolean validnumofDigit(String pass){\n    int count = 0;\n    boolean result = false;\n    for(int i=0;i&lt;pass.length();i++){\n        if(((int)pass.charAt(i) &gt;= 48 &amp;&amp; (int)pass.charAt(i) &lt;=57)){\n            count++;\n        }\n    }if(count &gt;= numofDigit){\n        result = true;\n        return result;\n    }\n    return result;\n}\npublic boolean validCapitals(String pass){\n    int count = 0;\n    boolean result = false;\n    for(int i=0;i&lt;pass.length();i++){\n        if(((int)pass.charAt(i) &gt;= 65 &amp;&amp; (int)pass.charAt(i) &lt;=90)){\n            count++;\n        }\n    }if(count &gt;= numofCap){\n        result = true;\n        return result;\n    }\n    return result;\n}\npublic boolean validnumofLow(String pass){\n    int count = 0;\n    boolean result = false;\n    for(int i=0;i&lt;pass.length();i++){\n        if(((int)pass.charAt(i) &gt;= 97 &amp;&amp; (int)pass.charAt(i) &lt;=122)){\n            count++;\n        }\n    }\n    if(count &gt;= numofLow){\n        result = true;\n        return result;\n    }\n    return result;\n}\npublic void setPassword( ){\n    String newPassword ;\n    boolean assume = true;\n    Scanner s = new Scanner(System.in);\n    while(assume){\n        System.out.println(&quot;Please enter a valid password : &quot;);\n        newPassword = s.nextLine();\n        if(!validLength(newPassword) || !validSymbols(newPassword) || !validCapitals(newPassword) || !validnumofLow(newPassword)|| !validnumofDigit(newPassword) ){\n            if(!validLength(newPassword)){\n                System.out.println(&quot;Password does not contain atleast 8 letters&quot;);\n            }if(!validSymbols(newPassword)){\n                System.out.println(&quot;Password does not contain atleast &quot; + numofSymbols + &quot; symbols&quot;);\n            }if(!validCapitals(newPassword)){\n                System.out.println(&quot;Password does not contain atleast &quot; + numofCap + &quot; Capitals&quot;);\n            }if(!validnumofLow(newPassword)){\n                System.out.println(&quot;Password does not contain atleast &quot; + numofLow + &quot; Lower Cases&quot;);\n            }if(!validnumofDigit(newPassword)){\n                System.out.println(&quot;Password does not contain atleast &quot; + numofDigit + &quot; numofDigit&quot;);\n            }\n        }else{\n            System.out.print(&quot;Password Accepted : &quot;);\n            defaultPassword = newPassword;\n            assume = false;\n        }\n        s.close();\n    }\n}\npublic String getPassword(){\n    return defaultPassword;\n}\n}\npublic class Password2 extends Password1{\n\n//Data field to represent minimum length of a passord based on the required settings. \n    \nprivate int minSettings;\n\n/** 2pts \n * Default constructor that calls the superclass constructor with default \n * settings (default settings at least 1 capitals, lowers,numofDigit,....\n * initialize the minSettings using the method actualLength\n */\n\n    Password2(){   \n    super(); \n    \n   // call the superclass default constructor \n    minSettings=actualLength(); \n   // set minSettings to the actual min length of a password based on the settings\n\n    }\n/** 10pts\n    Overloaded constructor \n    Make sure to prevent users from supplying settings that are\n    invalid settings ( for instance , negative values or 0) or\n    extreme cases like requiring more than 3 of (capitals,numofLow,\n    symbols,numofDigit) in case, an extreme case supplied, \n    print a message that the settings supplied is not acceptable and \n    apply the default setting.\n */\n    ArrayList&lt;String&gt; result; \n    public Password2 (int numofSymbols, int numofCap, int numofLow, int numofDigit )throws Exception{\n        if(numofSymbols&lt;2||numofCap&lt;2||numofLow&lt;2||numofDigit&lt;2){\n        throw new Exception(&quot;Settings supplied not accpeted&quot;);\n    }\n    this.numofSymbols=numofSymbols;\n    this.numofCap=numofCap;\n    this.numofLow=numofLow;\n    this.numofDigit=numofDigit; \n    System.out.println(&quot;New Settings:&quot;+&quot;\\n&quot;+&quot;Symbols: &quot;+numofSymbols+&quot;\\n&quot;+&quot;Capitals: &quot;+numofCap+&quot;\\n&quot;+&quot;Lowercase: &quot;+numofLow+&quot;\\n&quot;+&quot;Digits: &quot;+numofDigit); \n    }\n        \n\n\n\n/** 5pts \n *   Create a method that checks the actual minimum length based on the \n *   required settings\n *   Use ternary operator \n *   if the addition of settings numbers is less than 8 , then minimum is 8\n *   for instance ( 1 capital, 1 small , 1 symbol, 1 number) = 4 which is less\n *   than the default length required, so minimum in this case 8\n *   if the addition of settings numbers is higher than 8 , then minimum is the\n *   addition of numbers. \n *   @return the actual minimum length of the password\n */\n\npublic int actualLength() {\n        int passMin=numofCap+numofLow+numofDigit+numofSymbols;\n    return(passMin&gt;8)?passMin:8;\n    }\n\n/** 10pts \n * There are four methods that are similar to each other in Password1\n * one way to improve in here is to create one method that does their actions\n * take the first method that checks how many symbols and name it to checkRange\n * the method should look like this: \n * public boolean checkRange( String pass,int required, char start,char end)\n * the method will take the range of char to be checked against the required\n * number of the specific type of numofSymbols. \n * This method  will replace the 4 methods in Password1\n * This will reduce the lines of codes significantly.\n * \n * @param pass\n * @param required\n * @param start\n * @param end\n * @return boolean\n */\n\npublic boolean checkRange(String pass,int required,char start,char end){\n    int count=0;\n    boolean result2=false;\n    for(int i=0;i&lt;pass.length();i++){\n        if(pass.charAt(i)&gt;=start &amp;&amp;pass.charAt(i)&lt;=end){\n            count++;\n        }if(count&gt;=required){\n            result2=true;\n            return result2;  \n            }\n    }return result2;\n} \npublic int getValues(){\n    return numofSymbols;\n}   \n\n/** 10pts\n * Override the setPassword method\n * Use the annotation 'override'\n * Print out 4 suggested password based on the settings initialized by the constructor\n * Promote the user to choose from the suggested generated passwords or supply a \n * password that would meet the requirements\n * Prevent consecutive numofSymbols (Use the consecutive method, should be created afterward)\n * use the checkRange method to check the ranges of capital, small, numofDigit, symbols\n * the reset of the method is the same as superclass setPassword\n */\n    @Override\npublic void setPassword(){  // Declare a String to hold a password\n    ArrayList&lt;String&gt; pw2= new Password2().Generate();\n    System.out.println(&quot;Suggested Passwords:&quot;+pw2);\n    \n    String Password=defaultPassword;\n\n    // Decalre a scanner object to recive a password from the keyboard\n\n        Scanner scan= new Scanner(System.in);\n\n    // Declare a boolean variable to be set whenever a password meets the settings.\n    \n    boolean flag= true;\n    \n    // Loop until the user provides a correct password \n        \n    while(flag){\n            // Promt the user to enter the password based on the settings\n\n            System.out.print(&quot;Enter Password based on set settings&quot;);\n     \n        \n    // scan the next line and store in the String holding the password\n        \n        Password=scan.next();\n    \n    /* If the password provided is not the actual length required ,\n       then print out a message and continue */\n\n        if(Password.length()&lt;actualLength()){\n            System.out.println(&quot;Password length does not meet setting requrienments&quot;);\n            continue;\n        }\n    \n     /* If the password provided does not have the numofCap letters required ,\n        then print out a message and continue\n        pass to checkRange the range [65 -90] or[ A -Z]  */\n    \n            if(!checkRange(Password, numofCap,'A','Z')){\n            System.out.println(&quot;Not enough numofCap letters&quot;);\n            continue;\n        }\n     \n    /* If the password provided does not have the numofLow letters required ,\n        then print out a message and continue\n        pass to checkRange the range [97 -122] or [a - z]  */\n            \n        if(!checkRange(Password, numofLow,'a','z')){\n            System.out.println(&quot;Not enough numofLow letters&quot;);\n            continue;\n        }\n  \n    \n     /* If the password provided does not have the symbols required ,\n        then print out a message and continue\n        pass to checkRange the range [32 -47] or [ space - /]  \n       ( no need for this range [58-64])*/\n    \n        if(!checkRange(Password, numofSymbols,' ','/')){\n            System.out.println(&quot;Not enough symbols included&quot;);\n            continue;\n        }\n     \n     /* If the password provided does not have the numofDigit required ,\n        then print out a message and continue\n        pass to checkRange the range   [48 -57] or [0 -9]  */\n        \n            if(!checkRange(Password, numofDigit,'0','9')){\n            System.out.println(&quot;Not enough numofDigit included&quot;);\n            continue;\n        }\n     \n     /* If the password provided have consecutive charcters,\n        then print out a message and continue\n        pass to consecutive the password*/\n            \n        if(Consecutive(Password)==true){\n            System.out.println(&quot;Consecutive numofSymbols are not allowed&quot;);\n            continue;\n        }\n\n    /* Password provided meets all the settings\n        set the global variable password to the new qualified password  \n        set the flag to false, to stop iterations\n    */\n            flag=false;\n        System.out.println(&quot;Password Accepted:&quot;);\n        defaultPassword=Password;\n        \n    // end of while loop\n\n        }\n   \n}    \n    \n \n/**10pts \n * Create a new method that suggests few passwords based on \n * the settings required , you have to use Random class to generate \n * random values of ( numbers, numofSymbols, symbols , numofDigit) \n * \n * The method should generate based on the data fields settings\n * once generated a password, check if there is no consecutive values \n * Store the generated password into an arrayList  \n * \n * @return  ArrayList encapsulating 4 generated passwords\n */\n    \n    public ArrayList&lt;String&gt; Generate(){\n        ArrayList&lt;String&gt; result=new ArrayList&lt;String&gt;();\n        Random rand=new Random();\n    int count=0;\n    while(count&lt;5) {\n        String placeholder=&quot;&quot;;\n        int a;\n                     // Generate random A-Z\n            \n        for(int i=0;i&lt;=numofCap;i++){\n            a='Z'+1-'A';\n            a=rand.nextInt(a)+'A';\n            placeholder+=(char)a;\n        }\n                    // Generate from a-z\n    \n            for(int i=0;i&lt;=numofLow;i++){\n            a='z'+1-'a';\n            a=rand.nextInt(a)+'a';\n            placeholder+=(char)a;\n        }\n                    // Generate numbers 0-9\n       \n        for(int i=0;i&lt;=numofDigit;i++){\n            a='9'+1-'0';\n            a=rand.nextInt(a)+'0';\n            placeholder+=(char)a;\n        }\n                    // Generate symbols , 1st part 32-48\n    \n        for(int i=0;i&lt;=numofSymbols;i++){\n            a=48+1-32;\n            a=rand.nextInt(a)+32;\n            placeholder+=(char)a;\n        }        \n               // If no consecutive , add it to the ArrayList \n        \n        if(Consecutive(placeholder)==true){\n            continue;\n        }\n        count++;\n        result.add(placeholder);\n    }\n // return the ArrayList\n        //System.out.println(result); \n        return result;\n    }\n\n\n\npublic boolean Consecutive(String pass){\n        boolean consecutive=false;\n    for(int i=1;i&lt;pass.length();i++){\n        if(pass.charAt(i)==pass.charAt(i-1)){   \n            consecutive=true;\n        }   \n    }  return consecutive;\n}\n/**public ArrayList getGenerate(){\n*   Password2 gen=new Generate();\n*   System.out.println(&quot;SuggestedPasswords: &quot;+Generate());\n*   }\n*/\n    public static void main(String[] args){\n    \n\ntry{\n    Password2 p1= new Password2();\n    System.out.print(&quot;Default Password:&quot;);\n    System.out.println(p1.getPassword());\n    p1.setPassword();\n    System.out.println(p1.getPassword());\n  }catch(Exception e){\n    System.out.println(e);\n}\n\n\ntry{\n    Password2 p2= new Password2(2,2,2,2);\n    p2.setPassword();\n    System.out.println(p2.getPassword());\n}catch(Exception e){\n    System.out.println(e);\n}\n\ntry{\n    Password2 p3= new Password2(3,3,3,3);\n    p3.setPassword();\n    System.out.println(p3.getPassword());\n}catch(Exception e){\n    System.out.println(e);\n}\n\n/*2pts  \nDeclare an instance of password to have these settings \n(0 capitals, 10 symbols, -1 numofDigit,100 small letters)\nthis settings is an extreme and thus the user \nshould get a warning message and the default settings applied.\n*/\n    try{\n    Password2 p4= new Password2(10, 0,-1,100);\n    p4.setPassword();\n    System.out.println(p4.getPassword());\n    }catch(Exception e){\n    System.out.println(e);\n}\n}\n</code></pre>\n<p>}</p>\n<pre><code></code></pre>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":83082,"reputation":666,"user_id":233163,"display_name":"SPee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302961902,"creation_date":1302961902,"answer_id":5686927,"question_id":5686412,"body_markdown":"Do backticks not work on aliases?\r\nThe [Hibernate documentation][1] says to use them for fields.\r\n\r\nOther questions:\r\n\r\n - Is another value possible?\r\n - Why a map (it also contains the original value) and not a List? \r\nId and Name could be retrieved from the original Object.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/mapping.html#mapping-quotedidentifiers","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>Do backticks not work on aliases?\nThe <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/mapping.html#mapping-quotedidentifiers\" rel=\"nofollow\">Hibernate documentation</a> says to use them for fields.</p>\n\n<p>Other questions:</p>\n\n<ul>\n<li>Is another value possible?</li>\n<li>Why a map (it also contains the original value) and not a List? \nId and Name could be retrieved from the original Object.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303016867,"creation_date":1303016867,"answer_id":5691617,"question_id":5686412,"body_markdown":"the back tics concept works in hibernate.. unfortunately this only works if you&#39;ve done annotation config...\r\n\r\nyou can try to do this in a different way (without annotations).\r\n\r\n    Query q = session.createQuery(&quot;select new User (u.id, u.name, u.object) from User u&quot;).list();\r\n\r\nhere you need to create a constructor in use which accepts an id, name, object elements &amp; in that order.\r\n\r\n","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>the back tics concept works in hibernate.. unfortunately this only works if you've done annotation config...</p>\n\n<p>you can try to do this in a different way (without annotations).</p>\n\n<pre><code>Query q = session.createQuery(\"select new User (u.id, u.name, u.object) from User u\").list();\n</code></pre>\n\n<p>here you need to create a constructor in use which accepts an id, name, object elements &amp; in that order.</p>\n"},{"tags":[],"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1303480417,"creation_date":1303469823,"answer_id":5754720,"question_id":5686412,"body_markdown":"You could achieve it by a workaround using your custom &quot;alias to map&quot; transformer, so your code would change to something like this\r\n\r\n    Query q = mySession.createQuery(\r\n        &quot;SELECT u.id AS id, u.name AS text, u AS obj FROM User u&quot;)\r\n        .setResultTransformer(\r\n            AliasToMapTransformer.renameAlias(&quot;obj&quot;, &quot;object&quot;).build()\r\n        );\r\n\r\nAnd then using this class:\r\n\r\n    public class AliasToMapTransformer extends BasicTransformerAdapter {\r\n    \r\n        private Map&lt;String, String&gt; renameAliasMap;\r\n    \r\n    \r\n        public AliasToMapTransformer(Map&lt;String, String&gt; renameAliasMap) {\r\n            this.renameAliasMap = (renameAliasMap == null) ? Collections.&lt;String, String&gt;emptyMap() : renameAliasMap;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Object transformTuple(Object[] tuple, String[] aliases) {\r\n            Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(tuple.length);\r\n            for (int i = 0; i &lt; tuple.length; i++) {\r\n                String alias = aliases[i];\r\n                if (alias != null) {\r\n                    String newAlias = renameAliasMap.get(alias);\r\n    \r\n                    result.put((newAlias != null) ? newAlias : alias, tuple[i]);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    \r\n        public static Builder renameAlias(String alias, String newAlias) {\r\n            return new Builder().renameAlias(alias, newAlias);\r\n        }\r\n    \r\n    \r\n        public static class Builder {\r\n    \r\n            private Map&lt;String, String&gt; aliasConversionMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    \r\n            public Builder renameAlias(String alias, String newAlias) {\r\n                aliasConversionMap.put(alias, newAlias);\r\n                return this;\r\n            }\r\n    \r\n    \r\n            public AliasToMapTransformer build() {\r\n                return new AliasToMapTransformer(aliasConversionMap);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>You could achieve it by a workaround using your custom \"alias to map\" transformer, so your code would change to something like this</p>\n\n<pre><code>Query q = mySession.createQuery(\n    \"SELECT u.id AS id, u.name AS text, u AS obj FROM User u\")\n    .setResultTransformer(\n        AliasToMapTransformer.renameAlias(\"obj\", \"object\").build()\n    );\n</code></pre>\n\n<p>And then using this class:</p>\n\n<pre><code>public class AliasToMapTransformer extends BasicTransformerAdapter {\n\n    private Map&lt;String, String&gt; renameAliasMap;\n\n\n    public AliasToMapTransformer(Map&lt;String, String&gt; renameAliasMap) {\n        this.renameAliasMap = (renameAliasMap == null) ? Collections.&lt;String, String&gt;emptyMap() : renameAliasMap;\n    }\n\n\n    @Override\n    public Object transformTuple(Object[] tuple, String[] aliases) {\n        Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(tuple.length);\n        for (int i = 0; i &lt; tuple.length; i++) {\n            String alias = aliases[i];\n            if (alias != null) {\n                String newAlias = renameAliasMap.get(alias);\n\n                result.put((newAlias != null) ? newAlias : alias, tuple[i]);\n            }\n        }\n        return result;\n    }\n\n\n    public static Builder renameAlias(String alias, String newAlias) {\n        return new Builder().renameAlias(alias, newAlias);\n    }\n\n\n    public static class Builder {\n\n        private Map&lt;String, String&gt; aliasConversionMap = new HashMap&lt;String, String&gt;();\n\n\n        public Builder renameAlias(String alias, String newAlias) {\n            aliasConversionMap.put(alias, newAlias);\n            return this;\n        }\n\n\n        public AliasToMapTransformer build() {\n            return new AliasToMapTransformer(aliasConversionMap);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69201,"reputation":7158,"user_id":201506,"accept_rate":92,"display_name":"geert3"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1351167169,"creation_date":1351167169,"answer_id":13068306,"question_id":5686412,"body_markdown":"On a related topic, escaping a reserved word in a column name is as easy as prepending with a table alias. No backticks, square brackets, etc. Simply replace\r\n\r\n    select where from mytable\r\nby:\r\n\r\n    select t.where from mytable t\r\n\r\n(note: i&#39;m NOT saying it&#39;s a good idea to have &quot;where&quot; as column name ;-)","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>On a related topic, escaping a reserved word in a column name is as easy as prepending with a table alias. No backticks, square brackets, etc. Simply replace</p>\n\n<pre><code>select where from mytable\n</code></pre>\n\n<p>by:</p>\n\n<pre><code>select t.where from mytable t\n</code></pre>\n\n<p>(note: i'm NOT saying it's a good idea to have \"where\" as column name ;-)</p>\n"},{"tags":[],"owner":{"account_id":2626251,"reputation":71,"user_id":2273176,"display_name":"user2273176"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670562860,"creation_date":1670562860,"answer_id":74739157,"question_id":5686412,"body_markdown":"Ok, i&#39;m really late on this question but since the above solutions didn&#39;t work for me i thought i&#39;d post the solution that did.\r\n\r\nOur issue was a field named &quot;row&quot;. The solution depending on xml or annotation would be:\r\n\r\n```\r\n@Column(name=&quot;`row`&quot;)\r\nprivate String row;\r\n```\r\n\r\n```\r\n&lt;property name=&quot;row&quot; column=&quot;`row`&quot; access=&quot;field&quot; not-null=&quot;true&quot;/&gt;\r\n```","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>Ok, i'm really late on this question but since the above solutions didn't work for me i thought i'd post the solution that did.</p>\n<p>Our issue was a field named &quot;row&quot;. The solution depending on xml or annotation would be:</p>\n<pre><code>@Column(name=&quot;`row`&quot;)\nprivate String row;\n</code></pre>\n<pre><code>&lt;property name=&quot;row&quot; column=&quot;`row`&quot; access=&quot;field&quot; not-null=&quot;true&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9258,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":5754720,"answer_count":5,"score":14,"last_activity_date":1670562860,"creation_date":1302956402,"question_id":5686412,"body_markdown":"I use the following query to get a `java.util.Map` with indexes `id`, `text` and `object`:\r\n\r\n    Query q = mySession.createQuery(\r\n        &quot;SELECT u.id AS id, u.name AS text, u AS object FROM User u&quot;)\r\n        .setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n\r\n... but `object` seems to be a reserved word. For example `obj` is OK. What is the current way to escape an *alias* in HQL the way MySQL uses backtick escapes?\r\n\r\nUsing backtick gives the following error:\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.QueryException: unexpected char: \r\n    &#39;`&#39; [SELECT u.id AS id, u.name AS text, u AS `object` FROM User u]\r\n","title":"How to escape reserved words in Hibernate&#39;s HQL","body":"<p>I use the following query to get a <code>java.util.Map</code> with indexes <code>id</code>, <code>text</code> and <code>object</code>:</p>\n\n<pre><code>Query q = mySession.createQuery(\n    \"SELECT u.id AS id, u.name AS text, u AS object FROM User u\")\n    .setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\n</code></pre>\n\n<p>... but <code>object</code> seems to be a reserved word. For example <code>obj</code> is OK. What is the current way to escape an <em>alias</em> in HQL the way MySQL uses backtick escapes?</p>\n\n<p>Using backtick gives the following error:</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.QueryException: unexpected char: \n'`' [SELECT u.id AS id, u.name AS text, u AS `object` FROM User u]\n</code></pre>\n"},{"tags":["java","spring-mvc","tomcat","spring-security","x509certificate"],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670562145,"creation_date":1670562145,"question_id":74739087,"body_markdown":"I know there are similar posts as to why the certificate - certs variable blow -  in Spring Filter in `X509AuthenticationFilter.java` comes out null\r\n\r\n    X509Certificate[] certs = (X509Certificate[])((X509Certificate[])request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;));\r\n\r\nBy reading this [SO answer][1], I realized that I could print the TLS handshake and get details into what is going wrong. Prima Facie, I am of the opinion that the client is not sending the certificate. If I am not wrong, then at this point\r\n\r\n   \r\n\r\n     Cert Authorities:\r\n    &lt;CN=*.mycompanyname.com&gt;\r\n    *** ServerHelloDone\r\n    https-jsse-nio-8443-exec-4, WRITE: TLSv1.2 Handshake, length = 4972\r\n    https-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 7\r\n    *** Certificate chain\r\n    &lt;Empty&gt;\r\n    ***\r\n\r\ninstead of empty, accordting to this blog - [how to analyse Java SSL errors][2], if the client would have sent the client certificate, it would have a response something like \r\n\r\n    *** Certificate chain\r\n    chain [0] = [\r\n    [\r\n      Version: V1\r\n      Subject: CN=Application 3, OU=Smartjava, O=Smartjava, L=NL, ST=ZH, C=NL\r\n      Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\r\n    \r\n      Key:  Sun RSA public key, 1024 bits\r\n      modulus: 90655907749318585147523875906892969031300830816947226352221659107570169820452561428696751943383590982109524990627182456571533992582229229163232831159652561902456847954385746762477844009336466314872376131553489447601649924116778337873632641536164462534398137791450495316700015095054427027256393580022887087767\r\n      public exponent: 65537\r\n      Validity: [From: Mon Mar 12 15:13:24 CET 2012,\r\n                   To: Tue Mar 12 15:13:24 CET 2013]\r\n      Issuer: CN=Application CA, OU=Smartjava, O=Smartjava, L=Maasland, ST=ZH, C=NL\r\n      SerialNumber: [    b247ffb2 ce060768]\r\n    \r\n    ]\r\n      \r\n\r\nAs there are lots of pieces of gettin this right (trust store, keystore, tomcat configuration, creating the certificates well, knowing where to place what artifacts), it seems to me to have an initial heavy lifting before getting this right. Not to mention there being two strategies to do this - a) No neccessity to keep client ceritifcates in trust store rather only keeping CA authority certificate in trust store and only using it to sign client certificates and b) placing all client certificates in the trust store\r\n\r\nI have followed the first approach presented in this blog post [X.509 client certificates with Spring Security][3] \r\n\r\nWhat I have done? \r\nI have a CA certifite issued by `GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV`\r\n\r\nI am using it as my CA authority that will sign client certificates. Hence I have placed this in the trust store. I placed it in the truststore by doing\r\n\r\nkeytool -import -file servercert_2022.crt -alias serverCA -keystore truststore.jks\r\n\r\nIt looks like \r\n\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    Alias name: serverca\r\n    Creation date: Dec 9, 2022\r\n    Entry type: trustedCertEntry\r\n    \r\n    Owner: CN=*.mycompanyname.com\r\n    Issuer: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\r\n    Serial number: 2a49d139988338b92dee3274c70e8428\r\n    Valid from: Tue Nov 29 05:30:00 IST 2022 until: Sat Dec 30 05:29:59 IST 2023\r\n    Certificate fingerprints:\r\n             MD5:  82:4D:8C:61:CD:D8:65:60:99:78:F3:D2:7E:B3:73:30\r\n             SHA1: 4D:DC:24:25:5A:67:41:E7:4D:FF:1A:B3:F8:B6:7E:A1:17:B0:58:A0\r\n             SHA256: 2E:24:AF:0A:8C:25:B7:D5:89:06:3E:DC:08:FA:2D:69:A4:DF:58:8F:E4:                                                                                                                                  08:AB:DD:EB:EE:2C:1D:2B:EA:EC:DD\r\n    Signature algorithm name: SHA256withRSA\r\n    Subject Public Key Algorithm: 2048-bit RSA key\r\n    Version: 3\r\n    \r\n    Extensions:\r\n    \r\n    #1: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\r\n    0000: 04 82 01 69 01 67 00 75   00 AD F7 BE FA 7C FF 10  ...i.g.u........\r\n    0010: C8 8B 9D 3D 9C 1E 3E 18   6A B4 67 29 5D CF B1 0C  ...=..&gt;.j.g)]...   \r\n    \r\n    \r\n    #2: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: caIssuers\r\n       accessLocation: URIName: http://crt.usertrust.com/GoGetSSLRCA.crt\r\n    ,\r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.usertrust.com\r\n    ]\r\n    ]\r\n    \r\n    #3: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\r\n    0010: 55 84 93 99                                        U...\r\n    ]\r\n    ]\r\n    \r\n    #4: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:false\r\n      PathLen: undefined\r\n    ]\r\n    \r\n    #5: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.usertrust.com/GoGetSSLRSCA.crl]\r\n    ]]\r\n    \r\n    #6: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.3.6.1.2.2.64]\r\n    [PolicyQualifierInfo: [\r\n      qualifierID: 1.3.6.1.5.5.7.2.1\r\n      qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://                                                                                                                                  cps.us\r\n    0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\r\n    \r\n    ]]  ]\r\n      [CertificatePolicyId: [2.23.140.1.2.1]\r\n    []  ]\r\n    ]\r\n    \r\n    #7: ObjectId: 2.5.29.37 Criticality=false\r\n    ExtendedKeyUsages [\r\n      serverAuth\r\n      clientAuth\r\n    ]\r\n    \r\n    #8: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_Encipherment\r\n    ]\r\n    \r\n    #9: ObjectId: 2.5.29.17 Criticality=false\r\n    SubjectAlternativeName [\r\n      DNSName: *.mycompanyname.com\r\n      DNSName: mycompanyname.com\r\n    ]\r\n    \r\n    #10: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 84 D5  F7 50 98 94 E8  .......G..d.P...\r\n    0010: B8 63 D4 B5                                        .c..\r\n    ]\r\n    ]\r\n    \r\n   *******************************************\r\n\r\nI added my certificate-key to keystore by \r\n\r\nMy key is a in keystore.p12 file. I read that the key along with server certificate can be placed in the keystore by doing this \r\n\r\n    winpty openssl pkcs12 -export -in servercert_2022.crt -inkey private.pem -certfile servercert_2022.crt -out keystore.p12\r\n\r\nKeystore looks like this \r\n\r\n    Keystore type: jks\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    Alias name: 1\r\n    Creation date: Dec 9, 2022\r\n    Entry type: PrivateKeyEntry\r\n    Certificate chain length: 3\r\n    Certificate[1]:\r\n    Owner: CN=*.mycompanyname.com\r\n    Issuer: CN=GoGetSSL \r\n    Serial number: 2a0e8428\r\n    Valid from: Tue Nov 29 05:30:00 IST 2022 until: Sat Dec 30 05:29:59 IST 2023\r\n    Certificate fingerprints:\r\n             MD5:  82:4D:8C:61:CD:D8:65:60:99:78:F3:D2:7E:B3:73:30\r\n             SHA1: 4D:DC:24:25:5A:67:41:E7:4D:FF:1A:B3:F8:B6:7E:A1:17:B0:58:A0\r\n             SHA256: 2E:24:AF:0A:8C:25:B7:D5:89:06:3E:DC:08:FA:2D:69:A4:DF:58:8F:E4:08:AB:DD:EB:EE:2C:1D:2B:EA:EC:DD\r\n    Signature algorithm name: SHA256withRSA\r\n    Subject Public Key Algorithm: 2048-bit RSA key\r\n    Version: 3\r\n    \r\n    Extensions:\r\n    \r\n    #1: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\r\n    0000: 04 82 01 69 01 67 00 75   00 AD F7 BE FA 7C FF 10  ...i.g.u......\r\n    0160: 16 84 D3 72 78 21 62 96   FA 96 A7 55 D5           ...rx!b....U.\r\n    \r\n    \r\n    #2: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: caIssuers\r\n       accessLocation: URIName: http://crt.usertrust.com/GoGetSSLADVCA.crt\r\n    ,\r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.usertrust.com\r\n    ]\r\n    ]\r\n    \r\n    #3: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\r\n    0010: 55 84 93 99                                        U...\r\n    ]\r\n    ]\r\n    \r\n    #4: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:false\r\n      PathLen: undefined\r\n    ]\r\n    \r\n    #5: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.usertrust.com/GoGetSSLADVCA.crl]\r\n    ]]\r\n    \r\n    #6: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\r\n    [PolicyQualifierInfo: [\r\n      qualifierID: 1.3.6.1.5.5.7.2.1\r\n      qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://cps.us\r\n    0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\r\n    \r\n    ]]  ]\r\n      [CertificatePolicyId: [2.23.140.1.2.1]\r\n    []  ]\r\n    ]\r\n    \r\n    #7: ObjectId: 2.5.29.37 Criticality=false\r\n    ExtendedKeyUsages [\r\n      serverAuth\r\n      clientAuth\r\n    ]\r\n    \r\n    #8: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_Encipherment\r\n    ]\r\n    \r\n    #9: ObjectId: 2.5.29.17 Criticality=false\r\n    SubjectAlternativeName [\r\n      DNSName: *.mycompanyname.com\r\n      DNSName: mycompanyname.com\r\n    ]\r\n    \r\n    #10: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 84 D5 11 9F 12 AB 0A 47   D3 DD 64 F7 50 98 94 E8  .......G..d.P...\r\n    0010: B8 63 D4 B5                                        .c..\r\n    ]\r\n    ]\r\n    \r\n    Certificate[2]:\r\n    Owner: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\r\n    Issuer: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\r\n    Serial number: 938bb08e62987b4f75f98cb6a5045c96\r\n    Valid from: Thu Sep 06 05:30:00 IST 2018 until: Wed Sep 06 05:29:59 IST 2028\r\n    Certificate fingerprints:\r\n             MD5:  4E:81:90:9E:43:B3:18:66\r\n             SHA1: 07:0A:72:6C:6E:44:18:DC:F\r\n             SHA256: 43:CA:C3:1E:F8:E8:BA:1B:4B:16:B8:20:6E:4C:0A:26:C5:BA:D:C2:FD:64\r\n    Signature algorithm name: SHA384withRSA\r\n    Subject Public Key Algorithm: 2048-bit RSA key\r\n    Version: 3\r\n    \r\n    Extensions:\r\n    \r\n    #1: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: caIssuers\r\n       accessLocation: URIName: http://crt.usertrust.com/USERTrustRSAAddTrustCA.crt\r\n    ,\r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.usertrust.com\r\n    ]\r\n    ]\r\n    \r\n    #2: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\r\n    0010: B2 03 66 CB                                        ..f.\r\n    ]\r\n    ]\r\n    \r\n    #3: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:0\r\n    ]\r\n    \r\n    #4: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.usertrust.com/USERTrustRSACertificationAuthority.crl]\r\n    ]]\r\n    \r\n    #5: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.3..2.2.64]\r\n    []  ]\r\n      [CertificatePolicyId: [2.23.140.1.2.1]\r\n    []  ]\r\n    ]\r\n    \r\n    #6: ObjectId: 2.5.29.37 Criticality=false\r\n    ExtendedKeyUsages [\r\n      serverAuth\r\n      clientAuth\r\n    ]\r\n    \r\n    #7: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    #8: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\r\n    0010: 55 84 93 99                                        U...\r\n    ]\r\n    ]\r\n    \r\n    Certificate[3]:\r\n    Owner: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\r\n    Issuer: CN=AAA Certificate Services, O=Comodo CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n    Serial number: 3972443af922b751d7d36c10dd313595\r\n    Valid from: Tue Mar 12 05:30:00 IST 2019 until: Mon Jan 01 05:29:59 IST 2029\r\n    Certificate fingerprints:\r\n             MD5:  28:5E:C9:09:C4:AB:0D:2D:57:F5:08:6B:22:57:99:AA\r\n             SHA1: D8:9E:3B:D4:3D:5D:90:9B:47:A1:89:77:AA:9D:5C:E3:6C:EE:18:4C\r\n             SHA256: 68:B9:C7:61:21:9A:5B:1F:01:31:78:44:74:66:5D:B6:1B:BD:B1:09:E0:0F:05:CA:9F:74:24:4E:E5:F5:F5:2B\r\n    Signature algorithm name: SHA384withRSA\r\n    Subject Public Key Algorithm: 4096-bit RSA key\r\n    Version: 3\r\n    \r\n    Extensions:\r\n    \r\n    #1: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.comodoca.com\r\n    ]\r\n    ]\r\n    \r\n    #2: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: A0 11 0A 23 3E 96 F1 07   EC E2 AF 29 EF 82 A5 7F  ...#&gt;......)....\r\n    0010: D0 30 A4 B4                                        .0..\r\n    ]\r\n    ]\r\n    \r\n    #3: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:2147483647\r\n    ]\r\n    \r\n    #4: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.comodoca.com/AAACertificateServices.crl]\r\n    ]]\r\n    \r\n    #5: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [2.5.29.32.0]\r\n    []  ]\r\n    ]\r\n    \r\n    #6: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    #7: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\r\n    0010: B2 03 66 CB                                        ..f.\r\n    ]\r\n    ]\r\n    \r\n    \r\n    \r\n    *******************************************\r\n\r\nMy tomcat connector looks like this \r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n    \t\t\tclientAuth=&quot;want&quot; sslProtocol=&quot;TLS&quot; \r\n    \t\t\tkeystoreFile=&quot;C:\\Company\\keys\\keystore.p12&quot;\r\n    \t\t\tkeystoreType=&quot;PKCS12&quot; keystorePass=&quot;password&quot;\r\n    \t\t\ttruststoreFile=&quot;C:\\Company\\keys\\truststore.jks&quot;\r\n    \t\t\ttruststoreType=&quot;JKS&quot; truststorePass=&quot;password&quot;/&gt;\r\n\r\n\r\nMy spring security configuration looks like this\r\n\r\n    &lt;http pattern=&quot;/api/mutualauthenticationtest&quot;  create-session=&quot;never&quot;\r\n              authentication-manager-ref=&quot;authenticationManager&quot;\r\n              entry-point-ref=&quot;oauthAuthenticationEntryPoint&quot;\r\n              access-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n              xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \r\n              use-expressions=&quot;true&quot;&gt;\r\n    \r\n            &lt;csrf disabled=&quot;true&quot;/&gt;\r\n            &lt;x509 subject-principal-regex=&quot;CN=(.*?),&quot; /&gt;\r\n    \r\n        &lt;/http&gt;\r\n\r\nWith the above configuration the debugger is able to reach inside the `X509AuthenticationFilter.java` class at this place at the line with variable certs\r\n \r\n\r\n    private X509Certificate extractClientCertificate(HttpServletRequest request) {\r\n            X509Certificate[] certs = (X509Certificate[])((X509Certificate[])request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;));\r\n            if (certs != null &amp;&amp; certs.length &gt; 0) {\r\n                if (this.logger.isDebugEnabled()) {\r\n                    this.logger.debug(&quot;X.509 client authentication certificate:&quot; + certs[0]);\r\n                }\r\n    \r\n                return certs[0];\r\n            } else {\r\n                if (this.logger.isDebugEnabled()) {\r\n                    this.logger.debug(&quot;No client certificate found in request.&quot;);\r\n                }\r\n    \r\n                return null;\r\n            }\r\n        }\r\n\r\nfor the API curl API request that I make to this API. The curl request has my client certificate attached\r\n\r\n    curl -k --location --request POST &#39;https://localhost:8443/api/mutualauthenticationtest&#39; \\\r\n    \r\n    --header &#39;clientid: 3&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --header &#39;Cookie: JSESSIONID=464646778768678678676&#39; \\\r\n    --cert client.crt \\\r\n    --key clientprivate.key \\\r\n    --data-raw &#39;{&quot;userID&quot;:&quot;someuserid&quot;}&#39;\r\n\r\nThe client.crt in the curl request was generated with the help of client.csr (signing request), client private key and signed by the server certificate and server private key. \r\n\r\nclient private key \r\n\r\n    openssl genrsa -aes256 -out clientprivate.key -passout pass:someclientpassword 2048\r\n\r\nclient csr \r\n\r\n    winpty openssl req -new -key clientprivate.key -out client.csr\r\n\r\nInitially, I had created my own CA server certificate with CN localhost. But after reading some comments on SO, I used a genuine Server certificate with CN:mycompanyname.com. I also created  the client CSR with the CN=somesubdomain.mycompanyname.com so that it matches the domain *.mycompanyname.com\r\n\r\nHere&#39;s how the  client certificate was created\r\n\r\n    winpty openssl x509 -req -in client.csr -CA servercert_2022.crt -CAkey private.pem -CAcreateserial -out client.crt -days 365 -sha256\r\n\r\n\r\n Placing below the entire handshake if it helps someone help me get to the bottom of this. \r\n\r\n        https-jsse-nio-8443-exec-4, READ: TLSv1 Handshake, length = 512\r\n    *** ClientHello, TLSv1.2\r\n    RandomCookie:  GMT: -2129767729 bytes = { 47, 24, 48, 232, 111, 34, 57, 141, 51, 1, 246, 45, 164, 70, 153, 138, 39, 181, 40, 12, 168, 95, 109, 1, 194, 50, 38, 131 }\r\n    Session ID:  {}\r\n\r\n    *** Certificate chain\r\n    chain [0] = [\r\n    [\r\n      Version: V3\r\n      Subject: CN=*.mycompanyname.com\r\n      Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\r\n    \r\n      Key:  Sun RSA public key, 2048 bits\r\n      modulus: 2622705370403332787775762243661727944626694756503406987897017427384873636985758217173690153198533118362188933540538596405165697331\r\n      public exponent: 65537\r\n      Validity: [From: Tue Nov 29 00:00:00 UTC 2022,\r\n                   To: Fri Dec 29 23:59:59 UTC 2023]\r\n      Issuer: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\r\n      SerialNumber: [    2a49d139 988338b9 2dee3274 c70e8428]\r\n    \r\n    Certificate Extensions: 10\r\n    [3]: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\r\n    Extension unknown: DER encoded OCTET string =\r\n    0000: 04 82 01 6D 04 82 01 69   01 67 00 75 00 AD F7 BE  ...m...i.g.u....\r\n    0010: FA 7C FF 10 C8 8B 9D 3D   9C 1E 3E 18 6A B4 67 29  .......=..&gt;.j.g)\r\n    \r\n    0170: D5                                                 .\r\n    \r\n    \r\n    [3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: caIssuers\r\n       accessLocation: URIName: http://crt.usertrust.com/GoGetSSLRSADVCA.crt\r\n    , \r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.usertrust.com\r\n    ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\r\n    0010: 55 84 93 99                                        U...\r\n    ]\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:false\r\n      PathLen: undefined\r\n    ]\r\n    \r\n    [5]: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.usertrust.com/GoGetSSLRSADVCA.crl]\r\n    ]]\r\n    \r\n    [6]: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\r\n    [PolicyQualifierInfo: [\r\n      qualifierID: 1.3.6.1.5.5.7.2.1\r\n      qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://cps.us\r\n    0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\r\n    \r\n    ]]  ]\r\n      [CertificatePolicyId: [2.23.140.1.2.1]\r\n    []  ]\r\n    ]\r\n    \r\n    [7]: ObjectId: 2.5.29.37 Criticality=false\r\n    ExtendedKeyUsages [\r\n      serverAuth\r\n      clientAuth\r\n    ]\r\n    \r\n    [8]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_Encipherment\r\n    ]\r\n    \r\n    [9]: ObjectId: 2.5.29.17 Criticality=false\r\n    SubjectAlternativeName [\r\n      DNSName: *.mycompanyname.com\r\n      DNSName: mycompanyname.com\r\n    ]\r\n    \r\n    [10]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 84 D5 11 9F 12 AB 0A 47   D3 DD 64 F7 50 98 94 E8  .......G..d.P...\r\n    0010: B8 63 D4 B5                                        .c..\r\n    ]\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA256withRSA]\r\n      Signature:\r\n    0000: 41 55 D9 6E D1 C1 7E E1   CE D9 DA 01 D6 83 94 7C  AU.n............\r\n    0010: EF 9E 27 3A 46 9C B1 32   9A E9 C3 1E 36 8E 1C 71  ..&#39;:F..2....6..q\r\n    \r\n    \r\n    ]\r\n    chain [3] = [\r\n    [\r\n      Version: V3\r\n      Subject: CN=GoGetSSL \r\n      Signature Algorithm: SHA384withRSA, OID = 1.2.840.113549.1.1.12\r\n    \r\n      Key:  Sun RSA public key, 2048 bits\r\n      modulus: 2016675053399680968778139946606275282233371636099081255780548426567610365288242376854592612489780940673622601461569960956302879926833060318530351\r\n      public exponent: 65537\r\n      Validity: [From: Thu Sep 06 00:00:00 UTC 2018,\r\n                   To: Tue Sep 05 23:59:59 UTC 2028]\r\n      Issuer: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\r\n      SerialNumber: [    938bb08e 62987b4f 75f98cb6 a5045c96]\r\n    \r\n    Certificate Extensions: 8\r\n    [3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: caIssuers\r\n       accessLocation: URIName: http://crt.usertrust.com/USERTrustRSAAddTrustCA.crt\r\n    , \r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.usertrust.com\r\n    ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\r\n    0010: B2 03 66 CB                                        ..f.\r\n    ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:0\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.usertrust.com/USERTrustRSACertificationAuthority.crl]\r\n    ]]\r\n    \r\n    [5]: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\r\n    []  ]\r\n      [CertificatePolicyId: [2.23.140.1.2.1]\r\n    []  ]\r\n    ]\r\n    \r\n    [6]: ObjectId: 2.5.29.37 Criticality=false\r\n    ExtendedKeyUsages [\r\n      serverAuth\r\n      clientAuth\r\n    ]\r\n    \r\n    [7]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    [8]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\r\n    0010: 55 84 93 99                                        U...\r\n    ]\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA384withRSA]\r\n      Signature:\r\n    0000: 5D 74 43 28 78 80 E4 33   A1 34 AB 33 B7 06 B2 73  ]tC(x..3.4.3...s\r\n    \r\n    01F0: 3C 4D 84 C0 E6 21 79 E3   11 E5 AB 16 F0 19 42 19  &lt;M...!y.......B.\r\n    \r\n    ]\r\n    chain [3] = [\r\n    [\r\n      Version: V3\r\n      Subject: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\r\n      Signature Algorithm: SHA384withRSA, OID = 1.2.840.113549.1.1.12\r\n    \r\n      Key:  Sun RSA public key, 4096 bits\r\n      modulus: 52248758361752507534246388533722547304608772308115673058706321503049610972993225326579926576629493740386532378470836364707455134729548367373189550921756904777340153719441907345834660183638543\r\n      public exponent: 65537\r\n      Validity: [From: Tue Mar 12 00:00:00 UTC 2019,\r\n                   To: Sun Dec 31 23:59:59 UTC 2028]\r\n      Issuer: CN=AAA Certificate Services, O=Comodo CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n      SerialNumber: [    3972443a f922b751 d7d36c10 dd313595]\r\n    \r\n    Certificate Extensions: 7\r\n    [3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\r\n    AuthorityInfoAccess [\r\n      [\r\n       accessMethod: ocsp\r\n       accessLocation: URIName: http://ocsp.comodoca.com\r\n    ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: A0 11 0A 23 3E 96 F1 07   EC E2 AF 29 EF 82 A5 7F  ...#&gt;......)....\r\n    0010: D0 30 A4 B4                                        .0..\r\n    ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:2147483647\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.31 Criticality=false\r\n    CRLDistributionPoints [\r\n      [DistributionPoint:\r\n         [URIName: http://crl.comodoca.com/AAACertificateServices.crl]\r\n    ]]\r\n    \r\n    [5]: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [2.5.29.32.0]\r\n    []  ]\r\n    ]\r\n    \r\n    [6]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    [7]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\r\n    0010: B2 03 66 CB                                        ..f.\r\n    ]\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA384withRSA]\r\n      Signature:\r\n    0000: 18 87 51 DC 74 21 3D 9C   8A E0 27 B7 33 D0 2E CC  ..Q.t!=...&#39;.3...\r\n    \r\n    00F0: 7F 8E 76 72 99 0C 9D FE   D7 91 08 16 A1 A3 5F 95  ..vr.........._.\r\n    \r\n    ]\r\n    ***\r\n    *** ECDH ServerKeyExchange\r\n    Signature Algorithm SHA512withRSA\r\n    Server key: Sun EC public key, 256 bits\r\n      public x coord: 19352321750303628830904646093808624566974313423482165871643805927488532053250\r\n      public y coord: 45496769771360840433108417226772017731510614660888440135094323373501113499217\r\n      parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\r\n    *** CertificateRequest\r\n    Cert Types: RSA, DSS, ECDSA\r\n    Supported Signature Algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\r\n    Cert Authorities:\r\n    &lt;CN=*.mycompanyname.com&gt;\r\n    *** ServerHelloDone\r\n    https-jsse-nio-8443-exec-4, WRITE: TLSv1.2 Handshake, length = 4972\r\n    https-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 7\r\n    *** Certificate chain\r\n    &lt;Empty&gt;\r\n    ***\r\n    https-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 70\r\n    *** ECDHClientKeyExchange\r\n    ECDH Public value:  { 4, 53, 247, 204, 77, 62, 51, 36, 140, 49, 178, 158, 159, 179, 238, 225, 234, 153, 124, 198, 178, 83, 148, 252, 78, 0, 17, 70, 200, 87, 141, 60, 255, 50, 144, 12, 181, 38, 254, 238, 59, 9, 254, 105, 34, 65, 212, 57, 27, 115, 17, 41, 88, 128, 128, 253, 149, 157, 18, 174, 252, 114, 131, 231, 6 }\r\n    SESSION KEYGEN:\r\n    PreMaster Secret:\r\n    0000: BE E4 A9 B5 9D A7 F6 60   18 98 9B E6 CA 24 4D FA  .......`.....$M.\r\n    0010: 91 B6 4A 02 37 D1 C1 F3   2D 74 30 EF 64 05 AC 35  ..J.7...-t0.d..5\r\n    CONNECTION KEYGEN:\r\n    Client Nonce:\r\n    0000: 81 0E 53 CF 2F 18 30 E8   6F 22 39 8D 33 01 F6 2D  ..S./.0.o&quot;9.3..-\r\n    0010: A4 46 99 8A 27 B5 28 0C   A8 5F 6D 01 C2 32 26 83  .F..&#39;.(.._m..2&amp;.\r\n    Server Nonce:\r\n    0000: 63 92 B1 A6 7F 81 DC C2   3B E7 19 A6 A4 FC 5F D8  c.......;....._.\r\n    0010: AC 17 FC 60 C9 3D E8 A2   A7 C0 CE 82 62 0F F4 21  ...`.=......b..!\r\n    Master Secret:\r\n    0000: 7E 20 23 1F 02 34 2E 40   73 18 5F 5A 09 F4 B6 28  . #..4.@s._Z...(\r\n    0010: 1B 30 D2 F3 2E A8 85 BA   72 2F FC 79 57 2C F3 5B  .0......r/.yW,.[\r\n    0020: 70 E8 81 50 90 D4 DB 3C   4E 7D 89 A8 A1 68 EC DC  p..P...&lt;N....h..\r\n    ... no MAC keys used for this cipher   \r\n    0000: A8 B8 56 36                                        ..V6\r\n    Server write IV:\r\n    0000: 5F 42 7E 2E\r\n\r\nWhat could I be possibly doing wrong that the client is unable to send the certificate (if my conjecture is right) or simply, why the certs variable is null when the certificate is being read from inside the request.getAttribute() mentioned in the very first line of this post? Any help will be immensely appreciated.                   \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24466384/2181576\r\n  [2]: https://dzone.com//articles/how-analyze-java-ssl-errors\r\n  [3]: https://blog.codecentric.de/x-509-client-certificates-with-spring-security\r\n\r\n","title":"client certificate authentication through Tomcat And Spring shows certificate as null in X509AuthenticationFilter","body":"<p>I know there are similar posts as to why the certificate - certs variable blow -  in Spring Filter in <code>X509AuthenticationFilter.java</code> comes out null</p>\n<pre><code>X509Certificate[] certs = (X509Certificate[])((X509Certificate[])request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;));\n</code></pre>\n<p>By reading this <a href=\"https://stackoverflow.com/a/24466384/2181576\">SO answer</a>, I realized that I could print the TLS handshake and get details into what is going wrong. Prima Facie, I am of the opinion that the client is not sending the certificate. If I am not wrong, then at this point</p>\n<pre><code> Cert Authorities:\n&lt;CN=*.mycompanyname.com&gt;\n*** ServerHelloDone\nhttps-jsse-nio-8443-exec-4, WRITE: TLSv1.2 Handshake, length = 4972\nhttps-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 7\n*** Certificate chain\n&lt;Empty&gt;\n***\n</code></pre>\n<p>instead of empty, accordting to this blog - <a href=\"https://dzone.com//articles/how-analyze-java-ssl-errors\" rel=\"nofollow noreferrer\">how to analyse Java SSL errors</a>, if the client would have sent the client certificate, it would have a response something like</p>\n<pre><code>*** Certificate chain\nchain [0] = [\n[\n  Version: V1\n  Subject: CN=Application 3, OU=Smartjava, O=Smartjava, L=NL, ST=ZH, C=NL\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n\n  Key:  Sun RSA public key, 1024 bits\n  modulus: 90655907749318585147523875906892969031300830816947226352221659107570169820452561428696751943383590982109524990627182456571533992582229229163232831159652561902456847954385746762477844009336466314872376131553489447601649924116778337873632641536164462534398137791450495316700015095054427027256393580022887087767\n  public exponent: 65537\n  Validity: [From: Mon Mar 12 15:13:24 CET 2012,\n               To: Tue Mar 12 15:13:24 CET 2013]\n  Issuer: CN=Application CA, OU=Smartjava, O=Smartjava, L=Maasland, ST=ZH, C=NL\n  SerialNumber: [    b247ffb2 ce060768]\n\n]\n  \n</code></pre>\n<p>As there are lots of pieces of gettin this right (trust store, keystore, tomcat configuration, creating the certificates well, knowing where to place what artifacts), it seems to me to have an initial heavy lifting before getting this right. Not to mention there being two strategies to do this - a) No neccessity to keep client ceritifcates in trust store rather only keeping CA authority certificate in trust store and only using it to sign client certificates and b) placing all client certificates in the trust store</p>\n<p>I have followed the first approach presented in this blog post <a href=\"https://blog.codecentric.de/x-509-client-certificates-with-spring-security\" rel=\"nofollow noreferrer\">X.509 client certificates with Spring Security</a></p>\n<p>What I have done?\nI have a CA certifite issued by <code>GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV</code></p>\n<p>I am using it as my CA authority that will sign client certificates. Hence I have placed this in the trust store. I placed it in the truststore by doing</p>\n<p>keytool -import -file servercert_2022.crt -alias serverCA -keystore truststore.jks</p>\n<p>It looks like</p>\n<pre><code>Keystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: serverca\nCreation date: Dec 9, 2022\nEntry type: trustedCertEntry\n\nOwner: CN=*.mycompanyname.com\nIssuer: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\nSerial number: 2a49d139988338b92dee3274c70e8428\nValid from: Tue Nov 29 05:30:00 IST 2022 until: Sat Dec 30 05:29:59 IST 2023\nCertificate fingerprints:\n         MD5:  82:4D:8C:61:CD:D8:65:60:99:78:F3:D2:7E:B3:73:30\n         SHA1: 4D:DC:24:25:5A:67:41:E7:4D:FF:1A:B3:F8:B6:7E:A1:17:B0:58:A0\n         SHA256: 2E:24:AF:0A:8C:25:B7:D5:89:06:3E:DC:08:FA:2D:69:A4:DF:58:8F:E4:                                                                                                                                  08:AB:DD:EB:EE:2C:1D:2B:EA:EC:DD\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\n0000: 04 82 01 69 01 67 00 75   00 AD F7 BE FA 7C FF 10  ...i.g.u........\n0010: C8 8B 9D 3D 9C 1E 3E 18   6A B4 67 29 5D CF B1 0C  ...=..&gt;.j.g)]...   \n\n\n#2: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: caIssuers\n   accessLocation: URIName: http://crt.usertrust.com/GoGetSSLRCA.crt\n,\n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.usertrust.com\n]\n]\n\n#3: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\n0010: 55 84 93 99                                        U...\n]\n]\n\n#4: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#5: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.usertrust.com/GoGetSSLRSCA.crl]\n]]\n\n#6: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.3.6.1.2.2.64]\n[PolicyQualifierInfo: [\n  qualifierID: 1.3.6.1.5.5.7.2.1\n  qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://                                                                                                                                  cps.us\n0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\n\n]]  ]\n  [CertificatePolicyId: [2.23.140.1.2.1]\n[]  ]\n]\n\n#7: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n  clientAuth\n]\n\n#8: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_Encipherment\n]\n\n#9: ObjectId: 2.5.29.17 Criticality=false\nSubjectAlternativeName [\n  DNSName: *.mycompanyname.com\n  DNSName: mycompanyname.com\n]\n\n#10: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 84 D5  F7 50 98 94 E8  .......G..d.P...\n0010: B8 63 D4 B5                                        .c..\n]\n]\n</code></pre>\n<hr />\n<p>I added my certificate-key to keystore by</p>\n<p>My key is a in keystore.p12 file. I read that the key along with server certificate can be placed in the keystore by doing this</p>\n<pre><code>winpty openssl pkcs12 -export -in servercert_2022.crt -inkey private.pem -certfile servercert_2022.crt -out keystore.p12\n</code></pre>\n<p>Keystore looks like this</p>\n<pre><code>Keystore type: jks\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: 1\nCreation date: Dec 9, 2022\nEntry type: PrivateKeyEntry\nCertificate chain length: 3\nCertificate[1]:\nOwner: CN=*.mycompanyname.com\nIssuer: CN=GoGetSSL \nSerial number: 2a0e8428\nValid from: Tue Nov 29 05:30:00 IST 2022 until: Sat Dec 30 05:29:59 IST 2023\nCertificate fingerprints:\n         MD5:  82:4D:8C:61:CD:D8:65:60:99:78:F3:D2:7E:B3:73:30\n         SHA1: 4D:DC:24:25:5A:67:41:E7:4D:FF:1A:B3:F8:B6:7E:A1:17:B0:58:A0\n         SHA256: 2E:24:AF:0A:8C:25:B7:D5:89:06:3E:DC:08:FA:2D:69:A4:DF:58:8F:E4:08:AB:DD:EB:EE:2C:1D:2B:EA:EC:DD\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\n0000: 04 82 01 69 01 67 00 75   00 AD F7 BE FA 7C FF 10  ...i.g.u......\n0160: 16 84 D3 72 78 21 62 96   FA 96 A7 55 D5           ...rx!b....U.\n\n\n#2: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: caIssuers\n   accessLocation: URIName: http://crt.usertrust.com/GoGetSSLADVCA.crt\n,\n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.usertrust.com\n]\n]\n\n#3: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\n0010: 55 84 93 99                                        U...\n]\n]\n\n#4: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#5: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.usertrust.com/GoGetSSLADVCA.crl]\n]]\n\n#6: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\n[PolicyQualifierInfo: [\n  qualifierID: 1.3.6.1.5.5.7.2.1\n  qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://cps.us\n0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\n\n]]  ]\n  [CertificatePolicyId: [2.23.140.1.2.1]\n[]  ]\n]\n\n#7: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n  clientAuth\n]\n\n#8: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_Encipherment\n]\n\n#9: ObjectId: 2.5.29.17 Criticality=false\nSubjectAlternativeName [\n  DNSName: *.mycompanyname.com\n  DNSName: mycompanyname.com\n]\n\n#10: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 84 D5 11 9F 12 AB 0A 47   D3 DD 64 F7 50 98 94 E8  .......G..d.P...\n0010: B8 63 D4 B5                                        .c..\n]\n]\n\nCertificate[2]:\nOwner: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\nIssuer: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\nSerial number: 938bb08e62987b4f75f98cb6a5045c96\nValid from: Thu Sep 06 05:30:00 IST 2018 until: Wed Sep 06 05:29:59 IST 2028\nCertificate fingerprints:\n         MD5:  4E:81:90:9E:43:B3:18:66\n         SHA1: 07:0A:72:6C:6E:44:18:DC:F\n         SHA256: 43:CA:C3:1E:F8:E8:BA:1B:4B:16:B8:20:6E:4C:0A:26:C5:BA:D:C2:FD:64\nSignature algorithm name: SHA384withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: caIssuers\n   accessLocation: URIName: http://crt.usertrust.com/USERTrustRSAAddTrustCA.crt\n,\n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.usertrust.com\n]\n]\n\n#2: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\n0010: B2 03 66 CB                                        ..f.\n]\n]\n\n#3: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:0\n]\n\n#4: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.usertrust.com/USERTrustRSACertificationAuthority.crl]\n]]\n\n#5: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.3..2.2.64]\n[]  ]\n  [CertificatePolicyId: [2.23.140.1.2.1]\n[]  ]\n]\n\n#6: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n  clientAuth\n]\n\n#7: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#8: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\n0010: 55 84 93 99                                        U...\n]\n]\n\nCertificate[3]:\nOwner: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\nIssuer: CN=AAA Certificate Services, O=Comodo CA Limited, L=Salford, ST=Greater Manchester, C=GB\nSerial number: 3972443af922b751d7d36c10dd313595\nValid from: Tue Mar 12 05:30:00 IST 2019 until: Mon Jan 01 05:29:59 IST 2029\nCertificate fingerprints:\n         MD5:  28:5E:C9:09:C4:AB:0D:2D:57:F5:08:6B:22:57:99:AA\n         SHA1: D8:9E:3B:D4:3D:5D:90:9B:47:A1:89:77:AA:9D:5C:E3:6C:EE:18:4C\n         SHA256: 68:B9:C7:61:21:9A:5B:1F:01:31:78:44:74:66:5D:B6:1B:BD:B1:09:E0:0F:05:CA:9F:74:24:4E:E5:F5:F5:2B\nSignature algorithm name: SHA384withRSA\nSubject Public Key Algorithm: 4096-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.comodoca.com\n]\n]\n\n#2: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: A0 11 0A 23 3E 96 F1 07   EC E2 AF 29 EF 82 A5 7F  ...#&gt;......)....\n0010: D0 30 A4 B4                                        .0..\n]\n]\n\n#3: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:2147483647\n]\n\n#4: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.comodoca.com/AAACertificateServices.crl]\n]]\n\n#5: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [2.5.29.32.0]\n[]  ]\n]\n\n#6: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#7: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\n0010: B2 03 66 CB                                        ..f.\n]\n]\n\n\n\n*******************************************\n</code></pre>\n<p>My tomcat connector looks like this</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n            clientAuth=&quot;want&quot; sslProtocol=&quot;TLS&quot; \n            keystoreFile=&quot;C:\\Company\\keys\\keystore.p12&quot;\n            keystoreType=&quot;PKCS12&quot; keystorePass=&quot;password&quot;\n            truststoreFile=&quot;C:\\Company\\keys\\truststore.jks&quot;\n            truststoreType=&quot;JKS&quot; truststorePass=&quot;password&quot;/&gt;\n</code></pre>\n<p>My spring security configuration looks like this</p>\n<pre><code>&lt;http pattern=&quot;/api/mutualauthenticationtest&quot;  create-session=&quot;never&quot;\n          authentication-manager-ref=&quot;authenticationManager&quot;\n          entry-point-ref=&quot;oauthAuthenticationEntryPoint&quot;\n          access-decision-manager-ref=&quot;accessDecisionManager&quot;\n          xmlns=&quot;http://www.springframework.org/schema/security&quot;\n\n          use-expressions=&quot;true&quot;&gt;\n\n        &lt;csrf disabled=&quot;true&quot;/&gt;\n        &lt;x509 subject-principal-regex=&quot;CN=(.*?),&quot; /&gt;\n\n    &lt;/http&gt;\n</code></pre>\n<p>With the above configuration the debugger is able to reach inside the <code>X509AuthenticationFilter.java</code> class at this place at the line with variable certs</p>\n<pre><code>private X509Certificate extractClientCertificate(HttpServletRequest request) {\n        X509Certificate[] certs = (X509Certificate[])((X509Certificate[])request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;));\n        if (certs != null &amp;&amp; certs.length &gt; 0) {\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(&quot;X.509 client authentication certificate:&quot; + certs[0]);\n            }\n\n            return certs[0];\n        } else {\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(&quot;No client certificate found in request.&quot;);\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n<p>for the API curl API request that I make to this API. The curl request has my client certificate attached</p>\n<pre><code>curl -k --location --request POST 'https://localhost:8443/api/mutualauthenticationtest' \\\n\n--header 'clientid: 3' \\\n--header 'Content-Type: application/json' \\\n--header 'Cookie: JSESSIONID=464646778768678678676' \\\n--cert client.crt \\\n--key clientprivate.key \\\n--data-raw '{&quot;userID&quot;:&quot;someuserid&quot;}'\n</code></pre>\n<p>The client.crt in the curl request was generated with the help of client.csr (signing request), client private key and signed by the server certificate and server private key.</p>\n<p>client private key</p>\n<pre><code>openssl genrsa -aes256 -out clientprivate.key -passout pass:someclientpassword 2048\n</code></pre>\n<p>client csr</p>\n<pre><code>winpty openssl req -new -key clientprivate.key -out client.csr\n</code></pre>\n<p>Initially, I had created my own CA server certificate with CN localhost. But after reading some comments on SO, I used a genuine Server certificate with CN:mycompanyname.com. I also created  the client CSR with the CN=somesubdomain.mycompanyname.com so that it matches the domain *.mycompanyname.com</p>\n<p>Here's how the  client certificate was created</p>\n<pre><code>winpty openssl x509 -req -in client.csr -CA servercert_2022.crt -CAkey private.pem -CAcreateserial -out client.crt -days 365 -sha256\n</code></pre>\n<p>Placing below the entire handshake if it helps someone help me get to the bottom of this.</p>\n<pre><code>    https-jsse-nio-8443-exec-4, READ: TLSv1 Handshake, length = 512\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: -2129767729 bytes = { 47, 24, 48, 232, 111, 34, 57, 141, 51, 1, 246, 45, 164, 70, 153, 138, 39, 181, 40, 12, 168, 95, 109, 1, 194, 50, 38, 131 }\nSession ID:  {}\n\n*** Certificate chain\nchain [0] = [\n[\n  Version: V3\n  Subject: CN=*.mycompanyname.com\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\n\n  Key:  Sun RSA public key, 2048 bits\n  modulus: 2622705370403332787775762243661727944626694756503406987897017427384873636985758217173690153198533118362188933540538596405165697331\n  public exponent: 65537\n  Validity: [From: Tue Nov 29 00:00:00 UTC 2022,\n               To: Fri Dec 29 23:59:59 UTC 2023]\n  Issuer: CN=GoGetSSL RSA DV CA, O=GoGetSSL, L=Riga, C=LV\n  SerialNumber: [    2a49d139 988338b9 2dee3274 c70e8428]\n\nCertificate Extensions: 10\n[3]: ObjectId: 1.3.6.1.4.1.11129.2.4.2 Criticality=false\nExtension unknown: DER encoded OCTET string =\n0000: 04 82 01 6D 04 82 01 69   01 67 00 75 00 AD F7 BE  ...m...i.g.u....\n0010: FA 7C FF 10 C8 8B 9D 3D   9C 1E 3E 18 6A B4 67 29  .......=..&gt;.j.g)\n\n0170: D5                                                 .\n\n\n[3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: caIssuers\n   accessLocation: URIName: http://crt.usertrust.com/GoGetSSLRSADVCA.crt\n, \n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.usertrust.com\n]\n]\n\n[3]: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\n0010: 55 84 93 99                                        U...\n]\n]\n\n[4]: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n[5]: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.usertrust.com/GoGetSSLRSADVCA.crl]\n]]\n\n[6]: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\n[PolicyQualifierInfo: [\n  qualifierID: 1.3.6.1.5.5.7.2.1\n  qualifier: 0000: 16 19 68 74 74 70 73 3A   2F 2F 63 70 73 2E 75 73  ..https://cps.us\n0010: 65 72 74 72 75 73 74 2E   63 6F 6D                 ertrust.com\n\n]]  ]\n  [CertificatePolicyId: [2.23.140.1.2.1]\n[]  ]\n]\n\n[7]: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n  clientAuth\n]\n\n[8]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_Encipherment\n]\n\n[9]: ObjectId: 2.5.29.17 Criticality=false\nSubjectAlternativeName [\n  DNSName: *.mycompanyname.com\n  DNSName: mycompanyname.com\n]\n\n[10]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 84 D5 11 9F 12 AB 0A 47   D3 DD 64 F7 50 98 94 E8  .......G..d.P...\n0010: B8 63 D4 B5                                        .c..\n]\n]\n\n]\n  Algorithm: [SHA256withRSA]\n  Signature:\n0000: 41 55 D9 6E D1 C1 7E E1   CE D9 DA 01 D6 83 94 7C  AU.n............\n0010: EF 9E 27 3A 46 9C B1 32   9A E9 C3 1E 36 8E 1C 71  ..':F..2....6..q\n\n\n]\nchain [3] = [\n[\n  Version: V3\n  Subject: CN=GoGetSSL \n  Signature Algorithm: SHA384withRSA, OID = 1.2.840.113549.1.1.12\n\n  Key:  Sun RSA public key, 2048 bits\n  modulus: 2016675053399680968778139946606275282233371636099081255780548426567610365288242376854592612489780940673622601461569960956302879926833060318530351\n  public exponent: 65537\n  Validity: [From: Thu Sep 06 00:00:00 UTC 2018,\n               To: Tue Sep 05 23:59:59 UTC 2028]\n  Issuer: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\n  SerialNumber: [    938bb08e 62987b4f 75f98cb6 a5045c96]\n\nCertificate Extensions: 8\n[3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: caIssuers\n   accessLocation: URIName: http://crt.usertrust.com/USERTrustRSAAddTrustCA.crt\n, \n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.usertrust.com\n]\n]\n\n[3]: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\n0010: B2 03 66 CB                                        ..f.\n]\n]\n\n[3]: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:0\n]\n\n[4]: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.usertrust.com/USERTrustRSACertificationAuthority.crl]\n]]\n\n[5]: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.3.6.1.4.1.6449.1.2.2.64]\n[]  ]\n  [CertificatePolicyId: [2.23.140.1.2.1]\n[]  ]\n]\n\n[6]: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n  clientAuth\n]\n\n[7]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n[8]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F9 FB 50 C4 8B 67 BB 67   64 FE 83 21 A6 A9 CE 3F  ..P..g.gd..!...?\n0010: 55 84 93 99                                        U...\n]\n]\n\n]\n  Algorithm: [SHA384withRSA]\n  Signature:\n0000: 5D 74 43 28 78 80 E4 33   A1 34 AB 33 B7 06 B2 73  ]tC(x..3.4.3...s\n\n01F0: 3C 4D 84 C0 E6 21 79 E3   11 E5 AB 16 F0 19 42 19  &lt;M...!y.......B.\n\n]\nchain [3] = [\n[\n  Version: V3\n  Subject: CN=USERTrust RSA Certification Authority, O=The USERTRUST Network, L=Jersey City, ST=New Jersey, C=US\n  Signature Algorithm: SHA384withRSA, OID = 1.2.840.113549.1.1.12\n\n  Key:  Sun RSA public key, 4096 bits\n  modulus: 52248758361752507534246388533722547304608772308115673058706321503049610972993225326579926576629493740386532378470836364707455134729548367373189550921756904777340153719441907345834660183638543\n  public exponent: 65537\n  Validity: [From: Tue Mar 12 00:00:00 UTC 2019,\n               To: Sun Dec 31 23:59:59 UTC 2028]\n  Issuer: CN=AAA Certificate Services, O=Comodo CA Limited, L=Salford, ST=Greater Manchester, C=GB\n  SerialNumber: [    3972443a f922b751 d7d36c10 dd313595]\n\nCertificate Extensions: 7\n[3]: ObjectId: 1.3.6.1.5.5.7.1.1 Criticality=false\nAuthorityInfoAccess [\n  [\n   accessMethod: ocsp\n   accessLocation: URIName: http://ocsp.comodoca.com\n]\n]\n\n[3]: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: A0 11 0A 23 3E 96 F1 07   EC E2 AF 29 EF 82 A5 7F  ...#&gt;......)....\n0010: D0 30 A4 B4                                        .0..\n]\n]\n\n[3]: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:2147483647\n]\n\n[4]: ObjectId: 2.5.29.31 Criticality=false\nCRLDistributionPoints [\n  [DistributionPoint:\n     [URIName: http://crl.comodoca.com/AAACertificateServices.crl]\n]]\n\n[5]: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [2.5.29.32.0]\n[]  ]\n]\n\n[6]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n[7]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 53 79 BF 5A AA 2B 4A CF   54 80 E1 D8 9B C0 9D F2  Sy.Z.+J.T.......\n0010: B2 03 66 CB                                        ..f.\n]\n]\n\n]\n  Algorithm: [SHA384withRSA]\n  Signature:\n0000: 18 87 51 DC 74 21 3D 9C   8A E0 27 B7 33 D0 2E CC  ..Q.t!=...'.3...\n\n00F0: 7F 8E 76 72 99 0C 9D FE   D7 91 08 16 A1 A3 5F 95  ..vr.........._.\n\n]\n***\n*** ECDH ServerKeyExchange\nSignature Algorithm SHA512withRSA\nServer key: Sun EC public key, 256 bits\n  public x coord: 19352321750303628830904646093808624566974313423482165871643805927488532053250\n  public y coord: 45496769771360840433108417226772017731510614660888440135094323373501113499217\n  parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\n*** CertificateRequest\nCert Types: RSA, DSS, ECDSA\nSupported Signature Algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\nCert Authorities:\n&lt;CN=*.mycompanyname.com&gt;\n*** ServerHelloDone\nhttps-jsse-nio-8443-exec-4, WRITE: TLSv1.2 Handshake, length = 4972\nhttps-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 7\n*** Certificate chain\n&lt;Empty&gt;\n***\nhttps-jsse-nio-8443-exec-5, READ: TLSv1.2 Handshake, length = 70\n*** ECDHClientKeyExchange\nECDH Public value:  { 4, 53, 247, 204, 77, 62, 51, 36, 140, 49, 178, 158, 159, 179, 238, 225, 234, 153, 124, 198, 178, 83, 148, 252, 78, 0, 17, 70, 200, 87, 141, 60, 255, 50, 144, 12, 181, 38, 254, 238, 59, 9, 254, 105, 34, 65, 212, 57, 27, 115, 17, 41, 88, 128, 128, 253, 149, 157, 18, 174, 252, 114, 131, 231, 6 }\nSESSION KEYGEN:\nPreMaster Secret:\n0000: BE E4 A9 B5 9D A7 F6 60   18 98 9B E6 CA 24 4D FA  .......`.....$M.\n0010: 91 B6 4A 02 37 D1 C1 F3   2D 74 30 EF 64 05 AC 35  ..J.7...-t0.d..5\nCONNECTION KEYGEN:\nClient Nonce:\n0000: 81 0E 53 CF 2F 18 30 E8   6F 22 39 8D 33 01 F6 2D  ..S./.0.o&quot;9.3..-\n0010: A4 46 99 8A 27 B5 28 0C   A8 5F 6D 01 C2 32 26 83  .F..'.(.._m..2&amp;.\nServer Nonce:\n0000: 63 92 B1 A6 7F 81 DC C2   3B E7 19 A6 A4 FC 5F D8  c.......;....._.\n0010: AC 17 FC 60 C9 3D E8 A2   A7 C0 CE 82 62 0F F4 21  ...`.=......b..!\nMaster Secret:\n0000: 7E 20 23 1F 02 34 2E 40   73 18 5F 5A 09 F4 B6 28  . #..4.@s._Z...(\n0010: 1B 30 D2 F3 2E A8 85 BA   72 2F FC 79 57 2C F3 5B  .0......r/.yW,.[\n0020: 70 E8 81 50 90 D4 DB 3C   4E 7D 89 A8 A1 68 EC DC  p..P...&lt;N....h..\n... no MAC keys used for this cipher   \n0000: A8 B8 56 36                                        ..V6\nServer write IV:\n0000: 5F 42 7E 2E\n</code></pre>\n<p>What could I be possibly doing wrong that the client is unable to send the certificate (if my conjecture is right) or simply, why the certs variable is null when the certificate is being read from inside the request.getAttribute() mentioned in the very first line of this post? Any help will be immensely appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1670561281,"post_id":74738961,"comment_id":131907596,"body_markdown":"If it is time-based you can go for Schedulers, if it is event-based you can go for Spring Events","body":"If it is time-based you can go for Schedulers, if it is event-based you can go for Spring Events"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1670562547,"post_id":74738961,"comment_id":131907756,"body_markdown":"This will be the time - that is, the user will be able to determine - during what period of time he would like to receive notifications. It will have 3 options:\n1. Week \n2. Month\n3. Always","body":"This will be the time - that is, the user will be able to determine - during what period of time he would like to receive notifications. It will have 3 options: 1. Week  2. Month 3. Always"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1670562813,"post_id":74738961,"comment_id":131907803,"body_markdown":"https://stackoverflow.com/questions/26147044/spring-cron-expression-for-every-day-101am","body":"<a href=\"https://stackoverflow.com/questions/26147044/spring-cron-expression-for-every-day-101am\" title=\"spring cron expression for every day 101am\">stackoverflow.com/questions/26147044/&hellip;</a>"},{"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"score":0,"creation_date":1670568763,"post_id":74738961,"comment_id":131908731,"body_markdown":"do you think using a scheduler is the best idea in this case?","body":"do you think using a scheduler is the best idea in this case?"}],"owner":{"account_id":26346751,"reputation":27,"user_id":20004990,"display_name":"Alex Grimaldo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670560686,"creation_date":1670560642,"question_id":74738961,"body_markdown":"Project: Spring Boot, Java, Postgres ...\r\n\r\nHi guys. We have something like subscriptions. When a user puts a plus in the checkbox in the personal account to receive a notification by mail, various notifications are sent to him.\r\nWhen he puts this plus in his personal account, the value of hasEmailNotify in the database changes to true, and when he removes the plus from the checkbox, it changes to false.\r\n\r\nNow we want the user to be able to define - during what period of time he wants to receive a notification - a week, a month, always. Obviously, from the front, I will receive the value of a certain period of time if the user wants only a temporary subscription, for example, for a week. How can I make the hasemailNotify value in the database automatically change from true to false after this period of time has elapsed?","title":"Automatically change the boolean value in the database when a certain event occurs","body":"<p>Project: Spring Boot, Java, Postgres ...</p>\n<p>Hi guys. We have something like subscriptions. When a user puts a plus in the checkbox in the personal account to receive a notification by mail, various notifications are sent to him.\nWhen he puts this plus in his personal account, the value of hasEmailNotify in the database changes to true, and when he removes the plus from the checkbox, it changes to false.</p>\n<p>Now we want the user to be able to define - during what period of time he wants to receive a notification - a week, a month, always. Obviously, from the front, I will receive the value of a certain period of time if the user wants only a temporary subscription, for example, for a week. How can I make the hasemailNotify value in the database automatically change from true to false after this period of time has elapsed?</p>\n"},{"tags":["java","rounding","bigdecimal","arithmeticexception"],"comments":[{"owner":{"account_id":1498718,"reputation":10352,"user_id":1404049,"accept_rate":85,"display_name":"Fallenreaper"},"score":1,"creation_date":1403037707,"post_id":24272849,"comment_id":37501459,"body_markdown":"the `Math.floor(VALUE)` will return a int val, so why not do: `(double)((double)Math.Floor(1.95*100)/(double)100)`","body":"the <code>Math.floor(VALUE)</code> will return a int val, so why not do: <code>(double)((double)Math.Floor(1.95*100)&#47;(double)100)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1403037667,"creation_date":1403037667,"answer_id":24272908,"question_id":24272849,"body_markdown":"Use the setScale override that includes RoundingMode:\r\n\r\n    value.setScale(2, RoundingMode.DOWN);","title":"How to truncate a BigDecimal without rounding","body":"<p>Use the setScale override that includes RoundingMode:</p>\n\n<pre><code>value.setScale(2, RoundingMode.DOWN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1460384839,"creation_date":1403037704,"answer_id":24272919,"question_id":24272849,"body_markdown":"Use either [RoundingMode.DOWN][1] or [RoundingMode.FLOOR][2].\r\n\r\n    BigDecimal newValue = myBigDecimal.setScale(2, RoundingMode.DOWN);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#DOWN\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#FLOOR","title":"How to truncate a BigDecimal without rounding","body":"<p>Use either <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#DOWN\">RoundingMode.DOWN</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#FLOOR\">RoundingMode.FLOOR</a>.</p>\n\n<pre><code>BigDecimal newValue = myBigDecimal.setScale(2, RoundingMode.DOWN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1497674,"reputation":1983,"user_id":1403246,"display_name":"maheeka"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632130776,"creation_date":1595566255,"answer_id":63067040,"question_id":24272849,"body_markdown":"I faced an issue truncating when I was using one BigDecimal to set another. The source could have any value with different decimal values. \r\n\r\n    BigDecimal source = BigDecimal.valueOf(11.23); // could 11 11.2 11.234 11.20 etc\r\n\r\nIn order to truncate and scale this correctly for two decimals, I had to use the string value of the source instead of the BigDecimal or double value.\r\n\r\n    new BigDecimal(source.toPlainString()).setScale(2, RoundingMode.FLOOR))\r\n\r\nI used this for currency and this always results in values with 2 decimal places.\r\n\r\n - 11 -&gt; 11.00\r\n - 11.2 -&gt; 11.20\r\n - 11.234 -&gt; 11.23\r\n - 11.238 -&gt; 11.23\r\n - 11.20 -&gt; 11.20","title":"How to truncate a BigDecimal without rounding","body":"<p>I faced an issue truncating when I was using one BigDecimal to set another. The source could have any value with different decimal values.</p>\n<pre><code>BigDecimal source = BigDecimal.valueOf(11.23); // could 11 11.2 11.234 11.20 etc\n</code></pre>\n<p>In order to truncate and scale this correctly for two decimals, I had to use the string value of the source instead of the BigDecimal or double value.</p>\n<pre><code>new BigDecimal(source.toPlainString()).setScale(2, RoundingMode.FLOOR))\n</code></pre>\n<p>I used this for currency and this always results in values with 2 decimal places.</p>\n<ul>\n<li>11 -&gt; 11.00</li>\n<li>11.2 -&gt; 11.20</li>\n<li>11.234 -&gt; 11.23</li>\n<li>11.238 -&gt; 11.23</li>\n<li>11.20 -&gt; 11.20</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10355600,"reputation":11,"user_id":7637695,"display_name":"teja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660159302,"creation_date":1660159302,"answer_id":73311671,"question_id":24272849,"body_markdown":"&gt; BigDecimal.valueOf(7.777)\r\n.setScale(2, RoundingMode.DOWN)\r\n.stripTrailingZeros()\r\n\r\nResult: 7.77\r\n\r\n&gt; BigDecimal.valueOf(7.7)\r\n.setScale(2, RoundingMode.DOWN)\r\n.stripTrailingZeros()\r\n\r\nResult: 7.7\r\n\r\n&gt; BigDecimal.valueOf(77)\r\n.setScale(2, RoundingMode.DOWN)\r\n.stripTrailingZeros()\r\n\r\nResult: 77","title":"How to truncate a BigDecimal without rounding","body":"<blockquote>\n<p>BigDecimal.valueOf(7.777)\n.setScale(2, RoundingMode.DOWN)\n.stripTrailingZeros()</p>\n</blockquote>\n<p>Result: 7.77</p>\n<blockquote>\n<p>BigDecimal.valueOf(7.7)\n.setScale(2, RoundingMode.DOWN)\n.stripTrailingZeros()</p>\n</blockquote>\n<p>Result: 7.7</p>\n<blockquote>\n<p>BigDecimal.valueOf(77)\n.setScale(2, RoundingMode.DOWN)\n.stripTrailingZeros()</p>\n</blockquote>\n<p>Result: 77</p>\n"},{"tags":[],"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670559729,"creation_date":1670558271,"answer_id":74738780,"question_id":24272849,"body_markdown":"As far as I tested rounding functions doesnt do the magic.What is a value comes as following amount.  \r\n\r\n    BigDecimal val2 = new BigDecimal(45.9);\r\n    System.out.println(val2.setScale(2,RoundingMode.DOWN));\r\n\r\nresult;\r\n45.89\r\n\r\nBest thing is to cast from sql side or write a util function to multiply by 100 and pass to an Integer, again divide by hundred and pass to a BigDecimal.\r\n\r\nIn my case I used \r\n\r\n    sql:-  CAST(&lt;VALUE&gt; AS decimal(10,2)). ","title":"How to truncate a BigDecimal without rounding","body":"<p>As far as I tested rounding functions doesnt do the magic.What is a value comes as following amount.</p>\n<pre><code>BigDecimal val2 = new BigDecimal(45.9);\nSystem.out.println(val2.setScale(2,RoundingMode.DOWN));\n</code></pre>\n<p>result;\n45.89</p>\n<p>Best thing is to cast from sql side or write a util function to multiply by 100 and pass to an Integer, again divide by hundred and pass to a BigDecimal.</p>\n<p>In my case I used</p>\n<pre><code>sql:-  CAST(&lt;VALUE&gt; AS decimal(10,2)). \n</code></pre>\n"}],"owner":{"account_id":407683,"reputation":18984,"user_id":777906,"accept_rate":80,"display_name":"DJ180"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77825,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":24272919,"answer_count":5,"score":45,"last_activity_date":1670559729,"creation_date":1403037410,"question_id":24272849,"body_markdown":"After a series of calculations in my code, I have a `BigDecimal` with value `0.01954`\r\n\r\nI then need to multiply this `BigDecimal` by `100` and I wish the calculated value to be `1.95`\r\n\r\nI do not wish to perform any rounding up or down, I just want any values beyond two decimal places to be truncated\r\n\r\nI tried setting scale to 2, but then I got an `ArithmeticException` saying rounding is necessary. How can I set scale without specifying rounding?","title":"How to truncate a BigDecimal without rounding","body":"<p>After a series of calculations in my code, I have a <code>BigDecimal</code> with value <code>0.01954</code></p>\n\n<p>I then need to multiply this <code>BigDecimal</code> by <code>100</code> and I wish the calculated value to be <code>1.95</code></p>\n\n<p>I do not wish to perform any rounding up or down, I just want any values beyond two decimal places to be truncated</p>\n\n<p>I tried setting scale to 2, but then I got an <code>ArithmeticException</code> saying rounding is necessary. How can I set scale without specifying rounding?</p>\n"},{"tags":["java","vector","resize","addition"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670559599,"post_id":74738814,"comment_id":131907368,"body_markdown":"Are you certain that you want `reSize` to return a new `Vector` rather than increasing the size of the current `Vector`? Likewise, what is `add` meant to do: add an element to the `Vector`, or return a new `Vector` which has elements equals to this vector with the new element appended?","body":"Are you certain that you want <code>reSize</code> to return a new <code>Vector</code> rather than increasing the size of the current <code>Vector</code>? Likewise, what is <code>add</code> meant to do: add an element to the <code>Vector</code>, or return a new <code>Vector</code> which has elements equals to this vector with the new element appended?"},{"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"score":0,"creation_date":1670560856,"post_id":74738814,"comment_id":131907536,"body_markdown":"Thanks for your response! I tried without new but that says it requires Vector to be a local variable/parameter. add is adding another vector, _v, to the current vector. It is running a premade test problem so has 4 different Vectors that are used in the test.","body":"Thanks for your response! I tried without new but that says it requires Vector to be a local variable/parameter. add is adding another vector, _v, to the current vector. It is running a premade test problem so has 4 different Vectors that are used in the test."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670561830,"post_id":74738814,"comment_id":131907660,"body_markdown":"What resize should do is to create a new `double[]` of the correct size. It then needs to copy elements from `doubElements` into the new array, and finally assign the new array to `doubElements`. The resize method should have a `void` return type.","body":"What resize should do is to create a new <code>double[]</code> of the correct size. It then needs to copy elements from <code>doubElements</code> into the new array, and finally assign the new array to <code>doubElements</code>. The resize method should have a <code>void</code> return type."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670561900,"post_id":74738814,"comment_id":131907669,"body_markdown":"The `add` method needs to resize the vector to the current size plus the size of the vector being added, and then copy the elements of the vector being added to the appropriate elements of this vector.","body":"The <code>add</code> method needs to resize the vector to the current size plus the size of the vector being added, and then copy the elements of the vector being added to the appropriate elements of this vector."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670561957,"post_id":74738814,"comment_id":131907677,"body_markdown":"Have a look at this array tutorial: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"Have a look at this array tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"score":0,"creation_date":1670564118,"post_id":74738814,"comment_id":131907986,"body_markdown":"Thanks again! Unfortunately, the rules of the problem mean i cannot make the method a void return type. I am still confused on how to assign a value to new elements added to the vector while leaving current ones unchanged in the resize class.","body":"Thanks again! Unfortunately, the rules of the problem mean i cannot make the method a void return type. I am still confused on how to assign a value to new elements added to the vector while leaving current ones unchanged in the resize class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670564852,"post_id":74738814,"comment_id":131908086,"body_markdown":"Can you describe the semantics you want for `resize` (which is a method, not a class by the way) including what effect it should have on the Vector instance and what it&#39;s return value should be?","body":"Can you describe the semantics you want for <code>resize</code> (which is a method, not a class by the way) including what effect it should have on the Vector instance and what it&#39;s return value should be?"},{"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"score":0,"creation_date":1670565311,"post_id":74738814,"comment_id":131908154,"body_markdown":"Here&#39;s the task I&#39;m given:        If _size is smaller than the current length, only keep the first X elements\n(X=_size). For example, resizing [1.0,2.0,3.0,4.0,5.0] to 3 should give you\n[1.0,2.0,3.0].\n Otherwise, assign -1.0 to the new elements added to the vector but existing\nelements remain unchanged. For example, resizing [1.0,2.0,3.0] to 5 should\ngive you [1.0,2.0,3.0,-1.0,-1.0];","body":"Here&#39;s the task I&#39;m given:        If _size is smaller than the current length, only keep the first X elements (X=_size). For example, resizing [1.0,2.0,3.0,4.0,5.0] to 3 should give you [1.0,2.0,3.0].  Otherwise, assign -1.0 to the new elements added to the vector but existing elements remain unchanged. For example, resizing [1.0,2.0,3.0] to 5 should give you [1.0,2.0,3.0,-1.0,-1.0];"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670565437,"post_id":74738814,"comment_id":131908174,"body_markdown":"I think that array tutorial tells you everything you need to know to do that. I still don&#39;t understand what resize should return.","body":"I think that array tutorial tells you everything you need to know to do that. I still don&#39;t understand what resize should return."},{"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"score":0,"creation_date":1670565677,"post_id":74738814,"comment_id":131908203,"body_markdown":"It should return a new vector with the specified size/length. I&#39;m unsure on how to assign -1.0 to the new elements added","body":"It should return a new vector with the specified size/length. I&#39;m unsure on how to assign -1.0 to the new elements added"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670565815,"post_id":74738814,"comment_id":131908229,"body_markdown":"Leaving the existing Vector unchanged? To assign the value -1.0 to an element of an array you use `theArray[index] = -1.0;`","body":"Leaving the existing Vector unchanged? To assign the value -1.0 to an element of an array you use <code>theArray[index] = -1.0;</code>"},{"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"score":0,"creation_date":1670566199,"post_id":74738814,"comment_id":131908300,"body_markdown":"Sorry new in the sense that the vector is modified if _size does not equal the current vector length.  I am unable to write that without error","body":"Sorry new in the sense that the vector is modified if _size does not equal the current vector length.  I am unable to write that without error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670566469,"post_id":74738814,"comment_id":131908339,"body_markdown":"I think that array tutorial, and perhaps a few more basic Java tutorials would be helpful.","body":"I think that array tutorial, and perhaps a few more basic Java tutorials would be helpful."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670593299,"post_id":74738814,"comment_id":131915744,"body_markdown":"Consider returning `this` if you need to return the existing Vector and keeping it exactly as it is.","body":"Consider returning <code>this</code> if you need to return the existing Vector and keeping it exactly as it is."}],"owner":{"account_id":27197093,"reputation":1,"user_id":20729840,"display_name":"Josh"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670558664,"creation_date":1670558664,"question_id":74738814,"body_markdown":"I am struggling with a java problem.\r\n\r\nI am trying to understand how to assign value x to new elements added to a vector where the existing elements would remain unchanged, e.g. if it was resized from 3 to 5 then the 4th and 5th would have value x.\r\n\r\nAdditionally, in the next class I want to add another vector _v to the current vector. If this is bigger than the length of the current vector that reSize(int _size) is called. How do I write this?\r\n\r\n```\r\npublic class Vector {\r\n    private double[] doubElements;\r\n\r\n    public Vector(double[] _elements) {\r\n        this.doubElements = _elements;\r\n\r\n    }\r\n\r\n    public int getVectorSize() {\r\n\r\n        return doubElements.length;\r\n    }\r\n\r\n    public Vector reSize(int _size) {\r\n        if (_size == (doubElements.length - 1) || _size &lt;= 0){\r\n            return null;\r\n        } else if (_size &lt; (doubElements.length - 1)) {\r\n            return new Vector(new double[]{doubElements[_size]});\r\n        } else {\r\n            return new Vector(new double[]{doubElements.add(-1.0)});\r\n        }\r\n\r\n    }\r\n\r\n    public Vector add(Vector _v) {\r\n        Vector.this.add(_v);\r\n        if (getVectorSize(doubElements.length)) {\r\n            reSize()...?\r\n            return null;\r\n        }\r\n    }\r\n```\r\n","title":"Understanding reSize() and add() for Vector classes","body":"<p>I am struggling with a java problem.</p>\n<p>I am trying to understand how to assign value x to new elements added to a vector where the existing elements would remain unchanged, e.g. if it was resized from 3 to 5 then the 4th and 5th would have value x.</p>\n<p>Additionally, in the next class I want to add another vector _v to the current vector. If this is bigger than the length of the current vector that reSize(int _size) is called. How do I write this?</p>\n<pre><code>public class Vector {\n    private double[] doubElements;\n\n    public Vector(double[] _elements) {\n        this.doubElements = _elements;\n\n    }\n\n    public int getVectorSize() {\n\n        return doubElements.length;\n    }\n\n    public Vector reSize(int _size) {\n        if (_size == (doubElements.length - 1) || _size &lt;= 0){\n            return null;\n        } else if (_size &lt; (doubElements.length - 1)) {\n            return new Vector(new double[]{doubElements[_size]});\n        } else {\n            return new Vector(new double[]{doubElements.add(-1.0)});\n        }\n\n    }\n\n    public Vector add(Vector _v) {\n        Vector.this.add(_v);\n        if (getVectorSize(doubElements.length)) {\n            reSize()...?\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","javascript","emacs","intellij-idea"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1388776886,"post_id":20911127,"comment_id":31391750,"body_markdown":"For Java, I usually use [jdee](http://jdee.sourceforge.net/) when I&#39;m in emacs.","body":"For Java, I usually use <a href=\"http://jdee.sourceforge.net/\" rel=\"nofollow noreferrer\">jdee</a> when I&#39;m in emacs."}],"answers":[{"tags":[],"owner":{"account_id":3043878,"reputation":6232,"user_id":2580133,"accept_rate":76,"display_name":"PythonNut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388884827,"creation_date":1388785355,"answer_id":20913196,"question_id":20911127,"body_markdown":"I&#39;m hardly an Emacs veteran, but I do have an emacs obsession.\r\n\r\nFor Java:\r\n\r\n  * semantic-mode doesn&#39;t seem to work in practice, but can theoretically jump-to-definition\r\n  * evil-mode (a bit overkill...) can jump to definitions just fine with evil-goto-definition\r\n    + this works very well, and I&#39;d even suggest porting it to a non-evil environment if possible\r\n  * imenu (this uses a regex engine to find definitions)\r\n    * is already used as a fallback in semantic-ia-fast-jump\r\n    * doesn&#39;t seem to work well on variables\r\n\r\nFor Javascript: Javascript has some very complicated scope styles, and, unfortunately, such styles are commonplace so regex based solutions can and will jump to the wrong definition at times.\r\n\r\n  * semantic-mode doesn&#39;t work at all\r\n  * evil-goto-definition (uses a regex engine) works great as always\r\n  * imenu (uses a regex engine)\r\n    * doesn&#39;t seem to work well on variables\r\n  * [Tern](http://ternjs.net/) is a battery of (alien) semantic analysers which seems to integrate well with Emacs\r\n\r\nIn general, I&#39;d really recommend using evil if you can, it&#39;s superb. If you think of evil as being, well, evil, then:\r\n\r\n  * For variables use semantic-ia for jumps in Java, and tern for jumps in JS\r\n  * For functions use imenu. It works well on both Java and JS.\r\n\r\nAnd finally, here&#39;s some code that I use for almost all of my jumping. It lets you choose any function to jump to and uses imenu, so you can jump to things other than the current symbol-at-point.\r\n    \r\n    (defun ido-goto-symbol (&amp;optional symbol-list)\r\n      &quot;refresh imenu and jump to a place in the buffer using ido.&quot;\r\n      (interactive)\r\n      (unless (featurep &#39;imenu)\r\n        (require &#39;imenu nil t))\r\n      (cond\r\n        ((not symbol-list)\r\n          (let ((ido-mode ido-mode)\r\n                 (ido-enable-flex-matching\r\n                   (if (boundp &#39;ido-enable-flex-matching)\r\n                     ido-enable-flex-matching t))\r\n                 name-and-pos symbol-names position)\r\n            (unless ido-mode\r\n              (ido-mode 1)\r\n              (setq ido-enable-flex-matching t))\r\n            (while (progn\r\n                     (imenu--cleanup)\r\n                     (setq imenu--index-alist nil)\r\n                     (ido-goto-symbol (imenu--make-index-alist))\r\n                     (setq selected-symbol\r\n                       (ido-completing-read &quot;symbol? &quot; symbol-names))\r\n                     (string= (first imenu--rescan-item) selected-symbol)))\r\n            (unless (and (boundp &#39;mark-active) mark-active)\r\n              (push-mark nil t nil))\r\n            (setq position (rest (assoc selected-symbol name-and-pos)))\r\n            (cond\r\n              ((overlayp position)\r\n                (goto-char (overlay-start position)))\r\n              (t\r\n                (goto-char position)))))\r\n        ((listp symbol-list)\r\n          (dolist (symbol symbol-list)\r\n            (let (name position)\r\n              (cond\r\n                ((and (listp symbol) (imenu--subalist-p symbol))\r\n                  (ido-goto-symbol symbol))\r\n                ((listp symbol)\r\n                  (setq name (first symbol))\r\n                  (setq position (rest symbol)))\r\n                ((stringp symbol)\r\n                  (setq name symbol)\r\n                  (setq position\r\n                    (get-text-property 1 &#39;org-imenu-marker symbol))))\r\n              (unless (or (null position) (null name)\r\n                        (string= (first imenu--rescan-item) name))\r\n                (add-to-list &#39;symbol-names name)\r\n                (add-to-list &#39;name-and-pos (cons name position))))))))\r\n\r\n    (global-set-key (kbd &quot;m-=&quot;) &#39;ido-goto-symbol)\r\n","title":"How can one &#39;Go to definition&#39; in Java and JavaScript using Emacs?","body":"<p>I'm hardly an Emacs veteran, but I do have an emacs obsession.</p>\n\n<p>For Java:</p>\n\n<ul>\n<li>semantic-mode doesn't seem to work in practice, but can theoretically jump-to-definition</li>\n<li>evil-mode (a bit overkill...) can jump to definitions just fine with evil-goto-definition\n<ul>\n<li>this works very well, and I'd even suggest porting it to a non-evil environment if possible</li>\n</ul></li>\n<li>imenu (this uses a regex engine to find definitions)\n<ul>\n<li>is already used as a fallback in semantic-ia-fast-jump</li>\n<li>doesn't seem to work well on variables</li>\n</ul></li>\n</ul>\n\n<p>For Javascript: Javascript has some very complicated scope styles, and, unfortunately, such styles are commonplace so regex based solutions can and will jump to the wrong definition at times.</p>\n\n<ul>\n<li>semantic-mode doesn't work at all</li>\n<li>evil-goto-definition (uses a regex engine) works great as always</li>\n<li>imenu (uses a regex engine)\n<ul>\n<li>doesn't seem to work well on variables</li>\n</ul></li>\n<li><a href=\"http://ternjs.net/\" rel=\"nofollow\">Tern</a> is a battery of (alien) semantic analysers which seems to integrate well with Emacs</li>\n</ul>\n\n<p>In general, I'd really recommend using evil if you can, it's superb. If you think of evil as being, well, evil, then:</p>\n\n<ul>\n<li>For variables use semantic-ia for jumps in Java, and tern for jumps in JS</li>\n<li>For functions use imenu. It works well on both Java and JS.</li>\n</ul>\n\n<p>And finally, here's some code that I use for almost all of my jumping. It lets you choose any function to jump to and uses imenu, so you can jump to things other than the current symbol-at-point.</p>\n\n<pre><code>(defun ido-goto-symbol (&amp;optional symbol-list)\n  \"refresh imenu and jump to a place in the buffer using ido.\"\n  (interactive)\n  (unless (featurep 'imenu)\n    (require 'imenu nil t))\n  (cond\n    ((not symbol-list)\n      (let ((ido-mode ido-mode)\n             (ido-enable-flex-matching\n               (if (boundp 'ido-enable-flex-matching)\n                 ido-enable-flex-matching t))\n             name-and-pos symbol-names position)\n        (unless ido-mode\n          (ido-mode 1)\n          (setq ido-enable-flex-matching t))\n        (while (progn\n                 (imenu--cleanup)\n                 (setq imenu--index-alist nil)\n                 (ido-goto-symbol (imenu--make-index-alist))\n                 (setq selected-symbol\n                   (ido-completing-read \"symbol? \" symbol-names))\n                 (string= (first imenu--rescan-item) selected-symbol)))\n        (unless (and (boundp 'mark-active) mark-active)\n          (push-mark nil t nil))\n        (setq position (rest (assoc selected-symbol name-and-pos)))\n        (cond\n          ((overlayp position)\n            (goto-char (overlay-start position)))\n          (t\n            (goto-char position)))))\n    ((listp symbol-list)\n      (dolist (symbol symbol-list)\n        (let (name position)\n          (cond\n            ((and (listp symbol) (imenu--subalist-p symbol))\n              (ido-goto-symbol symbol))\n            ((listp symbol)\n              (setq name (first symbol))\n              (setq position (rest symbol)))\n            ((stringp symbol)\n              (setq name symbol)\n              (setq position\n                (get-text-property 1 'org-imenu-marker symbol))))\n          (unless (or (null position) (null name)\n                    (string= (first imenu--rescan-item) name))\n            (add-to-list 'symbol-names name)\n            (add-to-list 'name-and-pos (cons name position))))))))\n\n(global-set-key (kbd \"m-=\") 'ido-goto-symbol)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282153,"reputation":532,"user_id":578870,"accept_rate":50,"display_name":"nymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388856744,"creation_date":1388856744,"answer_id":20924270,"question_id":20911127,"body_markdown":"I run exuberant ctags on my project folder with the `-e` for [etags](http://www.gnu.org/software/emacs/manual/html_node/emacs/Tags.html#Tags) options.  Once the TAGS file is loaded, you can use `M-.`, `M-,`, and `M-*` to navigate it.  The package [`etags-select`](http://www.emacswiki.org/emacs/EtagsSelect) is very helpful to select amongst multiple methods of the same name.\r\n\r\nOther useful tools to find stuff are `helm`, specifically `helm-for-files` and `helm-find-files` (which can tap into the TAGS file to narrow file and keyword search), and `rgrep`.  I read [`wgrep`](https://github.com/mhayashi1120/Emacs-wgrep) is a good one too for search and replace but i haven&#39;t had a chance to play with it yet.\r\n\r\nIt&#39;s all slightly more manual (of course) than IntelliJ until you get the hang of it.  One thing though about switching, you&#39;ll still need a proper IDE to debug your code as i&#39;ve yet to find a solution in that matter.","title":"How can one &#39;Go to definition&#39; in Java and JavaScript using Emacs?","body":"<p>I run exuberant ctags on my project folder with the <code>-e</code> for <a href=\"http://www.gnu.org/software/emacs/manual/html_node/emacs/Tags.html#Tags\" rel=\"nofollow\">etags</a> options.  Once the TAGS file is loaded, you can use <code>M-.</code>, <code>M-,</code>, and <code>M-*</code> to navigate it.  The package <a href=\"http://www.emacswiki.org/emacs/EtagsSelect\" rel=\"nofollow\"><code>etags-select</code></a> is very helpful to select amongst multiple methods of the same name.</p>\n\n<p>Other useful tools to find stuff are <code>helm</code>, specifically <code>helm-for-files</code> and <code>helm-find-files</code> (which can tap into the TAGS file to narrow file and keyword search), and <code>rgrep</code>.  I read <a href=\"https://github.com/mhayashi1120/Emacs-wgrep\" rel=\"nofollow\"><code>wgrep</code></a> is a good one too for search and replace but i haven't had a chance to play with it yet.</p>\n\n<p>It's all slightly more manual (of course) than IntelliJ until you get the hang of it.  One thing though about switching, you'll still need a proper IDE to debug your code as i've yet to find a solution in that matter.</p>\n"},{"tags":[],"owner":{"account_id":453322,"reputation":1998,"user_id":850252,"accept_rate":86,"display_name":"M Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392040704,"creation_date":1392040704,"answer_id":21679184,"question_id":20911127,"body_markdown":"Using [malabar-mode][1] you can `jump-to-thing-at-point` using `C-c C-v C-y`.  This works for finding variable definitions and also finding the source for a class (as long as the source jar is downloaded).  Of course malabar-mode depends on Maven.  \r\n\r\n\r\n  [1]: https://github.com/m0smith/malabar-mode","title":"How can one &#39;Go to definition&#39; in Java and JavaScript using Emacs?","body":"<p>Using <a href=\"https://github.com/m0smith/malabar-mode\" rel=\"nofollow\">malabar-mode</a> you can <code>jump-to-thing-at-point</code> using <code>C-c C-v C-y</code>.  This works for finding variable definitions and also finding the source for a class (as long as the source jar is downloaded).  Of course malabar-mode depends on Maven.  </p>\n"},{"tags":[],"owner":{"account_id":917232,"reputation":2039,"user_id":949762,"display_name":"bhurlow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670558661,"creation_date":1670558661,"answer_id":74738812,"question_id":20911127,"body_markdown":"Currently the best way to achieve proper jump to definition is to use an LSP plugin, either [lsp-mode][1] or [eglot][2] which should support the standard `M-.` key binding. A given LSP server for the language you&#39;re using supports emacs with static analysis / AST info \r\n\r\n\r\n  [1]: https://emacs-lsp.github.io/lsp-mode/\r\n  [2]: https://github.com/joaotavora/eglot","title":"How can one &#39;Go to definition&#39; in Java and JavaScript using Emacs?","body":"<p>Currently the best way to achieve proper jump to definition is to use an LSP plugin, either <a href=\"https://emacs-lsp.github.io/lsp-mode/\" rel=\"nofollow noreferrer\">lsp-mode</a> or <a href=\"https://github.com/joaotavora/eglot\" rel=\"nofollow noreferrer\">eglot</a> which should support the standard <code>M-.</code> key binding. A given LSP server for the language you're using supports emacs with static analysis / AST info</p>\n"}],"owner":{"account_id":149388,"reputation":6194,"user_id":361836,"accept_rate":47,"display_name":"lucidquiet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1670558661,"creation_date":1388776697,"question_id":20911127,"body_markdown":"I&#39;m looking at jumping back into using Emacs as my primary editor.  The trick here is that I&#39;ve never really done large project work with Emacs.  Up to this point I&#39;ve used Visual Studio, but on my latest project build on Node (transpiling some CoffeeScript -- not something I can change) and Java, I&#39;d like to make the full switch.  I am using IntelliJ/WebStorm at the moment, but if I had some of the features I find in those editors I&#39;d be willing to make the move whole sale.  Surprisingly in WebStorm there is a **Go to Usage** and **Go to Declaration** feature for CoffeeScript (I&#39;d imagine the same for pure JavaScript).\r\n\r\nHow do veterans of Emacs traverse code in a similar fashion, that is how do they normally **Go to Usage** or **Go to Declaration**?  It&#39;s likely different for Java than for JavaScript, but I&#39;d like to know the differences and possible headaches of setting this up with Emacs.\r\n\r\n","title":"How can one &#39;Go to definition&#39; in Java and JavaScript using Emacs?","body":"<p>I'm looking at jumping back into using Emacs as my primary editor.  The trick here is that I've never really done large project work with Emacs.  Up to this point I've used Visual Studio, but on my latest project build on Node (transpiling some CoffeeScript -- not something I can change) and Java, I'd like to make the full switch.  I am using IntelliJ/WebStorm at the moment, but if I had some of the features I find in those editors I'd be willing to make the move whole sale.  Surprisingly in WebStorm there is a <strong>Go to Usage</strong> and <strong>Go to Declaration</strong> feature for CoffeeScript (I'd imagine the same for pure JavaScript).</p>\n\n<p>How do veterans of Emacs traverse code in a similar fashion, that is how do they normally <strong>Go to Usage</strong> or <strong>Go to Declaration</strong>?  It's likely different for Java than for JavaScript, but I'd like to know the differences and possible headaches of setting this up with Emacs.</p>\n"},{"tags":["javascript","java","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670557275,"creation_date":1670501088,"answer_id":74729997,"question_id":74729091,"body_markdown":"Here is a solution that should answer all your questions. There can be improvements, but I leave that as a homework for you.\r\n\r\n\r\n    * def toDate =\r\n    &quot;&quot;&quot;\r\n    function(date) {\r\n      var Formatter = Java.type(&quot;java.time.format.DateTimeFormatter&quot;);\r\n      var LocalDate = Java.type(&quot;java.time.LocalDate&quot;);  \r\n      var dtf = Formatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n      return LocalDate.parse(date, dtf);\r\n    }\r\n    &quot;&quot;&quot;\r\n    \r\n    * def dateMinus =\r\n    &quot;&quot;&quot;\r\n    function(dateString, days) {\r\n        var date = toDate(dateString);\r\n        return date.minusDays(days);\r\n    }\r\n    &quot;&quot;&quot;\r\n    \r\n    * def formatDate =\r\n    &quot;&quot;&quot;\r\n    function(date) {\r\n      var Formatter = Java.type(&quot;java.time.format.DateTimeFormatter&quot;);\r\n      var LocalDate = Java.type(&quot;java.time.LocalDate&quot;);  \r\n      var dtf = Formatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n      return dtf.format(date);\r\n    }\r\n    &quot;&quot;&quot;\r\n    \r\n    * def beforeDate = &#39;2022-12-08&#39;\r\n    * def afterDate = dateMinus(beforeDate, 5)\r\n    * def afterDateString = formatDate(afterDate)\r\n    * match afterDateString == &#39;2022-12-03&#39;\r\n\r\nIf you have more questions please refer to the Java [`LocalDate`](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) API.","title":"Karate | How to subtract two dates in karate","body":"<p>Here is a solution that should answer all your questions. There can be improvements, but I leave that as a homework for you.</p>\n<pre><code>* def toDate =\n&quot;&quot;&quot;\nfunction(date) {\n  var Formatter = Java.type(&quot;java.time.format.DateTimeFormatter&quot;);\n  var LocalDate = Java.type(&quot;java.time.LocalDate&quot;);  \n  var dtf = Formatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n  return LocalDate.parse(date, dtf);\n}\n&quot;&quot;&quot;\n\n* def dateMinus =\n&quot;&quot;&quot;\nfunction(dateString, days) {\n    var date = toDate(dateString);\n    return date.minusDays(days);\n}\n&quot;&quot;&quot;\n\n* def formatDate =\n&quot;&quot;&quot;\nfunction(date) {\n  var Formatter = Java.type(&quot;java.time.format.DateTimeFormatter&quot;);\n  var LocalDate = Java.type(&quot;java.time.LocalDate&quot;);  \n  var dtf = Formatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n  return dtf.format(date);\n}\n&quot;&quot;&quot;\n\n* def beforeDate = '2022-12-08'\n* def afterDate = dateMinus(beforeDate, 5)\n* def afterDateString = formatDate(afterDate)\n* match afterDateString == '2022-12-03'\n</code></pre>\n<p>If you have more questions please refer to the Java <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> API.</p>\n"}],"owner":{"account_id":24049108,"reputation":33,"user_id":18027802,"display_name":"Vivek Arora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74729997,"answer_count":1,"score":1,"last_activity_date":1670557275,"creation_date":1670496562,"question_id":74729091,"body_markdown":"```\r\nScenario: Testing date\r\n      Given url \r\n      When method get\r\n      Then status 200\r\n      And def releaseDate = response.meta.event.releaseDate\r\n      And print &quot;Release Data is: &quot;, releaseDate\r\n      * def today =\r\n        &quot;&quot;&quot;\r\n        function() {\r\n          var SimpleDateFormat = Java.type(&#39;java.text.SimpleDateFormat&#39;);\r\n          var sdf = new SimpleDateFormat(&#39;MMM dd, yyyy&#39;);\r\n          return sdf.format(new java.util.Date());\r\n        }\r\n        &quot;&quot;&quot;\r\n      * print today()\r\n      * def today = today()\r\n      * eval diff = today- releaseDate\r\n      And print &quot;Difference is: &quot;, diff\r\n      And assert diff &gt;= 14\r\n```\r\n\r\n\r\n```\r\n* def datediff =\r\n        &quot;&quot;&quot;\r\n        function(first, second) {\r\n        return Math.round((second - first) / (1000 * 60 * 60 * 24));\r\n        }\r\n        &quot;&quot;&quot;\r\n      * eval diff = datediff(today, releaseDate)\r\n```\r\nGetting the following\r\n\r\n16:16:02.894 [main] INFO  com.intuit.karate - [print] Release Data is:  Aug 15, 2002\r\n16:16:02.965 [main] INFO  com.intuit.karate - [print] Dec 08, 2022\r\n16:16:02.974 [main] INFO  com.intuit.karate - [print] Today&#39;s date is:  Dec 08, 2022\r\n16:16:03.044 [main] INFO  com.intuit.karate - [print] Difference is:  NaN","title":"Karate | How to subtract two dates in karate","body":"<pre><code>Scenario: Testing date\n      Given url \n      When method get\n      Then status 200\n      And def releaseDate = response.meta.event.releaseDate\n      And print &quot;Release Data is: &quot;, releaseDate\n      * def today =\n        &quot;&quot;&quot;\n        function() {\n          var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n          var sdf = new SimpleDateFormat('MMM dd, yyyy');\n          return sdf.format(new java.util.Date());\n        }\n        &quot;&quot;&quot;\n      * print today()\n      * def today = today()\n      * eval diff = today- releaseDate\n      And print &quot;Difference is: &quot;, diff\n      And assert diff &gt;= 14\n</code></pre>\n<pre><code>* def datediff =\n        &quot;&quot;&quot;\n        function(first, second) {\n        return Math.round((second - first) / (1000 * 60 * 60 * 24));\n        }\n        &quot;&quot;&quot;\n      * eval diff = datediff(today, releaseDate)\n</code></pre>\n<p>Getting the following</p>\n<p>16:16:02.894 [main] INFO  com.intuit.karate - [print] Release Data is:  Aug 15, 2002\n16:16:02.965 [main] INFO  com.intuit.karate - [print] Dec 08, 2022\n16:16:02.974 [main] INFO  com.intuit.karate - [print] Today's date is:  Dec 08, 2022\n16:16:03.044 [main] INFO  com.intuit.karate - [print] Difference is:  NaN</p>\n"},{"tags":["java","android","button","android-viewpager","android-viewpager2"],"comments":[{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":1,"creation_date":1670521119,"post_id":74733522,"comment_id":131899381,"body_markdown":"you mean position of item  in viewpager??Also Please Elaborate your question properly!!","body":"you mean position of item  in viewpager??Also Please Elaborate your question properly!!"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1670569624,"post_id":74733522,"comment_id":131908901,"body_markdown":"Please follow [ask]","body":"Please follow <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":22151291,"reputation":1,"user_id":16399795,"display_name":"Anshuman M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670556981,"creation_date":1670556981,"answer_id":74738675,"question_id":74733522,"body_markdown":"If you need to change the active tab of ViewPager2 programmatically then use : \r\n\r\n    viewPager2.setCurrentItem(1 /* your tab index */)","title":"How can i change viewpager2 default page through button click?","body":"<p>If you need to change the active tab of ViewPager2 programmatically then use :</p>\n<pre><code>viewPager2.setCurrentItem(1 /* your tab index */)\n</code></pre>\n"}],"owner":{"account_id":26107177,"reputation":1,"user_id":19801709,"display_name":"Rumen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670556981,"creation_date":1670517478,"question_id":74733522,"body_markdown":"I Create a viewpager2. There has 5 page and fast page has default. I create a button in another activity and i want when i click the button then it go to viewpage2 and show as default second page. How can i do it?\r\n\r\n","title":"How can i change viewpager2 default page through button click?","body":"<p>I Create a viewpager2. There has 5 page and fast page has default. I create a button in another activity and i want when i click the button then it go to viewpage2 and show as default second page. How can i do it?</p>\n"},{"tags":["java","vue.js"],"owner":{"account_id":27196780,"reputation":1,"user_id":20729564,"display_name":"Tokiame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670556775,"creation_date":1670556388,"question_id":74738626,"body_markdown":"An error occurred when uploading a file exceeding 2G using the Java interface,even after modifying many tomcat parameters\r\n\r\nBelow is the error log\r\n```\r\nERROR 19593 --- [io-18073-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException] with root cause\r\n\r\njava.io.EOFException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1294) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1206) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.access$400(Http11InputBuffer.java:42) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1172) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:101) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:249) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.Request.doRead(Request.java:640) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:317) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:600) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:340) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:132) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:975) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:879) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat java.io.InputStream.read(InputStream.java:101) ~[na:1.8.0_181]\r\n\tat org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:97) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:288) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.Request.parseParts(Request.java:2921) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.Request.getParts(Request.java:2823) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:122) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1205) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.3.jar!/:1.2.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.54.jar!/:na]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\r\n```\r\n\r\nThe following is the parameter information\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class EmbeddedTomcatConfig implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n\r\n\r\n    @Override\r\n    public void customize(ConfigurableServletWebServerFactory factory) {\r\n        log.info(&quot;Init EmbeddedTomcatConfig...&quot;);\r\n        ((TomcatServletWebServerFactory)factory).addConnectorCustomizers(new TomcatConnectorCustomizer() {\r\n            @Override\r\n            public void customize(Connector connector) {\r\n                Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n                protocol.setMaxConnections(3000);\r\n                protocol.setMaxThreads(800);\r\n                protocol.setAcceptCount(200);\r\n                protocol.setSelectorTimeout(30000);\r\n                protocol.setSessionTimeout(60000 * 2);\r\n                protocol.setConnectionTimeout(60000 * 5);\r\n                protocol.setDisableUploadTimeout(false);\r\n                protocol.setConnectionUploadTimeout(60000 * 10);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nspring.servlet.multipart.max-request-size=-1\r\nspring.servlet.multipart.max-file-size=-1\r\nserver.tomcat.max-swallow-size=-1\r\nserver.tomcat.max-http-form-post-size=-1\r\n\r\n```\r\n\r\ncontrol layer\r\n\r\n```\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/FilesUpload&quot;,method = RequestMethod.POST)\r\n    public BaseResponse uploadFiles(\r\n            @RequestParam(required = true) MultipartFile files,\r\n            HttpServletRequest request,\r\n            HttpServletResponse response\r\n    ) {\r\n        try {\r\n            return BaseResponse.initSuccessBaseResponse(fileExecuteService.uploadFiles(files,request), &quot;SUCCESS!&quot;);\r\n        } catch (Exception e) {\r\n            response.setStatus(HttpServletResponse.SC_EXPECTATION_FAILED);\r\n            return BaseResponse.initErrorBaseResponse(e.getMessage());\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nI have adjusted almost all relevant parameters, but files over 2G still cannot be uploaded through the service interface","title":"EOFException: null occurs when uploading a large file","body":"<p>An error occurred when uploading a file exceeding 2G using the Java interface,even after modifying many tomcat parameters</p>\n<p>Below is the error log</p>\n<pre><code>ERROR 19593 --- [io-18073-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException] with root cause\n\njava.io.EOFException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1294) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1206) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.Http11InputBuffer.access$400(Http11InputBuffer.java:42) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1172) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:101) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:249) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.Request.doRead(Request.java:640) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:317) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:600) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:340) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:132) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:975) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:879) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at java.io.InputStream.read(InputStream.java:101) ~[na:1.8.0_181]\n    at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:97) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:288) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2921) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2823) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:122) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1205) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar!/:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124) ~[druid-1.2.3.jar!/:1.2.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar!/:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.54.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.54.jar!/:na]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\n</code></pre>\n<p>The following is the parameter information</p>\n<pre><code>@Configuration\n@Slf4j\npublic class EmbeddedTomcatConfig implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n\n\n    @Override\n    public void customize(ConfigurableServletWebServerFactory factory) {\n        log.info(&quot;Init EmbeddedTomcatConfig...&quot;);\n        ((TomcatServletWebServerFactory)factory).addConnectorCustomizers(new TomcatConnectorCustomizer() {\n            @Override\n            public void customize(Connector connector) {\n                Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n                protocol.setMaxConnections(3000);\n                protocol.setMaxThreads(800);\n                protocol.setAcceptCount(200);\n                protocol.setSelectorTimeout(30000);\n                protocol.setSessionTimeout(60000 * 2);\n                protocol.setConnectionTimeout(60000 * 5);\n                protocol.setDisableUploadTimeout(false);\n                protocol.setConnectionUploadTimeout(60000 * 10);\n            }\n        });\n    }\n}\n\n</code></pre>\n<pre><code>spring.servlet.multipart.max-request-size=-1\nspring.servlet.multipart.max-file-size=-1\nserver.tomcat.max-swallow-size=-1\nserver.tomcat.max-http-form-post-size=-1\n\n</code></pre>\n<p>control layer</p>\n<pre><code>    @ResponseBody\n    @RequestMapping(value = &quot;/FilesUpload&quot;,method = RequestMethod.POST)\n    public BaseResponse uploadFiles(\n            @RequestParam(required = true) MultipartFile files,\n            HttpServletRequest request,\n            HttpServletResponse response\n    ) {\n        try {\n            return BaseResponse.initSuccessBaseResponse(fileExecuteService.uploadFiles(files,request), &quot;SUCCESS!&quot;);\n        } catch (Exception e) {\n            response.setStatus(HttpServletResponse.SC_EXPECTATION_FAILED);\n            return BaseResponse.initErrorBaseResponse(e.getMessage());\n        }\n    }\n\n</code></pre>\n<p>I have adjusted almost all relevant parameters, but files over 2G still cannot be uploaded through the service interface</p>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":5855287,"reputation":723,"user_id":4612755,"accept_rate":75,"display_name":"Ezequiel Adrian"},"score":0,"creation_date":1521845020,"post_id":49459052,"comment_id":85921321,"body_markdown":"I guess your original data is serialized as Int bytes (0 -&gt; 255) but when receiving, data is serialized as Float bytes (-1 -&gt; 1)","body":"I guess your original data is serialized as Int bytes (0 -&gt; 255) but when receiving, data is serialized as Float bytes (-1 -&gt; 1)"},{"owner":{"account_id":12922760,"reputation":119,"user_id":9344566,"accept_rate":71,"display_name":"OmegaKi113r"},"score":0,"creation_date":1521845766,"post_id":49459052,"comment_id":85921557,"body_markdown":"I&#39;m kind of new to programming. Can you explain.? How to fix this?","body":"I&#39;m kind of new to programming. Can you explain.? How to fix this?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1521889059,"post_id":49459052,"comment_id":85930542,"body_markdown":"A byte array contains bytes. And bytes are not signed or unsigned. They have just 8 bits. I think you receive the bytes and bits as they are sent. Just display the values in hex notation and you wil see.","body":"A byte array contains bytes. And bytes are not signed or unsigned. They have just 8 bits. I think you receive the bytes and bits as they are sent. Just display the values in hex notation and you wil see."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1521889143,"post_id":49459052,"comment_id":85930561,"body_markdown":"Further you are not showing us how you send and receive the bytes. So what do you expect us to say? What you want seems doable.","body":"Further you are not showing us how you send and receive the bytes. So what do you expect us to say? What you want seems doable."}],"answers":[{"tags":[],"owner":{"account_id":10683925,"reputation":71,"user_id":7865029,"display_name":"Morris Bahrami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670555797,"creation_date":1670555797,"answer_id":74738582,"question_id":49459052,"body_markdown":"You can do use the following function:\r\n\r\n    std::vector&lt;uchar&gt; serializeImage(Mat img)\r\n    {\t\r\n        std::vector&lt;uchar&gt; img_vector;\r\n\t\r\n        for (int i = 0; i &lt; img1.rows; ++i) {\r\n\t\t    img_vector.insert(img_vector.end(), img.ptr&lt;uchar&gt;(i), img.ptr&lt;uchar&gt;(i) + img.cols);\r\n        }\r\n\r\n\t    return img_vector;\r\n    }","title":"Sending images through socket OpenCV","body":"<p>You can do use the following function:</p>\n<pre><code>std::vector&lt;uchar&gt; serializeImage(Mat img)\n{   \n    std::vector&lt;uchar&gt; img_vector;\n\n    for (int i = 0; i &lt; img1.rows; ++i) {\n        img_vector.insert(img_vector.end(), img.ptr&lt;uchar&gt;(i), img.ptr&lt;uchar&gt;(i) + img.cols);\n    }\n\n    return img_vector;\n}\n</code></pre>\n"}],"owner":{"account_id":12922760,"reputation":119,"user_id":9344566,"accept_rate":71,"display_name":"OmegaKi113r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670555797,"creation_date":1521843797,"question_id":49459052,"body_markdown":"I&#39;m trying to send Images from one android device to another. Images were taken using OpenCV. I used TCP server to send Mat to other device using ObjectOutputStream. But It always gives an Exception. Is Mat class Serializable? \r\n\r\nSo i tried to send the image by converting it to a byte array using `Mat.get(0,0,byteArray);` and in the receiving side `Mat.put(0,0,byteArray);`\r\nBut when i checked the values being sent and received i noticed that the range of the values are not in 0 to 255 but in the range of -128 to 127.\r\n\r\nSo reconstructing the image is not happening. I mean when i tried to update a JavaCameraView using the Mat received it just shows a black screen. No pictures coming. I think it&#39;s because of the value shifting due to byte array transformation.\r\n\r\nIs there anyway that i can send image from one android device to another using sockets and reconstruct the image in the other device?","title":"Sending images through socket OpenCV","body":"<p>I'm trying to send Images from one android device to another. Images were taken using OpenCV. I used TCP server to send Mat to other device using ObjectOutputStream. But It always gives an Exception. Is Mat class Serializable? </p>\n\n<p>So i tried to send the image by converting it to a byte array using <code>Mat.get(0,0,byteArray);</code> and in the receiving side <code>Mat.put(0,0,byteArray);</code>\nBut when i checked the values being sent and received i noticed that the range of the values are not in 0 to 255 but in the range of -128 to 127.</p>\n\n<p>So reconstructing the image is not happening. I mean when i tried to update a JavaCameraView using the Mat received it just shows a black screen. No pictures coming. I think it's because of the value shifting due to byte array transformation.</p>\n\n<p>Is there anyway that i can send image from one android device to another using sockets and reconstruct the image in the other device?</p>\n"},{"tags":["java","android","socket.io","android-edittext","android-view"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670554538,"creation_date":1670554538,"answer_id":74738472,"question_id":74738406,"body_markdown":"The problem isn&#39;t here.  Emit causes it to send a message.  That message is emitted on a thread chosen by your socket library.  So you&#39;re calling MainActivity.onRecieveMessage on the socket&#39;s thread.  You need the runOnUiThread in onRecieveMessage, not here.  It&#39;s perfectly fine to emit from any thread.","title":"Android $CalledFromWrongThreadException error when trying to get string to send to socket.io","body":"<p>The problem isn't here.  Emit causes it to send a message.  That message is emitted on a thread chosen by your socket library.  So you're calling MainActivity.onRecieveMessage on the socket's thread.  You need the runOnUiThread in onRecieveMessage, not here.  It's perfectly fine to emit from any thread.</p>\n"}],"owner":{"account_id":25613921,"reputation":3,"user_id":19386849,"display_name":"atomtables"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74738472,"answer_count":1,"score":0,"last_activity_date":1670554538,"creation_date":1670553727,"question_id":74738406,"body_markdown":"I am trying to get a String from an EditText and emit it using socket.io, however, I keep getting the error android.view.ViewRootImpl$CalledFromWrongThreadException whenever this runs.\r\n\r\nWhat I tried:\r\n\r\n```\r\nSystem.out.println(&quot;current status : &quot; + socket.connected());\r\nEditText send_message = findViewById(R.id.send_message);\r\nString message = send_message.getText().toString();\r\nMainActivity.this.runOnUiThread(() -&gt; socket.emit(&quot;send_message&quot;, send_message.getText().toString()));\r\n```\r\n\r\nWhat happened:\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: EventThread\r\n    Process: dev.atomtables.atomchat, PID: 3719\r\n    android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n        at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6357)\r\n        at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:874)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.widget.ScrollView.requestLayout(ScrollView.java:1483)\r\n        at android.view.View.requestLayout(View.java:17476)\r\n        at android.view.ViewGroup.addView(ViewGroup.java:3784)\r\n        at android.view.ViewGroup.addView(ViewGroup.java:3727)\r\n        at android.view.ViewGroup.addView(ViewGroup.java:3700)\r\n        at dev.atomtables.atomchat.MainActivity.onReceiveMessage(MainActivity.java:279)\r\n        at dev.atomtables.atomchat.MainActivity.lambda$onCreate$4$dev-atomtables-atomchat-MainActivity(MainActivity.java:98)\r\n        at dev.atomtables.atomchat.MainActivity$$ExternalSyntheticLambda5.call(D8$$SyntheticClass)\r\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n        at io.socket.client.Socket.onevent(Socket.java:363)\r\n        at io.socket.client.Socket.onpacket(Socket.java:307)\r\n        at io.socket.client.Socket.access$100(Socket.java:19)\r\n        at io.socket.client.Socket$2$2.call(Socket.java:92)\r\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n        at io.socket.client.Manager.ondecoded(Manager.java:361)\r\n        at io.socket.client.Manager.access$1200(Manager.java:22)\r\n        at io.socket.client.Manager$5.call(Manager.java:355)\r\n        at io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\r\n        at io.socket.client.Manager$2.call(Manager.java:331)\r\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n        at io.socket.engineio.client.Socket.onPacket(Socket.java:556)\r\n        at io.socket.engineio.client.Socket.access$1000(Socket.java:29)\r\n        at io.socket.engineio.client.Socket$5.call(Socket.java:335)\r\n\r\n```\r\n\r\n\r\n","title":"Android $CalledFromWrongThreadException error when trying to get string to send to socket.io","body":"<p>I am trying to get a String from an EditText and emit it using socket.io, however, I keep getting the error android.view.ViewRootImpl$CalledFromWrongThreadException whenever this runs.</p>\n<p>What I tried:</p>\n<pre><code>System.out.println(&quot;current status : &quot; + socket.connected());\nEditText send_message = findViewById(R.id.send_message);\nString message = send_message.getText().toString();\nMainActivity.this.runOnUiThread(() -&gt; socket.emit(&quot;send_message&quot;, send_message.getText().toString()));\n</code></pre>\n<p>What happened:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: EventThread\n    Process: dev.atomtables.atomchat, PID: 3719\n    android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n        at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6357)\n        at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:874)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.widget.ScrollView.requestLayout(ScrollView.java:1483)\n        at android.view.View.requestLayout(View.java:17476)\n        at android.view.ViewGroup.addView(ViewGroup.java:3784)\n        at android.view.ViewGroup.addView(ViewGroup.java:3727)\n        at android.view.ViewGroup.addView(ViewGroup.java:3700)\n        at dev.atomtables.atomchat.MainActivity.onReceiveMessage(MainActivity.java:279)\n        at dev.atomtables.atomchat.MainActivity.lambda$onCreate$4$dev-atomtables-atomchat-MainActivity(MainActivity.java:98)\n        at dev.atomtables.atomchat.MainActivity$$ExternalSyntheticLambda5.call(D8$$SyntheticClass)\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\n        at io.socket.client.Socket.onevent(Socket.java:363)\n        at io.socket.client.Socket.onpacket(Socket.java:307)\n        at io.socket.client.Socket.access$100(Socket.java:19)\n        at io.socket.client.Socket$2$2.call(Socket.java:92)\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\n        at io.socket.client.Manager.ondecoded(Manager.java:361)\n        at io.socket.client.Manager.access$1200(Manager.java:22)\n        at io.socket.client.Manager$5.call(Manager.java:355)\n        at io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\n        at io.socket.client.Manager$2.call(Manager.java:331)\n        at io.socket.emitter.Emitter.emit(Emitter.java:117)\n        at io.socket.engineio.client.Socket.onPacket(Socket.java:556)\n        at io.socket.engineio.client.Socket.access$1000(Socket.java:29)\n        at io.socket.engineio.client.Socket$5.call(Socket.java:335)\n\n</code></pre>\n"},{"tags":["javascript","java","adobe","livecycle"],"owner":{"account_id":27105589,"reputation":1,"user_id":20651469,"display_name":"Just asking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670553925,"creation_date":1670553925,"question_id":74738421,"body_markdown":"[Sample Image](https://i.stack.imgur.com/8W5qT.png)\r\n\r\ni cant get the proper data for the &quot;Others&quot; row as you can see in the second table \r\n\r\n\r\n\r\nhow can i get the proper data for each rows match in same description.\r\n\r\nhere my current script for that data.\r\n\r\n\r\n```\r\nvar others = FormInvoiceRequest.Subform1.Table1.Row14.Cell3.rawValue;\r\nvar rows = xfa.resolveNodes(&quot; FormInvoiceRequest.Subform1.Table2.Row1[*]&quot;);\r\n//this.rawValue = rows.length;\r\n\r\nfor (var i = 0; i &lt;= rows.length; i++) {\r\n\t\r\n\tvar row = rows.item(i);\r\n\tvar rowQty = row.Cell5.rawValue;\r\n\tvar rowOthers = row.Cell3.rawValue;\r\n\t\r\nif (rowOthers = others) {\r\n\r\n\tthis.rawValue = rowQty;\r\n\t}\r\n\r\n```\r\n","title":"Get data from table to another table adobe livecycle","body":"<p><a href=\"https://i.stack.imgur.com/8W5qT.png\" rel=\"nofollow noreferrer\">Sample Image</a></p>\n<p>i cant get the proper data for the &quot;Others&quot; row as you can see in the second table</p>\n<p>how can i get the proper data for each rows match in same description.</p>\n<p>here my current script for that data.</p>\n<pre><code>var others = FormInvoiceRequest.Subform1.Table1.Row14.Cell3.rawValue;\nvar rows = xfa.resolveNodes(&quot; FormInvoiceRequest.Subform1.Table2.Row1[*]&quot;);\n//this.rawValue = rows.length;\n\nfor (var i = 0; i &lt;= rows.length; i++) {\n    \n    var row = rows.item(i);\n    var rowQty = row.Cell5.rawValue;\n    var rowOthers = row.Cell3.rawValue;\n    \nif (rowOthers = others) {\n\n    this.rawValue = rowQty;\n    }\n\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":1751693,"reputation":484,"user_id":1600632,"accept_rate":50,"display_name":"Harihar Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513739254,"creation_date":1513739254,"answer_id":47898228,"question_id":47897929,"body_markdown":"**On unix/linux:**\r\n\r\nOn a command prompt type\r\n        \r\n    ps -ef | grep jar-file-name\r\nThis will list the process details of your running jar. The second column of the result is the process id.\r\nFor example the process id of the following line is 2571\r\n\r\n    501  2571  1   0 11Dec17 ??  0:00.81 /usr/local/opt/postgresql/bin/postgres -D /usr/local/var/postgres\r\n\r\nYou can then kill the process with the following command\r\n       \r\n    kill -9 2571","title":"Stopping Java Quartz Scheduler","body":"<p><strong>On unix/linux:</strong></p>\n\n<p>On a command prompt type</p>\n\n<pre><code>ps -ef | grep jar-file-name\n</code></pre>\n\n<p>This will list the process details of your running jar. The second column of the result is the process id.\nFor example the process id of the following line is 2571</p>\n\n<pre><code>501  2571  1   0 11Dec17 ??  0:00.81 /usr/local/opt/postgresql/bin/postgres -D /usr/local/var/postgres\n</code></pre>\n\n<p>You can then kill the process with the following command</p>\n\n<pre><code>kill -9 2571\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513739373,"creation_date":1513739373,"answer_id":47898237,"question_id":47897929,"body_markdown":"Firstly, use below command to grep your project jar file\r\n\r\n    user@user:~$ ps aux | grep YourProject.jar\r\n\r\nThen you will see something like this\r\n\r\n    user@user:~$ ps aux | grep xxx.jar\r\n    user      7438 40.1  3.3 4493040 271968 pts/7  Tl   11:06   0:10 java -jar xxx.jar\r\n\r\nuse command `kill -9` to kill the process\r\n\r\n    user@user:~$ kill -9 7438\r\n\r\n\r\n","title":"Stopping Java Quartz Scheduler","body":"<p>Firstly, use below command to grep your project jar file</p>\n\n<pre><code>user@user:~$ ps aux | grep YourProject.jar\n</code></pre>\n\n<p>Then you will see something like this</p>\n\n<pre><code>user@user:~$ ps aux | grep xxx.jar\nuser      7438 40.1  3.3 4493040 271968 pts/7  Tl   11:06   0:10 java -jar xxx.jar\n</code></pre>\n\n<p>use command <code>kill -9</code> to kill the process</p>\n\n<pre><code>user@user:~$ kill -9 7438\n</code></pre>\n"}],"owner":{"account_id":11218353,"reputation":65,"user_id":8230205,"accept_rate":33,"display_name":"phenomenal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47898237,"answer_count":2,"score":0,"last_activity_date":1670553218,"creation_date":1513736721,"question_id":47897929,"body_markdown":"I built a cron scheduler to run every 5 seconds just to test if it works.\r\n\r\nIt is working perfectly but how can I stop it? It is running even if I stop the server.\r\n\r\n    Trigger t1 = TriggerBuilder.newTrigger()\r\n\t\t\t\t    .withIdentity(&quot;ReminderSchedulerTrigger&quot;, &quot;group1&quot;)\r\n\t\t\t\t    .withSchedule(\r\n\t\t\t\t    \t\tCronScheduleBuilder.cronSchedule(&quot;0/5 * * * * ?&quot;)\r\n\t\t\t\t    \t\t.inTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;))\r\n\t\t\t\t    )\r\n\t\t\t\t    .build();\r\n\r\n\t\tScheduler sc = StdSchedulerFactory.getDefaultScheduler();\r\n\t\tsc.start();\r\n\t\tsc.scheduleJob(job, t1);\r\n\r\n\r\nI am using Ubuntu.","title":"Stopping Java Quartz Scheduler","body":"<p>I built a cron scheduler to run every 5 seconds just to test if it works.</p>\n<p>It is working perfectly but how can I stop it? It is running even if I stop the server.</p>\n<pre><code>Trigger t1 = TriggerBuilder.newTrigger()\n                .withIdentity(&quot;ReminderSchedulerTrigger&quot;, &quot;group1&quot;)\n                .withSchedule(\n                        CronScheduleBuilder.cronSchedule(&quot;0/5 * * * * ?&quot;)\n                        .inTimeZone(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;))\n                )\n                .build();\n\n    Scheduler sc = StdSchedulerFactory.getDefaultScheduler();\n    sc.start();\n    sc.scheduleJob(job, t1);\n</code></pre>\n<p>I am using Ubuntu.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670552144,"creation_date":1670552144,"answer_id":74738278,"question_id":74737348,"body_markdown":"the index not be created,try update this config.\r\n```\r\nspring.data.mongodb.auto-index-creation=true\r\n```","title":"Spring Data Mongo DB applying @Indexed(unique = true) on nested object","body":"<p>the index not be created,try update this config.</p>\n<pre><code>spring.data.mongodb.auto-index-creation=true\n</code></pre>\n"}],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670552144,"creation_date":1670541304,"question_id":74737348,"body_markdown":"I want to insert an object (of ```PayLoad```)for each unique `timeStamp` value in ```Log``` . Annotated `timeStamp` with `@Indexed(unique = true, sparse = true)` and `log` with  `@Valid`. \r\n\r\nHowever , I see duplicates getting inserted. The MongoDB collection used is `PayLoad`.Here&#39;s the code snippet.  How do I enforce this unique constrain  ?\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Jacksonized\r\n    @Builder\r\n    @Document(collection = &quot;PayLoad&quot;)\r\n    public class  PayLoad implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -1238163054776439285L;\r\n        @Id\r\n        private String payLoadId;\r\n        private String sid;\r\n    \r\n        @JsonAlias({&quot;results_link&quot;})\r\n        private String resultsLink;\r\n        private  Result result;\r\n    }\r\n\r\n    import org.springframework.data.annotation.Id;\r\n    import javax.validation.Valid;\r\n    \r\n    @Jacksonized\r\n    @Builder\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class SplunkResult implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -1698863054778439285L;\r\n        @Id\r\n        String resultId;\r\n    \r\n        @JsonAlias({&quot;DC&quot;})\r\n        private String dc;\r\n        @JsonAlias({&quot;URL&quot;})\r\n        private String url;\r\n        private String raw;\r\n        private String _raw;\r\n        @Valid\r\n        private List&lt;Log&gt; log;\r\n    }\r\n\r\n    import org.springframework.data.mongodb.core.index.Indexed;\r\n    \r\n    @Value\r\n    @Builder(toBuilder = true)\r\n    @Jacksonized\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Log implements Serializable {\r\n        private static final long serialVersionUID = -5238163054776439285L;\r\n    \r\n        @Id\r\n        String logId;\r\n        \r\n        @Indexed(unique = true, sparse = true)\r\n        String timeStamp;\r\n    \r\n        String dc;\r\n        CallStack stk;\r\n    }\r\n\r\nAlso tried using `CompoundIndexes` like so , but still it does not work. \r\n\r\n    @CompoundIndexes({\r\n            @CompoundIndex(name = &quot;payload_ts_idx&quot;, def = &quot;{&#39;result.perfLog.timeStamp&#39; : 1} &quot;,\r\n                    unique = true, background = true)})\r\n    public class PayLoad implements Serializable {\r\n\r\n","title":"Spring Data Mongo DB applying @Indexed(unique = true) on nested object","body":"<p>I want to insert an object (of <code>PayLoad</code>)for each unique <code>timeStamp</code> value in <code>Log</code> . Annotated <code>timeStamp</code> with <code>@Indexed(unique = true, sparse = true)</code> and <code>log</code> with  <code>@Valid</code>.</p>\n<p>However , I see duplicates getting inserted. The MongoDB collection used is <code>PayLoad</code>.Here's the code snippet.  How do I enforce this unique constrain  ?</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Jacksonized\n@Builder\n@Document(collection = &quot;PayLoad&quot;)\npublic class  PayLoad implements Serializable {\n\n    private static final long serialVersionUID = -1238163054776439285L;\n    @Id\n    private String payLoadId;\n    private String sid;\n\n    @JsonAlias({&quot;results_link&quot;})\n    private String resultsLink;\n    private  Result result;\n}\n\nimport org.springframework.data.annotation.Id;\nimport javax.validation.Valid;\n\n@Jacksonized\n@Builder\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class SplunkResult implements Serializable {\n\n    private static final long serialVersionUID = -1698863054778439285L;\n    @Id\n    String resultId;\n\n    @JsonAlias({&quot;DC&quot;})\n    private String dc;\n    @JsonAlias({&quot;URL&quot;})\n    private String url;\n    private String raw;\n    private String _raw;\n    @Valid\n    private List&lt;Log&gt; log;\n}\n\nimport org.springframework.data.mongodb.core.index.Indexed;\n\n@Value\n@Builder(toBuilder = true)\n@Jacksonized\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Log implements Serializable {\n    private static final long serialVersionUID = -5238163054776439285L;\n\n    @Id\n    String logId;\n    \n    @Indexed(unique = true, sparse = true)\n    String timeStamp;\n\n    String dc;\n    CallStack stk;\n}\n</code></pre>\n<p>Also tried using <code>CompoundIndexes</code> like so , but still it does not work.</p>\n<pre><code>@CompoundIndexes({\n        @CompoundIndex(name = &quot;payload_ts_idx&quot;, def = &quot;{'result.perfLog.timeStamp' : 1} &quot;,\n                unique = true, background = true)})\npublic class PayLoad implements Serializable {\n</code></pre>\n"},{"tags":["java","swing","colors","jprogressbar"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":2,"up_vote_count":26,"is_accepted":true,"score":24,"last_activity_date":1416245843,"creation_date":1338122806,"answer_id":10774080,"question_id":10773978,"body_markdown":"I think that these values are right for you\r\n\r\n    UIManager.put(&quot;ProgressBar.background&quot;, Color.ORANGE);\r\n    UIManager.put(&quot;ProgressBar.foreground&quot;, Color.BLUE);\r\n    UIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.RED);\r\n    UIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.GREEN);","title":"How to change JProgressBar color?","body":"<p>I think that these values are right for you</p>\n\n<pre><code>UIManager.put(\"ProgressBar.background\", Color.ORANGE);\nUIManager.put(\"ProgressBar.foreground\", Color.BLUE);\nUIManager.put(\"ProgressBar.selectionBackground\", Color.RED);\nUIManager.put(\"ProgressBar.selectionForeground\", Color.GREEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386326,"reputation":7177,"user_id":744015,"accept_rate":98,"display_name":"Alexey"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1339323658,"creation_date":1339323658,"answer_id":10967910,"question_id":10773978,"body_markdown":"You should set the setStringPainted property to true:\r\n\r\n    progressBar.setStringPainted(true);\r\n    progressBar.setForeground(Color.blue);\r\n    progressBar.setString(&quot;10%&quot;);","title":"How to change JProgressBar color?","body":"<p>You should set the setStringPainted property to true:</p>\n\n<pre><code>progressBar.setStringPainted(true);\nprogressBar.setForeground(Color.blue);\nprogressBar.setString(\"10%\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16616063,"reputation":119,"user_id":12068835,"display_name":"Roel Leal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670551907,"creation_date":1670551907,"answer_id":74738260,"question_id":10773978,"body_markdown":"You can use this:\r\n\r\n    UIManager.put( &quot;nimbusOrange&quot;, new Color( 38, 139, 210 ) );\r\n\r\nIt&#39;s works for me, only change the color, you can use Color.RED or similar","title":"How to change JProgressBar color?","body":"<p>You can use this:</p>\n<pre><code>UIManager.put( &quot;nimbusOrange&quot;, new Color( 38, 139, 210 ) );\n</code></pre>\n<p>It's works for me, only change the color, you can use Color.RED or similar</p>\n"}],"owner":{"account_id":1426586,"reputation":9771,"user_id":2005622,"accept_rate":85,"display_name":"Ali Bassam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53942,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":10774080,"answer_count":3,"score":18,"last_activity_date":1670551907,"creation_date":1338121703,"question_id":10773978,"body_markdown":"I Used `.setBackground` and `.setForeground` and they didn&#39;t work, the color is like Orange, can&#39;t change it.","title":"How to change JProgressBar color?","body":"<p>I Used <code>.setBackground</code> and <code>.setForeground</code> and they didn't work, the color is like Orange, can't change it.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","scheduler","google-cloud-run"],"answers":[{"tags":[],"owner":{"account_id":16958113,"reputation":3434,"user_id":12265927,"display_name":"Puteri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670551065,"creation_date":1670543106,"answer_id":74737548,"question_id":74737077,"body_markdown":"Cloud Run min instances is intended for reducing cold starts and not to keep a service running 24/7.\r\n\r\nFrom the [docs](https://cloud.google.com/run/docs/configuring/min-instances)\r\n\r\n&gt; if your service requires reduced latency and you want to limit the number of cold starts, you can change this default behavior by specifying a minimum number of container instances to be kept warm and ready to serve requests.\r\n\r\nUsing Minimum Instances to expect a service to always be up without any kind of disruption is a bad assumption since it is not the purpose of it. You should expect some [restarts from time to time]( https://cloud.google.com/run/docs/configuring/min-instances#restarts).\r\n\r\nYou can add more instances so the service &quot;is always up&quot; in case an instance is restarted but there is no guarantee that there will not be any restarts.\r\n\r\nThen this is not an issue but working as intended.\r\n\r\nBecause of your use case, the best approach is to use a queue that triggers the service (like Pub/Sub or Cloud Tasks). With this you can reduce costs because CR will work only when needed instead of wasting CPU time.\r\n\r\n","title":"Cloud Run Random restarts issue","body":"<p>Cloud Run min instances is intended for reducing cold starts and not to keep a service running 24/7.</p>\n<p>From the <a href=\"https://cloud.google.com/run/docs/configuring/min-instances\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>if your service requires reduced latency and you want to limit the number of cold starts, you can change this default behavior by specifying a minimum number of container instances to be kept warm and ready to serve requests.</p>\n</blockquote>\n<p>Using Minimum Instances to expect a service to always be up without any kind of disruption is a bad assumption since it is not the purpose of it. You should expect some <a href=\"https://cloud.google.com/run/docs/configuring/min-instances#restarts\" rel=\"nofollow noreferrer\">restarts from time to time</a>.</p>\n<p>You can add more instances so the service &quot;is always up&quot; in case an instance is restarted but there is no guarantee that there will not be any restarts.</p>\n<p>Then this is not an issue but working as intended.</p>\n<p>Because of your use case, the best approach is to use a queue that triggers the service (like Pub/Sub or Cloud Tasks). With this you can reduce costs because CR will work only when needed instead of wasting CPU time.</p>\n"}],"owner":{"account_id":13599373,"reputation":19,"user_id":9810431,"display_name":"Oken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670551065,"creation_date":1670538993,"question_id":74737077,"body_markdown":"I&#39;m building a monitoring application on GCP. At the moment I have 3 microservices, built with Spring Boot. For the monitoring part, I have a scheduler microservice, that creates a dynamic cron expression, based on the items coming from the request, exposed on the controller. It needs to be dynamic, because it monitors football matches. \r\nAll the microservices are currently deployed and running on GCP Cloud Run. Specifically for the Scheduler Application, I use this configuration, as the application must be always be alive and running otherwise the schedule is lost.\r\n\r\n```\r\ngcloud run deploy &lt;service-name&gt; --image=&lt;image&gt; --no-cpu-throttling --min-instances 1 --max-instances 1\r\n```\r\n\r\nThe issue that I&#39;m facing it&#39;s this. Despite having the instances (min and max) set to 1 and the cpu set to *no-throlling* the application keeps on restarting randomly. \r\n[Cloud Run Restart](https://i.stack.imgur.com/a0vfj.png)\r\n\r\nI&#39;ve also tried looking on the metrics, but there is nothing wrong and the container instance, at 20:54 (the time that the application restarted) was 1.\r\n[Instances](https://i.stack.imgur.com/DF2kY.png)\r\n[Metrics](https://i.stack.imgur.com/BAhhi.png)\r\n\r\nHas anyone experienced this issue? If so, how did you solve it?\r\n\r\n","title":"Cloud Run Random restarts issue","body":"<p>I'm building a monitoring application on GCP. At the moment I have 3 microservices, built with Spring Boot. For the monitoring part, I have a scheduler microservice, that creates a dynamic cron expression, based on the items coming from the request, exposed on the controller. It needs to be dynamic, because it monitors football matches.\nAll the microservices are currently deployed and running on GCP Cloud Run. Specifically for the Scheduler Application, I use this configuration, as the application must be always be alive and running otherwise the schedule is lost.</p>\n<pre><code>gcloud run deploy &lt;service-name&gt; --image=&lt;image&gt; --no-cpu-throttling --min-instances 1 --max-instances 1\n</code></pre>\n<p>The issue that I'm facing it's this. Despite having the instances (min and max) set to 1 and the cpu set to <em>no-throlling</em> the application keeps on restarting randomly.\n<a href=\"https://i.stack.imgur.com/a0vfj.png\" rel=\"nofollow noreferrer\">Cloud Run Restart</a></p>\n<p>I've also tried looking on the metrics, but there is nothing wrong and the container instance, at 20:54 (the time that the application restarted) was 1.\n<a href=\"https://i.stack.imgur.com/DF2kY.png\" rel=\"nofollow noreferrer\">Instances</a>\n<a href=\"https://i.stack.imgur.com/BAhhi.png\" rel=\"nofollow noreferrer\">Metrics</a></p>\n<p>Has anyone experienced this issue? If so, how did you solve it?</p>\n"},{"tags":["java","binary","decimal","addition"],"comments":[{"owner":{"account_id":1128247,"reputation":32665,"user_id":1114966,"accept_rate":100,"display_name":"squiguy"},"score":0,"creation_date":1362638749,"post_id":8548586,"comment_id":21531959,"body_markdown":"@twiddles No more homework tagging! :)","body":"@twiddles No more homework tagging! :)"},{"owner":{"account_id":432396,"reputation":522,"user_id":817129,"accept_rate":39,"display_name":"user817129"},"score":0,"creation_date":1381658481,"post_id":8548586,"comment_id":28658070,"body_markdown":"This may blow your mind.  You can write C code in java.  C is lower-level and you can do binary arithmetic with it.  It&#39;s late, so I&#39;m not writing out a sample, but you can look it up.","body":"This may blow your mind.  You can write C code in java.  C is lower-level and you can do binary arithmetic with it.  It&#39;s late, so I&#39;m not writing out a sample, but you can look it up."},{"owner":{"account_id":2098938,"reputation":1532,"user_id":1867076,"accept_rate":100,"display_name":"Prometheus"},"score":0,"creation_date":1666342102,"post_id":8548586,"comment_id":130919038,"body_markdown":"This is more likely to be a leetcode question I guess. I came accross this question here: https://leetcode.com/problems/add-binary/","body":"This is more likely to be a leetcode question I guess. I came accross this question here: <a href=\"https://leetcode.com/problems/add-binary/\" rel=\"nofollow noreferrer\">leetcode.com/problems/add-binary</a>"}],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1530163243,"creation_date":1324163303,"answer_id":8548599,"question_id":8548586,"body_markdown":"Use [`Integer.parseInt(String, int radix)`][1].\r\n\r\n   \r\n     public static String addBinary(){\r\n     // The two input Strings, containing the binary representation of the two values:\r\n        String input0 = &quot;1010&quot;;\r\n        String input1 = &quot;10&quot;;\r\n    \r\n        // Use as radix 2 because it&#39;s binary    \r\n        int number0 = Integer.parseInt(input0, 2);\r\n        int number1 = Integer.parseInt(input1, 2);\r\n        \r\n        int sum = number0 + number1;\r\n        return Integer.toBinaryString(sum); //returns the answer as a binary value;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\r\n","title":"Adding binary numbers","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"noreferrer\"><code>Integer.parseInt(String, int radix)</code></a>.</p>\n\n<pre><code> public static String addBinary(){\n // The two input Strings, containing the binary representation of the two values:\n    String input0 = \"1010\";\n    String input1 = \"10\";\n\n    // Use as radix 2 because it's binary    \n    int number0 = Integer.parseInt(input0, 2);\n    int number1 = Integer.parseInt(input1, 2);\n\n    int sum = number0 + number1;\n    return Integer.toBinaryString(sum); //returns the answer as a binary value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1324165907,"creation_date":1324165907,"answer_id":8548813,"question_id":8548586,"body_markdown":"Martijn is absolutely correct, to piggyback and complete the answer\r\n\r\n    Integer.toBinaryString(sum);\r\n\r\nwould give your output in binary as per the OP question.","title":"Adding binary numbers","body":"<p>Martijn is absolutely correct, to piggyback and complete the answer</p>\n\n<pre><code>Integer.toBinaryString(sum);\n</code></pre>\n\n<p>would give your output in binary as per the OP question.</p>\n"},{"tags":[],"owner":{"account_id":2833076,"reputation":21,"user_id":2434236,"display_name":"monir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369863150,"creation_date":1369862167,"answer_id":16823944,"question_id":8548586,"body_markdown":"    public class BinaryArithmetic {\r\n    \r\n        /*-------------------------- add ------------------------------------------------------------*/\r\n        static String add(double a, double b) {\r\n            System.out.println(a + &quot;first val :&quot; + b);\r\n            int a1 = (int) a;\r\n            int b1 = (int) b;\r\n            String s1 = Integer.toString(a1);\r\n            String s2 = Integer.toString(b1);\r\n            int number0 = Integer.parseInt(s1, 2);\r\n            int number1 = Integer.parseInt(s2, 2);\r\n    \r\n            int sum = number0 + number1;\r\n            String s3 = Integer.toBinaryString(sum);\r\n    \r\n            return s3;\r\n        }\r\n        /*-------------------------------multiply-------------------------------------------------------*/\r\n    \r\n        static String multiply(double a, double b) {\r\n            System.out.println(a + &quot;first val :&quot; + b);\r\n            int a1 = (int) a;\r\n            int b1 = (int) b;\r\n            String s1 = Integer.toString(a1);\r\n            String s2 = Integer.toString(b1);\r\n            int number0 = Integer.parseInt(s1, 2);\r\n            int number1 = Integer.parseInt(s2, 2);\r\n    \r\n            int sum = number0 * number1;\r\n            String s3 = Integer.toBinaryString(sum);\r\n    \r\n            return s3;\r\n        }\r\n        /*----------------------------------------substraction----------------------------------------------*/\r\n    \r\n        static String sub(double a, double b) {\r\n            System.out.println(a + &quot;first val :&quot; + b);\r\n            int a1 = (int) a;\r\n            int b1 = (int) b;\r\n            String s1 = Integer.toString(a1);\r\n            String s2 = Integer.toString(b1);\r\n            int number0 = Integer.parseInt(s1, 2);\r\n            int number1 = Integer.parseInt(s2, 2);\r\n    \r\n            int sum = number0 - number1;\r\n            String s3 = Integer.toBinaryString(sum);\r\n    \r\n            return s3;\r\n        }\r\n    \r\n        /*--------------------------------------division------------------------------------------------*/\r\n        static String div(double a, double b) {\r\n            System.out.println(a + &quot;first val :&quot; + b);\r\n            int a1 = (int) a;\r\n            int b1 = (int) b;\r\n            String s1 = Integer.toString(a1);\r\n            String s2 = Integer.toString(b1);\r\n            int number0 = Integer.parseInt(s1, 2);\r\n            int number1 = Integer.parseInt(s2, 2);\r\n    \r\n            int sum = number0 / number1;\r\n            String s3 = Integer.toBinaryString(sum);\r\n    \r\n            return s3;\r\n        }\r\n    }","title":"Adding binary numbers","body":"<pre><code>public class BinaryArithmetic {\n\n    /*-------------------------- add ------------------------------------------------------------*/\n    static String add(double a, double b) {\n        System.out.println(a + \"first val :\" + b);\n        int a1 = (int) a;\n        int b1 = (int) b;\n        String s1 = Integer.toString(a1);\n        String s2 = Integer.toString(b1);\n        int number0 = Integer.parseInt(s1, 2);\n        int number1 = Integer.parseInt(s2, 2);\n\n        int sum = number0 + number1;\n        String s3 = Integer.toBinaryString(sum);\n\n        return s3;\n    }\n    /*-------------------------------multiply-------------------------------------------------------*/\n\n    static String multiply(double a, double b) {\n        System.out.println(a + \"first val :\" + b);\n        int a1 = (int) a;\n        int b1 = (int) b;\n        String s1 = Integer.toString(a1);\n        String s2 = Integer.toString(b1);\n        int number0 = Integer.parseInt(s1, 2);\n        int number1 = Integer.parseInt(s2, 2);\n\n        int sum = number0 * number1;\n        String s3 = Integer.toBinaryString(sum);\n\n        return s3;\n    }\n    /*----------------------------------------substraction----------------------------------------------*/\n\n    static String sub(double a, double b) {\n        System.out.println(a + \"first val :\" + b);\n        int a1 = (int) a;\n        int b1 = (int) b;\n        String s1 = Integer.toString(a1);\n        String s2 = Integer.toString(b1);\n        int number0 = Integer.parseInt(s1, 2);\n        int number1 = Integer.parseInt(s2, 2);\n\n        int sum = number0 - number1;\n        String s3 = Integer.toBinaryString(sum);\n\n        return s3;\n    }\n\n    /*--------------------------------------division------------------------------------------------*/\n    static String div(double a, double b) {\n        System.out.println(a + \"first val :\" + b);\n        int a1 = (int) a;\n        int b1 = (int) b;\n        String s1 = Integer.toString(a1);\n        String s2 = Integer.toString(b1);\n        int number0 = Integer.parseInt(s1, 2);\n        int number1 = Integer.parseInt(s2, 2);\n\n        int sum = number0 / number1;\n        String s3 = Integer.toBinaryString(sum);\n\n        return s3;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2669122,"reputation":21,"user_id":2306890,"display_name":"programmer_360"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392733797,"creation_date":1392733797,"answer_id":21856830,"question_id":8548586,"body_markdown":"Another interesting but long approach is to convert each of the two numbers to decimal, adding the decimal numbers and converting the answer obtained back to binary!","title":"Adding binary numbers","body":"<p>Another interesting but long approach is to convert each of the two numbers to decimal, adding the decimal numbers and converting the answer obtained back to binary!</p>\n"},{"tags":[],"owner":{"account_id":1128502,"reputation":428,"user_id":1115152,"display_name":"sbaker"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1394216178,"creation_date":1394216178,"answer_id":22257661,"question_id":8548586,"body_markdown":"To dive into fundamentals:\r\n\r\n    public static String binaryAddition(String s1, String s2) {\r\n\t\tif (s1 == null || s2 == null) return &quot;&quot;;\r\n\t\tint first = s1.length() - 1;\r\n\t\tint second = s2.length() - 1;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint carry = 0;\r\n\t\twhile (first &gt;= 0 || second &gt;= 0) {\r\n\t\t\tint sum = carry;\r\n\t\t\tif (first &gt;= 0) {\r\n\t\t\t\tsum += s1.charAt(first) - &#39;0&#39;;\r\n\t\t\t\tfirst--;\r\n\t\t\t}\r\n\t\t\tif (second &gt;= 0) {\r\n\t\t\t\tsum += s2.charAt(second) - &#39;0&#39;;\r\n\t\t\t\tsecond--;\r\n\t\t\t}\r\n\t\t\tcarry = sum &gt;&gt; 1;\r\n\t\t\tsum = sum &amp; 1;\r\n\t\t\tsb.append(sum == 0 ? &#39;0&#39; : &#39;1&#39;);\r\n\t\t}\r\n\t\tif (carry &gt; 0)\r\n\t\t\tsb.append(&#39;1&#39;);\r\n\r\n\t\tsb.reverse();\r\n\t\treturn String.valueOf(sb);\r\n\t}","title":"Adding binary numbers","body":"<p>To dive into fundamentals:</p>\n\n<pre><code>public static String binaryAddition(String s1, String s2) {\n    if (s1 == null || s2 == null) return \"\";\n    int first = s1.length() - 1;\n    int second = s2.length() - 1;\n    StringBuilder sb = new StringBuilder();\n    int carry = 0;\n    while (first &gt;= 0 || second &gt;= 0) {\n        int sum = carry;\n        if (first &gt;= 0) {\n            sum += s1.charAt(first) - '0';\n            first--;\n        }\n        if (second &gt;= 0) {\n            sum += s2.charAt(second) - '0';\n            second--;\n        }\n        carry = sum &gt;&gt; 1;\n        sum = sum &amp; 1;\n        sb.append(sum == 0 ? '0' : '1');\n    }\n    if (carry &gt; 0)\n        sb.append('1');\n\n    sb.reverse();\n    return String.valueOf(sb);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4300788,"reputation":23,"user_id":3514540,"display_name":"user3514540"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400601276,"creation_date":1400601276,"answer_id":23764669,"question_id":8548586,"body_markdown":"\r\ni tried to make it simple this was sth i had to deal with with my cryptography prj its not efficient but i hope it \r\n\r\n        public String binarysum(String a, String b){\r\n        int carry=0;\r\n        int maxim;\r\n        int minim;\r\n        maxim=Math.max(a.length(),b.length());\r\n        minim=Math.min(a.length(),b.length());         \r\n        char smin[]=new char[minim];\r\n        char smax[]=new char[maxim];\r\n        if(a.length()==minim){\r\n         for(int i=0;i&lt;smin.length;i++){\r\n         smin[i]=a.charAt(i);\r\n          }\r\n          for(int i=0;i&lt;smax.length;i++){\r\n           smax[i]=b.charAt(i);\r\n          }\r\n          }\r\n          else{\r\n              for(int i=0;i&lt;smin.length;i++){\r\n              smin[i]=b.charAt(i);\r\n                 }\r\n           for(int i=0;i&lt;smax.length;i++){\r\n           smax[i]=a.charAt(i);\r\n          } \r\n          }\r\n        char[]sum=new char[maxim];\r\n        char[] st=new char[maxim];\r\n        for(int i=0;i&lt;st.length;i++){\r\n        st[i]=&#39;0&#39;;\r\n        }\r\n        int k=st.length-1;\r\n       for(int i=smin.length-1;i&gt;-1;i--){\r\n        st[k]=smin[i];\r\n        k--;\r\n        } \r\n    \r\n         //   *************************** sum begins here\r\n       for(int i=maxim-1;i&gt;-1;i--){\r\n       char x= smax[i];\r\n       char y= st[i];\r\n        if(x==y &amp;&amp; x==&#39;0&#39;){\r\n             if(carry==0)\r\n                 sum[i]=&#39;0&#39;;\r\n             else if(carry==1){\r\n                 sum[i]=&#39;1&#39;;\r\n                 carry=0;\r\n        }\r\n       }\r\n        else if(x==y &amp;&amp; x==&#39;1&#39;){\r\n            if(carry==0){\r\n                sum[i]=&#39;0&#39;;\r\n                carry=1;\r\n            }\r\n            else if(carry==1){\r\n              sum[i]=&#39;1&#39;;\r\n              carry=1;\r\n            }\r\n         }\r\n         else if(x!=y){\r\n            if(carry==0){\r\n                sum[i]=&#39;1&#39;;\r\n                }\r\n            else if(carry==1){\r\n              sum[i]=&#39;0&#39;;\r\n              carry=1;\r\n            }\r\n           }        }\r\n          String s=new String(sum);\r\n         return s;\r\n          }","title":"Adding binary numbers","body":"<p>i tried to make it simple this was sth i had to deal with with my cryptography prj its not efficient but i hope it </p>\n\n<pre><code>    public String binarysum(String a, String b){\n    int carry=0;\n    int maxim;\n    int minim;\n    maxim=Math.max(a.length(),b.length());\n    minim=Math.min(a.length(),b.length());         \n    char smin[]=new char[minim];\n    char smax[]=new char[maxim];\n    if(a.length()==minim){\n     for(int i=0;i&lt;smin.length;i++){\n     smin[i]=a.charAt(i);\n      }\n      for(int i=0;i&lt;smax.length;i++){\n       smax[i]=b.charAt(i);\n      }\n      }\n      else{\n          for(int i=0;i&lt;smin.length;i++){\n          smin[i]=b.charAt(i);\n             }\n       for(int i=0;i&lt;smax.length;i++){\n       smax[i]=a.charAt(i);\n      } \n      }\n    char[]sum=new char[maxim];\n    char[] st=new char[maxim];\n    for(int i=0;i&lt;st.length;i++){\n    st[i]='0';\n    }\n    int k=st.length-1;\n   for(int i=smin.length-1;i&gt;-1;i--){\n    st[k]=smin[i];\n    k--;\n    } \n\n     //   *************************** sum begins here\n   for(int i=maxim-1;i&gt;-1;i--){\n   char x= smax[i];\n   char y= st[i];\n    if(x==y &amp;&amp; x=='0'){\n         if(carry==0)\n             sum[i]='0';\n         else if(carry==1){\n             sum[i]='1';\n             carry=0;\n    }\n   }\n    else if(x==y &amp;&amp; x=='1'){\n        if(carry==0){\n            sum[i]='0';\n            carry=1;\n        }\n        else if(carry==1){\n          sum[i]='1';\n          carry=1;\n        }\n     }\n     else if(x!=y){\n        if(carry==0){\n            sum[i]='1';\n            }\n        else if(carry==1){\n          sum[i]='0';\n          carry=1;\n        }\n       }        }\n      String s=new String(sum);\n     return s;\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4343376,"reputation":1165,"user_id":3546071,"display_name":"haley"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1433776457,"creation_date":1400605915,"answer_id":23766040,"question_id":8548586,"body_markdown":"You can just put 0b in front of the binary number to specify that it is binary.\r\n\r\nFor this example, you can simply do:\r\n\r\n    Integer.toString(0b1010 + 0b10, 2);\r\n\r\nThis will add the two in binary, and Integer.toString() with 2 as the second parameter converts it back to binary.","title":"Adding binary numbers","body":"<p>You can just put 0b in front of the binary number to specify that it is binary.</p>\n\n<p>For this example, you can simply do:</p>\n\n<pre><code>Integer.toString(0b1010 + 0b10, 2);\n</code></pre>\n\n<p>This will add the two in binary, and Integer.toString() with 2 as the second parameter converts it back to binary.</p>\n"},{"tags":[],"owner":{"account_id":1137492,"reputation":1822,"user_id":1122229,"accept_rate":56,"display_name":"Algorithmatic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416112544,"creation_date":1416112544,"answer_id":26953807,"question_id":8548586,"body_markdown":"here&#39;s a python version that\r\n\r\n    def binAdd(s1, s2):\r\n    \tif not s1 or not s2:\r\n    \t\treturn &#39;&#39;\r\n    \r\n    \tmaxlen = max(len(s1), len(s2))\r\n    \t\r\n\r\n    \ts1 = s1.zfill(maxlen)\r\n    \ts2 = s2.zfill(maxlen)\r\n    \r\n    \tresult \t= &#39;&#39;\r\n    \tcarry \t= 0\r\n    \r\n    \ti = maxlen - 1\r\n    \twhile(i &gt;= 0):\r\n    \t\ts = int(s1[i]) + int(s2[i])\r\n    \t\tif s == 2: #1+1\r\n    \t\t\tif carry == 0:\r\n    \t\t\t\tcarry = 1\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;0&#39;)\r\n    \t\t\telse:\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;1&#39;)\r\n    \t\telif s == 1: # 1+0\r\n    \t\t\tif carry == 1:\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;0&#39;)\r\n    \t\t\telse:\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;1&#39;)\r\n    \t\telse: # 0+0\r\n    \t\t\tif carry == 1:\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;1&#39;)\r\n    \t\t\t\tcarry = 0\t\r\n    \t\t\telse:\r\n    \t\t\t\tresult = &quot;%s%s&quot; % (result, &#39;0&#39;)\t\r\n    \r\n    \t\ti = i - 1;\r\n    \r\n    \tif carry&gt;0:\r\n    \t\tresult = &quot;%s%s&quot; % (result, &#39;1&#39;)\r\n    \treturn result[::-1]\r\n\r\n","title":"Adding binary numbers","body":"<p>here's a python version that</p>\n\n<pre><code>def binAdd(s1, s2):\n    if not s1 or not s2:\n        return ''\n\n    maxlen = max(len(s1), len(s2))\n\n\n    s1 = s1.zfill(maxlen)\n    s2 = s2.zfill(maxlen)\n\n    result  = ''\n    carry   = 0\n\n    i = maxlen - 1\n    while(i &gt;= 0):\n        s = int(s1[i]) + int(s2[i])\n        if s == 2: #1+1\n            if carry == 0:\n                carry = 1\n                result = \"%s%s\" % (result, '0')\n            else:\n                result = \"%s%s\" % (result, '1')\n        elif s == 1: # 1+0\n            if carry == 1:\n                result = \"%s%s\" % (result, '0')\n            else:\n                result = \"%s%s\" % (result, '1')\n        else: # 0+0\n            if carry == 1:\n                result = \"%s%s\" % (result, '1')\n                carry = 0   \n            else:\n                result = \"%s%s\" % (result, '0') \n\n        i = i - 1;\n\n    if carry&gt;0:\n        result = \"%s%s\" % (result, '1')\n    return result[::-1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7133710,"reputation":11,"user_id":5454113,"display_name":"BongCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445004672,"creation_date":1445004445,"answer_id":33172506,"question_id":8548586,"body_markdown":"I&#39;ve actually managed to find a solution to this question without using the `stringbuilder()` function. Check this out:\r\n\r\n    public void BinaryAddition(String s1,String s2)\r\n    {\r\n        int l1=s1.length();int c1=l1;\r\n        int l2=s2.length();int c2=l2;\r\n        int max=(int)Math.max(l1,l2);\r\n        int arr1[]=new int[max];\r\n        int arr2[]=new int[max];\r\n        int sum[]=new int[max+1];\r\n        for(int i=(arr1.length-1);i&gt;=(max-l1);i--)\r\n        {\r\n            arr1[i]=(int)(s1.charAt(c1-1)-48);\r\n            c1--;\r\n        }\r\n        for(int i=(arr2.length-1);i&gt;=(max-l2);i--)\r\n        {\r\n            arr2[i]=(int)(s2.charAt(c2-1)-48);\r\n            c2--;\r\n        }\r\n        for(int i=(sum.length-1);i&gt;=1;i--)\r\n        {\r\n            sum[i]+=arr1[i-1]+arr2[i-1];\r\n            if(sum[i]==2)\r\n            {\r\n                sum[i]=0;\r\n                sum[i-1]=1;\r\n            }\r\n            else if(sum[i]==3)\r\n            {\r\n                sum[i]=1;\r\n                sum[i-1]=1;\r\n            }\r\n        }\r\n        int c=0;\r\n        for(int i=0;i&lt;sum.length;i++)\r\n        {\r\n            System.out.print(sum[i]);\r\n        }\r\n    }","title":"Adding binary numbers","body":"<p>I've actually managed to find a solution to this question without using the <code>stringbuilder()</code> function. Check this out:</p>\n\n<pre><code>public void BinaryAddition(String s1,String s2)\n{\n    int l1=s1.length();int c1=l1;\n    int l2=s2.length();int c2=l2;\n    int max=(int)Math.max(l1,l2);\n    int arr1[]=new int[max];\n    int arr2[]=new int[max];\n    int sum[]=new int[max+1];\n    for(int i=(arr1.length-1);i&gt;=(max-l1);i--)\n    {\n        arr1[i]=(int)(s1.charAt(c1-1)-48);\n        c1--;\n    }\n    for(int i=(arr2.length-1);i&gt;=(max-l2);i--)\n    {\n        arr2[i]=(int)(s2.charAt(c2-1)-48);\n        c2--;\n    }\n    for(int i=(sum.length-1);i&gt;=1;i--)\n    {\n        sum[i]+=arr1[i-1]+arr2[i-1];\n        if(sum[i]==2)\n        {\n            sum[i]=0;\n            sum[i-1]=1;\n        }\n        else if(sum[i]==3)\n        {\n            sum[i]=1;\n            sum[i-1]=1;\n        }\n    }\n    int c=0;\n    for(int i=0;i&lt;sum.length;i++)\n    {\n        System.out.print(sum[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5335012,"reputation":434,"user_id":4254335,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455851270,"creation_date":1455851270,"answer_id":35496600,"question_id":8548586,"body_markdown":"Java solution \r\n\r\n    static String addBinary(String a, String b) {\r\n\r\n\t\tint lenA = a.length();\r\n\t\tint lenB = b.length();\r\n\t\tint i = 0;\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint rem = Math.abs(lenA-lenB);\r\n\t\twhile(rem &gt;0){\r\n\t\t\tsb.append(&#39;0&#39;);\r\n\t\t\trem--;\r\n\t\t}\r\n\t\tif(lenA &gt; lenB){\r\n\t\t\tsb.append(b);  \r\n\t\t\tb = sb.toString();\r\n\t\t}else{\r\n\t\t\tsb.append(a);\r\n\t\t\ta = sb.toString();\r\n\t\t}\r\n\r\n\t\tsb = new StringBuilder();\r\n\t\tchar carry = &#39;0&#39;;\r\n\t\ti = a.length();\r\n\t\twhile(i &gt; 0){\r\n\t\t\tif(a.charAt(i-1) == b.charAt(i-1)){\r\n\t\t\t\tsb.append(carry);\r\n\t\t\t\tif(a.charAt(i-1) == &#39;1&#39;){\r\n\t\t\t\t\tcarry = &#39;1&#39;;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcarry = &#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(carry == &#39;1&#39;){\r\n\t\t\t\t\tsb.append(&#39;0&#39;);\r\n\t\t\t\t\tcarry = &#39;1&#39;;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcarry = &#39;0&#39;;\r\n\t\t\t\t\tsb.append(&#39;1&#39;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti--;\r\n\t\t}\r\n\r\n\t\tif(carry == &#39;1&#39;){\r\n\t\t\tsb.append(carry);\r\n\t\t}\r\n\r\n\t\tsb.reverse();\r\n\t\treturn sb.toString();\r\n\r\n\t}","title":"Adding binary numbers","body":"<p>Java solution </p>\n\n<pre><code>static String addBinary(String a, String b) {\n\n    int lenA = a.length();\n    int lenB = b.length();\n    int i = 0;\n\n    StringBuilder sb = new StringBuilder();\n    int rem = Math.abs(lenA-lenB);\n    while(rem &gt;0){\n        sb.append('0');\n        rem--;\n    }\n    if(lenA &gt; lenB){\n        sb.append(b);  \n        b = sb.toString();\n    }else{\n        sb.append(a);\n        a = sb.toString();\n    }\n\n    sb = new StringBuilder();\n    char carry = '0';\n    i = a.length();\n    while(i &gt; 0){\n        if(a.charAt(i-1) == b.charAt(i-1)){\n            sb.append(carry);\n            if(a.charAt(i-1) == '1'){\n                carry = '1';\n            }else{\n                carry = '0';\n            }\n        }else{\n            if(carry == '1'){\n                sb.append('0');\n                carry = '1';\n            }else{\n                carry = '0';\n                sb.append('1');\n            }\n        }\n        i--;\n    }\n\n    if(carry == '1'){\n        sb.append(carry);\n    }\n\n    sb.reverse();\n    return sb.toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3621079"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465715872,"creation_date":1465715872,"answer_id":37771712,"question_id":8548586,"body_markdown":"\r\n    \r\n    class Sum{\r\n        public int number;\r\n        public int carry;\r\n        \r\n        Sum(int number, int carry){\r\n            this.number = number; \r\n            this.carry = carry;\r\n        }\r\n    }\r\n    \r\n    public String addBinary(String a, String b) {\r\n       \r\n        int lengthOfA = a.length();\r\n        int lengthOfB = b.length();\r\n        \r\n        if(lengthOfA &gt; lengthOfB){\r\n            for(int i=0; i&lt;(lengthOfA - lengthOfB); i++){\r\n                b=&quot;0&quot;+b;\r\n            }\r\n        }\r\n        else{\r\n             for(int i=0; i&lt;(lengthOfB - lengthOfA); i++){\r\n                a=&quot;0&quot;+a;\r\n            }\r\n        }\r\n        \r\n        String result = &quot;&quot;;\r\n        Sum s = new Sum(0,0);\r\n        for(int i=a.length()-1; i&gt;=0; i--){\r\n            s = addNumber(Character.getNumericValue(a.charAt(i)), Character.getNumericValue(b.charAt(i)), s.carry);\r\n            result = result + Integer.toString(s.number);\r\n        }\r\n        \r\n        if(s.carry == 1) { result += s.carry ;}\r\n     \r\n        return new StringBuilder(result).reverse().toString();\r\n    }\r\n    \r\n    Sum addNumber(int number1, int number2, int carry){\r\n            Sum sum = new Sum(0,0);\r\n            sum.number = number1 ^ number2 ^ carry;\r\n            sum.carry = (number1 &amp; number2) | (number2 &amp; carry) | (number1 &amp; carry);\r\n            \r\n            return sum;\r\n    }\r\n","title":"Adding binary numbers","body":"<pre><code>class Sum{\n    public int number;\n    public int carry;\n\n    Sum(int number, int carry){\n        this.number = number; \n        this.carry = carry;\n    }\n}\n\npublic String addBinary(String a, String b) {\n\n    int lengthOfA = a.length();\n    int lengthOfB = b.length();\n\n    if(lengthOfA &gt; lengthOfB){\n        for(int i=0; i&lt;(lengthOfA - lengthOfB); i++){\n            b=\"0\"+b;\n        }\n    }\n    else{\n         for(int i=0; i&lt;(lengthOfB - lengthOfA); i++){\n            a=\"0\"+a;\n        }\n    }\n\n    String result = \"\";\n    Sum s = new Sum(0,0);\n    for(int i=a.length()-1; i&gt;=0; i--){\n        s = addNumber(Character.getNumericValue(a.charAt(i)), Character.getNumericValue(b.charAt(i)), s.carry);\n        result = result + Integer.toString(s.number);\n    }\n\n    if(s.carry == 1) { result += s.carry ;}\n\n    return new StringBuilder(result).reverse().toString();\n}\n\nSum addNumber(int number1, int number2, int carry){\n        Sum sum = new Sum(0,0);\n        sum.number = number1 ^ number2 ^ carry;\n        sum.carry = (number1 &amp; number2) | (number2 &amp; carry) | (number1 &amp; carry);\n\n        return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1862784,"reputation":71,"user_id":1687012,"display_name":"Subrat Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468524200,"creation_date":1468518699,"answer_id":38380981,"question_id":8548586,"body_markdown":"    import java.util.*;\r\n\tpublic class BitAddition {\r\n\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint len = sc.nextInt();\r\n\t\t\tint[] arr1 = new int[len];\r\n\t\t\tint[] arr2 = new int[len];\r\n\t\t\tint[] sum = new int[len+1];\r\n\t\t\tArrays.fill(sum, 0);\r\n\t\t\tfor(int i=0;i&lt;len;i++){\r\n\t\t\t\tarr1[i] =sc.nextInt();\r\n\t\t\t}\r\n\t\t\tfor(int i=0;i&lt;len;i++){\r\n\t\t\t\tarr2[i] =sc.nextInt();\r\n\t\t\t}\r\n\t\t\tfor(int i=len-1;i&gt;=0;i--){\r\n\t\t\t\tif(sum[i+1] == 0){\r\n\t\t\t\t\tif(arr1[i]!=arr2[i]){\r\n\t\t\t\t\t\tsum[i+1] = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(arr1[i] ==1 &amp;&amp; arr2[i] == 1){\r\n\t\t\t\t\t\tsum[i+1] =0 ;\r\n\t\t\t\t\t\tsum[i] = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif((arr1[i]!=arr2[i])){\r\n\t\t\t\t\t\tsum[i+1] = 0;\r\n\t\t\t\t\t\tsum[i] = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(arr1[i] == 1){\r\n\t\t\t\t\t\tsum[i+1] = 1;\r\n\t\t\t\t\t\tsum[i] = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(int i=0;i&lt;=len;i++){\r\n\t\t\r\n\t\t\tSystem.out.print(sum[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n","title":"Adding binary numbers","body":"<pre><code>import java.util.*;\npublic class BitAddition {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc = new Scanner(System.in);\n        int len = sc.nextInt();\n        int[] arr1 = new int[len];\n        int[] arr2 = new int[len];\n        int[] sum = new int[len+1];\n        Arrays.fill(sum, 0);\n        for(int i=0;i&lt;len;i++){\n            arr1[i] =sc.nextInt();\n        }\n        for(int i=0;i&lt;len;i++){\n            arr2[i] =sc.nextInt();\n        }\n        for(int i=len-1;i&gt;=0;i--){\n            if(sum[i+1] == 0){\n                if(arr1[i]!=arr2[i]){\n                    sum[i+1] = 1;\n                }\n                else if(arr1[i] ==1 &amp;&amp; arr2[i] == 1){\n                    sum[i+1] =0 ;\n                    sum[i] = 1;\n                }\n            }\n            else{\n                if((arr1[i]!=arr2[i])){\n                    sum[i+1] = 0;\n                    sum[i] = 1;\n                }\n                else if(arr1[i] == 1){\n                    sum[i+1] = 1;\n                    sum[i] = 1;\n                }\n            }\n        }\n        for(int i=0;i&lt;=len;i++){\n\n        System.out.print(sum[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10920829,"reputation":21,"user_id":8027186,"display_name":"Nik&#39;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495049847,"creation_date":1495049847,"answer_id":44033427,"question_id":8548586,"body_markdown":"One of the simple ways is as:\r\n\r\n 1. convert the two strings to char[] array and set carry=0.\r\n 2. set the smallest array length in for loop\r\n 3. start for loop from the last index and decrement it\r\n 4. check 4 conditions(0+0=0, 0+1=1, 1+0=1, 1+1=10(carry=1)) for binary addition for each element in both the arrays and reset the carry accordingly.\r\n 5. append the addition in stringbuffer\r\n 6. append rest of the elements from max size array to stringbuffer but check consider carry while appending\r\n 7. print stringbuffer in reverse order for the answer.\r\n\r\n\r\n\r\n\r\n//The java code is as\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tstatic String binaryAdd(String a, String b){\r\n\t\tint len = 0;\r\n\t\tint size = 0;\r\n\t\tchar[] c1 = a.toCharArray();\r\n\t\tchar[] c2 = b.toCharArray();\r\n\t\tchar[] max;\r\n\t\t\r\n\t\t\r\n\t\tif(c1.length &gt; c2.length){\r\n\t\t\tlen = c2.length;\r\n\t\t\tsize = c1.length;\r\n\t\t\tmax = c1;\r\n\t\t}\t\t\r\n\t\telse\r\n\t\t{\r\n\t\t\tlen = c1.length;\r\n\t\t\tsize = c2.length;\r\n\t\t\tmax = c2;\r\n\t\t}\r\n\t\t\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint carry = 0;\r\n\t\tint p = c1.length - 1;\r\n\t\tint q = c2.length - 1;\r\n\t\t\r\n\t\tfor(int i=len-1; i&gt;=0; i--){\r\n\t\t\tif(c1[p] == &#39;0&#39; &amp;&amp; c2[q] == &#39;0&#39;){\r\n\t\t\t\tif(carry == 0){\r\n\t\t\t\t\tsb.append(0);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t\telse{\r\n\t\t\t\t\tsb.append(1);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif((c1[p] == &#39;0&#39; &amp;&amp; c2[q] == &#39;1&#39;) || (c1[p] == &#39;1&#39; &amp;&amp; c2[q] == &#39;0&#39;)){\r\n\t\t\t\tif(carry == 0){\r\n\t\t\t\t\tsb.append(1);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t\telse{\r\n\t\t\t\t\tsb.append(0);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t}\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif((c1[p] == &#39;1&#39; &amp;&amp; c2[q] == &#39;1&#39;)){\r\n\t\t\t\tif(carry == 0){\r\n\t\t\t\t\tsb.append(0);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t}\t\r\n\t\t\t\telse{\r\n\t\t\t\t\tsb.append(1);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tp--;\r\n\t\t\tq--;\r\n\t\t}\r\n\t\t\r\n\t\tfor(int j = size-len-1; j&gt;=0; j--){\r\n\t\t\tif(max[j] == &#39;0&#39;){ \r\n\t\t\t\tif(carry == 0){\t\t\r\n\t\t\t\t\tsb.append(0);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t\telse{\r\n\t\t\t\t\tsb.append(1);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(max[j] == &#39;1&#39;){\r\n\t\t\t\tif(carry == 0){\t\t\r\n\t\t\t\t\tsb.append(1);\r\n\t\t\t\t\tcarry = 0;\r\n\t\t\t\t}\t\r\n\t\t\t\telse{\r\n\t\t\t\t\tsb.append(0);\r\n\t\t\t\t\tcarry = 1;\r\n\t\t\t\t}\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\tif(carry == 1)\r\n\t\t\tsb.append(1);\t\r\n\t\treturn sb.reverse().toString();\r\n\t}\r\n","title":"Adding binary numbers","body":"<p>One of the simple ways is as:</p>\n\n<ol>\n<li>convert the two strings to char[] array and set carry=0.</li>\n<li>set the smallest array length in for loop</li>\n<li>start for loop from the last index and decrement it</li>\n<li>check 4 conditions(0+0=0, 0+1=1, 1+0=1, 1+1=10(carry=1)) for binary addition for each element in both the arrays and reset the carry accordingly.</li>\n<li>append the addition in stringbuffer</li>\n<li>append rest of the elements from max size array to stringbuffer but check consider carry while appending</li>\n<li>print stringbuffer in reverse order for the answer.</li>\n</ol>\n\n<p>//The java code is as</p>\n\n<pre><code>static String binaryAdd(String a, String b){\n    int len = 0;\n    int size = 0;\n    char[] c1 = a.toCharArray();\n    char[] c2 = b.toCharArray();\n    char[] max;\n\n\n    if(c1.length &gt; c2.length){\n        len = c2.length;\n        size = c1.length;\n        max = c1;\n    }       \n    else\n    {\n        len = c1.length;\n        size = c2.length;\n        max = c2;\n    }\n\n    StringBuilder sb = new StringBuilder();\n    int carry = 0;\n    int p = c1.length - 1;\n    int q = c2.length - 1;\n\n    for(int i=len-1; i&gt;=0; i--){\n        if(c1[p] == '0' &amp;&amp; c2[q] == '0'){\n            if(carry == 0){\n                sb.append(0);\n                carry = 0;\n            }   \n            else{\n                sb.append(1);\n                carry = 0;\n            }   \n        }\n        if((c1[p] == '0' &amp;&amp; c2[q] == '1') || (c1[p] == '1' &amp;&amp; c2[q] == '0')){\n            if(carry == 0){\n                sb.append(1);\n                carry = 0;\n            }   \n            else{\n                sb.append(0);\n                carry = 1;\n            }                   \n        }\n        if((c1[p] == '1' &amp;&amp; c2[q] == '1')){\n            if(carry == 0){\n                sb.append(0);\n                carry = 1;\n            }   \n            else{\n                sb.append(1);\n                carry = 1;\n            }\n        }\n        p--;\n        q--;\n    }\n\n    for(int j = size-len-1; j&gt;=0; j--){\n        if(max[j] == '0'){ \n            if(carry == 0){     \n                sb.append(0);\n                carry = 0;\n            }   \n            else{\n                sb.append(1);\n                carry = 0;\n            }   \n        }\n        if(max[j] == '1'){\n            if(carry == 0){     \n                sb.append(1);\n                carry = 0;\n            }   \n            else{\n                sb.append(0);\n                carry = 1;\n            }   \n        }           \n    }\n    if(carry == 1)\n        sb.append(1);   \n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6439225,"reputation":437,"user_id":4989722,"display_name":"akuriako"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500961696,"creation_date":1500961696,"answer_id":45294859,"question_id":8548586,"body_markdown":"The original solution by Martijn will not work for large binary numbers. The below code can be used to overcome that.\r\n\r\n    public String addBinary(String s1, String s2) {\r\n        StringBuilder sb = new StringBuilder();\r\n        int i = s1.length() - 1, j = s2.length() -1, carry = 0;\r\n        while (i &gt;= 0 || j &gt;= 0) {\r\n            int sum = carry;\r\n            if (j &gt;= 0) sum += s2.charAt(j--) - &#39;0&#39;;\r\n            if (i &gt;= 0) sum += s1.charAt(i--) - &#39;0&#39;;\r\n            sb.append(sum % 2);\r\n            carry = sum / 2;\r\n        }\r\n        if (carry != 0) sb.append(carry);\r\n        return sb.reverse().toString();\r\n    }","title":"Adding binary numbers","body":"<p>The original solution by Martijn will not work for large binary numbers. The below code can be used to overcome that.</p>\n\n<pre><code>public String addBinary(String s1, String s2) {\n    StringBuilder sb = new StringBuilder();\n    int i = s1.length() - 1, j = s2.length() -1, carry = 0;\n    while (i &gt;= 0 || j &gt;= 0) {\n        int sum = carry;\n        if (j &gt;= 0) sum += s2.charAt(j--) - '0';\n        if (i &gt;= 0) sum += s1.charAt(i--) - '0';\n        sb.append(sum % 2);\n        carry = sum / 2;\n    }\n    if (carry != 0) sb.append(carry);\n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11776366,"reputation":1,"user_id":8617659,"display_name":"james"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505540449,"creation_date":1505538129,"answer_id":46250243,"question_id":8548586,"body_markdown":"    import java.io.; \r\n    import java.util.; \r\n    public class adtbin {\r\n      static Scanner sc=new Scanner(System.in); \r\n       public void fun(int n1) {\r\n          int i=0; \r\n          int sum[]=new int[20]; \r\n          while(n1&gt;0) { \r\n            sum[i]=n1%2; n1=n1/2; i++; \r\n          } \r\n          for(int a=i-1;a&gt;=0;a--) { \r\n              System.out.print(sum[a]); \r\n          }  \r\n       } \r\n       public static void main() { \r\n         int m,n,add; \r\n         adtbin ob=new adtbin(); \r\n         System.out.println(&quot;enter the value of m and n&quot;); \r\n         m=sc.nextInt(); \r\n         n=sc.nextInt(); \r\n         add=m+n; \r\n         ob.fun(add); \r\n       } \r\n    }","title":"Adding binary numbers","body":"<pre><code>import java.io.; \nimport java.util.; \npublic class adtbin {\n  static Scanner sc=new Scanner(System.in); \n   public void fun(int n1) {\n      int i=0; \n      int sum[]=new int[20]; \n      while(n1&gt;0) { \n        sum[i]=n1%2; n1=n1/2; i++; \n      } \n      for(int a=i-1;a&gt;=0;a--) { \n          System.out.print(sum[a]); \n      }  \n   } \n   public static void main() { \n     int m,n,add; \n     adtbin ob=new adtbin(); \n     System.out.println(\"enter the value of m and n\"); \n     m=sc.nextInt(); \n     n=sc.nextInt(); \n     add=m+n; \n     ob.fun(add); \n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8663810,"reputation":1009,"user_id":6485135,"accept_rate":75,"display_name":"e.hadid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509695437,"creation_date":1509695437,"answer_id":47090853,"question_id":8548586,"body_markdown":"you can write your own One.\r\n\r\n    long a =100011111111L;\r\n\tlong b =1000001111L;\r\n\r\n\tint carry = 0 ;\r\n\tlong result = 0;\r\n\r\n\tlong multiplicity = 1;\r\n\r\n\twhile(a!=0 || b!=0 || carry ==1){\r\n\t\tif(a%10==1){\r\n\t\t\tif(b%10==1){\r\n\t\t\t\tresult+= (carry*multiplicity);\r\n\t\t\t\tcarry = 1;\r\n\t\t\t}else if(carry == 1){\r\n\t\t\t\tcarry = 1;\t\r\n\t\t\t}else{\r\n\t\t\t\tresult += multiplicity;\r\n\t\t\t}\r\n\t\t}else if (b%10 == 1){\r\n\t\t\tif(carry == 1){\r\n\t\t\t\tcarry = 1;\r\n\t\t\t}else {\r\n\t\t\t\tresult += multiplicity; \r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tresult += (carry*multiplicity);\r\n\t\t\tcarry = 0;\r\n\t\t}\r\n\r\n\t\ta/=10;\r\n\t\tb/=10;\r\n\t\tmultiplicity *= 10;\r\n\r\n\t}\r\n\t\r\n\r\n\tSystem.out.print(result);\r\n\r\nit works just by numbers , no need string , no need SubString and ...","title":"Adding binary numbers","body":"<p>you can write your own One.</p>\n\n<pre><code>long a =100011111111L;\nlong b =1000001111L;\n\nint carry = 0 ;\nlong result = 0;\n\nlong multiplicity = 1;\n\nwhile(a!=0 || b!=0 || carry ==1){\n    if(a%10==1){\n        if(b%10==1){\n            result+= (carry*multiplicity);\n            carry = 1;\n        }else if(carry == 1){\n            carry = 1;  \n        }else{\n            result += multiplicity;\n        }\n    }else if (b%10 == 1){\n        if(carry == 1){\n            carry = 1;\n        }else {\n            result += multiplicity; \n        }\n    }else {\n        result += (carry*multiplicity);\n        carry = 0;\n    }\n\n    a/=10;\n    b/=10;\n    multiplicity *= 10;\n\n}\n\n\nSystem.out.print(result);\n</code></pre>\n\n<p>it works just by numbers , no need string , no need SubString and ...</p>\n"},{"tags":[],"owner":{"account_id":12623211,"reputation":57,"user_id":9177945,"display_name":"Biswajeet Praharaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515164736,"creation_date":1515162925,"answer_id":48115729,"question_id":8548586,"body_markdown":"    package Assignment19thDec;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class addTwoBinaryNumbers {\r\n    \r\n    \tprivate static Scanner sc;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tsc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter 1st Binary Number&quot;);\r\n    \t\tint number1=sc.nextInt();\r\n    \t\tint reminder1=0;\r\n    \t\tint number2=sc.nextInt();\r\n    \t\tint reminder2=0;\r\n    \t\tint carry=0;\r\n    \t\tdouble sumResult=0 ;int add = 0\r\n    \t\t;\r\n    \t\tint n;\r\n    \t\tint power=0;\r\n    \t\twhile (number1&gt;0 || number2&gt;0) {\r\n    \t\t\t\r\n    \t\t\t/*System.out.println(number1 + &quot; &quot; +number2);*/\r\n    \t\t\t\r\n    \t\t\treminder1=number1%10;\r\n    \t\t\tnumber1=number1/10;\r\n    \t\t\treminder2=number2%10;\r\n    \t\t\tnumber2=number2/10;\r\n    \t\t\t/*System.out.println(reminder1 +&quot;  &quot;+ reminder2);*/\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif(reminder1&gt;1 || reminder2&gt;1 ) {\r\n    \t\t\t\tSystem.out.println(&quot;not a binary number&quot;);\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tn=reminder1+reminder2+carry;\r\n    \t\t\tswitch(n) {\r\n    \t\t\t\r\n    \t\t\tcase 0: \r\n    \t\t\t\t    add=0; carry=0;\t\t\t\t        \t\t    \r\n    \t\t\t\t\tbreak;\t\t\t\t\t\r\n    \t\t\tcase 1: add=1; carry=0;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\tcase 2: add=0; carry=1;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\tcase 3: add=1;carry=1;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\tdefault: System.out.println(&quot;not a binary number &quot;);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tsumResult=add*(Math.pow(10, power))+sumResult;\r\n    \t\t\tpower++;\r\n    \t\t\t\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tsumResult=carry*(Math.pow(10, power))+sumResult;\r\n    \t\tSystem.out.println(&quot;\\n&quot;+(int)sumResult);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Adding binary numbers","body":"<pre><code>package Assignment19thDec;\n\nimport java.util.Scanner;\n\npublic class addTwoBinaryNumbers {\n\n    private static Scanner sc;\n\n    public static void main(String[] args) {\n\n        sc = new Scanner(System.in);\n        System.out.println(\"Enter 1st Binary Number\");\n        int number1=sc.nextInt();\n        int reminder1=0;\n        int number2=sc.nextInt();\n        int reminder2=0;\n        int carry=0;\n        double sumResult=0 ;int add = 0\n        ;\n        int n;\n        int power=0;\n        while (number1&gt;0 || number2&gt;0) {\n\n            /*System.out.println(number1 + \" \" +number2);*/\n\n            reminder1=number1%10;\n            number1=number1/10;\n            reminder2=number2%10;\n            number2=number2/10;\n            /*System.out.println(reminder1 +\"  \"+ reminder2);*/\n\n\n            if(reminder1&gt;1 || reminder2&gt;1 ) {\n                System.out.println(\"not a binary number\");\n                System.exit(0);\n            }\n\n            n=reminder1+reminder2+carry;\n            switch(n) {\n\n            case 0: \n                    add=0; carry=0;                                 \n                    break;                  \n            case 1: add=1; carry=0;\n                    break;\n            case 2: add=0; carry=1;\n                    break;\n            case 3: add=1;carry=1;\n                    break;\n            default: System.out.println(\"not a binary number \");\n\n            }\n\n            sumResult=add*(Math.pow(10, power))+sumResult;\n            power++;\n\n\n        }\n\n        sumResult=carry*(Math.pow(10, power))+sumResult;\n        System.out.println(\"\\n\"+(int)sumResult);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14843011,"reputation":1,"user_id":10719166,"display_name":"Vivek Kamble"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559934903,"creation_date":1559934387,"answer_id":56499982,"question_id":8548586,"body_markdown":"    import java.util.Scanner;\r\n\r\n````public class BinaryAdd \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        String b1,b2;\r\n        Scanner sc= new Scanner(System.in);\r\n        System.out.println(&quot;Enter 1st binary no. : &quot;) ;\r\n        b1=sc.next();\r\n        System.out.println(&quot;Enter 2nd binary no. : &quot;) ;\r\n        b2=sc.next();\r\n        int num1=Integer.parseInt(b1,2);\r\n        int num2=Integer.parseInt(b2,2);\r\n        int sum=num1+num2;\r\n        System.out.println(&quot;Additon is : &quot;+Integer.toBinaryString(sum));\r\n    }\r\n     \r\n}\r\n  ","title":"Adding binary numbers","body":"<pre><code>import java.util.Scanner;\n</code></pre>\n\n<pre><code>{\n    public static void main(String[] args) \n    {\n        String b1,b2;\n        Scanner sc= new Scanner(System.in);\n        System.out.println(\"Enter 1st binary no. : \") ;\n        b1=sc.next();\n        System.out.println(\"Enter 2nd binary no. : \") ;\n        b2=sc.next();\n        int num1=Integer.parseInt(b1,2);\n        int num2=Integer.parseInt(b2,2);\n        int sum=num1+num2;\n        System.out.println(\"Additon is : \"+Integer.toBinaryString(sum));\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566024192,"creation_date":1566024192,"answer_id":57533935,"question_id":8548586,"body_markdown":"The idea is same as discussed in few of the answers, but this one is a much shorter and easier to understand solution (steps are commented).\r\n\r\n    // Handles numbers which are way bigger.\r\n    public String addBinary(String a, String b) {\r\n        StringBuilder sb = new StringBuilder();\r\n        int i = a.length() - 1; \r\n        int j = b.length() -1;\r\n        int carry = 0;\r\n        while (i &gt;= 0 || j &gt;= 0) {\r\n            int sum = carry;\r\n            if (j &gt;= 0) { sum += b.charAt(j--) - &#39;0&#39; };\r\n            if (i &gt;= 0) { sum += a.charAt(i--) - &#39;0&#39; };\r\n            \r\n            // Added number can be only 0 or 1\r\n            sb.append(sum % 2);\r\n            \r\n            // Get the carry.\r\n            carry = sum / 2;\r\n        }\r\n\r\n        if (carry != 0) { sb.append(carry); }\r\n       \r\n        // First reverse and then return.\r\n        return sb.reverse().toString();\r\n    }","title":"Adding binary numbers","body":"<p>The idea is same as discussed in few of the answers, but this one is a much shorter and easier to understand solution (steps are commented).</p>\n\n<pre><code>// Handles numbers which are way bigger.\npublic String addBinary(String a, String b) {\n    StringBuilder sb = new StringBuilder();\n    int i = a.length() - 1; \n    int j = b.length() -1;\n    int carry = 0;\n    while (i &gt;= 0 || j &gt;= 0) {\n        int sum = carry;\n        if (j &gt;= 0) { sum += b.charAt(j--) - '0' };\n        if (i &gt;= 0) { sum += a.charAt(i--) - '0' };\n\n        // Added number can be only 0 or 1\n        sb.append(sum % 2);\n\n        // Get the carry.\n        carry = sum / 2;\n    }\n\n    if (carry != 0) { sb.append(carry); }\n\n    // First reverse and then return.\n    return sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1909086,"reputation":1,"user_id":1723377,"display_name":"balusu48"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570113828,"creation_date":1570112520,"answer_id":58221167,"question_id":8548586,"body_markdown":"    Try this, tested with binary and decimal and its self explanatory\r\n    \r\n    public String add(String s1, String s2, int radix){\r\n            int s1Length = s1.length();\r\n            int s2Length = s2.length();\r\n            int reminder = 0;\r\n            int carry = 0;\r\n            StringBuilder result = new StringBuilder();\r\n            int i = s1Length -1;\r\n            int j = s2Length -1;\r\n            while (i &gt;=0 &amp;&amp; j&gt;=0) {\r\n                int operand1 = Integer.valueOf(s1.charAt(i)+&quot;&quot;);\r\n                int operand2 = Integer.valueOf(s2.charAt(j)+&quot;&quot;);\r\n                reminder = (operand1+operand2+carry) % radix;\r\n                carry = (operand1+operand2+carry) / radix;\r\n                result.append(reminder);\r\n                i--;j--;\r\n            }\r\n            while(i&gt;=0){\r\n                int operand1 = Integer.valueOf(s1.charAt(i)+&quot;&quot;);\r\n                reminder = (operand1+carry) % radix;\r\n                carry = (operand1+carry) / radix;\r\n                result.append(reminder);\r\n                i--;\r\n            }\r\n            while(j&gt;=0){\r\n                int operand1 = Integer.valueOf(s2.charAt(j)+&quot;&quot;);\r\n                reminder = (operand1+carry) % radix;\r\n                carry = (operand1+carry) / radix;\r\n                result.append(reminder);\r\n                j--;\r\n            }\r\n            return result.reverse().toString();\r\n        }\r\n    }","title":"Adding binary numbers","body":"<pre><code>Try this, tested with binary and decimal and its self explanatory\n\npublic String add(String s1, String s2, int radix){\n        int s1Length = s1.length();\n        int s2Length = s2.length();\n        int reminder = 0;\n        int carry = 0;\n        StringBuilder result = new StringBuilder();\n        int i = s1Length -1;\n        int j = s2Length -1;\n        while (i &gt;=0 &amp;&amp; j&gt;=0) {\n            int operand1 = Integer.valueOf(s1.charAt(i)+\"\");\n            int operand2 = Integer.valueOf(s2.charAt(j)+\"\");\n            reminder = (operand1+operand2+carry) % radix;\n            carry = (operand1+operand2+carry) / radix;\n            result.append(reminder);\n            i--;j--;\n        }\n        while(i&gt;=0){\n            int operand1 = Integer.valueOf(s1.charAt(i)+\"\");\n            reminder = (operand1+carry) % radix;\n            carry = (operand1+carry) / radix;\n            result.append(reminder);\n            i--;\n        }\n        while(j&gt;=0){\n            int operand1 = Integer.valueOf(s2.charAt(j)+\"\");\n            reminder = (operand1+carry) % radix;\n            carry = (operand1+carry) / radix;\n            result.append(reminder);\n            j--;\n        }\n        return result.reverse().toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7080583,"reputation":51,"user_id":5419147,"display_name":"suresh babu garine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585344295,"creation_date":1585344295,"answer_id":60894308,"question_id":8548586,"body_markdown":"    public String addBinary(String a, String b) { \r\n        int carry = 0;\r\n        StringBuilder sb = new StringBuilder();\r\n        for(int i = a.length() - 1, j = b.length() - 1;i &gt;= 0 || j &gt;= 0;i--,j--){\r\n            int sum = carry + (i &gt;= 0 ? a.charAt(i) - &#39;0&#39;:0) + (j &gt;= 0 ? b.charAt(j) - &#39;0&#39; : 0);\r\n            sb.append(sum%2);\r\n            carry =sum / 2;\r\n        }\r\n        if(carry &gt; 0) sb.append(carry);\r\n        sb.reverse();\r\n        return sb.toString();\r\n    }","title":"Adding binary numbers","body":"<pre><code>public String addBinary(String a, String b) { \n    int carry = 0;\n    StringBuilder sb = new StringBuilder();\n    for(int i = a.length() - 1, j = b.length() - 1;i &gt;= 0 || j &gt;= 0;i--,j--){\n        int sum = carry + (i &gt;= 0 ? a.charAt(i) - '0':0) + (j &gt;= 0 ? b.charAt(j) - '0' : 0);\n        sb.append(sum%2);\n        carry =sum / 2;\n    }\n    if(carry &gt; 0) sb.append(carry);\n    sb.reverse();\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12580041,"reputation":39,"user_id":10947076,"display_name":"Abel Kibebe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670551043,"creation_date":1670551043,"answer_id":74738184,"question_id":8548586,"body_markdown":"    static int addBinaryNumbers(String a, String b) {\r\n    \tint firstToDecimal = 0;\r\n    \tint secondToDecimal = 0;\r\n    \tfor (int i = a.length() - 1, count = 0; i &gt;= 0; i--, count++) {\r\n    \t\tfirstToDecimal += (Math.pow(2, count) * Integer.parseInt(String.valueOf(a.toCharArray()[i])));\r\n    \r\n    \t}\r\n    \tfor (int i = b.length() - 1, count = 0; i &gt;= 0; i--, count++) {\r\n    \t\tsecondToDecimal += (Math.pow(2, count) * Integer.parseInt(String.valueOf(b.toCharArray()[i])));\r\n    \r\n    \t}\r\n    \treturn firstToDecimal + secondToDecimal;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(addBinaryNumbers(&quot;101&quot;, &quot;110&quot;));\r\n    \r\n    }\r\n\r\n","title":"Adding binary numbers","body":"<pre><code>static int addBinaryNumbers(String a, String b) {\n    int firstToDecimal = 0;\n    int secondToDecimal = 0;\n    for (int i = a.length() - 1, count = 0; i &gt;= 0; i--, count++) {\n        firstToDecimal += (Math.pow(2, count) * Integer.parseInt(String.valueOf(a.toCharArray()[i])));\n\n    }\n    for (int i = b.length() - 1, count = 0; i &gt;= 0; i--, count++) {\n        secondToDecimal += (Math.pow(2, count) * Integer.parseInt(String.valueOf(b.toCharArray()[i])));\n\n    }\n    return firstToDecimal + secondToDecimal;\n}\n\npublic static void main(String[] args) {\n    System.out.println(addBinaryNumbers(&quot;101&quot;, &quot;110&quot;));\n\n}\n</code></pre>\n"}],"owner":{"account_id":1111769,"reputation":1846,"user_id":1102109,"accept_rate":95,"display_name":"PulsePanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104097,"favorite_count":0,"down_vote_count":3,"up_vote_count":25,"accepted_answer_id":8548599,"answer_count":22,"score":22,"last_activity_date":1670551043,"creation_date":1324163154,"question_id":8548586,"body_markdown":"Does anyone know how to add 2 binary numbers, entered as binary, in Java?\r\n\r\nFor example, `1010 + 10 = 1100`.","title":"Adding binary numbers","body":"<p>Does anyone know how to add 2 binary numbers, entered as binary, in Java?</p>\n\n<p>For example, <code>1010 + 10 = 1100</code>.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1670536795,"post_id":74736786,"comment_id":131903690,"body_markdown":"what &quot;doesn&quot;t work mean ? You should also know that this only works for one code execution, not separate code execution `shipObs.add(this);` is the valid way","body":"what &quot;doesn&quot;t work mean ? You should also know that this only works for one code execution, not separate code execution <code>shipObs.add(this);</code> is the valid way"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1670537179,"post_id":74736786,"comment_id":131903801,"body_markdown":"`if (ships.get(i).equals(name)) { System.out.println(&quot;Ship &quot;+name+&quot; cannot be created because that name already exists&quot;); return; }` Whoa! This is in a constructor.  The object will still be created. Code like this can result in a partially constructed object.","body":"<code>if (ships.get(i).equals(name)) { System.out.println(&quot;Ship &quot;+name+&quot; cannot be created because that name already exists&quot;); return; }</code> Whoa! This is in a constructor.  The object will still be created. Code like this can result in a partially constructed object."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670537383,"post_id":74736786,"comment_id":131903849,"body_markdown":"And so you need to throw an exception if you can&#39;t create the object","body":"And so you need to throw an exception if you can&#39;t create the object"},{"owner":{"account_id":20106997,"reputation":5,"user_id":14744252,"display_name":"Beta Chad"},"score":0,"creation_date":1670537704,"post_id":74736786,"comment_id":131903933,"body_markdown":"Oh, I thought that it would abort the initialization... I&#39;m VERY new to Java, so I tried to steer away from throwing Exceptions (for now) because it makes the code messy, and having to try and catch so often during testing is a drag.","body":"Oh, I thought that it would abort the initialization... I&#39;m VERY new to Java, so I tried to steer away from throwing Exceptions (for now) because it makes the code messy, and having to try and catch so often during testing is a drag."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670538047,"post_id":74736786,"comment_id":131904002,"body_markdown":"You still haven&#39;t explained what &quot;doesn&#39;t work&quot; means.","body":"You still haven&#39;t explained what &quot;doesn&#39;t work&quot; means."},{"owner":{"account_id":20106997,"reputation":5,"user_id":14744252,"display_name":"Beta Chad"},"score":0,"creation_date":1670538928,"post_id":74736786,"comment_id":131904197,"body_markdown":"I&#39;m not sure why I was thinking that ```shipObs.add(this);``` wasn&#39;t working. I tested it again, and its working fine. Either way, thanks for sharing about the inaccuracy of my return statements -- I thought that if I wanted a method to throw an exception then I would have to declare that like such: ```static public class Ship throws Exception {}```","body":"I&#39;m not sure why I was thinking that <code>shipObs.add(this);</code> wasn&#39;t working. I tested it again, and its working fine. Either way, thanks for sharing about the inaccuracy of my return statements -- I thought that if I wanted a method to throw an exception then I would have to declare that like such: <code>static public class Ship throws Exception {}</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670539916,"post_id":74736786,"comment_id":131904421,"body_markdown":"Not the class. Exceptions are thrown by *methods*.  `public Ship(String name, int maxPassengers) throws DuplicateShipException {` . Or, from my answer `public static Ship createAShip (String name, int maxPassengers) throwsDuplicateShipException {`","body":"Not the class. Exceptions are thrown by <i>methods</i>.  <code>public Ship(String name, int maxPassengers) throws DuplicateShipException {</code> . Or, from my answer <code>public static Ship createAShip (String name, int maxPassengers) throwsDuplicateShipException {</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670540363,"post_id":74736786,"comment_id":131904498,"body_markdown":"`shipObs.add(this);` inside the constructor can generate a &quot;Leaking this in constructor&quot; warning. It&#39;s not necessarily a problem. You can read more at https://stackoverflow.com/questions/3921616/leaking-this-in-constructor-warning .","body":"<code>shipObs.add(this);</code> inside the constructor can generate a &quot;Leaking this in constructor&quot; warning. It&#39;s not necessarily a problem. You can read more at <a href=\"https://stackoverflow.com/questions/3921616/leaking-this-in-constructor-warning\" title=\"leaking this in constructor warning\">stackoverflow.com/questions/3921616/&hellip;</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670541103,"post_id":74736786,"comment_id":131904655,"body_markdown":"To be clear, a constructor is allowed to have `return` statements. It can even have more than one `return` statement. But, all paths to a `return` statement must result in a completely constructed `this`.","body":"To be clear, a constructor is allowed to have <code>return</code> statements. It can even have more than one <code>return</code> statement. But, all paths to a <code>return</code> statement must result in a completely constructed <code>this</code>."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670537592,"creation_date":1670537592,"answer_id":74736888,"question_id":74736786,"body_markdown":"You can&#39;t just use a `return` in the constructor, that would just avoid the next parameter association, you needs to throw an error to stop the instanciation process\r\n\r\nIf you may need the full objects in a list, track them only with a `List&lt;Ship&gt;`\r\n\r\nYou&#39;ll the simplified `if/else` system, you can try to iterate over an empty, it doesn&#39;t matter, so just do it \r\n\r\n```java\r\nclass Ship {\r\n    private static List&lt;Ship&gt; ships = new ArrayList&lt;&gt;();\r\n    String name;\r\n    int maxPassengers;\r\n\r\n    public Ship(String name, int maxPassengers) {\r\n        this.name = name;\r\n        for (Ship ship : ships) {\r\n            System.out.println(ship + &quot; &quot; + ship.equals(this));\r\n            if (ship.equals(this)) {\r\n                String msg = &quot;Ship &quot; + ship.name + &quot; cannot be created because that name already exists&quot;;\r\n                System.out.println(msg);\r\n                throw new IllegalArgumentException(msg);\r\n            }\r\n        }\r\n        ships.add(this);\r\n        this.maxPassengers = maxPassengers;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Ship ship = (Ship) o;\r\n        return name.equals(ship.name);\r\n    }\r\n}\r\n```\r\n\r\nIf you don&#39;t care about the full objects, just use a `List&lt;String&gt;`\r\n\r\n\r\n    private static List&lt;String&gt; shipNames = new ArrayList&lt;&gt;();\r\n    public Ship(String name, int maxPassengers) {\r\n        for (String ship : shipNames) {\r\n            if (ship.equals(name)) {\r\n                String msg = &quot;Ship &quot; + name + &quot; cannot be created because that name already exists&quot;;\r\n                System.out.println(msg);\r\n                throw new IllegalArgumentException(msg);\r\n            }\r\n        }\r\n        this.name = name;\r\n        shipNames.add(name);\r\n        this.maxPassengers = maxPassengers;\r\n    }\r\n\r\n\r\n-----\r\n\r\n\r\nThe following code will throw the exception at the second line\r\n\r\n    Ship a = new Ship(&quot;ship_1&quot;, 10);\r\n    Ship b = new Ship(&quot;ship_1&quot;, 10);\r\n    Ship c = new Ship(&quot;ship_2&quot;, 10);\r\n\r\n","title":"Adding Created Object to ArrayList During Initialization - Java","body":"<p>You can't just use a <code>return</code> in the constructor, that would just avoid the next parameter association, you needs to throw an error to stop the instanciation process</p>\n<p>If you may need the full objects in a list, track them only with a <code>List&lt;Ship&gt;</code></p>\n<p>You'll the simplified <code>if/else</code> system, you can try to iterate over an empty, it doesn't matter, so just do it</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Ship {\n    private static List&lt;Ship&gt; ships = new ArrayList&lt;&gt;();\n    String name;\n    int maxPassengers;\n\n    public Ship(String name, int maxPassengers) {\n        this.name = name;\n        for (Ship ship : ships) {\n            System.out.println(ship + &quot; &quot; + ship.equals(this));\n            if (ship.equals(this)) {\n                String msg = &quot;Ship &quot; + ship.name + &quot; cannot be created because that name already exists&quot;;\n                System.out.println(msg);\n                throw new IllegalArgumentException(msg);\n            }\n        }\n        ships.add(this);\n        this.maxPassengers = maxPassengers;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Ship ship = (Ship) o;\n        return name.equals(ship.name);\n    }\n}\n</code></pre>\n<p>If you don't care about the full objects, just use a <code>List&lt;String&gt;</code></p>\n<pre><code>private static List&lt;String&gt; shipNames = new ArrayList&lt;&gt;();\npublic Ship(String name, int maxPassengers) {\n    for (String ship : shipNames) {\n        if (ship.equals(name)) {\n            String msg = &quot;Ship &quot; + name + &quot; cannot be created because that name already exists&quot;;\n            System.out.println(msg);\n            throw new IllegalArgumentException(msg);\n        }\n    }\n    this.name = name;\n    shipNames.add(name);\n    this.maxPassengers = maxPassengers;\n}\n</code></pre>\n<hr />\n<p>The following code will throw the exception at the second line</p>\n<pre><code>Ship a = new Ship(&quot;ship_1&quot;, 10);\nShip b = new Ship(&quot;ship_1&quot;, 10);\nShip c = new Ship(&quot;ship_2&quot;, 10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670550842,"creation_date":1670539639,"answer_id":74737155,"question_id":74736786,"body_markdown":"As pointed out in the comments to the question, in addition to the problem asked about, there is another problem:  That is, the premature `return` inside the constructor. Both problems can be addressed by calling the constructor indirectly, through a `static` method.\r\n\r\n\r\n`````\r\nimport java.util.ArrayList;\r\n\r\npublic final class Ship {\r\n\r\n    // private static ArrayList&lt;String&gt; ships = new ArrayList&lt;String&gt;();\r\n    private static ArrayList&lt;Ship&gt; shipObs = new ArrayList&lt;Ship&gt;();\r\n    String name;\r\n    private ArrayList&lt;String&gt; cruises = new ArrayList&lt;String&gt;();\r\n    int maxPassengers;\r\n    private static final String[] CABINS = \r\n          new String[]{&quot;Balcony&quot;, &quot;Ocean View&quot;, &quot;Suite&quot;, &quot;Interior&quot;};\r\n    private int[] passengers = new int[]{0, 0, 0, 0};\r\n    boolean inService = false;\r\n\r\n    private Ship(String name, int maxPassengers) {\r\n\r\n        this.name = name;\r\n        // shipObs.add (this);\r\n        this.maxPassengers = maxPassengers;\r\n    }\r\n\r\n    public static Ship createAShip(String name, int maxPassengers) {\r\n\r\n        for (int i = 0; i &lt; shipObs.size(); i++) {\r\n            if (shipObs.get(i).name.equals(name)) {\r\n                System.out.println(&quot;Ship &quot; + name \r\n                    + &quot; cannot be created because that name already exists&quot;);\r\n                return shipObs.get(i);\r\n            }\r\n        }\r\n        Ship theShip = new Ship(name, maxPassengers);\r\n        ShipObs.add (theShip);\r\n        return theShip;\r\n    }\r\n}\r\n`````\r\n\r\nI made the constructor `private`. This prevents client code (code that uses the class) from calling the constructor, forcing use of the `static` method. But, this disables inheritance. To make it clear that inheritance is not allowed, I  added `final` to `public class Ship`. \r\n\r\nAs stated in the comments to the question, a constructor should not `return` before  construction of the Object is complete. If a constructor discovers it cannot be completed, an `Exception` needs to be thrown.\r\n\r\nThe static method first checks for a duplicate `Ship` `name`. If found, it returns the `Ship` that bears that name.  It would be a good idea to change that part of the code to throw an exception. A third option is to have it return `null`. Whatever the choice, it should be made clear to users of the class. This can be done using Javadoc. \r\n\r\nIf a duplicate name is not found, a new `Ship` is created and returned. \r\n\r\nI also simplified the code that checks for a duplicate name.  If `shipObs.size()` returns zero, the `for` loop is not executed. It is not necessary to guard by enclosing within an `if`. \r\n\r\nI also removed `ArrayList&lt;String&gt; ships`. Since an Object in `shipObs` has a `name` field, `ArrayList&lt;String&gt; ships` is redundant. ","title":"Adding Created Object to ArrayList During Initialization - Java","body":"<p>As pointed out in the comments to the question, in addition to the problem asked about, there is another problem:  That is, the premature <code>return</code> inside the constructor. Both problems can be addressed by calling the constructor indirectly, through a <code>static</code> method.</p>\n<pre><code>import java.util.ArrayList;\n\npublic final class Ship {\n\n    // private static ArrayList&lt;String&gt; ships = new ArrayList&lt;String&gt;();\n    private static ArrayList&lt;Ship&gt; shipObs = new ArrayList&lt;Ship&gt;();\n    String name;\n    private ArrayList&lt;String&gt; cruises = new ArrayList&lt;String&gt;();\n    int maxPassengers;\n    private static final String[] CABINS = \n          new String[]{&quot;Balcony&quot;, &quot;Ocean View&quot;, &quot;Suite&quot;, &quot;Interior&quot;};\n    private int[] passengers = new int[]{0, 0, 0, 0};\n    boolean inService = false;\n\n    private Ship(String name, int maxPassengers) {\n\n        this.name = name;\n        // shipObs.add (this);\n        this.maxPassengers = maxPassengers;\n    }\n\n    public static Ship createAShip(String name, int maxPassengers) {\n\n        for (int i = 0; i &lt; shipObs.size(); i++) {\n            if (shipObs.get(i).name.equals(name)) {\n                System.out.println(&quot;Ship &quot; + name \n                    + &quot; cannot be created because that name already exists&quot;);\n                return shipObs.get(i);\n            }\n        }\n        Ship theShip = new Ship(name, maxPassengers);\n        ShipObs.add (theShip);\n        return theShip;\n    }\n}\n</code></pre>\n<p>I made the constructor <code>private</code>. This prevents client code (code that uses the class) from calling the constructor, forcing use of the <code>static</code> method. But, this disables inheritance. To make it clear that inheritance is not allowed, I  added <code>final</code> to <code>public class Ship</code>.</p>\n<p>As stated in the comments to the question, a constructor should not <code>return</code> before  construction of the Object is complete. If a constructor discovers it cannot be completed, an <code>Exception</code> needs to be thrown.</p>\n<p>The static method first checks for a duplicate <code>Ship</code> <code>name</code>. If found, it returns the <code>Ship</code> that bears that name.  It would be a good idea to change that part of the code to throw an exception. A third option is to have it return <code>null</code>. Whatever the choice, it should be made clear to users of the class. This can be done using Javadoc.</p>\n<p>If a duplicate name is not found, a new <code>Ship</code> is created and returned.</p>\n<p>I also simplified the code that checks for a duplicate name.  If <code>shipObs.size()</code> returns zero, the <code>for</code> loop is not executed. It is not necessary to guard by enclosing within an <code>if</code>.</p>\n<p>I also removed <code>ArrayList&lt;String&gt; ships</code>. Since an Object in <code>shipObs</code> has a <code>name</code> field, <code>ArrayList&lt;String&gt; ships</code> is redundant.</p>\n"}],"owner":{"account_id":20106997,"reputation":5,"user_id":14744252,"display_name":"Beta Chad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74737155,"answer_count":2,"score":0,"last_activity_date":1670550842,"creation_date":1670536692,"question_id":74736786,"body_markdown":"in Java, I am creating a class, and I would like to keep track of all objects the are created in this class. I have implemented a way to store the names of each object (using ArrayList&lt;String&gt;), but I cannot figure out how to store the object itself in the ArrayList. Here is a snippet of my code:\r\n\r\n```\r\n\tstatic public class Ship {\r\n\t\tprivate static ArrayList&lt;String&gt; ships = new ArrayList&lt;String&gt;();\r\n\t\tprivate static ArrayList&lt;Ship&gt; shipObs = new ArrayList&lt;Ship&gt;();\r\n\t\tString name;\r\n\t\tprivate ArrayList&lt;String&gt; cruises = new ArrayList&lt;String&gt;();\r\n\t\tint maxPassengers;\r\n\t\tprivate static final String[] CABINS = new String[] {&quot;Balcony&quot;, &quot;Ocean View&quot;, &quot;Suite&quot;, &quot;Interior&quot;};\r\n\t\tprivate int[] passengers = new int[] {0,0,0,0};\r\n\t\tboolean inService = false;\r\n\t\t\r\n\t\tpublic Ship(String name, int maxPassengers) {\r\n\t\t\t// Ensure that each ship has a unique name\r\n\t\t\tif (ships.size() == 0) {\r\n\t\t\t\tthis.name = name;\r\n\t\t\t\tships.add(name);\r\n\t\t\t}\r\n\t\t\telse if (ships.size() &gt;= 1) {\r\n\t\t\t\tfor (int i=0; i &lt; ships.size(); i++) {\r\n\t\t\t\t\tif (ships.get(i).equals(name)) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Ship &quot;+name+&quot; cannot be created because that name already exists&quot;);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.name = name;\r\n\t\t\t\tships.add(name);\r\n\t\t\t}\r\n\t\t\tthis.maxPassengers = maxPassengers;\r\n```\r\n\r\nAs you can see, I have the static ArrayList&lt;Ship&gt; that I would like to populate with all created ships. I assume that this population would take place in the initializing function, but the only method for doing so that I can see would to do something like\r\n\r\n```\r\nshipObs.add(this);\r\n```\r\nBut that doesn&#39;t work...","title":"Adding Created Object to ArrayList During Initialization - Java","body":"<p>in Java, I am creating a class, and I would like to keep track of all objects the are created in this class. I have implemented a way to store the names of each object (using ArrayList), but I cannot figure out how to store the object itself in the ArrayList. Here is a snippet of my code:</p>\n<pre><code>    static public class Ship {\n        private static ArrayList&lt;String&gt; ships = new ArrayList&lt;String&gt;();\n        private static ArrayList&lt;Ship&gt; shipObs = new ArrayList&lt;Ship&gt;();\n        String name;\n        private ArrayList&lt;String&gt; cruises = new ArrayList&lt;String&gt;();\n        int maxPassengers;\n        private static final String[] CABINS = new String[] {&quot;Balcony&quot;, &quot;Ocean View&quot;, &quot;Suite&quot;, &quot;Interior&quot;};\n        private int[] passengers = new int[] {0,0,0,0};\n        boolean inService = false;\n        \n        public Ship(String name, int maxPassengers) {\n            // Ensure that each ship has a unique name\n            if (ships.size() == 0) {\n                this.name = name;\n                ships.add(name);\n            }\n            else if (ships.size() &gt;= 1) {\n                for (int i=0; i &lt; ships.size(); i++) {\n                    if (ships.get(i).equals(name)) {\n                        System.out.println(&quot;Ship &quot;+name+&quot; cannot be created because that name already exists&quot;);\n                        return;\n                    }\n                }\n                this.name = name;\n                ships.add(name);\n            }\n            this.maxPassengers = maxPassengers;\n</code></pre>\n<p>As you can see, I have the static ArrayList that I would like to populate with all created ships. I assume that this population would take place in the initializing function, but the only method for doing so that I can see would to do something like</p>\n<pre><code>shipObs.add(this);\n</code></pre>\n<p>But that doesn't work...</p>\n"},{"tags":["java","jssc"],"owner":{"account_id":24698282,"reputation":81,"user_id":18589924,"display_name":"4SadMemeXD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670550796,"creation_date":1670550796,"question_id":74738151,"body_markdown":"I need to send AT commands to a concrete port and get the response\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        try {\r\n            String[] portNames = SerialPortList.getPortNames();\r\n\r\n            if (portNames.length &lt; 1) {\r\n                System.out.println(&quot;No ports available&quot;);\r\n                System.exit(0);\r\n            } else {\r\n                serialPort = new SerialPort(&quot;COM25&quot;);\r\n            }\r\n            System.out.println(&quot;Port opened: &quot; + serialPort.openPort());\r\n            System.out.println(&quot;Params set: &quot; + serialPort.setParams(9600, 8, 1, 0));\r\n\r\n            serialPort.writeBytes(&quot;AT\\r\\n&quot;.getBytes());\r\n            serialPort.closePort();\r\n        } catch (SerialPortException ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n\r\nCode executes perfectly but all i have in console is:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agkjo.png\r\n\r\nAs i understand this error is not crucial, but still i&#39;m not getting and answer from port that i need. So the QUESTION IS: how can i get the answer on my request from concrete port on concrete AT command.","title":"Can&#39;t read result after sending AT commands to GSM modem with java and jssc","body":"<p>I need to send AT commands to a concrete port and get the response</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    try {\n        String[] portNames = SerialPortList.getPortNames();\n\n        if (portNames.length &lt; 1) {\n            System.out.println(&quot;No ports available&quot;);\n            System.exit(0);\n        } else {\n            serialPort = new SerialPort(&quot;COM25&quot;);\n        }\n        System.out.println(&quot;Port opened: &quot; + serialPort.openPort());\n        System.out.println(&quot;Params set: &quot; + serialPort.setParams(9600, 8, 1, 0));\n\n        serialPort.writeBytes(&quot;AT\\r\\n&quot;.getBytes());\n        serialPort.closePort();\n    } catch (SerialPortException ex) {\n        System.out.println(ex);\n    }\n}\n</code></pre>\n<p>Code executes perfectly but all i have in console is:</p>\n<p><a href=\"https://i.stack.imgur.com/agkjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agkjo.png\" alt=\"enter image description here\" /></a></p>\n<p>As i understand this error is not crucial, but still i'm not getting and answer from port that i need. So the QUESTION IS: how can i get the answer on my request from concrete port on concrete AT command.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1670549750,"post_id":74738009,"comment_id":131905966,"body_markdown":"Did you read [the language spec](https://docs.oracle.com/javase/specs/jls/se16/html/jls-14.html#jls-14.15)?","body":"Did you read <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-14.html#jls-14.15\" rel=\"nofollow noreferrer\">the language spec</a>?"},{"owner":{"account_id":14114847,"reputation":113,"user_id":10202693,"display_name":""},"score":0,"creation_date":1670550060,"post_id":74738009,"comment_id":131906011,"body_markdown":"Thanks for the link. Now it seems I understand my initial mistake in the meaning of the syntax.","body":"Thanks for the link. Now it seems I understand my initial mistake in the meaning of the syntax."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670550625,"creation_date":1670550625,"answer_id":74738137,"question_id":74738009,"body_markdown":"let&#39;s look how the statements are parsed. The [syntax][1] of a labeled statement is:\r\n\r\n```\r\nLabeledStatement:\r\n    Identifier : Statement\r\nLabeledStatementNoShortIf:\r\n    Identifier : StatementNoShortIf\r\n```\r\n\r\nA labeled statement has a label and contains inner statement.\r\n\r\nSo in the first two cases,\r\n\r\n    Label1:\r\n    Label2:\r\n    break Label2;\r\n\r\nis parsed as a single labeled statement, with the label `Label1` as the label, and another labeled statement as its contained statement. The contained labelled statement has `Label2` as the label, and a break statement as *its* contained statement.\r\n\r\nThe AST looks a bit like this:\r\n\r\n```none\r\nLabeledStatement\r\n    Identifier (&#39;Label1&#39;)\r\n    &#39;:&#39;\r\n    LabeledStatement\r\n        Identifier (&#39;Label2&#39;)\r\n        &#39;:&#39;\r\n        BreakStatement\r\n```\r\n            \r\n        \r\n\r\nIn the third case,\r\n\r\n    Label1:\r\n    Label2:\r\n    break Label1;\r\n    break Label2;\r\n\r\nis parsed as two statements. The first statement has the same structure as above, and the second statement is a break statement.\r\n\r\nThe spec also says:\r\n\r\n&gt; The scope of a label of a labeled statement is the immediately contained Statement.\r\n\r\nThis explains why the third statement does not compile. The scope of the `Label2` label does not include the second statement (`break Label2;`) in the third case. It only includes statement that is immediately following the label. In the first two cases, the labels are all in scope, because you are using them in the contained statement.\r\n\r\nThe semantics of a break statement is specified [here][2].\r\n\r\n&gt; A break statement with label `Identifier` attempts to transfer control to the enclosing labeled statement (&#167;14.7) that has the same Identifier as its label; this enclosing statement, which is called the break target, then immediately completes normally. In this case, the break target need not be a `switch`, `while`, `do`, or `for` statement.\r\n\r\nIn the first two cases, the `break` statement transfers control itself, and immediately causes itself to complete normally. This is basically a no-op, and so does not produce any bytecode.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.7\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.15","title":"JAVA/JAVAC: label &amp; break exact semantic","body":"<p>let's look how the statements are parsed. The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">syntax</a> of a labeled statement is:</p>\n<pre><code>LabeledStatement:\n    Identifier : Statement\nLabeledStatementNoShortIf:\n    Identifier : StatementNoShortIf\n</code></pre>\n<p>A labeled statement has a label and contains inner statement.</p>\n<p>So in the first two cases,</p>\n<pre><code>Label1:\nLabel2:\nbreak Label2;\n</code></pre>\n<p>is parsed as a single labeled statement, with the label <code>Label1</code> as the label, and another labeled statement as its contained statement. The contained labelled statement has <code>Label2</code> as the label, and a break statement as <em>its</em> contained statement.</p>\n<p>The AST looks a bit like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>LabeledStatement\n    Identifier ('Label1')\n    ':'\n    LabeledStatement\n        Identifier ('Label2')\n        ':'\n        BreakStatement\n</code></pre>\n<p>In the third case,</p>\n<pre><code>Label1:\nLabel2:\nbreak Label1;\nbreak Label2;\n</code></pre>\n<p>is parsed as two statements. The first statement has the same structure as above, and the second statement is a break statement.</p>\n<p>The spec also says:</p>\n<blockquote>\n<p>The scope of a label of a labeled statement is the immediately contained Statement.</p>\n</blockquote>\n<p>This explains why the third statement does not compile. The scope of the <code>Label2</code> label does not include the second statement (<code>break Label2;</code>) in the third case. It only includes statement that is immediately following the label. In the first two cases, the labels are all in scope, because you are using them in the contained statement.</p>\n<p>The semantics of a break statement is specified <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.15\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>A break statement with label <code>Identifier</code> attempts to transfer control to the enclosing labeled statement (14.7) that has the same Identifier as its label; this enclosing statement, which is called the break target, then immediately completes normally. In this case, the break target need not be a <code>switch</code>, <code>while</code>, <code>do</code>, or <code>for</code> statement.</p>\n</blockquote>\n<p>In the first two cases, the <code>break</code> statement transfers control itself, and immediately causes itself to complete normally. This is basically a no-op, and so does not produce any bytecode.</p>\n"}],"owner":{"account_id":14114847,"reputation":113,"user_id":10202693,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74738137,"answer_count":1,"score":0,"last_activity_date":1670550625,"creation_date":1670549101,"question_id":74738009,"body_markdown":"Let consider some examples on label and break statements in Java and try to compile its by OpenJDK (v18) javac. The main goal is the getting exact semantics of labels and branches (and continues).\r\n\r\nVersion1.\r\n```\r\npublic class L {\r\n    public static void main( String[] args) {\r\n        System.out.println( &quot;Start\\n&quot;);\r\nLabel1:\r\nLabel2:\r\n        break Label1;\r\n        //break Label2;\r\n        System.out.println( &quot;Finish\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCompile and disassembly.\r\n\r\n```\r\n$ javac L.java &amp;&amp; echo $?\r\n0\r\n$ javap -c L\r\n    ...\r\n    Code:\r\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3: ldc           #13                 // String Start\\n\r\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       8: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      11: ldc           #21                 // String Finish\\n\r\n      13: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      16: return\r\n}\r\n```\r\n\r\nThere is no any goto instructions in bytecode. (Possibly it is a result of the optimization during a bytecode generation. The AST of this example have a JCLabeledStatement and a JCBreak tree nodes.) Change example in two ways.\r\n\r\nVersion2.\r\n\r\n```\r\n        //break Label1;\r\n        break Label2;\r\n```\r\nIt is still like Version1.\r\n\r\nVersion3.\r\n```\r\n        break Label1;\r\n        break Label2;\r\n...\r\n$ javac L.java\r\nL.java:8: error: undefined label: Label2\r\n        break Label2;\r\n        ^\r\n1 error\r\n```\r\n\r\nIs Version3 an incorrect? When javac compiles Version1 and Version2 is it feature? Or the examples are both incorrect, but OpenJDK&#39;s javac doesn&#39;t catch syntax errors according to JAVA Language Standard. \r\n\r\n\r\nPOSSIBLE EXPLANATION.\r\n\r\n```\r\nLabel1:\r\nLabel2:\r\n    break Label1;\r\n```\r\n\r\nmeans\r\n\r\n```\r\nLabel1: {\r\n    Label2: {\r\n        break Label1;\r\n    }\r\n}\r\n```\r\n\r\nand Version3 means\r\n\r\n```\r\nLabel1: {\r\n    Label2: {\r\n        break Label1;\r\n    }\r\n}\r\nbreak Label2;\r\n```\r\n\r\nOf course ```break Label2``` tryies to use Label2 outside of its scope.\r\n(Numerous tutorials about ```break``` with label concentrate on for/while.)","title":"JAVA/JAVAC: label &amp; break exact semantic","body":"<p>Let consider some examples on label and break statements in Java and try to compile its by OpenJDK (v18) javac. The main goal is the getting exact semantics of labels and branches (and continues).</p>\n<p>Version1.</p>\n<pre><code>public class L {\n    public static void main( String[] args) {\n        System.out.println( &quot;Start\\n&quot;);\nLabel1:\nLabel2:\n        break Label1;\n        //break Label2;\n        System.out.println( &quot;Finish\\n&quot;);\n    }\n}\n</code></pre>\n<p>Compile and disassembly.</p>\n<pre><code>$ javac L.java &amp;&amp; echo $?\n0\n$ javap -c L\n    ...\n    Code:\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       3: ldc           #13                 // String Start\\n\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n       8: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      11: ldc           #21                 // String Finish\\n\n      13: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      16: return\n}\n</code></pre>\n<p>There is no any goto instructions in bytecode. (Possibly it is a result of the optimization during a bytecode generation. The AST of this example have a JCLabeledStatement and a JCBreak tree nodes.) Change example in two ways.</p>\n<p>Version2.</p>\n<pre><code>        //break Label1;\n        break Label2;\n</code></pre>\n<p>It is still like Version1.</p>\n<p>Version3.</p>\n<pre><code>        break Label1;\n        break Label2;\n...\n$ javac L.java\nL.java:8: error: undefined label: Label2\n        break Label2;\n        ^\n1 error\n</code></pre>\n<p>Is Version3 an incorrect? When javac compiles Version1 and Version2 is it feature? Or the examples are both incorrect, but OpenJDK's javac doesn't catch syntax errors according to JAVA Language Standard.</p>\n<p>POSSIBLE EXPLANATION.</p>\n<pre><code>Label1:\nLabel2:\n    break Label1;\n</code></pre>\n<p>means</p>\n<pre><code>Label1: {\n    Label2: {\n        break Label1;\n    }\n}\n</code></pre>\n<p>and Version3 means</p>\n<pre><code>Label1: {\n    Label2: {\n        break Label1;\n    }\n}\nbreak Label2;\n</code></pre>\n<p>Of course <code>break Label2</code> tryies to use Label2 outside of its scope.\n(Numerous tutorials about <code>break</code> with label concentrate on for/while.)</p>\n"},{"tags":["java","eclipse","jakarta-ee","rad"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":3,"creation_date":1343313733,"post_id":11671789,"comment_id":15470661,"body_markdown":"Can you provide the code snippits? It could be something subtle in either how you call the method or the like.","body":"Can you provide the code snippits? It could be something subtle in either how you call the method or the like."},{"owner":{"account_id":1671688,"reputation":3549,"user_id":1538036,"display_name":"davidfmatheson"},"score":0,"creation_date":1343314158,"post_id":11671789,"comment_id":15470977,"body_markdown":"Maybe you&#39;re trying to call a static method from a non-static method? Post some code.","body":"Maybe you&#39;re trying to call a static method from a non-static method? Post some code."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1343314458,"post_id":11671789,"comment_id":15471053,"body_markdown":"Perhaps the file is in a different folder (package), and that folder isn&#39;t on your classpath?","body":"Perhaps the file is in a different folder (package), and that folder isn&#39;t on your classpath?"},{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":1,"creation_date":1343315129,"post_id":11671789,"comment_id":15471429,"body_markdown":"I am certain you have the class duplicated somewhere. Probably there is an old jar lying around. Happened to me once.","body":"I am certain you have the class duplicated somewhere. Probably there is an old jar lying around. Happened to me once."},{"owner":{"account_id":295152,"reputation":812,"user_id":599415,"accept_rate":90,"display_name":"roark"},"score":0,"creation_date":1343316164,"post_id":11671789,"comment_id":15471966,"body_markdown":"So I see that there indeed is a duplicate class without this method in another project in my workspace, however the package name is completely different. Why would my project use that class if I&#39;m importing a different package from a different project?","body":"So I see that there indeed is a duplicate class without this method in another project in my workspace, however the package name is completely different. Why would my project use that class if I&#39;m importing a different package from a different project?"},{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":1,"creation_date":1343317157,"post_id":11671789,"comment_id":15472482,"body_markdown":"@berns This eclipse plugin might be able to help you, it can show any blocked (obscured) classes. http://classpathhelper.sourceforge.net/","body":"@berns This eclipse plugin might be able to help you, it can show any blocked (obscured) classes. <a href=\"http://classpathhelper.sourceforge.net/\" rel=\"nofollow noreferrer\">classpathhelper.sourceforge.net</a>"},{"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"score":0,"creation_date":1343322731,"post_id":11671789,"comment_id":15475064,"body_markdown":"you may also want to end your if statement with another ).","body":"you may also want to end your if statement with another )."},{"owner":{"account_id":295152,"reputation":812,"user_id":599415,"accept_rate":90,"display_name":"roark"},"score":0,"creation_date":1343326553,"post_id":11671789,"comment_id":15476763,"body_markdown":"Sorry about that, the if statement is fine in the actual code, I messed that up here trying to format it. Well, I wish I can say I tried some of your plugins and it worked, but I didn&#39;t get the chance to. A couple rebuilds and the problem went away. This did help me think about what might be wrong though, so I&#39;ll mark this as the answer.","body":"Sorry about that, the if statement is fine in the actual code, I messed that up here trying to format it. Well, I wish I can say I tried some of your plugins and it worked, but I didn&#39;t get the chance to. A couple rebuilds and the problem went away. This did help me think about what might be wrong though, so I&#39;ll mark this as the answer."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343314954,"creation_date":1343314954,"answer_id":11672264,"question_id":11671789,"body_markdown":"The class can be declared twice in the same package. Therefore only the first class is loaded, and the second class has your missing method.\r\n\r\nWhat a mess, you hide a method from yourself :D","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>The class can be declared twice in the same package. Therefore only the first class is loaded, and the second class has your missing method.</p>\n\n<p>What a mess, you hide a method from yourself :D</p>\n"},{"tags":[],"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343317710,"creation_date":1343317710,"answer_id":11673139,"question_id":11671789,"body_markdown":"This Eclipse plugin [Classpath Helper][1] can show blocked classes: http://classpathhelper.sourceforge.net/\r\n\r\nBlocked classes happen when you have identical classes in different jar.\r\n\r\n\r\n  [1]: http://classpathhelper.sourceforge.net/","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>This Eclipse plugin <a href=\"http://classpathhelper.sourceforge.net/\" rel=\"nofollow\">Classpath Helper</a> can show blocked classes: <a href=\"http://classpathhelper.sourceforge.net/\" rel=\"nofollow\">http://classpathhelper.sourceforge.net/</a></p>\n\n<p>Blocked classes happen when you have identical classes in different jar.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395082356,"creation_date":1395074380,"answer_id":22460139,"question_id":11671789,"body_markdown":"I had this same issue.  Eclipse was picking up the same code from same two jars, even though they were declared in two separate workspaces.  I was using projects - workspace and projects - workspace_new.  \r\n\r\nI removed the other workspace and did a clean project, but to no avail at first.  I had multiple locations where the identical jars were.  I actually had to shut my laptop down to clear out everything as closing out and restarting eclipse wouldn&#39;t fix it.  After I did that however, everything resolved and the compile errors went away.\r\nThen I added the workspace back in I had removed and eclipse was able to keep things clean. ","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I had this same issue.  Eclipse was picking up the same code from same two jars, even though they were declared in two separate workspaces.  I was using projects - workspace and projects - workspace_new.  </p>\n\n<p>I removed the other workspace and did a clean project, but to no avail at first.  I had multiple locations where the identical jars were.  I actually had to shut my laptop down to clear out everything as closing out and restarting eclipse wouldn't fix it.  After I did that however, everything resolved and the compile errors went away.\nThen I added the workspace back in I had removed and eclipse was able to keep things clean. </p>\n"},{"tags":[],"owner":{"account_id":3618984,"reputation":119,"user_id":3018233,"display_name":"Mokhtar Kalmoush"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471024821,"creation_date":1471024821,"answer_id":38923953,"question_id":11671789,"body_markdown":"I had same issue, Cleaning the project did the trick :)","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I had same issue, Cleaning the project did the trick :)</p>\n"},{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473090232,"creation_date":1473090232,"answer_id":39333943,"question_id":11671789,"body_markdown":"You have a duplicate class in your classpath.  In my case, `Schema.getLogicalType()` gave a method undefined error but the other `Schema` methods were working fine and would show up in Eclipse assist.  I highlighted `getLogicalType` and pressed F3 and linked the source.  Sure enough the method existed.  I found the fix when I opened the `.classpath`.  The source was linked to a different jar file.  It got linked to `phoenix-4.7.0-HBase-1.1-client.jar` and it had an older `org.apache.avro.Schema` package inside it.  The phoenix.jar conflicted with my `avro-1.8.1.jar`.  So I just removed the phoenix.jar from the classpath to fix the problem.  Hope this gives you an idea on how to fix a method undefined error.","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>You have a duplicate class in your classpath.  In my case, <code>Schema.getLogicalType()</code> gave a method undefined error but the other <code>Schema</code> methods were working fine and would show up in Eclipse assist.  I highlighted <code>getLogicalType</code> and pressed F3 and linked the source.  Sure enough the method existed.  I found the fix when I opened the <code>.classpath</code>.  The source was linked to a different jar file.  It got linked to <code>phoenix-4.7.0-HBase-1.1-client.jar</code> and it had an older <code>org.apache.avro.Schema</code> package inside it.  The phoenix.jar conflicted with my <code>avro-1.8.1.jar</code>.  So I just removed the phoenix.jar from the classpath to fix the problem.  Hope this gives you an idea on how to fix a method undefined error.</p>\n"},{"tags":[],"owner":{"account_id":1203596,"reputation":3072,"user_id":1173776,"accept_rate":93,"display_name":"John C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476442806,"creation_date":1476442806,"answer_id":40041554,"question_id":11671789,"body_markdown":"I also had this issue.  In my case I had written the call to the function before actually creating the function so initially the error was expected.  However after the function was created the error remained.  I seems eclipse cached the error in the tab and didn&#39;t recheck the error when switching between tabs.  Closing and reopening the tab fixed it for me.","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I also had this issue.  In my case I had written the call to the function before actually creating the function so initially the error was expected.  However after the function was created the error remained.  I seems eclipse cached the error in the tab and didn't recheck the error when switching between tabs.  Closing and reopening the tab fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509103249,"creation_date":1509103249,"answer_id":46973861,"question_id":11671789,"body_markdown":"It could be that you have the class in your source code and the class of the same name, but older and without that method, in the jar. And you see the jar class. ","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>It could be that you have the class in your source code and the class of the same name, but older and without that method, in the jar. And you see the jar class. </p>\n"},{"tags":[],"owner":{"account_id":12638067,"reputation":1,"user_id":9186584,"display_name":"Lulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525759161,"creation_date":1525759161,"answer_id":50226817,"question_id":11671789,"body_markdown":"I had the same issue. Closing and opening the tab was not enough. Had to restart eclipse.","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I had the same issue. Closing and opening the tab was not enough. Had to restart eclipse.</p>\n"},{"tags":[],"owner":{"account_id":25573913,"reputation":1,"user_id":19353789,"display_name":"Jack Mason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659129634,"creation_date":1659129634,"answer_id":73171098,"question_id":11671789,"body_markdown":"I tried cleaning, rebuilding, closing both files and reopening them. None of that worked. Restarting Eclipse worked.","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I tried cleaning, rebuilding, closing both files and reopening them. None of that worked. Restarting Eclipse worked.</p>\n"}],"owner":{"account_id":295152,"reputation":812,"user_id":599415,"accept_rate":90,"display_name":"roark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36550,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":9,"score":2,"last_activity_date":1670550589,"creation_date":1343313615,"question_id":11671789,"body_markdown":"I&#39;m working in RAD 7.5. I&#39;m importing a package from one web project into another. I instantiate the class and try to use one of its method, but I get a build error that the method is undefined. The method is public. All other methods work except this one. The project from which I&#39;m importing is built properly. I&#39;ve tried deleting both projects, grabbing them from version control again, and rebuilding them. What on earth could possible be the problem or what else can I check in eclipse (RAD 7.5)?\r\n\r\n**Additional information:**\r\n\r\nThe method being called is not static. It is public and being called from a not static, protected, method.\r\n\r\n**Code snippets**\r\n\r\n**Class I&#39;m importing:**\r\n\r\n    package com.state;\r\n    \r\n    public TelcoVariableTracker() {\r\n        super();\r\n    }\r\n    \r\n    public boolean isMedicalFlag() {\r\n        return isMedicalFlag;\r\n    }\r\n\r\n**Class with the build error:**\r\n\r\n    import com.state.TelcoVariableTracker;\r\n                \r\n    protected method() {\r\n                \r\n    TelcoVariableTracker phoneInfo = HttpSessionUtils.getTelcoVariableTracker(request);\r\n                  \r\n        if (phoneInfo.isMedicalFlag() {  // Build error: The method isMedicalFlag() is undefined for the type TelcoVariableTracker\r\n            // Do things\r\n        }\r\n    }","title":"Eclipse is telling me a method is undefined when it clearly is in fact defined","body":"<p>I'm working in RAD 7.5. I'm importing a package from one web project into another. I instantiate the class and try to use one of its method, but I get a build error that the method is undefined. The method is public. All other methods work except this one. The project from which I'm importing is built properly. I've tried deleting both projects, grabbing them from version control again, and rebuilding them. What on earth could possible be the problem or what else can I check in eclipse (RAD 7.5)?</p>\n\n<p><strong>Additional information:</strong></p>\n\n<p>The method being called is not static. It is public and being called from a not static, protected, method.</p>\n\n<p><strong>Code snippets</strong></p>\n\n<p><strong>Class I'm importing:</strong></p>\n\n<pre><code>package com.state;\n\npublic TelcoVariableTracker() {\n    super();\n}\n\npublic boolean isMedicalFlag() {\n    return isMedicalFlag;\n}\n</code></pre>\n\n<p><strong>Class with the build error:</strong></p>\n\n<pre><code>import com.state.TelcoVariableTracker;\n\nprotected method() {\n\nTelcoVariableTracker phoneInfo = HttpSessionUtils.getTelcoVariableTracker(request);\n\n    if (phoneInfo.isMedicalFlag() {  // Build error: The method isMedicalFlag() is undefined for the type TelcoVariableTracker\n        // Do things\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":1,"creation_date":1670860563,"post_id":74738124,"comment_id":131965335,"body_markdown":"You can set a `completionSize`on the aggregator, which determines the &quot;number of messages aggregated before the aggregation is complete&quot;.  More info here: https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html","body":"You can set a <code>completionSize</code>on the aggregator, which determines the &quot;number of messages aggregated before the aggregation is complete&quot;.  More info here: <a href=\"https://camel.apache.org/components/3.18.x/eips/aggregate-eip.html\" rel=\"nofollow noreferrer\">camel.apache.org/components/3.18.x/eips/aggregate-eip.html</a>"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670550510,"creation_date":1670550510,"question_id":74738124,"body_markdown":"Using Apache camel, version: 3.19.0\r\n\r\nI have a route that receives a body as a list with many elements.\r\n\r\nI process each element of this list (MyProcessor).\r\n\r\nI would like to send to the next route the messages grouped by 10 elements. I don&#39;t know  how to do it, I tried using aggregate but with no success.\r\n\r\n    from(&quot;direct:process-json&quot;)\r\n            .process(new MyProcessor()).marshal().json().to(&quot;direct:route2&quot;);\r\n\r\nHow can I send to route2 body items grouped by up to 10 elements?\r\n","title":"Apache camel aggregate by fized size","body":"<p>Using Apache camel, version: 3.19.0</p>\n<p>I have a route that receives a body as a list with many elements.</p>\n<p>I process each element of this list (MyProcessor).</p>\n<p>I would like to send to the next route the messages grouped by 10 elements. I don't know  how to do it, I tried using aggregate but with no success.</p>\n<pre><code>from(&quot;direct:process-json&quot;)\n        .process(new MyProcessor()).marshal().json().to(&quot;direct:route2&quot;);\n</code></pre>\n<p>How can I send to route2 body items grouped by up to 10 elements?</p>\n"},{"tags":["java","json","spring-boot","jackson","gson"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670568826,"post_id":74737856,"comment_id":131908745,"body_markdown":"*&quot;Just that the values are returning null&quot;* - You mean all the fields are null? Can you print the object on the console and post it (don&#39;t forget that you need to override `toString()` method for it to be properly displayed.","body":"<i>&quot;Just that the values are returning null&quot;</i> - You mean all the fields are null? Can you print the object on the console and post it (don&#39;t forget that you need to override <code>toString()</code> method for it to be properly displayed."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670568909,"post_id":74737856,"comment_id":131908768,"body_markdown":"*//fullname mock here* - what do you mean by *mock*, you&#39;re expected to a `String` field `fullname`?","body":"<i>//fullname mock here</i> - what do you mean by <i>mock</i>, you&#39;re expected to a <code>String</code> field <code>fullname</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670550257,"creation_date":1670550257,"answer_id":74738107,"question_id":74737856,"body_markdown":"what is `//fullname mock here`?&lt;br&gt;\r\nits working\r\n```lang-java\r\npackage com.example.springdatademo;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport lombok.Data;\r\n\r\n@SpringBootTest\r\npublic class JsonTest {\r\n\r\n  @Test\r\n  void readValue() throws JsonProcessingException {\r\n    ObjectMapper objMap = new ObjectMapper();\r\n    Response resp = objMap.readValue(&quot;{\\&quot;fullname\\&quot;: \\&quot;Darla Kertzmann\\&quot;,\\&quot;address\\&quot;: {\\&quot;street\\&quot;: \\&quot;4519 Mraz Point\\&quot;,\\&quot;city\\&quot;: {                    \\&quot;cityName\\&quot;:\\&quot;Melbourne\\&quot;,\\&quot;cityCode\\&quot;:\\&quot;0000\\&quot;}}}&quot;, Response.class);\r\n    System.out.println(resp);\r\n  }\r\n}\r\n\r\n@Data\r\nclass Response {\r\n  //fullname mock here\r\n  @JsonProperty(&quot;fullname&quot;)\r\n  private String fullname;\r\n\r\n  @JsonProperty(&quot;address&quot;)\r\n  private Address address;\r\n}\r\n\r\n@Data\r\nclass Address {\r\n  @JsonProperty(&quot;street&quot;)\r\n  private String street;\r\n\r\n  @JsonProperty(&quot;city&quot;)\r\n  private City city;\r\n}\r\n\r\n@Data\r\nclass City {\r\n\r\n  @JsonProperty(&quot;cityName&quot;)\r\n  private String cityName;\r\n\r\n  @JsonProperty(&quot;cityCode&quot;)\r\n  private String cityCode;\r\n}\r\n```","title":"Nested Json String to Pojo Mapping( I am able to map simple json to Pojo but unable to Map Nested Json)","body":"<p>what is <code>//fullname mock here</code>?<br>\nits working</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springdatademo;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport lombok.Data;\n\n@SpringBootTest\npublic class JsonTest {\n\n  @Test\n  void readValue() throws JsonProcessingException {\n    ObjectMapper objMap = new ObjectMapper();\n    Response resp = objMap.readValue(&quot;{\\&quot;fullname\\&quot;: \\&quot;Darla Kertzmann\\&quot;,\\&quot;address\\&quot;: {\\&quot;street\\&quot;: \\&quot;4519 Mraz Point\\&quot;,\\&quot;city\\&quot;: {                    \\&quot;cityName\\&quot;:\\&quot;Melbourne\\&quot;,\\&quot;cityCode\\&quot;:\\&quot;0000\\&quot;}}}&quot;, Response.class);\n    System.out.println(resp);\n  }\n}\n\n@Data\nclass Response {\n  //fullname mock here\n  @JsonProperty(&quot;fullname&quot;)\n  private String fullname;\n\n  @JsonProperty(&quot;address&quot;)\n  private Address address;\n}\n\n@Data\nclass Address {\n  @JsonProperty(&quot;street&quot;)\n  private String street;\n\n  @JsonProperty(&quot;city&quot;)\n  private City city;\n}\n\n@Data\nclass City {\n\n  @JsonProperty(&quot;cityName&quot;)\n  private String cityName;\n\n  @JsonProperty(&quot;cityCode&quot;)\n  private String cityCode;\n}\n</code></pre>\n"}],"owner":{"account_id":3328294,"reputation":41,"user_id":2797760,"display_name":"Jake samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670550257,"creation_date":1670547094,"question_id":74737856,"body_markdown":"`{&quot;fullname&quot;: &quot;Darla Kertzmann&quot;,&quot;address&quot;: {&quot;street&quot;: &quot;4519 Mraz Point&quot;,&quot;city&quot;: {                    &quot;cityName&quot;:&quot;Melbourne&quot;,&quot;cityCode&quot;:&quot;0000&quot;}}}`\r\n\r\nThis is a Mock json im working with. This json string is stored in my cassandra db. I am able to map simple json such as\r\n\r\n`{&quot;name&quot;:&quot;Dan&quot;,&quot;pass&quot;:&quot;123&quot; }`\r\n\r\nthese are the classes\r\n```\r\n`@Data\r\npublic class Response{\r\n//fullname mock here\r\n    \r\n@JsonProperty(&quot;address&quot;)\r\nprivate Address address;\r\n}`\r\n```\r\n```\r\n`@Data\r\npublic class Address{\r\n@JsonProperty(&quot;street&quot;)\r\nprivate String street;\r\n\r\n@JsonProperty(&quot;city&quot;)\r\nprivate City city;\r\n}` \r\n```\r\n```\r\n`@Data\r\npublic class City{\r\n\r\n@JsonProperty(&quot;cityName&quot;)\r\nprivate String cityName;\r\n    \r\n@JsonProperty(&quot;cityCode&quot;)\r\nprivate String cityCode;\r\n}`\r\n```\r\n```\r\n`ObjectMapper objMap = new ObjectMapper(); \r\nResponse resp = new Response(); \r\nresp = objMap.readValue(&quot;jsonString&quot;,Response.class);`\r\n```\r\n\r\nPlease Let me know where i am Wrong\r\nI am not getting any error. Just that the values are returning null.\r\nTried JSONObject and to decrease one nested loop, Tried Gson","title":"Nested Json String to Pojo Mapping( I am able to map simple json to Pojo but unable to Map Nested Json)","body":"<p><code>{&quot;fullname&quot;: &quot;Darla Kertzmann&quot;,&quot;address&quot;: {&quot;street&quot;: &quot;4519 Mraz Point&quot;,&quot;city&quot;: {                    &quot;cityName&quot;:&quot;Melbourne&quot;,&quot;cityCode&quot;:&quot;0000&quot;}}}</code></p>\n<p>This is a Mock json im working with. This json string is stored in my cassandra db. I am able to map simple json such as</p>\n<p><code>{&quot;name&quot;:&quot;Dan&quot;,&quot;pass&quot;:&quot;123&quot; }</code></p>\n<p>these are the classes</p>\n<pre><code>`@Data\npublic class Response{\n//fullname mock here\n    \n@JsonProperty(&quot;address&quot;)\nprivate Address address;\n}`\n</code></pre>\n<pre><code>`@Data\npublic class Address{\n@JsonProperty(&quot;street&quot;)\nprivate String street;\n\n@JsonProperty(&quot;city&quot;)\nprivate City city;\n}` \n</code></pre>\n<pre><code>`@Data\npublic class City{\n\n@JsonProperty(&quot;cityName&quot;)\nprivate String cityName;\n    \n@JsonProperty(&quot;cityCode&quot;)\nprivate String cityCode;\n}`\n</code></pre>\n<pre><code>`ObjectMapper objMap = new ObjectMapper(); \nResponse resp = new Response(); \nresp = objMap.readValue(&quot;jsonString&quot;,Response.class);`\n</code></pre>\n<p>Please Let me know where i am Wrong\nI am not getting any error. Just that the values are returning null.\nTried JSONObject and to decrease one nested loop, Tried Gson</p>\n"},{"tags":["java","json","webview","android-mediaplayer","m3u8"],"owner":{"account_id":23258867,"reputation":13,"user_id":17345482,"display_name":"Muhamad Firzi Rabbani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670549987,"creation_date":1670549987,"question_id":74738087,"body_markdown":"\r\ni have webview where if you create a url ending in m3u8 it will open an external player, \r\n\r\n\r\n```\r\n@Override\t\r\n        // Force links to be opened inside WebView and not in Default Browser\r\n        // Thanks http://stackoverflow.com/a/33681975/1815624\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\t\t\tif (url.endsWith(&quot;.m3u8&quot;) || url.endsWith(&quot;.ts&quot;) || url.endsWith(&quot;.mpd&quot;) || url.endsWith(&quot;.mp4&quot;))\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\tIntent intent = new Intent(Intent.ACTION_VIEW); \r\n                intent.setDataAndType(Uri.parse(url), &quot;video/*&quot;);\r\n\t\t\t\tintent.setPackage(&quot;com.genuine.leone&quot;);\r\n                view.getContext().startActivity(intent);   \r\n                return true; // to tell the WebView that it should not load the URL because you handled it by yourself\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\tcatch (ActivityNotFoundException e) {\r\n// Player is not installed, you may want to open the play store link\r\n\t\t\t\t\t}\r\n    }\r\n```\r\n\r\nthe problem now, m3u8 requires a widevine license to play, how to send a widevine license url to the external player\r\n\r\n\r\n\r\ni have to research but not find anything, any idea?","title":"how to send widevine data from webview to external player","body":"<p>i have webview where if you create a url ending in m3u8 it will open an external player,</p>\n<pre><code>@Override   \n        // Force links to be opened inside WebView and not in Default Browser\n        // Thanks http://stackoverflow.com/a/33681975/1815624\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            if (url.endsWith(&quot;.m3u8&quot;) || url.endsWith(&quot;.ts&quot;) || url.endsWith(&quot;.mpd&quot;) || url.endsWith(&quot;.mp4&quot;))\n            {\n                try {\n                Intent intent = new Intent(Intent.ACTION_VIEW); \n                intent.setDataAndType(Uri.parse(url), &quot;video/*&quot;);\n                intent.setPackage(&quot;com.genuine.leone&quot;);\n                view.getContext().startActivity(intent);   \n                return true; // to tell the WebView that it should not load the URL because you handled it by yourself\n            }\n            \n                catch (ActivityNotFoundException e) {\n// Player is not installed, you may want to open the play store link\n                    }\n    }\n</code></pre>\n<p>the problem now, m3u8 requires a widevine license to play, how to send a widevine license url to the external player</p>\n<p>i have to research but not find anything, any idea?</p>\n"},{"tags":["java","performance","memory-management","cpu-usage"],"answers":[{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1297301710,"creation_date":1297301710,"answer_id":4952544,"question_id":4952528,"body_markdown":"you can limit memory usage by -Xmx option and you can limit CPU usage by setting priority of the process and/or CPU affinity.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>you can limit memory usage by -Xmx option and you can limit CPU usage by setting priority of the process and/or CPU affinity.</p>\n"},{"tags":[],"owner":{"account_id":331275,"reputation":3837,"user_id":655855,"display_name":"Shamit Verma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1300091444,"creation_date":1300091444,"answer_id":5296307,"question_id":4952528,"body_markdown":"In this scenario it might help to run the app on a Mobile emulator (E.g. Android).\r\n\r\nWith this you can emulate a mobile device with specific CPU/Memory. So, you should get performance this is comparable to a device that has slower CPU and lesser RAM.\r\n\r\nAndroid / Nokia emulator are free and available for download from developer sections of Nokia/Google sites.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>In this scenario it might help to run the app on a Mobile emulator (E.g. Android).</p>\n\n<p>With this you can emulate a mobile device with specific CPU/Memory. So, you should get performance this is comparable to a device that has slower CPU and lesser RAM.</p>\n\n<p>Android / Nokia emulator are free and available for download from developer sections of Nokia/Google sites.</p>\n"},{"tags":[],"owner":{"account_id":478824,"reputation":985,"user_id":891145,"accept_rate":80,"display_name":"haosdent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391329291,"creation_date":1391329291,"answer_id":21508498,"question_id":4952528,"body_markdown":"https://github.com/haosdent/jcgroup\r\njcgroup is your best choice. You could use this library to limit the CPU shares, Disk I/O speed, Network bandwidth and etc.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p><a href=\"https://github.com/haosdent/jcgroup\" rel=\"nofollow\">https://github.com/haosdent/jcgroup</a>\njcgroup is your best choice. You could use this library to limit the CPU shares, Disk I/O speed, Network bandwidth and etc.</p>\n"},{"tags":[],"owner":{"account_id":8340816,"reputation":4606,"user_id":6266192,"display_name":"Dudi Boy"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1563535946,"creation_date":1505399185,"answer_id":46221704,"question_id":4952528,"body_markdown":"\r\nThe JVM has no control over CPU usage nor priority. \r\n\r\nJVM has control over max/min Memory usage.\r\n\r\nThere is a workaround. It is possible to run each JVM in a separate [Docker container][1]. And control the resource (Memory, CPU, Network, IO) allocation for each container. That is exactly the added value of the Docker containers.\r\n\r\n\r\n  [1]: The JVM has no control over CPU usage nor priority.  Yet you can run each JVM in a separate Docker container. And control the resource allocation foreach container. That is exactly the added value of the Docker containers.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>The JVM has no control over CPU usage nor priority. </p>\n\n<p>JVM has control over max/min Memory usage.</p>\n\n<p>There is a workaround. It is possible to run each JVM in a separate [Docker container][1]. And control the resource (Memory, CPU, Network, IO) allocation for each container. That is exactly the added value of the Docker containers.</p>\n\n<p>[1]: The JVM has no control over CPU usage nor priority.  Yet you can run each JVM in a separate Docker container. And control the resource allocation foreach container. That is exactly the added value of the Docker containers.</p>\n"},{"tags":[],"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1532086690,"creation_date":1532086690,"answer_id":51441699,"question_id":4952528,"body_markdown":"For CPU you can try my new lib :).\r\n\r\nhttps://github.com/dyorgio/cpu-watcher\r\n\r\nExample of use:\r\n\r\n    \r\n    // Limit process by PID to 25% of host cpu usage\r\n    CpuWatcher cpuWatcher = new CpuWatcher(pid, 25f);\r\n    cpuWatcher.start();\r\n","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>For CPU you can try my new lib :).</p>\n\n<p><a href=\"https://github.com/dyorgio/cpu-watcher\" rel=\"nofollow noreferrer\">https://github.com/dyorgio/cpu-watcher</a></p>\n\n<p>Example of use:</p>\n\n<pre><code>// Limit process by PID to 25% of host cpu usage\nCpuWatcher cpuWatcher = new CpuWatcher(pid, 25f);\ncpuWatcher.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542031514,"creation_date":1542031514,"answer_id":53263828,"question_id":4952528,"body_markdown":"Please, be careful with memory and CPU options when running jvm 8 or earlier.\r\nThere are a couple of very nice articles about that. Check it out:\r\n\r\nhttps://developers.redhat.com/blog/2017/03/14/java-inside-docker/\r\n\r\nhttps://jaxenter.com/nobody-puts-java-container-139373.html\r\n\r\nHaving said that, containerization - is the right way to go for microservice architecture regardless of the stack, and jvm is not as exception to that. It is however, important to be aware of the caveats.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>Please, be careful with memory and CPU options when running jvm 8 or earlier.\nThere are a couple of very nice articles about that. Check it out:</p>\n\n<p><a href=\"https://developers.redhat.com/blog/2017/03/14/java-inside-docker/\" rel=\"nofollow noreferrer\">https://developers.redhat.com/blog/2017/03/14/java-inside-docker/</a></p>\n\n<p><a href=\"https://jaxenter.com/nobody-puts-java-container-139373.html\" rel=\"nofollow noreferrer\">https://jaxenter.com/nobody-puts-java-container-139373.html</a></p>\n\n<p>Having said that, containerization - is the right way to go for microservice architecture regardless of the stack, and jvm is not as exception to that. It is however, important to be aware of the caveats.</p>\n"},{"tags":[],"owner":{"account_id":1212040,"reputation":301,"user_id":1180409,"display_name":"zslb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553208890,"creation_date":1553208890,"answer_id":55290430,"question_id":4952528,"body_markdown":"Docker offers up resource management options for limiting the cpu access for running docker containers. Have a look at the CFS scheduler options available with ```docker run``` from [Limit a container&#39;s resources](https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler) in the Docker documentation, such as:\r\n\r\n&gt; * ```--cpus=&lt;value&gt;``` - Specify how much of the available CPU resources a container can use. For instance, if the host machine has two CPUs and you set ```--cpus=&quot;1.5&quot;```, the container is guaranteed at most one and a half of the CPUs. This is the equivalent of setting ```--cpu-period=&quot;100000&quot;``` and ```--cpu-quota=&quot;150000&quot;```. Available in Docker 1.13 and higher.\r\n* ```--cpuset-cpus``` - Limit the specific CPUs or cores a container can use. A comma-separated list or hyphen-separated range of CPUs a container can use, if you have more than one CPU. The first CPU is numbered 0. A valid value might be ```0-3``` (to use the first, second, third, and fourth CPU) or ```1,3``` (to use the second and fourth CPU).\r\n\r\nThese options are also available via docker-compose, when deploying a Docker swarm / stack, as mentioned in [Compose file version 3 reference](https://docs.docker.com/compose/compose-file/#resources) under ```resources```:\r\n\r\n&gt; ```\r\nversion: &#39;3&#39;\r\nservices:\r\n  redis:\r\n    image: redis:alpine\r\n    deploy:\r\n      resources:\r\n        limits:\r\n          cpus: &#39;0.50&#39;\r\n          memory: 50M\r\n        reservations:\r\n          cpus: &#39;0.25&#39;\r\n          memory: 20M```\r\n\r\n**Note:** that the [legacy resource options](https://docs.docker.com/compose/compose-file/compose-file-v2/#cpu-and-other-resources) in docker compose v2 are now limited to stacks in the [migration to v3](https://docs.docker.com/compose/compose-file/compose-versioning/#upgrading).","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>Docker offers up resource management options for limiting the cpu access for running docker containers. Have a look at the CFS scheduler options available with <code>docker run</code> from <a href=\"https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler\" rel=\"nofollow noreferrer\">Limit a container's resources</a> in the Docker documentation, such as:</p>\n\n<blockquote>\n  <ul>\n  <li><code>--cpus=&lt;value&gt;</code> - Specify how much of the available CPU resources a container can use. For instance, if the host machine has two CPUs and you set <code>--cpus=\"1.5\"</code>, the container is guaranteed at most one and a half of the CPUs. This is the equivalent of setting <code>--cpu-period=\"100000\"</code> and <code>--cpu-quota=\"150000\"</code>. Available in Docker 1.13 and higher.</li>\n  <li><code>--cpuset-cpus</code> - Limit the specific CPUs or cores a container can use. A comma-separated list or hyphen-separated range of CPUs a container can use, if you have more than one CPU. The first CPU is numbered 0. A valid value might be <code>0-3</code> (to use the first, second, third, and fourth CPU) or <code>1,3</code> (to use the second and fourth CPU).</li>\n  </ul>\n</blockquote>\n\n<p>These options are also available via docker-compose, when deploying a Docker swarm / stack, as mentioned in <a href=\"https://docs.docker.com/compose/compose-file/#resources\" rel=\"nofollow noreferrer\">Compose file version 3 reference</a> under <code>resources</code>:</p>\n\n<blockquote>\n<pre><code>version: '3'\nservices:\n  redis:\n    image: redis:alpine\n    deploy:\n      resources:\n        limits:\n          cpus: '0.50'\n          memory: 50M\n        reservations:\n          cpus: '0.25'\n          memory: 20M```\n</code></pre>\n</blockquote>\n\n<p><strong>Note:</strong> that the <a href=\"https://docs.docker.com/compose/compose-file/compose-file-v2/#cpu-and-other-resources\" rel=\"nofollow noreferrer\">legacy resource options</a> in docker compose v2 are now limited to stacks in the <a href=\"https://docs.docker.com/compose/compose-file/compose-versioning/#upgrading\" rel=\"nofollow noreferrer\">migration to v3</a>.</p>\n"},{"tags":[],"owner":{"account_id":366774,"reputation":2566,"user_id":712522,"accept_rate":100,"display_name":"Mr. B"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1607211309,"creation_date":1607211309,"answer_id":65163113,"question_id":4952528,"body_markdown":"Linux:\r\n\r\n`taskset -a -c 0,1,2,3 &lt;program&gt;`\r\n\r\nRun a program and its child threads only on cores 0, 1, 2, and 3.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>Linux:</p>\n<p><code>taskset -a -c 0,1,2,3 &lt;program&gt;</code></p>\n<p>Run a program and its child threads only on cores 0, 1, 2, and 3.</p>\n"},{"tags":[],"owner":{"account_id":6825104,"reputation":76,"user_id":5393626,"display_name":"bluesceada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670549060,"creation_date":1670549060,"answer_id":74738005,"question_id":4952528,"body_markdown":"For resource constrained systems I once found the following java commandline options helpful for my specific use case (tested with OpenJDK 17). It restricts heap memory (initial: `-Xms`, maximum: `-Xmx`), the absolute maximum RAM and also sets to use only a serial garbage collector to cause less spontaneous CPU load bursts:\r\n\r\n`java -Xmx512m -Xms128m -XX:MaxRAM=1536m -XX:+UseSerialGC`\r\n\r\nOf course you have to find out if your application will still work with these settings.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>For resource constrained systems I once found the following java commandline options helpful for my specific use case (tested with OpenJDK 17). It restricts heap memory (initial: <code>-Xms</code>, maximum: <code>-Xmx</code>), the absolute maximum RAM and also sets to use only a serial garbage collector to cause less spontaneous CPU load bursts:</p>\n<p><code>java -Xmx512m -Xms128m -XX:MaxRAM=1536m -XX:+UseSerialGC</code></p>\n<p>Of course you have to find out if your application will still work with these settings.</p>\n"}],"owner":{"account_id":174181,"reputation":792,"user_id":403387,"accept_rate":88,"display_name":"demotics2002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62186,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":4952544,"answer_count":9,"score":21,"last_activity_date":1670549060,"creation_date":1297301531,"question_id":4952528,"body_markdown":"Say, &quot;run myApp.jar with cpu=800 and memory=1024&quot;\r\n\r\nIve been doing java programming for many years and it is an embarrasment to ask this question. I don&#39;t even know whether this is possible or not. And if so, how?\r\n\r\nWhat I just want know is if it is possible to set a java program&#39;s maximum memory and cpu usage. I suddenly thought of this because of I recently started developing mobile apps. I want to know how the app will behave on the device which has very limited memory and processor. \r\n\r\nI saw physics engines with demo apps that run on the browser or I can execute on my PC. What if I run them on a mobile device? Will the performance be the same? Rather than developing a sample mobile app to test the library&#39;s performance, I&#39;d rather run it with a specific cpu and memory using my PC first.\r\n\r\nI tried googling by the way... all i found was monitoring and performance tuning. I may be using wrong keywords.","title":"Limiting java application&#39;s memory and cpu usage","body":"<p>Say, \"run myApp.jar with cpu=800 and memory=1024\"</p>\n\n<p>Ive been doing java programming for many years and it is an embarrasment to ask this question. I don't even know whether this is possible or not. And if so, how?</p>\n\n<p>What I just want know is if it is possible to set a java program's maximum memory and cpu usage. I suddenly thought of this because of I recently started developing mobile apps. I want to know how the app will behave on the device which has very limited memory and processor. </p>\n\n<p>I saw physics engines with demo apps that run on the browser or I can execute on my PC. What if I run them on a mobile device? Will the performance be the same? Rather than developing a sample mobile app to test the library's performance, I'd rather run it with a specific cpu and memory using my PC first.</p>\n\n<p>I tried googling by the way... all i found was monitoring and performance tuning. I may be using wrong keywords.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669965228,"post_id":74651681,"comment_id":131767011,"body_markdown":"Which hibernate version are you using? Do you have any other queries?","body":"Which hibernate version are you using? Do you have any other queries?"},{"owner":{"account_id":26043131,"reputation":21,"user_id":19747540,"display_name":"Christopher Chua"},"score":0,"creation_date":1669967030,"post_id":74651681,"comment_id":131767435,"body_markdown":"hibernate-core 4.2.5.Final, and no I dont have other queries","body":"hibernate-core 4.2.5.Final, and no I dont have other queries"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669968151,"post_id":74651681,"comment_id":131767701,"body_markdown":"You said you were upgrading to hibernate 5?","body":"You said you were upgrading to hibernate 5?"},{"owner":{"account_id":26043131,"reputation":21,"user_id":19747540,"display_name":"Christopher Chua"},"score":0,"creation_date":1670220175,"post_id":74651681,"comment_id":131816741,"body_markdown":"Hi Sorry, mistakes from my side, should be hibernate-core 5.4.33.Final","body":"Hi Sorry, mistakes from my side, should be hibernate-core 5.4.33.Final"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670224357,"post_id":74651681,"comment_id":131817559,"body_markdown":"`SQLQuery` should be deprecated since 5.2. Try using `NativeQuery` like this: `Query&lt;?&gt; query = getSession().createNativeQuery(sectionQuery, CustConfigDTO.class);`","body":"<code>SQLQuery</code> should be deprecated since 5.2. Try using <code>NativeQuery</code> like this: <code>Query&lt;?&gt; query = getSession().createNativeQuery(sectionQuery, CustConfigDTO.class);</code>"},{"owner":{"account_id":26043131,"reputation":21,"user_id":19747540,"display_name":"Christopher Chua"},"score":0,"creation_date":1670549229,"post_id":74651681,"comment_id":131905906,"body_markdown":"Hi, I have made the changes, but the error still exists. It is now pointing towards my DTO class, please check the newly added codes","body":"Hi, I have made the changes, but the error still exists. It is now pointing towards my DTO class, please check the newly added codes"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670570232,"post_id":74651681,"comment_id":131909004,"body_markdown":"If that is your ccomplete DTO class, you are 1. having a comma too much in the constructor `String config_value,`, 2. missing setter etc. for `config_description` and 3. should perhaps provide an empty constructor","body":"If that is your ccomplete DTO class, you are 1. having a comma too much in the constructor <code>String config_value,</code>, 2. missing setter etc. for <code>config_description</code> and 3. should perhaps provide an empty constructor"}],"owner":{"account_id":26043131,"reputation":21,"user_id":19747540,"display_name":"Christopher Chua"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670549058,"creation_date":1669962420,"question_id":74651681,"body_markdown":"currently I am trying to upgrade from hibernate 4 to hibernate5. But I am facing the issue of \r\n\r\n    org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\r\n \r\nBut I can&#39;t seem to find the &#39;?&#39; within my query.\r\n\r\nBelow are the codes for it \r\n\r\n    public List&lt;CustConfigDTO&gt; getCustConfigDetails() throws DAOException\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tString sectionQuery = &quot;select * from cust_config&quot;;\r\n                Query&lt;?&gt; query = getSession().createNativeQuery(sectionQuery, CustConfigDTO.class);\r\n    \t\t\treturn (List&lt;CustConfigDTO&gt;) query.list();\r\n    \t\t}\r\n    \t\tcatch( Exception ex )\r\n    \t\t{\r\n    \t\t\tLOGGER.error( ex );\r\n    \t\t\tthrow new DAOException();\r\n    \t\t}\r\n    \t}\r\n\r\nCustConfigDTO\r\n\r\n    public class CustConfigDTO implements java.io.Serializable\r\n    {\r\n    \r\n    \tprivate String config_for;\r\n    \tprivate String config_value;\r\n    \tprivate String config_description;\r\n    \r\n    \tpublic CustConfigDTO( String config_for,\r\n    \t                               String config_value,\r\n    \t                           \r\n    \t                               )\r\n    \t{\r\n    \t\tthis.config_for = config_for;\r\n    \t\tthis.config_value = config_value;\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic String getConfig_for()\r\n    \t{\r\n    \t\treturn this.config_for;\r\n    \t}\r\n    \r\n    \tpublic void setConfig_for( String config_for )\r\n    \t{\r\n    \t\tthis.config_for = config_for;\r\n    \t}\r\n    \r\n    \tpublic String getConfig_value()\r\n    \t{\r\n    \t\treturn this.config_value;\r\n    \t}\r\n    \r\n    \tpublic void setConfig_value( String config_value )\r\n    \t{\r\n    \t\tthis.config_value = config_value;\r\n    \t}\r\n\t\r\nMay I know what is required to change from my code? \r\n\r\nThank you\r\n","title":"org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)","body":"<p>currently I am trying to upgrade from hibernate 4 to hibernate5. But I am facing the issue of</p>\n<pre><code>org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\n</code></pre>\n<p>But I can't seem to find the '?' within my query.</p>\n<p>Below are the codes for it</p>\n<pre><code>public List&lt;CustConfigDTO&gt; getCustConfigDetails() throws DAOException\n    {\n        try\n        {\n            String sectionQuery = &quot;select * from cust_config&quot;;\n            Query&lt;?&gt; query = getSession().createNativeQuery(sectionQuery, CustConfigDTO.class);\n            return (List&lt;CustConfigDTO&gt;) query.list();\n        }\n        catch( Exception ex )\n        {\n            LOGGER.error( ex );\n            throw new DAOException();\n        }\n    }\n</code></pre>\n<p>CustConfigDTO</p>\n<pre><code>public class CustConfigDTO implements java.io.Serializable\n{\n\n    private String config_for;\n    private String config_value;\n    private String config_description;\n\n    public CustConfigDTO( String config_for,\n                                   String config_value,\n                               \n                                   )\n    {\n        this.config_for = config_for;\n        this.config_value = config_value;\n        \n    }\n\n    public String getConfig_for()\n    {\n        return this.config_for;\n    }\n\n    public void setConfig_for( String config_for )\n    {\n        this.config_for = config_for;\n    }\n\n    public String getConfig_value()\n    {\n        return this.config_value;\n    }\n\n    public void setConfig_value( String config_value )\n    {\n        this.config_value = config_value;\n    }\n</code></pre>\n<p>May I know what is required to change from my code?</p>\n<p>Thank you</p>\n"},{"tags":["java","if-statement","boolean"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1670399869,"post_id":74713269,"comment_id":131865200,"body_markdown":"HI, you are using value assignment `auto = true` instead of comparation `auto == true` in `if` and `while`. It is desirable to use boolean values in this way `if(auto)`","body":"HI, you are using value assignment <code>auto = true</code> instead of comparation <code>auto == true</code> in <code>if</code> and <code>while</code>. It is desirable to use boolean values in this way <code>if(auto)</code>"},{"owner":{"account_id":27174407,"reputation":11,"user_id":20710610,"display_name":"Macks"},"score":0,"creation_date":1670400036,"post_id":74713269,"comment_id":131865236,"body_markdown":"i have tried this and it worked, thank you for your help","body":"i have tried this and it worked, thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":263472,"reputation":5474,"user_id":1953819,"accept_rate":100,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670549044,"creation_date":1670549044,"answer_id":74738004,"question_id":74713269,"body_markdown":"Consider using the comparison `==` in your `while()` and `if()` statements since you would like to compare two variables.\r\n\r\nThe operator `=` is for assignment and will set the value of the variable on the left to the value of the right. \r\n\r\n---\r\n\r\nAnother improvement to consider but consider using using the boolean variables directly instead of comparing to `true` and `false`. For example, try converting:\r\n\r\n```\r\nif ((swich = true) &amp;&amp; (auto = false)) {\r\n    // more code\r\n}\r\n```\r\n to \r\n\r\n```\r\nif(switch &amp;&amp; !auto){\r\n    // more code\r\n}\r\n```\r\n\r\nThis will make it much clearer what the purpose of that `if()` statement is. ","title":"my Boolean is set to true when its specified as false for some reason","body":"<p>Consider using the comparison <code>==</code> in your <code>while()</code> and <code>if()</code> statements since you would like to compare two variables.</p>\n<p>The operator <code>=</code> is for assignment and will set the value of the variable on the left to the value of the right.</p>\n<hr />\n<p>Another improvement to consider but consider using using the boolean variables directly instead of comparing to <code>true</code> and <code>false</code>. For example, try converting:</p>\n<pre><code>if ((swich = true) &amp;&amp; (auto = false)) {\n    // more code\n}\n</code></pre>\n<p>to</p>\n<pre><code>if(switch &amp;&amp; !auto){\n    // more code\n}\n</code></pre>\n<p>This will make it much clearer what the purpose of that <code>if()</code> statement is.</p>\n"}],"owner":{"account_id":27174407,"reputation":11,"user_id":20710610,"display_name":"Macks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670549044,"creation_date":1670399021,"question_id":74713269,"body_markdown":"i am trying to do like a console where you can change a variable by saying yes or no, and for some reason one of my Boolean (auto) variables are being set to true even when it should be defaulted to false\r\nhere is the code:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Digital {\r\n    public static void main(String[] args) {\r\n\r\n        boolean ignite = false;\r\n        boolean heatup = false;\r\n        boolean dispose = false;\r\n        boolean alertwick = false;\r\n        boolean auto = false;\r\n\r\n        boolean candlewick = false;\r\n        boolean off = false;\r\n        boolean ready = false;\r\n        boolean swich = false;\r\n\r\n        System.out.println(&quot;consol- set circumstances of the candle&quot;);\r\n        Scanner myObj = new Scanner(System.in);\r\n        System.out.println(&quot;is the switch on?&quot;);\r\n\r\n        String consolswich = myObj.nextLine();\r\n\r\n        if (consolswich.equals(&quot;yes&quot;)) {\r\n\r\n            swich = true;\r\n        } else {\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        System.out.println(&quot;is the candle ready?(in auto)&quot;);\r\n\r\n        String consolready = myObj.nextLine();\r\n        if (consolready.equals(&quot;yes&quot;)) {\r\n            ready = true;\r\n        } else {\r\n\r\n\r\n        }\r\n        System.out.println(&quot;is auto on?&quot;);\r\n\r\n        String consolau = myObj.nextLine();\r\n        if (consolau.equals(&quot;yes&quot;)) {\r\n            auto = !auto;\r\n        } else {\r\n\r\n\r\n        }\r\n        System.out.println(&quot;are there any wicks left?&quot;);\r\n        String consolwick = myObj.nextLine();\r\n        if (consolwick.equals(&quot;yes&quot;)) {\r\n            candlewick = true;\r\n        } else {\r\n\r\n\r\n        }\r\n\r\n        System.out.println(&quot;how long is the candlewick?(whole number, cm)&quot;);\r\n        int consollength = myObj.nextInt();\r\n        int candleheight = consollength;\r\n\r\n\r\n\r\n\r\n        if (auto = true) {\r\n            System.out.println(&quot;ballin&quot;);\r\n\r\n\r\n            if ((swich = true) &amp;&amp; (auto = false)) {\r\n                if (candleheight &lt; 1) {\r\n                    dispose = true;\r\n                    System.out.println(&quot;candlewick disposed&quot;);\r\n                }\r\n                if (candlewick = false) {\r\n                    alertwick = true;\r\n                    System.out.println(&quot;user as been alerted to the lack of candlewicks&quot;);\r\n\r\n\r\n                } else {\r\n                    heatup = true;\r\n                    System.out.println(&quot;the candle has been formed and then ignited&quot;);\r\n\r\n                }\r\n\r\n            } else {\r\n                System.out.println(&quot;nothing happened/error&quot;);\r\n            }\r\n        } else {\r\n            while (auto = true) {\r\n\r\n                if (ready = true)\r\n\r\n                {\r\n                    ignite = true;\r\n                    System.out.println(&quot;the candle has been lit&quot;);\r\n                    break;\r\n\r\n                } else {\r\n                    if (candleheight == 0) {\r\n                        dispose = true;\r\n                        System.out.println(&quot;candlewick has been disposed of&quot;);\r\n                    }\r\n                    if (candlewick = false) {\r\n                        alertwick = true;\r\n                        System.out.println(&quot;user has been alerted to the lack of candlewicks&quot;);\r\n                        break;\r\n                    } else {\r\n                        System.out.println(&quot;the candle has been formed&quot;);\r\n                        ready = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni have tried different ways of changing the boolean, and i know all the other parts work, the other variables work when auto is removed, but it is a necessary part of the program so i cant remove it","title":"my Boolean is set to true when its specified as false for some reason","body":"<p>i am trying to do like a console where you can change a variable by saying yes or no, and for some reason one of my Boolean (auto) variables are being set to true even when it should be defaulted to false\nhere is the code:</p>\n<pre><code>import java.util.Scanner;\npublic class Digital {\n    public static void main(String[] args) {\n\n        boolean ignite = false;\n        boolean heatup = false;\n        boolean dispose = false;\n        boolean alertwick = false;\n        boolean auto = false;\n\n        boolean candlewick = false;\n        boolean off = false;\n        boolean ready = false;\n        boolean swich = false;\n\n        System.out.println(&quot;consol- set circumstances of the candle&quot;);\n        Scanner myObj = new Scanner(System.in);\n        System.out.println(&quot;is the switch on?&quot;);\n\n        String consolswich = myObj.nextLine();\n\n        if (consolswich.equals(&quot;yes&quot;)) {\n\n            swich = true;\n        } else {\n\n\n        }\n\n\n\n        System.out.println(&quot;is the candle ready?(in auto)&quot;);\n\n        String consolready = myObj.nextLine();\n        if (consolready.equals(&quot;yes&quot;)) {\n            ready = true;\n        } else {\n\n\n        }\n        System.out.println(&quot;is auto on?&quot;);\n\n        String consolau = myObj.nextLine();\n        if (consolau.equals(&quot;yes&quot;)) {\n            auto = !auto;\n        } else {\n\n\n        }\n        System.out.println(&quot;are there any wicks left?&quot;);\n        String consolwick = myObj.nextLine();\n        if (consolwick.equals(&quot;yes&quot;)) {\n            candlewick = true;\n        } else {\n\n\n        }\n\n        System.out.println(&quot;how long is the candlewick?(whole number, cm)&quot;);\n        int consollength = myObj.nextInt();\n        int candleheight = consollength;\n\n\n\n\n        if (auto = true) {\n            System.out.println(&quot;ballin&quot;);\n\n\n            if ((swich = true) &amp;&amp; (auto = false)) {\n                if (candleheight &lt; 1) {\n                    dispose = true;\n                    System.out.println(&quot;candlewick disposed&quot;);\n                }\n                if (candlewick = false) {\n                    alertwick = true;\n                    System.out.println(&quot;user as been alerted to the lack of candlewicks&quot;);\n\n\n                } else {\n                    heatup = true;\n                    System.out.println(&quot;the candle has been formed and then ignited&quot;);\n\n                }\n\n            } else {\n                System.out.println(&quot;nothing happened/error&quot;);\n            }\n        } else {\n            while (auto = true) {\n\n                if (ready = true)\n\n                {\n                    ignite = true;\n                    System.out.println(&quot;the candle has been lit&quot;);\n                    break;\n\n                } else {\n                    if (candleheight == 0) {\n                        dispose = true;\n                        System.out.println(&quot;candlewick has been disposed of&quot;);\n                    }\n                    if (candlewick = false) {\n                        alertwick = true;\n                        System.out.println(&quot;user has been alerted to the lack of candlewicks&quot;);\n                        break;\n                    } else {\n                        System.out.println(&quot;the candle has been formed&quot;);\n                        ready = true;\n                    }\n                }\n            }\n        }\n\n\n\n\n    }\n}\n</code></pre>\n<p>i have tried different ways of changing the boolean, and i know all the other parts work, the other variables work when auto is removed, but it is a necessary part of the program so i cant remove it</p>\n"},{"tags":["java","hibernate","jpa","orm","hql"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1507638681,"post_id":46666680,"comment_id":80281937,"body_markdown":"whats inside searchForList? how to you create query and set the params?","body":"whats inside searchForList? how to you create query and set the params?"},{"owner":{"account_id":5199863,"reputation":111,"user_id":4159673,"accept_rate":33,"display_name":"Sandeep Choudhari"},"score":0,"creation_date":1507639157,"post_id":46666680,"comment_id":80282293,"body_markdown":"@SuppressWarnings(&quot;unchecked&quot;)\n\tpublic List searchForList(final String sentence, final Map&lt;String, Object&gt; parameters) {\n\t\treturn (List) getHibernateTemplate().execute(new HibernateCallback() {\n\t\t\tpublic Object doInHibernate(Session session) throws HibernateException {\n\t\t\t\tQuery query = session.createQuery(sentence);\n\t\t\t\tquery.setProperties(parameters);\n\t\t\t\treturn query.list();\n\t\t\t}\n\t\t});\n\t}","body":"@SuppressWarnings(&quot;unchecked&quot;) \tpublic List searchForList(final String sentence, final Map&lt;String, Object&gt; parameters) { \t\treturn (List) getHibernateTemplate().execute(new HibernateCallback() { \t\t\tpublic Object doInHibernate(Session session) throws HibernateException { \t\t\t\tQuery query = session.createQuery(sentence); \t\t\t\tquery.setProperties(parameters); \t\t\t\treturn query.list(); \t\t\t} \t\t}); \t}"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507639559,"creation_date":1507639559,"answer_id":46667176,"question_id":46666680,"body_markdown":"You should just put the `:csid` parameter name in the query and add the % wildcard in the parameter you set. Also you do not seem to set the csid in the params map.\r\n\r\n**Query**:\r\n\r\n    FROM MdFeedHandOff a WHERE a.handoff = :handoff \r\n         and  a.active  in (&#39;A&#39;,&#39;I&#39;) and to_char(a.handoff) like :csiID&quot;;\r\n\r\n**Params**:\r\n\r\n    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n    param.put(&quot;handoff&quot;, handoff);\r\n    param.put(&quot;csiID&quot;, csiId.toString()+&quot;%&quot;);\r\n        ","title":"Like % operator in HQL","body":"<p>You should just put the <code>:csid</code> parameter name in the query and add the % wildcard in the parameter you set. Also you do not seem to set the csid in the params map.</p>\n\n<p><strong>Query</strong>:</p>\n\n<pre><code>FROM MdFeedHandOff a WHERE a.handoff = :handoff \n     and  a.active  in ('A','I') and to_char(a.handoff) like :csiID\";\n</code></pre>\n\n<p><strong>Params</strong>:</p>\n\n<pre><code>Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\nparam.put(\"handoff\", handoff);\nparam.put(\"csiID\", csiId.toString()+\"%\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26850643,"reputation":1,"user_id":20728951,"display_name":"Shkal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670548525,"creation_date":1670548525,"answer_id":74737957,"question_id":46666680,"body_markdown":"Try like here:\r\n\r\n    String temp = &quot;select p from Product as p where p.model like concat(&#39;%&#39;,:name,&#39;%&#39;)&quot;;\r\n            Session session = sessionFactory.getCurrentSession();\r\n            Query&lt;Product&gt; query = session.createQuery(temp);\r\n            query.setParameter(&quot;name&quot;, name);\r\n\r\n","title":"Like % operator in HQL","body":"<p>Try like here:</p>\n<pre><code>String temp = &quot;select p from Product as p where p.model like concat('%',:name,'%')&quot;;\n        Session session = sessionFactory.getCurrentSession();\n        Query&lt;Product&gt; query = session.createQuery(temp);\n        query.setParameter(&quot;name&quot;, name);\n</code></pre>\n"}],"owner":{"account_id":5199863,"reputation":111,"user_id":4159673,"accept_rate":33,"display_name":"Sandeep Choudhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670548525,"creation_date":1507638163,"question_id":46666680,"body_markdown":"I am trying to run the code below but I am getting an error.\r\n\r\n    public MdFeedHandOff getFeedByHandOff(Integer handoff, Integer csiID){\r\n    \t\tlogger.error(&quot;*************getFeedByHandOff(): handoff value is &quot;+handoff);\r\n    \t\tString hql = &quot;FROM MdFeedHandOff a WHERE a.handoff = :handoff  and  a.active  in (&#39;A&#39;,&#39;I&#39;) and to_char(a.handoff) like :csiID%&quot;;\r\n    \t\tMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n    \t\tparam.put(&quot;handoff&quot;, handoff);\r\n    \t\tList&lt;MdFeedHandOff&gt; batchJobList = searchForList(hql, param);\r\n    \t\treturn batchJobList.isEmpty()?null:batchJobList.get(0);\r\n    \t}\r\n\r\nI want to use like % operator in hql. Kindly help me.\r\nI tried below line as well but its not working.\r\n    \t\t\r\n\r\n    String hql = &quot;FROM MdFeedHandOff a WHERE a.handoff = :handoff  and  a.active  in (&#39;A&#39;,&#39;I&#39;) and to_char(a.handoff) like :csiID&quot; + &quot;%&quot;;\r\n\r\n","title":"Like % operator in HQL","body":"<p>I am trying to run the code below but I am getting an error.</p>\n\n<pre><code>public MdFeedHandOff getFeedByHandOff(Integer handoff, Integer csiID){\n        logger.error(\"*************getFeedByHandOff(): handoff value is \"+handoff);\n        String hql = \"FROM MdFeedHandOff a WHERE a.handoff = :handoff  and  a.active  in ('A','I') and to_char(a.handoff) like :csiID%\";\n        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n        param.put(\"handoff\", handoff);\n        List&lt;MdFeedHandOff&gt; batchJobList = searchForList(hql, param);\n        return batchJobList.isEmpty()?null:batchJobList.get(0);\n    }\n</code></pre>\n\n<p>I want to use like % operator in hql. Kindly help me.\nI tried below line as well but its not working.</p>\n\n<pre><code>String hql = \"FROM MdFeedHandOff a WHERE a.handoff = :handoff  and  a.active  in ('A','I') and to_char(a.handoff) like :csiID\" + \"%\";\n</code></pre>\n"},{"tags":["java","scala","apache-spark","cassandra","sbt"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670360339,"post_id":74704055,"comment_id":131857931,"body_markdown":"According to https://stackoverflow.com/questions/62517800/how-to-fix-origin-location-must-be-absolute-error-in-sbt-project-with-spark-2 https://stackoverflow.com/questions/45882265/sbt-new-runtimeexception https://stackoverflow.com/questions/44111648/origin-location-must-be-absolute-error-in-building-a-sbt-project-intellij this can be a broken cache. Try to delete the cache so that it will be downloaded from the scratch","body":"According to <a href=\"https://stackoverflow.com/questions/62517800/how-to-fix-origin-location-must-be-absolute-error-in-sbt-project-with-spark-2\" title=\"how to fix origin location must be absolute error in sbt project with spark 2\">stackoverflow.com/questions/62517800/&hellip;</a> <a href=\"https://stackoverflow.com/questions/45882265/sbt-new-runtimeexception\" title=\"sbt new runtimeexception\">stackoverflow.com/questions/45882265/sbt-new-runtimeexceptio&zwnj;&#8203;n</a> <a href=\"https://stackoverflow.com/questions/44111648/origin-location-must-be-absolute-error-in-building-a-sbt-project-intellij\" title=\"origin location must be absolute error in building a sbt project intellij\">stackoverflow.com/questions/44111648/&hellip;</a> this can be a broken cache. Try to delete the cache so that it will be downloaded from the scratch"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670360605,"post_id":74704055,"comment_id":131858007,"body_markdown":"Also try fresher sbt. Current sbt is 1.8.0 while the bundled is 1.3.3 (see directory `sbt`, and the project is built with 1.2.8, see `project/build.properties`) https://www.scala-sbt.org/download.html","body":"Also try fresher sbt. Current sbt is 1.8.0 while the bundled is 1.3.3 (see directory <code>sbt</code>, and the project is built with 1.2.8, see <code>project&#47;build.properties</code>) <a href=\"https://www.scala-sbt.org/download.html\" rel=\"nofollow noreferrer\">scala-sbt.org/download.html</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670360637,"post_id":74704055,"comment_id":131858014,"body_markdown":"If the issue remains please provide the full log of `sbt clean compile`.","body":"If the issue remains please provide the full log of <code>sbt clean compile</code>."},{"owner":{"account_id":9958810,"reputation":61,"user_id":7368778,"display_name":"Gideon Catz"},"score":0,"creation_date":1670398417,"post_id":74704055,"comment_id":131864803,"body_markdown":"Thanks @DmytroMitin,\n\nI have removed `~/.ivy2/cache` folder and ran `sbt/sbt clean compile`.\nIt has successfully downloaded a bunch of dependencies without complaining.\nAfter that, however, the following error has occurred:\n\n`error: error while loading String, class file &#39;/modules/java.base/java/lang/String.class&#39; is broken\n(class java.lang.NullPointerException/Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null)\n[error] java.io.IOError: java.lang.RuntimeException: /packages cannot be represented as URI`","body":"Thanks @DmytroMitin,  I have removed <code>~&#47;.ivy2&#47;cache</code> folder and ran <code>sbt&#47;sbt clean compile</code>. It has successfully downloaded a bunch of dependencies without complaining. After that, however, the following error has occurred:  <code>error: error while loading String, class file &#39;&#47;modules&#47;java.base&#47;java&#47;lang&#47;String.class&#39; is broken (class java.lang.NullPointerException&#47;Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null) [error] java.io.IOError: java.lang.RuntimeException: &#47;packages cannot be represented as URI</code>"},{"owner":{"account_id":9958810,"reputation":61,"user_id":7368778,"display_name":"Gideon Catz"},"score":0,"creation_date":1670398803,"post_id":74704055,"comment_id":131864884,"body_markdown":"After that, I&#39;ve downloaded sbt-launch 1.8.0 from (here)[https://jar-download.com/artifacts/org.scala-sbt/sbt-launch/1.8.0].\nI placed that jar next to the existing 1.3.3, changed SBT_VERSION in the sbt script. and ran `sbt/sbt clean compile` again. The result appears to be the same.","body":"After that, I&#39;ve downloaded sbt-launch 1.8.0 from (here)[<a href=\"https://jar-download.com/artifacts/org.scala-sbt/sbt-launch/1.8.0]\" rel=\"nofollow noreferrer\">jar-download.com/artifacts/org.scala-sbt/sbt-launch/1&zwnj;&#8203;.8.0]</a>. I placed that jar next to the existing 1.3.3, changed SBT_VERSION in the sbt script. and ran <code>sbt&#47;sbt clean compile</code> again. The result appears to be the same."},{"owner":{"account_id":9958810,"reputation":61,"user_id":7368778,"display_name":"Gideon Catz"},"score":0,"creation_date":1670399049,"post_id":74704055,"comment_id":131864955,"body_markdown":"`Launching sbt from sbt/sbt-launch-1.8.0.jar\nOpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\n...\nerror: error while loading String, class file &#39;/modules/java.base/java/lang/String.class&#39; is broken\n(class java.lang.NullPointerException/Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null)\n[error] java.io.IOError: java.lang.RuntimeException: /packages cannot be represented as URI\n[error]         at java.base/jdk.internal.jrtfs.JrtPath.toUri(JrtPath.java:175)\n...`","body":"<code>Launching sbt from sbt&#47;sbt-launch-1.8.0.jar OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0 ... error: error while loading String, class file &#39;&#47;modules&#47;java.base&#47;java&#47;lang&#47;String.class&#39; is broken (class java.lang.NullPointerException&#47;Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null) [error] java.io.IOError: java.lang.RuntimeException: &#47;packages cannot be represented as URI [error]         at java.base&#47;jdk.internal.jrtfs.JrtPath.toUri(JrtPath.java:175) ...</code>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670415388,"post_id":74704055,"comment_id":131870437,"body_markdown":"There are different versions of sbt. Sbt is a shell script running [sbt-launch.jar](https://mvnrepository.com/artifact/org.scala-sbt/sbt-launch) (based on [launcher.jar](https://mvnrepository.com/artifact/org.scala-sbt/launcher)), which downloads and runs the rest of sbt https://stackoverflow.com/questions/74440324/sbt-gives-java-lang-nullpointerexception-when-trying-to-run-spark There is the version of script (currently 1.8.0), version of `sbt-launch.jar` (1.8.0, based on `launcher` 1.4.1), actual version of sbt used for project building (specified in `project/build.properties`).","body":"There are different versions of sbt. Sbt is a shell script running <a href=\"https://mvnrepository.com/artifact/org.scala-sbt/sbt-launch\" rel=\"nofollow noreferrer\">sbt-launch.jar</a> (based on <a href=\"https://mvnrepository.com/artifact/org.scala-sbt/launcher\" rel=\"nofollow noreferrer\">launcher.jar</a>), which downloads and runs the rest of sbt <a href=\"https://stackoverflow.com/questions/74440324/sbt-gives-java-lang-nullpointerexception-when-trying-to-run-spark\" title=\"sbt gives java lang nullpointerexception when trying to run spark\">stackoverflow.com/questions/74440324/&hellip;</a> There is the version of script (currently 1.8.0), version of <code>sbt-launch.jar</code> (1.8.0, based on <code>launcher</code> 1.4.1), actual version of sbt used for project building (specified in <code>project&#47;build.properties</code>)."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670415394,"post_id":74704055,"comment_id":131870441,"body_markdown":"You seem to mix older script with fresher launcher. Although this should work I would try to download sbt from https://www.scala-sbt.org/download.html, so using fresh `bin/sbt` script with fresh `bin/sbt-launch.jar` running fresh the rest of `sbt` and try to specify fresh sbt in `project/build.properties`.","body":"You seem to mix older script with fresher launcher. Although this should work I would try to download sbt from <a href=\"https://www.scala-sbt.org/download.html\" rel=\"nofollow noreferrer\">scala-sbt.org/download.html</a>, so using fresh <code>bin&#47;sbt</code> script with fresh <code>bin&#47;sbt-launch.jar</code> running fresh the rest of <code>sbt</code> and try to specify fresh sbt in <code>project&#47;build.properties</code>."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670415521,"post_id":74704055,"comment_id":131870492,"body_markdown":"Also `/modules/java.base/...` looks like you&#39;re using Java 9 (or fresher), not 8. Please execute `which java`, `java -version` to be sure what java is installed in the system and used.","body":"Also <code>&#47;modules&#47;java.base&#47;...</code> looks like you&#39;re using Java 9 (or fresher), not 8. Please execute <code>which java</code>, <code>java -version</code> to be sure what java is installed in the system and used."},{"owner":{"account_id":9958810,"reputation":61,"user_id":7368778,"display_name":"Gideon Catz"},"score":1,"creation_date":1670425800,"post_id":74704055,"comment_id":131874258,"body_markdown":"Many thanks @DmytroMitin!\nIt appears like the script was taking the wrong version of java after all.\nAfter I put the path to the java 8 installation as the first one in my $PATH, the sbt scripts stopped failing.","body":"Many thanks @DmytroMitin! It appears like the script was taking the wrong version of java after all. After I put the path to the java 8 installation as the first one in my $PATH, the sbt scripts stopped failing."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670425953,"post_id":74704055,"comment_id":131874320,"body_markdown":"Great! Congrats.","body":"Great! Congrats."}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670548400,"creation_date":1670512111,"answer_id":74732397,"question_id":74704055,"body_markdown":"It seems the issue was in broken cache (`~/.m2`, `~/.ivy2`). Removing the cache helped with `origin location must be absolute`\r\n\r\nhttps://stackoverflow.com/questions/62517800/how-to-fix-origin-location-must-be-absolute-error-in-sbt-project-with-spark-2\r\n\r\nhttps://stackoverflow.com/questions/45882265/sbt-new-runtimeexception\r\n\r\nhttps://stackoverflow.com/questions/44111648/origin-location-must-be-absolute-error-in-building-a-sbt-project-intellij\r\n\r\n\r\nAlso wrong version of Java was selected (Java 9 instead of 8). Correcting `$PATH` helped with `error while loading String, class file &#39;/modules/java.base/java/lang/String.class&#39; is broken (class java.lang.NullPointerException/Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null) [error] java.io.IOError: java.lang.RuntimeException: /packages cannot be represented as URI [error]         at java.base/jdk.internal.jrtfs.JrtPath.toUri(JrtPath.java:175)`","title":"Building spark-cassandra-connector: SBT cannot resolve dependencies","body":"<p>It seems the issue was in broken cache (<code>~/.m2</code>, <code>~/.ivy2</code>). Removing the cache helped with <code>origin location must be absolute</code></p>\n<p><a href=\"https://stackoverflow.com/questions/62517800/how-to-fix-origin-location-must-be-absolute-error-in-sbt-project-with-spark-2\">How to fix &quot;origin location must be absolute&quot; error in sbt project (with Spark 2.4.5 and DeltaLake 0.6.1)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/45882265/sbt-new-runtimeexception\">sbt new RuntimeException</a></p>\n<p><a href=\"https://stackoverflow.com/questions/44111648/origin-location-must-be-absolute-error-in-building-a-sbt-project-intellij\">Origin location must be absolute error in building a SBT project, IntelliJ</a></p>\n<p>Also wrong version of Java was selected (Java 9 instead of 8). Correcting <code>$PATH</code> helped with <code>error while loading String, class file '/modules/java.base/java/lang/String.class' is broken (class java.lang.NullPointerException/Cannot invoke &quot;scala.tools.nsc.Global$Run.typerPhase()&quot; because the return value of &quot;scala.tools.nsc.Global.currentRun()&quot; is null) [error] java.io.IOError: java.lang.RuntimeException: /packages cannot be represented as URI [error]         at java.base/jdk.internal.jrtfs.JrtPath.toUri(JrtPath.java:175)</code></p>\n"}],"owner":{"account_id":9958810,"reputation":61,"user_id":7368778,"display_name":"Gideon Catz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670548400,"creation_date":1670336301,"question_id":74704055,"body_markdown":"I have cloned the [spark-cassandra-connector](https://github.com/datastax/spark-cassandra-connector) in order to fix [one of its unresolved issues](https://datastax-oss.atlassian.net/browse/SPARKC-653).\r\nPrior to any code changes, I&#39;m trying to build locally, as explained in the [developer guide](https://github.com/datastax/spark-cassandra-connector/blob/master/doc/developers.md).\r\nBut whichever SBT command that I run, fails with an unresolved dependency errors:\r\n```\r\n[error] sbt.librarymanagement.ResolveException: unresolved dependency: org.apache.logging.log4j#log4j-api;2.11.1: org.apache#apache;18!apache.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/apache/apache/18/apache-18.pom\r\n[error] unresolved dependency: org.apache.logging.log4j#log4j-core;2.11.1: org.apache#apache;18!apache.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/apache/apache/18/apache-18.pom\r\n[error] unresolved dependency: com.squareup.okhttp3#okhttp;3.7.0: org.sonatype.oss#oss-parent;7!oss-parent.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\r\n...\r\n```\r\nI&#39;m using a mac (Monterey), Java 1.8.\r\n\r\nI wrote some comments regarding the issue in the [original thread](https://community.datastax.com/questions/11407/spark-cassandra-connector-unable-to-access-materia.html) on DataStax community, but have been asked to open a new thread here instead.\r\n\r\nHave you guys ever encountered such an issue with SBT?","title":"Building spark-cassandra-connector: SBT cannot resolve dependencies","body":"<p>I have cloned the <a href=\"https://github.com/datastax/spark-cassandra-connector\" rel=\"nofollow noreferrer\">spark-cassandra-connector</a> in order to fix <a href=\"https://datastax-oss.atlassian.net/browse/SPARKC-653\" rel=\"nofollow noreferrer\">one of its unresolved issues</a>.\nPrior to any code changes, I'm trying to build locally, as explained in the <a href=\"https://github.com/datastax/spark-cassandra-connector/blob/master/doc/developers.md\" rel=\"nofollow noreferrer\">developer guide</a>.\nBut whichever SBT command that I run, fails with an unresolved dependency errors:</p>\n<pre><code>[error] sbt.librarymanagement.ResolveException: unresolved dependency: org.apache.logging.log4j#log4j-api;2.11.1: org.apache#apache;18!apache.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/apache/apache/18/apache-18.pom\n[error] unresolved dependency: org.apache.logging.log4j#log4j-core;2.11.1: org.apache#apache;18!apache.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/apache/apache/18/apache-18.pom\n[error] unresolved dependency: com.squareup.okhttp3#okhttp;3.7.0: org.sonatype.oss#oss-parent;7!oss-parent.pom(pom.original) origin location must be absolute: file:/Users/gcatz/.m2/repository/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\n...\n</code></pre>\n<p>I'm using a mac (Monterey), Java 1.8.</p>\n<p>I wrote some comments regarding the issue in the <a href=\"https://community.datastax.com/questions/11407/spark-cassandra-connector-unable-to-access-materia.html\" rel=\"nofollow noreferrer\">original thread</a> on DataStax community, but have been asked to open a new thread here instead.</p>\n<p>Have you guys ever encountered such an issue with SBT?</p>\n"},{"tags":["java","spring-boot","gradle","java-7","autosys"],"comments":[{"owner":{"account_id":6781905,"reputation":57,"user_id":5221828,"display_name":"Sam"},"score":0,"creation_date":1670548403,"post_id":74737743,"comment_id":131905776,"body_markdown":"Did not work. Tried this: \n```\njava \\\n\t-cp ${CLASSPATH} $SSL_ARGS org.springframework.boot.loader.JarLauncher $COMMAND_ARGS --spring.profiles.active=&quot;${PROFILE}&quot; \\\n\t-Djavax.net.debug=all:handshake:verbose\n\t&quot;\n```","body":"Did not work. Tried this:  ``` java \\ \t-cp ${CLASSPATH} $SSL_ARGS org.springframework.boot.loader.JarLauncher $COMMAND_ARGS --spring.profiles.active=&quot;${PROFILE}&quot; \\ \t-Djavax.net.debug=all:handshake:verbose \t&quot; ```"}],"owner":{"account_id":6781905,"reputation":57,"user_id":5221828,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670547263,"creation_date":1670545743,"question_id":74737743,"body_markdown":"I have a question regarding an Autosys job that I have been picking my head on but could not figure out. So, basically I have this AutoSys job that runs old spring boot application via a script File. When I say old, it uses spring.xml for dependency injection with context.getBean(&quot;beadIdFromSpringXml&quot;) as the process of generating bean as shown in below code:\r\n\r\n```\r\n# This is spring.xml file context\r\n&lt;context:property-placeholder\r\n\t location=&quot;classpath:application-${spring.profiles.active}.properties&quot; /&gt; \t\r\n\t\r\n\t&lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;\r\n        &lt;property name=&quot;propName1&quot; value=&quot;${prop1}&quot;/&gt;    \r\n        &lt;property name=&quot;propName2&quot; value=&quot;${prop2}&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n```\r\nThe bean is generated like example below:\r\n```\r\npublic static void main(String[] args) \r\n\t{\r\n\t\tMyBean beanVariable = (MyBean) context\r\n\t\t\t\t.getBean(&quot;myBean&quot;);\r\n```\r\nThen we have a script file that is run by AutoSys that starts the java project as shown below:\r\n```\r\n# If I echo ${PROFILE} here I do get &quot;int&quot; in logs\r\njava -Dspring.profiles.active=&quot;${PROFILE}&quot; .............\r\n```\r\nWhen starting the Job, it always ends up in runtime error by saying it cannot create the bean &quot;myBean&quot; cause it cannot find the {prop1}. So my guess is that the ${spring.profiles.active} is not being fetched by the spring boot app correctly. Has anyone faced this error before?","title":"AutoSys Job Running Java Application Does Not Set spring.java.profiles Value","body":"<p>I have a question regarding an Autosys job that I have been picking my head on but could not figure out. So, basically I have this AutoSys job that runs old spring boot application via a script File. When I say old, it uses spring.xml for dependency injection with context.getBean(&quot;beadIdFromSpringXml&quot;) as the process of generating bean as shown in below code:</p>\n<pre><code># This is spring.xml file context\n&lt;context:property-placeholder\n     location=&quot;classpath:application-${spring.profiles.active}.properties&quot; /&gt;   \n    \n    &lt;bean id=&quot;myBean&quot; class=&quot;com.example.MyBean&quot;&gt;\n        &lt;property name=&quot;propName1&quot; value=&quot;${prop1}&quot;/&gt;    \n        &lt;property name=&quot;propName2&quot; value=&quot;${prop2}&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>The bean is generated like example below:</p>\n<pre><code>public static void main(String[] args) \n    {\n        MyBean beanVariable = (MyBean) context\n                .getBean(&quot;myBean&quot;);\n</code></pre>\n<p>Then we have a script file that is run by AutoSys that starts the java project as shown below:</p>\n<pre><code># If I echo ${PROFILE} here I do get &quot;int&quot; in logs\njava -Dspring.profiles.active=&quot;${PROFILE}&quot; .............\n</code></pre>\n<p>When starting the Job, it always ends up in runtime error by saying it cannot create the bean &quot;myBean&quot; cause it cannot find the {prop1}. So my guess is that the ${spring.profiles.active} is not being fetched by the spring boot app correctly. Has anyone faced this error before?</p>\n"},{"tags":["java","scala","exception","error-handling","analysis"],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670547177,"creation_date":1670388118,"answer_id":74711839,"question_id":74709820,"body_markdown":"Sounds like AspectJ pointcut &quot;after catching&quot; (not exising). Existing is &quot;after throwing&quot;\r\n\r\nhttps://coderanch.com/t/498256/frameworks/AOP-pointcut-CATCH-block\r\n\r\nhttps://www.eclipse.org/aspectj/doc/next/progguide/printable.html#the-handler-join-point\r\n\r\nhttps://stackoverflow.com/questions/42092503/how-to-intercept-method-which-handles-its-own-exceptions-using-aspectj\r\n\r\nhttps://stackoverflow.com/questions/15473725/spring-aop-invoking-advice-from-catch-block\r\n\r\nMaybe java agents/bytecode manipulation can be helpful\r\n\r\nhttps://stackoverflow.com/questions/20282619/using-instrumentation-to-record-unhandled-exception\r\n\r\nYou can consider to instrument catch blocks throughout the codebase with Scalameta (or Scalafix)\r\n\r\n```scala\r\nimport scala.meta._\r\n\r\nval transformer = new Transformer {\r\n  override def apply(tree: Tree): Tree = tree match {\r\n    case q&quot;try $expr catch { ..case $cases } finally $expropt&quot; =&gt;\r\n      val cases1 = cases.map {\r\n        case p&quot;case $pat if $expropt =&gt; $expr&quot; =&gt;\r\n          pat match {\r\n            case p&quot;${pat: Pat.Var}: $tpe&quot; =&gt;\r\n              p&quot;&quot;&quot;case $pat: $tpe if $expropt =&gt;\r\n                println(&quot;Exception &quot; + ${pat.name} + &quot; is caught&quot;)\r\n                $expr\r\n              &quot;&quot;&quot;\r\n            case p&quot;$pat&quot; =&gt;\r\n              p&quot;&quot;&quot;case $pat if $expropt =&gt;\r\n                println(&quot;Exception &quot; + ${pat.toString} + &quot; is caught&quot;)\r\n                $expr\r\n              &quot;&quot;&quot;\r\n          }\r\n      }\r\n      q&quot;try $expr catch { ..case $cases1 } finally $expropt&quot;\r\n    case _ =&gt; super.apply(tree)\r\n  }\r\n}\r\n```\r\n```scala\r\ntransformer(q&quot;&quot;&quot;\r\n  try {\r\n    1 / 0\r\n  } catch {\r\n    case e: RuntimeException =&gt;\r\n      println(e)\r\n      throw e\r\n  }\r\n&quot;&quot;&quot;)\r\n\r\n//try {\r\n//  1 / 0\r\n//} catch {\r\n//  case e: RuntimeException =&gt;\r\n//    println(&quot;Exception &quot; + e + &quot; is caught&quot;)\r\n//    {\r\n//      println(e)\r\n//      throw e\r\n//    }\r\n//}\r\n\r\ntransformer(q&quot;&quot;&quot;\r\n  try {\r\n    1 / 0\r\n  } catch {\r\n    case _ =&gt;\r\n      println(&quot;swallowed&quot;)\r\n  }\r\n&quot;&quot;&quot;)\r\n\r\n//try {\r\n//  1 / 0\r\n//} catch {\r\n//  case _ =&gt;\r\n//    println(&quot;Exception &quot; + &quot;_&quot; + &quot; is caught&quot;)\r\n//    println(&quot;swallowed&quot;)\r\n//}\r\n\r\ntransformer(q&quot;&quot;&quot;\r\n  try {\r\n    1 / 0\r\n  } finally {\r\n    case _ =&gt;\r\n      println(&quot;not catching&quot;)\r\n  }\r\n&quot;&quot;&quot;)\r\n\r\n//try {\r\n//  1 / 0\r\n//} finally {\r\n//  case _ =&gt;\r\n//    println(&quot;not catching&quot;)\r\n//}\r\n```\r\n\r\nhttps://scalameta.org/\r\n\r\nhttps://www.scala-sbt.org/1.x/docs/Howto-Generating-Files.html\r\n\r\nhttps://stackoverflow.com/questions/61796570/scala-conditional-compilation\r\n\r\nhttps://stackoverflow.com/questions/35338239/macro-annotation-to-override-tostring-of-scala-function/\r\n\r\nhttps://stackoverflow.com/questions/58562229/how-to-merge-multiple-imports-in-scala/\r\n\r\nhttps://scalacenter.github.io/scalafix\r\n\r\nFor Java sources Spoon (https://spoon.gforge.inria.fr) can be a replacement for Scalameta.","title":"In Java or Scala, is there a way to add a callback to an exception so that when the exception is caught, the callback is invoked?","body":"<p>Sounds like AspectJ pointcut &quot;after catching&quot; (not exising). Existing is &quot;after throwing&quot;</p>\n<p><a href=\"https://coderanch.com/t/498256/frameworks/AOP-pointcut-CATCH-block\" rel=\"nofollow noreferrer\">https://coderanch.com/t/498256/frameworks/AOP-pointcut-CATCH-block</a></p>\n<p><a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#the-handler-join-point\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/progguide/printable.html#the-handler-join-point</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42092503/how-to-intercept-method-which-handles-its-own-exceptions-using-aspectj\">How to intercept method which handles its own exceptions using AspectJ</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15473725/spring-aop-invoking-advice-from-catch-block\">Spring AOP - Invoking advice from catch block</a></p>\n<p>Maybe java agents/bytecode manipulation can be helpful</p>\n<p><a href=\"https://stackoverflow.com/questions/20282619/using-instrumentation-to-record-unhandled-exception\">Using Instrumentation to record unhandled exception</a></p>\n<p>You can consider to instrument catch blocks throughout the codebase with Scalameta (or Scalafix)</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.meta._\n\nval transformer = new Transformer {\n  override def apply(tree: Tree): Tree = tree match {\n    case q&quot;try $expr catch { ..case $cases } finally $expropt&quot; =&gt;\n      val cases1 = cases.map {\n        case p&quot;case $pat if $expropt =&gt; $expr&quot; =&gt;\n          pat match {\n            case p&quot;${pat: Pat.Var}: $tpe&quot; =&gt;\n              p&quot;&quot;&quot;case $pat: $tpe if $expropt =&gt;\n                println(&quot;Exception &quot; + ${pat.name} + &quot; is caught&quot;)\n                $expr\n              &quot;&quot;&quot;\n            case p&quot;$pat&quot; =&gt;\n              p&quot;&quot;&quot;case $pat if $expropt =&gt;\n                println(&quot;Exception &quot; + ${pat.toString} + &quot; is caught&quot;)\n                $expr\n              &quot;&quot;&quot;\n          }\n      }\n      q&quot;try $expr catch { ..case $cases1 } finally $expropt&quot;\n    case _ =&gt; super.apply(tree)\n  }\n}\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>transformer(q&quot;&quot;&quot;\n  try {\n    1 / 0\n  } catch {\n    case e: RuntimeException =&gt;\n      println(e)\n      throw e\n  }\n&quot;&quot;&quot;)\n\n//try {\n//  1 / 0\n//} catch {\n//  case e: RuntimeException =&gt;\n//    println(&quot;Exception &quot; + e + &quot; is caught&quot;)\n//    {\n//      println(e)\n//      throw e\n//    }\n//}\n\ntransformer(q&quot;&quot;&quot;\n  try {\n    1 / 0\n  } catch {\n    case _ =&gt;\n      println(&quot;swallowed&quot;)\n  }\n&quot;&quot;&quot;)\n\n//try {\n//  1 / 0\n//} catch {\n//  case _ =&gt;\n//    println(&quot;Exception &quot; + &quot;_&quot; + &quot; is caught&quot;)\n//    println(&quot;swallowed&quot;)\n//}\n\ntransformer(q&quot;&quot;&quot;\n  try {\n    1 / 0\n  } finally {\n    case _ =&gt;\n      println(&quot;not catching&quot;)\n  }\n&quot;&quot;&quot;)\n\n//try {\n//  1 / 0\n//} finally {\n//  case _ =&gt;\n//    println(&quot;not catching&quot;)\n//}\n</code></pre>\n<p><a href=\"https://scalameta.org/\" rel=\"nofollow noreferrer\">https://scalameta.org/</a></p>\n<p><a href=\"https://www.scala-sbt.org/1.x/docs/Howto-Generating-Files.html\" rel=\"nofollow noreferrer\">https://www.scala-sbt.org/1.x/docs/Howto-Generating-Files.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61796570/scala-conditional-compilation\">Scala conditional compilation</a></p>\n<p><a href=\"https://stackoverflow.com/questions/35338239/macro-annotation-to-override-tostring-of-scala-function/\">Macro annotation to override toString of Scala function</a></p>\n<p><a href=\"https://stackoverflow.com/questions/58562229/how-to-merge-multiple-imports-in-scala/\">How to merge multiple imports in scala?</a></p>\n<p><a href=\"https://scalacenter.github.io/scalafix\" rel=\"nofollow noreferrer\">https://scalacenter.github.io/scalafix</a></p>\n<p>For Java sources Spoon (<a href=\"https://spoon.gforge.inria.fr\" rel=\"nofollow noreferrer\">https://spoon.gforge.inria.fr</a>) can be a replacement for Scalameta.</p>\n"},{"tags":[],"owner":{"account_id":1315819,"reputation":1626,"user_id":1262728,"accept_rate":75,"display_name":"Erik van Oosten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670405042,"creation_date":1670405042,"answer_id":74714325,"question_id":74709820,"body_markdown":"Solution 1 can work. If you are only worried about different semantics then it is sufficient to search in client code for occurrences of the exceptions defined by lib1. If client code catches a more generic exception (e.g. Exception or Throwable) then the precise semantics don&#39;t matter and you can leave that code alone.\r\n\r\nAssumptions:\r\n* Lib1&#39;s exceptions are specific and are not thrown by other code (e.g. not RuntimeException but Lib1Exception is okay).\r\n* Lib1 and lib2 throw different exceptions but for the same reasons: if lib1 would throw an exception, lib2 would as well (and vice versa).","title":"In Java or Scala, is there a way to add a callback to an exception so that when the exception is caught, the callback is invoked?","body":"<p>Solution 1 can work. If you are only worried about different semantics then it is sufficient to search in client code for occurrences of the exceptions defined by lib1. If client code catches a more generic exception (e.g. Exception or Throwable) then the precise semantics don't matter and you can leave that code alone.</p>\n<p>Assumptions:</p>\n<ul>\n<li>Lib1's exceptions are specific and are not thrown by other code (e.g. not RuntimeException but Lib1Exception is okay).</li>\n<li>Lib1 and lib2 throw different exceptions but for the same reasons: if lib1 would throw an exception, lib2 would as well (and vice versa).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670422923,"creation_date":1670422923,"answer_id":74718134,"question_id":74709820,"body_markdown":"&quot;Approach 3&quot; is a &quot;nogo&quot;. I would go with &quot;approach 4&quot;: write a wrapper client library (L3?) that throws the exceptions you want.\r\n \r\nIt may look like somewhat more work initially, but will definitely pay for itself when you change your mind and want to go back to L1, or when there are L4, L5 and L6 you want to try. It is also probably going to be a lot easier to unit-test.","title":"In Java or Scala, is there a way to add a callback to an exception so that when the exception is caught, the callback is invoked?","body":"<p>&quot;Approach 3&quot; is a &quot;nogo&quot;. I would go with &quot;approach 4&quot;: write a wrapper client library (L3?) that throws the exceptions you want.</p>\n<p>It may look like somewhat more work initially, but will definitely pay for itself when you change your mind and want to go back to L1, or when there are L4, L5 and L6 you want to try. It is also probably going to be a lot easier to unit-test.</p>\n"}],"owner":{"account_id":7604389,"reputation":41,"user_id":6095280,"display_name":"Lincong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670547177,"creation_date":1670366378,"question_id":74709820,"body_markdown":"**Problem statement:**\r\nI have an RPC client lib 1 that is used by many services with all code in a mono repo. This RPC client lib 1 throws a set of runtime exceptions (S1).\r\nNow there is another RPC client lib 2 that I try to migrate all services from using lib 1 to lib 2. However, RPC client lib 2 throws a different set of runtime exceptions (S2).\r\nI am trying to get a list of services that are going to be affected if the RPC client exception semantics change from S1 to S2.\r\n\r\n**Approach 1:** read through code of all services that currently use RPC client lib 1. Obviously this approach is not scalable because there are many services and exception handling logic could be complex and not straightforward.\r\n\r\n**Approach 2:** static analysis. However, I am not sure if any static analysis can detect the situation where an exception thrown by the RPC lib is caught at many levels above in the call stack.\r\n\r\n**Approach 3:** explore if there is a way to register a callback to an exception and expect the callback to be invoked when the exception is caught. Ideally when the callback is invoked, it is provided with the information about where the exception is caught.","title":"In Java or Scala, is there a way to add a callback to an exception so that when the exception is caught, the callback is invoked?","body":"<p><strong>Problem statement:</strong>\nI have an RPC client lib 1 that is used by many services with all code in a mono repo. This RPC client lib 1 throws a set of runtime exceptions (S1).\nNow there is another RPC client lib 2 that I try to migrate all services from using lib 1 to lib 2. However, RPC client lib 2 throws a different set of runtime exceptions (S2).\nI am trying to get a list of services that are going to be affected if the RPC client exception semantics change from S1 to S2.</p>\n<p><strong>Approach 1:</strong> read through code of all services that currently use RPC client lib 1. Obviously this approach is not scalable because there are many services and exception handling logic could be complex and not straightforward.</p>\n<p><strong>Approach 2:</strong> static analysis. However, I am not sure if any static analysis can detect the situation where an exception thrown by the RPC lib is caught at many levels above in the call stack.</p>\n<p><strong>Approach 3:</strong> explore if there is a way to register a callback to an exception and expect the callback to be invoked when the exception is caught. Ideally when the callback is invoked, it is provided with the information about where the exception is caught.</p>\n"},{"tags":["java","html","visual-studio-code"],"comments":[{"owner":{"account_id":20099383,"reputation":790,"user_id":14738189,"display_name":"Ethicist"},"score":0,"creation_date":1663935027,"post_id":73827474,"comment_id":130361930,"body_markdown":"If you&#39;re using windows then `ctrl+shift+p` -&gt; `Preferences: Color theme`. Just so you know, a single google search yields endless results for how to do this. Why bloat the site with questions that already have tons of answers easily available to you?","body":"If you&#39;re using windows then <code>ctrl+shift+p</code> -&gt; <code>Preferences: Color theme</code>. Just so you know, a single google search yields endless results for how to do this. Why bloat the site with questions that already have tons of answers easily available to you?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1670546659,"post_id":73827474,"comment_id":131905549,"body_markdown":"Surely there are plenty of duplicates?? This is more like using Stack Overflow as a human search engine or a help desk. What is the canonical question? Why isn&#39;t there even an attempt to find it instead of answering as if it hasn&#39;t been asked before?","body":"Surely there are plenty of duplicates?? This is more like using Stack Overflow as a human search engine or a help desk. What is the canonical question? Why isn&#39;t there even an attempt to find it instead of answering as if it hasn&#39;t been asked before?"}],"answers":[{"tags":[],"owner":{"account_id":18750601,"reputation":111,"user_id":13671784,"display_name":"Gugalcrom123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663935092,"creation_date":1663935092,"answer_id":73827532,"question_id":73827474,"body_markdown":"Go to Extensions (Ctrl-Shift-X) then click on your theme in the sidebar then click &quot;Set Colour Theme&quot; below the title and description.","title":"How can I change the Visual Studio Code theme?","body":"<p>Go to Extensions (Ctrl-Shift-X) then click on your theme in the sidebar then click &quot;Set Colour Theme&quot; below the title and description.</p>\n"},{"tags":[],"owner":{"account_id":22790682,"reputation":437,"user_id":16945061,"display_name":"Nishant Jadhav"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1670546503,"creation_date":1663935242,"answer_id":73827562,"question_id":73827474,"body_markdown":"To change the default theme, visit:\r\n\r\n*Settings* &amp;rarr; *Color Theme* &amp;rarr; *Select Theme*\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nOr press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;K&lt;/kbd&gt; + &lt;kbd&gt;T&lt;/kbd&gt;\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nAnd select the theme you want to apply.\r\n\r\nYou can download new themes from the extensions panel on the left-hand side.\r\n\r\n  [1]: https://i.stack.imgur.com/FptTV.png\r\n  [2]: https://i.stack.imgur.com/gV0uT.png\r\n","title":"How can I change the Visual Studio Code theme?","body":"<p>To change the default theme, visit:</p>\n<p><em>Settings</em>  <em>Color Theme</em>  <em>Select Theme</em></p>\n<p><a href=\"https://i.stack.imgur.com/FptTV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FptTV.png\" alt=\"Enter image description here\" /></a></p>\n<p>Or press <kbd>Ctrl</kbd> + <kbd>K</kbd> + <kbd>T</kbd></p>\n<p><a href=\"https://i.stack.imgur.com/gV0uT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gV0uT.png\" alt=\"Enter image description here\" /></a></p>\n<p>And select the theme you want to apply.</p>\n<p>You can download new themes from the extensions panel on the left-hand side.</p>\n"}],"owner":{"account_id":26422510,"reputation":11,"user_id":20069984,"display_name":"coolkidgamer223"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":73827562,"answer_count":2,"score":-4,"last_activity_date":1670546503,"creation_date":1663934879,"question_id":73827474,"body_markdown":"I&#39;m not digging the whole default theme and stuff. I looked in the settings and can&#39;t seem to find a way to change it.\r\n\r\n","title":"How can I change the Visual Studio Code theme?","body":"<p>I'm not digging the whole default theme and stuff. I looked in the settings and can't seem to find a way to change it.</p>\n"},{"tags":["java","list","enums"],"comments":[{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":0,"creation_date":1670545843,"post_id":74737680,"comment_id":131905452,"body_markdown":"Using streams is kind of overkill for a making a list of just 3 items. Why not using a simple for-each loop?","body":"Using streams is kind of overkill for a making a list of just 3 items. Why not using a simple for-each loop?"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670546264,"creation_date":1670546264,"answer_id":74737796,"question_id":74737680,"body_markdown":"You are on the right track you just need to convert the enums to your new class. Assuming appropriate getter in the enum and constructor:\r\n\r\n    Arrays.stream(ProductActions.values())\r\n        .map(pav -&gt; new ProductActionItem(pav.name(), pav.label())\r\n        .toList();","title":"Java: Getting all names and Labels in an Enum as a List Object","body":"<p>You are on the right track you just need to convert the enums to your new class. Assuming appropriate getter in the enum and constructor:</p>\n<pre><code>Arrays.stream(ProductActions.values())\n    .map(pav -&gt; new ProductActionItem(pav.name(), pav.label())\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74737796,"answer_count":1,"score":-2,"last_activity_date":1670546264,"creation_date":1670544881,"question_id":74737680,"body_markdown":"How do I stream a Enum Value-Label into a List object? Two \r\n\r\n    public enum ProductActions {\r\n        BUY(&quot;Buy&quot;),\r\n        SELL(&quot;Sell&quot;),\r\n        Transfer(&quot;Transfer&quot;),\r\n    \r\n        public final String label;\r\n    \r\n        ProductActions(String label) {\r\n            this.label = label;\r\n        }\r\n    }\r\n\r\nWant to transfer into this `List&lt;ProductActionItem&gt;`\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ProductActionItem {\r\n        private String productAction;\r\n        private String productLabel;\r\n\r\n    }\r\n\r\n\r\n**Working on Code:**\r\n\r\n    return Arrays.stream(productActions.values())\r\n                 .map(e -&gt; e.label).collect(Collectors.toList());\r\n\r\nTrying to use this Resource:\r\n\r\nhttps://stackoverflow.com/a/28828117/15435022\r\n","title":"Java: Getting all names and Labels in an Enum as a List Object","body":"<p>How do I stream a Enum Value-Label into a List object? Two</p>\n<pre><code>public enum ProductActions {\n    BUY(&quot;Buy&quot;),\n    SELL(&quot;Sell&quot;),\n    Transfer(&quot;Transfer&quot;),\n\n    public final String label;\n\n    ProductActions(String label) {\n        this.label = label;\n    }\n}\n</code></pre>\n<p>Want to transfer into this <code>List&lt;ProductActionItem&gt;</code></p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProductActionItem {\n    private String productAction;\n    private String productLabel;\n\n}\n</code></pre>\n<p><strong>Working on Code:</strong></p>\n<pre><code>return Arrays.stream(productActions.values())\n             .map(e -&gt; e.label).collect(Collectors.toList());\n</code></pre>\n<p>Trying to use this Resource:</p>\n<p><a href=\"https://stackoverflow.com/a/28828117/15435022\">https://stackoverflow.com/a/28828117/15435022</a></p>\n"},{"tags":["java","lambda","java-8","heap-memory"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":2,"creation_date":1501347080,"post_id":45391745,"comment_id":77744069,"body_markdown":"There *are* classes. It&#39;s smoke and mirrors.","body":"There <i>are</i> classes. It&#39;s smoke and mirrors."},{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1501347086,"post_id":45391745,"comment_id":77744073,"body_markdown":"this is because JVM will create a subclass of `Consumer` in memory for the  bridge methods of lambda expression / method reference expression.","body":"this is because JVM will create a subclass of <code>Consumer</code> in memory for the  bridge methods of lambda expression / method reference expression."},{"owner":{"account_id":6074821,"reputation":593,"user_id":4742511,"accept_rate":21,"display_name":"TheCurious"},"score":0,"creation_date":1501347268,"post_id":45391745,"comment_id":77744141,"body_markdown":"@holi-java I havn&#39;t find any `.class` file related this in class path.Can you please brief.","body":"@holi-java I havn&#39;t find any <code>.class</code> file related this in class path.Can you please brief."},{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1501347314,"post_id":45391745,"comment_id":77744153,"body_markdown":"in memory means it is only available in memory and didn&#39;t persist into disk. you can see the actual class by `consumer.getClass()`.","body":"in memory means it is only available in memory and didn&#39;t persist into disk. you can see the actual class by <code>consumer.getClass()</code>."},{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1501347940,"post_id":45391745,"comment_id":77744356,"body_markdown":"you can see here as further: http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html#metafactory-java.lang.invoke.MethodHandles.Lookup-java.lang.String-java.lang.invoke.MethodType-java.lang.invoke.MethodType-java.lang.invoke.MethodHandle-java.lang.invoke.MethodType-","body":"you can see here as further: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html#metafactory-java.lang.invoke.MethodHandles.Lookup-java.lang.String-java.lang.invoke.MethodType-java.lang.invoke.MethodType-java.lang.invoke.MethodHandle-java.lang.invoke.MethodType-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/invoke/&hellip;</a>"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1501347992,"post_id":45391745,"comment_id":77744376,"body_markdown":"No, lambdas are not required to be implemented as anonymous classes. Lambdas are also not required to be objects, just try to use `this` and you will get surprises. The magic is in `invokedynamic` read https://www.infoq.com/articles/Invokedynamic-Javas-secret-weapon for example. If think the quoted part of the doc is not for lambdas (need to be verified).","body":"No, lambdas are not required to be implemented as anonymous classes. Lambdas are also not required to be objects, just try to use <code>this</code> and you will get surprises. The magic is in <code>invokedynamic</code> read <a href=\"https://www.infoq.com/articles/Invokedynamic-Javas-secret-weapon\" rel=\"nofollow noreferrer\">infoq.com/articles/Invokedynamic-Javas-secret-weapon</a> for example. If think the quoted part of the doc is not for lambdas (need to be verified)."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1501348352,"post_id":45391745,"comment_id":77744508,"body_markdown":"Quote was for SE7, there is specific section 15.27 in SE8 to cover lambdas.","body":"Quote was for SE7, there is specific section 15.27 in SE8 to cover lambdas."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1501533645,"post_id":45391745,"comment_id":77811237,"body_markdown":"@TheCurious since you have a bounty here... may I ask what is not clear to you from the 3 answers? may be we can detail our answers to be more exact?","body":"@TheCurious since you have a bounty here... may I ask what is not clear to you from the 3 answers? may be we can detail our answers to be more exact?"}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501590753,"creation_date":1501348519,"answer_id":45391960,"question_id":45391745,"body_markdown":"You need to refer to SE8 15.27:\r\n\r\n&gt; 15.27.3. Type of a Lambda Expression\r\n&gt; \r\n&gt; A lambda expression is compatible in an assignment context, invocation\r\n&gt; context, or casting context with a target type T if T is a functional\r\n&gt; interface type (&#167;9.8) and the expression is congruent with the\r\n&gt; function type of the ground target type derived from T.\r\n\r\nRuntime handling use tricky things with `invokedynamic`. Let examine some code:\r\n\r\n    import java.util.function.*;\r\n    \r\n    class R implements Runnable {\r\n      public void run() { System.out.println(&quot;there&quot;); }\r\n    }\r\n    \r\n    public class L {\r\n      public static void execute(Runnable r) {\r\n        System.out.println(r.getClass());\r\n        r.run();\r\n      }\r\n      public static void main(String []a) {\r\n        execute(new R()); // subclass\r\n        execute(new Runnable() { // anonymous subclass\r\n            public void run() { System.out.println(&quot;elsewhere&quot;); }\r\n          });\r\n        execute(() -&gt; System.out.println(&quot;here&quot;)); // lambda\r\n      }\r\n    }\r\n\r\nExecution gives:\r\n\r\n    &gt; java L\r\n    class R\r\n    there\r\n    class L$1\r\n    elsewhere\r\n    class L$$Lambda$1/791452441\r\n    here\r\n\r\nFor the first two there is no surprise, the class of the object received by method `execute` is (in the given order) `R` (the subtype of `Runnable`), `L$1` (the anonymous subtype of `Runnable`, and `L$$Lambda$1/791452441` (the subtype of `Runnable` constructed at run time from the lambda). Note that in the case of lambda there is no `.class` file, the type is constructed at runtime by special construct. Let&#39;s examine the bytecode:\r\n\r\n    &gt; javap -c -v L\r\n    Classfile /private/tmp/L.class\r\n      Last modified 1 ao&#251;t 2017; size 1234 bytes\r\n      MD5 checksum 9680a2bc143d25344979bae00fff3db7\r\n      Compiled from &quot;L.java&quot;\r\n    public class L\r\n      minor version: 0\r\n      major version: 52\r\n      flags: ACC_PUBLIC, ACC_SUPER\r\n    Constant pool:\r\n       #1 = Methodref          #15.#28        // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       #2 = Fieldref           #29.#30        // java/lang/System.out:Ljava/io/PrintStream;\r\n       #3 = Methodref          #15.#31        // java/lang/Object.getClass:()Ljava/lang/Class;\r\n       #4 = Methodref          #32.#33        // java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n       #5 = InterfaceMethodref #34.#35        // java/lang/Runnable.run:()V\r\n       #6 = Class              #36            // R\r\n       #7 = Methodref          #6.#28         // R.&quot;&lt;init&gt;&quot;:()V\r\n       #8 = Methodref          #14.#37        // L.execute:(Ljava/lang/Runnable;)V\r\n       #9 = Class              #38            // L$1\r\n      #10 = Methodref          #9.#28         // L$1.&quot;&lt;init&gt;&quot;:()V\r\n      #11 = InvokeDynamic      #0:#43         // #0:run:()Ljava/lang/Runnable;\r\n      #12 = String             #44            // here\r\n      #13 = Methodref          #32.#45        // java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      #14 = Class              #46            // L\r\n      #15 = Class              #47            // java/lang/Object\r\n      #16 = Utf8               InnerClasses\r\n      #17 = Utf8               &lt;init&gt;\r\n      #18 = Utf8               ()V\r\n      #19 = Utf8               Code\r\n      #20 = Utf8               LineNumberTable\r\n      #21 = Utf8               execute\r\n      #22 = Utf8               (Ljava/lang/Runnable;)V\r\n      #23 = Utf8               main\r\n      #24 = Utf8               ([Ljava/lang/String;)V\r\n      #25 = Utf8               lambda$main$0\r\n      #26 = Utf8               SourceFile\r\n      #27 = Utf8               L.java\r\n      #28 = NameAndType        #17:#18        // &quot;&lt;init&gt;&quot;:()V\r\n      #29 = Class              #48            // java/lang/System\r\n      #30 = NameAndType        #49:#50        // out:Ljava/io/PrintStream;\r\n      #31 = NameAndType        #51:#52        // getClass:()Ljava/lang/Class;\r\n      #32 = Class              #53            // java/io/PrintStream\r\n      #33 = NameAndType        #54:#55        // println:(Ljava/lang/Object;)V\r\n      #34 = Class              #56            // java/lang/Runnable\r\n      #35 = NameAndType        #57:#18        // run:()V\r\n      #36 = Utf8               R\r\n      #37 = NameAndType        #21:#22        // execute:(Ljava/lang/Runnable;)V\r\n      #38 = Utf8               L$1\r\n      #39 = Utf8               BootstrapMethods\r\n      #40 = MethodHandle       #6:#58         // invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n      #41 = MethodType         #18            //  ()V\r\n      #42 = MethodHandle       #6:#59         // invokestatic L.lambda$main$0:()V\r\n      #43 = NameAndType        #57:#60        // run:()Ljava/lang/Runnable;\r\n      #44 = Utf8               here\r\n      #45 = NameAndType        #54:#61        // println:(Ljava/lang/String;)V\r\n      #46 = Utf8               L\r\n      #47 = Utf8               java/lang/Object\r\n      #48 = Utf8               java/lang/System\r\n      #49 = Utf8               out\r\n      #50 = Utf8               Ljava/io/PrintStream;\r\n      #51 = Utf8               getClass\r\n      #52 = Utf8               ()Ljava/lang/Class;\r\n      #53 = Utf8               java/io/PrintStream\r\n      #54 = Utf8               println\r\n      #55 = Utf8               (Ljava/lang/Object;)V\r\n      #56 = Utf8               java/lang/Runnable\r\n      #57 = Utf8               run\r\n      #58 = Methodref          #62.#63        // java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n      #59 = Methodref          #14.#64        // L.lambda$main$0:()V\r\n      #60 = Utf8               ()Ljava/lang/Runnable;\r\n      #61 = Utf8               (Ljava/lang/String;)V\r\n      #62 = Class              #65            // java/lang/invoke/LambdaMetafactory\r\n      #63 = NameAndType        #66:#69        // metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n      #64 = NameAndType        #25:#18        // lambda$main$0:()V\r\n      #65 = Utf8               java/lang/invoke/LambdaMetafactory\r\n      #66 = Utf8               metafactory\r\n      #67 = Class              #71            // java/lang/invoke/MethodHandles$Lookup\r\n      #68 = Utf8               Lookup\r\n      #69 = Utf8               (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n      #70 = Class              #72            // java/lang/invoke/MethodHandles\r\n      #71 = Utf8               java/lang/invoke/MethodHandles$Lookup\r\n      #72 = Utf8               java/lang/invoke/MethodHandles\r\n    {\r\n      public L();\r\n        descriptor: ()V\r\n        flags: ACC_PUBLIC\r\n        Code:\r\n          stack=1, locals=1, args_size=1\r\n             0: aload_0\r\n             1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n             4: return\r\n          LineNumberTable:\r\n            line 9: 0\r\n    \r\n      public static void execute(java.lang.Runnable);\r\n        descriptor: (Ljava/lang/Runnable;)V\r\n        flags: ACC_PUBLIC, ACC_STATIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n             0: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n             3: aload_0\r\n             4: invokevirtual #3                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\r\n             7: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n            10: aload_0\r\n            11: invokeinterface #5,  1            // InterfaceMethod java/lang/Runnable.run:()V\r\n            16: return\r\n          LineNumberTable:\r\n            line 11: 0\r\n            line 12: 10\r\n            line 13: 16\r\n    \r\n      public static void main(java.lang.String[]);\r\n        descriptor: ([Ljava/lang/String;)V\r\n        flags: ACC_PUBLIC, ACC_STATIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n             0: new           #6                  // class R\r\n             3: dup\r\n             4: invokespecial #7                  // Method R.&quot;&lt;init&gt;&quot;:()V\r\n             7: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            10: new           #9                  // class L$1\r\n            13: dup\r\n            14: invokespecial #10                 // Method L$1.&quot;&lt;init&gt;&quot;:()V\r\n            17: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            20: invokedynamic #11,  0             // InvokeDynamic #0:run:()Ljava/lang/Runnable;\r\n            25: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            28: return\r\n          LineNumberTable:\r\n            line 15: 0\r\n            line 16: 10\r\n            line 19: 20\r\n            line 20: 28\r\n    }\r\n    SourceFile: &quot;L.java&quot;\r\n    InnerClasses:\r\n         static #9; //class L$1\r\n         public static final #68= #67 of #70; //Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\r\n    BootstrapMethods:\r\n      0: #40 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n        Method arguments:\r\n          #41 ()V\r\n          #42 invokestatic L.lambda$main$0:()V\r\n          #41 ()V\r\n\r\nThe first interesting part is the code of `main`:\r\n\r\n      public static void main(java.lang.String[]);\r\n        descriptor: ([Ljava/lang/String;)V\r\n        flags: ACC_PUBLIC, ACC_STATIC\r\n        Code:\r\n          stack=2, locals=1, args_size=1\r\n             0: new           #6                  // class R\r\n             3: dup\r\n             4: invokespecial #7                  // Method R.&quot;&lt;init&gt;&quot;:()V\r\n             7: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            10: new           #9                  // class L$1\r\n            13: dup\r\n            14: invokespecial #10                 // Method L$1.&quot;&lt;init&gt;&quot;:()V\r\n            17: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            20: invokedynamic #11,  0             // InvokeDynamic #0:run:()Ljava/lang/Runnable;\r\n            25: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\r\n            28: return\r\n\r\nAs you can observe there is no difference in between the explicit implementation of the interface or the anonymous one. The last only involves class naming trickery (`L$1`), but both are used the same way, through `invokestatic`.\r\n\r\nInteresting case is the third (the lambda one) which involves `invokedynamic` and then `invokestatic`. Note that the `invokestatic` calls the same method as in the two previous calls (the method `run`).\r\n\r\nRoughly, the first time the `invokedynamic` is called a bootstrap method is called to construct a `CallSite` (see [CallSite in Java API][2]) which will then be used further to execute the code of the lambda. See the bootstrap call here:\r\n\r\n    BootstrapMethods:\r\n      0: #40 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n        Method arguments:\r\n          #41 ()V\r\n          #42 invokestatic L.lambda$main$0:()V\r\n          #41 ()V\r\n\r\nand the code referred by the call site:\r\n\r\n      #41 = MethodType         #18            //  ()V\r\n      #42 = MethodHandle       #6:#59         // invokestatic L.lambda$main$0:()V\r\n      #43 = NameAndType        #57:#60        // run:()Ljava/lang/Runnable;\r\n      #44 = Utf8               here\r\n      #45 = NameAndType        #54:#61        // println:(Ljava/lang/String;)V\r\n      #46 = Utf8               L\r\n      #47 = Utf8               java/lang/Object\r\n      #48 = Utf8               java/lang/System\r\n      #49 = Utf8               out\r\n      #50 = Utf8               Ljava/io/PrintStream;\r\n      #51 = Utf8               getClass\r\n      #52 = Utf8               ()Ljava/lang/Class;\r\n      #53 = Utf8               java/io/PrintStream\r\n      #54 = Utf8               println\r\n      #55 = Utf8               (Ljava/lang/Object;)V\r\n      #56 = Utf8               java/lang/Runnable\r\n      #57 = Utf8               run\r\n\r\n\r\n[2]: https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html","title":"How Memory assigns to lambda | How does it refered,by non super class reference variable","body":"<p>You need to refer to SE8 15.27:</p>\n\n<blockquote>\n  <p>15.27.3. Type of a Lambda Expression</p>\n  \n  <p>A lambda expression is compatible in an assignment context, invocation\n  context, or casting context with a target type T if T is a functional\n  interface type (9.8) and the expression is congruent with the\n  function type of the ground target type derived from T.</p>\n</blockquote>\n\n<p>Runtime handling use tricky things with <code>invokedynamic</code>. Let examine some code:</p>\n\n<pre><code>import java.util.function.*;\n\nclass R implements Runnable {\n  public void run() { System.out.println(\"there\"); }\n}\n\npublic class L {\n  public static void execute(Runnable r) {\n    System.out.println(r.getClass());\n    r.run();\n  }\n  public static void main(String []a) {\n    execute(new R()); // subclass\n    execute(new Runnable() { // anonymous subclass\n        public void run() { System.out.println(\"elsewhere\"); }\n      });\n    execute(() -&gt; System.out.println(\"here\")); // lambda\n  }\n}\n</code></pre>\n\n<p>Execution gives:</p>\n\n<pre><code>&gt; java L\nclass R\nthere\nclass L$1\nelsewhere\nclass L$$Lambda$1/791452441\nhere\n</code></pre>\n\n<p>For the first two there is no surprise, the class of the object received by method <code>execute</code> is (in the given order) <code>R</code> (the subtype of <code>Runnable</code>), <code>L$1</code> (the anonymous subtype of <code>Runnable</code>, and <code>L$$Lambda$1/791452441</code> (the subtype of <code>Runnable</code> constructed at run time from the lambda). Note that in the case of lambda there is no <code>.class</code> file, the type is constructed at runtime by special construct. Let's examine the bytecode:</p>\n\n<pre><code>&gt; javap -c -v L\nClassfile /private/tmp/L.class\n  Last modified 1 aot 2017; size 1234 bytes\n  MD5 checksum 9680a2bc143d25344979bae00fff3db7\n  Compiled from \"L.java\"\npublic class L\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #15.#28        // java/lang/Object.\"&lt;init&gt;\":()V\n   #2 = Fieldref           #29.#30        // java/lang/System.out:Ljava/io/PrintStream;\n   #3 = Methodref          #15.#31        // java/lang/Object.getClass:()Ljava/lang/Class;\n   #4 = Methodref          #32.#33        // java/io/PrintStream.println:(Ljava/lang/Object;)V\n   #5 = InterfaceMethodref #34.#35        // java/lang/Runnable.run:()V\n   #6 = Class              #36            // R\n   #7 = Methodref          #6.#28         // R.\"&lt;init&gt;\":()V\n   #8 = Methodref          #14.#37        // L.execute:(Ljava/lang/Runnable;)V\n   #9 = Class              #38            // L$1\n  #10 = Methodref          #9.#28         // L$1.\"&lt;init&gt;\":()V\n  #11 = InvokeDynamic      #0:#43         // #0:run:()Ljava/lang/Runnable;\n  #12 = String             #44            // here\n  #13 = Methodref          #32.#45        // java/io/PrintStream.println:(Ljava/lang/String;)V\n  #14 = Class              #46            // L\n  #15 = Class              #47            // java/lang/Object\n  #16 = Utf8               InnerClasses\n  #17 = Utf8               &lt;init&gt;\n  #18 = Utf8               ()V\n  #19 = Utf8               Code\n  #20 = Utf8               LineNumberTable\n  #21 = Utf8               execute\n  #22 = Utf8               (Ljava/lang/Runnable;)V\n  #23 = Utf8               main\n  #24 = Utf8               ([Ljava/lang/String;)V\n  #25 = Utf8               lambda$main$0\n  #26 = Utf8               SourceFile\n  #27 = Utf8               L.java\n  #28 = NameAndType        #17:#18        // \"&lt;init&gt;\":()V\n  #29 = Class              #48            // java/lang/System\n  #30 = NameAndType        #49:#50        // out:Ljava/io/PrintStream;\n  #31 = NameAndType        #51:#52        // getClass:()Ljava/lang/Class;\n  #32 = Class              #53            // java/io/PrintStream\n  #33 = NameAndType        #54:#55        // println:(Ljava/lang/Object;)V\n  #34 = Class              #56            // java/lang/Runnable\n  #35 = NameAndType        #57:#18        // run:()V\n  #36 = Utf8               R\n  #37 = NameAndType        #21:#22        // execute:(Ljava/lang/Runnable;)V\n  #38 = Utf8               L$1\n  #39 = Utf8               BootstrapMethods\n  #40 = MethodHandle       #6:#58         // invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n  #41 = MethodType         #18            //  ()V\n  #42 = MethodHandle       #6:#59         // invokestatic L.lambda$main$0:()V\n  #43 = NameAndType        #57:#60        // run:()Ljava/lang/Runnable;\n  #44 = Utf8               here\n  #45 = NameAndType        #54:#61        // println:(Ljava/lang/String;)V\n  #46 = Utf8               L\n  #47 = Utf8               java/lang/Object\n  #48 = Utf8               java/lang/System\n  #49 = Utf8               out\n  #50 = Utf8               Ljava/io/PrintStream;\n  #51 = Utf8               getClass\n  #52 = Utf8               ()Ljava/lang/Class;\n  #53 = Utf8               java/io/PrintStream\n  #54 = Utf8               println\n  #55 = Utf8               (Ljava/lang/Object;)V\n  #56 = Utf8               java/lang/Runnable\n  #57 = Utf8               run\n  #58 = Methodref          #62.#63        // java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n  #59 = Methodref          #14.#64        // L.lambda$main$0:()V\n  #60 = Utf8               ()Ljava/lang/Runnable;\n  #61 = Utf8               (Ljava/lang/String;)V\n  #62 = Class              #65            // java/lang/invoke/LambdaMetafactory\n  #63 = NameAndType        #66:#69        // metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n  #64 = NameAndType        #25:#18        // lambda$main$0:()V\n  #65 = Utf8               java/lang/invoke/LambdaMetafactory\n  #66 = Utf8               metafactory\n  #67 = Class              #71            // java/lang/invoke/MethodHandles$Lookup\n  #68 = Utf8               Lookup\n  #69 = Utf8               (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n  #70 = Class              #72            // java/lang/invoke/MethodHandles\n  #71 = Utf8               java/lang/invoke/MethodHandles$Lookup\n  #72 = Utf8               java/lang/invoke/MethodHandles\n{\n  public L();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n         4: return\n      LineNumberTable:\n        line 9: 0\n\n  public static void execute(java.lang.Runnable);\n    descriptor: (Ljava/lang/Runnable;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         3: aload_0\n         4: invokevirtual #3                  // Method java/lang/Object.getClass:()Ljava/lang/Class;\n         7: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n        10: aload_0\n        11: invokeinterface #5,  1            // InterfaceMethod java/lang/Runnable.run:()V\n        16: return\n      LineNumberTable:\n        line 11: 0\n        line 12: 10\n        line 13: 16\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: new           #6                  // class R\n         3: dup\n         4: invokespecial #7                  // Method R.\"&lt;init&gt;\":()V\n         7: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        10: new           #9                  // class L$1\n        13: dup\n        14: invokespecial #10                 // Method L$1.\"&lt;init&gt;\":()V\n        17: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        20: invokedynamic #11,  0             // InvokeDynamic #0:run:()Ljava/lang/Runnable;\n        25: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        28: return\n      LineNumberTable:\n        line 15: 0\n        line 16: 10\n        line 19: 20\n        line 20: 28\n}\nSourceFile: \"L.java\"\nInnerClasses:\n     static #9; //class L$1\n     public static final #68= #67 of #70; //Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles\nBootstrapMethods:\n  0: #40 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n    Method arguments:\n      #41 ()V\n      #42 invokestatic L.lambda$main$0:()V\n      #41 ()V\n</code></pre>\n\n<p>The first interesting part is the code of <code>main</code>:</p>\n\n<pre><code>  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: new           #6                  // class R\n         3: dup\n         4: invokespecial #7                  // Method R.\"&lt;init&gt;\":()V\n         7: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        10: new           #9                  // class L$1\n        13: dup\n        14: invokespecial #10                 // Method L$1.\"&lt;init&gt;\":()V\n        17: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        20: invokedynamic #11,  0             // InvokeDynamic #0:run:()Ljava/lang/Runnable;\n        25: invokestatic  #8                  // Method execute:(Ljava/lang/Runnable;)V\n        28: return\n</code></pre>\n\n<p>As you can observe there is no difference in between the explicit implementation of the interface or the anonymous one. The last only involves class naming trickery (<code>L$1</code>), but both are used the same way, through <code>invokestatic</code>.</p>\n\n<p>Interesting case is the third (the lambda one) which involves <code>invokedynamic</code> and then <code>invokestatic</code>. Note that the <code>invokestatic</code> calls the same method as in the two previous calls (the method <code>run</code>).</p>\n\n<p>Roughly, the first time the <code>invokedynamic</code> is called a bootstrap method is called to construct a <code>CallSite</code> (see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html\" rel=\"nofollow noreferrer\">CallSite in Java API</a>) which will then be used further to execute the code of the lambda. See the bootstrap call here:</p>\n\n<pre><code>BootstrapMethods:\n  0: #40 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n    Method arguments:\n      #41 ()V\n      #42 invokestatic L.lambda$main$0:()V\n      #41 ()V\n</code></pre>\n\n<p>and the code referred by the call site:</p>\n\n<pre><code>  #41 = MethodType         #18            //  ()V\n  #42 = MethodHandle       #6:#59         // invokestatic L.lambda$main$0:()V\n  #43 = NameAndType        #57:#60        // run:()Ljava/lang/Runnable;\n  #44 = Utf8               here\n  #45 = NameAndType        #54:#61        // println:(Ljava/lang/String;)V\n  #46 = Utf8               L\n  #47 = Utf8               java/lang/Object\n  #48 = Utf8               java/lang/System\n  #49 = Utf8               out\n  #50 = Utf8               Ljava/io/PrintStream;\n  #51 = Utf8               getClass\n  #52 = Utf8               ()Ljava/lang/Class;\n  #53 = Utf8               java/io/PrintStream\n  #54 = Utf8               println\n  #55 = Utf8               (Ljava/lang/Object;)V\n  #56 = Utf8               java/lang/Runnable\n  #57 = Utf8               run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501349154,"creation_date":1501349154,"answer_id":45392061,"question_id":45391745,"body_markdown":"**Q**: If here consumer is not referring to subclass or Anonymous class of Consumer ....?\r\n\r\n\r\nIn fact, the subclass is introduced in **Linkage** phase by `invokedynamc` instruction.\r\n\r\n&gt; Linkage may involve dynamically **loading** a new class that implements the target interface.  The `CallSite` can be considered a &quot;**factory**&quot; for function objects and so these linkage methods are referred to as &quot;metafactories&quot;.\r\n\r\n**Q**: How memory assign to lamdas and how does JVM handle such at run time?\r\n\r\nIt proceeds in order through three phases:\r\n\r\n- **Linkage** - may involve dynamically loading a new class that implements the target interface.\r\n- **Capture** - producing a function object.\r\n- **Invocation**  - an implemented interface method is invoked on a function object.\r\n\r\nFor the more details, you can see [LambdaMetafactory][1] as further.\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html","title":"How Memory assigns to lambda | How does it refered,by non super class reference variable","body":"<p><strong>Q</strong>: If here consumer is not referring to subclass or Anonymous class of Consumer ....?</p>\n\n<p>In fact, the subclass is introduced in <strong>Linkage</strong> phase by <code>invokedynamc</code> instruction.</p>\n\n<blockquote>\n  <p>Linkage may involve dynamically <strong>loading</strong> a new class that implements the target interface.  The <code>CallSite</code> can be considered a \"<strong>factory</strong>\" for function objects and so these linkage methods are referred to as \"metafactories\".</p>\n</blockquote>\n\n<p><strong>Q</strong>: How memory assign to lamdas and how does JVM handle such at run time?</p>\n\n<p>It proceeds in order through three phases:</p>\n\n<ul>\n<li><strong>Linkage</strong> - may involve dynamically loading a new class that implements the target interface.</li>\n<li><strong>Capture</strong> - producing a function object.</li>\n<li><strong>Invocation</strong>  - an implemented interface method is invoked on a function object.</li>\n</ul>\n\n<p>For the more details, you can see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html\" rel=\"noreferrer\">LambdaMetafactory</a> as further.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1501361774,"creation_date":1501361774,"answer_id":45393978,"question_id":45391745,"body_markdown":"First of all Jean-Baptiste has shown you why the assignment works in the first place. \r\n\r\nNow the part that I think that you are missing is the fact that the generated class of `Consumer` in case of `Consumer&lt;Integer&gt; consumer = t -&gt; System.out.println(t);` is only visible at runtime due to `invokedynamic`. \r\n\r\nRun your class with a flag :\r\n\r\n    java -Djdk.internal.lambda.dumpProxyClasses=/Your/Path\r\n\r\nAnd you will notice that there is a generated class (inside a path of folders from your package name of the class) that contains a `.class` file sort of like this `SOQuestion$$Lambda$1.class`.\r\n\r\nIf you decompile that you will see that it&#39;s actually a class that implements `Consumer`:\r\n\r\n    final class org.eugene.so.SOQuestion$$Lambda$1 \r\n                implements java.util.function.Consumer {\r\n         public void accept(java.lang.Object);\r\n    }\r\n\r\nIf you look at the generated byte code where your lambda is defined, you will see that the lambda expression is actually de-sugared to a static method (for non-captureting lambdas, it could also be non-static if it is a capturing lambda). The code for it:\r\n\r\n\r\n    private static void lambda$main$0(java.lang.Integer);\r\n    Code:\r\n       0: getstatic     #3  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3: aload_0\r\n       4: invokevirtual #4  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n       7: return\r\n\r\n\r\nAs far as how the `VM` manages memory for it, for an non-capturing lambda you will get a singleton, for a capturing-lambda you will get a new instance of each call. The absolute must read is [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23983832/is-method-reference-caching-a-good-idea-in-java-8/23991339#23991339","title":"How Memory assigns to lambda | How does it refered,by non super class reference variable","body":"<p>First of all Jean-Baptiste has shown you why the assignment works in the first place. </p>\n\n<p>Now the part that I think that you are missing is the fact that the generated class of <code>Consumer</code> in case of <code>Consumer&lt;Integer&gt; consumer = t -&gt; System.out.println(t);</code> is only visible at runtime due to <code>invokedynamic</code>. </p>\n\n<p>Run your class with a flag :</p>\n\n<pre><code>java -Djdk.internal.lambda.dumpProxyClasses=/Your/Path\n</code></pre>\n\n<p>And you will notice that there is a generated class (inside a path of folders from your package name of the class) that contains a <code>.class</code> file sort of like this <code>SOQuestion$$Lambda$1.class</code>.</p>\n\n<p>If you decompile that you will see that it's actually a class that implements <code>Consumer</code>:</p>\n\n<pre><code>final class org.eugene.so.SOQuestion$$Lambda$1 \n            implements java.util.function.Consumer {\n     public void accept(java.lang.Object);\n}\n</code></pre>\n\n<p>If you look at the generated byte code where your lambda is defined, you will see that the lambda expression is actually de-sugared to a static method (for non-captureting lambdas, it could also be non-static if it is a capturing lambda). The code for it:</p>\n\n<pre><code>private static void lambda$main$0(java.lang.Integer);\nCode:\n   0: getstatic     #3  // Field java/lang/System.out:Ljava/io/PrintStream;\n   3: aload_0\n   4: invokevirtual #4  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n   7: return\n</code></pre>\n\n<p>As far as how the <code>VM</code> manages memory for it, for an non-capturing lambda you will get a singleton, for a capturing-lambda you will get a new instance of each call. The absolute must read is <a href=\"https://stackoverflow.com/questions/23983832/is-method-reference-caching-a-good-idea-in-java-8/23991339#23991339\">here</a></p>\n"}],"owner":{"account_id":6074821,"reputation":593,"user_id":4742511,"accept_rate":21,"display_name":"TheCurious"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":45393978,"answer_count":3,"score":11,"last_activity_date":1670546070,"creation_date":1501346933,"question_id":45391745,"body_markdown":"I was creating the implementation of a functional interface, below is my code:\r\n\r\n    Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() {\r\n\t\t@Override\r\n\t\tpublic void accept(Integer t) {\r\n\t\t\tSystem.out.println(t);\r\n\t\t}\r\n\t};\r\n\r\n\r\nAs per the [Java Documentation (javadoc)][1]\r\n\r\n&gt; A variable of a class type T can hold a null reference or a reference\r\n&gt; to an instance of class T or of any class that is a subclass of T.\r\n\r\n\r\nIn the code above, the anonymous object is created, which is a subclass of `Consumer`, and can be referred to by reference variable `consumer`, which is fine.\r\n\r\nBut I saw `Consumer` is a `FunctionalInterface`, so I can also do something like this in Java 8:\r\n\r\n**Using Lambda** \r\n\r\n    Consumer&lt;Integer&gt; consumer = t -&gt; System.out.println(t);\r\n\r\n**OR Using Method Reference** \r\n\r\n    Consumer&lt;Integer&gt; consumer = System.out::println;\r\n\r\nWhat I know, no sub classes or anonymous classes are being created in both of the above cases. This is creating couple of confusions to me:\r\n\r\n**1 : Since the variable `consumer` is not referring to subclass or Anonymous class of `Consumer`, so isn&#39;t this violating the above mentioned concept which is, variable can only refer child/self or `null`?**\r\n\r\n**2 : How is memory assigned to lambdas, and how does the JVM handle such at run time?**\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.2","title":"How Memory assigns to lambda | How does it refered,by non super class reference variable","body":"<p>I was creating the implementation of a functional interface, below is my code:</p>\n<pre><code>Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() {\n    @Override\n    public void accept(Integer t) {\n        System.out.println(t);\n    }\n};\n</code></pre>\n<p>As per the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.2\" rel=\"nofollow noreferrer\">Java Documentation (javadoc)</a></p>\n<blockquote>\n<p>A variable of a class type T can hold a null reference or a reference\nto an instance of class T or of any class that is a subclass of T.</p>\n</blockquote>\n<p>In the code above, the anonymous object is created, which is a subclass of <code>Consumer</code>, and can be referred to by reference variable <code>consumer</code>, which is fine.</p>\n<p>But I saw <code>Consumer</code> is a <code>FunctionalInterface</code>, so I can also do something like this in Java 8:</p>\n<p><strong>Using Lambda</strong></p>\n<pre><code>Consumer&lt;Integer&gt; consumer = t -&gt; System.out.println(t);\n</code></pre>\n<p><strong>OR Using Method Reference</strong></p>\n<pre><code>Consumer&lt;Integer&gt; consumer = System.out::println;\n</code></pre>\n<p>What I know, no sub classes or anonymous classes are being created in both of the above cases. This is creating couple of confusions to me:</p>\n<p><strong>1 : Since the variable <code>consumer</code> is not referring to subclass or Anonymous class of <code>Consumer</code>, so isn't this violating the above mentioned concept which is, variable can only refer child/self or <code>null</code>?</strong></p>\n<p><strong>2 : How is memory assigned to lambdas, and how does the JVM handle such at run time?</strong></p>\n"},{"tags":["python","java","hadoop"],"owner":{"account_id":7355445,"reputation":109,"user_id":14650800,"display_name":"Matsukazi Issy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670545976,"creation_date":1670545976,"question_id":74737769,"body_markdown":"This is driving me insane, I kid you not I debugged for like a million times so I can get to this point, but this one I couldn&#39;t solve in any way, I&#39;m running a single node cluster, here is the command that I ran:\r\n\r\n```hadoop jar C:\\Hadoop\\hadoop-2.9.2\\hadoop-streaming-2.9.2.jar -verbose -input /hadoop/data.csv -output /hadoop/output.txt -file C:\\Hadoop\\hadoop-2.9.2\\mapper.py -mapper &quot;python mapper.py&quot; -reducer C:\\Hadoop\\hadoop-2.9.2\\reducer.py```\r\n\r\nand here is the error:\r\n\r\n```\r\n22/12/09 01:15:45 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.\r\npackageJobJar: [C:\\Hadoop\\hadoop-2.9.2\\mapper.py, /C:/Users/matsu/AppData/Local/Temp/hadoop-unjar359085693376764278/] [] C:\\Users\\matsu\\AppData\\Local\\Temp\\streamjob5458220146420962625.jar tmpDir=null\r\n22/12/09 01:15:46 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\r\n22/12/09 01:15:47 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\r\n22/12/09 01:15:48 INFO mapred.FileInputFormat: Total input files to process : 1\r\n22/12/09 01:15:48 INFO mapreduce.JobSubmitter: number of splits:2\r\n22/12/09 01:15:48 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled\r\n22/12/09 01:15:48 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1670535169635_0016\r\n22/12/09 01:15:49 INFO impl.YarnClientImpl: Submitted application application_1670535169635_0016\r\n22/12/09 01:15:49 INFO mapreduce.Job: The url to track the job: http://DESKTOP-IAB4BFI:8088/proxy/application_1670535169635_0016/\r\n22/12/09 01:15:49 INFO mapreduce.Job: Running job: job_1670535169635_0016\r\n22/12/09 01:15:56 INFO mapreduce.Job: Job job_1670535169635_0016 running in uber mode : false\r\n22/12/09 01:15:56 INFO mapreduce.Job:  map 0% reduce 0%\r\n22/12/09 01:16:01 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_0, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:01 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_0, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:06 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_1, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:06 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_1, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:11 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_2, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:12 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_2, Status : FAILED\r\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\r\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\r\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\r\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\r\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\r\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\r\n\r\n22/12/09 01:16:17 INFO mapreduce.Job:  map 100% reduce 100%\r\n22/12/09 01:16:18 INFO mapreduce.Job: Job job_1670535169635_0016 failed with state FAILED due to: Task failed task_1670535169635_0016_m_000001\r\nJob failed as tasks failed. failedMaps:1 failedReduces:0\r\n\r\n22/12/09 01:16:18 INFO mapreduce.Job: Counters: 14\r\n        Job Counters\r\n                Failed map tasks=7\r\n                Killed map tasks=1\r\n                Killed reduce tasks=1\r\n                Launched map tasks=8\r\n                Other local map tasks=6\r\n                Data-local map tasks=2\r\n                Total time spent by all maps in occupied slots (ms)=28036\r\n                Total time spent by all reduces in occupied slots (ms)=0\r\n                Total time spent by all map tasks (ms)=28036\r\n                Total vcore-milliseconds taken by all map tasks=28036\r\n                Total megabyte-milliseconds taken by all map tasks=28708864\r\n        Map-Reduce Framework\r\n                CPU time spent (ms)=0\r\n                Physical memory (bytes) snapshot=0\r\n                Virtual memory (bytes) snapshot=0\r\n22/12/09 01:16:18 ERROR streaming.StreamJob: Job not successful!\r\nStreaming Command Failed!\r\n```\r\n\r\nWhen I try running the command with no -mapper argument it works fine, so that means that the script is what&#39;s probably the problem, here is my mapper script:\r\n\r\n```#!C:\\Users\\matsu\\AppData\\Local\\Microsoft\\WindowsApps/python.exe\r\n\r\n\r\nimport sys\r\n\r\n# read input from stdin\r\nfor line in sys.stdin:\r\n    # split the input line into user ID, movie ID, and rating\r\n    user_id, movie_id, rating = line.strip().split(&quot;,&quot;)\r\n\r\n    # emit the user ID and movie ID as key-value pairs\r\n    print(&quot;{}\\t{}&quot;.format(user_id, movie_id))\r\n```\r\n\r\nI tried removing the first line, changing it, did everything, change what the script does just to test, but it always gives me the same error.\r\nAny miniscule amount of help would be much much appreciated!","title":"&quot;Error: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009&quot; when running a Hadoop streaming job","body":"<p>This is driving me insane, I kid you not I debugged for like a million times so I can get to this point, but this one I couldn't solve in any way, I'm running a single node cluster, here is the command that I ran:</p>\n<p><code>hadoop jar C:\\Hadoop\\hadoop-2.9.2\\hadoop-streaming-2.9.2.jar -verbose -input /hadoop/data.csv -output /hadoop/output.txt -file C:\\Hadoop\\hadoop-2.9.2\\mapper.py -mapper &quot;python mapper.py&quot; -reducer C:\\Hadoop\\hadoop-2.9.2\\reducer.py</code></p>\n<p>and here is the error:</p>\n<pre><code>22/12/09 01:15:45 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.\npackageJobJar: [C:\\Hadoop\\hadoop-2.9.2\\mapper.py, /C:/Users/matsu/AppData/Local/Temp/hadoop-unjar359085693376764278/] [] C:\\Users\\matsu\\AppData\\Local\\Temp\\streamjob5458220146420962625.jar tmpDir=null\n22/12/09 01:15:46 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n22/12/09 01:15:47 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n22/12/09 01:15:48 INFO mapred.FileInputFormat: Total input files to process : 1\n22/12/09 01:15:48 INFO mapreduce.JobSubmitter: number of splits:2\n22/12/09 01:15:48 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled\n22/12/09 01:15:48 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1670535169635_0016\n22/12/09 01:15:49 INFO impl.YarnClientImpl: Submitted application application_1670535169635_0016\n22/12/09 01:15:49 INFO mapreduce.Job: The url to track the job: http://DESKTOP-IAB4BFI:8088/proxy/application_1670535169635_0016/\n22/12/09 01:15:49 INFO mapreduce.Job: Running job: job_1670535169635_0016\n22/12/09 01:15:56 INFO mapreduce.Job: Job job_1670535169635_0016 running in uber mode : false\n22/12/09 01:15:56 INFO mapreduce.Job:  map 0% reduce 0%\n22/12/09 01:16:01 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_0, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:01 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_0, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:06 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_1, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:06 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_1, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:11 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000001_2, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:12 INFO mapreduce.Job: Task Id : attempt_1670535169635_0016_m_000000_2, Status : FAILED\nError: java.lang.RuntimeException: PipeMapRed.waitOutputThreads(): subprocess failed with code 9009\n        at org.apache.hadoop.streaming.PipeMapRed.waitOutputThreads(PipeMapRed.java:325)\n        at org.apache.hadoop.streaming.PipeMapRed.mapRedFinished(PipeMapRed.java:538)\n        at org.apache.hadoop.streaming.PipeMapper.close(PipeMapper.java:130)\n        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:61)\n        at org.apache.hadoop.streaming.PipeMapRunner.run(PipeMapRunner.java:34)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:459)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:177)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1893)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:171)\n\n22/12/09 01:16:17 INFO mapreduce.Job:  map 100% reduce 100%\n22/12/09 01:16:18 INFO mapreduce.Job: Job job_1670535169635_0016 failed with state FAILED due to: Task failed task_1670535169635_0016_m_000001\nJob failed as tasks failed. failedMaps:1 failedReduces:0\n\n22/12/09 01:16:18 INFO mapreduce.Job: Counters: 14\n        Job Counters\n                Failed map tasks=7\n                Killed map tasks=1\n                Killed reduce tasks=1\n                Launched map tasks=8\n                Other local map tasks=6\n                Data-local map tasks=2\n                Total time spent by all maps in occupied slots (ms)=28036\n                Total time spent by all reduces in occupied slots (ms)=0\n                Total time spent by all map tasks (ms)=28036\n                Total vcore-milliseconds taken by all map tasks=28036\n                Total megabyte-milliseconds taken by all map tasks=28708864\n        Map-Reduce Framework\n                CPU time spent (ms)=0\n                Physical memory (bytes) snapshot=0\n                Virtual memory (bytes) snapshot=0\n22/12/09 01:16:18 ERROR streaming.StreamJob: Job not successful!\nStreaming Command Failed!\n</code></pre>\n<p>When I try running the command with no -mapper argument it works fine, so that means that the script is what's probably the problem, here is my mapper script:</p>\n<pre><code>\n\nimport sys\n\n# read input from stdin\nfor line in sys.stdin:\n    # split the input line into user ID, movie ID, and rating\n    user_id, movie_id, rating = line.strip().split(&quot;,&quot;)\n\n    # emit the user ID and movie ID as key-value pairs\n    print(&quot;{}\\t{}&quot;.format(user_id, movie_id))\n</code></pre>\n<p>I tried removing the first line, changing it, did everything, change what the script does just to test, but it always gives me the same error.\nAny miniscule amount of help would be much much appreciated!</p>\n"},{"tags":["java","list","random","probability"],"answers":[{"tags":[],"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1439243776,"creation_date":1329490938,"answer_id":9330493,"question_id":9330394,"body_markdown":"So with each item store a number that marks its relative probability, for example if you have 3 items one should be twice as likely to be selected as either of the other two then your list will have:\r\n     \r\n     [{A,1},{B,1},{C,2}]\r\n\r\nThen sum the numbers of the list (i.e. 4 in our case).\r\nNow generate a random number and choose that index.\r\nint index = rand.nextInt(4);\r\nreturn the number such that the index is in the correct range.\r\n\r\nJava code:\r\n\r\n    class Item {\r\n        int relativeProb;\r\n        String name;\r\n\r\n        //Getters Setters and Constructor\r\n    }\r\n    \r\n    ...\r\n\r\n    class RandomSelector {\r\n        List&lt;Item&gt; items = new List();\r\n        Random rand = new Random();\r\n        int totalSum = 0;\r\n\r\n        RandomSelector() {\r\n            for(Item item : items) {\r\n                totalSum = totalSum + item.relativeProb;\r\n            }\r\n        }\r\n\r\n        public Item getRandom() {\r\n       \r\n            int index = rand.nextInt(totalSum);\r\n            int sum = 0;\r\n            int i=0;\r\n            while(sum &lt; index ) {\r\n                 sum = sum + items.get(i++).relativeProb;\r\n            }\r\n            return items.get(Math.max(0,i-1));\r\n        }\r\n    }","title":"How to pick an item by its probability?","body":"<p>So with each item store a number that marks its relative probability, for example if you have 3 items one should be twice as likely to be selected as either of the other two then your list will have:</p>\n\n<pre><code> [{A,1},{B,1},{C,2}]\n</code></pre>\n\n<p>Then sum the numbers of the list (i.e. 4 in our case).\nNow generate a random number and choose that index.\nint index = rand.nextInt(4);\nreturn the number such that the index is in the correct range.</p>\n\n<p>Java code:</p>\n\n<pre><code>class Item {\n    int relativeProb;\n    String name;\n\n    //Getters Setters and Constructor\n}\n\n...\n\nclass RandomSelector {\n    List&lt;Item&gt; items = new List();\n    Random rand = new Random();\n    int totalSum = 0;\n\n    RandomSelector() {\n        for(Item item : items) {\n            totalSum = totalSum + item.relativeProb;\n        }\n    }\n\n    public Item getRandom() {\n\n        int index = rand.nextInt(totalSum);\n        int sum = 0;\n        int i=0;\n        while(sum &lt; index ) {\n             sum = sum + items.get(i++).relativeProb;\n        }\n        return items.get(Math.max(0,i-1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182757,"reputation":6327,"user_id":417678,"accept_rate":82,"display_name":"mj_"},"down_vote_count":3,"up_vote_count":36,"is_accepted":false,"score":33,"last_activity_date":1329490949,"creation_date":1329490949,"answer_id":9330497,"question_id":9330394,"body_markdown":"pretend that we have the following list\r\n\r\n    Item A 25%\r\n    Item B 15%\r\n    Item C 35%\r\n    Item D 5%\r\n    Item E 20%\r\n\r\n\r\nLets pretend that all the probabilities are integers, and assign each item a &quot;range&quot; that calculated as follows.\r\n\r\n    Start - Sum of probability of all items before\r\n    End - Start + own probability\r\n\r\nThe new numbers are as follows\r\n\r\n    Item A 0 to 25\r\n    Item B 26 to 40\r\n    Item C 41 to 75\r\n    Item D 76 to 80\r\n    Item E 81 to 100\r\n\r\nNow pick a random number from 0 to 100. Lets say that you pick 32. 32 falls in Item B&#39;s range. \r\n\r\nmj\r\n\r\n\r\n    ","title":"How to pick an item by its probability?","body":"<p>pretend that we have the following list</p>\n\n<pre><code>Item A 25%\nItem B 15%\nItem C 35%\nItem D 5%\nItem E 20%\n</code></pre>\n\n<p>Lets pretend that all the probabilities are integers, and assign each item a \"range\" that calculated as follows.</p>\n\n<pre><code>Start - Sum of probability of all items before\nEnd - Start + own probability\n</code></pre>\n\n<p>The new numbers are as follows</p>\n\n<pre><code>Item A 0 to 25\nItem B 26 to 40\nItem C 41 to 75\nItem D 76 to 80\nItem E 81 to 100\n</code></pre>\n\n<p>Now pick a random number from 0 to 100. Lets say that you pick 32. 32 falls in Item B's range. </p>\n\n<p>mj</p>\n"},{"tags":[],"owner":{"account_id":1111702,"reputation":13156,"user_id":1102056,"accept_rate":60,"display_name":"Sufian Latif"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1670544948,"creation_date":1329491154,"answer_id":9330552,"question_id":9330394,"body_markdown":"You can try the [Roulette Wheel Selection][1].\r\n\r\nFirst, add all the probabilities, then scale all the probabilities in the scale of 1, by dividing each one by the sum. Suppose the scaled probabilities are `A(0.4), B(0.3), C(0.25) and D(0.05)`. Then you can generate a random floating-point number in the range `[0, 1)`. Now you can decide like this:\r\n\r\n    random number in [0.00, 0.40) -&gt; pick A\r\n                  in [0.40, 0.70) -&gt; pick B\r\n                  in [0.70, 0.95) -&gt; pick C\r\n                  in [0.95, 1.00) -&gt; pick D\r\n\r\nYou can also do it with random integers - say you generate a random integer between 0 to 99 (inclusive), then you can make decision like the above.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Fitness_proportionate_selection","title":"How to pick an item by its probability?","body":"<p>You can try the <a href=\"http://en.wikipedia.org/wiki/Fitness_proportionate_selection\" rel=\"nofollow noreferrer\">Roulette Wheel Selection</a>.</p>\n<p>First, add all the probabilities, then scale all the probabilities in the scale of 1, by dividing each one by the sum. Suppose the scaled probabilities are <code>A(0.4), B(0.3), C(0.25) and D(0.05)</code>. Then you can generate a random floating-point number in the range <code>[0, 1)</code>. Now you can decide like this:</p>\n<pre><code>random number in [0.00, 0.40) -&gt; pick A\n              in [0.40, 0.70) -&gt; pick B\n              in [0.70, 0.95) -&gt; pick C\n              in [0.95, 1.00) -&gt; pick D\n</code></pre>\n<p>You can also do it with random integers - say you generate a random integer between 0 to 99 (inclusive), then you can make decision like the above.</p>\n"},{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1369228719,"creation_date":1329491524,"answer_id":9330667,"question_id":9330394,"body_markdown":"1. Generate a uniformly distributed random number.\r\n2. Iterate through your list until the cumulative probability of the visited elements is greater than the random number\r\n\r\nSample code:\r\n\r\n    double p = Math.random();\r\n    double cumulativeProbability = 0.0;\r\n    for (Item item : items) {\r\n        cumulativeProbability += item.probability();\r\n        if (p &lt;= cumulativeProbability) {\r\n            return item;\r\n        }\r\n    }\r\n","title":"How to pick an item by its probability?","body":"<ol>\n<li>Generate a uniformly distributed random number.</li>\n<li>Iterate through your list until the cumulative probability of the visited elements is greater than the random number</li>\n</ol>\n\n<p>Sample code:</p>\n\n<pre><code>double p = Math.random();\ndouble cumulativeProbability = 0.0;\nfor (Item item : items) {\n    cumulativeProbability += item.probability();\n    if (p &lt;= cumulativeProbability) {\n        return item;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144417,"reputation":552,"user_id":353453,"display_name":"Dallas Edwards"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524025691,"creation_date":1381717108,"answer_id":19352592,"question_id":9330394,"body_markdown":"[Brent&#39;s answer][1] is good, but it doesn&#39;t account for the possibility of erroneously choosing an item with a probability of 0 in cases where p = 0. That&#39;s easy enough to handle by checking the probability (or perhaps not adding the item in the first place):\r\n\r\n    double p = Math.random();\r\n    double cumulativeProbability = 0.0;\r\n    for (Item item : items) {\r\n        cumulativeProbability += item.probability();\r\n        if (p &lt;= cumulativeProbability &amp;&amp; item.probability() != 0) {\r\n            return item;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9330667/3798217","title":"How to pick an item by its probability?","body":"<p><a href=\"https://stackoverflow.com/a/9330667/3798217\">Brent's answer</a> is good, but it doesn't account for the possibility of erroneously choosing an item with a probability of 0 in cases where p = 0. That's easy enough to handle by checking the probability (or perhaps not adding the item in the first place):</p>\n\n<pre><code>double p = Math.random();\ndouble cumulativeProbability = 0.0;\nfor (Item item : items) {\n    cumulativeProbability += item.probability();\n    if (p &lt;= cumulativeProbability &amp;&amp; item.probability() != 0) {\n        return item;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2888715,"reputation":1837,"user_id":2477978,"accept_rate":27,"display_name":"HackCode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1401798488,"creation_date":1401798488,"answer_id":24015179,"question_id":9330394,"body_markdown":"My method is pretty simple. Generate a random number. Now since the probabilities of your items are known,simply iterate through the sorted list of probability and pick the item whose probability is lesser than the randomly generated number.\r\n\r\nFor more details,read my answer &lt;a href=&quot;https://stackoverflow.com/a/24014908/2477978&quot;&gt;here&lt;/a&gt;.","title":"How to pick an item by its probability?","body":"<p>My method is pretty simple. Generate a random number. Now since the probabilities of your items are known,simply iterate through the sorted list of probability and pick the item whose probability is lesser than the randomly generated number.</p>\n\n<p>For more details,read my answer <a href=\"https://stackoverflow.com/a/24014908/2477978\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":75700,"reputation":2953,"user_id":217079,"accept_rate":83,"display_name":"Dmitry"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1510400504,"creation_date":1404995718,"answer_id":24676724,"question_id":9330394,"body_markdown":"Algorithm described in [Ushman&#39;s][1], [Brent&#39;s][2] and @kaushaya&#39;s answers are implemented in [Apache commons-math][3] library.\r\n\r\nTake a look at [EnumeratedDistribution][4] class (groovy code follows):\r\n\r\n    def probabilities = [\r\n       new Pair&lt;String, Double&gt;(&quot;one&quot;, 25),\r\n       new Pair&lt;String, Double&gt;(&quot;two&quot;, 30),\r\n       new Pair&lt;String, Double&gt;(&quot;three&quot;, 45)]\r\n    def distribution = new EnumeratedDistribution&lt;String&gt;(probabilities)\r\n    println distribution.sample() // here you get one of your values\r\n    \r\nNote that sum of probabilities doesn&#39;t need to be equal to 1 or 100 - it will be normalized automatically.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9330493/3798217\r\n  [2]: https://stackoverflow.com/a/9330667/3798217\r\n  [3]: http://commons.apache.org/proper/commons-math/index.html\r\n  [4]: http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/distribution/EnumeratedDistribution.html","title":"How to pick an item by its probability?","body":"<p>Algorithm described in <a href=\"https://stackoverflow.com/a/9330493/3798217\">Ushman's</a>, <a href=\"https://stackoverflow.com/a/9330667/3798217\">Brent's</a> and @kaushaya's answers are implemented in <a href=\"http://commons.apache.org/proper/commons-math/index.html\" rel=\"noreferrer\">Apache commons-math</a> library.</p>\n\n<p>Take a look at <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/distribution/EnumeratedDistribution.html\" rel=\"noreferrer\">EnumeratedDistribution</a> class (groovy code follows):</p>\n\n<pre><code>def probabilities = [\n   new Pair&lt;String, Double&gt;(\"one\", 25),\n   new Pair&lt;String, Double&gt;(\"two\", 30),\n   new Pair&lt;String, Double&gt;(\"three\", 45)]\ndef distribution = new EnumeratedDistribution&lt;String&gt;(probabilities)\nprintln distribution.sample() // here you get one of your values\n</code></pre>\n\n<p>Note that sum of probabilities doesn't need to be equal to 1 or 100 - it will be normalized automatically.</p>\n"},{"tags":[],"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1496869100,"creation_date":1416070593,"answer_id":26948262,"question_id":9330394,"body_markdown":"A slow but simple way to do it is to have every member to pick a random number based on its probability and pick the one with highest value.\r\n\r\n**Analogy:**\r\n\r\nImagine 1 of 3 people needs to be chosen but they have different probabilities. You give them die with different amount of faces. First person&#39;s dice has 4 face, 2nd person&#39;s 6, and the third person&#39;s 8. They roll their die and the one with the biggest number wins.\r\n\r\nLets say we have the following list:\r\n\r\n` [{A,50},{B,100},{C,200}]`\r\n\r\n**Pseudocode:**\r\n \r\n     A.value = random(0 to 50);\r\n     B.value = random(0 to 100);\r\n     C.value = random (0 to 200);\r\nWe pick the one with the highest value.\r\n\r\n\r\nThis method above does not exactly map the probabilities. For example 100 will not have twice the chance of 50. But we can do it in a by tweaking the method a bit. \r\n\r\n**Method 2**\r\n\r\nInstead of picking a number from 0 to the weight we can limit them from the upper limit of previous variable to addition of the current variable.\r\n\r\n ` [{A,50},{B,100},{C,200}]`\r\n\r\n**Pseudocode:**\r\n\r\n     A.lowLimit= 0; A.topLimit=50;\r\n     B.lowLimit= A.topLimit+1; B.topLimit= B.lowLimit+100\r\n     C.lowLimit= B.topLimit+1; C.topLimit= C.lowLimit+200 \r\n\r\n**resulting limits**\r\n\r\n    A.limits = 0,50\r\n    B.limits = 51,151\r\n    C.limits = 152,352\r\n\r\nThen we pick a random number from 0 to 352 and compare it to each variable&#39;s limits to see whether the random number is in its limits. \r\n\r\nI believe this tweak has better performance since there is only 1 random generation.\r\n\r\nThere is a similar method in other answers but this method does not require the total to be 100 or 1.00.\r\n\r\n","title":"How to pick an item by its probability?","body":"<p>A slow but simple way to do it is to have every member to pick a random number based on its probability and pick the one with highest value.</p>\n\n<p><strong>Analogy:</strong></p>\n\n<p>Imagine 1 of 3 people needs to be chosen but they have different probabilities. You give them die with different amount of faces. First person's dice has 4 face, 2nd person's 6, and the third person's 8. They roll their die and the one with the biggest number wins.</p>\n\n<p>Lets say we have the following list:</p>\n\n<p><code>[{A,50},{B,100},{C,200}]</code></p>\n\n<p><strong>Pseudocode:</strong></p>\n\n<pre><code> A.value = random(0 to 50);\n B.value = random(0 to 100);\n C.value = random (0 to 200);\n</code></pre>\n\n<p>We pick the one with the highest value.</p>\n\n<p>This method above does not exactly map the probabilities. For example 100 will not have twice the chance of 50. But we can do it in a by tweaking the method a bit. </p>\n\n<p><strong>Method 2</strong></p>\n\n<p>Instead of picking a number from 0 to the weight we can limit them from the upper limit of previous variable to addition of the current variable.</p>\n\n<p><code>[{A,50},{B,100},{C,200}]</code></p>\n\n<p><strong>Pseudocode:</strong></p>\n\n<pre><code> A.lowLimit= 0; A.topLimit=50;\n B.lowLimit= A.topLimit+1; B.topLimit= B.lowLimit+100\n C.lowLimit= B.topLimit+1; C.topLimit= C.lowLimit+200 \n</code></pre>\n\n<p><strong>resulting limits</strong></p>\n\n<pre><code>A.limits = 0,50\nB.limits = 51,151\nC.limits = 152,352\n</code></pre>\n\n<p>Then we pick a random number from 0 to 352 and compare it to each variable's limits to see whether the random number is in its limits. </p>\n\n<p>I believe this tweak has better performance since there is only 1 random generation.</p>\n\n<p>There is a similar method in other answers but this method does not require the total to be 100 or 1.00.</p>\n"},{"tags":[],"owner":{"account_id":6746944,"reputation":1,"user_id":5198285,"display_name":"Jihui Han"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1439337902,"creation_date":1438866130,"answer_id":31856550,"question_id":9330394,"body_markdown":"You could use the Julia code:\r\n\r\n    function selrnd(a::Vector{Int})\r\n        c = a[:]\r\n        sumc = c[1]\r\n        for i=2:length(c)\r\n            sumc += c[i]\r\n            c[i] += c[i-1]\r\n        end\r\n        r = rand()*sumc\r\n        for i=1:length(c)\r\n            if r &lt;= c[i]\r\n                return i\r\n            end\r\n        end\r\n    end\r\n\r\nThis function returns the index of an item efficiently.\r\n","title":"How to pick an item by its probability?","body":"<p>You could use the Julia code:</p>\n\n<pre><code>function selrnd(a::Vector{Int})\n    c = a[:]\n    sumc = c[1]\n    for i=2:length(c)\n        sumc += c[i]\n        c[i] += c[i-1]\n    end\n    r = rand()*sumc\n    for i=1:length(c)\n        if r &lt;= c[i]\n            return i\n        end\n    end\nend\n</code></pre>\n\n<p>This function returns the index of an item efficiently.</p>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536755723,"creation_date":1536755190,"answer_id":52295155,"question_id":9330394,"body_markdown":"If you don&#39;t mind adding a third party dependency in your code you can use the [MockNeat.probabilities()][1] method. \r\n\r\nFor example:\r\n\r\n    String s = mockNeat.probabilites(String.class)\r\n                    .add(0.1, &quot;A&quot;) // 10% chance to pick A\r\n                    .add(0.2, &quot;B&quot;) // 20% chance to pick B\r\n                    .add(0.5, &quot;C&quot;) // 50% chance to pick C\r\n                    .add(0.2, &quot;D&quot;) // 20% chance to pick D\r\n                    .val();\r\n\r\n*Disclaimer: I am the author of the library, so I might be biased when I am recommending it.*\r\n\r\n  [1]: https://github.com/nomemory/mockneat/wiki/MockNeat#probabilities","title":"How to pick an item by its probability?","body":"<p>If you don't mind adding a third party dependency in your code you can use the <a href=\"https://github.com/nomemory/mockneat/wiki/MockNeat#probabilities\" rel=\"nofollow noreferrer\">MockNeat.probabilities()</a> method. </p>\n\n<p>For example:</p>\n\n<pre><code>String s = mockNeat.probabilites(String.class)\n                .add(0.1, \"A\") // 10% chance to pick A\n                .add(0.2, \"B\") // 20% chance to pick B\n                .add(0.5, \"C\") // 50% chance to pick C\n                .add(0.2, \"D\") // 20% chance to pick D\n                .val();\n</code></pre>\n\n<p><em>Disclaimer: I am the author of the library, so I might be biased when I am recommending it.</em></p>\n"},{"tags":[],"owner":{"account_id":1410497,"reputation":425,"user_id":1337200,"accept_rate":50,"display_name":"Marc Dzaebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586469709,"creation_date":1586468382,"answer_id":61130648,"question_id":9330394,"body_markdown":"All mentioned solutions have linear effort. The following has only logarithmic effort and deals also with unnormalized probabilities. I&#39;d reccommend to use a TreeMap rather than a List:\r\n``` java\r\n    import java.util.*;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class ProbabilityMap&lt;T&gt; extends TreeMap&lt;Double,T&gt;{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static Random random = new Random();\r\n    \tpublic double sumOfProbabilities;\r\n    \tpublic Map.Entry&lt;Double,T&gt; next() {\r\n    \t\treturn ceilingEntry(random.nextDouble()*sumOfProbabilities);\r\n    \t}\r\n    \t@Override public T put(Double key, T value) {\r\n    \t\treturn super.put(sumOfProbabilities+=key, value);\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tProbabilityMap&lt;Integer&gt; map = new ProbabilityMap&lt;&gt;();\r\n    \t\tmap.put(0.1,1);  map.put(0.3,3);\tmap.put(0.2,2);\r\n    \t\tIntStream.range(0, 10).forEach(i-&gt;System.out.println(map.next()));\r\n    \t}\r\n    }\r\n```","title":"How to pick an item by its probability?","body":"<p>All mentioned solutions have linear effort. The following has only logarithmic effort and deals also with unnormalized probabilities. I'd reccommend to use a TreeMap rather than a List:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n    import java.util.stream.IntStream;\n\n    public class ProbabilityMap&lt;T&gt; extends TreeMap&lt;Double,T&gt;{\n        private static final long serialVersionUID = 1L;\n        public static Random random = new Random();\n        public double sumOfProbabilities;\n        public Map.Entry&lt;Double,T&gt; next() {\n            return ceilingEntry(random.nextDouble()*sumOfProbabilities);\n        }\n        @Override public T put(Double key, T value) {\n            return super.put(sumOfProbabilities+=key, value);\n        }\n        public static void main(String[] args) {\n            ProbabilityMap&lt;Integer&gt; map = new ProbabilityMap&lt;&gt;();\n            map.put(0.1,1);  map.put(0.3,3);    map.put(0.2,2);\n            IntStream.range(0, 10).forEach(i-&gt;System.out.println(map.next()));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15604610,"reputation":171,"user_id":11257746,"display_name":"Florian Wolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593259984,"creation_date":1593194458,"answer_id":62600449,"question_id":9330394,"body_markdown":"Adapted the code from https://stackoverflow.com/a/37228927/11257746 into a general extention method. This will allow you to get a weighted random value from a Dictionary with the structure &lt;TKey, int&gt;, where int is a weight value.\r\n\r\nA Key that has a value of 50 is 10 times more likely to be chosen than a key with the value of 5.\r\n&lt;br&gt;\r\n\r\n**C# code using LINQ:**\r\n\r\n    /// &lt;summary&gt;\r\n    /// Get a random key out of a dictionary which has integer values treated as weights. \r\n    /// A key in the dictionary with a weight of 50 is 10 times more likely to be chosen than an element with the weight of 5.\r\n    /// \r\n    /// Example usage to get 1 item: \r\n    /// Dictionary&lt;MyType, int&gt; myTypes;\r\n    /// MyType chosenType = myTypes.GetWeightedRandomKey&lt;MyType, int&gt;().First();\r\n    /// \r\n    /// Adapted into a general extention method from https://stackoverflow.com/a/37228927/11257746\r\n    /// &lt;/summary&gt;\r\n    public static IEnumerable&lt;TKey&gt; GetWeightedRandomKey&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, int&gt; dictionaryWithWeights)\r\n    {\r\n        int totalWeights = 0;\r\n        foreach (KeyValuePair&lt;TKey, int&gt; pair in dictionaryWithWeights)\r\n        { \r\n            totalWeights += pair.Value;\r\n        }\r\n\r\n        System.Random random = new System.Random();\r\n        while (true)\r\n        {\r\n            int randomWeight = random.Next(0, totalWeights);\r\n            foreach (KeyValuePair&lt;TKey, int&gt; pair in dictionaryWithWeights)\r\n            {\r\n                int weight = pair.Value;\r\n\r\n                if (randomWeight - weight &gt; 0)\r\n                    randomWeight -= weight;\r\n                else\r\n                {\r\n                    yield return pair.Key;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;br&gt;\r\n\r\n**Example usage:**\r\n\r\n    public enum MyType { Thing1, Thing2, Thing3 }\r\n    public Dictionary&lt;MyType, int&gt; MyWeightedDictionary = new Dictionary&lt;MyType, int&gt;();\r\n    \r\n    public void MyVoid()\r\n    {\r\n        MyWeightedDictionary.Add(MyType.Thing1, 50);\r\n        MyWeightedDictionary.Add(MyType.Thing2, 25);\r\n        MyWeightedDictionary.Add(MyType.Thing3, 5);\r\n        \r\n        // Get a single random key\r\n        MyType myChosenType = MyWeightedDictionary.GetWeightedRandomKey&lt;MyType, int&gt;().First();\r\n        \r\n        // Get 20 random keys\r\n        List&lt;MyType&gt; myChosenTypes = MyWeightedDictionary.GetWeightedRandomKey&lt;MyType, int&gt;().Take(20).ToList();\r\n    }\r\n","title":"How to pick an item by its probability?","body":"<p>Adapted the code from <a href=\"https://stackoverflow.com/a/37228927/11257746\">https://stackoverflow.com/a/37228927/11257746</a> into a general extention method. This will allow you to get a weighted random value from a Dictionary with the structure &lt;TKey, int&gt;, where int is a weight value.</p>\n<p>A Key that has a value of 50 is 10 times more likely to be chosen than a key with the value of 5.\n<br></p>\n<p><strong>C# code using LINQ:</strong></p>\n<pre><code>/// &lt;summary&gt;\n/// Get a random key out of a dictionary which has integer values treated as weights. \n/// A key in the dictionary with a weight of 50 is 10 times more likely to be chosen than an element with the weight of 5.\n/// \n/// Example usage to get 1 item: \n/// Dictionary&lt;MyType, int&gt; myTypes;\n/// MyType chosenType = myTypes.GetWeightedRandomKey&lt;MyType, int&gt;().First();\n/// \n/// Adapted into a general extention method from https://stackoverflow.com/a/37228927/11257746\n/// &lt;/summary&gt;\npublic static IEnumerable&lt;TKey&gt; GetWeightedRandomKey&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, int&gt; dictionaryWithWeights)\n{\n    int totalWeights = 0;\n    foreach (KeyValuePair&lt;TKey, int&gt; pair in dictionaryWithWeights)\n    { \n        totalWeights += pair.Value;\n    }\n\n    System.Random random = new System.Random();\n    while (true)\n    {\n        int randomWeight = random.Next(0, totalWeights);\n        foreach (KeyValuePair&lt;TKey, int&gt; pair in dictionaryWithWeights)\n        {\n            int weight = pair.Value;\n\n            if (randomWeight - weight &gt; 0)\n                randomWeight -= weight;\n            else\n            {\n                yield return pair.Key;\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<br>\n<p><strong>Example usage:</strong></p>\n<pre><code>public enum MyType { Thing1, Thing2, Thing3 }\npublic Dictionary&lt;MyType, int&gt; MyWeightedDictionary = new Dictionary&lt;MyType, int&gt;();\n\npublic void MyVoid()\n{\n    MyWeightedDictionary.Add(MyType.Thing1, 50);\n    MyWeightedDictionary.Add(MyType.Thing2, 25);\n    MyWeightedDictionary.Add(MyType.Thing3, 5);\n    \n    // Get a single random key\n    MyType myChosenType = MyWeightedDictionary.GetWeightedRandomKey&lt;MyType, int&gt;().First();\n    \n    // Get 20 random keys\n    List&lt;MyType&gt; myChosenTypes = MyWeightedDictionary.GetWeightedRandomKey&lt;MyType, int&gt;().Take(20).ToList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":137712,"reputation":7725,"user_id":342095,"accept_rate":73,"display_name":"SMUsamaShah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1622056917,"creation_date":1622056917,"answer_id":67711446,"question_id":9330394,"body_markdown":"A space-costly way is to clone each item the number of times its probability. Selection will be done in O(1).\r\n\r\nFor example\r\n\r\n```\r\n//input\r\n[{A,1},{B,1},{C,3}]\r\n\r\n// transform into\r\n[{A,1},{B,1},{C,1},{C,1},{C,1}]\r\n```\r\n\r\nThen simply pick any item randomly from this transformed list.","title":"How to pick an item by its probability?","body":"<p>A space-costly way is to clone each item the number of times its probability. Selection will be done in O(1).</p>\n<p>For example</p>\n<pre><code>//input\n[{A,1},{B,1},{C,3}]\n\n// transform into\n[{A,1},{B,1},{C,1},{C,1},{C,1}]\n</code></pre>\n<p>Then simply pick any item randomly from this transformed list.</p>\n"}],"owner":{"account_id":952475,"reputation":9796,"user_id":978346,"accept_rate":46,"display_name":"Ruzanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71248,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":9330493,"answer_count":13,"score":76,"last_activity_date":1670544948,"creation_date":1329490573,"question_id":9330394,"body_markdown":"I have a list of items. Each of these items has its own probability.\r\n\r\nCan anyone suggest an algorithm to pick an item based on its probability?\r\n","title":"How to pick an item by its probability?","body":"<p>I have a list of items. Each of these items has its own probability.</p>\n\n<p>Can anyone suggest an algorithm to pick an item based on its probability?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666638608,"post_id":74185514,"comment_id":130980284,"body_markdown":"Hi&amp;Welcome! Sounds like a job for (good ole) [AbstractRoutingDataSource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html)! Where (controller) facades would set some (thread/(better?) &quot;request&quot; bound) &quot;context&quot; invoking the same services/daos... (Concrete data source will be derived from &quot;context&quot;.)","body":"Hi&amp;Welcome! Sounds like a job for (good ole) <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\" rel=\"nofollow noreferrer\">AbstractRoutingDataSource</a>! Where (controller) facades would set some (thread/(better?) &quot;request&quot; bound) &quot;context&quot; invoking the same services/daos... (Concrete data source will be derived from &quot;context&quot;.)"},{"owner":{"account_id":6930529,"reputation":496,"user_id":5320122,"display_name":"Amit"},"score":0,"creation_date":1670343357,"post_id":74185514,"comment_id":131852195,"body_markdown":"In such cases, there should two services, each talking to different DAO: one for remove_old and another for remove_new. Invoke these sevices accordingly in controller methods.","body":"In such cases, there should two services, each talking to different DAO: one for remove_old and another for remove_new. Invoke these sevices accordingly in controller methods."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670543332,"creation_date":1670341246,"answer_id":74705258,"question_id":74185514,"body_markdown":"Here is a spring-boot3, ARD-solution:\r\n\r\n([starter-used][1])\r\n\r\nSimple entity:\r\n&lt;!-- language-all: lang-java --&gt;\r\n```\r\npackage com.example.routingds.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\nclass SomeEntity {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  Long id;\r\n}\r\n```\r\nPlus repo:\r\n```\r\npackage com.example.routingds.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface SomeRepository extends JpaRepository&lt;SomeEntity, Long&gt; {}\r\n```\r\nAn enum (for all our data sources/tenants):\r\n```\r\npackage com.example.routingds.demo;\r\n\r\npublic enum MyTenant {\r\n  OLD, NEW;\r\n}\r\n```\r\nA thingy like ([ref1][2], [ref2][3], [ref3][4]...):\r\n```\r\npackage com.example.routingds.demo;\r\n\r\npublic class MyTenantThreadLocalContextHolder {\r\n\r\n  private static ThreadLocal&lt;MyTenant&gt; threadLocal = new ThreadLocal&lt;&gt;();\r\n\r\n  public static void set(MyTenant tenant) {\r\n    threadLocal.set(tenant);\r\n  }\r\n\r\n  public static MyTenant get() {\r\n    return threadLocal.get();\r\n  }\r\n}\r\n```\r\n...(we have plenty options here, but this is thread safe &amp; easy to test/static!)\r\n\r\nThen a (very) simple controller like:\r\n```\r\npackage com.example.routingds.demo;\r\n\r\nimport static com.example.routingds.demo.MyTenant.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\n\r\n@Controller\r\npublic class DemoController {\r\n\r\n  @Autowired\r\n  private SomeRepository someRepository;\r\n\r\n  @DeleteMapping(&quot;/remove_new/{id}&quot;)\r\n  public void removeNew(@PathVariable Long id) {\r\n    removeInternal(NEW, id);\r\n  }\r\n\r\n  @DeleteMapping(&quot;/remove_old/{id}&quot;)\r\n  public void removeOld(@PathVariable Long id) {\r\n    removeInternal(OLD, id);\r\n  }\r\n\r\n  private void removeInternal(MyTenant current, Long id) {\r\n    // set context ...\r\n    MyTenantThreadLocalContextHolder.set(current);\r\n    // and &quot;just delete&quot; (ard+context will choose correct DS):\r\n    someRepository.deleteById(id);\r\n  }\r\n}\r\n```\r\nLets go wire it:\r\n\r\n`application.properties`:\r\n```lang-properties\r\nfallback.datasource.url=jdbc:h2:./data/fallback\r\nfallback.datasource.username=sa\r\nfallback.datasource.password=\r\n#fallback.datasource. ... more if you like/need\r\nold.datasource.url=jdbc:h2:./data/old\r\nold.datasource.username=sa\r\nold.datasource.password=\r\n# ...\r\nnew.datasource.url=jdbc:h2:./data/new\r\nnew.datasource.username=sa\r\nnew.datasource.password=\r\n# ...\r\n# assuming all dbs initialized , otherwise set these (+ un-comment main class):\r\n#spring.sql.init.mode=always\r\n#spring.sql.init.continue-on-error=false\r\n\r\n# debug:\r\nspring.jpa.show-sql=true\r\nspring.h2.console.enabled=true\r\n\r\n# https://github.com/spring-projects/spring-data-jpa/issues/2717:\r\nspring.jpa.properties.jakarta.persistence.sharedCache.mode=UNSPECIFIED\r\n```\r\n\r\nApp/Main/Config:\r\n```\r\npackage com.example.routingds.demo;\r\n\r\nimport static com.example.routingds.demo.MyTenant.*;\r\nimport java.util.Map;\r\nimport javax.sql.DataSource;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n//import org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer;\r\n//import org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\n//import org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;\r\n\r\n@SpringBootApplication\r\npublic class RoutingDsDemoApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(RoutingDsDemoApplication.class, args);\r\n  }\r\n  // load the props:\r\n  @Bean\r\n  @Primary // one should be primary ...\r\n  @ConfigurationProperties(&quot;fallback.datasource&quot;)\r\n  public DataSourceProperties fallbackDSProps() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;old.datasource&quot;)\r\n  public DataSourceProperties oldDSProps() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;new.datasource&quot;)\r\n  public DataSourceProperties newDSProps() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n  // the main (abstract routing) data source:\r\n  @Bean\r\n  @Primary\r\n  public DataSource dataSource(\r\n      @Qualifier(&quot;masterDS&quot;) DataSource masterDS,\r\n      @Qualifier(&quot;newDS&quot;) DataSource newDS,\r\n      @Qualifier(&quot;oldDS&quot;) DataSource oldDS) {\r\n    return new AbstractRoutingDataSource() {\r\n      { // inline instance:\r\n        setTargetDataSources( // ! we operationally use only OLD, NEW:\r\n            Map.of(\r\n                // lookup key, data source:\r\n                OLD, oldDS,\r\n                NEW, newDS\r\n            )\r\n        );\r\n        //... but as a default/fallback/no-context:\r\n        setDefaultTargetDataSource(masterDS);\r\n        afterPropertiesSet();\r\n      }\r\n      // inline override:\r\n      @Override\r\n      protected Object determineCurrentLookupKey() {\r\n        return MyTenantThreadLocalContextHolder.get();\r\n      }\r\n    };\r\n  }\r\n\r\n  // the &quot;slaves&quot; / underlying / your DS&#39;s:\r\n  @Bean // default/master/backup/unused:\r\n  DataSource masterDS(DataSourceProperties props) {\r\n    return props.initializeDataSourceBuilder().build(); \r\n  }\r\n\r\n  @Bean\r\n  DataSource oldDS(@Qualifier(&quot;oldDSProps&quot;) DataSourceProperties props) {\r\n    return props.initializeDataSourceBuilder().build();\r\n  }\r\n\r\n  @Bean\r\n  DataSource newDS(@Qualifier(&quot;newDSProps&quot;) DataSourceProperties props) {\r\n    return props.initializeDataSourceBuilder().build();\r\n  }\r\n\r\n// for (script) db initialization, we might need this (+&#39;sql.init.mode=always&#39;):\r\n//  @Bean\r\n//  DataSourceScriptDatabaseInitializer initOld(@Qualifier(&quot;oldDS&quot;) DataSource oldDS, SqlInitializationProperties settings) {\r\n//    return new SqlDataSourceScriptDatabaseInitializer(oldDS, settings);\r\n//  }\r\n//\r\n//  @Bean\r\n//  DataSourceScriptDatabaseInitializer initNew(@Qualifier(&quot;newDS&quot;) DataSource newDS, SqlInitializationProperties settings) {\r\n//    return new SqlDataSourceScriptDatabaseInitializer(newDS, settings);\r\n//  }\r\n}\r\n```\r\nInit schema (`src/main/resources/schema.sql`):\r\n```lang-sql\r\ncreate table some_entity (id bigint not null, primary key (id));\r\ncreate sequence some_entity_seq start with 1 increment by 50;\r\n```\r\n\r\n### TESTING TIME!! :))\r\n\r\n```\r\npackage com.example.routingds.demo;\r\n\r\nimport static com.example.routingds.demo.MyTenant.*;\r\nimport java.util.Arrays;\r\nimport java.util.EnumMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.stream.IntStream;\r\nimport static org.junit.jupiter.api.Assertions.assertFalse;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.InitializingBean;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.context.TestConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n@SpringBootTest\r\n@AutoConfigureMockMvc // we will test the controller!\r\nclass RoutingDsDemoApplicationTests {\r\n\r\n  // tenant/DS dependent test IDs:\r\n  static final EnumMap&lt;MyTenant, Set&lt;Long&gt;&gt; TEST_IDS = new EnumMap&lt;&gt;(\r\n      Map.of(\r\n          OLD, new HashSet&lt;&gt;(),\r\n          NEW, new HashSet&lt;&gt;()\r\n      )\r\n  );\r\n\r\n  @TestConfiguration // some &quot;test setup&quot;:\r\n  static class TestDataConfig {\r\n\r\n    @Bean\r\n    InitializingBean testData(SomeRepository repo) { // &lt;- normal/autowired repo\r\n      return () -&gt; {\r\n        // for OLD and NEW (tenant):\r\n        Arrays.stream(MyTenant.values())\r\n          .forEach((t) -&gt; { \r\n            // set context/db:\r\n            MyTenantThreadLocalContextHolder.set(t);\r\n            // clean up (we shouldn&#39;t need this/DANGER):\r\n            // repo.deleteAll();\r\n            // save 100 SomeEntity&#39;s, and store ids to TEST_IDS:\r\n            IntStream.range(0, 100).forEach((i) -&gt; {\r\n              TEST_IDS.get(t).add(\r\n                repo.save(new SomeEntity()).getId()\r\n              );\r\n            });\r\n        });\r\n      };\r\n    }\r\n  }\r\n\r\n  @Autowired\r\n  MockMvc mockMvc;\r\n  @Autowired\r\n  SomeRepository helper;\r\n\r\n  @Test\r\n  void testRemoveOld() {\r\n    // for each (known) OLD id:\r\n    TEST_IDS.get(OLD).stream().forEach((id) -&gt; {\r\n      try {\r\n        mockMvc\r\n            .perform(delete(&quot;/remove_old/&quot; + id))\r\n            .andExpect(status().isOk());\r\n      } catch (Exception ex) {\r\n        fail(ex);\r\n      }\r\n    });\r\n    // verify deleted:\r\n    MyTenantThreadLocalContextHolder.set(OLD);\r\n    TEST_IDS.get(OLD).stream().forEach((id) -&gt; {\r\n      assertFalse(helper.existsById(id));\r\n    });\r\n  }\r\n\r\n  @Test\r\n  void testRemoveNew() {\r\n    // for each (known) NEW id:\r\n    TEST_IDS.get(NEW).stream().forEach((id) -&gt; {\r\n      try {\r\n        mockMvc\r\n            .perform(delete(&quot;/remove_new/&quot; + id))\r\n            .andExpect(status().isOk());\r\n      } catch (Exception ex) {\r\n        fail(ex);\r\n      }\r\n    });\r\n    // verify deleted:\r\n    MyTenantThreadLocalContextHolder.set(NEW);\r\n    TEST_IDS.get(NEW).stream().forEach((id) -&gt; {\r\n      assertFalse(helper.existsById(id));\r\n    });\r\n  }\r\n}\r\n```\r\n\r\npasses: \r\n\r\n```lang-bash\r\nResults:\r\n\r\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nSee also:\r\n\r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization\r\n\r\n  [1]: https://start.spring.io/#!&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;artifactId=routing-ds-demo&amp;packageName=com.example.routingds.demo&amp;dependencies=devtools,lombok,web,data-jpa,h2\r\n  [2]: https://www.baeldung.com/spring-abstract-routing-data-source\r\n  [3]: https://www.geeksforgeeks.org/spring-abstractroutingdatasource/\r\n  [4]: https://attyuttam.medium.com/dynamic-data-source-routing-using-abstractroutingdatasource-in-spring-boot-d6dbdd644072","title":"Database scheme in dao depending on controller endpoint","body":"<p>Here is a spring-boot3, ARD-solution:</p>\n<p>(<a href=\"https://start.spring.io/#!&amp;language=java&amp;platformVersion=3.0.0&amp;packaging=jar&amp;artifactId=routing-ds-demo&amp;packageName=com.example.routingds.demo&amp;dependencies=devtools,lombok,web,data-jpa,h2\" rel=\"nofollow noreferrer\">starter-used</a>)</p>\n<p>Simple entity:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport lombok.Data;\n\n@Data\n@Entity\nclass SomeEntity {\n\n  @Id\n  @GeneratedValue\n  Long id;\n}\n</code></pre>\n<p>Plus repo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface SomeRepository extends JpaRepository&lt;SomeEntity, Long&gt; {}\n</code></pre>\n<p>An enum (for all our data sources/tenants):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\npublic enum MyTenant {\n  OLD, NEW;\n}\n</code></pre>\n<p>A thingy like (<a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">ref1</a>, <a href=\"https://www.geeksforgeeks.org/spring-abstractroutingdatasource/\" rel=\"nofollow noreferrer\">ref2</a>, <a href=\"https://attyuttam.medium.com/dynamic-data-source-routing-using-abstractroutingdatasource-in-spring-boot-d6dbdd644072\" rel=\"nofollow noreferrer\">ref3</a>...):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\npublic class MyTenantThreadLocalContextHolder {\n\n  private static ThreadLocal&lt;MyTenant&gt; threadLocal = new ThreadLocal&lt;&gt;();\n\n  public static void set(MyTenant tenant) {\n    threadLocal.set(tenant);\n  }\n\n  public static MyTenant get() {\n    return threadLocal.get();\n  }\n}\n</code></pre>\n<p>...(we have plenty options here, but this is thread safe &amp; easy to test/static!)</p>\n<p>Then a (very) simple controller like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\nimport static com.example.routingds.demo.MyTenant.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\n\n@Controller\npublic class DemoController {\n\n  @Autowired\n  private SomeRepository someRepository;\n\n  @DeleteMapping(&quot;/remove_new/{id}&quot;)\n  public void removeNew(@PathVariable Long id) {\n    removeInternal(NEW, id);\n  }\n\n  @DeleteMapping(&quot;/remove_old/{id}&quot;)\n  public void removeOld(@PathVariable Long id) {\n    removeInternal(OLD, id);\n  }\n\n  private void removeInternal(MyTenant current, Long id) {\n    // set context ...\n    MyTenantThreadLocalContextHolder.set(current);\n    // and &quot;just delete&quot; (ard+context will choose correct DS):\n    someRepository.deleteById(id);\n  }\n}\n</code></pre>\n<p>Lets go wire it:</p>\n<p><code>application.properties</code>:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>fallback.datasource.url=jdbc:h2:./data/fallback\nfallback.datasource.username=sa\nfallback.datasource.password=\n#fallback.datasource. ... more if you like/need\nold.datasource.url=jdbc:h2:./data/old\nold.datasource.username=sa\nold.datasource.password=\n# ...\nnew.datasource.url=jdbc:h2:./data/new\nnew.datasource.username=sa\nnew.datasource.password=\n# ...\n# assuming all dbs initialized , otherwise set these (+ un-comment main class):\n#spring.sql.init.mode=always\n#spring.sql.init.continue-on-error=false\n\n# debug:\nspring.jpa.show-sql=true\nspring.h2.console.enabled=true\n\n# https://github.com/spring-projects/spring-data-jpa/issues/2717:\nspring.jpa.properties.jakarta.persistence.sharedCache.mode=UNSPECIFIED\n</code></pre>\n<p>App/Main/Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\nimport static com.example.routingds.demo.MyTenant.*;\nimport java.util.Map;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\n//import org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer;\n//import org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n//import org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;\n\n@SpringBootApplication\npublic class RoutingDsDemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(RoutingDsDemoApplication.class, args);\n  }\n  // load the props:\n  @Bean\n  @Primary // one should be primary ...\n  @ConfigurationProperties(&quot;fallback.datasource&quot;)\n  public DataSourceProperties fallbackDSProps() {\n    return new DataSourceProperties();\n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;old.datasource&quot;)\n  public DataSourceProperties oldDSProps() {\n    return new DataSourceProperties();\n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;new.datasource&quot;)\n  public DataSourceProperties newDSProps() {\n    return new DataSourceProperties();\n  }\n\n  // the main (abstract routing) data source:\n  @Bean\n  @Primary\n  public DataSource dataSource(\n      @Qualifier(&quot;masterDS&quot;) DataSource masterDS,\n      @Qualifier(&quot;newDS&quot;) DataSource newDS,\n      @Qualifier(&quot;oldDS&quot;) DataSource oldDS) {\n    return new AbstractRoutingDataSource() {\n      { // inline instance:\n        setTargetDataSources( // ! we operationally use only OLD, NEW:\n            Map.of(\n                // lookup key, data source:\n                OLD, oldDS,\n                NEW, newDS\n            )\n        );\n        //... but as a default/fallback/no-context:\n        setDefaultTargetDataSource(masterDS);\n        afterPropertiesSet();\n      }\n      // inline override:\n      @Override\n      protected Object determineCurrentLookupKey() {\n        return MyTenantThreadLocalContextHolder.get();\n      }\n    };\n  }\n\n  // the &quot;slaves&quot; / underlying / your DS's:\n  @Bean // default/master/backup/unused:\n  DataSource masterDS(DataSourceProperties props) {\n    return props.initializeDataSourceBuilder().build(); \n  }\n\n  @Bean\n  DataSource oldDS(@Qualifier(&quot;oldDSProps&quot;) DataSourceProperties props) {\n    return props.initializeDataSourceBuilder().build();\n  }\n\n  @Bean\n  DataSource newDS(@Qualifier(&quot;newDSProps&quot;) DataSourceProperties props) {\n    return props.initializeDataSourceBuilder().build();\n  }\n\n// for (script) db initialization, we might need this (+'sql.init.mode=always'):\n//  @Bean\n//  DataSourceScriptDatabaseInitializer initOld(@Qualifier(&quot;oldDS&quot;) DataSource oldDS, SqlInitializationProperties settings) {\n//    return new SqlDataSourceScriptDatabaseInitializer(oldDS, settings);\n//  }\n//\n//  @Bean\n//  DataSourceScriptDatabaseInitializer initNew(@Qualifier(&quot;newDS&quot;) DataSource newDS, SqlInitializationProperties settings) {\n//    return new SqlDataSourceScriptDatabaseInitializer(newDS, settings);\n//  }\n}\n</code></pre>\n<p>Init schema (<code>src/main/resources/schema.sql</code>):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table some_entity (id bigint not null, primary key (id));\ncreate sequence some_entity_seq start with 1 increment by 50;\n</code></pre>\n<h3>TESTING TIME!! :))</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.routingds.demo;\n\nimport static com.example.routingds.demo.MyTenant.*;\nimport java.util.Arrays;\nimport java.util.EnumMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.IntStream;\nimport static org.junit.jupiter.api.Assertions.assertFalse;\nimport static org.junit.jupiter.api.Assertions.fail;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@SpringBootTest\n@AutoConfigureMockMvc // we will test the controller!\nclass RoutingDsDemoApplicationTests {\n\n  // tenant/DS dependent test IDs:\n  static final EnumMap&lt;MyTenant, Set&lt;Long&gt;&gt; TEST_IDS = new EnumMap&lt;&gt;(\n      Map.of(\n          OLD, new HashSet&lt;&gt;(),\n          NEW, new HashSet&lt;&gt;()\n      )\n  );\n\n  @TestConfiguration // some &quot;test setup&quot;:\n  static class TestDataConfig {\n\n    @Bean\n    InitializingBean testData(SomeRepository repo) { // &lt;- normal/autowired repo\n      return () -&gt; {\n        // for OLD and NEW (tenant):\n        Arrays.stream(MyTenant.values())\n          .forEach((t) -&gt; { \n            // set context/db:\n            MyTenantThreadLocalContextHolder.set(t);\n            // clean up (we shouldn't need this/DANGER):\n            // repo.deleteAll();\n            // save 100 SomeEntity's, and store ids to TEST_IDS:\n            IntStream.range(0, 100).forEach((i) -&gt; {\n              TEST_IDS.get(t).add(\n                repo.save(new SomeEntity()).getId()\n              );\n            });\n        });\n      };\n    }\n  }\n\n  @Autowired\n  MockMvc mockMvc;\n  @Autowired\n  SomeRepository helper;\n\n  @Test\n  void testRemoveOld() {\n    // for each (known) OLD id:\n    TEST_IDS.get(OLD).stream().forEach((id) -&gt; {\n      try {\n        mockMvc\n            .perform(delete(&quot;/remove_old/&quot; + id))\n            .andExpect(status().isOk());\n      } catch (Exception ex) {\n        fail(ex);\n      }\n    });\n    // verify deleted:\n    MyTenantThreadLocalContextHolder.set(OLD);\n    TEST_IDS.get(OLD).stream().forEach((id) -&gt; {\n      assertFalse(helper.existsById(id));\n    });\n  }\n\n  @Test\n  void testRemoveNew() {\n    // for each (known) NEW id:\n    TEST_IDS.get(NEW).stream().forEach((id) -&gt; {\n      try {\n        mockMvc\n            .perform(delete(&quot;/remove_new/&quot; + id))\n            .andExpect(status().isOk());\n      } catch (Exception ex) {\n        fail(ex);\n      }\n    });\n    // verify deleted:\n    MyTenantThreadLocalContextHolder.set(NEW);\n    TEST_IDS.get(NEW).stream().forEach((id) -&gt; {\n      assertFalse(helper.existsById(id));\n    });\n  }\n}\n</code></pre>\n<p>passes:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Results:\n\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization</a></li>\n</ul>\n"}],"owner":{"account_id":17897236,"reputation":13,"user_id":13360133,"display_name":"rasboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74705258,"answer_count":1,"score":1,"last_activity_date":1670543332,"creation_date":1666637512,"question_id":74185514,"body_markdown":"I have just started with Java Spring and am getting familiar with the framework.\r\n\r\nLet&#39;s say I have a controller with two endpoints\r\n\r\n`&quot;/remove_old&quot;`\r\n\r\n`&quot;/remove_new&quot;`\r\n\r\nThey do the same job: `controller layer` -&gt; `service layer` -&gt; `DAO` except for databases which should be used in dao methods - those are different. As I understand, this can be nicely handled by Spring with no change in the service layer. How should I organize my beans to make it the most appropriate way? The only solution I can think of so far is to autowire everything and then expose `Dao::setDatabase` method which would be called at the controller layer.\r\n","title":"Database scheme in dao depending on controller endpoint","body":"<p>I have just started with Java Spring and am getting familiar with the framework.</p>\n<p>Let's say I have a controller with two endpoints</p>\n<p><code>&quot;/remove_old&quot;</code></p>\n<p><code>&quot;/remove_new&quot;</code></p>\n<p>They do the same job: <code>controller layer</code> -&gt; <code>service layer</code> -&gt; <code>DAO</code> except for databases which should be used in dao methods - those are different. As I understand, this can be nicely handled by Spring with no change in the service layer. How should I organize my beans to make it the most appropriate way? The only solution I can think of so far is to autowire everything and then expose <code>Dao::setDatabase</code> method which would be called at the controller layer.</p>\n"},{"tags":["java","random","priority-queue","weighted"],"comments":[{"owner":{"account_id":3044638,"reputation":1627,"user_id":2580649,"display_name":"PakkuDon"},"score":1,"creation_date":1401547760,"post_id":23971365,"comment_id":36933316,"body_markdown":"If you&#39;re hoping to improve an existing solution then maybe you could post at http://codereview.stackexchange.com/?","body":"If you&#39;re hoping to improve an existing solution then maybe you could post at <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>?"},{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1401548105,"post_id":23971365,"comment_id":36933414,"body_markdown":"No code has been written for the cases where I have more than 2 items. Just figured out a couple solutions that &quot;could&quot; work. I&#39;d like to see if anyone has experience that makes this problem very simple. If not, I&#39;ll probably go with the recursive solution...","body":"No code has been written for the cases where I have more than 2 items. Just figured out a couple solutions that &quot;could&quot; work. I&#39;d like to see if anyone has experience that makes this problem very simple. If not, I&#39;ll probably go with the recursive solution..."},{"owner":{"account_id":1999889,"reputation":166,"user_id":1791197,"display_name":"KonradOliwer"},"score":1,"creation_date":1401551144,"post_id":23971365,"comment_id":36934264,"body_markdown":"Is weight limited between 1 and 100 (or in other way)?","body":"Is weight limited between 1 and 100 (or in other way)?"},{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1401634546,"post_id":23971365,"comment_id":36951068,"body_markdown":"For my case, there is a small number of items with potentially large weights. Say 20 to 50 items with weights that are stored in the form of a long, where the minimum weight is at least a 1000.","body":"For my case, there is a small number of items with potentially large weights. Say 20 to 50 items with weights that are stored in the form of a long, where the minimum weight is at least a 1000."}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401549222,"creation_date":1401549222,"answer_id":23971598,"question_id":23971365,"body_markdown":"You have items with weights:\r\n\r\n- Item A, weight 42\r\n- Item B, weight 5\r\n- Item C, weight 96\r\n- Item D, weight 33\r\n\r\nFirst add up all the weights: 42 + 5 + 96 + 33 = 176\r\n\r\nNow pick a random number, r, from 0 up to the sum of the weights: 0 &lt;= r &lt; 176.  I have used integers, but you could use reals if required.\r\n\r\nCompare r with the ranges defined by the weights:\r\n\r\n- 0 &lt;= r &lt; 42: select item A.\r\n- 42 &lt;= r &lt; 47 (= 42 + 5): select item B.\r\n- 47 &lt;= r &lt; 143 (= 47 + 96): select item C.\r\n- 143 &lt;= r &lt; 176 (= 143 + 33): select item D.\r\n\r\nWhen you have picked the first item, then repeat the process with the three remaining items and a reduced sum of all the weights.  Keep repeating until there are no more items to pick.\r\n","title":"Weighted Randomized Ordering","body":"<p>You have items with weights:</p>\n\n<ul>\n<li>Item A, weight 42</li>\n<li>Item B, weight 5</li>\n<li>Item C, weight 96</li>\n<li>Item D, weight 33</li>\n</ul>\n\n<p>First add up all the weights: 42 + 5 + 96 + 33 = 176</p>\n\n<p>Now pick a random number, r, from 0 up to the sum of the weights: 0 &lt;= r &lt; 176.  I have used integers, but you could use reals if required.</p>\n\n<p>Compare r with the ranges defined by the weights:</p>\n\n<ul>\n<li>0 &lt;= r &lt; 42: select item A.</li>\n<li>42 &lt;= r &lt; 47 (= 42 + 5): select item B.</li>\n<li>47 &lt;= r &lt; 143 (= 47 + 96): select item C.</li>\n<li>143 &lt;= r &lt; 176 (= 143 + 33): select item D.</li>\n</ul>\n\n<p>When you have picked the first item, then repeat the process with the three remaining items and a reduced sum of all the weights.  Keep repeating until there are no more items to pick.</p>\n"},{"tags":[],"owner":{"account_id":898475,"reputation":1496,"user_id":935242,"accept_rate":78,"display_name":"ggurov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401552030,"creation_date":1401551686,"answer_id":23971944,"question_id":23971365,"body_markdown":"Anyway, for N items you will need N-1 random numbers (at minimum). Then, lets think about effective way to choose item by random number.\r\n\r\nIf the items are not too much, I would use iterative method, similar to your recursive approach. I would add boolean flag to the items, for skipping chosen ones in the previous iterations. When I choose one in the current iteration, I will set its flag to true and the next times I will skip it from calculations. Subtract its weight from the sum and go for next iteration.\r\n\r\nIf the items are big number and one and the same set will be used many times, then different approach is better. Make sorted list of them and use a copy of this list in your recursive approach. And in every recursion step - binary search in it, then removing the chosen item.\r\n\r\nActually, the last can be done iteratively too.","title":"Weighted Randomized Ordering","body":"<p>Anyway, for N items you will need N-1 random numbers (at minimum). Then, lets think about effective way to choose item by random number.</p>\n\n<p>If the items are not too much, I would use iterative method, similar to your recursive approach. I would add boolean flag to the items, for skipping chosen ones in the previous iterations. When I choose one in the current iteration, I will set its flag to true and the next times I will skip it from calculations. Subtract its weight from the sum and go for next iteration.</p>\n\n<p>If the items are big number and one and the same set will be used many times, then different approach is better. Make sorted list of them and use a copy of this list in your recursive approach. And in every recursion step - binary search in it, then removing the chosen item.</p>\n\n<p>Actually, the last can be done iteratively too.</p>\n"},{"tags":[],"owner":{"account_id":1999889,"reputation":166,"user_id":1791197,"display_name":"KonradOliwer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401556080,"creation_date":1401556080,"answer_id":23973121,"question_id":23971365,"body_markdown":"    public class RandomPriorityQueue {\r\n    \r\n        private TreeMap&lt;Integer, List&lt;WeightedElement&gt;&gt; tree = new TreeMap();\r\n        private Random random = new Random();\r\n    \r\n        public void add(WeightedElement e) {\r\n            int priority = random.nextInt(e.getWeight());\r\n            if (tree.containsKey(priority)) {\r\n                List&lt;WeightedElement&gt; list = new LinkedList();\r\n                list.add(e);\r\n                tree.put(priority, list);\r\n            } else {\r\n                List&lt;WeightedElement&gt; list = tree.get(priority);\r\n                list.add(random.nextInt(list.size()), e);\r\n            }\r\n        }\r\n    \r\n        public WeightedElement poll() {\r\n            Map.Entry&lt;Integer, List&lt;WeightedElement&gt;&gt; entry = tree.lastEntry();\r\n            if (entry == null){\r\n                return null;\r\n            }\r\n            List&lt;WeightedElement&gt; list = entry.getValue();\r\n            if (list.size() == 1){\r\n                tree.remove(entry.getKey());\r\n            }\r\n            return list.remove(0);\r\n        }\r\n    }\r\n\r\nOf course we would have betterperformence if we would rewrite TreeMap so it allow us to add duplication keys, we would have better performance.","title":"Weighted Randomized Ordering","body":"<pre><code>public class RandomPriorityQueue {\n\n    private TreeMap&lt;Integer, List&lt;WeightedElement&gt;&gt; tree = new TreeMap();\n    private Random random = new Random();\n\n    public void add(WeightedElement e) {\n        int priority = random.nextInt(e.getWeight());\n        if (tree.containsKey(priority)) {\n            List&lt;WeightedElement&gt; list = new LinkedList();\n            list.add(e);\n            tree.put(priority, list);\n        } else {\n            List&lt;WeightedElement&gt; list = tree.get(priority);\n            list.add(random.nextInt(list.size()), e);\n        }\n    }\n\n    public WeightedElement poll() {\n        Map.Entry&lt;Integer, List&lt;WeightedElement&gt;&gt; entry = tree.lastEntry();\n        if (entry == null){\n            return null;\n        }\n        List&lt;WeightedElement&gt; list = entry.getValue();\n        if (list.size() == 1){\n            tree.remove(entry.getKey());\n        }\n        return list.remove(0);\n    }\n}\n</code></pre>\n\n<p>Of course we would have betterperformence if we would rewrite TreeMap so it allow us to add duplication keys, we would have better performance.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1401897408,"creation_date":1401568384,"answer_id":23974333,"question_id":23971365,"body_markdown":"This seems to work fine:\r\n\r\n    // Can do a weighted sort on weighted items.\r\n    public interface Weighted {\r\n        int getWeight();\r\n    }\r\n\r\n    /**\r\n     * Weighted sort of an array - orders them at random but the weight of each\r\n     * item makes it more likely to be earlier.\r\n     *\r\n     * @param values\r\n     */\r\n    public static void weightedSort(Weighted[] values) {\r\n        // Build a list containing as many of each item to make up the full weight.\r\n        List&lt;Weighted&gt; full = new ArrayList&lt;&gt;();\r\n        for (Weighted v : values) {\r\n            // Add a v weight times.\r\n            for (int i = 0; i &lt; v.getWeight(); i++) {\r\n                full.add(v);\r\n            }\r\n        }\r\n        // Shuffle it.\r\n        Collections.shuffle(full);\r\n        // Roll them out in the order required.\r\n        int i = 0;\r\n        do {\r\n            // Get the first one in the shuffled list.\r\n            Weighted next = full.get(0);\r\n            // Put it back into the array.\r\n            values[i++] = next;\r\n            // Remove all occurrences of that one from the list.\r\n            full.remove(next);\r\n        } while (!full.isEmpty());\r\n    }\r\n\r\n    // A bunch of weighted items.\r\n    enum Heavies implements Weighted {\r\n\r\n        Rare(1),\r\n        Few(3),\r\n        Common(6);\r\n        final int weight;\r\n\r\n        Heavies(int weight) {\r\n            this.weight = weight;\r\n        }\r\n\r\n        @Override\r\n        public int getWeight() {\r\n            return weight;\r\n        }\r\n    }\r\n\r\n    public void test() {\r\n        Weighted[] w = Heavies.values();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            // Sort it weighted.\r\n            weightedSort(w);\r\n            // What did we get.\r\n            System.out.println(Arrays.toString(w));\r\n        }\r\n    }\r\n\r\nEssentially for each item to be sorted I add it as many times as needed to a new list. I then shuffle the list and pull the top one out and clar all occurrences of it from the remaining.\r\n\r\nThe last test run produced:\r\n\r\n    [Rare, Common, Few]\r\n    [Common, Rare, Few]\r\n    [Few, Common, Rare]\r\n    [Common, Few, Rare]\r\n    [Common, Rare, Few]\r\n    [Few, Rare, Common]\r\n\r\nwhich seems to be about right.\r\n\r\nNB - this algorithm will fail under at least the following conditions:\r\n\r\n 1. The original array has the same object in it more than once.\r\n 2. The weights of the items are insanely huge.\r\n 3. Zero or negative weights will almost certainly mess with the results.\r\n\r\nAdded\r\n-----\r\n\r\nThis implements Rossum&#39;s idea - please be sure to give him the credit for the algorithm.\r\n\r\n    public static void weightedSort2(Weighted[] values) {\r\n        // Calculate the total weight.\r\n        int total = 0;\r\n        for (Weighted v : values) {\r\n            total += v.getWeight();\r\n        }\r\n        // Start with all of them.\r\n        List&lt;Weighted&gt; remaining = new ArrayList(Arrays.asList(values));\r\n        // Take each at random - weighted by it&#39;s weight.\r\n        int which = 0;\r\n        do {\r\n            // Pick a random point.\r\n            int random = (int) (Math.random() * total);\r\n            // Pick one from the list.\r\n            Weighted picked = null;\r\n            int pos = 0;\r\n            for (Weighted v : remaining) {\r\n                // Pick this ne?\r\n                if (pos + v.getWeight() &gt; random) {\r\n                    picked = v;\r\n                    break;\r\n                }\r\n                // Move forward by that much.\r\n                pos += v.getWeight();\r\n            }\r\n            // Removed picked from the remaining.\r\n            remaining.remove(picked);\r\n            // Reduce total.\r\n            total -= picked.getWeight();\r\n            // Record picked.\r\n            values[which++] = picked;\r\n        } while (!remaining.isEmpty());\r\n    }\r\n","title":"Weighted Randomized Ordering","body":"<p>This seems to work fine:</p>\n\n<pre><code>// Can do a weighted sort on weighted items.\npublic interface Weighted {\n    int getWeight();\n}\n\n/**\n * Weighted sort of an array - orders them at random but the weight of each\n * item makes it more likely to be earlier.\n *\n * @param values\n */\npublic static void weightedSort(Weighted[] values) {\n    // Build a list containing as many of each item to make up the full weight.\n    List&lt;Weighted&gt; full = new ArrayList&lt;&gt;();\n    for (Weighted v : values) {\n        // Add a v weight times.\n        for (int i = 0; i &lt; v.getWeight(); i++) {\n            full.add(v);\n        }\n    }\n    // Shuffle it.\n    Collections.shuffle(full);\n    // Roll them out in the order required.\n    int i = 0;\n    do {\n        // Get the first one in the shuffled list.\n        Weighted next = full.get(0);\n        // Put it back into the array.\n        values[i++] = next;\n        // Remove all occurrences of that one from the list.\n        full.remove(next);\n    } while (!full.isEmpty());\n}\n\n// A bunch of weighted items.\nenum Heavies implements Weighted {\n\n    Rare(1),\n    Few(3),\n    Common(6);\n    final int weight;\n\n    Heavies(int weight) {\n        this.weight = weight;\n    }\n\n    @Override\n    public int getWeight() {\n        return weight;\n    }\n}\n\npublic void test() {\n    Weighted[] w = Heavies.values();\n    for (int i = 0; i &lt; 10; i++) {\n        // Sort it weighted.\n        weightedSort(w);\n        // What did we get.\n        System.out.println(Arrays.toString(w));\n    }\n}\n</code></pre>\n\n<p>Essentially for each item to be sorted I add it as many times as needed to a new list. I then shuffle the list and pull the top one out and clar all occurrences of it from the remaining.</p>\n\n<p>The last test run produced:</p>\n\n<pre><code>[Rare, Common, Few]\n[Common, Rare, Few]\n[Few, Common, Rare]\n[Common, Few, Rare]\n[Common, Rare, Few]\n[Few, Rare, Common]\n</code></pre>\n\n<p>which seems to be about right.</p>\n\n<p>NB - this algorithm will fail under at least the following conditions:</p>\n\n<ol>\n<li>The original array has the same object in it more than once.</li>\n<li>The weights of the items are insanely huge.</li>\n<li>Zero or negative weights will almost certainly mess with the results.</li>\n</ol>\n\n<h2>Added</h2>\n\n<p>This implements Rossum's idea - please be sure to give him the credit for the algorithm.</p>\n\n<pre><code>public static void weightedSort2(Weighted[] values) {\n    // Calculate the total weight.\n    int total = 0;\n    for (Weighted v : values) {\n        total += v.getWeight();\n    }\n    // Start with all of them.\n    List&lt;Weighted&gt; remaining = new ArrayList(Arrays.asList(values));\n    // Take each at random - weighted by it's weight.\n    int which = 0;\n    do {\n        // Pick a random point.\n        int random = (int) (Math.random() * total);\n        // Pick one from the list.\n        Weighted picked = null;\n        int pos = 0;\n        for (Weighted v : remaining) {\n            // Pick this ne?\n            if (pos + v.getWeight() &gt; random) {\n                picked = v;\n                break;\n            }\n            // Move forward by that much.\n            pos += v.getWeight();\n        }\n        // Removed picked from the remaining.\n        remaining.remove(picked);\n        // Reduce total.\n        total -= picked.getWeight();\n        // Record picked.\n        values[which++] = picked;\n    } while (!remaining.isEmpty());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15560260,"reputation":89,"user_id":11225560,"display_name":"Ferazhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670543097,"creation_date":1670543097,"answer_id":74737547,"question_id":23971365,"body_markdown":"I have found a solution on another answer - cannot find it right now, but it uses exponential distribution:\r\n\r\n To an `i-th` element with weight `w_i`, assign a key `power(random(0,1),1.0/w_i)` (in pseudocode) and then sort the elements by keys.\r\nThis takes `O(n*log(n))` time, complexity independent of the actual weights.","title":"Weighted Randomized Ordering","body":"<p>I have found a solution on another answer - cannot find it right now, but it uses exponential distribution:</p>\n<p>To an <code>i-th</code> element with weight <code>w_i</code>, assign a key <code>power(random(0,1),1.0/w_i)</code> (in pseudocode) and then sort the elements by keys.\nThis takes <code>O(n*log(n))</code> time, complexity independent of the actual weights.</p>\n"}],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3109,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":23974333,"answer_count":5,"score":4,"last_activity_date":1670543097,"creation_date":1401547658,"question_id":23971365,"body_markdown":"**The problem:**\r\n\r\nI have items that have weights. The higher the weight, the greater chance they have the item will go first. I need to have a clean, simple way of doing this that is based on core Java (no third party libraries, jars, etc.).\r\n\r\nI&#39;ve done this for 2 items, by summing the weights then randomly pick a number using `Math.random()` within that range. Very simple. But for items greater than 2, I can either do more samples in the same range chancing misses, or I can recompute the sum of the weights of the remaining items and select again (recursive approach). I think that there might be something out there can can do this faster/cleaner. This code will be used over and over, so I&#39;m looking for an effective solution.\r\n\r\nIn essence, its like randomized weight permutations.\r\n\r\n**Some Examples:**\r\n\r\n1. `A` has weight of 1, `B` has weight of 99. If I ran the simulation with this, I would expect to get `BA` 99% of the time and `AB` 1% of the time.\r\n\r\n2. `A` has the weight of 10, `B` has the weight of 10, and `C` has the weight of 80. If I ran simulations with this, I would expect `C` to be the first item in the ordering 80% of the time, in those cases, `A` and `B` would have an equal chance of being the next character.\r\n\r\n**Extra Details:**\r\n\r\nFor my particular problem, there is a small number of items with potentially large weights. Say 20 to 50 items with weights that are stored in the form of a long, where the minimum weight is at least a 1000. The number of items may increase quite a bit too, so if we can find a solution that doesn&#39;t require the items to be small, that would be preferred.","title":"Weighted Randomized Ordering","body":"<p><strong>The problem:</strong></p>\n\n<p>I have items that have weights. The higher the weight, the greater chance they have the item will go first. I need to have a clean, simple way of doing this that is based on core Java (no third party libraries, jars, etc.).</p>\n\n<p>I've done this for 2 items, by summing the weights then randomly pick a number using <code>Math.random()</code> within that range. Very simple. But for items greater than 2, I can either do more samples in the same range chancing misses, or I can recompute the sum of the weights of the remaining items and select again (recursive approach). I think that there might be something out there can can do this faster/cleaner. This code will be used over and over, so I'm looking for an effective solution.</p>\n\n<p>In essence, its like randomized weight permutations.</p>\n\n<p><strong>Some Examples:</strong></p>\n\n<ol>\n<li><p><code>A</code> has weight of 1, <code>B</code> has weight of 99. If I ran the simulation with this, I would expect to get <code>BA</code> 99% of the time and <code>AB</code> 1% of the time.</p></li>\n<li><p><code>A</code> has the weight of 10, <code>B</code> has the weight of 10, and <code>C</code> has the weight of 80. If I ran simulations with this, I would expect <code>C</code> to be the first item in the ordering 80% of the time, in those cases, <code>A</code> and <code>B</code> would have an equal chance of being the next character.</p></li>\n</ol>\n\n<p><strong>Extra Details:</strong></p>\n\n<p>For my particular problem, there is a small number of items with potentially large weights. Say 20 to 50 items with weights that are stored in the form of a long, where the minimum weight is at least a 1000. The number of items may increase quite a bit too, so if we can find a solution that doesn't require the items to be small, that would be preferred.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1670534470,"post_id":74736367,"comment_id":131903146,"body_markdown":"You catch exception inside method so what you expected to be thrown outside method? It doesn&#39;t make sens but you may try to mock Logger and check if info method was called with `&quot;Exception thrown&quot;` but again ... testing internals doesn&#39;t make sens at all","body":"You catch exception inside method so what you expected to be thrown outside method? It doesn&#39;t make sens but you may try to mock Logger and check if info method was called with <code>&quot;Exception thrown&quot;</code> but again ... testing internals doesn&#39;t make sens at all"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1670534785,"post_id":74736367,"comment_id":131903228,"body_markdown":"Maybe your method instead being void should return result which would tell if it&#39;s fail or succeded or just throw errors outside","body":"Maybe your method instead being void should return result which would tell if it&#39;s fail or succeded or just throw errors outside"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670535240,"post_id":74736367,"comment_id":131903350,"body_markdown":"Why exactly do you want to test this? It makes no difference to the behaviour of the class, *unless* what appears in the logs is part of your API. In that case, inject the `LoggerFactory` and mock it and the `Logger`. Then you can verify that the expected call was made to the `Logger`. By the way, why are you initialising a `static` field in your constructors?","body":"Why exactly do you want to test this? It makes no difference to the behaviour of the class, <i>unless</i> what appears in the logs is part of your API. In that case, inject the <code>LoggerFactory</code> and mock it and the <code>Logger</code>. Then you can verify that the expected call was made to the <code>Logger</code>. By the way, why are you initialising a <code>static</code> field in your constructors?"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1670536293,"post_id":74736367,"comment_id":131903588,"body_markdown":"That&#39;s how the current project is setup.","body":"That&#39;s how the current project is setup."},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1670536316,"post_id":74736367,"comment_id":131903595,"body_markdown":"The method doesn&#39;t return anything just a bunch of logs","body":"The method doesn&#39;t return anything just a bunch of logs"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670536847,"post_id":74736367,"comment_id":131903707,"body_markdown":"You are also testing A and B at the same time. `A` should not be creating an instance of `B`, an instance of `B` should be injected into `A`, then you can check that `A.methodA()` calls `B.methodB()`.","body":"You are also testing A and B at the same time. <code>A</code> should not be creating an instance of <code>B</code>, an instance of <code>B</code> should be injected into <code>A</code>, then you can check that <code>A.methodA()</code> calls <code>B.methodB()</code>."},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1670538756,"post_id":74736367,"comment_id":131904149,"body_markdown":"My Initial statement was assertThrows(Exception.class, () -&gt; a.methodA()); Since that did not return anything I tried diffferent things","body":"My Initial statement was assertThrows(Exception.class, () -&gt; a.methodA()); Since that did not return anything I tried diffferent things"}],"answers":[{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670543042,"creation_date":1670543042,"answer_id":74737536,"question_id":74736367,"body_markdown":"Class B is just badly designed, don&#39;t do this. Alternatively, if you really want to ignore the error, then simply write a test which wraps your call to B with a try/catch block and use the fail(String) assertion method to cause the test to fail if the exception is NOT swallowed. As written in your example this should ALWAYS pass, but I assume in a more realistic scenario that might be in doubt. \r\n\r\nHonestly though, don&#39;t write a class like B! If you really MUST NOT ever throw the exception for some reason, then you should at least return an Optional&lt;&gt; or something, say carrying a flag indicating whether or not the exception happened. At least that will be fully testable. ","title":"How to test an internal exception in test class?","body":"<p>Class B is just badly designed, don't do this. Alternatively, if you really want to ignore the error, then simply write a test which wraps your call to B with a try/catch block and use the fail(String) assertion method to cause the test to fail if the exception is NOT swallowed. As written in your example this should ALWAYS pass, but I assume in a more realistic scenario that might be in doubt.</p>\n<p>Honestly though, don't write a class like B! If you really MUST NOT ever throw the exception for some reason, then you should at least return an Optional&lt;&gt; or something, say carrying a flag indicating whether or not the exception happened. At least that will be fully testable.</p>\n"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670543042,"creation_date":1670533859,"question_id":74736367,"body_markdown":"I am testing a class (say A) in which another method from another class (say B) is being called. B throws an exception but the catch block for that method just logs an error. How do I assert that an exception is being thrown internally?? Any suggestions on this will help. \r\n\r\nClass A:\r\n\r\n```\r\n    public class A {\r\n\r\n    private static Logger logger;\r\n\r\n    private B b;\r\n\r\n    public A() {\r\n        logger = LoggerFactory.getLogger(&quot;A&quot;);\r\n        b = new B();\r\n    }\r\n\r\n    public void methodA() {\r\n        b.methodB();\r\n        logger.info(&quot;A&quot;);\r\n    }\r\n}\r\n```\r\n\r\nClass B:\r\n```\r\n\r\npublic class B {\r\n\r\n    private static Logger logger;\r\n\r\n    public B() {\r\n        logger = LoggerFactory.getLogger(&quot;B&quot;);\r\n    }\r\n\r\n    public void methodB() {\r\n        try {\r\n            throw new Exception(&quot;NULL&quot;);\r\n        } catch(Exception e) {\r\n            logger.info(&quot;Exception thrown&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n```\r\n @Test\r\n    public void testException() {\r\n        A a = new A();\r\n        a.methodA();\r\n        assertThrows(Exception.class, () -&gt; b.methodB());\r\n    }\r\n```\r\nThis is what I wrote for the test.\r\nI receive the following error:\r\n```\r\nExpected java.lang.Exception to be thrown, but nothing was thrown.\r\norg.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown.\r\n```\r\nI want to make sure that an exception is being thrown in the code. ","title":"How to test an internal exception in test class?","body":"<p>I am testing a class (say A) in which another method from another class (say B) is being called. B throws an exception but the catch block for that method just logs an error. How do I assert that an exception is being thrown internally?? Any suggestions on this will help.</p>\n<p>Class A:</p>\n<pre><code>    public class A {\n\n    private static Logger logger;\n\n    private B b;\n\n    public A() {\n        logger = LoggerFactory.getLogger(&quot;A&quot;);\n        b = new B();\n    }\n\n    public void methodA() {\n        b.methodB();\n        logger.info(&quot;A&quot;);\n    }\n}\n</code></pre>\n<p>Class B:</p>\n<pre><code>\npublic class B {\n\n    private static Logger logger;\n\n    public B() {\n        logger = LoggerFactory.getLogger(&quot;B&quot;);\n    }\n\n    public void methodB() {\n        try {\n            throw new Exception(&quot;NULL&quot;);\n        } catch(Exception e) {\n            logger.info(&quot;Exception thrown&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code> @Test\n    public void testException() {\n        A a = new A();\n        a.methodA();\n        assertThrows(Exception.class, () -&gt; b.methodB());\n    }\n</code></pre>\n<p>This is what I wrote for the test.\nI receive the following error:</p>\n<pre><code>Expected java.lang.Exception to be thrown, but nothing was thrown.\norg.opentest4j.AssertionFailedError: Expected java.lang.Exception to be thrown, but nothing was thrown.\n</code></pre>\n<p>I want to make sure that an exception is being thrown in the code.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670542464,"creation_date":1670542464,"question_id":74737473,"body_markdown":"So I have a basic Gradle project. The build.gradle looks like this\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java application project to get you started.\r\n * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the application plugin to add support for building a CLI application in Java.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit test framework.\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n\r\n    implementation &#39;org.deeplearning4j:deeplearning4j-core:1.0.0-M2.1&#39;\r\n    implementation &#39;org.deeplearning4j:deeplearning4j-data:1.0.0-M2.1&#39;\r\n    implementation &#39;org.deeplearning4j:deeplearning4j-ui:1.0.0-M2.1&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;entry.App&#39;\r\n}\r\n\r\n```\r\n\r\nAs you can see I add 3 deeplearning4j dependencies. When typing these out I get suggestions for the deeplearning4j. And after adding these to the build file. The Gradle project does build successfully. However, I can&#39;t refer to ```org.deeplearning4j```. Says &quot;cannot be resolved&quot;. What is going on here?","title":"Adding deeplearning4j as dependency in build.gradle yields &quot;Cannot be resolved&quot;. Why is this happening?","body":"<p>So I have a basic Gradle project. The build.gradle looks like this</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:31.0.1-jre'\n\n    implementation 'org.deeplearning4j:deeplearning4j-core:1.0.0-M2.1'\n    implementation 'org.deeplearning4j:deeplearning4j-data:1.0.0-M2.1'\n    implementation 'org.deeplearning4j:deeplearning4j-ui:1.0.0-M2.1'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'entry.App'\n}\n\n</code></pre>\n<p>As you can see I add 3 deeplearning4j dependencies. When typing these out I get suggestions for the deeplearning4j. And after adding these to the build file. The Gradle project does build successfully. However, I can't refer to <code>org.deeplearning4j</code>. Says &quot;cannot be resolved&quot;. What is going on here?</p>\n"},{"tags":["java","spring-boot","azure","jdbc","ssl-certificate"],"owner":{"account_id":17233275,"reputation":31,"user_id":12477310,"display_name":"user12477310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670541260,"creation_date":1670541260,"question_id":74737344,"body_markdown":"As the title says trying to connect but I get the following error.\r\n\r\n\r\n```\r\n\r\nFailed to authenticate the user ************* in Active Directory (Authentication=ActiveDirectoryPassword). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m using DBeaver in this case. But this occurs in code too.\r\n\r\nHere&#39;s what I&#39;ve tried.\r\n\r\n- https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore?answertab=modifieddesc#tab-top\r\n- I&#39;ve replaced my cacerts file with a coworkers who&#39;s connection works without issues.\r\n- DBeaver has its cacerts within program files and I&#39;ve replaced this too and tried.\r\n- I&#39;ve tried the &quot;trust server certificate&quot; option too.\r\n- I&#39;ve added Microsofts TSL1/TSL2 certificates too (https://www.microsoft.com/pki/mscorp/cps/default.htm)\r\n- Also a certificate for the server itself.\r\n- Had JDK 17 deleted it updated to JDK 19, replaced carcerts.\r\n\r\n\r\nI&#39;m new to Java, so anything helps.","title":"Java Certificate Error when trying to connect to Azure SQL Server","body":"<p>As the title says trying to connect but I get the following error.</p>\n<pre><code>\nFailed to authenticate the user ************* in Active Directory (Authentication=ActiveDirectoryPassword). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n\n</code></pre>\n<p>I'm using DBeaver in this case. But this occurs in code too.</p>\n<p>Here's what I've tried.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore?answertab=modifieddesc#tab-top\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></li>\n<li>I've replaced my cacerts file with a coworkers who's connection works without issues.</li>\n<li>DBeaver has its cacerts within program files and I've replaced this too and tried.</li>\n<li>I've tried the &quot;trust server certificate&quot; option too.</li>\n<li>I've added Microsofts TSL1/TSL2 certificates too (<a href=\"https://www.microsoft.com/pki/mscorp/cps/default.htm\" rel=\"nofollow noreferrer\">https://www.microsoft.com/pki/mscorp/cps/default.htm</a>)</li>\n<li>Also a certificate for the server itself.</li>\n<li>Had JDK 17 deleted it updated to JDK 19, replaced carcerts.</li>\n</ul>\n<p>I'm new to Java, so anything helps.</p>\n"},{"tags":["java","bytecode","cglib","bcel"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482132500,"creation_date":1482132500,"answer_id":41217705,"question_id":41210938,"body_markdown":"BCEL queries a class loader for a `.class` file in order to get hold of the byte array that represents it. Such a class file does not exist for a dynamically generated class.\r\n\r\nIn order to get hold of the class file, you have to collect the byte code during the class file&#39;s creation. Cglib is built on top of ASM and it allows you to register your own `ClassVisitor`s to collect a class file.\r\n\r\nWith the `Enhancer`, use the `generateClass(ClassVisitor)` method and hand the latter method a `ClassWriter`. After calling the method, you can get the byte code from the class writer object that you passed.","title":"How to get bytecode of cglib proxy class instance?","body":"<p>BCEL queries a class loader for a <code>.class</code> file in order to get hold of the byte array that represents it. Such a class file does not exist for a dynamically generated class.</p>\n\n<p>In order to get hold of the class file, you have to collect the byte code during the class file's creation. Cglib is built on top of ASM and it allows you to register your own <code>ClassVisitor</code>s to collect a class file.</p>\n\n<p>With the <code>Enhancer</code>, use the <code>generateClass(ClassVisitor)</code> method and hand the latter method a <code>ClassWriter</code>. After calling the method, you can get the byte code from the class writer object that you passed.</p>\n"},{"tags":[],"owner":{"account_id":13722805,"reputation":129,"user_id":9902322,"display_name":"NagararajaPALLA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588861492,"creation_date":1588861492,"answer_id":61660254,"question_id":41210938,"body_markdown":"here is the sample code to print pseudo code of generated CGLIB class.\r\n**visitEnd** method prints the generated class in text format.\r\n\r\n \r\n   \tpackage naga.cglib.demo;\r\n\t\r\n\timport static org.objectweb.asm.Opcodes.ASM7;\r\n\r\n\timport java.io.PrintWriter;\r\n\timport java.lang.reflect.InvocationTargetException;\r\n\r\n\timport org.objectweb.asm.ClassVisitor;\r\n\timport org.objectweb.asm.FieldVisitor;\r\n\timport org.objectweb.asm.MethodVisitor;\r\n\timport org.objectweb.asm.util.TraceClassVisitor;\r\n\r\n\timport net.sf.cglib.proxy.Enhancer;\r\n\timport net.sf.cglib.proxy.FixedValue;\r\n\r\n\tpublic class App {\r\n\tpublic static void main(String[] args) throws Exception, IllegalArgumentException, InvocationTargetException {\r\n\r\n\t\tEnhancer enhancer = new Enhancer();\r\n\t\tenhancer.setSuperclass(SampleClass.class);\r\n\t\tenhancer.setCallback(new FixedValueImpl());\r\n\t\tSampleClass proxy = (SampleClass) enhancer.create();\r\n\t\tenhancer.generateClass(new CustomClassWriter());\r\n\r\n\t\tSystem.out.println(&quot;Hello cglib!&quot; + proxy.test(null));\r\n\r\n\t}\r\n\t}\r\n\r\n\tclass SampleClass {\r\n\tpublic String test(String input) {\r\n\t\treturn &quot;Hello world!&quot;;\r\n\t}\r\n\t}\r\n\r\n\tclass FixedValueImpl implements FixedValue {\r\n\r\n\t@Override\r\n\tpublic Object loadObject() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;Hello cglib! from loadObject()&quot;;\r\n\t}\r\n\r\n\t}\r\n\r\n\tclass CustomClassWriter extends ClassVisitor {\r\n\r\n\tTraceClassVisitor tracer;\r\n\tPrintWriter pw = new PrintWriter(System.out);\r\n\r\n\tpublic CustomClassWriter() {\r\n\t\tsuper(ASM7);\r\n\t\ttracer = new TraceClassVisitor(pw);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\r\n\t\tSystem.out.println(&quot;method name is :&quot; + name);\r\n\t\treturn tracer.visitMethod(access, name, desc, signature, exceptions);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\r\n\r\n\t\tSystem.out.println(&quot;field name is :&quot; + name);\r\n\t\treturn tracer.visitField(access, name, desc, signature, value);\r\n\t}\r\n\r\n\tpublic void visitEnd() {\r\n\t\ttracer.visitEnd();\r\n\t\tSystem.out.println(tracer.p.getText());\r\n\r\n\t}\r\n\t}\r\n","title":"How to get bytecode of cglib proxy class instance?","body":"<p>here is the sample code to print pseudo code of generated CGLIB class.\n<strong>visitEnd</strong> method prints the generated class in text format.</p>\n\n<pre><code>package naga.cglib.demo;\n\nimport static org.objectweb.asm.Opcodes.ASM7;\n\nimport java.io.PrintWriter;\nimport java.lang.reflect.InvocationTargetException;\n\nimport org.objectweb.asm.ClassVisitor;\nimport org.objectweb.asm.FieldVisitor;\nimport org.objectweb.asm.MethodVisitor;\nimport org.objectweb.asm.util.TraceClassVisitor;\n\nimport net.sf.cglib.proxy.Enhancer;\nimport net.sf.cglib.proxy.FixedValue;\n\npublic class App {\npublic static void main(String[] args) throws Exception, IllegalArgumentException, InvocationTargetException {\n\n    Enhancer enhancer = new Enhancer();\n    enhancer.setSuperclass(SampleClass.class);\n    enhancer.setCallback(new FixedValueImpl());\n    SampleClass proxy = (SampleClass) enhancer.create();\n    enhancer.generateClass(new CustomClassWriter());\n\n    System.out.println(\"Hello cglib!\" + proxy.test(null));\n\n}\n}\n\nclass SampleClass {\npublic String test(String input) {\n    return \"Hello world!\";\n}\n}\n\nclass FixedValueImpl implements FixedValue {\n\n@Override\npublic Object loadObject() throws Exception {\n    // TODO Auto-generated method stub\n    return \"Hello cglib! from loadObject()\";\n}\n\n}\n\nclass CustomClassWriter extends ClassVisitor {\n\nTraceClassVisitor tracer;\nPrintWriter pw = new PrintWriter(System.out);\n\npublic CustomClassWriter() {\n    super(ASM7);\n    tracer = new TraceClassVisitor(pw);\n}\n\n@Override\npublic MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n    System.out.println(\"method name is :\" + name);\n    return tracer.visitMethod(access, name, desc, signature, exceptions);\n\n}\n\n@Override\npublic FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\n\n    System.out.println(\"field name is :\" + name);\n    return tracer.visitField(access, name, desc, signature, value);\n}\n\npublic void visitEnd() {\n    tracer.visitEnd();\n    System.out.println(tracer.p.getText());\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670541207,"creation_date":1666732331,"answer_id":74200258,"question_id":41210938,"body_markdown":"I&#39;ve found this question while researching how to save the CGLIB-generated class in spring-boot 3.0 application (e.g. handling `@Transactional` or `@Configuration`-annotated classes). This simple approach may help:\r\n```java\r\nimport org.springframework.cglib.core.ReflectUtils;\r\n...\r\npublic class SpringCglibUtils {\r\n    public static void initGeneratedClassHandler(String targetPath) {\r\n        File dir = new File(targetPath);\r\n        dir.mkdirs();\r\n        ReflectUtils.setGeneratedClassHandler((String className, byte[] classContent) -&gt; {\r\n            try (FileOutputStream out = new FileOutputStream(new File(dir, className + &quot;.class&quot;))) {\r\n                out.write(classContent);\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(&quot;Error while storing &quot; + className, e);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nand then define in your main class before creating context:\r\n```\r\nSpringCglibUtils.initGeneratedClassHandler(&quot;cglib&quot;);\r\n```\r\nSpring will store to the `targetPath` directory all generated class files.\r\n\r\nNote: unfortunately it&#39;s not available before spring-boot 3","title":"How to get bytecode of cglib proxy class instance?","body":"<p>I've found this question while researching how to save the CGLIB-generated class in spring-boot 3.0 application (e.g. handling <code>@Transactional</code> or <code>@Configuration</code>-annotated classes). This simple approach may help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cglib.core.ReflectUtils;\n...\npublic class SpringCglibUtils {\n    public static void initGeneratedClassHandler(String targetPath) {\n        File dir = new File(targetPath);\n        dir.mkdirs();\n        ReflectUtils.setGeneratedClassHandler((String className, byte[] classContent) -&gt; {\n            try (FileOutputStream out = new FileOutputStream(new File(dir, className + &quot;.class&quot;))) {\n                out.write(classContent);\n            } catch (IOException e) {\n                throw new UncheckedIOException(&quot;Error while storing &quot; + className, e);\n            }\n        });\n    }\n}\n</code></pre>\n<p>and then define in your main class before creating context:</p>\n<pre><code>SpringCglibUtils.initGeneratedClassHandler(&quot;cglib&quot;);\n</code></pre>\n<p>Spring will store to the <code>targetPath</code> directory all generated class files.</p>\n<p>Note: unfortunately it's not available before spring-boot 3</p>\n"}],"owner":{"account_id":2740110,"reputation":1115,"user_id":2361836,"accept_rate":68,"display_name":"corvax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1670541207,"creation_date":1482081895,"question_id":41210938,"body_markdown":"I&#39;m trying to get bytecode of cglib enhanced object this way using BCEL:\r\n\r\n    package app;\r\n    \r\n    import cglib.MyInterceptor;\r\n    import net.sf.cglib.proxy.Enhancer;\r\n    import org.apache.bcel.Repository;\r\n    import org.apache.bcel.classfile.JavaClass;\r\n    import org.apache.bcel.classfile.Method;\r\n    import service.Tool;\r\n    \r\n    public class CgLibApp {\r\n        public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException {\r\n            // target object\r\n            Tool tool = new Tool();\r\n    \r\n            // proxying\r\n            Enhancer e = new Enhancer();\r\n            e.setSuperclass(tool.getClass());\r\n            e.setCallback(new MyInterceptor(tool));\r\n            Tool proxifiedTool = (Tool) e.create();\r\n    \r\n            // trying to get proxy byte code\r\n            JavaClass clazz = Repository.lookupClass(proxifiedTool.getClass());\r\n            Method method = clazz.getMethod(Tool.class.getMethod(&quot;meth&quot;));\r\n    \r\n            System.out.println(method.getCode().toString());\r\n        }\r\n    }\r\n\r\nBut I&#39;m getting:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: SyntheticRepository could not load service.Tool$$EnhancerByCGLIB$$22a3afcc\r\n\tat org.apache.bcel.util.SyntheticRepository.loadClass(SyntheticRepository.java:174)\r\n\tat org.apache.bcel.util.SyntheticRepository.loadClass(SyntheticRepository.java:158)\r\n\tat org.apache.bcel.Repository.lookupClass(Repository.java:74)\r\n\tat app.CgLibApp.main(CgLibApp.java:21)\r\n\r\nWhat should I do to get bytecode from Enhanced object?","title":"How to get bytecode of cglib proxy class instance?","body":"<p>I'm trying to get bytecode of cglib enhanced object this way using BCEL:</p>\n\n<pre><code>package app;\n\nimport cglib.MyInterceptor;\nimport net.sf.cglib.proxy.Enhancer;\nimport org.apache.bcel.Repository;\nimport org.apache.bcel.classfile.JavaClass;\nimport org.apache.bcel.classfile.Method;\nimport service.Tool;\n\npublic class CgLibApp {\n    public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException {\n        // target object\n        Tool tool = new Tool();\n\n        // proxying\n        Enhancer e = new Enhancer();\n        e.setSuperclass(tool.getClass());\n        e.setCallback(new MyInterceptor(tool));\n        Tool proxifiedTool = (Tool) e.create();\n\n        // trying to get proxy byte code\n        JavaClass clazz = Repository.lookupClass(proxifiedTool.getClass());\n        Method method = clazz.getMethod(Tool.class.getMethod(\"meth\"));\n\n        System.out.println(method.getCode().toString());\n    }\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: SyntheticRepository could not load service.Tool$$EnhancerByCGLIB$$22a3afcc\nat org.apache.bcel.util.SyntheticRepository.loadClass(SyntheticRepository.java:174)\nat org.apache.bcel.util.SyntheticRepository.loadClass(SyntheticRepository.java:158)\nat org.apache.bcel.Repository.lookupClass(Repository.java:74)\nat app.CgLibApp.main(CgLibApp.java:21)\n</code></pre>\n\n<p>What should I do to get bytecode from Enhanced object?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1670565404,"post_id":74737224,"comment_id":131908170,"body_markdown":"Just to clarify - do you mean that you&#39;re generating Java code from an OpenAPI definition, and you want the generated classes to have the `@JsonInclude(JsonInclude.Include.NON_NULL)` annotation?","body":"Just to clarify - do you mean that you&#39;re generating Java code from an OpenAPI definition, and you want the generated classes to have the <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> annotation?"},{"owner":{"account_id":4782470,"reputation":61,"user_id":3863830,"display_name":"ArunManoharan"},"score":0,"creation_date":1670647234,"post_id":74737224,"comment_id":131927053,"body_markdown":"Thanks Helen. yes correct, i want to include this annotation in generated class.","body":"Thanks Helen. yes correct, i want to include this annotation in generated class."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1670664934,"post_id":74737224,"comment_id":131929003,"body_markdown":"Do these Q&amp;As answer your question? [How can I produce @JsonInclude(value = JsonInclude.Include.NON_NULL) for particular generated POJO from Swagger?](https://stackoverflow.com/q/71158760/113116), [Adding Jackson annotation to a Swagger generated class](https://stackoverflow.com/q/55517796/113116), [How to customize Swagger Codegen to generate models that ignore null values](https://stackoverflow.com/q/42997380/113116), [Swagger Codegen ignore null fields for POJO classes](https://stackoverflow.com/q/45031264/113116)","body":"Do these Q&amp;As answer your question? <a href=\"https://stackoverflow.com/q/71158760/113116\">How can I produce @JsonInclude(value = JsonInclude.Include.NON_NULL) for particular generated POJO from Swagger?</a>, <a href=\"https://stackoverflow.com/q/55517796/113116\">Adding Jackson annotation to a Swagger generated class</a>, <a href=\"https://stackoverflow.com/q/42997380/113116\">How to customize Swagger Codegen to generate models that ignore null values</a>, <a href=\"https://stackoverflow.com/q/45031264/113116\">Swagger Codegen ignore null fields for POJO classes</a>"}],"answers":[{"tags":[],"owner":{"account_id":23700353,"reputation":1,"user_id":17723600,"display_name":"Hadj"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670540449,"creation_date":1670540449,"answer_id":74737245,"question_id":74737224,"body_markdown":"you can use the @io.swagger.v3.oas.annotations.media.Schema annotation on your method parameters. This annotation allows you to specify the data type, format, and other properties of the parameter, and you can use it to specify that the parameter is required (non-null) using the required property.\r\n\r\nHere is how you might use the @Schema annotation to specify that a method parameter is required:\r\n\r\n    @GET\r\n    @Path(&quot;/users/{id}&quot;)\r\n    public User getUser(\r\n      @PathParam(&quot;id&quot;) @Schema(required = true) String userId\r\n    ) {\r\n      ...\r\n    }\r\n\r\nIn this example, the @Schema annotation is used on the userId parameter to specify that it is required. This will ensure that the generated code includes the @Json non-null annotation on the parameter, which will enforce the requirement at runtime.\r\n\r\nYou can also use the @Schema annotation to specify other properties of the parameter, such as its data type, format, and description. For more information, you can refer to the Swagger Code Gen documentation.","title":"Need to include @Json non-null in swagger code gen","body":"<p>you can use the @io.swagger.v3.oas.annotations.media.Schema annotation on your method parameters. This annotation allows you to specify the data type, format, and other properties of the parameter, and you can use it to specify that the parameter is required (non-null) using the required property.</p>\n<p>Here is how you might use the @Schema annotation to specify that a method parameter is required:</p>\n<pre><code>@GET\n@Path(&quot;/users/{id}&quot;)\npublic User getUser(\n  @PathParam(&quot;id&quot;) @Schema(required = true) String userId\n) {\n  ...\n}\n</code></pre>\n<p>In this example, the @Schema annotation is used on the userId parameter to specify that it is required. This will ensure that the generated code includes the @Json non-null annotation on the parameter, which will enforce the requirement at runtime.</p>\n<p>You can also use the @Schema annotation to specify other properties of the parameter, such as its data type, format, and description. For more information, you can refer to the Swagger Code Gen documentation.</p>\n"}],"owner":{"account_id":4782470,"reputation":61,"user_id":3863830,"display_name":"ArunManoharan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670540449,"creation_date":1670540280,"question_id":74737224,"body_markdown":"I need to add @Json non-null in call level but I am not able to do it from swagger code gen.\r\n\r\nHence, could you please help me with this issue?","title":"Need to include @Json non-null in swagger code gen","body":"<p>I need to add @Json non-null in call level but I am not able to do it from swagger code gen.</p>\n<p>Hence, could you please help me with this issue?</p>\n"},{"tags":["java","exit","reset","chronometer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1522579437,"post_id":49597171,"comment_id":86201609,"body_markdown":"Not what you asked, but the condition `(choix != 1 | choix != 2)` is _always_ true.  Perhaps you meant `&amp;&amp;` instead of `|`.","body":"Not what you asked, but the condition <code>(choix != 1 | choix != 2)</code> is <i>always</i> true.  Perhaps you meant <code>&amp;&amp;</code> instead of <code>|</code>."},{"owner":{"account_id":13239481,"reputation":1,"user_id":9560537,"display_name":"Anas Selkane"},"score":0,"creation_date":1522579852,"post_id":49597171,"comment_id":86201736,"body_markdown":"I didn&#39;t review my code yet , thanks mate ...","body":"I didn&#39;t review my code yet , thanks mate ..."}],"owner":{"account_id":13239481,"reputation":1,"user_id":9560537,"display_name":"Anas Selkane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670538436,"creation_date":1522579026,"question_id":49597171,"body_markdown":"\r\n    \r\n    public static void main(String[] args) {\r\n       \r\n    \tScanner sc = new Scanner(System.in);\r\n        System.out.println(\r\n                &quot;Bonjoir lol \\n Convertire de Celsius &#224; Fahrenheit tape 1 \\n Convertire de Fahrenheit &#224; Celsius tape 2 &quot;);\r\n       //si on ecrit rien apres 5 sc lapp doit se fermer\r\n        Timer tm =new Timer () ;\r\n        tm.schedule(new TimerTask() {\r\n\t\t\tint tim =5;\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttim--;\r\n\t\t\t\tSystem.out.println(tim);\r\n\t\t\t\tif (tim==0) {  tm.cancel();\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\t\r\n\t\t}, 1000, 1000);\r\n        int choix;\r\n        \r\n        try {\r\n            choix = sc.nextInt();\r\n        } catch (java.util.InputMismatchException e) {\r\n            System.out.println(&quot;Caractere non numerique &#167; erreur &quot;);\r\n            choix = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;D&#39;accord&quot;);\r\n        if (choix != 1 | choix != 2) {\r\n            while (choix != 1 &amp;&amp; choix != 2) {\r\n                System.out.println(&quot;Reassayez , tapez soit 1 soit 2 !!!!!&quot;);\r\n                try {\r\n                    choix = sc.nextInt();\r\n                } catch (java.util.InputMismatchException e) {\r\n                    System.out.println(&quot;Caractere non numerique 1 ou 2&quot;);\r\n                    choix = sc.nextInt();\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (choix == 1) {\r\n            System.out.println(&quot;Entrez la temperature en Celsius &quot;);\r\n            int tempc = sc.nextInt();\r\n            System.out.println(celtofar(tempc) + &quot; F&#176;&quot;);\r\n        } else if (choix == 2) {\r\n            System.out.println(&quot;Entrez la temperature en Fahrenheit &quot;);\r\n            int tempf = sc.nextInt();\r\n            System.out.println(fartocel(tempf) + &quot;C&#176;&quot;);\r\n       sc.close();\r\n        }\r\n    }\r\n\r\n            \r\n    }\r\n          \r\nHello , I used a chronometer when Tim=0 ,it exits the program.But how can I make the chronometer reset every time I type something in my keyboard ?? \r\nHope someone can help and thanks anyway . (The chronometer is in the first lines)       \r\n","title":"If the user don&#39;t type for 5 sec program exits in JAVA","body":"<pre><code>public static void main(String[] args) {\n\n    Scanner sc = new Scanner(System.in);\n    System.out.println(\n            \"Bonjoir lol \\n Convertire de Celsius  Fahrenheit tape 1 \\n Convertire de Fahrenheit  Celsius tape 2 \");\n   //si on ecrit rien apres 5 sc lapp doit se fermer\n    Timer tm =new Timer () ;\n    tm.schedule(new TimerTask() {\n        int tim =5;\n        @Override\n        public void run() {\n            tim--;\n            System.out.println(tim);\n            if (tim==0) {  tm.cancel();\n            System.exit(0);\n\n\n            }\n        } \n\n\n    }, 1000, 1000);\n    int choix;\n\n    try {\n        choix = sc.nextInt();\n    } catch (java.util.InputMismatchException e) {\n        System.out.println(\"Caractere non numerique  erreur \");\n        choix = sc.nextInt();\n    }\n    System.out.println(\"D'accord\");\n    if (choix != 1 | choix != 2) {\n        while (choix != 1 &amp;&amp; choix != 2) {\n            System.out.println(\"Reassayez , tapez soit 1 soit 2 !!!!!\");\n            try {\n                choix = sc.nextInt();\n            } catch (java.util.InputMismatchException e) {\n                System.out.println(\"Caractere non numerique 1 ou 2\");\n                choix = sc.nextInt();\n            }\n\n        }\n    }\n\n    if (choix == 1) {\n        System.out.println(\"Entrez la temperature en Celsius \");\n        int tempc = sc.nextInt();\n        System.out.println(celtofar(tempc) + \" F\");\n    } else if (choix == 2) {\n        System.out.println(\"Entrez la temperature en Fahrenheit \");\n        int tempf = sc.nextInt();\n        System.out.println(fartocel(tempf) + \"C\");\n   sc.close();\n    }\n}\n\n\n}\n</code></pre>\n\n<p>Hello , I used a chronometer when Tim=0 ,it exits the program.But how can I make the chronometer reset every time I type something in my keyboard ?? \nHope someone can help and thanks anyway . (The chronometer is in the first lines)       </p>\n"},{"tags":["java","java-memory-model","jls"],"owner":{"account_id":27193570,"reputation":11,"user_id":20726864,"display_name":"tool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670538306,"creation_date":1670527728,"question_id":74735399,"body_markdown":"Can someone explain to me the meaning of [17.4.9. Observable Behavior and Nonterminating Executions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9).\r\n\r\nWhat I understand (kind of):\r\n\r\n- this section exists because of the programs which never terminate:\r\n\r\n  &gt; For programs that always terminate in some bounded finite period of time, their behavior can be understood (informally) simply in terms of their allowable executions. For programs that can fail to terminate in a bounded amount of time, more subtle issues arise.\r\n- if a thread blocks indefinitely then no external action that goes after the place in the code should be executed:\r\n\r\n  &gt; An execution may result in a thread being blocked indefinitely and the execution&#39;s not terminating. In such cases, the actions generated by the blocked thread must consist of all actions generated by that thread up to and including the action that caused the thread to be blocked, and no actions that would be generated by the thread after that action.\r\n\r\nTo be honest, even with the above, I don&#39;t understand why this section exists.  \r\nFor example, I don&#39;t understand what would break if the section was removed.  \r\nAlso I don&#39;t understand why the rest of the JMM is not enough for nonterminating executions.","title":"JMM: Observable Behavior and Nonterminating Executions","body":"<p>Can someone explain to me the meaning of <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9\" rel=\"nofollow noreferrer\">17.4.9. Observable Behavior and Nonterminating Executions</a>.</p>\n<p>What I understand (kind of):</p>\n<ul>\n<li><p>this section exists because of the programs which never terminate:</p>\n<blockquote>\n<p>For programs that always terminate in some bounded finite period of time, their behavior can be understood (informally) simply in terms of their allowable executions. For programs that can fail to terminate in a bounded amount of time, more subtle issues arise.</p>\n</blockquote>\n</li>\n<li><p>if a thread blocks indefinitely then no external action that goes after the place in the code should be executed:</p>\n<blockquote>\n<p>An execution may result in a thread being blocked indefinitely and the execution's not terminating. In such cases, the actions generated by the blocked thread must consist of all actions generated by that thread up to and including the action that caused the thread to be blocked, and no actions that would be generated by the thread after that action.</p>\n</blockquote>\n</li>\n</ul>\n<p>To be honest, even with the above, I don't understand why this section exists.<br />\nFor example, I don't understand what would break if the section was removed.<br />\nAlso I don't understand why the rest of the JMM is not enough for nonterminating executions.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","nativequery"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1670403018,"post_id":74713873,"comment_id":131866155,"body_markdown":"`&quot;offerLine&quot;: &quot;Technology&quot;` and `&quot;offerLine&quot;:{&quot;query&quot;:&quot;Technology&quot;}` are equivalent","body":"<code>&quot;offerLine&quot;: &quot;Technology&quot;</code> and <code>&quot;offerLine&quot;:{&quot;query&quot;:&quot;Technology&quot;}</code> are equivalent"},{"owner":{"account_id":20103697,"reputation":37,"user_id":14741676,"display_name":"maudderung"},"score":0,"creation_date":1670403569,"post_id":74713873,"comment_id":131866365,"body_markdown":"You&#39;re right. I&#39;ve found out that I&#39;m getting hits but am not handling them properly so I end up with an empty result list. Thank you","body":"You&#39;re right. I&#39;ve found out that I&#39;m getting hits but am not handling them properly so I end up with an empty result list. Thank you"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1670403615,"post_id":74713873,"comment_id":131866383,"body_markdown":"Ok, glad you figured it out","body":"Ok, glad you figured it out"}],"answers":[{"tags":[],"owner":{"account_id":4232043,"reputation":36,"user_id":3464174,"display_name":"Raffael Tancman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670538091,"creation_date":1670538024,"answer_id":74736953,"question_id":74713873,"body_markdown":"Try to do that:\r\n\r\n```java\r\npublic SearchRequest prepareElasticQuery(OfferRequest request) {\r\n  SearchRequest searchRequest = new SearchRequest(&quot;offers&quot;);\r\n  searchRequest.source(new SearchSourceBuilder()\r\n    .query(\r\n      QueryBuilders.boolQuery()\r\n        .must(\r\n          QueryBuilders.matchQuery(&quot;offerLine&quot;, request.getOfferLine()\r\n        )\r\n      )\r\n    )\r\n  );\r\n  return searchRequest;\r\n}\r\n```","title":"Building a bool query with Spring Data Elasticsearch","body":"<p>Try to do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SearchRequest prepareElasticQuery(OfferRequest request) {\n  SearchRequest searchRequest = new SearchRequest(&quot;offers&quot;);\n  searchRequest.source(new SearchSourceBuilder()\n    .query(\n      QueryBuilders.boolQuery()\n        .must(\n          QueryBuilders.matchQuery(&quot;offerLine&quot;, request.getOfferLine()\n        )\n      )\n    )\n  );\n  return searchRequest;\n}\n</code></pre>\n"}],"owner":{"account_id":20103697,"reputation":37,"user_id":14741676,"display_name":"maudderung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74736953,"answer_count":1,"score":1,"last_activity_date":1670538091,"creation_date":1670402631,"question_id":74713873,"body_markdown":"I&#39;m trying to make a bool must match query in java with this structure\r\n\r\n```\r\nGET offers/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;match&quot;: {\r\n            &quot;offerLine&quot;: &quot;Technology&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nI&#39;ve tried this and I&#39;m getting a null value:\r\n\r\n```\r\nprivate NativeQueryBuilder prepareElasticQuery(OfferRequest request){\r\n    BoolQuery.Builder bqb = QueryBuilders.bool();\r\n    bqb.must(m-&gt;m.match(ma-&gt;ma.field(&quot;offerLine&quot;).query(request.getOfferLine())));\r\n    NativeQueryBuilder nqb= new NativeQueryBuilder().withQuery(bqb.build()._toQuery());\r\n    return nqb;\r\n}\r\n```\r\n\r\nThe bool query gets this value :\r\n```\r\nBoolQuery: {&quot;must&quot;:[{&quot;match&quot;:{&quot;offerLine&quot;:{&quot;query&quot;:&quot;Technology&quot;}}}]}\r\n```\r\nAnd I can&#39;t seem to find an alternative to the value() method since it&#39;s deprecation.\r\nAny clues as to how I can build it properly?\r\n\r\nEdit: That&#39;s the proper way. My problem is with further handling the results.\r\n","title":"Building a bool query with Spring Data Elasticsearch","body":"<p>I'm trying to make a bool must match query in java with this structure</p>\n<pre><code>GET offers/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;match&quot;: {\n            &quot;offerLine&quot;: &quot;Technology&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n\n</code></pre>\n<p>I've tried this and I'm getting a null value:</p>\n<pre><code>private NativeQueryBuilder prepareElasticQuery(OfferRequest request){\n    BoolQuery.Builder bqb = QueryBuilders.bool();\n    bqb.must(m-&gt;m.match(ma-&gt;ma.field(&quot;offerLine&quot;).query(request.getOfferLine())));\n    NativeQueryBuilder nqb= new NativeQueryBuilder().withQuery(bqb.build()._toQuery());\n    return nqb;\n}\n</code></pre>\n<p>The bool query gets this value :</p>\n<pre><code>BoolQuery: {&quot;must&quot;:[{&quot;match&quot;:{&quot;offerLine&quot;:{&quot;query&quot;:&quot;Technology&quot;}}}]}\n</code></pre>\n<p>And I can't seem to find an alternative to the value() method since it's deprecation.\nAny clues as to how I can build it properly?</p>\n<p>Edit: That's the proper way. My problem is with further handling the results.</p>\n"},{"tags":["java","sonarqube","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670956123,"post_id":74718262,"comment_id":131991464,"body_markdown":"Use Maven 3.8.6 instead of that old version of Maven...","body":"Use Maven 3.8.6 instead of that old version of Maven..."}],"owner":{"account_id":27178759,"reputation":11,"user_id":20714357,"display_name":"Luk&#225; Antol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670537325,"creation_date":1670423491,"question_id":74718262,"body_markdown":"I have encountered problems while trying to run sonarqube on my application. When I execute the command it throws me an error which doesn&#39;t say much to me. Does anyone know where is the problem here? \r\n\r\nThe Error looks like this: \r\n\r\n```\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  9.257 s\r\n[INFO] Finished at: 2022-12-07T15:10:39+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar (default-cli) on project TeamTracker: Execution default-cli of goal org.sonarsource.sca\r\nnner.maven:sonar-maven-plugin:3.9.1.2184:sonar failed: An API incompatibility was encountered while executing org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar: java.la\r\nng.ExceptionInInitializerError: null\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;org.codehaus.mojo:sonar-maven-plugin:3.9.1.2184\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n[ERROR] urls[0] = file:/C:/Users/A113408609/.m2/repository/org/sonarsource/scanner/maven/sonar-maven-plugin/3.9.1.2184/sonar-maven-plugin-3.9.1.2184.jar\r\n[ERROR] urls[1] = file:/C:/Users/A113408609/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.4/plexus-sec-dispatcher-1.4.jar\r\n[ERROR] urls[2] = file:/C:/Users/A113408609/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\r\n[ERROR] urls[3] = file:/C:/Users/A113408609/.m2/repository/org/codehaus/plexus/plexus-utils/3.2.1/plexus-utils-3.2.1.jar\r\n[ERROR] urls[4] = file:/C:/Users/A113408609/.m2/repository/org/sonarsource/scanner/api/sonar-scanner-api/2.16.2.588/sonar-scanner-api-2.16.2.588.jar\r\n[ERROR] urls[5] = file:/C:/Users/A113408609/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar\r\n[ERROR] Number of foreign imports: 1\r\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n[ERROR]\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] : java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security\r\n.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @26f204a4\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n&#39;cmd&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\n```\r\n\r\nThis is a command I execute: \r\n\r\n\r\n```\r\nmvn sonar:sonar -Dsonar.host.url=$SONAR_HOST_URL -Dsonar.login=$SONAR_AUTH_TOKEN -Dsonar.projectKey=$SONAR_PROJECT_KEY -Dsonar.projectName=$CI_PROJECT_PATH_SLUG\r\n```\r\n\r\n\r\nI have gone through documentations but I still really can&#39;t see what is the problem here :/\r\n\r\nWhen I try to run `mvn clean install` the build is succesfull.\r\n\r\nI am using Java 11, Maven 3.6.3 and Sonar Community Edition Version 8.9.10\r\n\r\n","title":"An API incompatibility was encountered while executing org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar","body":"<p>I have encountered problems while trying to run sonarqube on my application. When I execute the command it throws me an error which doesn't say much to me. Does anyone know where is the problem here?</p>\n<p>The Error looks like this:</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.257 s\n[INFO] Finished at: 2022-12-07T15:10:39+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar (default-cli) on project TeamTracker: Execution default-cli of goal org.sonarsource.sca\nnner.maven:sonar-maven-plugin:3.9.1.2184:sonar failed: An API incompatibility was encountered while executing org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar: java.la\nng.ExceptionInInitializerError: null\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.codehaus.mojo:sonar-maven-plugin:3.9.1.2184\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/A113408609/.m2/repository/org/sonarsource/scanner/maven/sonar-maven-plugin/3.9.1.2184/sonar-maven-plugin-3.9.1.2184.jar\n[ERROR] urls[1] = file:/C:/Users/A113408609/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.4/plexus-sec-dispatcher-1.4.jar\n[ERROR] urls[2] = file:/C:/Users/A113408609/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[3] = file:/C:/Users/A113408609/.m2/repository/org/codehaus/plexus/plexus-utils/3.2.1/plexus-utils-3.2.1.jar\n[ERROR] urls[4] = file:/C:/Users/A113408609/.m2/repository/org/sonarsource/scanner/api/sonar-scanner-api/2.16.2.588/sonar-scanner-api-2.16.2.588.jar\n[ERROR] urls[5] = file:/C:/Users/A113408609/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR]\n[ERROR] -----------------------------------------------------\n[ERROR] : java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security\n.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @26f204a4\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n'cmd' is not recognized as an internal or external command,\noperable program or batch file.\n\n</code></pre>\n<p>This is a command I execute:</p>\n<pre><code>mvn sonar:sonar -Dsonar.host.url=$SONAR_HOST_URL -Dsonar.login=$SONAR_AUTH_TOKEN -Dsonar.projectKey=$SONAR_PROJECT_KEY -Dsonar.projectName=$CI_PROJECT_PATH_SLUG\n</code></pre>\n<p>I have gone through documentations but I still really can't see what is the problem here :/</p>\n<p>When I try to run <code>mvn clean install</code> the build is succesfull.</p>\n<p>I am using Java 11, Maven 3.6.3 and Sonar Community Edition Version 8.9.10</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"score":2,"creation_date":1445327680,"post_id":33230952,"comment_id":54265694,"body_markdown":"remove the parameter from `preparedStatement1.executeQuery(sql);` because you already prepared the statement one line above that line check http://stackoverflow.com/a/29912419/3841803","body":"remove the parameter from <code>preparedStatement1.executeQuery(sql);</code> because you already prepared the statement one line above that line check <a href=\"http://stackoverflow.com/a/29912419/3841803\">stackoverflow.com/a/29912419/3841803</a>"}],"answers":[{"tags":[],"owner":{"account_id":5526036,"reputation":1859,"user_id":4387470,"display_name":"Sanjay Singh Rawat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1445329509,"creation_date":1445329509,"answer_id":33231606,"question_id":33230952,"body_markdown":"write \r\n\r\n    ResultSet rs = preparedStatement1.executeQuery();\r\n\r\ninstead of\r\n\r\n    ResultSet rs = preparedStatement1.executeQuery(sql);\r\n","title":"Issue with question mark in jdbc PreparedStatement","body":"<p>write </p>\n\n<pre><code>ResultSet rs = preparedStatement1.executeQuery();\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>ResultSet rs = preparedStatement1.executeQuery(sql);\n</code></pre>\n"}],"owner":{"account_id":7152334,"reputation":45,"user_id":5465921,"display_name":"achillin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3016,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1670666438,"accepted_answer_id":33231606,"answer_count":1,"score":4,"last_activity_date":1670536950,"creation_date":1445327432,"question_id":33230952,"body_markdown":"I&#39;ve gone through the internet back and forth and found no solution to my problem.\r\nI am trying to use parameter binding with jdbc for querying a mysql table, but it keeps reporting syntax error for the question mark in my statement. \r\n\r\nHere is my class:\r\n\r\n        package todoList_;\r\n\r\n        import java.sql.Connection;\r\n        import java.sql.DriverManager;\r\n        import java.sql.PreparedStatement;\r\n        import java.sql.ResultSet;\r\n        import java.sql.SQLException;\r\n        import java.sql.Statement;\r\n        import java.util.HashMap;\r\n\r\n        public class testBinding {\r\n\r\n        \t// JDBC driver name and database URL\r\n        \tstatic final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n        \tstatic final String DB_URL = &quot;jdbc:mysql://localhost/TODO?useJvmCharsetConverters=true&quot;;\r\n\r\n        \t// Database credentials\r\n\t        static final String USER = &quot;root&quot;;\r\n\t        static final String PASS = &quot;root&quot;;\r\n\r\n        \tpublic static void main(String args[]) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\tConnection conn = null;\r\n        \t\tStatement stmt = null;\r\n        \t\tHashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\r\n\t\ttry {\r\n\t\t\t// STEP 2: Register JDBC driver\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n\t\t\t// STEP 3: Open a connection\r\n\t\t\tSystem.out.println(&quot;Connecting to database...&quot;);\r\n\t\t\tconn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n\r\n\t\t\t// STEP 4: Execute a query\r\n\t\t\tSystem.out.println(&quot;Creating statement...&quot;);\r\n\t\t\tstmt = conn.createStatement();\r\n\t\t\tString sql;\r\n\t\t\tsql = &quot;select * from todos where `id` = ?&quot;;\r\n\t\t\tPreparedStatement preparedStatement1 = conn.prepareStatement(sql);\r\n\t\t\tpreparedStatement1.setInt(1, 0);\r\n\t\t\tResultSet rs = preparedStatement1.executeQuery(sql);\r\n\r\n\t\t\t// STEP 5: Extract data from result set\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\t// Retrieve by column name\r\n\t\t\t\tlist.put(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;));\r\n\t\t\t}\r\n\t\t\t// STEP 6: Clean-up environment\r\n\t\t\trs.close();\r\n\t\t\tstmt.close();\r\n\t\t\tconn.close();\r\n\t\t} catch (SQLException se) {\r\n\t\t\t// Handle errors for JDBC\r\n\t\t\tse.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Handle errors for Class.forName\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\t// finally block used to close resources\r\n\t\t\ttry {\r\n\t\t\t\tif (stmt != null)\r\n\t\t\t\t\tstmt.close();\r\n\t\t\t} catch (SQLException se2) {\r\n\t\t\t} // nothing we can do\r\n\t\t\ttry {\r\n\t\t\t\tif (conn != null)\r\n\t\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException se) {\r\n\t\t\t\tse.printStackTrace();\r\n\t\t\t} // end finally try\r\n\t\t} // end try\r\n\t}\r\n    }\r\n\r\nAnd here is my Log:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;?&#39; at line 1\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3609)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3541)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2002)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2163)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2618)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2568)\r\n    \tat com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1557)\r\n    \tat todoList_.testBinding.main(testBinding.java:41)\r\n\r\nI am using mysql-connector-java-5.1.18-bin.jar, that I have copied to WebContent/WEB-INF/lib and added to the Build Path of the project.\r\nI use Eclipse.\r\n\r\nCould you please advise?","title":"Issue with question mark in jdbc PreparedStatement","body":"<p>I've gone through the internet back and forth and found no solution to my problem.\nI am trying to use parameter binding with jdbc for querying a mysql table, but it keeps reporting syntax error for the question mark in my statement.</p>\n<p>Here is my class:</p>\n<pre><code>    package todoList_;\n\n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.PreparedStatement;\n    import java.sql.ResultSet;\n    import java.sql.SQLException;\n    import java.sql.Statement;\n    import java.util.HashMap;\n\n    public class testBinding {\n\n        // JDBC driver name and database URL\n        static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\n        static final String DB_URL = &quot;jdbc:mysql://localhost/TODO?useJvmCharsetConverters=true&quot;;\n\n        // Database credentials\n        static final String USER = &quot;root&quot;;\n        static final String PASS = &quot;root&quot;;\n\n        public static void main(String args[]) {\n            // TODO Auto-generated method stub\n            Connection conn = null;\n            Statement stmt = null;\n            HashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\n    try {\n        // STEP 2: Register JDBC driver\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n\n        // STEP 3: Open a connection\n        System.out.println(&quot;Connecting to database...&quot;);\n        conn = DriverManager.getConnection(DB_URL, USER, PASS);\n\n        // STEP 4: Execute a query\n        System.out.println(&quot;Creating statement...&quot;);\n        stmt = conn.createStatement();\n        String sql;\n        sql = &quot;select * from todos where `id` = ?&quot;;\n        PreparedStatement preparedStatement1 = conn.prepareStatement(sql);\n        preparedStatement1.setInt(1, 0);\n        ResultSet rs = preparedStatement1.executeQuery(sql);\n\n        // STEP 5: Extract data from result set\n        while (rs.next()) {\n            // Retrieve by column name\n            list.put(rs.getInt(&quot;id&quot;), rs.getString(&quot;name&quot;));\n        }\n        // STEP 6: Clean-up environment\n        rs.close();\n        stmt.close();\n        conn.close();\n    } catch (SQLException se) {\n        // Handle errors for JDBC\n        se.printStackTrace();\n    } catch (Exception e) {\n        // Handle errors for Class.forName\n        e.printStackTrace();\n    } finally {\n        // finally block used to close resources\n        try {\n            if (stmt != null)\n                stmt.close();\n        } catch (SQLException se2) {\n        } // nothing we can do\n        try {\n            if (conn != null)\n                conn.close();\n        } catch (SQLException se) {\n            se.printStackTrace();\n        } // end finally try\n    } // end try\n}\n}\n</code></pre>\n<p>And here is my Log:</p>\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '?' at line 1\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1052)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3609)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3541)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2002)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2163)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2618)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2568)\n    at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1557)\n    at todoList_.testBinding.main(testBinding.java:41)\n</code></pre>\n<p>I am using mysql-connector-java-5.1.18-bin.jar, that I have copied to WebContent/WEB-INF/lib and added to the Build Path of the project.\nI use Eclipse.</p>\n<p>Could you please advise?</p>\n"},{"tags":["java","json","serialization"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":1,"creation_date":1648095331,"post_id":71596915,"comment_id":126539056,"body_markdown":"Nope not the same in any way.  Think about it - when the map is serialized - the &quot;key&quot; and the &quot;value&quot; need to be serialized (because a map can have ANY key/value mapping [or the right types].  When the ClassA is serialized - only the values needs to be serialized because java knows there&#39;s a b property and a c property - it&#39;s not any random things.","body":"Nope not the same in any way.  Think about it - when the map is serialized - the &quot;key&quot; and the &quot;value&quot; need to be serialized (because a map can have ANY key/value mapping [or the right types].  When the ClassA is serialized - only the values needs to be serialized because java knows there&#39;s a b property and a c property - it&#39;s not any random things."},{"owner":{"account_id":15494779,"reputation":1291,"user_id":12824504,"display_name":"haoyu wang"},"score":0,"creation_date":1648096362,"post_id":71596915,"comment_id":126539188,"body_markdown":"I mean serialized to json. With jackson or gson.","body":"I mean serialized to json. With jackson or gson."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1648096882,"post_id":71596915,"comment_id":126539274,"body_markdown":"Even if represented the same way - deserializing won&#39;t give both ways back unless you force it to (how does jackson know you need a ClassB for &quot;b&quot; unless you tell it somehow...)??","body":"Even if represented the same way - deserializing won&#39;t give both ways back unless you force it to (how does jackson know you need a ClassB for &quot;b&quot; unless you tell it somehow...)??"},{"owner":{"account_id":15494779,"reputation":1291,"user_id":12824504,"display_name":"haoyu wang"},"score":0,"creation_date":1648105692,"post_id":71596915,"comment_id":126541004,"body_markdown":"I don&#39;t care about deserialization. I&#39;am just asking are they same after serialization.","body":"I don&#39;t care about deserialization. I&#39;am just asking are they same after serialization."}],"answers":[{"tags":[],"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670536718,"creation_date":1670536718,"answer_id":74736788,"question_id":71596915,"body_markdown":"If I understood you question correctly, you ask if `JsonSerialisation(objectA)` is equal to `JsonSerialisation(map)`\r\n\r\nIf so, and if you use the same serialization config, yes they will be always the same from a json perspective. Meaning that the order of the properties can be different but it will still be the same json.\r\n\r\nAn example of a return can be : \r\n\r\n    {\r\n        &quot;b&quot;: &quot;jsonRepresentationOfObjectB&quot;,\r\n        &quot;c&quot;: &quot;jsonRepresentationOfObjectC&quot;\r\n    }\r\n\r\nor \r\n\r\n    {\r\n        &quot;c&quot;: &quot;jsonRepresentationOfObjectC&quot;,\r\n        &quot;b&quot;: &quot;jsonRepresentationOfObjectB&quot;\r\n    }\r\n\r\nThese 2 results are considered the equal.","title":"Is there any difference between Map&lt;String,Object&gt; and Java object after json serialization?","body":"<p>If I understood you question correctly, you ask if <code>JsonSerialisation(objectA)</code> is equal to <code>JsonSerialisation(map)</code></p>\n<p>If so, and if you use the same serialization config, yes they will be always the same from a json perspective. Meaning that the order of the properties can be different but it will still be the same json.</p>\n<p>An example of a return can be :</p>\n<pre><code>{\n    &quot;b&quot;: &quot;jsonRepresentationOfObjectB&quot;,\n    &quot;c&quot;: &quot;jsonRepresentationOfObjectC&quot;\n}\n</code></pre>\n<p>or</p>\n<pre><code>{\n    &quot;c&quot;: &quot;jsonRepresentationOfObjectC&quot;,\n    &quot;b&quot;: &quot;jsonRepresentationOfObjectB&quot;\n}\n</code></pre>\n<p>These 2 results are considered the equal.</p>\n"}],"owner":{"account_id":15494779,"reputation":1291,"user_id":12824504,"display_name":"haoyu wang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670536718,"creation_date":1648094335,"question_id":71596915,"body_markdown":"Suppose I have an object and a map. The map has the same key-value pair as the property of the Object. I wander after json serialization, are they same?  I have write some test and the result is they are same, but I&#39;m not sure if all the cases are same.\r\n\r\nGenerally they have the following pattern.\r\n```\r\nClass ClassA{\r\n   ClassB b;\r\n   ClassC c;\r\n}\r\n\r\nMap&lt;String,Object&gt; map=new HashMap();\r\nmap.put(&quot;b&quot;,objectB);\r\nmap.put(&quot;c&quot;,objectC);\r\n```","title":"Is there any difference between Map&lt;String,Object&gt; and Java object after json serialization?","body":"<p>Suppose I have an object and a map. The map has the same key-value pair as the property of the Object. I wander after json serialization, are they same?  I have write some test and the result is they are same, but I'm not sure if all the cases are same.</p>\n<p>Generally they have the following pattern.</p>\n<pre><code>Class ClassA{\n   ClassB b;\n   ClassC c;\n}\n\nMap&lt;String,Object&gt; map=new HashMap();\nmap.put(&quot;b&quot;,objectB);\nmap.put(&quot;c&quot;,objectC);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1670533224,"post_id":74736223,"comment_id":131902831,"body_markdown":"What do you mean by core? Its a  module of the microservices? An external jar?","body":"What do you mean by core? Its a  module of the microservices? An external jar?"},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1670533350,"post_id":74736223,"comment_id":131902853,"body_markdown":"@Pp88 It&#39;s a separate folder just like we have microservices folders inside a project.","body":"@Pp88 It&#39;s a separate folder just like we have microservices folders inside a project."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1670534279,"post_id":74736223,"comment_id":131903081,"body_markdown":"How are you linking the properties files to the classpath? Arent you using maven or gradle?","body":"How are you linking the properties files to the classpath? Arent you using maven or gradle?"},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1670535078,"post_id":74736223,"comment_id":131903318,"body_markdown":"@Pp88 Yes, I am using maven","body":"@Pp88 Yes, I am using maven"}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670536598,"creation_date":1670536598,"answer_id":74736771,"question_id":74736223,"body_markdown":"You have to change one of the two file name and the micorservice module must depend on core module. Then you can add in `application-dev.yml or application-uat.yml` of the microservice module\r\n\r\n    spring:\r\n      config:\r\n        import: classpath:core-dev.yml","title":"Why yml files inside microservice are not able to read values from yml files of core?","body":"<p>You have to change one of the two file name and the micorservice module must depend on core module. Then you can add in <code>application-dev.yml or application-uat.yml</code> of the microservice module</p>\n<pre><code>spring:\n  config:\n    import: classpath:core-dev.yml\n</code></pre>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670536598,"creation_date":1670532876,"question_id":74736223,"body_markdown":"I have `core` like this:\r\n\r\n    application-dev.yml\r\n    \r\n    app:\r\n      region: east\r\n    \r\n    \r\n    application-uat.uml\r\n    \r\n    app:\r\n      region: south\r\n\r\n\r\nThen I have a microservice with following yml files\r\n\r\n    application-dev.yml\r\n\r\n    direct:\r\n      url:  http://test-${app.region}.com\r\n\r\n \r\n    application-uat.yml\r\n\r\n    direct:\r\n      url:  http://test-${app.region}.com\r\n\r\nI believe, my spring application should be able to read values from core but it&#39;s not reading values from core. What am I doing wrong here?","title":"Why yml files inside microservice are not able to read values from yml files of core?","body":"<p>I have <code>core</code> like this:</p>\n<pre><code>application-dev.yml\n\napp:\n  region: east\n\n\napplication-uat.uml\n\napp:\n  region: south\n</code></pre>\n<p>Then I have a microservice with following yml files</p>\n<pre><code>application-dev.yml\n\ndirect:\n  url:  http://test-${app.region}.com\n\n\napplication-uat.yml\n\ndirect:\n  url:  http://test-${app.region}.com\n</code></pre>\n<p>I believe, my spring application should be able to read values from core but it's not reading values from core. What am I doing wrong here?</p>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":10885240,"reputation":113,"user_id":8002968,"display_name":"Berat Rahmani"},"score":0,"creation_date":1670538112,"post_id":74736146,"comment_id":131904013,"body_markdown":"Hi, what are the database and the version used?","body":"Hi, what are the database and the version used?"}],"answers":[{"tags":[],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670536564,"creation_date":1670536564,"answer_id":74736766,"question_id":74736146,"body_markdown":"I Solved this by putting the mapping relation inside the embedded key \r\n\r\n     public BlockAttributeID(Block block, String attribute) {\r\n        this.block = block;\r\n        this.attribute = attribute;\r\n    }\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;block_id&quot;)\r\n    Block block;\r\n\r\n    String attribute;\r\n\r\n    public BlockAttributeID() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof BlockAttributeID)) return false;\r\n        return block != null &amp;&amp; attribute != null &amp;&amp; block.equals(((BlockAttributeID) o).getBlock()) &amp;&amp; attribute.equals(((BlockAttributeID) o).getAttribute());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n\r\nAnd then setting ID manually as it was not getting generated own its own.\r\n\r\n\r\n        blockAttribute.setBlockAttributeID(new BlockAttributeID(block, completeBlockDTO.getBlockAttributeDTO().getAttribute()));\r\n\r\nReferenced the same author tutorial for the same.\r\nhttps://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/","title":"Null id generated Error with Embedded Primary keys","body":"<p>I Solved this by putting the mapping relation inside the embedded key</p>\n<pre><code> public BlockAttributeID(Block block, String attribute) {\n    this.block = block;\n    this.attribute = attribute;\n}\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JsonIgnore\n@JoinColumn(name = &quot;block_id&quot;)\nBlock block;\n\nString attribute;\n\npublic BlockAttributeID() {\n\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof BlockAttributeID)) return false;\n    return block != null &amp;&amp; attribute != null &amp;&amp; block.equals(((BlockAttributeID) o).getBlock()) &amp;&amp; attribute.equals(((BlockAttributeID) o).getAttribute());\n}\n\n@Override\npublic int hashCode() {\n    return getClass().hashCode();\n}\n</code></pre>\n<p>And then setting ID manually as it was not getting generated own its own.</p>\n<pre><code>    blockAttribute.setBlockAttributeID(new BlockAttributeID(block, completeBlockDTO.getBlockAttributeDTO().getAttribute()));\n</code></pre>\n<p>Referenced the same author tutorial for the same.\n<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-composite-primary-key-with-jpa-and-hibernate/</a></p>\n"}],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670536564,"creation_date":1670532330,"question_id":74736146,"body_markdown":"My Data Model involves below Entity\r\n1.\r\n```\r\n    @Embeddable\r\n    @Data\r\n    public class BlockAttributeID implements Serializable {\r\n\r\n    @Column(name = &quot;block_id&quot;)\r\n    Long blockID;\r\n\r\n    String attribute;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof BlockAttributeID)) return false;\r\n        return blockID != null &amp;&amp; attribute != null &amp;&amp; blockID.equals(((BlockAttributeID) o).getBlockID()) &amp;&amp; attribute.equals(((BlockAttributeID) o).getAttribute());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n\r\n}\r\n```\r\n\r\n2.\r\n\r\n  ``` \r\n   @Data\r\n   @Table(name = &quot;block_attribute&quot;)\r\n   @Entity\r\n   public class BlockAttribute {\r\n\r\n    @EmbeddedId\r\n    BlockAttributeID blockAttributeID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;block_id&quot;)\r\n    Block block;\r\n\r\n    String label;\r\n\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    Type type;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    Unit unit;\r\n\r\n    String value;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof BlockAttribute)) return false;\r\n        return blockAttributeID != null &amp;&amp; blockAttributeID.equals(((BlockAttribute) o).getBlockAttributeID());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n\r\n}\r\n```\r\n\r\n3. \r\n```\r\n@Table(name = &quot;block&quot;)\r\n@Entity\r\n@Data\r\npublic class Block {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;native&quot;)\r\n    @Column(name = &quot;block_id&quot;)\r\n    Long blockID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;site_id&quot;)\r\n    @JsonIgnore\r\n    Site site;\r\n\r\n    String name;\r\n\r\n    @Column(name = &quot;external_reference&quot;)\r\n    String externalReference;\r\n\r\n    @Column(name = &quot;block_type&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    BlockType blockType;\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;valid_from&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    LocalDateTime validFrom;\r\n\r\n    @Column(name = &quot;valid_to&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    LocalDateTime validTo;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    BlockStatus status;\r\n\r\n    @Column(name = &quot;source_reference_system&quot;)\r\n    Integer sourceReferenceSystem;\r\n\r\n    @OneToMany(mappedBy = &quot;block&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    Set&lt;BlockAttribute&gt; blockAttributes = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;block&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    Set&lt;BlockBoundary&gt; blockBoundaries = new HashSet&lt;&gt;();\r\n\r\n    public void addBlockAttributes(BlockAttribute blockAttribute) {\r\n        blockAttributes = this.getBlockAttributes();\r\n        blockAttributes.add(blockAttribute);\r\n        this.setBlockAttributes(blockAttributes);\r\n    }\r\n\r\n    public void addBlockBoundaries(BlockBoundary blockBoundary) {\r\n        blockBoundaries = this.getBlockBoundaries();\r\n        blockBoundaries.add(blockBoundary);\r\n        this.setBlockBoundaries(blockBoundaries);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow I was going through https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n\r\nthis tutorial and tried to replicate it with my code but the I keep on getting null id generated for:class BlockAttribute\r\n\r\nusing this logic to save\r\n\r\n        block = blockRepository.save(block);\r\n        blockAttribute.setBlock(block);\r\n        blockBoundary.setBlock(block);\r\n        blockAttributeRepository.save(blockAttribute);\r\n        blockBoundaryRepository.save(blockBoundary);\r\n\r\nMy thinking is that unless blockRepository save is not called blockId is not generated and it causes ID null error, but i am saving it before then using it any help would be appreciated","title":"Null id generated Error with Embedded Primary keys","body":"<p>My Data Model involves below Entity\n1.</p>\n<pre><code>    @Embeddable\n    @Data\n    public class BlockAttributeID implements Serializable {\n\n    @Column(name = &quot;block_id&quot;)\n    Long blockID;\n\n    String attribute;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof BlockAttributeID)) return false;\n        return blockID != null &amp;&amp; attribute != null &amp;&amp; blockID.equals(((BlockAttributeID) o).getBlockID()) &amp;&amp; attribute.equals(((BlockAttributeID) o).getAttribute());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code> @Data\n @Table(name = &quot;block_attribute&quot;)\n @Entity\n public class BlockAttribute {\n\n  @EmbeddedId\n  BlockAttributeID blockAttributeID;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JsonIgnore\n  @JoinColumn(name = &quot;block_id&quot;)\n  Block block;\n\n  String label;\n\n\n  @Enumerated(EnumType.STRING)\n  Type type;\n\n  @Enumerated(EnumType.STRING)\n  Unit unit;\n\n  String value;\n\n  @Override\n  public boolean equals(Object o) {\n      if (this == o) return true;\n      if (!(o instanceof BlockAttribute)) return false;\n      return blockAttributeID != null &amp;&amp; blockAttributeID.equals(((BlockAttribute) o).getBlockAttributeID());\n  }\n\n  @Override\n  public int hashCode() {\n      return getClass().hashCode();\n  }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre><code>@Table(name = &quot;block&quot;)\n@Entity\n@Data\npublic class Block {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;native&quot;)\n    @Column(name = &quot;block_id&quot;)\n    Long blockID;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;site_id&quot;)\n    @JsonIgnore\n    Site site;\n\n    String name;\n\n    @Column(name = &quot;external_reference&quot;)\n    String externalReference;\n\n    @Column(name = &quot;block_type&quot;)\n    @Enumerated(EnumType.STRING)\n    BlockType blockType;\n\n    @Column(name = &quot;created_at&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    LocalDateTime createdAt;\n\n    @Column(name = &quot;valid_from&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    LocalDateTime validFrom;\n\n    @Column(name = &quot;valid_to&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    LocalDateTime validTo;\n\n    @Column(name = &quot;status&quot;)\n    @Enumerated(EnumType.STRING)\n    BlockStatus status;\n\n    @Column(name = &quot;source_reference_system&quot;)\n    Integer sourceReferenceSystem;\n\n    @OneToMany(mappedBy = &quot;block&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    Set&lt;BlockAttribute&gt; blockAttributes = new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;block&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    Set&lt;BlockBoundary&gt; blockBoundaries = new HashSet&lt;&gt;();\n\n    public void addBlockAttributes(BlockAttribute blockAttribute) {\n        blockAttributes = this.getBlockAttributes();\n        blockAttributes.add(blockAttribute);\n        this.setBlockAttributes(blockAttributes);\n    }\n\n    public void addBlockBoundaries(BlockBoundary blockBoundary) {\n        blockBoundaries = this.getBlockBoundaries();\n        blockBoundaries.add(blockBoundary);\n        this.setBlockBoundaries(blockBoundaries);\n    }\n\n}\n</code></pre>\n<p>Now I was going through <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></p>\n<p>this tutorial and tried to replicate it with my code but the I keep on getting null id generated for:class BlockAttribute</p>\n<p>using this logic to save</p>\n<pre><code>    block = blockRepository.save(block);\n    blockAttribute.setBlock(block);\n    blockBoundary.setBlock(block);\n    blockAttributeRepository.save(blockAttribute);\n    blockBoundaryRepository.save(blockBoundary);\n</code></pre>\n<p>My thinking is that unless blockRepository save is not called blockId is not generated and it causes ID null error, but i am saving it before then using it any help would be appreciated</p>\n"},{"tags":["java","json","gson","httpclient"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1670516955,"creation_date":1670516955,"answer_id":74733413,"question_id":74733348,"body_markdown":"Your Objects class is not ok. url must not be static.\r\n\r\nThis is the correct version:\r\n\r\n    public class Objects {\r\n            private  String url;\r\n    \r\n            public String getUrl() {\r\n                return url;\r\n            }\r\n    \r\n            public void setUrl(String url) {\r\n                this.url = url;\r\n            }\r\n        }\r\n\r\n","title":"Gson deserializes JSON property as null for static field","body":"<p>Your Objects class is not ok. url must not be static.</p>\n<p>This is the correct version:</p>\n<pre><code>public class Objects {\n        private  String url;\n\n        public String getUrl() {\n            return url;\n        }\n\n        public void setUrl(String url) {\n            this.url = url;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74733413,"answer_count":1,"score":-1,"last_activity_date":1670536223,"creation_date":1670516711,"question_id":74733348,"body_markdown":"I am trying to get hdurl from this json:\r\n\r\n    {\r\n      &quot;date&quot;: &quot;2022-12-08&quot;,\r\n      &quot;explanation&quot;: &quot;A camera on board the uncrewed Orion spacecraft captured this view on December 5 as Orion approached its return powered flyby of the Moon.  Below one of Orion&#39;s extended solar arrays lies dark, smooth, terrain along the western edge of the Oceanus Procellarum. Prominent on the lunar nearside Oceanus Procellarum, the Ocean of Storms, is the largest of the Moon&#39;s lava-flooded maria. The lunar terminator, shadow line between lunar night and day, runs along the left of the frame. The 41 kilometer diameter crater Marius is top center, with ray crater Kepler peeking in at the edge, just right of the solar array wing. Kepler&#39;s bright rays extend to the north and west, reaching the dark-floored Marius. Of course the Orion spacecraft is now headed toward a December 11 splashdown in planet Earth&#39;s water-flooded Pacific Ocean.&quot;,\r\n      &quot;hdurl&quot;: &quot;https://apod.nasa.gov/apod/image/2212/art001e002132.jpg&quot;,\r\n      &quot;media_type&quot;: &quot;image&quot;,\r\n      &quot;service_version&quot;: &quot;v1&quot;,\r\n      &quot;title&quot;: &quot;Orion and the Ocean of Storms&quot;,\r\n      &quot;url&quot;: &quot;https://apod.nasa.gov/apod/image/2212/art001e002132_apod1024.jpg&quot;\r\n    }\r\n\r\nMy code is:\r\n\r\n\r\n```\r\npackage space;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpRequest.BodyPublisher;\r\nimport java.net.http.HttpRequest.BodyPublishers;\r\nimport java.net.http.HttpResponse.BodyHandler;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.nio.file.Paths;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\n\r\npublic class Output {\r\n\r\n    public static void main(String input) throws IOException, InterruptedException, URISyntaxException {\r\n        if (input == &quot;news&quot;) {\r\n                HttpClient client = HttpClient.newHttpClient();\r\n                HttpRequest getRequest;\r\n                getRequest = HttpRequest.newBuilder()\r\n                    .uri(new URI(&quot;https://api.nasa.gov/planetary/apod?api_key=vtBLyZ1ON5hZybof2EfuXHWgdcNAXh9DdZrZAOvK&quot;)) //Demo key, (replace later)\r\n                    .build();\r\n                    HttpResponse&lt;String&gt; response = client.send(getRequest, BodyHandlers.ofString());\r\n            System.out.println(response.body());\r\n            Objects ojkn = new Objects();\r\n            Gson gson = new Gson();\r\n            ojkn = gson.fromJson(response.body(),Objects.class);\r\n            String result = ojkn.geturl();\r\n            System.out.println(result);\r\n            \r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAnd here is my Objects file:\r\n\r\n\r\n```\r\npackage space;\r\n\r\npublic class Objects {\r\n    private static String url;\r\n\r\n    public static String geturl() {\r\n        return url;\r\n    }\r\n    public void sethdurl(String url) {\r\n        Objects.url=url;\r\n    }\r\n    public Object get(String string) {\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nMy code is supposed to tell me the complete json, then I am wanting to get just the link, url , but what I get out is null for the link. \r\n","title":"Gson deserializes JSON property as null for static field","body":"<p>I am trying to get hdurl from this json:</p>\n<pre><code>{\n  &quot;date&quot;: &quot;2022-12-08&quot;,\n  &quot;explanation&quot;: &quot;A camera on board the uncrewed Orion spacecraft captured this view on December 5 as Orion approached its return powered flyby of the Moon.  Below one of Orion's extended solar arrays lies dark, smooth, terrain along the western edge of the Oceanus Procellarum. Prominent on the lunar nearside Oceanus Procellarum, the Ocean of Storms, is the largest of the Moon's lava-flooded maria. The lunar terminator, shadow line between lunar night and day, runs along the left of the frame. The 41 kilometer diameter crater Marius is top center, with ray crater Kepler peeking in at the edge, just right of the solar array wing. Kepler's bright rays extend to the north and west, reaching the dark-floored Marius. Of course the Orion spacecraft is now headed toward a December 11 splashdown in planet Earth's water-flooded Pacific Ocean.&quot;,\n  &quot;hdurl&quot;: &quot;https://apod.nasa.gov/apod/image/2212/art001e002132.jpg&quot;,\n  &quot;media_type&quot;: &quot;image&quot;,\n  &quot;service_version&quot;: &quot;v1&quot;,\n  &quot;title&quot;: &quot;Orion and the Ocean of Storms&quot;,\n  &quot;url&quot;: &quot;https://apod.nasa.gov/apod/image/2212/art001e002132_apod1024.jpg&quot;\n}\n</code></pre>\n<p>My code is:</p>\n<pre><code>package space;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpRequest.BodyPublisher;\nimport java.net.http.HttpRequest.BodyPublishers;\nimport java.net.http.HttpResponse.BodyHandler;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.nio.file.Paths;\n\nimport com.google.gson.Gson;\n\nimport java.net.http.HttpResponse.BodyHandlers;\n\npublic class Output {\n\n    public static void main(String input) throws IOException, InterruptedException, URISyntaxException {\n        if (input == &quot;news&quot;) {\n                HttpClient client = HttpClient.newHttpClient();\n                HttpRequest getRequest;\n                getRequest = HttpRequest.newBuilder()\n                    .uri(new URI(&quot;https://api.nasa.gov/planetary/apod?api_key=vtBLyZ1ON5hZybof2EfuXHWgdcNAXh9DdZrZAOvK&quot;)) //Demo key, (replace later)\n                    .build();\n                    HttpResponse&lt;String&gt; response = client.send(getRequest, BodyHandlers.ofString());\n            System.out.println(response.body());\n            Objects ojkn = new Objects();\n            Gson gson = new Gson();\n            ojkn = gson.fromJson(response.body(),Objects.class);\n            String result = ojkn.geturl();\n            System.out.println(result);\n            \n\n\n        }\n    }\n}\n\n</code></pre>\n<p>And here is my Objects file:</p>\n<pre><code>package space;\n\npublic class Objects {\n    private static String url;\n\n    public static String geturl() {\n        return url;\n    }\n    public void sethdurl(String url) {\n        Objects.url=url;\n    }\n    public Object get(String string) {\n        return null;\n    }\n\n}\n\n</code></pre>\n<p>My code is supposed to tell me the complete json, then I am wanting to get just the link, url , but what I get out is null for the link.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":4,"creation_date":1670531584,"post_id":74735749,"comment_id":131902369,"body_markdown":"Streams are lazy, i.e. The line `list.stream().sorted(comp);` is never excuted since it doesn&#39;t have a terminal operation to complete a stream. In generall an intermediate Stream doesn&#39;t do anything. If you add a terminal operation like `collect()`, `count()`, `forEach()` ... you will see the same behavior and will throw a NPE.","body":"Streams are lazy, i.e. The line <code>list.stream().sorted(comp);</code> is never excuted since it doesn&#39;t have a terminal operation to complete a stream. In generall an intermediate Stream doesn&#39;t do anything. If you add a terminal operation like <code>collect()</code>, <code>count()</code>, <code>forEach()</code> ... you will see the same behavior and will throw a NPE."},{"owner":{"account_id":3010059,"reputation":1749,"user_id":5134102,"accept_rate":94,"display_name":"Jesus Zavarce"},"score":0,"creation_date":1670534652,"post_id":74735749,"comment_id":131903191,"body_markdown":"Oh yes, i forgot that is necessary a terminal operation to complete a stream. I confirm, i executed for example `list.stream().sorted(comp).collect(Collectors.toList())` and i got a  NPE.","body":"Oh yes, i forgot that is necessary a terminal operation to complete a stream. I confirm, i executed for example <code>list.stream().sorted(comp).collect(Collectors.toList())</code> and i got a  NPE."}],"answers":[{"tags":[],"owner":{"account_id":3010059,"reputation":1749,"user_id":5134102,"accept_rate":94,"display_name":"Jesus Zavarce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670536050,"creation_date":1670536050,"answer_id":74736680,"question_id":74735749,"body_markdown":"The  [java 8 API][1] says about stream: \r\n\r\n&gt; Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.\r\n\r\n   \r\n\r\nStream.sorted is an intermediate operation that return a new stream and stream are always lazy. If a terminal operation, such as Stream.forEach or Stream.Collect is executed, the stream pipeline will be consumed and the same behavior (NullPointerException) will be observed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Why Stream.sorted method doesn&#39;t throw NullPointerException as List.sort method when given null values?","body":"<p>The  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">java 8 API</a> says about stream:</p>\n<blockquote>\n<p>Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.</p>\n</blockquote>\n<p>Stream.sorted is an intermediate operation that return a new stream and stream are always lazy. If a terminal operation, such as Stream.forEach or Stream.Collect is executed, the stream pipeline will be consumed and the same behavior (NullPointerException) will be observed.</p>\n"}],"owner":{"account_id":3010059,"reputation":1749,"user_id":5134102,"accept_rate":94,"display_name":"Jesus Zavarce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670536444,"answer_count":1,"score":1,"last_activity_date":1670536050,"creation_date":1670530046,"question_id":74735749,"body_markdown":"    public class ToSort {\r\n        private String sortBy;\r\n\r\n        public ToSort(String sortBy) {\r\n            this.sortBy = sortBy;\r\n        }\r\n        public String getSortBy() {\r\n            return sortBy;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Comparator&lt;ToSort&gt; comp = Comparator.comparing(ToSort::getSortBy);\r\n\r\n            ToSort o1 = new ToSort(&quot;TEST&quot;);\r\n            ToSort o2 = new ToSort(null);\r\n\r\n            List list = new ArrayList&lt;&gt;();\r\n            list.add(o1);\r\n            list.add(o2);\r\n\r\n            list.stream().sorted(comp); // ok\r\n            list.sort(comp); // NullPointerException\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n    \tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n    \tat java.base/java.util.TimSort.sort(TimSort.java:220)\r\n    \tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n    \tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n    \tat com.oxand.simeox.model.pojo.ToSort.main(ToSort.java:28)\r\n\r\nWhy Stream.sorted method doesn&#39;t throw NullPointerException as List.sort method when given null values and using the same comparator?","title":"Why Stream.sorted method doesn&#39;t throw NullPointerException as List.sort method when given null values?","body":"<pre><code>public class ToSort {\n    private String sortBy;\n\n    public ToSort(String sortBy) {\n        this.sortBy = sortBy;\n    }\n    public String getSortBy() {\n        return sortBy;\n    }\n\n    public static void main(String[] args) {\n        Comparator&lt;ToSort&gt; comp = Comparator.comparing(ToSort::getSortBy);\n\n        ToSort o1 = new ToSort(&quot;TEST&quot;);\n        ToSort o2 = new ToSort(null);\n\n        List list = new ArrayList&lt;&gt;();\n        list.add(o1);\n        list.add(o2);\n\n        list.stream().sorted(comp); // ok\n        list.sort(comp); // NullPointerException\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.base/java.util.TimSort.sort(TimSort.java:220)\n    at java.base/java.util.Arrays.sort(Arrays.java:1515)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1750)\n    at com.oxand.simeox.model.pojo.ToSort.main(ToSort.java:28)\n</code></pre>\n<p>Why Stream.sorted method doesn't throw NullPointerException as List.sort method when given null values and using the same comparator?</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1670532680,"post_id":74736179,"comment_id":131902702,"body_markdown":"For one - **don&#39;t scan the file twice**.","body":"For one - <b>don&#39;t scan the file twice</b>."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1670532908,"post_id":74736179,"comment_id":131902763,"body_markdown":"Do you have some actual example input?","body":"Do you have some actual example input?"},{"owner":{"account_id":27194206,"reputation":3,"user_id":20727378,"display_name":"ROY ALAMEH"},"score":0,"creation_date":1670590217,"post_id":74736179,"comment_id":131914803,"body_markdown":"Sure: for example: {{RGBC}, {RGBC}, {RGBC}, {RGBC}} : Despite all R&#39;s, G&#39;s, B&#39;s, and C&#39;s being adjacent vertically, swapping R with G and B with C in the second and fourth rows yields a minimum of four moves.","body":"Sure: for example: {{RGBC}, {RGBC}, {RGBC}, {RGBC}} : Despite all R&#39;s, G&#39;s, B&#39;s, and C&#39;s being adjacent vertically, swapping R with G and B with C in the second and fourth rows yields a minimum of four moves."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670535858,"creation_date":1670535858,"answer_id":74736658,"question_id":74736179,"body_markdown":"**Improving the algorithm**\r\n\r\nA breadth-first search would yield, as first result, an optimal solution. It could still be slow on larger problems where the solution is deeper in; or in the worst case, when there is no solution at all. \r\n\r\nYour current algorithm looks like backtracking, which is depth-first, and therefore you need to look at all possible solutions before being sure you have found the shortest one. This is very wasteful. \r\n\r\n**Improving the data representation**\r\n\r\nYou have 6 colors in a 15x15 grid. You are currently storing up to 15x15=225 strings, and constantly copying that `String[][]` over. It would be a lot more efficient to use a single `byte[]` (of length dim x dim), which can be copied over faster. Use integers (1, 2, ...) instead of color-chars (&quot;R&quot;, &quot;Y&quot;, ...). With a single dimension you have to do some math to check for adjacency, but it is nothing too fancy; and you win a lot of memory locality.\r\n     \r\n","title":"How to make algorithm more efficient?","body":"<p><strong>Improving the algorithm</strong></p>\n<p>A breadth-first search would yield, as first result, an optimal solution. It could still be slow on larger problems where the solution is deeper in; or in the worst case, when there is no solution at all.</p>\n<p>Your current algorithm looks like backtracking, which is depth-first, and therefore you need to look at all possible solutions before being sure you have found the shortest one. This is very wasteful.</p>\n<p><strong>Improving the data representation</strong></p>\n<p>You have 6 colors in a 15x15 grid. You are currently storing up to 15x15=225 strings, and constantly copying that <code>String[][]</code> over. It would be a lot more efficient to use a single <code>byte[]</code> (of length dim x dim), which can be copied over faster. Use integers (1, 2, ...) instead of color-chars (&quot;R&quot;, &quot;Y&quot;, ...). With a single dimension you have to do some math to check for adjacency, but it is nothing too fancy; and you win a lot of memory locality.</p>\n"}],"owner":{"account_id":27194206,"reputation":3,"user_id":20727378,"display_name":"ROY ALAMEH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1670666262,"accepted_answer_id":74736658,"answer_count":1,"score":-2,"last_activity_date":1670535858,"creation_date":1670532519,"question_id":74736179,"body_markdown":"**DISCLAIMER** This problem is part of a COMPLETED competition and will not be reused\r\n\r\nI was hoping someone could create and explain a solution efficient enough to run file sizes at most 15 x 15 tiles. Below is the problem:\r\n\r\n*****************************************************\r\nTiled Floor (40 points)\r\nSam recently hired a tile installer to tile a kitchen floor. The floor was supposed to be very colorful with no two\r\nadjacent tiles having the same color. Unfortunately, the installer failed to ensure adjacent tiles have different\r\ncolors. The mortar is still wet, but it is difficult to lift just one tile at a time, so the installer is limited to swapping\r\nadjacent tiles. The question is how to exchange adjacent tiles in as few moves as possible so that the floor meets\r\nthe criteria that no two adjacent tiles have the same color.\r\nA sample input is\r\nRGR\r\nRPC\r\nGRB\r\nYPG\r\nRepresenting the tiles on a three by four floor where R is a red tile, G is green, B is blue, C is cyan, P is purple, and\r\nY is yellow. In general, the input will be a series of lines of R, G, B, C, P, and Y. Each line will have the same length\r\nand **there will be a maximum of 15 lines with 15 characters in each line**. The output is to be an integer\r\nrepresenting the number of swaps of adjacent tiles. For this problem, adjacent means touching and in the same\r\nrow or column; for example, the only two tiles are adjacent to the yellow tile in the lower left corner of the above\r\nfloor: the green tile at the start of the third row and the purple tile in the middle of the fourth row.\r\nThe output for the above floor will be\r\n2\r\nsince the red tile at the start of row 2 can be swapped with the green tile at the start of row three, and then the\r\nred tile in middle of row 3 can be swapped with the blue tile at the end. This gives the arrangement\r\nRGR\r\nGPC\r\nRBR\r\nYPG\r\nOther fixes are possible such as exchanging the first two tiles on row 2 to get PRC and then exchanging the middle\r\ntiles in rows 3 and 4. Your program does not print the resulting floor arrangement, just the minimum number of\r\ntile swaps that must take place. **Sometimes it is not possible to fix a floor:**\r\nGGYGP\r\nCGGRG\r\nThis isnt possible to tile because there are 6 Gs and a floor this size can fit only 5 without two being adjacent. In\r\ncases where there is no solution, the output is to be\r\nnot possible\r\n**********************************************\r\n\r\n\r\nI have created a solution but it works only for approximately 16 tiles (4 x 4), any more takes an enormous amount of time. This is because of the recursive and naive nature of this function, for every call it calls itself at least 4 times.\r\n\r\n\r\n\r\nBelow is my attempted solution, keep in mind that there are extra methods from previous attempts and that minimumSwaps() is the main recursive method: \r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\nclass Main {\r\n  private static ArrayList&lt;String[][]&gt; solutions = new ArrayList&lt;String[][]&gt;();\r\n  private static ArrayList&lt;Integer&gt; moves = new ArrayList&lt;Integer&gt;();\r\n  private static int min = Integer.MAX_VALUE;\r\n  \r\n  \r\n  public static void main(String[] args) throws Exception {\r\n    File file = new File(&quot;Tiles.txt&quot;);\r\n    Scanner scan = new Scanner(file);\r\n    Scanner scan1 = new Scanner(file);\r\n    int length = 0;\r\n    while (scan1.hasNextLine()) {\r\n      scan1.nextLine();\r\n      length++;\r\n    } \r\n    String[][] tiles = new String[length][];\r\n    for (int i = 0; i &lt; length; i++) {\r\n      String line = scan.nextLine();\r\n      tiles[i] = new String[line.length()];\r\n      for (int l = 0; l &lt; tiles[i].length; l++) {\r\n        tiles[i][l] = line.substring(l, l + 1);\r\n      }\r\n    }\r\n\r\n    System.out.println(&quot;Start&quot;);\r\n\r\n    minimumSwaps(tiles, 0, new ArrayList&lt;String&gt;());\r\n    \r\n\r\n    //System.out.println(Arrays.toString(findCount(tiles)));\r\n    //findSolutions(new String[tiles.length][tiles[0].length], findCount(tiles), 0, 0);\r\n    //System.out.println(solutions.size());\r\n    System.out.println(min);\r\n    //display();\r\n\r\n    \r\n  }\r\n\r\n  //tilesIDs: more efficient way to check if computer has seen previous situation\r\n\r\n  //how to know if there are moves that do not involve problem areas that reduces total number of moves?\r\n\r\n  public static void minimumSwaps (String[][] tiles, int moves, ArrayList&lt;String&gt; tilesIDs) {\r\n    if (moves &lt; min) {\r\n      String newID = computeID(tiles);\r\n      if (linearSearch(tilesIDs, newID)) return;\r\n      tilesIDs.add(newID);\r\n      if (solved(tiles)) {\r\n        //Main.moves.add(moves);\r\n        if (moves &lt; min) min = moves;\r\n        //solutions.add(cloneTiles(tiles));\r\n      }\r\n      else if (moves &lt; min - 1) {\r\n        for (int i = 0; i &lt; tiles.length; i++) {\r\n          for (int l = 0; l &lt; tiles[i].length; l++) {\r\n            if (adjacentPresent(tiles, tiles[i][l], i, l)) {\r\n              try {\r\n                String[][] newTiles = cloneTiles(tiles);\r\n                String current = newTiles[i][l];\r\n                newTiles[i][l] = newTiles[i][l - 1];\r\n                newTiles[i][l - 1] = current;\r\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\r\n              }  \r\n              catch (Exception e) {}\r\n              try {\r\n                String[][] newTiles = cloneTiles(tiles);\r\n                String current = newTiles[i][l];\r\n                newTiles[i][l] = newTiles[i][l + 1];\r\n                newTiles[i][l + 1] = current;\r\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\r\n              }\r\n              catch (Exception e) {}\r\n              try {\r\n                String[][] newTiles = cloneTiles(tiles);\r\n                String current = newTiles[i][l];\r\n                newTiles[i][l] = newTiles[i - 1][l];\r\n                newTiles[i - 1][l] = current;\r\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\r\n              }\r\n              catch (Exception e) {}\r\n              try {\r\n                String[][] newTiles = cloneTiles(tiles);\r\n                String current = newTiles[i][l];\r\n                newTiles[i][l] = newTiles[i + 1][l];\r\n                newTiles[i + 1][l] = current;\r\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\r\n              }\r\n              catch (Exception e) {}\r\n            }\r\n          }  \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static boolean linearSearch(ArrayList&lt;String&gt; IDs, String newID) {\r\n    for (String ID : IDs) if (ID.equals(newID)) return true;\r\n    return false;\r\n  }\r\n\r\n  public static String computeID(String[][] tiles) {\r\n    String ID = &quot;&quot;;\r\n    for (String[] letters : tiles) {\r\n      for (String letter : letters) {\r\n        ID += letter;\r\n      }\r\n    }\r\n    return ID;\r\n  }\r\n\r\n  public static String[][] cloneTiles(String[][] tiles) {\r\n    String[][] newTiles = new String[tiles.length][tiles[0].length];\r\n    for (int i = 0; i &lt; tiles.length; i++) {\r\n      newTiles[i] = tiles[i].clone();\r\n    }\r\n    return newTiles;\r\n  }\r\n\r\n  public static boolean solved(String[][] tiles) {\r\n    for (int i = 0; i &lt; tiles.length; i++) {\r\n      for (int l = 0; l &lt; tiles[i].length; l++) {\r\n        if (adjacentPresent(tiles, tiles[i][l], i, l)) return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public static int minMoves() {\r\n    int min = Integer.MAX_VALUE;\r\n    for (int num : moves) if (num &lt; min) min = num;\r\n    return min;\r\n  }\r\n\r\n  public static void findSolutions(String[][] tiles, int[] count, int i, int l) {\r\n\r\n    String[] colors = {&quot;R&quot;, &quot;G&quot;, &quot;B&quot;, &quot;C&quot;, &quot;P&quot;, &quot;Y&quot;};\r\n    for (int z = 0; z &lt; 6; z++) {\r\n      //System.out.println(&quot;testing&quot;);\r\n      if (!adjacentPresent(tiles, colors[z], i, l) &amp;&amp; count[z] &gt; 0) {\r\n        String[][] newTiles = new String[tiles.length][tiles[0].length];\r\n        for (int a = 0; a &lt; newTiles.length; a++) {\r\n          for (int b = 0; b &lt; newTiles[0].length; b++) {\r\n            newTiles[a][b] = tiles[a][b]; // clone does not work properly?\r\n          }\r\n        }\r\n        newTiles[i][l] = colors[z];\r\n        //System.out.println(Arrays.deepToString(newTiles));\r\n        int[] newCount = count.clone();\r\n        newCount[z]--;\r\n        if (l == tiles[0].length - 1 &amp;&amp; i != tiles.length - 1) {\r\n          findSolutions(newTiles, newCount, i + 1, 0);\r\n        }\r\n        else if (l &lt; tiles[0].length - 1) {\r\n          findSolutions(newTiles, newCount, i, l + 1);\r\n        }\r\n        else if (l == tiles[0].length - 1 &amp;&amp; i == tiles.length - 1) {\r\n          solutions.add(newTiles);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static boolean adjacentPresent(String[][] tiles, String color, int i, int l) {\r\n    try {\r\n      if (tiles[i][l + 1].equals(color)) return true;\r\n    }\r\n    catch (Exception e) {}\r\n    try {\r\n      if (tiles[i][l - 1].equals(color)) return true;\r\n    }\r\n    catch (Exception e) {}\r\n    try {\r\n      if (tiles[i + 1][l].equals(color)) return true;\r\n    }\r\n    catch (Exception e) {}\r\n    try {\r\n      if (tiles[i - 1][l].equals(color)) return true;\r\n    }\r\n    catch (Exception e) {}\r\n\r\n    return false;\r\n  }\r\n\r\n  public static int[] findCount(String[][] tiles) {\r\n    int[] count = new int[6];\r\n    for (String[] line : tiles) {\r\n      for (String letter : line) {\r\n        switch (letter) {\r\n          case &quot;R&quot;: count[0]++;\r\n          break;\r\n          case &quot;G&quot;: count[1]++;\r\n          break;\r\n          case &quot;B&quot;: count[2]++;\r\n          break;\r\n          case &quot;C&quot;: count[3]++;\r\n          break;\r\n          case &quot;P&quot;: count[4]++;\r\n          break;\r\n          case &quot;Y&quot;: count[5]++;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return count;\r\n  } \r\n\r\n  public static void display() {\r\n    for (String[][] lines : solutions) {\r\n      for (String[] line : lines) {\r\n        for (String letter : line) {\r\n          System.out.print(letter);\r\n        }\r\n        System.out.println();\r\n      }\r\n      System.out.println(&quot;\\n\\n&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"How to make algorithm more efficient?","body":"<p><strong>DISCLAIMER</strong> This problem is part of a COMPLETED competition and will not be reused</p>\n<p>I was hoping someone could create and explain a solution efficient enough to run file sizes at most 15 x 15 tiles. Below is the problem:</p>\n<hr />\n<p>Tiled Floor (40 points)\nSam recently hired a tile installer to tile a kitchen floor. The floor was supposed to be very colorful with no two\nadjacent tiles having the same color. Unfortunately, the installer failed to ensure adjacent tiles have different\ncolors. The mortar is still wet, but it is difficult to lift just one tile at a time, so the installer is limited to swapping\nadjacent tiles. The question is how to exchange adjacent tiles in as few moves as possible so that the floor meets\nthe criteria that no two adjacent tiles have the same color.\nA sample input is\nRGR\nRPC\nGRB\nYPG\nRepresenting the tiles on a three by four floor where R is a red tile, G is green, B is blue, C is cyan, P is purple, and\nY is yellow. In general, the input will be a series of lines of R, G, B, C, P, and Y. Each line will have the same length\nand <strong>there will be a maximum of 15 lines with 15 characters in each line</strong>. The output is to be an integer\nrepresenting the number of swaps of adjacent tiles. For this problem, adjacent means touching and in the same\nrow or column; for example, the only two tiles are adjacent to the yellow tile in the lower left corner of the above\nfloor: the green tile at the start of the third row and the purple tile in the middle of the fourth row.\nThe output for the above floor will be\n2\nsince the red tile at the start of row 2 can be swapped with the green tile at the start of row three, and then the\nred tile in middle of row 3 can be swapped with the blue tile at the end. This gives the arrangement\nRGR\nGPC\nRBR\nYPG\nOther fixes are possible such as exchanging the first two tiles on row 2 to get PRC and then exchanging the middle\ntiles in rows 3 and 4. Your program does not print the resulting floor arrangement, just the minimum number of\ntile swaps that must take place. <strong>Sometimes it is not possible to fix a floor:</strong>\nGGYGP\nCGGRG\nThis isnt possible to tile because there are 6 Gs and a floor this size can fit only 5 without two being adjacent. In\ncases where there is no solution, the output is to be\nnot possible</p>\n<hr />\n<p>I have created a solution but it works only for approximately 16 tiles (4 x 4), any more takes an enormous amount of time. This is because of the recursive and naive nature of this function, for every call it calls itself at least 4 times.</p>\n<p>Below is my attempted solution, keep in mind that there are extra methods from previous attempts and that minimumSwaps() is the main recursive method:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass Main {\n  private static ArrayList&lt;String[][]&gt; solutions = new ArrayList&lt;String[][]&gt;();\n  private static ArrayList&lt;Integer&gt; moves = new ArrayList&lt;Integer&gt;();\n  private static int min = Integer.MAX_VALUE;\n  \n  \n  public static void main(String[] args) throws Exception {\n    File file = new File(&quot;Tiles.txt&quot;);\n    Scanner scan = new Scanner(file);\n    Scanner scan1 = new Scanner(file);\n    int length = 0;\n    while (scan1.hasNextLine()) {\n      scan1.nextLine();\n      length++;\n    } \n    String[][] tiles = new String[length][];\n    for (int i = 0; i &lt; length; i++) {\n      String line = scan.nextLine();\n      tiles[i] = new String[line.length()];\n      for (int l = 0; l &lt; tiles[i].length; l++) {\n        tiles[i][l] = line.substring(l, l + 1);\n      }\n    }\n\n    System.out.println(&quot;Start&quot;);\n\n    minimumSwaps(tiles, 0, new ArrayList&lt;String&gt;());\n    \n\n    //System.out.println(Arrays.toString(findCount(tiles)));\n    //findSolutions(new String[tiles.length][tiles[0].length], findCount(tiles), 0, 0);\n    //System.out.println(solutions.size());\n    System.out.println(min);\n    //display();\n\n    \n  }\n\n  //tilesIDs: more efficient way to check if computer has seen previous situation\n\n  //how to know if there are moves that do not involve problem areas that reduces total number of moves?\n\n  public static void minimumSwaps (String[][] tiles, int moves, ArrayList&lt;String&gt; tilesIDs) {\n    if (moves &lt; min) {\n      String newID = computeID(tiles);\n      if (linearSearch(tilesIDs, newID)) return;\n      tilesIDs.add(newID);\n      if (solved(tiles)) {\n        //Main.moves.add(moves);\n        if (moves &lt; min) min = moves;\n        //solutions.add(cloneTiles(tiles));\n      }\n      else if (moves &lt; min - 1) {\n        for (int i = 0; i &lt; tiles.length; i++) {\n          for (int l = 0; l &lt; tiles[i].length; l++) {\n            if (adjacentPresent(tiles, tiles[i][l], i, l)) {\n              try {\n                String[][] newTiles = cloneTiles(tiles);\n                String current = newTiles[i][l];\n                newTiles[i][l] = newTiles[i][l - 1];\n                newTiles[i][l - 1] = current;\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\n              }  \n              catch (Exception e) {}\n              try {\n                String[][] newTiles = cloneTiles(tiles);\n                String current = newTiles[i][l];\n                newTiles[i][l] = newTiles[i][l + 1];\n                newTiles[i][l + 1] = current;\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\n              }\n              catch (Exception e) {}\n              try {\n                String[][] newTiles = cloneTiles(tiles);\n                String current = newTiles[i][l];\n                newTiles[i][l] = newTiles[i - 1][l];\n                newTiles[i - 1][l] = current;\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\n              }\n              catch (Exception e) {}\n              try {\n                String[][] newTiles = cloneTiles(tiles);\n                String current = newTiles[i][l];\n                newTiles[i][l] = newTiles[i + 1][l];\n                newTiles[i + 1][l] = current;\n                minimumSwaps(newTiles, moves + 1, (ArrayList&lt;String&gt;)(tilesIDs.clone()));\n              }\n              catch (Exception e) {}\n            }\n          }  \n        }\n      }\n    }\n  }\n\n  public static boolean linearSearch(ArrayList&lt;String&gt; IDs, String newID) {\n    for (String ID : IDs) if (ID.equals(newID)) return true;\n    return false;\n  }\n\n  public static String computeID(String[][] tiles) {\n    String ID = &quot;&quot;;\n    for (String[] letters : tiles) {\n      for (String letter : letters) {\n        ID += letter;\n      }\n    }\n    return ID;\n  }\n\n  public static String[][] cloneTiles(String[][] tiles) {\n    String[][] newTiles = new String[tiles.length][tiles[0].length];\n    for (int i = 0; i &lt; tiles.length; i++) {\n      newTiles[i] = tiles[i].clone();\n    }\n    return newTiles;\n  }\n\n  public static boolean solved(String[][] tiles) {\n    for (int i = 0; i &lt; tiles.length; i++) {\n      for (int l = 0; l &lt; tiles[i].length; l++) {\n        if (adjacentPresent(tiles, tiles[i][l], i, l)) return false;\n      }\n    }\n    return true;\n  }\n\n  public static int minMoves() {\n    int min = Integer.MAX_VALUE;\n    for (int num : moves) if (num &lt; min) min = num;\n    return min;\n  }\n\n  public static void findSolutions(String[][] tiles, int[] count, int i, int l) {\n\n    String[] colors = {&quot;R&quot;, &quot;G&quot;, &quot;B&quot;, &quot;C&quot;, &quot;P&quot;, &quot;Y&quot;};\n    for (int z = 0; z &lt; 6; z++) {\n      //System.out.println(&quot;testing&quot;);\n      if (!adjacentPresent(tiles, colors[z], i, l) &amp;&amp; count[z] &gt; 0) {\n        String[][] newTiles = new String[tiles.length][tiles[0].length];\n        for (int a = 0; a &lt; newTiles.length; a++) {\n          for (int b = 0; b &lt; newTiles[0].length; b++) {\n            newTiles[a][b] = tiles[a][b]; // clone does not work properly?\n          }\n        }\n        newTiles[i][l] = colors[z];\n        //System.out.println(Arrays.deepToString(newTiles));\n        int[] newCount = count.clone();\n        newCount[z]--;\n        if (l == tiles[0].length - 1 &amp;&amp; i != tiles.length - 1) {\n          findSolutions(newTiles, newCount, i + 1, 0);\n        }\n        else if (l &lt; tiles[0].length - 1) {\n          findSolutions(newTiles, newCount, i, l + 1);\n        }\n        else if (l == tiles[0].length - 1 &amp;&amp; i == tiles.length - 1) {\n          solutions.add(newTiles);\n        }\n      }\n    }\n  }\n\n  public static boolean adjacentPresent(String[][] tiles, String color, int i, int l) {\n    try {\n      if (tiles[i][l + 1].equals(color)) return true;\n    }\n    catch (Exception e) {}\n    try {\n      if (tiles[i][l - 1].equals(color)) return true;\n    }\n    catch (Exception e) {}\n    try {\n      if (tiles[i + 1][l].equals(color)) return true;\n    }\n    catch (Exception e) {}\n    try {\n      if (tiles[i - 1][l].equals(color)) return true;\n    }\n    catch (Exception e) {}\n\n    return false;\n  }\n\n  public static int[] findCount(String[][] tiles) {\n    int[] count = new int[6];\n    for (String[] line : tiles) {\n      for (String letter : line) {\n        switch (letter) {\n          case &quot;R&quot;: count[0]++;\n          break;\n          case &quot;G&quot;: count[1]++;\n          break;\n          case &quot;B&quot;: count[2]++;\n          break;\n          case &quot;C&quot;: count[3]++;\n          break;\n          case &quot;P&quot;: count[4]++;\n          break;\n          case &quot;Y&quot;: count[5]++;\n          break;\n        }\n      }\n    }\n    return count;\n  } \n\n  public static void display() {\n    for (String[][] lines : solutions) {\n      for (String[] line : lines) {\n        for (String letter : line) {\n          System.out.print(letter);\n        }\n        System.out.println();\n      }\n      System.out.println(&quot;\\n\\n&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","hash","md5","hashcode"],"comments":[{"owner":{"account_id":21466,"reputation":13649,"user_id":52176,"accept_rate":71,"display_name":"Leif Gruenwoldt"},"score":2,"creation_date":1347048467,"post_id":415953,"comment_id":16541129,"body_markdown":"http://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java","body":"<a href=\"http://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java\" title=\"getting a files md5 checksum in java\">stackoverflow.com/questions/304268/&hellip;</a>"},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":46,"creation_date":1423238227,"post_id":415953,"comment_id":45080069,"body_markdown":"MD5 might be unsafe as a one-way security feature, but it is still good for generic checksum applications.","body":"MD5 might be unsafe as a one-way security feature, but it is still good for generic checksum applications."}],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":13,"up_vote_count":659,"is_accepted":true,"score":646,"last_activity_date":1566612868,"creation_date":1231235272,"answer_id":415956,"question_id":415953,"body_markdown":"You need [`java.security.MessageDigest`][1].\r\n\r\nCall [`MessageDigest.getInstance(&quot;MD5&quot;)`][2] to get a MD5 instance of `MessageDigest` you can use.\r\n\r\nThe compute the hash by doing one of:\r\n\r\n - Feed the entire input as a `byte[]` and calculate the hash in one operation with [`md.digest(bytes)`][5].\r\n - Feed the `MessageDigest` one `byte[]` chunk at a time by calling [`md.update(bytes)`][3]. When you&#39;re done adding input bytes, calculate the hash with \r\n[`md.digest()`][4].\r\n\r\nThe `byte[]` returned by `md.digest()` is the MD5 hash.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#getInstance(java.lang.String)\r\n  [3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#update(byte%5B%5D)\r\n  [4]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#digest()\r\n  [5]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#digest(byte%5B%5D)","title":"How can I generate an MD5 hash in Java?","body":"<p>You need <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html\" rel=\"noreferrer\"><code>java.security.MessageDigest</code></a>.</p>\n\n<p>Call <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#getInstance(java.lang.String)\" rel=\"noreferrer\"><code>MessageDigest.getInstance(\"MD5\")</code></a> to get a MD5 instance of <code>MessageDigest</code> you can use.</p>\n\n<p>The compute the hash by doing one of:</p>\n\n<ul>\n<li>Feed the entire input as a <code>byte[]</code> and calculate the hash in one operation with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#digest(byte%5B%5D)\" rel=\"noreferrer\"><code>md.digest(bytes)</code></a>.</li>\n<li>Feed the <code>MessageDigest</code> one <code>byte[]</code> chunk at a time by calling <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#update(byte%5B%5D)\" rel=\"noreferrer\"><code>md.update(bytes)</code></a>. When you're done adding input bytes, calculate the hash with \n<a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/MessageDigest.html#digest()\" rel=\"noreferrer\"><code>md.digest()</code></a>.</li>\n</ul>\n\n<p>The <code>byte[]</code> returned by <code>md.digest()</code> is the MD5 hash.</p>\n"},{"tags":[],"owner":{"account_id":3924,"reputation":10074,"user_id":5752,"accept_rate":80,"display_name":"koregan"},"down_vote_count":2,"up_vote_count":730,"is_accepted":false,"score":728,"last_activity_date":1634069246,"creation_date":1231235887,"answer_id":415971,"question_id":415953,"body_markdown":"The `MessageDigest` class can provide you with an instance of the MD5 digest.\r\n\r\nWhen working with strings and the crypto classes be sure to **always** specify the encoding you want the byte representation in. If you just use `string.getBytes()` it will use the platform default. (Not all platforms use the same defaults)\r\n\r\n\r\n    import java.security.*;\r\n    \r\n    ..\r\n    \r\n    byte[] bytesOfMessage = yourString.getBytes(&quot;UTF-8&quot;);\r\n    \r\n    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    byte[] theMD5digest = md.digest(bytesOfMessage);\r\n\r\n\r\n\r\nIf you have a lot of data take a look at the `.update(xxx)` methods which can be called repeatedly. Then call `.digest()` to obtain the resulting hash.","title":"How can I generate an MD5 hash in Java?","body":"<p>The <code>MessageDigest</code> class can provide you with an instance of the MD5 digest.</p>\n<p>When working with strings and the crypto classes be sure to <strong>always</strong> specify the encoding you want the byte representation in. If you just use <code>string.getBytes()</code> it will use the platform default. (Not all platforms use the same defaults)</p>\n<pre><code>import java.security.*;\n\n..\n\nbyte[] bytesOfMessage = yourString.getBytes(&quot;UTF-8&quot;);\n\nMessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\nbyte[] theMD5digest = md.digest(bytesOfMessage);\n</code></pre>\n<p>If you have a lot of data take a look at the <code>.update(xxx)</code> methods which can be called repeatedly. Then call <code>.digest()</code> to obtain the resulting hash.</p>\n"},{"tags":[],"owner":{"account_id":18489,"reputation":13958,"user_id":42404,"accept_rate":50,"display_name":"frankodwyer"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1231237025,"creation_date":1231236479,"answer_id":415999,"question_id":415953,"body_markdown":"Bombe&#39;s answer is correct, however note that unless you absolutely must use MD5 (e.g. forced on you for interoperability), a better choice is SHA1 as MD5 has weaknesses for long term use.\r\n\r\nI should add that SHA1 also has theoretical vulnerabilities, but not as severe. The current state of the art in hashing is that there are a number of candidate replacement hash functions but none have yet emerged as the standard best practice to replace SHA1. So, depending on your needs you would be well advised to make your hash algorithm configurable so it can be replaced in future.","title":"How can I generate an MD5 hash in Java?","body":"<p>Bombe's answer is correct, however note that unless you absolutely must use MD5 (e.g. forced on you for interoperability), a better choice is SHA1 as MD5 has weaknesses for long term use.</p>\n\n<p>I should add that SHA1 also has theoretical vulnerabilities, but not as severe. The current state of the art in hashing is that there are a number of candidate replacement hash functions but none have yet emerged as the standard best practice to replace SHA1. So, depending on your needs you would be well advised to make your hash algorithm configurable so it can be replaced in future.</p>\n"},{"tags":[],"owner":{"account_id":21419,"reputation":4927,"user_id":52055,"display_name":"lutzh"},"down_vote_count":1,"up_vote_count":266,"is_accepted":false,"score":265,"last_activity_date":1398693447,"creation_date":1231253514,"answer_id":416829,"question_id":415953,"body_markdown":"You might also want to look at the [DigestUtils][1] class of the apache [commons codec][2] project, which provides very convenient methods to create MD5 or SHA digests.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-codec/archives/1.9/apidocs/org/apache/commons/codec/digest/DigestUtils.html &quot;DigestUtils&quot;\r\n  [2]: http://commons.apache.org/codec/","title":"How can I generate an MD5 hash in Java?","body":"<p>You might also want to look at the <a href=\"http://commons.apache.org/proper/commons-codec/archives/1.9/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"noreferrer\" title=\"DigestUtils\">DigestUtils</a> class of the apache <a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">commons codec</a> project, which provides very convenient methods to create MD5 or SHA digests.</p>\n"},{"tags":[],"owner":{"account_id":20763,"reputation":3028,"user_id":49913,"display_name":"user49913"},"down_vote_count":7,"up_vote_count":284,"is_accepted":false,"score":277,"last_activity_date":1384792380,"creation_date":1231356027,"answer_id":421696,"question_id":415953,"body_markdown":"If you actually want the answer back as a string as opposed to a byte array, you could always do something like this:\r\n\r\n    String plaintext = &quot;your text here&quot;;\r\n    MessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    m.reset();\r\n    m.update(plaintext.getBytes());\r\n    byte[] digest = m.digest();\r\n    BigInteger bigInt = new BigInteger(1,digest);\r\n    String hashtext = bigInt.toString(16);\r\n    // Now we need to zero pad it if you actually want the full 32 chars.\r\n    while(hashtext.length() &lt; 32 ){\r\n      hashtext = &quot;0&quot;+hashtext;\r\n    }","title":"How can I generate an MD5 hash in Java?","body":"<p>If you actually want the answer back as a string as opposed to a byte array, you could always do something like this:</p>\n\n<pre><code>String plaintext = \"your text here\";\nMessageDigest m = MessageDigest.getInstance(\"MD5\");\nm.reset();\nm.update(plaintext.getBytes());\nbyte[] digest = m.digest();\nBigInteger bigInt = new BigInteger(1,digest);\nString hashtext = bigInt.toString(16);\n// Now we need to zero pad it if you actually want the full 32 chars.\nwhile(hashtext.length() &lt; 32 ){\n  hashtext = \"0\"+hashtext;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Mike"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1231404143,"creation_date":1231404143,"answer_id":423601,"question_id":415953,"body_markdown":"MD5 is perfectly fine if you don&#39;t need the best security, and if you&#39;re doing something like checking file integrity then security is not a consideration.  In such as case you might want to consider something simpler and faster, such as Adler32, which is also supported by the Java libraries.","title":"How can I generate an MD5 hash in Java?","body":"<p>MD5 is perfectly fine if you don't need the best security, and if you're doing something like checking file integrity then security is not a consideration.  In such as case you might want to consider something simpler and faster, such as Adler32, which is also supported by the Java libraries.</p>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1330505376,"creation_date":1285928885,"answer_id":3838348,"question_id":415953,"body_markdown":"Here is how I use it:\r\n\r\n\tfinal MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\tmessageDigest.reset();\r\n\tmessageDigest.update(string.getBytes(Charset.forName(&quot;UTF8&quot;)));\r\n\tfinal byte[] resultByte = messageDigest.digest();\r\n\tfinal String result = new String(Hex.encodeHex(resultByte));\r\n\r\nwhere Hex is: `org.apache.commons.codec.binary.Hex` from the [Apache Commons project][1].\r\n\r\n\r\n  [1]: http://commons.apache.org/","title":"How can I generate an MD5 hash in Java?","body":"<p>Here is how I use it:</p>\n\n<pre><code>final MessageDigest messageDigest = MessageDigest.getInstance(\"MD5\");\nmessageDigest.reset();\nmessageDigest.update(string.getBytes(Charset.forName(\"UTF8\")));\nfinal byte[] resultByte = messageDigest.digest();\nfinal String result = new String(Hex.encodeHex(resultByte));\n</code></pre>\n\n<p>where Hex is: <code>org.apache.commons.codec.binary.Hex</code> from the <a href=\"http://commons.apache.org/\" rel=\"noreferrer\">Apache Commons project</a>.</p>\n"},{"tags":[],"owner":{"account_id":50862,"reputation":2265,"user_id":151813,"accept_rate":86,"display_name":"Lukasz R."},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1300281390,"creation_date":1300281390,"answer_id":5325848,"question_id":415953,"body_markdown":"Another implementation: [Fast MD5 Implementation in Java][1]\r\n\r\n    String hash = MD5.asHex(MD5.getHash(new File(filename)));\r\n\r\n\r\n\r\n  [1]: http://www.twmacinta.com/myjava/fast_md5.php","title":"How can I generate an MD5 hash in Java?","body":"<p>Another implementation: <a href=\"http://www.twmacinta.com/myjava/fast_md5.php\" rel=\"noreferrer\">Fast MD5 Implementation in Java</a></p>\n\n<pre><code>String hash = MD5.asHex(MD5.getHash(new File(filename)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438779,"reputation":3541,"user_id":827272,"accept_rate":30,"display_name":"dac2009"},"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1309727493,"creation_date":1309727493,"answer_id":6565597,"question_id":415953,"body_markdown":"Found this:\r\n\r\n    public String MD5(String md5) {\r\n       try {\r\n            java.security.MessageDigest md = java.security.MessageDigest.getInstance(&quot;MD5&quot;);\r\n            byte[] array = md.digest(md5.getBytes());\r\n            StringBuffer sb = new StringBuffer();\r\n            for (int i = 0; i &lt; array.length; ++i) {\r\n              sb.append(Integer.toHexString((array[i] &amp; 0xFF) | 0x100).substring(1,3));\r\n           }\r\n            return sb.toString();\r\n        } catch (java.security.NoSuchAlgorithmException e) {\r\n        }\r\n        return null;\r\n    }\r\n\r\non the site below, I take no credit for it, but its a solution that works!\r\nFor me lots of other code didnt work properly, I ended up missing 0s in the hash.\r\nThis one seems to be the same as PHP has.\r\nsource: http://m2tec.be/blog/2010/02/03/java-md5-hex-0093","title":"How can I generate an MD5 hash in Java?","body":"<p>Found this:</p>\n\n<pre><code>public String MD5(String md5) {\n   try {\n        java.security.MessageDigest md = java.security.MessageDigest.getInstance(\"MD5\");\n        byte[] array = md.digest(md5.getBytes());\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i &lt; array.length; ++i) {\n          sb.append(Integer.toHexString((array[i] &amp; 0xFF) | 0x100).substring(1,3));\n       }\n        return sb.toString();\n    } catch (java.security.NoSuchAlgorithmException e) {\n    }\n    return null;\n}\n</code></pre>\n\n<p>on the site below, I take no credit for it, but its a solution that works!\nFor me lots of other code didnt work properly, I ended up missing 0s in the hash.\nThis one seems to be the same as PHP has.\nsource: <a href=\"http://m2tec.be/blog/2010/02/03/java-md5-hex-0093\">http://m2tec.be/blog/2010/02/03/java-md5-hex-0093</a></p>\n"},{"tags":[],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1374481220,"creation_date":1312066316,"answer_id":6886447,"question_id":415953,"body_markdown":"I just downloaded [commons-codec.jar][1] and got perfect php like md5. Here is [manual][2].\r\n\r\nJust import it to your project and use\r\n\r\n    String Url = &quot;your_url&quot;;\r\n    \r\n    System.out.println( DigestUtils.md5Hex( Url ) );\r\n\r\nand there you have it.\r\n\r\n\r\n  [1]: http://archive.apache.org/dist/commons/codec/binaries/\r\n  [2]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html","title":"How can I generate an MD5 hash in Java?","body":"<p>I just downloaded <a href=\"http://archive.apache.org/dist/commons/codec/binaries/\" rel=\"noreferrer\">commons-codec.jar</a> and got perfect php like md5. Here is <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"noreferrer\">manual</a>.</p>\n\n<p>Just import it to your project and use</p>\n\n<pre><code>String Url = \"your_url\";\n\nSystem.out.println( DigestUtils.md5Hex( Url ) );\n</code></pre>\n\n<p>and there you have it.</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1334683148,"creation_date":1334683148,"answer_id":10195927,"question_id":415953,"body_markdown":"My not very revealing answer:\r\n\r\n\tprivate String md5(String s) {\r\n\t\ttry {\r\n\t\t\tMessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t\tm.update(s.getBytes(), 0, s.length());\r\n\t\t\tBigInteger i = new BigInteger(1,m.digest());\r\n\t\t\treturn String.format(&quot;%1$032x&quot;, i);\t\t\t\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"How can I generate an MD5 hash in Java?","body":"<p>My not very revealing answer:</p>\n\n<pre><code>private String md5(String s) {\n    try {\n        MessageDigest m = MessageDigest.getInstance(\"MD5\");\n        m.update(s.getBytes(), 0, s.length());\n        BigInteger i = new BigInteger(1,m.digest());\n        return String.format(\"%1$032x\", i);         \n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243497,"reputation":4612,"user_id":604383,"accept_rate":81,"display_name":"Heshan Perera"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1359624097,"creation_date":1336641482,"answer_id":10530959,"question_id":415953,"body_markdown":"Found this solution which is much cleaner in terms of getting a String representation back from an MD5 hash.\r\n\r\n    import java.security.*;\r\n    import java.math.*;\r\n\r\n    public class MD5 {\r\n        public static void main(String args[]) throws Exception{\r\n            String s=&quot;This is a test&quot;;\r\n            MessageDigest m=MessageDigest.getInstance(&quot;MD5&quot;);\r\n            m.update(s.getBytes(),0,s.length());\r\n            System.out.println(&quot;MD5: &quot;+new BigInteger(1,m.digest()).toString(16));\r\n        }\r\n    }\r\n\r\nThe code was extracted from [here][1].\r\n\r\n\r\n  [1]: http://dzone.com/snippets/get-md5-hash-few-lines-java","title":"How can I generate an MD5 hash in Java?","body":"<p>Found this solution which is much cleaner in terms of getting a String representation back from an MD5 hash.</p>\n\n<pre><code>import java.security.*;\nimport java.math.*;\n\npublic class MD5 {\n    public static void main(String args[]) throws Exception{\n        String s=\"This is a test\";\n        MessageDigest m=MessageDigest.getInstance(\"MD5\");\n        m.update(s.getBytes(),0,s.length());\n        System.out.println(\"MD5: \"+new BigInteger(1,m.digest()).toString(16));\n    }\n}\n</code></pre>\n\n<p>The code was extracted from <a href=\"http://dzone.com/snippets/get-md5-hash-few-lines-java\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1597818,"reputation":7,"user_id":1479496,"display_name":"jokillsya"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1340618974,"creation_date":1340616283,"answer_id":11186592,"question_id":415953,"body_markdown":"I did this... Seems to work ok - I&#39;m sure somebody will point out mistakes though...\r\n\r\n    public final class MD5 {\r\n\tpublic enum SaltOption {\r\n\t\tBEFORE, AFTER, BOTH, NONE;\r\n\t}\r\n\tprivate static final String ALG = &quot;MD5&quot;;\r\n\t//For conversion to 2-char hex\r\n    private static final char[] digits = {\r\n        &#39;0&#39; , &#39;1&#39; , &#39;2&#39; , &#39;3&#39; , &#39;4&#39; , &#39;5&#39; ,\r\n        &#39;6&#39; , &#39;7&#39; , &#39;8&#39; , &#39;9&#39; , &#39;a&#39; , &#39;b&#39; ,\r\n        &#39;c&#39; , &#39;d&#39; , &#39;e&#39; , &#39;f&#39; , &#39;g&#39; , &#39;h&#39; ,\r\n        &#39;i&#39; , &#39;j&#39; , &#39;k&#39; , &#39;l&#39; , &#39;m&#39; , &#39;n&#39; ,\r\n        &#39;o&#39; , &#39;p&#39; , &#39;q&#39; , &#39;r&#39; , &#39;s&#39; , &#39;t&#39; ,\r\n        &#39;u&#39; , &#39;v&#39; , &#39;w&#39; , &#39;x&#39; , &#39;y&#39; , &#39;z&#39;\r\n    };\r\n    \r\n    private SaltOption opt;\r\n    \r\n    /**\r\n     * Added the SaltOption constructor since everybody\r\n     * has their own standards when it comes to salting\r\n     * hashes.\r\n     * \r\n     * This gives the developer the option...\r\n     * \r\n     * @param option The salt option to use, BEFORE, AFTER, BOTH or NONE.\r\n     */\r\n    public MD5(final SaltOption option) {\r\n    \t//TODO: Add Char Encoding options too... I was too lazy!\r\n    \tthis.opt = option;\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * Returns the salted MD5 checksum of the text passed in as an argument.\r\n     * \r\n     * If the salt is an empty byte array - no salt is applied.\r\n     * \r\n     * @param txt The text to run through the MD5 algorithm.\r\n     * @param salt The salt value in bytes.\r\n     * @return The salted MD5 checksum as a &lt;code&gt;byte[]&lt;/code&gt;\r\n     * @throws NoSuchAlgorithmException\r\n     */\r\n    private byte[] createChecksum(final String txt, final byte[] salt) throws NoSuchAlgorithmException {\r\n    \tfinal MessageDigest complete = MessageDigest.getInstance(ALG);\r\n    \tif(opt.equals(SaltOption.BEFORE) || opt.equals(SaltOption.BOTH)) {\r\n    \t\tcomplete.update(salt);\r\n    \t}\r\n    \tcomplete.update(txt.getBytes());\r\n    \tif(opt.equals(SaltOption.AFTER) || opt.equals(SaltOption.BOTH)) {\r\n    \t\tcomplete.update(salt);\r\n    \t}\r\n    \treturn complete.digest();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Returns the salted MD5 checksum of the file passed in as an argument.\r\n     * \r\n     * If the salt is an empty byte array - no salt is applied.\r\n     * \r\n     * @param fle The file to run through the MD5 algorithm.\r\n     * @param salt The salt value in bytes.\r\n     * @return The salted MD5 checksum as a &lt;code&gt;byte[]&lt;/code&gt;\r\n     * @throws IOException\r\n     * @throws NoSuchAlgorithmException\r\n     */\r\n\tprivate byte[] createChecksum(final File fle, final byte[] salt)\r\n\t\t\tthrows IOException, NoSuchAlgorithmException {\r\n\t\tfinal byte[] buffer = new byte[1024];\r\n\t\tfinal MessageDigest complete = MessageDigest.getInstance(ALG);\r\n            \tif(opt.equals(SaltOption.BEFORE) || opt.equals(SaltOption.BOTH)) {\r\n        \t\tcomplete.update(salt);\r\n         \t}\r\n\t\tint numRead;\r\n\t\tInputStream fis = null;\r\n\t\ttry {\r\n\t\t\tfis = new FileInputStream(fle);\r\n\t\t\tdo {\r\n\t\t\t\tnumRead = fis.read(buffer);\r\n\t\t\t\tif (numRead &gt; 0) {\r\n\t\t\t\t\tcomplete.update(buffer, 0, numRead);\r\n\t\t\t\t}\r\n\t\t\t} while (numRead != -1);\r\n\t\t} finally {\r\n\t\tif (fis != null) {\r\n\t\t\t\tfis.close();\r\n\t\t\t}\r\n\t\t}\r\n    \t        if(opt.equals(SaltOption.AFTER) || opt.equals(SaltOption.BOTH)) {\r\n    \t\t    complete.update(salt);\r\n         \t}\r\n\t\treturn complete.digest();\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * Efficiently converts a byte array to its 2 char per byte hex equivalent.\r\n     * \r\n\t * This was adapted from JDK code in the Integer class, I just didn&#39;t like\r\n\t * having to use substrings once I got the result...\r\n\t *\r\n\t * @param b The byte array to convert\r\n\t * @return The converted String, 2 chars per byte...\r\n\t */\r\n    private String convertToHex(final byte[] b) {\r\n\t\tint x;\r\n\t\tint charPos;\r\n\t\tint radix;\r\n\t\tint mask;\r\n\t\tfinal char[] buf = new char[32];\r\n\t\tfinal char[] tmp = new char[3];\r\n\t\tfinal StringBuilder md5 = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tx = (b[i] &amp; 0xFF) | 0x100;\r\n\t\t\tcharPos = 32;\r\n\t\t\tradix = 1 &lt;&lt; 4;\r\n\t\t\tmask = radix - 1;\r\n\t\t\tdo {\r\n\t\t\t\tbuf[--charPos] = digits[x &amp; mask];\r\n\t\t\t\tx &gt;&gt;&gt;= 4;\r\n\t\t\t} while (x != 0);\r\n\t\t\tSystem.arraycopy(buf, charPos, tmp, 0, (32 - charPos));\r\n\t\t\tmd5.append(Arrays.copyOfRange(tmp, 1, 3));\r\n\t\t}\r\n\t\treturn md5.toString();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * Returns the salted MD5 checksum of the file passed in as an argument.\r\n     * \r\n     * @param fle The file you want want to run through the MD5 algorithm.\r\n     * @param salt The salt value in bytes\r\n     * @return The salted MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\r\n     * @throws NoSuchAlgorithmException\r\n     * @throws IOException\r\n     */\r\n\tpublic String getMD5Checksum(final File fle, final byte[] salt)\r\n\t\t\tthrows NoSuchAlgorithmException, IOException {\r\n\t\treturn convertToHex(createChecksum(fle, salt));\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * Returns the MD5 checksum of the file passed in as an argument.\r\n\t * \r\n\t * @param fle The file you want want to run through the MD5 algorithm.\r\n\t * @return The MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\r\n\t * @throws NoSuchAlgorithmException\r\n\t * @throws IOException\r\n\t */\r\n\tpublic String getMD5Checksum(final File fle)\r\n\t\t\tthrows NoSuchAlgorithmException, IOException {\r\n\t\treturn convertToHex(createChecksum(fle, new byte[0]));\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * Returns the salted MD5 checksum of the text passed in as an argument.\r\n\t * \r\n\t * @param txt The text you want want to run through the MD5 algorithm.\r\n\t * @param salt The salt value in bytes.\r\n\t * @return The salted MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\r\n\t * @throws NoSuchAlgorithmException\r\n\t * @throws IOException\r\n\t */\r\n\tpublic String getMD5Checksum(final String txt, final byte[] salt)\r\n\t\t\tthrows NoSuchAlgorithmException {\r\n\t\treturn convertToHex(createChecksum(txt, salt));\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * Returns the MD5 checksum of the text passed in as an argument.\r\n\t * \r\n\t * @param txt The text you want want to run through the MD5 algorithm.\r\n\t * @return The MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\r\n\t * @throws NoSuchAlgorithmException\r\n\t * @throws IOException\r\n\t */\r\n\tpublic String getMD5Checksum(final String txt)\r\n\t\t\tthrows NoSuchAlgorithmException {\r\n\r\n\t\treturn convertToHex(createChecksum(txt, new byte[0]));\r\n\t}\r\n    }\r\n\r\n","title":"How can I generate an MD5 hash in Java?","body":"<p>I did this... Seems to work ok - I'm sure somebody will point out mistakes though...</p>\n\n<pre><code>public final class MD5 {\npublic enum SaltOption {\n    BEFORE, AFTER, BOTH, NONE;\n}\nprivate static final String ALG = \"MD5\";\n//For conversion to 2-char hex\nprivate static final char[] digits = {\n    '0' , '1' , '2' , '3' , '4' , '5' ,\n    '6' , '7' , '8' , '9' , 'a' , 'b' ,\n    'c' , 'd' , 'e' , 'f' , 'g' , 'h' ,\n    'i' , 'j' , 'k' , 'l' , 'm' , 'n' ,\n    'o' , 'p' , 'q' , 'r' , 's' , 't' ,\n    'u' , 'v' , 'w' , 'x' , 'y' , 'z'\n};\n\nprivate SaltOption opt;\n\n/**\n * Added the SaltOption constructor since everybody\n * has their own standards when it comes to salting\n * hashes.\n * \n * This gives the developer the option...\n * \n * @param option The salt option to use, BEFORE, AFTER, BOTH or NONE.\n */\npublic MD5(final SaltOption option) {\n    //TODO: Add Char Encoding options too... I was too lazy!\n    this.opt = option;\n}\n\n/**\n * \n * Returns the salted MD5 checksum of the text passed in as an argument.\n * \n * If the salt is an empty byte array - no salt is applied.\n * \n * @param txt The text to run through the MD5 algorithm.\n * @param salt The salt value in bytes.\n * @return The salted MD5 checksum as a &lt;code&gt;byte[]&lt;/code&gt;\n * @throws NoSuchAlgorithmException\n */\nprivate byte[] createChecksum(final String txt, final byte[] salt) throws NoSuchAlgorithmException {\n    final MessageDigest complete = MessageDigest.getInstance(ALG);\n    if(opt.equals(SaltOption.BEFORE) || opt.equals(SaltOption.BOTH)) {\n        complete.update(salt);\n    }\n    complete.update(txt.getBytes());\n    if(opt.equals(SaltOption.AFTER) || opt.equals(SaltOption.BOTH)) {\n        complete.update(salt);\n    }\n    return complete.digest();\n}\n\n/**\n * \n * Returns the salted MD5 checksum of the file passed in as an argument.\n * \n * If the salt is an empty byte array - no salt is applied.\n * \n * @param fle The file to run through the MD5 algorithm.\n * @param salt The salt value in bytes.\n * @return The salted MD5 checksum as a &lt;code&gt;byte[]&lt;/code&gt;\n * @throws IOException\n * @throws NoSuchAlgorithmException\n */\nprivate byte[] createChecksum(final File fle, final byte[] salt)\n        throws IOException, NoSuchAlgorithmException {\n    final byte[] buffer = new byte[1024];\n    final MessageDigest complete = MessageDigest.getInstance(ALG);\n            if(opt.equals(SaltOption.BEFORE) || opt.equals(SaltOption.BOTH)) {\n            complete.update(salt);\n        }\n    int numRead;\n    InputStream fis = null;\n    try {\n        fis = new FileInputStream(fle);\n        do {\n            numRead = fis.read(buffer);\n            if (numRead &gt; 0) {\n                complete.update(buffer, 0, numRead);\n            }\n        } while (numRead != -1);\n    } finally {\n    if (fis != null) {\n            fis.close();\n        }\n    }\n            if(opt.equals(SaltOption.AFTER) || opt.equals(SaltOption.BOTH)) {\n            complete.update(salt);\n        }\n    return complete.digest();\n}\n\n/**\n * \n * Efficiently converts a byte array to its 2 char per byte hex equivalent.\n * \n * This was adapted from JDK code in the Integer class, I just didn't like\n * having to use substrings once I got the result...\n *\n * @param b The byte array to convert\n * @return The converted String, 2 chars per byte...\n */\nprivate String convertToHex(final byte[] b) {\n    int x;\n    int charPos;\n    int radix;\n    int mask;\n    final char[] buf = new char[32];\n    final char[] tmp = new char[3];\n    final StringBuilder md5 = new StringBuilder();\n    for (int i = 0; i &lt; b.length; i++) {\n        x = (b[i] &amp; 0xFF) | 0x100;\n        charPos = 32;\n        radix = 1 &lt;&lt; 4;\n        mask = radix - 1;\n        do {\n            buf[--charPos] = digits[x &amp; mask];\n            x &gt;&gt;&gt;= 4;\n        } while (x != 0);\n        System.arraycopy(buf, charPos, tmp, 0, (32 - charPos));\n        md5.append(Arrays.copyOfRange(tmp, 1, 3));\n    }\n    return md5.toString();\n}\n\n/**\n * \n * Returns the salted MD5 checksum of the file passed in as an argument.\n * \n * @param fle The file you want want to run through the MD5 algorithm.\n * @param salt The salt value in bytes\n * @return The salted MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\n * @throws NoSuchAlgorithmException\n * @throws IOException\n */\npublic String getMD5Checksum(final File fle, final byte[] salt)\n        throws NoSuchAlgorithmException, IOException {\n    return convertToHex(createChecksum(fle, salt));\n}\n\n/**\n * \n * Returns the MD5 checksum of the file passed in as an argument.\n * \n * @param fle The file you want want to run through the MD5 algorithm.\n * @return The MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\n * @throws NoSuchAlgorithmException\n * @throws IOException\n */\npublic String getMD5Checksum(final File fle)\n        throws NoSuchAlgorithmException, IOException {\n    return convertToHex(createChecksum(fle, new byte[0]));\n}\n\n/**\n * \n * Returns the salted MD5 checksum of the text passed in as an argument.\n * \n * @param txt The text you want want to run through the MD5 algorithm.\n * @param salt The salt value in bytes.\n * @return The salted MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\n * @throws NoSuchAlgorithmException\n * @throws IOException\n */\npublic String getMD5Checksum(final String txt, final byte[] salt)\n        throws NoSuchAlgorithmException {\n    return convertToHex(createChecksum(txt, salt));\n}\n\n/**\n * \n * Returns the MD5 checksum of the text passed in as an argument.\n * \n * @param txt The text you want want to run through the MD5 algorithm.\n * @return The MD5 checksum as a 2 char per byte HEX &lt;code&gt;String&lt;/code&gt;\n * @throws NoSuchAlgorithmException\n * @throws IOException\n */\npublic String getMD5Checksum(final String txt)\n        throws NoSuchAlgorithmException {\n\n    return convertToHex(createChecksum(txt, new byte[0]));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1451131784,"creation_date":1340628276,"answer_id":11189634,"question_id":415953,"body_markdown":"I do not know if this is relevant for anyone reading this, but I just had the problem that I wanted to\r\n\r\n - download a file from a given URL **and**\r\n - compare its MD5 to a known value.\r\n\r\nI wanted to do it with JRE classes only (no Apache Commons or similar). A quick web search did not show me sample code snippets doing **both** at the same time, only each task separately. Because this requires to read the same file twice, I figured it might be worth the while to write some code which unifies both tasks, calculating the checksum on the fly while downloading the file. This is my result (sorry if it is not perfect Java, but I guess you get the idea anyway):\r\n\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.math.BigInteger;\r\n\timport java.net.URL;\r\n\timport java.nio.ByteBuffer;\r\n\timport java.nio.channels.Channels;\r\n\timport java.nio.channels.ReadableByteChannel;\r\n\timport java.nio.channels.WritableByteChannel;\r\n\timport java.security.DigestOutputStream;        // new\r\n\timport java.security.MessageDigest;\r\n\timport java.security.NoSuchAlgorithmException;\r\n\r\n\tvoid downloadFile(String fromURL, String toFile, BigInteger md5)\r\n\t\tthrows IOException, NoSuchAlgorithmException\r\n\t{\r\n\t\tReadableByteChannel in = Channels.newChannel(new URL(fromURL).openStream());\r\n\t\tMessageDigest md5Digest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\tWritableByteChannel out = Channels.newChannel(\r\n\t\t\t//new FileOutputStream(toFile));  // old\r\n\t\t\tnew DigestOutputStream(new FileOutputStream(toFile), md5Digest));  // new\r\n\t\tByteBuffer buffer = ByteBuffer.allocate(1024 * 1024);  // 1 MB\r\n\r\n\t\twhile (in.read(buffer) != -1) {\r\n\t\t\tbuffer.flip();\r\n\t\t\t//md5Digest.update(buffer.asReadOnlyBuffer());  // old\r\n\t\t\tout.write(buffer);\r\n\t\t\tbuffer.clear();\r\n\t\t}\r\n\r\n\t\tBigInteger md5Actual = new BigInteger(1, md5Digest.digest()); \r\n\t\tif (! md5Actual.equals(md5))\r\n\t\t\tthrow new RuntimeException(\r\n\t\t\t\t&quot;MD5 mismatch for file &quot; + toFile +\r\n\t\t\t\t&quot;: expected &quot; + md5.toString(16) +\r\n\t\t\t\t&quot;, got &quot; + md5Actual.toString(16)\r\n\t\t\t);\r\n\t}","title":"How can I generate an MD5 hash in Java?","body":"<p>I do not know if this is relevant for anyone reading this, but I just had the problem that I wanted to</p>\n\n<ul>\n<li>download a file from a given URL <strong>and</strong></li>\n<li>compare its MD5 to a known value.</li>\n</ul>\n\n<p>I wanted to do it with JRE classes only (no Apache Commons or similar). A quick web search did not show me sample code snippets doing <strong>both</strong> at the same time, only each task separately. Because this requires to read the same file twice, I figured it might be worth the while to write some code which unifies both tasks, calculating the checksum on the fly while downloading the file. This is my result (sorry if it is not perfect Java, but I guess you get the idea anyway):</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.math.BigInteger;\nimport java.net.URL;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\nimport java.nio.channels.WritableByteChannel;\nimport java.security.DigestOutputStream;        // new\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\nvoid downloadFile(String fromURL, String toFile, BigInteger md5)\n    throws IOException, NoSuchAlgorithmException\n{\n    ReadableByteChannel in = Channels.newChannel(new URL(fromURL).openStream());\n    MessageDigest md5Digest = MessageDigest.getInstance(\"MD5\");\n    WritableByteChannel out = Channels.newChannel(\n        //new FileOutputStream(toFile));  // old\n        new DigestOutputStream(new FileOutputStream(toFile), md5Digest));  // new\n    ByteBuffer buffer = ByteBuffer.allocate(1024 * 1024);  // 1 MB\n\n    while (in.read(buffer) != -1) {\n        buffer.flip();\n        //md5Digest.update(buffer.asReadOnlyBuffer());  // old\n        out.write(buffer);\n        buffer.clear();\n    }\n\n    BigInteger md5Actual = new BigInteger(1, md5Digest.digest()); \n    if (! md5Actual.equals(md5))\n        throw new RuntimeException(\n            \"MD5 mismatch for file \" + toFile +\n            \": expected \" + md5.toString(16) +\n            \", got \" + md5Actual.toString(16)\n        );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435136,"reputation":1957,"user_id":1356710,"accept_rate":50,"display_name":"Raul Luna"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1348538474,"creation_date":1347529579,"answer_id":12403545,"question_id":415953,"body_markdown":"There is a `DigestUtils` class in [Spring][1] also:\r\n\r\nhttp://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/util/DigestUtils.html\r\n\r\nThis class contains the method `md5DigestAsHex()` that does the job. \r\n\r\n\r\n  [1]: http://www.springsource.org/","title":"How can I generate an MD5 hash in Java?","body":"<p>There is a <code>DigestUtils</code> class in <a href=\"http://www.springsource.org/\" rel=\"noreferrer\">Spring</a> also:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/util/DigestUtils.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/util/DigestUtils.html</a></p>\n\n<p>This class contains the method <code>md5DigestAsHex()</code> that does the job. </p>\n"},{"tags":[],"owner":{"account_id":520600,"reputation":2248,"user_id":1569108,"accept_rate":92,"display_name":"Mihai Danila"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1351270901,"creation_date":1351270901,"answer_id":13091259,"question_id":415953,"body_markdown":"For what it&#39;s worth, I stumbled upon this because I want to synthesize GUIDs from a natural key for a program that will install COM components; I want to syhthesize so as not to manage GUID lifecycle. I&#39;ll use MD5 and then use the UUID class to get a string out of it. (http://stackoverflow.com/questions/2190890/how-can-i-generate-guid-for-a-string-values/12867439 raises this issue).\r\n\r\nIn any case, java.util.UUID can get you a nice String from the MD5 bytes.\r\n\r\n    return UUID.nameUUIDFromBytes(md5Bytes).toString();","title":"How can I generate an MD5 hash in Java?","body":"<p>For what it's worth, I stumbled upon this because I want to synthesize GUIDs from a natural key for a program that will install COM components; I want to syhthesize so as not to manage GUID lifecycle. I'll use MD5 and then use the UUID class to get a string out of it. (http://stackoverflow.com/questions/2190890/how-can-i-generate-guid-for-a-string-values/12867439 raises this issue).</p>\n\n<p>In any case, java.util.UUID can get you a nice String from the MD5 bytes.</p>\n\n<pre><code>return UUID.nameUUIDFromBytes(md5Bytes).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72624,"reputation":2458,"user_id":209623,"accept_rate":67,"display_name":"fth"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1587303614,"creation_date":1351688576,"answer_id":13158607,"question_id":415953,"body_markdown":"No need to make it too complicated.   \r\n[DigestUtils][1] works fine and makes you comfortable while working with `md5` hashes.\r\n\r\n    DigestUtils.md5Hex(_hash);\r\nor\r\n    \r\n    DigestUtils.md5(_hash);\r\n\r\nEither you can use any other encryption methods such as `sha` or `md`.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html","title":"How can I generate an MD5 hash in Java?","body":"<p>No need to make it too complicated.<br>\n<a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"noreferrer\">DigestUtils</a> works fine and makes you comfortable while working with <code>md5</code> hashes.</p>\n\n<pre><code>DigestUtils.md5Hex(_hash);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>DigestUtils.md5(_hash);\n</code></pre>\n\n<p>Either you can use any other encryption methods such as <code>sha</code> or <code>md</code>.</p>\n"},{"tags":[],"owner":{"account_id":393707,"reputation":1831,"user_id":755720,"accept_rate":75,"display_name":"andrewrjones"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1352739022,"creation_date":1352739022,"answer_id":13347824,"question_id":415953,"body_markdown":"Another option is to use the [Guava Hashing methods][1]:\r\n\r\n    Hasher hasher = Hashing.md5().newHasher();\r\n    hasher.putString(&quot;my string&quot;);\r\n    byte[] md5 = hasher.hash().asBytes();\r\n\r\nHandy if you are already using Guava (which if you&#39;re not, you probably should be).\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/HashingExplained","title":"How can I generate an MD5 hash in Java?","body":"<p>Another option is to use the <a href=\"http://code.google.com/p/guava-libraries/wiki/HashingExplained\">Guava Hashing methods</a>:</p>\n\n<pre><code>Hasher hasher = Hashing.md5().newHasher();\nhasher.putString(\"my string\");\nbyte[] md5 = hasher.hash().asBytes();\n</code></pre>\n\n<p>Handy if you are already using Guava (which if you're not, you probably should be).</p>\n"},{"tags":[],"owner":{"account_id":3463124,"reputation":11,"user_id":2899548,"display_name":"shouyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382290160,"creation_date":1382276039,"answer_id":19477962,"question_id":415953,"body_markdown":"     import java.math.BigInteger;\r\n     import java.security.MessageDigest;\r\n     import java.security.NoSuchAlgorithmException;\r\n\r\n    /**\r\n    * MD5 encryption\r\n    *\r\n    * @author Hongten\r\n    *\r\n    */\r\n    public class MD5 {\r\n\r\n     public static void main(String[] args) {\r\n         System.out.println(MD5.getMD5(&quot;123456&quot;));\r\n     }\r\n\r\n     /**\r\n      * Use md5 encoded code value\r\n      *\r\n      * @param sInput\r\n      * clearly\r\n      * @ return md5 encrypted password\r\n      */\r\n     public static String getMD5(String sInput) {\r\n\r\n         String algorithm = &quot;&quot;;\r\n         if (sInput == null) {\r\n             return &quot;null&quot;;\r\n         }\r\n         try {\r\n             algorithm = System.getProperty(&quot;MD5.algorithm&quot;, &quot;MD5&quot;);\r\n         } catch (SecurityException se) {\r\n         }\r\n         MessageDigest md = null;\r\n         try {\r\n             md = MessageDigest.getInstance(algorithm);\r\n         } catch (NoSuchAlgorithmException e) {\r\n             e.printStackTrace();\r\n         }\r\n         byte buffer[] = sInput.getBytes();\r\n\r\n         for (int count = 0; count &lt; sInput.length(); count++) {\r\n             md.update(buffer, 0, count);\r\n         }\r\n         byte bDigest[] = md.digest();\r\n         BigInteger bi = new BigInteger(bDigest);\r\n         return (bi.toString(16));\r\n     }\r\n    }\r\n\r\nThere is an article on Codingkit about that. Check out: http://codingkit.com/a/JAVA/2013/1020/2216.html\r\n","title":"How can I generate an MD5 hash in Java?","body":"<pre><code> import java.math.BigInteger;\n import java.security.MessageDigest;\n import java.security.NoSuchAlgorithmException;\n\n/**\n* MD5 encryption\n*\n* @author Hongten\n*\n*/\npublic class MD5 {\n\n public static void main(String[] args) {\n     System.out.println(MD5.getMD5(\"123456\"));\n }\n\n /**\n  * Use md5 encoded code value\n  *\n  * @param sInput\n  * clearly\n  * @ return md5 encrypted password\n  */\n public static String getMD5(String sInput) {\n\n     String algorithm = \"\";\n     if (sInput == null) {\n         return \"null\";\n     }\n     try {\n         algorithm = System.getProperty(\"MD5.algorithm\", \"MD5\");\n     } catch (SecurityException se) {\n     }\n     MessageDigest md = null;\n     try {\n         md = MessageDigest.getInstance(algorithm);\n     } catch (NoSuchAlgorithmException e) {\n         e.printStackTrace();\n     }\n     byte buffer[] = sInput.getBytes();\n\n     for (int count = 0; count &lt; sInput.length(); count++) {\n         md.update(buffer, 0, count);\n     }\n     byte bDigest[] = md.digest();\n     BigInteger bi = new BigInteger(bDigest);\n     return (bi.toString(16));\n }\n}\n</code></pre>\n\n<p>There is an article on Codingkit about that. Check out: <a href=\"http://codingkit.com/a/JAVA/2013/1020/2216.html\" rel=\"nofollow\">http://codingkit.com/a/JAVA/2013/1020/2216.html</a></p>\n"},{"tags":[],"owner":{"account_id":2013934,"reputation":867,"user_id":1801684,"display_name":"ylu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1536528085,"creation_date":1394593366,"answer_id":22341166,"question_id":415953,"body_markdown":"You can try following. See details and download codes here: http://jkssweetlife.com/java-hashgenerator-md5-sha-1/\r\n\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n\r\n    public class MD5Example {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tfinal String inputString = &quot;Hello MD5&quot;;\r\n\r\n\t\tSystem.out.println(&quot;MD5 hex for &#39;&quot; + inputString + &quot;&#39; :&quot;);\r\n\t\tSystem.out.println(getMD5Hex(inputString));\r\n\t}\r\n\r\n\tpublic static String getMD5Hex(final String inputString) throws NoSuchAlgorithmException {\r\n\r\n\t\tMessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\tmd.update(inputString.getBytes());\r\n\r\n\t\tbyte[] digest = md.digest();\r\n\r\n\t\treturn convertByteToHex(digest);\r\n\t}\r\n\r\n\tprivate static String convertByteToHex(byte[] byteData) {\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; byteData.length; i++) {\r\n\t\t\tsb.append(Integer.toString((byteData[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n\t\t}\r\n\r\n\t\treturn sb.toString();\r\n\t}\r\n    }","title":"How can I generate an MD5 hash in Java?","body":"<p>You can try following. See details and download codes here: <a href=\"http://jkssweetlife.com/java-hashgenerator-md5-sha-1/\" rel=\"nofollow noreferrer\">http://jkssweetlife.com/java-hashgenerator-md5-sha-1/</a></p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\npublic class MD5Example {\n\npublic static void main(String[] args) throws Exception {\n\n    final String inputString = \"Hello MD5\";\n\n    System.out.println(\"MD5 hex for '\" + inputString + \"' :\");\n    System.out.println(getMD5Hex(inputString));\n}\n\npublic static String getMD5Hex(final String inputString) throws NoSuchAlgorithmException {\n\n    MessageDigest md = MessageDigest.getInstance(\"MD5\");\n    md.update(inputString.getBytes());\n\n    byte[] digest = md.digest();\n\n    return convertByteToHex(digest);\n}\n\nprivate static String convertByteToHex(byte[] byteData) {\n\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; byteData.length; i++) {\n        sb.append(Integer.toString((byteData[i] &amp; 0xff) + 0x100, 16).substring(1));\n    }\n\n    return sb.toString();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1398353177,"creation_date":1398353177,"answer_id":23273249,"question_id":415953,"body_markdown":"Another implementation:\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    String hash = DatatypeConverter.printHexBinary( \r\n               MessageDigest.getInstance(&quot;MD5&quot;).digest(&quot;SOMESTRING&quot;.getBytes(&quot;UTF-8&quot;)));","title":"How can I generate an MD5 hash in Java?","body":"<p>Another implementation:</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\nString hash = DatatypeConverter.printHexBinary( \n           MessageDigest.getInstance(\"MD5\").digest(\"SOMESTRING\".getBytes(\"UTF-8\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2495474,"reputation":1022,"user_id":2172026,"display_name":"fitorec"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1407786197,"creation_date":1407786197,"answer_id":25251120,"question_id":415953,"body_markdown":"I have a Class (Hash) to convert plain text in hash in formats: md5 or sha1, simillar that php functions ([md5](http://php.net/manual/en/function.md5.php), [sha1](http://php.net/manual/en/function.sha1.php)):\r\n\r\n\r\n\tpublic class Hash {\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param txt, text in plain format\r\n\t\t * @param hashType MD5 OR SHA1\r\n\t\t * @return hash in hashType \r\n\t\t */\r\n\t\tpublic static String getHash(String txt, String hashType) {\r\n\t\t\ttry {\r\n\t\t\t\t\t\tjava.security.MessageDigest md = java.security.MessageDigest.getInstance(hashType);\r\n\t\t\t\t\t\tbyte[] array = md.digest(txt.getBytes());\r\n\t\t\t\t\t\tStringBuffer sb = new StringBuffer();\r\n\t\t\t\t\t\tfor (int i = 0; i &lt; array.length; ++i) {\r\n\t\t\t\t\t\t\tsb.append(Integer.toHexString((array[i] &amp; 0xFF) | 0x100).substring(1,3));\r\n\t\t\t\t\t }\r\n\t\t\t\t\t\treturn sb.toString();\r\n\t\t\t\t} catch (java.security.NoSuchAlgorithmException e) {\r\n\t\t\t\t\t//error action\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tpublic static String md5(String txt) {\r\n\t\t\treturn Hash.getHash(txt, &quot;MD5&quot;);\r\n\t\t}\r\n\r\n\t\tpublic static String sha1(String txt) {\r\n\t\t\treturn Hash.getHash(txt, &quot;SHA1&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n## Testing with JUnit and PHP\r\n\r\n### PHP Script:\r\n\r\n\t&lt;?php\r\n\r\n\techo &#39;MD5 :&#39; . md5(&#39;Hello World&#39;) . &quot;\\n&quot;;\r\n\techo &#39;SHA1:&#39; . sha1(&#39;Hello World&#39;) . &quot;\\n&quot;;\r\n\r\n### Output PHP script:\r\n\r\n\tMD5 :b10a8db164e0754105b7a99be72e3fe5\r\n\tSHA1:0a4d55a8d778e5022fab701977c5d840bbc486d0\r\n\r\n\r\n### Using example and Testing with JUnit:\r\n\r\n\t\tpublic class HashTest {\r\n\r\n\t\t@Test\r\n\t\tpublic void test() {\r\n\t\t\tString txt = &quot;Hello World&quot;;\r\n\t\t\tassertEquals(&quot;b10a8db164e0754105b7a99be72e3fe5&quot;, Hash.md5(txt));\r\n\t\t\tassertEquals(&quot;0a4d55a8d778e5022fab701977c5d840bbc486d0&quot;, Hash.sha1(txt));\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n### Code in GitHub\r\n\r\n&gt; &lt;https://github.com/fitorec/java-hashes&gt;\r\n\r\n\r\n","title":"How can I generate an MD5 hash in Java?","body":"<p>I have a Class (Hash) to convert plain text in hash in formats: md5 or sha1, simillar that php functions (<a href=\"http://php.net/manual/en/function.md5.php\">md5</a>, <a href=\"http://php.net/manual/en/function.sha1.php\">sha1</a>):</p>\n\n<pre><code>public class Hash {\n    /**\n     * \n     * @param txt, text in plain format\n     * @param hashType MD5 OR SHA1\n     * @return hash in hashType \n     */\n    public static String getHash(String txt, String hashType) {\n        try {\n                    java.security.MessageDigest md = java.security.MessageDigest.getInstance(hashType);\n                    byte[] array = md.digest(txt.getBytes());\n                    StringBuffer sb = new StringBuffer();\n                    for (int i = 0; i &lt; array.length; ++i) {\n                        sb.append(Integer.toHexString((array[i] &amp; 0xFF) | 0x100).substring(1,3));\n                 }\n                    return sb.toString();\n            } catch (java.security.NoSuchAlgorithmException e) {\n                //error action\n            }\n            return null;\n    }\n\n    public static String md5(String txt) {\n        return Hash.getHash(txt, \"MD5\");\n    }\n\n    public static String sha1(String txt) {\n        return Hash.getHash(txt, \"SHA1\");\n    }\n}\n</code></pre>\n\n<h2>Testing with JUnit and PHP</h2>\n\n<h3>PHP Script:</h3>\n\n<pre><code>&lt;?php\n\necho 'MD5 :' . md5('Hello World') . \"\\n\";\necho 'SHA1:' . sha1('Hello World') . \"\\n\";\n</code></pre>\n\n<h3>Output PHP script:</h3>\n\n<pre><code>MD5 :b10a8db164e0754105b7a99be72e3fe5\nSHA1:0a4d55a8d778e5022fab701977c5d840bbc486d0\n</code></pre>\n\n<h3>Using example and Testing with JUnit:</h3>\n\n<pre><code>    public class HashTest {\n\n    @Test\n    public void test() {\n        String txt = \"Hello World\";\n        assertEquals(\"b10a8db164e0754105b7a99be72e3fe5\", Hash.md5(txt));\n        assertEquals(\"0a4d55a8d778e5022fab701977c5d840bbc486d0\", Hash.sha1(txt));\n    }\n\n}\n</code></pre>\n\n<h3>Code in GitHub</h3>\n\n<blockquote>\n  <p><a href=\"https://github.com/fitorec/java-hashes\">https://github.com/fitorec/java-hashes</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2762988,"reputation":49,"user_id":2379481,"display_name":"Marcelo Lopes"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1421107603,"creation_date":1421107603,"answer_id":27912936,"question_id":415953,"body_markdown":"try this:\r\n\r\n    public static String getHashMD5(String string) {\r\n        try {\r\n            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            BigInteger bi = new BigInteger(1, md.digest(string.getBytes()));\r\n            return bi.toString(16);\r\n        } catch (NoSuchAlgorithmException ex) {\r\n            Logger.getLogger(MD5Utils.class\r\n                    .getName()).log(Level.SEVERE, null, ex);\r\n\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"How can I generate an MD5 hash in Java?","body":"<p>try this:</p>\n\n<pre><code>public static String getHashMD5(String string) {\n    try {\n        MessageDigest md = MessageDigest.getInstance(\"MD5\");\n        BigInteger bi = new BigInteger(1, md.digest(string.getBytes()));\n        return bi.toString(16);\n    } catch (NoSuchAlgorithmException ex) {\n        Logger.getLogger(MD5Utils.class\n                .getName()).log(Level.SEVERE, null, ex);\n\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1460354710,"creation_date":1431072974,"answer_id":30119004,"question_id":415953,"body_markdown":"I&#39;ve found this to be the most clear and concise way to do it:\r\n\r\n    MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    md5.update(StandardCharsets.UTF_8.encode(string));\r\n    return String.format(&quot;%032x&quot;, new BigInteger(1, md5.digest()));","title":"How can I generate an MD5 hash in Java?","body":"<p>I've found this to be the most clear and concise way to do it:</p>\n\n<pre><code>MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\nmd5.update(StandardCharsets.UTF_8.encode(string));\nreturn String.format(\"%032x\", new BigInteger(1, md5.digest()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2847892,"reputation":3733,"user_id":2445777,"display_name":"Priyank Desai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445365674,"creation_date":1445365674,"answer_id":33244134,"question_id":415953,"body_markdown":"This is what I came here for- a handy scala function that returns string of MD5 hash: \r\n\r\n    def md5(text: String) : String = java.security.MessageDigest.getInstance(&quot;MD5&quot;).digest(text.getBytes()).map(0xFF &amp; _).map { &quot;%02x&quot;.format(_) }.foldLeft(&quot;&quot;){_ + _}","title":"How can I generate an MD5 hash in Java?","body":"<p>This is what I came here for- a handy scala function that returns string of MD5 hash: </p>\n\n<pre><code>def md5(text: String) : String = java.security.MessageDigest.getInstance(\"MD5\").digest(text.getBytes()).map(0xFF &amp; _).map { \"%02x\".format(_) }.foldLeft(\"\"){_ + _}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5948137,"reputation":2378,"user_id":4677060,"accept_rate":80,"display_name":"Geordy James"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1544299149,"creation_date":1459005828,"answer_id":36237054,"question_id":415953,"body_markdown":"Unlike PHP where you can do an MD5 hashing of your text by just calling md5 function ie `md5($text)`, in Java it was made little bit complicated. I usually implemented it by calling a function which returns the md5 hash text. \r\nHere is how I implemented it, First create a function named `md5hashing` inside your main class as given below. \r\n\r\n    public static String md5hashing(String text)\r\n        {   String hashtext = null;\r\n        \ttry \r\n    \t\t{\r\n        \t\tString plaintext = text;\r\n        \t\tMessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        \t\tm.reset();\r\n        \t\tm.update(plaintext.getBytes());\r\n        \t\tbyte[] digest = m.digest();\r\n        \t\tBigInteger bigInt = new BigInteger(1,digest);\r\n        \t\thashtext = bigInt.toString(16);\r\n        \t\t// Now we need to zero pad it if you actually want the full 32 chars.\r\n        \t\twhile(hashtext.length() &lt; 32 ){\r\n        \t\t  hashtext = &quot;0&quot;+hashtext;\t \r\n        \t\t}\r\n    \t\t} catch (Exception e1) \r\n    \t\t{\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\tJOptionPane.showMessageDialog(null,e1.getClass().getName() + &quot;: &quot; + e1.getMessage());\t\r\n    \t\t}\r\n    \t\treturn hashtext;\t \r\n        }\r\n\r\nNow call the function whenever you needed as given below.\r\n\r\n    String text = textFieldName.getText();\r\n    String pass = md5hashing(text);\r\n\r\nHere you can see that hashtext is appended with a zero to make it match with md5 hashing in PHP.","title":"How can I generate an MD5 hash in Java?","body":"<p>Unlike PHP where you can do an MD5 hashing of your text by just calling md5 function ie <code>md5($text)</code>, in Java it was made little bit complicated. I usually implemented it by calling a function which returns the md5 hash text. \nHere is how I implemented it, First create a function named <code>md5hashing</code> inside your main class as given below. </p>\n\n<pre><code>public static String md5hashing(String text)\n    {   String hashtext = null;\n        try \n        {\n            String plaintext = text;\n            MessageDigest m = MessageDigest.getInstance(\"MD5\");\n            m.reset();\n            m.update(plaintext.getBytes());\n            byte[] digest = m.digest();\n            BigInteger bigInt = new BigInteger(1,digest);\n            hashtext = bigInt.toString(16);\n            // Now we need to zero pad it if you actually want the full 32 chars.\n            while(hashtext.length() &lt; 32 ){\n              hashtext = \"0\"+hashtext;   \n            }\n        } catch (Exception e1) \n        {\n            // TODO: handle exception\n            JOptionPane.showMessageDialog(null,e1.getClass().getName() + \": \" + e1.getMessage());   \n        }\n        return hashtext;     \n    }\n</code></pre>\n\n<p>Now call the function whenever you needed as given below.</p>\n\n<pre><code>String text = textFieldName.getText();\nString pass = md5hashing(text);\n</code></pre>\n\n<p>Here you can see that hashtext is appended with a zero to make it match with md5 hashing in PHP.</p>\n"},{"tags":[],"owner":{"account_id":8227759,"reputation":11,"user_id":6189506,"display_name":"Radek"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1460403596,"creation_date":1460395795,"answer_id":36555354,"question_id":415953,"body_markdown":"    private String hashuj(String dane) throws ServletException{\r\n        try {\r\n            MessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            byte[] bufor = dane.getBytes();\r\n            m.update(bufor,0,bufor.length);\r\n            BigInteger hash = new BigInteger(1,m.dige`enter code here`st());\r\n            return String.format(&quot;%1$032X&quot;, hash);\r\n            \r\n        } catch (NoSuchAlgorithmException nsae) {\r\n            throw new ServletException(&quot;Algorytm szyfrowania nie jest obsugiwany!&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How can I generate an MD5 hash in Java?","body":"<pre><code>private String hashuj(String dane) throws ServletException{\n    try {\n        MessageDigest m = MessageDigest.getInstance(\"MD5\");\n        byte[] bufor = dane.getBytes();\n        m.update(bufor,0,bufor.length);\n        BigInteger hash = new BigInteger(1,m.dige`enter code here`st());\n        return String.format(\"%1$032X\", hash);\n\n    } catch (NoSuchAlgorithmException nsae) {\n        throw new ServletException(\"Algorytm szyfrowania nie jest obsugiwany!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2971101,"reputation":1549,"user_id":2523139,"display_name":"Aurangzeb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460991638,"creation_date":1460991638,"answer_id":36697665,"question_id":415953,"body_markdown":"this one gives the exact md5 as you get from mysql&#39;s md5 function or php&#39;s md5 functions etc. This is the one I use (you can change according to your needs)\r\n\r\n\tpublic static String md5( String input ) {\r\n\t\ttry {\r\n\t\t\tjava.security.MessageDigest md = java.security.MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t\tbyte[] array = md.digest(input.getBytes( &quot;UTF-8&quot; ));\r\n\t\t\tStringBuffer sb = new StringBuffer();\r\n\t\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\t\tsb.append( String.format( &quot;%02x&quot;, array[i]));\r\n\t\t\t}\r\n\t\t\treturn sb.toString();\r\n\t\t} catch ( NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n\t\t\treturn null;\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n","title":"How can I generate an MD5 hash in Java?","body":"<p>this one gives the exact md5 as you get from mysql's md5 function or php's md5 functions etc. This is the one I use (you can change according to your needs)</p>\n\n<pre><code>public static String md5( String input ) {\n    try {\n        java.security.MessageDigest md = java.security.MessageDigest.getInstance(\"MD5\");\n        byte[] array = md.digest(input.getBytes( \"UTF-8\" ));\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i &lt; array.length; i++) {\n            sb.append( String.format( \"%02x\", array[i]));\n        }\n        return sb.toString();\n    } catch ( NoSuchAlgorithmException | UnsupportedEncodingException e) {\n        return null;            \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1385145,"reputation":9710,"user_id":1317348,"accept_rate":64,"display_name":"HimalayanCoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483525617,"creation_date":1483525617,"answer_id":41461544,"question_id":415953,"body_markdown":"    import java.security.MessageDigest\r\n     \r\n    val digest = MessageDigest.getInstance(&quot;MD5&quot;)\r\n     \r\n    //Quick MD5 of text\r\n    val text = &quot;MD5 this text!&quot;\r\n    val md5hash1 = digest.digest(text.getBytes).map(&quot;%02x&quot;.format(_)).mkString\r\n    \r\n    //MD5 of text with updates\r\n    digest.update(&quot;MD5 &quot;.getBytes())\r\n    digest.update(&quot;this &quot;.getBytes())\r\n    digest.update(&quot;text!&quot;.getBytes())\r\n    val md5hash2 = digest.digest().map(0xFF &amp; _).map(&quot;%02x&quot;.format(_)).mkString\r\n     \r\n    //Output\r\n    println(md5hash1 + &quot; should be the same as &quot; + md5hash2)","title":"How can I generate an MD5 hash in Java?","body":"<pre><code>import java.security.MessageDigest\n\nval digest = MessageDigest.getInstance(\"MD5\")\n\n//Quick MD5 of text\nval text = \"MD5 this text!\"\nval md5hash1 = digest.digest(text.getBytes).map(\"%02x\".format(_)).mkString\n\n//MD5 of text with updates\ndigest.update(\"MD5 \".getBytes())\ndigest.update(\"this \".getBytes())\ndigest.update(\"text!\".getBytes())\nval md5hash2 = digest.digest().map(0xFF &amp; _).map(\"%02x\".format(_)).mkString\n\n//Output\nprintln(md5hash1 + \" should be the same as \" + md5hash2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1519394750,"creation_date":1517249537,"answer_id":48507508,"question_id":415953,"body_markdown":"    import java.security.*;\r\n    import javax.xml.bind.*;\r\n\r\n    byte[] bytesOfMessage = yourString.getBytes(&quot;UTF-8&quot;);\r\n    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    byte[] bytesOfDigest = md.digest(bytesOfMessage);\r\n    String digest = DatatypeConverter.printHexBinary(bytesOfDigest).toLowerCase();","title":"How can I generate an MD5 hash in Java?","body":"<pre><code>import java.security.*;\nimport javax.xml.bind.*;\n\nbyte[] bytesOfMessage = yourString.getBytes(\"UTF-8\");\nMessageDigest md = MessageDigest.getInstance(\"MD5\");\nbyte[] bytesOfDigest = md.digest(bytesOfMessage);\nString digest = DatatypeConverter.printHexBinary(bytesOfDigest).toLowerCase();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6249403,"reputation":301,"user_id":4860043,"display_name":"Prasanna L M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546516526,"creation_date":1546515035,"answer_id":54021441,"question_id":415953,"body_markdown":"You can [generate MD5 hash][1] for a given text by making use of the methods in the `MessageDigest` class in the `java.security` package. Below is the complete code snippet,\r\n\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    public class MD5HashGenerator \r\n    {\r\n    \r\n       public static void main(String args[]) throws NoSuchAlgorithmException\r\n       {\r\n           String stringToHash = &quot;MyJavaCode&quot;; \r\n           MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n           messageDigest.update(stringToHash.getBytes());\r\n           byte[] digiest = messageDigest.digest();\r\n           String hashedOutput = DatatypeConverter.printHexBinary(digiest);\r\n           System.out.println(hashedOutput);\r\n       }\r\n    }\r\n\r\n\r\nThe output from the MD5 function is a 128 bit hash represented by 32 hexadecimal numbers.\r\n\r\nIn case, if you are using a database like MySQL, you can do this in a more simpler way as well. The query `Select MD5(text here)` will return the MD5 hash of the text in the bracket. \r\n\r\n\r\n\r\n  [1]: https://www.myjavacode.com/how-to-generate-md5-hash-in-java/","title":"How can I generate an MD5 hash in Java?","body":"<p>You can <a href=\"https://www.myjavacode.com/how-to-generate-md5-hash-in-java/\" rel=\"noreferrer\">generate MD5 hash</a> for a given text by making use of the methods in the <code>MessageDigest</code> class in the <code>java.security</code> package. Below is the complete code snippet,</p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport javax.xml.bind.DatatypeConverter;\n\npublic class MD5HashGenerator \n{\n\n   public static void main(String args[]) throws NoSuchAlgorithmException\n   {\n       String stringToHash = \"MyJavaCode\"; \n       MessageDigest messageDigest = MessageDigest.getInstance(\"MD5\");\n       messageDigest.update(stringToHash.getBytes());\n       byte[] digiest = messageDigest.digest();\n       String hashedOutput = DatatypeConverter.printHexBinary(digiest);\n       System.out.println(hashedOutput);\n   }\n}\n</code></pre>\n\n<p>The output from the MD5 function is a 128 bit hash represented by 32 hexadecimal numbers.</p>\n\n<p>In case, if you are using a database like MySQL, you can do this in a more simpler way as well. The query <code>Select MD5(text here)</code> will return the MD5 hash of the text in the bracket. </p>\n"},{"tags":[],"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1589140962,"creation_date":1589140962,"answer_id":61718014,"question_id":415953,"body_markdown":"I have made this using php as follows \r\n```\r\n&lt;?php\r\n$goodtext = &quot;Not found&quot;;\r\n// If there is no parameter, this code is all skipped\r\nif ( isset($_GET[&#39;md5&#39;]) ) {\r\n    $time_pre = microtime(true);\r\n    $md5 = $_GET[&#39;md5&#39;];\r\n    // This is our alphabet\r\n    $txt = &quot;0123456789&quot;;\r\n    $show = 15;\r\n    // Outer loop go go through the alphabet for the\r\n    // first position in our &quot;possible&quot; pre-hash\r\n    // text\r\n    for($i=0; $i&lt;strlen($txt); $i++ ) {\r\n        $ch1 = $txt[$i];   // The first of two characters\r\n        // Our inner loop Note the use of new variables\r\n        // $j and $ch2 \r\n        for($j=0; $j&lt;strlen($txt); $j++ ) {\r\n            $ch2 = $txt[$j];  // Our second character\r\n            for($k=0; $k&lt;strlen($txt); $k++ ) {\r\n                $ch3 = $txt[$k];\r\n                for($l=0; $l&lt;strlen($txt); $l++){\r\n                    $ch4 = $txt[$l];\r\n                    // Concatenate the two characters together to \r\n                    // form the &quot;possible&quot; pre-hash text\r\n                    $try = $ch1.$ch2.$ch3.$ch4;\r\n                    // Run the hash and then check to see if we match\r\n                    $check = hash(&#39;md5&#39;, $try);\r\n                    if ( $check == $md5 ) {\r\n                        $goodtext = $try;\r\n                        break;   // Exit the inner loop\r\n                    }\r\n                    // Debug output until $show hits 0\r\n                    if ( $show &gt; 0 ) {\r\n                        print &quot;$check $try\\n&quot;;\r\n                        $show = $show - 1;\r\n                    }\r\n                    if($goodtext == $try){\r\n                        break;\r\n                    }\r\n                }\r\n                if($goodtext == $try){\r\n                    break;\r\n                }\r\n            }\r\n            if($goodtext == $try) {\r\n                break;  \r\n            }\r\n        }\r\n        if($goodtext == $try){\r\n            break;\r\n        }\r\n    }\r\n    // Compute ellapsed time\r\n    $time_post = microtime(true);\r\n    print &quot;Ellapsed time: &quot;;\r\n    print $time_post-$time_pre;\r\n    print &quot;\\n&quot;;\r\n}\r\n?&gt;\r\n```\r\nyou may refer this - [source](https://github.com/csev/wa4e/tree/master/code/crack)","title":"How can I generate an MD5 hash in Java?","body":"<p>I have made this using php as follows </p>\n\n<pre><code>&lt;?php\n$goodtext = \"Not found\";\n// If there is no parameter, this code is all skipped\nif ( isset($_GET['md5']) ) {\n    $time_pre = microtime(true);\n    $md5 = $_GET['md5'];\n    // This is our alphabet\n    $txt = \"0123456789\";\n    $show = 15;\n    // Outer loop go go through the alphabet for the\n    // first position in our \"possible\" pre-hash\n    // text\n    for($i=0; $i&lt;strlen($txt); $i++ ) {\n        $ch1 = $txt[$i];   // The first of two characters\n        // Our inner loop Note the use of new variables\n        // $j and $ch2 \n        for($j=0; $j&lt;strlen($txt); $j++ ) {\n            $ch2 = $txt[$j];  // Our second character\n            for($k=0; $k&lt;strlen($txt); $k++ ) {\n                $ch3 = $txt[$k];\n                for($l=0; $l&lt;strlen($txt); $l++){\n                    $ch4 = $txt[$l];\n                    // Concatenate the two characters together to \n                    // form the \"possible\" pre-hash text\n                    $try = $ch1.$ch2.$ch3.$ch4;\n                    // Run the hash and then check to see if we match\n                    $check = hash('md5', $try);\n                    if ( $check == $md5 ) {\n                        $goodtext = $try;\n                        break;   // Exit the inner loop\n                    }\n                    // Debug output until $show hits 0\n                    if ( $show &gt; 0 ) {\n                        print \"$check $try\\n\";\n                        $show = $show - 1;\n                    }\n                    if($goodtext == $try){\n                        break;\n                    }\n                }\n                if($goodtext == $try){\n                    break;\n                }\n            }\n            if($goodtext == $try) {\n                break;  \n            }\n        }\n        if($goodtext == $try){\n            break;\n        }\n    }\n    // Compute ellapsed time\n    $time_post = microtime(true);\n    print \"Ellapsed time: \";\n    print $time_post-$time_pre;\n    print \"\\n\";\n}\n?&gt;\n</code></pre>\n\n<p>you may refer this - <a href=\"https://github.com/csev/wa4e/tree/master/code/crack\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610892294,"creation_date":1610892294,"answer_id":65761536,"question_id":415953,"body_markdown":"You could try using [Caesar](https://github.com/Glusk/caesar).\r\n\r\nFirst option:\r\n\r\n    byte[] hash =\r\n        new Hash(\r\n            new ImmutableMessageDigest(\r\n                MessageDigest.getInstance(&quot;MD5&quot;)\r\n            ),\r\n            new PlainText(&quot;String to hash...&quot;)\r\n        ).asArray();\r\n\r\nSecond option:\r\n\r\n    byte[] hash =\r\n        new ImmutableMessageDigest(\r\n            MessageDigest.getInstance(&quot;MD5&quot;)\r\n        ).update(\r\n            new PlainText(&quot;String to hash...&quot;)\r\n        ).digest();","title":"How can I generate an MD5 hash in Java?","body":"<p>You could try using <a href=\"https://github.com/Glusk/caesar\" rel=\"nofollow noreferrer\">Caesar</a>.</p>\n<p>First option:</p>\n<pre><code>byte[] hash =\n    new Hash(\n        new ImmutableMessageDigest(\n            MessageDigest.getInstance(&quot;MD5&quot;)\n        ),\n        new PlainText(&quot;String to hash...&quot;)\n    ).asArray();\n</code></pre>\n<p>Second option:</p>\n<pre><code>byte[] hash =\n    new ImmutableMessageDigest(\n        MessageDigest.getInstance(&quot;MD5&quot;)\n    ).update(\n        new PlainText(&quot;String to hash...&quot;)\n    ).digest();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18977650,"reputation":167,"user_id":13849761,"display_name":"TheShoqanebi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670535750,"creation_date":1650502993,"answer_id":71947808,"question_id":415953,"body_markdown":"Simple function using `java.security.MessageDigest` library\r\n```\r\npublic String stringMD5Hash(String text) throws NoSuchAlgorithmException {\r\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    byte[] bytes = messageDigest.digest(text.getBytes());\r\n    StringJoiner stringJoiner = new StringJoiner(&quot;&quot;);\r\n    for (byte b : bytes) {\r\n        stringJoiner.add(Integer.toHexString((b &amp; 0xFF) | 0x100).substring(1, 3));\r\n    }\r\n    return stringJoiner.toString();\r\n}\r\n```\r\nand for files use this function\r\n```\r\npublic static String FileMD5Hash(File file) throws NoSuchAlgorithmException, IOException {\r\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    byte[] bytes = messageDigest.digest(getFileBytes(file));\r\n    StringJoiner stringJoiner = new StringJoiner(&quot;&quot;);\r\n    for (byte b : bytes) {\r\n        stringJoiner.add(Integer.toHexString((b &amp; 0xFF) | 0x100).substring(1, 3));\r\n    }\r\n    return stringJoiner.toString();\r\n}\r\n\r\npublic static byte[] getFileBytes(File file) throws IOException{\r\n    InputStream inputStream = new FileInputStream(file);\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    byte[] bytes = new byte[1024];\r\n    int bytesRead;\r\n    while ((bytesRead = inputStream.read(bytes)) != -1) {\r\n        byteArrayOutputStream.write(bytes, 0, bytesRead);\r\n    }\r\n    return byteArrayOutputStream.toByteArray();\r\n}\r\n```","title":"How can I generate an MD5 hash in Java?","body":"<p>Simple function using <code>java.security.MessageDigest</code> library</p>\n<pre><code>public String stringMD5Hash(String text) throws NoSuchAlgorithmException {\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n    byte[] bytes = messageDigest.digest(text.getBytes());\n    StringJoiner stringJoiner = new StringJoiner(&quot;&quot;);\n    for (byte b : bytes) {\n        stringJoiner.add(Integer.toHexString((b &amp; 0xFF) | 0x100).substring(1, 3));\n    }\n    return stringJoiner.toString();\n}\n</code></pre>\n<p>and for files use this function</p>\n<pre><code>public static String FileMD5Hash(File file) throws NoSuchAlgorithmException, IOException {\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n    byte[] bytes = messageDigest.digest(getFileBytes(file));\n    StringJoiner stringJoiner = new StringJoiner(&quot;&quot;);\n    for (byte b : bytes) {\n        stringJoiner.add(Integer.toHexString((b &amp; 0xFF) | 0x100).substring(1, 3));\n    }\n    return stringJoiner.toString();\n}\n\npublic static byte[] getFileBytes(File file) throws IOException{\n    InputStream inputStream = new FileInputStream(file);\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    byte[] bytes = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = inputStream.read(bytes)) != -1) {\n        byteArrayOutputStream.write(bytes, 0, bytesRead);\n    }\n    return byteArrayOutputStream.toByteArray();\n}\n</code></pre>\n"}],"owner":{"account_id":145975,"reputation":11823,"user_id":356145,"accept_rate":50,"display_name":"Akshay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147239,"favorite_count":0,"down_vote_count":5,"up_vote_count":1097,"accepted_answer_id":415956,"answer_count":34,"score":1092,"last_activity_date":1670535750,"creation_date":1231235112,"question_id":415953,"body_markdown":"Is there any method to generate MD5 hash of a string in Java?","title":"How can I generate an MD5 hash in Java?","body":"<p>Is there any method to generate MD5 hash of a string in Java?</p>\n"},{"tags":["java","spring","spring-boot","groovy"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670535706,"creation_date":1670535706,"answer_id":74736631,"question_id":74733611,"body_markdown":"No need to hack, there is an API! :)\r\n\r\n[`SpringBootApplication`][1]`|`[`EnableAutoConfiguration`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html#exclude())`#exclude()`.\r\n\r\n\r\nJust like:\r\n```\r\n@SpringbootApplication(exclude = com.app.api.config.testAutoConfig.class) // type safe alternative : Class[]\r\nclass MyApp // ...\r\n```\r\n\r\nFor *exclusion*, the &quot;non-type-safe&quot;/string alternative makes sense:\r\n```\r\n@SpringbootApplication(excludeName = &quot;com.app.api.config.testAutoConfig&quot;) // ... String[]\r\n```\r\n\r\n[**`#excludeName`**][2]\r\n\r\n...  which brings the advantage, to (possibly!?) exclude it from your class path (completely;)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html#exclude()\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html#excludeName()","title":"How to Ignore Spring boot configuration in the dependency","body":"<p>No need to hack, there is an API! :)</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html#exclude()\" rel=\"nofollow noreferrer\"><code>SpringBootApplication</code></a><code>|</code><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html#exclude()\" rel=\"nofollow noreferrer\"><code>EnableAutoConfiguration</code></a><code>#exclude()</code>.</p>\n<p>Just like:</p>\n<pre><code>@SpringbootApplication(exclude = com.app.api.config.testAutoConfig.class) // type safe alternative : Class[]\nclass MyApp // ...\n</code></pre>\n<p>For <em>exclusion</em>, the &quot;non-type-safe&quot;/string alternative makes sense:</p>\n<pre><code>@SpringbootApplication(excludeName = &quot;com.app.api.config.testAutoConfig&quot;) // ... String[]\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html#excludeName()\" rel=\"nofollow noreferrer\"><strong><code>#excludeName</code></strong></a></p>\n<p>...  which brings the advantage, to (possibly!?) exclude it from your class path (completely;)</p>\n"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670535706,"creation_date":1670517931,"question_id":74733611,"body_markdown":"I am working on test framework application, which is built in groovy, java 8 and springboot framework.  Recently, one of the dependencies was upgraded to its latest version.\r\n\r\nWhen I run the tests, the test fails with below message:\r\n\r\n````\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: class path resource\r\n\r\n\tat org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:229)\r\n\t... 86 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n\t... 92 more\r\n\r\n````\r\n\r\nI see this error coming from the autoconfiguration in spring.factories of one of dependency:\r\norg.springframework.boot.autoconfigure.EnableAutoConfiguration= \\\r\ncom.app.api.config.testAutoConfig \r\n\r\nI am guessing this issue is occurring because the dependency is built in Java17 and I am compiling my test framework in Java 8. \r\n\r\nHow can I ignore the autoconfiguration in the dependency.  Is there a hack or what is the correct way of implementing the solution. \r\n\r\n","title":"How to Ignore Spring boot configuration in the dependency","body":"<p>I am working on test framework application, which is built in groovy, java 8 and springboot framework.  Recently, one of the dependencies was upgraded to its latest version.</p>\n<p>When I run the tests, the test fails with below message:</p>\n<pre><code>Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: class path resource\n\n    at org.springframework.boot.autoconfigure.AutoConfigurationSorter$AutoConfigurationClass.getAnnotationMetadata(AutoConfigurationSorter.java:229)\n    ... 86 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n    ... 92 more\n\n</code></pre>\n<p>I see this error coming from the autoconfiguration in spring.factories of one of dependency:\norg.springframework.boot.autoconfigure.EnableAutoConfiguration= <br />\ncom.app.api.config.testAutoConfig</p>\n<p>I am guessing this issue is occurring because the dependency is built in Java17 and I am compiling my test framework in Java 8.</p>\n<p>How can I ignore the autoconfiguration in the dependency.  Is there a hack or what is the correct way of implementing the solution.</p>\n"},{"tags":["java","recursion","stack-overflow","flood-fill"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":2,"creation_date":1670471630,"post_id":74725168,"comment_id":131885023,"body_markdown":"When asking a question about code, the **very first** tag you add should be for the language you&#39;re using, and you should provide a [mre] that demonstrates the issue. Please [edit] your question to add that tag. Also, you&#39;ll find your experiences here will be much better if you spend some time taking the [tour] and reading the [help] pages to learn how the site works before you begin posting.","body":"When asking a question about code, the <b>very first</b> tag you add should be for the language you&#39;re using, and you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the issue. Please <a href=\"https://stackoverflow.com/posts/74725168/edit\">edit</a> your question to add that tag. Also, you&#39;ll find your experiences here will be much better if you spend some time taking the <a href=\"https://stackoverflow.com/tour\">tour</a> and reading the <a href=\"https://stackoverflow.com/help\">help center</a> pages to learn how the site works before you begin posting."}],"answers":[{"tags":[],"owner":{"account_id":102338,"reputation":5243,"user_id":274757,"accept_rate":72,"display_name":"dagnelies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670521020,"creation_date":1670521020,"answer_id":74734243,"question_id":74725168,"body_markdown":"What you wrote is a recursive function, it calls itself.\r\n\r\nAt first sight, it looks ok, but it &quot;expands very fast&quot;.\r\n\r\nIn the first call to `flood(0,0)`, it will &quot;stack&quot; `flood(1,0)` which will then &quot;stack&quot; `flood(2,0)` ... which will then stack `flood(100,100)` and only at this point will the method return for the first time!\r\n\r\nThat means that the stack size is roughly 10000 before the stack (of methods to continue processing once the current one is done) starts to &quot;shrink back&quot; after that point.\r\n\r\nThe basics of your method is correct, and I suppose it will work for a small array size, it&#39;s just a too big stack for a default JVM.","title":"Can anyone please tell me why my flood fill is causing stackoverflow error?","body":"<p>What you wrote is a recursive function, it calls itself.</p>\n<p>At first sight, it looks ok, but it &quot;expands very fast&quot;.</p>\n<p>In the first call to <code>flood(0,0)</code>, it will &quot;stack&quot; <code>flood(1,0)</code> which will then &quot;stack&quot; <code>flood(2,0)</code> ... which will then stack <code>flood(100,100)</code> and only at this point will the method return for the first time!</p>\n<p>That means that the stack size is roughly 10000 before the stack (of methods to continue processing once the current one is done) starts to &quot;shrink back&quot; after that point.</p>\n<p>The basics of your method is correct, and I suppose it will work for a small array size, it's just a too big stack for a default JVM.</p>\n"}],"owner":{"account_id":27184972,"reputation":13,"user_id":20719557,"display_name":"Milka1968"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670666786,"accepted_answer_id":74734243,"answer_count":1,"score":0,"last_activity_date":1670535378,"creation_date":1670469938,"question_id":74725168,"body_markdown":"```lang-java\r\npublic static int flood(int x, int y) {\r\n    if(x&lt;0||y&lt;0||x&gt;101||y&gt;101||went[x][y]) return 0;\r\n    System.out.println(x + &quot; &quot;  + y);\r\n    went[x][y] = true;\r\n    if(grid[x][y] == 1) return 1;\r\n    int result = 0;\r\n    result += flood(x+1,y);\r\n    result += flood(x,y+1);\r\n    result += flood(x-1,y);\r\n    result += flood(x,y-1);\r\n    return result;\r\n}\r\n```\r\n\r\nThe code never came back to the same coordinate, but it is still somehow crashing.\r\n\r\n**P.S.** `went` is a 2d boolean array.","title":"Can anyone please tell me why my flood fill is causing stackoverflow error?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int flood(int x, int y) {\n    if(x&lt;0||y&lt;0||x&gt;101||y&gt;101||went[x][y]) return 0;\n    System.out.println(x + &quot; &quot;  + y);\n    went[x][y] = true;\n    if(grid[x][y] == 1) return 1;\n    int result = 0;\n    result += flood(x+1,y);\n    result += flood(x,y+1);\n    result += flood(x-1,y);\n    result += flood(x,y-1);\n    return result;\n}\n</code></pre>\n<p>The code never came back to the same coordinate, but it is still somehow crashing.</p>\n<p><strong>P.S.</strong> <code>went</code> is a 2d boolean array.</p>\n"},{"tags":["java","janusgraph","gremlin-server"],"answers":[{"tags":[],"owner":{"account_id":3282900,"reputation":3716,"user_id":2763058,"accept_rate":47,"display_name":"foxtrotuniform6969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670535278,"creation_date":1670438713,"answer_id":74721551,"question_id":57612857,"body_markdown":"They really don&#39;t seem to want you to do this from Java. Check my [initial commit to an example repo I built](https://github.com/baughmann/janusgraph-configuredgraphfactory-java-demo/blob/7c4f89882d8c50280a3e78556384dee88e0bdd22/janusgraph-configuredgraphfactory-demo/src/main/kotlin/Main.kt#L29).\r\n\r\nThe general deal is that there is a bunch of internal magic happening. You need to make a new embedded instance of the `ConfigurationManagementGraph` and a few other things. The steps to get `ConfiguredGraphFactory` up and running are:\r\n\r\n```kotlin\r\nJanusGraphManager(Settings())\r\n// the configuration file you used for your ConfigurationManagementGraph in your `janusgrpah-server.yaml` file\r\nval mgrConfFile = File(&quot;conf/janusgraph-cql-configurationgraph.properties&quot;)\r\n// load the configuration\r\nval base = CommonsConfiguration(ConfigurationUtil.loadPropertiesConfig(mgrConfFile))\r\n// modify a fe wthings specific to the ConfigurationManagementGraph\r\nbase.set(&quot;graph.graphname&quot;, &quot;name-of-this-graph-instance&quot;)\r\nbase.set(&quot;graph.unique-instance-id&quot;, &quot;some-super-unique-id&quot;)\r\nbase.set(&quot;storage.lock.local-mediator-group&quot;, &quot;tmp&quot;)\r\n// duplicate the config for some reason?\r\nval local = ModifiableConfiguration(GraphDatabaseConfiguration.ROOT_NS, base, BasicConfiguration.Restriction.NONE)\r\n// build another type of configuration?\r\nval config = GraphDatabaseConfiguration(base, local, instanceId, local)\r\n// create the new ConfigurationManagementGraph instance\r\nreturn ConfigurationManagementGraph(StandardJanusGraph(config))\r\n```\r\nDon&#39;t forget that you will still need to create a [template configuration first](https://docs.janusgraph.org/operations/configured-graph-factory/#template-configuration).\r\n\r\nNow, you can use the singleton `ConfiguredGraphFactory` anywhere in your application, just like the docs say.\r\n\r\n```kotlin\r\nval myGraph = ConfiguredGraphFactory.open(&quot;myGraph&quot;)\r\n```\r\n\r\nKeep in mind that you may not need to do this. The `Client.submit()` function comes in handy for most things. For example:\r\n```kotlin\r\n// connect to the gremlin server\r\nval cluster = Cluster.build(&quot;localhost&quot;).create()\r\nval client = cluster.connect&lt;Client.ClusteredClient&gt;()\r\n// example: get a list of existing graph names\r\nval existingGraphs = client.submit(&quot;ConfiguredGraphFactory.getGraphNames()&quot;).all().get()\r\n// check if a graph exists\r\nval exists = existingGraphs.any { it.string == &quot;myGraph&quot; }\r\n// create a new graph with the existing template\r\n// (note: this *cannot* be cast to a JanusGraph, even though that would make this really useful)\r\nval myGraph: TinkerGraph = client.submit(&quot;ConfiguredGraphFactory.getGraphNames()&quot;).all().get().first().get(TinkerGraph::class.java)\r\n```\r\n\r\n**EDIT:**\r\n\r\nAs @FlorianHockmann pointed out on the JanusGraph discord server, it&#39;s preferable to *not* use these objects directly from your Java. Instead, it&#39;s better to use a `Client.SessionedClient` when you connect, like so\r\n```kotlin\r\nval cluster = Cluster.build(&quot;localhost&quot;).create()\r\nval session = cluster.connect&lt;Client.SessionedClient&gt;()\r\n```\r\n\r\nSince you&#39;ve established a session, you can now save and re-use variables on the server. As Florian put it,\r\n```kotlin\r\nclient.submit(&quot;mgmt = ConfiguredGraphFactory.open(&#39;myGraph&#39;).openManagement()&quot;).all().get()\r\n// afterwards you can use it:\r\nclient.submit(&quot;// do stuff with mgmt&quot;).all().get()\r\n```\r\n\r\nJust don&#39;t forget to call `session.close()` when you&#39;re done!\r\n\r\nCheck out [this gist I made](&quot;https://gist.github.com/baughmann/3336984f2f0f43fa6d20f4b9b821eac1) for an example\r\n","title":"How to get JanusGraphManagement from Java","body":"<p>They really don't seem to want you to do this from Java. Check my <a href=\"https://github.com/baughmann/janusgraph-configuredgraphfactory-java-demo/blob/7c4f89882d8c50280a3e78556384dee88e0bdd22/janusgraph-configuredgraphfactory-demo/src/main/kotlin/Main.kt#L29\" rel=\"nofollow noreferrer\">initial commit to an example repo I built</a>.</p>\n<p>The general deal is that there is a bunch of internal magic happening. You need to make a new embedded instance of the <code>ConfigurationManagementGraph</code> and a few other things. The steps to get <code>ConfiguredGraphFactory</code> up and running are:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>JanusGraphManager(Settings())\n// the configuration file you used for your ConfigurationManagementGraph in your `janusgrpah-server.yaml` file\nval mgrConfFile = File(&quot;conf/janusgraph-cql-configurationgraph.properties&quot;)\n// load the configuration\nval base = CommonsConfiguration(ConfigurationUtil.loadPropertiesConfig(mgrConfFile))\n// modify a fe wthings specific to the ConfigurationManagementGraph\nbase.set(&quot;graph.graphname&quot;, &quot;name-of-this-graph-instance&quot;)\nbase.set(&quot;graph.unique-instance-id&quot;, &quot;some-super-unique-id&quot;)\nbase.set(&quot;storage.lock.local-mediator-group&quot;, &quot;tmp&quot;)\n// duplicate the config for some reason?\nval local = ModifiableConfiguration(GraphDatabaseConfiguration.ROOT_NS, base, BasicConfiguration.Restriction.NONE)\n// build another type of configuration?\nval config = GraphDatabaseConfiguration(base, local, instanceId, local)\n// create the new ConfigurationManagementGraph instance\nreturn ConfigurationManagementGraph(StandardJanusGraph(config))\n</code></pre>\n<p>Don't forget that you will still need to create a <a href=\"https://docs.janusgraph.org/operations/configured-graph-factory/#template-configuration\" rel=\"nofollow noreferrer\">template configuration first</a>.</p>\n<p>Now, you can use the singleton <code>ConfiguredGraphFactory</code> anywhere in your application, just like the docs say.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myGraph = ConfiguredGraphFactory.open(&quot;myGraph&quot;)\n</code></pre>\n<p>Keep in mind that you may not need to do this. The <code>Client.submit()</code> function comes in handy for most things. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// connect to the gremlin server\nval cluster = Cluster.build(&quot;localhost&quot;).create()\nval client = cluster.connect&lt;Client.ClusteredClient&gt;()\n// example: get a list of existing graph names\nval existingGraphs = client.submit(&quot;ConfiguredGraphFactory.getGraphNames()&quot;).all().get()\n// check if a graph exists\nval exists = existingGraphs.any { it.string == &quot;myGraph&quot; }\n// create a new graph with the existing template\n// (note: this *cannot* be cast to a JanusGraph, even though that would make this really useful)\nval myGraph: TinkerGraph = client.submit(&quot;ConfiguredGraphFactory.getGraphNames()&quot;).all().get().first().get(TinkerGraph::class.java)\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>As @FlorianHockmann pointed out on the JanusGraph discord server, it's preferable to <em>not</em> use these objects directly from your Java. Instead, it's better to use a <code>Client.SessionedClient</code> when you connect, like so</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val cluster = Cluster.build(&quot;localhost&quot;).create()\nval session = cluster.connect&lt;Client.SessionedClient&gt;()\n</code></pre>\n<p>Since you've established a session, you can now save and re-use variables on the server. As Florian put it,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>client.submit(&quot;mgmt = ConfiguredGraphFactory.open('myGraph').openManagement()&quot;).all().get()\n// afterwards you can use it:\nclient.submit(&quot;// do stuff with mgmt&quot;).all().get()\n</code></pre>\n<p>Just don't forget to call <code>session.close()</code> when you're done!</p>\n<p>Check out this gist I made for an example</p>\n"}],"owner":{"account_id":5687562,"reputation":445,"user_id":4496605,"display_name":"Pistacchio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1670535278,"creation_date":1566488155,"question_id":57612857,"body_markdown":"I can&#39;t understand how to get a JanusGraphManagement instance from a graph created with the ConfiguredGraphFactory.\r\n\r\n\r\nI tried doing something like this: \r\n\r\n```\r\n        JanusGraphFactory.Builder config = JanusGraphFactory.build();\r\n        config.set(&quot;storage.hostname&quot;, storageHostname);\r\n        config.set(&quot;storage.port&quot;, storagePort);\r\n        config.set(&quot;storage.backend&quot;, STORAGE_BACKEND);\r\n        config.set(&quot;index.search.backend&quot;, SEARCH_BACKEND);\r\n        config.set(&quot;index.search.hostname&quot;, indexHostname);\r\n        config.set(&quot;index.search.port&quot;, indexPort);\r\n        config.set(&quot;graph.graphname&quot;, graphName);\r\n\r\n        JanusGraph graph = config.open();\r\n        JanusGraphManagement mgmt = graph.openManagement();\r\n```\r\n\r\nBut it generates the following exception:\r\n\r\n&gt; java.lang.NullPointerException: Gremlin Server must be configured to use the JanusGraphManager.\r\n\r\nThe gremlin-server is ruinning with the following configuration: \r\n\r\n```\r\nhost: 0.0.0.0\r\nport: 8182\r\nscriptEvaluationTimeout: 180000\r\n# channelizer: org.apache.tinkerpop.gremlin.server.channel.WebSocketChannelizer\r\nchannelizer: org.janusgraph.channelizers.JanusGraphWebSocketChannelizer\r\ngraphManager: org.janusgraph.graphdb.management.JanusGraphManager\r\ngraphs: {\r\n  #graph: conf/gremlin-server/janusgraph-cql-es-server.properties,\r\n  ConfigurationManagementGraph: conf/gremlin-server/janusgraph-cql-es-server-configured.properties\r\n}\r\n.....\r\n```\r\n\r\nAnd the JanusGraph&#39;s one is this:\r\n\r\n```\r\ngremlin.graph=org.janusgraph.core.ConfiguredGraphFactory\r\ngraph.graphname=ConfigurationManagementGraph\r\nstorage.backend=cql\r\nstorage.hostname=127.0.0.1\r\nstorage.cql.keyspace=janusgraph\r\ncache.db-cache = true\r\ncache.db-cache-time = 180000\r\ncache.db-cache-size = 0.25\r\nindex.search.backend=elasticsearch\r\nindex.search.hostname=127.0.0.1\r\nindex.search.elasticsearch.client-only=true\r\n```\r\n\r\nWhat I&#39;d like to do is to define the graph schema directly from Java code, that&#39;s why I need to the a managment instance and a traversal source is not enough","title":"How to get JanusGraphManagement from Java","body":"<p>I can't understand how to get a JanusGraphManagement instance from a graph created with the ConfiguredGraphFactory.</p>\n\n<p>I tried doing something like this: </p>\n\n<pre><code>        JanusGraphFactory.Builder config = JanusGraphFactory.build();\n        config.set(\"storage.hostname\", storageHostname);\n        config.set(\"storage.port\", storagePort);\n        config.set(\"storage.backend\", STORAGE_BACKEND);\n        config.set(\"index.search.backend\", SEARCH_BACKEND);\n        config.set(\"index.search.hostname\", indexHostname);\n        config.set(\"index.search.port\", indexPort);\n        config.set(\"graph.graphname\", graphName);\n\n        JanusGraph graph = config.open();\n        JanusGraphManagement mgmt = graph.openManagement();\n</code></pre>\n\n<p>But it generates the following exception:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Gremlin Server must be configured to use the JanusGraphManager.</p>\n</blockquote>\n\n<p>The gremlin-server is ruinning with the following configuration: </p>\n\n<pre><code>host: 0.0.0.0\nport: 8182\nscriptEvaluationTimeout: 180000\n# channelizer: org.apache.tinkerpop.gremlin.server.channel.WebSocketChannelizer\nchannelizer: org.janusgraph.channelizers.JanusGraphWebSocketChannelizer\ngraphManager: org.janusgraph.graphdb.management.JanusGraphManager\ngraphs: {\n  #graph: conf/gremlin-server/janusgraph-cql-es-server.properties,\n  ConfigurationManagementGraph: conf/gremlin-server/janusgraph-cql-es-server-configured.properties\n}\n.....\n</code></pre>\n\n<p>And the JanusGraph's one is this:</p>\n\n<pre><code>gremlin.graph=org.janusgraph.core.ConfiguredGraphFactory\ngraph.graphname=ConfigurationManagementGraph\nstorage.backend=cql\nstorage.hostname=127.0.0.1\nstorage.cql.keyspace=janusgraph\ncache.db-cache = true\ncache.db-cache-time = 180000\ncache.db-cache-size = 0.25\nindex.search.backend=elasticsearch\nindex.search.hostname=127.0.0.1\nindex.search.elasticsearch.client-only=true\n</code></pre>\n\n<p>What I'd like to do is to define the graph schema directly from Java code, that's why I need to the a managment instance and a traversal source is not enough</p>\n"},{"tags":["java","dictionary","collections","hashmap","apex"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1670448873,"post_id":74722623,"comment_id":131881363,"body_markdown":"Consider asking on https://codereview.stackexchange.com/","body":"Consider asking on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670512816,"post_id":74722623,"comment_id":131896439,"body_markdown":"In Java, string literals are delimited by double quotes, i.e. `&quot;`, not single quotes. Further, the `isBlank` method is not static, so expressions like `String.isBlank(rule.C)` are invalid. Its also unclear why your application needs an `isBlank` check, rather than using empty strings for absent values consistently. Using string concatenation for constructing compound keys can lead to ambiguities, as there is no difference between, e.g. `&quot;ab&quot; + &quot;cd&quot;&#39;` and `&quot;abc&quot; + &quot;d&quot;&#39;`. And its horribly inefficient. You are even maxing out the inefficiency by unnecessarily repeating the string concatenation.","body":"In Java, string literals are delimited by double quotes, i.e. <code>&quot;</code>, not single quotes. Further, the <code>isBlank</code> method is not static, so expressions like <code>String.isBlank(rule.C)</code> are invalid. Its also unclear why your application needs an <code>isBlank</code> check, rather than using empty strings for absent values consistently. Using string concatenation for constructing compound keys can lead to ambiguities, as there is no difference between, e.g. <code>&quot;ab&quot; + &quot;cd&quot;&#39;</code> and <code>&quot;abc&quot; + &quot;d&quot;&#39;</code>. And its horribly inefficient. You are even maxing out the inefficiency by unnecessarily repeating the string concatenation."},{"owner":{"account_id":12655460,"reputation":21,"user_id":9198136,"display_name":"kryptt"},"score":0,"creation_date":1670533698,"post_id":74722623,"comment_id":131902940,"body_markdown":"The code is in salesforce&#180;s apex . The quotes we use single instead of doubles. For the String.isblank(x) it&#39;s used a static method, I use it here so I dont have NULL as string (like: AnullC)\nSorry for the confusion on abcd: those are just my representation of diferent types of variables in a record and not values itself. If better we can think of rules for Score PriceType + CompanyType. Example rule being (HighScore + Indexed + Big) . I&#39;m editing the question with some better examples","body":"The code is in salesforce&#180;s apex . The quotes we use single instead of doubles. For the String.isblank(x) it&#39;s used a static method, I use it here so I dont have NULL as string (like: AnullC) Sorry for the confusion on abcd: those are just my representation of diferent types of variables in a record and not values itself. If better we can think of rules for Score PriceType + CompanyType. Example rule being (HighScore + Indexed + Big) . I&#39;m editing the question with some better examples"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670951826,"post_id":74722623,"comment_id":131989986,"body_markdown":"Then, dont tag your question with `java` when it isnt Java. And it doesnt matter what actual strings you have, it doesnt change the fact that using concatenation to construct keys can lead to ambiguous keys and is inefficient. Using something like `List.of(a, b, c, d)` has no ambiguities and is more efficient at the same time. But well, thats Java. Dont know what the Apex equivalent looks like.","body":"Then, dont tag your question with <code>java</code> when it isnt Java. And it doesnt matter what actual strings you have, it doesnt change the fact that using concatenation to construct keys can lead to ambiguous keys and is inefficient. Using something like <code>List.of(a, b, c, d)</code> has no ambiguities and is more efficient at the same time. But well, thats Java. Dont know what the Apex equivalent looks like."}],"owner":{"account_id":12655460,"reputation":21,"user_id":9198136,"display_name":"kryptt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670535139,"creation_date":1670445295,"question_id":74722623,"body_markdown":"Need your help because I&#39;m overthinking a bit. :P \r\nI&#39;m doing a development in apex where we build a Map based on certain keys. Those keys are a mix of multiple variables and so when building a map we have something like:\r\n\r\n```\r\nfor(rule){\r\n    key = String.isBlank(rule.CompanyRisk) ? &#39;&#39; : rule.CompanyRisk;\r\n    key +=  String.isBlank(rule.PriceType) ? &#39;&#39; : rule.PriceType;\r\n    key +=  String.isBlank(rule.Product) ? &#39;&#39; : rule.Product;\r\n    key +=  String.isBlank(rule.CompanySize) ? &#39;&#39; : rule.CompanySize;\r\n    //..\r\n    map.put(Key, rule.Value);\r\n}\r\nreturn map;\r\n\r\n//and later to get the correct value\r\nfor(offerRecord){\r\nString accRisk = offerRecord.CompanyRisk;\r\nString price = offerRecord.PriceType;\r\nString product= offerRecord.Product;\r\nString accSize = offerRecord.CompanySize;\r\n\r\n    if(map.contains(accRisk + price + product + accSize)){\r\n        key = accRisk + price + product + accSize;\r\n    }else if(map.contains( accRisk + price + product + &#39;&#39;)){\r\n        key = accRisk + price + product + &#39;&#39;;\r\n    }else if(map.contains(accRisk + price + &#39;&#39; + accSize)){\r\n        key = accRisk + price + &#39;&#39; + accSize,\r\n    }else if.. //16 conditions now (4 variables as optional)\r\n}\r\nreturn map.get(key);\r\n```\r\n\r\n**Issue:**\r\nSome fields on the key are optional and that happens so the users dont need to create all the rules for all the combinatorions. and when those  optional fields are empty/null it&#39;s because it applies for all values of the field.\r\n\r\n**Example**: We can have a rule as (LowRisk + Indexed + Computer + Small) with Value=4 and a rule for (Low + Indexed + Computer + &#39;&#39; ) with Value=5 , meaning if the company is small applies the 1st rule but if it it&#39;s medium/big/top it applies the one without. Same for the other fields. I can have just one saying (HighRisk + + +) with a value of 0 without the need of specifying all the other criteriums and it applies for all of them.\r\n\r\nBecause we need to always checking first rules/keys with the optional fields filled, it will become a mess due to a lot of if else. \r\nThe conditions are like (ABCD, ABC, ABD, AB, ACD, AC, AD, A, BCD, BC, BD, B, CD, C, D ,&#39;&#39; )\r\n\r\n\r\nIs there any better solution that could improve this?\r\n\r\nI was trying now building some Wrapper class that would return a List for the all combinations and then have a specific method getRuleForRecord() which based on the List (ordered) creates a key from the values of record and checks if map has that key. Not a much prettier aproach. The worst now is building the listOfCombinations on the order I want\r\n\r\n```\r\nList&lt;String&gt; keyList = singleton.listOfCombinations;\r\nfor (String fieldList : keyList) {\r\n    String mapKey = &#39;&#39;;\r\n    for (String field : fieldList.split(&#39;_&#39;)) {\r\n        mapKey += recordToGetInfoFrom.get(field);\r\n    }\r\n    if (singleton.ruleMap.containsKey(mapKey)) {\r\n        return singleton.remRules.get(mapKey);\r\n    }\r\n}\r\n```","title":"Map with optional variables as Keys and multiple if elseif condition","body":"<p>Need your help because I'm overthinking a bit. :P\nI'm doing a development in apex where we build a Map based on certain keys. Those keys are a mix of multiple variables and so when building a map we have something like:</p>\n<pre><code>for(rule){\n    key = String.isBlank(rule.CompanyRisk) ? '' : rule.CompanyRisk;\n    key +=  String.isBlank(rule.PriceType) ? '' : rule.PriceType;\n    key +=  String.isBlank(rule.Product) ? '' : rule.Product;\n    key +=  String.isBlank(rule.CompanySize) ? '' : rule.CompanySize;\n    //..\n    map.put(Key, rule.Value);\n}\nreturn map;\n\n//and later to get the correct value\nfor(offerRecord){\nString accRisk = offerRecord.CompanyRisk;\nString price = offerRecord.PriceType;\nString product= offerRecord.Product;\nString accSize = offerRecord.CompanySize;\n\n    if(map.contains(accRisk + price + product + accSize)){\n        key = accRisk + price + product + accSize;\n    }else if(map.contains( accRisk + price + product + '')){\n        key = accRisk + price + product + '';\n    }else if(map.contains(accRisk + price + '' + accSize)){\n        key = accRisk + price + '' + accSize,\n    }else if.. //16 conditions now (4 variables as optional)\n}\nreturn map.get(key);\n</code></pre>\n<p><strong>Issue:</strong>\nSome fields on the key are optional and that happens so the users dont need to create all the rules for all the combinatorions. and when those  optional fields are empty/null it's because it applies for all values of the field.</p>\n<p><strong>Example</strong>: We can have a rule as (LowRisk + Indexed + Computer + Small) with Value=4 and a rule for (Low + Indexed + Computer + '' ) with Value=5 , meaning if the company is small applies the 1st rule but if it it's medium/big/top it applies the one without. Same for the other fields. I can have just one saying (HighRisk + + +) with a value of 0 without the need of specifying all the other criteriums and it applies for all of them.</p>\n<p>Because we need to always checking first rules/keys with the optional fields filled, it will become a mess due to a lot of if else.\nThe conditions are like (ABCD, ABC, ABD, AB, ACD, AC, AD, A, BCD, BC, BD, B, CD, C, D ,'' )</p>\n<p>Is there any better solution that could improve this?</p>\n<p>I was trying now building some Wrapper class that would return a List for the all combinations and then have a specific method getRuleForRecord() which based on the List (ordered) creates a key from the values of record and checks if map has that key. Not a much prettier aproach. The worst now is building the listOfCombinations on the order I want</p>\n<pre><code>List&lt;String&gt; keyList = singleton.listOfCombinations;\nfor (String fieldList : keyList) {\n    String mapKey = '';\n    for (String field : fieldList.split('_')) {\n        mapKey += recordToGetInfoFrom.get(field);\n    }\n    if (singleton.ruleMap.containsKey(mapKey)) {\n        return singleton.remRules.get(mapKey);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-el"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1541065097,"post_id":53098520,"comment_id":93092896,"body_markdown":"No. Annotations need to be static . Next to that placeholders is a Spring functionality and not Hibernate.","body":"No. Annotations need to be static . Next to that placeholders is a Spring functionality and not Hibernate."},{"owner":{"display_name":"user10527814"},"score":2,"creation_date":1541065728,"post_id":53098520,"comment_id":93093219,"body_markdown":"You can set schema in `application.properties` using `spring.jpa.properties.hibernate.default_schema=schema`","body":"You can set schema in <code>application.properties</code> using <code>spring.jpa.properties.hibernate.default_schema=schema</code>"}],"answers":[{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670534888,"creation_date":1670534888,"answer_id":74736513,"question_id":53098520,"body_markdown":"You can try default_schema: ${schema} in your app.yml and in test, you can supply the value of schema in app-test.yml.","title":"Is it possible to use values from application.properties to set field of Hibernate @Table annotation","body":"<p>You can try default_schema: ${schema} in your app.yml and in test, you can supply the value of schema in app-test.yml.</p>\n"}],"owner":{"account_id":7187196,"reputation":63,"user_id":5488789,"display_name":"Aleks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670534888,"creation_date":1541064877,"question_id":53098520,"body_markdown":"I have a Spring, Hibernate application. I would like to set `scheme` property of `@Table` annotation like this using value from `application.properties` file.\r\n\r\n    @Entity\r\n    @Table(schema = &quot;${hibernate.scheme}&quot;)\r\n    public class Holidays { \r\n       // code\r\n    }\r\n\r\nBut it does not work. Spring does not substitute `${hibernate.scheme}` with property value. Is there a way to solve it?\r\n\r\nI am trying to do this to use different scheme for tests.","title":"Is it possible to use values from application.properties to set field of Hibernate @Table annotation","body":"<p>I have a Spring, Hibernate application. I would like to set <code>scheme</code> property of <code>@Table</code> annotation like this using value from <code>application.properties</code> file.</p>\n\n<pre><code>@Entity\n@Table(schema = \"${hibernate.scheme}\")\npublic class Holidays { \n   // code\n}\n</code></pre>\n\n<p>But it does not work. Spring does not substitute <code>${hibernate.scheme}</code> with property value. Is there a way to solve it?</p>\n\n<p>I am trying to do this to use different scheme for tests.</p>\n"},{"tags":["java","encryption","javax.crypto"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1670540973,"post_id":74736093,"comment_id":131904621,"body_markdown":"I have never seen these defined as constants.  You can, of course, define them yourself in your own class.","body":"I have never seen these defined as constants.  You can, of course, define them yourself in your own class."}],"owner":{"account_id":26308299,"reputation":121,"user_id":19972353,"display_name":"Shaun Phillips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670534744,"creation_date":1670532056,"question_id":74736093,"body_markdown":"If I needed to reference an encoding, like UTF-8, I&#39;d typically reference the ```StandardCharset.UTF-8``` static, not use a String literal ```&quot;UTF-8&quot;```.\r\n\r\nWhen working with cipher transformations, I see everywhere that transformations are given as String literals, like ```Cipher.getInstance(&quot;AES&quot;)``` or ```Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;)```, and occasionally, there&#39;s a typo.\r\n\r\nWhich class can I use for statics of cipher algorithm names, modes and paddings? Does one exist?\r\n\r\nFor reference, [list of permitted names/modes/paddings](https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Cipher) in the docs.","title":"Is there a class containing statics for algorithm names/modes/paddings?","body":"<p>If I needed to reference an encoding, like UTF-8, I'd typically reference the <code>StandardCharset.UTF-8</code> static, not use a String literal <code>&quot;UTF-8&quot;</code>.</p>\n<p>When working with cipher transformations, I see everywhere that transformations are given as String literals, like <code>Cipher.getInstance(&quot;AES&quot;)</code> or <code>Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;)</code>, and occasionally, there's a typo.</p>\n<p>Which class can I use for statics of cipher algorithm names, modes and paddings? Does one exist?</p>\n<p>For reference, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Cipher\" rel=\"nofollow noreferrer\">list of permitted names/modes/paddings</a> in the docs.</p>\n"},{"tags":["java","oop"],"owner":{"account_id":27193146,"reputation":13,"user_id":20726506,"display_name":"ProgrammingTillSuccess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670534035,"creation_date":1670523549,"question_id":74734722,"body_markdown":"I got two classes, this one and other called DailyExpenses that&#39;s full of getters and setters + constructors etc..\r\n\r\nMy problem is that I want to get the sum value of all daily expenses user inputs inside the while loop and print the sum after the program is closed, and I don&#39;t know how to do it.\r\n\r\nHere is my code:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    public class DailyExpensesMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList&lt;DailyExpenses&gt; expenses = new ArrayList&lt;DailyExpenses&gt;();\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tboolean isRunning = true;\t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the date for which you want to record the expenses : &quot;);\r\n    \t\tString date = sc.nextLine();\r\n    \r\n    \t\twhile(isRunning) {\t\t\t\r\n    \t\t\tSystem.out.println(&quot;Enter category: (quit to exit)&quot;);  \r\n    \t\t\tString category = sc.nextLine();\r\n    \t\t\tif(category.equalsIgnoreCase(&quot;quit&quot;)) {   \r\n    \t\t\t\t break;\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println(&quot;Enter price: &quot;);\r\n    \t\t\tdouble price = sc.nextDouble(); \r\n    \t\t \r\n    \t\t\tsc.nextLine();\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;Enter details: &quot;);\r\n    \t\t\tString detail = sc.nextLine();\r\n    \t\t\t \r\n    \t\t\tDailyExpenses newExpense = new DailyExpenses(date, category, price, detail);\t\r\n    \t\t\texpenses.add(newExpense);\t\t\t\t\t\r\n    \t\t}\r\n    \t\t\t\r\n    \t\tsc.close();\r\n    \t\tfor(DailyExpenses u: newExpense) {\t\t\r\n    \t\t\tSystem.out.println(&quot;Date: &quot; + u.getDate() + &quot; Category: &quot; + u.getExpenseCategory() + &quot; Price: &quot; + u.getExpensePrice() + \r\n    \t\t\t\t&quot; Detail: &quot; + u.getExpenseDetail());\r\n    \t\t} \t\t\r\n    \t}\r\n    }\r\n\r\nI still clueless on the situation","title":"How to calculate sum from user input inside while loop","body":"<p>I got two classes, this one and other called DailyExpenses that's full of getters and setters + constructors etc..</p>\n<p>My problem is that I want to get the sum value of all daily expenses user inputs inside the while loop and print the sum after the program is closed, and I don't know how to do it.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class DailyExpensesMain {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;DailyExpenses&gt; expenses = new ArrayList&lt;DailyExpenses&gt;();\n        Scanner sc = new Scanner(System.in);\n        boolean isRunning = true;       \n        \n        System.out.println(&quot;Enter the date for which you want to record the expenses : &quot;);\n        String date = sc.nextLine();\n\n        while(isRunning) {          \n            System.out.println(&quot;Enter category: (quit to exit)&quot;);  \n            String category = sc.nextLine();\n            if(category.equalsIgnoreCase(&quot;quit&quot;)) {   \n                 break;\n            }\n\n            System.out.println(&quot;Enter price: &quot;);\n            double price = sc.nextDouble(); \n         \n            sc.nextLine();              \n                                    \n            System.out.println(&quot;Enter details: &quot;);\n            String detail = sc.nextLine();\n             \n            DailyExpenses newExpense = new DailyExpenses(date, category, price, detail);    \n            expenses.add(newExpense);                   \n        }\n            \n        sc.close();\n        for(DailyExpenses u: newExpense) {      \n            System.out.println(&quot;Date: &quot; + u.getDate() + &quot; Category: &quot; + u.getExpenseCategory() + &quot; Price: &quot; + u.getExpensePrice() + \n                &quot; Detail: &quot; + u.getExpenseDetail());\n        }       \n    }\n}\n</code></pre>\n<p>I still clueless on the situation</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"display_name":"user2421179"},"score":0,"creation_date":1371203711,"post_id":17105610,"comment_id":24747084,"body_markdown":"I&#39;m using Microsoft SQL Server Web Edition (64-bit) version 10.50.1600.1 :)","body":"I&#39;m using Microsoft SQL Server Web Edition (64-bit) version 10.50.1600.1 :)"}],"answers":[{"tags":[],"owner":{"account_id":2664839,"reputation":2876,"user_id":2303568,"display_name":"chetan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371204030,"creation_date":1371204030,"answer_id":17105929,"question_id":17105610,"body_markdown":"I solved same issue by dynamically generating string with required number of question marks.\r\nHere&#39;s a snippet:-\r\n\r\n    String param = &quot;(&quot;;\r\n    for(int i=0;i&lt;suppliers.length;i++){\r\n    param = param+&quot;?,&quot;;\r\n    }\r\n    param = param.substring(0,param.length()-1);\r\n    param=param+&quot;)&quot;;\r\n\r\n    query = query + param;\r\n    \r\n    PreparedStatement ps = connection.prepareStatement(query);\r\n    \r\n    for(int i=0;i&lt;suppliers.length;i++){\r\n    ps.setString(i+1,suppliers[i]);\r\n    }\r\n","title":"Passing an Array to a SQL query using Java&#39;s PreparedStatement","body":"<p>I solved same issue by dynamically generating string with required number of question marks.\nHere's a snippet:-</p>\n\n<pre><code>String param = \"(\";\nfor(int i=0;i&lt;suppliers.length;i++){\nparam = param+\"?,\";\n}\nparam = param.substring(0,param.length()-1);\nparam=param+\")\";\n\nquery = query + param;\n\nPreparedStatement ps = connection.prepareStatement(query);\n\nfor(int i=0;i&lt;suppliers.length;i++){\nps.setString(i+1,suppliers[i]);\n}\n</code></pre>\n"}],"owner":{"display_name":"user2421179"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670533979,"creation_date":1371203025,"question_id":17105610,"body_markdown":"I&#39;ve been having a little trouble passing an array into a SQL query using Java&#39;s prepared statements. I had first tried the sourceforge driver, however I would get the AbstractMethodError when I call setArray method. Not knowing the solution to that I swapped to the Microsoft sqlserver driver, but now I get a different error entirely, which is &quot;java.sql.SQLFeatureNotSupportedException: This operation is not supported.&quot; Tried a whole bunch of things to try and resolve this but nothing appears to work.   \r\n\r\n\r\nMy Java code looks similar to examples I&#39;ve seen here and on the internet, and is as follows,\r\n    \r\n    PreparedStatement ps = connection.prepareStatement(query);\r\n    String[] suppliers = {&quot;21&quot;,&quot;2774&quot;,&quot;120563&quot;,&quot;3714&quot;,&quot;59&quot;};\r\n    ps.setArray(1, connection.createArrayOf(&quot;text&quot;, suppliers));\r\n    ResultSet rs = ps.executeQuery();\r\n\r\n\r\nExample of my SQL queries. The only line of real interest is the line before last where I have added the &#39;?&#39; character, which as I understand it is how I pass a parameter to a SQL Query. \r\n\r\n    productsPrices.query = select contract.supplierid as &#39;hotelid&#39; \\\r\n      , round((rate.s1/money.buy)*euro.sell,0) as &quot;single&quot; \\\r\n      , round((rate.s2/money.buy)*euro.sell,0) as &quot;double&quot; \\\r\n      ,service.Name as &#39;roomtype&#39; \\\r\n      ,stock.alloc - stock.taken as &#39;stock.available&#39; \\\r\n      , contract.notes as &#39;boardType&#39; \\\r\n      , object.name as &#39;occupancy&#39; \\\r\n      ,object.cap as &#39;capacity&#39; \\\r\n      ,object.mincap as &#39;min capacity&#39; \\\r\n      ,stock.date as &#39;date&#39; \\\r\n    from stock stock \\\r\n      inner join rate rate on stock.rateid = rate.id \\\r\n      inner join contract contract on rate.contractid = contract.id \\\r\n      inner join service service on contract.serviceid = service.ID \\\r\n      inner join object object on service.objectid = object.ID \\\r\n      inner join band band on contract.termsid = band.ID \\\r\n      inner join Money money on band.moneyid = money.id \\\r\n      inner join Money euro on euro.Name  = &#39;Euros&#39; \\\r\n    where stock.date &gt; getdate() \\\r\n    and stock.closed = 0 \\\r\n    and (stock.alloc - stock.taken) &gt; 0 \\\r\n    and stock.date &gt; getdate() \\\r\n          and contract.supplierid in (?) \\\r\n          and contract.Finish &gt; GETDATE()\r\n\r\n","title":"Passing an Array to a SQL query using Java&#39;s PreparedStatement","body":"<p>I've been having a little trouble passing an array into a SQL query using Java's prepared statements. I had first tried the sourceforge driver, however I would get the AbstractMethodError when I call setArray method. Not knowing the solution to that I swapped to the Microsoft sqlserver driver, but now I get a different error entirely, which is \"java.sql.SQLFeatureNotSupportedException: This operation is not supported.\" Tried a whole bunch of things to try and resolve this but nothing appears to work.   </p>\n\n<p>My Java code looks similar to examples I've seen here and on the internet, and is as follows,</p>\n\n<pre><code>PreparedStatement ps = connection.prepareStatement(query);\nString[] suppliers = {\"21\",\"2774\",\"120563\",\"3714\",\"59\"};\nps.setArray(1, connection.createArrayOf(\"text\", suppliers));\nResultSet rs = ps.executeQuery();\n</code></pre>\n\n<p>Example of my SQL queries. The only line of real interest is the line before last where I have added the '?' character, which as I understand it is how I pass a parameter to a SQL Query. </p>\n\n<pre><code>productsPrices.query = select contract.supplierid as 'hotelid' \\\n  , round((rate.s1/money.buy)*euro.sell,0) as \"single\" \\\n  , round((rate.s2/money.buy)*euro.sell,0) as \"double\" \\\n  ,service.Name as 'roomtype' \\\n  ,stock.alloc - stock.taken as 'stock.available' \\\n  , contract.notes as 'boardType' \\\n  , object.name as 'occupancy' \\\n  ,object.cap as 'capacity' \\\n  ,object.mincap as 'min capacity' \\\n  ,stock.date as 'date' \\\nfrom stock stock \\\n  inner join rate rate on stock.rateid = rate.id \\\n  inner join contract contract on rate.contractid = contract.id \\\n  inner join service service on contract.serviceid = service.ID \\\n  inner join object object on service.objectid = object.ID \\\n  inner join band band on contract.termsid = band.ID \\\n  inner join Money money on band.moneyid = money.id \\\n  inner join Money euro on euro.Name  = 'Euros' \\\nwhere stock.date &gt; getdate() \\\nand stock.closed = 0 \\\nand (stock.alloc - stock.taken) &gt; 0 \\\nand stock.date &gt; getdate() \\\n      and contract.supplierid in (?) \\\n      and contract.Finish &gt; GETDATE()\n</code></pre>\n"},{"tags":["java","user-input","roles"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670533689,"post_id":74736297,"comment_id":131902937,"body_markdown":"I would use a print statement before the if statement, see what the value is before reaching the if statement, then put print statements in each branch of your if statement. Then, you can know if the problem is that the if statement branch isn&#39;t being reached, or if the method to create the page isn&#39;t working","body":"I would use a print statement before the if statement, see what the value is before reaching the if statement, then put print statements in each branch of your if statement. Then, you can know if the problem is that the if statement branch isn&#39;t being reached, or if the method to create the page isn&#39;t working"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670574960,"post_id":74736297,"comment_id":131910262,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27194499,"reputation":1,"user_id":20727628,"display_name":"Hamse Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670533368,"creation_date":1670533368,"question_id":74736297,"body_markdown":"this is my code...\r\n   \r\n\r\nroles.id=txtid.getText();\r\n        \r\n     if((roles.id.equals(&quot;admin&quot;))||(roles.id.equals(&quot;assistant&quot;))){\r\n           \r\n           main mn= new main();\r\n           mn.setVisible(true);\r\n        }\r\n         else if(roles.id.equals(&quot;user&quot;)){\r\n      //      mn.setVisible(false);\r\n            \r\n            EmpSearch es= new EmpSearch();\r\n            es.setVisible(true);\r\n         \r\n        \r\n    }\r\n       \r\n\r\nI am expecting if the user role is &quot;Admin&quot; or &quot;Assistant&quot; to go the Main Form, but when it is &quot;user&quot; to go the EmpSearch form but the Login form goes and nothing comes. ","title":"Hello. I want to create a Role-Based Access Control in my Login. When I put the following code in the another form it is working but here it&#39;s not","body":"<p>this is my code...</p>\n<p>roles.id=txtid.getText();</p>\n<pre><code> if((roles.id.equals(&quot;admin&quot;))||(roles.id.equals(&quot;assistant&quot;))){\n       \n       main mn= new main();\n       mn.setVisible(true);\n    }\n     else if(roles.id.equals(&quot;user&quot;)){\n  //      mn.setVisible(false);\n        \n        EmpSearch es= new EmpSearch();\n        es.setVisible(true);\n     \n    \n}\n   \n</code></pre>\n<p>I am expecting if the user role is &quot;Admin&quot; or &quot;Assistant&quot; to go the Main Form, but when it is &quot;user&quot; to go the EmpSearch form but the Login form goes and nothing comes.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670458722,"post_id":74724181,"comment_id":131883290,"body_markdown":"Please edit your question and add the full stack trace.","body":"Please edit your question and add the full stack trace."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1670458919,"post_id":74724181,"comment_id":131883319,"body_markdown":"Is that the exact error, and the exact code?  Your code appears to call the stubbed method 3 times, not 6.  Your `verify` indicates that you&#39;re expecting 3 calls, not 5.  What aren&#39;t you showing us?","body":"Is that the exact error, and the exact code?  Your code appears to call the stubbed method 3 times, not 6.  Your <code>verify</code> indicates that you&#39;re expecting 3 calls, not 5.  What aren&#39;t you showing us?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1670458961,"post_id":74724181,"comment_id":131883325,"body_markdown":"The `chain` variable is not declared inside the method - are you certain it isn&#39;t used elsewhere?","body":"The <code>chain</code> variable is not declared inside the method - are you certain it isn&#39;t used elsewhere?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1670459073,"post_id":74724181,"comment_id":131883349,"body_markdown":"Also, what on earth is `myServiceEng`?  You can&#39;t do `when` on a mock, then a whole lot of other Mockito-ish stuff, and the `thenReturn` later.  Mockito&#39;s not designed to cope with that.","body":"Also, what on earth is <code>myServiceEng</code>?  You can&#39;t do <code>when</code> on a mock, then a whole lot of other Mockito-ish stuff, and the <code>thenReturn</code> later.  Mockito&#39;s not designed to cope with that."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1670459400,"post_id":74724181,"comment_id":131883408,"body_markdown":"I doubt that the code presented is the code causing the exception. I see nothing that indicates a wanted-count of 5. As @tgdavies said: please [edit] the post and add the stack trace. Also, please ensure that the code is compiled.","body":"I doubt that the code presented is the code causing the exception. I see nothing that indicates a wanted-count of 5. As @tgdavies said: please <a href=\"https://stackoverflow.com/posts/74724181/edit\">edit</a> the post and add the stack trace. Also, please ensure that the code is compiled."},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1670525903,"post_id":74724181,"comment_id":131900772,"body_markdown":"I updated the question to simplify and provide more detail.  I think the confusion comes from my limited understanding of Mockito.  I am used to AAA pattern where (to my remembering) mock is used to help test run, whereas sut (subject under test) is what you do asserts against.  But it looks like with Mockito, you simply use mocks to do both.  Anyways, regardless, I modify the question, thank you","body":"I updated the question to simplify and provide more detail.  I think the confusion comes from my limited understanding of Mockito.  I am used to AAA pattern where (to my remembering) mock is used to help test run, whereas sut (subject under test) is what you do asserts against.  But it looks like with Mockito, you simply use mocks to do both.  Anyways, regardless, I modify the question, thank you"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1670526916,"post_id":74724181,"comment_id":131901064,"body_markdown":"Mocks don&#39;t &quot;test&quot; anything. They stand in for services/components that the code being tested uses to simulate behaviours of those services/components needed for the test.","body":"Mocks don&#39;t &quot;test&quot; anything. They stand in for services/components that the code being tested uses to simulate behaviours of those services/components needed for the test."}],"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670533123,"creation_date":1670458254,"question_id":74724181,"body_markdown":"**UPDATED QUESTION TO CLARIFY**\r\n\r\nI have a class with a void method.  This method will call a service which will lock user after X failed attempts to unlock a door.\r\n\r\nHere are my classes:\r\n\r\n```java\r\n@Stateless(name = &quot;DoorServiceEjb&quot;)\r\npublic class DoorServiceEjb {\r\n    private static final int EXPIRY_PERIOD = 1;\r\n    private static final int MAX_ATTEMPTS = 3;\r\n\r\n    private LoadingCache&lt;String, Integer&gt; attemptsCache;\r\n\r\n    public DoorServiceEjb() {\r\n        super();\r\n        attemptsCache = CacheBuilder\r\n            .newBuilder()\r\n            .expireAfterWrite(EXPIRY_PERIOD, TimeUnit.MINUTES)\r\n            .build(new CacheLoader&lt;String, Integer&gt;() {\r\n                       @Override\r\n                       public Integer load(String key) throws Exception {\r\n                           return 0;\r\n                       }\r\n                   }\r\n            );\r\n    }\r\n\r\n    public boolean isLockedOut(String key) {\r\n        try {\r\n            boolean returnValue = attemptsCache.get(key) &gt;= MAX_ATTEMPTS;\r\n            return  returnValue;\r\n        }catch (ExecutionException e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Door {\r\n\r\n    @EJB(beanName = &quot;DoorServiceEjb&quot;)\r\n    private DoorServiceEjb doorServiceEjb;\r\n\r\n    public void unlock(String user) {\r\n        if (doorServiceEjb.isLockedOut(user)) {\r\n            throw new RuntimeException(&quot;Locked&quot;);\r\n        }\r\n\r\n        // Do something else\r\n    }\r\n}\r\n```\r\n\r\nI am expecting that `unlock()` method to throw RuntimeException if user attempts to call it with invalid username 3 or more times.\r\n\r\n**MY QUESTIONABLE SOLUTION**\r\n\r\nHere is my solution to test but I am not sure if this is correct.  I was always under impression that asserts and verifications are called always against @InjectMock objects (called subject under test) whereas @Mock objects are just used to mock internal dependencies inside @InjectMock object (basically, they are used to help test setup and run).\r\nMy solution, on the contrary, does not use @InjectMock at all and does verify and assert against @Mock object.\r\n\r\nAnd finally, it still fails because last assert fails.\r\n\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class DoorTest {\r\n\r\n    @Mock\r\n    private Door door;\r\n\r\n    @Test\r\n    public void test_3FailedUnlockAttempts_ShouldLock() {\r\n\r\n        Mockito.doNothing().doNothing().doThrow(RuntimeException.class).when(door).unlock(anyString());\r\n\r\n        door.unlock(anyString());\r\n        door.unlock(anyString());\r\n\r\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; {\r\n            door.unlock(anyString()); // should throw RuntimeException\r\n        });\r\n\r\n        Mockito.verify(door, times(3)).unlock(anyString());\r\n        \r\n   //this fails, the exception message is null rather than &quot;Unlocked&quot;\r\n  Assertions.assertTrue(exception.getMessage().contains(&quot;Locked&quot;));\r\n    }\r\n}\r\n```\r\n","title":"Mockito test to throw RuntimeException on 3rd call to a void method","body":"<p><strong>UPDATED QUESTION TO CLARIFY</strong></p>\n<p>I have a class with a void method.  This method will call a service which will lock user after X failed attempts to unlock a door.</p>\n<p>Here are my classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless(name = &quot;DoorServiceEjb&quot;)\npublic class DoorServiceEjb {\n    private static final int EXPIRY_PERIOD = 1;\n    private static final int MAX_ATTEMPTS = 3;\n\n    private LoadingCache&lt;String, Integer&gt; attemptsCache;\n\n    public DoorServiceEjb() {\n        super();\n        attemptsCache = CacheBuilder\n            .newBuilder()\n            .expireAfterWrite(EXPIRY_PERIOD, TimeUnit.MINUTES)\n            .build(new CacheLoader&lt;String, Integer&gt;() {\n                       @Override\n                       public Integer load(String key) throws Exception {\n                           return 0;\n                       }\n                   }\n            );\n    }\n\n    public boolean isLockedOut(String key) {\n        try {\n            boolean returnValue = attemptsCache.get(key) &gt;= MAX_ATTEMPTS;\n            return  returnValue;\n        }catch (ExecutionException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Door {\n\n    @EJB(beanName = &quot;DoorServiceEjb&quot;)\n    private DoorServiceEjb doorServiceEjb;\n\n    public void unlock(String user) {\n        if (doorServiceEjb.isLockedOut(user)) {\n            throw new RuntimeException(&quot;Locked&quot;);\n        }\n\n        // Do something else\n    }\n}\n</code></pre>\n<p>I am expecting that <code>unlock()</code> method to throw RuntimeException if user attempts to call it with invalid username 3 or more times.</p>\n<p><strong>MY QUESTIONABLE SOLUTION</strong></p>\n<p>Here is my solution to test but I am not sure if this is correct.  I was always under impression that asserts and verifications are called always against @InjectMock objects (called subject under test) whereas @Mock objects are just used to mock internal dependencies inside @InjectMock object (basically, they are used to help test setup and run).\nMy solution, on the contrary, does not use @InjectMock at all and does verify and assert against @Mock object.</p>\n<p>And finally, it still fails because last assert fails.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class DoorTest {\n\n    @Mock\n    private Door door;\n\n    @Test\n    public void test_3FailedUnlockAttempts_ShouldLock() {\n\n        Mockito.doNothing().doNothing().doThrow(RuntimeException.class).when(door).unlock(anyString());\n\n        door.unlock(anyString());\n        door.unlock(anyString());\n\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; {\n            door.unlock(anyString()); // should throw RuntimeException\n        });\n\n        Mockito.verify(door, times(3)).unlock(anyString());\n        \n   //this fails, the exception message is null rather than &quot;Unlocked&quot;\n  Assertions.assertTrue(exception.getMessage().contains(&quot;Locked&quot;));\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9170,"page":822,"page_size":100}
